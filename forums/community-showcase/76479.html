<!DOCTYPE html><html lang="en" ><head ><title >Small miniB3D extended 2 Video</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Small miniB3D extended 2 Video</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Small miniB3D extended 2 Video</a><br><br>
<a name="855178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing big but it shows miniB3D extended 2 in action with Newton and Shadows enabled. This is a stresstest on my more or less low system. But for these test I think it is a good framerate + it is recorded.<br><br><a href="http://s2.photobucket.com/albums/y48/klepto2/miniB3D/?action=view&amp;current=Newtonandminib3dExplosion.flv" target="_blank">http://s2.photobucket.com/albums/y48/klepto2/miniB3D/?action=view&amp;current=Newtonandminib3dExplosion.flv</a> <br><br></td></tr></table><br>
<a name="855187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks very interesting and quite performant for that many objects with realtime shadows on single core<br><br>Can't wait to get my hands on it.<br><br>What are the system specs of the test system? <br><br></td></tr></table><br>
<a name="855199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> the specs are AMD Athlon 64 3200+ ATI X800Pro (Catalyst 8.2) and 1 GB Ram. <br><br>We expect to have a big speed inrease as soon as we have integrated back the shadersystem. Then there is an option to create the Volumes via Shader which already worked on the cancelled extended Version. <br><br></td></tr></table><br>
<a name="855220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> shadowmapping, nice :)<br>Yupp definitely will speed it up on systems with enough shader units to do it that way :D <br><br></td></tr></table><br>
<a name="855225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, not shadowmapping ;) well shadowmapping will also be included but it will be stencilshadows with volumes created by GPU instead of CPU. <br>This just needs a one time calculation of neighbor triangles and creating some new as I'm not able to use Geometryshaders but the rest is done by the GPU. <br><br></td></tr></table><br>
<a name="855228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboom</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will you be able to use multicores then? Would be nice to be able to flag certain effects to use the second core if its present (if thats possible)<br><br>This is a complete rewrite isn't it, not based on the existing minib3d? Maybe you should consider a new name, just so its not confusing. <br><br></td></tr></table><br>
<a name="855231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The multicore system is integrated within the Newton Archimedea Beta version. So main miniB3D will be single threaded but the physics could be multithreaded. <br><br>The main core of this is the old minib3d 0.452 it is just new organized and optimized in some parts. More optimizations will be done after we have a stable version ready. As you see this is not a complete rewrite, I would it call a reorganization. <br><br></td></tr></table><br>
<a name="855267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> AMD Athlon 64 3200+ ATI X800Pro (Catalyst 8.2) and 1 GB Ram<br><br>Is that a low end system? I should hope not. Not from what i've seen in the shops/online etc etc.<br><br>Sounds great though! It's the one thing i'd get blitz max for. Had my eye on it for a while :o) <br><br></td></tr></table><br>
<a name="855272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats pretty medium/low end for a gaming pc. <br><br></td></tr></table><br>
<a name="855291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The multicore system is integrated within the Newton Archimedea Beta version. So main miniB3D will be single threaded but the physics could be multithreaded. <br></div><br>I'd caution against it. In my experience, BlitzMax gets crashy if you link to a multi-threaded library. <br><br></td></tr></table><br>
<a name="855294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking good, funny the fps increases around the middle of the video. <br><br></td></tr></table><br>
<a name="855370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> not bad ;) <br><br>cool klepto <br><br></td></tr></table><br>
<a name="855403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will put a small app together as soon as possible for testing the multithreading. As far as I know the problems with  multithreading should only occure if it is BMax which handles the things, but in this case the whole threadthing with GC and other things is completely independent from BMax and is all done via the lib. So (even if I couldn't test it) it should work. <br><br></td></tr></table><br>
<a name="855509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> glad this is still being worked on, looks good! <br><br></td></tr></table><br>
<a name="855511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> As far as I know the problems with multithreading should only occure if it is BMax which handles the things, but in this case the whole threadthing with GC and other things is completely independent from BMax and is all done via the lib. So (even if I couldn't test it) it should work.<br> <br></div><br>Yeah, that's what I thought too. But even the GC is not involved, BMax gets crashy, and it only happens on some systems, and only at some times. It's very unpredictable, and can easily slip by unnoticed. It slipped past me unnoticed anyway, it was only when it went out for testing that I realized something was wrong. Disabled multithreading and sure enough, all was solved. <br><br></td></tr></table><br>
<a name="855569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >squareiris</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> klepto2, that's very impressive. Considering the hardware of the testing system and the fact that the module will be multiplatform I can't wait to get my hands on it ^^ <br><br></td></tr></table><br>
<a name="855574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> The GC only gets crashy on multithreading if you have shared data ... that means: operate on BM data in C or have Callbacks<br><br>Otherwise its save to use threads.<br>The main point is that all stuff that runs in its own thread in C / C++ must be wrapped into a "manager". that manager is just an interface for BM to call. Like "eventwaiting()" and "retrieveevent" and the like. Those calls must run in the same thread as BM.<br><br>then you are out of problems.<br><br>by the way: just ordered a MacBook Pro Peryn based, so soon I'll be able to test that stuff on OSX as well :) (it will replace my old systems which are currently offered on ricardo) <br><br></td></tr></table><br>
<a name="855585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The GC only gets crashy on multithreading if you have shared data ... that means: operate on BM data in C or have Callbacks <br></div><br>Yeah, you keep thinking that, and when you start getting random crash reports from people who are using your creations, don't say I didn't warn you. <br><br></td></tr></table><br>
<a name="855616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well do you have an example where it crashed while using a library that used thread and offered a non threaded interface for BM?<br><br>The second part is what normally is missing because you must not interact with the threads or functionality / data used by the threads at all.<br>BM is only allowed to access that that exist within the "calling function execution layer", not within the other library threads.<br>Simply said: All data used by the threads and not guaranteed to be not used anymore must be cloned for BM to be used by it. Otherwise you will run into the problem where the GC access data used by the library -&gt; boom<br><br>So far, all reports I've seen here have been related to Callbacks for threaded libraries (sound libraries seem to be the most common here) used within BM, which logically is a big no no and objects sent to librarys by converting them to byte ptr instead of replicating the data into a memory by using memcopy and sending that one (as memory can be allocated unmanaged and thus beeing untouched by BM)<br><br>I've never believed that the GC commands (resume suspend etc) actually make a difference on the thread safeness and I don't think they are fully implemented as the "compile to dll feature" never made it into BM officially. Its still an instable feature and so are its base commands. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
