<!DOCTYPE html><html lang="en" ><head ><title >Tank Universal 2</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tank Universal 2</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Tank Universal 2</a><br><br>
<a name="1087161"></a>

<a name="1087162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Le pimpage. Blitzmax + Xors3d.<br><br><img src="http://www.tankuniversal.com/images/SCREEN2.JPG"><br><br><a href="http://www.tankuniversal.com/forum/viewtopic.php?f=10&amp;t=262" target="_blank">http://www.tankuniversal.com/forum/viewtopic.php?f=10&amp;t=262</a><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1087245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grindalf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow that looks awesome :D <br><br></td></tr></table><br>
<a name="1087279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yes, very sweet - nice eye candy. <br><br></td></tr></table><br>
<a name="1087283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Oh yes, very sweet - nice eye candy. <br> <br></div><br><br>Totally agree... My eyes have put on a stone looking at that... Great work! :D<br><br>Dabz <br><br></td></tr></table><br>
<a name="1087289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Impressive as always, keep up the good work. <br><br></td></tr></table><br>
<a name="1087297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice!!!!<br><br>Any chance of a teaser trailer soon, or gameplay video?!!<br><br>Well done Madjack, I know how much time you invested in this!. Good luck dude! <br><br></td></tr></table><br>
<a name="1087299"></a>

<a name="1087300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sung</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow!<br>I like the first Tank Universal.<br>Keep up the good work.<br><br>Btw - Tank Universal is the better TRON ;)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1087314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the comments. Certainly another long road to go down. But having gotten the first one out, I'm optimistic I can sort the sequel too. As long as RealLife(tm) doesn't nobble me.<br><br>Regards a video, I'm hoping to start posting test builds in the relatively near future. Ultimate aim is to have everything solidly user tested by the time I'm ready to approach Steam again. <br><br></td></tr></table><br>
<a name="1087321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent, I am open to betatesting ;)  Oh and does TU2 use Xors3D AND Bmax or is the base language still Blitz3D?  Cheers, great work done! <br><br></td></tr></table><br>
<a name="1087367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> BMax is the base language. <br><br>Need the extra speed over Blitz3d. <br><br></td></tr></table><br>
<a name="1087382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool atmosphere you got going on there!<br><br>Do you plan on writing a guide or tutorial on your experience working with the SteamWorks SDK?<br>I'm sure there'll be a lot of people interested in that. <br><br></td></tr></table><br>
<a name="1087393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you plan on writing a guide or tutorial on your experience working with the SteamWorks SDK? <br></div><br>Err - no?<br><br>I managed to avoid having to deal too much with the guts of the SDK by using Simon's Steam wrapper and only worrying about achievements. Beyond that, it was a matter of learning how to compile to a 'depot' using the supplied apps and testing and uploading to Valve. <br><br></td></tr></table><br>
<a name="1087513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Madjack,<br><br> how would you describe Xors3D current state?  Would you recommend it at this point.. I know you have been there a long time helping find bugs in the engine.. would you say the engine is pretty much complete now ? <br><br></td></tr></table><br>
<a name="1087536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> RR<br><br>My impression is that the core engine is pretty stable at this point. The major bugs - at least involving the commands that pretty much equal Blitz3d's command set - have been squashed. The proviso here is that I have yet to release much 'into the wild' to see how Xors holds up on a lot of different configs. My suspicion though is that without getting into complex shaders, compatibility will be high - but I've yet to confirm that. <br><br>On the other hand, there's a few things I'm waiting to see;<br><br>The shadow system is functional but needs reorganisation. Squid has mentioned looking at that.<br><br>Point particles are implemented and are very fast, but documentation is poor/incomplete and there's probably bugs lurking. Nobody seems to be doing much with particles at the moment. I'm still relying on ParticleCandy but will need to move to point sprites for the speed. Xors is slow at creating meshes on the fly so PC's single surface system suffers speedwise.<br><br>The big hang out for me (and others I think) is better integration of Bullet Physics - in particular, collision groups and filtering (note that there is a Blitz like collision system available as well). If the Xors team can pull that off then it'll be very nice.<br><br>So to sum up. Xors + Bmax is a good solution for people like me (and I'm not that slick as a programmer frankly) who want to move on from Blitz3d to a DX9 solution using BlitzMax, but want to retain the Blitz3d syntax. I suspect it's a bit rougher around the edges than Leadwerks but it is very usable at present. With the fixes mentioned above, it'll be a complete engine. <br><br></td></tr></table><br>
<a name="1087743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stu_ovine</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Id agree, the Xors3D engine is very stable.  There are areas of work as MadJack has pointed out , also the  re-inclusion of deferred lighting which was in but was taken out grrrrrr.<br><br>Its nice having a blitz3D style engine that supports shaders ..... <br><br></td></tr></table><br>
<a name="1087768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tab</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> how would you describe Xors3D current state?  <br></div><br>Xors3D at the moment is 100% useable on a full project.  The B3D command set is working 99% ( I leave the 1% if i am missing something )... and with the future implementation of Bullet Physics, the engine will be one of the best choices if you want to develop indie games and maybe something bigger.<br><br>And a big point is that .Squid always take in consideration our requests.<br><br>I made a lot of investigation on Xors3D, and I have 2 full games working on the engine and 1 tech demo that is in development. <br><br></td></tr></table><br>
<a name="1087796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tab<br><br>Are you working with the Xors particle commands? <br><br>if so, how are you finding them? Are they complete enough? <br><br></td></tr></table><br>
<a name="1087797"></a>

<a name="1087801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tab</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use my own particle code to be 100% free.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1087809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> You mean a custom single mesh/quad system? <br><br>You're not using Xors' built-in point sprite commands? <br><br></td></tr></table><br>
<a name="1087851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice.  Has Tank Universal been really successful for you? <br><br></td></tr></table><br>
<a name="1087893"></a>

<a name="1087894"></a>

<a name="1087895"></a>

<a name="1087896"></a>

<a name="1087897"></a>

<a name="1087898"></a>

<a name="1087899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> GA<br><br>Well, Steam takes 40% of the sale price and then the publisher takes 50% of that, so it has made a reasonable whack of money but realistically, I've not seen most of that. It certainly hasn't made enough for me to go give up the day job and realistically, has not returned on the intial time investment. On the other hand, a good whack of the first game's dev time was spent going down blind alleys because I had no set design to follow, dealing with tech problems that have been solved due to better tools becoming available to the indie and just generally learning the ropes. <br><br>However it has set up a 'brand' that I may yet be able to fully capitalise on.<br><br>And to be fair to the publishers, the game would never have gotten onto Steam initially (at least, not back in 2008) without their backing and they've pushed it in other channels that I'd have no access to normally - but still, it's food for thought. Also, my impression is that Steam has become more open to 'private' indie game publishing in the meantime.<br><br>We'll see.<br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1087902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tab</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You mean a custom single mesh/quad system?  <br></div><br>A simple instanced quad system is ultra fast to do anything.<br><br><div class="quote"> You're not using Xors' built-in point sprite commands? <br></div><br>Nop, i always try to leave alone any type of "build-in" system. <br><br></td></tr></table><br>
<a name="1087903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> A simple instanced quad system is ultra fast to do anything. <br></div>Well you know what the next question is don't you?<br><br>Would you be ok with making your system available to other Xors users at some point and form? ;-) <br><br></td></tr></table><br>
<a name="1087906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Madjack: Thanks for the info!  Sorry to hear it's not made you a ton of money, but it's good that you have the brand and the tech now to reuse and capitalise on.  Yep agree that Steam is kinda more open to indies now, but you still have to have something pretty special that strikes a chord with their demographic. <br><br></td></tr></table><br>
<a name="1087922"></a>

<a name="1087923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tab</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Would you be ok with making your system available to other Xors users at some point and form? ;-) <br></div><br>Sure, I only need some free time to polish the particle system to make it more friendly user.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1088382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ervin</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Madjack - this is looking absolutely fantastic.<br><br>I loved the first one (bought it twice - both before and after the steam release), and I've played through it a few times.<br><br>Do you need any beta testers? <br><br></td></tr></table><br>
<a name="1088503"></a>

<a name="1088504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you need any beta testers?  <br></div><br>Yes - I'm hoping to get builds out soon.<br><br>Trouble is work is starting to get in the way. One of the designers at work is leaving for 6 months to look after his new baby. <br><br>Management are going to bring in an intern-bot as a stop gap but it's going to be a sh*tstorm. <br>I swear, if I hear another person say 'and we need it ASAP please' I'm going to defenestrate them.<br><br>Bloody kids! It's not even mine and its affecting my game dev time! And it's not like there aren't enough of the little ankle-biters in the world. Very unhappy.<br><br>&lt;rant mode off&gt;<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1088505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> MJ,<br><br> sorry to use your thread to ask this but I cannot post on xors page as im just trying the demo out..<br><br>is there a way to get xentityalpha to work on instanced objects?  so far I cannot get it to work.  I had to use the tex0.png from the instancing2 example to get xentitycolor to work on them... any thoughts on xentityalpha ?<br><br>Thanks <br><br></td></tr></table><br>
<a name="1088506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> RR<br><br>It's one of those areas in Xors I've put to one side frankly.<br> <br>I was finding xentityautofade was 'resetting' any specific fade value applied to an entity or its children.<br><br>Regards instances, I gave them a go last night for the first time when tweaking my distant scenery and the command failed to work. not sure what the story with instance and alpha is.<br><br>I'll post your query on the Xors site myself. <br><br></td></tr></table><br>
<a name="1088507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK registration on the forums is free for anyone. I myself posted there without being a customer. <br><br></td></tr></table><br>
<a name="1088511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kryzon, didnt realise that, thanks. <br><br></td></tr></table><br>
<a name="1088513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> RR<br>Would be better then if you made your own post - talk directly to Squid etc.. <br><br></td></tr></table><br>
<a name="1088939"></a>

<a name="1088941"></a>

<a name="1088942"></a>

<a name="1088943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks.. we got it sorted.   MJ, wasnt there a B3D -&gt; XORS code converter at one point.  I want to convert SpriteCandy and SpriteCandy GUI but am not looking forward to a long manual edit.<br><br>I also have diffused color+alpha working in the shader, heres the shader im using now (faster than xcopyenttiy) but I have to use entityblend 3 or 4 for the alpha to fade as smoothly as expected.  <br><br><pre class=code>
// view * projection matrix
float4x4 viewProjMatrix : MATRIX_VIEWPROJ;

// texture matrix
float4x4 textureMatrix : MATRIX_TEXTURE0;

// entity diffuse texture
texture diffuseTexture : TEXTURE_0;

//NEW Pixel shader options
bool no_light_influence;

// texture filtering
int filtering       : TEXTURE_FILTERING;
int anisotropyLevel : ANISOTROPY_LEVEL;

// light data
float4 lightColor     : LIGHT0_COLOR;
float3 lightDirection : LIGHT0_DIRECTION;
float4 ambientColor   : COLOR_AMBIENT;

// entity diffuse sampler
sampler samplerDiffuse = sampler_state
{
    Texture       = &lt;diffuseTexture&gt;;
    ADDRESSU      = WRAP;
    ADDRESSV      = WRAP;
    ADDRESSW      = WRAP;
    MAGFILTER     = filtering;
    MINFILTER     = filtering;
    MIPFILTER     = filtering;
    MAXANISOTROPY = anisotropyLevel;
};

// Input VS structure
struct VSInput
{
   float4 position  : POSITION0;
   float2 texCoords : TEXCOORD0;
   float3 normal    : NORMAL;
   float4 matrixC1  : TEXCOORD2;
   float4 matrixC2  : TEXCOORD3;
   float4 matrixC3  : TEXCOORD4;
   float4 diffColor   : TEXCOORD5;
};

// Output VS structure
struct VSOutput
{
   float4 position  : POSITION0;
   float2 texCoords : TEXCOORD0;
   float3 normal    : TEXCOORD1;
   float4 diffColor : TEXCOORD5;
};

// Vertex shader for hardware instancing
void VSMain(in VSInput IN, out VSOutput OUT)
{
   // restore world matrix for instance
   float4x4 worldMatrix;
   worldMatrix[0] = float4(IN.matrixC1.x, IN.matrixC2.x, IN.matrixC3.x, 0.0f);
   worldMatrix[1] = float4(IN.matrixC1.y, IN.matrixC2.y, IN.matrixC3.y, 0.0f);
   worldMatrix[2] = float4(IN.matrixC1.z, IN.matrixC2.z, IN.matrixC3.z, 0.0f);
   worldMatrix[3] = float4(IN.matrixC1.w, IN.matrixC2.w, IN.matrixC3.w, 1.0f);
   // transform position
   OUT.position  = mul(IN.position,  worldMatrix);
   OUT.position  = mul(OUT.position, viewProjMatrix);
   OUT.normal    = normalize(mul(IN.normal, worldMatrix));
   OUT.texCoords = mul(IN.texCoords, textureMatrix);
   // diffuse color NEW
   OUT.diffColor = IN.diffColor;
}

// Pixel shaders
float4 PSMain(in VSOutput IN) : COLOR
{
   float4 diffuse = tex2D(samplerDiffuse, IN.texCoords) * IN.diffColor;
   float4 result  = ambientColor * diffuse + (diffuse * saturate(dot(IN.normal, -lightDirection)) * lightColor);
   return float4(result.xyz, diffuse.w);
}

// Unlit pixel shader
float4 PSMain_Unlit(in VSOutput IN) : COLOR
{
   return tex2D(samplerDiffuse, IN.texCoords) * IN.diffColor;
}

//  Technique
technique Instancing
{
   pass p0
   {
      AlphaBlendEnable = 0;
      CullMode         = CCW;
      VertexShader     = compile vs_2_0 VSMain();
      PixelShader      = compile ps_2_0 PSMain();
   }
}

//  Technique with alpha
technique Instancing_alpha
{
   pass p0
   {
      SrcBlend = SrcAlpha;
     	DestBlend = InvSrcAlpha;
      AlphaBlendEnable = 1;
      CullMode         = NONE;
      VertexShader     = compile vs_2_0 VSMain();
      PixelShader      = compile ps_2_0 PSMain();
   }
}

//  Technique for unlit rendering
technique Instancing_Unlit
{
   pass p0
   {
      AlphaBlendEnable = 1;
      CullMode         = CCW;
      VertexShader     = compile vs_2_0 VSMain();
      PixelShader      = compile ps_2_0 PSMain_Unlit();
   }
}
</pre><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1089009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> RR<br><br>Converter at;<br><a href="http://area.xors3d.com/forums/viewtopic.php?f=30&amp;t=346" target="_blank">http://area.xors3d.com/forums/viewtopic.php?f=30&amp;t=346</a><br><br>Regards converting SC to Xors, one thing to know is that Xors default camera FOV is less than Blitz's 90 degrees, possibly 65 degrees for Xor? - so you'll need to tweak that. <br><br></td></tr></table><br>
<a name="1089012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think squid said that if you do a <br>XCameraZoom 0 , it will mimick b3d camerazoom<br><br>BTW,  you screenshots look nice.   I cant wait to see the next demo or video. I always thought what you did in B3D looked great as well. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
