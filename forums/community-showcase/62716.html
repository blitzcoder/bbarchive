<!DOCTYPE html><html lang="en" ><head ><title >Leadwerks Engine LOD demo</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Leadwerks Engine LOD demo</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Leadwerks Engine LOD demo</a><br><br>
<a name="700647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use the .bat file to run the exe.  Adjust the "Model Detail" setting to see the low-res models:<br><a href="http://www.leadwerks.com/files/LODTest.zip" target="_blank">http://www.leadwerks.com/files/LODTest.zip</a><br><br>OpenAL is required:<br><a href="http://www.leadwerks.com/files/OpenALwEAX.exe" target="_blank">http://www.leadwerks.com/files/OpenALwEAX.exe</a><br><br><img src="http://www.leadwerks.com/post/screenshot012.jpg"> <br><br></td></tr></table><br>
<a name="700735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone had a go on this yet?<br><br>Come along - shake-a-leg people. <br><br></td></tr></table><br>
<a name="700797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't mind.  It will grow slowly, but I am doing this right from the ground up.  I'm just putting out a few beta demos to showcase various features as I add them. <br><br></td></tr></table><br>
<a name="700798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WedgeBob</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I feel another Counter-Strike coming on, or Half-Life style games off of this. <br><br></td></tr></table><br>
<a name="700895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Curious - what kind of machine are you targetting that LOD is a viable technology?  Most games don't bother anymore because it's ultimately faster to just throw triangles at the card than it is to try and figure out distances and LOD levels.<br><br>Generally, performance levels out once you drop below 200 triangles or so (probably higher these days) so LOD models really won't be giving you much of a speed boost, especially with Half-Life style geometry. <br><br></td></tr></table><br>
<a name="700964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree that in practice you don't really need to create low-res versions of a 256-poly model.  I just used the barrel model for testing.  You would probably only bother with a low-res model for models that are at least maybe 1500 triangles.<br><br>LOD isn't just for rendering speed;  It can speed up mesh collision and lightmapping as well.  It's also nice to have a "Model detail" setting, which just chooses a lower-res LOD model.<br><br>Probably my main reason for implementing this is so that future versions of the editor will be able to calculate lightmapping faster, since they can use the low-res models to cast shadows. <br><br></td></tr></table><br>
<a name="700968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Collision speed is a viable use for sure.  One thing you might want to consider with your engine is allowing low res version of meshes to be used for collision detection regardless of which detail level is being drawn.  We do that in Unreal and it works really well. <br><br></td></tr></table><br>
<a name="700974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, I already did that.  There's an option to "Show hitboxes" in the control panel.  To access the control panel, just right-click to release the mouselook, and you can move the mouse around and adjust the settings.  Hitboxes are used for large object collisions, things that don't really collide per triangle, like players.  You can make a model's hitbox out of brushes in the editor, and just save it in the same folder with the same name, plus the suffix "_hit".<br><br>Each model also has a bounding box calculated around it, which by definition encompasses the entire model.  Whenever per-triangle collision is used, like for visibility tests, a test is first run on the bounding box.  If the box test fails, the model is dismissed.<br><br>I think the most interesting and significant aspect I have encountered with this engine is all the flagged update states.  If an object moves, several variables are set to show certain states changed.  Each object then has a build() routine, which updates only the states that show they have been changed.  The build() routine only gets called when those states have to be accurate.  It's like saying "Make sure everything is up to date because I am going to need certain values".<br><br>For instance, if the object moves or rotates, a variable "matrixchanged" is set to "True".  Now let's say I call a transformation routine involving this object.  The build() method is called, which detects that the matrix is changed, which then rebuilds the matrix and sets the variable "matrixchanged" to "false".  I might position and rotate the object ten times before calling a build() routine, and the matrix only gets rebuilt once.  The build() method usually occurs at the beginning of a basic math or transformation routine, so I don't ever have to call it in my main code.  In fact, the build() routine might get called several times in a stack of functions, but it only updates when something has changed.<br><br>I use these state changes for object bounding boxes, global positions, and even lighting changes.  I actually have an object type that stores data for one light and one entity's interaction.  Both the entity and light link to this structure.  If either the entity or light move or change in any way, the lightlink object gets set to a changed state.  The next time the entity is drawn, the change is detected, and the light's affect on the entity is re-evaluated.  Does the light have a clear line of sight to the entity?  What is the falloff of the light and it's distance from the entity?  The lightlink object is then set to a nonchanged state, and is again "dormant".<br><br>The results is very efficient; certain calculations only get performed when a state change has occured, and they only get performed when accurate data is needed.  If nothing is moving, very little processing occurs.  If something moves, it gets updated once and reset to a "nonchanged" state. <br><br></td></tr></table><br>
<a name="701040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I had a go today and it looks fab.  Setting the vertical sync makes it look soooo smooth its wicked!<br><br>I have 3dws and the engine and I am trying to understand the hows and whys and where fores so I can put a small map together utilising as many features as possible to see what a level could look like.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="701045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice demo Josh, this is Blitzmax right? I believe Blitz3D uses a similar flagged update system (for some things at least).<br><br>Warren: F.E.A.R Combat wouldn't be as playable on my PC if it didn't have options to reduce detail levels. The same applies for my neighbour. It does matter :)<br><br>It's down to the cost of high end GFX cards. You're average Joe (me included) can't justify spending £300 every few months. <br><br></td></tr></table><br>
<a name="701051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Warren: F.E.A.R Combat wouldn't be as playable on my PC if it didn't have options to reduce detail levels. The same applies for my neighbour. It does matter :) <br></div><br>Well, that's not quantifiable without knowing what "reduce detail levels" means in FEAR.  Is it actually using lower polygon models or is it doing something else?  Lower screen res, lower res textures, less geometry entirely, etc? <br><br></td></tr></table><br>
<a name="701069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I remember right, it caters for both character detail and a smart mode where it removes non-essential geometry/entitys when performance drops.<br><br>There's a features you should add Josh ^ <br><br></td></tr></table><br>
<a name="701073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >polygoon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tried it and it's really rather nice.<br><br>I got 30 fps no problem with everything on, and it just started to chug on 8X AA and 4X anis. but 4X for both was just fine with everything else maxed. This on a 1.8a P4 with one gig and a £29 FX5500 dabsvalue own brand card! Not bad frankly, not bad at all! ;O)<br><br>I'll maybe try it on the main machine at some point too. I'd like to try some of my own models in it myself, but I don't know if I can have an artwork path to this sadly. Now if it eat directX or maybe somethng widely in use in the 3d world... I'd have to guess it may use a format more widely used in the 3d games world, but I know it not! I got LW and DeepEx, but I don't think it stretches quite this far, regrettably.<br><br>Nice work. <br><br></td></tr></table><br>
<a name="701106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dripht</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's really disappointing that you couldn't get your real-time shadows working as you'd hoped. I've been following your topics about the engine since you started, and now you're talking about using LOD to aid in lightmapping? Bah, that really sucks. It's obvious that you're shooting for realism here. I just wish you'd ditch relying on lightmaps and try to get your stencil shadows worked out. Light &amp; shadow should be dynamic. <br><br></td></tr></table><br>
<a name="701122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> post*2.0 <br><br></td></tr></table><br>
<a name="701123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I actually did complete my stencil shadow routine.  I decided against using it, because current hardware cannot handle it well.  I had to choose between an engine with stencil shadows that could only handle tiny corridors, and an engine with projected shadows that can handle huge areas.<br><br>I decided to go with the latter.  I think it's more widely useful, and the graphics look better. <br><br></td></tr></table><br>
<a name="701135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, stencils are problematic... CSM would be the best choice today for shadows, but I too think that even projected shadows are better than stencils in most cases. Still haven't tried your demo though 'cause I'm on my laptop now. <br><br></td></tr></table><br>
<a name="701951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> The word Dynamic is mispelled in "Dyanamic Shadows".  Looks like you finally got some very accurate mouselook code too.<br><br>Also, the wire frame mode isn't really true wireframe.  It's not showing all wires.  So I guess it's "pseudo-wireframe"!<br><br>It has to be blitzmax because well...we know it's not Blitz3d and Josh isn't the C++ type. <br><br></td></tr></table><br>
<a name="701955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, it is showing all the lines.  You're thinking in terms of triangle meshes, which BSP solids are not. <br><br></td></tr></table><br>
<a name="702532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> A quad is composed of two triangles.  Wireframe would show the distinct 2 triangles that make up the quad.  Some apps have a wireframe mode that outlines the outer perimeter of a series of triangles where all the vertices are on the same axis. <br><br></td></tr></table><br>
<a name="702558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> hehe :) <br><br></td></tr></table><br>
<a name="703060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >imekon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice demo. I did notice that if I look at the top of one of the barrels I can see pixellation from very steep angles. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
