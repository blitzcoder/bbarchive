<!DOCTYPE html><html lang="en" ><head ><title >particle system</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >particle system</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >particle system</a><br><br>
<a name="1212878"></a>

<a name="1212879"></a>

<a name="1212880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is a look at something i'm working on:<br><img src="http://www.blitzbasic.com/gallery/pics/2490.jpg"><br><br>This shows a single 2d quad particle at right-angles to the cube cutting through it.<br>What is interesting is there is no visible 'cut' where the particle dissects the cube<br>The particle itself is made up from a single 3d quad, plus particle texture frames. the first 2 frames are combined into a single colour frame with the third being added or subtracted from the result (a complex blend).<br><br>I'm currently working on the editor for the particle system<br><br>The debug text shows the status of my entity system, heads and tails of lists etc.<br>the seven listed things are the entities themselves, with three live models (base plane, cube and single particle) <br><br></td></tr></table><br>
<a name="1216448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks promising Goodluck dude <br><br></td></tr></table><br>
<a name="1216523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, the editor is where i'm spending time now the basic mechanics is working. Here's shots of the editor with the three particle sub editors:<br><br>The first is the particle sprite selection - these are fixed, but you have 64 to play with and a particle is made from three of them<br><img src="http://www.visualjockey.com/games/particleui3.png"><br><br>Next up is the colour editor - there are two and these work across the life of the particle<br><img src="http://www.visualjockey.com/games/particleui2.png"><br><br>Last up is the graph, where you can control range values over time including repeat from a simplified UI<br><img src="http://www.visualjockey.com/games/particleui1.png"><br><br>and the result. these were the first things created once the graph was functioning so they are just tests.<br><img src="http://www.visualjockey.com/games/particle1.png"><br><img src="http://www.visualjockey.com/games/particle2.png"><br><img src="http://www.visualjockey.com/games/particle3.png"><br><img src="http://www.visualjockey.com/games/particle4.png"><br>But you get an idea of the complex interactions of the multi drawn particles.<br><br>I'm just about to start work on the emitter side of things. In the above you can see a single emitter (its the flat square thing with the arrow in cyan). The arrow shows the direction the emitter is pointing. After that is the spawner.<br><br>So an emitter emits particles and the spawner control how they emit. an particle system is a combination of the three :)<br><br>Last thing (if you haven't noticed) The system is totally in 3d. Also the particles can be 2d facing the user, 3d or even 3d objects. Current CPU usage is stable at 10% - but most of that is the UI and opengl back system and multiple buffers. <br><br></td></tr></table><br>
<a name="1216545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice GUI and nice effects!<br><br>What engine3d are you using? I just noticed the 'shadows'/ambient occlusion.. <br><br></td></tr></table><br>
<a name="1216559"></a>

<a name="1216561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzMax + openGL + custom shaders.<br><br>Shadows are not quite right, but nothing that I'm too concerned about yet as the code is simple enough.<br><br>The 3d object comes from my 3d editor:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=98715#1189948" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=98715#1189948</a><br><br>Particles are independent from the objects, there is a complex entity system also working away in the background (I suppose a bit like blitz3d on steroids) <br><br></td></tr></table><br>
<a name="1216599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> hope you can make it operate also under xors3d althow i know people concider this as a dead engine. <br><br></td></tr></table><br>
<a name="1216614"></a>

<a name="1216616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the xors people deserve no favors, do your own thing Adam.  Looks good  :) <br><br></td></tr></table><br>
<a name="1216653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> what favors. its no favor its a wish.<br>whats bothering you jump like that mr steve. <br><br></td></tr></table><br>
<a name="1216661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems they took people's money and abandoned the xors engine. <br><br></td></tr></table><br>
<a name="1216668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a couple more now that the emitter is all sorted it can emit at very different rates and directions.<br><br>One thing to note is the smooth shading where particles intersect geometry.<br><br>some sort of evil cloud<br><img src="http://www.visualjockey.com/games/particle10.jpg"><br><br>basic fire and smoke with floating embers<br><img src="http://www.visualjockey.com/games/particle11.jpg"><br><br>you want nuts? Let's got nuts...<br><img src="http://www.visualjockey.com/games/particle12.jpg"> <br><br></td></tr></table><br>
<a name="1216683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your right Steve about Xors team Attitude   <br>Ive based my Engine on xors so for now im working on it as it is.<br>when ill finish my Engine I will replace Xors.<br>So the effects aint that important.<br><br>No one said any Word to adam for a month since this post.<br>So I wanted to cheers him up.<br>The Xors Issue was just a side Matter.<br><br>Does guys should at lease release it so others can keep improving it<br>to be a usable Tool. <br><br></td></tr></table><br>
<a name="1216715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Adam, I like the overall dark theme of the GUI. <br>How are you drawing the yellow graphs for the curves? <br><br></td></tr></table><br>
<a name="1216815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have a range function defined with 17 different curve types:<br><br><pre class=code>
'npos 0..1
Function GetRange:Float(nMin:Float, nRange:Float, nPos:Float, nType:Int, nReturn:Float = 0)
</pre><br><br>it returns a value within the range nMin to nMin+nRange. You feed it a position of 0 to 1, to get multiple curves just give it a different set of position data.<br><br>It's not that well optimised as i'm still using standard cos and sin internally. <br><br></td></tr></table><br>
<a name="1216874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using something like <a href="http://code.google.com/p/core-plot/" target="_blank">Core Plot</a> to draw the graphs or are you using Max2D directly? <br><br></td></tr></table><br>
<a name="1216920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> its max2d and opengl<br><br>just checked and it straightforward: pseudocode...<br><pre class=code>
drawbg
setcolor
setalpha
for loop
  drawline
next
</pre><br><br>only visible ui elements are drawn on each frame request. Its a custom ui i developed a while back and the drawing is agnostic - it has some primitives, but everything is custom created<br><br>I have a complete window manager that sits in the background intercepting all window controls:<br><pre class=code>
Method ProgMain()
	If AppFullScreen Then ToggleFullScreen(AppWindow)
		
	EnablePolledInput()
		
	While Not AppQuit
		AppQueue = PollEvent()
		If AppQueue = 0 Then
			Delay(2)
		Else
			Select EventID()
				Case EVENT_APPTERMINATE, EVENT_WINDOWCLOSE 
					AppQuit = True
			End Select
		End IF
	Wend
End Method
</pre><br><br>I then handle all events; mouse, keyboard, timers, touch, etc. The app is then built on top of this. At the lowest level is the control structures which handle all the UI.<br><br>In the Particle editor there are about 20 controls (+ the core ones). The 3d editor has about 160 and the audio editor about 270 <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
