<!DOCTYPE html><html lang="en" ><head ><title >BlitzTiles</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzTiles</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >BlitzTiles</a><br><br>
<a name="958592"></a>

<a name="1119678"></a>

<a name="1119679"></a>

<a name="1119686"></a>

<a name="1119687"></a>

<a name="1119688"></a>

<a name="1262448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://www.christianhart.de/bb/blitztiles/blitztiles_logo.png"><br><br>I present you my project "BlitzTiles", the successor to the now discontinued project <a href="/posts.php?topic=84108" target="_blank">TerraTiles</a>. It is based on it (huge outdoor 3D terrain, character steering, day/night shift) but I redesigned everything from the scratch and it is using a quadtree now instead of a unoptimized mesh (sorry for the double post, but this is complete different from TerraTiles).<br><br><br><br><b>EDIT: I updated the package, it is now possible to download a complete installation and separate maps here:<br><br><a href="http://www.christianhart.de/bb/blitztiles/blitztiles102.exe" target="_blank">Main Program: BlitzTiles 1.02 (4.4MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_desert.exe" target="_blank">MAP: Desert Mesa 1025x1025 (3.7MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_grandcanyon.exe" target="_blank">MAP: Grand Canyon 1025x1025 (5.5MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_monkeyisland.exe" target="_blank">MAP: Monkey Island 2049x2049 (5.2MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_middleearth.exe" target="_blank">MAP: Middle Earth 2049x2049 (7.3MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_zillertal.exe" target="_blank">MAP: Zillertal 1025x1025 (5.1MB)</a><br><br><a href="http://www.christianhart.de/bb/blitztiles/Tutorial_how_to_create_real_Terrains_for_BlitzTiles.pdf" target="_blank">Tutorial how to create real Terrains for BlitzTiles</a></b><br><br><br>BlitzTiles features:<br><br>- Third Cam perspective and freeflight mode<br>- reads Terragen heightmaps with 16bit precision<br>- realistic sizes by the Terragen file scale<br>- creates a tiled, quadtree-optimized mesh with seamless chunks (using QTS)<br>- cuts a larger texture to smaller textures fitting these tiles<br>- calculates the vertex normals out of the Terragen heightmap<br>- simulates a seamless night and day shift<br>- animated water / ocean<br>- moving and changing clouds<br>- starry night with star twinkle<br>- increasing sun brightness<br>- moon phases<br>- Island mode<br>- Loading bar<br>- many settings changeable through INI text files<br>- and it is FREE<br><br>The package contains three well optimized demo maps to show these features, additional there is a help file in CHM format included (Windows help) with a complete documentation of all INI settings explained, media files and the source. And I describe the creation of a new scene using L3DT in a tutorial. For the sake of completeness I added the original source of TerraTiles with some functions not used in BlitzTiles but they can be still interesting for your own projects.<br><br>Here are the screenshots of the three maps:<br><br><img src="http://www.christianhart.de/bb/blitztiles/desert_preview.jpg"><br><br><img src="http://www.christianhart.de/bb/blitztiles/monkeyisland_preview.jpg"><br><br><img src="http://www.christianhart.de/bb/blitztiles/zillertal_preview.jpg"><br><br>You can use BlitzTiles for different projects, for Roleplaying, Egoshooter or just outdoor 3D games. Certainly there is place for improvment but I reached the limit of my skills now (but it is running nice at this point, approx. 300-400FPS, sometimes 700-800). If you think you can improve it then DO IT because I publish this project under a modified BSD license and the code is free!<br><br>One possible improvement could be to add fractal subdivision close to the player to increase the detail level or even add texture splatting close to it and use BlitzTiles just for average / far distances. Or leave it like it is and use it as a base for you own projects.<br><br>I've been working a whole month on this project and I still think that it is not finished. But I wanted to share it with the community NOW. I'm working on large outdoor areas in Blitz3D since two and a half year (since i started with Blitz3D) and this is my replacement solution for BlitzTerrains. I hope it is successful and you like it.<br><br><b>And now finally the download of version 1.01 [7zip SFX Archive, 17.7MB]: <a href="http://www.christianhart.de/bb/blitztiles/blitztiles101.exe" target="_blank">blitztiles101.exe</a></b><br><br>Please notice that you'll need additional two components to run BlitzTiles, this is due a license change between Version 1.00 and 1.01:<br><br><br>1) eole's QTS Quadtree Terrain System, modified by me (put this qts.bb into the "inc" folder of BlitzTiles), <a href="/posts.php?topic=34168" target="_blank">original</a> by eole:<br><br><b>qts.bb</b><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; -------------------------------------------------------------------------------------------------
; Project Title	: QTS : Quadtree Terrain System
; -------------------------------------------------------------------------------------------------
;
; Author		: Poursin Nicolas
; Email			: Nicolas.poursin(at)3dgametool.com
;
; Version		: 1.1.1          
; Date			: 23.05.2009
;
; -------------------------------------------------------------------------------------------------
;
; Updated by Krischan on 23.05.2009 for use with "BlitzTiles"
;
; - cleaned out unnecessary functions
; - fixed some errors
; - added Terragen loader
; - added tilebased UV-Coordinates, Vertexcolors and Vertexnormals calculation
; 
; -------------------------------------------------------------------------------------------------


; -------------------------------------------------------------------------------------------------
; Terms of Use License
; -------------------------------------------------------------------------------------------------
;
; This is a legal agreement ("License Agreement") between you And Poursin Nicolas.
;
;	You are permitted To:
;   - Create For free or commercial games 
;   - Free Tool
;	 
;	You are Not permitted To: 
;	1) Sell, resell it
;	2) Use it, in commercial tool 
;	3) Modify the products And sell it                   
;
; -------------------------------------------------------------------------------------------------


; -------------------------------------------------------------------------------------------------
; Types
; -------------------------------------------------------------------------------------------------
Type QTS_TPatch
	
	Field mesh%
	Field surf%
	Field x#
	Field y#
	Field z#
	Field xtab%
	Field ztab%
	
End Type


; -------------------------------------------------------------------------------------------------
; Globals
; -------------------------------------------------------------------------------------------------
Global QTS_Terrain%,QTS_QuadTree%,QTS_HeightMap%,QTS_Vertex%,QTS_Tile%,QTS_BlockSize%
Global QTS_Size%,QTS_XPTS%,QTS_XSCALE#,QTS_YSCALE#,QTS_HSCALE#,QTS_HBASE#
Global QTS_MinHeight#,QTS_MaxHeight#,QTS_HeightMapSize%


; -------------------------------------------------------------------------------------------------
; Initial Function
; -------------------------------------------------------------------------------------------------
Function QTS_CreateTerrain(filename$,tiles%,edgeerror#,calcnormals%,normalsfactor#,switchnormals%,usevertexcolors%,vertexintensity#,colormap%)
	
	QTS_LoadHeightMap(filename)
	QTS_BlockSize=(QTS_HeightMapSize-1)/16/tiles
	QTS_Terrain=CreateMesh()
	QTS_Tile=CreateBank(64*64*4)
	QTS_Roughness(edgeerror)
	QTS_CreatePatch(QTS_BlockSize)
	QTS_Texture(tiles,calcnormals,normalsfactor,switchnormals,usevertexcolors,vertexintensity,colormap)
	
	FreeBank QTS_QuadTree
	FreeBank QTS_HeightMap
	FreeBank QTS_Vertex
	
End Function


; -------------------------------------------------------------------------------------------------
; Terrain Roughness
; -------------------------------------------------------------------------------------------------
Function QTS_Roughness(error#=1.0)
	
	Local edgelength%=3,morph#
	Local x%,z%,node%,kill%
	Local edgeoffset%,childoffset%
	
	While edgelength&lt;=17
		
		edgeoffset=(edgelength-1)/2
		childoffset=(edgelength-1)/4
		
		z=edgeoffset
		
		While z&lt;QTS_HeightMapSize 
			
			If edgelength=3 Then BT_UpdateBar("Calculating Quadtree",z,QTS_HeightMapSize,10,40)
			
			x= edgeoffset
			While x&lt;QTS_HeightMapSize 
				
				node = 0
				kill=0
				
				If edgelength&gt;3 Then
					node=QTS_GetMV(x-childoffset,z-childoffset)
					node=QTS_Max(node,QTS_GetMV(x+childoffset,z-childoffset))
					node=QTS_Max(node,QTS_GetMV(x+childoffset,z+childoffset))
					node=QTS_Max(node,QTS_GetMV(x-childoffset,z+childoffset))
				EndIf
				
				If edgelength=3 Or node=0 Then
					
					QTS_SetMV(x-edgeoffset,z-edgeoffset,1)
					QTS_SetMV(x+edgeoffset,z-edgeoffset,1)
					QTS_SetMV(x+edgeoffset,z+edgeoffset,1)
					QTS_SetMV(x-edgeoffset,z+edgeoffset,1)
					
					morph=Abs(QTS_GetHeight(x,z-edgeoffset)-((QTS_GetHeight(x-edgeoffset,z-edgeoffset)+QTS_GetHeight(x+edgeoffset,z-edgeoffset))/2))
					
					If morph&gt;error Then
						QTS_SetMV(x,z-edgeoffset,1)
					Else
						If edgelength&gt;3 Then QTS_SetMV(x,z-edgeoffset,0)
						kill=kill +1
					EndIf
					
					morph=Abs(QTS_GetHeight(x+edgeoffset,z)-((QTS_GetHeight(x+edgeoffset,z-edgeoffset)+QTS_GetHeight(x+edgeoffset,z+edgeoffset))/2))
					
					If morph&gt;error Then
						QTS_SetMV(x+edgeoffset,z,1)
					Else
						If edgelength&gt;3 Then QTS_SetMV(x+edgeoffset,z,0)
						kill=kill +1
					EndIf
					
					morph=Abs(QTS_GetHeight(x,z+edgeoffset)-((QTS_GetHeight(x+edgeoffset,z+edgeoffset)+QTS_GetHeight(x-edgeoffset,z+edgeoffset))/2))
					
					If morph&gt;error Then
						QTS_SetMV(x,z+edgeoffset,1)
					Else
						If edgelength&gt;3 Then QTS_SetMV(x,z+edgeoffset,0)
						kill=kill+1
					EndIf					
					
					morph=Abs(QTS_GetHeight(x-edgeoffset,z)-((QTS_GetHeight(x-edgeoffset,z+edgeoffset)+QTS_GetHeight(x-edgeoffset,z-edgeoffset))/2))
					
					If morph&gt;error Then
						QTS_SetMV(x-edgeoffset,z,1)
					Else
						If edgelength&gt;3 Then QTS_SetMV(x-edgeoffset,z,0)
						kill = kill +1
					EndIf
					
					QTS_SetMV(x,z,1)
					
					If kill=4 Then	
						morph=Abs(QTS_GetHeight(x,z)-((QTS_GetHeight(x-edgeoffset,z-edgeoffset)+QTS_GetHeight(x+edgeoffset,z+edgeoffset))/2))
						If morph&lt;=error Then
							morph=Abs(QTS_GetHeight(x,z)-((QTS_GetHeight(x+edgeoffset,z-edgeoffset)+QTS_GetHeight(x-edgeoffset,z+edgeoffset))/2))
							If morph&lt;=error Then QTS_SetMV(x,z,0)
						EndIf
					EndIf
					
				Else If edgelength&gt;3
					
					QTS_SetMV(x,z-edgeoffset,1)
					QTS_SetMV(x+edgeoffset,z,1)
					QTS_SetMV(x,z+edgeoffset,1)
					QTS_SetMV(x-edgeoffset,z,1)	
					
				EndIf
				
				x=x+edgelength-1
				
			Wend
			
			z=z+edgelength-1
			
		Wend
		
		edgelength=(edgelength Shl 1 )-1
		
	Wend
	
	For z=16 To QTS_HeightMapSize-1 Step 32
		For x=16 To QTS_HeightMapSize-1 Step 32
			QTS_ProcessNode(x,z,33,False,False)
		Next
	Next
	
End Function


; -------------------------------------------------------------------------------------------------
; Renders a node
; -------------------------------------------------------------------------------------------------
Function QTS_RenderNode(x%,z%,edgelength%,edgeoffset%,surf%,brender%)
	
	Local VC%,V1%,V2%,VE%
	Local xx%,xstart%,xend%
	Local zz%,zstart%,zend%
	
	If brender Then
		VC = QTS_AddVertex( x,z,surf)
		V1 = QTS_AddVertex( x-edgeoffset , z-edgeoffset ,surf)
		VE = QTS_AddVertex( x+edgeoffset , z-edgeoffset , surf)
	Else
		QTS_SetMV( x-edgeoffset , z-edgeoffset)
		QTS_SetMV( x+edgeoffset , z-edgeoffset )
	EndIf
	
	zz=z-edgeoffset
	xstart=x-edgeoffset+1
	xend=x-edgeoffset+edgelength-2
	
	For xx=xstart To xend
		
		If QTS_GetMV(xx,zz)&gt;0 Then
			
			If brender Then
				V2=QTS_AddVertex(xx,zz,surf)
				AddTriangle surf,V1,V2,VC
			Else
				QTS_SetMV(xx,zz)
			EndIf
			
			V1=V2
			
		EndIf
		
	Next
	
	If brender Then
		AddTriangle surf,V1,VE,VC
		VC=QTS_AddVertex(x,z,surf)
		V1=QTS_AddVertex(x-edgeoffset,z+edgeoffset,surf)
		VE=QTS_AddVertex(x+edgeoffset,z+edgeoffset,surf)
	Else
		QTS_SetMV(x-edgeoffset,z+edgeoffset)
		QTS_SetMV(x+edgeoffset,z+edgeoffset)
	EndIf
	
	zz=z+edgeoffset
	xstart=x-edgeoffset+1
	xend=x-edgeoffset+edgelength-2
	
	For xx=xstart To xend
		
		If QTS_GetMV(xx,zz)&gt;0 Then
			
			If brender Then
				V2=QTS_AddVertex(xx,zz,surf)
				AddTriangle surf,V2,V1,VC
			Else
				QTS_SetMV(xx,zz)
			EndIf
			
			V1=V2
			
		EndIf
		
	Next
	
	If brender Then
		AddTriangle surf,VE,V1,VC
		VC=QTS_AddVertex(x,z,surf)
		V1=QTS_AddVertex(x+edgeoffset,z-edgeoffset,surf)
		VE=QTS_AddVertex(x+edgeoffset,z+edgeoffset,surf)
	Else
		QTS_SetMV(x+edgeoffset,z-edgeoffset)
		QTS_SetMV(x+edgeoffset,z+edgeoffset)
	EndIf
	
	xx=x+edgeoffset
	zstart=z-edgeoffset+1
	zend=z-edgeoffset+edgelength-2
	
	For zz=zstart To zend
		
		If QTS_GetMV(xx,zz)&gt;0 Then
			
			If brender Then
				V2=QTS_AddVertex(xx,zz,surf)
				AddTriangle surf,V1,V2,VC
			Else
				QTS_SetMV(xx,zz)
			EndIf
			
			V1=V2
			
		EndIf
		
	Next
	
	If brender Then
		AddTriangle surf,V1,VE,VC
		VC=QTS_AddVertex(x,z,surf)
		V1=QTS_AddVertex(x-edgeoffset,z-edgeoffset,surf)
		VE=QTS_AddVertex(x-edgeoffset,z+edgeoffset,surf)
	Else
		QTS_SetMV(x-edgeoffset,z-edgeoffset)
		QTS_SetMV(x-edgeoffset,z+edgeoffset)
	EndIf
	
	xx=x-edgeoffset
	zstart=z-edgeoffset+1
	zend=z-edgeoffset+edgelength-2
	
	For zz=zstart To zend
		
		If QTS_GetMV(xx,zz)&gt;0 Then
			
			If brender Then
				V2=QTS_AddVertex(xx,zz,surf)
				AddTriangle surf,V2,V1,VC
			Else
				QTS_SetMV(xx,zz)
			EndIf
			
			V1=V2
			
		EndIf
		
	Next
	
	If brender Then AddTriangle surf,VE,V1,VC
	
End Function


; -------------------------------------------------------------------------------------------------
; Creates a Tile patch
; -------------------------------------------------------------------------------------------------
Function QTS_CreatePatch(blocksize%)
	
	Local x%,z%
	Local xtab%,ztab%
	Local xx#,zz#
	Local mesh%,surf%
	Local bx%,bz%,cx%,cz%
	
	While z&lt;=QTS_HeightMapSize
		
		BT_UpdateBar("Creating Terrain Patches",z,QTS_HeightMapSize,40,50)
		
		x=0
		xtab=0
		
		While x&lt;=QTS_HeightMapSize
			
			xx=x+(blocksize*16/2)
			zz=z+(blocksize*16/2)
			
			mesh=CreateMesh()
			surf=CreateSurface(mesh)
			
			; make tile pickable
			EntityPickMode mesh,2
			
			QTS_Vertex=CreateBank((QTS_HeightMapSize)*(QTS_HeightMapSize)*4)
			
			For bz=8 To blocksize*16 Step 16
				
				For bx=8 To blocksize*16 Step 16
					
					cx=x+bx
					cz=z+bz
					If cx&lt;QTS_HeightMapSize And cz&lt;QTS_HeightMapSize Then QTS_ProcessNode(cx,cz,17,surf,True)
					
				Next
				
			Next
			
			FreeBank QTS_Vertex
			
			EntityParent mesh,QTS_Terrain
			
			t.QTS_TPatch = New QTS_TPatch
			t\mesh=mesh
			t\surf=surf
			t\x=xtab*(blocksize*16/2)*2
			t\y=MeshHeight(mesh)/2
			t\z=-ztab*(blocksize*16/2)*2 
 			t\xtab=xtab
			t\ztab=ztab
			
			PokeInt QTS_Tile,((ztab*64+xtab)*4),Handle(t)
			
			x=x+(blocksize*16)
			
			xtab=xtab+1
			
		Wend
		
		z=z+(blocksize*16)
		ztab=ztab+1
		
	Wend
	
End Function


; -------------------------------------------------------------------------------------------------
; Processes a Node
; -------------------------------------------------------------------------------------------------
Function QTS_ProcessNode(x,z,edgelength%,surf%,brender%)
	
	Local edgeoffset%=(edgelength-1)/2
	Local childoffset=(edgelength-1)/4
	Local node%=QTS_GetMV(x,z)
	
	If node=1 Then
		
		If  edgelength=3 Then
			
			QTS_RenderNode(x,z,edgelength,edgeoffset,surf,brender)
			
		Else
			
			If QTS_GetMV(x-childoffset,z-childoffset)&gt;0 Then
				
				QTS_ProcessNode(x-childoffset,z-childoffset,edgelength-(edgelength/2),surf,brender)
				
			Else
				
				QTS_RenderNode(x-childoffset,z-childoffset,edgelength-(edgelength/2),edgeoffset-(edgeoffset/2),surf,brender)
				
			EndIf
			
			If QTS_GetMV(x+childoffset,z-childoffset)&gt;0 Then
				
				QTS_ProcessNode(x+childoffset,z-childoffset,edgelength-(edgelength/2),surf,brender)
				
			Else
				
				QTS_RenderNode(x+childoffset,z-childoffset,edgelength-(edgelength/2),edgeoffset-(edgeoffset/2),surf,brender)
				
			EndIf
			
			If QTS_GetMV(x-childoffset,z+childoffset)&gt;0 Then
				
				QTS_ProcessNode(x-childoffset,z+childoffset,edgelength-(edgelength/2),surf,brender)
				
			Else
				
				QTS_RenderNode(x-childoffset,z+childoffset,edgelength-(edgelength/2),edgeoffset-(edgeoffset/2),surf,brender)
				
			EndIf
			
			If QTS_GetMV(x+childoffset,z+childoffset)&gt;0 Then
				
				QTS_ProcessNode(x+childoffset,z+childoffset,edgelength-(edgelength/2),surf,brender)
				
			Else
				
				QTS_RenderNode(x+childoffset,z+childoffset,edgelength-(edgelength/2),edgeoffset-(edgeoffset/2),surf,brender)
				
			EndIf
			
		EndIf
		
	Else
		
		QTS_RenderNode(x,z,edgelength,edgeoffset,surf,brender)
		
	EndIf
	
End Function


; -------------------------------------------------------------------------------------------------
; Central Addvertex function
; -------------------------------------------------------------------------------------------------
Function QTS_AddVertex(x%,z%,surf%)
	
	Local y#,v%
	
	If PeekInt(QTS_Vertex,QTS_MatrixIndex(x,z)*4)=0 Then
		
		y=QTS_GetHeight(x,z)
		v=AddVertex(surf,(-QTS_HeightMapSize/2.0)+x,y,(QTS_HeightMapSize/2.0)-z,0,0)
		PokeInt QTS_Vertex, QTS_MatrixIndex(x,z)*4,v+1
		
	Else
		
		v=PeekInt(QTS_Vertex,QTS_MatrixIndex(x,z)*4)-1
		
	EndIf
	
	Return v
	
End Function


; -------------------------------------------------------------------------------------------------
; Loads a Terragen File and its according RAW Colormap / Normalmap
; -------------------------------------------------------------------------------------------------
Function QTS_LoadHeightMap(filename$)
	
	Local xpt%,ypt%,h#
	Local file%=ReadFile(filename)
	
	; read Terragen data
	SeekFile(file,20) : QTS_Size=ReadInt(file)
	SeekFile(file,28) : QTS_XPTS=ReadInt(file)
	SeekFile(file,44) : QTS_XSCALE=ReadFloat(file) : QTS_YSCALE=ReadFloat(file)
	SeekFile(file,60) : QTS_HSCALE=ReadShort(file) : QTS_HBASE=ReadShort(file)
	
	; get the size of the map and create heightmap and quadtree banks
	QTS_HeightMapSize=QTS_XPTS
	QTS_HeightMap=CreateBank(QTS_XPTS*QTS_XPTS*2)
	QTS_QuadTree=CreateBank((QTS_HeightMapSize)*(QTS_HeightMapSize))
	
	; write data to bank
	For ypt=QTS_XPTS To 1 Step -1
		
		If ypt Mod 32=0 Then BT_UpdateBar("Loading Terragen Data",(QTS_XPTS-ypt+1),QTS_XPTS,0,10)
		
		For xpt=1 To QTS_XPTS Step 1
			PokeShort QTS_HeightMap,((xpt-1)+(ypt-1)*QTS_XPTS)*2,ReadShort(file)-32768
			h=QTS_GetHeight(xpt-1,ypt-1)
			If h&lt;QTS_MinHeight Then QTS_MinHeight=h
			If h&gt;QTS_MaxHeight Then QTS_MaxHeight=h
		Next
	Next
	
	CloseFile(file)
	
End Function


; -------------------------------------------------------------------------------------------------
; Prepares UV-Coordinates, Vertexcolors and Vertexnormals of a tile
; -------------------------------------------------------------------------------------------------
Function QTS_Texture(tiles%,calcnormals%,normalsfactor#,switchnormals%,usevertexcolors%,vertexintensity#,colormap%)
	
	Local x%,z%,obj%,vx#,vz#
	Local surf%,vertices%,v%,rgb%,r%,g%,b%
	Local cbuf%=ImageBuffer(colormap)
	Local cfactor#=ImageWidth(colormap)*1.0/QTS_HeightMapSize
	
	LockBuffer cbuf
	
	For z=0 To tiles-1
		
		If z Mod 2=0 Then BT_UpdateBar("Calculating Vertex Normals",z,tiles-1,50,70)
		
		For x=0 To tiles-1
			
			obj=PeekInt(QTS_Tile,(z*64+x)*4)
			
			If obj&gt;0 Then
				
				t.QTS_TPatch=Object.QTS_TPatch(obj)
				
				If t\mesh&lt;&gt;-1 Then
					
					surf = GetSurface(t\mesh,1)
					vertices = CountVertices(surf)
					
					For v=0 To vertices-1
						
						; calculate map position from vertex position
						vx=VertexX(surf,v)+(QTS_HeightMapSize/2.0)
						vz=-VertexZ(surf,v)+(QTS_HeightMapSize/2.0)
						
						; Calculate Vertexcolors
						If usevertexcolors Then
							rgb=ReadPixelFast(Int(Floor(vx*cfactor)),Int(Floor(vz*cfactor)),cbuf)
							r=Int(Floor(((rgb And $ff0000)/$10000)*vertexintensity))
							g=Int(Floor(((rgb And $ff00)/$100)*vertexintensity))
							b=Int(Floor(((rgb And $ff))*vertexintensity))
						Else
							r=255*vertexintensity
							g=255*vertexintensity
							b=255*vertexintensity
						EndIf
						r=Int(Floor(r)) : If r&lt;0 Then r=0 Else If r&gt;255 Then r=255
						g=Int(Floor(g)) : If g&lt;0 Then g=0 Else If g&gt;255 Then g=255
						b=Int(Floor(b)) : If b&lt;0 Then b=0 Else If b&gt;255 Then b=255
						
						; Color the vertex
						VertexColor surf,v,r,g,b,1
						
						; calculate Normals by height and vertex
						If calcnormals Then QTS_CalcNormal(surf,v,vx,vz,normalsfactor,switchnormals)
						
						; Calculate UV-Coordinates
						vx#=(vx/((QTS_HeightMapSize-1*1.0)/tiles))-t\xtab
						vz#=(vz/((QTS_HeightMapSize-1*1.0)/tiles))-t\ztab
						VertexTexCoords surf,v,vx,vz
						
					Next
					
				EndIf
				
			EndIf
			
		Next
		
	Next
	
	UnlockBuffer cbuf
	
End Function


; -----------------------------------------------------------------------------
; Calculates the Vertex Normal at a given position
; -----------------------------------------------------------------------------
Function QTS_CalcNormal(surf%,v%,x%,y%,normalsfactor#,switchnormals%)
	
	Local xm1%,xp1%,ym1%,yp1%
	Local tl%,tm%,tr%,ml%,mm%,mr%,bl%,bm%,br%
	Local vx#,vy#,vz#
	Local isq2#,sum#
	Local al#,ar#,at#,ab#
	Local m#
	
	; limit heightmap
	If x&gt;0 Then xm1=x-1 Else xm1=0
	If x&lt;QTS_HeightMapSize-1 Then xp1=x+1 Else xp1=QTS_HeightMapSize-1
	If y&gt;0 Then ym1=y-1 Else ym1=0
	If y&lt;QTS_HeightMapSize-1 Then yp1=y+1 Else yp1=QTS_HeightMapSize-1
	
	; get the middle and the surrounding heights
	tl=QTS_Normalize(QTS_GetHeight(xm1,ym1),QTS_MinHeight,QTS_MaxHeight,0,65535)
	tm=QTS_Normalize(QTS_GetHeight(x  ,ym1),QTS_MinHeight,QTS_MaxHeight,0,65535)
	tr=QTS_Normalize(QTS_GetHeight(xp1,ym1),QTS_MinHeight,QTS_MaxHeight,0,65535)
	ml=QTS_Normalize(QTS_GetHeight(xm1,y  ),QTS_MinHeight,QTS_MaxHeight,0,65535)
	mm=QTS_Normalize(QTS_GetHeight(x  ,y  ),QTS_MinHeight,QTS_MaxHeight,0,65535)
	mr=QTS_Normalize(QTS_GetHeight(xp1,y  ),QTS_MinHeight,QTS_MaxHeight,0,65535)
	bl=QTS_Normalize(QTS_GetHeight(xm1,yp1),QTS_MinHeight,QTS_MaxHeight,0,65535)
	bm=QTS_Normalize(QTS_GetHeight(x  ,yp1),QTS_MinHeight,QTS_MaxHeight,0,65535)
	br=QTS_Normalize(QTS_GetHeight(xp1,yp1),QTS_MinHeight,QTS_MaxHeight,0,65535)
	
	vx=0.0
	vy=0.0
	vz=1.0
	
	isq2=1.0/Sqr(2.0)
	sum=1.0+isq2+isq2
	
	al=(tl*isq2+ml+bl*isq2)/sum
	ar=(tr*isq2+mr+br*isq2)/sum
	at=(tl*isq2+tm+tr*isq2)/sum
	ab=(bl*isq2+bm+br*isq2)/sum
	
	vx=(al-ar)/(65535.0)
	vy=(at-ab)/(65535.0)
	
	m=QTS_Max(0,vx*vx+vy*vy)
	m=QTS_Min(m,1.0)
	
	vz=Sqr(1.0-m) 
	
	If normalsfactor&lt;&gt;0.0
		vz=vz/normalsfactor
		m#=Sqr(vx*vx+vy*vy+vz*vz)
		vx=vx/m
		vy=vy/m
		vz=vz/m
	EndIf
	
	If switchnormals Then VertexNormal surf,v,vx,vz,vy Else VertexNormal surf,v,vx,vy,vz
	
End Function


; -----------------------------------------------------------------------------
; Normalize a value
; -----------------------------------------------------------------------------
Function QTS_Normalize#(value#=128.0,value_min#=0.0,value_max#=255.0,norm_min#=0.0,norm_max#=1.0)
	
	Return ((value#-value_min#)/(value_max#-value_min#))*(norm_max#-norm_min#)+norm_min#
	
End Function


; -------------------------------------------------------------------------------------------------
; Gets a Matrix Value
; -------------------------------------------------------------------------------------------------
Function QTS_GetMV(x%,z%)
	
	Return PeekByte(QTS_QuadTree,QTS_MatrixIndex(x,z))
	
End Function


; -------------------------------------------------------------------------------------------------
; Sets a Matrix Value
; -------------------------------------------------------------------------------------------------
Function QTS_SetMV(x%,z%,value%=1)
	
	PokeByte QTS_QuadTree,QTS_MatrixIndex(x,z),value
	
End Function


; -------------------------------------------------------------------------------------------------
; Gets a Matrix Index
; -------------------------------------------------------------------------------------------------
Function QTS_MatrixIndex(x%,z%)
	
	Return ((z*QTS_HeightMapSize)+x)
	
End Function


; -------------------------------------------------------------------------------------------------
; Returns the minimum value of two values
; -------------------------------------------------------------------------------------------------
Function QTS_Min#(v1#,v2#)
	
	If v1&lt;v2 Then Return v1 Else Return v2
	
End Function


; -------------------------------------------------------------------------------------------------
; Returns the maximum value of two values
; -------------------------------------------------------------------------------------------------
Function QTS_Max#(v1#,v2#)
	
	If v1&gt;v2 Then Return v1 Else Return v2
	
End Function


; -------------------------------------------------------------------------------------------------
; Calculates the exact height at a given position
; -------------------------------------------------------------------------------------------------
Function QTS_GetHeight#(x#,z#)
	
	Local short%=PeekShort(QTS_HeightMap,((Int(Floor(z*QTS_HeightMapSize)))+Int(Floor(x)))*2)-32768
	Return QTS_HBASE+short*QTS_HSCALE/65536.0*QTS_YSCALE
	
End Function</textarea><br><br><br>2. The 3D dwarf Model made by "psionic", extract the contents of the dwarf.zip into the "models" folder of BlitzTiles:<br><br><a href="http://www.psionic3d.co.uk/wp-content/uploads/2009/07/dwarf.zip" target="_blank">Download psionic's 3D dwarf model</a><br><br>EDIT: forgot to mention there is a fourth scene available:<br><br><img src="http://www.christianhart.de/bb/blitztiles/grandcanyon_preview.jpg"><br><br><b>Download it here (5.5MB 7zip SFX):</b> <a href="http://www.christianhart.de/bb/blitztiles/map_grandcanyon.exe" target="_blank"> http://www.christianhart.de/bb/blitztiles/map_grandcanyon.exe</a><br><br>And there is a tutorial <a href="http://www.christianhart.de/bb/blitztiles/Tutorial_how_to_create_real_Terrains_for_BlitzTiles.pdf" target="_blank">How to create real Terrains for BlitzTiles</a><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="958593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Christian<br><br>Congrats by the way, this looks very very nice, and thanks for giving it to the community. I will check it out later on tonight. The screenshot do look beautiful <br><br></td></tr></table><br>
<a name="958609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, this is great <br><br></td></tr></table><br>
<a name="958627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is most impressive. Terragen integration alone makes it very interesting, but the project as a whole at a quick glance looks great.<br>The framerate keeps constant, the day night cycle with haze, cloud layers and halos is top notch, and it also makes good use of multitexturing. The code is very elegant and the package very comprehensive too.<br>It's the best example seen so far for B3D for sure, and in my opinion it can't get so much better. <br><br></td></tr></table><br>
<a name="958633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks really nice, probably one of the best looking landscape's I've seen in blitz. The level of detail in your images looks great, although it looks like I see antialiasing, so did you use fullscreen AA or are the images reduced from their originals? <br><br></td></tr></table><br>
<a name="958659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is all very exciting.<br><br>I award you a very rare "puki" Star of Merit. <br><br></td></tr></table><br>
<a name="958692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ardee</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Absolutely stunning, the sense of scale provided by the landscape is amazing, the best I've ever seen. Bravo and thanks for sharing. I'm away to walk a few more kilometers around the mountains. <br><br></td></tr></table><br>
<a name="958693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZJP</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> After "playing" with the demo, one word: INCREDIBLE<br>Very good work Krischan.<br>Thx ;)<br><br>JP <br><br></td></tr></table><br>
<a name="958700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow. the detail is amazing... do you mind if I use one of the terrains for a little demo?  Im not selling it or anything, just demonstrating to some people the power of blitz 3d. I will certainly give you credit :) <br><br></td></tr></table><br>
<a name="958702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great, certainly one of the most massive landscapes ive seen..  Try populating that with props :) <br><br></td></tr></table><br>
<a name="958734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, I have only just got around to running it.  Very nice.  It even comes with a chm file - woof woof - sausages. <br><br></td></tr></table><br>
<a name="958781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems to work okay with Fast Extension.<br><br>Anaglyph 3D works (near distance) and shadows also work. <br><br></td></tr></table><br>
<a name="958784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you think you can improve it then DO IT because I publish this project under the GNU license and the code is free! <br></div><br>So everyone who uses this has to make their entire project open source? <br><br></td></tr></table><br>
<a name="958789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loktar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is friggin amazing. I wish this was released a few years ago.. the games I would of made... Great work man, the clouds, night/day, everything is top notch. <br><br></td></tr></table><br>
<a name="958795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks to all. To the questions:<br><br><div class="quote"> <b>Imaginary Human</b><br>although it looks like I see antialiasing, so did you use fullscreen AA or are the images reduced from their originals? <br></div>My nVidia driver did that with the setting "Quality".<br><br><br><div class="quote"> <b>Nate the Great</b><br>wow. the detail is amazing... do you mind if I use one of the terrains for a little demo? Im not selling it or anything, just demonstrating to some people the power of blitz 3d. I will certainly give you credit :) <br></div>Do it :-)<br><br><br><div class="quote"> <b>Gabriel</b><br>So everyone who uses this has to make their entire project open source? <br></div><a href="http://www.gnu.org/licenses/gpl-faq.html" target="_blank">As described in the GNU license FAQ</a>, yes:<br><br><div class="quote"> <b>If I use a piece of software that has been obtained under the GNU GPL, am I allowed to modify the original code into a new program, then distribute and sell that new program commercially?</b><br><br>You are allowed to sell copies of the modified program commercially, but only under the terms of the GNU GPL. Thus, for instance, you must make the source code available to the users of the program as described in the GPL, and they must be allowed to redistribute and modify it as described in the GPL.<br><br>These requirements are the condition for including the GPL-covered code you received in a program of your own. <br></div><br>Another point is that you must respect the license agreement of "eole" for the QTS code (which I modified for BlitzTiles) or write your own quadtree algorithm, the dwarf model (if you're planning to use it) and for some modified textures from Spiral Graphics (credit them or make your own). <br><br></td></tr></table><br>
<a name="958796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So everyone who uses this has to make their entire project open source? <br></div><br><div class="quote"> As described in the GNU license FAQ, yes <br></div><br><br>This is a very nice piece of software, and thankyou very much for releasing it how you have... but that's quite a 'catch', and it's important everyone makes an informed decision. <br><br></td></tr></table><br>
<a name="958817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but that's quite a 'catch' <br></div><br><br>What's the alternative? <br><br></td></tr></table><br>
<a name="958822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the catch if you don't open source a project that utilises this.  What happens? <br><br></td></tr></table><br>
<a name="958826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt that you will go to jail like an evil copyright terrorist pirate of proprietary software but if you get caught: the free software community could be informed and know that you deprive them a masterpiece of software and - even worse - ignore their ideals and therefore you'll suffer digital stoning :-) You could lose potential customers.<br><img src="http://www.smileyshut.com/smileys/new/Battle/bricks.gif">  <img src="http://www.smileyshut.com/smileys/new/Battle/fart.gif"><br><br>Its up to you: be <img src="http://www.smileyshut.com/smileys/new/Angels-and-Demons/saint-0102.gif"> or <img src="http://www.smileyshut.com/smileys/new/Angels-and-Demons/satanic-0052.gif"> <br><br></td></tr></table><br>
<a name="958831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> awesome stuff!<br><br><div class="quote"> What's the alternative?  <br></div><br><br>It's called public domain, MIT or BSD licenses allow your software to be commercially exploited by people wanting to make stuff called money. <br><br>No developer is going to take your software seriously as GPL simply forces them to make their project free. GPL make sense for an OS like Linux, for applications that don't take 20 years to be half finished it's simply an ambiguous political statement. <br><br>If you can't profit from your hard work and don't want to see anyone else profit either you have picked the correct license. <br><br></td></tr></table><br>
<a name="958835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks bereautiful from the screenies... very impressive indeed.<br><br>I'm gonna download it and have a play around right now :D<br><br>I don't think there's anything wrong with a licence agreement suggesting that any products made with BlitzTiles cannot be sold, or that redistribution must include the BlitzTiles source code, but for the entire project to be open source? That does seem to me to be a little 'strict'.<br>Perhaps 'forcing' a logo or link to appear in any project using BlitzTiles might be better? <br><br></td></tr></table><br>
<a name="958849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you can't profit from your hard work and don't want to see anyone else profit either you have picked the correct license. <br></div><br>These other licenses are not in my intention, I checked many license models earlier but the GPL was the best one I found. I don't want to make money - I want to share the software with the community and the improvements of it shall be shared, too.<br><br>I'm not sure if it is covered by the GPL V3 when I say: As the author I can still authorize an exception for your project if you ask me.<br><br>But I'm no lawyer, I'm a programmer :-) <br><br></td></tr></table><br>
<a name="958868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey krischan.  I was just trying to mess around with it and get a little car to drive around the terrain, but everything got weird when I tried to create a camera over the top of the BT_camera.  All I can see are the clouds and the car model I am using... is there something I need to know about how it works to get this to work? <br><br></td></tr></table><br>
<a name="958872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need more details. If you press "O" and "G" do you see the ground and the ocean patch? Does the terrain appear when you press "TAB"? Can you provide a Screenshot ("BACKSPACE")?<br><br>The Sunpivot, the Moonpivot and the Skypivot gets attached to the BT_Camera all the time in the function "BT_UpdatePositions". Perhaps your terrain position is messy. Did you use one of my terrains or did you try your own work? <br><br></td></tr></table><br>
<a name="958879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was using the Zillateral terrain.  Sorry I can't get a screenshot anymore but it was basically just the sky textures moving and thats all I could see.<br><br>It just seems like whenever I try to move a camera or an object I add to the scene, it jerks right back to where it was before. :( oh well ill mess around with it some more. <br><br></td></tr></table><br>
<a name="958895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loktar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ill have to read up on GPL more. But it seems like if I used this as a separate module or a function/class unto itself that I would only need to release that actual part of the program. For instance if you use a modified/recompiled DLL covered under GPL in a project I would assume you only have to make that source freely available but not the whole project that uses it. Could be wrong though gives me a reason to read up more on these license agreements. <br><br>Its funny though about 3 weeks ago I went to Big Omaha, and the president of 37Signals was speaking there. He had a good point.. WTF is up with everyone thinking everything should be free? You should get something from your hard work, and if you release a product you should charge for it, if its a good enough product. <br><br>For something like Blitz tiles I would of paid for it a few years ago when I was still actively using B3D for projects and you as the author still would of been helping people out more by selling it, even more so because you are allowing them to use your work with theirs and get something for it. Now under this agreement it might put people off because they can spend a bunch of time incorporating it and then get nothing back but a fuzzy feeling.<br><br>But in the end its your code, and it is a nice product. Just my two cents. <br><br></td></tr></table><br>
<a name="958896"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, I am curious how the terrain works, you said you are using a quadtree, so I presume you store different levels of detail or something in each level of the tree and then show the coarser levels further from the camera and the detailed levels closer? Your entire landscape is one big huge unique mesh, right, with no repetition? <br><br></td></tr></table><br>
<a name="958902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know of any licenses which force you to publish changes to the library itself but don't have any kind of viral effect on the rest of your code. If you want people to be compelled to publish changes, you probably don't have a lot of options, short of writing your own license from scratch.<br><br><div class="quote"> Ill have to read up on GPL more. But it seems like if I used this as a separate module or a function/class unto itself that I would only need to release that actual part of the program. For instance if you use a modified/recompiled DLL covered under GPL in a project I would assume you only have to make that source freely available but not the whole project that uses it. Could be wrong though gives me a reason to read up more on these license agreements. <br></div><br>The GPL has no such exception, though you might be thinking of the Lesser GPL. The Lesser GPL has an exception for dynamically linked libraries, but since Blitz3D statically links everything, that wouldn't help. You would have to be able to compile the library to a standalone DLL and then link dynamically to that. I don't think it's possible, but I'm happy to be corrected. <br><br></td></tr></table><br>
<a name="958908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  The Lesser GPL has an exception for dynamically linked libraries... <br></div><br>You can also add an exception of your own, if you wish, which can allow you to link statically. For example, wxWidgets uses this license feature. (FLTK too, I believe). <br><br></td></tr></table><br>
<a name="958916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm not sure if it is covered by the GPL V3 when I say: As the author I can still authorize an exception for your project if you ask me <br></div><br><br>The thing to remember is that GNU's GPL text is a recommended licence, but nobody forces you to use it in the exact form the FSF wrote it. The exact conditions of the licence you release your product under are always yours to tweak or completely rewrite to any extent. The reason people <i>prefer</i> GPL, MIT, BSD etc is mainly because we all already know what they say and nobody has to spend hours with their lawyer poring over the text again. If none of these fit exactly what you want, just write a new licence, or add extra Ts&amp;Cs to an existing licence template.<br><br>In any case, thanks! <br><br></td></tr></table><br>
<a name="958956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like others have noted, this is very nice.  However, the license makes it completely useless. <br><br></td></tr></table><br>
<a name="959015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK after thinking about it I want to change the license agreeement to a less restrictive one but it doesn't seem to be that easy. BlitzTiles uses some parts of other people/organizations and I have to respect their licenses, too.<br><br>Here the three major agreements in detail:<br><br>1. QTS Quadtree Terrain System<br><div class="quote"> This is a legal agreement ("License Agreement") between you And Poursin Nicolas.<br><br>You are permitted To:<br>- Create for free or commercial games <br>- Free Tool<br>	 <br>You are Not permitted To: <br>1) Sell, resell it<br>2) Use it, in commercial tool <br>3) Modify the products And sell it <br></div>&gt; BlitzTiles is a free tool, so it matches the permission.<br><br><br>2. Dwarf Model by psionic<br><div class="quote"> This model pack is available for use in freeware, shareware, commercial games/software with the following restrictions:<br><br>- You may not sell/re-sell this model pack or claim it as your own.<br>- You may not redistribute this pack in  some other model pack through a website or on a compilation CD of any kind, without my written consent. <br></div>&gt; BlitzTiles is a free tool and no single model pack, so it matches the permission.<br><br><br>3. Three Textures by Spiral Graphics<br><div class="quote"> If you are a "Free User" (someone who has not purchased an appropriate Genetica license and instead uses free or demo software):<br><br>a. You may use the preset and pack textures in both commercial and noncommercial projects such as games, movies, publications, and artwork. You will not owe us any fee for this activity.<br><br>b. You may modify our textures to whatever extent you see fit.  You will not owe us any fee for this activity.<br><br>c. You may redistribute our textures, but must clearly and visibly link to our website as the source of the textures.  If you do not wish to credit our website, then you may instead become a Paying Customer by purchasing a license for Genetica, at which point your rights will be governed by point 1 above. <br></div>&gt; BlitzTiles is a free tool using some modified textures from them and has a link in the help file to their website, so it matches their permission.<br><br><br>So which license would match these criteria? I could re-release BlitzTiles covering only my OWN work under the BSD excluding the above work and refer to their license agreements. So you can use BlitzTiles but if you want to make a commercial app/game you must ask them for their authorization, too (at least QTS or write your own Quadtree algorithm). The three textures can be replaced by own work, the dwarf model too (but should be no problem) but QTS has its own, restrictive license agreement as is needed by BlitzTiles to run, even if I rewrote and optimized it in large parts.<br><br>It is too easy to say that it is useless with my current license without answering these questions or making suggestions how to get out of this dilemma. You can blame me for my GPL license, but you must blame the others, too...<br><br>As a consequence, BlitzTiles Download is no more available until a new license and/or package is set up. <br><br></td></tr></table><br>
<a name="959019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sung</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> *OUTSTANDING WORK!!*<br><br>Congratulation to this Krischan. <br><br></td></tr></table><br>
<a name="959027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> QTS isn't GPL-ed, is it? If it is that might make it more difficult to come up with a separate licence for the rest of your work.<br><br>Releasing the functions that are your work under a separate licence from those that aren't is a good idea. Although a compiled result can only have one licence, that's up to the Blitzer making that result to resolve with the authors of the various components - you can just stick the pieces in separate include files and apply a different licence to each, no problem (your own EXE doesn't need to have permission for commercial use, since it's a demo, does it?). The Blitzer can then either seek commercial permission for the individual function packs, or replace them. <br><br></td></tr></table><br>
<a name="959069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK finished. I created a new package and modified a BSD license, now you can use it in your free AND commercial applications without releasing your whole source. I only ask you to tell me what you created with BlitzTiles and to share your BlitzTiles improvements with the BlitzBasic community again if you are willing to, but these are no prerequisites - it is up to you.<br><br>Additional I replaced the three 3rd party textures with my own work, removed the dwarf model out of my package and added the "qts.bb" containing the modified version of eole's QTS Quadtree Terrain System compatible with BlitzTiles to the first post of this thread. So my package consists only of my own work now and I was able to modify the license. I've put two text files in the empty folders "inc" and "models" with instructions how to get the two missing components needed to start blitztiles.bb or terratiles_pre-quadtree.bb.<br><br><b>Please delete the first Version "blitztiles100.exe" and all its contents and use only the version 1.01 or later from now or overwrite older files with those from version 1.01. It is the same package, only with a different license and missing 3rd party media.</b><br><br>I hope you're happy now - I lost my saturday. Time to get drunk.<br><br>PS: the modified license text:<br><div class="quote"> Copyright (c) 2009, Christian Hart. All rights reserved.<br><br>Redistribution and use in source and binary forms, with or without modification, are permitted provided that the following conditions are met:<br><br>Redistributions of source code must retain the above copyright notice, this list of conditions and the following disclaimer.<br><br>Redistributions in binary form must reproduce the above copyright notice, this list of conditions and the following disclaimer in the documentation and/or other materials provided with the distribution.<br><br>THIS SOFTWARE IS PROVIDED BY THE COPYRIGHT HOLDERS AND CONTRIBUTORS "AS IS" AND ANY EXPRESS OR IMPLIED WARRANTIES, INCLUDING, BUT NOT LIMITED TO, THE IMPLIED WARRANTIES OF MERCHANTABILITY AND FITNESS FOR A PARTICULAR PURPOSE ARE DISCLAIMED. IN NO EVENT SHALL THE REGENTS OR CONTRIBUTORS BE LIABLE FOR ANY DIRECT, INDIRECT, INCIDENTAL, SPECIAL, EXEMPLARY, OR CONSEQUENTIAL DAMAGES (INCLUDING, BUT NOT LIMITED TO, PROCUREMENT OF SUBSTITUTE GOODS OR SERVICES; LOSS OF USE, DATA, OR PROFITS; OR BUSINESS INTERRUPTION). HOWEVER CAUSED AND ON ANY THEORY OF LIABILITY, WHETHER IN CONTRACT, STRICT LIABILITY, OR TORT (INCLUDING NEGLIGENCE OR OTHERWISE) ARISING IN ANY WAY OUT OF THE USE OF THIS SOFTWARE, EVEN IF ADVISED OF THE POSSIBILITY OF SUCH DAMAGE.<br><br>A final request by the author:<br><br>The author would be happy if you let him know what you created using BlitzTiles, just out of curiosity (check the contact page in this help file how to contact him) and asks you to improve the code and share the improvements with the BlitzBasic community again like he did before. There is a lot of work in this project and the author decided to give it away for free, so set a good example if you are willing to.<br><br>But these two conditions are no prerequisites for using this code in your own free or commercial applications. The decision is up to you. <br></div> <br><br></td></tr></table><br>
<a name="959073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I lost my saturday. <br></div><br><br>Saturday just started here.. how can it already be over for you? In fact, I just woke up and checked the blitzblog lol.<br><br>Thanks for this though.  Its the best terrain I have ever seen in blitz. <br><br></td></tr></table><br>
<a name="959109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loktar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow man.. thanks Never would of thought you'd change the agreement. <br><br>Not only is he great.. but also merciful! <br><br></td></tr></table><br>
<a name="959502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Krischan: Impressive work!<br>How you think about LOD system (1-2 additional low-detail levels for every sectors, pre-calculated of course)? <br><br></td></tr></table><br>
<a name="959504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> This does not work for me.<br>I get a "Texture does not exist" error and i cant find wich one.<br><br>The screens look impresive, i realy want to see this in action. <br><br></td></tr></table><br>
<a name="959585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mikhail: I dunno how to weld the quadtree chunks. You?<br><br>Ferret: I downloaded the package again, created a qts.bb from the first post here and copied the dwarf.zip contents to the models folder - and everything is working. What configuration do you have (CPU, RAM, GFX, OS)? <br><br></td></tr></table><br>
<a name="959586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> It could be ferret needs to update his Blitz3D for dds support. <br><br></td></tr></table><br>
<a name="959590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Krischan: It's simple. Leave edges of chunks without changes that there were no incorrect connections. Unite internal triangles!<br><br>p.s. I can draw image if it difficult to understand. <br><br></td></tr></table><br>
<a name="959597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... and image :)<br><br><img src="http://fastlibs.com/temp/lod.gif"><br><br>p.s. lod0 - [original mesh tris qty] * 0.26, lod1 - [original mesh tris qty] * 0.07 <br><br></td></tr></table><br>
<a name="959605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, i should check for updates before asking questions.<br>I was wondering what a .dds file was, never heard of it before :)<br><br>Updating now. <br><br></td></tr></table><br>
<a name="959608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ferret</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works :), got a nice framerate to.<br><br>Great work Krischan. <br><br></td></tr></table><br>
<a name="959906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow impressive!  Nice screenshots. <br><br></td></tr></table><br>
<a name="968390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Man this is sweet!  Gonna try this out for my flight sim as the terrain engine.   :) <br><br></td></tr></table><br>
<a name="972535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Krischan, I'm trying to use .dds textures for the texturemap and colormap but it's giving me a MAV at this line in the QTS_Texture() function.  Any ideas why this line of code don't like a .dds texture?<br><br><pre class=code>
rgb=ReadPixelFast(Int(Floor(vx*cfactor)),Int(Floor(vz*cfactor)),cbuf)
</pre> <br><br></td></tr></table><br>
<a name="972553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not really. The line you posted is dependent on this command structure:<br><br>Input: Colormap Image 2^n+1 (ex. 1025x1025) - each texel represents one vertex RGB color.<br><br>- loaded AS IMAGE to the Global BT_ColorMap in the Function BT_InitGame()<br>- BT_Colormap assigned to Function call QTS_CreateTerrain() in BT_InitTerrain()<br>- again assigned in Function QTS_CreateTerrain() to Function QTS_Texture()<br>- cbuf% is the Imagebuffer placeholder of the Image in the global BT_Colormap<br><br>Not very complex. So I think your Image size doesn't match the total vertices dimensions 2^n+1. The x/y image coordinates gets calculated out of the actual Vertex coordinates in these lines:<br><br>vx=VertexX(surf,v)+(QTS_HeightMapSize/2.0)<br>vz=-VertexZ(surf,v)+(QTS_HeightMapSize/2.0)<br><br>I think you should debug the results of vx/vz and compare if they match the image dimension or exceeds it.<br><br>Question: why do you use a DDS Texture for the colormap image when PNG24 is sufficient (never gets loaded to VRAM)? <br><br></td></tr></table><br>
<a name="972568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> No idea.  But the colormap and texture maps are .jpgs.  What PNG24 are you talking about? <br><br></td></tr></table><br>
<a name="972569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> I orginally thought it might be more efficient to use .dds textures.  But if you're saying there's no benefit then I'll move on to my next to-do list item. <br><br></td></tr></table><br>
<a name="972577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my very first versions I used DDS but stopped working on it because I couldn't write to loaded DDS textures using Blitz3D (dunno if it is possible using Blitzmax). But I had to write to textures to avoid the ugly tile seams (now I just copy one side of a texture block with the opposite side of the adjacent block - take a look at the part below "BT_UpdateBar("Align Texture Seams",y,BT_Tiles-1,80,90)" - and all seams vanish).<br><br>Move on, its a waste of time. PNG24 is color/pixelperfect for the colormap but you won't notice any difference using a high quality JPG. It makes no sense to use a DDS format if you only load it as a (2D) image as a storage for vertex colors. <br><br></td></tr></table><br>
<a name="972840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm...I guess I need more practice.  Now that I have the Pro version of L3DT, I'm having trouble getting anything anywhere near as nice as your maps...  :( <br><br></td></tr></table><br>
<a name="972848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm...I'm getting as far as putting in the .hdr values of width height top left right bottom etc....and it loads a tiny 128x128 map that is mostly green.  I'm following the tutorial very closely too.<br><br>Any suggestions Krischan? <br><br></td></tr></table><br>
<a name="972861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> 128 is the Wilbur default size for binary surfaces. In my tutorial I explained how to get and enter the values of the exported map out of the HDR file, including a screenshot. See page 5. <br><br></td></tr></table><br>
<a name="973083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I went with exporting the terrain from 3DEM in .ter and importing it into wilbur as a .ter.  Worked good.<br><br>But my newest question is scale.  If my terrain is 10Km x 10Km and the colormap is 1025x1025 and I break the terrain up into an 8x8 segment....how many blitz units in size is each segment? <br><br></td></tr></table><br>
<a name="973131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> To export the terrain from 3DEM direct into TER is actually a bad idea. Larger terrains will be cut and resampled by 3DEM automatically with a bilinear filtered seam around - ugly!!! Better try my description in the tutorial and you won't expirience detail loss and get no seams...<br><br>Your question: it always depends on the source size of the terrain in width/height, not the scale, you must distinguish between these two values! If you have a heightmap with 1025x1025 then your colormap must match this size. The (horizontal) scale value doesn't matter for this case. One Texel = One Vertex! 10x10km describes the scale, but even a 128x128 terrain can be scaled up to 500x500km or someting like that (very low detail then but the source size never changes)! Each segment in your example is 1024/8 = 128x128.<br><br>Take a look at my tutorial at the end:<br><br><i>A map with 1 arcsecond means: The earth has a circumfence at the equator of about 40,075.02 km, which is 40,075,020 million meters. 1 Arcsecond is 1/60 of 1 Arcminute is 1/60 of 1 degree. So one pixel in a map with a 1 arcsecond resolution is 40,075,020 / (360*60*60) = 30.922 meters. This is approximate the value of the horizontal scale of 30 used in Terragen. If you use other resolutions than 1 arcsecond recalculate the resolution again to get a realisitic dimension of your map!</i><br><br>So 30m desribes the distance between two points/texel/vertices on the source map or easier: the "size" of one point in space. So 30m is really coarse for a RPG but fine enough for a flight sim. You must get a sense of scale to create these realisitic environments. It took me some time to understand but after that I was really impressed how large our planet is in reality and how easy you can set up realistic environments as i described before :-) <br><br></td></tr></table><br>
<a name="973138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mine actually came out really nice but I went the .ter route because I couldnt' get the .bin import to work.<br><br>So you're saying each segment is 128 units?  Ah so 30 units in between each vertice then?  Ok there has to be a formula without going into all the arcseconds stuff lol. :)<br><br>I'm using all the default setting you're using.  And I'm breaking the terrain up into 8x8 segments.  Just trying to get a handle on how big each segment is in blitz units so I can apply AABB checking.<br><br>I'm also looking into LOD by way of storing a second set of meshes in MeshTileLOD() and substituting in the lower mesh based on distance/AABB checking. <br><br></td></tr></table><br>
<a name="981464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_JIM</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> The link is broken :( Any chance to have it back up? <br><br></td></tr></table><br>
<a name="981506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fixed it. I changed my hosting provider and the file had upper case letters and I think Linux doesn't like that :-) <br><br></td></tr></table><br>
<a name="989243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks very nice, but I cannot run it.<br><br>I've downloaded both the qts.bb file and the dwarf and I've setup everything correctly.<br><br>I'm getting a MAV in the BT_LoadTexture function when it tries to load the texture "detail2.dds".<br><br>EDIT:<br><br>Nvm, I've gotten it to work after updating Blitz3D.<br>I was still using V1.90. <br><br></td></tr></table><br>
<a name="989303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grindalf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is awesome stuff, Im currently useing it for a project.<br>Thanks Krischan <br><br></td></tr></table><br>
<a name="989305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >beanage</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone an Octtree implementation? <br><br></td></tr></table><br>
<a name="989645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, Christian, that's excellent work!<br><br>Hast Du sehr gut gemacht! :) <br><br></td></tr></table><br>
<a name="989646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Smurfpuss</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> how fast woulde it be if grass was added?<br>and trees? <br><br></td></tr></table><br>
<a name="1008575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Idk, but i'd LOVE to see that! <br><br></td></tr></table><br>
<a name="1058238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Man I just hate to see this thread sink into oblivion.  Bump for the masses.  Is anyone doing anything with this?  I'd love to see it if so. <br><br></td></tr></table><br>
<a name="1058590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzTiles is a spectacular piece of work.   As is BlitzSky.  I wish this was ported to OGL + BMax or Xors3D + BMax.  That would be the ****. <br><br></td></tr></table><br>
<a name="1058629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> This would be great if ported to miniB3D... but it's a LOT of code, really a insane job to do... :( <br><br></td></tr></table><br>
<a name="1059905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was busy, so I just saw this. Thanks a lot for sharing! <br><br></td></tr></table><br>
<a name="1096125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> I simply REFUSE to let this thread die :) <br><br></td></tr></table><br>
<a name="1096133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot2005</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz Tiles is Amazing but are they still selling it? <br><br></td></tr></table><br>
<a name="1096136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's FREE =D<br><br>It uses the GPL License =D Free for all commercial &amp; non-commercial games =D <br><br></td></tr></table><br>
<a name="1096188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't use the GPL license - it's a modified BSD license - please read the whole thread again :-p 100 times :-D But yes, it's free. <br><br></td></tr></table><br>
<a name="1096405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> @krischan, whats ur email mate? <br><br></td></tr></table><br>
<a name="1119621"></a>

<a name="1119622"></a>

<a name="1119623"></a>

<a name="1119624"></a>

<a name="1119685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update! No, no, it isn't the miniB3D version :-D<br><br>A few days ago I've been watching LOTR in TV again and I asked myself, how the "original" locations from Tolkiens map would look like in 3D. I've been searching the whole internet for usable (height)maps and finally found the <a href="http://www.moddb.com/mods/merp-middle-earth-roleplaying-mod" target="_blank">MERP project for Oblivion</a>. Their base map is not exactly like Tolkiens original maps but you can get a good feeling for the area. And my BlitzTiles is perfect for the atmospheric ambiente :-) Unfortunately, I had to resize the map down to 2049 resolution, which is over 10000 in the original! Blitz3D couldn't handle a larger map.<br><br>But now start together with Gimli in the misty mountains range facing the sundown westwards over Eriador. Can you spot the shire and Hobbiton? Oh wait, I didn't add this...<br><br><img src="http://www.christianhart.de/bb/blitztiles/middleearth_preview.jpg"><br><br>Grab it here and have fun there: <a href="http://www.christianhart.de/bb/blitztiles/map_middleearth.exe" target="_blank">Download (7.3MB 7zip SFX)</a><br><br>But wait! There is more. BlitzTiles is now able to SAVE the world as a B3D file and I added a simple viewer using my BlitzSky. It is still experimental but gives nices results at this point:<br><br><a href="http://www.christianhart.de/bb/blitztiles/blitztiles_update102.zip" target="_blank">Download BlitzTiles Update 1.02 (0.1MB ZIP)</a><br>Just unzip and overwrite all files in the root of the BlitzTiles folder. BT will create a B3D subdirectory and after the scene has been rendered you will find a "terrain.b3d" in the corresponding subfolder and you can view the map very easily starting the viewer.bb and change the map name variable:<br><br><b>Middle Earth total view in the viewer</b><br><img src="http://www.christianhart.de/bb/blitztiles/middleearth_viewer.jpg"><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is gobsmackingly impressive, I used to try and render landscapes in vistapro on the miggy some 15 odd years ago. My gps plotter does altitude as well, now to generate some landscapes from gps data, that'd be sweet! <br><br></td></tr></table><br>
<a name="1119667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> Must be missing the textures <br><br></td></tr></table><br>
<a name="1119680"></a>

<a name="1119689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> I updated the package, it is now possible to download a complete installation and separate maps here:<br><br><a href="http://www.christianhart.de/bb/blitztiles/blitztiles102.exe" target="_blank">Main Program: BlitzTiles 1.02 (4.4MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_desert.exe" target="_blank">MAP: Desert Mesa 1025x1025 (3.7MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_grandcanyon.exe" target="_blank">MAP: Grand Canyon 1025x1025 (5.5MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_monkeyisland.exe" target="_blank">MAP: Monkey Island 2049x2049 (5.2MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_middleearth.exe" target="_blank">MAP: Middle Earth 2049x2049 (7.3MB)</a><br><a href="http://www.christianhart.de/bb/blitztiles/map_zillertal.exe" target="_blank">MAP: Zillertal 1025x1025 (5.1MB)</a><br><br><a href="http://www.christianhart.de/bb/blitztiles/Tutorial_how_to_create_real_Terrains_for_BlitzTiles.pdf" target="_blank">Tutorial how to create real Terrains for BlitzTiles</a><br><br>@Doggie: ?!? can you explain? It's working fine here and I added everything you need.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119706"></a>

<a name="1119707"></a>

<a name="1119708"></a>

<a name="1119709"></a>

<a name="1119710"></a>

<a name="1119711"></a>

<a name="1119712"></a>

<a name="1119713"></a>

<a name="1119714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Krischan,<br><br>{EDIT} Ran in debug mode - found the problem - I needed to extract the middle earth file into the maps directory - works now! Great work, you might want to include the middle earth map file within the maps directory so that blitz tiles complies without a memory violation. <br><br>Maybe my fault for not reading install intructions - if so sorry. I'd a very quick glance at the tutorial, great detailed instructions.<br><br>[End Edit]<br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get a MAV in qts.bb right where it reads terragen data<br>seekfile(file,20):QTS_Size=ReadInt(file) <br><br></td></tr></table><br>
<a name="1119760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you install the map(s) in the "maps" subfolder, too? Take a look at the blitztiles.ini, first entry. For example:<br><br>[BlitzTiles]<br>Scene=middleearth<br><br>There must be the corresponding map "maps\middleearth\" folder with<br><br>- middleearth.ini<br>- middleearth.ter<br>- middleearth_colormap.jpg<br>- middleearth_preview.jpg<br>- middleearth_texture.jpg<br><br>I deleted my folder and I get the same error message like you so this should fix it.<br><br>@Blitzplotter: yeah, I thought about that but I wanted to keep the main program separated from the maps. But hey guys, each of you has 100 billion neurons, use some of them :-D <br><br></td></tr></table><br>
<a name="1119762"></a>

<a name="1119763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> You've done a great job krischan, it is an idea to make people work a little to use your code, and it is testament to your logical file structure to populate the map directory with. A. Map file. I have a directory checker function I might thread into your sweet code that may prompt a humble user to slap a map file i the relevant slot ,I do love your  program ! I. Need everyone of my .5 billion neurons to integrate my gps app with your tile thing, however life and work kicks back in in less than a week so chance'll be a fine thing! One of my recent change log entries was Feb 11!<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119764"></a>

<a name="1119765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> Feel free to create a 1.03 version with this addition but don't put too much effort in it - if I have time I think about converting this project to miniB3D, clear up some errors and perhaps speed up the terrain chunk generation. BlitzTiles is nice but not very useful right now (or has anybody used it beside Chroma?).<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119928"></a>

<a name="1119929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doggie</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK. Thanks. Had neglected to make sure the files copied in correctly. Weird thing was the program shut down with file does not exist on "CloseFile f" so I rem'ed it out and it's working fine. Have to play around with it.<br><br>DOG<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1120005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried invoking my readfile function but was getting MAVs so have gave up for now - As long as the maps directory is populated with a map it works great! <br><br></td></tr></table><br>
<a name="1120034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would love to see a miniB3D version at some point too Krischan. <br><br></td></tr></table><br>
<a name="1120050"></a>

<a name="1120051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> At the moment, I'm experimenting with <a href="/codearcs.php?code=2237" target="_blank">warner's minib3d terrain functions</a>. Here are two screens showing my efforts in miniB3D from today (VERY early stage). The view is towards the "Matterhorn" mountain in Switzerland. I'm using a 1024x1024 heightmap and a 4096x4096 normalmap, the "shadows" are calculated with simple DOT3 shading with the normalmap applied to the mesh which gives a nice day/night cycle.<br><br><img src="http://www.christianhart.de/bb/blitzmaxtiles/blitzmaxtiles1.jpg"><br><img src="http://www.christianhart.de/bb/blitzmaxtiles/blitzmaxtiles2.jpg"><br><br>Now I need to convert my Terragen loader. And I'm still not sure how to split the tiles here. But it's running very fast without splitting already.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1120132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great, very Skyrim'ish! <br><br></td></tr></table><br>
<a name="1120548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow fantastic work! Very impressed :) <br><br></td></tr></table><br>
<a name="1120641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;3 I LOVE THE MIDDLE EARTH MAP! =D <br><br></td></tr></table><br>
<a name="1120642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> Krischan, when I try to use the sun and the moon combined with FastExt, for some reason, the sun/moon has a weird white quad in front of the camera.... Its weird. How do I fix it? <br><br></td></tr></table><br>
<a name="1120643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> Krischan, when I try to use the sun and the moon combined with FastExt, for some reason, the sun/moon has a weird white quad in front of the camera.... Its weird. How do I fix it? <br><br></td></tr></table><br>
<a name="1120644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sry for the double post... i accidently hit submit twice <br><br></td></tr></table><br>
<a name="1120706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> Last post in this thread rez.<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=87026#1013396" target="_blank">http://blitzbasic.com/Community/posts.php?topic=87026#1013396</a> <br><br></td></tr></table><br>
<a name="1120839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks alot, Stayne! :) <br><br></td></tr></table><br>
<a name="1120885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> These screenies are all very well, but most 3d games happen from an on-the-ground perspective.<br><br>How does this lib handle that issue? <br><br></td></tr></table><br>
<a name="1120940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to use the fastext lib to give a glow to both the sun AND the moon? is there a way around this terrible quad glitch? &gt;&lt; <br><br></td></tr></table><br>
<a name="1128019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone know if I can use QTS terrain and blitztiles in my commercial project? <br><br></td></tr></table><br>
<a name="1128191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have a commercial project in the works yet you don't have enough common sense to read the License.txt file?  Scary stuff kiddo. <br><br></td></tr></table><br>
<a name="1128192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> I checked... U dont understand what Im asking... Im asking if "QTS" is royalty free.. NOT BlitzTiles. I RESENT ur comment, sir :&lt; <br><br></td></tr></table><br>
<a name="1128426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can anyone else answer my question instead of misreading my question? -.- <br><br></td></tr></table><br>
<a name="1128436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, they both allow you to use in free or commercial games without paying royalties. <br>You're not allowed to make a commercial tool with QTS, only a commercial game.<br><br>You need to have a BlitzTiles.TXT file in your game folder that contains <a href="/posts.php?topic=84809#959069" target="_blank">a copy of the full copyright notice</a> of BlitzTiles, it's required in the license.<br><br>Optionally, e-mail the author (Krischan) about any improvements you made to the BlitzTiles library and in what projects you've used his library. Again, this is optional. <br><br></td></tr></table><br>
<a name="1128440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Kryzon! :) <br><br></td></tr></table><br>
<a name="1128462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> =) <br><br></td></tr></table><br>
<a name="1129061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, a question, you can stop time?, Ie move the clouds and all that, but that the sun is always in a position to get him into this Scena. <br><br></td></tr></table><br>
<a name="1129162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please re-translate that. i dont understand a WORD ur saying.. <br><br></td></tr></table><br>
<a name="1129196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Please re-translate that. i dont understand a WORD ur saying..  <br></div><br><br>As I can do to make the sun stand still?, Meaning that the clouds move but there is no day and night, if not one day, and only move the clouds. <br><br></td></tr></table><br>
<a name="1129202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Guys. do u understand a WORD? Can someone PLEASE make sense of this? <br><br></td></tr></table><br>
<a name="1129207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> =( <br><br></td></tr></table><br>
<a name="1129211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hint: take a look at the BT_UpdateScene() function, the vars <u>time</u> and/or <u>BT_SunAngle</u> take care of all the movement there, clouds, sky, light etc..<br><br>But that's not hard to find out by yourself if you read the well commented source... <br><br></td></tr></table><br>
<a name="1129214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoa, lay off the guy. He doesn't speak English as his first language. I don't understand a word you say sometimes. <br><br></td></tr></table><br>
<a name="1129220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hint: take a look at the BT_UpdateScene() function, the vars time and/or BT_SunAngle take care of all the movement there, clouds, sky, light etc..<br><br>But that's not hard to find out by yourself if you read the well commented source... <br></div><br><br>Thanks!! <br><br></td></tr></table><br>
<a name="1129221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im just trying to help.... jesus.... i dont speak any other language besides english. how am i SUPPOSED to help? <br><br></td></tr></table><br>
<a name="1129282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>i dont speak any other language besides english. how am i SUPPOSED to help? <br><br> <br></div><br><br>If you can't offer any help then you shouldn't.  Obviously his question was not directed at you, anyway.  It was directed to the author or someone who knows how the program works.<br><br>In your posts up higher in this thread you were asking for help, too.  So, if you don't understand it then you shouldn't be expected to answer questions about it. <br><br></td></tr></table><br>
<a name="1129716"></a>

<a name="1129717"></a>

<a name="1129718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look, I'm sorry, ok? I was only trying to help... :( Anyways. Can we PLEASE get back on topic?<br><br><br>And came someone PLEASE help fix that stupid quad glitch with the FastExtensions? Thanks! :)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1129747"></a>

<a name="1129748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Krischan, when I try to use the sun and the moon combined with FastExt, for some reason, the sun/moon has a weird white quad in front of the camera.... Its weird. How do I fix it? <br></div><br><br><br>If I remember correctly, there is a version called Blitz Sky, in that there is a problem when attempting to use with FastLibs, now well in the land BtlizTiles version, the version of Heaven will not have that problem, the difference is that the moon does not looks so bright. So as a solution you must use version BlitzTiles Sky and Sky Blitz.<br><br>&gt;&gt;&gt; <a href="http://www.blitzbasic.com/Community/posts.php?topic=87026" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=87026</a><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1129749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks alot, Yue :) And uh, sorry if I offended u. I didnt mean to :) <br><br></td></tr></table><br>
<a name="1129901"></a>

<a name="1129902"></a>

<a name="1129905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Thundros <br></div><br>HideEntity BS_MoonBright2 BlitzSky Run + FastLibs =) or Find BlitzSky.bb  EntityBlend BS_MoonBright2,5 and change EntityBlend BS_MoonBright2,1 =)<br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> =)<br><br><a href="http://youtu.be/Gx2Qx-Cv-VQ" target="_blank">http://youtu.be/Gx2Qx-Cv-VQ</a> <br><br></td></tr></table><br>
<a name="1130542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone make it so that we can import a terragen file just like this, only with an import menu? <br><br></td></tr></table><br>
<a name="1130571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gonna have to code your own editor Thundros. <br><br></td></tr></table><br>
<a name="1130590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> I already did... I just need to know how to import a full TER file, textures and all. <br><br></td></tr></table><br>
<a name="1130618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look in the terratiles_pre-quadtree.bb, there is a function called "LoadTerragen". For the import menu: I COULD make it but I put all my efforts in my new planet generator now. Please code it yourself and like I said before - BlitzTiles is well commented. <br><br></td></tr></table><br>
<a name="1130796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> I already made the import menu. I just need the function to PROPERLY load ter files the EXACT way BlitzTiles does <br><br></td></tr></table><br>
<a name="1130804"></a>

<a name="1130805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still looking forward to playing with this some more, unfortunately is going to have to wait until my current study year finishes - September!!! AAaarrgh.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might have noticed that TERRATILES is exactly like BLITZTILES, with the difference that Blitztiles is using a quadtree instead. So I assume that you either didn't take a look at this easy and commented function or you don't understand it. In both cases, I can't help (SYS 64739 ;-).<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; -----------------------------------------------------------------------------
; Read Terragen-File and store heightdata to bank
; -----------------------------------------------------------------------------
Function LoadTerragen(filename$)
	
	Local bank%,i%,xpt%,ypt%,h%,bytes%=16
	Local infoflag$,sizeflag$,xptsflag$,yptsflag$,scalflag$,cradflag$,crvmflag$,altwflag$
	
	; open stream
	Local file=ReadFile(filename$)
	
	; Terragen-Header available? (mandatory)
	For i=1 To 16 : infoflag=infoflag+Chr(ReadByte(file)) : Next
	If infoflag&lt;&gt;"TERRAGENTERRAIN " Then RuntimeError "No valid Terragen Header found!"
	
	; SIZE-Flag available? (mandatory)
	For i=1 To 4 : sizeflag=sizeflag+Chr(ReadByte(file)) : Next
	If sizeflag&lt;&gt;"SIZE" Then RuntimeError "No SIZE Flag found!" Else TT_SIZE=ReadInt(file) : bytes=bytes+4+4
	
	; XPTS-Flag available? (mandatory)
	For i=1 To 4 : xptsflag=xptsflag+Chr(ReadByte(file)) : Next
	If xptsflag&lt;&gt;"XPTS" Then RuntimeError "No XPTS Flag found!" Else TT_XPTS=ReadInt(file) : bytes=bytes+4+4
	
	; YPTS-Flag available? (mandatory, but not used in this app)
	For i=1 To 4 : yptsflag=yptsflag+Chr(ReadByte(file)) : Next
	If yptsflag&lt;&gt;"YPTS" Then RuntimeError "No YPTS Flag found!" Else TT_YPTS=ReadInt(file) : bytes=bytes+4+4
	
	; SCAL-Flag available? (mandatory, but not used in this app)
	For i=1 To 4 : scalflag=scalflag+Chr(ReadByte(file)) : Next
	If scalflag&lt;&gt;"SCAL" Then RuntimeError "No SCAL Flag found!" Else TT_XSCALE=ReadFloat(file) : TT_YSCALE=ReadFloat(file) : TT_ZSCALE=ReadFloat(file) : bytes=bytes+4+4+4+4
	
	; CRAD-Flag available? (optional, not used in this app)
	For i=1 To 4 : cradflag=cradflag+Chr(ReadByte(file)) : Next
	If cradflag&lt;&gt;"CRAD" Then SeekFile file,FilePos(file)-4 : Goto nextcrvm Else TT_CRAD=ReadFloat(file) : bytes=bytes+4+4
	
	; CRVM-Flag available? (optional, not used in this app)
	.nextcrvm
	For i=1 To 4 : crvmflag=crvmflag+Chr(ReadByte(file)) : Next
	If crvmflag&lt;&gt;"CRVM" Then SeekFile file,FilePos(file)-4 : Goto nextaltw Else TT_CRVM=ReadFloat(file) : bytes=bytes+4+4
	
	; ALTW-Flag available? (mandatory)
	.nextaltw
	For i=1 To 4 : altwflag=altwflag+Chr(ReadByte(file)) : Next
	If altwflag&lt;&gt;"ALTW" Then RuntimeError "No ALTW Flag found!" Else TT_HSCALE=ReadShort(file) : TT_HBASE=ReadShort(file) : bytes=bytes+4+2+2
	
	; Banksize = x*y*2
	bank=CreateBank(TT_XPTS*TT_XPTS*2)
	
	; read height data
	For ypt=TT_XPTS To 1 Step -1
		
		For xpt=1 To TT_XPTS Step 1
			
			; get 16bit height info and convert to signed integer
			h=ReadShort(file)-32768
			
			; put height data to bank
			PokeShort bank,((xpt-1)+(ypt-1)*TT_XPTS)*2,h
			
		Next
		
	Next
	
	; close stream
	CloseFile(file)
	
	; precalculate global variables
	TT_Scale=TT_XPTS*TT_XSCALE
	TT_HalfScale=TT_Scale/2.0
	
	; scale terrain if specified
	If TT_TerrainScale&gt;1 Then
		Print "Scaling Terrain"
		TT_Heightfield=ScaleBank(bank,TT_XPTS,TT_XPTS,1.0/TT_TerrainScale)
		TT_XPTS=Int(Ceil(TT_XPTS*1.0/TT_TerrainScale))
		TT_SIZE=TT_SIZE*1.0/TT_TerrainScale
		TT_XSCALE=TT_XSCALE*TT_TerrainScale
		FreeBank bank
	Else
		TT_Heightfield=bank
	EndIf
	
	; calc number of tiles and tilesize
	TT_Tiles=(TT_XPTS-1)/TT_TileSize
	TT_Tilescale%=(TT_XPTS-1)/TT_Tiles
	
	; redim arrays
	Dim TT_MeshTile(TT_Tiles,TT_Tiles),TT_MeshSurface(TT_Tiles,TT_Tiles),TT_MeshTriangles(TT_Tiles,TT_Tiles)
	
End Function</textarea> <br><br></td></tr></table><br>
<a name="1130856"></a>

<a name="1130859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does this texture each mesh of the terrain? And doesnt this have that problem with the invisible lines in the middle of each terrain?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, theres a MAJOR difference. can u pull out all the functions needed from blitz tiles, to load the terrain, and texture it? <br><br></td></tr></table><br>
<a name="1131224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bump :) <br><br></td></tr></table><br>
<a name="1131621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone? <br><br></td></tr></table><br>
<a name="1262435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not Found<br><br>The requested URL /bb/blitztiles/grandcanyon.exe was not found on this server. <br><br></td></tr></table><br>
<a name="1262437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PhotonTom</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> The link is wrong (the text is correct) it should be map_grandcanyon.exe <br><br></td></tr></table><br>
<a name="1262438"></a>

<a name="1262439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, I do not understand use the google translator .<br><br>Whenever I try to download I get this notice.<br><br>"Not Found<br><br>The requested URL /bb/blitztiles/grandcanyon.exe was not found on this server." <br><br></td></tr></table><br>
<a name="1262440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Yue&gt;&gt;you can use the links at the top, they are ok here...<br><div class="quote"> <br>Main Program: BlitzTiles 1.02 (4.4MB)<br>MAP: Desert Mesa 1025x1025 (3.7MB)<br>MAP: Grand Canyon 1025x1025 (5.5MB)<br>MAP: Monkey Island 2049x2049 (5.2MB)<br>MAP: Middle Earth 2049x2049 (7.3MB)<br>MAP: Zillertal 1025x1025 (5.1MB)<br> <br></div> <br><br></td></tr></table><br>
<a name="1262449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fixed. <br><br></td></tr></table><br>
<a name="1262451"></a>

<a name="1262453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Thanks for fixing.<br>I have a new problem, I think I'm doing something wrong.<br><br>The steps I make are the following.<br><br>run Blitztiles.bb<br>Here I created a file in the B3D, Desert.b3d directory.<br><br>Run the viewer.bb.<br>Here are the disadvantages:<br><br>I can not carry out any task on the terrain mesh.<br><br>For example if use TurnEntity Mesh, 0, 1, 0, only one picture field moves.<br><br><img src="http://oi60.tinypic.com/xpda10.jpg"><br><br>TurnEntity<br><br>If I try scalar field does not work, if I want to put collisions either,<br><br>Not that I'm doing wrong.<br><br>Greetings <br><br></td></tr></table><br>
<a name="1262472"></a>

<a name="1262473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are using the very *experimental* B3D save mode which uses a custom BB3D write function. It writes all 8x8=64 separate meshes into one single, large B3D file. Unfortunately it doesn't behave like a "normal" mesh - I don't have a solution for this.<br><br>Hint: check the B3D file format specifications and the function "WriteBB3D" in the blitztiles.bb as I think that the file is not 100% complatible with Blitz3D because I'm not sure if all needed variables are written to the B3D file:<br><br><a href="/sdkspecs/sdkspecs/b3dfile_specs.txt" target="_blank">http://www.blitzbasic.com/sdkspecs/sdkspecs/b3dfile_specs.txt</a> <br><br></td></tr></table><br>
<a name="1262491"></a>

<a name="1262492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks You!, Fix here.<br><br><pre class=code>
Function WriteBB3D( f_name$,tiles%,scaler#=1.0 )
	
	file=WriteFile( f_name$ )
	
	b3dSetFile( file )
	
	b3dBeginChunk( "BB3D" )
	b3dWriteInt( 1 )	;version
	
	b3dBeginChunk( "TEXS" ) ; list all textures used by the mesh
	For x=0 To tiles-1
		
		For y=0 To tiles-1
		
			b3dWriteString( "X"+x+"Y"+y+".bmp" ) 	;texture file
			b3dWriteInt( 16+32 )					;flags
			b3dWriteInt( 2 )					;blend
			b3dWriteFloat( 0 )					;x in tex 0 (hu?)
			b3dWriteFloat( 0 )					;y in tex 0
			b3dWriteFloat( 1 )					;x scale 1
			b3dWriteFloat( 1 )					;y scale 1
			b3dWriteFloat( 0 )					;rotation 0
		
		Next
	
	Next
	b3dEndChunk()	;end of TEXS chunk
	
	For x=0 To tiles-1
		
		For y=0 To tiles-1
			
			b3dBeginChunk( "BRUS" )
			b3dWriteInt( 1 )					;1 texture per brush
			b3dWriteString( "X"+x+"Y"+y )		;name
			b3dWriteFloat( 0.5 )					;red
			b3dWriteFloat( 0.5 )					;green
			b3dWriteFloat( 0.5 )					;blue
			b3dWriteFloat( 1 )					;alpha
			b3dWriteFloat( 0.0 )					;shininess
			b3dWriteInt( 1 )					;blend
			b3dWriteInt( 2 )					;FX
			b3dWriteInt( i )					;brush index
			i=i+1
			b3dEndChunk()	;end of BRUS chunk
			
		Next
		
	Next
	
	i=0

b3dBeginChunk( "NODE" 
b3dWriteString( "Scene_Root" ); Node Root
b3dWriteFloat( 0 )	;x_pos
b3dWriteFloat( 0 )	;y_pos
b3dWriteFloat( 0 )	;y_pos
b3dWriteFloat( 1 )	;x_scale
b3dWriteFloat( 1 )	;y_scale
b3dWriteFloat( 1 )	;z_scale
b3dWriteFloat( 1 )	;rot_w
b3dWriteFloat( 0 )	;rot_x
b3dWriteFloat( 0 )	;rot_y
b3dWriteFloat( 0 )	;rot_z
	
	For x=0 To tiles-1
		
		For y=0 To tiles-1
	
			b3dBeginChunk( "NODE" )
			b3dWriteString( "X"+x+"Y"+y )
			b3dWriteFloat( 0 )	;x_pos
			b3dWriteFloat( 0 )	;y_pos
			b3dWriteFloat( 0 )	;y_pos
			b3dWriteFloat( 1 )	;x_scale
			b3dWriteFloat( 1 )	;y_scale
			b3dWriteFloat( 1 )	;z_scale
			b3dWriteFloat( 1 )	;rot_w
			b3dWriteFloat( 0 )	;rot_x
			b3dWriteFloat( 0 )	;rot_y
			b3dWriteFloat( 0 )	;rot_z
			WriteMESH( BT_MeshTile(x,y),i,scaler )
			b3dEndChunk()	;end of NODE chunk
			
			i=i+1
			
		Next
		
	Next
	b3dEndChunk()	; Node Here.
	b3dEndChunk()	;end of BB3D chunk
	
	CloseFile file
	
End Function
</pre> <br><br></td></tr></table><br>
<a name="1262494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems that the above is not a solution to the problem, because the mesh is created with all its triangles. Whereas if the arrangement is omitted, tris renderings are often less depending on the angle of vison camera.<br><br>But I think I have the solution, I export the terrain without the root scene I export posterioormente another in accordance to establish collisions on the ground, which make invisible. <br><br></td></tr></table><br>
<a name="1262504"></a>

<a name="1262505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i58.tinypic.com/2q24cg0.jpg"><br><br>Sorry, this does not work here, apparently the ground is very small in my project mars, my question is: I have to make my model rover many smaller? <br><br></td></tr></table><br>
<a name="1262517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, no problem here. :)<br><br>I just want you to know that I'm using his powerful library in my project<br>: D<br><img src="http://i60.tinypic.com/330a5h3.jpg"> <br><br></td></tr></table><br>
<a name="1262781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> EXCELLENT QUALITY, Yue! GOOD job! =D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
