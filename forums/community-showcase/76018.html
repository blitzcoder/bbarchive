<!DOCTYPE html><html lang="en" ><head ><title >New Bitmap Font Module</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >New Bitmap Font Module</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >New Bitmap Font Module</a><br><br>
<a name="849767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiering</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a module I made that can display fonts created with the AngelCode Bitmap Font Generator.<br><br><img src="http://www.wieringsoftware.nl/blitz/bmfont.jpg"><br><br>Download it at: <a href="http://www.wieringsoftware.nl/blitz/" target="_blank">http://www.wieringsoftware.nl/blitz/</a> <br><br></td></tr></table><br>
<a name="849771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoooo! This is one of the best and fastest arround! <br><br></td></tr></table><br>
<a name="849786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Downloading now! Looks great. <br><br></td></tr></table><br>
<a name="850009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> b.t.w. <br><br>1. is this crossplatform or Win32 only?!<br>2. can it do warping? (like max 30 chars on 1 line?)<br>3. i get black non-transparant boxes behind the characters when adding it to my own engine. Your demo however works fine. Whats wrong? (i have setblend alphablend)<br>4. could you document the module?<br><br>screenshot:<br><img src="http://www.fantasaar.com/bmpfontdemo.jpg"> <br><br></td></tr></table><br>
<a name="850135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiering</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. I only tested it in Win32, so I'm not really sure (please let me know if there are problems!).<br>2. You mean wrapping? I'll probably add that to the next version (along with ALIGN_JUSTIFY)<br>3. Turn on alpha blending (the function doesn't do that itself, because you could also be using LIGHT_BLEND)<br>4. It is mostly documented, you probably have to run Rebuild Documentation to integrate it. <br><br></td></tr></table><br>
<a name="850204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. thanks! Im really looking forward to the update.<br><br>About the blending, i said i had ALPHABLEND set :-)<br>Here is the code:<br><pre class=code>	'Font test
	SetBlend ALPHABLEND
	SetScale 0.6, 0.6
	myBMF.CallBackChars = "&lt;&gt;0123456789"
	myBMF.SkipChars = "&lt;&gt;"
	myBMF.DrawText ("&lt;&gt;By using &lt;callback functions&gt;, you can make your text look even prettier! You can use~n" + ..
	                "such a function to change the color of the text and &lt;highlight&gt; something for example ...~n" + ..
	                 "~n" + ..
	                 "... or move the characters around:   0 1 2 3 4 5 6 7 8 9~n" + ..
	                 "~n" + ..
	                 "&lt;HAVE FUN!&gt;", 34, 470) 
	SetScale 1, 1</pre><br><br>b.t.w. can someone with a Mac reading this, please compile the ready to go BMPFont demo from Wiering and check if it runs with MacOS and/or Linux?! <br><br></td></tr></table><br>
<a name="850257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> goldstar - in the screenshot you posted it looks fine, i dont see any squares behind the letters, <br>shadows look like they may be turned on.<br><br><br>Wiering thanks for the module, <br><br></td></tr></table><br>
<a name="850297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> goldstar - it's fine, I see the black blocks, looks like a maskimage problem. <br><br></td></tr></table><br>
<a name="850311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am trying to convert the demo to an independent exe by including all of the fnts and pngs as integrated binary files "incbin" but for some rason I get an error when I try to incbin "arial.fnt", I get <br><div class="quote">  "unhandleException:attempt to access field or method of Null object"  <br></div><br>here:<br><pre class=code>
Local BMFArial: TBMFont = TBMFont.Create ("incbin::", "Arial.fnt")
</pre><br>this is what I changed:<br><pre class=code>
Incbin "Arial.fnt"
</pre><br><pre class=code>
' load font with textures from file
Local BMFArial: TBMFont = TBMFont.Create ("incbin::", "Arial.fnt")

</pre><br>any idea what I should do or is it possible? <br><br></td></tr></table><br>
<a name="850314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code> Local BMFArial: TBMFont = TBMFont.Create ("incbin::Arial.fnt") </pre>?<br>&lt;edit&gt; <a href="/posts.php?topic=65310#729378" target="_blank"> this </a> suggests a copyright issue though <br><br></td></tr></table><br>
<a name="850317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> no. you are assuming it's a true font but it's just the name and is a file created by Angel Code Font Generator. it is used to extract the characters from the png file. <br><br></td></tr></table><br>
<a name="850330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiering</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Goldstar, sorry I overread that :-)<br>Then you probably have changed AutoImageFlags. Try adding this before creating/initializing the fonts:<br>AutoImageFlags MASKEDIMAGE | FILTEREDIMAGE<br><br><br>Jesse, you probably didn't include the two .png files with incbin as well. This works for me:<br><br>Incbin "Arial.fnt"<br>Incbin "Arial_00.png"<br>Incbin "Arial_01.png"<br>Local BMFArial: TBMFont = TBMFont.Create ("incbin::", "Arial.fnt") <br><br></td></tr></table><br>
<a name="850332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> yea, thats probably what happened. although, I still haven't tried it. Thanks.<br><br>[edit]<br>by the way, thans for sharing. Really apreciate it. <br><br></td></tr></table><br>
<a name="850537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> doh. i forgot to set the maskcolor to 0,0,0. fixed now. <br><br></td></tr></table><br>
<a name="851951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im using bathazar font and I cant get the ' to work.<br>I export it using the font bitmap generator but cant get it to work with the module - it just uses a space instead <br><br></td></tr></table><br>
<a name="852508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiering</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can list all the characters in your font like this:<br><pre class=code>
For Local i: Int = 0 To BMF.Id.length - 1
  Print BMF.Id[i] + ": " + Chr(BMF.Id[i])
Next
</pre><br>You'll probably see that Chr(8216) or Chr(8217) is the one you are looking for.<br><br>You could probably also do something with a callback function and draw a comma at position dy=-10 or so, something like:<br><pre class=code>
  if Char="&lt;" dy = -10
  if Char="&gt;" dy = 0
</pre><br>In your text that would be: ... &lt;,&gt; ... <br><br></td></tr></table><br>
<a name="867176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >christian223</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent mod!, thanks a lot Wiering!.<br><br>I have a problem trying to use it in my game though, for some reason all the letters have an offset, for example i do this:<br><br><pre class=code> DrawText("x: " + MouseX() + ".. y: " + MouseY(), MouseX(), MouseY()) 
</pre><br><br>And the text appears like 100 pixels away from the cursor of the mouse, in both x an y coords, any idea on why this happens???.<br><br>EDIT:<br>Finally i figured it out, its because i had Automidhandle(true),  i put it back to false and there is no problem. <br><br></td></tr></table><br>
<a name="930208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trader3564</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uhm, guys, this doesnt work anymore with the latest version of Angle Font. Can anyone find out how to fix this? The file format seems to have changed a bit... <br><br></td></tr></table><br>
<a name="930259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=79976#902310" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=79976#902310</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
