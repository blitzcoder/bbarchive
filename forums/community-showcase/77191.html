<!DOCTYPE html><html lang="en" ><head ><title >Screen space ambient occlusion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Screen space ambient occlusion</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Screen space ambient occlusion</a><br><br>
<a name="863571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Screen space ambient occlusion provides a rough approximation of real-time global illumination.  It is fairly inexpensive to render and will run easily on shader model 3.0 cards and up.  The difference in image quality is obvious between the SSAO-lit image and the image with direct lighting only.<br><br>Video here:<br><a href="http://www.youtube.com/watch?v=j_98JDOmuhw" target="_blank">http://www.youtube.com/watch?v=j_98JDOmuhw</a><br><br><img src="http://www.leadwerks.com/post/ssao3.jpg"> <br><br></td></tr></table><br>
<a name="863574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice!  Expensive (CPU/GPU-wise)?  Complicated (or shader-based)? <br><br></td></tr></table><br>
<a name="863577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's very simple and not very expensive to draw. <br><br></td></tr></table><br>
<a name="863579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice :P~~~~ <br><br></td></tr></table><br>
<a name="863631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a nice little shader! "Do want!" <br><br></td></tr></table><br>
<a name="863657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JustLuke</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, very nice effect. <br><br></td></tr></table><br>
<a name="863685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very sweet :o) <br><br></td></tr></table><br>
<a name="863687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does that work on a vertex level? Or does it shade on a pixel level, like a lightmap? I don't know anything about that kind of lighting. <br><br></td></tr></table><br>
<a name="863688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks really good. <br><br></td></tr></table><br>
<a name="863732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do not want.  On first glance it looks nice, but can't you folks see the halos around the pillars?  It looks like the same sort of effect you get when running one of those fourier algorithms for deblurring images.<br><br>Also "direct lighting only" is misleading.  It's direct lighting, but it's also only a single light source.  That scene would look a lot better if you had more than one light source, and the ambient light level wasn't cranked up so high.<br><br>If the halos around stuff can be fixed then great, but if not this is worthless.<br><br>Also even in the crappy low res youtube video I can see all sorts of bad things happening in the cubes demo.  The tops of half the cubes are dark even though they should be brightly lit.<br><br>Approximations are good and all, but not if they have really obvious visual defects. <br><br></td></tr></table><br>
<a name="863740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> TBH, i only looked at the picture. The youtube video wouldn't load. I see your point sswift. <br><br></td></tr></table><br>
<a name="863741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found a page on Wikipedia syaing Crysis used this.  I haven't played Crysis, but even the sample screen they showed in the article showed halos around the characters and even mountains in the distance being brightened by a tank turret which was close up and had a halo around it.<br><br>I also found this page which has a high res image of it in action on some cubes:<br><br><a href="http://www.gamedev.net/community/forums/topic.asp?topic_id=463075" target="_blank">http://www.gamedev.net/community/forums/topic.asp?topic_id=463075</a><br><br>I think there may be a way to get rid of the halos, but it might be more expensive to render.  <br><br>The last time I saw halos like this I was working on a sharpening algorithm, and they resulted from a step which required the scene to be gaussian blurred.  That is unsharp masking.  I fixed the issue by replacing the gaussian filter with a median filter which is median sharpening, and this looked much better.  But the radiuses have to be small because a median filter also isn't perfect and will carve corners off things.  I'm sure there's a way to filter things more like a median filter and without the corner carving, but I haven't discovered it yet and it's probably even more expensive than the median filter.  But the median filter if done right isn't neccesarily much more expensive than the gaussian.<br><br>Anyway, I suspect that changing up how the z values are processed could get rid of the halos. <br><br></td></tr></table><br>
<a name="863743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This really can make things fit together nicely visually, and the best part is that it's dynamic - no need to use or pre-bake AO maps that are wrong the second you blow the crate elsewhere. Not true GI, but very good hack anyway.<br><br>It's boring to use Crysis for demoing every new-ish tech, but here we go again:<br><br><a href="http://video.google.com/videoplay?docid=-2592720445119800709&amp;hl=en" target="_blank">http://video.google.com/videoplay?docid=-2592720445119800709&amp;hl=en</a> <br><br></td></tr></table><br>
<a name="863744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can eliminate the artifacts you mentioned.  I just got this working yesterday. <br><br></td></tr></table><br>
<a name="863745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing here that a vanilla Blitz3D installation cannot do - other than the shadows (unless you do them yourself).<br><br>Of course, you have to have meshes that are split into multiple objects to get really good dynamic lighting.  One of the good uses of 'Deep Exploration'.<br><br>/me clutches Blitz3D and scampers off. <br><br></td></tr></table><br>
<a name="863746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> it looks cool , great @ Leadwerks <br><br></td></tr></table><br>
<a name="863757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> With the advent of real-time lights and shadow mapping, I can see how this could really be beneficial to workflow. I don't think your going to want to make multiple light sources for nicely lit outdoor scenes when a SSAO shader can cheaply produce the same or better results automatically with one source.<br><br>I really like the effect and simplicity.<br>Create the your "sun" light source and move it depending on the time of day. All your shadows are updated and fake ambient occlusion happens also, no going through gile[s] again for the night scene. <br><br></td></tr></table><br>
<a name="863764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do not want. On first glance it looks nice, but can't you folks see the halos around the pillars? It looks like the same sort of effect you get when running one of those fourier algorithms for deblurring images. <br></div><br>Actually, it's a cheap alternative to radiosity and widely used way before its realtime implementation. Simply put, the algorithm darkens the areas of the object surrounded by other geometry. <br><br>The artifact you mention depends on leadwerk's current implementation.<br><br>Probably the most useful shader you can have to enhanche your scene in conjunction with realtime lights (they replace the need for lightmaps altogether). <br><br></td></tr></table><br>
<a name="863765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> AO and SSAO are independent of the actual lighting, so you could render an AO map in Gile[s] that would work for any static mesh.  It would be more accurate than SSAO, but it would not work as well on dynamic scenes.<br><br>You can even calculate a lightmap with a few small lights in gile[s], and combine it with real-time lighting in my engine.  That would be faster than rendering a bunch of really tiny lights in real-time. <br><br></td></tr></table><br>
<a name="863949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>can't you folks see the halos around the pillars? <br></div><br><br>I see it, I look past it. It looks better. Can't you see all the computerised graphics in our computer graphics? <br><br></td></tr></table><br>
<a name="864015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice little article: <a href="http://meshula.net/wordpress/?p=145" target="_blank">http://meshula.net/wordpress/?p=145</a> <br><br></td></tr></table><br>
<a name="864177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caff_</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm - nice screenshot but the Youtube vid has been pulled. <br><br></td></tr></table><br>
<a name="864194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> My visual objects were offset by half the dimensions of the physics objects.  It made the visual objects interpenetrate, even though the physics was working fine.  I took it down because it made Newton look bad due to a small mistake I made. <br><br></td></tr></table><br>
<a name="864199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> So is there a pre-processing stage to this at all or is the effect entirely run-time? I mean I realize it's dynamic, but is it along the same lines as Precomputed Radiance Transfer where you precalculate some information, store it either in a texture or in vertex data, and then combine that with the lighting information dynamically to get the scene lighting or do you only do dynamic calculation without any information stored in textures or vertex data.<br><br>Just trying to get a feel for how much data (if any) is precomputed and therefore how much extra data you've got to distribute. <br><br></td></tr></table><br>
<a name="864204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is no precalculation or extra data involved.  It just works on whatever you render. <br><br></td></tr></table><br>
<a name="864318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://rgba.scenesp.org/iq/computer/articles/ssao/ssao.htm" target="_blank">http://rgba.scenesp.org/iq/computer/articles/ssao/ssao.htm</a> <br><br></td></tr></table><br>
<a name="864360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loktar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol I thought this was for blitz3d at first was about to take my wallet out to buy the library. Looks nice. <br><br></td></tr></table><br>
<a name="864447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess if you have a fully working SSAO on SM 2.0, then you have pretty much every Direct X 9.0 card compatibility and advanced lighting possible :P  Like Crytek as a matter of fact. <br><br></td></tr></table><br>
<a name="865767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a shot under more realistic game conditions (thanks to Rich DiGiovanni).  The pipes near the ceiling are unaffected by the direct light, but they have a nice soft global illumination appearance.  I am very pleased with how it turned out.<br><img src="http://www.leadwerks.com/post/LE2.0.jpg"> <br><br></td></tr></table><br>
<a name="865769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah very nice screenshot :o) Nice work man. <br><br></td></tr></table><br>
<a name="865817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoah.  NICE.  Was there any post-processing at all with this image?  The dirt on the floor looks burned in with PS. <br><br></td></tr></table><br>
<a name="865821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Impressive!  Looks a bit Doom 3 ish with all that silveresque stuff, but the lighting is more refined here. <br><br></td></tr></table><br>
<a name="865906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is pure realtime, 100 FPS, except for the logo which was added after. <br><br></td></tr></table><br>
<a name="865998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caff_</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any chance of an interactive demo of this? <br><br></td></tr></table><br>
<a name="866010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's looking nice, keep it up :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
