<!DOCTYPE html><html lang="en" ><head ><title >Khorinis Scenery Demo / NETradiant BSP Loader</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Khorinis Scenery Demo / NETradiant BSP Loader</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Khorinis Scenery Demo / NETradiant BSP Loader</a><br><br>
<a name="1024594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://www.christianhart.de/bb/netradiant/khorinis_scenery_demo.png"><br><br>This is a tech demo showing how to use the <a href="http://dev.alientrap.org/projects/7/wiki" target="_blank">NETradiant</a> mapper as a base for complex scenes and how to load them in Blitz3D. Together with my <a href="/posts.php?topic=87026" target="_blank">BlitzSky</a> system, a complete day/night cycle is possible.<br><br>For this demonstration I took "<a href="http://almanach.worldofgothic.de/images/Taverne.jpg" target="_blank">Orlan's Tavern</a>" from the game "Gothic II" as a template. The whole scene has been built in NETradiant - geometry, UV coordinates and lightmaps. The map is stored in the Quake III BSP Format (a little bit customized) and loaded with an improved version of <a href="http://www.blitzforum.de/forum/viewtopic.php?t=28316" target="_blank">Zap's BSP loader</a>.<br><br>Here some screenshots (left: day, right: night, always the same perspective):<br><br>Exterior View<br><img src="http://www.christianhart.de/bb/netradiant/tavern1_day.jpg">   <img src="http://www.christianhart.de/bb/netradiant/tavern1_night.jpg"><br><br>Bar Keeper View<br><img src="http://www.christianhart.de/bb/netradiant/tavern2_day.jpg">   <img src="http://www.christianhart.de/bb/netradiant/tavern2_night.jpg"><br><br>Inner view<br><img src="http://www.christianhart.de/bb/netradiant/tavern3_day.jpg">   <img src="http://www.christianhart.de/bb/netradiant/tavern3_night.jpg"><br><br>Outer View<br><img src="http://www.christianhart.de/bb/netradiant/tavern4_day.jpg">   <img src="http://www.christianhart.de/bb/netradiant/tavern4_night.jpg"><br><br>Roof construction<br><img src="http://www.christianhart.de/bb/netradiant/tavern5_day.jpg">   <img src="http://www.christianhart.de/bb/netradiant/tavern5_night.jpg"><br><br>The installation is very simple. Just download the current version of NETradiant and install my update over it, which contains the shown demo complete with source, models, textures for free use.<br><br><a href="http://www.icculus.org/netradiant/files/" target="_blank">Download Netradiant (ca. 19MB)</a><br><a href="http://www.christianhart.de/bb/netradiant/NetRadiant_Blitz3D.exe" target="_blank">Download Blitz3D Update (ca. 4MB)</a><br>(I'm using the current snapshot NetRadiant 1.5.0, SVN revision 402 as of Sun Oct 4 20:01:15 2009)<br><br>Just uncompress the NETradiant file to C:\ root and execute my update just after that, choose again C:\ root. Start NETradiant with <b>radiant.exe</b> and my demo is in the <b>C:/ Netradiant/blitz3d.game/data</b> folder.<br><br>Using NETradiant is similar to id software's QEradiant or GTKradiant, there are many tutorials out there. NETradiant is very stable und runs even under Windows 7. You can compile a map in the menu "Build" with the option "Blitz3D: Khorinis Scenery Demo [Q3BSP Loader customized]". After the build you can see the result instantly calling my demo.bb!<br><br>The second build option is for the BSP Loader of Blitz3D for direct compare the two functions. After a build with it you should rename the khorinis.bsp to khorinis_q3.bsp and build the map with the first option again. The Blitz3D BSP loader expects a 100% percent compatible Quake III compatible map and can't load my customized format with external and larger lightmaps.<br><br><br>The following features are implemented yet:<br><br>- parsing BSP geometry and create one surface per texture, recycle lightmaps<br>- support for lightmaps greater than 128x128 (in my demo: 512x512)<br>- automatic creation of a second, brighter lightmap for day shadows<br>- parsing BSP entities and placing of models<br>- rotating and scaling of models like recorded in Radiant<br>- lights have flares obscured by geometry<br>- complete day/night cycle<br>- simple DX Torchlight to lighten up dark places<br>- shadow intensity adjustable<br>- direct compare with Blitz3D BSP loader possible<br><br>Steering:<br>- Q/A = move sun/moon (change time)<br>- 1..2..3..4..5..6..7..8..9..0 = dawn-&gt;noon-&gt;midnight = predefined times<br>- LMB = switch between Blitz3D BSP Loader and Q3BSP Loader<br>- RMB = switch torchlight<br>- SPACE = Wireframe<br><br>Have fun with it! And take a look at the credits.txt in the blitz3d.game folder if you want to use parts of it in your own projects. Everything should be free to use. <br><br></td></tr></table><br>
<a name="1024597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks very impressive, seeing the different scenes in day/night. I tried applying a massive skybox a while ago, this looks like an interesting alternative. <br><br></td></tr></table><br>
<a name="1024608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very impressive! Would be really nice if it works on miniB3D... maybe if I get the time I try to port it over to see how well it will work ;) <br><br></td></tr></table><br>
<a name="1025738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice work, well done! :) <br><br></td></tr></table><br>
<a name="1025763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did not notice this a week ago, so I am glad that "Ian Thompson" posted to bring it to my attention.<br><br>It looks exciting - I'll take a look at it later. <br><br></td></tr></table><br>
<a name="1025770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Puki - Just for the case you'll mention this flaw again: I didn't fix the BlitzSky bug you mentioned a while ago, I focused on the scenery and a working BSP loader instead :-|<br><br>Slotman - I am sure this can be ported to Blitzmax / MiniB3D - I already bought BlitzMax a while ago it but I didn't spent much time with it. I think this is a job for somebody who already has experience with BlitzMax. <br><br></td></tr></table><br>
<a name="1025784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was mortified to see that control system back again.  Is it a punishment or something? <br><br></td></tr></table><br>
<a name="1025887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What do you mean exactly? I never heard any critics about the "control system". If it doesn't suit feel free to alter it - the source is included... <br><br></td></tr></table><br>
<a name="1026247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol Krischan.  save your breath. <br><br></td></tr></table><br>
<a name="1026261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the use of a ridiculous mouse-look system that I find strange beyond belief.  In short, it is bizarre.  Yes, I can change it, but it does not change the fact that it is ridiculous.<br><br>I'd like to know the reasoning behind it - if there is any - ie is it a German thing or something - ie do you lot use this as standard? <br><br></td></tr></table><br>
<a name="1026277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I use it as standard - it is easy to use for me. Again - you're the only person who complained about it - so I guess I can ignore this until you bring some arguments WHY it is ridiculous in your opinion or how YOU would improve or replace it...<br><br>And I really don't know what my origin has to do with my system? Is this some kind of prejudice or something? After all, this control system is a central part of my secret plan to gain world dominion within the next 30 days, together with the Boys from Brazil using the "Blitzwunderwaffe" to achieve this. And you call it ridiculous?<br><br>Ridiculous is to complain about something but don't suggest improvements.<br><br><img src="http://stas.vasin.name/wp-content/uploads/2008/04/haunebu_II.jpg"> <br><br></td></tr></table><br>
<a name="1026280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it is kind of odd for me.<br><br>Instead of just a normal FPS-type mouselook, it is more of a floaty/drunk mouse control - ie it is like the user (me) is drunk (intoxicated).  I don't get it. <br><br></td></tr></table><br>
<a name="1026296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> LOL, cool pic.<br><br>What Puki means is that there seems to a probem with maintaining a steady movement/framespeed. Turning/moving is jerky as a result.<br><br>This looks like a problem with the game timing/frame tweening rather than the rendering speed, which is excellent BTW Krischan.<br><br>Lovely scene too, one of the nicest I've every seen done in Blitz. <br><br></td></tr></table><br>
<a name="1026301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I only have to move the mouse a bit and I can end up spinning about or fighting to bring the camera back the opposite way it is moving - sometimes I have to fight hard to keep control. <br><br></td></tr></table><br>
<a name="1026377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, I never ran into such a situation here. puki, try this mouselook code instead, this runs *very* smooth here:<br><br>Main Loop: replace FreeCam Function with <b>FreeLook(BS_Camera,2)</b><br><br>Add this to the code somewhere:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Global FreeLookXS#,FreeLookZS#,FreeLookRotXS#,FreeLookRotYS#
Function FreeLook(camera,movespeed#=1.0,smoothness#=0.8,rotspeed#=0.9,maxpitch#=85.0)
	
	Local p#,pitch#
	
	If movespeed&gt;0 Then
		FreeLookXS=(FreeLookXS+((KeyDown(205))-(KeyDown(203)))*movespeed)*smoothness
		FreeLookZS=(FreeLookZS+((KeyDown(200))-(KeyDown(208)))*movespeed)*smoothness
		MoveEntity camera,FreeLookXS,0,FreeLookZS
	EndIf
	
	FreeLookRotXS=((MouseXSpeed()-FreeLookRotXS)*0.2+FreeLookRotXS)*rotspeed
	FreeLookRotYS=((MouseYSpeed()-FreeLookRotYS)*0.2+FreeLookRotYS)*rotspeed
	
	p=EntityPitch(camera)+FreeLookRotYS
	If p&lt;-maxpitch Then pitch=-maxpitch ElseIf p&gt;maxpitch Then pitch=maxpitch Else pitch=p
	RotateEntity camera,pitch,-FreeLookRotXS+EntityYaw(camera),0
	
	MoveMouse GraphicsWidth()/2,GraphicsHeight()/2
	
End Function</textarea><br><br>If it doesn't help I don't know - could be the frame tweening Ian Thompson mentioned. You could remove the Frametweening loop and use a timer or just change Flip 0 to Flip 1...<br><br>Has anybody else problems with the movement or jitter? <br><br></td></tr></table><br>
<a name="1026708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ian Thompson</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, tried this in my bothers old computer and it ran into problems(although it ran at a respectable frame rate on that), on my, more up-to-date one it runs fine. So its hard to recreate the error to try and fix it here. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
