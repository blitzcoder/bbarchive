<!DOCTYPE html><html lang="en" ><head ><title >Planet Creator</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Planet Creator</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Planet Creator</a><br><br>
<a name="1130167"></a>

<a name="1130168"></a>

<a name="1130169"></a>

<a name="1132740"></a>

<a name="1132923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I present you a small milestone of my current project (won't go into details here but it has something to do with Starflight), a dynamic planet texture/surface generator done in Blitz3D. It is roughly based on my <a href="/posts.php?topic=95855" target="_blank">Blue Marble</a> code and could be part of a space game in the future.<br><br>I only use a preset style for a planet type with some parameters which can be quite random, blend two basemaps out of 51 predefined source heightmaps together, add some scaled fast perlin noise, emboss the final heightmap and apply a color gradient to it - so a whole planet with a 1024x512 detailed texture gets calculated below a second (on my 3 year old laptop). The source maps are classified in crater, dry, gas, ice, molten, plate and rock to get different planet types.<br><br>And then you get something like that, still in development but looking nice at this point:<br><br><b>14 different planet type presets screenshots</b><br><a href="http://www.christianhart.de/bb/planets/Planets1.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/Planets1_thumb.jpg"></a><br><br><b>Maps output sample, here for the "Ganymede" preset</b><br><a href="http://www.christianhart.de/bb/planets/Planets2.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/Planets2_thumb.jpg"></a><br><br>CURRENT RELEASE<br><br><img src="http://www.christianhart.de/bb/planets/Teaatis_Demo_Screenshot.jpg"><br><br>The available keyboard shortcuts are listed here:<br><br>[A] Atmosphere on/off<br>[G] Planet Glow on/off<br>[S] Fake Shader on/off<br>[R] Rings on/off<br>[N] Nightside on/off<br>[T] Colormap on/off<br>[C] Clouds on/off<br>[M] Shadowmask on/off<br>[W] Wireframe on/off<br>[H] change Noise source (Perlin preset / Diamond)<br>[D] DOT3 Normalmap on/off<br>[V] Cloud Shadows on/off<br>[1] LOD Level 2048x1024<br>[2] LOD Level 1024x512<br>[3] LOD Level 512x256<br>[SPACE] Generate new planet<br>[RETURN] Save all maps to output Folder<br><br>Arrows/Mouse to move around, Mousewheel zooms<br><br><b>Download: <a href="http://www.christianhart.de/bb/planets/PlanetCreatorDemo.exe" target="_blank">PlanetCreatorDemo.exe [7.8MB 7zip SFX]</a></b><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OldNESJunkie</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that looks REALLY good. <br><br></td></tr></table><br>
<a name="1130179"></a>

<a name="1130180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Always a treat seeing your space stuff Christian.  I would love to see a game from you.  If you ever need music, I would love to contribute.<br><br>Your efforts are always greatly appreciated and I am sure I am not the only envious person here!<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> velly niccceeee<br><br>ME LIKE ME LIKE <br><br></td></tr></table><br>
<a name="1130201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is incredible, every time I see what you do, I realize that the problem is not Blitz3D, or if not tools that I have no talent =) <br><br></td></tr></table><br>
<a name="1130291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZJP</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wooooo. Nice tool Krischan. As usual.. <br><br></td></tr></table><br>
<a name="1130292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You, Krischan, have my utmost respect in this project :D <br><br></td></tr></table><br>
<a name="1130314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent would love to see the code to this as this sort of thing interests me greatly :)<br><br>Inspires me to have a go at resurrecting star flight 2000 :) <br><br></td></tr></table><br>
<a name="1130334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool :D <br><br></td></tr></table><br>
<a name="1130337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Always a pleasure to see your stuff man! <br><br></td></tr></table><br>
<a name="1130449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aymes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, those are awesome! <br><br>Are you going to release this for others to use, or keeping it for your own projects only? <br><br></td></tr></table><br>
<a name="1130558"></a>

<a name="1132741"></a>

<a name="1132742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @all: thanks, I hoped that you all like it but now i'm astounded. You've seen absolutely nothing of it ;-)<br><br>Aymes: Well, it is not finished and I'm perfectionist. But at this stage it could be used as a texture generator for fictional planets. I think I'll release it when I found all nasty bugs on my list and commented the source.<br><br>With Saturn as my favourite planet, here is another screenshot (now with planetary shadow on the rings). Oh and by the way, this is B3D realtime ingame graphics using 2048x1024 source maps and calculated in 2.3 seconds, I hope your screen is wide enough :-D<br><br><a href="http://www.christianhart.de/bb/planets/45538_Saturn.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/45538_Saturn_Thumb.jpg"></a><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> oO??? I Like Moon, But your planet Saturn will be my screensaver XD. <br><br></td></tr></table><br>
<a name="1130564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are really a talented coder Krischan. Respect :)<br><br>Is this for a Freelancer-like game with the possibility to land and to mine on each planet ? <br><br></td></tr></table><br>
<a name="1130889"></a>

<a name="1130892"></a>

<a name="1132743"></a>

<a name="1132746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking forward to a Starflight 1 like game. This would be the perspective before you land on the planet. Here some updates in Wallpaper size, I added citylights/nightsides texture creation on the fly and tweaked every planet in a few hours or so. And I added a complete INI-System to tweak the planet types very easy.<br><br>With these additions it is possible to create Coruscant-like planets, glowing molten planets and I could even finish my first Death star (this is the same sphere like all planets, it is only a texture!) Oh and all of this is still vanilla Blitz3D :-D<br><br>You can create planets and destroy them in a second again, heh! Now witness the firepower of this fully ARMED and OPERATIONAL battle station! Luke... help me take this mask off.<br><br><b>Arid world with super advanced cities</b><br><a href="http://www.christianhart.de/bb/planets/3246_Arid.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/3246_Arid_Thumb.jpg"></a><br><br><b>Advanced Temperate World</b><br><a href="http://www.christianhart.de/bb/planets/56693_Temperate.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/56693_Temperate_Thumb.jpg"></a><br><br><b>Molten Planet, glowing on the nightside</b><br><a href="http://www.christianhart.de/bb/planets/44016_Molten.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/44016_Molten_Thumb.jpg"></a><br><br><b>Jupiter like Gas Giant</b><br><a href="http://www.christianhart.de/bb/planets/47915_Jupiter.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/47915_Jupiter_Thumb.jpg"></a><br><br><b>Saturn, my favourite</b><br><a href="http://www.christianhart.de/bb/planets/45538_Saturn2.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/45538_Saturn2_Thumb.jpg"></a><br><br><b>Death Star "Krischan 1" ready to rumble</b><br><a href="http://www.christianhart.de/bb/planets/56693_DeathStar.jpg" target="_blank"><img src="http://www.christianhart.de/bb/planets/56693_DeathStar_Thumb.jpg"></a><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice :D <br><br></td></tr></table><br>
<a name="1130901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> star wars video game HD version :) <br><br></td></tr></table><br>
<a name="1132491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks great, hats off. <br><br></td></tr></table><br>
<a name="1132496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> jfk: Krischan is ahead of you in sig apps :) <br><br></td></tr></table><br>
<a name="1132522"></a>

<a name="1132523"></a>

<a name="1132524"></a>

<a name="1132526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stayne: but only with tech demos :o) By the way:<br><br>I've been making a lot of progress the last days converting and moving over to MiniB3D. I created a small executable demo for the audience showing a peaceful Temperate world: Teaatis (the name gets created random using the original Elite algorithm :o). In the first run the App converts the four included 2048x1024 RAW basemaps to smaller LOD levels. Then you should get something like this:<br><br><img src="http://www.christianhart.de/bb/planets/Teaatis.jpg"><br><br>In this demo you can use these keys to switch some effects on/off:<br><br>[A] Atmosphere on/off<br>[G] Planet Glow on/off<br>[S] Fake Shader on/off<br>[R] Rings on/off<br>[N] Nightside on/off<br>[T] Colormap on/off<br>[C] Clouds on/off<br>[M] Shadowmask on/off<br>[W] Wireframe on/off<br>[H] change Noise source (Perlin preset / Diamond)<br><br>[1] LOD Level 2048x1024<br>[2] LOD Level 1024x512<br>[3] LOD Level 512x256<br><br>Use your mouse to move around the planet and the Mousewheel to Zoom in/out, Arrows Left/right turns the Planet and Up/Down moves towards or away, SPACE creates the next random world. And with [RETURN] all 10 maps are saved as PNGs to a "output/" folder: Noisemap, Heightmap, Embossmap, Climatemap, Normalmap, Merged Colormap, Pure Colormap, Nightmap, Ringmap and a Screenshot.<br><br>Grab it here: <a href="http://www.christianhart.de/bb/planets/demo.zip" target="_blank">demo.zip</a> [6.3MB]<br><br>You can open the RAW Basemaps in Photoshop or another Paint program, load them with 2048x1024 size, 1 channel (not interleaved) 8bits, no header. This is only a small part of the maps I created/converted the last weeks. My 2048 maps folder has 53 hires base maps with a total size of 108MB now capable of creating 20 different planet styles now.<br><br>I'll plan to release the full project with source as soon as I've created all the features I want to see, which can take some time. Oh and I would like to know how FAST the planet gets calculated in 2048/1024/512 LOD mode on your computer. To compare: start the App, press 1/2/3 and read the ms values from the top line. My records are 2541/631/165ms (C2D P9500 at 2.53GHz).<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1132540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kittomer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I hope you'll have good progress with this, I always wanted to make a game like <a href="http://en.wikipedia.org/wiki/Planet%27s_Edge" target="_blank">Planet's Edge</a>.<br><br>When I start the demo, something weird happens. I mostly just see a static background of stars and sometimes the planet, but the moving/turning planet is sort of... flickering in erratically.<br><br>Although I did manage to read the values, which are about 2700, 700 and 180 on my secondary desktop, which is a Celeron E3400, 2,6 Ghz, 4 GB RAM and a Geforce GTX 260, on Vista 64 Bit. <br><br></td></tr></table><br>
<a name="1132548"></a>

<a name="1132582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: Found the Bug and updated the package, there was one flip too much :-D Download and try it again please.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1132589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are u releasing the source for this? :O <br><br></td></tr></table><br>
<a name="1132593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot to mention: the final release will include a license agreement that people who repetitive don't read my posts and ask me questions that are already answered in these posts are not allowed to use the source and its results or parts of it in private, commercial or whatever projects for all times. <br><br></td></tr></table><br>
<a name="1132598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> In otherwords, Post 11. <br><br></td></tr></table><br>
<a name="1132605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I forgot to mention: the final release will include a license agreement that people who repetitive don't read my posts and ask me questions that are already answered in these posts are not allowed to use the source and its results or parts of it in private, commercial or whatever projects for all times. <br></div><br><br>Could you also add a clause that such people are not allowed to reproduce? <br><br></td></tr></table><br>
<a name="1132608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could give the planets an atmosphere by creating an inverted sphere and scaling it up slightly bigger than the planet, then give the sphere an alpha value of about .3 <br><br></td></tr></table><br>
<a name="1132623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kittomer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that fixed it, the planet is properly turning and displaying now! <br><br></td></tr></table><br>
<a name="1132624"></a>

<a name="1132744"></a>

<a name="1132745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> slenkar, my Atmosphere code is a little bit more complex than a sphere and uses a spherical projection texture loaded with flag 64. The atmosphere moves with the camera and disappers softly on the nightside, like in reality but faked very well :-D<br><br><a href="http://www.christianhart.de/bb/planets/atmosphere.png" target="_blank"><img src="http://www.christianhart.de/bb/planets/atmosphere_thumb.jpg"></a><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">' Atmosphere Effect
Atmosphere=CreatePlanetShader(Planet)
ScaleMesh Atmosphere, 1.0/8,1.0/8,1.0/8
EntityTexture Atmosphere,AtmosphereTexture
EntityBlend Atmosphere,3
EntityFX Atmosphere,2+16
ScaleTexture AtmosphereTexture,1,1
EntityOrder Atmosphere,-1

Function CreatePlanetShader:TMesh(parent:TEntity=Null,xs:Float=16.0,ys:Float=16.0,r:Int=255,g:Int=255,b:Int=255) 
	
	Local mesh:TMesh=CreateMesh(parent)
	Local surf:TSUrface=CreateSurface(mesh)
	Local v:Int[4]
	
	Local x:Int,y:Int,z1:Float,z2:Float,z3:Float,z4:Float
	
	For x=0 To xs-1
		
		For y=0 To ys-1
			
			z1=-(Abs(x-xs/2.0)+Abs(y-ys/2.0))
			z2=-(Abs(x-xs/2.0)+Abs(y+1-ys/2.0))
			z3=-(Abs(x+1-xs/2.0)+Abs(y+1-ys/2.0))
			z4=-(Abs(x+1-xs/2.0)+Abs(y-ys/2.0))
			
			v[0]=AddVertex(surf,x-xs/2.0,-y+ys/2.0,0,x*1.0/xs,y*1.0/ys)
			v[1]=AddVertex(surf,x-xs/2.0,-y+ys/2.0-1,0,x*1.0/xs,(y+1)*1.0/ys)
			v[2]=AddVertex(surf,x-xs/2.0+1,-y+ys/2.0-1,0,(x+1)*1.0/xs,(y+1)*1.0/ys)
			v[3]=AddVertex(surf,x-xs/2.0+1,-y+ys/2.0,0,(x+1)*1.0/xs,y*1.0/ys)
			
			AddTriangle(surf,v[3],v[0],v[1])
			AddTriangle(surf,v[2],v[3],v[1])
			
			VertexColor surf,v[0],r,g,b
			VertexColor surf,v[1],r,g,b
			VertexColor surf,v[2],r,g,b
			VertexColor surf,v[3],r,g,b
			
			VertexNormal surf,v[0],(x-xs/2)/xs*2,(-y+ys/2.0)/ys*2,1
			VertexNormal surf,v[1],(x-xs/2)/xs*2,(-y+ys/2.0-1)/ys*2,1
			VertexNormal surf,v[2],(x-xs/2+1)/xs*2,(-y+ys/2.0-1)/ys*2,1
			VertexNormal surf,v[3],(x-xs/2+1)/xs*2,(-y+ys/2.0)/ys*2,1
			
		Next
		
	Next
	
	Return mesh
	
End Function</textarea><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1132631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://dirtyboss.net/wp/wp-content/uploads/2011/08/asombrado.jpg"><br><br>=) <br><br></td></tr></table><br>
<a name="1132662"></a>

<a name="1132664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; you could give the planets an atmosphere by creating an inverted sphere and scaling it up slightly bigger than the planet, then give the sphere an alpha value of about .3 <br><br>EXCELLENT. I tried it out and it looks even better, more realistic. I didn't need the invertion. It uses a much simpler code, I can save a mesh update per cycle, it has only a few more tris instead and most important: I save the Entityorder -1 which could cause trouble later. Thanks! I'll use your solution now, here you can see it in action:<br><br><img src="http://www.christianhart.de/bb/planets/Teaatis_slenkar.jpg"><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">AtmoRGBA:Int[]=[64,128,255,128]
Atmosphere=CreateSphere(32,Planet)
ScaleEntity Atmosphere,1.0025,1.0025,1.0025
EntityBlend Atmosphere,3
EntityFX Atmosphere,2
UpdateMesh(Atmosphere,AtmoRGBA[0],AtmoRGBA[1],AtmoRGBA[2],AtmoRGBA[3]/255.0)

Function UpdateMesh(mesh:TMesh,r:Int=255,g:Int=255,b:Int=255,a:Float=1.0)
	
	Local v:Int
	Local surf:TSurface=GetSurface(mesh,1)
	
	For v=0 To CountVertices(surf)-1
		
		VertexColor surf,v,r,g,b,a
		
	Next
	
End Function</textarea><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1132687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> very nice <br><br></td></tr></table><br>
<a name="1132726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks good <br><br></td></tr></table><br>
<a name="1132747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> And now for something completely different: I changed the large images in this post here to thumbnailed links so the thread should load much faster now. <br><br></td></tr></table><br>
<a name="1132827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, makes me want a new ELITE even more. For a couple of planet surfaces it seems to work pretty well, how about more of them (100s-10000s)? Does it still a good job then or will you notice that it's based on predefined source material? <br><br></td></tr></table><br>
<a name="1132836"></a>

<a name="1132837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Taumel, this depends on the quality/variance of the sourcemaps and how "featured" they are and how many different basemaps are available. I spent several days to collect them, examine, blend with other maps and finetune their brightness/contrast. This has been very hard work and I have chosen the 5 best maps of each category.<br><br>Some basemaps look very neutral and the blended noisemap will make them very random as a result, some have features you can't blend off and then all the planets using this featured basemap will have this feature. But it is a feature that they have features so they look more interesting. And I don't care about 10000 different planets, perhaps 100 or 1000 planets in a game (and that's alot). You can't get this surface quality in realtime or you must preprocess ALL planets and this not realistic and takes too much filespace.<br><br>With 5 basemaps per category (ex. crater, rock, desert) you'll get a lot of combinations and the random noisemap makes them pseudorandom so they would look similar but unique. And we have at least 15 different and mostly unique planet styles, you could use a single seed for a whole solar system but all planets would look completely different as the styles are mixed in a system:<br><br>Arid, Desert, Temperate, Frozen, Icy Moon, Brown Dwarf, Jupiter, Mars, Molten, Neptune, Ocean, Saturn, Uranus, Venus, Acid<br><br>By the way - I implemented normal mapped clouds now, see the difference (upper half = DOT3 clouds, lower half = normal) :-D<br><br><img src="http://www.christianhart.de/bb/planets/Teaatis_Normalmap.jpg"><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1132843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, so i guess if you're after a lots of planets the best still is to feed some Fibonacci like unique ids for parameters of a procedural generation for a planet which you just calculate before entering a system. <br><br></td></tr></table><br>
<a name="1132856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kittomer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you wanted to go full monty, you could add cloud shadows, like so: <br><br><img src="http://www.kittomer.com/temp/mercuryclass.jpg"><br><br>It adds a lot of depth and touchy-feeliness to the planets, especially up close. <br><br></td></tr></table><br>
<a name="1132915"></a>

<a name="1132917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't reach the texture resolution in your screenshot and I don't have any shaders <br>working but with an additional sphere and the inverted, slightly lightened cloudtexture we'll have simple but nice cloud "shadows" now:<br><br><img src="http://www.christianhart.de/bb/planets/Teaatis_Cloudshadow.jpg"><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">' Planet Clouds Shadow
CloudShadow=CreateSphere(PlanetDetail,Planet)
ScaleEntity CloudShadow,1.000625,1.000625,1.000625
PositionEntity CloudShadow,0,0,0
EntityFX CloudShadow,1+2

' Apply changes to Clouds Shadow
EntityTexture CloudShadow,CloudShadowTexture,0,0
TextureBlend CloudShadowTexture,2
PositionTexture CloudShadowTexture,-4.0/1024,8.0/1024
EntityBlend CloudShadow,2</textarea><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1132920"></a>

<a name="1132924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok here we go for a snapshot of my current workfolder including the executable, all BMX sources, textures and the basemaps for the temperate world shown here. The source is partly commented and includes some functions which are not in use right now. But you can take a look how the planet is generated and play around with it. I hope it works with the standard MiniB3D 0.53 mod with the current BlitzMax release, didn't test it with a clean install. This is not the final release which will include all basemaps and templates for different worlds.<br><br>Notice: the DOT3 effect could be based on wrong angle calculations, if you're familiar with DOT3 calculations (I'm not) please take a look into it and correct it. And if you have ideas for general improvement please post them (and the source) here in this thread.<br><br><img src="http://www.christianhart.de/bb/planets/Teaatis_Demo_Screenshot.jpg"><br><br>As a reminder, the available keyboard shortcuts are listed here again:<br><br>[A] Atmosphere on/off<br>[G] Planet Glow on/off<br>[S] Fake Shader on/off<br>[R] Rings on/off<br>[N] Nightside on/off<br>[T] Colormap on/off<br>[C] Clouds on/off<br>[M] Shadowmask on/off<br>[W] Wireframe on/off<br>[H] change Noise source (Perlin preset / Diamond)<br>[D] DOT3 Normalmap on/off<br>[V] Cloud Shadows on/off<br>[1] LOD Level 2048x1024<br>[2] LOD Level 1024x512<br>[3] LOD Level 512x256<br>[SPACE] Generate new planet<br>[RETURN] Save all maps to output Folder<br><br>Arrows/Mouse to move around, Mousewheel zooms<br><br><b>Download: <a href="http://www.christianhart.de/bb/planets/PlanetCreatorDemo.exe" target="_blank">PlanetCreatorDemo.exe [7.8MB 7zip SFX]</a></b><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1132922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kittomer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I know, the image was just for illustration.<br><br>I was thinking you'd do it with an additional sphere.<br><br>But it looks good, I like it! <br><br></td></tr></table><br>
<a name="1132956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome details ! <br><br></td></tr></table><br>
<a name="1133549"></a>

<a name="1133550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm making progress in object oriented design (and finetuning the planets). Now, a planet gets created using a custom "TPlanet" type and attributes are added very easy to it. In the screenshot, the Temperate world is the default with presets and Mars gets created with this simple piece of code (Venus, too with slightly changed variables):<br><br>Local p2:TPlanet=New TPlanet<br>p2.PlanetPalette="Mars"<br>p2.Clouds="clouds2"<br>p2.PolarCaps=0.01<br>p2.PolarAlbedo=192<br>p2.Population=0.0<br>p2.Detail1=64<br>p2.AtmoRGBA=[255,128,64,128]<br>p2.GlowRGBA=[255,192,64,255]<br>p2.CloudsRGBA=[255,96,32,100]<br>p2.CloudShadowRGBA=[0,0,0,100]<br>p2.NightRGB=[8,4,0]<br>p2.Shininess=0.0<br>p2.Generate()<br><br>You see three times the same planet heightmap only with different attributes applied, woohoo:<br><br><img src="http://www.christianhart.de/bb/planets/planettype.jpg"><br><br>As a bonus, Mars from a different angle:<br><br><img src="http://www.christianhart.de/bb/planets/planettype2.jpg"><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1133558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jaw dropping amaizing creation! :O <br><br></td></tr></table><br>
<a name="1133627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> beautiful!! <br><br></td></tr></table><br>
<a name="1133629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stunning. <br><br></td></tr></table><br>
<a name="1133982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks amazing.  Krischan you are the natural environment guru. <br><br></td></tr></table><br>
<a name="1134076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://dirtyboss.net/wp/wp-content/uploads/2011/08/asombrado.jpg"><br><br>Beatifulll =). <br><br></td></tr></table><br>
<a name="1135236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Verrry nice eye candy <br><br></td></tr></table><br>
<a name="1135347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OldNESJunkie</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, this just gets better &amp; better. Keep it up. <br><br></td></tr></table><br>
<a name="1135353"></a>

<a name="1135354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Crispy !<br><br>Did you generate the Nebula too !? Another nice addition if not :)<br>While different, I am amazed by the resemblance with solar system planets.<br>Great work.<br><br>I have no idea about your space simulation game, but I would love to land on them and discover generated landscapes. Procedural is really a powerful thing.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1135360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> The nebula: yes, take a look at my signature, it's an older creation. It is only combined with a real panorama of the milkyway in this version.<br><br>Planet Creator is pseudo-procedural only, you can't get these results with procedural algorithms only in a acceptable time, so it is a compromise. My goal is to create a whole planet in a second, and even that is a long time.<br><br>Here are two current screenshots, I added detail texture support now to greatly improve the appearance of some planet types even with low LOD details:<br><br><img src="http://www.christianhart.de/bb/planets/planettype3.jpg"><br><br><img src="http://www.christianhart.de/bb/planets/planettype4.jpg"> <br><br></td></tr></table><br>
<a name="1238333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a running WIP demo of my new planet creation algorithm, again in vanilla Blitzmax+miniB3D. Just the "Earth" in 1024x768 Fullscreen mode. If you want higher resolutions compile it yourself or give me a notice. Moving with Arrows and holding right Shift increases moving speed. Other keys with functions are:<br><br>1-5 = Milkyway background layers<br>F1-F5 = Planet Layers<br>V = Vsync<br>A = Atmosphere<br>C = Cloud Layer 1<br>D = Cloud Layer 2<br>P = Base Planet Layer<br>T = Planet Rotation on/off<br>ENTER = Create a different planet in only a few milliseconds, on my rig: 60-70ms (!)<br><br>It is taken from my project folder so it is not well commented or optimized yet but working. And I reduced the textures from 2048x2048 to 1024x1024 except the clouds and included only the earth textures to save space, this demo uses originally over 150MB space (with all planet types 600MB).<br><br>Short explanation how I did it: The base is a segmented Cube with added Simplex Noise to the vertices and it is spherified then. After that, additional layers with vertex alpha are added on top according to different height values from the base cube (VertexRed channel) and uop to three detail and one color texture are added to each of these layers. They overlap nearly perfect so there are nice transitions between them. And the creation is running so fast that you could create a whole planet system close to realtime! With nice clouds and a atmosphere it looks much better than the crap I made before in this thread :-D<br><br>There are a lot of other planet types possible, here only a few examples (not included in this demo), click for fullscreen:<br><br><a href="http://www.christianhart.de/bmax/planetnew/earth.jpg" target="_blank"><img src="http://www.christianhart.de/bmax/planetnew/earth_t.jpg"></a> <a href="http://www.christianhart.de/bmax/planetnew/mars.jpg" target="_blank"><img src="http://www.christianhart.de/bmax/planetnew/mars_t.jpg"></a> <a href="http://www.christianhart.de/bmax/planetnew/moon.jpg" target="_blank"><img src="http://www.christianhart.de/bmax/planetnew/moon_t.jpg"></a> <a href="http://www.christianhart.de/bmax/planetnew/ice.jpg" target="_blank"><img src="http://www.christianhart.de/bmax/planetnew/ice_t.jpg"></a><br><br>And here we go: <a href="http://www.christianhart.de/bmax/planetnew/PlanetCreatorNew.zip" target="_blank">Download (13MB)</a><br><br>And for the most impressive feeling you should play a background music like "The Blue Danube" or even better: The "Itineris Spiritus" demo from this site (upper right): <a href="http://www.soundsonline.com/Symphonic-Choirs" target="_blank">http://www.soundsonline.com/Symphonic-Choirs</a> which is absolutely beautiful and always creating tears in my eyes while watching this demo. But don't use the Shift key then, just float down :-) It is most relaxing and inspiring then. <br><br></td></tr></table><br>
<a name="1238334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shame it doesn't procedurally generate the planets :-) <br><br></td></tr></table><br>
<a name="1238371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not quite - it is still semi-procedural - and the base planet IS actually procedural and dictates the form of the layers. A subdivision of the spherified cube would be the next logical step - anyone here who can do this? I'm helpless here. <br><br></td></tr></table><br>
<a name="1238374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Christian, somehow the planets in your screenshots (the 2nd, 3rd and 4th some posts above) look like it is stretched at the right side - is this because of the viewport or the lighting - or the camera settings (ortographic, perspective - and their different angles).<br><br>But yeah, it is looking nice. Generating the "basemap" (bright, dark parts defining mountains, oceans, grassland) should be the most tedious part (to make it look "realistic" - realistic in the definition of what we think of other planets), afterwards it is - I assume so - more or less adding "variations".<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1238399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Derron, I can't see any distortion where you describe it. I've reviewed my code and there is no FOV or Zoom change in the camera. It could be just an optical illusion due the widescreen screenshot, the planets are still perfectly round. The planet is not a sphere - it's a spherified cube - there is still some distortion at the seams of the cube edges, but not so ugly compared to a standard sphere at the poles (no pinch effect!). The distortion is visible in the grey moon screenshot, in the middle of the moon you could see a large triangle like structure. But the distortion can be minimized by "warping" the edges with a proper Photoshop plugin, I'm using the free "Make Cube Tile" / "Make Iso Cube Tile" Plugins from Flaming Pear for that. This nearly eliminates the seams. I think the clouds have been corrected with it, too.<br><br>The most difficult part was to find/create matching base colormaps with interesting features for temperate planets, the other planets are much easier to "build" as you only need a good structured greyscale map / photo and I have tons of them.<br><br>One open issue is that I couldn't find a solution to create a cylindrical 2D map of the planet out of my 3D planet. For a game it would be important to have a 2D topdown map of the whole surface, for example if you're driving around on the planet surface and want ot know where exactly you are.<br><br>Perhaps somebody has an idea how to achieve this. <br><br></td></tr></table><br>
<a name="1238437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> @topdownmap<br><br>Can you "read" the texture displayed on each face/quad - if this is the case you "just" need to undistort each polygon. Then just - like a pattern - place the quads next to each other.<br>This should work, as you use a spherified cube, so the top and bottom vertices are not existing (no triangles in the "last" and "first" part) - they would lead to a visible seam/concentration point.<br><br><br>I think what you are looking for is "mercator projection":<br><a href="http://paulbourke.net/geometry/transformationprojection" target="_blank">http://paulbourke.net/geometry/transformationprojection</a><br><br>(You are German, so the link is the German Wiki entry)<br><a href="https://de.wikipedia.org/wiki/Mercator-Projektion" target="_blank">https://de.wikipedia.org/wiki/Mercator-Projektion</a><br><br>Another planet generator doing this (when searching for "mercator projection" you will find that page)<br><a href="http://www.diku.dk/~torbenm/Planet/" target="_blank">http://www.diku.dk/~torbenm/Planet/</a><br><br>A dissertation about such textures and their generation:<br><a href="http://www.inf.ufrgs.br/~comba/papers/thesis/diss-guilherme.pdf" target="_blank">http://www.inf.ufrgs.br/~comba/papers/thesis/diss-guilherme.pdf</a><br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1238492"></a>

<a name="1238494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried some algorithms but either they were too slow or the result was not sufficient or with gaps/distorted. I need a formula / loop where you cycle through all X/Y pixels of the target map and get the corresponding pixel from the camera frustum, the camera must be rotated during this operation somehow and is placed in the center of the sphere with the sphere flipped i guess. But I dunno how.<br><br>And the map should be equidistance rectangular, not mercator. The formula for 2D/3D projection is simple like that, but without textures, only using the noise values:<br><br><pre class=code>' calculate 2D map
Global hmap:Int[width, height]

Local n:Float
Local h:Int

For Local y:Int = 0 To height - 1

	For Local x:Int = 0 To width - 1
	
		Local theta:Float = Normalize(x, 0, width - 1, 0, 360)
		Local phi:Float = Normalize(y, 0, height - 1, 0, 180)
		
		Local x3d:Float = (Cos(theta) * Sin(phi))
		Local y3d:Float = (Cos(phi))
		Local z3d:Float = (Sin(theta) * Sin(phi))

		Local n:Float = Noise2(x3d, y3d, z3d, seed, Octaves, persistence, scale)
		Local h:Int = ((1 + d) * 127.5)
				
		hmap[x, y] = h
		
	Next

Next</pre><br>Here, the X3D/Y3D/Z3D variables are the coordinates of the corresponding 2D pixel in 3D space if you assume the sphere/planet has a radius of 1 unit until you multiply the scale with these values.<br><br>To give you an idea what I want to achieve here is a much earlier stage of the demo above where you can drive around on the planet with a "terrain vehicle" using the arrow keys. With Enter you can switch between chase and freeflight mode while LMB/RMB lifts you up in the sky. Right shift increases speed like always. It was just a small test so see if you can drive around seamless on a planet and it was hard to code in miniB3D using Euler to Quaternion functions (that you can freely drive in all directions, sounds simple but isn't).<br><br><img src="http://www.christianhart.de/bmax/planetnew/PlanetDrive.jpg"><br><br><a href="http://www.christianhart.de/bmax/planetnew/PlanetDrive.zip" target="_blank">Download EXE+Source+Media (5.5MB)</a> <br><br></td></tr></table><br>
<a name="1238558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> so you need some cylindrical unwrapping code<br><br><br><a href="http://www.ngdc.noaa.gov/mgg/global/relief/ETOPO5/BOUNDARY/WVS/PCSOFT/IPROJ.C" target="_blank">http://www.ngdc.noaa.gov/mgg/global/relief/ETOPO5/BOUNDARY/WVS/PCSOFT/IPROJ.C</a><br><br><a href="http://ian.macky.net/pat/1.0/lib/proj/lcc.c" target="_blank">http://ian.macky.net/pat/1.0/lib/proj/lcc.c</a><br><br><br>Like you already said: you need a formula calculating resulting pixels for a given spot in 3d space and a starting point (center of your camera). With helping values like "focal length" you should be able to "unwrap" it.<br><br><br>Also: do you happen to know the "grid coordinates" on the planets? Like 122m1s? In that case you can simply unwrap by storing that on a pixel grid. "duplicate pixel grid coordinates" then need to mix with all in a group (each pixel group is then a set of values - and at the end you calculate the average of all values to get the resulting pixel value).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1240120"></a>

<a name="1240121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm this is much more complex than I thought. Totally frustrated, I created a video and another running demo of the temperate planet demo similar to the one I've posted two weeks ago - but this time with ultra high resolution textures and with music.<br><br>Have fun with it and don't forget to set your maximum resolution in the "earth.ini" file first or check the Readme.txt.<br><br><iframe width="560" height="345" src="http://www.youtube.com/embed/W0JGdpGbN4o" frameborder="0" allowfullscreen></iframe><br><br>Grab the Full Demo, again with all source, media and executable: <a href="http://www.christianhart.de/bmax/earth/Earth.zip" target="_blank">Download (28MB)</a> <br><br></td></tr></table><br>
<a name="1240132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Power full, i like much your work. <br><br></td></tr></table><br>
<a name="1240134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very cool indeed !<br><br>And if you were to use shaders and whatnot instead of your giant textures/etc, what could you do with it that you can't at the moment? <br><br></td></tr></table><br>
<a name="1240139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; And if you were to use shaders and whatnot instead of your giant textures/etc, what could you do with it that you can't at the moment? <br><br>Thats a good question. I think the atmosphere could look even more realistic then - more like a sharp crescent form - I'm using a simple circular gradient texture for this but this can be optimized further.<br><br>With shaders, the planet surface could be subdivided by the graphics card with no CPU load to calculate fractals and simplex noise when you get closer to get a more detailed space to surface transition. But viewed from space - yes, with shaders it would look somehow like this shaderless version.<br><br>I'm happy with this right now, even if it needs more storage space for the hires textures. And hey, it works with WASD ;-) I remember that Matty had a problem with arrows. <br><br></td></tr></table><br>
<a name="1240163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ploppy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simply gorgeous that youtube clip....! <br><br></td></tr></table><br>
<a name="1240693"></a>

<a name="1240694"></a>

<a name="1240695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Enough with the eye candy demos, now some basics I'm working on for almost one year. It's nice to have planets but they should be distributed realistic in the virtual universe and appear different at different star types. That's why I coded a pseudoprocedural star system generator. It is not perfect or 100% realistic but should be sufficient for a game, doesn't need large data tables and is fast enough for realtime calculations and produces nice results IMHO. I've read a lot of articles and formulas and now I know - extrasolar planets are a very, very complex subject. And we can be happy to live on such a gem in the vast universe, really.<br><br>I'm only using OBAFGKM spectral types and White Dwarfs, too - Main Sequence and Giants. There should be no earthlike planets at O,B or W stars as they probably don't have such planets. But I'm not going too much into details like a ozone layer or more complex things, just the basics. The most earthlike planets should be at F,G stars at position 3,4 and some at A,K,M stars too.<br><br>I would be happy if you play around with it and if you find very weird values please post the System ID and the Planet Number with the error (like 12345.4 has a strange density) and I'll investigate this. If everything is working and the source is commented I'll post the algorithm some day (but it became VERY complex now). And much, much later, this algorithm will be used to create these eyecandy planets and systems randomly.<br><br>Ok, let's go. The demos must be run from a command line window.<br><br>The first demo creates a single star system with a single planet (position 1...10) and outputs all the data the generator calculates from the system ID only using real formulas and some realistic data to mix it with the procedural results.<br><br><a href="http://www.christianhart.de/bmax/planetnew/planet1.exe" target="_blank">Download planet1.exe</a><br>Usage: planet1.exe [SystemID] [PlanetID] or just planet1.exe for a random system with planet 1<br>Example: planet1.exe 123 3 calculates star system 123 with planet 3<br><br>The results are like that:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">-------------------------------------------------------------------------------
System results
-------------------------------------------------------------------------------

BASICS
Star System ID..............: 123
Spectral Class..............: M2-II (Main Sequence)
Star Position XYZ...........: -4.424,9 , -429,9 , -2.759,5
Star Distance...............: 5.232,63 LY

SPECTRAL
Absolute Magnitude..........: 10,01 Mag
Bolometric Magnitude........: 8,01 Mag
Temperature calculated......: 3.622 Kelvin
Temperature typical.........: 3.580 Kelvin
Temperature estimated.......: 3.177 Kelvin
Luminance...................: 6,37x10^24 Watt/m2 (0,008076 x Sun)
Infrared Radiation..........: 0,579999 x Sun
Peak Radiation at...........: 730nm (Red, Molecules)

PHYSICS
Radius estimated............: 389.148 Kilometer (0,55 x Sun)
Mass estimated..............: 6,48x10^29 kg (0,32 x Sun)
Density.....................: 0,82 g/cm3 (0,5836 x Sun)
Surface Gravity.............: 471,60 m/s (48,0900g)
Escape Velocity at 0,1 AU...: 76,06 m/s (7,75g)
Escape Velocity at 1,0 AU...: 24,05 m/s (2,45g)
Escape Velocity at 10 AU....: 7,60 m/s (0,77g)
Escape Velocity at 100 AU...: 2,40 m/s (0,24g)
Escape Velocity at 1000 AU..: 0,76 m/s (0,07g)
Escape Velocity at 0,1 LY...: 0,00 m/s (0,00g)
Escape Velocity at 1 LY.....: 0,00 m/s (0,00g)

LIFETIME
Approximate Star Age........: 8.329.213.218 Years
Maximum Lifetime............: 164.554.161.397 Years
Estimated Star Death in.....: 156.224.948.178 Years
Star Lifetime passed........: 5,06%
Star Fate...................: White Dwarf

LIFE SUPPORT
Minimum Planet Distance.....: 0,528605 AU
Minimum Habitable Zone......: 13,99 Mio. Kilometer (0,093533 AU)
Optimum Habitable Zone......: 28,83 Mio. Kilometer (0,192775 AU)
Maximum Habitable Zone......: 56,19 Mio. Kilometer (0,375648 AU)
Metallicity.................: -0,99 Fe/H
Metallicity life suitable...: NO
Star old enough for own life: YES
Spectrum life suitable?.....: YES

-------------------------------------------------------------------------------
Planet #3 results
-------------------------------------------------------------------------------

Planet ID...................: 123.3
Distance....................: 46 Mio. KM (0,3 AU)
Mass........................: 1,38x10^22 kg
Density.....................: 6,28 g/cm3
Volume......................: 2,20x10^24 cm3
Radius......................: 2.246 km
Tidal lock..................: YES (after 7.221.473.865 Years)
Escape Velocity.............: 0,64 km/s
Orbital Speed...............: 30,42 km/s
Surface Gravity.............: 0,01 g
Atmospheric Pressure........: 0,21 bar
Sideric Period..............: 115,80 Days
Sideric Period..............: 0,31 Years
Rotation Speed..............: 0,000000 Days
Planet Category.............: Mercurian Dwarf (Hot Dwarf)

TEMPERATURE
Albedo Alpha................: 42,12%
Albedo Beta.................: 21,06%
Solar Constant..............: 134,72 Watt/s
Solar Constant corrected....: 33,68 Watt/s
Surface Energy..............: 26,58 Watt/s
Greenhouse Effect...........: 17,12 Kelvin
Temperature Minimum.........: 23,79 Degrees Celsius
Temperature Average.........: 82,63 Degrees Celsius
Temperature Maximum.........: 141,46 Degrees Celsius
Temperature Difference......: 117,67 Degrees Celsius

COMPOSITION
Atmosphere mostly...........: Sulphur Dioxide (9,98)
Hydrosphere mostly..........: Hydrogen Chloride (150,00)
Lithosphere heaviest Element: Gold (79,00)
Global Weather situation....: Dynamic
Resources Score.............: 3%
Evaluation Score............: 23%

-------------------------------------------------------------------------------
Calculated in 1ms
-------------------------------------------------------------------------------</textarea><br><br>The second demo calculates these systems and planets in the background and outputs the results in a table, first the planet candidates with an evaluation score above 50%, then the habitable planets above 75% and finally the perfect planets with 100%. The only Commandline option is the number of star systems to calculate, more stars gives more exact results.<br><br><a href="http://www.christianhart.de/bmax/planetnew/planet2.exe" target="_blank">Download planet2.exe</a><br>Usage: planet2.exe [Stars] or just planet2.exe for 1000 stars<br>Example: planet2.exe 500 calculates 500 star systems<br><br>The results are like that:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">===============================================================================
Calculating 1000 Star Systems with 10 planets orbiting each star
===============================================================================

Planet Candidates (&gt;50%)
========================

      1      2      3      4      5      6      7      8      9     10
O     -      2      1      -      1      -      2      2      1      1  10
B     -      1      2      2      7     11      6      1      -      -  30
A     4      4      9     14     23     11     12      -      -      -  77
F    17     21     37     90     72     25     15      2      -      -  279
G    47     70    176    243     82      -      -      -      -      -  618
K    53     68    112    129     37     26     20      -      -      -  445
M    29     38     61     54     35     17      7      2      -      -  243
W     -      -      -      -      -      -      -      -      -      -  0
Total: 1702 (170,19%)


Habitable Planets (&gt;75%)
========================

      1      2      3      4      5      6      7      8      9     10
O     -      -      -      -      -      -      -      -      -      -  0
B     -      -      -      -      1      2      1      -      -      -  4
A     -      -      -      2      7      3      7      -      -      -  19
F     -      2      5     35     44     11      8      -      -      -  105
G    11     18     80    117     29      -      -      -      -      -  255
K     5      6     24     49     14      7      6      -      -      -  111
M     7     11     15     19      6      4      -      -      -      -  62
W     -      -      -      -      -      -      -      -      -      -  0
Total: 556 (55,60%)


Perfect Planets (100%)
======================

      1      2      3      4      5      6      7      8      9     10
O     -      -      -      -      -      -      -      -      -      -  0
B     -      -      -      -      -      -      -      -      -      -  0
A     -      -      -      -      1      2      2      -      -      -  5
F     -      -      1      6      7      2      1      -      -      -  17
G     2      2     15     22      5      -      -      -      -      -  46
K     1      1      -     11      2      -      1      -      -      -  16
M     3      1      -      3      2      1      -      -      -      -  10
W     -      -      -      -      -      -      -      -      -      -  0
Total: 94 (9,40%)

-------------------------------------------------------------------------------
Calculated in 1203ms
-------------------------------------------------------------------------------</textarea><br><br>Happy planet hunting. By the way... Planet 1.3 looks like a good place to live :-) <br><br></td></tr></table><br>
<a name="1240813"></a>

<a name="1240814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, very pretty eye candy. Also very much has a "Space Odyssey 2001" feel over it. Introducing: the monolith. ;-)<br><img src="http://i61.tinypic.com/2wdrous.jpg"> <br><br></td></tr></table><br>
<a name="1240838"></a>

<a name="1240839"></a>

<a name="1240856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rick, for the monolith you should add a different music to the "sound" folder and replace the filename in the earth.ini. I would suggest "Thus spoke Zarathustra". Like the Blue Danube song in the Earth demo above, it is based on a free MIDI file and rearranged by myself using the EWQL Symphonic Orchestra Gold Edition. It is again free under the <a href="http://creativecommons.org/licenses/by-sa/4.0/" target="_blank">http://creativecommons.org/licenses/by-sa/4.0/</a> license.<br><br><a href="http://www.christianhart.de/bmax/earth/Richard%20Strauss%20-%20Thus%20Spoke%20Zarathustra.ogg" target="_blank">Richard Strauss - Thus Spoke Zarathustra.ogg</a> <br><br></td></tr></table><br>
<a name="1240897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I can almost hear HAL saying: "What's the matter, Dave?" <br><br></td></tr></table><br>
<a name="1240915"></a>

<a name="1240916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Krischan&gt;&gt;<br><a href="http://www.youtube.com/v/iZtbASCE7ZY?start=40&amp;end=49" target="_blank">http://www.youtube.com/v/iZtbASCE7ZY?start=40&amp;end=49</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
