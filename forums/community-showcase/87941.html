<!DOCTYPE html><html lang="en" ><head ><title >Neural Network Creatures Simulation</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Neural Network Creatures Simulation</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Neural Network Creatures Simulation</a><br><br>
<a name="997814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a little example of using evolution to simulate neural networks "learning"<br><br><br>The readme.txt...<br><br><div class="quote"> After running neuralnetworkcreatures.bmx, you should see an 800x600 screen full of little blue creatures and green dots.  The green dots represent food that the little blue creatures eat.  If they over or under eat, they will die.  Their "fullness" is demonstrated by a bar above them.  As it shrinks they are becoming hungry, as it grows they are becoming full.<br><br>This simulates the evolution of the creatures through natural selection.  The 10 Creatures of the 20 original creatures that last the longest are duplicated with mutations for the next generation.  Each generation is more competitive for food and survival than the last and eventually by about generation 30, the creatures will show signs of reasoning and decision making based on how full they are and where the food is.<br><br>So how do they work?  Each creature is controlled by a neural network.  Each neural network has 4 inputs.  Fullness, Left antenna smell, Right antenna smell (determined by distance from food), and heartbeat.  The heartbeat neuron beats at a steady pulse, once every 20 simulation steps.  The neural networks are randomly generated at first but evolve every generation.<br><br>Controls:<br><br>Just sit and watch if you want.  If you want it to go faster press the spacebar once and it will stop rendering.  Press it again to  allow it to render again.  Click on a creature to see its neurons. (connections are not shown at the moment)<br><br><br>Other notes:<br><br>The number on each creature is the generation its brain structure was created.<br>Enjoy <br></div><br><br>heres a download: <a href="http://naillproductions.synthasite.com/resources/NeuralNetworkCreatures/NeuralNetworkCreatures.zip" target="_blank">http://naillproductions.synthasite.com/resources/NeuralNetworkCreatures/NeuralNetworkCreatures.zip</a><br><br>screenies<br><img src="http://naillproductions.synthasite.com/resources/NeuralNetworkCreatures/neuralnetworkcreatures2.png"><br><br><img src="http://naillproductions.synthasite.com/resources/NeuralNetworkCreatures/neuralnetworkcreatures1.png"><br><br>edit: here is the code, its hard for me to upload things atm no images required<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

SuperStrict
SeedRnd(MilliSecs())
Graphics 800,600,0,60

For Local i:Int = 0 To 20
	food.Create(Rnd(800),Rnd(600))
Next

For Local b:Int = 0 To 20
	Local f:fish = fish.Create(Rnd(800),Rnd(600),0,fish.makebrain:neuralnet())
Next

Global generation:Int = 0
Global simstep:Long = 0

Global finalsimstep:Long
Global finalflag:Byte

Global render:Int = True
Global gopast10:Int = True

Global selected:fish

While Not AppTerminate()
	If KeyHit(key_space) Then
		render = 1-render
	EndIf
	If KeyHit(key_f) Then
		gopast10 = 1-gopast10
	EndIf
	If render Then Cls
	simstep = simstep + 1
	
	food.update()
	fish.update()
	
	Local sf:fish
	For sf:fish = EachIn fish.fishlist
		If sf:fish = selected:fish And sf.alive Then
			sf.drawnnet()
		EndIf
	Next
	
	If MouseHit(1)
		selected:fish = Null
		For sf:fish = EachIn fish.fishlist
			Local dx# = MouseX()-sf.x
			Local dy# = MouseY()-sf.y
			Local dist# = Sqr(dx*dx + dy*dy)
			If dist &lt;= 20 Then
				selected:fish = sf:fish
			EndIf
		Next
	EndIf
	
	If KeyHit(key_p) And selected:fish  &lt;&gt; Null Then
		neuralnet.printnnet(selected.brain:neuralnet)
	EndIf
	neuralnet.update()
	
	SetColor 255,255,255
	DrawText "Generation: "+generation,1,1
	DrawText "Simulation Step: "+simstep,1,20
	If gopast10 = True Then
		DrawText "Simulating full generation (press f to change)",1,40
	Else
		DrawText "Only simulating generations to 10 (press f to change)",1,40
	EndIf
	
	If fish.livecount &lt;= 10 And finalflag = False Then
		finalsimstep = simstep-1
		finalflag = True
	EndIf
	If (finalflag And gopast10 = False) Or fish.livecount = 0 Then
		generation :+ 1
		
		finalflag = False
		Print (generation-1)+ "  length: "+simstep
				
		For Local f:fish = EachIn fish.fishlist
			If f.life &gt;= finalsimstep And f.life &gt; 0 Then
				'Print "good "+f.life
				f.alive = True
				f.hunger = 0
				Local ff:fish = fish.Create(Rnd(800),Rnd(600),0,neuralnet.copy(f.brain:neuralnet))
				ff.makemistake()
			ElseIf f.life &gt; 0
				'Print "bad "+f.life
				f.remove()
			EndIf
		Next
		simstep = 0
	EndIf
	
	If render Then Flip
Wend

Type food
	Global foodlist:TList = New TList
		
	Field x#
	Field y#
	Field dist#
	
	Function Create:food(x#,y#)
		Local f:food = New food
		f.x = x
		f.y = y
		foodlist.addlast(f:food)
		Return f:food
	End Function
	
	Function update()
		For Local f:food = EachIn foodlist
			If render Then f.draw()
		Next
	End Function
	
	Method draw()
		SetColor(0,255,0)
		DrawOval(x-5,y-5,10,10)
	End Method
	
	Function getfoodsmell:Float(x#,y#)		'returns the amount of smell of food there is at a certain point
		Local smell:Float = 0
		For Local f:food = EachIn foodlist
			Local dx:Float = x-f.x
			Local dy:Float = y-f.y
			Local dist:Float = Sqr(dx*dx + dy*dy)
			If dist &lt; 50 And dist &gt; 15 Then
				smell :+ (50-dist)/50
			ElseIf dist &lt;= 15 Then
				smell :+ 1
			EndIf
		Next
		Return smell#
	End Function
	
	Function getclosefood:food(x#,y#)	'returns the food closest to given point x,y
		Local closest:Float = 10000
		Local closestfood:food
		Local dist:Float
		For Local f:food = EachIn foodlist
			Local dx:Float = x-f.x
			Local dy:Float = y-f.y
			dist:Float = Sqr(dx*dx + dy*dy)
			If dist &lt; closest Then
				closestfood:food = f:food
				closest = dist
			EndIf
		Next
		If closest &lt; 25 Then Return closestfood:food
	End Function
End Type

Type Fish
	Global fishlist:TList = New TList
	Global livecount:Int
	
	Field x#
	Field y#
	Field angle#
	Field anglespd#
	Field hunger#
	Field heartcount:Int
	Field hearton:Byte
	Field brain:neuralnet
	Field alive:Byte
	Field life:Long
	Field gen:Int
	
	Function update()
		livecount = 0
		Local onedied:Int = 0
		Local totcnt:Int
		For Local f:fish = EachIn fishlist
			totcnt = totcnt + 1
			If f.alive Then
				livecount :+ 1
				f.hunger = f.hunger + .001
				f.heartcount = f.heartcount + 1
				If f.heartcount &gt; 20 Then
					f.hearton = 1-f.hearton
					f.heartcount = 0
				EndIf
				Local hrt:neuron = f.brain.findneuron("heart")
				hrt.setenergy(f.hearton)
				Local hng:neuron = f.brain.findneuron("hunger")
				hng.setenergy(f.hunger)
				Local lft:neuron = f.brain.findneuron("left")
				Local rgt:neuron = f.brain.findneuron("right")
				f.anglespd# = f.anglespd - lft.getenergy()*5 + rgt.getenergy()*5	'calculate steering
				f.anglespd = f.anglespd * .9
				If f.anglespd &gt; 4 Then f.anglespd = 4
				If f.anglespd &lt; -4 Then f.anglespd = -4
				f.angle = f.angle + f.anglespd
				Local spd# = (lft.getenergy()*7+rgt.getenergy()*7)
				If spd &gt; 5 Then spd = 5
				If spd &lt; -5 Then spd = -5
				f.x = f.x + Cos(f.angle)*spd
				f.y = f.y + Sin(f.angle)*spd
				If render Then f.draw()
				f.checkfood()
				f.checkenemy()
				f.life = simstep
				If Abs(f.hunger) &gt; 1 And onedied = 0 Then
					f.alive = False
					f.life = simstep
					onedied = 1
				EndIf
				If f.x &lt; -20 Then f.x = 820
				If f.x &gt; 820 Then f.x = -20
				If f.y &lt; -20 Then f.y = 620
				If f.y &gt; 620 Then f.y = -20
			'	neuralnet.printnnet(f.brain:neuralnet)		
			EndIf
		Next
	End Function
	
	Method draw()
		SetColor(100,255,100)
		DrawLine(x,y,x+Cos(angle+30)*30,y+Sin(angle+30)*30)
		DrawLine(x,y,x+Cos(angle-30)*30,y+Sin(angle-30)*30)
		SetColor(0,50,255)
		DrawOval(x-20,y-20,40,40)
		SetColor(255,255,255)
		DrawLine(x,y,x+Cos(angle)*30,y+Sin(angle)*30)
		SetColor ((hunger+1)/2)*255,((-hunger+1)/2)*255,0
		SetBlend alphablend
		SetAlpha .5
		DrawRect x-20,y-35,((-hunger+1)/2)*40,5
		SetAlpha 1
		SetColor 255,255,255
		DrawText gen,x-10,y-10
	End Method
	
	Method checkfood()
		Local x1:Float = x+Cos(angle-30)*30
		Local y1:Float = y+Sin(angle-30)*30
		Local smell1# = food.getfoodsmell(x1,y1)
		Local foodleft:neuron = brain.findneuron("foodlft")
		foodleft.setenergy(smell1)
		Local x2:Float = x+Cos(angle+30)*30
		Local y2:Float = y+Sin(angle+30)*30
		Local smell2# = food.getfoodsmell(x2,y2)
		Local foodright:neuron = brain.findneuron("foodrgt")
		foodright.setenergy(smell2)
		Local f:food = food.getclosefood(x,y)
		If f:food &gt;&lt; Null Then
			f.x = Rnd(800)
			f.y = Rnd(600)
			hunger :- .7
		EndIf
	End Method
	
	Method checkenemy()
		Local smell1#
		Local smell2#
		For Local f:fish = EachIn fishlist
			If f:fish &gt;&lt; Self Then
				Local dx# = (x+Cos(angle-30)*30)-f.x
				Local dy# = (y+Sin(angle-30)*30)-f.y
				Local dist# = Sqr(dx*dx + dy*dy)
				If dist &lt;= 50 Then
					smell1# = smell1# + (50-dist#)/50.0
				EndIf
				dx# = (x+Cos(angle+30)*30)-f.x
				dy# = (y+Sin(angle+30)*30)-f.y
				dist# = Sqr(dx*dx + dy*dy)
				If dist &lt;= 50 Then
					smell2# = smell2# + (50-dist#)/50.0
				EndIf
			EndIf
		Next
		brain.findneuron("enemylft").setenergy(smell1)
		brain.findneuron("enemyrgt").setenergy(smell2)
	End Method
	
	Function Create:fish(x#,y#,angle#,brain:neuralnet)
		Local f:fish = New fish
		f.x = x
		f.y = y
		f.angle = angle
		f.brain = brain
		f.heartcount = Rnd(0,19)
		f.hearton = Rnd(0,1)
		f.alive = True
		f.gen = generation
		fishlist.addlast(f:fish)
		Return f:fish
	End Function
	
	Method drawnnet()
		SetAlpha .4
		SetColor 255,255,255
		DrawRect x+20,y+20,150,150
		SetAlpha 1
		
		SetColor 0,0,(brain.findneuron("heart").getenergy()*255)
		DrawOval x+87,y+92,6,6
		
		SetColor ((-brain.findneuron("hunger").getenergy())*255),0,(brain.findneuron("hunger").getenergy()*255)
		DrawOval x+97,y+92,6,6
		
		SetColor ((-brain.findneuron("n1").getenergy())*255),0,(brain.findneuron("n1").getenergy()*255)
		DrawOval x+92,y+40,6,6
		
		SetColor ((-brain.findneuron("n2").getenergy())*255),0,(brain.findneuron("n2").getenergy()*255)
		DrawOval x+52,y+115,6,6
		
		SetColor ((-brain.findneuron("n3").getenergy())*255),0,(brain.findneuron("n3").getenergy()*255)
		DrawOval x+132,y+115,6,6
		
		SetColor ((-brain.findneuron("c1").getenergy())*255),0,(brain.findneuron("c1").getenergy()*255)
		DrawOval x+92,y+140,6,6
		
		SetColor ((-brain.findneuron("left").getenergy())*255),0,(brain.findneuron("left").getenergy()*255)
		DrawOval x+30,y+70,6,6
		
		SetColor ((-brain.findneuron("right").getenergy())*255),0,(brain.findneuron("right").getenergy()*255)
		DrawOval x+157,y+70,6,6
		
		SetColor ((-brain.findneuron("foodlft").getenergy())*255),0,(brain.findneuron("foodlft").getenergy()*255)
		DrawOval x+30,y+30,6,6
		
		SetColor ((-brain.findneuron("foodrgt").getenergy())*255),0,(brain.findneuron("foodrgt").getenergy()*255)
		DrawOval x+157,y+30,6,6
	End Method
	
	Function MakeBrain:neuralnet()
		Local n:neuralnet = neuralnet.Create()
		Local hrt:neuron = neuron.Create(0,"heart")	'this neuron will "beat" at a steady rate
		Local hngr:neuron = neuron.Create(-1,"hunger")	'this neuron will slowly turn on if a fish has not eaten in a while, negative if a fish is over full
		
		Local n1:neuron = neuron.Create(Rnd(-1,1.0),"n1")	'neurons that do the logic
		Local n2:neuron = neuron.Create(Rnd(-1,1.0),"n2")
		Local n3:neuron = neuron.Create(Rnd(-1,1.0),"n3")
		
		Local nc1:neuron = neuron.Create(Rnd(-1,1.0),"c1")
				
		Local lft:neuron = neuron.Create(-1,"left")		'neurons that control movement
		Local rgt:neuron = neuron.Create(-1,"right")
						
		Local foodlft:neuron = neuron.Create(-1,"foodlft")	'left and right food detectors
		Local foodrgt:neuron = neuron.Create(-1,"foodrgt")
		
		Local enemyrgt:neuron = neuron.Create(-1,"enemyrgt")	'left and right enemy sensors
		Local enemylft:neuron = neuron.Create(-1,"enemylft")
		
		n.addneuron(hrt)
		n.addneuron(hngr)
		n.addneuron(n1)
		n.addneuron(n2)
		n.addneuron(n3)
		n.addneuron(lft)
		n.addneuron(rgt)
		n.addneuron(foodlft)
		n.addneuron(foodrgt)
		n.addneuron(nc1)
		n.addneuron(enemyrgt)
		n.addneuron(enemylft)
		
		
		Local c1:connection = connection.Create(hrt,n1,Rnd(-1,1.0))
		Local c2:connection = connection.Create(hrt,n2,Rnd(-1,1.0))
		Local c3:connection = connection.Create(hrt,n3,Rnd(-1,1.0))

		Local c4:connection = connection.Create(hngr,n1,Rnd(-1,1.0))
		Local c5:connection = connection.Create(hngr,n2,Rnd(-1,1.0))
		Local c6:connection = connection.Create(hngr,n3,Rnd(-1,1.0))


		Local c7:connection = connection.Create(n1,n2,Rnd(-1,1.0))
		Local c8:connection = connection.Create(n2,n1,Rnd(-1,1.0))

		Local c9:connection = connection.Create(n2,n3,Rnd(-1,1.0))
		Local c10:connection = connection.Create(n3,n2,Rnd(-1,1.0))

		Local c11:connection = connection.Create(n1,n3,Rnd(-1,1.0))
		Local c12:connection = connection.Create(n3,n1,Rnd(-1,1.0))
		
		Local c13:connection = connection.Create(foodlft,n1,Rnd(-1,1.0))
		Local c14:connection = connection.Create(foodlft,n2,Rnd(-1,1.0))

		Local c15:connection = connection.Create(foodrgt,n3,Rnd(-1,1.0))
		Local c16:connection = connection.Create(foodrgt,n1,Rnd(-1,1.0))
		
		Local c17:connection = connection.Create(n1,lft,Rnd(-1,1.0))
		Local c18:connection = connection.Create(n2,lft,Rnd(-1,1.0))

		Local c19:connection = connection.Create(n3,rgt,Rnd(-1,1.0))
		Local c20:connection = connection.Create(n1,rgt,Rnd(-1,1.0))
		
		Local c21:connection = connection.Create(n1,nc1,Rnd(-1,1.0))
		Local c22:connection = connection.Create(n2,nc1,Rnd(-1,1.0))
		Local c23:connection = connection.Create(n3,nc1,Rnd(-1,1.0))
		
		Local c24:connection = connection.Create(enemyrgt,n1,Rnd(-1,1.0))
		Local c25:connection = connection.Create(enemyrgt,n3,Rnd(-1,1.0))
		
		Local c26:connection = connection.Create(enemylft,n1,Rnd(-1,1.0))
		Local c27:connection = connection.Create(enemylft,n2,Rnd(-1,1.0))
		
		n.addconnection(c1)
		n.addconnection(c2)
		n.addconnection(c3)
		n.addconnection(c4)
		n.addconnection(c5)
		n.addconnection(c6)
		n.addconnection(c7)
		n.addconnection(c8)
		n.addconnection(c9)
		n.addconnection(c10)
		n.addconnection(c11)
		n.addconnection(c12)
		n.addconnection(c13)
		n.addconnection(c14)
		n.addconnection(c15)
		n.addconnection(c16)
		n.addconnection(c17)
		n.addconnection(c18)
		n.addconnection(c19)
		n.addconnection(c20)
		n.addconnection(c21)
		n.addconnection(c22)
		n.addconnection(c23)
		n.addconnection(c24)
		n.addconnection(c25)
		n.addconnection(c26)
		n.addconnection(c27)

		Return n:neuralnet
	End Function
	
	Method makemistake()
		Local mvar:Int
		For Local n:neuron = EachIn brain.neuronlist
			mvar = Rnd(50)
			If mvar = 10 Then
				n.setthreshold(Rnd(-1,1.0))
				Print "changed threshold"
			EndIf
		Next
		For Local c:connection = EachIn brain.connectionlist
			mvar = Rnd(50)
			If mvar = 10 Then
				c.setweight(Rnd(-1,1.0))
				Print "changed weight"
			EndIf
		Next
		mvar = Rnd(10)
		If mvar = 2 Then
			Local nn:neuron = neuron.Create(Rnd(-1,1),"x")
			Local n1:neuron
			mvar = Rnd(1,brain.neuronlist.count())
			Local cnt:Int = 0
			For Local n:neuron = EachIn brain.neuronlist
				cnt :+ 1
				If cnt = mvar Then n1:neuron = n:neuron
			Next
			Local cc:connection = connection.Create(n1,nn,Rnd(-1,1.0))
			brain.addconnection(cc)
			Local n2:neuron
			mvar = Rnd(1,brain.neuronlist.count())
			cnt:Int = 0
			For Local n:neuron = EachIn brain.neuronlist
				cnt :+ 1
				If cnt = mvar Then n2:neuron = n:neuron
			Next
			cc:connection = connection.Create(nn,n2,Rnd(-1,1.0))
			brain.addconnection(cc)
			brain.addneuron(nn)
			Print "new neuron!"
		EndIf
		mvar = Rnd(10)
		If mvar = 3 Then
			Print "new connection"
			Local n1:neuron
			Local n2:neuron
			mvar = Rnd(1,brain.neuronlist.count())
			Local cnt:Int = 0
			For Local n:neuron = EachIn brain.neuronlist
				cnt :+ 1
				If cnt = mvar Then n1:neuron = n:neuron
			Next
			mvar = Rnd(1,brain.neuronlist.count())
			cnt:Int = 0
			For Local n:neuron = EachIn brain.neuronlist
				cnt :+ 1
				If cnt = mvar Then n2:neuron = n:neuron
			Next
			If n1:neuron &gt;&lt; n2:neuron Then
				Local cc:connection = connection.Create(n1,n2,Rnd(-1,1.0))
				brain.addconnection(cc)
			EndIf
		EndIf
	End Method
	
	Method remove()
		brain.remove()
		fishlist.remove(Self)
	End Method
	
End Type


Type neuralnet
	Global neuralnetlist:TList = New TList
	
	Field neuronlist:TList
	Field connectionlist:TList
	
	Function printnnet(n:neuralnet)
		For Local nn:neuron = EachIn n.neuronlist
			Print "neuron: "+nn.getname()+" Energy: "+nn.getenergy()+" Threshold: "+nn.getthreshold()
		Next
		For Local c:connection = EachIn n.connectionlist
			Print "connection from "+c.getsource().getname()+" to "+c.getdestination().getname()+"  Weight: "+c.getweight()
		Next
	End Function
	
	Function Create:neuralnet()
		Local n:neuralnet = New neuralnet
		n.neuronlist:TList = New TList
		n.connectionlist:TList = New TList
		neuralnetlist.addlast(n:neuralnet)
		Return n:neuralnet
	End Function
	
	Method addneuron(n:neuron)
		neuronlist.addlast(n:neuron)
	End Method
	
	Method addconnection(c:connection)
		connectionlist.addlast(c:connection)
	End Method
	
	Method removeneuron(n:neuron)
		neuronlist.remove(n:neuron)
	End Method
	
	Method removeconnection(c:connection)
		connectionlist.remove(c:connection)
	End Method
	
	Method remove()
		neuralnetlist.remove(Self)
		For Local n:neuron = EachIn neuronlist
			n.remove()
		Next		
		For Local c:connection = EachIn connectionlist
			c.remove()
		Next		
	End Method
	
	Method findneuron:neuron(name$)
		For Local n:neuron = EachIn neuronlist
			If n.name$ = name$
				Return n:neuron
			EndIf
		Next
	End Method
	
	Function update()
		connection.clearenergy()
		connection.doweight()
		neuron.clearenergy()
		connection.dotransfer()
	End Function
	
	Function copy:neuralnet(n:neuralnet)
		Local nn:neuralnet = neuralnet.Create()
		For Local ne:neuron = EachIn n.neuronlist
			Local ne2:neuron = neuron.copy(ne:neuron)
			nn.neuronlist.addlast(ne2:neuron)
		Next
		For Local c:connection = EachIn n.connectionlist
			Local srcn:neuron
			Local destn:neuron
			Local cntgoal:Int = n.getlistposition(c.getsource())
			Local cnt:Int = 0
			For srcn:neuron = EachIn nn.neuronlist
				cnt:+1
				If cnt = cntgoal Then
					Exit
				EndIf
			Next
			cntgoal:Int = n.getlistposition(c.getdestination())
			cnt:Int = 0
			For destn:neuron = EachIn nn.neuronlist
				cnt:+1
				If cnt = cntgoal Then
					Exit
				EndIf
			Next

			Local cc:connection = connection.Create(srcn:neuron,destn:neuron,c.weight#)
			nn.connectionlist.addlast(cc:connection)
		Next
		Return nn:neuralnet
	End Function
	
	Method getlistposition:Int(nn:neuron)
		Local cnt:Int = 0
		For Local n:neuron = EachIn neuronlist
			cnt:+1
			If n:neuron = nn:neuron Then
				Return cnt
			EndIf
		Next
	End Method
End Type


Type neuron
	Global neuronlist:TList = New TList
	
	Field threshold#
	Field energy#
	Field name$
	
	Function Create:neuron(threshold#,name$ = "")
		Local n:neuron = New neuron
		n.threshold = threshold
		n.energy = 0
		n.name$ = name$
		neuronlist.addlast(n:neuron)
		Return n:neuron		
	End Function
	
	Method getthreshold:Float()
		Return threshold
	End Method
	
	Method setthreshold(t#)
		threshold = t
	End Method
	
	Method getenergy:Float()
		Return energy#
	End Method
	
	Method getenergyt:Float()
		If energy =&gt; threshold Then Return energy
		Return 0
	End Method
	
	Method setenergy(e#)
		energy = e
	End Method
	
	Method remove()
		neuronlist.remove(Self)
	End Method
	
	Method getname:String()
		Return name$
	End Method
	
	Function clearenergy()							'''''''''''Corrected this function'''''''''''''''''''''
		For Local n:neuron = EachIn neuronlist
			If n.getenergy() =&gt; n.getthreshold() Then
				n.setenergy(0)
			Else
				n.setenergy(n.getenergy()*.98)
			EndIf
			
		Next
	End Function
	
	
	Function copy:neuron(n:neuron)
		Local nn:neuron = neuron.Create(n.getthreshold(),n.getname())
		Return nn:neuron
	End Function
	
End Type

Type connection
	Global connectionlist:TList = New TList
	
	Field src:neuron
	Field dest:neuron
	Field weight#
	Field energy#
	
	Function Create:connection(src:neuron,dest:neuron,weight#)
		Local c:connection = New connection
		c.src:neuron = src:neuron
		c.dest:neuron = dest:neuron
		c.weight = weight
		c.energy = 0
		connectionlist.addlast(c:connection)
		Return(c:connection)
	End Function
	
	Method getweight:Float()
		Return weight#
	End Method
	
	Method setweight(w#)
		weight = w
	End Method
	
	Method getenergy:Float()
		Return energy#
	End Method
	
	Method setenergy(e#)
		energy = e
	End Method
	
	Method getsource:neuron()
		Return src:neuron
	End Method
	
	Method setsource(s:neuron)
		src:neuron = s:neuron
	End Method
	
	Method getdestination:neuron()
		Return dest:neuron
	End Method
	
	Method setdestination(d:neuron)
		dest:neuron = d:neuron
	End Method
	
	Method remove()
		connectionlist.remove(Self)
	End Method
	
	Function clearenergy()
		For Local c:connection = EachIn connectionlist
			c.setenergy(0)
		Next
	End Function
	
	Function doweight()
		For Local c:connection = EachIn connectionlist
			c.setenergy(c.getsource().getenergyt()*c.getweight())
		Next
	End Function
	Function dotransfer()
		For Local c:connection = EachIn connectionlist
			c.getdestination().setenergy(c.getdestination().getenergy() + c.getenergy())
		Next
	End Function
	
End Type</textarea><br>enjoy <br><br></td></tr></table><br>
<a name="997823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is really cool <br><br></td></tr></table><br>
<a name="997827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> its quite disturbing watching the little b'stards wander about in a biological fashion, I will check out the source tomorrow<br><br>good job! <br><br></td></tr></table><br>
<a name="997829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> this is really cool <br></div><br><br>thanks, I was wondering what are the similarities/differences between this and the memes simulation on your website?<br><br><div class="quote"> its quite disturbing watching the little b'stards wander about in a biological fashion, I will check out the source tomorrow<br><br>good job! <br> <br></div><br><br>thanks, and it was disturbing to me too at first... when I simulated to generation 50 it was really just too much for me. lol the reasoning they develop is astounding.  It is based off of the neurons in our brains and how they work so I guess its proof it works :) <br><br></td></tr></table><br>
<a name="997830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> the randomness of new fish is created through the create_mistake function? <br><br></td></tr></table><br>
<a name="997831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, it cycles through all of the neurons and connections and has a certain perecent chance of changing them randomly.  These simulate mutations. <br><br></td></tr></table><br>
<a name="997851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jerome Squalor</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> the link seems to be broken here. <br><br></td></tr></table><br>
<a name="997856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I was wondering what are the similarities/differences between this and the memes simulation on your website? <br></div><br><br>They look similar, that's about it. The creatures in <i>memetics simulation no. 1</i> don't survive or die based on how good they are at finding food, it's based on which ones people click on (which is basically random.) <br><br></td></tr></table><br>
<a name="997902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice example. I'm currently at generation 34 :-) <br><br></td></tr></table><br>
<a name="997918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fascinating.  <br><br>I'd like to see (may look at code and try to add) some stuff to see "aggression" and "self-preservation".  e.g. left/right sensors like those for food to "see" proximity/direction of other creatures, and a health penalty for striking each other.  Would probably also need some "genes" in there, too, e.g. a mutating "hardness" gene that slows them down but also makes them less susceptible to collisions... <br><br></td></tr></table><br>
<a name="997938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I stopped at generation 56. As expected with neural nets, every generation takes longer and longer to evolve.<br><br>Do you plan on saving state so that you can later load these to have your generated A.I. do it's magic, or perhaps even evolve further? <br><br></td></tr></table><br>
<a name="997943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Saving state would be great so you can keep going and/or picking the "best so far" neural net to export / import.<br><br>Rummaging in the cod, it seems the structure of the neural net itself is fixed and doesn't mutate (it's just the threshold &amp; weightings that change in "makemistake").  I know very little about neural nets,  but is that type of mutation something that could / should be added (or not?) Suspect in most instances will make a "freak" creature? <br><br></td></tr></table><br>
<a name="997963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the link seems to be broken here. <br> <br></div><br><br>hmm could you test it again?<br><br><div class="quote"> They look similar, that's about it. The creatures in memetics simulation no. 1 don't survive or die based on how good they are at finding food, it's based on which ones people click on (which is basically random.) <br> <br></div><br><br>oh so looking at it more closesly I see its more about social interactions than genetics right? or is that just experiment 2<br><br><div class="quote"> Fascinating. <br><br>I'd like to see (may look at code and try to add) some stuff to see "aggression" and "self-preservation". e.g. left/right sensors like those for food to "see" proximity/direction of other creatures, and a health penalty for striking each other. Would probably also need some "genes" in there, too, e.g. a mutating "hardness" gene that slows them down but also makes them less susceptible to collisions... <br> <br></div><br><br>yeah, im adding/changing the simulation at the moment to have more features but with a small brain they are limited to how much info they can process and bigger brains means exponentially more time to evolve :/ Im thinking about having random mutations such as random connections forming and neurons being created as well... this could make them have potentially huge brains lol<br><br><div class="quote"> Ok I stopped at generation 56. As expected with neural nets, every generation takes longer and longer to evolve.<br><br>Do you plan on saving state so that you can later load these to have your generated A.I. do it's magic, or perhaps even evolve further? <br> <br></div><br><br>yeah im on 75 right now... dang they live for at least 200,000 cycles, I think ill stop right here lol<br><br>and I definitely plan on making it possible to load and save neural nets and the simulation, or maybe put the top survivors of each generation all against eachother? lol<br><br><div class="quote"> <br>Saving state would be great so you can keep going and/or picking the "best so far" neural net to export / import.<br><br>Rummaging in the cod, it seems the structure of the neural net itself is fixed and doesn't mutate (it's just the threshold &amp; weightings that change in "makemistake"). I know very little about neural nets, but is that type of mutation something that could / should be added (or not?) Suspect in most instances will make a "freak" creature? <br> <br></div><br><br>yeap im experimenting to see if I can make their brains bigger but bigger brains mean slower reaction time so my guess is it will balance out<br><br>edit: on another note, I have been studying their brains individually, like simulating them myself via pen and paper and im really amazed lol it just doesnt seem impossible to "compress" that much logic in that small of a brain... nature never ceases to amaze us with its cool systems... if anyone wants to try this to "print" the brain of a fish in the ide, just use the neuralnet.printnnet(n:neuralnet) function to print out all of the connections, thresholds and weights<br><br>and I am quite surprised I havent gotten flamed about this as its controversial ethicly, I guess thats a good sign about this community, I tried to show it to my family (all non programmers) and they started going on about how it wasnt right and all this cuz they think im tryin to "make life and play God" which of course isnt true, its just a fun experiment that mimics natural systems... (evolution and neurons) <br><br></td></tr></table><br>
<a name="998005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> well here are some very interesting results:<br><br>I added 2 input neurons that smelled how close the creatures were to other creatures and at about the 50th generation, the creatures almost never go though eachother, somehow it is advantagous not to go looking for food by going through another creature because it has most likely cleared out the food from its path.  It is also not advantagous to follow another creature as they avoid this as well.  Interestingly though it doesnt take much longer for them to evolve these traits despite the increase in neurons and connections that have to be solved.  I still have not implemented new neurons and connections in the makemistake function <br><br></td></tr></table><br>
<a name="998035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool.  I guess the fact it doesn't take as long suggests that each generation is always likely to last about the same amount of time?  Probably true of early generations, and it may well be that the biggest evolutionary steps occur early on, with later generations "just" refining?<br><br>In terms of the neural net, it looks like 3 neurons in the "brain", in addition to the 4 inputs and 2 outputs (left / right).  What's the extra one (var nc1)?  Why 3 neurons - just to keep it simple? Or is there some logic?  (Feel free to point me at some reading material!)<br><br>I also wondered about environmental stimulus, although I take your point that adding more will probably generate a very slow process, so maybe being able to play with "connected" inputs.  For example :<br><br>     - warm / cold regions (in colder regions you get hungry quicker)<br>     - light / dark for "cold-blooded" creatures (dark = get cold = die quicker)<br>     - water as well as food, but go too far into deep water &amp; die (probably a bit too lethal with the number in the simulation!)<br><br>What would be equally neat would be to allow the user to draw the above at the start / change during run time.  I wonder what would happen if the creatures could also "see" your mouse - would they become "god" fearing creatures if you keep being nasty? Or "god-botherers" if you are too nice? ;-) <br><br></td></tr></table><br>
<a name="998037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> And at the risk of creating lazy creatures, should you get hungrier the faster you move?  Might see some interesting balances of "sleeping" after a meal, followed by quick search for food, then slow down again??? <br><br></td></tr></table><br>
<a name="998040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Cool. I guess the fact it doesn't take as long suggests that each generation is always likely to last about the same amount of time? Probably true of early generations, and it may well be that the biggest evolutionary steps occur early on, with later generations "just" refining?<br> <br></div><br><br>yeah thats pretty much what ive observed so far.<br><br><div class="quote"> <br>In terms of the neural net, it looks like 3 neurons in the "brain", in addition to the 4 inputs and 2 outputs (left / right). What's the extra one (var nc1)? Why 3 neurons - just to keep it simple? Or is there some logic? (Feel free to point me at some reading material!)<br> <br></div><br><br>its funny you mention reading material, I actually had trouble finding much useful material, with the exception being google talks of youtube.  the "brain" is made of 4 neurons n1-3 and nc1 the center neuron, it is distinguished because it is not connected to the heart or the hunger neurons or any of the other control/sensor neurons.  It simply allows for another level of complexity.  The more neurons the more complex.  There is no reason for 4 neurons to be the brain, it just seemed reasonable...<br><br><div class="quote"> I also wondered about environmental stimulus, although I take your point that adding more will probably generate a very slow process, so maybe being able to play with "connected" inputs. For example :<br><br>- warm / cold regions (in colder regions you get hungry quicker)<br>- light / dark for "cold-blooded" creatures (dark = get cold = die quicker)<br>- water as well as food, but go too far into deep water &amp; die (probably a bit too lethal with the number in the simulation!)<br> <br></div><br><br>those would be fun to add, I plan on making the simulation area much bigger too so it can accomodate more variation in creatures and the environment.<br><br><div class="quote"> What would be equally neat would be to allow the user to draw the above at the start / change during run time. I wonder what would happen if the creatures could also "see" your mouse - would they become "god" fearing creatures if you keep being nasty? Or "god-botherers" if you are too nice? ;-) <br><br> <br></div><br><br>yeah I think if you mess with it too much it would screw up the evolutionary process but it would still be fun :)<br><br><div class="quote"> And at the risk of creating lazy creatures, should you get hungrier the faster you move? Might see some interesting balances of "sleeping" after a meal, followed by quick search for food, then slow down again??? <br><br> <br></div><br><br>hmm yeah I think ill add that too.  Right now they seem to be doing that anyway.  They eat, slow down, quick search for food, eat, slow down etc...<br>thanks <br><br></td></tr></table><br>
<a name="998058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried hacking in the hungry / fast thing (simply by increasing hunger quicker if over a certain speed), and it seems to just limit them to that speed.<br><br>One thing that seems odd is that they always do this funny move &amp; stop, move &amp; stop thing.  It is presumably a reaction to the heartbeat, but I don't get why that would happen, and almost wonder if there's a bug in there (or something in there to prevent positive feedback from sending them into a spiral?).<br><br>I'm also fairly sure that I've seen creatures with nice big green bars get food and suddenly die.  <br><br><div class="quote"> the "brain" is made of 4 neurons n1-3 and nc1 the center neuron, it is distinguished because it is not connected to the heart or the hunger neurons or any of the other control/sensor neurons. It simply allows for another level of complexity. The more neurons the more complex. There is no reason for 4 neurons to be the brain, it just seemed reasonable... <br></div><br>Hmm, that wasn't how I read the code : nc1 seems to just be connected as a "to" neuron from each of the other 3, not a central neuron?  There's no connection from nc1 "to" anywhere?  How can it "do" anything?<br><br>So would you increase the size of the brain by adding in 4's and linking together somehow?  Or do avoid imposing structure in the design and simply connect an extra however many nodes and connect them all to each other, leaving it up to the weightings / thresholds to evolve how much of a connection is in place?<br><br>Final thought : instead of random mutations (or as well as), should you  create the next generation based on those that survived?  And harking back to the earlier post about seeing each other, mutate / merge those that touch?  ;-) <br><br></td></tr></table><br>
<a name="998075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a reason why they prefer turning left almost 95% of the time? It's pretty funny to watch, including when they start spazzing out as they starve. <br><br></td></tr></table><br>
<a name="998092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a quick hack to speed up the simulation: as the last 10 survivors always get carried over to the next generation, there is no need to continue the simulation past the last 10.  (at least, I don't think there is!)  There's possibly a better way to do this, maybe make it optional too.<br><br>In the main While loop, find and add this:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	If fish.livecount &lt;= 10 And finalflag = False Then
		finalsimstep = simstep-1
		finalflag = True
	EndIf
	
' *** add this from here

	If finalflag Then
		For Local f:fish = EachIn fish.fishlist
			If f.alive Then f.life = simstep
		Next
		fish.livecount=0
	EndIf
	
' *** to here

	If fish.livecount = 0 Then
</textarea> <br><br></td></tr></table><br>
<a name="998101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is really interesting stuff Nate <br><br></td></tr></table><br>
<a name="998102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... double post<br><br><div class="quote"> This is really interesting stuff Nate <br> <br></div><br><br>thanks <br><br></td></tr></table><br>
<a name="998104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> One thing that seems odd is that they always do this funny move &amp; stop, move &amp; stop thing. It is presumably a reaction to the heartbeat, but I don't get why that would happen, and almost wonder if there's a bug in there (or something in there to prevent positive feedback from sending them into a spiral?). <br></div> at generation 135 I dont see nearly as much stop and go motion :) but yeah its still there.  I have developed a much faster way to simulate it, I stop the sim when there are 10 left so not all of them have to die for the next generation to be born.<br><br><div class="quote"> <br>I'm also fairly sure that I've seen creatures with nice big green bars get food and suddenly die.  <br></div><br>you saw right, thats overfeeding :)<br><br><div class="quote"> <br>Hmm, that wasn't how I read the code : nc1 seems to just be connected as a "to" neuron from each of the other 3, not a central neuron? There's no connection from nc1 "to" anywhere? How can it "do" anything? <br></div><br><br>well theres lotss of neurons  in your brain that arent directly connected to your eyes or your ears or your heart or your stomach but without them your brain wouldnt have as much potential, it basicly just gives the brain more flexibility.<br><br><div class="quote"> Or do avoid imposing structure in the design and simply connect an extra however many nodes and connect them all to each other, leaving it up to the weightings / thresholds to evolve how much of a connection is in place? <br></div><br>those are my thoughts if the connections are useless they will be set to 0 and become meaningless so the brain will organize itself.<br><br><div class="quote"> <br>Final thought : instead of random mutations (or as well as), should you create the next generation based on those that survived? And harking back to the earlier post about seeing each other, mutate / merge those that touch? ;-)  <br></div><br><br>well the top 10 survivors are basicly doubled with a (very)few random mutations among them.  Without these mutations eventually every creature would become the same and they would only have as much potential as the best creature in the first generation did.<br><br>On another not, I am simulating asexual reproduction, sexual reproduction (involving 2 partners) complicates things, ill experiment with that when it comes time... no pun intended LOL<br><br><div class="quote">  Is there a reason why they prefer turning left almost 95% of the time? It's pretty funny to watch, including when they start spazzing out as they starve. <br> <br></div><br><br>try running it again, they dont do the same thing every time. I have a group that turns right on my screen lol... but I think it might be just like the right/left handed thing in society, most of the people in the world are right handed... why? im not sure but this simulation backs up reality in that eventually the creatures start acting very similar.. ei turning the same direction<br><br><div class="quote"> Here's a quick hack to speed up the simulation: as the last 10 survivors always get carried over to the next generation, there is no need to continue the simulation past the last 10. (at least, I don't think there is!) There's possibly a better way to do this, maybe make it optional too.<br> <br></div><br><br>haha funny thing is I just got done adding that flexibility to my program, it goes much faster thanks for the feedback<br><br>eidt: new code<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">SuperStrict
SeedRnd(MilliSecs())
Graphics 800,600,0,60

For Local i:Int = 0 To 20
	food.Create(Rnd(800),Rnd(600))
Next

For Local b:Int = 0 To 20
	Local f:fish = fish.Create(Rnd(800),Rnd(600),0,fish.makebrain:neuralnet())
Next

Global generation:Int = 0
Global simstep:Long = 0

Global finalsimstep:Long
Global finalflag:Byte

Global render:Int = True
Global gopast10:Int = True

Global selected:fish

While Not AppTerminate()
	If KeyHit(key_space) Then
		render = 1-render
	EndIf
	If KeyHit(key_f) Then
		gopast10 = 1-gopast10
	EndIf
	If render Then Cls
	simstep = simstep + 1
	
	food.update()
	fish.update()
	
	Local sf:fish
	For sf:fish = EachIn fish.fishlist
		If sf:fish = selected:fish And sf.alive Then
			sf.drawnnet()
		EndIf
	Next
	
	If MouseHit(1)
		selected:fish = Null
		For sf:fish = EachIn fish.fishlist
			Local dx# = MouseX()-sf.x
			Local dy# = MouseY()-sf.y
			Local dist# = Sqr(dx*dx + dy*dy)
			If dist &lt;= 20 Then
				selected:fish = sf:fish
			EndIf
		Next
	EndIf
	
	If KeyHit(key_p) And selected:fish  &lt;&gt; Null Then
		neuralnet.printnnet(selected.brain:neuralnet)
	EndIf
	neuralnet.update()
	
	SetColor 255,255,255
	DrawText "Generation: "+generation,1,1
	DrawText "Simulation Step: "+simstep,1,20
	If gopast10 = True Then
		DrawText "Simulating full generation (press f to change)",1,40
	Else
		DrawText "Only simulating generations to 10 (press f to change)",1,40
	EndIf
	
	If fish.livecount &lt;= 10 And finalflag = False Then
		finalsimstep = simstep-1
		finalflag = True
	EndIf
	If (finalflag And gopast10 = False) Or fish.livecount = 0 Then
		generation :+ 1
		
		finalflag = False
		Print (generation-1)+ "  length: "+simstep
				
		For Local f:fish = EachIn fish.fishlist
			If f.life &gt;= finalsimstep And f.life &gt; 0 Then
				Print "good "+f.life
				f.alive = True
				f.hunger = 0
				Local ff:fish = fish.Create(Rnd(800),Rnd(600),0,neuralnet.copy(f.brain:neuralnet))
				ff.makemistake()
			ElseIf f.life &gt; 0
				Print "bad "+f.life
				f.remove()
			EndIf
		Next
		simstep = 0
	EndIf
	
	If render Then Flip
Wend

Type food
	Global foodlist:TList = New TList
		
	Field x#
	Field y#
	Field dist#
	
	Function Create:food(x#,y#)
		Local f:food = New food
		f.x = x
		f.y = y
		foodlist.addlast(f:food)
		Return f:food
	End Function
	
	Function update()
		For Local f:food = EachIn foodlist
			If render Then f.draw()
		Next
	End Function
	
	Method draw()
		SetColor(0,255,0)
		DrawOval(x-5,y-5,10,10)
	End Method
	
	Function getfoodsmell:Float(x#,y#)		'returns the amount of smell of food there is at a certain point
		Local smell:Float = 0
		For Local f:food = EachIn foodlist
			Local dx:Float = x-f.x
			Local dy:Float = y-f.y
			Local dist:Float = Sqr(dx*dx + dy*dy)
			If dist &lt; 50 And dist &gt; 15 Then
				smell :+ (50-dist)/50
			ElseIf dist &lt;= 15 Then
				smell :+ 1
			EndIf
		Next
		Return smell#
	End Function
	
	Function getclosefood:food(x#,y#)	'returns the food closest to given point x,y
		Local closest:Float = 10000
		Local closestfood:food
		Local dist:Float
		For Local f:food = EachIn foodlist
			Local dx:Float = x-f.x
			Local dy:Float = y-f.y
			dist:Float = Sqr(dx*dx + dy*dy)
			If dist &lt; closest Then
				closestfood:food = f:food
				closest = dist
			EndIf
		Next
		If closest &lt; 25 Then Return closestfood:food
	End Function
End Type

Type Fish
	Global fishlist:TList = New TList
	Global livecount:Int
	
	Field x#
	Field y#
	Field angle#
	Field anglespd#
	Field hunger#
	Field heartcount:Int
	Field hearton:Byte
	Field brain:neuralnet
	Field alive:Byte
	Field life:Long
	Field gen:Int
	
	Function update()
		livecount = 0
		Local onedied:Int = 0
		Local totcnt:Int
		For Local f:fish = EachIn fishlist
			totcnt = totcnt + 1
			If f.alive Then
				livecount :+ 1
				f.hunger = f.hunger + .001
				f.heartcount = f.heartcount + 1
				If f.heartcount &gt; 20 Then
					f.hearton = 1-f.hearton
					f.heartcount = 0
				EndIf
				Local hrt:neuron = f.brain.findneuron("heart")
				hrt.setenergy(f.hearton)
				Local hng:neuron = f.brain.findneuron("hunger")
				hng.setenergy(f.hunger)
				Local lft:neuron = f.brain.findneuron("left")
				Local rgt:neuron = f.brain.findneuron("right")
				f.anglespd# = f.anglespd - lft.getenergy()*5 + rgt.getenergy()*5	'calculate steering
				f.anglespd = f.anglespd * .9
				If f.anglespd &gt; 4 Then f.anglespd = 4
				If f.anglespd &lt; -4 Then f.anglespd = -4
				f.angle = f.angle + f.anglespd
				Local spd# = (lft.getenergy()*7+rgt.getenergy()*7)
				If spd &gt; 5 Then spd = 5
				If spd &lt; -5 Then spd = -5
				f.x = f.x + Cos(f.angle)*spd
				f.y = f.y + Sin(f.angle)*spd
				If render Then f.draw()
				f.checkfood()
				f.checkenemy()
				f.life = simstep
				If Abs(f.hunger) &gt; 1 And onedied = 0 Then
					f.alive = False
					f.life = simstep
					onedied = 1
				EndIf
				If f.x &lt; -20 Then f.x = 820
				If f.x &gt; 820 Then f.x = -20
				If f.y &lt; -20 Then f.y = 620
				If f.y &gt; 620 Then f.y = -20
			'	neuralnet.printnnet(f.brain:neuralnet)		
			EndIf
		Next
	End Function
	
	Method draw()
		SetColor(100,255,100)
		DrawLine(x,y,x+Cos(angle+30)*30,y+Sin(angle+30)*30)
		DrawLine(x,y,x+Cos(angle-30)*30,y+Sin(angle-30)*30)
		SetColor(0,50,255)
		DrawOval(x-20,y-20,40,40)
		SetColor(255,255,255)
		DrawLine(x,y,x+Cos(angle)*30,y+Sin(angle)*30)
		SetColor ((hunger+1)/2)*255,((-hunger+1)/2)*255,0
		SetBlend alphablend
		SetAlpha .5
		DrawRect x-20,y-35,((-hunger+1)/2)*40,5
		SetAlpha 1
		SetColor 255,255,255
		DrawText gen,x-10,y-10
	End Method
	
	Method checkfood()
		Local x1:Float = x+Cos(angle-30)*30
		Local y1:Float = y+Sin(angle-30)*30
		Local smell1# = food.getfoodsmell(x1,y1)
		Local foodleft:neuron = brain.findneuron("foodlft")
		foodleft.setenergy(smell1)
		Local x2:Float = x+Cos(angle+30)*30
		Local y2:Float = y+Sin(angle+30)*30
		Local smell2# = food.getfoodsmell(x2,y2)
		Local foodright:neuron = brain.findneuron("foodrgt")
		foodright.setenergy(smell2)
		Local f:food = food.getclosefood(x,y)
		If f:food &gt;&lt; Null Then
			f.x = Rnd(800)
			f.y = Rnd(600)
			hunger :- .7
		EndIf
	End Method
	
	Method checkenemy()
		Local smell1#
		Local smell2#
		For Local f:fish = EachIn fishlist
			If f:fish &gt;&lt; Self Then
				Local dx# = (x+Cos(angle-30)*30)-f.x
				Local dy# = (y+Sin(angle-30)*30)-f.y
				Local dist# = Sqr(dx*dx + dy*dy)
				If dist &lt;= 50 Then
					smell1# = smell1# + (50-dist#)/50.0
				EndIf
				dx# = (x+Cos(angle+30)*30)-f.x
				dy# = (y+Sin(angle+30)*30)-f.y
				dist# = Sqr(dx*dx + dy*dy)
				If dist &lt;= 50 Then
					smell2# = smell2# + (50-dist#)/50.0
				EndIf
			EndIf
		Next
		brain.findneuron("enemylft").setenergy(smell1)
		brain.findneuron("enemyrgt").setenergy(smell2)
	End Method
	
	Function Create:fish(x#,y#,angle#,brain:neuralnet)
		Local f:fish = New fish
		f.x = x
		f.y = y
		f.angle = angle
		f.brain = brain
		f.heartcount = Rnd(0,19)
		f.hearton = Rnd(0,1)
		f.alive = True
		f.gen = generation
		fishlist.addlast(f:fish)
		Return f:fish
	End Function
	
	Method drawnnet()
		SetAlpha .4
		SetColor 255,255,255
		DrawRect x+20,y+20,150,150
		SetAlpha 1
		
		SetColor 0,0,(brain.findneuron("heart").getenergy()*255)
		DrawOval x+87,y+92,6,6
		
		SetColor ((-brain.findneuron("hunger").getenergy())*255),0,(brain.findneuron("hunger").getenergy()*255)
		DrawOval x+97,y+92,6,6
		
		SetColor ((-brain.findneuron("n1").getenergy())*255),0,(brain.findneuron("n1").getenergy()*255)
		DrawOval x+92,y+40,6,6
		
		SetColor ((-brain.findneuron("n2").getenergy())*255),0,(brain.findneuron("n2").getenergy()*255)
		DrawOval x+52,y+115,6,6
		
		SetColor ((-brain.findneuron("n3").getenergy())*255),0,(brain.findneuron("n3").getenergy()*255)
		DrawOval x+132,y+115,6,6
		
		SetColor ((-brain.findneuron("c1").getenergy())*255),0,(brain.findneuron("c1").getenergy()*255)
		DrawOval x+92,y+140,6,6
		
		SetColor ((-brain.findneuron("left").getenergy())*255),0,(brain.findneuron("left").getenergy()*255)
		DrawOval x+30,y+70,6,6
		
		SetColor ((-brain.findneuron("right").getenergy())*255),0,(brain.findneuron("right").getenergy()*255)
		DrawOval x+157,y+70,6,6
		
		SetColor ((-brain.findneuron("foodlft").getenergy())*255),0,(brain.findneuron("foodlft").getenergy()*255)
		DrawOval x+30,y+30,6,6
		
		SetColor ((-brain.findneuron("foodrgt").getenergy())*255),0,(brain.findneuron("foodrgt").getenergy()*255)
		DrawOval x+157,y+30,6,6
	End Method
	
	Function MakeBrain:neuralnet()
		Local n:neuralnet = neuralnet.Create()
		Local hrt:neuron = neuron.Create(0,"heart")	'this neuron will "beat" at a steady rate
		Local hngr:neuron = neuron.Create(-1,"hunger")	'this neuron will slowly turn on if a fish has not eaten in a while, negative if a fish is over full
		
		Local n1:neuron = neuron.Create(Rnd(-1,1.0),"n1")	'neurons that do the logic
		Local n2:neuron = neuron.Create(Rnd(-1,1.0),"n2")
		Local n3:neuron = neuron.Create(Rnd(-1,1.0),"n3")
		
		Local nc1:neuron = neuron.Create(Rnd(-1,1.0),"c1")
				
		Local lft:neuron = neuron.Create(-1,"left")		'neurons that control movement
		Local rgt:neuron = neuron.Create(-1,"right")
						
		Local foodlft:neuron = neuron.Create(-1,"foodlft")	'left and right food detectors
		Local foodrgt:neuron = neuron.Create(-1,"foodrgt")
		
		Local enemyrgt:neuron = neuron.Create(-1,"enemyrgt")	'left and right enemy sensors
		Local enemylft:neuron = neuron.Create(-1,"enemylft")
		
		n.addneuron(hrt)
		n.addneuron(hngr)
		n.addneuron(n1)
		n.addneuron(n2)
		n.addneuron(n3)
		n.addneuron(lft)
		n.addneuron(rgt)
		n.addneuron(foodlft)
		n.addneuron(foodrgt)
		n.addneuron(nc1)
		n.addneuron(enemyrgt)
		n.addneuron(enemylft)
		
		
		Local c1:connection = connection.Create(hrt,n1,Rnd(-1,1.0))
		Local c2:connection = connection.Create(hrt,n2,Rnd(-1,1.0))
		Local c3:connection = connection.Create(hrt,n3,Rnd(-1,1.0))

		Local c4:connection = connection.Create(hngr,n1,Rnd(-1,1.0))
		Local c5:connection = connection.Create(hngr,n2,Rnd(-1,1.0))
		Local c6:connection = connection.Create(hngr,n3,Rnd(-1,1.0))


		Local c7:connection = connection.Create(n1,n2,Rnd(-1,1.0))
		Local c8:connection = connection.Create(n2,n1,Rnd(-1,1.0))

		Local c9:connection = connection.Create(n2,n3,Rnd(-1,1.0))
		Local c10:connection = connection.Create(n3,n2,Rnd(-1,1.0))

		Local c11:connection = connection.Create(n1,n3,Rnd(-1,1.0))
		Local c12:connection = connection.Create(n3,n1,Rnd(-1,1.0))
		
		Local c13:connection = connection.Create(foodlft,n1,Rnd(-1,1.0))
		Local c14:connection = connection.Create(foodlft,n2,Rnd(-1,1.0))

		Local c15:connection = connection.Create(foodrgt,n3,Rnd(-1,1.0))
		Local c16:connection = connection.Create(foodrgt,n1,Rnd(-1,1.0))
		
		Local c17:connection = connection.Create(n1,lft,Rnd(-1,1.0))
		Local c18:connection = connection.Create(n2,lft,Rnd(-1,1.0))

		Local c19:connection = connection.Create(n3,rgt,Rnd(-1,1.0))
		Local c20:connection = connection.Create(n1,rgt,Rnd(-1,1.0))
		
		Local c21:connection = connection.Create(n1,nc1,Rnd(-1,1.0))
		Local c22:connection = connection.Create(n2,nc1,Rnd(-1,1.0))
		Local c23:connection = connection.Create(n3,nc1,Rnd(-1,1.0))
		
		Local c24:connection = connection.Create(enemyrgt,n1,Rnd(-1,1.0))
		Local c25:connection = connection.Create(enemyrgt,n3,Rnd(-1,1.0))
		
		Local c26:connection = connection.Create(enemylft,n1,Rnd(-1,1.0))
		Local c27:connection = connection.Create(enemylft,n2,Rnd(-1,1.0))
		
		n.addconnection(c1)
		n.addconnection(c2)
		n.addconnection(c3)
		n.addconnection(c4)
		n.addconnection(c5)
		n.addconnection(c6)
		n.addconnection(c7)
		n.addconnection(c8)
		n.addconnection(c9)
		n.addconnection(c10)
		n.addconnection(c11)
		n.addconnection(c12)
		n.addconnection(c13)
		n.addconnection(c14)
		n.addconnection(c15)
		n.addconnection(c16)
		n.addconnection(c17)
		n.addconnection(c18)
		n.addconnection(c19)
		n.addconnection(c20)
		n.addconnection(c21)
		n.addconnection(c22)
		n.addconnection(c23)
		n.addconnection(c24)
		n.addconnection(c25)
		n.addconnection(c26)
		n.addconnection(c27)

		Return n:neuralnet
	End Function
	
	Method makemistake()
		Local mvar:Int
		For Local n:neuron = EachIn brain.neuronlist
			mvar = Rnd(50)
			If mvar = 20 Then
				n.setthreshold(Rnd(-1,1.0))
			EndIf
		Next
		For Local c:connection = EachIn brain.connectionlist
			mvar = Rnd(50)
			If mvar = 20 Then
				c.setweight(Rnd(-1,1.0))
			EndIf
		Next
	End Method
	
	Method remove()
		fishlist.remove(Self)
	End Method
End Type


Type neuralnet
	Global neuralnetlist:TList = New TList
	
	Field neuronlist:TList
	Field connectionlist:TList
	
	Function printnnet(n:neuralnet)
		For Local nn:neuron = EachIn n.neuronlist
			Print "neuron: "+nn.getname()+" Energy: "+nn.getenergy()+" Threshold: "+nn.getthreshold()
		Next
		For Local c:connection = EachIn n.connectionlist
			Print "connection from "+c.getsource().getname()+" to "+c.getdestination().getname()+"  Weight: "+c.getweight()
		Next
	End Function
	
	Function Create:neuralnet()
		Local n:neuralnet = New neuralnet
		n.neuronlist:TList = New TList
		n.connectionlist:TList = New TList
		neuralnetlist.addlast(n:neuralnet)
		Return n:neuralnet
	End Function
	
	Method addneuron(n:neuron)
		neuronlist.addlast(n:neuron)
	End Method
	
	Method addconnection(c:connection)
		connectionlist.addlast(c:connection)
	End Method
	
	Method removeneuron(n:neuron)
		neuronlist.remove(n:neuron)
	End Method
	
	Method removeconnection(c:connection)
		connectionlist.remove(c:connection)
	End Method
	
	Method remove()
		neuralnetlist.remove(Self)
	End Method
	
	Method findneuron:neuron(name$)
		For Local n:neuron = EachIn neuronlist
			If n.name$ = name$
				Return n:neuron
			EndIf
		Next
	End Method
	
	Function update()
		neuron.dothreshold()
		connection.clearenergy()
		connection.doweight()
		neuron.clearenergy()
		connection.dotransfer()
		neuron.dothreshold()	
	End Function
	
	Function copy:neuralnet(n:neuralnet)
		Local nn:neuralnet = neuralnet.Create()
		For Local ne:neuron = EachIn n.neuronlist
			Local ne2:neuron = neuron.copy(ne:neuron)
			nn.neuronlist.addlast(ne2:neuron)
		Next
		For Local c:connection = EachIn n.connectionlist
			Local srcn:neuron
			Local destn:neuron
			Local cntgoal:Int = n.getlistposition(c.getsource())
			Local cnt:Int = 0
			For srcn:neuron = EachIn nn.neuronlist
				cnt:+1
				If cnt = cntgoal Then
					Exit
				EndIf
			Next
			cntgoal:Int = n.getlistposition(c.getdestination())
			cnt:Int = 0
			For destn:neuron = EachIn nn.neuronlist
				cnt:+1
				If cnt = cntgoal Then
					Exit
				EndIf
			Next

			Local cc:connection = connection.Create(srcn:neuron,destn:neuron,c.weight#)
			nn.connectionlist.addlast(cc:connection)
		Next
		Return nn:neuralnet
	End Function
	
	Method getlistposition:Int(nn:neuron)
		Local cnt:Int = 0
		For Local n:neuron = EachIn neuronlist
			cnt:+1
			If n:neuron = nn:neuron Then
				Return cnt
			EndIf
		Next
	End Method
End Type


Type neuron
	Global neuronlist:TList = New TList
	
	Field threshold#
	Field energy#
	Field name$
	
	Function Create:neuron(threshold#,name$ = "")
		Local n:neuron = New neuron
		n.threshold = threshold
		n.energy = 0
		n.name$ = name$
		neuronlist.addlast(n:neuron)
		Return n:neuron		
	End Function
	
	Method getthreshold:Float()
		Return threshold
	End Method
	
	Method setthreshold(t#)
		threshold = t
	End Method
	
	Method getenergy:Float()
		Return energy#
	End Method
	
	Method setenergy(e#)
		energy = e
	End Method
	
	Method remove()
		neuronlist.remove(Self)
	End Method
	
	Method getname:String()
		Return name$
	End Method
	
	Function clearenergy()							'''''''''''Corrected this function'''''''''''''''''''''
		For Local n:neuron = EachIn neuronlist
			If n.getenergy() =&gt; n.getthreshold() Then
				n.setenergy(0)
			Else
				n.setenergy(n.getenergy()*.98)
			EndIf
			
		Next
	End Function
	
	Function dothreshold()
		For Local n:neuron = EachIn neuronlist
			If n.getenergy() &lt; n.getthreshold() Then
				n.setenergy(0)
			EndIf
		Next
	End Function
	
	Function copy:neuron(n:neuron)
		Local nn:neuron = neuron.Create(n.getthreshold(),n.getname())
		Return nn:neuron
	End Function
	
End Type

Type connection
	Global connectionlist:TList = New TList
	
	Field src:neuron
	Field dest:neuron
	Field weight#
	Field energy#
	
	Function Create:connection(src:neuron,dest:neuron,weight#)
		Local c:connection = New connection
		c.src:neuron = src:neuron
		c.dest:neuron = dest:neuron
		c.weight = weight
		c.energy = 0
		connectionlist.addlast(c:connection)
		Return(c:connection)
	End Function
	
	Method getweight:Float()
		Return weight#
	End Method
	
	Method setweight(w#)
		weight = w
	End Method
	
	Method getenergy:Float()
		Return energy#
	End Method
	
	Method setenergy(e#)
		energy = e
	End Method
	
	Method getsource:neuron()
		Return src:neuron
	End Method
	
	Method setsource(s:neuron)
		src:neuron = s:neuron
	End Method
	
	Method getdestination:neuron()
		Return dest:neuron
	End Method
	
	Method setdestination(d:neuron)
		dest:neuron = d:neuron
	End Method
	
	Method remove()
		connectionlist.remove(Self)
	End Method
	
	Function clearenergy()
		For Local c:connection = EachIn connectionlist
			c.setenergy(0)
		Next
	End Function
	
	Function doweight()
		For Local c:connection = EachIn connectionlist
			c.setenergy(c.getsource().getenergy()*c.getweight())
		Next
	End Function
	Function dotransfer()
		For Local c:connection = EachIn connectionlist
			c.getdestination().setenergy(c.getdestination().getenergy() + c.getenergy())
		Next
	End Function
	
End Type

</textarea> <br><br></td></tr></table><br>
<a name="998169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> well the top 10 survivors are basicly doubled with a (very)few random mutations among them. Without these mutations eventually every creature would become the same and they would only have as much potential as the best creature in the first generation did.<br> <br></div><br> This is true of reality to an extent. Subtle mutations are introduced thanks to external radiation sources (cosmic rays) and viral RNA. These subtle differences can be either beneficial or not, but when environmental factors are equivalent, these subtle changes are greatly responsible for mutations and variations.<br>The inclusion of random variations in the code seems like an excellent way to represent this :) <br><br></td></tr></table><br>
<a name="998180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting thread, Nate! I haven't yet got to my 'Blitz machine' to give it a try.<br><br>Here's an idea for your simulation- use it or lose it. Understimulated neurons in the brain could be removed and perhaps randomly rewired in the next evolution step.<br><br>Stimulants and depressants- foods that speed up or slow down the heartbeat.<br><br>The 'heartbeat' neuron is an interesting idea. Why/how did you come up with it? Can 'working' creatures be evolved without a heartbeat? <br><br></td></tr></table><br>
<a name="998185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is so amazing! I've been looking for good neuralnet source code for quite some time now. Your code helps tremendously.<br><br>Please, keep up the excellent work :)<br><br>Many thanks. <br><br></td></tr></table><br>
<a name="998191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This is true of reality to an extent. Subtle mutations are introduced thanks to external radiation sources (cosmic rays) and viral RNA. These subtle differences can be either beneficial or not, but when environmental factors are equivalent, these subtle changes are greatly responsible for mutations and variations.<br>The inclusion of random variations in the code seems like an excellent way to represent this :) <br> <br></div><br><br>yeah, it is, I figured nature does it why not try it, and actually *most* of all mutations are destructive but very very few are constructive, however the constructive ones stick out because the last much longer :)<br><br><div class="quote"> <br>Interesting thread, Nate! I haven't yet got to my 'Blitz machine' to give it a try.<br><br>Here's an idea for your simulation- use it or lose it. Understimulated neurons in the brain could be removed and perhaps randomly rewired in the next evolution step.<br> <br></div><br>Yeah I have an idea of what im gunna do after thinking about it, and thats not too far off...<br><br><div class="quote"> <br>The 'heartbeat' neuron is an interesting idea. Why/how did you come up with it? Can 'working' creatures be evolved without a heartbeat? <br> <br></div><br><br>well about a year ago I vaguley remember seeing a vid on youtube about some ai animals they looked kinda like mine too, and the author had the ingenious idea to put in a heart (inspired by nature lol) to provide background noise for the neural network to feed off of, I have searched and searched for that video but I think it has been removed. and without "jumpstarting" neural networks (like a car), I dont know how a neural network could work without a "heart" or a constant source of energy or something lol... I mean nobody really has figured out exactly how our brain works so we all just have to throw out ideas and hope for the best at the moment.<br><br><div class="quote"> This is so amazing! I've been looking for good neuralnet source code for quite some time now. Your code helps tremendously.<br><br>Please, keep up the excellent work :)<br><br>Many thanks. <br> <br></div><br><br>thanks, glad I could help.  And before I started this, I searched the web and couldnt find any neural network source code to base mine off of anywhere... it was quite frusturating.<br><br>I hope I can figure out how to make this into an easy to use mod/include so people could use this in games, I think it would really spice things up. <br><br></td></tr></table><br>
<a name="998212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think our brain is event driven which is why boredom  makes us sleepy <br><br></td></tr></table><br>
<a name="998235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think our brain is event driven which is why boredom makes us sleepy <br> <br></div><br><br>what do you mean by that?<br><br>are you saying my creatures are bored because of their lack of variety so I should give them more to do?? lol! <br><br></td></tr></table><br>
<a name="998241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>thanks, glad I could help. And before I started this, I searched the web and couldnt find any neural network source code to base mine off of anywhere... it was quite frusturating.<br><br>I hope I can figure out how to make this into an easy to use mod/include so people could use this in games, I think it would really spice things up.<br> <br></div><br><br>I was aware of youre previous neuralnet source code entry in the archives. But without a "realworld" example I couldn't easely figure out how to setup the network correctly for my needs.<br><br>This example application made all the difference! :)<br><br>Are you planning to extend this code with a Save-Function for the current state of the neuralnet? <br><br>If so, would it then be possible to either:<br>- Resume training at a later time<br>- Include trained data for loading in games<br><br>Thanks <br><br></td></tr></table><br>
<a name="998247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Are you planning to extend this code with a Save-Function for the current state of the neuralnet? <br><br>If so, would it then be possible to either:<br>- Resume training at a later time<br>- Include trained data for loading in games<br><br> <br></div><br><br>yes, yes, and yes<br><br>right now im experimenting a bit more with ways of using neural networks and training stuff <br><br></td></tr></table><br>
<a name="998263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> yes, yes, and yes <br></div><br><br>Great!! <br><br>I feel the bionet got rewarded! A little bit like one of those blue creatures when it just grabbed a bite and steps back (G&gt;30) to chill out lol:-) <br><br></td></tr></table><br>
<a name="998270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I feel the bionet got rewarded! A little bit like one of those blue creatures when it just grabbed a bite and steps back (G&gt;30) to chill out lol:-) <br></div><br><br>lol yeah I thought that was odd how they like to chill whenever they get food, its probly cuz they die if they overeat tho. <br><br></td></tr></table><br>
<a name="998279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> well it turns out there is a bug in the way I was simulating neural nets although it seemed to work fine to me :) anyway, if a neuron was charged to .5 and had a threshold of 1 then the .5 charge was dropped to 0 whoops, I think I was using an old version of my neural net thing cuz I remember fixing that same exact bug and testing for it :) now its fixed and the creatures seem to be having seizures lol... maybe their brain needs to be different now that I changed the engine... <br><br></td></tr></table><br>
<a name="998310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> updated code with bug fix?  ;-) <br><br></td></tr></table><br>
<a name="998326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a bit of a downside with neural nets. Once you edited or expand its capabilities all your test data can be thrown away and you need to rerun the simulations again. Hoping to get good and useful data :-). <br><br></td></tr></table><br>
<a name="998355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> updated code with bug fix? ;-) <br><br> <br></div><br><br>not yet, soon though, im trying to add features...<br><br><div class="quote"> That's a bit of a downside with neural nets. Once you edited or expand its capabilities all your test data can be thrown away and you need to rerun the simulations again. Hoping to get good and useful data :-). <br> <br></div><br><br>yeah :( Ive run this program at least a million times... anyway with what I have now, they can gain neurons/connections and the bug is fixed... Ill post the new code in the first post in a minute just one more test run<br><br>edit: updated the code! (not the uploaded version im still having trouble uploading atm)<br><br>note: the creatures now need mannny more generations to evolve any advanced reasoning :( but it is more accurate <br><br></td></tr></table><br>
<a name="998380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SpaceTW</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a suggestion. What if the food was ot just immoble and waiting to be eaten, but instead moving as an independent neural network? For example, mae it a big fish eats small fish sort of thing, where each one evolves. It may be hard to implement, but I think it would be much more interesting, even if only one could be trained at a time. <br><br></td></tr></table><br>
<a name="998385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could then make a thing like the game<br>Fishy - <a href="http://www.learn4good.com/games/online/play_fishy_online.htm" target="_blank">http://www.learn4good.com/games/online/play_fishy_online.htm</a><br>where you play as a little fish, and you have to eat smaller fish than yourself and you grow. Only it would be completely AI/Neural Network driven. Smaller fish try.. TRY... to avoid bigger fish and bigger fish try to eat the smaller ones if they get hungry. <br><br></td></tr></table><br>
<a name="999057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's an initial stab at an improved routine to draw the neural net including connections.  Doesn't cope with added neurons yet, but does handle all connections.  Not 100% happy, but kind of interesting to see what's going on.  <br><br>Replace drawnet in Type Fish with the method &amp; function below.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Method drawnnet()
		SetAlpha .4
		SetColor 255,255,255
		DrawRect x+20,y+20,150,150
		SetAlpha 1
		
		Local pos:Int[]
		
		'draw the inputs first on the left
		SetColor 0 , 0 , (brain.findneuron("heart").getenergy() * 255)
		pos = getdrawpos(x , y , "heart")		
		DrawOval pos[0],pos[1],6,6
		
		SetColor ((-brain.findneuron("hunger").getenergy())*255),0,(brain.findneuron("hunger").getenergy()*255)
		pos = getdrawpos(x , y , "hunger")
		DrawOval pos[0] , pos[1] , 6 , 6
				
		SetColor ((-brain.findneuron("foodlft").getenergy())*255),0,(brain.findneuron("foodlft").getenergy()*255)
		pos = getdrawpos(x , y , "foodlft")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		SetColor ((-brain.findneuron("foodrgt").getenergy())*255),0,(brain.findneuron("foodrgt").getenergy()*255)
		pos = getdrawpos(x , y , "foodrgt")
		DrawOval pos[0] , pos[1] , 6 , 6

		SetColor ((-brain.findneuron("enemylft").getenergy())*255),0,(brain.findneuron("enemylft").getenergy()*255)
		pos = getdrawpos(x , y , "enemylft")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		SetColor ((-brain.findneuron("enemyrgt").getenergy())*255),0,(brain.findneuron("enemyrgt").getenergy()*255)
		pos = getdrawpos(x , y , "enemyrgt")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		'then the neurons
		SetColor ((-brain.findneuron("n1").getenergy())*255),0,(brain.findneuron("n1").getenergy()*255)
		pos = getdrawpos(x , y , "n1")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		SetColor ((-brain.findneuron("n2").getenergy())*255),0,(brain.findneuron("n2").getenergy()*255)
		pos = getdrawpos(x , y , "n2")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		SetColor ((-brain.findneuron("n3").getenergy())*255),0,(brain.findneuron("n3").getenergy()*255)
		pos = getdrawpos(x , y , "n3")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		SetColor ((-brain.findneuron("c1").getenergy())*255),0,(brain.findneuron("c1").getenergy()*255)
		pos = getdrawpos(x , y , "c1")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		' then the outputs
		SetColor ((-brain.findneuron("left").getenergy())*255),0,(brain.findneuron("left").getenergy()*255)
		pos = getdrawpos(x , y , "left")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		SetColor ((-brain.findneuron("right").getenergy())*255),0,(brain.findneuron("right").getenergy()*255)
		pos = getdrawpos(x , y , "right")
		DrawOval pos[0] , pos[1] , 6 , 6
		
		'draw connections
		For Local c:connection = EachIn brain.connectionlist
			Local pos1:Int[] = GetDrawPos(x , y , c.src.name)
			Local pos2:Int[] = GetDrawPos(x , y , c.dest.name)
			If pos1 &lt;&gt; Null And pos2 &lt;&gt; Null Then
				SetColor 255*(-c.weight),0,255*c.weight
				DrawLine pos1[0] + 3 , pos1[1] + 3 , pos2[0] + 3 , pos2[1] + 3
			EndIf
		Next
		
	End Method
	
	Function GetDrawPos:Int[](x:Int , y:Int , n$)
		Local pos:Int[2]
		Select n
			Case "heart"
				pos[0] = x + 30
				pos[1] = y + 30
			Case "hunger"
				pos[0] = x + 30
				pos[1] = y + 52		
			Case "foodlft"
				pos[0] = x + 30
				pos[1] = y + 74					
			Case "foodrgt"
				pos[0] = x + 30
				pos[1] = y + 96
			Case "enemylft"
				pos[0] = x + 30
				pos[1] = y + 118
			Case "enemyrgt"
				pos[0] = x + 30
				pos[1] = y + 140

			Case "n2"
				pos[0] = x + 80
				pos[1] = y + 52
			Case "n1"
				pos[0] = x + 100
				pos[1] = y + 85			
			Case "n3"
				pos[0] = x + 80
				pos[1] = y + 118
			Case "c1"
				pos[0] = x + 120
				pos[1] = y + 85
				
			Case "left"
				pos[0] = x + 140
				pos[1] = y + 52				
			Case "right"
				pos[0] = x + 140
				pos[1] = y + 118
									
			Default
				Return Null
		End Select
		Return pos
	End Function
</textarea> <br><br></td></tr></table><br>
<a name="999080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nate,<br><br>I think there's possibly something up with the simulation, as it always seems to slow down with each generation.  I realise each generation could now be more complex, but...while looking to see if I could help optimise in any way to get through the generations faster...<br><br>I commented out ff.mistake when copying - so each generation should essentially be the same.  I then timed the neuralnet.update() call, and initially this takes less than a millisec, but by generation 15 or so it's up to 2 millisecs, and by generation 37 it's hitting 5 millisecs.<br><br>Not a lot, but suspect there's some kind of leak - maybe not killing all the neurons / connections in dead fish each generation?  Maybe only applies if not going to last survivor?<br><br>Or is there a good reason it slows down that I'm missing? <br><br></td></tr></table><br>
<a name="999085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >schilcote</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting game.  They stopped developing new behaviors at about generation 30 or so. <br><br></td></tr></table><br>
<a name="999266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think there's possibly something up with the simulation, as it always seems to slow down with each generation. I realise each generation could now be more complex, but...while looking to see if I could help optimise in any way to get through the generations faster... <br></div> yeah its because I forgot to add code for deleting the neural nets so its updating more and more and more neural nets every generation...<br><br><br><br><div class="quote"> Interesting game. They stopped developing new behaviors at about generation 30 or so. <br> <br></div><br><br>not quite true, they just slow down development a lot, if you let them evolve to generation 200 they gain new abilities albeit very slowly. <br><br></td></tr></table><br>
<a name="999332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Nate,<br><br>How is your work progressing?<br><br>Btw, how much data does the neural net generate? And how much of it is it required to save for later resuming? <br><br></td></tr></table><br>
<a name="999365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> im guessing here, but I think the neural networks are about the same size, its just a bunch of threshold numbers that are different from fish to fish. <br><br></td></tr></table><br>
<a name="999429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> For anyone else wanting to fix the leak that slows each generation down, replace fish.remove() with this:<br><pre class=code>
	Method remove()
		brain.remove()
		fishlist.remove(Self)
	End Method
</pre><br>and replace neuralnet.remove() with this:<br><pre class=code>
	Method remove()
		neuralnetlist.remove(Self)
		For Local n:neuron = EachIn neuronlist
			n.remove()
		Next		
		For Local c:connection = EachIn connectionlist
			c.remove()
		Next		
	End Method
</pre><br>I also made a minor update to the drawnet routine in the post higher up the thread. <br><br></td></tr></table><br>
<a name="999477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hi Nate,<br><br>How is your work progressing?<br><br>Btw, how much data does the neural net generate? And how much of it is it required to save for later resuming? <br> <br></div><br><br>well its really actually coming together nicely on paper lol I tried to just program it like I normally do just doing what is logical but it got way too complicated and i kept forgettting things/messing up... so its all on paper until i solve the logical flaws and figure it out :)<br><br><div class="quote"> im guessing here, but I think the neural networks are about the same size, its just a bunch of threshold numbers that are different from fish to fish. <br><br> <br></div><br><br>yeah, generally every hundred generations they gain about 3 to 4 neurons and about 5 connections...<br><br><div class="quote"> For anyone else wanting to fix the leak that slows each generation down, replace fish.remove() with this:<br> <br></div><br><br>sorry about the leak, I will get rid of it in the next update...<br><br>edit: updated code in my first post... <br><br></td></tr></table><br>
<a name="999553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> well I got quite a shocker with my new code, I ran it to generation 1000, it took a few hours... and then I printed one of the fish brains that was most successful... this is the result.....<br><br><div class="quote"> neuron: heart Energy: 1.00000000 Threshold: -0.843166649<br>neuron: hunger Energy: -0.0230184477 Threshold: -1.00000000<br>neuron: n1 Energy: -51.6441269 Threshold: -0.925994992<br>neuron: n2 Energy: 0.376940936 Threshold: 0.221370786<br>neuron: n3 Energy: -6.08626032 Threshold: -0.617243409<br>neuron: left Energy: -0.0499181822 Threshold: -0.578703642<br>neuron: right Energy: -0.00622200780 Threshold: -0.989880860<br>neuron: foodlft Energy: 0.000000000 Threshold: -0.0629188567<br>neuron: foodrgt Energy: 0.000000000 Threshold: 0.0728934705<br>neuron: c1 Energy: 0.0216781199 Threshold: -0.916729033<br>neuron: enemyrgt Energy: 0.000000000 Threshold: -0.641174853<br>neuron: enemylft Energy: 0.000000000 Threshold: -0.923968971<br>neuron: x Energy: 0.0106154177 Threshold: 0.807013750<br>neuron: x Energy: 0.000000000 Threshold: -0.584276378<br>neuron: x Energy: -1.77894878 Threshold: 0.542351067<br>neuron: x Energy: -0.179877162 Threshold: 0.577651918<br>neuron: x Energy: 0.787415445 Threshold: 0.708863080<br>neuron: x Energy: -0.209173471 Threshold: 0.00328878872<br>neuron: x Energy: -0.00508732814 Threshold: -0.0603123643<br>neuron: x Energy: -0.0109821716 Threshold: 0.305416197<br>neuron: x Energy: 0.796777606 Threshold: 0.956379533<br>neuron: x Energy: -0.00612331554 Threshold: 0.427821189<br>neuron: x Energy: -2.62955618 Threshold: 0.595003366<br>neuron: x Energy: 0.000000000 Threshold: -0.823830545<br>neuron: x Energy: 0.000000000 Threshold: -0.853409529<br>neuron: x Energy: 0.00738620758 Threshold: 0.651361346<br>neuron: x Energy: 0.243370816 Threshold: 0.149051502<br>neuron: x Energy: -0.000744468474 Threshold: 0.987581015<br>neuron: x Energy: 0.0946245044 Threshold: 0.893354058<br>neuron: x Energy: -0.000937606907 Threshold: 0.649790168<br>neuron: x Energy: 0.0159956645 Threshold: -0.163555235<br>neuron: x Energy: -17.6201878 Threshold: 0.450390548<br>neuron: x Energy: 0.00861619692 Threshold: 0.801571012<br>neuron: x Energy: 0.770703137 Threshold: 0.741306305<br>neuron: x Energy: -0.000528282835 Threshold: 0.819585323<br>neuron: x Energy: 0.000000000 Threshold: -0.218049198<br>neuron: x Energy: 0.000000000 Threshold: -0.851829052<br>neuron: x Energy: 0.198255062 Threshold: 0.146502212<br>neuron: x Energy: 0.000000000 Threshold: -0.367736697<br>neuron: x Energy: 0.000000000 Threshold: -0.104228437<br>neuron: x Energy: -0.138963923 Threshold: -0.387862533<br>neuron: x Energy: 0.700860262 Threshold: -0.107238322<br>neuron: x Energy: -0.000730241882 Threshold: 0.151955426<br>neuron: x Energy: -0.0198532473 Threshold: -0.891672134<br>neuron: x Energy: 0.000000000 Threshold: -0.0875981376<br>neuron: x Energy: 0.000000000 Threshold: 0.634875298<br>neuron: x Energy: 0.000000000 Threshold: -0.824704409<br>neuron: x Energy: 0.000000000 Threshold: -0.101259090<br>neuron: x Energy: -1.06844056 Threshold: -0.0413851030<br>neuron: x Energy: 0.000000000 Threshold: 0.0473240726<br>neuron: x Energy: -3.24183105e-007 Threshold: 0.926985979<br>neuron: x Energy: 0.000000000 Threshold: -0.811743855<br>neuron: x Energy: -3.72673092e-008 Threshold: 0.286615342<br>neuron: x Energy: 0.000000000 Threshold: -0.279880762<br>connection from heart to n1  Weight: -0.974932373<br>connection from heart to n2  Weight: 0.400736690<br>connection from heart to n3  Weight: -0.0386097617<br>connection from hunger to n1  Weight: -0.800172210<br>connection from hunger to n2  Weight: 0.990728319<br>connection from hunger to n3  Weight: 0.776845276<br>connection from n1 to n2  Weight: 0.355776548<br>connection from n2 to n1  Weight: -0.635035932<br>connection from n2 to n3  Weight: 0.161264464<br>connection from n3 to n2  Weight: 0.522288084<br>connection from n1 to n3  Weight: -0.676239431<br>connection from n3 to n1  Weight: 0.323400378<br>connection from foodlft to n1  Weight: -0.264297545<br>connection from foodlft to n2  Weight: -0.352528691<br>connection from foodrgt to n3  Weight: -0.113690190<br>connection from foodrgt to n1  Weight: 0.0699122399<br>connection from n1 to left  Weight: 0.540153027<br>connection from n2 to left  Weight: -0.132778704<br>connection from n3 to right  Weight: -0.137051567<br>connection from n1 to right  Weight: 0.184592530<br>connection from n1 to c1  Weight: -0.765005827<br>connection from n2 to c1  Weight: -0.209908441<br>connection from n3 to c1  Weight: -0.223515972<br>connection from enemyrgt to n1  Weight: -0.0532780364<br>connection from enemyrgt to n3  Weight: 0.820966303<br>connection from enemylft to n1  Weight: -0.672941566<br>connection from enemylft to n2  Weight: -0.731621146<br>connection from enemyrgt to x  Weight: 0.963847399<br>connection from x to n3  Weight: -0.223660216<br>connection from n3 to foodrgt  Weight: 0.879390538<br>connection from foodlft to x  Weight: 0.00533412769<br>connection from x to foodrgt  Weight: 0.975737214<br>connection from enemyrgt to left  Weight: -0.0461192355<br>connection from foodrgt to enemyrgt  Weight: -0.742978632<br>connection from x to enemyrgt  Weight: 0.455103815<br>connection from hunger to x  Weight: 0.488390297<br>connection from x to foodlft  Weight: -0.584960520<br>connection from n1 to x  Weight: -0.629624307<br>connection from x to n1  Weight: -0.736866474<br>connection from heart to x  Weight: 0.786754668<br>connection from x to n1  Weight: -0.962282240<br>connection from left to x  Weight: 0.210350886<br>connection from x to enemyrgt  Weight: -0.757080674<br>connection from x to n1  Weight: 0.107109748<br>connection from x to x  Weight: -0.169936627<br>connection from x to x  Weight: -0.131175339<br>connection from enemyrgt to n1  Weight: 0.138057619<br>connection from c1 to x  Weight: 0.00666878326<br>connection from x to n1  Weight: -0.559858322<br>connection from x to x  Weight: 0.934035718<br>connection from x to n3  Weight: 0.932102323<br>connection from n3 to x  Weight: -0.484932810<br>connection from x to x  Weight: 0.0576935261<br>connection from hunger to n3  Weight: 0.949952662<br>connection from right to x  Weight: -0.529925704<br>connection from enemylft to n1  Weight: 0.945479214<br>connection from x to x  Weight: 0.709615767<br>connection from x to enemyrgt  Weight: 0.467866719<br>connection from foodlft to x  Weight: -0.678679287<br>connection from x to heart  Weight: -0.741682947<br>connection from x to x  Weight: 0.613302112<br>connection from x to foodrgt  Weight: 0.931344151<br>connection from foodlft to x  Weight: -0.788960040<br>connection from x to foodlft  Weight: 0.949736834<br>connection from x to x  Weight: 0.544486284<br>connection from n3 to x  Weight: 0.738403320<br>connection from x to foodrgt  Weight: -0.987292409<br>connection from x to x  Weight: 0.893017590<br>connection from x to hunger  Weight: 0.180875391<br>connection from left to x  Weight: -0.961156249<br>connection from x to x  Weight: 0.952815831<br>connection from enemylft to x  Weight: 0.172236234<br>connection from enemylft to heart  Weight: 0.367797405<br>connection from x to x  Weight: 0.797092199<br>connection from x to x  Weight: 0.628482878<br>connection from x to foodrgt  Weight: 0.320382684<br>connection from left to x  Weight: -0.321284324<br>connection from x to right  Weight: -0.390011370<br>connection from x to heart  Weight: 0.207373366<br>connection from foodlft to x  Weight: 0.152873918<br>connection from x to x  Weight: -0.531450212<br>connection from n2 to foodrgt  Weight: 0.688478172<br>connection from x to x  Weight: 0.318053335<br>connection from x to x  Weight: 0.318049967<br>connection from x to x  Weight: -0.784032524<br>connection from x to x  Weight: 0.0177661516<br>connection from x to x  Weight: -0.520436943<br>connection from x to x  Weight: -0.679846108<br>connection from x to x  Weight: -0.597568810<br>connection from x to x  Weight: 0.0259763226<br>connection from n2 to x  Weight: 0.647348523<br>connection from x to x  Weight: 0.146361634<br>connection from x to x  Weight: -0.377294511<br>connection from x to x  Weight: -0.196204230<br>connection from x to c1  Weight: -0.217642069<br>connection from x to x  Weight: -0.139541343<br>connection from x to x  Weight: 0.816773832<br>connection from x to x  Weight: -0.689394057<br>connection from x to x  Weight: 0.589423239<br>connection from x to x  Weight: 0.211054653<br>connection from x to n1  Weight: -0.391950667<br>connection from x to foodrgt  Weight: -0.479286820<br>connection from x to x  Weight: 0.583130300<br>connection from x to n1  Weight: -0.333588988<br>connection from x to x  Weight: 0.682459176<br>connection from foodrgt to x  Weight: 0.414838284<br>connection from x to x  Weight: -0.572505414<br>connection from x to x  Weight: 0.0919271708<br>connection from x to x  Weight: 0.890084207<br>connection from x to x  Weight: -0.767583966<br>connection from heart to hunger  Weight: 0.254254490<br>connection from x to x  Weight: -0.907078266<br>connection from x to x  Weight: -0.690980375<br>connection from x to x  Weight: -0.409700900<br>connection from x to x  Weight: 0.978783786<br>connection from x to c1  Weight: 0.695432484<br>connection from n3 to x  Weight: -0.484457970<br>connection from x to x  Weight: -0.100405216<br>connection from x to x  Weight: 0.948435545<br>connection from x to x  Weight: 0.386952221<br>connection from x to x  Weight: -0.239228070<br>connection from x to x  Weight: 0.425004780<br>connection from x to x  Weight: -0.271669328<br>connection from x to x  Weight: -0.976004720<br>connection from x to x  Weight: 0.298650950<br>connection from x to x  Weight: 0.614292026<br>connection from c1 to n1  Weight: -0.0372657031<br>connection from x to x  Weight: 0.137725756<br>connection from x to x  Weight: -0.0473885275<br>connection from x to x  Weight: -0.110942230<br>connection from foodlft to x  Weight: -0.573190749<br>connection from x to x  Weight: -0.790772140<br>connection from x to n1  Weight: 0.828720272<br>connection from x to x  Weight: 0.979187548<br>connection from x to x  Weight: -0.222265124<br>connection from x to x  Weight: 0.353388637<br>connection from x to n1  Weight: 0.196362391<br>connection from x to x  Weight: 0.247978196<br>connection from x to x  Weight: 0.247641057<br>connection from x to hunger  Weight: -0.0958492458<br>connection from foodrgt to x  Weight: -0.675706267<br>connection from x to foodlft  Weight: -0.616990268<br>connection from x to x  Weight: 0.698731422<br>connection from x to x  Weight: -0.0932890475<br>connection from x to x  Weight: -0.961419344<br>connection from x to left  Weight: -0.927369595<br>connection from x to x  Weight: 0.511784673<br>connection from x to x  Weight: -0.956716835<br>connection from x to x  Weight: 0.211732134<br>connection from x to left  Weight: 0.0725963339<br>connection from enemyrgt to x  Weight: 0.145503521<br>connection from x to x  Weight: -0.516466856<br>connection from x to x  Weight: -0.560723126<br> <br></div><br><br>edit: thats 54 neurons and 163 connections! I think I might have lost count tho lol<br><br>although this fish came from the 1000th gen, it does not survive for as long as some of my previous experimental fish did at the 100th generation<br><br>this forces me to conclude that although fish brain size is a factor to a certain point, more neurons after that point simply become useless for such a simple creature causing unnecessary complexity and cpu usage. <br><br></td></tr></table><br>
<a name="999555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> well now I am thinking this brain mass may not be that unnecessary, I am wondering if having such a complex brain may allow them to have a very short term but usefull "memory" of where food is and how much they have to turn to get to it... I cannot tell as of yet... but it would be interesting... <br><br></td></tr></table><br>
<a name="1000743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe the fish are getting fed up with the same food and just gives up! :D<br><br>Seriously though, this is extremely interesting stuff you've created here Nate, well done and thanks for sharing! I'd definitely like to study this more..<br><br>D. <br><br></td></tr></table><br>
<a name="1000750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK Guys, how about making an Massive-Multi-Online version of this system? Connecting all the fish together to make them learn at lightning speed past a trillion generations!<br><br>If we're lucky enough we can all enjoy Free Sushi by next Tuesday!! LOL!<br><br>D. <br><br></td></tr></table><br>
<a name="1000754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks danny,<br><br>hmm I am working on neural groups inside of neural nets atm, ill post it when im done <br><br></td></tr></table><br>
<a name="1019667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nate - Have you done anymore work on this project?  What have been some of your findings?  Anything interesting?  I'm quite curious.<br><br>Not to get off topic, but have you considered what impact DNA has on creatures in nature?  I mean, single cell organisms like ameba don't have a "brain" per say, but they seem to have figured out a pretty successful life style for themselves, been around for millions of years.<br><br>I am NOT critisizing.  I am seriously impressed with the work you've done, from what I've seen.  I'm just curious if you have added any more inputs to the brain?  Or maybe some different motivations for the creatures.<br><br>One question - have you any idea what's makes the creatures fly right past food (when they are hungry) to go for food that's farther away?  Is this a bug in the program, or simply a nature of the brain state at the moment?<br><br>Can you post some updates?  If you don't want to post updated code, then please just give us some written feedback on how your project is going?  Maybe some updated screenshots?<br><br>Also, why do they move backwards in relation to where the smell antenne are located?  Shouldn't they move toward a food particle with the sniffers out front?  They always seem to eat backwards...Or is this just a graphic thing?<br><br><br>Thanks! <br><br></td></tr></table><br>
<a name="1019748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Nate - Have you done anymore work on this project? What have been some of your findings? Anything interesting? I'm quite curious. <br></div><br><br>I havent done much with neural networks recently but I certainly plan to when I have more time.<br><br><div class="quote"> Not to get off topic, but have you considered what impact DNA has on creatures in nature? I mean, single cell organisms like ameba don't have a "brain" per say, but they seem to have figured out a pretty successful life style for themselves, been around for millions of years. <br></div><br><br>I thought about doing this but it is a different field alltogether although it would be interesting<br><br><div class="quote"> One question - have you any idea what's makes the creatures fly right past food (when they are hungry) to go for food that's farther away? Is this a bug in the program, or simply a nature of the brain state at the moment? <br></div><br><br>well they start out stupid but as they get smarter about 100 generations into it they almost never ignore the oportunity to get food when they are hungry.  It is not a bug in the program as far as I am aware.<br><br><div class="quote"> Can you post some updates? If you don't want to post updated code, then please just give us some written feedback on how your project is going? Maybe some updated screenshots? <br></div><br><br>well I havent done anything successful with the code that isnt posted here but maybe ill start messing with it again.<br><br><div class="quote"> Also, why do they move backwards in relation to where the smell antenne are located? Shouldn't they move toward a food particle with the sniffers out front? They always seem to eat backwards...Or is this just a graphic thing? <br></div><br><br>well this is definitely not a graphic thing because their input depends on the location of their smellers which are at the end of the antennae.  I think it shows how although evolution is pretty good, it may do something wrong or at least not the best way it should be done.  In the long run creatures that move backwards are not as proficient at gathering food as those that move forwards but in the early stages of development the creatures that move forwards have no advantage over those that move backwards because of their lack of developed skills.  Here is what happens:<br><br>some creatures are born that move backwards and some move forwards<br><br>there is no specific advantage to either because they are not fine tuned food hunters yet<br><br>out of random chance the backwards movers may outlive the forwards movers or vice versa.<br><br>Once this happens a switch in direction is highly unlikely because many neurons must change to reverse the creature and its senses not just one or two<br><br>hope this helps and I may go back and make another experiment with this code or mess around with genetics soon but i wont make any promises as I am pretty buisy :(  Recently I have also been thinking about self replicating/ self improving assembly programming.<br><br><br>Thanks! <br><br></td></tr></table><br>
<a name="1020504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! <br><br>What about getting them to fight/eat/mate/reproduce within the simulation?<br><br>I think that could make for interesting evolutions, you could even evolve warrior 'fish' and see who can evolve the best predators/hunters!<br><br>Fish Fight! ;0)<br><br>What about tying the newurons to higher level activites i.e. automate stearing/move to from and use neurons to decide what to do. <br><br></td></tr></table><br>
<a name="1020512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could possible turn this into a screen saver which saves the current state, and comes back to it when the screen saver opens again?<br><br>Just an idea :D. <br><br></td></tr></table><br>
<a name="1020538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You could possible turn this into a screen saver which saves the current state, and comes back to it when the screen saver opens again? <br></div><br><a href="http://www.leadtogold.com/software/genesaver/index2.html" target="_blank">Already done</a> <br><br></td></tr></table><br>
<a name="1020615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> *BRAINPOP*<br><br>Yep, nice work!<br><br>It would be lovely for this to save and restore its state, as i'd like to play with this over longer periods of time.<br><br>Anyone want to take that on? (if not I'll do it come the weekend, no time now haha.) <br><br></td></tr></table><br>
<a name="1022790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
