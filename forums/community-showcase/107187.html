<!DOCTYPE html><html lang="en" ><head ><title >L3DT Forest Area Demo</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >L3DT Forest Area Demo</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >L3DT Forest Area Demo</a><br><br>
<a name="1326307"></a>

<a name="1326501"></a>

<a name="1331460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was playing with L3DT terrain generator, and as so often, a simple "how did that command work again?" turned quickly into some substancial stuff.<br><br>The L3DT terrain is impressive by its own, but I went over the texture, then added a single surface particle system for a piece of forest at closer range to the camera, each tree adapting to the underlying terrain texel, if it's forest area.<br><br>After fiddling with vertexalpha to fade the forest in, I saw myself confronted with die hard alpha zfighting at its best, at which point I decided to use masked textures only, and absolutely no alpha transparency for the trees. No entityautofade, no alpha textures, no Vertexalpha... But how to fade in the seams of the forest without alpha? A true challenge. I'd like to know what you think of the method I use and if you have any better idea (don't say Alpha! ^^)<br><br>I've got a screenie and the demo on my free website, but I guess I couldn't hotlink them, so please have a look at:<br><br><a href="http://anticrap.byethost3.com/" target="_blank">http://anticrap.byethost3.com/</a><br><br>thank you.<br><br>edit: screenie from the Gallery, thanks! The shady side of a hill, maybe a bit dark on a bright page...<br><img src="http://www.blitzbasic.com/gallery/pics/2614.jpg"> <br><br></td></tr></table><br>
<a name="1326308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice demos jfk <br><br></td></tr></table><br>
<a name="1326316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fielder</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have cerated a Video editor? the Swiss Knife? <br><br></td></tr></table><br>
<a name="1326329"></a>

<a name="1326331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice demo, i say don't worry about the trees suddenly appearing/disappearing, because when you add some gameplay, the player will be focused on what he has to do and probably not notice the trees.<br><br>However, to make this appearing/disappearing, less noticeable,  maybe try to get the color of the grass on the terrain below the tree and use it to color the tree when you show it and progressively change its color from the grass color to the tree color.<br><br>Related to this : <a href="http://www.blitzbasic.com/Community/posts.php?topic=102163" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=102163</a> (#18) <br><br></td></tr></table><br>
<a name="1326373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks pretty good here. That terrain's massive! <br><br></td></tr></table><br>
<a name="1326375"></a>

<a name="1326376"></a>

<a name="1326377"></a>

<a name="1326381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much. It's 2*2 times a 1024px heightmap / Blitzterrain, that is wrapped / seamless tileable, so virtually 8 mio tris, but as you pass over eg. X= 512, you'll be positioned at x=-512, that looks precisely the same, so you don't notice and just fly over a seemingly endless terrain. The single surface forest is limited to 64k Vertices and by default it has 131*131 tris with unshared vertices.<br><br>RemiD, thanks, interesting suggestion (tho i already use that color, but only to some degree, otherwise the trees would remain almost invisible, also, firs often look almost black in real, but fading to that slightly darker tone is indeed a good idea, the dilemma is: i wanna see them, but don't want to see them appearing ^^), that may be at least a partial solution of that problem, how to fade in something without Alpha. The shifting horizons will remain, even with an Alpha solution. This "glitch" is amplified by the terrains own behaviour to shift slightly on approximation,which does not help of course.<br><br>Anyway, thanks for trying, good to see it worked at all. btw. how was the framerate, bearable? I got it running on a really old laptop with S3 onboard gfxcard, tho somewhere around 8fps ^^.<br><br>Fielder, yes the "swiss movie knife", handling full hd mpeg transport streams such as mts2, utilizing ffmpeg for import and export. It has rather nice greenscreening. I think my spaceprovider blocks the exe download, will upload it zipped the sooner or later.<br><br>btw. Little typo in the terrajn demo cfg file, but only in a remark: "130 ; terrain size" should be "130; forest size", of course.<br><br>edit2, BTW. fly only chopper speed, although you can accellerate to jetplane, I'll use it for helicopter missions. <br><br></td></tr></table><br>
<a name="1326395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fielder</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've found and older version of your video editor but i can't start it on windows 10.. i will try your newest one.. it's hard to find an "Indie" video editor... <br><br></td></tr></table><br>
<a name="1326396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perfectly smooth with forest = 146 here. I'm suprised that visually wrapping a terrain is as easy as simply moving the camera, I'd imagine you'd see a glitch, but I guess not!<br><br>I noticed that collisions work at the start but stop working later on... wonder if that's related to the re-positioning of the camera/terrain? <br><br></td></tr></table><br>
<a name="1326480"></a>

<a name="1326481"></a>

<a name="1326483"></a>

<a name="1326484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fielder, I upped a zipped version. On Win&gt;=8 you may need to install into the programs folder and try various compatibility modes, and or individual DEP deactivation. The install may also need an admin account. And don't expect too much, importing mts2 on slow machines is just slow... Other than that, I personally enjoyed it.<br><br>James, thanks, yep, L3DT can do wrapped terrains and they wrap perfectly, but as we know, rendering a Blitzterrain isn't really a precise thing when it comes to theoreticly seamless seams. I had to overlap them by two units and stretch the edges way below ground, but even now once in a while you can see open seams in the distance. The near forest has also a positive effect in that it hides terrain-morphing artefacts (tesselation?). Other than that open seams thing, wrapping was painless. I intuitively did the same with the trees, which seems to work nicely. However, in a real game the mission would take place in a confined area and the pilot would be called back when he flies too far away. That old inca temple will be there in the middle somewhere anyway... ^^<br><br>Two things I miss in Blitzterrains: individual precision for seam rows and a horizontal clipping to allow for cubemaps, mirror etc. But a mesh wouldn't be an alternative. Too many Tris in view.<br><br>Anyway, funny stuff. BTW that Fir tree is a placeholder, I even think this is from a plastic christmas tree ^^<br><br>Cheers<br><br>PS I uploaded a screenie to the gallery 3 days ago, so I could embed it here, but nothing there yet.<br><br>PS2, collision, ground is currently checked only over one of four terrain quarters. Just something not implemented, so you can see it from below. <br><br></td></tr></table><br>
<a name="1326498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just bumped the gallery, sorry, should be there now!<br><br>Interesting to read about the wrapping. I only discovered L3DT very recently, probably from a post here (by you?), does give good results, handy to know it does wrapping too... <br><br></td></tr></table><br>
<a name="1326503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, thanks, it's there now. It looked good on my win screen, but now seems a bit dark on this handheld display.<br><br>Yep, L3DT is good, even in the free version with a 2048 px heightmap limit. Although, What became a dark forest was originally just a greenish tainted blur. 2nd texture layer detail texture in blendmode 5 helps a bit. And the bumpiness of the particles.<br><br>Another great tool is TED, that is for free now. I have found links to both in this forum, by using search terms, "Heightmap" I think. I didn't use terrains in any bigger projects before.<br><br>People are a bit tired of terrain demos, they've seen just too many of them. Personally I find it rather inspiring to develop an test such a thing with a profound game idea in the back of my head. <br><br></td></tr></table><br>
<a name="1326505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> very nice. :)<br><br><img src="http://i64.tinypic.com/2u3xeuu.png"><br><br><br>How can you create sky boxes like this? <br><br></td></tr></table><br>
<a name="1326509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you. The sweet skybox is from a package see the readme in the skybox2 folder. The tricky part is to combine a skybox and fog, without to see the mountains against the sky before they appear out of the fog. I wrote a code to color the original grey at the horizon in a slightly turqoise tone that fits in better, and is a bit brighter. doing so, the amount of colorization must gradiently be reduced when painting into the clouds... if that makes any sense. Additionally the original UVs were set to 0.0 and 1.0, resulting in visible edges, so I parse the Vertices and set the UVs to 0.002 and 0.998, which solved the issue. Feel free to use this skybox within the terms described in the mentioned readme file. <br><br></td></tr></table><br>
<a name="1327669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fielder</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry boring you again with the Knife video tool..<br>what language have you used to make this editor? <br><br></td></tr></table><br>
<a name="1327882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fielder, it's Blitz3D.<br><br>About the  Terrain thingie, for those interested, I upped a new version with hopefully more subtile fading in of the forest.<br><br>Certain compromises had to be made, due to logical reasons. Anyhow, I like it now.<br><br>I have also re-released the Chess User vs AI game "deep Purple" and the Rubik's Cube simulation "BlitzCube" <br><br></td></tr></table><br>
<a name="1329125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have just uploaded version 03, featuring epic orchestra soundtrack, dragons roaming the sky and stalking the helicopter, and corelated 50bmg board mg with associated, probably slightly exaggerated fx, pretty bombastic soundfx, etc...<br><br>This demo reveals rather accurately the product characteristics I'm aiming for. Cinematic, epic, nerve wrecking, fast paced.<br><br> <a href="http://anticrap.byethost3.com/" target="_blank">http://anticrap.byethost3.com/</a><br>just scroll to the terrain screenie, then dl the ...v03.zip<br><br>A bit of Gameplay. Seems like we're getting somewhere... <br><br></td></tr></table><br>
<a name="1329147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't downloaded it yet but I'm already picturing Panzer Dragoon! <br><br></td></tr></table><br>
<a name="1329148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) Nice!<br><br><img src="http://i63.tinypic.com/2pyp11u.png"> <br><br></td></tr></table><br>
<a name="1329150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>but I'm already picturing Panzer Dragoon! <br> <br></div><br><br>My thoughts too.<br><br>Coming along very nicely, but still a very small window, is there a key to go full-screen? <br><br></td></tr></table><br>
<a name="1329168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, yes, edit the. cfg file in notepad. Keep automatic linebreaks off tho. <br><br></td></tr></table><br>
<a name="1329176"></a>

<a name="1329177"></a>

<a name="1329178"></a>

<a name="1329179"></a>

<a name="1329182"></a>

<a name="1329183"></a>

<a name="1329199"></a>

<a name="1329228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works well here.<br><br>Some critics/suggestions/questions :<br>-&gt;the cockpit looks inconsistent with the rest of the world, maybe try to prerender a mesh ?<br><br>-&gt;about the shooting with bullets, i would add blood impacts on the dragons, and when the dragon dies, maybe make him become a raggdoll and let him fall in the reliefs (could be fun to watch)<br>-&gt;maybe add missiles with smoke trails and when it reaches a dragon make the dragon explode in parts ?<br>-&gt;maybe add a camera shaking effect with an associated sound when a dragon is colliding with the helicopter ?<br>-&gt;who is driving the helicopter ? Van Zan ? (a dragons hunter)<br><img src="http://www.elbakin.net/heros/images/heros-denton-van-zan.jpg"> <br><br></td></tr></table><br>
<a name="1329184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Thanks, yes, edit the. cfg file in notepad. Keep automatic linebreaks off tho. <br> <br></div><br><br>Ah, that's much better - although the cockpit is very pixelated compared to the sharp scenery. <br><br></td></tr></table><br>
<a name="1329862"></a>

<a name="1329864"></a>

<a name="1329865"></a>

<a name="1329866"></a>

<a name="1329867"></a>

<a name="1329868"></a>

<a name="1329880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW, thanks for releasing sources for VRV.<br><br>Did a very quick implementation of the earlier walkthrough demo to be used with V1.1, just to see how it's holding up. <br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; ******************************************************
; Cyberskunk Productions Very Rich Vegetation Engine 1.0
; ******************************************************
;
; Copyright by Dieter Marfurt. Publishing of this Source-
; Code is hereby forbidden. Usage of this Code and the
; Media in this Example is allowed for Owners of a VRV
; License that was purchased from Dieter Marfurt.


; Code Structure:
; ***************

; Initialisation, Settings and Functions can be found in
; the Includefile vrv_engine_include.bb. Note the Label
; your_meshes_here to add content to the Scene.
; 
; Carefully read the remarks in the Initialisation and
; in the Configuration Files "vrv_level_cfg.txt" that can
; be found inside the level folders.
; 
; In this Source are a few calls eg. to a Screenres Selector
; and the main loop of the example. Currently this is the
; Flight Controls Mode from the Demo, but it can easily be
; replaced by a Walktrough Code... Just make sure to keep
; the parts of the engine. Basicly you can remove everything
; that is keyboard/mouse related (note the level loading
; examples on the keys F1 and F2).
; 
; When you want to remove the Lenseflair, the wave twinkle FX
; or other parts, remove it from the Initialisation as well,
; and probably also from some update code.
; 


; special thanks for original cubemapping water demo by:
; Inarie, www.inarie.de , www.projectblitz.de,  mail@...



Global VRV__debugging=0 ; with this a detailed initialisation report is written to vrv_debug_info.txt, for in case of hard to trace errors.
If Instr(Upper$(CommandLine$()),"/DEBUG")&lt;&gt;0 Then VRV__debugging=1 ; this as Commandline Argument triggers the debug initialisation report
If VRV__debugging=1 Then VRV__debug=WriteFile("vrv_debug_info.txt")



;A little screen settings utility at startup...
Global VRV__intModes=CountGfxModes()
Dim VRV__ScreenRes(VRV__intModes)
Global VRV__user_screen_w=0
Global VRV__user_screen_h=0
Global VRV__user_screen_d=0
Global VRV__user_screen_wi=0
VRV__choose_res()
SetBuffer BackBuffer()
If VRV__debugging=1 Then WriteLine VRV__debug,"successfully set screen res"


Include "VRV__vrv_engine_include_v11.bb"


;init some smooth flight controls...
;VRV__acc#=.025
;VRV__acc_f#=0
;VRV__acc_s#=0
;VRV__acc_u#=0
;VRV__max_fwd_speed#=2.0
;VRV__max_sid_speed#=1.0
;VRV__max_upw_speed#=1.0
;VRV__virgin=0; used to go into replay mode with the default flight data after exe start (see below).&lt;&lt;0=freeflight, 1=playback 2=walkthrough.

Collisions 2,1,2,2

If VRV__debugging=1 Then WriteLine VRV__debug,"successfully initialized everything" 
VRV__startms = MilliSecs()
;initialisation complete.


; init walktrough
TranslateEntity VRV__cam_piv,0,150,0 ; make sure not to fall trough the ground at beginning
EntityType VRV__cam_piv,2
EntityType VRV__cam,0
VRV__tall#=15.0 ; player size 
EntityRadius VRV__cam_piv,VRV__tall/4.0,VRV__tall
VRV__sp#=1.0 ; walk speed
VRV__gravity#=0.25






.VRV__main
;main Example loop 
;MMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMMM
;Repeat
; VRV__ms=MilliSecs()
; VRV__loops = VRV__loops + 1
; Cls
; If KeyHit(197) Then ;&lt;&lt;&lt;&lt; 57)Then;space simple pause (that messes up average fps calculation, anyway)
;  Delay 1000
;  FlushKeys()
;  WaitKey()
; EndIf
; If KeyHit(23)Then;i toggle info
;  VRV__s_info=VRV__s_info Xor 1
;  If VRV__s_info=1
;   ShowEntity VRV__hud
;   VRV__HideInCube(VRV__hud)
;   VRV__hud_a#=90
;  Else
;   VRV__HideEverywhere(VRV__hud)
;   HideEntity VRV__hud
;  EndIf
; EndIf
; If KeyHit(34)Then;g toggle grav
;  VRV__grav=VRV__grav Xor 1
; EndIf


; ;here you can see how to load a level
; If KeyHit(59)Then; f1 restart engine with testlevel 1
;  ; goto and gosub isn't really nice, but for the reinitialisation it may be ok, esp. since all Globals and main program locals are prefixed by VRV_
;  Gosub VRV__reinit_engine
;  ; this will point to your EXEs base folder
;  VRV__levp$ ="testlev1\" ; level path, eg "level2\", path for very level-specific content
;  VRV__levp2$="testlev1\" ; level path, eg "level2\", path for more generic content
;  Goto VRV__reinit
; EndIf

; If KeyHit(60)Then; f2 restart engine with level 2
;  Gosub VRV__reinit_engine
;  ;this will load the level from the folder "testlev2"
;  VRV__levp$ ="testlev2\" ; level path, eg "level2\", path for very level-specific content
;  VRV__levp2$="testlev2\" ; level path, eg "level2\", path for more generic content
;  Goto VRV__reinit
; EndIf

; If KeyHit(18)Then; e toggle water
;  VRV__wlow_q=VRV__wlow_q Xor 1
;  If VRV__wlow_q&gt;0
;   HideEntity VRV__wat_mainpivot
;   ShowEntity VRV__wat_smpl
;  Else
;   ShowEntity VRV__wat_mainpivot
;   HideEntity VRV__wat_smpl
;  EndIf
; EndIf
;If VRV__virgin-0 Then ;&lt;&lt;&lt;

;If KeyDown(200) Then   ;some very smooth flight controls
;  VRV__acc_f=VRV__acc_f+0.02
;  If VRV__acc_f&gt;VRV__acc Then VRV__acc_f=VRV__acc
;  VRV__fwd_speed#=VRV__fwd_speed#+VRV__acc_f#
;  If VRV__fwd_speed#&gt;VRV__max_fwd_speed# Then VRV__fwd_speed#=VRV__max_fwd_speed#
; EndIf
; If KeyDown(208) Then 
;  VRV__acc_f=VRV__acc_f-0.02
;  If VRV__acc_f&lt;-VRV__acc Then VRV__acc_f=-VRV__acc
;  VRV__fwd_speed#=VRV__fwd_speed#+VRV__acc_f#
;  If VRV__fwd_speed#&lt;-VRV__max_fwd_speed# Then VRV__fwd_speed#=-VRV__max_fwd_speed#
; EndIf
; If KeyDown(205) Then 
;  VRV__acc_s=VRV__acc_s+0.04
;  If VRV__acc_s&gt;VRV__acc Then VRV__acc_s=VRV__acc
;  VRV__sid_speed#=VRV__sid_speed#+VRV__acc_s#
;  If VRV__sid_speed#&gt;VRV__max_sid_speed# Then VRV__sid_speed#=VRV__max_sid_speed#
; EndIf
; If KeyDown(203) Then 
;  VRV__acc_s=VRV__acc_s-0.04
;  If VRV__acc_s&lt;-VRV__acc Then VRV__acc_s=-VRV__acc
;  VRV__sid_speed#=VRV__sid_speed#+VRV__acc_s#
;  If VRV__sid_speed#&lt;-VRV__max_sid_speed# Then VRV__sid_speed#=-VRV__max_sid_speed#
; EndIf
; If KeyDown(201) Then      ; pageup...
;  VRV__acc_u=VRV__acc_u+0.08
;  If VRV__acc_u&gt;VRV__acc Then VRV__acc_u=VRV__acc
;  VRV__upw_speed#=VRV__upw_speed#+VRV__acc_u#
;  If VRV__upw_speed#&gt;VRV__max_upw_speed# Then VRV__upw_speed#=VRV__max_upw_speed#
; EndIf
; If KeyDown(209) Then ;pg down!
;  VRV__acc_u=VRV__acc_u-0.08
;  If VRV__acc_u&lt;-VRV__acc Then VRV__acc_u=-VRV__acc
;  VRV__upw_speed#=VRV__upw_speed#+VRV__acc_u#
;  If VRV__upw_speed#&lt;-VRV__max_upw_speed# Then VRV__upw_speed#=-VRV__max_upw_speed#
; EndIf
; VRV__sid_speed#=VRV__sid_speed#*0.975
; VRV__upw_speed#=VRV__upw_speed#*0.975
; VRV__acc_s=VRV__acc_s*0.975
; VRV__acc_f=VRV__acc_f*0.98
; VRV__acc_u=VRV__acc_u*0.95
; If Abs(VRV__sid_speed#)&lt;=0.02 Then VRV__sid_speed#=0
;
; If KeyDown(82) Then 
;  VRV__fwd_speed#=VRV__fwd_speed#*0.98 ; "0"numpad,brake
;  If Abs(VRV__fwd_speed#)&lt;=0.02 Then VRV__fwd_speed#=0
; EndIf
;EndIf ;&lt;&lt;&lt;L




; If VRV__fly_replaying=0
;  ;manual flight control
;  MoveEntity VRV__cam,VRV__sid_speed#,0 ,VRV__fwd_speed#
;  TranslateEntity VRV__cam,0,	VRV__upw_speed# ,0,1
;  If VRV__grav=1 Then
;   TranslateEntity VRV__cam,0,-0.5,0
;  EndIf
;  VRV__mxspeed#=-MouseXSpeed()
;  VRV__myspeed#=MouseYSpeed()
;  VRV__mxs#=VRV__mxs-((VRV__mxs-VRV__MXSpeed)/20.0)
;  VRV__mys#=VRV__mys-((VRV__mys-VRV__MySpeed)/20.0)
;  MoveMouse GraphicsWidth()/2,GraphicsHeight()/2
;  VRV__mxa#=VRV__mxa#+VRV__mxs
;  If VRV__mxa&lt;-180 Then VRV__mxa=VRV__mxa+360
;  If VRV__mxa&gt;180 Then VRV__mxa=VRV__mxa-360
;  VRV__mya#=VRV__mya#+VRV__mys
;  If VRV__mya&lt;-180 Then VRV__mya=VRV__mya+360
;  If VRV__mya&gt;180 Then VRV__mya=VRV__mya-360
;  RotateEntity VRV__cam,VRV__mya,VRV__mxa#,0
;  Else
;  ;autopilot by replay
;  PositionEntity VRV__cam,VRV__fly(VRV__fly_c,0),VRV__fly(VRV__fly_c,1),VRV__fly(VRV__fly_c,2),1
;  RotateEntity VRV__cam,VRV__fly(VRV__fly_c,3),VRV__fly(VRV__fly_c,4),VRV__fly(VRV__fly_c,5),1
;  VRV__fly_c=VRV__fly_c+1
;  If VRV__fly_c&gt;=VRV__fly_max Then VRV__fly_c=0
; EndIf
;
; If VRV__fly_recording=1
;  If VRV__fly_c&lt;1000000
;   VRV__fly(VRV__fly_c,0)=EntityX(VRV__cam,1)
;   VRV__fly(VRV__fly_c,1)=EntityY(VRV__cam,1)
;   VRV__fly(VRV__fly_c,2)=EntityZ(VRV__cam,1)
;   VRV__fly(VRV__fly_c,3)=EntityPitch(VRV__cam,1)
;   VRV__fly(VRV__fly_c,4)=EntityYaw(VRV__cam,1)
;   VRV__fly(VRV__fly_c,5)=EntityRoll(VRV__cam,1)
;   VRV__fly_c=VRV__fly_c+1
;  EndIf
; EndIf

; If KeyHit(19); Then ;r rec
;  VRV__fly_c=0
;  VRV__fly_recording=1
;  VRV__fly_replaying=0
; EndIf

; If (KeyHit(25)) Or (VRV__virgin=1) Then ;p play
;  If VRV__fly_recording=1 Then ; if we are recording, save first, then play...
;   VRV__fly_max=VRV__fly_c
;   VRV__wr=WriteFile(VRV__levp$+"csp_dreamland_flightdata.dta")
;   WriteLine VRV__wr,VRV__fly_max
;  For VRV__i=0 To VRV__fly_max-1
;    For VRV__j=0 To 5
;     WriteLine VRV__wr,VRV__fly(VRV__i,VRV__j)
;    Next
;  Next
;   CloseFile VRV__wr
;   VRV__fly_c=0
;   VRV__fly_recording=0
;   VRV__fly_replaying=1
;  Else
;   If VRV__virgin=1 Then ; autoload default file on exe startup
;    If FileType(VRV__levp$+"csp_default_flightdata.dta")=1
;     If VRV__debugging=1 Then WriteLine VRV__debug,"successfully loaded autopilot default flightdata and started replaymode" 

;     VRV__re=VRV__My_ReadFile(VRV__levp$+"csp_default_flightdata.dta")
;     VRV__fly_max=ReadLine(VRV__re)
;     For VRV__i=0 To VRV__fly_max-1
;      For VRV__j=0 To 5 
;       VRV__fly(VRV__i,VRV__j)=ReadLine(VRV__re) 
;      Next
;     Next
;     CloseFile VRV__re
;     VRV__fly_c=0
;     VRV__fly_recording=0
;     VRV__fly_replaying=1
;     PositionEntity VRV__cam,VRV__fly(0,0),VRV__fly(0,1),VRV__fly(0,2),1
;     RotateEntity VRV__cam,VRV__fly(0,3),VRV__fly(0,4),VRV__fly(0,5),1
;    EndIf
;   Else
;    If FileType(VRV__levp$+"csp_dreamland_flightdata.dta")=1
;     VRV__re=VRV__My_ReadFile(VRV__levp$+"csp_dreamland_flightdata.dta"); load user-recorded flight recorder data
;     VRV__fly_max=ReadLine(VRV__re)
;     For VRV__i=0 To VRV__fly_max-1
;      For VRV__j=0 To 5 
;       VRV__fly(VRV__i,VRV__j)=ReadLine(VRV__re) 
;      Next
;     Next
;     CloseFile VRV__re
;     VRV__fly_c=0
;     VRV__fly_recording=0
;     VRV__fly_replaying=1
;     PositionEntity VRV__cam,VRV__fly(0,0),VRV__fly(0,1),VRV__fly(0,2),1
;     RotateEntity VRV__cam,VRV__fly(0,3),VRV__fly(0,4),VRV__fly(0,5),1
;    EndIf
;   EndIf
;  EndIf
;  VRV__virgin=0
; EndIf

; If KeyHit(31) Then ;s stop playing
;  If VRV__fly_replaying=1
;   MoveMouse VRV__gwidth/2,VRV__gheight/2
;   FlushMouse
;   VRV__mya=EntityPitch(VRV__cam,1)
;   VRV__mxa=EntityYaw(VRV__cam,1)
;   VRV__sid_speed#=0
;   VRV__fwd_speed#=0
;   VRV__mxs=0
;   VRV__mys=0
;   VRV__fly_recording=0
;   VRV__fly_replaying=0
;  EndIf
; EndIf
	
; If KeyHit(33) Then ;f toggle lock fps
;  VRV__lock=VRV__lock + 1
;  If VRV__lock&gt;2 Then VRV__lock=0
; EndIf	

; VRV__gx#=EntityX(VRV__cam,1)
; VRV__gy#=EntityY(VRV__cam,1)
; VRV__gz#=EntityZ(VRV__cam,1)
;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;
Repeat
 VRV__ms=MilliSecs()
 VRV__loops = VRV__loops + 1
 Cls

 ; some simple walktrough controls
 VRV__mxs#=MouseXSpeed()/4.0
 VRV__mys#=MouseYSpeed()/4.0
 MoveMouse GraphicsWidth()/2,GraphicsHeight()/2
 VRV__camxa#=VRV__camxa-VRV__mxs Mod 360
 VRV__camya#=VRV__camya+VRV__mys
 If VRV__camya&lt;-90 Then VRV__camya=-90
 If VRV__camya&gt;90 Then VRV__camya=90
 VRV__camxa2#=VRV__camxa2#+(VRV__camxa#-VRV__camxa2#)/3.0 ; smoothing mouse movement a little
 VRV__camya2#=VRV__camya2#+(VRV__camya#-VRV__camya2#)/3.0
 RotateEntity VRV__cam_piv,0,VRV__camxa2,0
 RotateEntity VRV__cam,VRV__camya2,0,0
 If KeyHit(17) ;w
  VRV__wire=1-VRV__wire
  Wireframe VRV__wire
 EndIf

 If KeyHit(57) Then ;space jump
  VRV__jump#=90
 EndIf	

 VRV__p=LinePick(EntityX(VRV__cam_piv,1),EntityY(VRV__cam_piv,1),EntityZ(VRV__cam_piv,1),0,-VRV__tall*1.05,0) 
 ; note: the value 1.05 controls the "slide down steep slopes behaviour", which is also 
 ; affected by the falling accelleration (see below) and gravity in general, as well as 
 ; the players X to Y-radius ratio. Imagine the 0.05 part of the linepick that goes beyond 
 ; "tall" (the collision radius) will touch the floor (and therefor stop sliding down) only
 ; on even floors. Edit carefully..
 If VRV__p=0 Then
  TranslateEntity VRV__cam_piv,0,-VRV__gravity#,0 ; gravity
   If VRV__gravity#&lt;6.0 Then VRV__gravity#=VRV__gravity#*1.3; accellerate in free fall...
 Else
  VRV__gravity#=0.25
 EndIf
 If KeyDown(203) MoveEntity VRV__cam_piv,-VRV__sp,0,0 ; left
 If KeyDown(205) MoveEntity VRV__cam_piv,VRV__sp,0,0 ; right
 If KeyDown(200) Or MouseDown(2) MoveEntity VRV__cam_piv,0,0,VRV__sp ; up /rightmse
 If KeyDown(208) MoveEntity VRV__cam_piv,0,0,-VRV__sp ; down

 If VRV__jump&gt;0 Then
  TranslateEntity VRV__cam_piv,0,Sin(VRV__jump#)*4.0,0
  VRV__jump=VRV__jump-10
  If VRV__jump&lt;0 Then VRV__jump=0
 EndIf


 ;here you can see how to load a level
 If KeyHit(59)Then; f1 restart engine with testlevel 1
  ; goto and gosub isn't really nice, but only for the reinitialisation it may be ok, esp. since all Globals and main program locals are prefixed by VRV__
  Gosub VRV__reinit_engine;VRV_reinit_engine
  VRV__levp$ ="testlev1\" ; level path, eg "level2\", path for very level-specific content
  VRV__levp2$="testlev1\" ; level path, eg "level2\", path for more generic content
  Goto VRV__reinit
 EndIf

 If KeyHit(60)Then; f2 restart engine with level 2
  Gosub VRV__reinit_engine;VRV_reinit_engine
  VRV__levp$ ="testlev2\" ; level path, eg "level2\", path for very level-specific content
  VRV__levp2$="testlev2\" ; level path, eg "level2\", path for more generic content
  Goto VRV__reinit
 EndIf

 If KeyHit(61)Then; f3 restart engine with level 3
  Gosub VRV__reinit_engine; VRV_reinit_engine
  VRV__levp$ ="testlev3\" ; level path, eg "level2\", path for very level-specific content
  VRV__levp2$="testlev3\" ; level path, eg "level2\", path for more generic content
  Goto VRV__reinit
 EndIf



 If KeyHit(18)Then; e toggle water
  VRV__wlow_q=VRV__wlow_q Xor 1
  If VRV__wlow_q&gt;0
   HideEntity VRV__wat_mainpivot
   ShowEntity VRV__wat_smpl
  Else
   ShowEntity VRV__wat_mainpivot
   HideEntity VRV__wat_smpl
  EndIf
 EndIf
 
 If KeyHit(33) Then ;f toggle lock fps
  VRV__lock=VRV__lock + 1
  If VRV__lock&gt;2 Then VRV__lock=0
 EndIf	

 If KeyHit(23)Then;i toggle info
  VRV__s_info=VRV__s_info Xor 1
  If VRV__s_info=1
   ShowEntity VRV__hud
   VRV__HideInCubemap(VRV__hud)
   VRV__hud_a#=90
  Else
   VRV__HideEverywhere(VRV__hud)
   HideEntity VRV__hud
  EndIf
 EndIf

 If KeyHit(17) Then ;w toggle wireframe
  ; Note: When you see "pop-in" artefacts (eg. water tiles) then watch it in Wireframe Mode
  ; to see if it's only an Alpha Z-Fight Issue, or if you need a higher "contingent"
  ; for Grass (see level cfg).
  VRV__Wf = VRV__wf Xor 1
  Wireframe VRV__wf 
 EndIf
	
 VRV__gx#=EntityX(VRV__cam,1)
 VRV__gy#=EntityY(VRV__cam,1)
 VRV__gz#=EntityZ(VRV__cam,1)




;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;

 ; Important: !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
 VRV__UpdateEnvironment2() ;update engine,  grass, trees, wind  etc.


 PositionEntity VRV__sky_mesh,EntityX(VRV__cam,1),EntityY(VRV__cam,1)+10,EntityZ(VRV__cam,1)


	
 ;lenseflare update
.VRV__flare
 If EntityVisible(VRV__flare,VRV__cam) Then
  ShowEntity VRV__s1
  ShowEntity VRV__s2
  ShowEntity VRV__s3
  ShowEntity VRV__s4
  CameraProject( VRV__cam,EntityX(VRV__flare,1),EntityY(VRV__flare,1),EntityZ(VRV__flare,1) )
  VRV__px# = ProjectedX()
  VRV__py# = ProjectedY()
  VRV__vx# = VRV__px - (VRV__gwidth/2.0)
  VRV__vy# = VRV__py - (VRV__gheight/2.0)
  VRV__sx = VRV__px : VRV__sy = VRV__py
  PositionEntity VRV__s1,VRV__SpriteX(VRV__sx,VRV__sy,128),VRV__SpriteY(VRV__sx,VRV__sy,128),VRV__SpriteZ(VRV__sx,VRV__sy,128)
  VRV__sx = -VRV__vx/2.0 + (VRV__gwidth/2.0) : VRV__sy = -VRV__vy/2.0 + (VRV__gheight/2.0)
  PositionEntity VRV__s2,VRV__SpriteX(VRV__sx,VRV__sy,128),VRV__SpriteY(VRV__sx,VRV__sy,128),VRV__SpriteZ(VRV__sx,VRV__sy,128)
  VRV__sx = -VRV__vx/5.0 + (VRV__gwidth/2.0) : VRV__sy = -VRV__vy/5.0 + (VRV__gheight/2.0)
  PositionEntity VRV__s3,VRV__SpriteX(VRV__sx,VRV__sy,128),VRV__SpriteY(VRV__sx,VRV__sy,128),VRV__SpriteZ(VRV__sx,VRV__sy,128)
  VRV__sx = -VRV__vx/1.2 + (VRV__gwidth/2.0) : VRV__sy = -VRV__vy/1.2 + (VRV__gheight/2.0)
  PositionEntity VRV__s4,VRV__SpriteX(VRV__sx,VRV__sy,128),VRV__SpriteY(VRV__sx,VRV__sy,128),VRV__SpriteZ(VRV__sx,VRV__sy,128)
  RotateSprite VRV__s1,-EntityYaw(VRV__cam)
  EntityAlpha VRV__s1,ProjectedZ()
  VRV__al#=1-(Abs(VRV__vx)/(VRV__gwidth/2))
  EntityAlpha VRV__s2,VRV__al#
  EntityAlpha VRV__s3,VRV__al#
  EntityAlpha VRV__s4,VRV__al#
 Else
  HideEntity VRV__s1
  HideEntity VRV__s2
  HideEntity VRV__s3
  HideEntity VRV__s4
 EndIf	
 ;--
	
 If KeyHit(17) Then ;w toggle wireframe
  VRV__Wf = VRV__wf Xor 1
  Wireframe VRV__wf 
 EndIf
	
 ; render the water mesh (when its time)
If VRV__wlow_q=0
  If VRV__ms&gt;VRV__time4WaterUpdate Then
  VRV__my_update_Waves()
  VRV__time4WaterUpdate=VRV__ms+66 ; water win 15 fps or less
 EndIf
Else
 If VRV__ms&gt;VRV__time4smplwatani ; alternatively update simple ani-tex water
  EntityTexture VRV__wat_smpl,VRV__wat_smpl_tex,VRV__wat_smpl_c
  VRV__wat_smpl_c=VRV__wat_smpl_c+1
  If VRV__wat_smpl_c&gt;VRV__wat_smpl_max Then VRV__wat_smpl_c=0
  VRV__wat_smpl_sx=VRV__wat_smpl_sx+VRV__wat_smpl_px
  If VRV__wat_smpl_sx&gt;1.0 Then VRV__wat_smpl_sx=VRV__wat_smpl_sx-1.0
  If VRV__wat_smpl_sx&lt;0.0 Then VRV__wat_smpl_sx=VRV__wat_smpl_sx+1.0
  VRV__wat_smpl_sy=VRV__wat_smpl_sy+VRV__wat_smpl_py
  If VRV__wat_smpl_sy&gt;1.0 Then VRV__wat_smpl_sy=VRV__wat_smpl_sy-1.0
  If VRV__wat_smpl_sy&lt;0.0 Then VRV__wat_smpl_sy=VRV__wat_smpl_sy+1.0
  PositionTexture VRV__wat_smpl_tex,VRV__wat_smpl_sx,VRV__wat_smpl_sy
  VRV__time4smplwatani=VRV__ms+VRV__wat_smpl_t
 EndIf
EndIf

 ;water is travelling with camera...
 VRV__wpatch_sz#=(VRV__ter_x*VRV__ter_s#)
 PositionEntity VRV__wat_mainpivot,Floor(EntityX(VRV__cam,1)/VRV__wpatch_sz#)*VRV__wpatch_sz#,0,Floor(EntityZ(VRV__cam,1)/VRV__wpatch_sz#)*VRV__wpatch_sz#,1 ;water moves with camera...

 ;update twinkling waves fx...
 If VRV__ms&gt;VRV__t4_gli Then 
  VRV__t4_gli=VRV__ms+100
  VRV__old_glitex_frame=VRV__glitex_frame
  While VRV__old_glitex_frame=VRV__glitex_frame
   VRV__glitex_frame=Rand(0,24)
  Wend
  EntityTexture VRV__gli,VRV__gli_t,VRV__glitex_frame
  PositionEntity VRV__gli,EntityX(VRV__cam,1),0.05,EntityZ(VRV__cam,1),1
  RotateEntity VRV__gli, 0, EntityYaw(VRV__cam,1), 0,1 
  MoveEntity VRV__gli,0,0,120+EntityY(VRV__cam,1)*1.5;gli_dis
 EndIf
 ;If (VRV__fly_replaying=0) And (VRV__grav&lt;&gt;0) Then
  UpdateWorld()
 ;EndIf

 VRV__UpdateSubstSprites(VRV__cam) ; update Substitute Sprites

 If VRV__s_info
  VRV__update_hud(VRV__afps,VRV__fps,VRV__lock)	
 EndIf

 ;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt;&gt; !!!
 RenderWorld()

 VRV__afps=Int(1000/(Float((MilliSecs()-VRV__startms)/VRV__loops)))
 VRV__fps=Int(1000/(MilliSecs()-VRV__lastmsc))	
 VRV__lastmsc = MilliSecs()
 If VRV__lock=2 Then
  VWait ;30fps
  Delay 1
  Flip 1
 Else
  Flip VRV__lock ;60fps/unlimited
 EndIf
Until KeyHit(1)
;eo main loop --------------------------------------------------------------------------------




VRV__ReleaseSprite(VRV__s1); required for the sprites substitute functions
VRV__ReleaseSprite(VRV__s2)
VRV__ReleaseSprite(VRV__s3)
VRV__ReleaseSprite(VRV__s4)


If VRV__debugging=1 Then WriteLine VRV__debug,"exit from mainloop, will end"
If VRV__debugging=1 Then CloseFile VRV__debug

.VRV__e_end
End































.VRV__reinit_engine
; as an exception, this is used by a GOSUB, due to main code locals.
For VRV__j=0 To VRV__snd_zm
 For VRV__i=0 To VRV__snd_xm
  If VRV__snd_(VRV__i,VRV__j)&lt;&gt;0 Then FreeSound VRV__snd_(VRV__i,VRV__j)
 Next
Next
ClearWorld()
VRV__cc=0
Graphics3D VRV__user_screen_w,VRV__user_screen_h,VRV__user_screen_d,VRV__user_screen_wi
VRV__count_tree=0
VRV__loops=0
VRV__fly_c=0
VRV__wat_smpl_c=0
VRV__wat_smpl_sx=0
VRV__wat_smpl_sy=0
VRV__ps_c=0
VRV__hud_a#=0
VRV__s_info=0
VRV__grav=0
VRV__wlow_q=0
Return
</textarea><br><br>Pretty smooth I'd say. And indeed the 2nd tree type needed fixing(there were no leaves on the upper part of the model) :-). Looking pretty rich on the veggies now, much better than some other attempts(as mentioned by RemiD <a href="http://www.blitzbasic.com/Community/posts.php?topic=102163" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=102163</a> ). <br><br><img src="http://i65.tinypic.com/kbzvc7.jpg"><br><br><br>Nevertheless there are a few things off, e.g.: the sunflares come through the terrain/trees for they are not set as obscurers(easy fix) <strike>and the edges of the cubemapped water aren't blending in with the ocean(harder to fix I guess)</strike>. (EDIT: these were of course the edges of the 'island' not the cubewater(which is pretty good).<br><br>I noticed you use B3D's for terrain, but I prefer to have a <a href="/post.php?topic=101892&amp;post=1212887" target="_blank">very huge deformable BlitzTerrain</a> from a heightmap and using a 'greenmap' where each color is representing a different vegetation type(like trees, bush, grass and waterplants). But perhaps there's a performance hit when using that approach over this method?<br><br>I'm curious to see what it will look like with Fastextension's shadows and post rendering effects applied (among other things). <br><br></td></tr></table><br>
<a name="1331440"></a>

<a name="1331441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RemiD and Steve, your expertease upon which I totally agree, is highly appreciated.<br><br>Yeah Van Zan is one cool ehrm... "Coffeeville!" ^^ I was actually inspired by "reign of fire" (a dragons hunter) and may use some references.<br><br>Definitely, a lot of work including your excellent suggestions are yet to be done. But the big picture is a new game idea and market niche of which the concept of a 3D action adventure ist just a part, almost just the wrapping. Hopefully, I can pull this off.<br><br>Cya <br><br></td></tr></table><br>
<a name="1331533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> @jfk&gt;&gt;about the dragons turns moves animations and behavior i suggest to take a look at the game "drakan order of the flame", it may give you some ideas... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
