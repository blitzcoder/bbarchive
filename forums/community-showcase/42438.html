<!DOCTYPE html><html lang="en" ><head ><title >Documenta</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Documenta</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Documenta</a><br><br>
<a name="475430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a little something to generate nicer module documentation. It's not done yet, so you'll see some stuff missing. Use it if you like, and feel free to add to it.<br><br>It eats your mod folder and spits out a document folder :)<br><br><b>Warning: It overwrites your original BlitzMax Command Reference. Use at your own risk!</b><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'
' Documenta.bmx
' BlitzMax Module Documentation Generator
'
' Version: 0.77 (with modifications from Perturbatio)
' Purpose: To create nice help files for BlitzMax.
' Author:  Mikkel Fredborg
'
' Warning: Use this at your own risk! It will overwrite your original BlitzMax
'          Command Reference. Please make sure to back up the documents before
'          running Documenta!
' 
' ToDo: Add better (less hardcoded) css formatting (and make it prettier).
'       Add the ability to import additional comments files.
'       Comment code :)
'
' History: 
'		   0.77 - automatically retrieve bmax folder so that it will run without need to configure
'          0.76 - Added url to module source so that the IDE can open it (PERTURBATIO)
'		   0.75 - Relative file paths
'          0.71 - Compatible with BlitzMax 1.03
'          0.7  - Converts language reference and user guide!
'          0.65 - Minor tweaks
'          0.6  - Navbar works with Firefox
'                 Overwrites original Blitzmax module documentation!!!
'          0.5  - Auto fixes table layout/style
'                 Fix Intro formatting
'          0.4  - Recognizes Global function definitions (ie. Global AppArgs$[]="bbAppArgs")
'          0.3  - Skip Private and Extern sections
'                 Exclude modules which doesn't have any functions
'          0.2  - Examples and Module introductions are included
'          0.1  - Basic stuff
'

'
' Change this to your BlitzMax folder
Global bmaxfolder:String = getenv_("BMXPATH")

'
' Modify these if you want extra stuff
Const SKIP_PRIVATE	= True		' Skips commands private to a module
Const SKIP_EXTERN	= False		' Skip extern commands
Const SKIP_NONDOCED = False		' Skip non documented commands

'
' Fix up path if it isn't slashed
bmaxfolder = StripSlash(bmaxfolder)+"/"
bmaxfolder = bmaxfolder.Replace("\","/")
If FileType(StripSlash(bmaxfolder)) = 0
	Notify "Incorrect BlitzMax folder!~n~q"+bmaxfolder+"~q!"
	End
EndIf

'
' Destination folder...only works correctly if it's the bmax folder :)
Global destfolder:String = bmaxfolder

'
' Warn if overwriting
If bmaxfolder = destfolder
	If Proceed("Warning!~n~nThis will overwrite some of the original BlitzMax help files.~nPlease make sure you have a backup of your 'BlitzMax/doc/bmxmods' folder!~n~nDo you wish to continue?",True)&lt;&gt;1
		Print "User aborted...What a sissy :)"
		End
	EndIf
EndIf

'
' Do NOT modify
Const linefeed:String = "~r~n"
Const htmlext:String = ".html"
Const backuppre:String = "documenta_backup_"

Global modlist:TList = New TList
Global funlist:TList = New TList
Global CSS_List:TList = New TList

Type dmod
	
	Field docfile:String

	Field file:String
	Field name:String
	Field info:String
	Field intro:String
	Field funclist:TList = New TList
	
	Method New()
		modlist.addlast Self
	End Method
	
	Method AddFunction:dfunc()
		Local f:dfunc = New dfunc
		f.mymod = Self
		Self.funclist.addlast f
		funlist.addlast f
		Return f
	End Method
	
	Method compare:Int(otherObj:Object)
		Local m:dmod = dmod(otherObj)
		If Not m Then Return 1
		Return Self.name.compare(m.name)
	End Method
End Type

Type dfunc
	Field name:String
	Field sname:String
	Field param:String
	Field desc:String
	Field rets:String
	Field about:String
	Field example:String
	Field exfile:String
	Field mymod:dmod
	
	Field keyword:Int
	
	Method compare:Int(otherObj:Object)
		Local f:dfunc = dfunc(otherObj)
		If Not f Then Return 1
		Return Self.sname.compare(f.sname)
	End Method
End Type

'
' Converted from:
' &lt;a href="http://www.codeguru.com/Cpp/misc/misc/fileanddirectorynaming/article.php/c263/" target="_blank"&gt;www.codeguru.com/Cpp/misc/misc/fileanddirectorynaming/article.php/c263/&lt;/a&gt;
'
Function GetRelativeFilename:String(currentDirectory:String, absoluteFilename:String)
	
	Local slash			= Asc("/")

	currentDirectory = currentDirectory.Replace("\","/")
	absoluteFilename = absoluteFilename.Replace("\","/")

	If currentDirectory[currentDirectory.length-1]&lt;&gt;slash
		currentDirectory:+"/"
	EndIf
	
	Local afMarker:Int	= 0
	Local rfMarker:Int	= 0
	Local cdLen:Int		= 0
	Local afLen:Int		= 0
	Local i:Int			= 0
	Local levels:Int	= 0
	Local relativeFilename:String

	cdLen = currentDirectory.length
	afLen = absoluteFilename.length

	' Handle DOS names that are on different drives:
	If (Lower(Chr(currentDirectory[0])) &lt;&gt; Lower(Chr(absoluteFilename[0])))
		' Not on the same drive, so only absolute filename will do
		relativeFilename = absoluteFilename
		Return relativeFilename
	EndIf

	' they are on the same drive, find out how much of the current directory
	' is in the absolute filename
	i = 3
	While((i &lt; afLen) And (i &lt; cdLen) And (Lower(Chr(currentDirectory[i])) = Lower(Chr(absoluteFilename[i]))))
		i:+1
	Wend
	
	If (i = cdLen And (absoluteFilename[i] = slash Or absoluteFilename[i-1] = slash))
		' the whole current directory name is in the file name,
		' so we just trim off the current directory name to get the
		' current file name.
		If(absoluteFilename[i] = slash)
			' a directory name might have a trailing slash but a relative
			' file name should not have a leading one...
			i:+1
		EndIf

		relativeFilename = absoluteFilename[i..afLen]
		Return relativeFilename
	EndIf


	' The file is not in a child directory of the current directory, so we
	' need to step back the appropriate number of parent directories by
	' using "..\"s.  First find out how many levels deeper we are than the
	' common directory
	afMarker = i;
	levels = 1;

	' count the number of directory levels we have to go up to get to the
	' common directory
	While(i &lt; cdLen)
		i:+1
		If(currentDirectory[i] = slash)
			' make sure it's not a trailing slash
			i:+1
			If i&lt;cdLen'(currentDirectory[i] != '\0')
				levels:+1
			EndIf
		EndIf
	Wend

	' move the absolute filename marker back to the start of the directory name
	' that it has stopped in.
	While(afMarker &gt; 0 And absoluteFilename[afMarker-1] &lt;&gt; slash)
		afMarker:-1
	Wend

	' add the appropriate number of "../"s.
	rfMarker = 0;
	For i = 0 Until levels
		relativeFilename:+"../"
	Next

	' copy the rest of the filename into the result string
	relativeFilename:+absoluteFilename[afMarker..afLen]

	Return relativeFilename
	
End Function

'
' Scans the BlitzMax module folder to find all modules
Function ScanModFolder(f:String)

	f = StripSlash(f)

	Local files:String[]
	files = LoadDir(f,True)
	
	'
	' Find module files
	For Local fi:String = EachIn files
		If KeyDown(KEY_ESCAPE) Then Exit

		Local file:String = f+"/"+fi
		If FileType(file)=1
			If Lower(fi[fi.length-4..fi.length])=".bmx"
				ScanBMXFile(file)
			EndIf
		Else
			ScanModFolder(file)
		EndIf
		
		FlushMem
	Next
	
End Function

'
' Scans a .bmx file and extracts info from modules
Function ScanBMXFile(file:String)
	
	Local m:dmod
	
	Local bbdoc:String
	Local returns:String
	Local about:String
	
	Local scanmode:Int = 0
	Local keyword:Int = False
	
	Local inextern:Int = False
	Local inprivate:Int = False
	
	Local temp:String
	Local temp2:String
	Local f1:Int
	Local f2:Int
	
	Local stream = ReadFile(file)
	If stream
		While Not Eof(stream)
			l:String = ReadLine(stream)
			
			If SKIP_EXTERN
				If Lower(l[0..6]) = "extern"
					inextern = True
				EndIf
				If Lower(l[0..9]) = "endextern" Or Lower(l[0..10]) = "end extern"
					inextern = False
				EndIf
			EndIf

			If SKIP_PRIVATE
				If Lower(l[0..7]) = "private"
					inprivate = True
				EndIf
				If Lower(l[0..6]) = "public" 
					inprivate = False
				EndIf
			EndIf			
			
			If inextern = False And inprivate = False
			If m = Null
				'
				' module name
				If Lower(l[0..7]) = "module "
					m = New dmod
					m.file = file
					m.name = FormatString(l[7..l.length])
					m.info = "&lt;tr&gt;&lt;td class=~qmodinfoleft~q&gt;Module&lt;/td&gt;&lt;td class=~qmodinforight~q&gt;"+m.name+"&lt;/td&gt;&lt;/tr&gt;"+linefeed
				EndIf
			Else
				'
				' Module info
				If Lower(l[0..10]) = "moduleinfo"
					f1 = l.find("~q",0)+1
					f2 = l.find("~q",f1)
					If f1&gt;0 And f2&gt;0
						temp = l[f1..f2]
						f1 = temp.find(":",0)
						If f1
							temp2 = FormatString(temp[0..f1])
							temp = FormatString(temp[f1+1..temp.length])
						EndIf
						m.info = m.info+"&lt;tr&gt;&lt;td class=~qmodinfoleft~q&gt;"+temp2+"&lt;/td&gt;&lt;td class=~qmodinforight~q&gt;"+temp+"&lt;/td&gt;&lt;/tr&gt;"+linefeed
					EndIf
				EndIf
				
				Local ol = l.length
				
				If Lower(l[0..6])="bbdoc:"
					l = l[6..l.length]
					scanmode = 1
				EndIf

				If Lower(l[0..8])="returns:"
					l = l[8..l.length]
					scanmode = 2
				EndIf
				
				If Lower(l[0..6])="about:"
					l = l[6..l.length]
					scanmode = 3
				EndIf
				
				If scanmode
					If Lower(l[0..6])="endrem" Or Lower(l[0..7])="end rem" Or ol &lt; 2
						scanmode = False
					Else
						If scanmode = 1 bbdoc = bbdoc+FormatString(l,True)+" "
						If scanmode = 2 returns = returns+FormatString(l,True)+" "
						If scanmode = 3 about = about+FormatString(l,True)+" "
					EndIf
				EndIf

				If keyword
					If f:dfunc
						f.desc = bbdoc
						f.rets = returns
						f.about = about
					EndIf
				EndIf

 				If Lower(l[0..7])="global "
 					If bbdoc = ""
 						l = ".."+l
 					EndIf
 				EndIf
					
				If Lower(l[0..9])="function " Or Lower(l[0..9])="keyword: " Or Lower(l[0..7])="global "
					f:dfunc = m.addfunction()
					
					If Lower(l[0..9])="function "
						f.desc	= bbdoc
						f.rets	= returns
						f.about = about
						keyword = False

						f1 = l.find("(")
						f.name = l[9..f1]
						f1 = f1+1
						f2 = l.length
						Local level = 1
						For Local i = f1 Until l.length
							If l[i] = Asc("(") Then level:+1
							If l[i] = Asc(")") Then level:-1
							If level = 0 
								f2 = i
								Exit
							EndIf
						Next
						f.param = l[f1..f2]
					ElseIf Lower(l[0..9])="keyword: "
						keyword = True
						f.name = l[9..l.length]
						f.name = f.name.Replace("~q","")
						f.name = f.name.Trim()
						f.keyword = True
					Else
						keyword = False
						f.name = l[7..l.find("=")]+"()"
						f.name = f.name.Trim()
						f.keyword = True

						f.desc	= bbdoc
						f.rets	= returns
						f.about = about
						keyword = False						
					EndIf
					
					bbdoc = ""
					returns = ""
					about = ""
					
					f.sname = f.name
					For i = 0 Until f.sname.length
						If f.sname[i] = Asc("$") Or f.sname[i] = Asc("#") Or f.sname[i] = Asc("%") Or f.sname[i] = Asc(":") Or f.sname[i] = Asc("!")
							f.sname = f.sname[0..i]
							Exit
						EndIf
					Next
				EndIf
				
			EndIf
			EndIf
		Wend
		CloseFile(stream)
	EndIf
	
	If m &lt;&gt; Null
		Print file
	EndIf
	
	Return m&lt;&gt;Null
	
End Function

'
' Formats a string with links, styles etc.
Function FormatString:String(s:String,aboutmode:Int=False)
	
	Local f1:Int,f2:Int,i:Int
	Local link:String
	
	'
	' Remove non printable characters before and after
	s = s.Trim()
	
	'
	' Remove starting break
	If Lower(s[0..4]) = "&lt;br&gt;"
		s = s[4..s.length]
		s = s.Trim()
	EndIf
	
	'
	' We don't like &lt;p&gt;
	s = s.Replace("&lt;p&gt;","&lt;br&gt;&lt;br&gt;")
	s = s.Replace("&lt;/p&gt;","&lt;br&gt;&lt;br&gt;")
	
	'
	' Fix tables
	s = s.Replace("&lt;table&gt;","&lt;table class=~qsubtable~q&gt;")
	s = s.Replace("&lt;th&gt;","&lt;th class=~qsubth~q&gt;")
	s = s.Replace("&lt;td&gt;","&lt;td class=~qsubtd~q&gt;")
		
	'
	' Auto fix http:// links
	f1 = s.find("http://")
	f2 = s.length
	If f1=&gt;0
		For i = f1 Until s.length
			If s[i]&lt;=32
				f2 = i
				Exit
			EndIf
		Next
		link:String = s[f1..f2]
		s = s[0..f1]+"&lt;a href=~q"+link+"~q target=~q_blank~q&gt;"+link+"&lt;/a&gt;"+s[f2..s.length]
	EndIf
	
	If aboutmode
	
		'
		' bbdoc #something = link to another function
		Repeat
			f1 = s.find("#")
			f2 = s.length
			If f1=&gt;0
				For i = f1 Until s.length
					If s[i]&lt;=32 Or s[i]=Asc(",") Or s[i]=Asc(".") Or s[i]=Asc(")") Or s[i]=Asc("(")
						f2 = i
						Exit
					EndIf
				Next
				link:String = s[f1+1..f2]
				s = s[0..f1]+"&lt;a href=~q***"+link+"~q&gt;"+link+"&lt;/a&gt;"+s[f2..s.length]
			EndIf
		Until f1&lt;0
		
		'
		' bbdoc @something = Parameter description
		Repeat
			f1 = s.find("@")
			f2 = s.length
			If f1=&gt;0
				For i = f1 Until s.length
					If s[i]&lt;=32 Or s[i]=Asc(",") Or s[i]=Asc(".") Or s[i]=Asc(")") Or s[i]=Asc("(")
						f2 = i
						Exit
					EndIf
				Next
				link:String = s[f1+1..f2]
				s = s[0..f1]+"&lt;font class=~qfuncparam~q&gt;"+link+"&lt;/font&gt;"+s[f2..s.length]
			EndIf
		Until f1&lt;0
	EndIf
	
	Return s
	
End Function

'
' Fixes up HTML files to look nicer
Function ReformatHTML:String(s:String,isIntro:Int=False)
	
	' Remove header
	s = RemoveSection(s,"&lt;head&gt;","&lt;/head&gt;")

	'
	' Fix tables
	s = ReplaceSection(s,"&lt;table","&gt;","&lt;table class=~qsubtable~q&gt;")
	s = ReplaceSection(s,"&lt;th","&gt;","&lt;th class=~qsubth~q&gt;")
	s = ReplaceSection(s,"&lt;td","&gt;","&lt;td class=~qsubtd~q&gt;")

	If isIntro
		' Remove original title
		s = RemoveSection(s,"&lt;h1&gt;","&lt;/h1&gt;")
		'
		' Add some stuff :)
		s = "&lt;h2&gt;Introduction&lt;/h2&gt;"+s
	Else
		'
		' Fix title
		s = s.Replace("&lt;h1&gt;","&lt;tr&gt;&lt;td class=~qmodulename~q&gt;")
		s = s.Replace("&lt;/h1&gt;","&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;")
	EndIf
		
	' Remove html and body tags
	s = s.Replace("&lt;html&gt;","")
	s = s.Replace("&lt;/html&gt;","")
	s = s.Replace("&lt;body&gt;","")
	s = s.Replace("&lt;/body&gt;","")
	s = s.Trim()	

	'
	' We don't like &lt;p&gt;
	s = s.Replace("&lt;p&gt;","&lt;br&gt;&lt;br&gt;")
	s = s.Replace("&lt;/p&gt;","&lt;br&gt;&lt;br&gt;")
	
	'
	' Replace styling
	s = s.Replace("class=syntax","class=~qfuncparam~q")
	s = s.Replace("class=token","class=~qfuncname~q")
		
	'
	' Fix headings
	s = s.Replace("&lt;h2&gt;","&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=~qmoduleintrohead~q&gt;")
	s = s.Replace("&lt;/h2&gt;","&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;")
		
	Return s
	
End Function

'
' Fixes up navbar.html to look nicer
Function ReformatNavbar:String(s:String)

	' Remove header
	s = RemoveSection(s,"&lt;head&gt;","&lt;/head&gt;")

	' Remove html and body tags
	s = s.Replace("&lt;html&gt;","")
	s = s.Replace("&lt;/html&gt;","")
	s = s.Replace("&lt;body&gt;","")
	s = s.Replace("&lt;/body&gt;","")
	s = s.Trim()
	
	' Replace &lt;bold&gt; tag
	s = s.Replace("&lt;b&gt;","&lt;div class=~qnav~q&gt;")
	s = s.Replace("&lt;/b&gt;","&lt;/div&gt;")
	
	' Remove &lt;br&gt; tags
	s = s.Replace("&lt;br&gt;","")
	
	' fix styles
	s = s.Replace("class=null","class=~qnavmodlink~q")
	s = s.Replace("&lt;a","&lt;div class=~qnavmod~q&gt;&lt;a")
	s = s.Replace("&lt;/a&gt;","&lt;/a&gt;&lt;/div&gt;")

	Return s
	
End Function

'
' Removes a section of string 's' between 'a' and 'b'.
' If 'all' is true 'a' and 'b' is removed as well.
Function RemoveSection:String(s:String,a:String,b:String,all:Int=True)
	
	Local f1 = s.find(a)
	If f1=&gt;0
		Local f2 = s.find(b,f1)
		If f2=&gt;0
			If all
				s = s[0..f1]+s[f2+b.length..s.length]
			Else
				s = s[0..f1+a.length]+s[f2..s.length]
			EndIf
		EndIf
	EndIf
	
	Return s
	
End Function

Function ReplaceSection:String(s:String,a:String,b:String,repl:String)
	
	Local f1 = 0
	While f1=&gt;0
		f1 = s.find(a,f1)
		If f1=&gt;0
			Local f2 = s.find(b,f1)
			If f2=&gt;0
				s = s[0..f1]+repl+s[f2+b.length..s.length]
			EndIf
			f1:+1
		EndIf
	Wend
	
	Return s
	
End Function 

'
' Fixes html links to functions/commands
Function FixFunctionRefs:String(s:String,m:dmod)

	Local f1 = 0
	While f1=&gt;0
			
		f1 = s.find("***",f1)
		If f1=&gt;0
			Local f2 = s.find("~q",f1+3)
			If f2=&gt;0
				Local funname:String = s[f1+3..f2]
				Local found = False
				'
				' Check the same mod first
				For ff:dfunc = EachIn m.funclist
					If Lower(ff.sname) = Lower(funname)
						s = s[0..f1]+"#"+ff.sname+s[f2..s.length]
						found = True
					EndIf
				Next
					
				If found = False	
					'
					' Check other mods, if the reference is not within the same mod
					For ff:dfunc = EachIn funlist
						If Lower(ff.sname) = Lower(funname)
							relFile:String = GetRelativeFilename(ExtractDir(m.docfile),ff.mymod.docfile)
							s = s[0..f1]+relFile+"#"+ff.sname+s[f2..s.length]
						EndIf
					Next	
				EndIf				
			EndIf
			f1 = f1+1
		EndIf
				
	Wend
	
	Return s
	
End Function

'
' Finds Example source files for commands, and intro.html files
' if they exist for the different modules and functions.
Function FindExamples(modsfolder:String)
	
	For m:dmod = EachIn modlist
		Local intro:String = Lower(ExtractDir(m.file)+"/doc/intro.html")
		Local stream = ReadFile(intro)
		If stream
			Local size = StreamSize(stream)
			If size&gt;0
				m.intro = ReadString(stream,size)
				m.intro = ReformatHTML(m.intro,True)
				Print m.name+" -&gt; introduction found!"
			EndIf
			CloseFile stream
		EndIf
		
		FlushMem		
	Next
	
	For f:dfunc = EachIn funlist
		Local example:String = Lower(ExtractDir(f.mymod.file)+"/doc/"+f.sname+".bmx")
		stream = ReadFile(example)
		If stream
			size = StreamSize(stream)
			If size&gt;0
				f.exfile = example
				f.example = ReadString(stream,size)
				Print f.sname+" -&gt; example found!"
			EndIf
			CloseFile stream
		EndIf
		
		FlushMem
	Next
	
End Function

'
' Writes the module documents
Function WriteModDocs()
	
	Local stream
	Local modsfolder:String = bmaxfolder+"mod"
	Local outfolder:String = destfolder+"doc/bmxmods"
	
	outfolder = StripSlash(outfolder)
	
	If FileType(outfolder) = 0
		Assert CreateDir(outfolder),"Couldn't create destination folder!"
	EndIf
	
	Print "Scanning for modules..."
	ScanModFolder(modsfolder)
	
	Print "Scanning for examples..."
	FindExamples(modsfolder)
		
	For m:dmod = EachIn modlist
		m.docfile:String = Lower(ExtractDir(m.file)+"/doc/commands.html")
	Next
	
	'
	' Remove commands with no documentation
	If SKIP_NONDOCED
		For f:dfunc = EachIn funlist
			If f.rets.length = 0 And f.desc.length = 0 And f.about.length = 0
				ListRemove(f.mymod.funclist,f)
				ListRemove(funlist,f)
			EndIf
		Next
	EndIf
	
	'
	' Sort out cross references
	For f:dfunc = EachIn funlist
		f.about = FixFunctionRefs(f.about,f.mymod)
	Next
	For m:dmod = EachIn modlist
		m.intro = FixFunctionRefs(m.intro,m)
	Next

	modlist.sort

	Print modlist.count()+" Modules found!"

	Print "Writing Commands.txt..."
	stream = WriteFile(bmaxfolder+"doc/bmxmods/commands.txt")
	If stream
		For f:dfunc = EachIn funlist
			
			relFile:String = f.mymod.docfile'GetRelativeFilename(bmaxfolder,f.mymod.docfile)
			relFile = relFile[Len(StripSlash(bmaxfolder))..]
			If f.keyword = False
				Print "RELFILE:"+relFile
				WriteLine(stream,f.name+"("+f.param+")|"+relFile+"#"+f.sname)
			Else
				WriteLine(stream,f.name+"|"+relFile+"#"+f.sname)
			EndIf
		Next
		CloseFile stream
	Else
		Notify "Couldn't write commands.txt"
	EndIf

	Print "Writing Module Documents..."
		
	'
	' Write module doc files
	For m:dmod = EachIn modlist
		
		destdir:String = ExtractDir(m.docfile)
		If FileType(destdir) = 0
			If CreateDir(destdir) = False
				Notify("Couldn't create 'doc/' folder for module:~n~q"+m.name+"~q")
			EndIf
		EndIf
		
		stream = WriteFile(m.docfile)
		
		If stream
			' html header
			WriteLine(stream,"&lt;html&gt;")
			WriteLine(stream,"&lt;head&gt;")
			relFile:String = GetRelativeFilename(ExtractDir(m.docfile),bmaxfolder+"doc/bmxmods/docs.css")
			WriteLine(stream,"&lt;link rel=styleSheet href=~q"+relFile+"~q type='text/css'&gt;")
			WriteLine(stream,"&lt;/head&gt;")
			WriteLine(stream,"&lt;body class=~qbody~q&gt;")

			' module name
			WriteLine(stream,"&lt;table width=100% class=~qbody~q&gt;")
			WriteLine(stream,"&lt;tr&gt;&lt;td class=~qmodulename~q&gt;&lt;a href=~qfile://" + m.file +"~q&gt; "+m.name+"&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;")
				
			' module intro
			WriteLine(stream,"&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;"+m.intro+"&lt;/td&gt;&lt;/tr&gt;")
				
			' module functions
			If m.funclist.count()&gt;0
				m.funclist.sort
				WriteLine(stream,"&lt;tr&gt;&lt;td class=~qbody~q&gt;")
				For f:dfunc = EachIn m.funclist
					WriteLine(stream,"&lt;table class=~qfunctionbox~q&gt;&lt;tr&gt;&lt;td class=~qfunchead~q colspan=2 id=~q"+f.sname+"~q&gt;")
					If f.keyword = False
						WriteLine(stream,f.name+"(&lt;font class=~qfuncparam~q&gt;"+f.param+"&lt;/font&gt;)")
					Else
						WriteLine(stream,f.name)
					EndIf
					WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;")

					If f.rets.length 
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Returns&lt;/td&gt;")
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;"+f.rets+"&lt;/td&gt;&lt;/tr&gt;")
					EndIf
						
					If f.desc.length
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Short description&lt;/td&gt;")
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;"+f.desc+"&lt;/td&gt;&lt;/tr&gt;")
					EndIf
						
					If f.about.length
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Long description&lt;/td&gt;")
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;"+f.about+"&lt;/td&gt;&lt;/tr&gt;")
					EndIf
						
					If f.example.length
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Example&lt;/td&gt;")
						relFile:String = GetRelativeFilename(ExtractDir(m.docfile),f.exfile)
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;&lt;a href=~q"+relFile+"~q target=~q_blank~q class=~qexample~q&gt;&lt;pre&gt;"+f.example+"&lt;/pre&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;")
					EndIf
					'
					' Remember to fetch examples???
						
					WriteLine(stream,"&lt;/table&gt;&lt;br&gt;")
				Next
				WriteLine stream,"&lt;/td&gt;&lt;/tr&gt;"
			EndIf
				
			' module info
			WriteLine(stream,"&lt;tr&gt;&lt;td class=~qbody~q&gt;")
			Local out:String = "&lt;table class=~qmodinfobox~q&gt;"+linefeed+"&lt;tr&gt;&lt;td colspan=2 class=~qmodinfohead~q&gt;Module Info&lt;/tr&gt;&lt;/td&gt;"+linefeed+m.info+linefeed+"&lt;/table&gt;"
			WriteLine(stream,out)		
			WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
			WriteLine(stream,"&lt;/body&gt;")
			WriteLine(stream,"&lt;/html&gt;")
			CloseFile stream
		Else
			Notify "Couldn't create output file:~n~q"+m.docfile+"~q"
		EndIf
	
	Next
	
	Print "Writing Navigation Document..."
		
	'
	' Write navigation file
	Local navfile:String = bmaxfolder+"doc/bmxmods/navbar.html"
	stream = WriteFile(navfile)
	If stream

		' html header
		WriteLine(stream,"&lt;html&gt;")
		WriteLine(stream,"&lt;head&gt;")
		WriteLine(stream,"&lt;link rel=styleSheet href=~qdocs.css~q type='text/css'&gt;")
		WriteLine(stream,"&lt;script&gt;")
		WriteLine(stream,"// Do we use DOM or not?")
		WriteLine(stream,"var dom = (document.getElementById &amp;&amp; !document.all)? 1: 0;")
		WriteLine(stream,"function toggle(the_id)")
		WriteLine(stream,"{")
		WriteLine(stream,"	var obj = (dom)? document.getElementById(the_id): document.all[the_id];")
		WriteLine(stream,"	if(obj.style.display == 'inline'){")
		WriteLine(stream,"		obj.style.visibility = 'hidden';")
		WriteLine(stream,"		obj.style.display = 'none';")
		WriteLine(stream,"	}else{")
		WriteLine(stream,"		obj.style.visibility = 'visible';")
		WriteLine(stream,"		obj.style.display = 'inline';")
		WriteLine(stream,"	}")
		WriteLine(stream,"}")
		WriteLine(stream,"&lt;/script&gt;")
		WriteLine(stream,"&lt;/head&gt;")
		WriteLine(stream,"&lt;body&gt;")

		' module list
		WriteLine(stream,"&lt;table width=~q200px~q&gt;&lt;tr&gt;&lt;td&gt;")
		WriteLine(stream,"&lt;div class=~qnav~q&gt;By Module&lt;/div&gt;")
		For m:dmod = EachIn modlist
			Local id:String = m.name.Replace(".","_")
			Local first = True
			For f:dfunc = EachIn m.funclist
				If first
					relFile:String = GetRelativeFilename(ExtractDir(navfile),m.docfile)
					WriteLine(stream,"&lt;div class=~qnavmod~q&gt;&lt;a class=~qnavmodlink~q onClick=~qtoggle('"+id+"')~q href=~q"+relFile+"~q target=~qmain~q&gt;"+m.name+"&lt;/a&gt;&lt;/div&gt;")
					WriteLine(stream,"&lt;div id=~q"+id+"~q class=~qnavfunclist~q&gt;")
					first = False
				EndIf
				WriteLine(stream,"&lt;div class=~qnavfunc~q&gt;&lt;a class=~qnavfunclink~q href=~q"+relFile+"#"+f.sname+"~q target=~qmain~q&gt;"+f.sname+"&lt;/a&gt;&lt;/div&gt;")
			Next
			If first = False
				WriteLine(stream,"&lt;/div&gt;")
			EndIf
		Next
		WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;")
			
		' alphabetical function list
		WriteLine(stream,"&lt;div class=~qnav~q&gt;&lt;br&gt;Alphabetical&lt;/div&gt;")
		funlist.sort
		alp:String = "_ABCDEFGHIJKLMNOPQRSTUVWXYZ"
		For Local char:Int = 0 Until alp.length
			s:String = Chr(alp[char])
			id:String = "Alpha_"+s
			first = True
			For f:dfunc = EachIn funlist
				If Upper(Chr(f.sname[0]))=s
					If first
						WriteLine(stream,"&lt;div class=~qnavmod~q&gt;&lt;a class=~qnavmodlink~q href=~qjavascript:toggle('"+id+"')~q&gt;"+s+"&lt;/a&gt;&lt;/div&gt;")
						WriteLine(stream,"&lt;div id=~q"+id+"~q class=~qnavfunclist~q&gt;")
						first = False
					EndIf
					relFile:String = GetRelativeFilename(ExtractDir(navfile),f.mymod.docfile)
					WriteLine(stream,"&lt;div class=~qnavfunc~q&gt;&lt;a class=~qnavfunclink~q href=~q"+relFile+"#"+f.sname+"~q target=~qmain~q&gt;"+f.sname+"&lt;/a&gt;&lt;/div&gt;")
				EndIf
			Next
			If first = False
				WriteLine(stream,"&lt;/div&gt;")
			EndIf
		Next
		WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
		WriteLine(stream,"&lt;/body&gt;")
		WriteLine(stream,"&lt;/html&gt;")
			
		CloseFile stream
	Else
		Notify "Couldn't create output file:~n~q"+navfile+"~q"
	EndIf
		
	WriteIndexFile(bmaxfolder+"doc/bmxmods/index.html")
		
	GenerateCSSFile(outfolder)
	
End Function

'
' Write index.html file
Function WriteIndexFile(indfile:String)

	Print "Writing Index Document..."
	stream = WriteFile(indfile)
	If stream
		WriteLine(stream,"&lt;html&gt;&lt;head&gt;")
		WriteLine(stream,"&lt;title&gt;BlitzMax Command Reference&lt;/title&gt;")
		WriteLine(stream,"&lt;/head&gt;")
		WriteLine(stream,"&lt;frameset cols='230,*'&gt;")
		WriteLine(stream,"&lt;frame src=~qnavbar.html~q name=~qnavbar~q&gt;&lt;frame src=~qwelcome.html~q name=~qmain~q&gt;")
		WriteLine(stream,"&lt;/frameset&gt;")
		WriteLine(stream,"&lt;/html&gt;")
		CloseFile stream
	Else
		Notify "Couldn't create output file:~n~q"+indfile+"~q"
	EndIf
	
End Function

'
' Converts non module documents to the same style
Function ConvertDocs()

	Local checkfolder:String[] = [bmaxfolder+"doc/bmxmods",bmaxfolder+"doc/bmxlang",bmaxfolder+"doc/bmxuser"]	
	
	Local stream
	Local size
	Local folder:String
	Local files:String[]
	Local file:String
	Local fi:String
	Local s:String

	For folder = EachIn checkfolder
		'
		' Backup original html files
		BackupFolder(folder,["htm","html"])

		files = LoadDir(folder,True)

		For fi = EachIn files
			
			file = folder+"/"+fi
			
			If FileType(file)=1
				'
				' This file is an original html file that's
				' been backed up. We use that to generate the new
				' docs.
				If file.find(backuppre)=&gt;0 

					Local f1:Int = file.find(backuppre)
					Local targetfile:String = file[0..f1]+file[f1+backuppre.length..file.length]

					stream = ReadFile(file)
					If stream
						size = StreamSize(stream)
						If size&gt;0
							s:String = ReadString(stream,size)
						EndIf
						CloseFile stream

						If targetfile.find("navbar")=&gt;0
							' Navigation bar
							s = ReformatNavbar(s)

							stream = WriteFile(targetfile)
							If stream
								' html header
								WriteLine(stream,"&lt;html&gt;")
								WriteLine(stream,"&lt;head&gt;")
								WriteLine(stream,"&lt;link rel=styleSheet href=~qdocs.css~q type='text/css'&gt;")
								WriteLine(stream,"&lt;script&gt;")
								WriteLine(stream,"// Do we use DOM or not?")
								WriteLine(stream,"var dom = (document.getElementById &amp;&amp; !document.all)? 1: 0;")
								WriteLine(stream,"function toggle(the_id)")
								WriteLine(stream,"{")
								WriteLine(stream,"	var obj = (dom)? document.getElementById(the_id): document.all[the_id];")
								WriteLine(stream,"	if(obj.style.display == 'inline'){")
								WriteLine(stream,"		obj.style.visibility = 'hidden';")
								WriteLine(stream,"		obj.style.display = 'none';")
								WriteLine(stream,"	}else{")
								WriteLine(stream,"		obj.style.visibility = 'visible';")
								WriteLine(stream,"		obj.style.display = 'inline';")
								WriteLine(stream,"	}")
								WriteLine(stream,"}")
								WriteLine(stream,"&lt;/script&gt;")
								WriteLine(stream,"&lt;/head&gt;")
								WriteLine(stream,"&lt;body&gt;")
	
								' nav list
								WriteLine(stream,"&lt;table width=~q200px~q&gt;&lt;tr&gt;&lt;td&gt;")
									
								WriteLine(stream,s)
					
								WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
								WriteLine(stream,"&lt;/body&gt;")
								WriteLine(stream,"&lt;/html&gt;")
								
								CloseFile stream 
							Else
								Notify "Unable to write file:~n~q"+targetfile+"~q!",True
								End
							EndIf							
						Else
							' Regular html doc
							s = ReformatHTML(s)

							stream = WriteFile(targetfile)
							If stream
								' html header
								WriteLine(stream,"&lt;html&gt;")
								WriteLine(stream,"&lt;head&gt;")
								WriteLine(stream,"&lt;link rel=styleSheet href=~qfile://"+folder+"/docs.css~q type='text/css'&gt;")
								WriteLine(stream,"&lt;/head&gt;")
								WriteLine(stream,"&lt;body class=~qbody~q&gt;")
								WriteLine(stream,"&lt;table width=95% class=~qbody~q&gt;")
								WriteLine(stream,"&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;")
								WriteString(stream,s)
								WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
								WriteLine(stream,"&lt;/body&gt;")
								WriteLine(stream,"&lt;/html&gt;")
								CloseFile stream
							Else
								Notify "Unable to write file:~n~q"+targetfile+"~q!",True
								End
							EndIf
						EndIf
					EndIf
				EndIf
			EndIf
		Next
				
		GenerateCSSFile(folder)
		WriteIndexFile(folder+"/index.html")
	Next
	
End Function

'
' Backups all files with certain extensions in a folder
Function BackupFolder(folder:String,extensions:String[])
	
	Local backitup:Int
	Local fi:String
	Local file:String
	Local ext:String
	Local files:String[]
	files = LoadDir(folder,True)

	For fi = EachIn files
			
		file = folder+"/"+fi
			
		If FileType(file)=1
			If file.find(backuppre)&lt;0 

				backitup = False
				
				If extensions.length = 0
					backitup = True
				EndIf
				
				For ext = EachIn extensions
					If Lower(ExtractExt(file)) = ext
						backitup = True
					EndIf
				Next
				
				If backitup
					If BackupFile(file)
						Print "Backing up: ~q"+file+"~q..."
					EndIf
				EndIf
			EndIf
		EndIf
		
		FlushMem
	Next
		
End Function

'
' Backups a single file, only if a backup doesn't already exist,
' unless the force flag is set
Function BackupFile(file:String,force:Int=False)

	Local backupfile:String = ExtractDir(file)+"/"+backuppre+StripDir(file)

	If FileType(backupfile) = 0 Or force = True
		Local stream = ReadFile(file)
		If stream
			Local size = StreamSize(stream)
			If size&gt;0
				Local s:String = ReadString(stream,size)
			EndIf
			CloseFile stream

			stream = WriteFile(backupfile)
			If stream
				WriteString(stream,s)
				CloseFile stream
			Else
				Notify "Unable to backup file:~n~q"+file+"~q!",True
				End
			EndIf
		Else
			Return False
		EndIf
	Else
		Return False
	EndIf

	Return True

End Function

'
' Creates a CSS file containing a style sheet
Function GenerateCSSFile(outfolder:String)

	Print "Writing CSS Document..."
	Local c:CSS_Class
	
	ClearList(CSS_List)
	
	Local cssfile:String = outfolder+"/docs.css"
	stream = WriteFile(cssfile)
	If stream
		c:CSS_Class = New CSS_Class
		c.name 			= ".body"
		c.background 	= "#FFFFFF"
		c.border		= "0px"
		c.font			= "10pt helvetica"
		c.width			= "100%"
		
		c:CSS_Class = New CSS_Class
		c.name			= ".modulename"
		c.font			= "20pt helvetica"
		c.background	= "#FFFFFF"
		c.border_bottom	= "20px solid #FFFFFF"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".moduleintro"
		c.font			= "10pt helvetica"
		c.background	= "#FFFFFF"
		c.border_bottom = "20px solid #FFFFFF"
		c.padding_left	= "20px"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".moduleintrohead"
		c.font			= "15pt helvetica"
		c.padding_left	= "0px"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".functionbox"
		c.padding_top	= "20px"
		c.font			= "10pt helvetica"
		c.width			= "100%"
						
		c:CSS_Class = New CSS_Class
		c.name			= ".funchead"
		c.padding		= "10px"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px Solid #BBCCDD"
		c.font_weight	= "bold"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".funcname"
		c.font_style	= "normal"
		c.font_weight	= "bold"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".funcparam"
		c.font_style	= "italic"
		c.font_weight	= "normal"

		c:CSS_Class = New CSS_Class
		c.name			= ".funcleft"
		c.font_weight	= "normal"
		c.padding		= "10px"
		c.font			= "8pt helvetica"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px solid #BBCCDD"
		c.width			= "15%"
		c.v_align		= "text-top"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".funcright"
		c.font			= "10pt helvetica"
		c.font_style	= "normal"
		c.font_weight	= "normal"
		c.background	= "#DDEEFF"
		c.border_bottom	= "1px solid #CCDDEE"
		c.padding		= "10px"
		c.width			= "85%"
						
		'
		'
		' Module info box
		c:CSS_Class = New CSS_Class
		c.name			= ".modinfobox"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".modinfohead"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px solid #BBCCDD"
		c.font			= "8pt helvetica"
		c.padding		= "10px"
		c.font			= "10pt helvetica"
		c.font_weight	= "bold"
		c.width			= "100%"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".modinfoleft"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px solid #BBCCDD"
		c.font			= "8pt helvetica"
		c.padding_left	= "10px"
		c.width			= "15%"

		c:CSS_Class = New CSS_Class
		c.name			= ".modinforight"
		c.background	= "#DDEEFF"
		c.font			= "8pt helvetica"
		c.border_bottom	= "1px solid #CCDDEE"
		c.padding_left	= "10px"
		c.width			= "85%"
			
		'
		'
		' Navigation Bar
		c:CSS_Class = New CSS_Class
		c.name			= ".nav"
		c.font			= "10pt helvetica"
		c.width			= "100%"
		c.border_top	= "2px solid #FFFFFF"
		c.padding		= "0px"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".navfunclist"
		c.display		= "none"
		c.visibility	= "hidden"
		c.font			= "10pt helvetica"
		c.border		= "0px"
						
		c:CSS_Class = New CSS_Class
		c.name			= ".navmod"
		c.background	= "#CCDDEE"
		c.border_top	= "2px solid #FFFFFF"
		c.border_bottom	= "1px solid #BBCCDD"
		c.font			= "10pt helvetica"
		c.padding_left	= "10px"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".navfunc"
		c.padding_left	= "20px"
		c.background	= "#DDEEFF"
		c.border_top	= "2px solid #FFFFFF"
		c.border_bottom	= "1px solid #CCDDEE"
		
		'
		' Table stuff
		c:CSS_Class = New CSS_Class
		c.name				= ".subtable"
		c.font				= "10pt helvetica"
		c.background		= "#FFFFFF"
		
		c:CSS_Class = New CSS_Class
		c.name				= ".subth"
		c.font				= "10pt helvetica"
		c.font_weight		= "bold"
		c.text_align		= "left"
		c.background		= "#CCDDEE"
		c.border_bottom		= "1px solid #BBCCDD"
		c.padding_left		= "10px"
		c.padding_right		= "10px"
			
		c:CSS_Class = New CSS_Class
		c.name				= ".subtd"
		c.font				= "10pt helvetica"
		c.font_weight		= "normal"
		c.text_align		= "left"
		c.background		= "#DDEEFF"
		c.border_top		= "0px solid #FFFFFF"
		c.border_bottom		= "1px solid #CCDDEE"
		c.padding_left		= "10px"
		c.padding_right		= "10px"
			
		'
		' Hyperlink stuff
		c:CSS_Class = New CSS_Class
		c.name				= "a"
		c.color				= "#000000"

		c:CSS_Class = New CSS_Class
		c.name				= "a:hover"
		c.color				= "#445566"

		c:CSS_Class = New CSS_Class
		c.name				= "a.navmodlink"
		c.font_weight		= "bold"
		c.width				= "100%"
		c.text_decoration	= "none"
			
		c:CSS_Class = New CSS_Class
		c.name				= "a.navfunclink"
		c.text_decoration	= "none"
		c.width				= "100%"

		c:CSS_Class = New CSS_Class
		c.name				= "a.example"
		c.color				= "#000000"
		c.text_decoration	= "none"
		c.width				= "100%"

		c:CSS_Class = New CSS_Class
		c.name				= "pre"
		c.padding			= "10px"
		c.background		= "#EEF8FF"
		
		For c:CSS_Class = EachIn CSS_List
			c.Write(stream)
		Next
		CloseFile stream
	Else
		Notify "Couldn't create output file:~n~q"+cssfile+"~q"
	EndIf
	
End Function

'
' CSS_Class type, utillity class to ease writing of css files
Type CSS_Class

	Field name:String
	Field display:String
	Field background:String
	Field cell_spacing:String
	Field border:String
	Field border_bottom:String
	Field border_left:String
	Field border_top:String
	Field border_right:String
	Field color:String
	Field padding:String
	Field padding_left:String
	Field padding_right:String
	Field padding_top:String
	Field padding_bottom:String
	Field font:String
	Field font_style:String
	Field font_weight:String
	Field text_decoration:String
	Field width:String
	Field max_width:String
	Field min_width:String
	Field height:String
	Field max_height:String
	Field min_height:String
	Field v_align:String
	Field text_align:String
	Field visibility:String
		
	Method New()
		CSS_List.addlast Self
	End Method
	
	Method Write(stream)
		WriteLine(stream,Self.name+" {")
		If Self.visibility.length		Then WriteLine(stream,"  visibility: "+Self.visibility+";")
		If Self.display.length			Then WriteLine(stream,"  display: "+Self.display+";")
		If Self.color.length			Then WriteLine(stream,"  color: "+Self.color+";")
		If Self.font.length				Then WriteLine(stream,"  font: "+Self.font+";")
		If Self.font_style.length		Then WriteLine(stream,"  font-style: "+Self.font_style+";")
		If Self.font_weight.length		Then WriteLine(stream,"  font-weight: "+Self.font_weight+";")
		If Self.text_decoration.length	Then WriteLine(stream,"  text-decoration: "+Self.text_decoration+";")		
		If Self.width.length			Then WriteLine(stream,"  width: "+Self.width+";")		
		If Self.max_width.length		Then WriteLine(stream,"  max-width: "+Self.max_width+";")
		If Self.min_width.length		Then WriteLine(stream,"  min-width: "+Self.min_width+";")
		If Self.height.length			Then WriteLine(stream,"  height: "+Self.height+";")	
		If Self.max_height.length		Then WriteLine(stream,"  max-height: "+Self.max_height+";")	
		If Self.min_height.length		Then WriteLine(stream,"  min-height: "+Self.min_height+";")	
		If Self.background.length		Then WriteLine(stream,"  background: "+Self.background+";")
		If Self.border.length			Then WriteLine(stream,"  border: "+Self.border+";")
		If Self.border_bottom.length	Then WriteLine(stream,"  border-bottom: "+Self.border_bottom+";")
		If Self.border_left.length		Then WriteLine(stream,"  border-left: "+Self.border_left+";")
		If Self.border_right.length		Then WriteLine(stream,"  border-right: "+Self.border_right+";")
		If Self.border_top.length		Then WriteLine(stream,"  border-top: "+Self.border_top+";")
		If Self.padding.length			Then WriteLine(stream,"  padding: "+Self.padding+";")
		If Self.padding_bottom.length	Then WriteLine(stream,"  padding-bottom: "+Self.padding_bottom+";")
		If Self.padding_left.length		Then WriteLine(stream,"  padding-left: "+Self.padding_left+";")
		If Self.padding_right.length	Then WriteLine(stream,"  padding-right: "+Self.padding_right+";")
		If Self.padding_top.length		Then WriteLine(stream,"  padding-top: "+Self.padding_top+";")
		If Self.cell_spacing.length		Then WriteLine(stream,"  cell-spacing: "+Self.cell_spacing+";")
		If Self.v_align.length			Then WriteLine(stream,"  vertical-align: "+Self.v_align+";")
		If Self.text_align.length		Then WriteLine(stream,"  text-align: "+Self.text_align+";")

		WriteLine(stream,"}")
		WriteLine(stream,"")
	End Method
	
End Type


'
' Convert normal docs :)
ConvertDocs()

'
' Write the Module docs :)
WriteModDocs()

Print "Finished!"


</textarea><br>It spits out html files, looking something like this:<br><img src="http://www.frecle.net/misc/documenta.jpg"><br>Have Fun! <br><br></td></tr></table><br>
<a name="475437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool :)  the menu page could do with a bit of tidying. <br><br></td></tr></table><br>
<a name="475439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, it's not done yet :) <br><br></td></tr></table><br>
<a name="475441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> just need to add a &lt;BR&gt; after the &lt;/span&gt; <br><br></td></tr></table><br>
<a name="475480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dirk Krause</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> way cool :-). <br><br></td></tr></table><br>
<a name="475503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> clever <br><br></td></tr></table><br>
<a name="475515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Added some extra bits, so intro.html files are automatically included, and examples as well. There might be a few minor bugs with the intro.html, because it's being reformatted, and it might mess up a few links. <br><br></td></tr></table><br>
<a name="475525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I like this - do me one too <br><br></td></tr></table><br>
<a name="475548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work fred. <br><br></td></tr></table><br>
<a name="475611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nicely done! Like Doxygen for Blitz! You rule Fred!! Works fine on the Mac. Had to fiddle with the directory structure of course but minimal hassle! <br><br></td></tr></table><br>
<a name="475669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sarge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> best thing i have seen for blitzmax good work mate <br><br></td></tr></table><br>
<a name="475680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flaith</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> damned, it's really good :)<br>ok with ie, but i use FireFox and pb with navbar, it doesn't expand :( <br><br></td></tr></table><br>
<a name="475681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flying willy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's way better than the existing help files!<br><br>Perhaps BRL would do well to use this style. It can only improve the product... <br><br></td></tr></table><br>
<a name="475753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> *EDIT*<br>Never mind, I messed up.<br><br>However, the fancy drop down css doesn't work in anything except IE. :\<br><br>I take that back, it works in Konquerer as well. <br><br></td></tr></table><br>
<a name="475892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> awesome. Mark, notice :) <br><br></td></tr></table><br>
<a name="476048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't work correctly in FireFox at the moment, I'll try and figure out why later (I know that FF does support the display property in CSS) <br><br></td></tr></table><br>
<a name="476069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated! It now works with FireFox (and most over browsers I assume).<br><br><b>And it now overwrites your original BlitzMax command reference, so that you can use F1 to bring it up inside the IDE.<br><br>Please make sure to back up the original documentation before running it!<br><br>Use at your own risk!</b> <br><br></td></tr></table><br>
<a name="476075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >regaa</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> How to enter yes, or no? I cant hit any buttons when the question come, overwrite or not. Confirm does not work for me :( . <br><br></td></tr></table><br>
<a name="476087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> On linux or Windows? It works for me on windows...<br><br>[Edit] Try copying the source over again, I changed the confirm alert to a proceed alert...If it still doesn't work, just remove the alert. <br><br></td></tr></table><br>
<a name="476093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flaith</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Again : Damned, it's really good<br>thanks for the firefox's fix :) <br><br></td></tr></table><br>
<a name="476095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> REALLY COOL! :D<br><br>ty! <br><br></td></tr></table><br>
<a name="476195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> great work fredborg ! <br><br></td></tr></table><br>
<a name="476250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quite stunning. <br><br></td></tr></table><br>
<a name="476340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> OOOOH great job fredborg!!!  If I finish my bmax parser (atm grapling with making a fast uber split function), you can use it for highlighting in the samples. <br><br></td></tr></table><br>
<a name="476387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Absolutely great! Looks good in Firefox over here. Thanks Fredborg. <br><br></td></tr></table><br>
<a name="476390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flying willy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>feature suggestion</b><br>Have documenta overwrite the other help files as well and combine with www.blitzwiki.org so it comprehensively updates.<br><br>The idea is that if you do a syncmods, you can also do a syncdocs, which will run the program, fix the docs and also take the stuff from the blitzwiki project online.<br><br>This will mean very powerful local docs, but it may be really hard to do.<br><br>It's worth thinking about though. <br><br></td></tr></table><br>
<a name="476501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AaronK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Todd is the guy who set up the Wiki, and he might know enough about it to get fredborg's output into a Wiki format. That would be excellent.<br><br>Aaron <br><br></td></tr></table><br>
<a name="476514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get: <br><br>"C:/Programmer/Coding/BlitzMax/Samples/documenta.debug"<br>Unhandled Exception: Couldn't create destination folder!<br>WriteDocs [f:\blitzmax\mod\brl.mod\filesystem.mod/filesystem.bmx;82;41]<br>documenta [C:\Programmer\Coding\BlitzMax\Samples/documenta.bmx;1062;1]<br><br>I set the Const bmaxfolder:String = "C:/Programmer/Coding/BlitzMax"<br><br>[EDIT] also tried : "C:\Programme\Coding\BlitzMax" <br><br>I don't have an f drive. <br><br></td></tr></table><br>
<a name="476520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> "C:/Programmer/Coding/BlitzMax/" made it work <br><br></td></tr></table><br>
<a name="476522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very Nice Work, Fredborg! <br><br></td></tr></table><br>
<a name="476529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> skunk - that could be possible, even applicable since the pages are stored as xml, and it would be possible to scan through it for the headers and if it is following the rules of construction make it into the standard formats.  For pages not in the correct form, the default bb docs could be used, and the page added to a list of non-compliant pages.<br><br>[edit]Actually, you can view this xml by going to http://www.blitzwiki.org/index.php/Special:Export , and entering the pages you want to view. for instance "ResizeBank"<br><br>This isnt actually what i was expecting, i was hoping for more of a xhtml representation of the actiol contents but ohwell. it could be possible if something like the wikipedia database dump could be created:<br><br><a href="http://download.wikimedia.org/" target="_blank">http://download.wikimedia.org/</a> <br><br></td></tr></table><br>
<a name="476634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated to convert all help files including Language Reference  and User Guide.<br><br>It also creates backups of all the documents, except the individual module documents. These are automatically regenerated if you run 'BMK makedocs'.<br><br>I will add a rollback option, so you may revert to the original documents. <br><br></td></tr></table><br>
<a name="476636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> got an error about the bmax folder variable being const, changing to global solves it obviously. <br><br></td></tr></table><br>
<a name="476637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strange, bmaxfolder is a global :) <br><br></td></tr></table><br>
<a name="476648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> oops, I think it was from the old code (I kept my bmaxfolder variable and never noticed it had changed to global) :) <br><br></td></tr></table><br>
<a name="476669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flaith</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> great, nice work<br>just one thing, about alphabetical order ( From A to Z :) )<br>What about functions starting with "_" like "_cls()" ? <br><br></td></tr></table><br>
<a name="482200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poet</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks much better than the original.<br>But some of the docs in the /mod/pub are not converted...<br><br>Mipooh <br><br></td></tr></table><br>
<a name="483393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there anyway to get max to document your own projects ?? <br><br></td></tr></table><br>
<a name="483475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yavin: 'bmk docmods' in the commandline.  It doesn't document types or methods though, so if you want that you're out of luck. <br><br></td></tr></table><br>
<a name="483659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey rad! Thanks for that tip! I was wondering the same thing Yavin! Thanks Noel! <br><br></td></tr></table><br>
<a name="483769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Add it to your sig, fredborg! <br><br></td></tr></table><br>
<a name="484182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >{cYan|de}</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> bombs out on <br>release f  <br><br>subexpression for release must be int blah etc <br><br></td></tr></table><br>
<a name="484249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you've updated to the 1.03 version, you need to change those lines to f=null, etc <br><br></td></tr></table><br>
<a name="484295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>It should work with 1.03 now, and also with the official BMax IDE. At least on windows :) <br><br></td></tr></table><br>
<a name="484297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does indeed :)<br><br>*EDIT*<br>Hmmm... quickhelp is giving me problems.<br><br><pre class=code>---------------------------
Microsoft Internet Explorer
---------------------------
Cannot find 'C:/BlitzMaxBeta101/doc/bmxmods/c:/blitzmaxbeta101/mod/brl.mod/filesystem.mod/doc/commands.html#FileType'.
 Make sure the path or Internet address is correct.
---------------------------
OK   
---------------------------
</pre><br><br>*EDIT*<br>deleting commands.txt and redoing it seemed to work. <br><br></td></tr></table><br>
<a name="485702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Pearmain</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> awesome work, that looks so much more professional now, well done <br><br></td></tr></table><br>
<a name="485798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaVirus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, thanks!  Works nicely in the Mac editor as well. <br><br></td></tr></table><br>
<a name="488939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> in function WriteModDocs<br><br>change the line that writes the module name to:<br><pre class=code>			WriteLine(stream,"&lt;tr&gt;&lt;td class=~qmodulename~q&gt;&lt;a href=~qfile://" + m.file +"~q&gt; "+m.name+"&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;")</pre><br>You can then click the module name to open the module source :) <br><br></td></tr></table><br>
<a name="520200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated it, no need to change the bmxfolder variable to your installation (and added url to mod title so that the mod can be opened in the IDE):<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'
' Documenta.bmx
' BlitzMax Module Documentation Generator
'
' Version: 0.77 (with modifications from Perturbatio)
' Purpose: To create nice help files for BlitzMax.
' Author:  Mikkel Fredborg
'
' Warning: Use this at your own risk! It will overwrite your original BlitzMax
'          Command Reference. Please make sure to back up the documents before
'          running Documenta!
' 
' ToDo: Add better (less hardcoded) css formatting (and make it prettier).
'       Add the ability to import additional comments files.
'       Comment code :)
'
' History: 
'		   0.77 - automatically retrieve bmax folder so that it will run without need to configure
'          0.76 - Added url to module source so that the IDE can open it (PERTURBATIO)
'		   0.75 - Relative file paths
'          0.71 - Compatible with BlitzMax 1.03
'          0.7  - Converts language reference and user guide!
'          0.65 - Minor tweaks
'          0.6  - Navbar works with Firefox
'                 Overwrites original Blitzmax module documentation!!!
'          0.5  - Auto fixes table layout/style
'                 Fix Intro formatting
'          0.4  - Recognizes Global function definitions (ie. Global AppArgs$[]="bbAppArgs")
'          0.3  - Skip Private and Extern sections
'                 Exclude modules which doesn't have any functions
'          0.2  - Examples and Module introductions are included
'          0.1  - Basic stuff
'

'
' Change this to your BlitzMax folder
Global bmaxfolder:String = getenv_("BMXPATH")

'
' Modify these if you want extra stuff
Const SKIP_PRIVATE	= True		' Skips commands private to a module
Const SKIP_EXTERN	= False		' Skip extern commands
Const SKIP_NONDOCED = False		' Skip non documented commands

'
' Fix up path if it isn't slashed
bmaxfolder = StripSlash(bmaxfolder)+"/"
bmaxfolder = bmaxfolder.Replace("\","/")
If FileType(StripSlash(bmaxfolder)) = 0
	Notify "Incorrect BlitzMax folder!~n~q"+bmaxfolder+"~q!"
	End
EndIf

'
' Destination folder...only works correctly if it's the bmax folder :)
Global destfolder:String = bmaxfolder

'
' Warn if overwriting
If bmaxfolder = destfolder
	If Proceed("Warning!~n~nThis will overwrite some of the original BlitzMax help files.~nPlease make sure you have a backup of your 'BlitzMax/doc/bmxmods' folder!~n~nDo you wish to continue?",True)&lt;&gt;1
		Print "User aborted...What a sissy :)"
		End
	EndIf
EndIf

'
' Do NOT modify
Const linefeed:String = "~r~n"
Const htmlext:String = ".html"
Const backuppre:String = "documenta_backup_"

Global modlist:TList = New TList
Global funlist:TList = New TList
Global CSS_List:TList = New TList

Type dmod
	
	Field docfile:String

	Field file:String
	Field name:String
	Field info:String
	Field intro:String
	Field funclist:TList = New TList
	
	Method New()
		modlist.addlast Self
	End Method
	
	Method AddFunction:dfunc()
		Local f:dfunc = New dfunc
		f.mymod = Self
		Self.funclist.addlast f
		funlist.addlast f
		Return f
	End Method
	
	Method compare:Int(otherObj:Object)
		Local m:dmod = dmod(otherObj)
		If Not m Then Return 1
		Return Self.name.compare(m.name)
	End Method
End Type

Type dfunc
	Field name:String
	Field sname:String
	Field param:String
	Field desc:String
	Field rets:String
	Field about:String
	Field example:String
	Field exfile:String
	Field mymod:dmod
	
	Field keyword:Int
	
	Method compare:Int(otherObj:Object)
		Local f:dfunc = dfunc(otherObj)
		If Not f Then Return 1
		Return Self.sname.compare(f.sname)
	End Method
End Type

'
' Converted from:
' &lt;a href="http://www.codeguru.com/Cpp/misc/misc/fileanddirectorynaming/article.php/c263/" target="_blank"&gt;www.codeguru.com/Cpp/misc/misc/fileanddirectorynaming/article.php/c263/&lt;/a&gt;
'
Function GetRelativeFilename:String(currentDirectory:String, absoluteFilename:String)
	
	Local slash			= Asc("/")

	currentDirectory = currentDirectory.Replace("\","/")
	absoluteFilename = absoluteFilename.Replace("\","/")

	If currentDirectory[currentDirectory.length-1]&lt;&gt;slash
		currentDirectory:+"/"
	EndIf
	
	Local afMarker:Int	= 0
	Local rfMarker:Int	= 0
	Local cdLen:Int		= 0
	Local afLen:Int		= 0
	Local i:Int			= 0
	Local levels:Int	= 0
	Local relativeFilename:String

	cdLen = currentDirectory.length
	afLen = absoluteFilename.length

	' Handle DOS names that are on different drives:
	If (Lower(Chr(currentDirectory[0])) &lt;&gt; Lower(Chr(absoluteFilename[0])))
		' Not on the same drive, so only absolute filename will do
		relativeFilename = absoluteFilename
		Return relativeFilename
	EndIf

	' they are on the same drive, find out how much of the current directory
	' is in the absolute filename
	i = 3
	While((i &lt; afLen) And (i &lt; cdLen) And (Lower(Chr(currentDirectory[i])) = Lower(Chr(absoluteFilename[i]))))
		i:+1
	Wend
	
	If (i = cdLen And (absoluteFilename[i] = slash Or absoluteFilename[i-1] = slash))
		' the whole current directory name is in the file name,
		' so we just trim off the current directory name to get the
		' current file name.
		If(absoluteFilename[i] = slash)
			' a directory name might have a trailing slash but a relative
			' file name should not have a leading one...
			i:+1
		EndIf

		relativeFilename = absoluteFilename[i..afLen]
		Return relativeFilename
	EndIf


	' The file is not in a child directory of the current directory, so we
	' need to step back the appropriate number of parent directories by
	' using "..\"s.  First find out how many levels deeper we are than the
	' common directory
	afMarker = i;
	levels = 1;

	' count the number of directory levels we have to go up to get to the
	' common directory
	While(i &lt; cdLen)
		i:+1
		If(currentDirectory[i] = slash)
			' make sure it's not a trailing slash
			i:+1
			If i&lt;cdLen'(currentDirectory[i] != '\0')
				levels:+1
			EndIf
		EndIf
	Wend

	' move the absolute filename marker back to the start of the directory name
	' that it has stopped in.
	While(afMarker &gt; 0 And absoluteFilename[afMarker-1] &lt;&gt; slash)
		afMarker:-1
	Wend

	' add the appropriate number of "../"s.
	rfMarker = 0;
	For i = 0 Until levels
		relativeFilename:+"../"
	Next

	' copy the rest of the filename into the result string
	relativeFilename:+absoluteFilename[afMarker..afLen]

	Return relativeFilename
	
End Function

'
' Scans the BlitzMax module folder to find all modules
Function ScanModFolder(f:String)

	f = StripSlash(f)

	Local files:String[]
	files = LoadDir(f,True)
	
	'
	' Find module files
	For Local fi:String = EachIn files
		If KeyDown(KEY_ESCAPE) Then Exit

		Local file:String = f+"/"+fi
		If FileType(file)=1
			If Lower(fi[fi.length-4..fi.length])=".bmx"
				ScanBMXFile(file)
			EndIf
		Else
			ScanModFolder(file)
		EndIf
		
		FlushMem
	Next
	
End Function

'
' Scans a .bmx file and extracts info from modules
Function ScanBMXFile(file:String)
	
	Local m:dmod
	
	Local bbdoc:String
	Local returns:String
	Local about:String
	
	Local scanmode:Int = 0
	Local keyword:Int = False
	
	Local inextern:Int = False
	Local inprivate:Int = False
	
	Local temp:String
	Local temp2:String
	Local f1:Int
	Local f2:Int
	
	Local stream = ReadFile(file)
	If stream
		While Not Eof(stream)
			l:String = ReadLine(stream)
			
			If SKIP_EXTERN
				If Lower(l[0..6]) = "extern"
					inextern = True
				EndIf
				If Lower(l[0..9]) = "endextern" Or Lower(l[0..10]) = "end extern"
					inextern = False
				EndIf
			EndIf

			If SKIP_PRIVATE
				If Lower(l[0..7]) = "private"
					inprivate = True
				EndIf
				If Lower(l[0..6]) = "public" 
					inprivate = False
				EndIf
			EndIf			
			
			If inextern = False And inprivate = False
			If m = Null
				'
				' module name
				If Lower(l[0..7]) = "module "
					m = New dmod
					m.file = file
					m.name = FormatString(l[7..l.length])
					m.info = "&lt;tr&gt;&lt;td class=~qmodinfoleft~q&gt;Module&lt;/td&gt;&lt;td class=~qmodinforight~q&gt;"+m.name+"&lt;/td&gt;&lt;/tr&gt;"+linefeed
				EndIf
			Else
				'
				' Module info
				If Lower(l[0..10]) = "moduleinfo"
					f1 = l.find("~q",0)+1
					f2 = l.find("~q",f1)
					If f1&gt;0 And f2&gt;0
						temp = l[f1..f2]
						f1 = temp.find(":",0)
						If f1
							temp2 = FormatString(temp[0..f1])
							temp = FormatString(temp[f1+1..temp.length])
						EndIf
						m.info = m.info+"&lt;tr&gt;&lt;td class=~qmodinfoleft~q&gt;"+temp2+"&lt;/td&gt;&lt;td class=~qmodinforight~q&gt;"+temp+"&lt;/td&gt;&lt;/tr&gt;"+linefeed
					EndIf
				EndIf
				
				Local ol = l.length
				
				If Lower(l[0..6])="bbdoc:"
					l = l[6..l.length]
					scanmode = 1
				EndIf

				If Lower(l[0..8])="returns:"
					l = l[8..l.length]
					scanmode = 2
				EndIf
				
				If Lower(l[0..6])="about:"
					l = l[6..l.length]
					scanmode = 3
				EndIf
				
				If scanmode
					If Lower(l[0..6])="endrem" Or Lower(l[0..7])="end rem" Or ol &lt; 2
						scanmode = False
					Else
						If scanmode = 1 bbdoc = bbdoc+FormatString(l,True)+" "
						If scanmode = 2 returns = returns+FormatString(l,True)+" "
						If scanmode = 3 about = about+FormatString(l,True)+" "
					EndIf
				EndIf

				If keyword
					If f:dfunc
						f.desc = bbdoc
						f.rets = returns
						f.about = about
					EndIf
				EndIf

 				If Lower(l[0..7])="global "
 					If bbdoc = ""
 						l = ".."+l
 					EndIf
 				EndIf
					
				If Lower(l[0..9])="function " Or Lower(l[0..9])="keyword: " Or Lower(l[0..7])="global "
					f:dfunc = m.addfunction()
					
					If Lower(l[0..9])="function "
						f.desc	= bbdoc
						f.rets	= returns
						f.about = about
						keyword = False

						f1 = l.find("(")
						f.name = l[9..f1]
						f1 = f1+1
						f2 = l.length
						Local level = 1
						For Local i = f1 Until l.length
							If l[i] = Asc("(") Then level:+1
							If l[i] = Asc(")") Then level:-1
							If level = 0 
								f2 = i
								Exit
							EndIf
						Next
						f.param = l[f1..f2]
					ElseIf Lower(l[0..9])="keyword: "
						keyword = True
						f.name = l[9..l.length]
						f.name = f.name.Replace("~q","")
						f.name = f.name.Trim()
						f.keyword = True
					Else
						keyword = False
						f.name = l[7..l.find("=")]+"()"
						f.name = f.name.Trim()
						f.keyword = True

						f.desc	= bbdoc
						f.rets	= returns
						f.about = about
						keyword = False						
					EndIf
					
					bbdoc = ""
					returns = ""
					about = ""
					
					f.sname = f.name
					For i = 0 Until f.sname.length
						If f.sname[i] = Asc("$") Or f.sname[i] = Asc("#") Or f.sname[i] = Asc("%") Or f.sname[i] = Asc(":") Or f.sname[i] = Asc("!")
							f.sname = f.sname[0..i]
							Exit
						EndIf
					Next
				EndIf
				
			EndIf
			EndIf
		Wend
		CloseFile(stream)
	EndIf
	
	If m &lt;&gt; Null
		Print file
	EndIf
	
	Return m&lt;&gt;Null
	
End Function

'
' Formats a string with links, styles etc.
Function FormatString:String(s:String,aboutmode:Int=False)
	
	Local f1:Int,f2:Int,i:Int
	Local link:String
	
	'
	' Remove non printable characters before and after
	s = s.Trim()
	
	'
	' Remove starting break
	If Lower(s[0..4]) = "&lt;br&gt;"
		s = s[4..s.length]
		s = s.Trim()
	EndIf
	
	'
	' We don't like &lt;p&gt;
	s = s.Replace("&lt;p&gt;","&lt;br&gt;&lt;br&gt;")
	s = s.Replace("&lt;/p&gt;","&lt;br&gt;&lt;br&gt;")
	
	'
	' Fix tables
	s = s.Replace("&lt;table&gt;","&lt;table class=~qsubtable~q&gt;")
	s = s.Replace("&lt;th&gt;","&lt;th class=~qsubth~q&gt;")
	s = s.Replace("&lt;td&gt;","&lt;td class=~qsubtd~q&gt;")
		
	'
	' Auto fix http:// links
	f1 = s.find("http://")
	f2 = s.length
	If f1=&gt;0
		For i = f1 Until s.length
			If s[i]&lt;=32
				f2 = i
				Exit
			EndIf
		Next
		link:String = s[f1..f2]
		s = s[0..f1]+"&lt;a href=~q"+link+"~q target=~q_blank~q&gt;"+link+"&lt;/a&gt;"+s[f2..s.length]
	EndIf
	
	If aboutmode
	
		'
		' bbdoc #something = link to another function
		Repeat
			f1 = s.find("#")
			f2 = s.length
			If f1=&gt;0
				For i = f1 Until s.length
					If s[i]&lt;=32 Or s[i]=Asc(",") Or s[i]=Asc(".") Or s[i]=Asc(")") Or s[i]=Asc("(")
						f2 = i
						Exit
					EndIf
				Next
				link:String = s[f1+1..f2]
				s = s[0..f1]+"&lt;a href=~q***"+link+"~q&gt;"+link+"&lt;/a&gt;"+s[f2..s.length]
			EndIf
		Until f1&lt;0
		
		'
		' bbdoc @something = Parameter description
		Repeat
			f1 = s.find("@")
			f2 = s.length
			If f1=&gt;0
				For i = f1 Until s.length
					If s[i]&lt;=32 Or s[i]=Asc(",") Or s[i]=Asc(".") Or s[i]=Asc(")") Or s[i]=Asc("(")
						f2 = i
						Exit
					EndIf
				Next
				link:String = s[f1+1..f2]
				s = s[0..f1]+"&lt;font class=~qfuncparam~q&gt;"+link+"&lt;/font&gt;"+s[f2..s.length]
			EndIf
		Until f1&lt;0
	EndIf
	
	Return s
	
End Function

'
' Fixes up HTML files to look nicer
Function ReformatHTML:String(s:String,isIntro:Int=False)
	
	' Remove header
	s = RemoveSection(s,"&lt;head&gt;","&lt;/head&gt;")

	'
	' Fix tables
	s = ReplaceSection(s,"&lt;table","&gt;","&lt;table class=~qsubtable~q&gt;")
	s = ReplaceSection(s,"&lt;th","&gt;","&lt;th class=~qsubth~q&gt;")
	s = ReplaceSection(s,"&lt;td","&gt;","&lt;td class=~qsubtd~q&gt;")

	If isIntro
		' Remove original title
		s = RemoveSection(s,"&lt;h1&gt;","&lt;/h1&gt;")
		'
		' Add some stuff :)
		s = "&lt;h2&gt;Introduction&lt;/h2&gt;"+s
	Else
		'
		' Fix title
		s = s.Replace("&lt;h1&gt;","&lt;tr&gt;&lt;td class=~qmodulename~q&gt;")
		s = s.Replace("&lt;/h1&gt;","&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;")
	EndIf
		
	' Remove html and body tags
	s = s.Replace("&lt;html&gt;","")
	s = s.Replace("&lt;/html&gt;","")
	s = s.Replace("&lt;body&gt;","")
	s = s.Replace("&lt;/body&gt;","")
	s = s.Trim()	

	'
	' We don't like &lt;p&gt;
	s = s.Replace("&lt;p&gt;","&lt;br&gt;&lt;br&gt;")
	s = s.Replace("&lt;/p&gt;","&lt;br&gt;&lt;br&gt;")
	
	'
	' Replace styling
	s = s.Replace("class=syntax","class=~qfuncparam~q")
	s = s.Replace("class=token","class=~qfuncname~q")
		
	'
	' Fix headings
	s = s.Replace("&lt;h2&gt;","&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=~qmoduleintrohead~q&gt;")
	s = s.Replace("&lt;/h2&gt;","&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;")
		
	Return s
	
End Function

'
' Fixes up navbar.html to look nicer
Function ReformatNavbar:String(s:String)

	' Remove header
	s = RemoveSection(s,"&lt;head&gt;","&lt;/head&gt;")

	' Remove html and body tags
	s = s.Replace("&lt;html&gt;","")
	s = s.Replace("&lt;/html&gt;","")
	s = s.Replace("&lt;body&gt;","")
	s = s.Replace("&lt;/body&gt;","")
	s = s.Trim()
	
	' Replace &lt;bold&gt; tag
	s = s.Replace("&lt;b&gt;","&lt;div class=~qnav~q&gt;")
	s = s.Replace("&lt;/b&gt;","&lt;/div&gt;")
	
	' Remove &lt;br&gt; tags
	s = s.Replace("&lt;br&gt;","")
	
	' fix styles
	s = s.Replace("class=null","class=~qnavmodlink~q")
	s = s.Replace("&lt;a","&lt;div class=~qnavmod~q&gt;&lt;a")
	s = s.Replace("&lt;/a&gt;","&lt;/a&gt;&lt;/div&gt;")

	Return s
	
End Function

'
' Removes a section of string 's' between 'a' and 'b'.
' If 'all' is true 'a' and 'b' is removed as well.
Function RemoveSection:String(s:String,a:String,b:String,all:Int=True)
	
	Local f1 = s.find(a)
	If f1=&gt;0
		Local f2 = s.find(b,f1)
		If f2=&gt;0
			If all
				s = s[0..f1]+s[f2+b.length..s.length]
			Else
				s = s[0..f1+a.length]+s[f2..s.length]
			EndIf
		EndIf
	EndIf
	
	Return s
	
End Function

Function ReplaceSection:String(s:String,a:String,b:String,repl:String)
	
	Local f1 = 0
	While f1=&gt;0
		f1 = s.find(a,f1)
		If f1=&gt;0
			Local f2 = s.find(b,f1)
			If f2=&gt;0
				s = s[0..f1]+repl+s[f2+b.length..s.length]
			EndIf
			f1:+1
		EndIf
	Wend
	
	Return s
	
End Function 

'
' Fixes html links to functions/commands
Function FixFunctionRefs:String(s:String,m:dmod)

	Local f1 = 0
	While f1=&gt;0
			
		f1 = s.find("***",f1)
		If f1=&gt;0
			Local f2 = s.find("~q",f1+3)
			If f2=&gt;0
				Local funname:String = s[f1+3..f2]
				Local found = False
				'
				' Check the same mod first
				For ff:dfunc = EachIn m.funclist
					If Lower(ff.sname) = Lower(funname)
						s = s[0..f1]+"#"+ff.sname+s[f2..s.length]
						found = True
					EndIf
				Next
					
				If found = False	
					'
					' Check other mods, if the reference is not within the same mod
					For ff:dfunc = EachIn funlist
						If Lower(ff.sname) = Lower(funname)
							relFile:String = GetRelativeFilename(ExtractDir(m.docfile),ff.mymod.docfile)
							s = s[0..f1]+relFile+"#"+ff.sname+s[f2..s.length]
						EndIf
					Next	
				EndIf				
			EndIf
			f1 = f1+1
		EndIf
				
	Wend
	
	Return s
	
End Function

'
' Finds Example source files for commands, and intro.html files
' if they exist for the different modules and functions.
Function FindExamples(modsfolder:String)
	
	For m:dmod = EachIn modlist
		Local intro:String = Lower(ExtractDir(m.file)+"/doc/intro.html")
		Local stream = ReadFile(intro)
		If stream
			Local size = StreamSize(stream)
			If size&gt;0
				m.intro = ReadString(stream,size)
				m.intro = ReformatHTML(m.intro,True)
				Print m.name+" -&gt; introduction found!"
			EndIf
			CloseFile stream
		EndIf
		
		FlushMem		
	Next
	
	For f:dfunc = EachIn funlist
		Local example:String = Lower(ExtractDir(f.mymod.file)+"/doc/"+f.sname+".bmx")
		stream = ReadFile(example)
		If stream
			size = StreamSize(stream)
			If size&gt;0
				f.exfile = example
				f.example = ReadString(stream,size)
				Print f.sname+" -&gt; example found!"
			EndIf
			CloseFile stream
		EndIf
		
		FlushMem
	Next
	
End Function

'
' Writes the module documents
Function WriteModDocs()
	
	Local stream
	Local modsfolder:String = bmaxfolder+"mod"
	Local outfolder:String = destfolder+"doc/bmxmods"
	
	outfolder = StripSlash(outfolder)
	
	If FileType(outfolder) = 0
		Assert CreateDir(outfolder),"Couldn't create destination folder!"
	EndIf
	
	Print "Scanning for modules..."
	ScanModFolder(modsfolder)
	
	Print "Scanning for examples..."
	FindExamples(modsfolder)
		
	For m:dmod = EachIn modlist
		m.docfile:String = Lower(ExtractDir(m.file)+"/doc/commands.html")
	Next
	
	'
	' Remove commands with no documentation
	If SKIP_NONDOCED
		For f:dfunc = EachIn funlist
			If f.rets.length = 0 And f.desc.length = 0 And f.about.length = 0
				ListRemove(f.mymod.funclist,f)
				ListRemove(funlist,f)
			EndIf
		Next
	EndIf
	
	'
	' Sort out cross references
	For f:dfunc = EachIn funlist
		f.about = FixFunctionRefs(f.about,f.mymod)
	Next
	For m:dmod = EachIn modlist
		m.intro = FixFunctionRefs(m.intro,m)
	Next

	modlist.sort

	Print modlist.count()+" Modules found!"

	Print "Writing Commands.txt..."
	stream = WriteFile(bmaxfolder+"doc/bmxmods/commands.txt")
	If stream
		For f:dfunc = EachIn funlist
			
			relFile:String = f.mymod.docfile'GetRelativeFilename(bmaxfolder,f.mymod.docfile)
			relFile = relFile[Len(StripSlash(bmaxfolder))..]
			If f.keyword = False
				Print "RELFILE:"+relFile
				WriteLine(stream,f.name+"("+f.param+")|"+relFile+"#"+f.sname)
			Else
				WriteLine(stream,f.name+"|"+relFile+"#"+f.sname)
			EndIf
		Next
		CloseFile stream
	Else
		Notify "Couldn't write commands.txt"
	EndIf

	Print "Writing Module Documents..."
		
	'
	' Write module doc files
	For m:dmod = EachIn modlist
		
		destdir:String = ExtractDir(m.docfile)
		If FileType(destdir) = 0
			If CreateDir(destdir) = False
				Notify("Couldn't create 'doc/' folder for module:~n~q"+m.name+"~q")
			EndIf
		EndIf
		
		stream = WriteFile(m.docfile)
		
		If stream
			' html header
			WriteLine(stream,"&lt;html&gt;")
			WriteLine(stream,"&lt;head&gt;")
			relFile:String = GetRelativeFilename(ExtractDir(m.docfile),bmaxfolder+"doc/bmxmods/docs.css")
			WriteLine(stream,"&lt;link rel=styleSheet href=~q"+relFile+"~q type='text/css'&gt;")
			WriteLine(stream,"&lt;/head&gt;")
			WriteLine(stream,"&lt;body class=~qbody~q&gt;")

			' module name
			WriteLine(stream,"&lt;table width=100% class=~qbody~q&gt;")
			WriteLine(stream,"&lt;tr&gt;&lt;td class=~qmodulename~q&gt;&lt;a href=~qfile://" + m.file +"~q&gt; "+m.name+"&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;")
				
			' module intro
			WriteLine(stream,"&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;"+m.intro+"&lt;/td&gt;&lt;/tr&gt;")
				
			' module functions
			If m.funclist.count()&gt;0
				m.funclist.sort
				WriteLine(stream,"&lt;tr&gt;&lt;td class=~qbody~q&gt;")
				For f:dfunc = EachIn m.funclist
					WriteLine(stream,"&lt;table class=~qfunctionbox~q&gt;&lt;tr&gt;&lt;td class=~qfunchead~q colspan=2 id=~q"+f.sname+"~q&gt;")
					If f.keyword = False
						WriteLine(stream,f.name+"(&lt;font class=~qfuncparam~q&gt;"+f.param+"&lt;/font&gt;)")
					Else
						WriteLine(stream,f.name)
					EndIf
					WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;")

					If f.rets.length 
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Returns&lt;/td&gt;")
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;"+f.rets+"&lt;/td&gt;&lt;/tr&gt;")
					EndIf
						
					If f.desc.length
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Short description&lt;/td&gt;")
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;"+f.desc+"&lt;/td&gt;&lt;/tr&gt;")
					EndIf
						
					If f.about.length
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Long description&lt;/td&gt;")
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;"+f.about+"&lt;/td&gt;&lt;/tr&gt;")
					EndIf
						
					If f.example.length
						WriteLine(stream,"&lt;tr&gt;&lt;td class=~qfuncleft~q&gt;Example&lt;/td&gt;")
						relFile:String = GetRelativeFilename(ExtractDir(m.docfile),f.exfile)
						WriteLine(stream,"&lt;td class=~qfuncright~q&gt;&lt;a href=~q"+relFile+"~q target=~q_blank~q class=~qexample~q&gt;&lt;pre&gt;"+f.example+"&lt;/pre&gt;&lt;/a&gt;&lt;/td&gt;&lt;/tr&gt;")
					EndIf
					'
					' Remember to fetch examples???
						
					WriteLine(stream,"&lt;/table&gt;&lt;br&gt;")
				Next
				WriteLine stream,"&lt;/td&gt;&lt;/tr&gt;"
			EndIf
				
			' module info
			WriteLine(stream,"&lt;tr&gt;&lt;td class=~qbody~q&gt;")
			Local out:String = "&lt;table class=~qmodinfobox~q&gt;"+linefeed+"&lt;tr&gt;&lt;td colspan=2 class=~qmodinfohead~q&gt;Module Info&lt;/tr&gt;&lt;/td&gt;"+linefeed+m.info+linefeed+"&lt;/table&gt;"
			WriteLine(stream,out)		
			WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
			WriteLine(stream,"&lt;/body&gt;")
			WriteLine(stream,"&lt;/html&gt;")
			CloseFile stream
		Else
			Notify "Couldn't create output file:~n~q"+m.docfile+"~q"
		EndIf
	
	Next
	
	Print "Writing Navigation Document..."
		
	'
	' Write navigation file
	Local navfile:String = bmaxfolder+"doc/bmxmods/navbar.html"
	stream = WriteFile(navfile)
	If stream

		' html header
		WriteLine(stream,"&lt;html&gt;")
		WriteLine(stream,"&lt;head&gt;")
		WriteLine(stream,"&lt;link rel=styleSheet href=~qdocs.css~q type='text/css'&gt;")
		WriteLine(stream,"&lt;script&gt;")
		WriteLine(stream,"// Do we use DOM or not?")
		WriteLine(stream,"var dom = (document.getElementById &amp;&amp; !document.all)? 1: 0;")
		WriteLine(stream,"function toggle(the_id)")
		WriteLine(stream,"{")
		WriteLine(stream,"	var obj = (dom)? document.getElementById(the_id): document.all[the_id];")
		WriteLine(stream,"	if(obj.style.display == 'inline'){")
		WriteLine(stream,"		obj.style.visibility = 'hidden';")
		WriteLine(stream,"		obj.style.display = 'none';")
		WriteLine(stream,"	}else{")
		WriteLine(stream,"		obj.style.visibility = 'visible';")
		WriteLine(stream,"		obj.style.display = 'inline';")
		WriteLine(stream,"	}")
		WriteLine(stream,"}")
		WriteLine(stream,"&lt;/script&gt;")
		WriteLine(stream,"&lt;/head&gt;")
		WriteLine(stream,"&lt;body&gt;")

		' module list
		WriteLine(stream,"&lt;table width=~q200px~q&gt;&lt;tr&gt;&lt;td&gt;")
		WriteLine(stream,"&lt;div class=~qnav~q&gt;By Module&lt;/div&gt;")
		For m:dmod = EachIn modlist
			Local id:String = m.name.Replace(".","_")
			Local first = True
			For f:dfunc = EachIn m.funclist
				If first
					relFile:String = GetRelativeFilename(ExtractDir(navfile),m.docfile)
					WriteLine(stream,"&lt;div class=~qnavmod~q&gt;&lt;a class=~qnavmodlink~q onClick=~qtoggle('"+id+"')~q href=~q"+relFile+"~q target=~qmain~q&gt;"+m.name+"&lt;/a&gt;&lt;/div&gt;")
					WriteLine(stream,"&lt;div id=~q"+id+"~q class=~qnavfunclist~q&gt;")
					first = False
				EndIf
				WriteLine(stream,"&lt;div class=~qnavfunc~q&gt;&lt;a class=~qnavfunclink~q href=~q"+relFile+"#"+f.sname+"~q target=~qmain~q&gt;"+f.sname+"&lt;/a&gt;&lt;/div&gt;")
			Next
			If first = False
				WriteLine(stream,"&lt;/div&gt;")
			EndIf
		Next
		WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;tr&gt;&lt;td&gt;")
			
		' alphabetical function list
		WriteLine(stream,"&lt;div class=~qnav~q&gt;&lt;br&gt;Alphabetical&lt;/div&gt;")
		funlist.sort
		alp:String = "_ABCDEFGHIJKLMNOPQRSTUVWXYZ"
		For Local char:Int = 0 Until alp.length
			s:String = Chr(alp[char])
			id:String = "Alpha_"+s
			first = True
			For f:dfunc = EachIn funlist
				If Upper(Chr(f.sname[0]))=s
					If first
						WriteLine(stream,"&lt;div class=~qnavmod~q&gt;&lt;a class=~qnavmodlink~q href=~qjavascript:toggle('"+id+"')~q&gt;"+s+"&lt;/a&gt;&lt;/div&gt;")
						WriteLine(stream,"&lt;div id=~q"+id+"~q class=~qnavfunclist~q&gt;")
						first = False
					EndIf
					relFile:String = GetRelativeFilename(ExtractDir(navfile),f.mymod.docfile)
					WriteLine(stream,"&lt;div class=~qnavfunc~q&gt;&lt;a class=~qnavfunclink~q href=~q"+relFile+"#"+f.sname+"~q target=~qmain~q&gt;"+f.sname+"&lt;/a&gt;&lt;/div&gt;")
				EndIf
			Next
			If first = False
				WriteLine(stream,"&lt;/div&gt;")
			EndIf
		Next
		WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
		WriteLine(stream,"&lt;/body&gt;")
		WriteLine(stream,"&lt;/html&gt;")
			
		CloseFile stream
	Else
		Notify "Couldn't create output file:~n~q"+navfile+"~q"
	EndIf
		
	WriteIndexFile(bmaxfolder+"doc/bmxmods/index.html")
		
	GenerateCSSFile(outfolder)
	
End Function

'
' Write index.html file
Function WriteIndexFile(indfile:String)

	Print "Writing Index Document..."
	stream = WriteFile(indfile)
	If stream
		WriteLine(stream,"&lt;html&gt;&lt;head&gt;")
		WriteLine(stream,"&lt;title&gt;BlitzMax Command Reference&lt;/title&gt;")
		WriteLine(stream,"&lt;/head&gt;")
		WriteLine(stream,"&lt;frameset cols='230,*'&gt;")
		WriteLine(stream,"&lt;frame src=~qnavbar.html~q name=~qnavbar~q&gt;&lt;frame src=~qwelcome.html~q name=~qmain~q&gt;")
		WriteLine(stream,"&lt;/frameset&gt;")
		WriteLine(stream,"&lt;/html&gt;")
		CloseFile stream
	Else
		Notify "Couldn't create output file:~n~q"+indfile+"~q"
	EndIf
	
End Function

'
' Converts non module documents to the same style
Function ConvertDocs()

	Local checkfolder:String[] = [bmaxfolder+"doc/bmxmods",bmaxfolder+"doc/bmxlang",bmaxfolder+"doc/bmxuser"]	
	
	Local stream
	Local size
	Local folder:String
	Local files:String[]
	Local file:String
	Local fi:String
	Local s:String

	For folder = EachIn checkfolder
		'
		' Backup original html files
		BackupFolder(folder,["htm","html"])

		files = LoadDir(folder,True)

		For fi = EachIn files
			
			file = folder+"/"+fi
			
			If FileType(file)=1
				'
				' This file is an original html file that's
				' been backed up. We use that to generate the new
				' docs.
				If file.find(backuppre)=&gt;0 

					Local f1:Int = file.find(backuppre)
					Local targetfile:String = file[0..f1]+file[f1+backuppre.length..file.length]

					stream = ReadFile(file)
					If stream
						size = StreamSize(stream)
						If size&gt;0
							s:String = ReadString(stream,size)
						EndIf
						CloseFile stream

						If targetfile.find("navbar")=&gt;0
							' Navigation bar
							s = ReformatNavbar(s)

							stream = WriteFile(targetfile)
							If stream
								' html header
								WriteLine(stream,"&lt;html&gt;")
								WriteLine(stream,"&lt;head&gt;")
								WriteLine(stream,"&lt;link rel=styleSheet href=~qdocs.css~q type='text/css'&gt;")
								WriteLine(stream,"&lt;script&gt;")
								WriteLine(stream,"// Do we use DOM or not?")
								WriteLine(stream,"var dom = (document.getElementById &amp;&amp; !document.all)? 1: 0;")
								WriteLine(stream,"function toggle(the_id)")
								WriteLine(stream,"{")
								WriteLine(stream,"	var obj = (dom)? document.getElementById(the_id): document.all[the_id];")
								WriteLine(stream,"	if(obj.style.display == 'inline'){")
								WriteLine(stream,"		obj.style.visibility = 'hidden';")
								WriteLine(stream,"		obj.style.display = 'none';")
								WriteLine(stream,"	}else{")
								WriteLine(stream,"		obj.style.visibility = 'visible';")
								WriteLine(stream,"		obj.style.display = 'inline';")
								WriteLine(stream,"	}")
								WriteLine(stream,"}")
								WriteLine(stream,"&lt;/script&gt;")
								WriteLine(stream,"&lt;/head&gt;")
								WriteLine(stream,"&lt;body&gt;")
	
								' nav list
								WriteLine(stream,"&lt;table width=~q200px~q&gt;&lt;tr&gt;&lt;td&gt;")
									
								WriteLine(stream,s)
					
								WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
								WriteLine(stream,"&lt;/body&gt;")
								WriteLine(stream,"&lt;/html&gt;")
								
								CloseFile stream 
							Else
								Notify "Unable to write file:~n~q"+targetfile+"~q!",True
								End
							EndIf							
						Else
							' Regular html doc
							s = ReformatHTML(s)

							stream = WriteFile(targetfile)
							If stream
								' html header
								WriteLine(stream,"&lt;html&gt;")
								WriteLine(stream,"&lt;head&gt;")
								WriteLine(stream,"&lt;link rel=styleSheet href=~qfile://"+folder+"/docs.css~q type='text/css'&gt;")
								WriteLine(stream,"&lt;/head&gt;")
								WriteLine(stream,"&lt;body class=~qbody~q&gt;")
								WriteLine(stream,"&lt;table width=95% class=~qbody~q&gt;")
								WriteLine(stream,"&lt;tr&gt;&lt;td class=~qmoduleintro~q&gt;")
								WriteString(stream,s)
								WriteLine(stream,"&lt;/td&gt;&lt;/tr&gt;&lt;/table&gt;")
								WriteLine(stream,"&lt;/body&gt;")
								WriteLine(stream,"&lt;/html&gt;")
								CloseFile stream
							Else
								Notify "Unable to write file:~n~q"+targetfile+"~q!",True
								End
							EndIf
						EndIf
					EndIf
				EndIf
			EndIf
		Next
				
		GenerateCSSFile(folder)
		WriteIndexFile(folder+"/index.html")
	Next
	
End Function

'
' Backups all files with certain extensions in a folder
Function BackupFolder(folder:String,extensions:String[])
	
	Local backitup:Int
	Local fi:String
	Local file:String
	Local ext:String
	Local files:String[]
	files = LoadDir(folder,True)

	For fi = EachIn files
			
		file = folder+"/"+fi
			
		If FileType(file)=1
			If file.find(backuppre)&lt;0 

				backitup = False
				
				If extensions.length = 0
					backitup = True
				EndIf
				
				For ext = EachIn extensions
					If Lower(ExtractExt(file)) = ext
						backitup = True
					EndIf
				Next
				
				If backitup
					If BackupFile(file)
						Print "Backing up: ~q"+file+"~q..."
					EndIf
				EndIf
			EndIf
		EndIf
		
		FlushMem
	Next
		
End Function

'
' Backups a single file, only if a backup doesn't already exist,
' unless the force flag is set
Function BackupFile(file:String,force:Int=False)

	Local backupfile:String = ExtractDir(file)+"/"+backuppre+StripDir(file)

	If FileType(backupfile) = 0 Or force = True
		Local stream = ReadFile(file)
		If stream
			Local size = StreamSize(stream)
			If size&gt;0
				Local s:String = ReadString(stream,size)
			EndIf
			CloseFile stream

			stream = WriteFile(backupfile)
			If stream
				WriteString(stream,s)
				CloseFile stream
			Else
				Notify "Unable to backup file:~n~q"+file+"~q!",True
				End
			EndIf
		Else
			Return False
		EndIf
	Else
		Return False
	EndIf

	Return True

End Function

'
' Creates a CSS file containing a style sheet
Function GenerateCSSFile(outfolder:String)

	Print "Writing CSS Document..."
	Local c:CSS_Class
	
	ClearList(CSS_List)
	
	Local cssfile:String = outfolder+"/docs.css"
	stream = WriteFile(cssfile)
	If stream
		c:CSS_Class = New CSS_Class
		c.name 			= ".body"
		c.background 	= "#FFFFFF"
		c.border		= "0px"
		c.font			= "10pt helvetica"
		c.width			= "100%"
		
		c:CSS_Class = New CSS_Class
		c.name			= ".modulename"
		c.font			= "20pt helvetica"
		c.background	= "#FFFFFF"
		c.border_bottom	= "20px solid #FFFFFF"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".moduleintro"
		c.font			= "10pt helvetica"
		c.background	= "#FFFFFF"
		c.border_bottom = "20px solid #FFFFFF"
		c.padding_left	= "20px"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".moduleintrohead"
		c.font			= "15pt helvetica"
		c.padding_left	= "0px"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".functionbox"
		c.padding_top	= "20px"
		c.font			= "10pt helvetica"
		c.width			= "100%"
						
		c:CSS_Class = New CSS_Class
		c.name			= ".funchead"
		c.padding		= "10px"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px Solid #BBCCDD"
		c.font_weight	= "bold"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".funcname"
		c.font_style	= "normal"
		c.font_weight	= "bold"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".funcparam"
		c.font_style	= "italic"
		c.font_weight	= "normal"

		c:CSS_Class = New CSS_Class
		c.name			= ".funcleft"
		c.font_weight	= "normal"
		c.padding		= "10px"
		c.font			= "8pt helvetica"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px solid #BBCCDD"
		c.width			= "15%"
		c.v_align		= "text-top"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".funcright"
		c.font			= "10pt helvetica"
		c.font_style	= "normal"
		c.font_weight	= "normal"
		c.background	= "#DDEEFF"
		c.border_bottom	= "1px solid #CCDDEE"
		c.padding		= "10px"
		c.width			= "85%"
						
		'
		'
		' Module info box
		c:CSS_Class = New CSS_Class
		c.name			= ".modinfobox"
		c.width			= "100%"

		c:CSS_Class = New CSS_Class
		c.name			= ".modinfohead"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px solid #BBCCDD"
		c.font			= "8pt helvetica"
		c.padding		= "10px"
		c.font			= "10pt helvetica"
		c.font_weight	= "bold"
		c.width			= "100%"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".modinfoleft"
		c.background	= "#CCDDEE"
		c.border_bottom	= "1px solid #BBCCDD"
		c.font			= "8pt helvetica"
		c.padding_left	= "10px"
		c.width			= "15%"

		c:CSS_Class = New CSS_Class
		c.name			= ".modinforight"
		c.background	= "#DDEEFF"
		c.font			= "8pt helvetica"
		c.border_bottom	= "1px solid #CCDDEE"
		c.padding_left	= "10px"
		c.width			= "85%"
			
		'
		'
		' Navigation Bar
		c:CSS_Class = New CSS_Class
		c.name			= ".nav"
		c.font			= "10pt helvetica"
		c.width			= "100%"
		c.border_top	= "2px solid #FFFFFF"
		c.padding		= "0px"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".navfunclist"
		c.display		= "none"
		c.visibility	= "hidden"
		c.font			= "10pt helvetica"
		c.border		= "0px"
						
		c:CSS_Class = New CSS_Class
		c.name			= ".navmod"
		c.background	= "#CCDDEE"
		c.border_top	= "2px solid #FFFFFF"
		c.border_bottom	= "1px solid #BBCCDD"
		c.font			= "10pt helvetica"
		c.padding_left	= "10px"
			
		c:CSS_Class = New CSS_Class
		c.name			= ".navfunc"
		c.padding_left	= "20px"
		c.background	= "#DDEEFF"
		c.border_top	= "2px solid #FFFFFF"
		c.border_bottom	= "1px solid #CCDDEE"
		
		'
		' Table stuff
		c:CSS_Class = New CSS_Class
		c.name				= ".subtable"
		c.font				= "10pt helvetica"
		c.background		= "#FFFFFF"
		
		c:CSS_Class = New CSS_Class
		c.name				= ".subth"
		c.font				= "10pt helvetica"
		c.font_weight		= "bold"
		c.text_align		= "left"
		c.background		= "#CCDDEE"
		c.border_bottom		= "1px solid #BBCCDD"
		c.padding_left		= "10px"
		c.padding_right		= "10px"
			
		c:CSS_Class = New CSS_Class
		c.name				= ".subtd"
		c.font				= "10pt helvetica"
		c.font_weight		= "normal"
		c.text_align		= "left"
		c.background		= "#DDEEFF"
		c.border_top		= "0px solid #FFFFFF"
		c.border_bottom		= "1px solid #CCDDEE"
		c.padding_left		= "10px"
		c.padding_right		= "10px"
			
		'
		' Hyperlink stuff
		c:CSS_Class = New CSS_Class
		c.name				= "a"
		c.color				= "#000000"

		c:CSS_Class = New CSS_Class
		c.name				= "a:hover"
		c.color				= "#445566"

		c:CSS_Class = New CSS_Class
		c.name				= "a.navmodlink"
		c.font_weight		= "bold"
		c.width				= "100%"
		c.text_decoration	= "none"
			
		c:CSS_Class = New CSS_Class
		c.name				= "a.navfunclink"
		c.text_decoration	= "none"
		c.width				= "100%"

		c:CSS_Class = New CSS_Class
		c.name				= "a.example"
		c.color				= "#000000"
		c.text_decoration	= "none"
		c.width				= "100%"

		c:CSS_Class = New CSS_Class
		c.name				= "pre"
		c.padding			= "10px"
		c.background		= "#EEF8FF"
		
		For c:CSS_Class = EachIn CSS_List
			c.Write(stream)
		Next
		CloseFile stream
	Else
		Notify "Couldn't create output file:~n~q"+cssfile+"~q"
	EndIf
	
End Function

'
' CSS_Class type, utillity class to ease writing of css files
Type CSS_Class

	Field name:String
	Field display:String
	Field background:String
	Field cell_spacing:String
	Field border:String
	Field border_bottom:String
	Field border_left:String
	Field border_top:String
	Field border_right:String
	Field color:String
	Field padding:String
	Field padding_left:String
	Field padding_right:String
	Field padding_top:String
	Field padding_bottom:String
	Field font:String
	Field font_style:String
	Field font_weight:String
	Field text_decoration:String
	Field width:String
	Field max_width:String
	Field min_width:String
	Field height:String
	Field max_height:String
	Field min_height:String
	Field v_align:String
	Field text_align:String
	Field visibility:String
		
	Method New()
		CSS_List.addlast Self
	End Method
	
	Method Write(stream)
		WriteLine(stream,Self.name+" {")
		If Self.visibility.length		Then WriteLine(stream,"  visibility: "+Self.visibility+";")
		If Self.display.length			Then WriteLine(stream,"  display: "+Self.display+";")
		If Self.color.length			Then WriteLine(stream,"  color: "+Self.color+";")
		If Self.font.length				Then WriteLine(stream,"  font: "+Self.font+";")
		If Self.font_style.length		Then WriteLine(stream,"  font-style: "+Self.font_style+";")
		If Self.font_weight.length		Then WriteLine(stream,"  font-weight: "+Self.font_weight+";")
		If Self.text_decoration.length	Then WriteLine(stream,"  text-decoration: "+Self.text_decoration+";")		
		If Self.width.length			Then WriteLine(stream,"  width: "+Self.width+";")		
		If Self.max_width.length		Then WriteLine(stream,"  max-width: "+Self.max_width+";")
		If Self.min_width.length		Then WriteLine(stream,"  min-width: "+Self.min_width+";")
		If Self.height.length			Then WriteLine(stream,"  height: "+Self.height+";")	
		If Self.max_height.length		Then WriteLine(stream,"  max-height: "+Self.max_height+";")	
		If Self.min_height.length		Then WriteLine(stream,"  min-height: "+Self.min_height+";")	
		If Self.background.length		Then WriteLine(stream,"  background: "+Self.background+";")
		If Self.border.length			Then WriteLine(stream,"  border: "+Self.border+";")
		If Self.border_bottom.length	Then WriteLine(stream,"  border-bottom: "+Self.border_bottom+";")
		If Self.border_left.length		Then WriteLine(stream,"  border-left: "+Self.border_left+";")
		If Self.border_right.length		Then WriteLine(stream,"  border-right: "+Self.border_right+";")
		If Self.border_top.length		Then WriteLine(stream,"  border-top: "+Self.border_top+";")
		If Self.padding.length			Then WriteLine(stream,"  padding: "+Self.padding+";")
		If Self.padding_bottom.length	Then WriteLine(stream,"  padding-bottom: "+Self.padding_bottom+";")
		If Self.padding_left.length		Then WriteLine(stream,"  padding-left: "+Self.padding_left+";")
		If Self.padding_right.length	Then WriteLine(stream,"  padding-right: "+Self.padding_right+";")
		If Self.padding_top.length		Then WriteLine(stream,"  padding-top: "+Self.padding_top+";")
		If Self.cell_spacing.length		Then WriteLine(stream,"  cell-spacing: "+Self.cell_spacing+";")
		If Self.v_align.length			Then WriteLine(stream,"  vertical-align: "+Self.v_align+";")
		If Self.text_align.length		Then WriteLine(stream,"  text-align: "+Self.text_align+";")

		WriteLine(stream,"}")
		WriteLine(stream,"")
	End Method
	
End Type


'
' Convert normal docs :)
ConvertDocs()

'
' Write the Module docs :)
WriteModDocs()

Print "Finished!"

</textarea> <br><br></td></tr></table><br>
<a name="520224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool Perturbatio, I've updated the top post as well :) <br><br></td></tr></table><br>
<a name="520251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Erroneouss</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! <br><br></td></tr></table><br>
<a name="520421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> works like a charm and a real improvement. Something for BRL to consider to make this the default look? <br><br></td></tr></table><br>
<a name="520424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> The one thing I've noticed is that the 1.09 IDE doesn't populate the navbar correctly when using  documenta's navbar html, it works fine with the old one. <br><br></td></tr></table><br>
<a name="550159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arcadenut</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great, but can you have it Generate an Index like the original has?  I use that A LOT. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
