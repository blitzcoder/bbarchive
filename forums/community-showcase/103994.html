<!DOCTYPE html><html lang="en" ><head ><title >RPG Map Editor</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >RPG Map Editor</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >RPG Map Editor</a><br><br>
<a name="1256977"></a>

<a name="1256978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The map editor is very slowly taking shape. So far the map heights, base colour of the floor and initial models are all changeable.<br><br>Currently it is all in very early dev with just 3 debug models for the floor and floor 2 options.<br><br>The smaller 2d (topdown) map is now mode sensitive, so it will show different heights, colours, object rotation, etc depending on the page being worked on.<br><br><img src="https://vjointeractive.files.wordpress.com/2015/01/screen-shot-2015-01-30-at-15-11-35.png"><br><br><img src="https://vjointeractive.files.wordpress.com/2015/01/screen-shot-2015-01-30-at-15-08-18.png"><br><br><img src="https://vjointeractive.files.wordpress.com/2015/01/screen-shot-2015-01-30-at-15-12-31.png"> <br><br></td></tr></table><br>
<a name="1256983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Help: Clcik and drag with mouse" <br><br>Spelling bee where are you? ;-)<br><br><br><br>Nice to see things getting better and better.<br>I like the shading of the dwarfs.<br><br>Albeit you did not want to showoff the content but the editor:<br>The dwarfs left shoulder plate, the helmet and the shoulder portion (including upper arms) of the third screen - look a bit off (like if the cloth was not ironed long enough).<br>On the first and second screen the door on the right seems to go through the stone of the arc.<br><br><br>PS: the second screen shows a nice looking stone plate texture ... think this will work (if you remember my comment baout the hexagon plate).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1256988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> verrry nice looking user interface - great work. <br><br></td></tr></table><br>
<a name="1257025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like your style. simple and clean, but the buttons and elements needs to be more smaller so you can use more 3d workspace. You can easily do a 1/4 - 3/4 panel<br><br>Just curious, what gui framework you used? is this built from scratch? <br><br></td></tr></table><br>
<a name="1257032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Derron sprelling - oops. Interesting it brings up the question of an idea that has a string spell checker?<br>Yep. I'll have a look at the dwarf model and change the triangle mesh and colouring to sort it out.<br><br>OK, the UI is called Medusa. it handles everything from the messaging to the drawing, opengl window management.<br>At it's core is a simple control structure (just an array of controls - sort of) with a base graphics core and message manager on top.<br>The controls are in pages, so you can work on a page on controls. Controls can be hidden, deactivated, grouped together - there are no panels or tabs. but you can fake those if you need to.<br><br>To operate it (there are some core controls) you give a control a  type:<br><pre class=code>
Const MUID_LIGHTMAP:Int = MUID_CUSTOM + 100
Const MUID_COLORS:Int = MUID_CUSTOM + 103
</pre><br><br>Then add the control to the list. I do this in data:<br><pre class=code>
	DefData MUID_BEGINGROUP, 303, 0,0, 0,0, 0, "", ""
		DefData MUID_COLORS, 610, 1,21, 4,6, 2, "block", "Color block. Click with mouse to select a color"
		DefData MUID_COLLIGHT, 624, 1,21, 11,1.5, 2, "light", "The lightness component of the currectly used color, lower will darken the color and higher will lighten it"
		DefData MUID_COLSATURATE, 626, 1,21, 13,1.5, 2, "saturate", "The color saturation of the currectly used color, lower will fade then color to grey"

		DefData MUID_COLORBLOCK, 611, 23,6, 4,6, 2, "sel", "The current color that is being used"
		DefData MUID_BUTTON, 630, 23,6, 11,2, 0, "Apply Color", "Apply the current color to the current selection &lt;A&gt; will also do this"
		DefData MUID_BUTTON, 632, 23,6, 13,2, 0, "Tint Color", "Tint the current color to the current selection &lt;T&gt; will also do this"
		DefData MUID_BUTTON, 633, 23,6, 15,2, 0, "Check x1", "The current selection will be made into a checkerboard pattern using the current color"
		DefData MUID_BUTTON, 634, 17,6, 15,2, 0, "Check x2", "The current selection will be made into a 2x2 checkerboard pattern using the current color"

		DefData MUID_BUTTON, 631, 1,6, 15,2, 0, "Get Color", "Get the color from the current selection &lt;G&gt; will also do this"
	DefData MUID_ENDGROUP, 303, 0,0, 0,0, 0, "", ""
</pre><br>the data is: type, id, x,y, width, height, inset, name, help<br>But different types can have different data definitions added.<br><br>The main program core will then send the messages and you decide what to do with them E.G:<br><pre class=code>
	Method	MMouseClicked(nMX:Int, nMY:Int, Control:Int, Command:Int, Shift:Int, Ctrl:TMControl)
		Local k:Int
		
		Select Ctrl.nID
		End Select
	End Method
</pre><br><br><pre class=code>
	Method MMouseWheel(nDirection:Int, nMX:Int, nMY:Int, nMZ:Int, Ctrl:TMControl)
		
		Select Ctrl.nDrawType
			Case MUID_MAYAFADER 'mousewheel
				Select nDirection
					Case MUI_UP
'						Print "up"
						MKeyDown(nMX, nMY, KEY_RIGHT, False, False, False, 0, Ctrl)
					Case MUI_DOWN
'						Print "down"
						MKeyDown(nMX, nMY, KEY_LEFT, False, False, False, 0, Ctrl)
				End Select	
</pre><br><br><pre class=code>
	Method MPreDraw(Ctrl:TMControl)
		Select Ctrl.nDrawType
			Case MUID_MAYAFADER
				Select Ctrl.nID
					Case 700 'floor image broswer
						Ctrl.nMax = gModelCount[0]
				End Select
		End Select
	End Method
</pre><br><br>This last bit of code is the actual drawing routine for the rotation control<br><pre class=code>
	Method MCustomDraw(Ctrl:TMControl, active:Int)
		Select Ctrl.nDrawType
			Case MUID_ROTATE
				SetAlpha 0.3
				SetColor 0,0,0
				DrawRect Ctrl.nX, Ctrl.nY, Ctrl.nWidth, Ctrl.nHeight
				
				Local wd:Int = Ctrl.nWidth
				If Ctrl.nHeight &lt; wd Then wd = Ctrl.nHeight

				SetAlpha 1
				
				DrawLine Ctrl.nX, Ctrl.nYMid, Ctrl.nX1, Ctrl.nYMid				
				DrawLine Ctrl.nXMid, Ctrl.nY, Ctrl.nXMid, Ctrl.nY1
				
				SetColor 200,100,0
				wd :* 0.4
				MCircle(Ctrl.nXMid, Ctrl.nYMid, wd)
				
				SetColor 250,250,0
				Local xx:Int = Ctrl.nXMid + Sin(mapFloorRotate) * wd
				Local yy:Int = Ctrl.nYMid + Cos(mapFloorRotate) * wd
				DrawLine Ctrl.nXMid, Ctrl.nYMid, xx, yy

			Case MUID_IMAGEBROWSER

</pre><br><br>The buttons and the check buttons are the basic default ones. the faders, rotation control, map are custom written. their logic is already handled, but what they do will be needed<br><br>After years of fighting with code separation (e.g. a text display control has all the code for it, all the message code, window code, drawing etc).<br>You realise that all controls are basically the same with a few changes.<br>So why not code them that way. so I've got very long case statements per message - i hear the screams now... But it is very efficient, fast and clean. And above all very customisable and very quick.<br><br>The last thing to say about Medusa is it is resolution independent. You give it a grid size and that grid stays the same whatever the window size. The controls grow and shrink the grid exactly.<br><br>My 3d editor, the sequencer, games, are all based on top of the same Medusa core. Even with changes they all still compile :) <br><br></td></tr></table><br>
<a name="1257041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unified the UI (by just changing the drawing code)<br><img src="https://vjointeractive.files.wordpress.com/2015/01/screen-shot-2015-01-31-at-08-34-13.png"> <br><br></td></tr></table><br>
<a name="1257043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Medusa project started on PC and was written in c++ and was designed as a next-gen UI. The drawing was handled by custom MMX machine code which was developed for high speed rendering.<br><br>A GUI manager/editor was written and test UI's created before being cancelled.<br><br>I dug around and found these images of it in action:<br>button styles:<br><img src="http://www.visualjockey.com/medusa13.png"><br><img src="http://www.visualjockey.com/medusa17.png"><br><br>controls panel:<br><img src="http://www.visualjockey.com/medusa45.png"><br><br>Editor (in very early stages):<br><img src="http://www.visualjockey.com/medusa14.png"><br>The properties show the same underlying control system<br><br>What Medusa could do (the buttons are all functional these were real GUIs and not just photoshopped):<br><img src="http://www.visualjockey.com/medusa3.jpg"><br><img src="http://www.visualjockey.com/medusa49.png"><br><img src="http://www.visualjockey.com/medusa47.png"><br><br>Even the editor was built using Medusa. <br><br></td></tr></table><br>
<a name="1257063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OldNESJunkie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> WOW, that is nice!!  Great work!!! <br><br></td></tr></table><br>
<a name="1257356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Why0Why</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks really nice. <br><br></td></tr></table><br>
<a name="1257707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Editor being slowly worked on with close integration with 3d editor thumbnails.<br>random and pulsing lights supported along with new water:<br><img src="https://vjointeractive.files.wordpress.com/2015/02/screen-shot-2015-02-06-at-11-45-00.png"><br><br>Maps now have varying heights, items, things, etc:<br><img src="https://vjointeractive.files.wordpress.com/2015/02/screen-shot-2015-02-06-at-11-58-05.png"><br><br>Definitely looking and feeling more HeroQuest and Warhammer Quest like:<br><img src="https://vjointeractive.files.wordpress.com/2015/02/screen-shot-2015-02-06-at-11-45-38.png"><br><br>Internally I've been optimising the draw routines and also implemented a global object ID system. As an object is created or modified it gets a new ID.<br><br>When saving group objects and other objects that reference objects. these ID codes are also embedded.<br><br>On loading, the ID's are checked and if the object is already loaded, then it uses that one. different textures, scalings, etc are all kept intact. so a single object can be the parent of many different objects. <br><br></td></tr></table><br>
<a name="1257709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  As an object is created or modified it gets a new ID. <br></div><br><br>Are you sure about "edit = new guid" ?<br>A guid should stay the same until the object vanishes at all.<br><br>Renaming GUIDs while objects exist might break loose connections (field otherObjectGUID:string). Removing objects might trigger cleanup-functions (parents get informed etc).<br><br><br>@left shoulder<br>did you mean the dwarf-hero when talking about the avatar? His left shoulder/upper arm still looks a bit odd.<br><br><br>@water screen<br>I like that thing spilling out water ... animated?<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1257714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> The guid's are internal - the app sets them when it needs to. It's my own implementation. changing guids don't break anything as there are other references and all needed objects are stored in the external files. When a guid is found, the object loading system is skipped.<br><br>The spilling water is animated, but currently the internal material system is not active, this will give true liquids that move properly - sort of - lol<br><br>I need to get the particle system integrated next. It exists, the editor exists, but I need to do some further 3d work to get everything working together.<br><br>Here is the particle editor<br><img src="http://www.visualjockey.com/games/particleui3.png"><br><br>and some shots of the system in operation<br><img src="http://www.visualjockey.com/games/particle11.jpg"><br><img src="http://www.visualjockey.com/games/particle12.jpg"> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
