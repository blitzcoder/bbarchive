<!DOCTYPE html><html lang="en" ><head ><title >GPU voxel raytracing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GPU voxel raytracing</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >GPU voxel raytracing</a><br><br>
<a name="1017591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Noobody</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since I don't want to hijack the other voxel thread I'm making this one for my GPU voxel shader.<br><br>So, what is a voxel?<br>A voxel is the 3D counterpart of a pixel. A pixel is represented by a square, while a voxel is represented by a cube. Voxels are contained in 3D volumes, as opposed to 2D images (a volume has a, e.g., 512x512x512 voxel resolution, while an image has a 512x512 pixel resolution). To render these voxels efficiently in real-time, GPU acceleration is needed. I have done this using OpenGL and a set of shaders.<br><br>The principle is simple: For each pixel on the screen, a ray is sent into the voxel volume. The intersection point with the volume boundary is computed (if the camera is outside the volume) and a ray is marched through the volume. Raymarching means that the position of the ray is moved along its direction by small amounts; each time the position is incremented, the volume is queried to see if the ray position inside a voxel. For exact results, small steps are needed, which is of course very slow. I made an attempt to solve this by using greater steps, but letting the program estimate where the actual intersection point was once its inside a filled voxel. This works relatively well and is very cheap computational-wise.<br><br>The shaders come in different quality versions. Texturing requires shader model 4.0 which is not *that* common. If your graphic card doesn't support it, the log gets filled with tons of compilation errors, but that's okay - non-supported shaders are deactivated in the program so it will still run, as long as at least one shader is compiled. You can change the current shader by pressing 'S', 'I' or 'T', respectively. Non-supported features are colored red.<br><br>The voxel model also has 3 different resolutions because some graphic cards have a size limit for volume textures and also because smaller resolutions are rendered faster. You can change the resolution by hitting 'R'.<br><br>Screenshot:<br><img src="http://www.noobody.org/BBP/VoxelRendering_6.png"><br><br><b>Download (.exe + .bmx source code):</b> <a href="http://www.noobody.org/BBP/VoxelShader256.rar" target="_blank">Link</a><br><br>If you have a really good computer, try out the 512x512x512 version: <a href="http://www.noobody.org/BBP/VoxelShader512.rar" target="_blank">Link</a> <br><br></td></tr></table><br>
<a name="1017600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow looks cool <br> but i got error 2001 under vmware <br><br></td></tr></table><br>
<a name="1017607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> High quality work, my man. Did you see the recent thread about 'infinite resolution' and using binary space partition to efficiently search for ray intersections with your voxels?<br><br>The GPU acceleration is a winner. Did you get the idea somewhere or think of it yourself? <br><br></td></tr></table><br>
<a name="1017629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got a blue screen...computer restarted... it's probably because of my SLI setup or something, looks good though. <br><br></td></tr></table><br>
<a name="1017649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DareDevil</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks ;) <br><br></td></tr></table><br>
<a name="1017701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks awesome! Voxels seem to be something that many people never take the time to tinker with.<br><br>Sadly the demo would not run as "GLSL is not supported on this system." <br><br></td></tr></table><br>
<a name="1017703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, nice! I get 90 FPS in 256x256 (very smooth movement), and 40-50 in 512x512, though it seems slower than that -- it also somehow doesn't look as good as the 256 version. (This was in 1024 x 768 x 32 display mode.)<br><br>Really cool demo, though! <br><br></td></tr></table><br>
<a name="1017704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Noobody</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll be looking for a few more interesting voxel models, but I'll soon be moving on to volume rendering.<br><br><div class="quote"> Did you see the recent thread about 'infinite resolution' and using binary space partition to efficiently search for ray intersections with your voxels? <br></div><br>I didn't know there was a thread here, but I had a discussion about the same site a few days ago.<br><br>As far as I can judge from the videos, the don't use voxels, but point clouds. Point clouds are different from voxel volumes in that they don't use grids (arrays), but store the position with each sample point. This is less space consuming because you usually have more empty space than filled space. Also, the points don't have to be grid aligned but can be positioned freely.<br>For rendering, they most probably used point splatting. It's basically just rendering an alpha-blended sprite for each point, but the difficulty is that the points have to be sorted from back to front so the blending works right. Except for the sorting part, point splatting is much, much faster, because you don't have to actually raytrace a whole scene, but just shove a few tenthousands of polygons down the graphic card. And rendering many polygons is what the GPU is good at.<br><br>So what they did was write an acceleration structure (most probably a modified kD-Tree) that allows efficient depth sorting. But this still doesn't solve the issues with point splatting. First of all, it is impossible to make surfaces with points. In a voxel volume, one voxel has 6 neighbours, which allows efficient interpolation to find the curve that represents the surface of the voxel model. This doesn't work in point splatting, because you don't know the neighbours of a point and because the points themselves don't represent density values like in voxel rendering, but just parts of the geometry, it is much harder to estimate where the surface passes through. So what's the big deal with not having surfaces? It means that there is no way of determining the <i>exact</i> area that a model fills which makes it impossible to use shaders, to determine exakt depth values and to interpolate features like normals and colors.<br><br>Besides that, point splatting models can't have sharp features and tend to look blurry. Besides the obvious drawbacks like lack of animation, memory consumption etc. (which voxel rendering suffers from too), this just makes it not suitable for the future of rendering. Also, the programmers sound extremely unprofessional. They proclaim to have found the biggest revolution since the beginning of computer graphics - I mean, seriously? How could you say that?<br><br>It still is impressive what they accomplished, but its not more than a tech demo. You couldn't make games with that approach.<br><br>If you're interested in point splatting, Iñigo Quilez wrote some interesting articles and codes on them: <a href="http://iquilezles.org/www/articles/pclouds/pclouds.htm" target="_blank">Link</a><br><br><div class="quote"> The GPU acceleration is a winner. Did you get the idea somewhere or think of it yourself? <br></div><br>Well, it was kind of obvious. I've been redoing quite a few programs into GPU accelerated ones, because the GPU is unbeatable at parallelizable algorithms. And raytracing is <i>the</i> prime example of a parallelizable algorithm :)<br><br><div class="quote"> I got a blue screen.... <br></div><br>That is certainly not the desired result! I hope it didn't destroy any unsaved projects. <br><br></td></tr></table><br>
<a name="1017715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Taron</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> thehe...my god, my Nvidia 7300 GT is laughing in despair. Can't compile the shaders... too bad. I would've loved to see it.<br>(too many temporaries, can you imagine that?!) :P<br><br>Looked inspiring, though! :'( <br><br></td></tr></table><br>
<a name="1017729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> If Taron can't run it....not even going to attempt on my end. ;) lol... <br><br></td></tr></table><br>
<a name="1017732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> crashed the graphics driver of the 9800GTX in my works PC :( <br><br></td></tr></table><br>
<a name="1017735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ShadowTurtle</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think there is more GPU power needed as from leadwerks engine ;=) <br><br></td></tr></table><br>
<a name="1017755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>crashed the graphics driver of the 9800GTX in my works PC :( </pre><br><br>I as well have a 9800 gtx, i guess that is the problem? <br><br></td></tr></table><br>
<a name="1017760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol I get 2 fps but nice never the less.  Maybe that guy that does 'unlimited voxels' could let his secret slip so we can all enjoy this luxury lol. <br><br></td></tr></table><br>
<a name="1017800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DareDevil</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> 41 fps <br>Geforce 9800 GTX <br>4GB Ram<br><br>very good ;)<br>good <br><br></td></tr></table><br>
<a name="1017957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> For some reason the keys didn't work in this program. <br><br></td></tr></table><br>
<a name="1017968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice! :)<br><br>Dabz <br><br></td></tr></table><br>
<a name="1018009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jason W.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is very cool.   <br><br>Thank for the defintion of a voxel.  <br><br>I have found an interesting voxel engine:  <br><br>Termite 3D<br><a href="http://www.thermite3d.org/joomla/index.php?option=com_content&amp;view=article&amp;id=32&amp;Itemid=7" target="_blank">http://www.thermite3d.org/joomla/index.php?option=com_content&amp;view=article&amp;id=32&amp;Itemid=7</a><br><br><br>Jason <br><br></td></tr></table><br>
<a name="1018039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice demo<br><br>How would you animate a voxel object? it would have a massive over head having to keep track of each voxel for each frame of a characters animation :O( <br><br></td></tr></table><br>
<a name="1018042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Noobody</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have found an interesting voxel engine <br></div><br>That one's not exactly a voxel engine - it <i>does</i> store the scene as voxels to allow destructible environments, but the voxels are converted to polygons (triangles) before rendering. I didn't test the demos to see how fast it is, but it's still impressive.<br><br><div class="quote"> How would you animate a voxel object? <br></div><br>Bone animation would be extremely costly computational wise. The alternative would be naïve frame-by-frame animation, which is extremely costly memory wise. Maybe one day someone will invent an efficient animation algorithm for voxel models, but for now, the only reasonable use for voxel rendering is for static models :) <br><br></td></tr></table><br>
<a name="1019162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KennethMcI</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> 83 fps on the 512 version, 166 on the 256 version. both at 1024x768<br><br>i7-920<br>ati 5870<br><br>very nice! <br><br></td></tr></table><br>
<a name="1019163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KennethMcI</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> forgot to say - these fps are without moving the screen at all ( good for comparison ) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
