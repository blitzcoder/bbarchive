<!DOCTYPE html><html lang="en" ><head ><title >SpinIt Screensaver</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >SpinIt Screensaver</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >SpinIt Screensaver</a><br><br>
<a name="660017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have just finished a new screensaver calle SpinIt.  The program is free to anyone who wants to give it a try.<br>Windows platform only.  Tested on WinXP Pro, 2.0Ghz Athalon XP2400+, GeForce FX5200.<br><br>Thanks to KevinTheKaleidoscopicKoala for his screensaver framework.<br><br>Edit: Made SpinIt spin over the desktop<br><br><a href="http://www.tomtoad.com/SpinIt" target="_blank">Web Site</a><br><a href="http://www.tomtoad.com/SpinIt/SpinItsetup.exe" target="_blank">Download</a><br><br>Some Screenshots<br><img src="http://www.tomtoad.com/SpinIt/SpinIt1.jpg"><br><img src="http://www.tomtoad.com/SpinIt/SpinIt2.jpg"><br><img src="http://www.tomtoad.com/SpinIt/SpinIt3.jpg"> <br><br></td></tr></table><br>
<a name="660032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> HELL!  The room is spinning now!!!<br><br>That is crazy.<br><br>Nice one... <br><br></td></tr></table><br>
<a name="660600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its pretty neat! If you stare at it and then look away, stuff starts spinning. Its like being slightly buzzed! <br><br></td></tr></table><br>
<a name="670653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just made a nice update to my SpinIt screensaver. :) <br><br></td></tr></table><br>
<a name="670662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> COOL!  Are you prepared to share the code how to grab and display the desktop image?<br><br>Go on you know it makes sense! <br><br></td></tr></table><br>
<a name="670665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you out of your mind?  I'm planning on charging $80 for the code.  You want to buy?  Just kidding.  Check out the Code Archives :) <br><br></td></tr></table><br>
<a name="671854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> How are you drawing the grabbed image?<br><br>I use this<br><br><pre class=code>
DrawPixmap( desktopPixMap, 0, 0 )
</pre><br><br>and my screen saver runs jerkily now :-(<br><br>Is there a faster way? <br><br></td></tr></table><br>
<a name="671978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes,<br><pre class=code>Local DesktopImage:TImage = LoadImage(desktopPixMap)
...
DrawImage DeskTopImage, 0 ,0</pre><br>But it will still be slower anyway since you'll be drawing a huge bitmap to the screen.  One way to solve this would be to divide the bitmap into sections and draw individually.<br><pre class=code>Local DesktopImage:TImage = LoadAnimImage(desktopPixMap,64,64,0,CellWidth*CellHeight)
For y = 0 to CellWidth - 1
  For x = 0 to CellHeight - 1
    DrawImage DeskTopImage,x*64,y*64,y*CellWidth+x
  Next
Next</pre><br>This would be better because some cards can't handle a TImage as big as the desktop.  Only problem is that you don't know ahead of time what the resolution of the desktop will be, and the only divisor I can find that works with all resolutions is 8, which makes for many tiny tiles.<br>You could either run the program at a specific resolution regardless of desktop resolution (requiring you to scale the desktop image to fit) or you could set the number of cells to a constant and divide the resoltion by the number of cells to get the tile's width and height (but create non power-of-two size tiles) or you can keep a table of tile sizes based on the most common resolutions and fall back to one of the other methods on a non-standard resoltion.<br>Or maybe there's an even more elegant solution.  Once you have the desktop in a pixmap, you're pretty much free to process it how you want. <br><br></td></tr></table><br>
<a name="671984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> So Drawimage is Faster then DrawPixMap? <br><br></td></tr></table><br>
<a name="671986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using method one is still jerky...<br><br>Method 2 looks faster but the desktop is not drawn correctly.  Are you sure that loop code is right :-)<br><br>Have I got my stupid hat on today, I do this to get the cellwidth/height<br><br><pre class=code>
cellwidth = screenWidth / 8
cellheight = screenHeight / 8
DesktopImage = LoadAnimImage desktopPixMap,64,64,0,cellwidth*cellheight)
</pre><br><br>Looking at desktopimage it appears to be null but the desktoppixmap isn't - uh? <br><br></td></tr></table><br>
<a name="672249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way you're doing it, you'd need to enter<br><pre class=code>cellwidth = screenWidth / 8
cellHeight = screenHeight / 8
DesktopImage = LoadAnimImage(desktopPixmap,8,8,0,cellwidth*cellheight)</pre><br>I might be confusing you with the terms I'm using, basically what I mean by cellWidth and CellHeight, is how many tiles across and down you are breaking up the image into.  So when you divide by 8, you are saying you want the tiles 8 pixels by 8 pixels.  If your resolution is 800x600 that'll give you 100 tiles across and 75 tiles down.<br>So in the LoadAnimImage command, you'd be telling it that your tiles are going to be 8 pixels by 8 pixels, and there will be a total of 7500 tiles.<br>It might've been better if I had typed it as<br><pre class=code>const TileWidth = 64
Const TileHeight = 64
Const TilesAcross = screenWidth/64
Const TilesDown = screenHeight/64
Local DesktopImage:TImage = LoadAnimImage(desktopPixMap,TileWidth,TileHeight,0,TilesAcross*TilesDown)
For y = 0 to TilesDown - 1
  For x = 0 to TilesAcross - 1
    DrawImage DeskTopImage,x*TileWidth,y*TileHeight,y*TilesAcross+x
  Next
Next</pre><br>Where TileWidth and TileHeight is the width and height of each tile in pixels, and TilesAcross and TilesDown is the number of tiles across and down. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
