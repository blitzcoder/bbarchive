<!DOCTYPE html><html lang="en" ><head ><title >Weird and neat!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Weird and neat!</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Weird and neat!</a><br><br>
<a name="638083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I decided that just making the little spheres randomly shift about on the screen in my sprite demo was boring, but I didn't want to make them bounce about either, cause that would mean managing all their positions and such, and that was not only boring, but a lot of work too.<br><br>So then I had the clever idea of making the sprites move about without having to store vectors for each of them.  But how to do that?<br><br>It occured to me, that I could make each sprite calculate a direction vector towards the next sprite in the list, and away from the previous, and then move it in whichever direction I then ended up with. (I normalize these vectors so the sprite wants to move at the same speed in both directions.  And instead of adding the vectors, I just translated the sprite twice which has the same effect.)<br><br>Well the results are really weird and neat, when you've only got a few sprites on the screen.  <br><br>Many sprites will orbit around a center point like electrons around an atom.  <br>When you have three, Sometimes two will sit opposite eachother while a third bounces between them, but it turns out they are actually switching places.  And sometimes they will fly around a roughly circular track.<br>Sometimes four will sit in a straight line on the screen that just wobbles a bit.  Other times they will move in complex patterns.<br><br>Take a look for yourself:<br><br>www.seamlesstexturegenerator.com/systems/sprite_system_demo_3.zip<br><br><br>To make it easier to see what is going on, one sphere will always be red.  <br><br>Press insert and delete to adjust the number of spheres.  Press spacebar to randomize the color and position of the spheres.<br><br><br>It might be kind of neat to see how this motion differs in 3D.  <br><br>Btw, note that there are no constraints keeping the spheres on the screen!  They just magically stay centered roughly around whatever point was the center of mass when they started moving.  I tried this with 2000 of them moving very fast and they still stayed on the screen.  So I guess there's something about this equation which keeps the system from collapsing or exploding. <br><br></td></tr></table><br>
<a name="638086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice little clip :) thanks for sharing nice partical system on the way <br><br></td></tr></table><br>
<a name="638088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool... With 4 particles I jsut got a setup where two particles sit opposite eachother and the other two are paired together and fly back and forth between them.  <br><br>This is really addicting to watch.  I was playing around with just three hitting the spacebar over and over to see the different configurations for a while and now I'm trying four. :-) <br><br></td></tr></table><br>
<a name="638090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello.<br><br>Spooky, very natural movement.<br><br>Goodbye. <br><br></td></tr></table><br>
<a name="638098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mmmm... emergent behaviour.<br><br>Very interesting.  :o) <br><br></td></tr></table><br>
<a name="638103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is quite interesting is if you knock the number up quite high and just watch one and see where it moves... Could make for interesting attack waves on your shootem up <br><br></td></tr></table><br>
<a name="638115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice... you reallystart to anthropomorphise the motion on some patterns....<br><br>i just had four spheres playing a tag game where 2 just sat at either end of the screen and the other two skipped along an 'S'-shaped path holding hands.<br><br>... errr! Maybe I should get out more ! <br><br></td></tr></table><br>
<a name="638277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Black:<br>That sounds like the same pattern I mentioned above.  The two at the end sometimes wobble back and worth and the path the other to follow across the middle also wiggles. <br><br></td></tr></table><br>
<a name="638340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you redownload the sprite system demo in my first post now, then you can toggle trails on by pressing T.  Now you can see more clearly the patterns that are being created.  It's kind of like a spirograph. <br><br></td></tr></table><br>
<a name="638342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> smart  sprite bots... cool...<br><br>hey... it seems as if the target sprite is still moving after the attacker has started his flight towrd him... is the attacker guy constantly updating his vector?<br><br>--Mike <br><br></td></tr></table><br>
<a name="638377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> What in the world are you going on about? :-) <br><br></td></tr></table><br>
<a name="638384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hehehe... sorry... was just wondering... does logic controlling the sprite that is heading toward the other one constantly update the vector while it is moving towards the other one... <br><br>the orbiting sprites seem to be in motion constantly... that's why i asked...<br><br>--Mike <br><br></td></tr></table><br>
<a name="638399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Red:<br><br>The algorithm is very simple:<br><br>For each sprite:<br><br>Calculate a normal Nx, Ny pointing away from the previous sprite in the list.<br><br>TranslateSprite(Nx, Ny)<br><br>Calculate a normal Nx, Ny pointing towards the nex sprite in the list.<br><br>TranslateSprite(Nx, Ny)<br><br>Next<br><br><br>If the previous sprite in the list is Null (Indexing past start of list) then it treats the last sprite in the list as the previous sprite.  <br><br>If the next sprite in the list is Null, it treats the first sprite in the list as the next sprite.<br><br><br>So the sprites are randomly positioned on the screen, and the list of sprites is treated as a cicular list, and each sprite in the list, each frame, is moved away from the sprite that comes before it in the list, and towards the sprite which comes after it in the list.<br><br>None of the sprites store any vectors.  They only move towards or away from the current location of the other sprites adjacent to it in the list each frame.<br><br>So yes, they do change direction constantly as they move.<br><br>And the reason I don't let you reduce the number of sprites to 2 is because the sprites would just sit there and do nothing.  Each one would move towards, and then back from, the other within the span of a single frame, so neither would move at all.<br><br>Btw,. the BMX file there is the source, so you can look at it if you want to see what it does. :-)  It just won't compile cause the sprite system itself isn't included. <br><br></td></tr></table><br>
<a name="638404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahh... i see now... thanks...<br><br>--Mike <br><br></td></tr></table><br>
<a name="638476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> pls dont set the monitor refresh rate.. the demo looks crap on mine cos it cant handle 80hz. <br><br></td></tr></table><br>
<a name="638489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yavin:<br>But if I DON'T set the refresh rate, it defaults to 60hz... which can be headache inducing.<br><br>I don't want to set the refresh rate, but on my system 800x600 should default to 85hz, but Max starts it at 60 instead.  So what's the right way to deal with this?  <br><br>It's bad for Max to deviate from the default settings, because I might not have that mode properly configured on my monitor.  Not a big problem for me, but anyone who uses my program will have the same problem and some of them might not know how to fix the squashed image.  <br><br>Me setting the hz to 80 doesn't solve that, but I just set it to 80 cause I know 60 sucks in 3D apps, and I thought it was supposed to run at the default if it fails to set that mode.  <br><br>Also, you don't have your system configured right if it is running at 80hz but your monitor doesn't support it.  If you have installed the right monitor driver, then Windows should know which modes the monitor doesn't support.  It's dangerous not to do this because some programs (like this one) try to set the refresh rate, and if it is too high you can burn out your monitor.<br><br>I didn't expect anyone here to not have their monitor drivers set up right, so I didn't think the 80hz would be a problem. <br><br></td></tr></table><br>
<a name="638491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What is quite interesting is if you knock the number up quite high and just watch one and see where it moves... Could make for interesting attack waves on your shootem up <br></div><br><br>Which is actually what sprang to my mind! Taking the basic principle using types to build and keep track of 'the list'. but Of course, it will be changed quite a bit and of course credit will be given - if you have no objections, Sswift?<br><br><br>Anyway, nice stuff... <br><br></td></tr></table><br>
<a name="638495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't own the idea of making objects move towards and away from other objects on the screen, so go right ahead.  I don't really care if you use that code either.  If someone wants to fix it up so it doesn't need the sprite system so you can play around with it, that'd be easy enough, so go ahead. :-) <br><br></td></tr></table><br>
<a name="638498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://homepage.ntlworld.com/r.chowdhury/marbles.JPG"><br><br>This was cool to watch, I think there's probably about 15 marbles, but only one red one which just swung pendulously back and forth across the screen despite the frantic action in the 'background heh.<br><br>Thanks Sswift ;) <br><br></td></tr></table><br>
<a name="638500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yikes! My monitor can only do 60Hz - it's 'special'. :P<br><br>It ran the demo OK, though. I'm pretty sure if it was receiving an 80Hz signal, the display would have been messed up. Not sure what's going on... <br><br></td></tr></table><br>
<a name="638513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> big10:<br>Max is supposed to drop down to the default Hz if the mode you attempt to set fails.  If you have your monitor drivers set up right, which you probably do, then this will succeed.  But if you don't, then it will set whatever mode the program wants. <br><br></td></tr></table><br>
<a name="638517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah... i'm on a fixed rate Sony here that appears locked on 60hz as well... and the demo ran fine...  but yeah, i would like to hear some thoughts on this...  like, how are you setting the refresh rate (sorry to appear so dense)... and don't some adapter/monitor combos allow you to set the refresh rate or give the app the option of setting it...<br><br>also, if 60hz is ditracting (headaches) wouldn't that indicate that teh code might benefit from some timing as the logic and gfx refresh rates aren't synched close enough...<br><br>... just asking, as this is always been a gray area with me.<br><br>--Mike <br><br></td></tr></table><br>
<a name="638519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh one other thing I wanted to mention...<br><br>I did find some configurations of four spheres which seemed to move off the screen as a group.  I'm not sure whether or not this was a periodic motion and whether they would have returned eventually or not, but they didn't seem like they were going to.  <br><br>So it seems like while most shapes will remain in one fixed location, it is possible to set up situations where the group as a whole can move.<br><br>This reminds me of an algorithm called "Life" where different configurations of pixels would do different things.  But this is much simpler than that as far as what you can do.  You can't make multiple shapes that interact with one another. <br><br></td></tr></table><br>
<a name="638522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Red:<br>BlitzMax lets you specify the HZ when you use the Graphics command.  It's not like BlitzPlus or Blitz3D where you just set the graphics mode, and it picks the default hz.  It sounds like it's supposed to pick the default hz if you don't specify one, but in my tests it always picks 60 even though my card and monitor are perfectly capable of and default to much higher refresh rates.<br><br>"also, if 60hz is ditracting (headaches) wouldn't that indicate that teh code might benefit from some timing as the logic and gfx refresh rates aren't synched close enough..."<br><br>60hz here has nothing to do with how often the game loop is updated.  It has to do with how often the electron gun redraws the screen.  Just as people can get headaches from flourescent lights because they flicker 60 times a second, you get the same flickering on your monitor when the refresh rate is set too low.  <br><br>It's usually hard to see this, but sometimes if you look out of the corner of your eye, you can see it in your peripheral vision.  And even though you can't percieve it when looking right at it, it still affects you subliminally.<br><br>This effect will happen even if you're looking at a static unchanging screen.  That's why monitors supprot higher refresh rates.  It's not so you can run your games faster.  It's because it makes the picture more stable and reduces eye strain. <br><br></td></tr></table><br>
<a name="638525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahhhh, ok... thx for that, i'm not inot B'Max as of yet...<br><br><div class="quote"> 60hz here has nothing to do with how often the game loop is updated. It has to do with how often the electron gun redraws the screen.  <br></div><br>yeah... that i understand all of that...  that's not what i'm trying to point out...<br><br>the rate at which the game logic loops and the rate at which the screen refreshes do have a definite effect on anything that is in motion and will be displayed on the screen (at least that's the way it seems to work in B3D)... <br><br>i just discovered this when piling a lot of particles in this lil app i'm working... i had to slow down the main loop so that it wasn't outpacing the refresh rate...<br><br>--Mike <br><br></td></tr></table><br>
<a name="638528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Btw... sprite system is pretty far along now.  I just did a bunch of testing to make sure all the parenting stuff was working right.  Like parenting, then unparenting while retaining screen position, then parenting again while retaining screen position, and after a bunch od debugging that all works now.  And I decided to get rid of GetX#() and just use X#() and stick those _ things on my private fields after all.  GetX#() and all the other get things was just too much typing, and it's much nicer to do A# = ThisSprite.Alpha#(True) or ThisSprite.Alpha#(1) to get the global alpha of a sprite, than sticking Get on every instance where I need to get the values.  I still have the "Put" on all the commands to change the values of course.<br><br>Anyway, so far so good, everything seems to work, even when scaling and rotating.  Even the alpha is adjusted by the parent alpha. <br><br></td></tr></table><br>
<a name="638531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Red:<br>Yes, things won't move as smoothly if you don't sync the framerate up exactly with the refresh rate, but that's not the problem I was describing here. <br><br></td></tr></table><br>
<a name="638534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> k...<br><br>--Mike <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
