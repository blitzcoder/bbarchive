<!DOCTYPE html><html lang="en" ><head ><title >Farseer Physics Engine in Blitzmax Demo</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Farseer Physics Engine in Blitzmax Demo</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Farseer Physics Engine in Blitzmax Demo</a><br><br>
<a name="874750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I've ported a majority of the functionality found in Jeff Weber's Farseer Physics Engine that was originally written in C# for XNA/Silverlight. Below is a link to a video showing some of the same demos running in native Blitzmax, along with a link to the demo app itself.<br><br><img src="http://www.paradeofrain.com/wp-content/uploads/2008/05/farseerbmx.jpg"><br><br><a href="http://www.youtube.com/watch?v=97S-PmEXLGw" target="_blank">YouTube Video</a><br><a href="http://www.youtube.com/watch?v=w0p2y4dRylQ" target="_blank">Another video showing Angle Limit Joints</a><br><br>Demo zip file:<br><a href="http://www.paradeofrain.com/download.php?id=14" target="_blank">Farseer Physics BMX</a><br><br><b>Requirements:</b><br><br>- Windows XP/Vista<br>- Direct X 7 or higher capable video <br>- Minimum supported screen resolution: 1024 X 768<br><br><b>Known Issues:</b><br><br>- In Vista the fps are lower (and in some demos locked to 60 instead of 100 fps).<br><br>I'd be interested in two things for any of those that give the demo a try:<br>1. What are your computer specs and also average FPS in demo 4 and demo 8 when you are:<br>    a) sitting idle<br>    b) moving and bumping into objects a lot<br><br>2. If anyone knows why in Vista the FPS are really crappy when using the D3D7 driver. When I switch it to openGL my FPS go back to normal as if it were on XP. <br><br>For more info on what I'm planning with this Blitzmax version of Farseer you can check it out <a href="http://www.paradeofrain.com/?p=78" target="_blank">here</a>.<br>:)<br><br><b>***EDIT***</b> <br>5-28-2008<br>- added another <a href="http://www.youtube.com/watch?v=w0p2y4dRylQ" target="_blank"><b>youtube video link</b></a><br>- made a <a href="http://www.paradeofrain.com/?p=84" target="_blank"><b>blog post</b></a> with a status update of the engine. <br><br></td></tr></table><br>
<a name="874753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks very good<br><br>I got 0 FPS on the 8th demo but that could have been the sheer number of sprites on the screen because my intel video card has a very slow fill-rate.<br><br>On the other demos I got about 60 FPS <br><br></td></tr></table><br>
<a name="874760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks!<br><br>was that on vista or XP? <br><br></td></tr></table><br>
<a name="874852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Demo 4 = 2FPS in motion and 4FPS if i leave everything alone<br>Demo 8 updated roughly 1 frame every 1.5 seconds<br><br>XP Pro on Sony Vaio laptop Intel 915GM 128MB integrated gfx<br><br>Nice music on the youtube video! <br><br></td></tr></table><br>
<a name="874858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Vista renders DX7 translating the api calls to DX9, so it is slower always. I've got the same drop down in all my projects under Vista when using DX. By the way, that looks completelly awesome. Loved the debug mode :D <br><br></td></tr></table><br>
<a name="874859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >M2PLAY</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome!!! Good work!!<br>In all the demos 100 FPS even with debug actived<br>XP Profesional, Intel Core2Duo 3GB RAM, Nvidia 5800GT 512Mb<br><a href="http://www.m2play.es" target="_blank"><img src="http://www.m2play.es/images/PaperPlanetLogoLR2.jpg"></a> <br><br></td></tr></table><br>
<a name="874883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >M2PLAY</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oppps sorry !!!<br>Nvidia 8500GT 512 Mb <br><br></td></tr></table><br>
<a name="874899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> 100FPS on everything except number 8, which was 2-4fps.<br><br>Athlon XP3000 @ 2.2GHz, 1.5GB RAM, Nvidia 7600GT 256MB, Windows Vista.<br><br>Are you throttling the frame rate at 100fps? <br><br></td></tr></table><br>
<a name="874965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> 100 FPS on everything, 70 FPS on 8(while everything was running around the screen)<br><br>P4 3.0GHz, 1 GB RAM, NVIDIA 9600GT 512MB, Windows XP <br><br></td></tr></table><br>
<a name="874979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nawi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only on Windows = Useless. BlitzMax is supposed to be multiplatform. Next time choose an open an free physics solution. <br><br></td></tr></table><br>
<a name="874982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @<b>Jim Brown</b><br>I'm curious on the performance on the other demos if those two were so low. Are they all sluggish also? Thanks for that info, will be looking to see if I can improve that <i>a lot</i>. As I want this to run on as many machines as reliably as possible.<br><br>@<b>M2PLAY</b> and @<b>Ziggy</b><br>Thanks! Glad you liked it!<br><br>@<b>Yahfree</b><br>Thanks for the info! <br><br>@<b>Gfk</b><br>Thanks for the info. I'm going to be doing some extensive testing on lower end machines in the coming weeks. I wonder if it's the fill rate, my fixed-time step logic, or the actual physics engine not being efficient enough. I imagine it's a combination of those three that's causing some people to get bad frames during the more intensive demos.<br><br>The FPS was set to 100 in the graphics call (the hertz rate). While 100 isn't realistic for most games, it helps me benchmark actual performance tweaks I implement on the engine so I can see visible improvements.<br><br>Going to be doing another build with more extensive diagnostic tools in the coming weeks along with more engine features. <br><br></td></tr></table><br>
<a name="874984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>nawi</b><br><div class="quote"> <br>Only on Windows = Useless. BlitzMax is supposed to be multiplatform. Next time choose an open an free physics solution. <br> <br></div><br><br>There's nothing stopping this from being a mac and linux solution either. It's 100% written in Blitzmax. I just don't happen to have a mac or a current linux install to compile on. I intend to get both working, but want to get the engine feature complete first. <br><br></td></tr></table><br>
<a name="875029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Only on Windows = Useless. BlitzMax is supposed to be multiplatform. Next time choose an open an free physics solution.  <br></div><br><br>Apparently it would work on non-windows as well, but still: Just because blitzmax in general is multi-platform, it doesn't mean that certain code that is platform specific isn't appreciated as well.<br><br>Not everyone writes code for all platforms, after all. <br><br></td></tr></table><br>
<a name="875048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> was it difficult to port C# code over to blitzmax?<br>did you have to convert it to C ? <br><br></td></tr></table><br>
<a name="875078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> The C# physics engine lent itself pretty well to porting to Blitzmax. Since it was designed from the ground up to be fast it stayed away from a lot of the 'C# candy' (for example: delegates) for the most part. There is very little difference, implementation-wise, between the Blitzmax and C# version. In fact, there were some portions of the C# code I ended up copying/pasting directly into Blitzmax with no syntax changes. So no, the port wasn't difficult just takes a while to do it plus debugging :). I did not have to convert any part of the code to C. I hope to keep it that way. <br><br></td></tr></table><br>
<a name="875180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nawi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There's nothing stopping this from being a mac and linux solution either. It's 100% written in Blitzmax. I just don't happen to have a mac or a current linux install to compile on. I intend to get both working, but want to get the engine feature complete first. <br></div><br><br>Okay, I just thought that the lib itself was Windows only. <br><br></td></tr></table><br>
<a name="875568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; @Jim Brown<br>I'm curious on the performance on the other demos if those two were so low. Are they all sluggish also?<br><br>All others are rather good Alex. I get 100FPS most of the time.<br>Having restarted the laptop and set performance to HIGH I can now get:<br><br>Demo 4 = 70FPS moving or static<br>Demo 8 = 4FPS moving or static<br><br>Hope that helps <br><br></td></tr></table><br>
<a name="875601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Jim that data is helpful. I forgot that some laptops operate at slower clock speeds and what have you with lower power consumption. <br><br></td></tr></table><br>
<a name="876243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Laptop on Windows XP SP2<br>Intel Core 2 Duo CPU T7250 @ 2ghz<br>2Go RAM<br>Nvidia GeForce 8400 GS<br>1280x800x32 @ 60Hz (probably why the refresh is poor in window mode)<br><br>Every Demos except 8 : 100fps~102fps Idle<br>with demo 8 : 88fps~98fps Idle<br>Playing with demo 4 : 86fps~96fps<br>Playing with demo 8 : 79fps~101fps (look better than idle ?)<br><br>Do you have plan to release this as a module community or something ?<br>And any idea about the license ? <br><br></td></tr></table><br>
<a name="876274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info Armitage. I do plan on releasing this to the community to use. I imagine a 'module' is the preferred way to distribute reusable blitzmax code for the community, but I may also just distribute the source as-is for those that want to keep the source with their game project folders and just do an 'import farseer.bmx'. Any comments/suggestions on that matter would be appreciated.<br><br>Also, Armitage I've replied to your above questions and the ones you posted on my <b><a href="http://www.paradeofrain.com/?p=78#comments" target="_blank">blog in the comments section</a></b>. <br><br></td></tr></table><br>
<a name="877741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AlexO</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> For those interested in keeping up with the status of this engine I've posted a youtube video of some of the new joints I've ported over. <br>More info can be found on <a href="http://www.paradeofrain.com/?p=84" target="_blank"><b>my blog</b></a>. The youtube video can be found <a href="http://www.youtube.com/watch?v=w0p2y4dRylQ" target="_blank"><b>here</b></a>. <br><br></td></tr></table><br>
<a name="878235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Axel Wheeler</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great stuff!<br><br>I got about 40-100 fps normally in demo 4 regardless of activity level (but see below).<br><br>In demo 8 it went from around 14 fps with nothing happening to 1 with lots of stuff happening.<br><br>I noticed two cool/odd things in demo 4:<br><br>1. Even though the blocks clearly have friction (they slow down quickly when sliding) they seem to have a constant microscopic jiggle which causes them to move slowly.  The pyramid will collapse by itself in time.  I had fun just trying to keep this from happening!  I would "fix" the pyramid by dragging the blocks as needed, but it eventually always falls.  Add a timer and you've got yourself a game!<br><br>2. As I adjusted the blocks I sometimes found the framerate dropping way down (to 1 sometimes) until I stopped adjusting things (then it would slowly return to normal).  The sluggishness was unrelated to the actual activity level; only to how frequently I was clicking and dragging.<br><br>I have a Dell Dimension 2600 w/ Intel integrated graphics (82865G).<br>P4 2.8 GHz<br>XP Pro SP2<br><br>I hope this helps.<br><br>-Axel <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
