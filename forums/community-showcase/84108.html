<!DOCTYPE html><html lang="en" ><head ><title >Terra Tiles</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Terra Tiles</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Terra Tiles</a><br><br>
<a name="949952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is one of my current projects: Terra Tiles - a terragen-to-meshterrain loader with a scenery engine (day/night system) and a dwarf you can steer over this terrain. As input there are only two files necessary, the terragen terrain and the matching megatexture - other parameters can be changed in the INI file or the program will calculate it automatically.<br><br>The dwarf steering is similar to the game "Gothic", but it is possible to switch to a freeflight mode, too. There are many parameters to change described in the readme.txt. I added three demo maps to the package, they are completely different to show the potential of this demo.<br><br><br><b>FEATURES</b><br><br><br><b>1. Terragen-Loader</b><br>It is possible to load any terragen file, it must be quadratic with a resolution of 2^n+1 (not: 512x512 but 513x513!). The terrain can be resampled from a higher resolution to a lower resolution with a bilinear filter (ex. 513x513 -&gt; 129x129). The terrain gets cut automatic considering uv-coordinates, chunk normals and texture transitions by a given tilesize parameter (ex. source map 513x513, 4096x4096 megatexture -&gt; 16x16 tiles with 32x32 vertices and a 256x256 texture part each). In the demo, there is a 513x513 terrain with a 20 meter per vertex distance resolution, so the island has a square footage of about 100km², in realistics dimensions.<br><br><b>2. Realistic day/night system</b><br>Using gradients, smart quad blending and a sky dome (a patch with a bulge in the center), a realistic? but at least very nice day/night transition is simulated. The terrains gets lighted by 2-3 light sources according to the time of day and with vertex shading nice light effects appear across the whole day. Additional, there is a starry night scene and a moon (you can even define the moon phase).<br><br><b>3. Character Steering</b><br>You can steer the dwarf like in the game "Gothic", the cam can be rotated around the character 360° with the mouse. There is gravitation and the dwarf scale is relative to the terrain scale. In freeflight mode you can cover larger distances in seconds. Switching the modes positions the dwarf to the cam position and vice versa.<br><br><b>4. Minimap</b><br>The minimap is to locate the player on the terrain. The map is a real snapshot of the terrain made with an orthogonal cam from bird's eye view, layed on a quad with the player as a red dot.<br><br><br><b>SCREENSHOTS</b><br><br><br><b>Screenshot: Monkey Island 07:15am, sunrise in the east</b><br><img src="http://www.christianhart.de/bb/MI1_compare.jpg"><br><br><b>Screenshot: Other Island 07:15am, sunrise in the east</b><br><img src="http://www.christianhart.de/bb/MI2_compare.jpg"><br><br><br><b>DOWNLOAD</b><br><br><br><b>Download Demo (3.5MB 7zip SFX)</b><br><a href="http://www.christianhart.de/bb/terratilesdemo.exe" target="_blank">http://www.christianhart.de/bb/terratilesdemo.exe</a><br><br><br>The demo is running fine but is not optimized yet, there is no LOD/PVS and the steering of the dwarf is the very first version, especially jumping is not finished. But you can test your own terrains / megatextures with this demo and change parameters in the INI file (but be careful - there is no plausibility check of them - the application can crash)<br><br>Source and Media will be released as soon as they are cleaned up, optimized and commented completely. <br><br></td></tr></table><br>
<a name="950005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm really impressed with your day/light cycle and how it effects the lighting. Terrain is pretty huge and smooth too! Great work! Your gallery submission gets a 5/5 from me. <br><br></td></tr></table><br>
<a name="950023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a play with it, it's pretty nice, interesting in wireframe too.<br><br>The lighting is good but I was a bit confused by the per-vertex sort of `baked in` shadows - ie as the sun moves around some sides of hills stay dark while the other sides are light - a bit odd, but I guess you're not doing realtime shadows. <br><br></td></tr></table><br>
<a name="950054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't be confused, its an illusion. I don't calculate realtime shadows here, Blitz does it for us with two light sources (directional and point light). The shadow quality increases with the vertex amount, I tested it once with a 2049x2049 map (5 FPS there, LOL) and it looked really nice - but was unplayable.<br><br>So the lighting is a mix of a prerendered shadow map combined with the megatexture and realtime light. I prerendered the shadowmap in the same angles like the lightsources are placed later (in L3DT: Setting "noon" which is 180° / 40° and matches with about 12:00am). For real shadows you have to calculate the shadowmap every single angle change and this will slow down the whole scene dramatically (or use a lower resolution which looks bad).<br><br>So I think it is a good compromise here and still looks nice, even at night. <br><br></td></tr></table><br>
<a name="950064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoa, nice job! <br><br></td></tr></table><br>
<a name="950068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why are you using both directional and point lighting?<br><br>Ambient lighting is the only second light source that I would alter in conjunction with whatever is being used as sun/moon light.<br><br>I noticed the dwarf was multi-lit, but this is somewhat unrealistic and unnecessary.<br><br>More use of dynamic ambient lighting is required.<br><br>I would understand the second light source if it was casting negative light.  It is okay to throw dynamic, negative (black/dark), lighting to compensate for Blitz lighting through geometry which the light cannot reach in real-life (if you are trying to compensate for the directional lighting). <br><br></td></tr></table><br>
<a name="950069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, I couldn't work out whether you are, or are not, changing the sunlight colour.  If so, then it was not dramatic enough.<br><br>I always dynamically change the sunlight colour - ie when it is setting and rising it should be deeper orange/red - it has a nice effect on landscape and objects when you do this.  As the sun rises, then you can drop it from it's red/orange, through yellow, to white or near white and then dip the colours again at sunset. <br><br></td></tr></table><br>
<a name="950093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> With only directional light, the terrain FX for sunrise / sundown is not "dramatic" enough, it looks too flat so the point light strengthens the whole lighting. I was experimenting a long time with the lights and the combination of Ambientlight not greater than 128, and a directional light and an additional point light changing its color and range gave the best results to me. There are many parameters to balance, and they are changed according to the sun angle, including sunlight color.<br><br>It is is not perfect, it is the first presentable version. There are lot of tweakings possible, ex. my gradients for sunlight. You can take a look at all my data fields, the first data represents the percentage between 0.0 and 359.9° (a whole day) where 0.0/100.0 is midnight and 50.0 is noon, and a smooth gradient between the r,g,b colors is being calculated (1440 steps, 1440 = 60 minutes x 24 hours).<br><br>You will notice that the percentages and RGB values are set very roughly, you could spend days to tweak them all until they look very realistic. I think they look cool enough.<br><br><pre class=code>; -------------------------------------------------------------------------------------------------
; Color Gradient Source (Percent,R,G,B)
; -------------------------------------------------------------------------------------------------

.Ambient
Data   0.0, 16, 32, 64
Data  15.0, 16, 32, 64
Data  25.0,128, 96, 64
Data  35.0,128,128,128
Data  50.0,128,128,128
Data  65.0,128,128,128
Data  75.0,128, 96, 64
Data  85.0, 16, 32, 64
Data 100.0, 16, 32, 64

.Sunsize
Data   0.0,  0,  0,  0
Data  10.0, 32, 32, 32
Data  25.0,192,192,192
Data  35.0, 96, 96, 96
Data  50.0, 96, 96, 96
Data  65.0, 96, 96, 96
Data  75.0,192,192,192
Data  90.0, 32, 32, 32
Data 100.0,  0,  0,  0

.StarLight
Data   0.0,255,255,255
Data  20.0,128,128,128
Data  25.0,  0,  0,  0
Data  50.0,  0,  0,  0
Data  75.0,  0,  0,  0
Data  80.0,128,128,128
Data 100.0,255,255,255

.MoonBright
Data   0.0,255,255,255
Data  15.0,255,255,255
Data  20.0,192,192,192
Data  25.0, 32, 32, 32
Data  50.0,  8,  8,  8
Data  75.0, 32, 32, 32
Data  80.0,192,192,192
Data  85.0,255,255,255
Data 100.0,255,255,255

.Light1Range
Data   0.0,  0,  0,  0
Data  20.0,  8,  8,  8
Data  25.0,128,128,128
Data  30.0, 64, 64, 64
Data  50.0, 32, 32, 32
Data  65.0, 64, 64, 64
Data  70.0,128,128,128
Data  80.0,  8,  8,  8
Data 100.0,  0,  0,  0

.Brightness
Data   0.0,  0,  0,  0
Data  25.0,255,255,255
Data  35.0,128,128,128
Data  50.0, 64, 64, 64
Data  65.0,128,128,128
Data  75.0,255,255,255
Data 100.0,  0,  0,  0

.ClsColor
Data   0.0,   4, 8, 16
Data  15.0,   4, 8, 16
Data  25.0, 32, 48, 64
Data  35.0,100,150,200
Data  50.0,100,150,200
Data  65.0,100,150,200
Data  75.0, 32, 48, 64
Data  85.0,   4, 8, 16
Data 100.0,   4, 8, 16

.HazeColor
Data   0.0, 12, 24, 48
Data  15.0, 12, 24, 48
Data  25.0, 64, 64, 64
Data  35.0,200,224,255
Data  50.0,200,224,255
Data  65.0,200,224,255
Data  75.0, 64, 64, 64
Data  85.0, 12, 24, 48
Data 100.0, 12, 24, 48

.LightCol
Data   0.0,  0,  0,  0
Data  15.0,  0,  0,  0
Data  25.0,255,192,128
Data  35.0,255,255,192
Data  50.0,255,255,255
Data  65.0,255,255,192
Data  75.0,255,192,128
Data  85.0,  0,  0,  0
Data 100.0,  0,  0,  0

.OceanCol
Data   0.0,  8, 16, 24
Data  25.0,  0, 32, 96
Data  35.0, 32, 64,192
Data  50.0, 32, 64,192
Data  65.0, 32, 64,192
Data  75.0,  0, 32, 96
Data 100.0,  8, 16, 24</pre> <br><br></td></tr></table><br>
<a name="950175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very, very impressive - for what looks to be a total environment solution.<br><br>How many hours/days/months have I spent tweaking my environment, and it doesn't look as good as yours.<br><br>I hope you're going to release this in some form - payable? <br><br></td></tr></table><br>
<a name="950180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Krischan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, no money. I'm a fan of open source. Gimme some time to clean up the messy code. <br><br></td></tr></table><br>
<a name="950247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's really generous of you, if I had done what you have done, I would defly sell it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
