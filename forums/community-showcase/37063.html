<!DOCTYPE html><html lang="en" ><head ><title >xgui - performance test</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >xgui - performance test</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >xgui - performance test</a><br><br>
<a name="406641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ---- = Edit = -----<br>UPDATED: test<br><a href="http://skn3.acsv.net/junk/xgui_test2.zip" target="_blank">http://skn3.acsv.net/junk/xgui_test2.zip</a><br>---- = Edit = -----<br><br>Anyone interested please test the following file. It is a gui for a game I am creating, and I need to test it's performance on various systems. It uses gadget buffering/realtime renders seamlessly, and can be skinned extensively.<br><br>At the moment it uses an image to composite all buffered gadgets into one. So a double buffered method. However drawing these to screen (especialy when they are large) casues a big impact. This is something I want to see if it happens on peoples systems.<br><br>Unfortunatly I can't think of a better alternative for buffering whole gadget groups so it will have to do for now.<br><br><a href="http://skn3.acsv.net/junk/xgui.zip" target="_blank">http://skn3.acsv.net/junk/xgui.zip</a><br><img src="http://skn3.acsv.net/images/xgui.png"> <br><br></td></tr></table><br>
<a name="406645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Big&amp;</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> FPS:86 <br><br></td></tr></table><br>
<a name="406695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> clever and fast! locked to refresh rate (85 etc) <br><br></td></tr></table><br>
<a name="406696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Daz</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using my work machine which isn't the fastest machine in the world (Intel 82845G/GL graphics card), but I was still getting 68 fps.  I will test it on my home machine when I get home tonight. <br><br></td></tr></table><br>
<a name="406761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> 60fps mainly, 55 when first selecting a window, but I could force it down to 35 if I resized the 'resize me' window wide enough to display the large button and clicked on the button furiously :)  Probably not a good real-world test, but that's as slow as it got.<br><br>P3/1G, ge4ti/4400, 256MB, winXP <br><br></td></tr></table><br>
<a name="406918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Locked to my max FPS of 60.<br><br>AMD XP 2100 <br>512 MB DDR<br>Ati Radeon 9600XT 256 MB <br><br></td></tr></table><br>
<a name="407009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dragon57</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 85 on the machine w/the Geforce card in my sig. <br><br></td></tr></table><br>
<a name="407279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool thanks for testing. The results seem good, but annoyingly I found a bug which meant that buffereing was being overwridden, so it was always drawing all the time. DOH! <br><br>So the results probably don't show much X)<br><br>I'll probably post an updated test once I figure out how to fix this bug. <br><br></td></tr></table><br>
<a name="407868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://skn3.acsv.net/junk/xgui_test2.zip" target="_blank">http://skn3.acsv.net/junk/xgui_test2.zip</a><br><br>Ok fixed it, had to rewrite a major chunk to be more organized X)<br><br>Currently in this test has maybe 3000 gadgets on screen (around 3000), so this should be a good jusge if my system can cope! <br><br></td></tr></table><br>
<a name="407878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maxes out at the monitor refresh rate, maybe use Flip False to get a true FPS. <br><br></td></tr></table><br>
<a name="407901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> 60 FPS.  My monitor refresh rate is 85hz so it's not capping there.<br><br>On average, it's pretty fast, the only real problem is that when you refresh a great deal of the image, it will go extremely slow for a bit.<br><br>I'm gonna take a wild guess (not really wild or a guess, but hey, it sounds better) and say that you can't use 3D?  If you can, then what in god's name are you doing using 2D? (I could add more to that, but I feel that sums it up).<br><br>Anyhow, looks nice, although the aliasing on edges is a bit ugly on anything that isn't 45/90 degrees. <br><br></td></tr></table><br>
<a name="407908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im making this in b+ so no, can't use 3d. It would require I start faffing around with single surface systems also, and I'd rather not have to deal with the texture dimensions hardware limit. Besides, there is much more optimization that can be done to this. Currently if you toggle a button in a window, it will update that entire window. I guess I'll make it only update the rect (would mean doing a scan for al l rects under it, due to masked graphics) the changing gadget is overlapping.<br><br>Can I ask what fps it was running at when you were idle, away from any gadgets ?. If it was 60fps, what are your pc specs. Note that in the test it is drawing 5 500x300 images each frame. So that is probably the bottleneck. <br><br></td></tr></table><br>
<a name="407980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This one's much slower.  I can shove it down to under 25fps simply by resizing windows (there's a VERY noticeable pause -- at least 500ms) when I click the window resizing area), and under 20fps by making that one resizeable button extremely large and pushing it.  If I fill the entire drawable area with those windows it bloody well crawls.  Idle speed with a mouse hovering over a hotspot on a window is 30fps; if the mouse is in the 'desktop' area or a neutral window area like a titlebar it's 60. <br><br></td></tr></table><br>
<a name="407991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to speed up window resizes, after a resize devide the window off into new/old space. (Old being already computed), then just update the gadgets in the 'new' space'<br><br>Result = downsize=instant, upsize=much smoother.<br><br>It would also be beneficial to view each window as a grid, rather than a whole. You can then v.easily make the window bigger, faster still by not having to reclaim a window size region in vid mem.<br><br>Just a suggestion, take it or leave it :) <br><br></td></tr></table><br>
<a name="408004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah once again I think the slow-downs are due to some bugs XD.<br><br>This code is pretty complex already with just windows and a few gadgets, 3500 lines o_O. For some unkown reason it is continuously refreshing after the initial refresh when you hover over certain gadgets.<br><br>When you resize a window, it will put its root group into realtime render mode. This will reuse gadgets that are buffered, and realtime draw gadgets that are able to resize (like titlebar, clientarea etc). Only when you stop resizing will it reallocate the memory used.<br><br>I think my next step now that I have it isolating the groups that are active, is to as you suggest, only update the parts of that group that change. Which wont be a pleasnt task.<br><br>Believe me, this test is faster than the first one, I tried the same number of windows/gadgets on the previous code and it crawled at 10fps on my rig. (current idle with flip false now is 800-1000fps). Anyway, back to coding.<br><br>Thanks for testing again :) <br><br></td></tr></table><br>
<a name="408322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can I ask what fps it was running at when you were idle, away from any gadgets ?. If it was 60fps, what are your pc specs. <br></div><br><br>That was the idle FPS.<br><br>PC:<br>P4 2ghz<br>GeForce 3 ti200<br>SoundBlaster Live! Value<br>512mb DDR RAM<br><br>Those're the only things I think would affect the actual FPS outside of the actual internals of drawing the GUI.<br><br>Anyhow, I expect the slowdown is not only due to the drawing of the rather large window images (buffers, blocks, etc.) but also some general areas handled by the code.  In any case, I do like the work you've done on it. <br><br></td></tr></table><br>
<a name="408361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maxed out on my refresh rate (75fps) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
