<!DOCTYPE html><html lang="en" ><head ><title >Ragdoll physics - no DLLs required</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Ragdoll physics - no DLLs required</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Ragdoll physics - no DLLs required</a><br><br>
<a name="267154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now, I'm not going to pretend that my code is the answer to all your physics needs, but I've written a ragdoll physics system that seems to work "good enough" in the space of two days.<br><br>I tried Halo's ragdoll system, but I couldn't find a good way to attach an actual 3D model to it.  From what I could tell (admittedly there wasn't much of his code I could understand), he wasn't completely tracking the angles at each node, which makes it fine for the OrbMan there, but not too good for a full 3D model.  Bouncer's ragdoll system was even worse suited for the job, since it couldn't constrain the joint angles at all.<br><br>My ragdoll demo includes source (no extortion required), a full 3D model with constrained and angled joints, a simple environment, and the ability for a user to click and drag on any node.<br><br>Download here: <a href="http://www.almackey.com/Drunk.zip" target="_blank">http://www.almackey.com/Drunk.zip</a> <br><br></td></tr></table><br>
<a name="267155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats cool<br><br>A drunk skunk that we can smack about and throw into furniture is good in my book :) <br><br></td></tr></table><br>
<a name="267156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quite cool... Very close to Hitman's body stuff. <br><br></td></tr></table><br>
<a name="267157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> no extortion required....LOL, good one Al :)<br><br>nice code too.<br><br>--Mike <br><br></td></tr></table><br>
<a name="267159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> None required, but always appriciated. :) <br><br></td></tr></table><br>
<a name="267222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Falelorn</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> OMG I love it. Thats actually kinda fun in a very SICK way. <br><br>Now if you could drop the skunk on a spear or at the top of a conveyer belt and have it keep falling in different ways that would be hillarious <br><br></td></tr></table><br>
<a name="267230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great.  I hope you continue improving this. <br><br></td></tr></table><br>
<a name="267337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good, the only problem is that sometimes limes flail around really fast, almost as if the code cannot decide where they should be, so they flicker around between the two.  There needs to be something to restrict speed of movement. <br><br></td></tr></table><br>
<a name="267407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> great fun, nice one. <br><br></td></tr></table><br>
<a name="267435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks good :) <br><br></td></tr></table><br>
<a name="267443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, AtomicX..  Joints were jumping between the low and high constraints.  I did fix it by storing the current angle as a variable, instead of re-rading it from the entity each frame where it can jump +/-360 degrees..  but doing that seemed to make other problems more pronounced.  More work to be done. <br><br></td></tr></table><br>
<a name="267486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zephar123</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good work al mackey and thanx for nto trying to sound like god :-). Although I love how you nicely threw in what i thought all along that Bouncer's ragdoll system was even worse. ;) <br><br></td></tr></table><br>
<a name="267656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Al<br><br>Is it possible to track the movement of each point and interpolate or ignore the movement if it is too dramatic - or would that be too expensive in terms of CPU time? <br><br></td></tr></table><br>
<a name="267659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Litobyte</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks marvelous !!!<br><br>[quote]Looks great. I hope you continue improving this.[\quote] Hey!<br>Halo I think this can be taken as an opensource thing as he provided the source, you can start now make your modification, and post it here, if we make all so, we can easily improove this to a stable easy to use thing for all.<br><br>[quote]My ragdoll demo includes source (no extortion required), a full 3D model with constrained and angled joints, a simple environment, and the ability for a user to click and drag on any node. [\quote]<br><br>LOL@ no extortion required <br><br></td></tr></table><br>
<a name="268547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update, update!!<br><br><a href="http://www.almackey.com/Drunk2.zip" target="_blank">http://www.almackey.com/Drunk2.zip</a><br><br>This update has a completely retooled engine that is much better at keeping limbs in their constraints, and allowing for different kinds of lag which can make the body look a little more fluid.  It also has a new body model, and a new environment (room and basement with connecting stairwell). <br><br></td></tr></table><br>
<a name="268685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John-Robin</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, it looks really good!! The update is indeed much better, but perhaps the stretching of the limbs when picking up is too exaggerated for humans :) Looks wonderful though, could become a new national sport :)<br><br>John-Robin <br><br></td></tr></table><br>
<a name="268897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rhuk</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is really awesome stuff! I can't believe how little code is behind this demo, truely amazing.  I would also be interested in turning off the limb stretching, but from my initial look through the code, I didn't see where it was being done :( <br><br></td></tr></table><br>
<a name="268919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> The worst of the stretching is caused by the way the model is dragged when you click on it..  it forces whatever part you dragged to the mouse's position, the the rest are left to follow at their own pace.<br><br>You can adjust how "tight" the bones are with some of the global variables defined at the top, especially with "AngularRigidness" and "BoneRigidness", but if BoneRigidness is set too high, it may cause the body to twitch violently to compensate for small changes. <br><br></td></tr></table><br>
<a name="268953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elias_t</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice man !<br><br>The "drag-effect" is better then on Hitman I believe. <br><br></td></tr></table><br>
<a name="268961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not hitman yet... it's very good though. You really need to make the collisions better... and the body is not behaving properly. Otherwise good stuff. <br><br></td></tr></table><br>
<a name="268998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> To be honest, I haven't played Hitman yet so I don't have a point of reference.  But yes, it's still far from perfect, but it's much better than it was last week.  I think the most annoying bug now is that collisions between points aren't checked, so a foot can get stuck on the other side of a thin wall (like the one in the middle of the stairwell) from the rest of the body. <br><br></td></tr></table><br>
<a name="269024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tranz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that is nice!<br><br>The models are nice as well, you make those yourself? <br><br></td></tr></table><br>
<a name="269028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Al Mackey</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes.  These are actually models from another project I did in LightWave a year or two ago, but they were very well-suited for this, so I converted them to B3D format. <br><br></td></tr></table><br>
<a name="269381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow, keep up the good work, truly outstanding stuff. <br><br></td></tr></table><br>
<a name="269391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> woah! I never really looked at this yet. Top stuff. physics are a little buggy as far as rapid twitches go, but heck, the main cool thing is the rotation of the bones. I tried making somthing similar to this, but at that time I didn't have much experience with bones. I did somthing very similar to halos, but instead of releasing it in ball form, I did it straight into an animated mesh, I realized they needed rotation, but there wasn't much of a way to do it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
