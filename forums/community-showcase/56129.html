<!DOCTYPE html><html lang="en" ><head ><title >WIP - Realtime Raytrace</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >WIP - Realtime Raytrace</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >WIP - Realtime Raytrace</a><br><br>
<a name="624272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've no idea if there's another name for the method i'm using, but I think of it as ray tracing.  Or, to use an even fancier title, realtime light source obsfuscation and partial object shadowing...<br><br>The effect is a little slow at the moment, but I can see lots of optimisations yet although this was an idea I had after doing the tree system, and if i'd done the trees another way it would be even quicker so I may well write the whole thing from the start again.<br><br>It's not quite quick enough to show an exe yet, but I thought you might appreciate some screenies... :)<br><br>These pictures show partial shadows cast by trees onto the armoured personel carrier (also cast by hills but not shown).<br><br><img src="http://www.bansheestudios.com/img/rayTrace1.jpg"><br><img src="http://www.bansheestudios.com/img/rayTrace2.jpg"><br><br>The effect works by effecting a secondary texture co-ordinate set which points to a 4x4 gradient image.  Rays are cast between the lightsource and the vertice to assertain if the route is obfuscated by either the landscape or an object (including mobile objects) within the world.  Each vertice is handled in turn, so the effect is quite slow.<br><br>However i've found I can greatly speed up the effect by grouping vertices to a single ray and I'm now toying with the idea of making a ray-grouping editor application in order to improve the quality of the effect and reduce the quantity of groups necessary to achieve a disereable result. <br><br></td></tr></table><br>
<a name="624286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No offense Banshee, but what am I supposed to be looking at in those screenies? I don't see any shadows. <br><br></td></tr></table><br>
<a name="624288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> They're being cast onto parts of the armoured personell carrier by trees.<br><br>I've not done floor lighting yet, I was just going to do standard decals for that.<br><br>I've managed to reduce calculation times to as near instant as i'm ever likely too - now I just want to improve the groupings with an editor. <br><br></td></tr></table><br>
<a name="624357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul Murray</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I see, that last pic, there appears to be a soft shadow on the corner of the tank.<br><br>Am I looking at the right thing? <br><br></td></tr></table><br>
<a name="624358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that's being cast by a tree canopy just behind the camera.  The top picture shows the left front of the tank in full light and the right front of the tank being shadowed by the tree to the left of the picture.<br><br>The system is having some difficulty though because of the way i've done the flora, so i'm going to rewrite the whole terrain system from the ground up and introduce some new landscaping ideas i've had. <br><br></td></tr></table><br>
<a name="624367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This shows it a bit clearer, i've entityOrdered a yellow sphere to show where the lightsource is, although it's actually behind the tree.  Casting a shadow across the right hand side of the vehicle.<br><br><img src="http://www.bansheestudios.com/img/rayTrace3.jpg"> <br><br></td></tr></table><br>
<a name="624384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Braincell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> So its a bit like per vertex lighting, only using textures?<br><br>If so you could just flip the normals of verts that are under shadow, could be faster. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
