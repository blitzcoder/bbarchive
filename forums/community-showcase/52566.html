<!DOCTYPE html><html lang="en" ><head ><title >Naked War:  Camera Routines (are hard work)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Naked War:  Camera Routines (are hard work)</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Naked War:  Camera Routines (are hard work)</a><br><br>
<a name="586959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Naked War is a turn-based email game in which each side has four units. Fundamental to the concept, all 4 units turns are planned ahead of time and executed together. This works really well for email and prevents cheating as the turn is sent before you get to see the outcome.<br><br>Having 4 units move at once means there is quite a lot of information to take in when the turns are executed. My original solution used multiple camera views with each unit having in inset close up view all overlaid on a top down view which attempts to keep everything visible.<br><br>This works really well and you get lots of cool shots of the units in action but quite a few people have found this confusing - especially when they are first learning to play.<br><br>Here is a turn using the multicam system:<br><br><a href="http://www.zee-3.com/video/multicamturn.wmv" target="_blank">http://www.zee-3.com/video/multicamturn.wmv</a><br><br>All along I thought a single camera view would be good but I thought it would be virtually impossible to create a satisfactory single viewpoint that could keep up to 8 active objects visible at all times on complex maps (with walls, cliffs, bridges etc.).<br><br>Anyway, at the weekend I had a bit of a brainwave. What if I use an isometric style view with a limited number of angles, and score each viewpoint in realtime according to how many of the active objects are visible? By using a very long (but zoomed in) view I can treat it as an almost parallel projection so in each tile I can store a simple flag to say whether that tile is visible from any given angle. In the end I found that 8 angles was pretty much enough to achieve the result.<br><br>What surprised me is that by not worrying about finding the impossible perfect angle, the best available angle is great 99% of the time.<br><br>Throw in an autozoom feature and a few tweaks and you have a pretty smart looking camera which conveys a lot of information without overloading the viewer.<br><br>Here's the exact same turn using the single camera view:<br><br><a href="http://www.zee-3.com/video/monocamturn.wmv" target="_blank">http://www.zee-3.com/video/monocamturn.wmv</a><br><br>A pleasant surprise was how well the two views complement each other. The player can switch between the views on the fly.<br><br>There is no manual camera control in either video. <br><br></td></tr></table><br>
<a name="586967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like it.<br><br>I don't believe in user-controlled cameras. Perhaps nintendo will get that right one day. <br><br></td></tr></table><br>
<a name="586973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The isometric view is way better... very nice. The only thing that throws me off is that I tend to hear the shot, then have to look for where it's coming from, by which time I've failed to spot what's happening.<br><br>It might be worthwhile drawing attention visually to who's about to fire in some way or other (ideally with accompanying sound). Seeing where the shot is aimed beforehand will make it more tense if it's aimed in your general direction.<br><br>(BTW Your server must fairly rock -- I was getting sustained 470+ K download speeds for those two videos.) <br><br></td></tr></table><br>
<a name="586977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>It might be worthwhile drawing attention visually to who's about to fire in some way or other (ideally with accompanying sound). <br> <br></div><br><br>Yep, I'm looking into that now.   The multicam view takes care of this by wobbling the window a bit just before firing.  I'm looking for something else for the monocam.<br><br>That's good news about the server!<br><br>EDIT: Came up with a solution.  Video uploading now... <br><br></td></tr></table><br>
<a name="587004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matt McFarland</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think your game is looking very very very very nice! I cant wait until it's finished and congratulations on your hard work! <br><br></td></tr></table><br>
<a name="587005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bouncer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have said it before, but I'll say it again....<br><br>DAMN this project looks good... the gfx are so... hmmm... commercial quality.<br><br>Keep it up. <br><br></td></tr></table><br>
<a name="587009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay new vid:<br><br>Because shots are staggered (for clarity) anyway, I realised I can make the camera zoom in on the unit taking the shot.  <br><br>In this turn I've got two tanks on opposite sides of the map shooting at the same time (but staggered)<br><br><a href="http://www.zee-3.com/video/monocamplus.wmv" target="_blank">http://www.zee-3.com/video/monocamplus.wmv</a><br><br>(You can hear an email arriving at the end of the vid - good old fraps!) <br><br></td></tr></table><br>
<a name="587077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tri|Ga|De</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> SUPERP!<br><br>This must go commercial! <br><br></td></tr></table><br>
<a name="587096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is commercial.  The software will be free but we'll be charging to use the service.  We havent worked out the pricing yet but we're looking at about 12GBP for a number of 'challenges' each one will allow you to start a game (which can go on for an indefinite number of turns).   You'll be able to challenge anyone - the recipient doesn't have to pay anything.<br><br>We're calling this a 'community' game with all sorts of stuff built around the game community.   More details when we get closer to launch. <br><br></td></tr></table><br>
<a name="587099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that's much better. It really looks the business!<br><br>I was thinking (on that last video) that when the tank goes on a long journey, the engine sound is quite repetitive. I wondered if it might sound decent if the engine noise was sped up/slowed down very slightly according to the angle of the tank body (up a bit when climbing, down when descending). It would add a little variation, especially when there's more than one moving at a time. <br><br></td></tr></table><br>
<a name="587100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matt McFarland</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh is it a UK Only game? <br><br></td></tr></table><br>
<a name="587103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not at all. <br><br></td></tr></table><br>
<a name="587142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This game seems to be coming alone very nicely..<br>Im still wondering how much you would charge for the engine there is alot of things I could see that could be made using this style of engine.. <br><br></td></tr></table><br>
<a name="587195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow.  This looks very good John, the third movie definitely feels like it plays better and is less confusing, although the zoomed in versions were pretty neat too.  One thing though, I'd zoom to the tank before the turret moves round, not after it rotates but before firing.  Also agree on the sound thing, some slight variation would be good. <br><br></td></tr></table><br>
<a name="588618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another, slightly more frivolous mode.  A Dallas style split-screen.<br><br><a href="http://www.zee-3.com/video/splitscreen.wmv" target="_blank">http://www.zee-3.com/video/splitscreen.wmv</a> <br><br></td></tr></table><br>
<a name="590694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got the look ahead system working.  The system now takes two types of input - points that affect the camera target and zooming (scrolling)  and points that affect the rotation.    These latter points are used for the look ahead system so when a unit approaches a part of the landscape where it might be obscured,  the camera will (hopefully) rotate to prevent this.<br><br>It works pretty well I think.  It's a bit twitchy in places and sometimes the optimal route isn't what a human camera operator would do.   But overall I think it's pretty good for a 100% automated system.<br><br><a href="http://www.zee-3.com/video/lookahead.wmv" target="_blank">http://www.zee-3.com/video/lookahead.wmv</a> <br><br></td></tr></table><br>
<a name="590718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking good! I noticed it wobbled a bit on the corners of that castle, but it's still impressive.<br>By the way - the wmv files on your server load as text in firefox, meaning the MIME types haven't been set up properly. Might want to look at the apache config to fix that... <br><br></td></tr></table><br>
<a name="590736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah,  I'm sure I can iron out that wobbling.  It's a matter of knowing when to stop and move on to something else.  You could spend forever on cameras. <br><br>I think I can improve some of the rotations.  Currently when it chooses a new angle it goes by the shortest way around (which seems logical).   But I think it might be better to choose the direction based on the visibility score of the intervening angles.   So it's better go go the long way around if it keeps the unit(s) in view.<br><br><br>Server stuff: No idea what any of that means.  I'll pass the comments on to someone who does.  Cheers. <br><br></td></tr></table><br>
<a name="590767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe some curve-fitting algorithms would help reduce the wobble - ie smooth out those L-shapes to more of a diagonal. <br><br></td></tr></table><br>
<a name="590793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's all curves.  The camera rotates about the target.   It's more to do with decisiveness and choosing the best direction to turn. <br><br></td></tr></table><br>
<a name="594261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dude. Rockin'. Must have it. :) <br><br></td></tr></table><br>
<a name="594616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qube</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> John, that is some very impressive camera work indeed. It's nice to see attention to detail where it all makes the difference :)<br><br>*side note*<br>The WMV files opening as text files in firefox is a simple fix on the server side.<br><br>add the following line into the httpd.conf on the server (if using apache)<br><br>AddType Windows Media Audio/Video file .wmv <br><br></td></tr></table><br>
<a name="594978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Pickford</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers.  I'll be speaking to (drinking beer with) our 'IT department' tonight.<br><br>I've fixed most of the 'wobbles' with the camera now.  I think it's pretty much as good as it can get for an automatic system now.  It's probably not worth posting another video for a small improvement. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
