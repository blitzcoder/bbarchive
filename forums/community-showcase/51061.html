<!DOCTYPE html><html lang="en" ><head ><title >Water demo</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Water demo</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Water demo</a><br><br>
<a name="569174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >@rtur</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,ppl.<br>Here is demo of water processing userlb.<br>It has 10x speed comparing native blitz water processing.<br>Demo you can get from here: <a href="http://tormoz.nm.ru/water_particle_atm.exe" target="_blank">http://tormoz.nm.ru/water_particle_atm.exe</a><br>Screen:<br><img src="http://artur.ag-tools.com/400300.jpg"><br><br>All questions to Maxus(maxus_rus@...) <br><br></td></tr></table><br>
<a name="569177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow, that is pretty ! <br><br></td></tr></table><br>
<a name="569184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Judd</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks really good.<br><br>Funky Frank <br><br></td></tr></table><br>
<a name="569243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's nice.  Very dilligently and skillfully put together.<br><br>The real question for me though is, how versatile is this?  Can it be applied to other wattery uses or is it really just for ponds and still lakes? <br><br></td></tr></table><br>
<a name="569249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >regaa</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice! Looks really interesting and realisitc. Have you observe your garden or have you translate some code into Basic? :D <br><br></td></tr></table><br>
<a name="569270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatoly</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2 @rtur:<br>Yes, Russians take over blitz!<br>Nice demo!!! <br><br></td></tr></table><br>
<a name="569278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice demo. The FPS conuter lies like a cheap watch, though. :P <br><br></td></tr></table><br>
<a name="569300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice demo..except I think FLIP mode is false since FPS is pretty high(270 fps) but movement is not smooth at all for given FPS, and water reflection is not acurate at all.....anyway, nice water.. <br><br></td></tr></table><br>
<a name="569328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >@rtur</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi ppl<br>Thanks for your coments :)<br>Userlib can be used for any type of water.<br>Here is FPS counter:<br><br>frames=frames+1<br>If MilliSecs()-render_time=&gt;1000  Then afps=frames : frames=0 : render_time=MilliSecs()<br>Text 20,10,"FPS   "<br>Text 80,10,afps<br>Flip 0<br><br>This lib written by this two coders:<br>tormozas@...<br>maxus_rus@...<br>They are usually do not read this forum, so if u have any questions feel free to contact them. <br>Btw, they also developed particle processing userlib. It process particles about 100 times faster than blitz(note: processing, not rendering :) ).<br><br>All the best. <br><br></td></tr></table><br>
<a name="569540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> "memory access violation" <br><br></td></tr></table><br>
<a name="569569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That FPS counter isn't all that accurate :-(<br><br>Try This:<br><pre class=code>

FPSTimer = Timer_Create()
;Start Loop
Timer_StartTime(FPSTimer )

;Do Stuff Here
FPS = Timer_GetTime(FPSTimer )
if FPS = 0 then FPS = 1000 else FPS = 1000/FPS
Text 0,0,"FPS:"+FPS

Timer_EndTime(FPSTimer )
;End Loop


;=============Timer Functions
Const Timer_Max = 50

Type TimerList
	Field ID
	Field STime
	Field ETime
	Field Times[Timer_Max]
	Field Average
	Field Ref
	Field Recorded
End Type
;======================================Average Timer Functions
Function Timer_Create(Average=Timer_Max)
	Local TI.TimerList
	TI.TimerList= New TimerList
	TI\ID = Handle(TI.TimerList)
	If Average &gt; Timer_Max Then Average = Timer_Max
	TI\Ref = Average
	Return TI\ID
End Function

Function Timer_StartTime(ID)
	Local TI.TimerList
	TI = Object.TimerList(ID)
	If TI &lt;&gt; Null Then
		TI\STime = MilliSecs()
	EndIf
End Function

Function Timer_EndTime(ID)
	Local TI.TimerList
	TI = Object.TimerList(ID)
	If TI &lt;&gt; Null Then
		TI\ETime = MilliSecs() - TI\STime
		TI\Average=0
		TI\Recorded = TI\Recorded + 1
		For X = 1 To TI\Ref
			TI\Times[x-1] = TI\Times[x]
			TI\Average = TI\Average + TI\Times[x]
		Next
			TI\Times[TI\Ref] = TI\ETime
			If TI\Recorded &lt; TI\Ref Then
				TI\Average = TI\ETime
			Else
				If TI\Average = 0 Then TI\Average = 0 Else TI\Average = TI\Average/TI\Ref
			EndIf
	EndIf	
End Function

Function Timer_GetTime(ID)
	Local TI.TimerList
	TI = Object.TimerList(ID)
	If TI &lt;&gt; Null Then
		Return TI\Average
	EndIf
End Function</pre><br><br>This is a handy little timer lib I use that averages out 50 scans (so the timer isn't speratic).  It's old code, so forgive how in-efficient the code is (coded it about 2 years ago and haven't touched it since, well outside of importing it into projects)<br><br>Suppose I should revisit it since I have learned so much about type Lists since then! <br><br></td></tr></table><br>
<a name="569578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's nice but quite dark on my Radeon 9800XT for some reason.  Although I was getting 300fps, the movement didn't appear smooth in 1024x768.  When I dropped to 640x480 it seemed smoother but I noticed the water had a funny reflection that was kind of like distorted scanlines or something (hard to describe). <br><br></td></tr></table><br>
<a name="569625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mrtricks</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great on mine. Very nice demo! <br><br></td></tr></table><br>
<a name="569788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SopiSoft</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great! :D <br><br></td></tr></table><br>
<a name="569897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >regaa</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ne ploho pazan :). A budet skoro wersia dla BlitzMax? <br><br></td></tr></table><br>
<a name="569899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anatoly</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ya dumaju - chto kogda 3d modul poyavitsya - budet! :-) <br><br></td></tr></table><br>
<a name="570046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >regaa</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds great. I am looking forward to this event :). <br><br></td></tr></table><br>
<a name="570104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats pretty dang cool lookin!! I like the fish jumping too! Runs fine on my old computer. <br><br></td></tr></table><br>
<a name="570470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clarks</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> damn.<br><br>it had me daydreaming for a while. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
