<!DOCTYPE html><html lang="en" ><head ><title >Mesh Smoothing Demo</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mesh Smoothing Demo</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Mesh Smoothing Demo</a><br><br>
<a name="1004153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All,<br><br>Long time! Just been playing with my old dismantled 3D Engine in BlitzMax and thought I'd show what I was tinkering with.<br><br><a href="http://www.TeraBit-Software.co.uk/MeshSmooth.zip" target="_blank"> Mesh Smoothing Demo (150kb) </a><br><br>The above demo shows a sphere and all the normals that go with it (Vertex &amp; Face Normals (Grey &amp; Red Lines respectively)).<br><br>There are two common methods (I know of) to set up vertex normals on arbitrary created meshes, both have problems.<br><br>1) Fully Smoothed - This is where every vertex that shares a common position has the normals added together and normalised. This makes cubes look bizarre since they try to smooth around the 90 deg. edges.<br><br>2) Smooth Welded - This is where welded vertices (triangles that share the same physical vertex) are smoothed across, whereas separate unwelded triangles are not. This causes problems because getting discontinuous UVs set up means unwelding some triangles, which means they don’t get smoothed.<br><br>The solution I went with on my engine was to go with adding a smoothing angle to #1. <br><br>So for each vertex which shares the same space, compare the face normals for the triangle they came from and measure the angle between them (dot product).  <br><br>If below a material defined threshold (Default 89.9 degrees) then smooth the normals between the triangles else leave them as they are. <br><br>The effect is best observed on the demo:<br><br>You use the up and down arrows on the keyboard to increase or decrease the smoothing angle respectively. <br><br></td></tr></table><br>
<a name="1004162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> UPDATE:<br>I have updated the demo to use a Cylinder instead of a Sphere since this shows the advantage of having things smoothed by angle. <br><br>Note the ends of the Cylinder do not get smoothed in until you go over 90 degrees, but the sides will once you get to 45 degrees. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
