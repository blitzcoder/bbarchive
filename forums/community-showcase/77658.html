<!DOCTYPE html><html lang="en" ><head ><title >CodeArea Module</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CodeArea Module</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >CodeArea Module</a><br><br>
<a name="869395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey. I am almost finished with my 3rd BlitzMax module which wraps up some textarea functions so that it is crazy easy to syntax highlight.<br><br>I will post a demo later. Let me know of your thoughts!<br><br><b>FEATURES:</b><br>*Set CodeArea font<br>*Set CodeArea background and foreground/text color<br>*Set CodeArea keyword color<br>*Set CodeArea comment color<br>*Set CodeArea digit color<br>*Set CodeArea string color<br>*Create a syntax list per CodeArea<br>*Retrieve textarea handle from the TCodeArea type<br>*Pretty much everything else that you can do with a textarea<br><br><b>POSSIBLE UPCOMING FEATURES:</b><br>*Set CodeArea operator colors<br>*Auto-Indenting<br>*Anything else I think of or anything that is suggested<br><br><b>FUNCTIONS:</b><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">CreateCodeArea:TCodeArea(x:Int, y:Int, width:Int, height:Int, group:TGadget, style:Int = CODEAREA_DEFAULT)
FreeCodeArea(codearea:TCodeArea)
SetCodeAreaColor(codearea:TCodeArea, red:Int, green:Int, blue:Int, background:Int = False)
SetCodeAreaKeywordColor(codearea:TCodeArea, red:Int, green:Int, blue:Int)
SetCodeAreaCommentColor(codearea:TCodeArea, red:Int, green:Int, blue:Int)
SetCodeAreaDigitColor(codearea:TCodeArea, red:Int, green:Int, blue:Int)
SetCodeAreaFont(codearea:TCodeArea, font:TGUIFont)
SetCodeAreaLayout(codearea:TCodeArea, lft:Int, rgt:Int, top:Int, bottom:Int)
SetCodeAreaStringColor(codearea:TCodeArea, red:Int, green:Int, blue:Int)
SetCodeAreaKeywords(codearea:TCodeArea, path:String)
CodeAreaLineCount:Int(codearea:TCodeArea)
CodeAreaCharCount:Int(codearea:TCodeArea)
CodeAreaLinePos:Int(codearea:TCodeArea)
CodeAreaCharPos:Int(codearea:TCodeArea)
UpdateCodeArea(codearea:TCodeArea)
GetCodeAreaText:String(codearea:TCodeArea)
CodeAreaHandle:TGadget(codearea:TCodeArea)
ClearCodeAreaKeywords(codearea:TCodeArea)
SetCodeAreaCommentOperator(codearea:TCodeArea, operator:String)
SetCodeAreaAutoCapitalize(codearea:TCodeArea, flag:Int)
AddCodeAreaText(codearea:TCodeArea, txt:String)
ActivateCodeArea(codearea:TCodeArea)
ClearCodeArea(codearea:TCodeArea)</textarea><br>...More being added...<br><br><b>SCREENSHOTS:</b><br><img src="http://www.kedsprograms.syntaxbomb.com/misc_images/screenshot1.PNG"> <br><br></td></tr></table><br>
<a name="869410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks VERY useful! <br><br></td></tr></table><br>
<a name="869559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks.<br><br>I updated the top and the demo is coming. <br><br></td></tr></table><br>
<a name="869562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That looks brilliant! <br><br></td></tr></table><br>
<a name="869587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The demo probably won't be coming out for a while because I found out the the highlighting is crazy slow when highlighting big files. Sorry for the delay.<br><br>btw: Thanks! <br><br></td></tr></table><br>
<a name="869590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The demo probably won't be coming out for a while because I found out the the highlighting is crazy slow when highlighting big files. Sorry for the delay. <br></div><br><br>The exact same thing happened to me when I first started developing the built-in codearea to my GUI editor (Max'd GUI) - still, I did manage to fix it in the end. <br><br></td></tr></table><br>
<a name="869605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it's insanely slow. I personnaly had to work around it by directly sending the RTF data to the underlying Windows control. But obviously, that's windows specific. <br><br></td></tr></table><br>
<a name="869615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The exact same thing happened to me when I first started developing the built-in codearea to my GUI editor (Max'd GUI) - still, I did manage to fix it in the end. <br></div><br>I can't seem to figure out how to fix it. I've tried highlighting it by line but it seems slower than highlighting it by character. <br><br></td></tr></table><br>
<a name="869679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you highlight it incrementally? Like 500 lines per increment or something? <br><br></td></tr></table><br>
<a name="869681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks very nice :)<br>I've started one by myself long time ago but give up as soon as it comes to get it work on Linux canvases (the whole keyevents were broken). It was able to load the whole MaxIDE Source within 70ms (including highlighting). <br><br>The trick for fast highlighting is just to calculate the visible lines instead of highlighting the total amount of lines.<br><br>Just as a proof ;)<br><br><img src="http://i2.photobucket.com/albums/y48/klepto2/CodeAreaFoldProto.png"><br><br>and <br><br><img src="http://i2.photobucket.com/albums/y48/klepto2/CodeareaTestImage.png"> <br><br></td></tr></table><br>
<a name="869686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ked: Function/comment folding would be nice. <br><br></td></tr></table><br>
<a name="869692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Klepto: Why is that not in maxide yet!?? That's awesomeness. <br><br></td></tr></table><br>
<a name="869821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good question.  There's a codearea been donated to the CE IDE before, but has some bugs, and I've never got round to hooking it up.  Would be fantastic to get a custom codearea into the CE IDE...and then we can add function folding, etc, etc... <br><br></td></tr></table><br>
<a name="869822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;3<br><br>EDIT: Klepto, I've noticed key problems in graphics windows aswell. Sounds like a bug that needs fixin. <br><br></td></tr></table><br>
<a name="869865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Could you highlight it incrementally? Like 500 lines per increment or something? <br></div><br>I thought about highlighting 200 (200 is just an example number) lines under the current line position but I'm afraid of scrolling down and seeing messed up highlighting.<br><br>Could you explain what you mean by incrementally? I think I know what you're talking about.<br><br><div class="quote"> The trick for fast highlighting is just to calculate the visible lines instead of highlighting the total amount of lines. <br></div><br>I thought about that also, but I don't know how to get the visible lines from a textarea.<br><br>ALSO: klepto: that looks very nice! <br><br></td></tr></table><br>
<a name="869871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ked, I was thinking you're using a custom textarea (simulated on a canvas) as I do. On windows  it is possible to determine the first and last visible line with some afford. (I have posted these functions somewhere in the module tweaks forum)<br><br>@All: Unfortunatly this codearea isn't continued due the incompatibility bewtween the different OS. My goal was a codearea which will work on all supported OS, but this is currently unreachable. Also the code is about 2 years old so I don't believe I will get into the code again. <br><br></td></tr></table><br>
<a name="869877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> On windows it is possible to determine the first and last visible line with some afford. (I have posted these functions somewhere in the module tweaks forum) <br></div><br>I looked at that but it doesn't update the first visible line when you scroll up or down.<br><br>I'm fine with making a canvas-based codearea if that's whats needed. <br><br></td></tr></table><br>
<a name="869888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the code is about 2 years old so I don't believe I will get into the code again. <br></div>Are you going to let it rot, or post the code? <br><br></td></tr></table><br>
<a name="870141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nevermind. I don't have the knowledge of making a canvas textarea. :P <br><br></td></tr></table><br>
<a name="870199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> here's my codearea, the one Mark Tiffany referred to I believe ... <br><a href="http://www.blitzbasic.com/Community/posts.php?topic=63829" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=63829</a><br><br>I had lots of plans but other stuff got in the way.  anyway, I donated the source to the CE ide and it should still be available there.  it's a completely custom canvas one, which I think is the only way to go for the best compatibility and more importantly the best performance. <br><br></td></tr></table><br>
<a name="870229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @dmaz - can anyone access your donated code (or is it for CE IDE developers' eyes only) and if so where can we find it?<br><br>@klepto2 - what Plash said... <br><br></td></tr></table><br>
<a name="870346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> dmaz's codearea code is in the CVS (link in sig) which anyone can download.  It is rather good, although there were a few minor bugs in it.   I certainly agree a custom canvas is the only way to get a decent codearea - there's only so much you can do with the textarea control.<br><br>It's not integrated into the IDE at all at the present time, so if anyone wants to contribute feel free to amend the standalone code in CVS.  One burning question was around what should go in the codearea and what should go in a parser, and what overlap is there with the IDE code.  This is by far the hardest part of integrating it - which I'd love to see, but don't the time do myself... <br><br></td></tr></table><br>
<a name="870352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunatly my old code is somehow broken, but I have started a new one today. Progress comes along nicely and the new Keymanager I have written seems to work on linux as well. <br><br>My 2 cents for the codearea parser stuff: <br>Like most codearea or syntaxcontrols I believe at least the highlighting should be completely managed by the codearea. Thats the reason why Scintilla or Snytaxbox are so fast. <br>I have a really powerfull (I believe) parser which is easily to integrate within my new codearea. It could already manage multiline comments, different keyword highlighting (each list could get their own colors and style) also folding is possible to integrate.<br>So in general you should leave highlighting to the codearea, but the other parser stuff like Codelists etc should have a seperate parser which is normally much easier to implement than the whole highlighter parser.<br><br>I will keep you up to date as soon as there is something to show. <br><br></td></tr></table><br>
<a name="870358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hopefully Brucey will have a part working wx maxide (see the CE IDE thread, he mentioned something about it) by the time you release that.<br><br>Then it should be as simple as using a wx.glcanvas :P.<br><br>EDIT: I think we totally hijacked his thread :( sorry <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
