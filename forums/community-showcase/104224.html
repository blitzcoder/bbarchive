<!DOCTYPE html><html lang="en" ><head ><title >Blue Moon</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blue Moon</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Blue Moon</a><br><br>
<a name="1261213"></a>

<a name="1261214"></a>

<a name="1261215"></a>

<a name="1261216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something slightly closer to useful than usual... announcing Blue Moon:<br><br><a href="https://github.com/Leushenko/blue-moon" target="_blank">GitHub project</a><br><br>(OK, still not actually useful, but getting closer)<br><br>Blue Moon aims to be a Lua 5.3 implementation in pure BlitzMax. It's a hybrid JIT/interpreter (jitterer?) using an innovative control system (actually it's a <a href="https://en.wikipedia.org/wiki/Return-oriented_programming" target="_blank">repurposed black-hat technique</a>). The goal is to layer over this engine a seamless Lua-BlitzMax API layer, that eats BlitzMax objects and spits out Lua tables without needing to get one's hands dirty with argument pushing and popping. The code is completely original and uses nothing from the PUC-Rio version.<br><br>At the moment early tests indicate that it's somewhat slower than the PUC-Rio interpreter (...oh), but I'm hoping to be able to change that later, once everything actually works correctly: the existing JIT framework should make it easy to dynamically swap in more efficient versions of the interpreter operations (and "inline" others to pure machine code), making it a system with a lot of potential for optimization. There's also a relatively ambitious plan for a faster GC. (comparing performance against stock Lua is kinda meaningless, but Blue Moon is obviously never going to compete with or even come close to LuaJIT, so pick your battles)<br><br>Blue Moon is currently very unfinished. There's no implemented GC, quite a low limit on the amount of machine code it can generate, many operations (everything to do with varargs and metamethods) don't exist yet, and the standard library is extremely limited (print, tostring, rawset/get, ...uh). I haven't bothered to even <i>try</i> the test suite yet. However, the bytecode compiler is fairly solid (it successfully reads most things, if you like viewing VM assembly). It also uses a relatively innovative - for BlitzMax - compilation technique, which I call FOLD (and will post a separate example about 'cause it's really cool and powerful). That said Blue Moon can run some very simple programs: see test1.lua for the kind of thing it can handle at present.<br><br><br>Normally I wouldn't announce something so early, but I want to work on something else for a bit, so I'll complete the missing features in a couple of weeks. (the parts that are left to do are actually the easy but tedious stuff; e.g. hordes of standard library functions, bugfixes) <br><br></td></tr></table><br>
<a name="1261245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very cool... thanks for sharing. This should be bundled with Brucey's version of Max, assuming the pair of you are ok with that. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
