<!DOCTYPE html><html lang="en" ><head ><title >Ninja test of 3D platformer controls</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Ninja test of 3D platformer controls</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=61" >Showcase</a>/<a href="#bottom" >Ninja test of 3D platformer controls</a><br><br>
<a name="248735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> With apologies to sinu here is a demo I threw together of a character walking around with 3D platformer controls:<br>www.3darteest.com/ninja_test.zip<br><br>There's still a fair amount to do to get this working as well as I would like; I still need autocentering, obstacle avoidance, etc.  I threw this together because after seeing sinu's work I was curious how hard it was to do.  As an experiment I tried a slightly different approach taken by many games where the camera rotates automatically when you move sideways.<br><br>There are two control schemes: with keyboard and with joystick (or rather, dual analog stick gamepad as with modern consoles.)  You can switch controls by hitting Tab.<br><br>Keyboard controls:<br>arrow keys - move character<br>Z - jump<br>X - attack<br>A &amp; S - rotate camera<br><br>Dual analog controls:<br>left stick - move character<br>button 1 - jump<br>button 2 - attack<br>right stick - rotate camera<br><br>Oh, and I used Psionic's ninja for the test character.  I had an original character initially but since that belongs to a client I had to throw something in there to replace it before posting. <br><br></td></tr></table><br>
<a name="248824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> the only thing similar is the actual aligntovector command which sets the player to face the right way.<br>still ok for the beginner plus you gave source too although mine is like a few 1000 lines  but that includes my player system too<br><br>Edit: 100's of lines each :) <br><br></td></tr></table><br>
<a name="248867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Binary_Moon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sinu - could you tell me what is different between this and yours since using it they seem pretty much identical <br><br></td></tr></table><br>
<a name="248881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> "the only thing similar is the actual aligntovector command which sets the player to face the right way"<br><br>True, but without the other stuff I mentioned that I still have to implement (eg. obstacle avoidance) the TFormVector and AlignToVector commands are the important code.  Everything else is just dressing for the demo (some of which, like the jumping, is rather useful too if I do say so myself.)  I don't doubt that you have some impressive additional features (after all, something is taking up your thousands of lines) but I've not seen anything else in your demos nor have you mentioned anything in words.  For example, what does "player system" mean? <br><br></td></tr></table><br>
<a name="248883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Binary_Moon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the jumping in Jhockings demo looks really camp. I know this is down to the animations but it really reminds me of "Morecambe (sp?) and Wise" (the bit where they do the skippy dance thing at the end of the show) <br><br></td></tr></table><br>
<a name="248904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Sinu - could you tell me what is different between this and yours since using it they seem pretty much identical "<br><br>it's based an old demo i sent joe, if im not mistaken.<br><br>"I don't doubt that you have some impressive additional features (after all, something is taking up your thousands of lines) but I've not seen anything else in your demos nor have you mentioned anything in words. For example, what does "player system" mean? "<br><br>i've not mentioned anything cos i like it that way plus those demo's are old and pretty lame to be honest, i have tonnes on my comp and those were the ones i threw out.<br><br><br>ps in my other post regarding a camera\player control system i should have maybe said 3d platform game system because thats what it really is, im implementing stuff like ledge climbing, pushing,sneak,walk,jog,run,multi-jumps,damage, attacks , crawling, throwing etc<br>and making an allround 3d platform system much like a console one or the base for one. <br><br></td></tr></table><br>
<a name="248978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I think the jumping in Jhockings demo looks really camp. I know this is down to the animations"<br><br>I'm using a climbing animation frame in Psionic's model; it's the closest thing I could find to the body stretched out vertically.  The actual jumping animation in his model doesn't work well because it has an enormous windup and landing.  No offense to Psionic here since the model and textures are excellent, but the animations are pretty bad.  Never mind the jump, the attack animation looks terrible.  And the walk loops very poorly; there's an obvious stutter every cycle.<br><br>"it's based an old demo i sent joe, if im not mistaken."<br><br>What is "it?"  Are you referring to the demo I posted here?  Because this is 100% original code, with the demo mostly just inspired by the latest demo postings of yours.  I'm not sure if you are implying that I just adapted your code but I assure you that's not what I did. <br><br></td></tr></table><br>
<a name="248981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>The actual jumping animation in his model doesn't work well because it has an enormous windup and landing. <br> <br></div><br><br>Ah, I've fallen into this trap before myself. The competing needs of good animation, and reponsive gameplay. Generally speaking, although I'm a sucker for cool animation sequences, responsiveness has to win over realism, in my book. Unless you're really clever about the AI given to your player character to compensate. <br><br></td></tr></table><br>
<a name="248984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, the pretty cheap but effective trick I am using right now to get around that is to simply have a single frame for jumping instead of an actual jump animation, and then the movement into/out of that pose comes from the built-in blending of the Animate command.  Which is why I needed a stretched out vertical pose.  The main problem with this, which is pretty easy to fix actually but not what I'm focusing on right now, is that the character is completely static while airborne. <br><br></td></tr></table><br>
<a name="248990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> My current thinking is - generally, a proper windup to a jump is a bit of a no-no, as you want your character airbourne pretty much straight away. A nice landing animation is okay, but certain other actions should take priority over it (for example, if you pressed the attack button) <br><br></td></tr></table><br>
<a name="249014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> "it's based an old demo i sent joe, if im not mistaken." <br><br>"What is "it?" Are you referring to the demo I posted here? Because this is 100% original code, with the demo mostly just inspired by the latest demo postings of yours. I'm not sure if you are implying that I just adapted your code but I assure you that's not what I did. "<br><br>i've seen the source and can see it's 100% original, yours is coded way different to mine and like you said mine just pushed you along :) <br><br></td></tr></table><br>
<a name="249157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just posted a last version to this demo (same zip.)  I didn't change the code much; mostly I prettied it up by adding a level (okay, just a room with a bunch of crates to jump on) and redoing animations for the ninja.<br><br>I say "last" because, although I will continue working on the camera control system, I doubt I'll be posting any more updated versions of this demo. <br><br></td></tr></table><br>
<a name="249182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Psionic</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ermmm, did you read the readme with the file, it explains the animation ranges and you aren't even close to em :)<br><br>try instead:-<br><br>ExtractAnimSeq(level1\player,184,205)<br>ExtractAnimSeq(level1\player,15,30)<br>ExtractAnimSeq(level1\player, 60,68) ;attack<br>ExtractAnimSeq(level1\player,126,133)<br>ExtractAnimSeq(level1\player,146,158)<br><br>and also:-<br><br>ElseIf characterState=5 And AnimSeq(character)&lt;&gt;5<br>		Animate character,3,-.4,5,4<br>	EndIf<br><br>change to -.4 and he does a forward somersault when jumping :) <br><br><br><br>1-14	Walk (normal)<br>15-30	Stealth Walk<br>32-44	Punch and swipe sword<br>45-59	Swipe and spin sword<br>60-68	Overhead twohanded downswipe<br>69-72	Up to block position (play backwards to lower sword if you want)<br>73-83	Forward kick<br>84-93	Pick up from floor (or down to crouch at frame 87)<br>94-102	Jump<br>103-111	Jump without height (for programmer controlled jumps)<br>112-125	High jump to Sword Kill (Finish em off move??)<br>126-133	Side Kick<br>134-145	Spinning Sword attack (might wanna speed this up in game)<br>146-158	Backflip<br>159-165	Climb wall<br>166-173	Death 1 - Fall back onto ground<br>174-182	Death 2 - Fall forward onto ground<br>184-205	Idle 1 - Breathe heavily<br>206-250	Idle 2<br>251-300	Idle 3 <br><br></td></tr></table><br>
<a name="249226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Psionic</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys! Please try this tweaked version using the actual animation ranges I wrote in the readme.....:)<br><br><a href="http://www.psionic3d.co.uk/downloads/ninja_test.zip" target="_blank">http://www.psionic3d.co.uk/downloads/ninja_test.zip</a> <br><br></td></tr></table><br>
<a name="249238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> "did you read the readme with the file"<br><br>I did but the ranges you just listed are different than the readme I have.  I must have a version where you changed the animation frames but not the readme yet.  Whatever; the latest demo I posted uses new animations I created.  As I said the model and texture are great, I just had to redo the animation for my needs.<br><br>ADDITION: Something else just occurred to me to point out Psionic.  Because of how the collision detection system works it is not a good idea to place a character's feet at 0,0,0.  If you look at my version of your ninja in Ultimate Unwrap you'll see that I shifted it down so that 0,0,0 is centered, and I use the ground plane established by the position of the feet in the default pose in all my animation.  The collision detection system in Blitz assumes that 0,0,0 is center mass for models and thus the collision sphere is always centered on 0,0,0.<br><br>Now that I think about it Blitz really should allow you to set the center point for the collision sphere.  Using the grid for your ground plane is pretty convenient when animating. <br><br></td></tr></table><br>
<a name="249251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Psionic</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure I uploaded only the finished version! as for anims not looping etc (higher up in the thread) I tested them all in blitz as I went along (and wrote the readme as I went) dunno what happened there m8!<br><br>its GREAT to see him running around and somersaulting etc, cool stuff!! Very cool!<br><br>any programmers out there need the model centered at 0,0,0?? cant you just offset the collision sphere/ellipsoid etc? to fit?<br><br>just asking cus I've never had any probs with this method before?? :) <br><br></td></tr></table><br>
<a name="249318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I think I know what happened.  I didn't use the readme included in the zip, I got animation frames from one of your older forum posts.  I must have downloaded a version of the model made after you wrote your post.<br><br>If anyone knows a way to offset the collision sphere I would love to hear it.  There's nothing in the command reference in the "Entity Collision" section to do that, the logical place such a command would be documented. <br><br></td></tr></table><br>
<a name="249498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I never attach collisions to a mesh. I always create a pivot, offset the pivot and attach collisions to that. I actually like having models with their feet at 0,0,0. It's how I do my own my own models. The great thing about using a pivot for collisions is that you can have two or more per character. Which is great for doing show-off stuff like making your character automatically duck ( collision with higher pivot but not lower ) or jump ( collision with lower pivot but not higher ) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
