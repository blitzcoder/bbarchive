<!DOCTYPE >
<html><head>
<meta http-equiv="content-type" content="text/html; charset=windows-1252"><title>The Official Blitz Website</title><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style>
        <!-- Google Analytics -->
        <script async="" src="10810&amp;log=1894_files/analytics.js"></script><script>
        (function(i,s,o,g,r,a,m){i['GoogleAnalyticsObject']=r;i[r]=i[r]||function(){
        (i[r].q=i[r].q||[]).push(arguments)},i[r].l=1*new Date();a=s.createElement(o),
        m=s.getElementsByTagName(o)[0];a.async=1;a.src=g;m.parentNode.insertBefore(a,m)
        })(window,document,'script','//www.google-analytics.com/analytics.js','ga');

        ga('create', 'UA-34362789-1', 'auto');  // Replace with your property ID.
        ga('require', 'displayfeatures');
        ga('send', 'pageview');

        </script>
        <!-- End Google Analytics -->
</head><body>
	
	<table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tbody><tr><td>&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="../../news.html" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="../../index.html" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="../../codearcs.html" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="../../user-worklogs.html" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="../../gallery.html" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="../../sdkspecs.html" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="../../search.html" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></tbody></table></td><td class="menubarright"></td></tr></tbody></table><div class="main"><h1>Worklog for Prym</h1><h1>Galaxang46</h1><a href="../../user-worklogs.html">Return to Worklogs</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td class="posthead"><table width="100%" cellspacing="0" cellpadding="0"><tbody><tr><td>orbital attraction</td><td align="right"><font class="tiny">(Posted 2014-06-10)</font></td></tr></tbody></table></td></tr><tr><td class="posttext"> I have make a special orbital gravity for some planets of my project Galaxang . <br>Here I post a simple code , the same in Galaxang , <br>which has thrown the mondial FPS gaming into the cosmos ! <br><br><a href="http://prymprog.wikeo.net/" target="_blank">http://prymprog.wikeo.net</a> - Galaxang46<br><br>Look at this chunk code ( it uses "EntityParent" and "AlignToVector" ) <br><br>--------<br><br><br><br>;;;; <br>;;;; orbital pivot demo <br>;;;; <br><br>Global mouse_move_speed# = 0.25<br>Global GW% = 800 , GH% = 600 , type_ellipsoide% = 1 <br>Global spaceplanet% = 0 , x% = -2 , y% = -2 , z% = -2 <br>Global parentplayer0% = 0 , player0% = 0 , camera% = 0 <br>Global pivotplanete4% = 0 , pivotorbiplanete4% = 0 <br>Global planete4% = 0 , textureplanete4% = 0 , rndscale% = 0 <br>Global mvx% = 0 , mvz% = 0 , vitesse% = 10 <br>Global deplacy# = 0.0 , deplacx# = 0.0 <br>Global campitch# = 0.0 , camyaw# = 0.0 , camroll# = 0.0 <br>Global oldpitch# = 0.0 , oldyaw# = 0.0 , oldroll# = 0.0 <br><br>Graphics3D GW , GH , 32 , 2 <br>textureplanete4 = CreateTexture ( 32 , 32 ) <br>SetBuffer TextureBuffer ( textureplanete4 ) <br>	ClsColor 100 , 110 , 130 <br>	Color 200 , 190 , 180 <br>	Cls <br>	Text 0 ,  0 , "++++" <br>	Text 0 ,  8 , "++++" <br>	Text 0 , 16 , "++++" <br>	Text 0 , 24 , "++++" <br>SetBuffer BackBuffer ( ) <br>;player<br>parentplayer0 = CreatePivot ( ) <br>player0 = CreateSphere ( ) <br>EntityRadius player0 , 100 <br>EntityType player0 , type_ellipsoide <br>ScaleEntity player0 , 10 , 10 , 10 <br>camera = CreateCamera ( player0 ) <br>CameraViewport camera , 0 , 0 , GW , GH <br>PositionEntity player0 , 0 , 0 , -5000 <br>;scene<br>For x = -2 To 2 Step 4 <br>For y = -2 To 2 Step 4 <br>For z = -2 To 2 Step 4 <br>rndscale = Rand ( 5 , 30 ) <br>spaceplanet = CreateSphere ( ) <br>ScaleEntity spaceplanet , 10 * rndscale , 10 * rndscale , 10 * rndscale <br>EntityColor spaceplanet , Rand ( 100 , 150 ) , Rand ( 50 , 200 ) , Rand ( 50 , 250 ) <br>PositionEntity spaceplanet , 100 * x * Rand ( 5 , 20 ) , 100 * y * Rand ( 5 , 20 ) , 100 * z * Rand ( 5 , 20 ) <br>Next : Next : Next <br>;planete4 <br>pivotplanete4 = CreatePivot ( ) <br>PositionEntity pivotplanete4 , 0 , 0 , 0 <br>pivotorbiplanete4 = CreatePivot ( pivotplanete4 ) <br>planete4 = CreateSphere ( 32 , pivotplanete4 ) <br>EntityRadius planete4 , 1100 <br>EntityType planete4 , type_ellipsoide <br>ScaleEntity planete4 , 1000 , 1000 , 1000 <br>EntityTexture planete4 , textureplanete4 <br>Collisions type_ellipsoide , type_ellipsoide , 1 , 3 <br><br>HidePointer<br>; api_ShowWindow(SystemProperty$("AppHWND"), 1) ; with user32.dll <br><br>While Not KeyHit ( 1 ) <br><br>		;pivot ref change <br>		If parentplayer0 = 0 Then <br>			If EntityDistance ( player0 , pivotplanete4 ) &lt; 3000 Then <br>				oldpitch# = EntityPitch# ( player0 , 1 ) <br>				oldyaw# = EntityYaw# ( player0 , 1 ) <br>				oldroll# = EntityRoll# ( player0 , 1 ) <br>				EntityParent player0 , pivotplanete4 , 1 <br>				AlignToVector pivotorbiplanete4 , EntityX ( player0 ) , EntityY ( player0 ) , EntityZ ( player0 ) , 2 <br>				EntityParent player0 , pivotorbiplanete4 , 1 <br>				RotateEntity player0 , oldpitch# , oldyaw# , oldroll# , 1 <br>				;memo local rotations <br>				campitch# = EntityPitch# ( player0 , 0 ) <br>				camyaw# = EntityYaw# ( player0 , 0 ) <br>				camroll# = 0 ; EntityRoll# ( player0 , 0 ) <br>			EndIf <br>		ElseIf parentplayer0 = pivotorbiplanete4 Then <br>			If EntityDistance ( player0 , pivotplanete4 ) &gt; 3200 Then <br>				oldpitch# = EntityPitch# ( player0 , 1 ) <br>				oldyaw# = EntityYaw# ( player0 , 1 ) <br>				oldroll# = EntityRoll# ( player0 , 1 ) <br>				EntityParent player0 , 0 , 1 <br>				RotateEntity player0 , oldpitch# , oldyaw# , oldroll# , 1 <br>				;memo local rotations <br>				campitch# = EntityPitch# ( player0 , 0 ) <br>				camyaw# = EntityYaw# ( player0 , 0 ) <br>				camroll# = 0 ; EntityRoll# ( player0 , 0 ) <br>			ElseIf EntityDistance ( player0 , pivotplanete4 ) &lt; 3100 Then <br>				EntityParent player0 , pivotplanete4 , 1 <br>				AlignToVector pivotorbiplanete4 , EntityX ( player0 ) , EntityY ( player0 ) , EntityZ ( player0 ) , 2 <br>				EntityParent player0 , pivotorbiplanete4 , 1 <br>			EndIf <br>		EndIf <br>		<br>		RotateEntity player0 , campitch# , camyaw# , camroll# <br>		MoveEntity player0 , mvx , 0 , mvz <br>		parentplayer0 = GetParent ( player0 ) <br>		Collisions type_ellipsoide , type_ellipsoide , 1 , 3 <br>		<br>		UpdateWorld <br>		RenderWorld <br>		If parentplayer0 = 0 Then Text GW/4 , 100 , "Free cosmos" , 1 Else <br>		If parentplayer0 = pivotorbiplanete4 Then Text 3*GW/4 , 100 , "Planet orbit" , 1 <br>		deplacy# = MouseYSpeed ( ) * mouse_move_speed#<br>		deplacx# = MouseXSpeed ( ) * mouse_move_speed#<br>		MoveMouse GW / 2 , GH / 2 <br>		<br>		Flip 0 <br>		Delay 1 <br>		<br>		mvx = 0 <br>		mvz = 0 <br>		If KeyDown ( 200 ) Or KeyDown ( 17 ) Then mvz =   vitesse <br>	   	If KeyDown ( 208 ) Or KeyDown ( 31 ) Then mvz = - vitesse <br>		If KeyDown ( 205 ) Or KeyDown ( 32 ) Then mvx =   vitesse <br>		If KeyDown ( 203 ) Or KeyDown ( 30 ) Then mvx = - vitesse <br><br>		campitch# = ( campitch# + deplacy# ) Mod 360 <br>		camyaw#   = ( camyaw#   - deplacx# ) Mod 360 <br>		If campitch# &gt; 90.0 Then campitch# = 90.0<br>		If campitch# &lt; -90.0 Then campitch# = -90.0<br>		<br>Wend <br><br>End <br><br> Prym </td></tr></tbody></table><br></div><table width="100%"><tbody><tr><td></td></tr></tbody></table></body></html>
