<!DOCTYPE html><html lang="en" ><head ><title >64-bit Windows MaxGUI</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >64-bit Windows MaxGUI</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=126" >BlitzMax NG</a>/<a href="#bottom" >64-bit Windows MaxGUI</a><br><br>
<a name="1286656"></a>

<a name="1286657"></a>

<a name="1286744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Happy Holidays! :-)<br><br>I've just committed the first version of the Win32MaxGUI upgrade to support 64-bit apps. (source viewable here : <a href="https://github.com/bmx-ng/maxgui.mod" target="_blank">https://github.com/bmx-ng/maxgui.mod</a> )<br>It's been a hard slog over the past week since I started work on it, but most things generally appear to be functional now.<br>Most things <strike>except images, that is, which have so far failed to appear on any of my windows</strike>.<br><br>On the other hand, MaxIDE builds and runs (as a 64-bit app) and is more-or-less useable, <strike>if you accept blank toolbar buttons as useable</strike> ;-)<br><br>Obviously, the outstanding problems will be fixed at some point, but I thought I'd commit it in its current state so others can have a play and perhaps pick up on anything else that I've missed.<br><br>NG's maxgui.mod requires the latest of everything to build correctly (bcc, bmk, pub.mod and brl.mod) <br><br></td></tr></table><br>
<a name="1286690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! looking forward to trying it out. Thanks! <br><br></td></tr></table><br>
<a name="1286699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>nice work, seems finally coming together. Promise I will give it a spin this week :-)<br>Any big hurdles left ?<br><br>-Henri <br><br></td></tr></table><br>
<a name="1286727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow!<br>Nice Xmas present!<br><br>I'll download it this evening, I *need* MaxGUI :) <br><br></td></tr></table><br>
<a name="1286745"></a>

<a name="1286764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fixed the images issue. All the MaxGUI "doc" examples are working, and MaxIDE looks mostly okay.<br><br>I still need to sort out manifests, icons and printing. <br><br></td></tr></table><br>
<a name="1286760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! <br><br></td></tr></table><br>
<a name="1286816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> With 64-bit icon/manifest integrated, MaxIDE looks really nice now, and has been stable so far.<br>Am now using it as my default MaxIDE on Windows - well, it needs testing ;-) <br><br></td></tr></table><br>
<a name="1286890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is one heck of a milestone, awesome stuff! <br><br></td></tr></table><br>
<a name="1286939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice! I'm about to start coding on a MaxGUI project, I'm definitely gonna try this out!<br><br>Thanks for all your hard work Brucey! :) <br><br></td></tr></table><br>
<a name="1286983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I'll wait the pre-compiled .zip file to download it :)<br><br>I'm quite good in cooking, but even if I followed the 'recipe' (the tutorial), something (I think) is gonna broken :D! <br><br></td></tr></table><br>
<a name="1287106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> A small remark to Brucey: The font chooser in MaxIDE (64-bit) isn't working, atleast not on my computer =P <br><br></td></tr></table><br>
<a name="1287109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that's great news! Thanks Brucey!<br><br>Is there a tutorial on how to set this up properly? I'm still using the native compiler / gui. Or a Zipfile with all files needed as Christian mentioned?<br><br>Can I use your FMod module with the 64bit dll in the future as well? <br><br>I would love to port my PRP over, if possible. :) <br><br></td></tr></table><br>
<a name="1287110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp MkII</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice might actually come back to BlitzMax for a project I have in mind as its best for rapid development and testing :D <br><br></td></tr></table><br>
<a name="1287114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Grisu<br><br>- Download BlitzMax NG from here: <a href="http://www.bmx-ng.com/main/downloads/" target="_blank">http://www.bmx-ng.com/main/downloads/</a><br>- Download bcc, pub.mod, maxide (if you want to compile 64-bit MaxIDE), maxgui.mod, bmk &amp; brl.mod from <a href="https://github.com/bmx-ng" target="_blank">https://github.com/bmx-ng</a> (click on each and there's a "Download ZIP" button on the right side of the screen)<br>- Compile bcc &amp; bmk (threaded build recommended for faster compilation later) using the instructions on github (you can compile using BlitzMax NG) and place bmk.exe, core.bmk, make.bmk &amp; bcc.exe in BlitzMax NG\bin folder<br>- Copy the downloaded pub.mod, maxgui.mod, brl.mod to the BlitzMax NG\mod folder (I removed the old ones before copying)<br><br>Something like this, I successfully compiled MaxIDE 64-bit using this method =P <br><br></td></tr></table><br>
<a name="1287117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> And I would need to install GCC with 64 Bit as well. I fear to miss or mix important files. But I'll try. Thanks! <br><br></td></tr></table><br>
<a name="1287120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  The font chooser in MaxIDE (64-bit) isn't working <br></div><br>Thanks. It was passing the wrong handle into the function. Fixed. <br><br></td></tr></table><br>
<a name="1287153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  And I would need to install GCC with 64 Bit as well <br></div><br>I'll try and get a new release done soon.<br><br><div class="quote">  Can I use your FMod module with the 64bit dll in the future as well? <br></div><br>Yes. I've just updated bah.fmod with the new 64-bit Win32 dll. The examples play fine as 64-bit apps.<br><br>In theory, you would just do a recompile of your app with 64-bit enabled, and it would all *just work*, but that may depend on other factors like anything you've done outside of standard BlitzMax (like using pointers via ints, calling windows APIs directly, etc). And of course you need to be at least "Strict". ;-)<br><br>There are still likely to be some issues with the MaxGUI port (as Thareh discovered!) as I can't really exhaustively test everything myself. However, report them as I'll sort it out as usual. <br><br></td></tr></table><br>
<a name="1287197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> By new release do you mean some kind of installer package for bmx64?<br><br>I'd like to help testing. But I need to set it up properly.<br><br>Got your Fmod update from SVN. Please make sure you also update the files inside the "include" folder to match the latest version. From my experience this is needed. <br><br></td></tr></table><br>
<a name="1287203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just follow the described steps (download bcc bmk etc... compile and copy...)<br><br>As soon as you use NG you are able to put the "to use" MinGW within the folder (blitzmax/MinGW32 or so...) and it will automatically get used instead of an other installation.<br><br>If you put everything in an extra folder.. you should not break your existing installations. You could call bmxng portable...similar to bmx vanilla (which uses the fasm binary included in its download instead of MinGW).<br><br><br>Bye<br>Ron <br><br></td></tr></table><br>
<a name="1287232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> By new release do you mean some kind of installer package for bmx64? <br></div><br>It will be a self-contained rar with MinGW included, as per the previous releases. I've found it's easier to get most Windows users up and running if you give them everything they need in one folder, with zero configuration requirements ;-)<br><br>I may even get a release done before next year... <br><br></td></tr></table><br>
<a name="1287304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> New release is available at <a href="https://github.com/bmx-ng/bmx-ng/releases" target="_blank">https://github.com/bmx-ng/bmx-ng/releases</a> <br><br></td></tr></table><br>
<a name="1287311"></a>

<a name="1287312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome!<br><br>Runs "out of the box" and recompiles all modules fine. I doesn't detect the FASM version if that is an issue.<br><br>The compiler doesn't like this line:<br>Local hdrop:Int = GlobalAlloc( GHND | GMEM_SHARE, sz) ' line 104<br><br>"Unable to compile from Byte Ptr to Int."<br><br><b>Source:</b><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import PUB.Win32

SuperStrict

?Win32
Private
Global Mutex:Int
Public

OnEnd ReleaseInstance

Function ReleaseInstance()
	Extern "Win32"
		Function ReleaseMutex:Int( mutex:Int)
	EndExtern
	
	If Mutex Then
		ReleaseMutex( Mutex)
		Mutex = 0
	EndIf
EndFunction
?

Function InitSingleInstance:Int(name:String)
?Win32
	Extern "Win32"
		Const ERROR_ALREADY_EXISTS:Int = 183
		
		Function CreateMutexW:Int( security:Byte Ptr, owner:Int, name$w)
		Function GetLastError:Int()
	EndExtern
	
	Mutex = CreateMutexW( Null, True, name)
	If (Not Mutex) Or (GetLastError() = ERROR_ALREADY_EXISTS) Then Return False
?
	Return True
EndFunction

Function SendOpenFileMessage:Int( classname:String, title:String, fn:String[])
?Win32
	Const DROPFILES_SIZE:Int = 16
	
	Extern "Win32"
		Const GHND:Int = 32
		Const GMEM_SHARE:Int = 8192
		
		Function EnumWindows:Int( enumproc:Byte Ptr, lparam:Byte Ptr)
		Function GetWindowModuleFileNameW:Int( hwnd:Int, buffer:Short Ptr, sz:Int)
		Function GetModuleFileNameW:Int( hmodule:Int, buffer:Short Ptr, sz:Int)			
	EndExtern
	
	' this function checks each window and compares CLASSNAME &amp; partial WINDOWTITLE
	Function EnumProc:Int( hwnd:Int, lparam:Int Ptr)
		Extern "Win32"
			Function GetWindowTextW:Int( hwnd:Int, dst:Short Ptr, maxlen:Int)
			Function GetClassNameW:Int( hwnd:Int, dst:Short Ptr, maxlen:Int)
		EndExtern
	
		Local buf:Short[512]
		
		GetClassNameW( hwnd, buf, buf.Length)
		If String.FromWString(buf) = String.FromWString(Short Ptr lparam[0]) Then
			GetWindowTextW( hwnd, buf, buf.Length)
			If String.FromWString(buf).StartsWith( String.FromWString(Short Ptr lparam[1])) Then
				lparam[2] = hwnd
				Return False
			EndIf
		EndIf
		Return True
	EndFunction
	
	' enumerate over all windows and find the one we want
	Local enumdata:Int[3]
	enumdata[0] = Int classname.ToWString()
	enumdata[1] = Int title.ToWString()
	EnumWindows( EnumProc, enumdata)
	MemFree Byte Ptr enumdata[0]
	MemFree Byte Ptr enumdata[1]
	
	If Not enumdata[2] Then Return False
	Local hwnd:Int = enumdata[2]
	
	' check that the executables are the same
	Local buf:Short[512], myexe:String, otherexe:String
	GetModuleFileNameW( 0, buf, buf.Length)
	myexe = String.FromWString(buf)
	GetWindowModuleFileNameW( hwnd, buf, buf.Length)
	otherexe = String.FromWString(buf)
	If myexe &lt;&gt; otherexe Then Return False
	
	' activate and show the window
	SetForegroundWindow( hwnd)
	If IsIconic(hwnd) Then ShowWindow( hwnd, SW_RESTORE)
	
	' send file drop message
	If fn Then
		' get size of all filenames
		Local fsz:Int
		For Local s:String = EachIn fn
			fsz :+ s.Length + 1
		Next
		' create HDROP data
		Local sz:Int = DROPFILES_SIZE + fsz + 1
		Local hdrop:Int = GlobalAlloc( GHND | GMEM_SHARE, sz) ' Error pops up here !!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!!
		Local p:Byte Ptr = GlobalLock(hdrop)
		If Not p Then
			GlobalFree(hdrop)
			Return False
		EndIf
		MemClear p, sz
		Int Ptr(p)[0] = DROPFILES_SIZE
		' copy all filenames to HDROP data
		p :+ DROPFILES_SIZE
		For Local s:String = EachIn fn
			Local cstr:Byte Ptr = s.ToCString()
			MemCopy p, cstr, s.Length
			MemFree cstr
			p :+ s.Length + 1
		Next
		GlobalUnlock(hdrop)
		
		' send message
		PostMessageA( hwnd, WM_DROPFILES, hdrop, 0)
		GlobalFree(hdrop)
	EndIf
?
	Return True
EndFunction
</textarea> <br><br></td></tr></table><br>
<a name="1287314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a good example of low-level API code that makes assumptions about pointers :-)<br><br>GlobalAlloc() returns a pointer, not an Int.<br>ReleaseMutex() takes a pointer as an argument.<br>CreateMutexW() returns a pointer.<br>For GetWindowModuleFileNameW(), hwnd is a pointer.<br>For GetModuleFileNameW(), hmodule is a pointer.<br><br>etc... ;-)<br><br>None of that stuff will work with 64-bit because pointers are 8 bytes, not 4 bytes (as they are on x86), and generally it is better to use Byte Ptr in those cases (as I've always tended to do with my modules, and which made the migration to 64-bit mostly painless). <br><br></td></tr></table><br>
<a name="1287316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I'll comment it out for now.<br><br>Next error:<br>C:/BlitzMax/mod/axe.mod/oggsaver.mod/oggencoder.c:11:30: fatal error: vorbis/vorbisenc.h: No such file or directory<br><br>The file "vorbisenc.h" is present, but the compiler doesn't seem to reach it? <br><br></td></tr></table><br>
<a name="1287353"></a>

<a name="1287354"></a>

<a name="1287355"></a>

<a name="1287356"></a>

<a name="1287357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using that latest release, I have no problems with it building modules on-the-fly while building projects, but for almost every project I try to compile, I get an error along these lines at the end:<br><br><pre class=code>
Building untitled1
[ 97%] Processing:untitled1.bmx
[ 98%] Compiling:untitled1.bmx.gui.release.win32.x86.c
[100%] Linking:untitled1.exe
C:/Users/James/Desktop/BlitzMax/mod/pub.mod/win32.mod/win32.release.win32.x86.a(com.bmx.release.win32.x86.o):com.bmx.release.win32.x86.c:(.text+0x6b3): undefined reference to `_imp__IIDFromString@8'
C:/Users/James/Desktop/BlitzMax/mod/pub.mod/win32.mod/win32.release.win32.x86.a(com.bmx.release.win32.x86.o):com.bmx.release.win32.x86.c:(.text+0x6f0): undefined reference to `_imp__StringFromIID@8'
Build Error: Failed to link C:/Users/James/Desktop/BlitzMax/tmp/untitled1.exe
Process complete
</pre><br><br>Just tried with this and got the same:<br><br><pre class=code>
Print "Hello world"
</pre><br><br>I just downloaded, unzipped and ran from the above link -- I assume it picks up my MinGW64 installation, as I get the option to build for that, too, but the error occurs regardless of x86/x64, debug/release mode.<br><br>I've also tried deleting the existing .bmx folders to no avail.<br><br>Looked up "IIDFromString" online but... I'm not much wiser! (Other than it seems to be Windows-specific.) Any ideas what might be causing this?<br><br>EDIT -- this builds/runs!<br><br><pre class=code>
Framework BRL.Retro
Print "Hello"
</pre><br><br>No idea why, though... I got originally similar results for a graphical program that used Framework BRL.GLMax2D (but didn't use GL directly) -- it was one of the few projects that built fine, but with Framework commented out, it failed, so presumably Framework is simply excluding whatever is causing the actual problem.<br><br>(Testing on Windows 7 64-bit.) <br><br></td></tr></table><br>
<a name="1287359"></a>

<a name="1287360"></a>

<a name="1287361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did some digging, but still not found what's causing it -- did find that BRL.Timer seems to fail to build, though (unrelated to above).<br><br>The below simply uses BRL.Blitz for Framework (required for Print, the actual program being <b>Print "Hello world"</b>) and then tries to manually import everything else, using MaxIDE's right-hand modules menu for the high-level modules, then (indented) the remaining individual modules...<br><br>Assumed this would trigger the error somewhere, but it doesn't... :/<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Framework BRL.Blitz

Import BRL.Audio
Import BRL.BASIC

'	Data structures:

	Import BRL.LinkedList
	Import BRL.Map

'	Events:

	Import BRL.Event
	Import BRL.EventQueue
	Import BRL.Hook

'	Import BRL.Timer ' *** Error *** (Not same error as reported though!)

		Rem
		
C:/Users/James/Desktop/BlitzMax/mod/brl.mod/timer.mod/timer.release.win32.x86.a(timer.win32.c.release.win32.x86.o):timer.win32.c:(.text+0x1b): undefined reference to `bbSystemPostSyncOp'
Build Error: Failed to link C:/Users/James/Desktop/BlitzMax/tmp/untitled1.exe
Process complete
		
		End Rem

Import BRL.Graphics
Import BRL.Math

'	MaxGUI -- skipped! Not imported as standard anyway...

'	Miscellaneous:

	Import BRL.Bank
	Import Pub.ZLib

'	Networking:

	Import BRL.GNet
	Import BRL.Socket

'	Other:

	Import Pub.FreeJoy
	Import Pub.Lua

'	Streams:

	Import BRL.BankStream
	Import BRL.EndianStream
	Import BRL.RamStream
	Import BRL.SocketStream
	Import BRL.Stream
	Import BRL.TextStream

Import BRL.System

'	User input:

	Import BRL.KeyCodes
	Import BRL.PolledInput
	Import Pub.Joystick

' ... and the actual program:

Print "Hello"
</textarea><br><br>No idea if this will help! <br><br></td></tr></table><br>
<a name="1287377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> com.bmx needs to import "-lole32" for those IID functions.<br>timer.bmx needs to import BRL.SystemDefault ;-)<br>(fixed on github)<br><br>Thanks for testing! <br><br></td></tr></table><br>
<a name="1287393"></a>

<a name="1287394"></a>

<a name="1287395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br>Welcome in the 2016 (time-zone permitting &amp; wake up time :D)!<br>Just downloaded the new package, updated BRL.MOD and PUB.MOD, the 'basic' example (Print "Hallo") now it works without problems (by the way it was the same error I got...)<br>Tested with an example (firepaint.bmx), and it compiles without problems (after 'stricting' the source code).<br>tested a MaxGUI example (CreateWindow.bmx) and I got this<br><b><br>UNHANDLED EXCEPTION:ATTEMPT TO ACCESS FIELD OR METHOD OF NULL OBJECTS<br></b><br>And this line in (win32maxguiex.bmx) is highlighted<br><pre class=code>
maxgui_driver = New TWindowsGUIDriver
</pre><br><br>tested on win7 (x64)<br><br>ps:<br><br>BMX-NG now uses the 'bundled' MinGW, right?<br>Because the 'about' windows show a MinGW path (the one I use for BMax).<br>I have also installed another MinGW version (in c:\TDM-GCC-64) (I don't remember why...)<br>I just tried to change the name of this folder (in _TDM-GCC-64) and now it seems I need to 'rebuild' all the modules...<br><br>It would be handy to output that inform what tool we are using (just the path I mean) <br><br></td></tr></table><br>
<a name="1287402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Because the 'about' windows show a MinGW path (the one I use for BMax) <br></div><br><br>MaxIDE does not ask "bmk" what MinGW will get used -- it also should hide "fasm" information when running an NG compiler-toolset.<br><br><br>@unhandled exception<br>So something within "New TWindowsGUIDriver" tries to access an object which is "null".<br><br>-&gt; win32maxguiex.bmx<br>-&gt; Method New()<br><br>And add some check what object is "null"/invalid before calling its methods/properties.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1287403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  And this line in (win32maxguiex.bmx) is highlighted <br></div><br>Try a release build for now. It should be okay. <br><br></td></tr></table><br>
<a name="1287406"></a>

<a name="1287407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Print "Hello world"</b> working here now!<br><br>I noticed it still failed to build again after making the changes, but unchecking Quick Scan and trying again sorted that.<br><br>Thanks!<br><br>EDIT: aaaand back on topic, I can build 32- and 64-bit MaxGUI programs, which is awesome. Great work, all! <br><br></td></tr></table><br>
<a name="1287410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Try a release build for now. It should be okay. <br> <br></div><br>Yes, I confirm it compiles without problem. <br><br></td></tr></table><br>
<a name="1287413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another error report:<br><br>MaxGUI, ProxyGadgets, CreateScrollPanel() example (from documentation).<br><br>Compiling I got an error (can't find interface for module 'bah.gtkmaxgui') and the file blitz.release.win32.x64.i has this<br><pre class=code>
...
OnDebugLog(message$)&amp;=mem:p("bbOnDebugLog")
AppDir$&amp;=mem:p("bbAppDir")
AppFile$&amp;=mem:p("bbAppFile")
AppTitle$&amp;=mem:p("bbAppTitle")
AppArgs$&amp;[]&amp;=mem:p("bbAppArgs")
LaunchDir$&amp;=mem:p("bbLaunchDir") '&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt; this line is highlighted
</pre><br><br>HyperLink and Splitter proxygadgets are working without problems. <br><br></td></tr></table><br>
<a name="1287414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've fixed the imports, and pushed it back into github. <br><br></td></tr></table><br>
<a name="1287416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another error report<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
Import MaxGUI.MaxGUI
Import BRL.EventQueue
Global EVENT_NOTIFY_COMPLETED:Int=AllocUserEventId("EVENT_NOTIFY_COMPLETED")

Function CreateNotify:Int (msg:String="",group:tgadget,pix:Object=Null)
	Tnotifygadget.Create(msg$,0,group:tgadget,pix)
	Repeat
	WaitEvent
	Until EventID()=EVENT_NOTIFY_COMPLETED
End Function

Type Tnotifygadget Extends Tproxygadget

	Field text:tgadget		'the text/message
	Field BUTTON_OK:tgadget		'the OK button
	Field BUTTON_CANCEL:tgadget
	Field button_abort:tgadget
	Field window:tgadget		'the window
	Field old_window:tgadget	'the parent window
	Field LINE:TGADGET,style:Int
	Field _destroy:Int
	Field IconGadget:Tgadget
	Method CleanUp()
		If IconGadget FreeGadget Icongadget;Icongadget=Null
		If BUTTON_OK FreeGadget BUTTON_OK;BUTTON_OK=Null
		If BUTTON_CANCEL FreeGadget BUTTON_CANCEL;BUTTON_CANCEL=Null
		If button_abort FreeGadget button_abort;button_abort=Null
		RemoveHook EmitEventHook,EventHandler,Self
		If text FreeGadget text;text=Null
		If window FreeGadget window;window=Null
	
		Super.CleanUp()
		
	End Method
	
	Method class:Int()
		Return 10'GADGET_NOTIFY
	End Method
	
	Function Create:Int (msg$,style:Int=0,group:tgadget=Null,img:Object=Null)
		Local sp:Tnotifygadget =New Tnotifygadget 		
		Local size:Int=200,xtext:Int=10
		sp.style=style

		If img&lt;&gt;Null	size=400;xtext=150
		
		Local cx:Int,cy:Int
		cx=group.xpos
		cy=group.ypos+20
		
		sp.window=CreateWindow(AppTitle,cx,cy,size,200,,WINDOW_TITLEBAR)
		DisableGadget group
	
		sp.old_window=group
	
		sp.text=CreateLabel(msg,xtext,10,ClientWidth(sp.window)-xtext-10,ClientHeight(sp.window)-40,sp.window)',LABEL_FRAME)
		sp.line=CreateLabel("",0,ClientHeight(sp.window)-30,ClientWidth(sp.window),30,sp.window,LABEL_SEPARATOR)
	
		Local x:Int=ClientWidth(sp.window)/2-40	
		SP.BUTTON_OK=CreateButton("Ok",x,ClientHeight(sp.window)-25,80,24,sp.window,BUTTON_OK)
		'sp.icongadget=CreateIconGadget(10,10,128,128,sp.window,img)						
		DisableGadget group
		ActivateWindow sp.window
		sp.SetProxy sp.window
		AddHook EmitEventHook,EventHandler,sp
	End Function
	
	Function eventHandler:Object( pID%, pData:Object, pContext:Object )
		Local pEvent:TEvent =  TEvent(pData)
		Local obj:Tnotifygadget = Tnotifygadget (pContext)
		If pEvent
		
			Select pevent.ID
								
				Case EVENT_GADGETACTION
					If obj.style=0
						If pevent.source=obj.BUTTON_OK
							ActivateWindow obj.old_window
							EnableGadget obj.old_window
							ActivateGadget obj.old_window
							FreeGadget obj

							EmitEvent(CreateEvent(EVENT_NOTIFY_COMPLETED))

						End If
					End If
			
				Case EVENT_WINDOWCLOSE

					If pevent.source=obj
						ActivateWindow obj.old_window
						FreeGadget obj
						EnableGadget obj.old_window
						ActivateGadget obj.old_window
	
						EmitEvent(CreateEvent(EVENT_NOTIFY_COMPLETED))

					End If
			
			End Select

			
		End If
		
	
	'	Return Null	'in this way NO events are passed to the MAIN program
	EndFunction


End Type


</textarea><br><br>This is a proxygadget I've created. I commented out some elements not needed (I believe) here.<br><br>When I recompile modules I got the following error <br><b>Unable to find overload for clientwidth(Tgadget)</b><br><br>Probably my implementation of Proxygadget is not perfect, but I have no idea where I can fix my source code to bypass this.<br>I have another one proxygadget (a DatePicker, that use another one proxy - Calendar) and I got the same error on ClientWidth().<br>A SpinnerGadget proxy (written by JoshK) has problems with knob/conversion value - the value is shown in a textfield - I need to check where the 'value' is lost.<br>I know it's a first implementation of MaxGUI 'rewritten' inside to be 64-compliant, and I have no hurry for these errors! <br><br></td></tr></table><br>
<a name="1287455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tha latest bcc (in github) fixes that issue.<br>That problem was that it was accepting a partial match on the method ClientWidth(), then failing it for the wrong parameters, rather than widening the scope to see if there were any other functions of the same name.<br><br>Whenever you update bcc, you should always do a full rebuild of everything. :-) <br><br></td></tr></table><br>
<a name="1287478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ops, sorry, I didn't notice you already answered to my first error report!<br>Wow, it was the first of the year, take a breath :D!<br><br>Thank you! <br><br></td></tr></table><br>
<a name="1287484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> I confirm that the latest BCC release fixes all the bugs reported above.<br><br>ps:<br><br>I noticed that SetGadgetPixmap() doens't guarantee results. Sometimes I can see a pixmap, often I can see nothing.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	SuperStrict
	
	Import maxgui.drivers	
	Local window:Tgadget
	
	Global pix1:TPixmap=LoadPixmap("resources/green_bar.png")
		
	window=CreateWindow(AppTitle,100,100,400,400,,WINDOW_TITLEBAR|WINDOW_CENTER|WINDOW_RESIZABLE)
	
	Local p1:Tgadget
	
	p1=CreatePanel(10,10,100,100,window)
	SetGadgetColor p1,200,200,200
	SetGadgetPixmap p1,pix1,PANELPIXMAP_TILE
	
	While True
	WaitEvent 
	Select EventID()

		Case EVENT_WINDOWCLOSE
			End
	End Select
	Wend
</textarea><br>I have tested with some .png I use, I don't find any special difference in them (saving options or other things).<br>Any PANELPIXMAP_XXX combination tested, no differences. <br><br></td></tr></table><br>
<a name="1287567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I noticed that SetGadgetPixmap() doens't guarantee results. <br></div><br>Interestingly, I've noticed this across all three MaxGUI platforms. I believe it's something to do with the alpha channel on 32-bit pngs. Converting to 24-bit usually solves the problem.<br><br>I didn't have time yet to solve the problem myself though...  source is there for anyone who likes a challenge! ;-) <br><br></td></tr></table><br>
<a name="1287705"></a>

<a name="1287706"></a>

<a name="1287707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to note... If anyone builds and runs a NG Windows MaxGUI app and receives a<br><br>"ANOMALY: meaningless REX prefix used"<br><br>message in the output pane when shutting the app, it's perfectly harmless, but to stop it, you need to uninstall AMD's [pointless] Raptr/Gaming Evolved app! :)<br><br>Worked for me!<br><br>Dabz <br><br></td></tr></table><br>
<a name="1287961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I noticed that SetGadgetPixmap() doens't guarantee results <br></div><br>That should be working now with the latest Win32MaxGUIEx. <br><br></td></tr></table><br>
<a name="1287975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Incredible!<br>Many thanks!<br>Just to know, what was the problem with the alpha-info in PNG?<br>I tried to look at the source code this week-end, but to be honest it was beyond my skill!<br>I found that a parameter (_alpha) was true, so somewhere the information about the .png I suppose was right when it was loaded.<br>But - excluding this - finding if the problem was in the drawing or elsewhere is a big black hole! <br><br></td></tr></table><br>
<a name="1287981"></a>

<a name="1287982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think this was wrong:<br><a href="https://github.com/bmx-ng/maxgui.mod/commit/3ab78e73f2c3738c91518541b27568058824ba1c" target="_blank">https://github.com/bmx-ng/maxgui.mod/commit/3ab78e73f2c3738c91518541b27568058824ba1c</a><br><br>So he seems to have switched the blend-function-color-thing from RGBA to ARGB.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1287983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, that's not RGB anything. It's a BLENDFUNCTION struct. :-) <br><br></td></tr></table><br>
<a name="1287992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, then you mixed:<br>  BYTE BlendOp;<br>  BYTE BlendFlags;<br>  BYTE SourceConstantAlpha;<br>  BYTE AlphaFormat;<br><br><br>Seems that function likes premultiplied alpha ... so if that is somehow not done, you might see some visual glitches.<br>-&gt; <a href="https://msdn.microsoft.com/en-us/library/windows/desktop/dd183393(v=vs.85).aspx" target="_blank">https://msdn.microsoft.com/en-us/library/windows/desktop/dd183393(v=vs.85).aspx</a><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1288014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> It will take me a while to get running but I will definitely try this out.  Thank you. <br><br></td></tr></table><br>
<a name="1289640"></a>

<a name="1289641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just installed the NG thing, seems pretty cool.<br><br>I had to make several changes in my modules to get every thing to compile<br>Lots of "returns is void extected int" on overriding methods and some int vs byte ptr stuff ... but, finally it does work.<br><br>though, I can't compile my application because of it keeps telling me there's a missing "," at "pCallBack(o:TActionHandler)"<br><br><div class="quote"> <br>Building MDT_EDITOR_V0.1<br>[ 91%] Processing:GUI_SCENE.bmx<br>[ 92%] Processing:TInputFilter.bmx<br>[ 92%] Processing:UI_Material.bmx<br>Compile Error: Syntax error - expecting ','.<br>[E:/HD_DEV/Indie/mdt_corp/Tools/MDT_EDITOR/import/TInputFilter.bmx;50;0]<br>Build Error: failed to compile (-1) E:/HD_DEV/Indie/mdt_corp/Tools/MDT_EDITOR/import/TInputFilter.bmx<br>Process complete<br> <br></div><br><br><br>The function declaration is this one ... there is nothing missing.<br><pre class=code>
Function Create:TActionHandler( pLayer:Int, pSource:Object, pEventIDs:Int[], pDatas:Int[], pReturnEventId:Int=0, pCallbackTests:Byte(o:TActionHandler)[], pCallBack(o:TActionHandler), pMode:Byte=ONACTION_QUIT, pName:String="" )
</pre><br><br>This function is supposed to use function pointers as argument, so maybe the NG version need a specific way to declare this ?<br><br><br>[edit]<br>Damned, I didn't post on the good topic ...<br>My bad, I have too many windows opened on the NG's topics <br><br></td></tr></table><br>
<a name="1289644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you are a github user, posting problems there can help : <a href="https://github.com/bmx-ng/bcc/issues" target="_blank">https://github.com/bmx-ng/bcc/issues</a><br><br>Or if not, a very simple, replicable example will speed up the process too.<br><br>Thanks :-) <br><br></td></tr></table><br>
<a name="1289648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, I'm not a github user ... but if required, I'll create an account.<br><br>Actually, I just realized we have to declare function pointers as "byte ptr".<br><pre class=code>
Function Create:TActionHandler( pLayer:Int, pSource:Object, pEventIDs:Int[], pDatas:Int[], pReturnEventId:Int=0, pCallbackTests:Byte Ptr, pCallBack:Byte Ptr, pMode:Byte=ONACTION_QUIT, pName:String="" )
</pre><br>This works. (or at least, it does not halt the compilation here ... I need to get the full project to compile to know if it actually works or not)<br><br><br><br>ATM, I think there is maybe no error to post, it's probably the normal behavior regarding the fact function pointers are pointers ... (makes sense)<br>I keep on trying to compile my program, fixing bugs here and there (not real bugs, just incompatible stuff)<br>When done, I'll get back and give feedback ;)<br><br><br><br>[Finally] : I'll make an account to yell a bit about the MaxIDE :p<br>Ctrl+Arrow (left/right) switch between opened tabs ... that's really annoying when coding (it should move the cursor from between words) but I know it's already the way it works in the original MaxIDE (that was the reason I moved to Blide long time ago... this and ... no line numbers).<br>But, I won't yell, just kidding :) <br><br></td></tr></table><br>
<a name="1289650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MaxIDE and Ctrl+Arrow<br><br>File -&gt; IDE Settings -&gt; "Use OS Specific Shortcut Keys"<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1289658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Correct me if I'm wrong, but wouldn't using Int for pointers still cause issues when compiling to 64-bit? (the program It could conceivably run on a memory location &gt;4GB, overflowing the int?) <br><br></td></tr></table><br>
<a name="1289714"></a>

<a name="1289740"></a>

<a name="1289741"></a>

<a name="1289742"></a>

<a name="1289743"></a>

<a name="1289744"></a>

<a name="1289872"></a>

<a name="1289873"></a>

<a name="1289888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Derron : Thanks, that was not implicit enough for me and my little brain :)<br><br>I had an issue with maxgui that failed with a Null object just running this<br><br><pre class=code>
Import maxgui.drivers
</pre><br><br>it seems that the problem was here (while initializing probably something like the desktop gadget which has no parent ?)<br><pre class=code>
	Method QueueResize( hwnd:Byte Ptr, xpos, ypos, width, height )
--&gt;&gt;&gt;		If parent And GetParent_(hwnd) = parent.Query(QUERY_HWND_CLIENT) And TWindowsGadget(parent).hdwpStruct Then	
</pre><br>whether or not parent is null "parent.Query(QUERY_HWND_CLIENT)" is evaluated and produice an error.<br><br>I solved it by separating the 2 checks<br><pre class=code>
If parent
	If GetParent_(hwnd) = parent.Query(QUERY_HWND_CLIENT) And TWindowsGadget(parent).hdwpStruct Then
</pre><br>So, correct me if I'm wrong, but doesn't bmxNG have a different behavior than bmx origin (sounds like a xmen movie title -_-')<br>-&gt; the second condition should not be evaluated if the first condition is false<br><br><br>[EDIT]<br>After some troubles, I finally get it working !<br>It's not stable with random crashes on the compiled exe, but it's a start.<br><br>Also, already mentioned, but yeah, gadgetpixmap doesn't work.<br>-&gt; the whyte squares are supposed to preview from the materials and textures from the scene.<br><br><a href="http://bybysait.free.fr/screenies/mdt_editor_bmxng_01.png" target="_blank"> <b><u>&gt;&gt; CLICK ME &lt;&lt; big image that break the forum formatting ... So, This is just a link to the image</u></b></a><br>(maxgui stuff with my glsl 3d engine working on it) <br><br></td></tr></table><br>
<a name="1289889"></a>

<a name="1289892"></a>

<a name="1289895"></a>

<a name="1289896"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got the pixmap working by ... formatting the pixel ... format<br><pre class=code>
SetGadgetPixmap(Self.view, ConvertPixmap ( l_renderedTex.getPixmap(0, True), PF_RGB888 ) )
</pre><br>@Self.View is the panel of the thumbnail, @l_renderedTex is a the framebuffer GL_COLOR_ATTACHMENT0 from the rendered buffer and the method getPixmap returns the bitmap data from the video memory and convert it to a PF_ARGB8888 pixmap<br><br>So, a more generic formula :<br>If pixmap.format&lt;&gt;PF_RGB888<br> SetGadgetPixmap ( gadget, ConvertPixmap (pixmap, PF_RGB888) )<br>Else<br> SetGadgetPixmap ( gadget, pixmap )<br>Endif<br><br><br>-------------------------------------------------------------------<br><br>Then, a maxgui bug happens (as you can see here on the screenshot )<br>the scrollbar doesn't update correctly.<br><br><br><img src="http://bybysait.free.fr/screenies/mdt_editor_bmxng_02.png"><br><br><br>Do I need to post a github issue message for this ? <br><br></td></tr></table><br>
<a name="1289891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Got the pixmap working by ... formatting the pixel ... format <br></div><br>This should be working with the latest source.<br><br><div class="quote"> the scrollbar doesn't update correctly. <br></div><br>That may be an issue.<br><br>If you can give a small example please, that would help :-) <br><br></td></tr></table><br>
<a name="1289900"></a>

<a name="1289906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>This should be working with the latest source.<br> <br></div><br><br>It was the latest package from the bmx-ng (BlitzMax Win32 v0.70.3.09)<br>&gt; <a href="https://github.com/bmx-ng/bmx-ng/releases" target="_blank">https://github.com/bmx-ng/bmx-ng/releases</a><br><br><br><div class="quote"> <br>If you can give a small example please, that would help :-) <br> <br></div><br><br>I will try to reproduice it in a small example.<br>But it's maybe just me who doesn't use it in the good way ... <br><br></td></tr></table><br>
<a name="1289902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, I said "source". The source in github is newer than the release :-)<br><br><div class="quote"> I will try to reproduice it in a small example. <br></div><br>Thanks. <br><br></td></tr></table><br>
<a name="1289917"></a>

<a name="1290009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Damned ... while trying to make a sample, I ran into another problem<br><br>Splitter (from maxgui.proxygadgets) generates an unhandled exception<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Import maxgui.drivers
Import maxgui.proxygadgets

Local win:tgadget			=	CreateWindow		( "title", 0,0,800,600,, WINDOW_CENTER | WINDOW_TITLEBAR )
Local splitter:TSplitter	=	CreateSplitter		( 10,10,760, 550, win, SPLIT_HORIZONTAL )
								SetSplitterPosition	( splitter, 250 )

Rem
This example generates "Unhandled Exception:Attempt to index array beyond array length" when mouse is over the splitter handle
EndRem

Repeat
	
	While PollEvent()
		Select EventID()
			Case EVENT_WINDOWCLOSE
				End
		End Select
	Wend
	
	Rem
		This make the same error
	EndRem
	
'	WaitEvent()
'	Select EventID()
'		Case EVENT_WINDOWCLOSE
'			End
'	End Select
	
Forever
</textarea><br><br>PollEvent/WaitEvent fail on the splitter handle only with debug enabled <br><br></td></tr></table><br>
<a name="1290022"></a>

<a name="1290068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, that was hard to track down.<br><br>In the end, it turns out that there is an problem with my bcc ignoring "nodebug" on functions.<br><br>The actual issue itself is in MouseProc() in win32maxguiex.bmx. This is the array in question :<br><pre class=code>
Global intButtonStates%[3]
</pre><br>And here's some example code using it :<br><pre class=code>
If intButtonStates[MOUSE_MIDDLE] Then wp:|MK_MBUTTON
</pre><br><br>And just for interest, here's a reference to keycodes.bmx :<br><pre class=code>
Const MOUSE_LEFT=1
Const MOUSE_RIGHT=2
Const MOUSE_MIDDLE=3
</pre><br><br>Anyone see any problems here?<br><br>Answers on a postcard to....<br><br>:-p <br><br></td></tr></table><br>
<a name="1290060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Guessing MOUSE_LEFT | MOUSE_RIGHT = MOUSE_MIDDLE is a problem? <br><br></td></tr></table><br>
<a name="1290063"></a>

<a name="1290064"></a>

<a name="1290065"></a>

<a name="1290066"></a>

<a name="1290067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chalky</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="1290069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd think more than likely the array out of bounds is an issue, but that's also still a valid point with the mouse button consts. 'point' get it? mouse pointer... point OMG what have I been drinking :-) <br><br></td></tr></table><br>
<a name="1290070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> @BlitzSupport:<br><br>The intButtonStates array has a length of 3... so<br>IntButtonStates[0/1/2]<br>Is valid. But the mouse button constants are 1/2/3 . So a hit with mouse button 3 leads to an segfault. As "nodebug" was just...this wont get "found" when debugging your app.<br><br>Bye<br>Ron <br><br></td></tr></table><br>
<a name="1290071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  So a hit with mouse button 3 leads to an segfault <br></div><br>Well, the result is undefined.<br>But generally you don't want to access memory outside of your variables :-) <br><br></td></tr></table><br>
<a name="1290074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok... might lead to a segfault :-)<br><br>Code should have a "arr[mousebutton -1]" or so - but even this is far from perfect as it relies on "mousebutton"-constants (keycodes.bmx) to not change (eg to 0 or to 10).<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1290207"></a>

<a name="1290208"></a>

<a name="1290209"></a>

<a name="1290210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> with the Updated sources, bugs on the splitter and pollevent/waitevent are corrected.<br><br>BTW : Great version, a very good job on this, and it works almost like a charm (still some bugs here and there, like the For loop on type members) but, IMHO, it suffers from a missing explicit "How To instal" for the whole process, and the readmes should be more visible.<br><br>Actually, I must say I was a bit confused while searching the process to instal blitzmax NG from scratch.<br>Make a fresh instal of blitzmax from the original pack (the "real" blitzmax from this site), set the environment variables to blitzmax path and mingw (if required)<br>Download all the stuff from the bmx-ng trunk (brl, pub and maxgui modules (+ optional other modules), the bmx-ng itself, the bmk and bcc, the new maxide) then run the blitzmax "vanilla", build bmx, bcc, and maxide with it, copy compiled bmx, bcc exes + make and core to the bin dir, copy all the maxide stuff (exe + all the rest ? I copied all ... but I'm pretty sure it just needs one or two files) in the root directory of blitzmax, copy mingw32 from the bundle (I put it in blitzmax root dir for convenience, I suppose it could have been in C:\ directly), copy/paste the ported versions of the modules to the mod directory, and finally set the environment variables for blitzmax (if it's all copied on a new blitzmaxNG directory) and the path to mingw32 ...<br>Oh, and I forgot, the last part : compile all modules ^_^ which can take several minutes (took me 30/45 minutes to compile modules in thread/non-threaded / x86 / x64 ), but this step is easy ! boring ... but easy.<br><br>Sorry to have to say that but, that's really not user-friendly.<br>Just hope it will be, else potential users will just be afraid just by installing it. (We all know how windows users are made to be lazzy with this kind of stuff ... Windows always do the best to make every thing for you that users just become stupid)<br><br>ps : BTW, it could be nice to have a "build module" option that runs the x86 then the x64 (thread and non-thread). It would take time, but at least I could take a coffee while it builds everything. ATM, we need to come back each time to run the process again for each target and acrhitecture. <br><br></td></tr></table><br>
<a name="1290211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, once things settle down and the releases become more stable, you shouldn't need to think about installing it from scratch (you don't install the original BlitzMax from scratch either :-)<br><br>With the MinGW32 folder in your BlitzMax folder, bmk will locate that and use it in preference to *any* environment variables you have configured. The idea behind this is that you shouldn't need to be messing around with your environment to build some BlitzMax code.<br>Another feature of this is that you can have several different instances of BlitzMax each with their own local copy of MinGW (perhaps different versions), and none will accidentally try to use the wrong version of MinGW.<br><br>30/45 minutes is nothing. You should try rebuilding wxMax ;-)<br><br>As I say, for most users, you should only ever need the latest release - and not need to fetch/install any separate parts of it. <br><br></td></tr></table><br>
<a name="1290215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you are a _developer_ you will not be afraid of having such a "huge" installation instruction list...<br><br>Once things settle down a bit the releases surely might be self-contained. Even now you do not need to manually compile all modules, as the Brucey made the tools clever enough to check on their own whether modules need a (re-)build.<br><br>This also solves your "x86 then the x64"-build-idea.<br><br><br>So how would I build the newest one:<br>- fetch a prebuild package from bmx-ng.com<br>- fetch the latest bcc/bmk, compile both of them and place the binaries in BMXNG/bin<br>- fetch the latest module code (brl, pub, your-other-modules)<br><br><br>Once the modules work similar to vanilla (means "only a few bugs") the whole module/bcc/bmk-source fetching could get skipped. If vanilla bmx got improved, you would have to follow similar steps (fetching, recompiling)....  only difference is, that you need MinGW instead of FASM.exe<br><br><br>But you are right -- it maybe needs some more "love" regarding that "setup_install.script" (as it is not Windows-friendly :-)).<br><br><a href="/posts.php?topic=105123" target="_blank">Dabhand offers a windows tool already</a> which solves the task. Think he might adjust his code to skip "git" (not needed if you download the zip files, which already are cleaned from .git-files).<br><br>A corresponding Tool (written in BMX) could be written very fast (fetching and executing processes) but somehow _I_ like scriptfiles (".bat" in Windows) more.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1290219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure it would (it will !) be handy :)<br><br>For the 30/45 minutes, I know it's not that big and I've got no problem with that, but here is the weird thing behind this :<br>It takes more time to build the modules than downloading all the compiled version for all the targets as "already compiled binaries"<br>With a midle-range bandwith it's a matter of 15 minutes to download 200-300 Mo, while it takes more than half an hour for a 3/4 GHz Machine.<br>Maybe we should provide a fully compiled pack of blitzmax available on some free servers ? it would saves a bunch of time.<br><br>But I assume that it's just my lazzy-windows-brainwashed-spirit that want this kind of feature ^_^ <br><br></td></tr></table><br>
<a name="1290222"></a>

<a name="1290225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your precompiled-modules are then compiled with which version of MinGW? What happens if the dev-user wants to use another MinGW? - He has to recompile all modules.<br><br>Dunno why recompilation took soooo long on your computer. Did you compile "bmk" in threaded mode ? (threaded c-compilation speeds up the process).<br><br>I just rebuild x86 in release and debug (bah.mod with gtk-thingies, brl.mod, pub.mod and sdl.mod):<br><pre class=code>
$ time ./bmk makemods -a

real	1m18.416s
user	2m44.762s
sys	0m18.352s

</pre><br><br>My system is an aged AMD Llano 4 core - running on an sooner-or-later-dying SATA-HDD (no SSD yet). <br><br>Most time is consumed for file lookups when compiling your project - which is why Brucey added the -quick param to bcc/bmk which skips such  "is the imported module code changed?"-checks.<br><br>I have to confess, when running my "compile for windows"-VM (single core, limited to 50% cpu usage, 512MB RAM, virtual HDD) the compilation of modules takes a while ... mostly this is because of the virtual HDD (time decreases when doing some virtual-LAN-compilations). So "MinGW" might indeed be a bit slowe ... but 45 minutes?<br><br><br>@Free Servers<br>It is free (open source) software - so you might just create a github.com repository and some releases their (each release can hold up some files - so packages for Win, OSX, Linux...). Downloads are then coming from AWS or another CDN - no traffic issues for poor server owners.<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1290239"></a>

<a name="1290240"></a>

<a name="1290242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> the full (debug+release for both x86 and x64 and both non-threaded and threaded) rebuilt took 40 minutes, but Each pass took around 8-12 minutes (for release+debug)<br>So 4 pass (x86 / x64/ x86mt / x64mt) is around 4*10 minutes<br><br>Actually my cpu is pretty good (AMD phenom II x6 at 3 Ghz)<br>Not the best, but still does the job very well.<br>It's just that I rebuild all possible targets for all possible architectures once, then I'm done with native modules. <br><br></td></tr></table><br>
<a name="1290268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it's worth repeating that you don't need to rebuild all with NG, as it just builds whatever modules it needs on-the-fly whenever you try to compile your own programs. <br><br></td></tr></table><br>
<a name="1290269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep, I know that it's not required, but I really prefer having everything done once, than "on the fly" having to wait minutes just to compile a simple sample because of some not "yet compiled" modules.<br>Once it's done, it's done :) <br><br></td></tr></table><br>
<a name="1290292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have needed to do a rebuild all with NG myself the other day: after one of the updates it stopped drawing any graphics to the screen until I manually rebuilt all modules,  and then it worked fine again. <br><br></td></tr></table><br>
<a name="1290310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are still some core changes being made (like for example to arrays). Such changes do require a full rebuild, otherwise parts of your application may become out of sync with the modules. :-)<br><br>Generally this would not be an issue with a stable code-base, and the build-as-required strategy would work as expected. <br><br></td></tr></table><br>
<a name="1290337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I really prefer having everything done once, than "on the fly" having to wait minutes just to compile a simple sample<br> <br></div><br>Fair point! <br><br></td></tr></table><br>
<a name="1295307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I have a problem with this example :<br><br>SuperStrict<br><br>Import maxgui.drivers<br><br>Global window:Tgadget<br><br>window=CreateWindow(AppTitle,100,100,400,400,,WINDOW_TITLEBAR|WINDOW_CENTER|WINDOW_RESIZABLE)<br><br>Global panel1:Tgadget=CreatePanel(10,10,227,227,window)<br><br>SetGadgetColor panel1,0,100,255<br><br>Global img_panel:TImage = CreateImage(2, 2)<br>Global pix_panel:TPixmap = LockImage(img_panel)<br><br>'create green tile map<br>WritePixel(pix_panel, 0, 0, $ff00ff00)<br>WritePixel(pix_panel, 1, 0, $ffffffff)<br>WritePixel(pix_panel, 0, 1, $ff00ff00)<br>WritePixel(pix_panel, 1, 1, $ffffffff)<br><br>UnlockImage(img_panel)<br><br>SetGadgetPixmap panel1,pix_panel,PANELPIXMAP_TILE<br><br>While True<br><br>  WaitEvent <br><br>  Select EventID()<br><br>    Case EVENT_WINDOWCLOSE<br>         End<br><br>  End Select<br><br>Wend<br><br>I have no pixmap displayed with x86 windows (It's good for x64 win, ... not tested with Linux, MacOS, ... )<br><br>Could you verify this little piece of code?<br><br>Many thanks <br><br></td></tr></table><br>
<a name="1295313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> 64bit linux seems to run ok too.<br><br><img src="http://abload.de/img/linux6477ssv.png"><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1295317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> This example works okay for x86 using the latest MaxGUI source from github. <br><br></td></tr></table><br>
<a name="1295318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use Bmx-ng version : BlitzMaxNG_win32_Unoffical_0_71.7z (downloaded from <a href="http://www.bmx-ng.com/main/downloads/)" target="_blank">http://www.bmx-ng.com/main/downloads/)</a><br><br>Yesterday, i've downloaded all updates from <a href="https://github.com/bmx-ng/," target="_blank">https://github.com/bmx-ng/,</a> and rebuilt the essentials (bcc, bmk, brl, pub, maxgui). When i rebuild mods, i rebuild all mods with bmk (debug, release, multithreaded -&gt; no error)<br><br>The last maxgui.mod was updated 27 days ago from github, and if i test now, i've always the same problem with x86 windows.<br><br>What's wrong with bmx-ng? I don't understand <br><br></td></tr></table><br>
<a name="1295319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> eagle54, I just tested your example in win7 both x64 and x86 with debug and release and pixmap displays fine all times. I have bcc -v 0.72 and tdm gcc 4.8.1. <br><br></td></tr></table><br>
<a name="1295323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> bcc version used v0.73 (latest), gcc 5.1 (BlitzMaxNG_win32_Unoffical_0_71)<br><br>Ok, i will see later ... I think rebuild all and i'll test again<br><br>So, thanks for your help Derron, Munch and Brucey <br><br></td></tr></table><br>
<a name="1295324"></a>

<a name="1295365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not try Frisky from that bmx-ng site? It downloads everything needed with GIT, you cant get fresher than that ;) <br><br></td></tr></table><br>
<a name="1295325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> i didn't know Frisky, but if it can download packages and update bmax-ng from Github, it's a good idea. Thanks for your answer. <br><br></td></tr></table><br>
<a name="1295412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've resolved my problem with bmx-ng :)<br><br>I've compiled my piece of code with tdm64-gcc-4.8.1-3 and it's OK for win-x86 and win-x64 architecture (my computer : Win7 x64 with last updates bmx-ng ...)<br><br>Be carefull with tdm64-gcc-5.1.x, perhaps, you'll meet some trouble<br><br>Thanks Munch, you're right for tdm64-gcc-4.8.1 ;) <br><br></td></tr></table><br>
<a name="1295638"></a>

<a name="1295678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a problem with API Window, i can't compile this example with bmx-ng (bcc v0.73, last updates,  tdm64-gcc-4.8.1-3) :<br><br><pre class=code>SuperStrict

Extern "win32"
  Function MessageBoxW(hwnd%, lpText$w, lpCaption$w, uType%) 'UNICODE ...
EndExtern

'main
Const ICON_INFO% = $00000040 'Icon Info ...
MessageBoxW(0, "This is my Test", "Bmx-ng App", ICON_INFO)
End</pre><br><br>I've tested with the (old) official Bmax v1.5x (TDM GCC 4.7.x), and it's OK. Some APIs won't compile with bmx-ng. Any suggestion (i don't want to use 'Notify' command Bmax)?.<br>Thanks in advance. <br><br></td></tr></table><br>
<a name="1295649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> So what was the error string you got?<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1295657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tested eagle's pixmap example with tdm 64 gcc 5.1.0 and confim it doesn't work for x86. It just draws a blue square instead of lines. The error in debug/release is:<br><br><div class="quote"> Warning: resolving _AlphaBlendArgs@44 by linking to _AlphaBlendArgs<br>Use --enable-stdcall-fixup to disable these warnings<br>Use --disable-stdcall-fixup to disable these fixups <br></div> <br><br></td></tr></table><br>
<a name="1295663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, testing with tdm 32 gcc 5.10 in legacy Bmx, eagle's example works in debug but EAV's in release. <br><br></td></tr></table><br>
<a name="1295665"></a>

<a name="1295675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Derron : I can't compile API MessageboxW (for Windows platform only ...).<br><br>Build Error Bmx-ng (on Win7 x64, tdm64-gcc-4.8.1-3, bcc v0.73, last packages bmx-ng downloaded on Github) :<br><br><div class="quote"> Building test6<br>[ 99%] Processing:test6.bmx<br>[ 99%] Compiling:test6.bmx.gui.release.win32.x86.c<br>In file included from C:/BlitzMax/samples/GUI/.bmx/test6.bmx.gui.release.win32.x86.c:1:0:<br>C:/BlitzMax/samples/GUI/.bmx/test6.bmx.gui.release.win32.x86.h:38:24: error: conflicting types for 'MessageBoxW'<br> extern void __stdcall  MessageBoxW(BBINT bbt_hwnd,BBSHORT * bbt_lpText,BBSHORT * bbt_lpCaption,BBINT bbt_uType);<br>                        ^<br>In file included from c:\blitzmax\mingw32\x86_64-w64-mingw32\include\windows.h:72:0,<br>                 from C:/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:7,<br>                 from C:/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:28,<br>                 from C:/BlitzMax/mod/brl.mod/blitz.mod/.bmx/blitz.bmx.release.win32.x86.h:4,<br>                 from C:/BlitzMax/samples/GUI/.bmx/test6.bmx.gui.release.win32.x86.h:4,<br>                 from C:/BlitzMax/samples/GUI/.bmx/test6.bmx.gui.release.win32.x86.c:1:<br>c:\blitzmax\mingw32\x86_64-w64-mingw32\include\winuser.h:3012:25: note: previous declaration of 'MessageBoxW' was here<br>   WINUSERAPI int WINAPI MessageBoxW(HWND hWnd,LPCWSTR lpText,LPCWSTR lpCaption,UINT uType);<br>                         ^<br>Build Error: failed to compile C:/BlitzMax/samples/GUI/.bmx/test6.bmx.gui.release.win32.x86.c <br></div><br><br><br>Some APIs window generate errors during the build, example :<br><br><div class="quote"> Extern "win32"<br>    Function RegOpenKey:Long(hKeyParent:Int,SubKey$z,phkResult:Byte Ptr)="RegOpenKeyA" '-&gt; Build Error<br>EndExtern <br></div><br><br>And others ....-&gt; It's OK<br><div class="quote"> Extern "win32"<br>   Function RegFlushKey:Long(hKey:Int)="RegFlushKeyA" '-&gt; Build OK<br>EndExtern <br></div><br><br>I don't know if there're many APIs Win impacted by this problem, perhaps a bug ...<br><br><br>@Munch : Yes, I confirm the 'Blue Screen win-x86' too, perharps a 'tip' to test TDM-GCC 5.1.x Package with Bmx-ng (it runs OK for tdm64-gcc-4.8.1-3)  :)<br><br>Thanks for your help <br><br></td></tr></table><br>
<a name="1295671"></a>

<a name="1295673"></a>

<a name="1295677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> I read this post ( see above) : <a href="http://www.blitzbasic.com/Community/post.php?topic=105537&amp;post=1287314" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=105537&amp;post=1287314</a><br><br>But i use x86 Win architecture only (not x64) ... see later .... <br><br></td></tr></table><br>
<a name="1295672"></a>

<a name="1295674"></a>

<a name="1295676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> - <br><br></td></tr></table><br>
<a name="1295720"></a>

<a name="1295721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Also, testing with tdm 32 gcc 5.10 in legacy Bmx, eagle's example works in debug but EAV's in release.  <br></div><br>Sorry this is a mistake, I rushed testing and I don't think I rebuilt my mods as the EAV happened with all tests.<br><br>So to confirm the pixmap example (and anything else I tested) worked in debug/release using tdm 5.1.0 32 with a modified legacy Bmx which is good news.<br><br>This was after using bcc, bmk and FASM found in OS Bmx (I've yet to build those I just copied them and it worked). I was getting fatal errors (undefined references to blah) until I replaced those, legacy bcc is built with gcc 4.6.1. <br><br>Also make sure you copied the lib folder with the batch file. There's also a libunicows.a in OS Bmx because that was the one lib file dropped from tdm 4.7.1 up. <br><br></td></tr></table><br>
<a name="1295763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Sorry this is a mistake, ... <br></div><br>Ok, no problem, sometimes it's very difficult to test everything (official BMax, bmx-ng crossplatform, ...), i understand :)<br><br><div class="quote"> There's also a libunicows.a in OS Bmx because that was the one lib file dropped from tdm 4.7.1 up <br></div><br>Sure! Otherwise you can't build your App (i.e : OpenB3D) with TDM GCC 4.7.x and legacy Bmax 1.50 Win. I've no problem with Legacy Bmax, but just some little problems with bmx-ng ... :) <br><br></td></tr></table><br>
<a name="1295996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you any suggestion about this error on bmx-ng ?<br><br><a href="http://www.blitzbasic.com/Community/post.php?topic=105537&amp;post=1295678" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=105537&amp;post=1295678</a><br><br><a href="http://www.blitzbasic.com/Community/post.php?topic=105537&amp;post=1295675" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=105537&amp;post=1295675</a><br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="1296001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> See <b><a href="/post.php?topic=105123&amp;post=1291111" target="_blank">this post</a></b> for the solution.<br><br>Summary: you will need to create a file with .x suffix, with same name as the one containing your extern, and populate it with your externed functions.<br><br>Also note that hwnd is a pointer, not an Int - if you intend to use your code on 64-bit. <br><br></td></tr></table><br>
<a name="1296021"></a>

<a name="1296022"></a>

<a name="1296023"></a>

<a name="1296024"></a>

<a name="1296025"></a>

<a name="1296027"></a>

<a name="1296028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> you will need to create a file with .x suffix, with same name as the one containing your extern, and populate it with your externed functions. <br></div>This will break a lot of old code though :/<br><br>Couldnt you shadow it with another function but make it inline instead?<br><pre class=code>
Extern "C"
  Function puts:Int( s$z)
EndExtern
</pre><pre class=code>
extern inline int bb_puts( const char* s) { return puts(s); }
</pre>And for private functions<pre class=code>
static inline int bb_puts( const char* s) { return puts(s); }
</pre>Perhaps even using <i>__attribute__((always_inline))</i> to make sure it gets inlined (mostly).<br><br>EDIT: Hmmmm.. when i think about it, this would cause problems if comparing the address of these to the originals though. But i dont think that happens too often.<br>EDIT2: The more i think about this, the more i realize its a rats nest ;)  The compiler would have to know which symbols were previously defined, which is a daunting task (parsing headers and caching all the symbols). And if your doing that, you could just as well use the original. <br><br></td></tr></table><br>
<a name="1296037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another option would be...that the compiler (bcc) spits out help on how to solve the issue (possible entry of such an .x-file.<br><br>As the error is created from GCC and not BCC it seems that BMK would have to evaluate the GCC output then (previously defined in xyz) and then asking BCC for help on line xyz of file x.<br><br>Would that even be possible?<br><br><br>Bye<br>Ron <br><br></td></tr></table><br>
<a name="1296049"></a>

<a name="1296056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> [quote] And if your doing that, you could just as well use the original. [/quote<br>Indeed :-)<br><br>The issue only arises if a header (say, windows.h) is included somewhere up the chain (in this case, brl.blitz does) and your code happens to extern a function from it.<br>If the parameters don't match, modern gcc's will complain.<br>In which case, creating a .x file, and adding the appropriate declaration in it seemed like the least effort. Your code is still compatible with old BlitzMax, as all you've done is add a file that is ignored by it.<br><br>When NG's bcc is processing extern functions, it just does a lookup against the file. If your function is there, it can decide whether to declare it in the generated header or not (based on the presence of an exclamation at the end of the line).<br><br>It's not particularly pretty, but it was a path I took that required the least amount of work.<br><br>As I usually say, NG is about 99% high-level BlitzMax compatible, but when you start doing low-level stuff, like directly accessing APIs, the end-user may need to do some more work.<br><br>I think for the benefits you can gain from NG (as you've seen recently in that multi-thread perlin example), the extra work a user may need to perform (for low-level stuff) may be worth it. <br><br></td></tr></table><br>
<a name="1296051"></a>

<a name="1296052"></a>

<a name="1296054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure, if BCC maps the generated C line of each extern definition it could parse the error messages and figure this out.<br>But it would still have to build a table of all these, and i imagine it could be rather slow if it had to do multiple round trips to compile a few files.<br>And it would have to cache these symbols too, which might speed things up over time. But then have to deal with cache invalidation on changed files and all that jazz.<br><br>A pain in the ass im sure ;) <br><br></td></tr></table><br>
<a name="1296057"></a>

<a name="1296058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> It only should need to build a table once it run into an error. So if it compiles flawless - no problem, but if there is such an multiple-definition-error, then it (= BMK) triggers BCC again with additional parameters so BCC   runs the "extra portion of workload" this time.<br><br>If you want avoid this, we could think about adding a "helper" binary (like "LINT") which does these checks (could even be extended to check for unused variables and so on).<br><br><br>Edit:<br>The reason why I "request" such a feature is, that I am not able to create the needed .x-files to get maxmod2.mod to compile (you know...streaming ogg audio, a feature which I request for a long time now :-)). Somehow my brain is just not capable of doing it on my own (I know, I just did not try hard enough). Maybe more complex examples would help (I am sure there is an easy "step-by-step" variant possible).<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1296070"></a>

<a name="1296080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brucey : Sorry, i am a bit confused, ... lot of posts here... :o(<br><br>Well, ok, i created an x file (with my function and types)<br><br><b>test6.x</b> :<br><pre class=code>int MessageBoxW(HWND, LPCWSTR, LPCWSTR, UINT)!</pre><br>and my bmx file (the same name as x file) :<br><br><b>test6.bmx</b> :<br><pre class=code>SuperStrict

Extern "win32"
  Function MessageBoxW%(hwnd%, lpText$w, lpCaption$w, uType%) 'UNICODE ...
EndExtern

'main
Const ICON_INFO% = $00000040 'Info ...
MessageBoxW(0, "This is my Test", "Bmx-ng App", ICON_INFO)
End</pre><br>I tested, it's Ok for x86<br><div class="quote"> Building test6<br>[ 97%] Processing:test6.bmx<br>[ 98%] Compiling:test6.bmx.gui.release.win32.x86.c<br>[100%] Linking:test6.exe<br><br>Process complete <br></div><br>And .... It's Ok for x64<br><div class="quote"> Building test6<br>[ 97%] Processing:test6.bmx<br>[ 98%] Compiling:test6.bmx.gui.release.win32.x64.c<br>[100%] Linking:test6.exe<br><br>Process complete <br></div><br><br>Tested with config : Bmx-ng (on Win7 x64, tdm64-gcc-4.8.1-3, bcc v0.73, last packages bmx-ng downloaded on Github) <br><br>@grable :<br><div class="quote"> This will break a lot of old code though :/ <br></div><br>Yes, it's a little bit different between legacy BMax and BMX-NG. May be, it's more difficult to implement with bmx-ng, i don't know.<br><br>Many thanks for your help, i hope that this example for bmx-ng will help other people, here. <br><br></td></tr></table><br>
<a name="1296073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is wrong for 64-bit compatibility:<br><pre class=code>
Function MessageBoxW%(hwnd%, lpText$w, lpCaption$w, uType%)
</pre><br>It needs to be:<br><pre class=code>
Function MessageBoxW%(hwnd:Byte Ptr, lpText$w, lpCaption$w, uType%)
</pre><br>Although in your particular use of it you are setting the argument to 0, if you ever wanted to use your version with an actual window reference, it would probably crash on 64-bit.<br><br>To be on the safe side, disregard *everything* you've seen regarding the implementing of Ints as pointers in BlitzMax, and always use pointers instead. (this may require "fixing" third party code) <br><br></td></tr></table><br>
<a name="1296081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> To be on the safe side, disregard *everything* you've seen regarding the implementing of Ints as pointers in BlitzMax, and always use pointers instead. (this may require "fixing" third party code) <br></div><br>I didn't use windows Handle (HWND -&gt; 0), so, i'll be carefull with x64 win.<br><br>Thanks for your help Brucey. <br><br></td></tr></table><br>
<a name="1296120"></a>

<a name="1296121"></a>

<a name="1296122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another test (3 files) ...<br><br>My header file : <b>myvars.bmx</b><br><pre class=code>Const title$   = "My App"
Const version$ = "Version XYZ"
<b><i>Const author$  = "~nWritten by Me"</i></b> 'carriage return added -&gt; ~n
Const ICON_INFO% = $00000040 'Info ...</pre><br>My x file : <b>test8.x</b><br><pre class=code>int MessageBoxW(HWND, LPCWSTR, LPCWSTR, UINT)!</pre><br>My bmx file : <b>test8.bmx</b><br><pre class=code>SuperStrict

Import "myvars.bmx"

Extern "win32"
  Function MessageBoxW%(hwnd:Byte Ptr, lpText$w, lpCaption$w, uType%) 'UNICODE ...
EndExtern

'main
MessageBoxW(0, title + " " + version + <b><i>author</i></b>, title, ICON_INFO)
End</pre><br>Build OK (x86 and x64)<br><div class="quote"> Building test8<br>[ 94%] Processing:myvars.bmx<br>[ 95%] Compiling:myvars.bmx.release.win32.x86.c<br>[ 97%] Processing:test8.bmx<br>[ 98%] Compiling:test8.bmx.gui.release.win32.x86.c<br>[100%] Linking:test8.exe<br><br>Process complete <br></div><br>Tested with config : Bmx-ng (on Win7 x64, tdm64-gcc-4.8.1-3, bcc v0.73, last packages bmx-ng downloaded on Github)<br><br><br>But, ... but, ... :o), when <b>test8.exe</b> is running, my MessageBox doesn't display correctly <b>author$</b> string (Problem with <b>~n</b> -&gt; &lt;CR&gt;, Carriage Return). I tested with 'Notify' BMAX, and it's the same thing (display error ...). What is the problem? Could you test this example if you have time (be carefull, it's for OS Windows only, WINAPI ...)?<br><br>Thanks in advance <br><br></td></tr></table><br>
<a name="1296134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> CR doesn't work with Import "myvars.bmx" for some reason but Include "myvars.bmx" works. In OS Bmx you can use Import "myvars.bmx". <br><br></td></tr></table><br>
<a name="1296152"></a>

<a name="1296153"></a>

<a name="1296155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> @eagle54<br>If quick build is enabled, you can change the <b>\n</b> to <b>~n</b> and it works.<br>So it seems to be a bug in the creation of the <b>.i</b> file. It converts  string escapes to C style when it shouldnt.<br><br>And just so you know <b>~n</b> is line feed and <b>~r</b> is carriege return ;) <br><br></td></tr></table><br>
<a name="1296177"></a>

<a name="1296180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> @grable:<br><div class="quote"> So it seems to be a bug in the creation of the .i file. It converts string escapes to C style when it shouldnt. <br></div><br>Yes, I also think that it's a bug.<br><div class="quote"> And just so you know ~n is line feed and ~r is carriege return <br></div><br>True! You're are right (~n = 13 &lt;LF&gt;, ~r = 10 &lt;CR&gt;). So, if you open test8.bmx.gui.release.win32.x86.c, you have this concatenated string :<br><pre class=code>static BBString _s6={
	&amp;bbStringClass,
	33,
	{77,121,32,65,112,112,32,86,101,114,115,105,111,110,32,88,89
	,90,92,<b>-&gt; 110 &lt;-</b>,87,114,105,116,116,101,110,32,98,121,32,77,101
}</pre>To my mind, the value '110' should be '13' -&gt; ~n. It's a mistake.<br>@munch:<br><div class="quote"> CR doesn't work with Import "myvars.bmx" for some reason but Include "myvars.bmx" works. In OS Bmx you can use Import "myvars.bmx". <br></div><br>You can also replace '<b>Const author$</b>' by '<b>Global author$</b>', and ... it works ... but, you shouldn't modify. I think it's bug. <br><br></td></tr></table><br>
<a name="1296181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> True! You're are right (~n = 13 &lt;LF&gt;, ~r = 10 &lt;CR&gt;) <br></div>Not to be a total dick, but its CR=13 LF=10 :p<br><br>And your right, its not only the .I files but also the concatenated string. The reason for this is probably because it reads those strings from the .I files before it concatenates them. As the originals are correct. <br><br></td></tr></table><br>
<a name="1296182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> That should be fixed now. <br><br></td></tr></table><br>
<a name="1296184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your help grable, munch and Brucey ;) <br><br></td></tr></table><br>
<a name="1310975"></a>

<a name="1310976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, I meet <u>2 errors</u> with bmx-ng<br><br>1) When i want to rebuild MaxGUI Mod, i have this error :<br><div class="quote"> [ 93%] Processing:hyperlink.bmx<br>[ 94%] Processing:scrollpanel.bmx<br>[ 94%] Processing:splitter.bmx<br>[ 95%] Processing:win32maxguiex.bmx<br>Compile Error: Auto array elements must have identical types<br>[C:/BlitzMax/mod/maxgui.mod/win32maxguiex.mod/win32maxguiex.bmx;4759;0]<br>Build Error: failed to compile C:/BlitzMax/mod/maxgui.mod/win32maxguiex.mod/win32maxguiex.bmx<br>C:\BlitzMax\mod&gt; <br></div><br>It's the same thing with <b>Warning Flag On</b> (Build Options)<br><br><br>2) An other trouble ....<br>Try to debug this example in MaxIDE (<b>Debug Mode On</b>) :<br><pre class=code>SuperStrict

Function Add%(a%, b%)
  Return a + b
End Function

DebugStop

Const _TEST% = 1
Global a% = 1
Global b% = 2
Local txt$ ="test"

Print "Add = " + Add(a, b)

End</pre><b>Const &amp; Global vars</b> are not displayed in debug windows (MaxIDE), but <b>local vars</b> seem to be OK<br><br>Tested with config : Bmx-ng (on Win7 x64, tdm64-gcc-5.1.0, bcc v0.79, bmk 3.14, last packages bmx-ng downloaded on Github<br><br>Any suggestion about these errors ?<br><br>Thanks in advance <br><br></td></tr></table><br>
<a name="1311695"></a>

<a name="1311696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, all<br><br><u>See above my 2 problems #111 ...</u><br><br><b>1) PB 1:</b><br>If i modify win32maxguiex.bmx [Line 4759;0] :<br><pre class=code>Local Rect[] = [_item,0,0,0] -&gt; Local Rect[] = [Int Byte Ptr _item,0,0,0]</pre>build maxgui is OK. Is it an Auto Array issue (see GitHub about bcc issues ...) ?<br><br><br><b>2) PB 2:</b><br>I don't know about <b>Const &amp; Global vars</b> (not displayed in debug windows in MaxIDE), <b>local vars</b> seem to be OK, i don't understand<br><br>If you've any idea .... <br><br></td></tr></table><br>
<a name="1311731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzMax NG is kindof stricter is some ways than the legacy BMax, but only in the sense that the code needs to be 'more technically correct' that what the legacy compiler put up with.<br><br>Ref Globals and 'non local' Consts<br>It looks as though the debug data isn't being generated so that indeed tends to lean towards a bug. <br><br></td></tr></table><br>
<a name="1311788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eagle54</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks for your answer col. I don't know if Mister Brucey reads theses posts (i hope ...) :)<br><br>So, i will be patient.<br><br>Many thanks <br><br></td></tr></table><br>
<a name="1311807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sure he does eventually.<br>For NG bugs you will get a faster response if you post to the <a href="https://github.com/bmx-ng" target="_blank">github repo</a>.<br><br>Sometimes he replies and fixes things there so fast that I'm becoming convinced that he's not a human :D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
