<!DOCTYPE html><html lang="en" ><head ><title >(WIN) Add special 64bit remarks...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >(WIN) Add special 64bit remarks...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=126" >BlitzMax NG</a>/<a href="#bottom" >(WIN) Add special 64bit remarks...</a><br><br>
<a name="1329671"></a>

<a name="1329674"></a>

<a name="1329680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fielder</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> to adapt applications to 64 bit compilation some part of code need to be REMARKED... i've not find something like:<br><br><pre class=code>?Win64
  'code64
?Win32
  'code32
?</pre><br><br>maybe it's hard to add this feature.. but maybe it's possible to add something like that: (looking at the double rem ' )<br><br><pre class=code>''64 print "this line is executed on 64 bit compilation"</pre><br><br>and use some sort of Pre-Compiler that PARSE the source creating the right source for 64 compiling...<br><br>the use of the double rem --&gt; '' can make the source compatible with old IDES.. and 32 bit stock compiler... <br><br></td></tr></table><br>
<a name="1329678"></a>

<a name="1329682"></a>

<a name="1329684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> For now you are able to use:<br><br><pre class=code>

debug
threaded
macos
macosx86
macosppc
macosx64
osx
osxx86
osxppc
osxx64
ios
iosx86
iosx64
iosarmv7
iosarm64
win32
win32x86
win32x64
win64
linux
linuxx86
linuxx64
linuxarm
android
androidx86
androidx64
androidarm
androidarmeabi
androidarmeabiv7a
androidarm64v8a
raspberrypi
raspberrypiARM
emscripten
emscriptenjs
ppc
x86
x64
arm
armeabi
armeabiv7a
arm64v8a
js
armv7
arm64
ptr32
ptr64
bigendian
littleendian
opengles
musl
bmxng

</pre><br><br><br>With NG you could also mix conditionals with normal expressions:<br>?linux or win64<br>- evaluates the following if either "linux" (32 or 64 ...does not matter) or win64<br><br><br>@ Preprocessor<br>When compiling with the NG chain (bmk/bcc) you could use the project specific pre.bmk (place it in the projects folder) and this lua file is executed before. It could adjust source files if needed. This is of course no preprocessor as you want it, but might help out in certain situations.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1329681"></a>

<a name="1329689"></a>

<a name="1329691"></a>

<a name="1329693"></a>

<a name="1329694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fielder</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> OMG really? thank you!<br><br>but how to manage this?<br><pre class=code>
?MacOS
Import BRL.glmax2d
Import brl.freeaudioaudio
?Win32
Import brl.d3d9max2d
Import brl.directsoundaudio
Import "test.o"
Import its.printing
?win64
Import brl.d3d9max2d
Import brl.directsoundaudio
?Linux
Import BRL.glmax2d
Import brl.freeaudioaudio
Import "-ldl"
?
</pre><br>compiling on WIN for WIN64 i receive and error:<br>can't find interface for module "its.printing"<br>but this module is only loaded on win32... <br><br></td></tr></table><br>
<a name="1329685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edited my previous post while you replied, so you might miss my preprocessor-appendix.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1329695"></a>

<a name="1329696"></a>

<a name="1329699"></a>

<a name="1329700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fielder</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i tried this:<br><pre class=code>
?MacOS
Import BRL.glmax2d
Import brl.freeaudioaudio
?Win32x86
Import brl.d3d9max2d
Import brl.directsoundaudio
Import "test.o"
Import its.printing
?win32x64
Import brl.d3d9max2d
Import brl.directsoundaudio
?Linux
Import BRL.glmax2d
Import brl.freeaudioaudio
Import "-ldl"
?
</pre><br>and WORKS on NG...<br>but what about using this source on standard Blitzmax (where ?Win32x86 and ?win32x64) doesn't exist? (or these commands exist?)<br><br>what can i do to make source compatible with NG and standard version of Blitzmax?<br><br>i've to do that? :<br><pre class=code>
?MacOS
Import BRL.glmax2d
Import brl.freeaudioaudio
?Win32
Import brl.d3d9max2d
Import brl.directsoundaudio
Import "test.o"
Import its.printing
?Win32x86
Import brl.d3d9max2d
Import brl.directsoundaudio
Import "test.o"
Import its.printing
?win32x64
Import brl.d3d9max2d
Import brl.directsoundaudio
?Linux
Import BRL.glmax2d
Import brl.freeaudioaudio
Import "-ldl"
?
</pre> <br><br></td></tr></table><br>
<a name="1329702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> A non-existing conditional in vanilla is always "false", so not executed.<br><br>To make them work with BOTH, I had to split it into multiple files for my framework:<br><br><br>?Win32<br>Import "thisveryfile_win32.bmx"<br>?not win32<br>...<br>?<br><br>in that "thisveryfile_win32.bmx" I could do <br>?bmxng<br>...<br>?not bmxng<br>...<br>?<br><br><br>So in your case you could do similar. I know it is not comfortable but it allows to keep a certain level of backwards-compatibility.<br><br><br>In your case it would be by the way:<br>?win32<br>Import "myfile_win32.bmx"<br>?Linux<br>...<br><br>and myfile_win32.bmx then contains:<br>?not win32x64 'this is true on vanilla - double negation<br>...import the x86 files<br>?win32x64 'only true on NG and when 64bit<br>... import the x64 files<br>?<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1329748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> win32x86 is a valid option in legacy bcc. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
