<!DOCTYPE html><html lang="en" ><head ><title >Need a text to image function</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Need a text to image function</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=509" >Digital Discussion</a>/<a href="#bottom" >Need a text to image function</a><br><br>
<a name="2090344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lindsay</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: never mind, I've figured out a much easier compromise!<br><br>I've been beating my head against this problem for weeks now, figured it was time to see if anybody else has an idea.<br><br>I don't care if this is done in Monkey,Xcode,VisualC,Cocos, whatever...it's a standalone tool to build the data files for my game, not part of the game itself.<br><br>- Function takes "text" and "filename" as parameters<br>- Creates a new text object with a given font and size containing "text". It's automatically sized to be just large enough to hold "text" in that font, but no larger.<br>- Retrieves the canvas of that object and saves it to disk as a transparent PNG file ("filename".PNG)<br><br>Before anybody says "use bitmap fonts", here's why that won't work: some of the words I need to convert to graphics are in languages like Arabic which have very complex rendering rules, not straightforward letter-&gt;glyph substitution.<br><br>Up to now I've been doing a variation of this, 100 words at a time, using a graphics program (and my game then uses DrawImageRect to pull out just the word it needs). This works, but there are literally thousands of words I need to convert ... Not impossible, but highly tedious. <br><br>So if anybody can see a way to do this, please let me know! <br><br></td></tr></table><br>
<a name="2090283"></a>

<a name="2090300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaBoy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Lindsay,<br><br>Not sure if this could help, but I've been using the GD Library with PHP lately, perhaps you could see if that is a possible solution, perhaps call PHP via CLI<br>to create the required PNG?<br><br>[Edit]: Hmm... just looked into it abit more, have you looked at <br><br><a href="http://en.wikipedia.org/wiki/Pango" target="_blank">http://en.wikipedia.org/wiki/Pango</a><br><a href="http://cairographics.org/" target="_blank">http://cairographics.org/</a> <br><br></td></tr></table><br>
<a name="2090299"></a>

<a name="2090292"></a>

<a name="2090306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think <a href="/posts.php?topic=8470" target="_blank">297chrisc's Truetype font module</a> would help you do this. <br><br></td></tr></table><br>
<a name="2090345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lindsay</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys - overnight I've realised that if I drop support for the two most problematic languages, every other language I want to support will work with a bitmap font, so I'm going to do that as it's a heck of a lot less work! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
