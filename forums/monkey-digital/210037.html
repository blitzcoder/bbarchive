<!DOCTYPE html><html lang="en" ><head ><title >TileExtruder tool (helps remove seams in tilemaps)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TileExtruder tool (helps remove seams in tilemaps)</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=509" >Digital Discussion</a>/<a href="#bottom" >TileExtruder tool (helps remove seams in tilemaps)</a><br><br>
<a name="2109482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>I wrote a tool today in an attempt to help reduce problems with using autofit and tilemaps in mojo1.  This tile extruder is a commandline tool which takes the edge pixels of each tile in a tileset and repeats them backwards for the amount of extrusion padding you specify.  It can also pad tiles with blank space.<br><br><a href="https://github.com/nobuyukinyuu/tile-extruder" target="_blank">https://github.com/nobuyukinyuu/tile-extruder</a><br><br>This should (in theory-at least!) reduce or eliminate any seams and moire effect you notice in your tilemaps when resizing the main canvas using autofit or AutoScale in mojo1.  I haven't been able to test this in any of the current frameworks however!  Please let me know if this works for you.  <br><br>Requires .net 4.0 framework to run..... <br><br></td></tr></table><br>
<a name="2109533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've fixed the Diddy Tiled engine to work properly with extruded images, too.  It wasn't calculating the tile count correctly from the margin/spacing settings in tmx files. <br><br></td></tr></table><br>
<a name="2109543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool!  I'll check for a diff and apply the relevant changes to my fork. <br><br></td></tr></table><br>
<a name="2109679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does mojo2 have the same tiling problems you are trying to solve? <br><br></td></tr></table><br>
<a name="2109766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, with mojo2 I'm pretty sure you can blit all to one surface at once, and then resize all of that.  However, none of the frameworks (except maybe Pyro?) support tilemaps in mojo2 yet.  This is most useful for mojo1 where you don't have fine control over this without resorting to direct ogl calls or externs.  By setting the extrusion factor to at least 1 pixel and the spacing to 1 pixel, you can virtually eliminate all seams in tilemaps and anything else that you would normally stitch together.  Diddy's tilemap now supports this feature, and you can enable its usage either directly from Tiled when creating a new map, or by editing the TMX file directly for an existing map (I'm not experienced in Tiled enough to know if margin/spacing can be altered for tilesets after they've been loaded into a map).<br><br>Another example of its use in mojo1 would be using this tool to facilitate "glass block" anti-ripping measures to keep casual people from viewing certain images in your data folder -- running an image through the extruder at your specified block size, then using your own tool to take each block and rotate/flip them using a cypher of some kind.  I may even write this functionality into the tool at some point. <br><br></td></tr></table><br>
<a name="2109788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Nobuyuki: ...then using your own tool to take each block and rotate/flip them using a cypher of some kind... <br></div><br>Tiled actually has support for rotate/flip in the file format, but it's not supported in Diddy at the moment.  Let me know if you add it to your tool and I'll add support for it. <br><br></td></tr></table><br>
<a name="2112063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've got 3 tiles in a 16x16 tile set, which I've extruded by 1 pixel X and Y:<br><pre class=code>TileExtruder.exe tiles.png size=16 pad=1 space=0 tilese.png</pre><br><br>How do I load it into Tiled so Tiled will render it correctly? I've messed with margins, offsets etc but when I load it into Tiled it displays it as 4 tiles instead of 3. <br><br></td></tr></table><br>
<a name="2112061"></a>

<a name="2112075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> However, none of the frameworks (except maybe Pyro?) support tilemaps in mojo2 yet. <br></div><br><br>Yes, it does (grab the latest update for the brand new Tiled importer). <br><br></td></tr></table><br>
<a name="2112069"></a>

<a name="2112065"></a>

<a name="2112064"></a>

<a name="2112062"></a>

<a name="2112109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> therevills:  The extruder and Tiled use different definitions for what it's expecting :(  It can be frustrating to get it "just right", and if I remember correctly, you might need to use even numbers in the extruder (don't quote me on that) because Tiled doesn't use full pad in all directions but one direction only.  So, I believe you need to set Tiled's spacing to double the combined pad and spacing values you give TileExtruder, then the margin is the pad value from TileExtruder.<br><br>For example,<br><pre class=code>TileExtruder.exe tiles.png size=16 pad=2 space=0 tiles.png</pre><br>In the tmx file (or set from within Tiled when importing):<br><pre class=code> &lt;tileset firstgid="1" name="tiles" tilewidth="16" tileheight="16" spacing="4" margin="2" tilecount="3"&gt;
  &lt;image source="tiles.png" trans="ff00ff" width="60" height="20"/&gt;
 &lt;/tileset&gt;
</pre> <br><br></td></tr></table><br>
<a name="2112115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It still baffles me that this problem is left to the programmer to be solved in this modern day and age! For Ignition there is a tool that solves this for you but still it is an inconvenience. However, Pyro, because it uses Mojo 2 does this a lot better. The tileset class has a command called: 'DuplicateBorders' so you don't need to make any changes the tmx file although it now only works for orthogonal maps. Currently I am looking in to Isometrics also. In my experience, giving the tiles a double border and enabling padding works best. I suspect TILEEXTRUDER TOOL is doing the same? <br><br></td></tr></table><br>
<a name="2112121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The tool bakes extrusions into the tile set itself. This is done to reduce the amount of blitting necessary at runtime. <br><br></td></tr></table><br>
<a name="2112125"></a>

<a name="2112126"></a>

<a name="2112127"></a>

<a name="2112128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I understand. Pyro does the same. After the tilemap is loaded and the tileset is created etc. you can use the command 'DuplicateBorders' to do this for you. This means you can just load any tilemap without having to use a tile extruder everytime you change the tile bitmap. But I left it to the programmers control in case they prefer to use another way like your tool tile extruder instead. <br><br></td></tr></table><br>
<a name="2112175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Nobuyuki, I'll use your example settings and they work fine.... it was doing my head in! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
