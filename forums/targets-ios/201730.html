<!DOCTYPE html><html lang="en" ><head ><title >4th Gen iPod v 3GS iPod</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >4th Gen iPod v 3GS iPod</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=505" >iOS</a>/<a href="#bottom" >4th Gen iPod v 3GS iPod</a><br><br>
<a name="2016223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have two iPods, a 3GS one, and a 4th Gen one, version numbers below:-<br><br>3GS iPod : 4.2.1<br>4th Gen : 4.3.5<br><br>Now, when I play my app on the 4th gen iPod, in release build, its flies along, but, when I build and run it for my 3GS iPod (Standard Architectures armv6), it drops right down to 2FPS.<br><br>Am I missing something that makes it bomb, like some daft setting buried in xCode somewhere, I've looked and looked, spent the last hour having a chinwag with Gfk about it, test everything, and... Nowt!<br><br>Dabz <br><br></td></tr></table><br>
<a name="2016249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try disabling Thumb mode. <br><br></td></tr></table><br>
<a name="2016251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> GCC_THUMB_SUPPORT = NO<br><br>Is that the fella, if so, it was already switched off! Mmmm<br><br>Dabz <br><br></td></tr></table><br>
<a name="2016253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There was a point I got to in ZTP development where I had 4 sheets of sprites 1024x1024, using images from a 5th caused massive hickups. <br><br>I ended up moving animation graphics that weren't reused off the sprite sheets and into individual images. <br><br></td></tr></table><br>
<a name="2016255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qube</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the 3G version running at native 480x320 resolution or are you scaling down to that resolution in order to support 960x480 on the iPhone 4?<br><br>Hopefully you are using a sprite sheet and copying your images directly off those to reduce draw calls?<br><br>Have you tried it without drawing the background to see if that's the main slow down?<br><br>If your background is moving each frame then you really should be using a sprite sheet and triangle strips to draw it in blocks.<br><br>If your background is static then (if Monkey supports this) make the background image buffer the  image so you don't in effect have to "clear screen to black and then draw the background" - There is a very handy command in GLBASIC which is great for static background on iOS that speeds up the frame rate hugely and allow you to forget drawing the background each frame in code. If Monkey supports similar and you have a static background it'll help hugely. It's called LOADBMP - <a href="http://www.glbasic.com/xmlhelp.php?lang=en&amp;id=50&amp;action=view" target="_blank">http://www.glbasic.com/xmlhelp.php?lang=en&amp;id=50&amp;action=view</a> and if Monkey doesn't have such a feature I'd highly recommend asking for it as it's a great help on handheld devices. <br><br></td></tr></table><br>
<a name="2016254"></a>

<a name="2016300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I used LoadBMP on my last two games which were GLBasic, which is proper handy, oh, and PolyVectors too, big thumbs up for them, but alas, I have no idea if this is how monkey does its thing.<br><br>I'm scaling down.<br><br>I actually tried this a while ago and only came back to it lastnight, when I did try it, all there was was an image with 8 fruits cells, there was no background or anything special like that, I was using DrawRect mind, but, its always been a constant 2FPS when running regardless.<br><br>Dabz <br><br></td></tr></table><br>
<a name="2016333"></a>

<a name="2016337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found out what it is, the 3GS doesnt appreciate Diddys <i>game.useFixedRateLogic = True</i><br><br>Take that away, steady FPS all the way! :/<br><br>I'll now post in the Diddy thread... Thanks fella's!<br><br>Dabz <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
