<!DOCTYPE html><html lang="en" ><head ><title >iOS 6 forcing apps to run in portrait mode?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >iOS 6 forcing apps to run in portrait mode?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=505" >iOS</a>/<a href="#bottom" >iOS 6 forcing apps to run in portrait mode?</a><br><br>
<a name="2039163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know what's going on, but I cannot get my apps to run in Landscape mode anymore.<br><br>I build for iOS<br><br>I update XCode and the plist file so only Landscape orientations exist, but no matter what, it always displays my apps in Landscape mode.<br><br>This only happened when updating to iOS 6 and the latest XCode.<br><br>Anyone know anywhere else in XCode it might be telling my app to run in portrait and override all the other Summary / Info settings? <br><br></td></tr></table><br>
<a name="2039164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I found something.  It appears that shouldAutorotateToInterfaceOrientation has been replaced by 2 new methods:<br><br><a href="http://stackoverflow.com/questions/12476273/xcode-4-5-ios-6-0-simulator-and-rotation-issues" target="_blank">http://stackoverflow.com/questions/12476273/xcode-4-5-ios-6-0-simulator-and-rotation-issues</a><br><br>Is this fixed in newer releases of Monkey already? <br><br></td></tr></table><br>
<a name="2039174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> shouldAutorotateToInterfaceOrientation was depreciated in XCode 4.5 and iOS 6 which is where this problem is coming from.<br><br>Kind-of at a stand-still for testing on iOS until this is resolved so posted it to Bugs - hope that's the right protocol. <br><br></td></tr></table><br>
<a name="2039234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I take it that this doesn't hit existing apps? I.e they are ok under ios6? <br><br></td></tr></table><br>
<a name="2039237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Correct, if an app is already available and built with a previous version of Xcode it should be fine, but at this time, with Xcode 4.5 and iOS 6 and the current version of Monkey, you can't build landscape apps because they only display in portrait. <br><br></td></tr></table><br>
<a name="2039243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amnesia</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. I found a way to temporarily solve the issue, but this will have to be addressed by mark on an update.<br>If you want your game running in landscape mode on ios6, but it shows on portrait is mainly because the method shouldAutorotateToInterfaceOrientation on ios6 is deprecated. To fix this, first compile your game in monkey and open the project in xcode. Open the file main.mm. Search for shouldAutorotateToInterfaceOrientation. Delete that method and replace it with this code:<br><pre class=code>
-(BOOL)shouldAutorotate
{
    return YES;
}

-(NSUInteger)supportedInterfaceOrientations{
    return UIInterfaceOrientationMaskLandscape;
}
</pre><br>The above code must be inside the implementation MonkeyViewController<br><br>Then search for:<br><pre class=code>[window addSubview:viewController.view]</pre><br>And replace that line with:<br><pre class=code>
window.rootViewController = viewController;
</pre><br><br>That should do it... for now <br><br></td></tr></table><br>
<a name="2039267"></a>

<a name="2039269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Amnesia Thank you!<br><br>I couldn't figure out how to identify the rootViewController.<br><br>Did you leave shouldAutorotateToInterfaceOrientation in for older devices/os's? <br><br></td></tr></table><br>
<a name="2039452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amnesia</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm going to try now on an ios5 ipad.<br>Also, i noticed that in v66 is fixed <br><br></td></tr></table><br>
<a name="2039461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amnesia</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you need to keep the old shouldAutorotateToInterfaceOrientation method to keep ios5 compatibility <br><br></td></tr></table><br>
<a name="2039477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It appears that v66 does leave in shouldAutorotateToInterfaceOrientation as well.  And it's building fine now in landscape on iOS 6. <br><br></td></tr></table><br>
<a name="2039526"></a>

<a name="2039527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amnesia</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> And you need to keep both lines<br><pre class=code>
[window addSubview:viewController.view];
window.rootViewController = viewController;
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
