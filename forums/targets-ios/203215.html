<!DOCTYPE html><html lang="en" ><head ><title >Working game Center Code?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Working game Center Code?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=505" >iOS</a>/<a href="#bottom" >Working game Center Code?</a><br><br>
<a name="2033311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OvineByDesign</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've tried all of the available Game Center code found on the forum, but Im getting a problem with the leaderboard screen not disappearing when you press the DONE button ?<br><br>A per forum posts I changed the 'controlleranimated' to NO which stopped the game from crashing when the done was pressed but alas teh screen doesnt disppear now at all?<br><br>Does anyone have any working Game center code ?<br><br><br>StuC <br><br></td></tr></table><br>
<a name="2033352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >York</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have also trouble with GameCenter. I want to integrate it in landscape mode, but IPad works and IPhone not. :( <br><br>I don´t understand why there are the problems with Gamecenter.<br><br>Other question: Must be a button in the app to view leaderboard/achievement to get the app approved, if I use gamecenter? <br><br></td></tr></table><br>
<a name="2033348"></a>

<a name="2033382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >arawkins</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys, I've been using Alex's code from the other Game Center thread and as far as I know it hasn't been crashing. I've tested locally on ipod touch and ipad, but not iphone, both on ios5. I also ran it through the simulator without any issues (ios4, ipad and iphone). My game has been up for almost a week on the app store and no reports of problems, though it could be that nobody has bothered to tell me it crashes.<br><br>I've uploaded the code I'm using here:<br><br><a href="http://www.rawkins.com/gamecenter.zip" target="_blank">http://www.rawkins.com/gamecenter.zip</a><br><br>There are also a few additional functions I've added:<br><br>Function GetAchievementCompletion:Float(scAchName$) - Returns the precentage completion of the achievement scAchName (the id of your achievement)<br><br>Function AchievementsLoaded:Bool() - Returns true once the players achievements have been loaded.<br><br>Function GetCancelCount:Int() - Returns the number of times the player has declined to log in to game center <br><br>Hope that helps! Let me know if it still causes crashing. Also I should mention my game is locked to landscape only, so I haven't tested any of this in portrait. <br><br></td></tr></table><br>
<a name="2033385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @arawkins Which game do you have in the app store right now using this Game Center code?  I have an iPhone and can probably test it out. <br><br></td></tr></table><br>
<a name="2033408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >arawkins</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @benmc it's called Dolphin Up: <br><a href="http://itunes.apple.com/ca/app/dolphin-up/id512064780?mt=8" target="_blank">http://itunes.apple.com/ca/app/dolphin-up/id512064780?mt=8</a><br><br>That'd be great if you could test it. It's not a free app, but if you give me an email address or something I can send you a download code for it. <br><br></td></tr></table><br>
<a name="2033439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @arawkins Everything worked just fine on iPhone 3GS!  <br><br>And wow, I'm glad I bought this game!  Apple should feature it, it's REALLY fun.  Reminds me of Tiny Wings, only more "free form", and more fun in my opinion.<br><br>I'm telling friends about it for sure.<br><br>I'll have to give Game Center another go, I couldn't get it to work myself the first time around. <br><br></td></tr></table><br>
<a name="2033440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OvineByDesign</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the post.  The code does close the window now but now it crashes on the gtkxinput function once the window disappears.  I also had to turn off the animation setting.<br><br><pre class=code>
for( int pid=0;pid&lt;32;++pid ){
if( touches[pid] &amp;&amp; touches[pid].view!=view ) touches[pid]=0;   '&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
}
</pre> <br><br></td></tr></table><br>
<a name="2033443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OvineByDesign</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm works in the simulator with ipad, just not iphone<br><br>/StuC <br><br></td></tr></table><br>
<a name="2033468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >arawkins</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @benmc Thanks! Glad you are enjoying it, and that it is running ok on your phone :)<br><br>@Ovine That's unfortunate, I'm not sure how much help I can be in regards to the crash as my knowledge of obj-c is pretty sparse. I haven't been able to cause a crash in the simulator though so I'm wondering if there is some crucial difference in the way our games are set up or when we are calling the OpenLeaderboard method. Here's how I have it set up.<br><br>The game is already paused or on the title screen whenever the leaderboard button gets hit, then the leaderboard opens. When it's closed, the game is still paused (or on the title screen). It's all done in the OnUpdate method. <br><br>More details: targeting ios 4.1, using these sdks:<br><img src="http://www.rawkins.com/images/ios_settings.jpg"> <br><br></td></tr></table><br>
<a name="2033483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OvineByDesign</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the info<br><br>I am running in landscape mode (which might make a difference reading other threads on the subject)<br><br>I too pause the game when the leader board is onscreen, then on update monitors if it's taken offscreen, the. it resumes the game.  <br><br>I can't understand why it works on the pad and not the iPhone - unless it's screen height related perhaps?  I shall persever and report back. <br><br></td></tr></table><br>
<a name="2044485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Silverwolf</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any luck on getting this working on landscape mode.<br><br>For me getting Gamecenter working in landscape mode is a must if I am to use Monkey for IOS dev. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
