<!DOCTYPE html><html lang="en" ><head ><title >Background Audio AGAIN!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Background Audio AGAIN!!</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=505" >iOS</a>/<a href="#bottom" >Background Audio AGAIN!!</a><br><br>
<a name="2068351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> *sigh*<br>Every single time, they make this more and more awkward.<br><br>It's a MUSIC PLAYER!  Playing music should not be complicated!!<br><br>XCode5 with iOS7, with all the usual "Allow the user's current background music to keep playing when my App is run" stuff.<br>Doesn't work.<br>As per usual.<br><br>I've hunted the AppleDocs, but I can't fathom it out.<br><br>Would anyone like to figure this out for me?<br>Thanks, all help appreciated. <br><br></td></tr></table><br>
<a name="2068524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still banging my head with this one..<br><br>I think I'm slowly tracking it down.<br>If you hop out of the app, and back in, the app does indeed share audio, so you can load your game, flip over to Music Player, kick it back into gear, then hop back over to your game, and the audio is nicely sharing..<br>So, once the App's loaded, it shares nicely and behaves.<br><br>The problem occurs during App Launch.<br>Something, somewhere is cutting off background audio, and for the life of me I can't manage to track down what/where.<br>I thought it might've been something like "Initialise before Settings" so I tried flipping those around a bit, and that didn't seem to fix it.<br>It's really irritating me, because other games are playing nice with iOS7.. It's just MINE that aren't!<br><br>Any help appreciated.. <br><br></td></tr></table><br>
<a name="2068578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought this had been solved. Mark included the code in this thread:<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3057" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3057</a> <br><br></td></tr></table><br>
<a name="2068590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something is different in iOS7.<br>Something Changed.<br><br>Although it does "share" if you multitask out and in, if you already have music playing before you initially launch your monkey game, it now stops the background music.<br>Something seems to be cutting off background audio BEFORE it gets to the stuff mentioned in that thread, because once the game's up and running, it'll share nicely.<br><br>In short, the old stuff ALMOST works, but something else is breaking it.  I'm still trying to figure out what that something else might be.. <br><br></td></tr></table><br>
<a name="2068687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe try opening the ALCDevice after setting the audio session properties? <br><br></td></tr></table><br>
<a name="2068706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried that, didn't make a difference.<br><br>Really winding me up, this one, because everything else is running swimmingly..<br>Still, tonight's my deadline.<br>If I can't fathom it by about 10pm, I'm just going to upload my next update as-is, with this annoyingly frustrating issue in it.<br><br>Grrrr! <br><br></td></tr></table><br>
<a name="2068707"></a>

<a name="2068708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Damn, you're right. Submitting my app today as well. This will have to wait until the next update.<br><br>Looks like some info here but I don't have time to mess about with it...<br><a href="https://developer.apple.com/library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/Cookbook/Cookbook.html" target="_blank">https://developer.apple.com/library/ios/documentation/Audio/Conceptual/AudioSessionProgrammingGuide/Cookbook/Cookbook.html</a> <br><br></td></tr></table><br>
<a name="2068772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlastTrax uploaded with audio-stopping issue intact :/<br><br>I'll keep poking and prodding, and let you know if I figure it out. <br><br></td></tr></table><br>
<a name="2068946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know that this is another issue, but maybe you can find some inspiration in this fix for another ios audio multitasking issue: <br><br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=6016" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=6016</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
