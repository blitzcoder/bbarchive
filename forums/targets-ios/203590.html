<!DOCTYPE html><html lang="en" ><head ><title >Gamecenter issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Gamecenter issue</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=505" >iOS</a>/<a href="#bottom" >Gamecenter issue</a><br><br>
<a name="2038282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hobo</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a simple configuration issue I think.<br><br>Trying to get gamecenter intialising in my code. <br><br>So have been following the very useful hints and tips on the forum and picked up the gamecenter code:<br><br><a href="http://www.rawkins.com/gamecenter.zip" target="_blank">http://www.rawkins.com/gamecenter.zip</a><br><br>I downloaded and placed the gamecenter code (from this forum) in my main folder in this directory structure: <br><br>mygame/gamecenter/GameCenter.monkey<br>mygame/gamecenter/native/ios.cpp<br><br><br>Then in my main.monkey file I added: <br><br><pre class=code>
Import gamecenter.GameCenter
</pre><br><br>When I build and target iOS i get: <br><br><pre class=code>
Ld build/Release-iphonesimulator/MonkeyGame.app/MonkeyGame normal i386
    cd /Users/user/Documents/MonkeyPro56/monkeycode/myGameHD/myGame/myGame.build/ios
    setenv MACOSX_DEPLOYMENT_TARGET 10.6
    setenv PATH "/Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/usr/bin:/Applications/Xcode.app/Contents/Developer/usr/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/user/flex_sdk/bin"
    /Applications/Xcode.app/Contents/Developer/Toolchains/XcodeDefault.xctoolchain/usr/bin/clang++ -arch i386 -isysroot /Applications/Xcode.app/Contents/Developer/Platforms/iPhoneSimulator.platform/Developer/SDKs/iPhoneSimulator5.1.sdk -L/Users/user/Documents/MonkeyPro56/monkeycode/myGameHD/myGame/myGame.build/ios/build/Release-iphonesimulator -F/Users/user/Documents/MonkeyPro56/monkeycode/myGameHD/myGame/myGame.build/ios/build/Release-iphonesimulator -filelist /Users/user/Documents/MonkeyPro56/monkeycode/myGameHD/myGame/myGame.build/ios/build/MonkeyGame.build/Release-iphonesimulator/MonkeyGame.build/Objects-normal/i386/MonkeyGame.LinkFileList -mmacosx-version-min=10.6 -Xlinker -objc_abi_version -Xlinker 2 -fobjc-link-runtime -Xlinker -no_implicit_dylibs -D__IPHONE_OS_VERSION_MIN_REQUIRED=30000 -framework Foundation -framework UIKit -framework CoreGraphics -framework OpenGLES -framework QuartzCore -framework OpenAL -framework AudioToolbox -framework AVFoundation -o /Users/user/Documents/MonkeyPro56/monkeycode/myGameHD/myGame/myGame.build/ios/build/Release-iphonesimulator/MonkeyGame.app/MonkeyGame
Undefined symbols for architecture i386:
  "_GKPlayerAuthenticationDidChangeNotificationName", referenced from:
      -[GameCenter registerForAuthenticationNotification] in main.o
  "_OBJC_CLASS_$_GKAchievement", referenced from:
      objc-class-ref in main.o
  "_OBJC_CLASS_$_GKAchievementViewController", referenced from:
      objc-class-ref in main.o
  "_OBJC_CLASS_$_GKLeaderboardViewController", referenced from:
      objc-class-ref in main.o
  "_OBJC_CLASS_$_GKLocalPlayer", referenced from:
      objc-class-ref in main.o
  "_OBJC_CLASS_$_GKScore", referenced from:
      objc-class-ref in main.o
ld: symbol(s) not found for architecture i386
clang: error: linker command failed with exit code 1 (use -v to see invocation)


TRANS FAILED: TRANS Failed to execute 'xcodebuild -configuration Release -sdk iphonesimulator', return code=16640
** BUILD FAILED **
The following build commands failed:
	Ld build/Release-iphonesimulator/MonkeyGame.app/MonkeyGame normal i386
(1 failure)

Process Complete
</pre><br><br>I have spent all morning trying to come up with a solution throwing gamecenter.h in various places and renaming, rebuilding, editing the Xcode project to include gamecenter but no solution and traditionally I'm always missing something obvious. <br><br>Does anyone have an idea?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="2038268"></a>

<a name="2038269"></a>

<a name="2038361"></a>

<a name="2038362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> After you do the initial build, as you have, you may want to try to open the newly created project (tho broken) in XCode and include the gamecenter required libraries, then build again.<br><br>This might help identify those libraries (I forgot what they were)<br><br><a href="http://developer.apple.com/library/ios/#DOCUMENTATION/NetworkingInternet/Conceptual/GameKit_Guide/GameCenterOverview/GameCenterOverview.html" target="_blank">http://developer.apple.com/library/ios/#DOCUMENTATION/NetworkingInternet/Conceptual/GameKit_Guide/GameCenterOverview/GameCenterOverview.html</a><br><br>Here it is on StackOverflow (same errors and the libraries required)<br><br><a href="http://stackoverflow.com/questions/5398660/gamekit-gamecenter-i386-problem" target="_blank">http://stackoverflow.com/questions/5398660/gamekit-gamecenter-i386-problem</a> <br><br></td></tr></table><br>
<a name="2038374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hobo</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It worked. <br><br>Thanks benmc.<br><br>Opened the xcode project and linked the gamecenter library.<br><br>Also set it up in the targets ios folder so I dont have to do it again! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
