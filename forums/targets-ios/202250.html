<!DOCTYPE html><html lang="en" ><head ><title >Debugging in XCode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Debugging in XCode</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=505" >iOS</a>/<a href="#bottom" >Debugging in XCode</a><br><br>
<a name="2021884"></a>

<a name="2021887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a bug that is crashing the game on my iPhone but not my iPad or the simulator. Is it possible to set up Xcode so you can see what part of the code the game crashes on? <br><br></td></tr></table><br>
<a name="2021912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Running with the iPhone hooked to the Mac should do the trick as you can see what's going on with gdb. <br><br></td></tr></table><br>
<a name="2021916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have a bug that is crashing the game on my iPhone but not my iPad or the simulator. <br></div><br><br>You might be running out of RAM, how much does the iPhone have? <br><br></td></tr></table><br>
<a name="2021926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you're right, it has 256mb RAM but I do get a memory warning before it crashes. I've been busy packing all my images into textures ( <a href="http://monkeycoder.co.nz/Community/posts.php?topic=1155" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=1155</a> ) and I may scale a few backgrounds down too.<br><br>I realised that you need to build the iOS version in Monkey with the Debug flag on so that it includes the line numbers in the iOS code. The memory crash wasn't being caught by the debugger though, it was happening at random points. <br><br></td></tr></table><br>
<a name="2021924"></a>

<a name="2021925"></a>

<a name="2021930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keep us posted! <br><br></td></tr></table><br>
<a name="2021977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 256 is a lot of RAM.. are you creating a lot of objects?<br><br>It could be the usage of strings, all those strings that are used to save the game might still be in memory<br><br>try playing the game without saving it and see if it crashes <br><br></td></tr></table><br>
<a name="2021934"></a>

<a name="2021979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, the memory warning does seem to appear when the game creates the season fixtures which is a lot of data. Will test some more tomorrow. <br><br></td></tr></table><br>
<a name="2021987"></a>

<a name="2021988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TMK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Usually how its worked on iOS is that since there's many other background apps running at the same time using memory, it's not safe to use any more than 50% of the total RAM. So it might crash if you go above 128 MB ram usage on those devices.<br><br>In Xcode, if you click on "Profile" instead of "Build", it will open Instruments. Choose "Activity Monitor" to see the memory usage and other info. You need to have a device connected to Xcode. <br><br></td></tr></table><br>
<a name="2021999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ooh, that's handy! Seems that the memory peaks at around 120mb. It has stopped crashing since scaling down some background images so I guess it was exceeding that amount in the earlier version. The memory warning still occurs which is a bit of a worry but it feels stable when playing the game. <br><br></td></tr></table><br>
<a name="2022008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JD0</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The amount of usable graphics memory vs. total memory is significantly less, and it differs on each phone so while it may still work on your phone it might crap out on an older device.<br><br>Looks like you really need to get the mem usage down.. 120mb is huge. <br><br></td></tr></table><br>
<a name="2022015"></a>

<a name="2022016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what's going on. The entire build is less than 20 meg and the save file is less than 1mb... Need to determine what is causing the excessive amount. <br><br></td></tr></table><br>
<a name="2022054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> remove the code that saves the game and see what happens <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
