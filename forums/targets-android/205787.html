<!DOCTYPE html><html lang="en" ><head ><title >Singing an App and Release Building</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Singing an App and Release Building</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Singing an App and Release Building</a><br><br>
<a name="2065702"></a>

<a name="2065703"></a>

<a name="2065704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all..<br><br>Right, Long Story Short [ trying to sign app, wondering what things mean ]<br><br>I should also say thanks to therevills as this post by him helped me a lot.<br><a href="http://www.monkeycoder.co.nz/Community/post.php?topic=1014&amp;post=8800" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=1014&amp;post=8800</a><br><br>But it also raised some other questions which I will get into in a second.<br><br>Here is my apps key config for reff.<br><pre class=code>
	#ANDROID_KEY_STORE="../../LittleEmber.keystore"
	#ANDROID_KEY_ALIAS="LittleEmber.keystore"
	#ANDROID_KEY_STORE_PASSWORD="*********"
	#ANDROID_KEY_ALIAS_PASSWORD="*********"
	#ANDROID_SIGN_APP=true
</pre><br><br>Right , Question time.<br><br>1. Do those passwords need to be unique.<br>2. Whats the alias needed for ?<br><br>Stuff I wander about while trying all this.<br><br>@Therevills, I walked myself through your steps, they seem to have all worked, but at the same time I realized that I had to put the key file in my apps root folder so I could build a release version, do you know, or does anyone know if the version that monkey then creates in the bin folder which I think gets called monkeygame-release.apk is ready for upload to the market, or does it require anything else done to it.<br><br>Seeing this in the Debug output.<br><pre class=code>
     [echo] Signing final apk...
 [zipalign] Running zip align on final apk...
     [echo] Release Package: D:\Source\Monkey\Bit-Invader\main.build\android\bin\MonkeyGame-release.apk
</pre><br><br>So would I be right in saying then , that rather than doing all the zipalign, jarsign stuff manually, its a lot easier to simply copy the key into the root folder and set the sign flag to true ? or does doing it manually ala Therevills post do something different to the files.<br><br>Finally, sorry about all the spam. <br><br></td></tr></table><br>
<a name="2065677"></a>

<a name="2065700"></a>

<a name="2065678"></a>

<a name="2065699"></a>

<a name="2065689"></a>

<a name="2065701"></a>

<a name="2065696"></a>

<a name="2067066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I make the keystore file? <br><br></td></tr></table><br>
<a name="2067067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I make the keystore file? Any tips? <br><br></td></tr></table><br>
<a name="2067068"></a>

<a name="2067069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Step 8 creates the key store file.<br><br>@Taz, its been a long time since I did that tutorial and I don't know the answers to your questions off the top of my head :-) <br><br></td></tr></table><br>
<a name="2067075"></a>

<a name="2067076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snader</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ziggy, I create the keystore file like this:<br><br>C:\"Program Files"\Java\jdk1.6.0_35\bin\keytool -genkey -alias yourProject.keystore -keyalg RSA -validity 20000 -keystore keys/yourProject.keystore<br><br>Then answer the questions... and remember your PASSWORD<br><br>Then this is the information used in the monkey file<br><br>#ANDROID_KEY_STORE="../../yourProject.keystore"<br>#ANDROID_KEY_ALIAS="yourProject.keystore"<br>#ANDROID_KEY_STORE_PASSWORD="PASSWORD"<br>#ANDROID_KEY_ALIAS_PASSWORD="PASSWORD" <br><br></td></tr></table><br>
<a name="2067084"></a>

<a name="2067085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! I've managed to sign it.<br>Also, any ideas how long it takes for the alpha testers link to be created on the google play console? I've done everything like two hours ago and still waiting...<br><br>Also, how nasty it is to require a Google+ community for this...<br><br>By the way, any ideas why all this are undocumented?<br><br>#ANDROID_KEY_STORE="../../LittleEmber.keystore"<br>#ANDROID_KEY_ALIAS="LittleEmber.keystore"<br>#ANDROID_KEY_STORE_PASSWORD="*********"<br>#ANDROID_KEY_ALIAS_PASSWORD="*********"<br>#ANDROID_SIGN_APP=true <br><br></td></tr></table><br>
<a name="2067192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1.  The alias is used to determine which key to use.  A keystore can contain multiple keys depending on the alias.  Managing them can be a pain, 'cause you can nuke your keys with keytool by accident, but......<br><br>2.  It takes up to 48 hours to process changes to your app on Play.  Usually changes take in less than 2 hours, unless the app is new;  new apps seem to push changes closer to the 8-24 hr period.<br><br><br>I didn't even realize that there were now directives for keystore stuff.  Maybe they're too new to be documented.  (Directives seem to require manual documentation) <br><br></td></tr></table><br>
<a name="2067217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just found there are also those ones:<br><br>#ANDROID_VERSION_CODE="1"<br>#ANDROID_VERSION_NAME="1.0"<br><br>y seeing the CONFIG.monkey file. It would be nice to have a detailed page on the documentation for all this directives. <br><br></td></tr></table><br>
<a name="2069915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry guys for being so daft but I need some extra help.  I feel so stupid that I might need How To Publish an Android App Coloring Book.  I hope others who are having difficulties and maybe too afraid to ask will once and for all understand after this.  <br><br><br>For this test my monkey script is named: <b>"mygame"</b><br>and its build folder is located: <br><b>"C:\Users\Frank\Desktop\MonkeyPro\mygame.build\"</b><br><br>Java is located:<br><b>"C:\Program Files (x86)\Java\jdk1.7.0_45"</b><br><br><br>Now following these guide lines:<br><br><b>1. Sign up to Android Market developer Console<br>2. Create your game :)<br>3. Compile for Android<br>4. Create your icons as stated by dave.h</b><br><br><br>Steps 1 thru 4 Easy enough. Check!<br><br><b>5. Alter the APP_LABEL, APP_PACAKGE and SCREEN_ORIENTATION in the CONFIG.TXT</b><br><br>Am I correct in assuming CONFIG.TXT is now CONFIG.MONKEY and is located in<br><b>C:\Users\Frank\Desktop\MonkeyPro\mygame.build\android\ </b>?<br><br>If so, inside that file I change these lines:<br><br><pre class=code>#ANDROID_APP_LABEL="Monkey Game"
#ANDROID_APP_PACKAGE="com.monkeycoder.monkeygame"
#ANDROID_SCREEN_ORIENTATION="user"					'"user", "portrait", "landscape"</pre><br><br>to:<br><br><pre class=code>#ANDROID_APP_LABEL="My Game"
#ANDROID_APP_PACKAGE="com.myapps.mygame"
#ANDROID_SCREEN_ORIENTATION="landscape"					'"user", "portrait", "landscape"</pre><br><br><br><b>6. Compile for Android again</b><br><br>Did that. <br>It should be normal for the app to still be called:<br>"MonkeyGame-debug.apk" in the folder.<br>(And apparently that step is correct because when I transfer<br>it to my device it shows up as "My Game" and not "Monkey Game" plus it appears to run okay.<br>Feeling confident.)  <br><br><br><b>7. Find your apk file (yourproject.build/android/bin), open it using WinRAR and delete the META-INF folder (this is where the debug key is stored)</b><br><br>So I opened <b>MonkeyGame-debug.apk</b> with WinRAR (or in my case 7Zip) and deleted the folder META-INF. Now I should I should close 7zip to save the changes after the folder META-INF is deleted.<br><br><b>8. Create the key for your app:<br>8a. Create a folder called "keytools" and make a folder in that called "keys"</b><br><br>The question I have is where to create it. <br>I tried creating it in:<br><b>C:\Users\Frank\Desktop\MonkeyPro\mygame.build\android\keytools\keys</b><br><br><br><b>8b. Open command prompt (cmd.exe)<br>8c. Navigate to your keytools folder</b><br><br>Navigate to the one I created (and not the folder in java containing keytool.exe):<br><b>CD C:\Users\Frank\Desktop\MonkeyPro\mygame.build\android\keytools</b><br><br><br><b>8d. Type the following:</b><br><br><pre class=code>C:\"Program Files"\Java\jdk1.6.0_24\bin\keytool -genkey -alias yourProject.keystore -keyalg RSA -validity 20000 -keystore keys/yourProject.keystore</pre><br><br>I typed:<br><br><pre class=code>C:\"Program Files (x86)"\Java\jdk1.7.0_45\bin\keytool -genkey -alias mygame.keystore -keyalg RSA -validity 20000 -keystore keys/mygame.keystore</pre><br><br>That is where it fails.  The output from the command window reads:<br><pre class=code>Illegal option:  Files</pre><br><br>Then the command window proceeds to give the commands for keytool.<br><br><br>So where am I going wrong? <br><br></td></tr></table><br>
<a name="2069914"></a>

<a name="2069913"></a>

<a name="2069911"></a>

<a name="2069917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nori</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> shouldn that be "c:\...." ? with quotes around the whole path <br><br></td></tr></table><br>
<a name="2069921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not working either.<br><br>tried:<br>"C:\Program Files (x86)\Java\jdk1.7.0_45\bin\"keytool -genkey -alias mygame.keystore -keyalg RSA -validity 20000 -keystore keys/mygame.keystore<br><br>But it outputs the command list<br><br>Then I tried just because I am going insane:<br><br>"C:\Program Files (x86)\Java\jdk1.7.0_45\bin\keytool -genkey -alias mygame.keystore -keyalg RSA -validity 20000 -keystore keys/mygame.keystore"<br><br>The system cannot find the path specified. <br><br></td></tr></table><br>
<a name="2069922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> tried:<br>"C:\Program Files (x86)\Java\jdk1.7.0_45\bin\"keytool <br></div><br>Looks like the second " is in the wrong the place, shouldn't it be:<br><pre class=code>"C:\Program Files (x86)\Java\jdk1.7.0_45\bin\keytool" -genkey.....etc</pre> <br><br></td></tr></table><br>
<a name="2069923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this:<br>Copy the keytool.exe to your working path. <br>Lets say d:\temp.<br>It works from everywhere.<br>Create a directory d:\temp\keys<br>Copy the mygame.apk to d:\temp<br>Type: keytool -genkey -alias mygame.keystore -keyalg RSA -validity 20000 -keystore keys/mygame.keystore<br><br>Does it still fail? <br><br></td></tr></table><br>
<a name="2069940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are two new ways to do it....<br><br><b>1. New way</b><br><br>Very interesting. At the top of this topic Taiphoz descripes a new way, where you can forget "hand made" signing and let it do monkey automatic. He moves the once generated key into the monkey folders and changes some lines in the config. Then a lot of steps are no longer necessary<br><br><br><br><br><b>2. My way</b><br><br>My  way is to replace the console writing by  using three *.BAT files. One for creating the key (only done once i a live of an app). One for signing it and the third for aligning it.<br><br>This BAT files have to be copied in the same folder, where your *.APK is. Then start the first, after this the second and after this the third. And at the end this remove the typing of the console texts:<br><br>first BAT:<br><br><pre class=code>C:\Programme\Java\jdk1.7.0_45\bin\keytool -genkey -alias MyApp.keystore -keyalg RSA -validity 20000 -keystore keys/MyApp.keystore
</pre><br><br>second BAT:<br><pre class=code>cd C:\keytools\
C:\Programme\Java\jdk1.7.0_45\bin\jarsigner -verbose -keystore keys/MyApp.keystore -signedjar MyApp-signed.apk MyApp.apk MyApp.keystore
pause
</pre><br><br><br>third BAT:<br><pre class=code>cd C:\keytools\
C:\Programme\Android\android-sdk\tools\zipalign -v 4 MyApp-signed.apk MyApp-signed-zipped.apk
pause
</pre><br><br>maybe you need to asign the pathes to your situation.<br><br>The complete (but german) tutorial is here:<br><br><a href="http://www.blitzforum.de/forum/viewtopic.php?t=39374" target="_blank">http://www.blitzforum.de/forum/viewtopic.php?t=39374</a><br><br>I have a folder "keytools"  on "C:" and in it another folder "keys". The three BATs are in the "keytools", the *APK is in the "keytools". <br><br>Inside the BATs I change the path with "CD" but not again in the following lines...<br><br><br><br><b>3. Your code</b><br><br>I think you made errors on the pathes in the scripts. Perhaps the path "Program Files (x86)" makes trouble because there are SPACES in it:<br><pre class=code>C:\"Program Files"\
           ^   </pre><br><br>And also problematic the quotations marks. This is symbolic in the sample and should be replaced by an existing path.<br><pre class=code>C:\"Program Files"\
   ^              ^   </pre><br><br><br>Replace this by tghe real path to your program folder. Copy the java folder from inside "Program Files (x86)" to direct "C" to have a valid path without SPACES<br><br><pre class=code>"C:\Java\jdk1.7.0_45\bin\keytool" -genkey.....etc</pre> <br><br></td></tr></table><br>
<a name="2069963"></a>

<a name="2069965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Midimaster:  Thanks for your help.  I will do your way after this (or failing trying this way) first.  It just annoys me that such simple instructions weren't working for me.  This will be a learning experience for everyone and when I successfully do it I will definitely write up a tutorial with pictures and detailed instructions for others.  So close!<br>Please don't think I am unappreciative. Your way looks fool proof with the batch files and easier.  Just please bear with me.  Thanks :)<br><br>@Volker As I said, so close.  Got the next step finished.  But something screwy on the next step.  So this is the progress thus far...<br><br>This worked (Thanks <b>rIKmAN</b>):<br><br><pre class=code>"C:\Program Files (x86)\Java\jdk1.7.0_45\bin\keytool" -genkey -alias mygame.keystore -keyalg RSA -validity 20000 -keystore keys/mygame.keystore</pre><br><br><b>8e. Answer the questions prompted.</b><br><br><b>8f. Sign the apk:</b><br><pre class=code>C:\"Program Files"\Java\jdk1.6.0_24\bin\jarsigner -verbose -keystore keys/yourProject.keystore -signedjar yourProject-signed.apk yourProject.apk yourProject.keystore</pre><br><br>So using my previous success as a guideline I typed the following:<br><pre class=code>"C:\Program Files (x86)\Java\jdk1.7.0_45\bin\jarsigner" -verbose -keystore keys/mygame.keystore -signedjar mygame-signed.apk mygame.apk mygame.keystore</pre><br><br>Jarsigner asks and displays the following error:<br><br><pre class=code>Enter Passphrase for keystore:
Enter key password for mygame.keystore:
jarsigner: unable to open jar file: mygame.apk</pre><br><br>Currently within the command prompt I am still located at:<br><br><pre class=code>C:Users\Frank\Desktop\MonkeyPro\mygame.build\android\keytools&gt;</pre><br><br>but as jarsigner initially took the passwords I should be in the right place. <br><br></td></tr></table><br>
<a name="2069960"></a>

<a name="2069971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Midimaster<br><br>I see where you say you put the *APK is in keytools folder.  Going to try that.<br><br>No luck there.  Stills say unable to open jar file apk.  Weird when you can't figure out why something doesn't work.  Initally it was a misplaced quotation mark.  Now what.  hmmmm...<br><br>So can I just copy the JAVA folder, or does it need to be "reinstalled".  I know monkey will have to be setup again to find the new location.<br><br>Just for reference here's therevills original post:<br><br><b>Really quickly Monkey to Android:<br><br>1. Sign up to Android Market Deveoper Console<br>2. Create your game :)<br>3. Compile for Android<br>4. Create your icons as stated by dave.h<br>5. Alter the APP_LABEL, APP_PACAKGE and SCREEN_ORIENTATION in the CONFIG.TXT<br>6. Compile for Android again<br>7. Find your apk file (yourproject.build/android/bin), open it using WinRAR and delete the META-INF folder (this is where the debug key is stored)<br>8. Create the key for your app:<br>8a. Create a folder called "keytools" and make a folder in that called "keys"<br>8b. Open command prompt (cmd.exe)<br>8c. Navigate to your keytools folder<br>8d. Type the following:</b><br><pre class=code>C:\"Program Files"\Java\jdk1.6.0_24\bin\keytool -genkey -alias yourProject.keystore -keyalg RSA -validity 20000 -keystore keys/yourProject.keystore</pre><br><br><br><b>8e. Answer the questions prompted.<br>8f. Sign the apk:</b><br><pre class=code>C:\"Program Files"\Java\jdk1.6.0_24\bin\jarsigner -verbose -keystore keys/yourProject.keystore -signedjar yourProject-signed.apk yourProject.apk yourProject.keystore</pre><br><br><br><b>8g. Zip align the apk:</b><br><pre class=code>C:\"Program Files (x86)"\Android\android-sdk\tools\zipalign -v 4 yourProject-signed.apk yourProject-signed-zipped.apk</pre><br><br><br><b>9. In the Android Developer Console, click Upload Application<br>10. Fill out and upload details, screen shots and your signed and aligned apk</b> <br><br></td></tr></table><br>
<a name="2069961"></a>

<a name="2069962"></a>

<a name="2069964"></a>

<a name="2069973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so I got desperate and followed your steps Midimaster.  But still failing on the Jarsigner part.<br><br>Unable to open jar file: mygame.apk<br><br>So I renamed the apk from <br><br><pre class=code>MonkeyGame-debug.apk</pre><br><br>to <br><br><pre class=code>mygame.apk</pre><br><br>And that appeared to work.  I guess that is where I went wrong, but I did not see instructions to rename the apk yet.  <br><br>Just need verification that I am doing the right things thus far. <br><br></td></tr></table><br>
<a name="2069998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry, that was my mistake... I forgot to tell you ,that it is of course necesarry to rename the app before starting the procedure.<br><br>The german tutorial is much more detailed. The "mygame" in the instructions is only a placeholder for the real and final name you want to publish the app.<br><br><br>I have one final question: Was it necessary to copy the java folder to "C:\" to have a path without SPACE? Or did it at the end work with the "C:\Program Files (x86)\..." too? <br><br></td></tr></table><br>
<a name="2070023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fred</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I might not understand your needs well but since 1 or 2 versions of Monkey you don't need to do all this.<br><br>Create your keystore file once with keytools -genkey... as described, put it in your sources folder just above the build folder and use this in your main monkey file (change the app name for your needs)<br><br>#ANDROID_APP_LABEL="PopCorn 1988"<br>#ANDROID_APP_PACKAGE="fr.ludoid.popcorn"<br>#ANDROID_KEY_STORE="../../PopCorn1988.keystore"<br>#ANDROID_KEY_ALIAS="PopCorn1988.keystore"<br>#ANDROID_KEY_STORE_PASSWORD="your_password"<br>#ANDROID_KEY_ALIAS_PASSWORD="your_password"<br>#ANDROID_SIGN_APP=True<br><br>and the app is automaticaly signed for every compil and it works on the device while working.<br><br>Then you need to rename the MonkeyGame-release.apk file only when submitting it. <br><br></td></tr></table><br>
<a name="2070070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Fred Thanks. I will be trying that shortly.  So the main monkey file<br>is the same monkey file as my app, right? (stupid question I know, just making sure) Just copy it into the top of the file somewhere.<br><br><pre class=code>
#ANDROID_APP_LABEL="My Game"
#ANDROID_APP_PACKAGE="com.myapp.mygame"
#ANDROID_KEY_STORE="../../mygame.keystore"
#ANDROID_KEY_ALIAS="mygame.keystore"
#ANDROID_KEY_STORE_PASSWORD="my_password"
#ANDROID_KEY_ALIAS_PASSWORD="my_other_password"
#ANDROID_SIGN_APP=True

#ANDROID_SCREEN_ORIENTATION="user"

Import mojo

Class Game Extends App

etc...
</pre><br><br>Then compile, eh?  Seems easy enough.<br><br>@Midimaster I tried both ways and they both work.  :)  <br>One quote in the wrong place will screw it all up. <br><br><br>Anyways guys.  I did all the steps - finally.  <br>BUT..<br><br>When I try to install mygame-signed-zipped.apk to my phone I get the following error message<br><br>X Application not installed<br><br>Of course since I am not sending this in yet to the Playstore I not going<br>to upload it there yet, but it should work on my device shouldn't it?<br><br><br>Sorry guys for being such a pain.  Between my son's school activities (he's a senior this year!) and work I have only precious few moments to do this and it's driving crazy.  LOL.  Almost there.  Need to figure out why the "finished" product won't install now. <br><br></td></tr></table><br>
<a name="2070072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fred</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes your mygame.monkey file. The codebox code is fine. (both passwords can be the same)<br><br>Can you run directly your program to your device from Monkey IDE ? <br><br></td></tr></table><br>
<a name="2070083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is not necessary to do all this steps to get your app on the phone! <br>These steps are only necessary, if you want to publish your app.<br><br>Only connect your phone via USB with the computer and run F5 in Monkey. The app will start on the phone after some seconds of installation.<br><br>Did you test your app already on Html5? <br><br>Did you already install the correct USB driver for your phone?<br><br>Did you already set the developer settings on the phone?<br><br>Did you already test the connectivity of your phone with a 100% perfect working app?<br><br>here is my "minmal test app".<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict
Import mojo


Class Game Extends App

	Method OnCreate%()
		SetUpdateRate 30
		Return 0
	End	

	Method OnUpdate%()
		Return 0
	End	

	Method OnRender%()
		DrawText Millisecs(),30,30
		Return 0
	End	
	
	
	Method OnBack%()
		EndApp()
		Return 0
	End	
End

Function Main%()
	New Game
	Return 0
End</textarea> <br><br></td></tr></table><br>
<a name="2070084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't set it up that way.  Not yet.  But I familiar with it.<br>  <br>On my laptop as soon as it compiled monkey would transfer the apk<br>to my Galaxy S Captivate through the usb cable. <br><br>But now I am making the transition to the our Windows 8 Desktop.  It has probably been a year since I touched my monkey LOL so I am playing catch up during this phase.  (So again, I appreciate everyone's understanding with all the freaking questions and confusion.  You guys are the best!)<br><br>Currently I just drop the apk in dropbox and install it once it refreshes.<br><br>But that shouldn't be a problem I wouldn't think as the apk installs before I did the signing and aligning.<br><br>I am going to try again with a fresh build and do it all in one sitting tomorrow if I get a chance.  I may have inadvertently caused the problem with file getting screwy. <br><br></td></tr></table><br>
<a name="2070087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Midimaster<br><br>No worries.  I can get the apks I compile with monkey onto my phone easy enough and they work.  <br><br>I am in the process of finally getting an app published onto the market that's where you guys come in and have been most helpful. Thanks again. :)<br><br>But as I said.  After successfully working all the steps, the apk which worked previously in HTML and my phone will now no longer install after being the final two steps.  <br><br>Weird, huh?   <br><br>So I will attempt again with a fresh build at a later time and hopefully it will all work out.<br><br>I hope that all makes sense now.  :) <br><br></td></tr></table><br>
<a name="2070086"></a>

<a name="2070165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok... I now tried the new way with signing direct in Monkey for the first time. <br><br>How do I know, that it worked? Can I check anywhere or anyhow, whether the signature is the original monkey default signature or mine?<br><br><br><br>I tested to compile my app with right and wrong password line:<br><pre class=code>#ANDROID_KEY_STORE_PASSWORD="correct"</pre><pre class=code>#ANDROID_KEY_STORE_PASSWORD="wrong"</pre><br><br><br>In both the process run <b>sucessful!!!</b> without any error message and in both the apk message was:<br><br><pre class=code>-package:
[apkbuilder] Current build type is different than previous build: forced apkbuilder run.
[apkbuilder] Creating MonkeyGame-debug-unaligned.apk and signing it with a debug key...
</pre> <br><br></td></tr></table><br>
<a name="2070164"></a>

<a name="2070163"></a>

<a name="2070162"></a>

<a name="2070161"></a>

<a name="2070135"></a>

<a name="2070523"></a>

<a name="2070524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am baffled too - I tried it and though I think my code is correct the META-INF folder in the APK seems to contain an unnamed CERT and RSA.  When I do it the long way in the command line, they are given the name of the keystore.<br><br>Sticking to the manual method for now... <br><br></td></tr></table><br>
<a name="2075236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Supertino</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> For whats it's worth this all seems to work fine via Monkey for me using a keystore file I a created some time ago.  Before the signing was added to monkey I used this .bat file.<br><br>1. Delete the META_INF from the apk<br>2. Put the apk and keystore file in the same location as the bat file<br>2. Run the bat and answer the questions<br><br><pre class=code>
@echo off
Title Sign an unsigned apk
set OLDDIR=%CD%


cls
echo.
echo You will need to copy your keystore file
echo eg. my-release-key.keystore
echo into the same folder as this script.
echo.
echo Please place your unsigned app in the same 
echo directory as this program, when you have
echo done this please type in its name below:
echo.
echo.
set /p apk= What is the filename (including the .apk at the end)?  
echo Your app is named %apk% 
echo.
echo.
echo while creating your Private Key, what did you put as your ALIASNAME?
set /p alias= Aliasname 
echo. 
echo Is the Java JDK in your path?
echo if you do not know what this means, please type "N"
CHOICE /C:YN /M "Java JDK in path?"
If errorlevel 2 goto nojdk
If errorlevel 1 goto jdk

:nojdk
echo.
echo.
echo It is recommended that you put the jdk in your path
echo To see how please visit this web page:
echo <a href="http://www.oracle.com/technetwork/java/javase/documentation/install-windows-152927.html" target="_blank">http://www.oracle.com/technetwork/java/javase/documentation/install-windows-152927.html</a>
echo.
echo.
pause
cls
echo.
echo.
:jdk
echo ok, you will need to type in your password when prompted

jarsigner.exe -verbose -keystore  my-release-key.keystore %apk% %alias%
echo.
echo. 
echo Checking it is signed correctly
jarsigner -verify %apk%
echo.
echo If you got an error you probably
echo compiled your apk with a key
echo (probably the debug key).
echo Try recompiling it without signing
echo and then copy and paste the
echo resulting temp.ap_ file here.
echo.
echo.
echo Now we just need to zipalign the apk
echo. 
echo.
echo.
set /p final= What do you want the finished apk to be called?:     
echo %final% it is
echo. 
pause
zipalign -v 4 %apk% %final%
echo.
echo.
pause
cls
Pause
</pre> <br><br></td></tr></table><br>
<a name="2075840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello guys,<br>I'm trying to publish apk file to google play,<br>I made a little change at CONFIG.MONKEY file, which is like this:<br><img src="http://im31.gulfup.com/tgUB2.png"><br><br>and the out put is fail: <br><img src="http://im31.gulfup.com/yLrHr.png"><br><br>with out this change, I got my apk file and I followed the instructions of loofa <br>I got three files at toolskey which is:<br><img src="http://im31.gulfup.com/Wimmo.png"><br><br>and I uploaded the mylittleworld.signed.zipped.apk at google market and I got this fail uploaded,<br><img src="http://im31.gulfup.com/nsK3b.png"><br>any idea plzzz!!!!!!!!!!!!!!! <br><br></td></tr></table><br>
<a name="2075765"></a>

<a name="2075796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> there are a lot of reasons, why I could fail... What was the error message GooglePlay returnend to you?<br><br>The latest news are, we have to change something in the android.manifest:<br><br><pre class=code>${ANDROID_MANIFEST_MAIN}
	&lt;application android:label="${ANDROID_APP_LABEL}" android:icon="@drawable/icon" android:debuggable="false"&gt;
</pre><br><br>Did you already think about this? <br><br></td></tr></table><br>
<a name="2075863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> where is this file ?<br>If u mean androidManifest.xml ..!!<br>this line is not there, android:debuggable="false"&gt;<br><br><br><br>there is only,, <br><img src="http://im40.gulfup.com/4aBjU.png"><br><br>Plz replay me ASAP <br><br></td></tr></table><br>
<a name="2075854"></a>

<a name="2075844"></a>

<a name="2075872"></a>

<a name="2075873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always use the "old school" way to sign my apps. It is a long way, but it works 100%. And it is on Win PC. There are already some short tutorials about this way here. <br><br>But in this tutorial a new additional information is missing. That what I was talking about. The "android.manifest.xml" need to have the debug information in the line line you found. <br><br>instead of.... <br><br><pre class=code>${ANDROID_MANIFEST_MAIN}
	&lt;application android:label="My LittleWorld" android:icon="@drawable/icon"&gt;</pre><br><br>it now need this:<br><br><pre class=code>${ANDROID_MANIFEST_MAIN}
	&lt;application android:label="My LittleWorld" android:icon="@drawable/icon" android:debuggable="false"&gt;</pre> <br><br></td></tr></table><br>
<a name="2075865"></a>

<a name="2075871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you created your keystore file and placed it in the main directory of your project?<br><br>Have your changed this lines in config.monkey?<br><br>#ANDROID_APP_LABEL="Yourgame"<br>#ANDROID_APP_PACKAGE="com.yourcompanyname.yourpackagename"<br><br>#ANDROID_KEY_STORE="../../Yourgame.keystore"<br>#ANDROID_KEY_ALIAS="Yourgame.keystore" <br><br></td></tr></table><br>
<a name="2075869"></a>

<a name="2075866"></a>

<a name="2075868"></a>

<a name="2075877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> excuse me, can u plz explain to me, what shall keystore file have inside it ???<br>shall I make any thing inside it ??<br><br>I didn't get my release apk file yet,:""(<br><br>I made the changes u tell at CONFIG.MONKEY<br><img src="http://im39.gulfup.com/ftSFR.png"><br><br><br>PLz I dk where is the error, and this made me crazy, I need ur help, :""""( <br><br></td></tr></table><br>
<a name="2075880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> The keystore fike is created in step 8 here:<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=5787&amp;post=69971" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=5787&amp;post=69971</a><br>No, you do not have to make anything in it.<br>Put it in the main directory of your project.<br>Your config.monkey looks ok. More later, because I am not at home. <br><br></td></tr></table><br>
<a name="2075908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> In your config.monkey you have to set<br>#ANDROID_SIGN_APP=true<br>If you have set your password although<br>#ANDROID_KEY_STORE_PASSWORD="yourpassword"<br>#ANDROID_KEY_ALIAS_PASSWORD="yourpassword"<br><br>you can compile your project and it shout build in your .build/android/bin folder<br>a "MonkeyGame-release.apk". <br><br></td></tr></table><br>
<a name="2075907"></a>

<a name="2075914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did that, it is also not working <br><br></td></tr></table><br>
<a name="2075919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is not working? Do you have a "MonkeyGame-release.apk"?  Which error message? Give us more infos.<br>There is one more step needed to upload it, but let's do it step for step. <br><br></td></tr></table><br>
<a name="2075928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I will explain what I did, step by step<br>I finished my game programming, I run it, then I got my "MonkeyGame-debug.apk" at this location :<br>C:\Users\toshiba\Desktop\Monkey_Programing\game_final_stages\FANAL_GAME\Final_g.build\android\bin\<br><br>I went to bulid of my game and I opened "CONFIG.MONKEY" <br>package="com.monkeycodr.monkeygame           package="com.sutism.MyLittleWorld"<br>#ANDROID_APP_LABEL="Monkey Game"         (to)           #ANDROID_APP_LABEL="My Little World"   <br>#ANDROID_APP_PACKAGE="com.monkeycoder.monkeygame"      <br>(to)  <br>#ANDROID_APP_PACKAGE="com.autism.mylittleworld"<br>saved it and closed,<br><br>and I set up the icons at "res file" at this location:<br>C:\Users\toshiba\Desktop\Monkey_Programing\game_final_stages\FANAL_GAME\Final_g.build\android\res<br>Then I closed monkey and opened it again and run again, and I got alterable "MonkeyGame-debug.apk"<br>I test it at my Samsung Galaxy devices it worked very well,,<br>Now Publishing time:<br>To publish I need release not debug apk<br>So I went to CONFIG.MONKEY and made those changes:<br>#ANDROID_KEY_STORE="../../mylittleworld.keystore"<br>#ANDROID_KEY_ALIAS=" mylittleworld.keystore "<br>#ANDROID_KEY_STORE_PASSWORD="12345"<br>#ANDROID_KEY_ALIAS_PASSWORD="12345"<br>#ANDROID_SIGN_APP=True<br>And I created a file called "keystore" and I placed it at this directory :<br>C:\Users\toshiba\Desktop\Monkey_Programing\game_final_stages\FANAL_GAME<br>I opened the monkey and run the game in release mode and I got this failed output:<br><br><img src="http://im32.gulfup.com/ujlnJ.png"><br><br>I'm so sorry, I bothered u guys with this, I'm very thankful to u :) <br><br></td></tr></table><br>
<a name="2075929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> [quote]And I created a file called "keystore" and I placed it at this directory [quote]<br>How did you create it?<br>Using this: <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=5787&amp;post=69971" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=5787&amp;post=69971</a><br>step 8a until 8e?<br>Looks like it can't be signed because of the keystore file. <br><br></td></tr></table><br>
<a name="2075930"></a>

<a name="2075931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't created it by the way of loofa coz it can't be done with me too,<br>after I answers the questions and rewrite the password, it gaves me keytool error: java.io.FileNotFoundException: key\mylittleworld.keystore<br><img src="http://im31.gulfup.com/MOLq4.png"><br><br>I just created it by the old way, new - folder - and I named it as keystore, I know this is stupid, but I really cann't find way to make it success <br><br></td></tr></table><br>
<a name="2075933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try to run the command prompt as administrator.<br> If you are using windows7, you can go to run, type cmd and hit Ctrl+Shift+enter. This will open the command prompt in administrator mode. If not, you can also go to start -&gt; all programs -&gt; accessories -&gt; right click command prompt and say run as administrator. <br><br></td></tr></table><br>
<a name="2075962"></a>

<a name="2075963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried, also I got the same mes<br><br> I will try until it will work, I will post my succese after I find the reason behinde the failed <br><br>Thank you :) <br><br></td></tr></table><br>
<a name="2075968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found a tool, AppToMarket. Haven't tested everything, but at least, you can create a keystore file under "Certifcate Details"<br>If you get it working, it may help you.<br><a href="http://code.google.com/p/apptomarket/downloads/detail?name=AppToMarket_v32.zip&amp;can=2&amp;q=" target="_blank">http://code.google.com/p/apptomarket/downloads/detail?name=AppToMarket_v32.zip&amp;can=2&amp;q=</a> <br><br></td></tr></table><br>
<a name="2075984"></a>

<a name="2075985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is somebody's instruction from a year or two ago for the old-school method, sorry I can't remember who wrote it:<br><br>Really quickly Monkey to Android:<br><br>1. Sign up to Android Market Deveoper Console<br>2. Create your game :)<br>2.5 Add android:debuggable="false" to the application section of the manifest in build/templates<br>3. Compile for Android<br>4. Create your icons as stated by dave.h<br>5. Alter the APP_LABEL, APP_PACAKGE and SCREEN_ORIENTATION in the CONFIG.TXT<br>5. [Note: you can do this via the pre-processor now, I couldn't get signing to work but these work fine, along with version etc.]<br>6. Compile for Android again<br>7. Find your apk file (yourproject.build/android/bin), open <br>it using WinRAR and delete the META-INF folder (this is where the debug key is stored)<br>8. Create the key for your app:<br>8a. Create a folder called "keytools" and make a folder in that called "keys"<br>8b. Open command prompt (cmd.exe)<br>8c. Navigate to your keytools folder<br>8d. Type the following: [to generate key]<br>C:\"Program Files"\Java\jdk1.6.0_24\bin\keytool -genkey <br>		-alias yourProject.keystore -keyalg RSA -validity 20000 <br>		-keystore keys/yourProject.keystore<br>8e. Answer the questions prompted.<br>8f. Sign the apk:<br>C:\"Program Files"\Java\jdk1.6.0_24\bin\jarsigner -verbose <br>		-keystore keys/yourProject.keystore -signedjar <br>		yourProject-signed.apk yourProject.apk yourProject.keystore<br> 8g. Zip align the apk:<br>C:\"Program Files (x86)"\Android\android-sdk\tools\zipalign <br>		-v 4 yourProject-signed.apk yourProject-signed-zipped.apk<br> 9. In the Android Developer Console, click Upload Application<br>10. Fill out and upload details, screen shots and your signed and aligned apk<br><br><br>I added 2.5.  You may have to change the paths in the commands. <br><br></td></tr></table><br>
<a name="2075983"></a>

<a name="2075982"></a>

<a name="2076099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can confirm that the above still works fine as ive just submitted a new android app today using the above method. <br><br></td></tr></table><br>
<a name="2076216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> PUBLISHING ANDROID APP USING MONKEY:<br><br>1.	First check if you have jdk1.6... version. Set a path JAVA_HOME to jdk1.6... in the Environment variables. If there are many paths to jdk, ensure that the path to jdk1.6... is the first path. (Because JDK7 creates some signing problem).<br><br>2.	Change the application label and application package in the CONFIG.txt file inside the build\android folder. Example if my game is a car game, set the following,<br><br>ANDROID_APP_LABEL="Car Game"<br>ANDROID_APP_PACKAGE=com.cargame.gameworld<br><br>Also add the following line<br>ANDROID_GAMEPAD_ENABLED=false<br><br>(Note: After removing this line, when I compiled and installed the app in the device, it showed the error "app stopped unexpectedly". When I added this line and compiled and installed, this error did not show up. But I am not sure if there is a link between this line and the error).<br><br>3.	Place the application icons inside build\android\res folder :- drawable-hdpi (icon size 72x72), drawable-ldpi (icon size 36x36) and drawable-mdpi (icon size 48x48).<br><br>4.	Create a keystore file:<br>Type cmd in search box at the start menu.<br>Right click cmd and click Run as administrator<br> <br>In the command window, go to C or D or any drive. For example to create the keystore file in E drive, type the following in the command window.<br>&gt;cd \<br>&gt;E:<br>Then type,<br>E:\&gt;keytool -genkey -alias anyname.keystore -keyalg RSA -validity 20000 -keystore anyname.keystore<br><br>Example: If we want to use the name cargame then we have to type,<br>E:\&gt;keytool -genkey -alias cargame.keystore -keyalg RSA -validity 20000 -keystore cargame.keystore<br><br>(Note: This will work only if have an environment variable set to jdk - see step no. 1).<br><br>Then type the details - your name, your organization etc. - the details are just used to create a unique signature - so don't worry much about the details. Keep note of the passwords you type.<br><br>This will create cargame.keystore in the E drive.<br><br>5.	Tell the location of your keystore file to your project. To do this, open the ant.properties file inside build\android folder.  Add the following 2 lines to the end of the ant.properties file as shown below.<br><br>key.store=E:\\cargame.keystore<br>key.alias=cargame.keystore<br><br>Note: There is double backslash after a folder name. There is no single or double quotes for the values.<br><br>6.	If you want to change the name of your release apk file, for example like CarGame-release.apk instead of MonkeyGame-release.apk, then  open the build.xml file inside the build\android folder. Now change the project name to the name you want. For example,<br><br>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;project name="CarGame" default="help"&gt;<br><br>7.	If you are updating your game (publishing for the second time) then you need to change the version code and version name of the game. To do this:<br>	Browse to the android folder inside the build folder.<br>	Open the AndroidManifest.xml file and change the version code and version name. For example to change the version code to 2 and version name to 1.1, set them in android:versionCode and android:versionName as shown below.<br><br>        &lt;?xml version="1.0" encoding="utf-8"?&gt;<br>        &lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"<br><br>	package="com.cargame.gameworld"<br>	<br>	android:versionCode="2"<br>	android:versionName="1.1"<br>	android:installLocation="auto"&gt;<br>        ...............<br><br>8.     Now we are going to create the release apk. Open the command window as administrator. (See step 3). Browse to your android folder.<br>For example if my game is inside C: drive<br>&gt;cd\<br>C:\&gt;cd gamefolder<br>C:\gamefolder&gt; cd game.build-folder<br>C:\ gamefolder\game.build-folder&gt; cd android<br>C:\ gamefolder\game.build-folder\android&gt;<br><br>Now type ant release<br><br>C:\ projectfolder\game.build-folder\android&gt;ant release<br><br>When it prompts to enter the passwords, type the passwords you used while creating keystore file.<br><br>Thats all, you will have your project-name-release.apk inside build\android\bin folder. Upload this apk file in Google market. (Before uploading, install the app in mobile device and test it).<br><br>(Note: If the ant command does not work, you need to set ANT_HOME in the environment variables. Find the location of your apache-ant-version folder in your computer and create a new variable in the environment variables, for example,  Variable Name     ANT_HOME    Variable Value    C:\apache-ant-1.8.2).<br><br>Hope this helps.<br><br>Contact:gp1433@... <br><br></td></tr></table><br>
<a name="2076217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> PUBLISHING ANDROID APP USING MONKEY:<br><br>1. First check if you have jdk1.6... version. Set a path JAVA_HOME to jdk1.6... in the Environment variables. If there are many paths to jdk, ensure that the path to jdk1.6... is the first path. (Because JDK7 creates some signing problem).<br><br>2. Change the application label and application package in the CONFIG.txt file inside the build\android folder. Example if my game is a car game, set the following,<br><br>ANDROID_APP_LABEL="Car Game"<br>ANDROID_APP_PACKAGE=com.cargame.gameworld<br><br>Also add the following line<br>ANDROID_GAMEPAD_ENABLED=false<br><br>(Note: After removing this line, when I compiled and installed the app in the device, it showed the error "app stopped unexpectedly". When I added this line and compiled and installed, this error did not show up. But I am not sure if there is a link between this line and the error).<br><br>3. Place the application icons inside build\android\res folder :- drawable-hdpi (icon size 72x72), drawable-ldpi (icon size 36x36) and drawable-mdpi (icon size 48x48).<br><br>4. Create a keystore file:<br>Type cmd in search box at the start menu.<br>Right click cmd and click Run as administrator<br><br>In the command window, go to C or D or any drive. For example to create the keystore file in E drive, type the following in the command window.<br>&gt;cd \<br>&gt;E:<br>Then type,<br>E:\&gt;keytool -genkey -alias anyname.keystore -keyalg RSA -validity 20000 -keystore anyname.keystore<br><br>Example: If we want to use the name cargame then we have to type,<br>E:\&gt;keytool -genkey -alias cargame.keystore -keyalg RSA -validity 20000 -keystore cargame.keystore<br><br>(Note: This will work only if have an environment variable set to jdk - see step no. 1).<br><br>Then type the details - your name, your organization etc. - the details are just used to create a unique signature - so don't worry much about the details. Keep note of the passwords you type.<br><br>This will create cargame.keystore in the E drive.<br><br>5. Tell the location of your keystore file to your project. To do this, open the ant.properties file inside build\android folder. Add the following 2 lines to the end of the ant.properties file as shown below.<br><br>key.store=E:\\cargame.keystore<br>key.alias=cargame.keystore<br><br>Note: There is double backslash after a folder name. There is no single or double quotes for the values.<br><br>6. If you want to change the name of your release apk file, for example like CarGame-release.apk instead of MonkeyGame-release.apk, then open the build.xml file inside the build\android folder. Now change the project name to the name you want. For example,<br><br>&lt;?xml version="1.0" encoding="UTF-8"?&gt;<br>&lt;project name="CarGame" default="help"&gt;<br><br>7. If you are updating your game (publishing for the second time) then you need to change the version code and version name of the game. To do this:<br>Browse to the android folder inside the build folder.<br>Open the AndroidManifest.xml file and change the version code and version name. For example to change the version code to 2 and version name to 1.1, set them in android:versionCode and android:versionName as shown below.<br><br>&lt;?xml version="1.0" encoding="utf-8"?&gt;<br>&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"<br><br>package="com.cargame.gameworld"<br><br>android:versionCode="2"<br>android:versionName="1.1"<br>android:installLocation="auto"&gt;<br>...............<br><br>8. Now we are going to create the release apk. Open the command window as administrator. (See step 3). Browse to your android folder.<br>For example if my game is inside C: drive<br>&gt;cd\<br>C:\&gt;cd gamefolder<br>C:\gamefolder&gt; cd game.build-folder<br>C:\ gamefolder\game.build-folder&gt; cd android<br>C:\ gamefolder\game.build-folder\android&gt;<br><br>Now type ant release<br><br>C:\ projectfolder\game.build-folder\android&gt;ant release<br><br>When it prompts to enter the passwords, type the passwords you used while creating keystore file.<br><br>Thats all, you will have your project-name-release.apk inside build\android\bin folder. Upload this apk file in Google market. (Before uploading, install the app in mobile device and test it).<br><br>(Note: If the ant command does not work, you need to set ANT_HOME in the environment variables. Find the location of your apache-ant-version folder in your computer and create a new variable in the environment variables, for example, Variable Name ANT_HOME Variable Value C:\apache-ant-1.8.2).<br><br>Hope this helps.<br><br>Contact:gp1433@... <br><br></td></tr></table><br>
<a name="2076218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >trainer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because signing with JDK7 creates a problem while the user downloads the game:<br>If you have JDK7 in your computer, add the following to the build.xml file inside the android folder and then make the release version.<br><br>&lt;presetdef name="signjar"&gt;<br>    &lt;signjar sigalg="MD5withRSA" digestalg="SHA1" /&gt;<br>&lt;/presetdef&gt;<br><br>Note: I have not tried this solution. I found it while browsing. If anyone use this solution and is successful, please post here.<br><br>gp1433@... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
