<!DOCTYPE html><html lang="en" ><head ><title >Change music during the gameplay</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Change music during the gameplay</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Change music during the gameplay</a><br><br>
<a name="2115973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lom</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible to change current music track during the actual gameplay without delays? Because when I call PlayMusic() it freezes the game for about a second. I guess it takes time to load another track. It would be so much easier to play music with sound channels, but sound length is very limited for android. <br><br></td></tr></table><br>
<a name="2115976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you loading the music and then calling PlayMusic?  Can you not load all the tracks you want at the start? or if this isn't possible, put your Load at some point where you can give your game time to load it before stopping the current track if that makes sense.  I've honestly never tried to load and play immediately - but loading takes time and keep in mind that users of some Android devices may be even slower than what you are using - so even if it works on your device, and older device may struggle to get the job done. <br><br></td></tr></table><br>
<a name="2115980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The PlayMusic command streams audio, and is meant to do it relatively quickly.  Unfortunately, that's not always the case.<br>You could attempt to write your own music engine, either playing full instrumental tunes from lines of data, or using loops of music to create a varied soundtrack..  ..  But both have pitfalls depending on the target, and what device is used.<br>My own music engine was seemingly foolproof, until I saw someone playing it through a capture device, and for some really odd reason, the music's timing was roughly quartered, meaning there was one drum beat every few seconds!!!<br><br>Complicated stuff, and even then it's still broken.  Bah, humbug! <br><br></td></tr></table><br>
<a name="2115998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lom</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arabia,<br>Monkey has no functions to load the music. PlayMusic function uses audio streaming as far as I know and it uses only one channel. If there was at least 2 music channels it would be much more easier.<br><br>ElectricBoogaloo,<br>I see...I never thought that playing music could be so complicated =) <br><br></td></tr></table><br>
<a name="2116085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Iom - is it possible to use PlaySound instead?  I'm a older user of Monkey, but not very good and never released anything, but I've messed around with PlaySound which does allow you to use channels and it seems to work okay for me.  Forgive me if this is totally wrong, but can't you use PlaySound to play a music track in the same way and then play other sounds over other channels?   No time for me to muck around tonight and check this for myself. <br><br></td></tr></table><br>
<a name="2116280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lom</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arabia,<br>Playing music through sound channels works perfect for GLFW target. But if I'm playing music through sound channel on Android it plays for only about 10 seconds and then loops. I guess that's because android has a limitations on sound length. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
