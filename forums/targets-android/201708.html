<!DOCTYPE html><html lang="en" ><head ><title >OpenFeint</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OpenFeint</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >OpenFeint</a><br><br>
<a name="2016065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> [EDIT] - There's a more compact solution down below.<br><br>I've got a first pass of OpenFeint working with my Monkey App. Tested in MonkeyPro44 and 46<br><br>Right now Leaderboards and Achievements are working. The code is kinda sloppy. I've not done much (any) Java code so comments/corrections and - especially - improvements definitely welcome.<br><br>Okay, so here we go...<br><br>OpenFeint for Monkey...<br>--------------------------<br><br>Step 1...<br><br>Install the OpenFeint SDK as per the instructions on the OpenFeint website.<br><br>You should follow the steps all the way through to getting the sample app installed on your device.<br><br>My API install path looks like this.<br><br>c:\mpp\OpenFient\OpenFeintAPI<br><br>You may need to change some of the relative pathing if you deviate from a similar path structure.<br><br>Step 2...<br><br>Edit...<br><br>\YOURPATH\MonkeyPro??\targets\android\build.properties<br><br>Add the following lines...<br><pre class=code>
android.library.reference.1=../../../OpenFeint/OpenFeintAPI/
android.library.reference.2=../../../OpenFeint/GameFeed/
</pre><br><br>CORRECTION: You need to add the above pathing to your local app build.properties.<br><br>NOTE the relative pathing from my App/App.build/Android dir.<br><br>Edit<br>/YOURPATH/MonkeyPro??/targets/android/templates/AndroidManifest.xml<br><br>Add the following lines...<br><pre class=code>
        &lt;activity
          android:name="com.openfeint.internal.ui.IntroFlow"
          android:label="IntroFlow"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity
          android:name="com.openfeint.api.ui.Dashboard"
          android:label="Dashboard"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.Settings"
          android:label="Settings"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.NativeBrowser"
          android:label="NativeBrowser"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
</pre><br>At the end of the &lt;/application&gt; tag add the following permissions...<br><br><pre class=code>
&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
&lt;uses-permission android:name="android.permission.GET_ACCOUNTS" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
</pre><br>Some of these are optional but you might as well set them all...<br><br>NOTE: These changes should probably go to your project directory. Other Android projects you have will likely fail to build if they can't find all the OpenFeint stuff.<br>--------------------------------<br><br>Interfacing with monkey...<br><br>You'll need to create an native java extension for Android...<br><br>extensions.monkey<br><br><pre class=code>
#If TARGET="android" Then

	Import "MPPNet.java"

	Function MPPNetInit:Void(appName:String, clientAppID:String, productKey:String, productSecret:String)="MPPNet.Init"
	Function MPPNetIsUserLoggedIn:Bool()="MPPNet.IsUserLoggedIn"

	Function MPPNetPostScore:Void(score:Int, id:String)="MPPNet.PostScore"
		
	Function MPPNetOpenSocial:Void()="MPPNet.OpenSocial"
	Function MPPNetOpenLeaderboards:Void()="MPPNet.OpenLeaderboards"
	Function MPPNetOpenAchievements:Void()="MPPNetAchievements.Open"
	Function MPPNetAwardAchievement:Void(id:String)="MPPNetAchievements.Award"
#endif
</pre><br>Create your MPPNet.java file and paste the following code into it...<br><br>MPPNet.java<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
import java.util.HashMap;
import java.util.List;
import java.util.Map;

//import android.app.Application;

import com.openfeint.api.OpenFeint;
import com.openfeint.api.OpenFeintDelegate;
import com.openfeint.api.OpenFeintSettings;
import com.openfeint.api.resource.Achievement;
import com.openfeint.api.resource.Leaderboard;
import com.openfeint.api.resource.Score;
import com.openfeint.api.ui.Dashboard;
import com.openfeint.internal.OpenFeintInternal;

import android.widget.Toast; // Used for presenting diagnostic messages.

class MPPNetMessage
{
	public static void setResult(int result )
	{
		if (result == Activity.RESULT_OK)
		{
			System.out.println("[Monkey] -&gt; Sweet Score Posted!");
		}
		else
		{
			System.out.println("[Monkey] -&gt; Whoops!");
		}
	}
	public static void finish( )
	{
	}
}
	
class MPPNet {



	public static List&lt;Achievement&gt; achievements = null;
	public static List&lt;Leaderboard&gt; leaderboards = null;


	public	static Context m_Context;

	public static void Init(String appName, String clientAppID, String productKey, String productSecret)
	{
        Map&lt;String, Object&gt; options = new HashMap&lt;String, Object&gt;();
        options.put(OpenFeintSettings.SettingCloudStorageCompressionStrategy, OpenFeintSettings.CloudStorageCompressionStrategyDefault);
    
		OpenFeintSettings settings = new OpenFeintSettings(appName, productKey, productSecret, clientAppID, options);

		m_Context = MonkeyGame.activity.getApplicationContext();

		OpenFeint.initialize(m_Context, settings, new OpenFeintDelegate() { });
		
		MPPNetAchievements.Init();
        
        Achievement.list(new Achievement.ListCB()
							{
								@Override public void onSuccess(List&lt;Achievement&gt; _achievements)
								{
									achievements = _achievements;
								}
							}
						);
        
        Leaderboard.list(new Leaderboard.ListCB()
							{
								@Override public void onSuccess(List&lt;Leaderboard&gt; _leaderboards)
								{
									leaderboards = _leaderboards;
								}
							}
						);

	}
	public static boolean IsUserLoggedIn()
	{
		return	OpenFeint.isUserLoggedIn();
	}
	
	public static void OpenSocial()
	{
		Dashboard.open();
	}
	public static void OpenLeaderboards()
	{
		Dashboard.openLeaderboards();
	}

	
	public static void PostScore(long longScoreValue, String leaderboardID)
	{
		long scoreValue = longScoreValue;
		
		Score s = new Score(scoreValue, null); // Second parameter is null to indicate that custom display text is not used.
		Leaderboard l = new Leaderboard(leaderboardID);
		
		s.submitTo(l, new Score.SubmitToCB() {
							  @Override public void onSuccess(boolean newHighScore)
							  { 		// sweet, score was posted
							    Toast.makeText(m_Context, "Success posting score.", Toast.LENGTH_LONG).show();
							    MPPNetMessage.setResult(Activity.RESULT_OK);
							    MPPNetMessage.finish();
							  }
							  @Override public void onFailure(String exceptionMessage)
							  {
							    Toast.makeText(m_Context, "Error (" + exceptionMessage + ") posting score.", Toast.LENGTH_SHORT).show();
							    MPPNetMessage.setResult(Activity.RESULT_CANCELED);
							    MPPNetMessage.finish();
							  }
							});
	}

}

class MPPNetAchievements
{
	public	static Context m_Context;
	
	public static void Init()
	{
		m_Context = MonkeyGame.activity.getApplicationContext();
	}

	public static void Open()
	{
		Dashboard.openAchievements();
	}
	
	public static void Award(String achievementID)
	{	
		Achievement a = new Achievement(achievementID);
		
		a.unlock(new Achievement.UnlockCB () {
						  @Override public void onSuccess(boolean complete)
						  {
						    Toast.makeText( m_Context, "Success unlocking achievement.",Toast.LENGTH_LONG).show();
						    MPPNetMessage.setResult(Activity.RESULT_OK);
						    MPPNetMessage.finish();
						  }
						  @Override public void onFailure(String exceptionMessage)
						  {
						    Toast.makeText( m_Context, "Error (" + exceptionMessage + ") unlocking achievement.",Toast.LENGTH_SHORT).show();
						    MPPNetMessage.setResult(Activity.RESULT_CANCELED);
						    MPPNetMessage.finish();
						  }
						 });
	}
}

</textarea><br><br>And to use in your game you first need to initialise OpenFeint...<br><pre class=code>
#if TARGET="android"

	MPPNetInit(YouAppName, YouAppClientID,  YourAppID, YourAppSecret)

#endif
</pre><br><br>To open the main OpenFeintInterface...<br><br>MPPNetOpenSocial();<br><br>To open the OpenFeint leaderboard screen...<br>MPPNetOpenLeaderboards();<br><br>To view the Achievements...<br>MPPNetOpenAchievements();<br><br>MPPNetPostScore(score, "YourLeaderboardID");<br><br>MPPNetAwardAchievement("YourAchievementID");<br><br><br>TODO:<br><br>The changes to the android.manifest should really be on a project by project basis.<br>The example files no longer build with my current directory structure (where I install openfeint)<br><br>c:\mpp\OpenFient\OpenFeintAPI<br><br>Make it a nice module.<br><br>Add iOS support.<br>Add fallbacks for everything else.<br><br>WARNING: there's a lot of bits and pieces in here so I may have missed something. I developed in MP44 and migrated changes to 46 making notes - and then tested so hopefully I got the lot. <br><br></td></tr></table><br>
<a name="2015995"></a>

<a name="2015994"></a>

<a name="2015992"></a>

<a name="2016001"></a>

<a name="2016002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is great! THANK YOU!<br><br>Can't wait to use it. :) <br><br></td></tr></table><br>
<a name="2016032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> fantastic. great work.<br><br>i was looking at plugging into ScoreLoop but not having much luck. Saves me some work now.<br><br>many thanks <br><br></td></tr></table><br>
<a name="2016034"></a>

<a name="2016035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br>tried the instructions above a get an error..<br>On the MPPNetInit line in my code I get a "Syntax Error - Expecting declaration" during compilation<br>If I comment that line out, the code compiles fine.<br><br>I call that line inside my initialization code for the game... does this need to be at the top of the code?<br><br>Also I've created extensions.monkey and placed that in my project root folder.<br>How and when does this get called?<br><br>EDIT: also I dont seem to see MPPnet.java being compiled in the output log<br><pre class=code>
Translating ss
C:/Monkey/bin/trans_winnt -config=release -target=android -run D:/dev/ss/ss.monkey

TRANS monkey compiler V1.15
Parsing...
Semanting...
Translating...
Building...
* daemon not running. starting it now on port 5037 *
* daemon started successfully *
Buildfile: D:\dev\ss\ss.build\android\build.xml
    [setup] Android SDK Tools Revision 11
    [setup] Project Target: Android 2.1-update1
    [setup] API level: 7
    [setup] 
    [setup] ------------------
    [setup] Resolving library dependencies:
    [setup] D:\dev\ss\ss.build\android: ../../../OpenFeint/OpenFeintAPI/ =&gt; D:\dev\OpenFeint\OpenFeintAPI
    [setup] D:\dev\ss\ss.build\android: ../../../OpenFeint/GameFeed/ =&gt; D:\dev\OpenFeint\GameFeed
    [setup] D:\dev\OpenFeint\GameFeed: ../OpenFeintAPI =&gt; D:\dev\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] Ordered libraries:
    [setup] D:\dev\OpenFeint\GameFeed
    [setup] D:\dev\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] 
    [setup] 
    [setup] Importing rules file: tools\ant\main_rules.xml

clean:
   [delete] Deleting directory D:\dev\ss\ss.build\android\bin
   [delete] Deleting directory D:\dev\ss\ss.build\android\gen

BUILD SUCCESSFUL
Total time: 1 second
Buildfile: D:\dev\ss\ss.build\android\build.xml
    [setup] Android SDK Tools Revision 11
    [setup] Project Target: Android 2.1-update1
    [setup] API level: 7
    [setup] 
    [setup] ------------------
    [setup] Resolving library dependencies:
    [setup] D:\dev\ss\ss.build\android: ../../../OpenFeint/OpenFeintAPI/ =&gt; D:\dev\OpenFeint\OpenFeintAPI
    [setup] D:\dev\ss\ss.build\android: ../../../OpenFeint/GameFeed/ =&gt; D:\dev\OpenFeint\GameFeed
    [setup] D:\dev\OpenFeint\GameFeed: ../OpenFeintAPI =&gt; D:\dev\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] Ordered libraries:
    [setup] D:\dev\OpenFeint\GameFeed
    [setup] D:\dev\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] 
    [setup] 
    [setup] Importing rules file: tools\ant\main_rules.xml

-debug-obfuscation-check:

-set-debug-mode:

-compile-tested-if-test:

-pre-build:

-dirs:
     [echo] Creating output directories if needed...
    [mkdir] Created dir: D:\dev\ss\ss.build\android\bin
    [mkdir] Created dir: D:\dev\ss\ss.build\android\gen
    [mkdir] Created dir: D:\dev\ss\ss.build\android\bin\classes

-aidl:
     [echo] Compiling aidl files into Java classes...

-renderscript:
     [echo] Compiling RenderScript files into Java classes and RenderScript bytecode...

-resource-src:
     [echo] Generating R.java / Manifest.java from the resources...

-pre-compile:

compile:
    [javac] d:\dev\android-sdk\tools\ant\main_rules.xml:384: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds
    [javac] Compiling 199 source files to D:\dev\ss\ss.build\android\bin\classes
    [javac] Note: D:\dev\ss\ss.build\android\src\com\pantson\gpss\MonkeyGame.java uses unchecked or unsafe operations.
    [javac] Note: Recompile with -Xlint:unchecked for details.

-post-compile:

-obfuscate:

-dex:
     [echo] Converting compiled files and external libraries into D:\dev\ss\ss.build\android\bin\classes.dex...

-package-resources:
     [echo] Packaging resources
     [aapt] Creating full resource package...

-package-debug-sign:
[apkbuilder] Creating MonkeyGame-debug-unaligned.apk and signing it with a debug key...

debug:
     [echo] Running zip align on final apk...
     [echo] Debug Package: D:\dev\ss\ss.build\android\bin\MonkeyGame-debug.apk

install:
     [echo] Installing D:\dev\ss\ss.build\android\bin\MonkeyGame-debug.apk onto default emulator or device...
     [exec] 	pkg: /data/local/tmp/MonkeyGame-debug.apk
     [exec] Success
     [exec] 1327 KB/s (1596279 bytes in 1.174s)

BUILD SUCCESSFUL
Total time: 43 seconds

Process Complete
</pre><br>many thanks <br><br></td></tr></table><br>
<a name="2016036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> update.. <br>my MMNetInit() was in the wrong place.. should not be at the top of the code, but clearly in a function.. ie OnCreate()<br><br>Now I get a MPPNetInit() not found error.<br><br>I think goes back to the how does extension.monkey get called? (is it in the correct place: project root folder?)<br><br>regards <br><br></td></tr></table><br>
<a name="2016037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The code is kinda sloppy. I've not done much (any) Java code so comments/corrections and - especially - improvements definitely welcome. <br></div>Could you maybe post it in a SCM repository to make it easier for people to play around with? <a href="http://monkeycoder.co.nz/Community/posts.php?topic=978" target="_blank">Most people around here seem to use github</a>, but bitbucket, and googlecode are also viable alternatives. <br><br></td></tr></table><br>
<a name="2016038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> tis a shame..<br>I'm getting even more errors during compiling time<br><pre class=code>
[aapt.exe] D:\dev\OpenFeint\OpenFeintAPI\res\layout\of_achievement_notification.xml:2: error: Error: No resource found that matches the given name (at 'background' with value '@drawable/of_achievement_notification_bkg').
 [aapt.exe] D:\dev\OpenFeint\OpenFeintAPI\res\layout\of_achievement_notification.xml:6: error: Error: No resource found that matches the given name (at 'src' with value '@drawable/of_achievement_icon_unlocked').
 [aapt.exe] D:\dev\OpenFeint\OpenFeintAPI\res\layout\of_achievement_notification.xml:7: error: Error: No resource found that matches the given name (at 'src' with value '@drawable/of_achievement_icon_frame').
 [aapt.exe] D:\dev\OpenFeint\OpenFeintAPI\res\layout\of_achievement_notification.xml:10: error: Error: No resource found that matches the given name (at 'src' with value '@drawable/of_feint_points_white').
 [aapt.exe] D:\dev\OpenFeint\OpenFeintAPI\res\layout\of_achievement_notification.xml:11: error: Error: No resource found that matches the given name (at 'src' with value '@drawable/of_achievement_notification_locked').
</pre><br><br>Can you post up your entire androidmanifest file please?<br><br>Has anyone else got this installed? <br><br></td></tr></table><br>
<a name="2016040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry - been out all day today.<br><br>I'll need to go over the compile issues listed more carefully before responding specifically.<br><br>@FlameDuck - I'm using Kiln. I'll look at what's involved with making a repository in googlecode.<br><br>My android manifest is the default Monkey one with just those changes listed. But here it is anyway...<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"

	package="${APP_PACKAGE}"
	
	android:versionCode="1"
	android:versionName="1.0"
	android:installLocation="auto"&gt;
	
	&lt;uses-sdk 
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;
		
	&lt;uses-feature android:glEsVersion="0x00010001" /&gt;
		
	&lt;application android:label="${APP_LABEL}" android:icon="@drawable/icon"&gt;
		&lt;activity 
			android:name="MonkeyGame" 
			android:label="${APP_LABEL}"
			android:screenOrientation="${SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation"
			android:theme=\"@...;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
        &lt;/activity&gt;
        &lt;activity
          android:name="com.openfeint.internal.ui.IntroFlow"
          android:label="IntroFlow"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity
          android:name="com.openfeint.api.ui.Dashboard"
          android:label="Dashboard"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.Settings"
          android:label="Settings"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.NativeBrowser"
          android:label="NativeBrowser"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;

	&lt;/application&gt;

&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
&lt;uses-permission android:name="android.permission.GET_ACCOUNTS" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;

&lt;/manifest&gt; 
          

</pre> <br><br></td></tr></table><br>
<a name="2016041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> cheers<br>very interested in getting this working and helping improve it. <br><br></td></tr></table><br>
<a name="2016042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @pantson<br><br>The extensions.monkey can be called whatever you like. It's where I add my native platform extensions. You need to put the contents listed above into a file called (your)extensions.monkey...<br><br>Then you need to include it into your code. I do it like this...<br><br><pre class=code>

Import extensions.monkey

' Main App Startup
Function Main:Int()

'
' My App Init code
'

			
#if TARGET="android"
	MPPNetInit("My App Name", "My Client Key",  "My App Key", "My App Secret")
#endif

	Return 0
	
End Function
</pre> <br><br></td></tr></table><br>
<a name="2016044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can anyone who's having a problem confirm that they build the OpenFeint sample code and managed to run it on their device. Follow the steps for the  command line build (adb - not eclipse).<br><br>I did it as part of the process and - it's an essential debugging tool. Also - confirms that you've got all the OpenFeint stuff installed correctly. <br><br></td></tr></table><br>
<a name="2016066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay - here's a simple sample app that wraps what is outlined above...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

'Simple OpenFeint Test
'
'Android
'
Import mojo

#If TARGET="android" Then

#If LANG="java" Then
	Import "MPPNet.java"	
#endif

Extern
	Function MPPNetInit:Void(appName:String, clientAppID:String, productKey:String, productSecret:String)="MPPNet.Init"
	Function MPPNetIsUserLoggedIn:Bool()="MPPNet.IsUserLoggedIn"

	Function MPPNetPostScore:Void(score:Int, id:String)="MPPNet.PostScore"
		
	Function MPPNetOpenSocial:Void()="MPPNet.OpenSocial"
	Function MPPNetOpenLeaderboards:Void()="MPPNet.OpenLeaderboards"
	Function MPPNetOpenAchievements:Void()="MPPNetAchievements.Open"
	Function MPPNetAwardAchievement:Void(id:String)="MPPNetAchievements.Award"

Public
#endif

Class COpenFeintTest Extends App

	Method OnCreate()	
		SetUpdateRate(30)		
	End

	
	Method OnUpdate()

		
#if TARGET="android"
		
		If TouchHit(0) Then
			
			Local ty:Int = DeviceHeight/3
			Local y:Int = TouchY(0)
			
			If (y &lt; ty) Then
				MPPNetOpenSocial()
			Elseif (y&gt;=ty And y&lt;ty*2) Then
				MPPNetOpenLeaderboards()
			Elseif (y&gt;=ty*2 And y&lt;ty*3) Then
				MPPNetOpenAchievements()
			Endif
		
		Endif
		
#endif

	End

	Method OnRender()
	
		Cls(240,240,240)


		SetScissor(0,0,DeviceWidth,DeviceHeight)
		
		Local ty:Int = DeviceHeight/3
		
		SetColor(255,0,0)
		DrawRect(0,0,DeviceWidth,ty)

		SetColor(0,255,0)	
		DrawRect(0,ty,DeviceWidth,ty)

		SetColor(0,0,255)
		DrawRect(0,ty*2,DeviceWidth,ty)

		SetColor(255,255,255)
		DrawText "OpenFeint Android Test",32,32,0,0
		
	End

End

Function Main()

	New COpenFeintTest()
	
	#if TARGET="android"

	MPPNetInit("YouAppName", "YourClientID",  "YourAppID", "YourSecretID")

	#endif

End

</textarea><br><br>You still need to install the OpenFeint Libs as before.<br><br>However building this small app did reveal a minor (ahem) problem with what I outlined above. You need to add the directories to your project build.properties. I assumed it was copying them from Monkey directories - but I guess not.<br><br>So to clarify...<br><br>\YourApp\yourapp.build\android\build.properties<br><br>Add the following lines...<br><pre class=code>
android.library.reference.1=../../../OpenFeint/OpenFeintAPI/
android.library.reference.2=../../../OpenFeint/GameFeed/
</pre><br><br>You still need to create the MPPNet.java file in your source tree.<br><br>When you compile and build you get three rectangles; Red; Green and Blue. Touch each will take you to The Main OpenFeint menu; the leaderboards or the achievements.<br><br>Good luck. <br><br></td></tr></table><br>
<a name="2016064"></a>

<a name="2016170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many thanks for all your help and posts monkeypig.<br><br>after 3 days of following your instructions and playing around with numerous error messages I can gladly say I've got this compiling and displaying the OpenFient wait logo in the game. <br><br>Bizarrely, after all the playing around.. I reinstalled Monkey v46 and followed your instructions, and now all compiles. many thanks<br><br>Time to play further and hopefully improve the lib <br><br></td></tr></table><br>
<a name="2016173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> First update<br>new function in Monkey. Opens a particular leaderboard, ideal for game specific leaderbaords<br><pre class=code>
MPPNetOpenLeaderboard(leaderboardID:String)
</pre><br><br>add the following to extensions<br><pre class=code>
	Function MPPNetOpenLeaderboard:Void(leaderboardID:String)="MPPNet.OpenLeaderboard"
</pre><br><br>add the following to MPPNet.java<br><pre class=code>
	public static void OpenLeaderboard(String leaderboardID)
	{
	Dashboard.openLeaderboard(leaderboardID);
	}
</pre> <br><br></td></tr></table><br>
<a name="2016181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> not sure if you are interested, but I've started making this into a module. <br><br></td></tr></table><br>
<a name="2016183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Module? That would be awesome. <br><br></td></tr></table><br>
<a name="2016248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah module makes sense.<br><br>A standalone Module is part of my longer term plans - but wanted to get the OFX (in-app purchase) and GameFeed working across Android and iOS. My plan is to abstract an interface so, from the Monkey end, you're opening leaderboards, awarding achievements and buying stuff in a back-end agnostic way. <br><br>I have the GameFeed code kinda working - but have yet to figure out how to put the feed over the Monkey Game display. Right now it replaces my MonkeyView.<br><br>Unfortunately I've got many other, more pressing, issues to work on so it's low on my TODO list.<br><br>If you're interested I'll post the code I have for the GameFeed. <br><br></td></tr></table><br>
<a name="2016256"></a>

<a name="2016257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> module done... would love to see the feed code.<br>No iOS code yet. If anyone wants to buy me a MAC I can crack on with it ;-)<br>seriously, I'll try to look at some iOS code (but will be guessing). <br><br></td></tr></table><br>
<a name="2016259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pantson,<br><br>Okay here's what I have on the Game Feed...<br><br>This code is added to MPPNet.java<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
    private static final String FEED_VISIBLE = "com.openfeint.example.GameFeedPage.FeedVisible";
    private static boolean visible;
    private static GameFeedView gameFeedView;

        // This is used in lieu of Resources#getDrawable() due to an Android OS bug that can sometimes
        // prevent the first image in the R.drawable class from being loaded correctly.
        private static Drawable loadBitmap(int id)
        {
            final Bitmap bitmap = BitmapFactory.decodeResource(m_Context.getResources(), id);
            return bitmap != null ? new BitmapDrawable(bitmap) : null;
        }

        private static Map&lt;String, Object&gt; gameFeedSettings = new HashMap&lt;String, Object&gt;();

        public static void GameFeed()
	{
                System.out.println("GAMEFEED-&gt;getIntent()");
                Intent i = MonkeyGame.activity.getIntent();


                // Alignment:
                boolean top = i.getBooleanExtra("com.openfeint.example.GameFeedPage.top", false);
                //gameFeedSettings.put(GameFeedSettings.Alignment, (top ? GameFeedSettings.AlignmentType.TOP : GameFeedSettings.AlignmentType.BOTTOM));
                gameFeedSettings.put(GameFeedSettings.Alignment, GameFeedSettings.AlignmentType.TOP);

                // Animation:
                boolean animated = i.getBooleanExtra("com.openfeint.example.GameFeedPage.animated", false);
                gameFeedSettings.put(GameFeedSettings.AnimateIn, animated);

                // Custom assets:
                boolean custom = false; //i.getBooleanExtra("com.openfeint.example.GameFeedPage.custom", false);

                System.out.println("GAMEFEED-&gt;gameFeedSettings");
                String layoutType = i.getStringExtra("com.openfeint.example.GameFeedPage.layout_type");

                 System.out.println("GAMEFEED-&gt;setContentView");

                gameFeedView = new GameFeedView(MonkeyGame.activity, gameFeedSettings);
                System.out.println("gameFeedView="+gameFeedView);

                int layoutId;
                //layoutId = R.layout.main;
                //layoutId = R.layout.gamefeed_layout_linear;
                layoutId = R.layout.gamefeed_monkey;
                MonkeyGame.activity.setContentView(layoutId);

                View monkeyView = MonkeyGame.activity.findViewById( R.id.monkeyview );
                System.out.println("monkeyView="+monkeyView);

                if (monkeyView!=null)
                {
                    gameFeedView.addToLayout( monkeyView );
                    System.out.println("GAMEFEED-&gt;addToLayout");
                }

                // TODO: Need to figure out how to get at the savedInstanceState from MonkeyGame...
                //visible = (MonkeyGame.savedInstanceState != null) ? MonkeyGame.savedInstanceState.getBoolean(FEED_VISIBLE, true) : true;
                visible=true;
                gameFeedView.show();
                System.out.println("GAMEFEED-&gt;show");

                System.out.println("GAMEFEED-&gt;complete");
        }
</textarea><br><br>This is added to your extensions.monkey<br><br><pre class=code>
	Function	MPPGameFeedInit:Void()="MPPNet.GameFeedInit"
</pre><br><br>In the App side I test if OpenFeint is logged in and if it is I launch the game feed with when the user touches a button MPPGameFeedInit()...<br><br>Now - unfortunately - the code by itself won't do much. You need to copy all of the various Android/res stuff from the OpenFeint/GameFeed example directories into your app android/res directories.<br><br>It should build and run at that point.<br><br>In my test app I get the gamefeed displaying but - there's no activity (not too surprising as - well - there is no activity at the moment).<br><br>The problem I have is that the gamefeed obliterates my Monkey View. I played with the java res stuff for a little while - but didn't fix it in the time I had alloted. If you don't make any headway - I'll probably revisit soon(ish) but my priority is to get iOS working with the basics and other to investigate other solutions for Flash/HTML5/PC etc.<br><br>There's no easy way to make this a simple Monkey file because of the res dependencies. So... if you can't get it working - I'll archive my test tree and make it available... <br><br></td></tr></table><br>
<a name="2016261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah - forgot this.<br><br>I created this file - in an attempt to show some content underneath...<br><br>res/layout/gamefeed_monkey.xml<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;LinearLayout xmlns:android="http://schemas.android.com/apk/res/android"
	android:layout_width="fill_parent"
	android:layout_height="128px"
	android:orientation="vertical"
 	android:id="@+id/monkeyview"&gt;

    &lt;Button android:layout_width="wrap_content"
		android:layout_height="wrap_content" android:text="Toggle GameFeed"
		android:layout_gravity="center" android:id="@+id/button_toggle_gamefeed"&gt;&lt;/Button&gt;
&lt;/LinearLayout&gt;

</pre><br><br>I was hoping I'd be able to avoid having to dig too deep into the Android SDK (one of the reasons I'm using Monkey) - but the more you try to do the more it would appear you have to dig deep to figure out how Android SDK is supposed to work... <br><br></td></tr></table><br>
<a name="2016263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> cheers for that<br>yeah I've also found that if you want to plug into other libs then you have to play around with the xml. Something that monkey wont do from the code..<br><br>I'll have a play. many thanks <br><br></td></tr></table><br>
<a name="2016315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi MonkeyPig<br>Is that all the code for the java file? its generating a lot of errors on compilation and I dont see the MPPNet.GameFeedInit function in the java code. <br><br></td></tr></table><br>
<a name="2016322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @pantson<br><br>No - I just cut the part out that you needed to add to the existing MPPNet.java. Just cut &amp; paste the above member function and member variables to your current local copy of MPPNet.java. <br><br></td></tr></table><br>
<a name="2016338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats strange... I'm getting this error<br><pre class=code>
    [javac] Compiling 199 source files to D:\dev\sshuffle\ss.build\android\bin\classes
    [javac] D:\dev\sshuffle\ss.build\android\src\com\appytimes\gpss\MonkeyGame.java:1863: cannot find symbol
    [javac] symbol  : class GameFeedView
    [javac] location: class com.appytimes.gpss.MPPNet
    [javac]     private static GameFeedView gameFeedView;
    [javac]                    ^
    [javac] D:\dev\sshuffle\ss.build\android\src\com\appytimes\gpss\MonkeyGame.java:1867: cannot find symbol
    [javac] symbol  : class Drawable
    [javac] location: class com.appytimes.gpss.MPPNet
    [javac]         private static Drawable loadBitmap(int id)
</pre><br>Its like I'm not including the gamefeed library.<br>Is it just the res stuff from the gamefeed example I'm copying (or the src too)? PS I've tried both <br><br></td></tr></table><br>
<a name="2016339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I forgot to mention this, but did you add...<br><br>android.library.reference.2=../../../OpenFeint/GameFeed/<br><br>to your build.properties file? <br><br></td></tr></table><br>
<a name="2016342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> cheers bit thats there from the original instructions.<br><br>I've placed the java code in the MPPnet class. Is that correct? (I've also placed it everywhere else in the file too) <br><br></td></tr></table><br>
<a name="2016343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah - yeah it's probably that you're just missing the includes at the top...<br><br><pre class=code>
import com.openfeint.api.OpenFeint;
import com.openfeint.api.OpenFeintDelegate;
import com.openfeint.api.OpenFeintSettings;
import com.openfeint.api.resource.Achievement;
import com.openfeint.api.resource.Leaderboard;
import com.openfeint.api.resource.Score;
import com.openfeint.api.ui.Dashboard;
import com.openfeint.internal.OpenFeintInternal;

//
// Game Feed Stuff
import com.openfeint.gamefeed.GameFeedSettings;
import com.openfeint.gamefeed.GameFeedView;
</pre><br><br>I guess that's the problem with just cutting &amp; pasting the bits I think you need versus the bits you actually need. Sorry.<br><br>If that doesn't work I'll just cut &amp; paste my current MPPNet.java - you'll need to add your changes back then. <br><br></td></tr></table><br>
<a name="2016344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep.. just found out myself ;-)<br>cheers <br><br></td></tr></table><br>
<a name="2016345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool. Good luck. <br><br></td></tr></table><br>
<a name="2016346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> unfortunately... its the Drawable class now.<br><pre class=code>
   [javac] Compiling 199 source files to D:\dev\sshuffle\ss.build\android\bin\classes
    [javac] D:\dev\sshuffle\ss.build\android\src\com\pantson\gpss\MonkeyGame.java:1870: cannot find symbol
    [javac] symbol  : class Drawable
    [javac] location: class com.pantson.gpss.MPPNet
    [javac]         private static Drawable loadBitmap(int id)
    [javac]                        ^
    [javac] D:\dev\sshuffle\ss.build\android\src\com\pantson\gpss\MonkeyGame.java:1873: cannot find symbol
    [javac] symbol  : class BitmapDrawable
    [javac] location: class com.pantson.gpss.MPPNet
    [javac]             return bitmap != null ? new BitmapDrawable(bitmap) : null;
    [javac]                                         ^
    [javac] D:\dev\sshuffle\ss.build\android\src\com\pantson\gpss\MonkeyGame.java:1907: cannot find symbol
    [javac] symbol  : variable gamefeed_monkey
    [javac] location: class com.pantson.gpss.R.layout
    [javac]                 layoutId = R.layout.gamefeed_monkey;
</pre><br><br>maybe we should start a code archive. so thats it easier to pass code between ourselves. <br><br></td></tr></table><br>
<a name="2016347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's the entire set of includes I have now in MPPNet...<br><br><pre class=code>

import java.util.HashMap;
import java.util.List;
import java.util.Map;

//import android.app.Application;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.view.View;
import android.view.ViewGroup;
import android.view.animation.Animation;
import android.view.animation.TranslateAnimation;
import android.widget.FrameLayout;
import android.widget.HorizontalScrollView;
import android.widget.LinearLayout;
import android.widget.RelativeLayout;

import com.openfeint.api.OpenFeint;
import com.openfeint.api.OpenFeintDelegate;
import com.openfeint.api.OpenFeintSettings;
import com.openfeint.api.resource.Achievement;
import com.openfeint.api.resource.Leaderboard;
import com.openfeint.api.resource.Score;
import com.openfeint.api.ui.Dashboard;
import com.openfeint.internal.OpenFeintInternal;

//
// Game Feed Stuff
import com.openfeint.gamefeed.GameFeedSettings;
import com.openfeint.gamefeed.GameFeedView;

</pre><br><br>From your errors - it looks like you're missing the Android ones.<br><br>Probably would have been simpler to just upload my current MPPNet.java but I've got a bunch of random crap in there when I was trying to get the GameFeed to display on top of my view. <br><br></td></tr></table><br>
<a name="2016348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow theres a lot more android libs.<br>cheers. that fixed it.<br><br>now its time to play ;-) <br><br></td></tr></table><br>
<a name="2016353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> spoke too soon ;-)<br>MPPNet.GameFeedInit not found and I don't see it in the java code you posted.<br>Do you have this function please? <br><br></td></tr></table><br>
<a name="2016354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoops. Stick this method into your MPPNet.java file too...<br><br><pre class=code>
        public static void GameFeedInit()
        {
            GameFeed();
        }
</pre><br><br>It's a member function of the MPPNet class.<br><br>The code I'm cutting &amp; pasting from is a bit of disaster area at the moment - as I tried many different things to get the display working. <br><br></td></tr></table><br>
<a name="2016356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds like my dev work ;-)<br>cheers <br><br></td></tr></table><br>
<a name="2016357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad to hear it's working. Sorry it took so many back and forths. <br><br></td></tr></table><br>
<a name="2016360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it time start a Google code (with live and beta releases)? <br><br></td></tr></table><br>
<a name="2016404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> One of the problems with making a google repository is that there's an awful lot of messy OpenFeint dependencies.<br><br>I don't see any simple/clean way to package it up and have a module that'll work without adding all of the Android directories that need the OpenFeint resources. Perhaps there a better way?<br><br>Does anyone know of a way to put Android resources in your project tree - or do we have to modify the app.build directory? <br><br></td></tr></table><br>
<a name="2016598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> still here.. just been busy <br><br></td></tr></table><br>
<a name="2017345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> FYI<br>the lib doesn't seem to work in v47.<br><br>Its something to with the build.properties or ant.properties file.<br>Still looking into it <br><br></td></tr></table><br>
<a name="2017507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Pantson,<br><br>Not been Monkeying around for a few weeks. Working on native iOS stuff (non Monkey).<br><br>I've not updated yet to v47. From what I've read though - I would have thought you'd just apply the changes outlined and it should work. Is there a specific error? <br><br></td></tr></table><br>
<a name="2017517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>it looks like the build.properties file doesn't exist. Its now called ant.properties. So I've copied the relevant info in.<br><br>Now when compiling it states that there is no project.properties in the gamefeed and API dir.<br><br>After creating the project.properties files, it states that the build.xml is out of date.<br><br>Its like it trying to compile them again in V47 rather than using the src files <br><br></td></tr></table><br>
<a name="2022036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>is there already a module for this? And it seems that posting No. 1 does not include all additions (like GameFeed)? Could you please add this to your first posting as well MonkeyPig?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2022037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I get this, after setting up ant.properties instead of build.properties with Monkey V52:<br><br><pre class=code>
BUILD SUCCESSFUL
Total time: 0 seconds
Buildfile: D:\Projekte\oftest\of.build\android\build.xml

-set-mode-check:

-set-debug-files:

-set-debug-mode:

-debug-obfuscation-check:

-setup:
     [echo] Gathering info for MonkeyGame...
    [setup] Android SDK Tools Revision 16
    [setup] Project Target: Android 3.2
    [setup] API level: 13
    [setup] 
    [setup] ------------------
    [setup] Resolving library dependencies:
    [setup] D:\Projekte\oftest\of.build\android: OpenFeint/OpenFeintAPI/ =&gt; D:\Projekte\oftest\of.build\android\OpenFeint\OpenFeintAPI
    [setup] D:\Projekte\oftest\of.build\android: OpenFeint/GameFeed/ =&gt; D:\Projekte\oftest\of.build\android\OpenFeint\GameFeed
    [setup] D:\Projekte\oftest\of.build\android\OpenFeint\GameFeed: ../OpenFeintAPI =&gt; D:\Projekte\oftest\of.build\android\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] Ordered libraries:
    [setup] D:\Projekte\oftest\of.build\android\OpenFeint\GameFeed
    [setup] D:\Projekte\oftest\of.build\android\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] 
    [setup] WARNING: Attribute minSdkVersion in AndroidManifest.xml (3) is lower than the project target API level (13)

-build-setup:
     [echo] Building Libraries
ERROR:
BUILD FAILED
D:\Programme\Android\android-sdk\tools\ant\build.xml:485: The following error occurred while executing this line:
D:\Projekte\oftest\of.build\android\OpenFeint\OpenFeintAPI\build.xml:49: taskdef class com.android.ant.SetupTask cannot be found
 using the classloader AntClassLoader[]
</pre> <br><br></td></tr></table><br>
<a name="2022038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah yes.... I got this too<br>unlike older versions Monkey has to compile the libraries too and not reply on pre-compiled libs.<br>This took a while for me to sort.. but heres my batch file I run in the Android build folder to prep the project<br><pre class=code>
xcopy ..\..\..\OpenFeint\OpenFeintAPI\res res /E /Y
xcopy ..\..\..\OpenFeint\GameFeed\res res /E /Y

echo android.library.reference.1=../../../OpenFeint/OpenFeintAPI/ &gt;ant.properties
echo android.library.reference.2=../../../OpenFeint/GameFeed/ &gt;&gt;ant.properties
call d:\dev\bin\android-sdk\tools\android.bat update project -p /

pushd ..\..\..\OpenFeint
call d:\dev\bin\android-sdk\tools\android.bat update project -p OpenFeintAPI/ -t 1
call d:\dev\bin\android-sdk\tools\android.bat update project -p GameFeed/ -t 1
popd
pause
</pre><br>This should prep the Monkey project for compiling with OpenFient and Gamefeed (builds ant.properties, copies over the res folders and tells android about openfient libs)<br><br>Note the paths.. for me<br>d:/dev/project/project.build/android<br>d:/dev/bin/android-sdk<br>d:/dev/openfient/gamefeed<br>d:/dev/openfient/openfient<br><br>You may have to change the paths in the above batch file to accommodate the paths on your machine <br><br></td></tr></table><br>
<a name="2022039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> PS I have some kind of module... but its loaded with code for my projects and not really global for everyone (relies on my own modules that I dont want to release) <br><br></td></tr></table><br>
<a name="2022040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are awesome, Rich!<br><br>Well ok, let me see if I understand correctly. I just build everything with monkey, then I apply your script which runs fine.<br><br>After that I need to compile the project again I think? If I do so with Monkey I get:<br><br><pre class=code>

-build-setup:
     [echo] Building Libraries
Trying to override old definition of task setupERROR:
BUILD FAILED
D:\Programme\Android\android-sdk\tools\ant\build.xml:485: The following error occurred while executing this line:
D:\Projekte\oftest\of.build\android\OpenFeint\OpenFeintAPI\build.xml:65: 

Error. You are using an obsolete build.xml
You need to delete it and regenerate it using
	android update project


Total time: 0 seconds
ERROR:
</pre> <br><br></td></tr></table><br>
<a name="2022043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> My batch file:<br><br><pre class=code>
xcopy OpenFeint\OpenFeintAPI\res res /E /Y
xcopy OpenFeint\GameFeed\res res /E /Y

echo android.library.reference.1=OpenFeint/OpenFeintAPI/ &gt;ant.properties
echo android.library.reference.2=OpenFeint/GameFeed/ &gt;&gt;ant.properties
call D:\Programme\Android\android-sdk\tools\android.bat update project -p /

pushd OpenFeint
call D:\Programme\Android\android-sdk\tools\android.bat update project -p OpenFeintAPI/ -t 1
call D:\Programme\Android\android-sdk\tools\android.bat update project -p GameFeed/ -t 1
popd
pause</pre><br><br>output:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

./prepare.bat

D:\Projekte\oftest\of.build\android&gt;xcopy OpenFeint\OpenFeintAPI\res res /E /Y 
OpenFeint\OpenFeintAPI\res\drawable\frame_layout_shape.xml
OpenFeint\OpenFeintAPI\res\drawable\of_achievement_icon_frame.png
OpenFeint\OpenFeintAPI\res\drawable\of_achievement_icon_locked.png
OpenFeint\OpenFeintAPI\res\drawable\of_achievement_icon_unlocked.png
OpenFeint\OpenFeintAPI\res\drawable\of_achievement_notification_bkg.png
OpenFeint\OpenFeintAPI\res\drawable\of_achievement_notification_locked.png
OpenFeint\OpenFeintAPI\res\drawable\of_feint_points_white.png
OpenFeint\OpenFeintAPI\res\drawable\of_icon_dashboard_exit.png
OpenFeint\OpenFeintAPI\res\drawable\of_icon_dashboard_home.png
OpenFeint\OpenFeintAPI\res\drawable\of_icon_dashboard_settings.png
OpenFeint\OpenFeintAPI\res\drawable\of_icon_highscore_notification.png
OpenFeint\OpenFeintAPI\res\drawable\of_ll_logo.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_frame.9.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_leaf.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress.xml
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_01.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_02.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_03.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_04.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_05.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_06.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_07.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_08.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_09.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_10.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_11.png
OpenFeint\OpenFeintAPI\res\drawable\of_native_loader_progress_12.png
OpenFeint\OpenFeintAPI\res\drawable\of_notification_bkg.png
OpenFeint\OpenFeintAPI\res\drawable-hdpi\of_achievement_icon_frame.png
OpenFeint\OpenFeintAPI\res\drawable-hdpi\of_achievement_notification_bkg.png
OpenFeint\OpenFeintAPI\res\drawable-hdpi\of_achievement_notification_locked.png
OpenFeint\OpenFeintAPI\res\drawable-hdpi\of_icon_dashboard_exit.png
OpenFeint\OpenFeintAPI\res\drawable-hdpi\of_icon_dashboard_home.png
OpenFeint\OpenFeintAPI\res\drawable-hdpi\of_icon_dashboard_settings.png
OpenFeint\OpenFeintAPI\res\drawable-hdpi\of_notification_bkg.png
OpenFeint\OpenFeintAPI\res\layout\of_achievement_notification.xml
OpenFeint\OpenFeintAPI\res\layout\of_native_loader.xml
OpenFeint\OpenFeintAPI\res\layout\of_nested_window.xml
OpenFeint\OpenFeintAPI\res\layout\of_simple_notification.xml
OpenFeint\OpenFeintAPI\res\layout\of_two_line_notification.xml
OpenFeint\OpenFeintAPI\res\layout-xlarge\of_native_loader.xml
OpenFeint\OpenFeintAPI\res\layout-xlarge\of_nested_window.xml
OpenFeint\OpenFeintAPI\res\menu\of_dashboard.xml
OpenFeint\OpenFeintAPI\res\values\of_colors.xml
OpenFeint\OpenFeintAPI\res\values\of_strings.xml
OpenFeint\OpenFeintAPI\res\values\of_styles.xml
47 File(s) copied

D:\Projekte\oftest\of.build\android&gt;xcopy OpenFeint\GameFeed\res res /E /Y 
OpenFeint\GameFeed\res\drawable\ofadbadge.png
OpenFeint\GameFeed\res\drawable\ofgamebarachievementicon.png
OpenFeint\GameFeed\res\drawable\ofgamebarcelldividerlandscape.png
OpenFeint\GameFeed\res\drawable\ofgamebarcelldividerportrait.png
OpenFeint\GameFeed\res\drawable\ofgamebardeveloperannouncement.png
OpenFeint\GameFeed\res\drawable\ofgamebarlargedisclosure.png
OpenFeint\GameFeed\res\drawable\ofgamebarleaderboardsicon.png
OpenFeint\GameFeed\res\drawable\ofgamebaroffline.png
OpenFeint\GameFeed\res\drawable\ofgamebarparentalcontrolsicon.png
OpenFeint\GameFeed\res\drawable\ofgamebarprofileframe.png
OpenFeint\GameFeed\res\drawable\ofgamebarprofileframesmall.png
OpenFeint\GameFeed\res\drawable\ofgamebarprofileicon.png
OpenFeint\GameFeed\res\drawable\ofgamebarservererroricon.png
OpenFeint\GameFeed\res\drawable\ofgamebarsmalldisclosure.png
OpenFeint\GameFeed\res\drawable\ofgamebarstartopenfeint.png
OpenFeint\GameFeed\res\drawable\ofgamefeedbackgroundbottom.png
OpenFeint\GameFeed\res\drawable\ofgamefeedbackgroundbottomlandscape.png
OpenFeint\GameFeed\res\drawable\ofgamefeedbadgeicon.png
OpenFeint\GameFeed\res\drawable\ofgamefeedbadgeiconlandscape.png
OpenFeint\GameFeed\res\drawable\ofgamefeedviewbackgroundtoplandscape.png
OpenFeint\GameFeed\res\drawable\ofgamefeedviewbackgroundtopportrait.png
OpenFeint\GameFeed\res\drawable\ofgfihitlandscape.png
OpenFeint\GameFeed\res\drawable\ofgfihitportrait.png
OpenFeint\GameFeed\res\drawable\oflandscapeadbordercell.png
OpenFeint\GameFeed\res\drawable\ofportraitadbordercell.png
OpenFeint\GameFeed\res\drawable\ofregularfulllandscape.png
OpenFeint\GameFeed\res\drawable\ofregularfullportrait.png
OpenFeint\GameFeed\res\drawable\ofspinnergray.xml
OpenFeint\GameFeed\res\drawable\ofspinnergray01.png
OpenFeint\GameFeed\res\drawable\ofspinnergray02.png
OpenFeint\GameFeed\res\drawable\ofspinnergray03.png
OpenFeint\GameFeed\res\drawable\ofspinnergray04.png
OpenFeint\GameFeed\res\drawable\ofspinnergray05.png
OpenFeint\GameFeed\res\drawable\ofspinnergray06.png
OpenFeint\GameFeed\res\drawable\ofspinnergray07.png
OpenFeint\GameFeed\res\drawable\ofspinnergray08.png
OpenFeint\GameFeed\res\drawable\ofspinnergray09.png
OpenFeint\GameFeed\res\drawable\ofspinnergray10.png
OpenFeint\GameFeed\res\drawable\ofspinnergray11.png
OpenFeint\GameFeed\res\drawable\ofspinnergray12.png
OpenFeint\GameFeed\res\drawable-hdpi\ofadbadge.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarachievementicon.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarcelldividerlandscape.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarcelldividerportrait.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebardeveloperannouncement.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarlargedisclosure.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarleaderboardsicon.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebaroffline.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarparentalcontrolsicon.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarprofileframe.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarprofileframesmall.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarprofileicon.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarservererroricon.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarsmalldisclosure.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamebarstartopenfeint.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedbackgroundbottom.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedbackgroundbottomlandscape.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedbadgeicon.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedbadgeiconhit.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedbadgeiconlandscape.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedbadgeiconlandscapehit.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedviewbackgroundtoplandscape.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgamefeedviewbackgroundtopportrait.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgfihitlandscape.png
OpenFeint\GameFeed\res\drawable-hdpi\ofgfihitportrait.png
OpenFeint\GameFeed\res\drawable-hdpi\oflandscapeadbordercell.png
OpenFeint\GameFeed\res\drawable-hdpi\ofportraitadbordercell.png
OpenFeint\GameFeed\res\drawable-hdpi\ofregularfulllandscape.png
OpenFeint\GameFeed\res\drawable-hdpi\ofregularfullportrait.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofadbadge.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarachievementicon.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarcelldividerlandscape.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarcelldividerportrait.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebardeveloperannouncement.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarlargedisclosure.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarleaderboardsicon.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebaroffline.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarparentalcontrolsicon.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarprofileframe.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarprofileframesmall.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarprofileicon.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarservererroricon.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarsmalldisclosure.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamebarstartopenfeint.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamefeedbackgroundbottom.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamefeedbackgroundbottomlandscape.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamefeedbadgeicon.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamefeedbadgeiconlandscape.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamefeedviewbackgroundtoplandscape.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgamefeedviewbackgroundtopportrait.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgfihitlandscape.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofgfihitportrait.png
OpenFeint\GameFeed\res\drawable-xhdpi\oflandscapeadbordercell.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofportraitadbordercell.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofregularfulllandscape.png
OpenFeint\GameFeed\res\drawable-xhdpi\ofregularfullportrait.png
OpenFeint\GameFeed\res\layout\main.xml
OpenFeint\GameFeed\res\values\strings.xml
98 File(s) copied

D:\Projekte\oftest\of.build\android&gt;echo android.library.reference.1=OpenFeint/OpenFeintAPI/  1&gt;ant.properties 

D:\Projekte\oftest\of.build\android&gt;echo android.library.reference.2=OpenFeint/GameFeed/  1&gt;&gt;ant.properties 

D:\Projekte\oftest\of.build\android&gt;call D:\Programme\Android\android-sdk\tools\android.bat update project -p / 
Updated local.properties
Updated file D:\Projekte\oftest\of.build\android\proguard.cfg
It seems that there are sub-projects. If you want to update them
please use the --subprojects parameter.
Updated project.properties
Updated local.properties
Renamed build.properties to ant.properties
----------
build.xml: Failed to find version-tag string. File must be updated.
In order to not erase potential customizations, the file will not be automatically regenerated.
If no changes have been made to the file, delete it manually and run the command again.
If you have made customizations to the build process, the file must be manually updated.
It is recommended to:
        * Copy current file to a safe location.
        * Delete original file.
        * Run command again to generate a new file.
        * Port customizations to the new file, by looking at the new rules file
          located at &lt;SDK&gt;/tools/ant/build.xml
        * Update file to contain
              version-tag: custom
          to prevent file from being rewritten automatically by the SDK tools.
----------
Added file D:\Projekte\oftest\of.build\android\OpenFeint\OpenFeintAPI\proguard.cfg
Updated project.properties
Updated local.properties
No project name specified, using project folder name 'GameFeed'.
If you wish to change it, edit the first line of build.xml.
Added file D:\Projekte\oftest\of.build\android\OpenFeint\GameFeed\build.xml
Added file D:\Projekte\oftest\of.build\android\OpenFeint\GameFeed\proguard.cfg
Press any key to continue . . . 
</textarea> <br><br></td></tr></table><br>
<a name="2022042"></a>

<a name="2022041"></a>

<a name="2022044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and by the way: If I want to enable an OpenFeint application it says (within OpenFeint): <b>An error has occurred. a leaderboard or achievement must exist.</b><br><br>So how do I create a leaderboard? I just can't find it on their website... <br><br></td></tr></table><br>
<a name="2022045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... WTF?<br><br>Now I have a different error which is obvious:<br><br>In MonkeyGame.java line 3:<br><br><pre class=code>

//${PACKAGE_BEGIN}
package ;
//${PACKAGE_END}
</pre> <br><br></td></tr></table><br>
<a name="2022047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>2 things...<br><br>delete the build.xml from openfeint and gamefeed dirs and rerun the script.<br>It looks like your build.xml files need updating too.<br><pre class=code>
build.xml: Failed to find version-tag string. File must be updated.
In order to not erase potential customizations, the file will not be automatically regenerated.
If no changes have been made to the file, delete it manually and run the command again.
If you have made customizations to the build process, the file must be manually updated.
It is recommended to:
        * Copy current file to a safe location.
        * Delete original file.
        * Run command again to generate a new file.
        * Port customizations to the new file, by looking at the new rules file
          located at &lt;SDK&gt;/tools/ant/build.xml
        * Update file to contain
              version-tag: custom
          to prevent file from being rewritten automatically by the SDK tools.
----------
</pre><br><br>To create a leaderboard in OF<br>1) Create a gane/app<br>2) make sure its selected <br>3) Click on Features tab<br>4) Cliak on Leadreboards<br>5) Add a leaderboard (you can have multiple leaderboards per game)<br><br>Not sure what that java error is.. I've never seen it before, sorry <br><br></td></tr></table><br>
<a name="2022048"></a>

<a name="2022049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to clarify (again):<br><br>I have my project which I build with Monkey (which fails then of course).<br><br>AFTER that I run your script.<br><br>Then I build the project with Monkey again?<br><br>The warnings regarding the build.xml are gone after deleting them but the compile error remains:<br><br><pre class=code>-compile:
    [javac] Compiling 2 source files to D:\Projekte\oftest\of.build\android\bin\classes
    [javac] D:\Projekte\oftest\of.build\android\src\MonkeyGame.java:3: &lt;identifier&gt; expected
    [javac] package ;
    [javac]        ^
    [javac] 1 errorERROR:
BUILD FAILED
D:\Programme\Android\android-sdk\tools\ant\build.xml:602: The following error occurred while executing this line:
D:\Programme\Android\android-sdk\tools\ant\build.xml:622: Compile failed; see the compiler error output for details.
</pre><br><br>The error is simple. It just adds the line<br><br><pre class=code>
package ;
</pre><br><br>which can't be compiled because there is no such package (empty)... I just wonder where this come from.<br><br>Do you mind to post a zip of a complete example including the extensions.monkey and MPPNet.java files? I just tried the example from MonkeyPig above. <br><br></td></tr></table><br>
<a name="2022050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or to rephrase my question: If I only want to make a leaderboard for now, is it enough to add everything from the initial posting #1? <br><br></td></tr></table><br>
<a name="2022051"></a>

<a name="2022052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh guess what? Had a typo in your script!<br><br>Well ok, now I get the following error, lol:<br><br><pre class=code>
-compile:
    [javac] Compiling 135 source files to D:\Projekte\OpenFeint\OpenFeintAPI\bin\classes
    [javac] D:\Projekte\OpenFeint\OpenFeintAPI\src\com\openfeint\internal\Util.java:233: cannot find symbol
    [javac] symbol  : variable WRITE_EXTERNAL_STORAGE
    [javac] location: class android.Manifest.permission
    [javac]         return noPermission(Manifest.permission.WRITE_EXTERNAL_STORAGE, ctx);
    [javac]                                                ^
    [javac] D:\Projekte\OpenFeint\OpenFeintAPI\src\com\openfeint\internal\Util11.java:18: cannot find symbol
    [javac] symbol  : variable screenLayout
    [javac] location: class android.content.res.Configuration
    [javac]             return (ctx.getResources().getConfiguration().screenLayout &amp; mask) == mask;
    [javac]                                                          ^
    [javac] 2 errorsERROR:
BUILD FAILED
D:\Programme\Android\android-sdk\tools\ant\build.xml:485: The following error occurred while executing this line:
D:\Programme\Android\android-sdk\tools\ant\build.xml:602: The following error occurred while executing this line:
D:\Programme\Android\android-sdk\tools\ant\build.xml:622: Compile failed; see the compiler error output for details.

Total time: 4 seconds
ERROR:
</pre><br><br>Looks like some problem with the manifest? Don't know, here it is:<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="${APP_PACKAGE}"
	android:versionCode="7"
	android:versionName="1.0.6"
	android:installLocation="auto"&gt;
	&lt;supports-screens android:resizeable="false"
                    android:smallScreens="true"
                    android:normalScreens="true"
                    android:largeScreens="true"
                    android:anyDensity="true" /&gt;

 	&lt;uses-sdk 
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;

  &lt;uses-feature android:glEsVersion="0x00010001" /&gt;
	&lt;application android:label="${APP_LABEL}" android:icon="@drawable/icon"&gt;
		&lt;activity 
			android:name="MonkeyGame" 
			android:label="${APP_LABEL}"
			android:screenOrientation="${SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation"
			android:theme=\"@...;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
        &lt;activity
          android:name="com.openfeint.internal.ui.IntroFlow"
          android:label="IntroFlow"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity
          android:name="com.openfeint.api.ui.Dashboard"
          android:label="Dashboard"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.Settings"
          android:label="Settings"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.NativeBrowser"
          android:label="NativeBrowser"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
	&lt;/application&gt;
  &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
  &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
  &lt;uses-permission android:name="android.permission.GET_ACCOUNTS" /&gt;
  &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
&lt;/manifest&gt; 
</pre> <br><br></td></tr></table><br>
<a name="2022056"></a>

<a name="2022057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> I' not getting that error in java.util at all.. heres my manifest file..<br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"

	package="${APP_PACKAGE}"

	android:versionCode="11"
	android:versionName="3.23"
	android:installLocation="auto"&gt;

	&lt;uses-sdk
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;

	&lt;uses-feature android:glEsVersion="0x00010001" /&gt;

	&lt;application android:label="${APP_LABEL}" android:icon="@drawable/icon"&gt;
		&lt;activity
			android:name="MonkeyGame"
			android:label="${APP_LABEL}"
			android:screenOrientation="${SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation"
			android:theme=\"@...;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
	&lt;activity
          android:name="com.openfeint.internal.ui.IntroFlow"
          android:label="IntroFlow"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
         &lt;activity
          android:name="com.openfeint.api.ui.Dashboard"
          android:label="Dashboard"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.Settings"
          android:label="Settings"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
        &lt;activity android:name="com.openfeint.internal.ui.NativeBrowser"
          android:label="NativeBrowser"
          android:configChanges="orientation|keyboardHidden"
          android:theme="@style/OFNestedWindow"/&gt;
    &lt;activity android:name="com.google.ads.AdActivity"
              android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/&gt;
	      	&lt;/application&gt;
&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
&lt;uses-permission android:name="android.permission.GET_ACCOUNTS" /&gt;
&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
&lt;/manifest&gt;
</pre><br><br>maybe redownload the api from openfeint again. unless there is a new one and mine will crash. I will have a look.<br><br>PS setting up a leaderboard should be sufficient to use the code. <br><br></td></tr></table><br>
<a name="2022058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> checked download and I already have the latest <br><br></td></tr></table><br>
<a name="2022059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rich thanks,<br><br>Just to clarify (again):<br><br>I have my project which I build with Monkey (which fails then of course).<br><br>AFTER that I run your script.<br><br>Then I build the project with Monkey again?<br><br>As there are so many changes in this thread:  If I only want to make a leaderboard for now, is it enough to add everything from the initial posting #1? <br><br></td></tr></table><br>
<a name="2022061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes.. build the project (which will fail) and then run the script which should then setup your ant.properties and extra stuff.<br>Compile your project again (and it should compile)<br><br>All the stuff in post #1 should still be valid.<br>there maybe more imports for MPPNet.android.java. Heres my import... (not all the code as it wont work for you)<br><br><pre class=code>
import java.util.HashMap;
import java.util.List;
import java.util.Map;

import com.openfeint.api.OpenFeint;
import com.openfeint.api.OpenFeintDelegate;
import com.openfeint.api.OpenFeintSettings;
import com.openfeint.api.resource.Achievement;
import com.openfeint.api.resource.Leaderboard;
import com.openfeint.api.resource.Score;
import com.openfeint.api.ui.Dashboard;
import com.openfeint.internal.OpenFeintInternal;

//
// Game Feed Stuff
import com.openfeint.gamefeed.GameFeedSettings;
import com.openfeint.gamefeed.GameFeedView;

import android.app.Activity;
import android.content.Intent;
import android.graphics.Bitmap;
import android.graphics.BitmapFactory;
import android.graphics.drawable.BitmapDrawable;
import android.graphics.drawable.Drawable;
import android.os.Bundle;
import android.view.View;
import android.view.ViewGroup;
import android.view.animation.Animation;
import android.view.animation.TranslateAnimation;
import android.widget.FrameLayout;
import android.widget.HorizontalScrollView;
import android.widget.LinearLayout;
import android.widget.RelativeLayout;

import android.widget.Toast; // Used for presenting diagnostic messages.
</pre> <br><br></td></tr></table><br>
<a name="2022062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, got one problem solved.<br><br>My problem was that in the project.properties from Monkey the android target is set to 13 BUT the OpenFeint project.properties target is set to 3.<br><br>So I set the project.properties of OpenFeint to 13 as well so that it looks like:<br><br><pre class=code>
# Project target.
target=android-13
</pre><br><br>This has to be done for both OpenFeint/GameFeed/project.properties and OpenFeint/OpenFeintAPI/project.properties.<br><br>As I've installed the complete Android SDK (including target 3 and 13) there might be some issues with mixed targets which probably don't pop up if you have only one target installed. <br><br></td></tr></table><br>
<a name="2022063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Compile error again...<br><br><pre class=code>
package ;
</pre><br><br>I don't know... AAAAAAAH. Will try a fresh clean install of everything. <br><br></td></tr></table><br>
<a name="2022064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rich, can you please tell me which Android SDK (targets) you have installed and what JDK version? Thanks. <br><br></td></tr></table><br>
<a name="2022066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like something goes wrong with the package creation.<br><br>Usually you have something like project/test.build/android/src/com/monkey/MonkeyGame.java<br><br>The first lines in MonkeyGame.java should look like:<br><pre class=code>
//${PACKAGE_BEGIN}
package com.monkey;
//${PACKAGE_END}
</pre><br><br>BUT, my folder structure for the Openfeint test look like project/test.build/android/src/MonkeyGame.java<br><br>with:<br><pre class=code>
//${PACKAGE_BEGIN}
package ;
//${PACKAGE_END}
</pre><br><br>It's clear that the APP_PACKAGE variable don't make it into the final build due to reasons beyond my imagination. Did a clear install of everything beside the Android SDK itself. <br><br></td></tr></table><br>
<a name="2022065"></a>

<a name="2022068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rich, would you be so kind to test this small project on your side? No need to run it but does it compile?<br><br><a href="http://www.xaron.net/dl/monkey/oftest.zip" target="_blank">http://www.xaron.net/dl/monkey/oftest.zip</a><br><br>Thanks! <br><br></td></tr></table><br>
<a name="2022067"></a>

<a name="2022069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> good news is that it compiled fine...<br>so it must be something in your set up. <br><br></td></tr></table><br>
<a name="2022073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for letting me know. Have you used Monkey 52f? <br><br></td></tr></table><br>
<a name="2022075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> work in v51<br><br>in v52f I get this error..<br><pre class=code>
-setup:
     [echo] Gathering info for MonkeyGame...
    [setup] Android SDK Tools Revision 15
    [setup] Project Target: Android 3.2
    [setup] API level: 13
    [setup] 
    [setup] ------------------
    [setup] Resolving library dependencies:
    [setup] D:\dev\of2\of.build\android: ../../../OpenFeint/OpenFeintAPI/  =&gt; D:\dev\OpenFeint\OpenFeintAPI\
    [setup] D:\dev\of2\of.build\android: ../../../OpenFeint/GameFeed/  =&gt; D:\dev\OpenFeint\GameFeed\
    [setup] D:\dev\OpenFeint\GameFeed\: ../OpenFeintAPI =&gt; D:\dev\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] Ordered libraries:
    [setup] D:\dev\OpenFeint\OpenFeintAPI\
    [setup] D:\dev\OpenFeint\GameFeed\
    [setup] D:\dev\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] 
BUILD FAILED
d:\dev\bin\android-sdk\tools\ant\build.xml:421: Application package '' must have a minimum of 2 segments.
Total time: 0 seconds
TRANS FAILED: Android build failed.
</pre> <br><br></td></tr></table><br>
<a name="2022088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rich, will try it with V51 and later with the brand new V53. I guess V53 won't work as well because of this new introduced config stuff. I'll check this out and contact Mark about this issue. <br><br></td></tr></table><br>
<a name="2022089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, get the same error with V53:<br><br><pre class=code>
-setup:
     [echo] Gathering info for MonkeyGame...
    [setup] Android SDK Tools Revision 16
    [setup] Project Target: Android 3.2
    [setup] API level: 13
    [setup] 
    [setup] ------------------
    [setup] Resolving library dependencies:
    [setup] D:\Projekte\oftest\of.build\android: ../../../OpenFeint/OpenFeintAPI/  =&gt; D:\Projekte\OpenFeint\OpenFeintAPI\
    [setup] D:\Projekte\oftest\of.build\android: ../../../OpenFeint/GameFeed/  =&gt; D:\Projekte\OpenFeint\GameFeed\
    [setup] D:\Projekte\OpenFeint\GameFeed\: ../OpenFeintAPI =&gt; D:\Projekte\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] Ordered libraries:
    [setup] D:\Projekte\OpenFeint\OpenFeintAPI\
ERROR:
BUILD FAILED
D:\Programme\Android\android-sdk\tools\ant\build.xml:440: Application package '' must have a minimum of 2 segments.

Total time: 0 seconds    [setup] D:Projekte\OpenFeint\GameFeed\
    [setup] D:\Projekte\OpenFeint\OpenFeintAPI
    [setup] ------------------
    [setup] 
</pre> <br><br></td></tr></table><br>
<a name="2022092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, nailed it down.<br><br>Looks like the app variables from Monkey don't make it into the manifest.<br><br>This is how my manifest looks like after compiling (and before applying your script which doesn't have an effect on the manifest at all):<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package=""
	android:versionCode="7"
	android:versionName="1.0.6"
	android:installLocation="auto"&gt;

...

	&lt;application android:label="" android:icon="@drawable/icon"&gt;
		&lt;activity 
			android:name="MonkeyGame" 
			android:label=""
			android:screenOrientation=""
			android:configChanges="keyboardHidden|orientation"
...

&lt;/manifest&gt; 
</pre><br><br>I just copied the relevant parts.<br><br>Look at: <b>package=""</b> and <b>android:screenOrientation=""</b><br><br>Both had Monkey variables in namely <b>${APP_PACKAGE}</b> and <b>${SCREEN_ORIENTATION}</b><br><br>If you replace them in your monkey/targets manifest everything should work. Don't know what goes wrong here...<br><br><br>ARRRRRRR... my fault. Mark has change the names. LOL<br><br>Should be: <b>${ANDROID_APP_PACKAGE}</b> and <b>${ANDROID_SCREEN_ORIENTATION}</b> <br><br></td></tr></table><br>
<a name="2022090"></a>

<a name="2022091"></a>

<a name="2022094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works, it works, with V53! YAY! Thanks Rich for your help!<br><br>So this is how the AndroidManifest should look like:<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
  package="${ANDROID_APP_PACKAGE}"
  android:versionCode="7"
  android:versionName="1.0.6"
  android:installLocation="auto"&gt;
  &lt;supports-screens android:resizeable="false"
                    android:smallScreens="true"
                    android:normalScreens="true"
                    android:largeScreens="true"
                    android:anyDensity="true" /&gt;

  &lt;uses-sdk 
    android:minSdkVersion="3"
    android:targetSdkVersion="7" /&gt;

  &lt;uses-feature android:glEsVersion="0x00010001" /&gt;
  &lt;application android:label="${ANDROID_APP_LABEL}" android:icon="@drawable/icon"&gt;
    &lt;activity 
      android:name="MonkeyGame" 
      android:label="${ANDROID_APP_LABEL}"
      android:screenOrientation="${ANDROID_SCREEN_ORIENTATION}"
      android:configChanges="keyboardHidden|orientation"
      android:theme=\"@...;
      &lt;intent-filter&gt;
        &lt;action android:name="android.intent.action.MAIN" /&gt;
        &lt;category android:name="android.intent.category.LAUNCHER" /&gt;
      &lt;/intent-filter&gt;
    &lt;/activity&gt;
    &lt;activity
      android:name="com.openfeint.internal.ui.IntroFlow"
      android:label="IntroFlow"
      android:configChanges="orientation|keyboardHidden"
      android:theme="@style/OFNestedWindow"/&gt;
    &lt;activity
      android:name="com.openfeint.api.ui.Dashboard"
      android:label="Dashboard"
      android:configChanges="orientation|keyboardHidden"
      android:theme="@style/OFNestedWindow"/&gt;
    &lt;activity android:name="com.openfeint.internal.ui.Settings"
      android:label="Settings"
      android:configChanges="orientation|keyboardHidden"
      android:theme="@style/OFNestedWindow"/&gt;
    &lt;activity android:name="com.openfeint.internal.ui.NativeBrowser"
      android:label="NativeBrowser"
      android:configChanges="orientation|keyboardHidden"
      android:theme="@style/OFNestedWindow"/&gt;
  &lt;/application&gt;
  &lt;uses-permission android:name="android.permission.INTERNET" /&gt;
  &lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
  &lt;uses-permission android:name="android.permission.GET_ACCOUNTS" /&gt;
  &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
&lt;/manifest&gt; 
</pre> <br><br></td></tr></table><br>
<a name="2022093"></a>

<a name="2022105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very interesting.<br><br>Have you looked into turn-based multiplayer for OpenFeint? It seems they have taken it down from their site.<br><br>Are any of you thinking about making an iOS version? <br><br></td></tr></table><br>
<a name="2022107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, I'll do an iOS version. <br><br></td></tr></table><br>
<a name="2022108"></a>

<a name="2022109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yep, I'll do an iOS version. <br></div><br>Super! <br><br></td></tr></table><br>
<a name="2022113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pantson,<br><br>I've not messed with any of this OpenFeint stuff for months as I was busy doing some other projects. I've also been missing around with an Android project (in Monkey - with bits of Native UI) and I found the manifest and the playing with layout stuff to be a major PITA whenever I was trying to do a clean build. Unless I'm missing something obvious the Android build process is kinda broken when you start trying to integrate with Layouts and various other Resources.<br><br>Did you get the GamerFeed stuff working? <br><br></td></tr></table><br>
<a name="2022127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MonkeyPig<br>Yeah I did get it working. I had to play with your code and my main.xml..<br><pre class=code>
        public static void GameFeed()
	{
                System.out.println("GAMEFEED-&gt;getIntent()");
                Intent i = MonkeyGame.activity.getIntent();


                // Alignment:
                boolean top = i.getBooleanExtra("com.openfeint.example.GameFeedPage.top", false);
                //gameFeedSettings.put(GameFeedSettings.Alignment, (top ? GameFeedSettings.AlignmentType.TOP : GameFeedSettings.AlignmentType.BOTTOM));
                gameFeedSettings.put(GameFeedSettings.Alignment, GameFeedSettings.AlignmentType.TOP);

                // Animation:
                boolean animated = i.getBooleanExtra("com.openfeint.example.GameFeedPage.animated", false);
                gameFeedSettings.put(GameFeedSettings.AnimateIn, animated);

                // Custom assets:
                boolean custom = false; //i.getBooleanExtra("com.openfeint.example.GameFeedPage.custom", false);

                System.out.println("GAMEFEED-&gt;gameFeedSettings");
                String layoutType = i.getStringExtra("com.openfeint.example.GameFeedPage.layout_type");

                 System.out.println("GAMEFEED-&gt;setContentView");

                gameFeedView = new GameFeedView(MonkeyGame.activity, gameFeedSettings);
                System.out.println("gameFeedView="+gameFeedView);

                int layoutId;
                layoutId = R.layout.main;
                //layoutId = R.layout.gamefeed_layout_linear;
                //layoutId = R.layout.gamefeed_monkey;
 //               MonkeyGame.activity.setContentView(layoutId);

//View  monkeyView = null;

// FIND VIEW from main.xml- pantson
                View monkeyView = MonkeyGame.activity.findViewById( R.id.gamefeedView );
                System.out.println("monkeyView="+monkeyView);

                if (monkeyView!=null)
                {
                    gameFeedView.addToLayout( monkeyView );
                    System.out.println("GAMEFEED-&gt;addToLayout");
                }

                // TODO: Need to figure out how to get at the savedInstanceState from MonkeyGame...
                //visible = (MonkeyGame.savedInstanceState != null) ? MonkeyGame.savedInstanceState.getBoolean(FEED_VISIBLE, true) : true;
                visible=true;
                //gameFeedView.show();
                System.out.println("GAMEFEED-&gt;show");

                System.out.println("GAMEFEED-&gt;complete");
        }
</pre><br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
	xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"
	android:layout_width="fill_parent"
	android:layout_height="fill_parent"
	android:orientation="vertical" &gt;

	&lt;view class="${APP_PACKAGE}.MonkeyGame$MonkeyView"
    		android:id="@+id/monkeyview"
		android:keepScreenOn="true"
  		android:layout_width="fill_parent"
		android:layout_height="fill_parent"
		/&gt;


		&lt;LinearLayout
			android:layout_width="fill_parent"
			android:layout_height="76px"
			android:orientation="vertical"
		 	android:id="@+id/gamefeedView"&gt;
		&lt;/LinearLayout&gt;

&lt;/RelativeLayout&gt;
</pre><br><br>I hope that helps... <br><br></td></tr></table><br>
<a name="2022130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Xaron.. great work! <br>I'll look forward to an iOS version too <br><br></td></tr></table><br>
<a name="2022133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I've not messed with any of this OpenFeint stuff for months as I was busy doing some other projects. I've also been missing around with an Android project (in Monkey - with bits of Native UI) and I found the manifest and the playing with layout stuff to be a major PITA whenever I was trying to do a clean build. Unless I'm missing something obvious the Android build process is kinda broken when you start trying to integrate with Layouts and various other Resources.<br> <br></div><br>yeah.. Monkey IMO isn't designed for Native UI stuff. Its great at creating one view and then processing all gfx in that view acting like a portal for monkey. Once you start to add buttons and views using native UI to cater for external libs it all gets very complicated.<br><br>I'm currently writing a movie module for Monkey and finding it very difficult to get consistent results as views are hidden behind each other. <br><br></td></tr></table><br>
<a name="2022147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> I managed to get quite a bit of the Android GUI going on top of the MonkeyView - nothing complicated just buttons, images, textviews and editviews. Switched to a RelativeLayout and switch UI elements on/off as I need them to simulate multiple layouts. Ideally these would be individual Layouts but I didn't get that working in the time I had allotted. Getting Monkey to talk balk &amp; forth was surprisingly straightforward.<br><br>Good luck with the Movie Module. <br><br></td></tr></table><br>
<a name="2022326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did anyone manage to make a module out of this yet?<br><br>I want to try getting OpenFeint to work with my games but this is really hard to follow. Could anyone give a clear direction of the steps please? :) <br><br></td></tr></table><br>
<a name="2022379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPig</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's trivial to make a module out of the Monkey side of things. Unfortunately - there's no easy way to add the libraries and edit the manifest. As far as I'm aware you need to edit all of the files manually and also follow the OpenFeint installation instructions too.<br><br>Also - as far as I'm aware - there is no way to make Monkey install all of the OpenFeint resource files either. You need to manually copy them.<br><br>Of course - it's been months since I looked at this. Pantson or someone else may have come up with a better solution by now and the latest versions of Monkey do have some extra config options that may help. <br><br></td></tr></table><br>
<a name="2022418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> MonkeyPig is right... the module itself is quite simple, but it doens't prep the project for you..<br><br>- Tell Ant about the lib<br>- Alter the main.xml<br>- Alter the AndroidManifest.xml<br><br>The above has to be done manually but only once for each project. I'm unaware of anything in the new version to do this for you... <br><br></td></tr></table><br>
<a name="2022477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I will give it a try once I get my new phone. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
