<!DOCTYPE html><html lang="en" ><head ><title >Android TV - What is required? [SOLVED]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Android TV - What is required? [SOLVED]</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Android TV - What is required? [SOLVED]</a><br><br>
<a name="2116452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All<br><br>I'd like to look into making an app with monkey-x for Android TV.<br>Has anybody looked into this?<br><br>I'm using mojo2, if that makes a difference.<br><br>[EDIT]: I've got this solved, using the android_new target with a few tweeks.<br><br>I can do a write-up if anybody is interested. <br><br></td></tr></table><br>
<a name="2116451"></a>

<a name="2116251"></a>

<a name="2116252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm currently watching <a href="https://www.youtube.com/watch?v=Gid6c_-80EM&amp;feature=youtu.be&amp;list=PL5B692fm6--uxqRvGL6eEu898_9lUi-_y" target="_blank">https://www.youtube.com/watch?v=Gid6c_-80EM&amp;feature=youtu.be&amp;list=PL5B692fm6--uxqRvGL6eEu898_9lUi-_y</a> <br><br></td></tr></table><br>
<a name="2116259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> This "should" work.<br><a href="http://www.monkey-x.com/Community/posts.php?topic=10262" target="_blank">NewYA Target : Linkage</a><br><br>I've got it working on OUYA, Razer Forge, PlayJam GameStick and a few other bits and pieces, but haven't yet tested on a "standard" Android TV device.<br>It also doesn't deal with any marketplaces, purchases, adverts or anything else.  It's basically a case of "the controller works, that's good enough for my Freeware games." <br><br></td></tr></table><br>
<a name="2116261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ElectricBoogaloo Wonderfull! I'll check it out <br><br></td></tr></table><br>
<a name="2116456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've tried some of your Android TV apk's on my Nvidia Shield Android TV. <br>They install without problems, but are only accesable via the "sideload launcher" app and dont't show up as Native TV aps in the TV GUI.<br>The mapping of the XABY buttons are different from other Android TV Apps, but maybe that's just your choice? <br><br></td></tr></table><br>
<a name="2116333"></a>

<a name="2116369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The wonderful world of Android Fragmentation! <br><br></td></tr></table><br>
<a name="2116453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've got this solved, using the android_new target with a few tweeks.<br><br>I can do a write-up if anybody is interested. <br><br></td></tr></table><br>
<a name="2116454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You got it running on NVidia Shield TV? <br><br></td></tr></table><br>
<a name="2116455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes :-) <br><br></td></tr></table><br>
<a name="2116463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! Do a write up please! <br><br></td></tr></table><br>
<a name="2116500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here are instructions, on getting your app onto the Nvidia Shield Android TV<br><br>Get the Nividia Shield Android TV ready for development<br><br>1) Press Build numer in system info 7 times, until you are promted the developper mode has been avtivated<br>2) Enable unknow sources<br>3) Enable USB debugging, and network debugging<br>4) Instal Nvidia Shield USB drivers on your computer<br>5) Connect NV via USB, and on the NV, accept the computer as a trusted device, make sure you "remeber this setting"<br>6) From a command promt, type "adb devices" on your PC/Mac to check you are connected<br>7) Optionally remove the USB cable and connect via network: "adb connect xxx.xxx.xxx.xxx (the ip is shown in developper settings on the NV)<br><br><br>Monkey<br><br><br>1) In your monkey code, have ( it will work without, as long as you dont make it portrait only)<br>#ANDROID_GAMEPAD_ENABLED=True<br>#ANDROID_SCREEN_ORIENTATION="landscape" <br><br><br>2) Build your project once for android, to create a build folder, - then edit the following in it:<br>3) In the "android_new\templates\res" folder, make a new folder called "drawable-nodpi"<br>4) Put an 320x180 PNG image with the name "banner.png" in the folder (you can choose another name, but then rename ref in "AndroidManifest.xml" too)<br><br>5) Add the following line to "android_new\templates\ant.properties"<br>	target=android-21<br><br>	6) Replace "android_new\templates\AndroidManifest.xml" with: <br>	<br>	<textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	&lt;?xml version="1.0" encoding="utf-8"?&gt;

&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="${ANDROID_APP_PACKAGE}"
	android:versionCode="${ANDROID_VERSION_CODE}"
	android:versionName="${ANDROID_VERSION_NAME}"
	android:installLocation="auto"&gt;
	
	&lt;uses-sdk android:minSdkVersion="21" android:targetSdkVersion="21" /&gt;
	
	&lt;uses-feature android:glEsVersion="0x00010001" /&gt;

	&lt;uses-feature android:name="android.software.leanback" android:required="false"/&gt;

	&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
	&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE" /&gt;
	&lt;uses-permission android:name="android.permission.READ_EXTERNAL_STORAGE" /&gt;
	&lt;uses-permission android:name="android.permission.WRITE_EXTERNAL_STORAGE" /&gt;
	&lt;uses-permission android:name="com.android.vending.BILLING" /&gt;

	${ANDROID_MANIFEST_MAIN}
		
	&lt;application android:label="${ANDROID_APP_LABEL}" android:icon="@drawable/icon" android:banner="@drawable/banner"&gt;
	
		&lt;activity 
			android:name="MonkeyGame"
			android:label="${ANDROID_APP_LABEL}"
			android:screenOrientation="${ANDROID_SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation|screenSize"
			android:theme=\"@..."
			android:launchMode="singleTop"&gt;
			
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
				&lt;category android:name="android.intent.category.LEANBACK_LAUNCHER" /&gt;
			&lt;/intent-filter&gt;

			${ANDROID_MANIFEST_ACTIVITY}
			
		&lt;/activity&gt;
		
		${ANDROID_MANIFEST_APPLICATION}
		
	&lt;/application&gt;
&lt;/manifest&gt; 
          
	</textarea><br>	<br>	You can now deploy and run your app on the NV Android TV, and will show up in the leanback launcher. <br><br></td></tr></table><br>
<a name="2116499"></a>

<a name="2116498"></a>

<a name="2116497"></a>

<a name="2116496"></a>

<a name="2116495"></a>

<a name="2116494"></a>

<a name="2116493"></a>

<a name="2116526"></a>

<a name="2116527"></a>

<a name="2116529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added a ""bug" report for missing "center" button constant handling, on android gamepads here: <a href="http://www.monkey-x.com/Community/posts.php?topic=10387&amp;post=116525" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=10387&amp;post=116525</a><br><br>Besides that, I get signals form all buttons on the gamepad, and the remote, EXCEPT the dpad on the Nvidia Shield Controller. It does not seem to come as a getKeyCode() events. Can anybody shed some light on this?<br><br>[EDIT] : Found it! Dpad comes in as Joystick HAT_X, Y <br><br><a href="http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_HAT_X" target="_blank">http://developer.android.com/reference/android/view/MotionEvent.html#AXIS_HAT_X</a><br><br>I'll add this to my request <br><br></td></tr></table><br>
<a name="2116540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, thanks for this!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
