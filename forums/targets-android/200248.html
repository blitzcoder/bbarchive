<!DOCTYPE html><html lang="en" ><head ><title >Android audio</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Android audio</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Android audio</a><br><br>
<a name="2001520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Is android audio puasing correctly when user suspends up by clicking home button? This is with latest V31.<br><br>It works fine here with the 'audiotest' demo in samples, but someone said it didn't...? <br><br></td></tr></table><br>
<a name="2001526"></a>

<a name="2001529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>I built my newest Monkey game Invaders using v31 and it does continue to play after pressing the home button.<br><br>You can download the apk here to test:<br><a href="http://www.therevillsgames.com/monkey/invaders/" target="_blank">http://www.therevillsgames.com/monkey/invaders/</a><br><br>[Edit: Just had a thought... do we actually have to code the stuff to stop within the OnSuspend events or does Monkey automatically does this for us? ] <br><br></td></tr></table><br>
<a name="2001553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the app should only know it's in OnSuspend mode, but do nothing else. If I make some background music player, it should be able to play sounds and draw on a transparent canvas when the user hits the Home button. <br><br></td></tr></table><br>
<a name="2001556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; I built my newest Monkey game Invaders using v31 and it does continue to play after pressing the home button.<br><br>Would you mind emailing me the source/media?<br><br>And this is on a Samsung Galaxy S? <br><br></td></tr></table><br>
<a name="2001563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills<br>I downloaded your apk, but my Galaxy S refuses to install it. Weird, I havent had problem installing any of my own apk before.<br><br>@Mark<br>I compiled your audiotest from the monkey samples and installed on my phone. All modes from menu (key 1-7) play. Using key 7 (loopsound) the sound stop when I hit the home key.<br><br>However I cant play my own ogg files. Do you use some custom config for your ogg files?<br>Is there any reason (relatetd to audio) you are setting "SetUpdateRate" low as 15? <br><br></td></tr></table><br>
<a name="2001566"></a>

<a name="2001567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sent to your gmail account Mark.<br><br>Nope my Android phone is the LG Optimus One P500. Also tested on the Nexus One which also continues the sounds/game when the Home key is pressed.<br><br>@Virtech - What error did you get? <br><br></td></tr></table><br>
<a name="2001564"></a>

<a name="2001565"></a>

<a name="2001568"></a>

<a name="2001569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; What error did you get?<br><br>Simply a screen telling the apk was not installed. I tryed several times. <br><br></td></tr></table><br>
<a name="2001573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you got Unknown sources ticked in Settings &gt; Applications ? <br><br></td></tr></table><br>
<a name="2001574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I have 'usb-debug-mode' &amp; 'unknown-sources' ticked.<br><br>I noted your apk dont have -debug appended to the filename. When I compile for Android (from Jungle IDE) I always get -debug in the filename. Regardless if I set release or debug. Did you just rename your apk? <br><br></td></tr></table><br>
<a name="2001577"></a>

<a name="2001578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep I renamed it. How are you installing tha apk?<br><br>When Samah installed it he used the adb.exe:<br><br>Go to here in CMD:<br><br>C:\Program Files (x86)\Android\android-sdk\platform-tools<br><br>Type:<br><br>adb install MonkeyGame.apk<br><br>(You might have to copy MonkeyGame.apk to the same folder) <br><br></td></tr></table><br>
<a name="2001579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its a very straighforward procedure.<br><br>- usb cable<br>- transfer the apk to a folder on the sdcard<br>- disconnect usb link<br>- on the phone: browse to the apk file<br>- touch the apk file to start install<br>- open (start) the installed apk <br><br></td></tr></table><br>
<a name="2001580"></a>

<a name="2001582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you try using the adb.exe?<br><br>Also do you have another MonkeyGame.apk installed on your phone? (If so, can you uninstall it and try again). <br><br></td></tr></table><br>
<a name="2001583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tryed using the adb method. Thanks for the tip! That was an even easyer way of installing the apk :)<br><br>And now your game works on my phone. But its strange it didnt the way I usually do it.<br><br>Do you know if the adb method also works over wifi?<br><br>About the sound. Yes I can still hear explosion sounds after I hit the HOME key. So there is definitely a difference in behaviour relative to how you install the apk on the phone. <br><br></td></tr></table><br>
<a name="2001690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> The audiotest sound stops when suspended on my HTC Desire. <br><br></td></tr></table><br>
<a name="2001692"></a>

<a name="2001693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see any code which stops the sounds in audiotest. It should not stop playing sounds if it's not explicitely wanted by the programmer.<br><br>Somekind of a IsSuspended() function would be enough, then the programmer can choose if he wants to stop the sounds, which is usually the case for games, or if he wants to keep the sounds playing when the user presses the home button, which is good for music players.<br><br>The Android home button is exactly the same as the Show Desktop button in Windows, it should only defocus (=IsSuspended()=true) the apps, but not do anything else.<br><br>On my Android emulator it stops the sound when I press the home button, which is bad. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
