<!DOCTYPE html><html lang="en" ><head ><title >Problems compiling for Android on Mac</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problems compiling for Android on Mac</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Problems compiling for Android on Mac</a><br><br>
<a name="2029269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi. I've set up Monkey to compile for Android on my Mac and the ANDROID_PATH setting is pointing at the correct location for the Android SDK I've downloaded, but I'm getting the following error:<br><br><pre class=code>TRANS FAILED: TRANS Failed to execute 'adb start-server', return code=32512
sh: adb: command not found</pre><br><br>Can anyone tell me what I need to do to get compile to work? I have a tablet connected to my Macbook for the app to be compiled to. <br><br></td></tr></table><br>
<a name="2029274"></a>

<a name="2029275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I havent actually used a Mac to compile for Android, but that looks like it can't find the Android SDK Tools.<br><br>A quick Google:<br><br><a href="http://stackoverflow.com/questions/7609270/not-able-to-access-adb-in-os-x-through-terminal-command-not-found" target="_blank">http://stackoverflow.com/questions/7609270/not-able-to-access-adb-in-os-x-through-terminal-command-not-found</a> <br><br></td></tr></table><br>
<a name="2029280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Figured out that the SDK needed to be compiled, but now there is another error coming up:<br><br><pre class=code>The Android Ant-based build system requires Ant 1.8.0 or later. Current version is 1.7.1</pre><br><br>I've tried to find out how to update Ant, but no luck so far. <br><br></td></tr></table><br>
<a name="2029294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> start the ANDROID tool in the TOOLS folder. It will show you what to update and what to install. Using Android on OSX with Monkey is a piece of cake. <br><br></td></tr></table><br>
<a name="2029304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used the Android tool in the tools folder and it was great how it automatically downloaded all of the files, but it doesn't update Ant - and I don't know where this is meant to be updated. <br><br></td></tr></table><br>
<a name="2029320"></a>

<a name="2029321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matt</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> what do you get from this?<br><pre class=code>$ whereis ant</pre><br>and this?<br><pre class=code>$ /path/shown/in/above/output/to/ant -version</pre><br>and this?<br><pre class=code>$ echo $PATH</pre><br><br>Ant comes with OS X as default, but you may have a second/older copy being caught sooner than the proper one <br><br></td></tr></table><br>
<a name="2029336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Matt. You posted exactly what I've been looking at all day. I installed a new version of Ant, but it was still using an old version. However, I installed the latest update of Mac OS 10.6 and Java for Mac OS and this solves the problem. However, the next error is as follows:<br><br><pre class=code>error: device offline
BUILD FAILED</pre><br><br>I've attached my Android device to my Mac and have set USB debugging on, so not sure why it fails.<br><br>I've got the app working with an emulator, but not real devices.<br><br>**NOTE TO MARK SIBLY*** You should update the instructions to:<br><br>* Show how to build the Android SDK on Mac OS - it's not clear that you have to select the Android tool in the tools folder from the instructions provided; I only found this out because I checked the readme file.<br><br>* Ensure that the user is using the latest version of Java for Mac OS - older versions of Mac OS come with Ant 1.7.1, which doesn't work with Monkey. The latest version of Java for Mac OS comes with Ant 1.8 and solves the problem - although users also need to have Mac OS 10.6.8 to install the new version. <br><br></td></tr></table><br>
<a name="2029331"></a>

<a name="2029330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Matt. You posted exactly what I've been looking at all day. I installed a new version of Ant, but it was still using an old version. However, I installed the latest update of Mac OS 10.6 and Java for Mac OS and this solves the problem. However, the next error is as follows:<br><br><pre class=code>error: device offline
BUILD FAILED</pre><br><br>I've attached my Android device to my Mac and have set USB debugging on, so not sure why it fails.<br><br>I've got the app working with an emulator, but not real devices. Also, the app fails to work (just shows a blank screen) when compiling for Android 2.2. - can Monkey compile for this? The same thing happens when compiling for iOS - any suggestions?<br><br>**NOTE TO MARK SIBLY*** You should update the instructions to:<br><br>* Show how to build the Android SDK on Mac OS - it's not clear that you have to select the Android tool in the tools folder from the instructions provided; I only found this out because I checked the readme file.<br><br>* Ensure that the user is using the latest version of Java for Mac OS - older versions of Mac OS come with Ant 1.7.1, which doesn't work with Monkey. The latest version of Java for Mac OS comes with Ant 1.8 and solves the problem - although users also need to have Mac OS 10.6.8 to install the new version. <br><br></td></tr></table><br>
<a name="2029324"></a>

<a name="2029323"></a>

<a name="2029335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just an update - some strange things happen when compiling for Android:<br><br>* Apps compile to my phone (HTC Desire) without a problem - even though it says the transfer failed,  they appear ok.<br><br>* Apps don't appear at all on my tablet (Arnova 9 G2), but they work fine if you manually transfer them with an SD card.<br><br>Thanks for all the advice everyone - who would have guessed compiling for Android would be so awkward! <br><br></td></tr></table><br>
<a name="2029356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> wait a sec, I can compile android on mac? <br><br></td></tr></table><br>
<a name="2029373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it was tricky to set up, but I got there in the end. Make sure you have the latest version of Java installed. You will need to have at least Mac OS 10.6.8 to do this - or you can try to manually install Ant 1.8 or later on older Mac OS, but it was to difficult to do that for me.<br><br>Here's the link you will want:<br><br><a href="http://support.apple.com/kb/DL1516" target="_blank">http://support.apple.com/kb/DL1516</a> <br><br></td></tr></table><br>
<a name="2029651"></a>

<a name="2029652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you managed to get the emulator running? After much playing I realised I needed to use one, (found a tutorial to set a device up) and that it needs to be open when compiling code. The app starts but I get a com.monkeygame error as soon as it starts.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="2029656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I never had any problem getting the emulator running. You don't need the emulator running to build the app - I've just been hitting build and the appear in the builds/android/bin/monkeygame-debug.api . You can transfer by using a file manager app on Android or transfer via web download. Do you know if it builds? It gives an error to say device not found, but still builds the app. <br><br></td></tr></table><br>
<a name="2029695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It builds and starts to run in the emulator but then crashes with an app monkey error. I don't have an android device so I can't test it on that and so far I haven't worked out how to run the compiled output folder....<br><br>bit of an android noob tbh :P <br><br></td></tr></table><br>
<a name="2029703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I noticed is that it looks like every other compile, it will transfer the app to the device (HTC Desire). But I am testing mostly on HTML5 anyway and only for some crucial tests I will upload it to the device. <br><br></td></tr></table><br>
<a name="2029713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was hoping to test my framework out on Android to find any problems. Works on iOS, html5, glfw and flash but I'm apprehensive to just trust it will work on Android too. I need a friend with an old droid device! <br><br></td></tr></table><br>
<a name="2029714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh nice, just got it working, had to run android from tools sdk folder and setup my AVD correctly - it defaulted to a very old Android SDK which I guess was causing my error. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
