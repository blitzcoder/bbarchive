<!DOCTYPE html><html lang="en" ><head ><title >Google play - can't upload apk any more..</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Google play - can't upload apk any more..</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Google play - can't upload apk any more..</a><br><br>
<a name="2070922"></a>

<a name="2070923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone else having issues uploading apk's to Google Play? Done this before with no problems, but when trying to do a minor update I get this error now:<br><br><b><br>Upload failed<br>You uploaded a debuggable APK. For security reasons you need to disable debugging before it can be published in Google Play. Learn more about debuggable APKs.<br></b><br><br>I've signed and zipped the apk as per normal. Just wanted to see if anyone else has suddenly hit this issue? Googling around, seems like others are hitting this suddenly.  Maybe something has changed/ is broken at Google's side?<br><br>Can someone do me a favour and try uploading an apk (say as a beta or something) so see if they can replicate?<br><br>Update: looks like other people (non-Monkey folk) are suddenly seeing this issue, too.. http://www.google.co.uk/?q=%22You+uploaded+a+debuggable+APK%22&amp;safe=active#q=%22You+uploaded+a+debuggable+APK%22&amp;safe=active <br><br></td></tr></table><br>
<a name="2070917"></a>

<a name="2070918"></a>

<a name="2070919"></a>

<a name="2070920"></a>

<a name="2070921"></a>

<a name="2070915"></a>

<a name="2070916"></a>

<a name="2070909"></a>

<a name="2070943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ironstorm</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. Google has changed something. They block now debuggable .apk. But they haven't posted anything about that. Maybe they will. <br><br>To solve your problem, just add the following line to your AndroidManifest.xml file<br><br><pre class=code>android:debuggable="false"</pre> <br><br></td></tr></table><br>
<a name="2070945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, that worked (I put the code you suggested into the &lt;application bit of the AndroidManifest.xml file, btw), now all is good.<br><br>I often get confused over the multiple versions of AndroidManifest.xml which float around in my monkey folder. For reference, the one I changed here was the one in the templates subfolder in the android folder of my build folder..<br><br>Seems Google have changed something after all. <br><br></td></tr></table><br>
<a name="2072764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same here, thanks for the solution!<br><br>Mark could you please add that line to the manifest for one of your next releases? <br><br></td></tr></table><br>
<a name="2072765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems like a mistake by Google really, their docs say it's un-debuggable by default! <br><br></td></tr></table><br>
<a name="2072779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ironstorm</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think so.<br><br>I think, this is some problem with the app config settings. Because there is a "new" app config var called "ANDROID_SIGN_APP". Which is set by default to "false". And this variable is used to call the ant command. But if you run an ant command with "ant debug" (which will be called if "ANDROID_SIGN_APP" is set to false), it automatically inserts the android:debuggable="true" attribute, while "ant release" does not.<br><br>So you have to set "ANDROID_SIGN_APP" to "true" if you want a release build. <br><br></td></tr></table><br>
<a name="2072780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh well. What if I want to use my own sign script? Does that one works with JDK 1.7? <br><br></td></tr></table><br>
<a name="2072807"></a>

<a name="2072808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same problem here... But where should I put the new line "android:debuggable="false"?<br><br><pre class=code>	${ANDROID_MANIFEST_MAIN}
	&lt;application android:label="${ANDROID_APP_LABEL}" android:icon="@drawable/icon"&gt;

	----&gt; HERE?	
	android:debuggable="false"	
	----
		&lt;activity 
			android:name="MonkeyGame"

			----&gt; OR HERE?	
			android:debuggable="false"	
			----
</pre><br><br>and what about the new advise " Set ANDROID_SIGN_APP to true"? Where should I do this? <br><br></td></tr></table><br>
<a name="2072811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caffeinekid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I managed to upload by filling in the signing stuff in v75 and setting to release mode when I compile. <br><br></td></tr></table><br>
<a name="2072812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here:<br><br><pre class=code>
${ANDROID_MANIFEST_MAIN}
	&lt;application android:label="${ANDROID_APP_LABEL}" android:icon="@drawable/icon" android:debuggable="false"&gt;
</pre> <br><br></td></tr></table><br>
<a name="2072818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you, Xaron. I tried it your way and it seems to work. GooglePlay has accepted the apk file. <br><br></td></tr></table><br>
<a name="2072821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're very welcome! :) <br><br></td></tr></table><br>
<a name="2072847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strange - I did nothing and Google Play accepted my game. Maybe it's the way the apk is being signed? I always open the project on eclipse and sign it from there... <br><br></td></tr></table><br>
<a name="2072863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ironstorm</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you sign your app through eclipse, it does call "ant release" for you while it recompile the project.<br><br>I did some test and found out, that all apks before Monkey V73 were build with debuggable set to true. No matter if it was compiled in release or debug mode. So you have to use Monkey V73+ and the built in signing script. I doesn't know any way to sign the apk with an own script. And it is necessary to set:<br><pre class=code>ANDROID_SIGN_APP=True</pre><br>Google has changed the restrictions to upload an apk. They denied debuggable apks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
