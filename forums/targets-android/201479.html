<!DOCTYPE html><html lang="en" ><head ><title >Android Build Failed?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Android Build Failed?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Android Build Failed?</a><br><br>
<a name="2013420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Finally (!!!) managed to get Android target to appear but now I cannot build my Android app. I`m starting to go a little mad now I think. Why do things have to be so hard?<br><br>Here`s what I`m getting. Any ideas as to what the problem may be? <br><br>Thanks for any help.<br>Jason.<br><br><pre class=code>
Translating Game
"C:/Program Files (x86)/Monkey/bin/trans_winnt" -target=android -run C:/Users/Jason/Desktop/Game/Game.monkey

TRANS monkey compiler V1.17
Parsing...
Semanting...
Translating...
Building...
Buildfile: C:\Users\Jason\Desktop\Game\Game.build\android\build.xml
    [setup] Android SDK Tools Revision 12
BUILD FAILED
C:\Users\Jason\Desktop\Game\Game.build\android\build.xml:65: Unable to resolve target 'android-8'
Total time: 0 seconds
Android build failed.

Process Complete
</pre> <br><br></td></tr></table><br>
<a name="2013419"></a>

<a name="2013418"></a>

<a name="2013421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaBoy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... have you tried deleting the build directory of your project and trying again? you could always try updating the SDK too, it may rectify the problem. <br><br></td></tr></table><br>
<a name="2013422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wrong path to the android SDK would be my first port of call.  I'm sure when I installed it, it did not install it where I told it to; I wanted it at c:\android but instead it went to c:\Program Files\Android\android. <br><br></td></tr></table><br>
<a name="2013428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Deleting build directory did not work. Checked the path thoroughly and it appears to be correct (Android wouldn`t show up as target would it if it were wrong?)<br><br>After Goggling a bit more I found this about the error message,<br><br>Unable to resolve target 'android-8' means you need to install SDK Platform Android 2.2<br><br>As I have only installed SDK Platform Android 2.1 maybe this is the problem? Will give it a try.<br><br>Are you guys using higher than 2.1? (I used this as it said in the docs to install at least 2.1)<br><br>Thanks for answering so speedily by the way, most appreciated.<br><br>Jason. <br><br></td></tr></table><br>
<a name="2013423"></a>

<a name="2013424"></a>

<a name="2013425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I installed everything from Android 2.1 upwards.  Weibo has a useful guide somewhere to getting the android target up and running.<br><br>[edit] <a href="https://wiebo.wordpress.com/2011/05/08/how-to-monkey-and-android-development-setup/" target="_blank">https://wiebo.wordpress.com/2011/05/08/how-to-monkey-and-android-development-setup/</a> <br><br></td></tr></table><br>
<a name="2013426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaBoy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, android-8 is 2.2, which is why I suggested updating your SDK *hint hint* ;o)<br><br>happy to help! <br><br></td></tr></table><br>
<a name="2013439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, that worked. My Android game now runs on the emulator but I have no graphics. I can hear my music playing though so I know that my app is running. What could be causing this?<br><br>BTW, I`m sorry for all of these questions, I think I posted more on the Monkey forums about simply setting the targets up than I have for ages on the Blitz forums. It is actually quite frustrating.<br><br>Jason. <br><br></td></tr></table><br>
<a name="2013440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> is your cls command in the right place ive put this in after ive drawn my screen and all you get is a blank screen <br><br></td></tr></table><br>
<a name="2013441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi dave.h. I do not have a cls in my drawing loop as I am drawing a background already so it is not needed.<br><br>My game is also working properly in all other targets with no rendering issues. I haven`t a clue as to what could be causing this???  <br><br>Jason. <br><br></td></tr></table><br>
<a name="2013445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> i had a prob when i first started with android and i didnt include a cls function as i was creating an art drawing program.I never got it to work as for some reason it kept clearing the screen even though there was no cls function in it.I never figured out why and it might even have been corrected in the newer vesions of monkey as ive not tested.If its not a large program you would probably have more luck if you posted some code. <br><br></td></tr></table><br>
<a name="2013504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi dave.h, <br><br>You are correct. For some reason you do need a Cls in your render loop even if you are drawing a background yourself. It doesn`t seem to cause any problems for the other targets, just Android. I`m sure that there is a good reason for this. I always thought that if you are drawing the background yourself then it was wasteful to include a Cls too.<br><br>Maybe someone can explain why this is?<br><br>Jason.<br><br>Edit: <br>Upon further testing you do not need a Cls in your drawing loop on Android. I have no idea why I was getting the black screen before but it now seems to work fine. <br><br></td></tr></table><br>
<a name="2013495"></a>

<a name="2013496"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
