<!DOCTYPE html><html lang="en" ><head ><title >compile failed</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >compile failed</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >compile failed</a><br><br>
<a name="2008516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i get this error when i try to add another level to my game<br><br><br>compile:<br>    [javac] C:\Program Files\Android\android-sdk\tools\ant\main_rules.xml:384: warning: 'includeantruntime' was not set, defaulting to build.sysclasspath=last; set to false for repeatable builds<br>    [javac] Compiling 2 source files to C:\Users\dave\Desktop\enferno2\enferno2.build\android\bin\classes<br>    [javac] C:\Users\dave\Desktop\enferno2\enferno2.build\android\src\com\monkey\MonkeyGame.java:2730: code too largeERROR:<br>BUILD FAILED<br>C:\Program Files\Android\android-sdk\tools\ant\main_rules.xml:384: Compile failed; see the compiler error output for details.<br><br>Total time: 1 second<br>    [javac] 	static public int bb_new_level(){<br>    [javac] 	                  ^<br>ERROR:<br>    [javac] Note: C:\Users\dave\Desktop\enferno2\enferno2.build\android\src\com\monkey\MonkeyGame.java uses unchecked or unsafe operations.<br>    [javac] Note: Recompile with -Xlint:unchecked for details.<br>    [javac] 1 error<br>Android build failed.<br>Error in compilation!<br><br><br>so im looking at the line<br><br>C:\Users\dave\Desktop\enferno2\enferno2.build\android\src\com\monkey\MonkeyGame.java:2730: code too largeERROR:<br>BUILD FAILED<br><br>and getting worried.Is this simply what it says or is there a way round because if the code is to large thats worring because there really isnt that much code only 1711 lines.It will build in html but not android and ive tried it in release and debug mode. <br><br></td></tr></table><br>
<a name="2008518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i figured it out.It seems a function cant be bigger than a certain size when compiling in android. <br><br></td></tr></table><br>
<a name="2008523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep you've found one of many Java limits ;)<br><br><pre class=code>
64K method byte-code limit
64K number of constants in a class
64K number of local variables in a method
64K operand stack limit
64K limit on number of fields
64K limit on number of methods
255 limit on number of dimensions
4GB limit on virtual machine addressing on 32-bit machines
255 limit on number of method arguments (127 if double types)
</pre><br><br>How many lines of code was the offending function in Monkey? <br><br></td></tr></table><br>
<a name="2008526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> it fails somewhere after 598 lines of code.Not sure exactly as i removed the offending code and started another function.Wasnt to difficult as all the code in the function was level data anyway. <br><br></td></tr></table><br>
<a name="2008689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wonder if debug-mode increases the size of code significantly. <br><br></td></tr></table><br>
<a name="2008692"></a>

<a name="2008693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I think it would, good thinking - due to all the "debug" logs which gets added to the generated code. Every line of code inside a method gets a debug statement added, so a 10 line method becomes a 20 line debug method.<br><br>It would be nice if Monkey warns you of this when "compiling". <br><br></td></tr></table><br>
<a name="2008772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem I see with Android being rather large, is that monkey adds debugging info with strings and FULL PATH in every single string.<br><br>DOH!<br><br>This will need to be addressed.<br><br>example:<br><pre class=code>
bb_std_lang.errInfo="H:/_work/software_dev/_monkey/bigbugs_td/bigbugs_main_v01.monkey&lt;219&gt;";
bb_std_lang.errInfo="H:/_work/software_dev/_monkey/bigbugs_td/bigbugs_main_v01.monkey&lt;219&gt;";
</pre><br><br>for almost every line of code. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
