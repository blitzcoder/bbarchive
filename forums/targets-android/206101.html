<!DOCTYPE html><html lang="en" ><head ><title >Need no screen update, only input update</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Need no screen update, only input update</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Need no screen update, only input update</a><br><br>
<a name="2069927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nori</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a good way to render a scene and have the next 1000ms no rendering? Afaik I can't just return without rendering from OnRender because a few Android devices might then show garbage.<br><br>My game actually draws nothing new for about a second, but input processing should really become a bit faster (I know, touch input lags anyway).<br><br>Maybe I should try to hack into my android mojo an OnShouldIRender() where my game can return false if nothing new is to draw? Then "BeginScene" would not be called at all. Is this the only way? Am I missing something completely?<br><br>*unsure* <br><br></td></tr></table><br>
<a name="2069928"></a>

<a name="2069929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> SetUpdateRate(1)? I guess that would also only update OnUpdate() slowly, too. <br><br></td></tr></table><br>
<a name="2069943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also made bad experiences with returning from OnRender() on android devicec. But it never was any garbage, but flickering. I could remove this by render the last screens for 3 or 5 continuing OnRender()s. After this the flickering was removed and I could return immediately. <br><br>A second way would be to GrabImage the screen after the scene is rendered. If the creation of the scene really needs a lot of performance (&gt;50msec) . From the following OnRender() you show the Image instead of the scene.<br><br>My third way is to reduce SetUpdateRate() to 10. But never tried it during a game. Only at the OnCreate(). It is optimal for app, which render screens without movement on the screen.<br><br>What "Inputs" do you try to speed up? <br><br></td></tr></table><br>
<a name="2069937"></a>

<a name="2069942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Replace "a few Android devices might then show garbage." with "alarmingly, a bucketload of Android devices will show garbage."<br><br>Stupid Android.  Quite how it manages to successfully break "Don't do anything!" is beyond me.<br><br>Yeah, the best option is to try to grab the screen and keep redrawing that OnRender().. It might take a while to initially grab the image, but given you're about to essentially freeze the device anyway, it probably won't be too much of an issue.<br><br>..or come up with a simple no-nonsense screen to take it's place until you're done.  A simple Loading Bar will probably do the trick. <br><br></td></tr></table><br>
<a name="2069945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nori</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What "Inputs" do you try to speed up? <br></div><br>TouchHit(0)<br>My feeling was that touching other buttons in android was faster than touching the ones in my game. And since my current game is very special, not hungry for a lot of frames, the idea popped into my mind to try to give the touch stuff more cpu time.<br><br>@ Midimaster @ EelectricBoogaloo @ grabbing the screen:<br>yes, but ... I'll need more memory for it. If rendering the scene did not start at all, the image on the screen would persist, wouldn't it? Though I've  looked at mojo.android.java I've got yet no idea how OpenGLES works on android, whether I can choose to render when I want. My asumption is that mojo just decides every UpdateRate per second to begin a new scene. If it was like this, I could change it to start a new scene only when my game currently wants to render. <br><br></td></tr></table><br>
<a name="2069947"></a>

<a name="2069948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used to know where to find where this stuff is controlled but looking at recent versions of mojo everything seems to have changed...<br><br>If you just wanted to do computations, you could simply set a slow update rate, and call your computation code repeatedly from OnRender.<br><br>With regard to I/O, it's probably system dependent how fast you can get at it and/or respond.  <br><br>Failing that, I guess you'll have to go adventuring into the native code, or else hope its fast enough as it is.  Maybe you could optimise your renders so they are very fast and don't slow you down. <br><br></td></tr></table><br>
<a name="2069949"></a>

<a name="2069950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nori</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found it.. in the timer code there's _androidGame._view.requestRender(); and now I've removed this and addded BBAndroidGame._androidGame._view.requestRender(); lines everywhere where I think it should update.<br><br>PS: ..which makes no sense. But doing need_new_render = true; at these places does make sense, and requesting (or not) the new render at the end of OnUpdate. So... actually, monkey-design-wise OnUpdate could be a method returning a boolean, and if you decide to return OnUpdate with true, that would mean no rendering is requested until the next OnUpdate returns. But it would probably only help really slow card games not to drain resources. <br><br></td></tr></table><br>
<a name="2069955"></a>

<a name="2069956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a neat idea!<br><br>OnUpdate does currently return an int which is evidently reserved for expansion.  I don't know what if anything Mark has in mind for it, but maybe he wouldn't mind sparing one bit for a "don't render" flag!<br><br>Obviously there are other ways to set a no-render flag.  And there might be limits on how long you are allowed to avoid rendering on an Android, but this wouldn't really be too much of an issue. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
