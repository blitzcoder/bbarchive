<!DOCTYPE html><html lang="en" ><head ><title >Manifest + apk confusion, please help!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Manifest + apk confusion, please help!</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Manifest + apk confusion, please help!</a><br><br>
<a name="2100179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all, I wanted to know a couple of things about the manifest:<br><br>1) Is it actually embedded in the .apk? At the moment when I build, I get the following files in the android/bin folder:<br><br>AndroidManifest.xml<br>MonkeyGame-debug.apk<br>And a bunch of other files which seem to be compile related.<br><br>I assume I can just edit that AndroidManifest.xml file, but if it's also embedded in the .apk then I guess I should edit it at some other place in the Monkey ecosystem first and then recompile.<br><br>2) Is it safe to just rename that apk? e.g. TitanAttacks.apk. It's not actually a debug version btw, but for some reason it always outputs as that even when I have release build selected in Monkey.<br><br>3) In the AndroidManifest.xml file there are these lines:<br><br>android:name="MonkeyGame"<br>android:label="Titan Attacks"<br><br>Should I alter android:name?<br><br>I've also setup a package of package="com.puppygames.titanattacks"<br><br>Thanks! I can't find any kinda of total noob manifest guide. <br><br></td></tr></table><br>
<a name="2100178"></a>

<a name="2100177"></a>

<a name="2100180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> did you see the config settings for android?<br><br><pre class=code>'Android settings, defaults shown
'
#ANDROID_APP_LABEL="Monkey Game"
#ANDROID_APP_PACKAGE="com.monkeycoder.monkeygame"
#ANDROID_SCREEN_ORIENTATION="portrait"              'one of: user, portrait, landscape
#ANDROID_VERSION_CODE="1"
#ANDROID_VERSION_NAME="1.0"
#ANDROID_NATIVE_GL_ENABLED=False                    'for use with the opengl modules
#ANDROID_KEY_STORE="../../release-key.keystore"
#ANDROID_KEY_ALIAS="release-key-alias"
#ANDROID_KEY_STORE_PASSWORD="password"
#ANDROID_KEY_ALIAS_PASSWORD="password"
#ANDROID_SIGN_APP=False</pre> <br><br></td></tr></table><br>
<a name="2100181"></a>

<a name="2100183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >secondgear</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Off the top of my head:<br><br>1) Manifest is embedded in the APK. APK files are signed (either with debug key or with your key). Changing the content of the APK after it's assembled will alter the checksum, and will probably make the apk unusable.<br>2) You can safely rename the apk to whatever you want and then load it to the device/emulator using <b>adb install &lt;your apk file&gt;</b>. Unless you tell Monkey to sign your apk, the generated apk is signed with Android debug key (or whatever it's called), and such apk cannot be distributed through the market, unless you re-sign it with your key.<br>3) <b>android:label</b> is what is shown under the icon on the device, so edit freely. <b>android:name</b> is the Java class name of your game - don't change it.<br><br>Like MikeHart said, most of the important manifest settings are set in <b>config.monkey</b>, but if you want to fine-tune something, you can either edit the manifest template that Monkey provides, or edit the generated manifest.xml in the root of "build/android" folder (not in "build/android/bin") and then run your project in Eclipse. <br><br></td></tr></table><br>
<a name="2100211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MikeHart Yep I'm using those. For the current project it's not for Google Play but will be distributed so that people can just run it on their devices (it'll all become clear in a week or two).  So I'm not currently signing it with any known key, is that still OK? (sounds like the Android debug key will be used according to secondgear.) It seems to work fine if I send the apk to friends. My configs contain this (note that SIGN_APP is commented out):<br><br><pre class=code>
#ANDROID_KEY_STORE="../../yourProject.keystore"
#ANDROID_KEY_ALIAS="yourProject.keystore"
#ANDROID_KEY_STORE_PASSWORD="123456"
#ANDROID_KEY_ALIAS_PASSWORD="123456"
'#ANDROID_SIGN_APP=True
</pre><br><br>@secondgear Ah OK so the manifest is embedded in the APK, fair enough. It's weird that it's also in the bin folder but I guess that's an intermediate stage in building the apk? So it's normal for the compile to output MonkeyGame-debug.apk then even though it's a release build?  Got it re: android:name. Thanks for your help! <br><br></td></tr></table><br>
<a name="2100206"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
