<!DOCTYPE html><html lang="en" ><head ><title >resources limit</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >resources limit</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >resources limit</a><br><br>
<a name="2008007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there a limit to how many resources we can use.Including sounds and spritesheets i load 18 resources into my game.if i try to load 19 then the game always force closes.it may be that ive not enough memory on my phone but i thought id check if anyone new about any limits that may be set <br><br></td></tr></table><br>
<a name="2008008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> never mind i just tried it on my galaxy tab and it ran fine so by process of elimination its probably not enough memory on my phone. <br><br></td></tr></table><br>
<a name="2008032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What was the 19th resource? (sound or image - what size in pixels/memory)<br><br>Did you run it thru the debugger (DDMS) and if so what was the error?<br><br>What phone are you using?<br><br>With Pirates I am loading the following on startup:<br><br>* 4 bitmap fonts<br>* 18 sounds<br>* 31 images <br><br></td></tr></table><br>
<a name="2008051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is what ddms says but i dont understand it<br><br><br>06-12 03:08:51.373: WARN/dalvikvm(11194): threadid=21: thread exiting with uncaught exception (group=0x4001b160)<br>06-12 03:08:51.373: ERROR/AndroidRuntime(11194): Uncaught handler: thread GLThread 11 exiting due to uncaught exception<br>06-12 03:08:51.383: ERROR/AndroidRuntime(11194): java.lang.NullPointerException<br>06-12 03:08:51.383: ERROR/AndroidRuntime(11194):     at com.monkey.gxtkApp.Die(MonkeyGame.java:443)<br>06-12 03:08:51.383: ERROR/AndroidRuntime(11194):     at com.monkey.gxtkApp.InvokeOnRender(MonkeyGame.java:527)<br>06-12 03:08:51.383: ERROR/AndroidRuntime(11194):     at com.monkey.gxtkApp.onDrawFrame(MonkeyGame.java:452)<br>06-12 03:08:51.383: ERROR/AndroidRuntime(11194):     at android.opengl.GLSurfaceView$GLThread.guardedRun(GLSurfaceView.java:1127)<br>06-12 03:08:51.383: ERROR/AndroidRuntime(11194):     at android.opengl.GLSurfaceView$GLThread.run(GLSurfaceView.java:975)<br>06-12 03:08:51.383: ERROR/SemcCheckin(11194): Get crash dump level : java.io.FileNotFoundException: /data/semc-checkin/crashdump<br>06-12 03:08:51.393: WARN/ActivityManager(1138): Unable to start service Intent { act=com.sonyericsson.android.jcrashcatcher.action.BUGREPORT_AUTO cmp=com.sonyericsson.android.jcrashcatcher/.JCrashCatcherService (has extras) }: not found<br><br><br>i have 8 sounds<br>11 png images<br>1 bitmap font<br><br>the above will run but if i try to add another png image the phone wont take it and it has 256 meg ram which is easily enough.it will however run on my galaxy tab.Its really got me confused because it cant be a memory issue.<br>The size of the image i try to load is only 3.64kb<br>my phone is an experia x 10<br><br>any help on this would be greatly appreciated <br><br></td></tr></table><br>
<a name="2008054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This one? <a href="http://www.gsmarena.com/sony_ericsson_xperia_x10-2964.php" target="_blank">http://www.gsmarena.com/sony_ericsson_xperia_x10-2964.php</a><br><br>Android is throwing a null pointer exception when trying to draw the image.<br><br>Can you post your code and images? If not can you show us how you are loading the images and the exact filenames (uppercase/lowercase etc). <br><br></td></tr></table><br>
<a name="2008060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will post the code tommorrow but the thing is i never actually try to draw thoses images all i did was attempt to load them into memory and its weird that it works on my galaxy tab.that is the right phone as well.ok its 4am here i need some kip thanks for your help <br><br></td></tr></table><br>
<a name="2008076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i delclare them like so<br><br>Global  menu_pic :Image<br>Global  exp_sprites :Image<br>Global  main_sprites :Image <br>Global  back :Image <br>Global  text :Image <br><br>Global main_background:Image<br>Global main_background1:Image<br>Global main_background2:Image<br>Global main_background3:Image<br>Global main_background4:Image<br><br>'Global main_background5:Image<br>'Global main_background6:Image<br><br><br>And i load them in oncreate like so<br><br> Method OnCreate:Int()<br>	SetFont(LoadImage("font_16.png",16,16,64))<br>	play_sound=False<br>		SCREEN_WIDTH = DeviceWidth()<br>		SCREEN_HEIGHT = DeviceHeight()<br>	<br>	#If TARGET="android"<br>		shoot=LoadSound( "grenade.ogg" )<br>		beep=LoadSound( "beep1.ogg" )<br>		plasma_shoot=LoadSound( "plasma_shoot.ogg" )<br>		laser=LoadSound( "flak_laser.ogg" )<br>		spark=LoadSound( "spark.ogg" )<br>		fire=LoadSound( "Fire.ogg" )<br>	<br>	#Else<br>		shoot=LoadSound( "grenade.wav" )<br>		beep=LoadSound( "beep1.wav" )<br>		plasma_shoot=LoadSound( "plasma_shoot.wav" )<br>		laser=LoadSound( "flak_laser.wav" )<br>		spark=LoadSound( "spark.wav" )<br>		fire=LoadSound( "Fire.wav" )<br>	<br>    #Endif<br>		<br>	    main_sprites=LoadImage("sprites.png")<br>		back=LoadImage("back2.png")<br>		text=LoadImage("text.png")<br>		exp_sprites=LoadImage("sprites_2.png")<br>		menu_pic=LoadImage("nebula.png")<br>		main_background=LoadImage("lev1.png")<br>	    main_background1=LoadImage("lev2.png")<br>		main_background2=LoadImage("lev4.png")<br>		main_background3=LoadImage("level5.png")<br>		main_background4=LoadImage("lev6.png")<br>		<br>		<br>    '	main_background5=LoadImage("lev7.png")<br>	'	main_background6=LoadImage("up_lev2.png")<br>	'	maps=LoadImage("maps.png")<br>		<br>	create_array()<br>    SetUpdateRate 25<br>       PlayMusic("thunder.ogg",1)<br><br>	Return 0<br>End<br><br><br><br>if i remove the remark and try to load the images at<br><br>    '	main_background5=LoadImage("lev7.png")<br>	'	main_background6=LoadImage("up_lev2.png")<br>	'	maps=LoadImage("maps.png")<br><br>it always force closes on the phone yet it will run on a galaxy tab and it also runs in HTML5 <br><br></td></tr></table><br>
<a name="2008077"></a>

<a name="2008080"></a>

<a name="2008081"></a>

<a name="2008082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hard to say without rest of code. I don't see maps:Image or the sounds defined anywhere.  Maybe try adding manual checks after loading each resource to see if they load properly? For instance level5 filename is different from the rest. Maybe try not loading any sounds while testing the graphics problem. <br><br></td></tr></table><br>
<a name="2008078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing looks too wrong there - logically anyway ;)<br><br>I thought it was only one image that was causing your issue?<br><br>Anyway how big are your lev*.pngs?<br><br>Does it even get to the rendering stage? <br><br></td></tr></table><br>
<a name="2008088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> no its not one specifically it just wont load any more than the ones already loaded.The sounds are defined but i didnt paste that as it appears only the images are causing the problem. my lev pngs vary from about 4kb to 40 kb.Also it doesnt get to the rendering stage on the android phone but works fine in html5 and galaxy tab and glfw but not flash.<br><br>I can do a workaround for this which is to display the maps using a 2d tile array like so<br><br>For Local k=0 to 110<br>DrawImageRect( main_sprites, pathx[k]*32, pathy[k]*32, 643, 345, 32, 32, 0 )<br>Next<br><br>The only problem with this is that there is a very noticable difference in framerate on android which is the target im aiming at.<br><br>the largest pngs are<br> <br>sprites 814x428  = 201kb<br>sprites_2 1025x454 =491 kb<br>text 804x553 =188kb<br>nebula 640x480 =443 kb<br>back2 640x480 =269 kb<br><br>all the level pngs are 640X480 and vary between 4 and 40 kb<br>i dont know if this info helps any<br><br>i will try turning off some of the sounds and see if that helps . <br><br></td></tr></table><br>
<a name="2008089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok just done a test and for every sound that i turn off i can load an extra level.png.arrrgghhh :( <br><br></td></tr></table><br>
<a name="2008090"></a>

<a name="2008091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try manual checking after each image load : If Not img. or something like that to see if some image doesnt load proper. I also recall that using power 2 images was recommended mayby try resizing all backgrounds to 512:512 and draw stretched to full screen, otherwise a 640:480 image may get sized to 1024:1024 internally (not sure here).  Also you could probably load one background per level instead of preloading all levels. <br><br></td></tr></table><br>
<a name="2008094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> i will try the power 2 method and stretching but ive already tried loading the background per level and it didnt work maybe i wasnt using discard in the right place but will look into it again. i could also put 3 levs onto one larger png and use DrawImageRect but this doesnt solve the real prob rather than put it off till later.thanks for the suggestions though. <br><br></td></tr></table><br>
<a name="2008145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also you could probably load one background per level instead of preloading all levels.  <br></div><br><br>This is what I did for Pirates (only for the background images).<br><br>Could you write a small project which reproduces the issue using mockup images and sounds? <br><br></td></tr></table><br>
<a name="2008217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok ive managed to reproduce the error heres my code<br><br>Import mojo<br><br>Global  shoot:Sound<br>Global  beep:Sound<br>Global  plasma_shoot:Sound<br>Global laser:Sound<br>Global spark:Sound<br>Global fire:Sound<br><br>Global  menu_pic :Image<br>Global  exp_sprites :Image<br>Global  main_sprites :Image <br>Global  back :Image <br>Global  text :Image <br>Global main_background:Image<br>Global main_background1:Image<br>Global main_background2:Image<br>Global main_background3:Image<br>Global main_background4:Image<br>Global main_background5:Image<br>Global main_background6:Image<br><br>Class MyGame Extends App<br> Method OnCreate()<br> <br> 		shoot=LoadSound( "grenade.ogg" )<br>		beep=LoadSound( "beep1.ogg" )<br>		plasma_shoot=LoadSound( "plasma_shoot.ogg" )<br>		laser=LoadSound( "flak_laser.ogg" )<br>		spark=LoadSound( "spark.ogg" )<br>		fire=LoadSound( "Fire.ogg" )<br>		<br>	    main_sprites=LoadImage("sprites.png")<br>		back=LoadImage("back2.png")<br>		text=LoadImage("text.png")<br>		exp_sprites=LoadImage("sprites_2.png")<br>		menu_pic=LoadImage("nebula.png")<br>		main_background=LoadImage("lev1.png")<br>	    main_background1=LoadImage("lev2.png")<br>		main_background2=LoadImage("lev4.png")<br>		main_background3=LoadImage("level5.png")<br>		main_background4=LoadImage("lev6.png")<br>		main_background5=LoadImage("alllevels.png")<br>'IF I TRY TO LOAD THIS FILE I GET A FORCE STOP ERROR THIS FILE IS JUST A COPY OF ALLLEVELS.PNG	<br>	'	main_background6=LoadImage("alllevels2.png")<br>	<br>'IF I TRY TO LOAD THIS FILE IT WILL WORK	<br>    '	main_background6=LoadImage("lev7.png")<br>	<br>	SetUpdateRate 25<br>    Return 0<br>End<br><br>Method OnUpdate:Int()<br>	Return 0<br>End<br><br>Method OnRender:Int()<br>	Cls 0,0,0<br>	DrawText("THIS IS JUST A TEST",50,50)<br>	Return 0<br>End <br>End <br><br>Function Main:Int()<br>	New MyGame<br>	Return 0<br>End<br><br><br>this works on html5 perfectly im really beggining to think its got something to do with file sizes as i can load a few more into memory when<br>my background images are smaller.The thing is i have plenty of spare ram on my phone. <br><br></td></tr></table><br>
<a name="2008238"></a>

<a name="2008239"></a>

<a name="2008240"></a>

<a name="2008241"></a>

<a name="2008243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not sure if for android also but Mark mentioned this for GLFW:<br><a href="http://www.monkeycoder.co.nz/Community/post.php?topic=188&amp;post=1227" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=188&amp;post=1227</a><br>is the image bigger than that in width or height?<br>it might be the cause of the problem.<br>he didn't modified it as there was already an alternative solution for the problem. <br><br></td></tr></table><br>
<a name="2008242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> no its not but i have come up with an alternate fix. i resize 12 of the levels to 320 x240 then save them in one png file which is 963x722.I then use drawimagerect as scale them by 2.It works but there is a slight loss in resolution. <br><br></td></tr></table><br>
<a name="2008254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm ive now discovered that this error only seems to happen when i compile in debug mode.Ive just recompiled my program to android with more levels in release mode and it works fine.Wish i'd tried that first :( <br><br></td></tr></table><br>
<a name="2008268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe raise a bug... the code should work in both versions, although I never run debug in Android, its really really slow! <br><br></td></tr></table><br>
<a name="2008271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> ha what a noob i am ive been running it in debug all the time and really struggling to improve my framerates. <br><br></td></tr></table><br>
<a name="2008287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Trying to improve your framerates,<br><br>Guess what... you just did!  ;^) <br><br></td></tr></table><br>
<a name="2008428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it was a memory issue, the JVM would throw an OutOfMemoryError, not a NullPointerException. Could you provide a zip that reproduces the issue? <br><br></td></tr></table><br>
<a name="2008431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi flameduck thanks for the reply and to my prob and with it not working on my mates phone but it does seem to be because i compiled it in debug mode rather than release as i dont get these errors now and it works fine on my mates phone.The above code i posted causes this error in debug mode but varies slightly depending on the size of the files i loaded. for example if the files were smaller i may have been able to load a couple more before it force crashed. <br><br></td></tr></table><br>
<a name="2015922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have the same issue now on a Nexus phone. It works on my Desire HD but NOT on a Nexus where I get:<br><br><pre class=code>
10-04 12:37:00.777 E/AndroidRuntime(8991): FATAL EXCEPTION: main
10-04 12:37:00.777 E/AndroidRuntime(8991): android.view.InflateException: Binary XML file line #77: Error inflating class android.widget.ScrollView
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.createView(LayoutInflater.java:518)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at com.android.internal.policy.impl.PhoneLayoutInflater.onCreateView(PhoneLayoutInflater.java:56)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.createViewFromTag(LayoutInflater.java:568)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.rInflate(LayoutInflater.java:623)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.rInflate(LayoutInflater.java:626)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.inflate(LayoutInflater.java:408)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.inflate(LayoutInflater.java:320)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.inflate(LayoutInflater.java:276)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at com.android.internal.policy.impl.PhoneWindow.setContentView(PhoneWindow.java:207)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at com.android.internal.app.AlertController.installContent(AlertController.java:205)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.app.AlertDialog.onCreate(AlertDialog.java:251)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.app.Dialog.dispatchOnCreate(Dialog.java:307)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.app.Dialog.show(Dialog.java:225)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.app.AlertDialog$Builder.show(AlertDialog.java:802)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at com.splash.gxtkAlert.run(MonkeyGame.java:518)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.os.Handler.handleCallback(Handler.java:587)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.os.Handler.dispatchMessage(Handler.java:92)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.os.Looper.loop(Looper.java:130)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.app.ActivityThread.main(ActivityThread.java:3683)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at java.lang.reflect.Method.invokeNative(Native Method)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at java.lang.reflect.Method.invoke(Method.java:507)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at com.android.internal.os.ZygoteInit$MethodAndArgsCaller.run(ZygoteInit.java:839)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at com.android.internal.os.ZygoteInit.main(ZygoteInit.java:597)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at dalvik.system.NativeStart.main(Native Method)
10-04 12:37:00.777 E/AndroidRuntime(8991): Caused by: java.lang.reflect.InvocationTargetException
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at java.lang.reflect.Constructor.constructNative(Native Method)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at java.lang.reflect.Constructor.newInstance(Constructor.java:415)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.LayoutInflater.createView(LayoutInflater.java:505)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	... 23 more
<b>10-04 12:37:00.777 E/AndroidRuntime(8991): Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget</b>
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.graphics.BitmapFactory.nativeDecodeAsset(Native Method)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.graphics.BitmapFactory.decodeStream(BitmapFactory.java:460)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.graphics.BitmapFactory.decodeResourceStream(BitmapFactory.java:336)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.graphics.drawable.Drawable.createFromResourceStream(Drawable.java:697)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.content.res.Resources.loadDrawable(Resources.java:1709)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.content.res.Resources.getDrawable(Resources.java:581)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.widget.ScrollView.setOverScrollMode(ScrollView.java:1396)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.View.&lt;init&gt;(View.java:1879)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.View.&lt;init&gt;(View.java:1921)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.view.ViewGroup.&lt;init&gt;(ViewGroup.java:292)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.widget.FrameLayout.&lt;init&gt;(FrameLayout.java:88)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.widget.ScrollView.&lt;init&gt;(ScrollView.java:145)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	at android.widget.ScrollView.&lt;init&gt;(ScrollView.java:141)
10-04 12:37:00.777 E/AndroidRuntime(8991): 	... 26 more
10-04 12:37:00.804 W/ActivityManager(106):   Force finishing activity com.splash/.MonkeyGame</pre><br><br>All textures/images are &lt;1024 but I precache everything. Will take a deeper look about these limits. <br><br></td></tr></table><br>
<a name="2015923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> So here's the highlighted line:<br><br><b>Caused by: java.lang.OutOfMemoryError: bitmap size exceeds VM budget</b> <br><br></td></tr></table><br>
<a name="2015934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have the same issue now on a Nexus phone. <br></div>I think maybe you can provoke it on the Desire HD as well if you change the screen orientation a lot? Anyhoo the LayoutInflator is invoked whenever you Create or Destroy an Activity (for instance when pressing the home menu, and starting your program again, or changing orientation). If the old Activity isn't cleaning up it's references for some reason (<a href="http://developer.android.com/resources/articles/avoiding-memory-leaks.html" target="_blank">like the one explained here</a>), you will get this error.<br><br>If you feel like it, you can trudge through mojo.java and see if this applies to your error. If it does, it's a bug, and BRL should probably fix it. :) <br><br></td></tr></table><br>
<a name="2015989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks I will nail that down. Actually I have the same issue with the emulator where I get a monkey runtime exception (out of memory for bitmaps). <br><br></td></tr></table><br>
<a name="2016265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Further investigation has shown that this is obviously some kind of limited heap space. I have currently the following textures in use:<br><br>1024x1024: 2<br>512x1024: 7<br>512x512: 6<br>512x128: 1<br>256x128: 4<br>128x128: 6<br>512x64: 6<br><br>This leads to 26,6MB uncompressed graphics space for 32 bit RGBA png images. Will use some more 24 bit stuff... <br><br></td></tr></table><br>
<a name="2018040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, still have this problem. And as I'm not the only one I searched around and I think I've found a definite solution.<br><br>The problem on my side was that it worked for the first time, but after discarding and reloading an image (usually going from the game back to the menu and vice versa) I sometimes got an out of memory error.<br><br>So THIS IS THE SOLUTION!<br><br>In MonkeyGame.java look for:<br><br><pre class=code>
return BitmapFactory.decodeStream( getAssets().open( path ) );
</pre><br><br>and replace it with:<br><br><pre class=code>
BitmapFactory.Options opts = new BitmapFactory.Options(); 
opts.inPurgeable = true; 
return BitmapFactory.decodeStream( getAssets().open( path ), null, opts );
</pre><br><br>So what does it do?<br><br><a href="http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inPurgeable" target="_blank">http://developer.android.com/reference/android/graphics/BitmapFactory.Options.html#inPurgeable</a><br><br>Mark, maybe it's a good idea to add this as default? <br><br></td></tr></table><br>
<a name="2018042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes thats the error i was getting but my my programming skills werent good enough to do what you have researched.Thanks for this it should be very usefull. <br><br></td></tr></table><br>
<a name="2018043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe moving this to bug reports will make it easier for Mark to notice this thread? <br><br></td></tr></table><br>
<a name="2018044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> ziggy, I already did. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
