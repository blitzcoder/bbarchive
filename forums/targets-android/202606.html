<!DOCTYPE html><html lang="en" ><head ><title >Flurry for Android</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Flurry for Android</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Flurry for Android</a><br><br>
<a name="2025940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've found a wrapper for IOS Flurry and wrapped it also for Android:<br><br>Here are the source files:<br><br><a href="https://github.com/JochenHeizmann/Horizon-for-Monkey/blob/master/flurry.monkey" target="_blank">https://github.com/JochenHeizmann/Horizon-for-Monkey/blob/master/flurry.monkey</a><br><br><a href="https://github.com/JochenHeizmann/Horizon-for-Monkey/blob/master/native/flurry.android.java" target="_blank">https://github.com/JochenHeizmann/Horizon-for-Monkey/blob/master/native/flurry.android.java</a> <br><br></td></tr></table><br>
<a name="2026060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >visionastral</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks!<br><br>I didn't knew about flurry analytics.<br><br>www.flurry.com<br><br><br>btw, is it that important to use this kind of services?<br>I mean, is it really useful for indie developpers? <br><br></td></tr></table><br>
<a name="2026061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >visionastral</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I mean versus google ad service <br><br></td></tr></table><br>
<a name="2026180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> but flurry analytics is something  different than ad service... and as every tool, it's useful if you use it. <br><br></td></tr></table><br>
<a name="2030608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rus</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys!<br><br>@maverick69: Thanks for the very useful flurry code!<br><br>I've managed to incorporate it into my monkey application for android. After about six hours some analytics started showing up on Flurry! I set it up to log a non timed event for every touch as well. Unfortunately, it's been 2 days and no event data has showed up on flurry. Any idea what might be wrong?<br><br>I've included the code for my simple test. Replace &lt;My Unique Application Key&gt; with your own.<br><br>[monkeycode]<br>Strict<br><br>Import mojo<br>Import flurry<br><br>Global Event:Int = 0<br><br>Class Game Extends App<br><br>	Method OnCreate:Int()<br>		<br>		SetUpdateRate( 60 )<br>		Return 0<br>	End<br>	<br>	Method OnUpdate:Int()<br>		If TouchHit(0)<br>			Event = 1<br>			Flurry.LogEvent( "Touch" )<br>		EndIf<br>		Return 0<br>	End<br>	<br>	Method OnRender:Int()<br>		Cls<br>		DrawText("Test!", 0, 0)<br>		If Event = 1<br>			DrawText("Touch Hit!", 0, 15)<br>			Event = 0<br>		EndIf<br>		Return 0<br>	End<br>End<br><br>Function Main:Int()<br>	Flurry.Init( "&lt;My Unique Application Key&gt;" )<br>	New Game()<br>	Return 1<br>End<br>[/monkeycode] <br><br></td></tr></table><br>
<a name="2030727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rus</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've done some research and testing and with some modifications to maverick69's code I've managed to get events to log successfully on Flurry. <br><br>Hope anyone tracking analytics finds this useful!<br><br>The main change was adding the Stop function to flurry.monkey. I believe this helps to mark a session as closed . Since flurry submits logged data on the next execution of a session, if a session is not closed explicitly it treats the session as still closed. I think this is the reason that no events were sent.<br><br>Here are my files:<br><br>main.monkey<br>[monkeycode]<br><br>Strict<br><br>Import mojo<br>Import flurry<br><br>Global Event:Int = 0<br><br>Class Game Extends App<br><br>	Method OnCreate:Int()<br>		Flurry.Init( "&lt;My Unique Application Key&gt;" )<br>		SetUpdateRate( 60 )<br>		Return 0<br>	End<br>	<br>	Method OnUpdate:Int()<br>		If TouchHit(0)<br>			Event = 1<br>			Flurry.LogEvent( "Touch" )<br>		EndIf<br>		Return 0<br>	End<br>	<br>	Method OnRender:Int()<br>		Cls<br>		DrawText("Test!", 0, 0)<br>		If Event = 1<br>			DrawText("Touch Hit!", 0, 15)<br>			Event = 0<br>		EndIf<br>		Return 0<br>	End<br>	<br>	Method OnSuspend:Int()<br>		Flurry.Stop()<br>		Return 0<br>	End<br>End<br><br>Function Main:Int()<br>	New Game()<br>	Return 1<br>End<br><br>[/monkeycode]<br><br>flurry.monkey<br>[monkeycode]<br>Private<br><br>#if TARGET="ios" Or TARGET="android"<br>Import "native/flurry.${TARGET}.${LANG}"<br><br>Extern<br>#if TARGET="ios"<br>    Class Flurry<br>        Function Init:Void(apiKey$)="Flurry::Init"<br>        Function Stop:Void()="Flurry::Stop"<br>        Function LogEvent:Void(eventName$)="Flurry::LogEvent"<br>        Function LogEventTimed:Void(eventName$)="Flurry::LogEventTimed"<br>        Function EndTimedEvent:Void(eventName$)="Flurry::EndTimedEvent"<br>    End<br>#elseif TARGET="android"<br>	Class Flurry<br>        Function Init:Void(apiKey$)="Flurry.Init"<br>        Function Stop:Void()="Flurry.Stop"<br>        Function LogEvent:Void(eventName$)="Flurry.LogEvent"<br>        Function LogEventTimed:Void(eventName$)="Flurry.LogEventTimed"<br>        Function EndTimedEvent:Void(eventName$)="Flurry.EndTimedEvent"<br>    End<br>#end<br><br>#else<br>Public<br>Class Flurry<br>    Function Init:Void(apiKey$)<br>        Print "Flurry Init"<br>    End<br>	<br>    Function Stop:Void()<br>        Print "Flurry Stop"<br>    End<br><br>    Function LogEvent:Void(eventName$)<br>        Print "Log: " + eventName<br>    End<br><br>    Function LogEventTimed:Void(eventName$)<br>        Print "Start Timed Event: " + eventName<br>    End<br><br>    Function EndTimedEvent:Void(eventName$)<br>        Print "End Timed Event: " + eventName<br>    End<br>End<br>#end<br><br>[/monkeycode] <br><br></td></tr></table><br>
<a name="2030726"></a>

<a name="2030750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> flurry is getting ads. Will this monkey flurry module have that functionality? <br><br></td></tr></table><br>
<a name="2031132"></a>

<a name="2031133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No.<br><br><br>@Rus:<br><br>Moving <br>Flurry.Init( "&lt;My Unique Application Key&gt;" )<br><br>from Main <br>to<br>OnCreate<br><br>should fix it. But I like your changes. Would you mind if I put them into my module directly? <br><br></td></tr></table><br>
<a name="2031152"></a>

<a name="2031154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rus</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @maverick69<br><br>Sure thing! I'm looking at ways to get the event parameters working. I've been looking at your code as a basis for this. I think I've got it working in Android. I'm still trying to work out how to do it in iOS. Have you had any luck with this?<br><br>I might be looking at developing an alternative to your Flurry module, with support for ads. I'll probably be doing it for myself first, but may release it for public consumption if it works out. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
