<!DOCTYPE html><html lang="en" ><head ><title >Problem with Java heap size</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with Java heap size</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Problem with Java heap size</a><br><br>
<a name="2000599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaBoy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I've been having problems running the programs for Android due to the<br>Java heap, I have tried changing the heap size using ants ANT_OPTS environment variable to -Xmx512m -Xms512m with no success.<br><br>the message I receive is:<br><br>[apply] Error occurred during initialization of VM<br>[apply] Could not reserve enough space for object heap<br>[apply] Could not create the Java virtual machine.<br><br>any ideas on how to solve this? <br><br></td></tr></table><br>
<a name="2000609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never seen anyone report this -- can you upload a copy of your project somewhere, or email it to <a href="http://www.monkeycoder.co.nz/Account/showuser.php?id=1" target="_blank">Mark</a> directly if it's confidential? <br><br></td></tr></table><br>
<a name="2000608"></a>

<a name="2000615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure your Android  device has at least enough memory for the minimum Java Heap space. Depending on what version of Android you're running you should probably have at least 128 megs of RAM on your device.<br><br>The options you're trying to change are the Java VM initial (Xms) and maximum (Xmx) heap space. If you set it to 512 megabyte you need 512 megabytes of unfragmented free memory on the device. <br><br></td></tr></table><br>
<a name="2000624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoa, welcome back, Mikkel! <br><br></td></tr></table><br>
<a name="2000934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaBoy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> arghhhhhhhhh!!!!!!!!!!!!! LOL<br><br>what a pain in the ar*e!<br><br>ok, many thanks for the suggestions thus far, it certainly was a memory issue, absolutely *NOT* a bug with Monkey (didnt even think this).<br><br>Solved it by editing 'dx.bat' within platform-tools of the android sdk directory.<br><br>a few lines down the file, you will see:<br><br>REM By default, give dx a max heap size of 1 gig. This can be overridden<br>REM by using a "-JXmx..." option (see below).<br>set defaultMx=-Xmx512M &lt;-- this was initially 1024 so reduced it.<br><br>it all works fine!<br><br>so it anyone has any problems like I did, try this first, should save alot of head scratching! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
