<!DOCTYPE html><html lang="en" ><head ><title >Debug Build</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Debug Build</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Debug Build</a><br><br>
<a name="2005233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wagenheimer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How to create a Non Debug Build for an Android App?<br><br>I get this error when trying to publish an Android App.<br><br>Market does not accept apks signed with the debug certificate. Create a new certificate that is valid for at least 50 years.<br>Market requires that the certificate used to sign the apk be valid until at least October 22, 2033. Create a new certificate.<br>Market requires the minSdkVersion to be set to a positive 32-bit integer in AndroidManifest.xml. <br><br></td></tr></table><br>
<a name="2005234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wagenheimer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well... I have solved this!<br><br>Basicaly I have to load it on Eclipse and Right Click the Project and use Export - Android Application... There I can create a new certificate. <br><br></td></tr></table><br>
<a name="2005247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found these instructions awhile ago:<br><br><a href="http://www.talkandroid.com/android-forums/android-market-reviews/1317-tutorial-signing-your-apk-publishing.html" target="_blank">http://www.talkandroid.com/android-forums/android-market-reviews/1317-tutorial-signing-your-apk-publishing.html</a><br><br>Here is how to sign an Android App:<br><br>1. Create a folder called "keytools" and make a folder in that called "keys"<br>2. Using Eclipse, in Package Explorer window, right click on your project &gt; Android Tools &gt; Exports Unsigned Application Package and save in the keytools folder ("filename.apk")<br>3. Open command prompt (cmd.exe)<br>4. Navigate to your keytools folder<br>5. Type the following:<br>C:\"Program Files"\Java\jdk1.6.0_24\bin\keytool -genkey -alias myapp.keystore -keyalg RSA -validity 20000 -keystore keys/myapp.keystore<br><br>Then following the questions...<br><br>6. Type the following:<br>C:\"Program Files"\Java\jdk1.6.0_24\bin\jarsigner -verbose -keystore keys/myapp.keystore -signedjar filename-signed.apk filename.apk myapp.keystore<br><br>Done! <br><br></td></tr></table><br>
<a name="2005278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> What if you are not using Eclipse, but using the default Monkey IDE, then what? The ability to sign the app correctly so that it could be published really should be part of the Monkey package. <br><br></td></tr></table><br>
<a name="2005345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The .apk file is really just a jar, which is really just a zip file so...<br><br>1) Unsigning your apk: In the root directory of your apk is a folder named META-INF, which contains the files CERT.SF and CERT.RSA. Delete these. Your app is now unsigned. Using Eclipse is just overkill.<br>2) Run keytool/jarsigner as explained above. Note: You should only generate the key once.<br><br>I suppose if anyone was inclined to do so, you could even add it to the ant script (build.xml) that MonkeyIDE uses to build Android applications, so it's done for you automatically. <br><br></td></tr></table><br>
<a name="2005358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would love to see this functionality implemented in JungleIDE. Along with a configuration panel for setting icons/screenres/orientation etc. <br><br></td></tr></table><br>
<a name="2005366"></a>

<a name="2005367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Along with a configuration panel for setting icons/screenres/orientation etc. <br></div>Any half-decent XML editor (and I'm pretty sure JungleIDE qualifies) will let you edit the "AndroidManifest.xml" which more or less is what you're asking for.<br><br>Be advised that if you restrict your game in any way, for instance to run in a specific resolution, it will not show up in the Android store for people who have phones that do not explicitly support that resolution, which might have a significant impact on sales.<br><br>Edit: Also remember that the AndroidManifest.xml is platform specific, so a graphical interface to change this, might not make sense on a multi-platform environment (Monk.exe or JungleIDE). However since Monk.exe (and I'm guessing JungleIDE too) use Ant for building, and Ant is a ridiculously powerful build tool, there is no reason why you couldn't change the Ant build script to do this, either automatically by contract (build.properties) or convention(always copy the games "res" folder on top of the BRL one, and merge the two AndroidManifest.xml files). <br><br></td></tr></table><br>
<a name="2005368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree about the specific res. But instead of editing the manifest manually it would still be easier to choose between different "basic" screen behavior options in one config panel. Obviously this config window would have to be custom for each target. Also if this config is saved along with the ide project, you wouldn't loose any changes. When say, if you needed to delete the .build folder, due to a monkey update. <br><br></td></tr></table><br>
<a name="2005370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could save it along with the project files anyway. Simply call it monkey.properties or whatever, point Ant to it, and modify the build script to recognize them as filter values.<br><br>I assume the ".build" folder is the result of running Ant against the build.xml for android projects? In which case you really shouldn't be messing with it anyway as it's temporary "by design" (never mind a monkey update, I'm sure there's a "clean" target in there somewhere). You should be messing with ant instead. It's a powerful build tool, designed to automate exactly what you're proposing. It is by far the most advanced technology monkey uses, and the worlds most powerful build system. There is no reason not to use it for this. <br><br></td></tr></table><br>
<a name="2005376"></a>

<a name="2005377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, the ".build" folder is generated by monkey regardless of which target you choose. If messing with Ant is your thing you could still edit those files manually if you wish so. Im not talking about replacing every functionality Ant has to offer with a config panel. Just basic stuff like screenres,icons,orientation and the signing process. Eclipse offers a configuration panel that let you tweak parameters like these for Android. I find that very handy. <br><br></td></tr></table><br>
<a name="2005398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fair enough. Messing with Ant isn't my thing. Messing with Ant is the solution to your thing. For my thing, IntelliJ provides everything I need for Android development (including a namespace aware XML editor).<br><br>My point was that your definition of "Basic stuff" doesn't translate across platforms very well. For instance the "icon" for a HTML 5 game (a single windows "ico" format, typically only one in 16x16 resolution) is fundamentally different from the "icon" you need for an Android app (21 different icon configurations in total, 7 different types of icons, for 3 different types of displays, in PNG format), and again for the iPhone which had different types of icons (3 different mandatory types, mostly in different resolutions to the Android ones). For flash it doesn't really matter, for Windows it kinda does (an embedded resource file with different .ico resolution for different icon sizes).<br><br>Eclipse can get away with this, because it doesn't need to care about any other icon target than the ones Google specifies. MonkeyIDE/JungleIDE is not so fortunate, unless you want to limit these features strictly to Android users, which I'm sure is going to upset people who develop for other targets, and if you wanted to use Monkey to develop for say both iOS and Android at the same time, you would have to do multiple sets of icons anyway, and the UI would have to account for this scenario, and I think, would very quickly become cluttered. <br><br></td></tr></table><br>
<a name="2005440"></a>

<a name="2005441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Virtech</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> If editing the AndroidManifest means messing with Ant, that's what I've been doing since monkey was released. And I've been doing so for setting things like using native-res, different orientation setups etc. I realize things are different from target to target. That's why I suggested custom config panels across targets, built into the IDE. <br><br></td></tr></table><br>
<a name="2006261"></a>

<a name="2006264"></a>

<a name="2006265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> folder named META-INF, which contains the files CERT.SF and CERT.RSA. Delete these. Your app is now unsigned. Using Eclipse is just overkill. <br></div><br><br>Just tried this and it didnt work... found out that you need to totally delete the META-INF folder from the apk.<br><br>Also you need to zip-align the apk.<br><br>Quick instructions:<br><br>Create the key:<br><pre class=code>
C:\"Program Files"\Java\jdk1.6.0_24\bin\keytool -genkey -alias PirateTriPeaksSolitaire.keystore -keyalg RSA -validity 20000 -keystore keys/PirateTriPeaksSolitaire.keystore
</pre><br>Answer Questions<br><br>Sign the apk:<br><pre class=code>
C:\"Program Files"\Java\jdk1.6.0_24\bin\jarsigner -verbose -keystore keys/PirateTriPeaksSolitaire.keystore -signedjar PirateTriPeaksSolitaire-signed.apk PirateTriPeaksSolitaire.apk PirateTriPeaksSolitaire.keystore
</pre><br>Zip align the apk:<br><pre class=code>
C:\"Program Files (x86)"\Android\android-sdk\tools\zipalign -v 4 PirateTriPeaksSolitaire-signed.apk PirateTriPeaksSolitaire-signed-zipped.apk
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
