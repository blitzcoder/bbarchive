<!DOCTYPE html><html lang="en" ><head ><title >Big images (again)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Big images (again)</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Big images (again)</a><br><br>
<a name="2082817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi folks,<br><br>I know this conversation has come up before, but I'd love to hear some views.<br><br>Our new (WIP) app has some big images (e.g. several are 6144x208 pixels). Certain Android devices just seem to struggle with images of this size, and instead of the intended images just display white blocks.<br><br>The 6144x208 images are used for animating sprites - they contain 32 frames.<br><br>I know Monkey has the capbility of reading these sprites from a different shape image. So I could reshape the 6144x208 image into a 1536x816 image, containing 4 rows of 8 frames.<br><br>Is there any advantage to doing this? Is it more or less likely that Android devices will continue to barf if I resize my big images in this way? <br><br></td></tr></table><br>
<a name="2082822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> On Android everything above 1024 x 1024px is unsure to load. While most already support 2048 (or even 4096) many older devices still have this limitation.<br>On the iOS side you can go with a minimum of 2048. <br><br></td></tr></table><br>
<a name="2082823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> For best compatibility you should use a maximum texture size of 1024x1024 or an equivalent non-square resolution. You may need to trim some frames from your animation, reduce your sprite size or use a good packer/loader to optimise the space used. <br><br></td></tr></table><br>
<a name="2082826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, thanks for the tips, guys<br><br>is there any difference what size i make the texture, i.e. is 1024x1024 "better" than, say, 8192x128? or does it make no difference? <br><br></td></tr></table><br>
<a name="2082829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dragon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OpenGL ES 1 Standard is officially max. 1024x1024 - as i remember<br>But it is possible that some devices can handle larger sizes.<br><br>OpenGL ES 2+ should have no problems with 2048x2048 (=16mb @rgba 8 bit) <br><br></td></tr></table><br>
<a name="2082842"></a>

<a name="2082843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a problem like that with a target I think it was the GLFW(Desktop now) when I first got monkey. it had to do with the limited number of frames when loading directly as frames due to memory limitations. The problem was solved by using atlas and using GrabImage. I don't know if that would solve your problem but maybe. if you are seeing some frames from the image while not others, it should solve your problem. If not or if you are using GrabImage already just ignore this silly programmer. <br><br></td></tr></table><br>
<a name="2082841"></a>

<a name="2083150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is there any difference what size i make the texture, i.e. is 1024x1024 "better" than, say, 8192x128? or does it make no difference? <br></div>You are limited to what the devices maximum texture pixel size is. A texture of 8192x128 would still cause problems if the device can only handle 1024x1024 correctly. As Jesse has already mentioned, an image atlas (also know as a sprite sheet) at 1024x1024 would solve the problem providing that all your animation frames will fit. As far as I am currently aware, GrabImage (and the mojo Image class) requires that your animation frames are all the same width and hight, and must be in a linear order. So if your animation frames don't quite tally to the size of the texture then you will have problems.<br><br>As muddy_shoes says, if you use a texture/sprite packer you can fit more onto a image atlas with optimisations, these being removal of pixels that will not be drawn, in other words the alpha pixels that would be around the edges of a sprite and rotations to maximise available space. The problem then is getting the frames location, rotation and size. There are a number of image atlas/sprite sheet generators available that create both the image atlas and a file that can be parsed to get the locations, rotation and size. You could then store this information in an array and use DrawImageRect to render them.<br><br>One performance tip. Try to reduce the number of draw operations from different images in memory. Basically when you come to drawing enemies/backgrounds you should try to fit as many as you can into one image atlas to avoid a performance hit when gl buffer has to be flushed for the change. There was a <a href="http://www.blitzbasic.com/Community/posts.php?topic=96581#1118577" target="_blank">post by Gabriel</a> over on the general discussion section where this cropped up over a year ago. <br><br></td></tr></table><br>
<a name="2082909"></a>

<a name="2083148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the useful background. 1024x1024 max it is, then.<br><br>Sounds like I should start to pack as many things as possible into a sprite sheet/ atlas for performance reasons, too. <br><br></td></tr></table><br>
<a name="2083154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Last question - is there any easy way to "reshape" a sprite sheet?<br><br>Say I have a linear sheet - 32 animation frames of a sprite, each 192x204 pixels (hence 6144x204 is the entire resolution). If I wanted to reshape the sheet to make 4 "rows" of 8 sprites, that gives an image 1536x816. Manipulating all the sprites to change the size is a pain. Is there an automated way to do this, perhaps a tool I could use? <br><br></td></tr></table><br>
<a name="2083151"></a>

<a name="2083161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note that your images should be powers of two on each dimension.<br><br>I don't know of any tool, though I'd be surprised if there is not something that can do stuff like that.  Learning the scripting language might take longer than processing the image, though.<br><br>That's a big sprite-sheet - do you have many of them?  If it's just a few I'd just grit my teeth and boot up Paint Shop Pro, <br><br></td></tr></table><br>
<a name="2083192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Gerry Quinn: From what I can gather, this requirement is no long the case with modern PC graphics hardware. But using power of two images, the graphics pipeline can take advantage of optimizations related to efficiencies in working with powers of two.<br><br><div class="quote"> If I wanted to reshape the sheet to make 4 "rows" of 8 sprites, that gives an image 1536x816. Manipulating all the sprites to change the size is a pain. Is there an automated way to do this, perhaps a tool I could use? <br></div>I don't think that there are any or many tools to do this automatically, but there are tools that will allow you to extract sprites from images that can the be repacked.<br><br>A few tools to have a look at.<br><a href="http://renderhjs.net/shoebox/" target="_blank">Shoebox</a>.<br><a href="http://darkfunction.com/editor/" target="_blank">darkFunction Editor</a> May be what you are looking for. And I believe it's cross platform but sprite packing is very primitive.<br><a href="http://www.codeandweb.com/texturepacker" target="_blank">Texture Packer</a><br><a href="http://spritesheetpacker.codeplex.com" target="_blank">Sprite Sheet Packer</a><br><a href="http://www.retroaffect.com/blog/159/Image_Atlas_Packer/" target="_blank">Image Atlas Packer</a> <br><br></td></tr></table><br>
<a name="2083191"></a>

<a name="2083190"></a>

<a name="2083189"></a>

<a name="2083198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> it can be done in Gimp pretty easy. What I usually do is view-&gt;show grid, view-&gt;snap to grid, image-&gt;configure grid, set the grid to the size of the tiles, select the rectangle select tool, select the tiles you want to move. cut and paste. The snap to grid makes it easy to select and align the tiles. <br><br></td></tr></table><br>
<a name="2083199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >silentshark</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great pointers. Thanks :-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
