<!DOCTYPE html><html lang="en" ><head ><title >Ant command not found in OS X 10.10 Yosemite</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Ant command not found in OS X 10.10 Yosemite</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >Ant command not found in OS X 10.10 Yosemite</a><br><br>
<a name="2094817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Oliver</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had everything working in 80c on my Mac OS X 10.9 Mavericks and could build from Monkey to several Android devices.<br><br>After installing OS X 10.10 Yosemite (beta) now I can't build to the Android target. I get this in the Ted console:<br><br>"/Applications/MonkeyXPro80c/bin/transcc_macos" -target=Android_Game_(Experimental) -config=Debug -run "/Monkey/Any Screen/anyscreen.monkey"<br>TRANS monkey compiler V1.73<br>Parsing...<br>Semanting...<br>Translating...<br>Building...<br>sh: ant: command not found<br>TRANS FAILED: Android build failed.<br>Done.<br><br>I've tried both the experimental and non-experimental Android Game targets. <br><br>I verified the ant location in my config.macos.txt and it's the same as it was under Mavericks.<br><br>I can re-boot back to Mavericks on the old partition and the same Monkey project works again.<br><br>I did have to update Java and tweak the JRE settings in Eclipse, and after that verified I can build projects onto Android directly from Eclipse.<br><br>Any ideas?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="2094878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ant got removed from OS X at some point I think - there should be a binary version around somewhere you can install, but it doesn't seem to be easy to find! Will keep looking... <br><br></td></tr></table><br>
<a name="2094879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ANT if I remember, was no longer part of OSX when Mavericks came out. You could try mac ports/home brew or try and build ANT directly from source. <br><br></td></tr></table><br>
<a name="2094880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Oliver</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have Ant installed, and when I boot back into Mavericks, Monkey can find it and build with it. My config in Monkey hasn't changed. Only the partition I am booting to has changed. When I boot to Mavericks, everything is fine. When I boot to Yosemite, then Monkey can't find Ant.<br><br>So just to be clear, I didn't change anything about my Monkey install at all. I kept it the way it was in Mavericks, and installed Yosemite to another partition. When I boot to the Yosemite partition, I am still using the same Monkey install. <br><br></td></tr></table><br>
<a name="2094881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then it could be a PATH problem?<br><br>If you open a command line and just type 'ant' what happens? <br><br></td></tr></table><br>
<a name="2094903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you have Monkey and ANT installed on Mavericks and are accessing it when booted into Yosemite and you haven't change any thing? Does this mean that you have not updated the config.macos.txt file in the bin directory? If so, then as Mark says this is a path problem and sound to me that you need to update the config file to include the volume as part of the path.<br>Try this.<br><br>Run Monkey in Yosimite and open the config.macos.txt file. Never open this file with the text editor that comes with Mavericks or Yosimite, unless you have turned off smart quotes and dashes etc.<br><br>Open Finder and navigate to where ANT is located on the Mavericks partition. NOTE that you may have to turn on the <a href="http://lifehacker.com/188892/show-hidden-files-in-finder" target="_blank">show hidden files and directories feature</a> if they are in the /usr directory etc.<br>When you turn on show hidden files and directories, and open the what should be the hard drive for Yosemite, you will see a directory called Volumes. It is here where you will find mounted devices such as hard drives and Network Attached Storage devices.<br><br>Add new path variables to the config.macos.txt file by right clicking the directory of where ANT etc resides, and select 'Get Info'. In the dialog in the general section, it should give you the full path. You should be able to copy and paste this.<br>After making the changes, save the file and restart Monkey. <br><br></td></tr></table><br>
<a name="2094901"></a>

<a name="2094902"></a>

<a name="2094900"></a>

<a name="2094932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Oliver</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @marksibly<br><br>When I type 'ant' at the terminal prompt I get:<br>Buildfile: build.xml does not exist!<br>Build failed<br><br>and if I display my path it is:<br>/usr/local/bin:/usr/bin:/bin:/usr/sbin:/sbin:/Users/me/adt-bundle-mac-x86_64/sdk/platform-tools/:/Users/me/apache-ant-1.9.4/bin/ <br><br></td></tr></table><br>
<a name="2094933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Oliver</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @dawlane<br><br>Thank you for the detailed reply!<br><br>I'm not sure why I would need to edit config.macos.txt file if I'm using the same Ant directory under both Mavericks and Yosemite? and the same Monkey installation?<br><br>Just to be sure, I did open config.macos.txt in Monkey and re-saved it, and re-started Monkey. I'm using the same user directory (not a new one under Yosemite).<br><br>As another check, in terminal if I cd $HOME/apache-ant-1.9.4 it opens up the ant directory. $HOME/apache-ant-1.9.4 is what I have set in my config.macos.txt <br><br></td></tr></table><br>
<a name="2094934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Oliver</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone been able to build to Android under Yosemite? <br><br>I wonder if this is an issue with my particular setup, or a general issue with Yosemite. If someone has it working, please let us know. <br><br></td></tr></table><br>
<a name="2094963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Has anyone been able to build to Android under Yosemite? <br></div><br>I remember having such problems back when I installed everything month ago, using Mac OS X Mavericks (10.9.x).<br><br>The problem for me was, newer versions of Java are 64bit only, and there was an incompatibility<br>with a build-tool that requires 32bit Java.<br>I found out about it by starting some of the involved build commands at command line.<br>So I deleted all newer versions of Java (1.7.x) from /System/Library/Java/JavaVirtualMachines/ and installed only<br>Java JDK version 1.6.0.jdk there. Since then, everything works fine for me, with Mavericks (latest 10.9.5 now).<br><br>Could it be the same issue with your Yosemite? I don't use it, as it is not final yet. The problem just<br>sounds familiar to me, so I thought I tell you anyway... ;)<br><br>EDIT:<br>The version I had to install was: <a href="http://support.apple.com/kb/dl1572" target="_blank"><u>Java for OS X 2014-001</u></a> <br><br></td></tr></table><br>
<a name="2094939"></a>

<a name="2094941"></a>

<a name="2094942"></a>

<a name="2094980"></a>

<a name="2094986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Steve Oliver wrote</b><br><b>Post 4</b><br><div class="quote"> So just to be clear, I didn't change anything about my Monkey install at all. I kept it the way it was in Mavericks, and installed Yosemite to another partition. When I boot to the Yosemite partition, I am still using the same Monkey install. <br></div>This to me, is that you're saying that you are trying to access the Monkey installed on the Mavericks Partition while you are booted into Yosemite. Hence the detailed in post 6.<br><b>Post 8</b><br><div class="quote"> I'm not sure why I would need to edit config.macos.txt file if I'm using the same Ant directory under both Mavericks and Yosemite? and the same Monkey installation?<br><br>Just to be sure, I did open config.macos.txt in Monkey and re-saved it, and re-started Monkey. I'm using the same user directory (not a new one under Yosemite). <br></div>The last bit "<b>I'm using the same user directory (not a new one under Yosemite)</b>" tells me that you should need to use a full absolute paths to the executables directory found on the Mavericks partition with no system variables in your config.macos.txt file; unless you have set up the $HOME variable in Yosemite to point to the user directory in Mavericks. Also make sure the you have the JDK installed in Yosemite.<br><br>@Danilo: Never had a problem with installing JDK 1.7.x on Mavericks. The only issue that could arise is using the NDK. <br><br></td></tr></table><br>
<a name="2094950"></a>

<a name="2094943"></a>

<a name="2094944"></a>

<a name="2094945"></a>

<a name="2094946"></a>

<a name="2094947"></a>

<a name="2094948"></a>

<a name="2094949"></a>

<a name="2095026"></a>

<a name="2095027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I am getting the same problem here on my home Mac! Ant is there, config file is correct and I only have one partition - and it *used* to work. Will look into it very soon. <br><br></td></tr></table><br>
<a name="2095034"></a>

<a name="2095035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weirdly, ant now appears to require a full path when executing it via system() - it's not just enough to be in the current dir and execute "ant". It used to be, but yosemite must have changed something.<br><br>Anyway, seems to be fixed here now, will upload a new version tomorrow. <br><br></td></tr></table><br>
<a name="2095036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could it be possible that they have strengthened the "Do not execute unsigned programs" feature? It may be worth it to see if any thing has cropped up in the beta test forums about execution of user installed tools. <br><br></td></tr></table><br>
<a name="2095039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps "." is not in $PATH ?<br>As a test you could try "./ant" in the system call to see if it picks it up from the current dir.<br><br>That's the only reason I can see why you wouldn't find something in the current dir. <br><br></td></tr></table><br>
<a name="2095144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pellegrinetti</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I upgrade today my 2 mac to yosemite... and have the same problem with ANT (ant not found)... and the problem also occurs with flash target (mxmlc not found) <br><br></td></tr></table><br>
<a name="2095145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I have finally got round to installing Yosemite. There has definitely been a major change.<br>I didn't do a clean install, just the upgrade and opening app bundles in the normal way results in the ant not found problem.<br>But if I open the the Ted binary directly (right click the app bundle Show Package Contents, Contents\MacOSX\, it works as it should, as does building from the command line.<br>I will see what happens when I do a clean install. <br><br></td></tr></table><br>
<a name="2095153"></a>

<a name="2095154"></a>

<a name="2095155"></a>

<a name="2095156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK looks like Apple have changed the way the launch service works.<br>If you want a quick and dirty way to get your application work then open up the Applescript editor and past the code below.<br><pre class=code>set MONK_PATH to POSIX path of ((path to me as string) &amp; "::") &amp; "bin/Ted.app/Contents/MacOS/Ted "
do shell script MONK_PATH &amp; " &gt; /dev/null 2&gt;&amp;1 &amp;"</pre><br>Save this as an app bundle in your MonkeyX root directory. I haven't figured out yet on how to pass files to the app script bundle yet.<br><br>@Mark: Not too sure of whats going on, but it looks to me like that when the Execute function is being called that the PATH variable is being reset when it calls an external process like ant.<br>In stead of building the transcc paths and then placing them back as PATH. I set it a a new environment variable TRANS_PATH and over rode the PATH variable when calling ant.<br>PATH=$TRANS_PATH &amp;&amp; ant<br>This so far is working <br><br></td></tr></table><br>
<a name="2095430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Oliver</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Android api 10 is now working on Mac OS X Yosemite with Monkey 81b.<br><br>Thanks, Mark! <br><br></td></tr></table><br>
<a name="2095555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jjunior</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, I solved this problem in Yosemite, installing Apache Ant via MacPorts and creating a symbolic link in the folder /bin <br><br>cd /bin <br>sudo ln -s /opt/local/share/java/apache-ant ant <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
