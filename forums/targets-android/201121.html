<!DOCTYPE html><html lang="en" ><head ><title >How to create admob ads in Monkey - guide</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to create admob ads in Monkey - guide</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=502" >Android</a>/<a href="#bottom" >How to create admob ads in Monkey - guide</a><br><br>
<a name="2009748"></a>

<a name="2009750"></a>

<a name="2009751"></a>

<a name="2009765"></a>

<a name="2009766"></a>

<a name="2010019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all I would like to thank Bladum for his help in the below post<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=1091&amp;" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=1091&amp;</a><br><br>Second, I want to say that this isn't perfect and displays AdMob ads at the bottom of of a portrait screen only. Looks good in a 320*480 resolution.<br>This is untested on other devices.<br>I will post up landscape screen code when I have some time.<br><br>This is tested on v42b of Monkey. I will confirm v43 later.<br><br>I advise you to take a copy of all files before editing them<br><br>You will need an Admob ad unit, at www.Admob.com<br><img src="http://img651.imageshack.us/img651/9283/image2efj.jpg"><br><br>Steps:<br>First you need to edit the Monkey\targets\android\templates\res\layout\main.xml file<br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"

	android:layout_width="fill_parent"
	android:layout_height="fill_parent"
	android:orientation="vertical" &gt;

	&lt;view class="${APP_PACKAGE}.MonkeyGame$MonkeyView"
    	android:id="@+id/monkeyview"
		android:keepScreenOn="true"
  		android:layout_width="fill_parent"
		android:layout_height="fill_parent"
		/&gt;

&lt;com.google.ads.AdView
            android:id="@+id/adView"
            android:layout_width="wrap_content"
            android:layout_height="50px"
            android:layout_alignParentBottom="true"
            ads:loadAdOnCreate="true"
	ads:adUnitId="YOUR_AD_ID"
            ads:adSize="BANNER" /&gt;

&lt;/RelativeLayout&gt;
</pre><br>Please note: YOUR_AD_ID is the id of your ad on Admob.<br><br>Second you need to edit you Monkey\targets\android\templates\AndroidManifest.xml file<br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="${APP_PACKAGE}"
	android:versionCode="1"
	android:versionName="1.0"&gt;
	&lt;uses-sdk 
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;
	&lt;application android:label="${APP_LABEL}" android:icon="@drawable/icon"&gt;
		&lt;activity 
			android:name="MonkeyGame" 
			android:label="${APP_LABEL}"
			android:screenOrientation="${SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation"
			android:theme=\"@...;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
    &lt;activity android:name="com.google.ads.AdActivity"
              android:configChanges="keyboard|keyboardHidden|orientation"/&gt;
	      	&lt;/application&gt;
 &lt;uses-permission android:name="android.permission.INTERNET"/&gt;
  &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;
&lt;/manifest&gt;
</pre><br><br>=UPDATE= Third step not required. Kept here for history purposes. gogot step 4 <br>Thirdly, (I think) you need to edit your Monkey\targets\android\res\values\strings.xml file<br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;resources&gt;
    &lt;declare-styleable name="com.google.ads.AdView"&gt;
        &lt;attr name="adSize"&gt;
            &lt;enum name="BANNER" value="1"/&gt;
            &lt;enum name="IAB_MRECT" value="2"/&gt;
            &lt;enum value="3" name="IAB_BANNER"/&gt;
            &lt;enum value="4" name="IAB_LEADERBOARD"/&gt;
        &lt;/attr&gt;
        &lt;attr name="adUnitId" format="string"/&gt;        
        &lt;attr format="string" name="loadAdOnCreate"/&gt;
    &lt;/declare-styleable&gt;
&lt;/resources&gt;
</pre><br><br>4 - Next you need to upload GoogleAdMobAdsSdk-4.1.0.jar to the Monkey\targets\android\libs folder. (4.1.0 lib works, try not to use versions above this)<br>This file is available from the admob site when you create an app ad.<br><br>That should be it...<br><br>Delete the android folder in your {project}.build dir, and recompile your app.<br><br>If you have an internet connection on your device the ad should appear at the bottom.<br>UPDATE:The first ad may take 2 mins to generate<br><br>If you need to work out where the bottom of the screen is.. your new height is <br><pre class=code>
screeny_ratio = DeviceHeight()/your_game_height
new_height = DeviceHieght() - (50/screeny_ratio)
</pre><br>comments welcome <br><br></td></tr></table><br>
<a name="2009756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for this Rich, it will be most useful :) <br><br></td></tr></table><br>
<a name="2009767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> please note there has been an update to some of the above code... (50px instead of 48px) <br><br></td></tr></table><br>
<a name="2010005"></a>

<a name="2010007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bladko</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> just my few comments, please feel free to update guide based on this:<br><br>1) if this line exist in android manifest<br><br> xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads<br><br>then we dont need to setup variables in strings.xml due to fact those variables are defined in ads library (do not add this file at all)<br><br>2) use only latest 4.1.0 libs, ive been working and 4.0.4 and there are not working same way (add are not displayed at all)<br><br>3) this way is compatible with diddy engine <br><br>4) no need to add any java code, just XML addon in menu.xml<br><br>5) it is wise to change screen parameters, this is at least my code<br>This work best with porttait if landscape is used then change Width<br><br><pre class=code>
		SCREEN_WIDTH = w
		SCREEN_HEIGHT = h
		SCREEN_WIDTH_2 = SCREEN_WIDTH / 2
		SCREEN_HEIGHT_2 = SCREEN_HEIGHT / 2		
	
		DEVICE_WIDTH = DeviceWidth()
		DEVICE_HEIGHT = DeviceHeight() - 50
		
		SCREENX_RATIO = DEVICE_WIDTH/SCREEN_WIDTH
		SCREENY_RATIO = DEVICE_HEIGHT/SCREEN_HEIGHT	
</pre><br><br>6) its working with monkey 43 <br><br></td></tr></table><br>
<a name="2010018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> many thanks for confirming... I'll update the guide <br><br></td></tr></table><br>
<a name="2010313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bladko</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> it would be cool to add "ads" verticaly while game runs horizontaly<br><br><pre class=code>

xxxxxxxxxxxxxxxxxxxxxxxxxx
x                    x A x
x                    x D x
x                    x V x
x                    x E x
x                    x R x
x                    x T x
xxxxxxxxxxxxxxxxxxxxxxxxxx

</pre> <br><br></td></tr></table><br>
<a name="2010308"></a>

<a name="2010309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> it looks like they don't do vertical ads<br><a href="https://www.google.com/adsense/static/en_GB/AdFormats_mobile.html" target="_blank">https://www.google.com/adsense/static/en_GB/AdFormats_mobile.html</a><br><br>doesn't stop adding them in bottom corner though. Not really a solution is screen area is out of ratio and wierd L shape<br><br><pre class=code>
============================
=                          =
=                          =
=                          =
=                          =
=                          =
=               ============
=               =  ADVERT  =
============================
</pre> <br><br></td></tr></table><br>
<a name="2010310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Supertino</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh nice guide, come here to ask if we could put ads in and well here you are.  Thanks Pants. <br><br></td></tr></table><br>
<a name="2010311"></a>

<a name="2010312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bladko</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking to make portrait game (from android point of view) then to cheat a bit in monkey engine (switch X and Y) and prepare all graphics rotated 90 degrees<br><br>this is very brutal workaround to this problem <br><br></td></tr></table><br>
<a name="2010318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> all my games are designed that way... the only problem is that the ads are on their side when horizontal and doesn't look professional.<br><br>What would be nice is some java code (and monkey functions) to slide that view up and down out of the way. (or to position it anywhere) <br><br></td></tr></table><br>
<a name="2011731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Friends, Romans and Developers... lend me an ear<br><br>I've gone and lost GoogleAdMobAdsSdk-4.1.0.jar even though i said not to use any other version ;-)<br>I can only find GoogleAdMobAdsSdk-4.1.1.jar on tinternet.<br><br>Does anyone have a copy they can send to me? <br><br></td></tr></table><br>
<a name="2012553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Spacehunter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> To whom it may concern, I was able to use the latest version of Admob ( GoogleAdMobAdsSdk-4.1.1.jar ) with no problems. <br><br></td></tr></table><br>
<a name="2014632"></a>

<a name="2014633"></a>

<a name="2014634"></a>

<a name="2014637"></a>

<a name="2014638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I cannot get this to work?<br><br>I've even tried adding: android:backgroundColor="#FFFFFF" to see if I can spy a box where it should be, and there's nowt!?!<br><br>Using Monkey Pro V45(c), GoogleAdMobAdsSdk-4.1.1.jar and Diddy<br><br>Followed the steps about 6 times in case I've missed anything and not a dicky bird!<br><br>Main.XML<br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout xmlns:android="http://schemas.android.com/apk/res/android"
xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"
	
	android:layout_width="fill_parent"
	android:layout_height="fill_parent"
	android:orientation="vertical" &gt;

	&lt;view class="${APP_PACKAGE}.MonkeyGame$MonkeyView"
    	android:id="@+id/monkeyview"
		android:keepScreenOn="true"
  		android:layout_width="fill_parent"
		android:layout_height="fill_parent"
		/&gt;
	
	&lt;com.google.ads.AdView
            android:id="@+id/adView"
            android:layout_width="wrap_content"
            android:layout_height="50px"
			android:backgroundColor="#FFFFFF"
            android:layout_alignParentBottom="true"
            ads:loadAdOnCreate="true"
			ads:adUnitId="a14e6c73d46d51e"
            ads:adSize="BANNER" /&gt;
&lt;/RelativeLayout&gt;
</pre><br><br>AndroidManifest.XML<br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"

	package="${APP_PACKAGE}"
	
	android:versionCode="1"
	android:versionName="1.0"
	android:installLocation="auto"&gt;
	
	&lt;uses-sdk 
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;
		
	&lt;uses-feature android:glEsVersion="0x00010001" /&gt;
		
	&lt;application android:label="${APP_LABEL}" android:icon="@drawable/icon"&gt;
		&lt;activity 
			android:name="MonkeyGame" 
			android:label="${APP_LABEL}"
			android:screenOrientation="${SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation"
			android:theme=\"@...;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
		&lt;activity android:name="com.google.ads.AdActivity"
              android:configChanges="keyboard|keyboardHidden|orientation"/&gt;
	&lt;/application&gt;
	
	&lt;uses-permission android:name="android.permission.INTERNET"/&gt;
	&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;
&lt;/manifest&gt; 
</pre><br><br>Also, if I copy and paste the xml in the guide straight to the respected files, I receive this error:-<br><br><b>[Fatal Error] :15:18: Open quote is expected for attribute "{1}" associated with an  element type  "android:theme".</b><br><br>Dabz <br><br></td></tr></table><br>
<a name="2014640"></a>

<a name="2014641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something is obviously happening as i've had 5 requests on the admobs site thingy! :D<br><br><br>EDIT: On 8 now!?!<br><br>Dabz <br><br></td></tr></table><br>
<a name="2014651"></a>

<a name="2014652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only thing i can maybe see is that the CODE sections on monkeycoder like adding extra \ symbols to lines... check you android theme line and make sure there are no \ symbols after the = symbol and " symbol<br><br>I think the forum likes making " symbols safe by making them \" <br><br></td></tr></table><br>
<a name="2014669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I shifted them... Copied an pasted the XML from the guide, built.. Ran... Waited for a bit... 'Requests' incremented by 1, so something is happening... My requests are 31, and impressions are 20.<br><br>Yet, I cannot see a bloody thing on me phone!<br><br>Dabz <br><br></td></tr></table><br>
<a name="2014697"></a>

<a name="2014699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> So it doesn't crash anymore?<br><br>I lost ads on my phone the other day....<br>Maybe a monkey thing.. not sure. They work in the Android simulator.<br><br>I did seem to coincide when I upgrade the firmware on my phone, from 2.1 to 2.2 (cyanogenmod)<br>Again all counters increment.<br><br>What Android version are you running? <br><br></td></tr></table><br>
<a name="2014708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, it actually never crashed when I entered the xml manually, it was only when I copied and pasted from the code boxes, then built it that it give me the finger (Which is why I mentioned it at the end in the post above)! :)<br><br>Erm, Android 2.2<br><br>I've created house ads in the vain hope they'll pop through, but, they dont.<br><br>I've used GoogleAdMobAdsSdk-4.1.1.jar, as well as downloading and replacing that one with GoogleAdMobAdsSdk-4.1.0.jar<br><br>I've tried running it though a basic monkey app... Only thing left to ask is what version of monkey are you using, if its the newest, then it looks like its royally screwed on my end for whatever unknown reason.<br><br>EDIT: Just spied the version in the top post... Will give that a whirl<br><br>Dabz <br><br></td></tr></table><br>
<a name="2014700"></a>

<a name="2014701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, and I appreciate the help on this... I've tried full paid apps on iOS, and it would be nice to see how the ad model works with something else! :)<br><br>Dabz <br><br></td></tr></table><br>
<a name="2014762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe its HTC Desire.<br>my firmware is based on the HTC Desire phone (even though I'm running it on my Sony X8)<br><br>Anyone else with HTC or HTC Desire got this working? <br><br></td></tr></table><br>
<a name="2014786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> *cough*<br><br><a href="http://www.monkeycoder.co.nz/Community/post.php?topic=1246&amp;post=14785" target="_blank">http://www.monkeycoder.co.nz/Community/post.php?topic=1246&amp;post=14785</a><br><br>\o/<br><br>Looks like my ads are iOS only!!! :D<br><br>Even though we never figured it out what the hell went wrong in Android, I'm pretty pleased I've got it grafting on at least one mobile platform! <br><br>Again, thanks for your help pantson, and thanks for including an iOS guide too... Your a good'un! ;)<br><br>Dabz <br><br></td></tr></table><br>
<a name="2015171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone.<br><br>pantson, I've just tried this on my HTC desire (doing the guide in the first post, ignoring step 3) and I am not seeing any ad window even with having the app run for 3-4 minutes. I am using version 4.1.1 because I couldn't find the older version.<br><br>Edit: However, the requests are appearing on the admob site! <br><br></td></tr></table><br>
<a name="2015169"></a>

<a name="2015206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bladum, you posted the below : <br><br><pre class=code>SCREEN_WIDTH = w
SCREEN_HEIGHT = h
SCREEN_WIDTH_2 = SCREEN_WIDTH / 2
SCREEN_HEIGHT_2 = SCREEN_HEIGHT / 2		

DEVICE_WIDTH = DeviceWidth()
DEVICE_HEIGHT = DeviceHeight() - 50
		
SCREENX_RATIO = DEVICE_WIDTH/SCREEN_WIDTH
SCREENY_RATIO = DEVICE_HEIGHT/SCREEN_HEIGHT</pre><br>In what way does this affect or have an impact on the Admob code / changes to the XML files? I am beginning to think that the main "monkeyview" is just pushing the ad view off the bottom of the screen.<br><br>Thanks <br><br></td></tr></table><br>
<a name="2015220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Somethings going on here! I'm trying to figure out landscape mode and for a while the ads were showing towards the top left of the screen, but they've now gone again... <br><br></td></tr></table><br>
<a name="2015222"></a>

<a name="2015223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> raz.. I'm thinking that the code doesn;t work on HTCs. why? I don't know. I don't know enough about Android to know if that is the case.<br><br>I have a Sony X8 with an HTC firmware. Before the firmware upgrade, ads worked on my device. After the ads didn't work. <br>The same code works fine on a friends Samsung.<br><br>The code that bladum posted doesn't affect anything. Its just some quick constant variables showing that the screen height is now 50 pixels left (due to the Ad)<br><br>Has anyone else with an HTC tried this?<br><br>All my landscape games are rotated within Monkey (and not via the android manifest file) Why? I just like it that way. It also means that ads are always in the same location (bottom of the portrait screen) <br><br></td></tr></table><br>
<a name="2015269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's very odd that very briefly the ad was showing but about 5 pixels down and right from the top left hand corner (I then of course changed the settings, the ads disappeared and now I can't get them back!).<br><br>The stats suggest that the advert is appearing, but for whatever reason it's just not showing on screen (maybe it's off screen, maybe it's behind the monkey view?).<br><br>I'm going to try installing Eclipse and what not tonight and see if I can get a test app to show the adverts as expected and then hopefully translate that to Monkey. I'll let everyone know how I get on. <br><br></td></tr></table><br>
<a name="2015337"></a>

<a name="2015338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> one way to see if it monkey is in the way is to change the main.xml so that monkey is forced to a smaller play area<br><br>You would have to do this in the templates/res/layout folder in the build dir and then re build.<br><pre class=code>
	&lt;view class="${APP_PACKAGE}.MonkeyGame$MonkeyView"
    	android:id="@+id/monkeyview"
		android:keepScreenOn="true"
            android:layout_width="120px"
            android:layout_height="160px"
		/&gt;

</pre> <br><br></td></tr></table><br>
<a name="2015344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rich, I did actually try that, but it just caused a blank screen every time I tried. I think I'll have to mess around more at the weekend <br><br></td></tr></table><br>
<a name="2017066"></a>

<a name="2017067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried it with Monkey 47c and the latest Android SDK + latest Admob 4.3.1. I see the banner space BUT I get the following error message there:<br><br><b>You must have AdActivity declared in AndroidManifest.xml with configChanges.</b><br><br>Any ideas? Google gives exactly ONE result in some strange language. :D<br><br>edit: Oh and I HAVE declared AdActivity in my Manifest:<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="${APP_PACKAGE}"
	android:versionCode="1"
	android:versionName="1.0"&gt;
	android:installLocation="auto"&gt;
	&lt;supports-screens android:resizeable="false"
                  android:smallScreens="true"
                  android:normalScreens="true"
                  android:largeScreens="true"
                  android:anyDensity="true" /&gt;	
	&lt;uses-sdk 
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;
	&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
  &lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;
	&lt;uses-feature android:glEsVersion="0x00010001" /&gt;
	&lt;application android:label="${APP_LABEL}" android:icon="@drawable/icon"&gt;
		&lt;activity 
			android:name="MonkeyGame" 
			android:label="${APP_LABEL}"
			android:screenOrientation="${SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation"
			android:theme=\"@...;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
    &lt;activity android:name="com.google.ads.AdActivity"
              android:configChanges="keyboard|keyboardHidden|orientation"/&gt;
	&lt;/application&gt;
&lt;/manifest&gt; 
</pre> <br><br></td></tr></table><br>
<a name="2017070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> honestly.. don't know at the mo. Not played with v47 yet.<br>I may have a look tonight. <br><br></td></tr></table><br>
<a name="2017236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! Have you had a chance to look at this issue yet? :) <br><br></td></tr></table><br>
<a name="2017334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry, been away on holiday with the family.<br>I'll have a look tonight. <br><br></td></tr></table><br>
<a name="2017336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> No need to apologize! I really appreciate your efforts! :) <br><br></td></tr></table><br>
<a name="2017337"></a>

<a name="2017338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> have you tried turning the \" into " on that blue line? <br><br></td></tr></table><br>
<a name="2017339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> This blue line seems to be a bug of this forum. In the original manifest it isn't there. <br><br></td></tr></table><br>
<a name="2017342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> just to let you know. I have the same issue after upgrading to v47<br>(taken 2 hours to upgrade my laptop to v47 phew) <br><br></td></tr></table><br>
<a name="2017343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK fixed..<br>after reading the API docs here<br><a href="http://code.google.com/mobile/ads/docs/android/fundamentals.html#requirements" target="_blank">http://code.google.com/mobile/ads/docs/android/fundamentals.html#requirements</a><br>There are more items for the manifest XML<br><pre class=code>
   &lt;activity android:name="com.google.ads.AdActivity"
              android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/&gt;
</pre> <br><br></td></tr></table><br>
<a name="2017358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rich, I added that but now I don't see anything at all... Will have a deeper look what's going wrong here.<br><br>edit: Looks like the same issue raz had. I have a HTC Desire HD...<br>edit2: Google Nexus has the same non visibility. Just to make sure, here's my simple test code, nothing fancy's going on here:<br><br><b>Could someone who has AdMob please test this code with Monkey 47 and latest Google SDK? THANKS!</b><br><br><br><pre class=code>
Strict

Import mojo

Global adtestApp:AdTest

Function Main:Int()
  adtestApp = New AdTest()
  Return 0
End Function

Class AdTest Extends App
  Method OnCreate:Int()
    SetUpdateRate(30)
    Return 0
  End Method

  Method OnUpdate:Int()
    Return 0
  End Method
  
  Method OnSuspend:Int()
    Return 0
  End Method
  
  Method OnResume:Int()
    Return 0
  End Method

  Method OnRender:Int()
    PushMatrix()
    Cls()
    DrawText( "Hello World", 10, 10 )
    PopMatrix()
    Return 0
  End Method

End Class
</pre><br><br>My main.xml<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;RelativeLayout
  xmlns:android="http://schemas.android.com/apk/res/android"
  xmlns:ads="http://schemas.android.com/apk/lib/com.google.ads"

	android:layout_width="fill_parent"
	android:layout_height="fill_parent"
	android:orientation="vertical" &gt;

	&lt;view class="${APP_PACKAGE}.MonkeyGame$MonkeyView"
    	android:id="@+id/monkeyview"
		android:keepScreenOn="true"
  		android:layout_width="fill_parent"
		android:layout_height="fill_parent"
		/&gt;

&lt;com.google.ads.AdView
            android:id="@+id/adView"
            android:layout_width="wrap_content"
            android:layout_height="50px"
            android:layout_alignParentBottom="true"
            ads:loadAdOnCreate="true"
            ads:adUnitId="a14************"
            ads:adSize="BANNER" /&gt;

&lt;/RelativeLayout&gt;
</pre><br><br>My AndoidManifest.xml<br><br><pre class=code>
&lt;?xml version="1.0" encoding="utf-8"?&gt;
&lt;manifest xmlns:android="http://schemas.android.com/apk/res/android"
	package="${APP_PACKAGE}"
	android:versionCode="1"
	android:versionName="1.0"
	android:installLocation="auto"&gt;
	&lt;uses-sdk 
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;
	&lt;uses-permission android:name="android.permission.INTERNET" /&gt;
	&lt;uses-permission android:name="android.permission.ACCESS_NETWORK_STATE"/&gt;
	&lt;uses-feature android:glEsVersion="0x00010001" /&gt;
	&lt;application android:label="${APP_LABEL}" android:icon="@drawable/icon"&gt;
		&lt;activity 
			android:name="MonkeyGame" 
			android:label="${APP_LABEL}"
			android:screenOrientation="${SCREEN_ORIENTATION}"
			android:configChanges="keyboardHidden|orientation"
			android:theme=\"@...;
			&lt;intent-filter&gt;
				&lt;action android:name="android.intent.action.MAIN" /&gt;
				&lt;category android:name="android.intent.category.LAUNCHER" /&gt;
			&lt;/intent-filter&gt;
		&lt;/activity&gt;
    &lt;activity android:name="com.google.ads.AdActivity"
              android:configChanges="keyboard|keyboardHidden|orientation|screenLayout|uiMode|screenSize|smallestScreenSize"/&gt;
	&lt;/application&gt;
&lt;/manifest&gt; 
</pre> <br><br></td></tr></table><br>
<a name="2017354"></a>

<a name="2017355"></a>

<a name="2017357"></a>

<a name="2017363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> just comparing code now <br><br></td></tr></table><br>
<a name="2017364"></a>

<a name="2017365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rich! Maybe you could just send me a simple test app (apk file) where it works? Just to check if it's on my phone's side... <br><br></td></tr></table><br>
<a name="2017367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> I hate to say this.. but your code works for me.<br><img src="http://img39.imageshack.us/img39/1576/image2gfdvy.jpg"><br><br>This is what I did..<br><br>1) Created a new project..<br>2) copied your monkey code<br>3) compiled the code (no ads working here)<br>4) copied over the the manifest file and main layout xml file with your settings<br>5) Make sure GoogleAdMobAdsSdk-4.3.1.jar is in the .build/android/libs folder<br>6) recompiled and ran in the emulator<br><br>I also made sure the blue line in the androidmanifest file read<br>" and not \" <br><br></td></tr></table><br>
<a name="2017366"></a>

<a name="2017369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> working APK<br><a href="http://www.mediafire.com/?ccbsk70c8lxuhre" target="_blank">http://www.mediafire.com/?ccbsk70c8lxuhre</a> <br><br></td></tr></table><br>
<a name="2017370"></a>

<a name="2017371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks will check that in the emulator. Your apk doesn't show a banner on my device...<br><br>I don't have any ad blockers installed but my device is rooted and has a custom ROM (2.3.5) <br><br></td></tr></table><br>
<a name="2017372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... I exactly tried the same and looked if GoogleAdMobAdsSdk-4.3.1.jar is in the .build/android/libs folder. And it is. But no banner in the emulator nor in the real device. This is totally strange. I see no banner with your apk as well... <br><br></td></tr></table><br>
<a name="2017373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have too a custom rom installed on my X8 (HTC 2.2) and I can't see any ads on that. no errors just blank. So it may be the custom roms that have issues.<br><br>I do get them in my emulator though. <br><br></td></tr></table><br>
<a name="2017374"></a>

<a name="2017375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm ok. On the Google Nexus I have access, there are no ads as well - and no custom ROM there. I had this error message from above without the configChanges so the banner space IS there.<br><br>I don't see any banner in the emulator though, no matter if I choose Android 2.1 or 2.2.<br><br>I'll continue to track this down, thanks for your help! :)<br><br>BTW: What's the difference between &lt;RelativeLayout /&gt; and &lt;LinearLayout /&gt; in the main.xml? I ask because the docs refer to LinearLayout where you use RelativeLayout. <br><br></td></tr></table><br>
<a name="2017376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> HA! I think I've nailed it down!<br><br>The main problem seems to be the resolution. Usually I use 480x800 for testing even with the emulator. Now that looks like:<br><br><img src="http://www.xaron.net/dl/monkey/admob2.png"><br><br>NOW, if I remove the following lines from the manifest:<br><br><pre class=code>
 	&lt;uses-sdk 
		android:minSdkVersion="3"
		android:targetSdkVersion="7" /&gt;
</pre><br><br>It looks like:<br><br><img src="http://www.xaron.net/dl/monkey/admob1.png"><br><br>Voila, there is the add, but the resolution looks scaled.<br><br>Next I tried to set up an emulator with 320x480 instead of 480x800 and now everything is perfect:<br><br><img src="http://www.xaron.net/dl/monkey/admob3.png"><br><br>It seems that we miss something here. This should explain why you see the ad on your device (which has 320x480 obviously) but I don't as it has a resolution of 480x800. <br><br></td></tr></table><br>
<a name="2017377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, finally got it:<br><br>In main.xml REPLACE:<br><br><pre class=code>
android:layout_height="50px"
</pre><br><br>with:<br><br><br><pre class=code>
android:layout_height="wrap_content"
</pre><br><br>and it works. :)<br><br>With 480x800 it looks like:<br><br><img src="http://www.xaron.net/dl/monkey/admob4.png"><br><br>with 320x480 it looks like:<br><br><img src="http://www.xaron.net/dl/monkey/admob5.png"> <br><br></td></tr></table><br>
<a name="2017378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice work...<br>Will try the wrap_content on my device. <br><br></td></tr></table><br>
<a name="2017382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> still doesn't work on my X8 :-(<br><br>The joys of Android and the many devices. Its like the old days of PC dev with the huge amount hardware out there.<br>At least iOS is like the old days of Amiga. If it works on one, it works on them all. <br><br></td></tr></table><br>
<a name="2017383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep. Doesn't work on my Desire HD either, but at least I see it on the emulator now for all resolutions... Phew. Will check this! <br><br></td></tr></table><br>
<a name="2017386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just checked other games and yes, I don't see any of them on my Desire HD. Obviously there is an ad blocker in my custom ROM. I'll try it on other devices, there are plenty of them in my company. :) <br><br></td></tr></table><br>
<a name="2017568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uhm... has anyone a solution for higher resolution like 480x800?<br><br><img src="http://www.xaron.net/dl/monkey/admob4.png"><br><br>As you can see the banner is scaled up as well, but I want it to have the original size of 320x50. Setting these values in the width and height doesn't work. <br><br></td></tr></table><br>
<a name="2017569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think thats up to Google... or you can change             <br><pre class=code>
ads:adSize="BANNER" /&gt;
</pre><br>in the main.xml on higher res downloads <br><br></td></tr></table><br>
<a name="2017593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've asked Admob support about this:<br><br><a href="http://groups.google.com/group/google-admob-ads-sdk/t/3942e3ffa5f90b97" target="_blank">http://groups.google.com/group/google-admob-ads-sdk/t/3942e3ffa5f90b97</a><br><br>It seems that it works as intended so the banner will scale so that it always fit to the device. <br><br></td></tr></table><br>
<a name="2017598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> there are other banner sizes you can set for higher res versions..<br><a href="http://code.google.com/mobile/ads/docs/android/intermediate.html" target="_blank">http://code.google.com/mobile/ads/docs/android/intermediate.html</a><br><pre class=code>
320x50    Standard banner 	Phones and Tablets 	BANNER
300x250   IAB Medium Rectangle 	Tablets 	IAB_MRECT
468x60    IAB Full-Size Banner 	Tablets 	IAB_BANNER
728x90    IAB Leaderboard 	Tablets 	IAB_LEADERBOARD
</pre> <br><br></td></tr></table><br>
<a name="2017608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to let you know, I got it working on my phone as well! :)<br><br>The problem was an ad blocker. I have a custom ROM and it was included in the ROM (at least the host block list was there). So I downloaded and installed AdFree from the market and clicked on Revert to restore the original Host list. After that, ads where visible on my device. Yay! <br><br></td></tr></table><br>
<a name="2017616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> hooray, I can see ads too now.<br>many thanks. <br><br></td></tr></table><br>
<a name="2018011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> One question: is there a way to control when to enable and disable the ads?<br><br>Amazing Guide by the way. <br>Thanks <br><br></td></tr></table><br>
<a name="2018012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> there is an api from google so that Ads can be called from the code.<br>I've also been looking at a module for this but with no luck yet. <br><br></td></tr></table><br>
<a name="2018544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> i keep getting this error does anyone know offhand what it means<br><br>Fatal Error] :5:6: The processing instruction target matching "[xX][mM][lL]" is not allowed.<br><br>i got it sort of working once where the banner was just a blank space then i messed up. <br><br></td></tr></table><br>
<a name="2018546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok fixed that part it was because i had whitespace at the beginning of the androidmanifest.xml file.Now i have <br><br>you must have ad activity declared in androidmanifest,xml with configchanges<br><br>Nearly there. <br><br></td></tr></table><br>
<a name="2018555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> have you got this working yet?<br>what issues are you seeing? <br><br></td></tr></table><br>
<a name="2018583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> not yet but ive not done anything on it since my last post as i had a few beers on saturday im starting back on it now trying to work through the above examples. i do have a couple of questions concerning the admod settings just to make sure im doing everything right on that side though.<br><br>if in my config.txt the<br><br>APP_LABEL=MonkeyGame  <br>and<br>APP_PACKAGE=com.monkey<br><br><br>Then in the admob settings is this correct<br>App name:MonkeyGame<br><br>Android Package =http://com.monkey<br>URL:<br><br>i just want to make sure im not messing up on that side <br><br></td></tr></table><br>
<a name="2018586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think ive got further now but i keep getting this<br><br>BUILD SUCCESSFUL<br>Total time: 10 seconds<br>* daemon not running. starting it now on port 5037 *<br>* daemon started successfully *<br>Starting: Intent { cmp=com.monkeyx/.MonkeyGame } Process ended with return code 0 at 11/27/2011 6:45:56 PM<br><br>any ideas what it means please <br><br></td></tr></table><br>
<a name="2018751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> i cant get past this error the program runs fine but no adverts and i dont get any requests for one in the settings on admob.<br><br>Starting: Intent { cmp=com.monkey/.MonkeyGame } Process ended with return code 0 at 11/27/2011 6:45:56 PM<br><br>i really dont know what it is and its driving me mad.Has anyone else had this error.Any help would be greatly appreciated. <br><br></td></tr></table><br>
<a name="2018846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Dave<br>don't think we need to worry about<br><pre class=code>
Starting: Intent { cmp=com.monkey/.MonkeyGame } Process ended with return code 0 at 11/27/2011 6:45:56 PM
</pre><br>This is just trying to run the app on your device automatically. I has nothing to do with compiling or code in your app.<br><br>I think we need to concentrate on this<br><pre class=code>
APP_LABEL=MonkeyGame
and
APP_PACKAGE=com.monkey


Then in the admob settings is this correct
App name:MonkeyGame
</pre><br>The app name in admob can be anything you like.. its doesn't have to be the same as your appname in Android.<br>Just make sure you have ANDROID selected as the engine.<br><br>Quick check...<br>- Create Admob unit on admob site<br>- make sure you have the Google Ads lib in your libs folder<br>- Make sure your Ad unit ID is in your main.xml file<br>- makes sure your admob activity is defined in your manifest file<br>- recompile in Monkey <br><br></td></tr></table><br>
<a name="2018854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> YESSSSSSSS that was what i was missing out.I wasnt putting my Ad unit Id into my main.xml file.Once i added that everything worked.Thank you very much for this and for the tutorial.Today ADMOB tomorrow the world :) <br><br></td></tr></table><br>
<a name="2018859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> glad its now working <br><br></td></tr></table><br>
<a name="2021194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>I've now written a module for AdMob<br><a href="http://www.mediafire.com/?tc0zhpictsq8mdv" target="_blank">http://www.mediafire.com/?tc0zhpictsq8mdv</a><br>The module also has dummy code for HTML5<br><br>I've included a test app and the templates.<br><br>You still need to manually change the main.xml, android manifest file (see templates folder) and copy the android SDK jar file into the build folder for your project.<br><br>So what does this module do?<br><pre class=code>
Function Main:Int()
	New AdTest()
	
	AdMobInit("a14f0c5d9581fb1")
	AdMobTop()
	
	Return 0
End Function
</pre><br>places the as at the top of the screen or..<br><br><pre class=code>
Function Main:Int()
	New AdTest()
	
	AdMobInit("a14f0c5d9581fb1")
	AdMobBottom()
	
	Return 0
End Function
</pre><br>places the ad at the bottom of the screen<br><br>It will also decide if you need the larger ad LEADERBOARD for tablets or the smaller BANNER ad for mobile devices and Initiate the correct ad<br><br><br>replace "a14f0c5d9581fb1" with your AD_UNIT_ID<br><br>would be nice if someone could take this module and expand it out for iOS <br><br></td></tr></table><br>
<a name="2021167"></a>

<a name="2021166"></a>

<a name="2021165"></a>

<a name="2021172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that's great.  Is there a way to turn it off and on? <br><br></td></tr></table><br>
<a name="2021195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> It can now...<br><pre class=code>
  Method OnUpdate:Int()
	If MouseHit(MOUSE_LEFT)
		If show=1
			AdMobHide()
		Else
			AdMobShow()
		End
		show=1-show
	End
    Return True
  End Method
</pre><br>upload updated<br><a href="http://www.mediafire.com/?tc0zhpictsq8mdv" target="_blank">http://www.mediafire.com/?tc0zhpictsq8mdv</a> <br><br></td></tr></table><br>
<a name="2021198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. Is there a license for using any of this code? <br><br></td></tr></table><br>
<a name="2021200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> nah.. <br>just enjoy and share any updates with the community <br><br></td></tr></table><br>
<a name="2021208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanx for this and your excellent tutorials <br><br></td></tr></table><br>
<a name="2021236"></a>

<a name="2021237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> must say that the lib has been tested on V47d (nothing beyond atm) and also works in portrait. (not tested landscape mode)<br><br>Also the HTML5 does not connect to Admob or display anything, it just allows you to compile in HTML5 without changing code<br><br>If you are have any other test results please post them here<br>many thanks <br><br></td></tr></table><br>
<a name="2021241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pantson</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> PS new thread for code project V1.11 now uploaded<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=2185&amp;" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=2185&amp;</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
