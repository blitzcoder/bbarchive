<!DOCTYPE html><html lang="en" ><head ><title >Pointers / Direct Memory Access</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pointers / Direct Memory Access</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Pointers / Direct Memory Access</a><br><br>
<a name="252339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >uwdesign</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This has prolly been asked before, but i'll ask again anyway :)<br><br>  Currently I've using BBbanks to alloc/deallocate slabs of memory for various structures. This is ok most of the time, however ideally what i'm interested in is there a way to poke/peek directly to memory based purely upon an address, rather than using BBbanks ? <br><br></td></tr></table><br>
<a name="252517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seldon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you create a bank you get a memory area that has an address in memory. So, there's no difference. In modern operating systems you can't poke upon an address directly. The OS doesn't let you do that, unless you're writing a driver, a VXD in Win9x or whatever must run in ring-0) and it's dangerous to do that as you could damage the system and you most likely would lose compatibility with further releases of the OS.<br><br>Ciao. <br><br></td></tr></table><br>
<a name="252527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DrMartin</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, absolutely correct. A bank is as close to writing directly to the memory you can get. Have you run into any limitations with the BBbanks? <br><br></td></tr></table><br>
<a name="252929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >uwdesign</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys<br><br> Although i'm not suggesting poking memory in any type of random fashion, i'm not that green.  I merely want to alloc a block, and then poke/peek the actual address of the element i want.. Currently in my structures I have to store bank handles + address offsets.  Pretty wasteful..<br><br> We've since just tried building a little plug in for this,  So this should work fine.. <br><br></td></tr></table><br>
<a name="253041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seldon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> By creating a bank, you do allocate a block of memory. To poke/peek an element, add the offset required from the first element.<br><br>I hope this can help:<br><br>bank=CreateBank(9)  ;You get a memory block of 9 bytes<br>PokeByte bank,0,1   ;First byte of the block set to 1<br>PokeByte bank,8,2   ;9th byte of the block set to 2<br><br>As I said, you can't poke an actual address, as Windows manages the memory for you (and it could happen it allocates a block of virtual-memory in the hard-disk).<br>The only chance is using the API function GlobalAlloc() with GMEM_FIXED flag. Then you simply cast the return value to a pointer. Of course, I doubt Blitz Poke/Peek can work with this as they need an handle to a Blitz bank. <br><br></td></tr></table><br>
<a name="254021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >uwdesign</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> To reiterate, I'm more than familiar with BBbanks.<br><br> However the 'bank handle" plus "address" (2 longs) set up is not ideal, rather wasteful, for the situation I had in mind.<br><br> The problem has been solved however, by building our own plug in bank command set. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
