<!DOCTYPE html><html lang="en" ><head ><title >FreeImage.dll Problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FreeImage.dll Problem</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >FreeImage.dll Problem</a><br><br>
<a name="614198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found a problem in the decl file but fixed it. It now finds the userlib but it wont work. Here is the code I am using:<br><br>Graphics 500,500,32,2<br>pic=LoadImage("graphics\player2.bmp")<br>pic2=FI_AdjustGamma(pic,50)<br>Notify pic2<br>DrawImage pic,0,0<br>;DrawImage pic2,0,0<br>Flip<br>Delay 2000 <br><br>It notifys me "0" showing it was unsuccessful. Then pulls up this REALLY long error that it said occured with blitzcc. I don't know what the problem is.<br><br>PS: WolRon is this forum where this belongs? <br><br></td></tr></table><br>
<a name="614245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the code compiles and executes, then (I BELIEVE) that that means that your code is written correctly (as far as accessing the external function is concerned).<br><br>When loading outside media, you should always verify that the loading function worked correctly.  In your example code above, you could do so by writing it this way:<pre class=code>Graphics 500,500,32,2
pic=LoadImage("graphics\player2.bmp")
If pic = 0 Then RunTimeError("Error: pic did not successfully load!")
pic2=FI_AdjustGamma(pic,50)
If pic2 = 0 Then RunTimeError("Error: pic2 did not successfully load!")
DrawImage pic,0,0
;DrawImage pic2,0,0
Flip
WaitKey()
End</pre>Since pic2 isn't successfully being loaded (=0) then I would GUESS that your problem is the fact that you are passing the FI_AdjustGamma function a Blitz image handle (pic) and not an actual filename ("graphics\player2.bmp").  The reason I don't know for sure, is because I didn't write the FI_AdjustGamma function and I don't know the correct usage of it.<br><br>Posting the .decl file you made for it may help us resolve the problem but if we can't resolve it with that information, you will most likely have to contact the .dll writer to ask for specific instructions on how to use their code.  Because if the problem truly is the FI_AdjustGamma function, then no one here can probably help you with that. <br><br></td></tr></table><br>
<a name="614252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am just going to give up because all things seem to point to a bad dll. <br><br>By the way how do you get code to appear like that on the site? <br><br></td></tr></table><br>
<a name="614287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/faq/faq_entry.php?id=2" >What are the forum codes?</a> <br><br></td></tr></table><br>
<a name="614394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks WolRon <br><br></td></tr></table><br>
<a name="614606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ralphy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The example bb exe based on the freeimage dll, but his sample source code won't complie as the dll calls referenced arnt declared. How do you reference all the functions in the dll in B+? <br><br></td></tr></table><br>
<a name="614608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ralphy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops should say:<br>The example bb exe works ok using the freeimage dll.<br>The sample source code won't compile as the dll calls aren't referenced. How do you reference all the functions in the dll using B+? <br><br></td></tr></table><br>
<a name="615121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ralphy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ignore previous post, I found a decls file to place in userlibs folder. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
