<!DOCTYPE html><html lang="en" ><head ><title >Email client question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Email client question</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Email client question</a><br><br>
<a name="553297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you tell which messages to skip, if you have already downloaded email, but left it on the server?  Each email has a unique messageid, but to get that, you have to download the message's header. <br><br></td></tr></table><br>
<a name="553908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'd have to keep a list within your client, I think. I did a <a href="/codearcs.php?code=725" target="_blank">POP3 downloader</a> that can download a particular message using its index number, but I'm not sure if they get renumbered when an email is deleted. The only other option I'm aware of would be to scan the headers like you say... POP3 servers are pretty dumb.<br><br>I guess you could store each read email's index and messageid in a list and check against it when trying to download email number 'x', only checking all the headers for the messageid if it doesn't match -- this may help to answer the question of whether they're renumbered when one is deleted. <br><br></td></tr></table><br>
<a name="553913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, but what if another email program deletes an email, or if you check your mail online and delete something? <br><br></td></tr></table><br>
<a name="553940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good point... I guess you're limited to scanning the headers. From what I remember reading, POP3 servers don't have an awful lot of capabilities, anyway. Here's the POP3 command summary from the <a href="http://www.faqs.org/rfcs/rfc1939.html" target="_blank">relevant RFC</a> (official documented protocol):<br><br><div class="quote"> <br>9. POP3 Command Summary<br><br>      Minimal POP3 Commands:<br><br>         USER name               valid in the AUTHORIZATION state<br>         PASS string<br>         QUIT<br><br>         STAT                    valid in the TRANSACTION state<br>         LIST [msg]<br>         RETR msg<br>         DELE msg<br>         NOOP<br>         RSET<br>         QUIT<br><br>      Optional POP3 Commands:<br><br>         APOP name digest        valid in the AUTHORIZATION state<br><br>         TOP msg n               valid in the TRANSACTION state<br>         UIDL [msg]<br><br>      POP3 Replies:<br><br>         +OK<br>         -ERR<br><br>      Note that with the exception of the STAT, LIST, and UIDL commands,<br>      the reply given by the POP3 server to any command is significant<br>      only to "+OK" and "-ERR".  Any text occurring after this reply<br>      may be ignored by the client.<br> <br></div><br><br>Ah... the UIDL command might do it, but that's optional for POP3 servers to support, though most probably do by now. You'd presumably have to check it gets a valid response, and default to header scanning if not available. From a quick Google, it looks like you pass a message number and it returns the unique ID, or pass nothing for (all?) unique IDs.<br><br>Some guy in <a href="http://www.dbforums.com/archive/index.php/t-1097493.html" target="_blank">this thread</a> says:<br><br><div class="quote"> <br>This isn't actually the case. POP3 has extended command UIDL, which returns you a list of unique identifiers (just like LIST returns the sizes of messages). After this, you only need to check the UID with stored UIDs of the messages you've already downloaded. This is quite fast even with thousands of messages.<br><br>The downside is that not all servers provide UIDL-command since it's not required by the standard. If this is the case, the only solution is to download message headers (using command like TOP) only and comparing them to headers already received. This takes somewhat longer<br>(but not as long as it'd take to download the whole messages) and isn't as reliable as using UIDs.<br> <br></div> <br><br></td></tr></table><br>
<a name="553943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
