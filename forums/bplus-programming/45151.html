<!DOCTYPE html><html lang="en" ><head ><title >GFX Scroll Bar full screen, need example</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GFX Scroll Bar full screen, need example</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >GFX Scroll Bar full screen, need example</a><br><br>
<a name="502295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking for an example, of a Box(using the rectangle drawing thing), with a scroll bar in it, that can move up and now, and show text and an image. <br><br>Not using gadgets. Just drawing commands from blitzplus.<br><br>It would really be appreciated. I'm looking on how to do that. Cause I want to make a little guild to move custom made window in the game, with rpg stats and stuff like that. <br><br></td></tr></table><br>
<a name="502340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kevin_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, heres some really old code that I did. Its untested, but it allows you to view a document on the screen. Hope it helps....<br><br>[Code]<br>; Simple Document Displayer By Prof (Un-Tested)<br>; Last tested/compiled 21/10/02<br>;<br>; This set of functions can be used to display a document in a window.<br>; The document must be a raw-asci file.  Scroll bars are automatically<br>; calculated so the user can scroll through the document.<br>; <br>AppTitle("Document Displayer")<br>Graphics 640,480,32,2<br>SetBuffer BackBuffer()<br>ClsColor(190,190,190):Cls:Flip<br><br>Dim Tex$(1000)                                  ; Reserve 1000 lines in memory<br>fntArial=LoadFont("Arial",14,True,False,False)  ; Try different fonts<br>SetFont fntArial<br><br><br>f$=RequestFile$("Open a text file","*.*")<br>ViewDocument(f$,10,10,400,300)<br><br><br>End<br><br>; ****************************************************************<br><br>Function ViewDocument(filename$,WinX,WinY,WinW,WinH)<br>  ; If a filename is given then the file is opened otherwise DATA<br>  ; statements are Read in (at the end of this code)<br>  ; WinX,WinY,WinW,WinH is the windows position and size<br>  ;<br>  ; It works out the number of lines to display based on the current<br>  ; font size and the height of the window.  Also clips the length of<br>  ; the text to the window width.<br>  ;<br>  ; Open the file if the filename exists otherwise read DATA statements<br><br>  debug=False<br> <br>  If filename$&lt;&gt;"" And FileType(filename$)=True<br>     fileIn=ReadFile(filename$):LinesInDoc#=0<br>     Repeat<br>       LinesInDoc=LinesInDoc+1:tex$(LinesInDoc)=ReadLine$(FileIn)<br>     Until Eof(FileIn)<br>     CloseFile(FileIn):tex$(LinesInDoc+1)="*"    ; put stopper at the end<br>  Else<br>     Restore TextDATA:LinesInDoc=1<br>     Repeat<br>       Read d$:Tex$(LinesInDoc)=d$:LinesInDoc=LinesInDoc+1<br>     Until d$="*"<br>  EndIf<br>  <br>   Index#=1.0                                  ; First line of text<br>   LinesInWindow#=(WinH/FontHeight())          ; No of lines of text in the window<br>   DocSize#=(LinesInDoc)*FontHeight()          ; Length of whole doc in pixels<br>   ButtonSize#=16                              ; Size of the scroll buttons<br>   Button1X#=WinX+WinW-ButtonSize-1            ; X Position of top scroll button<br>   Button1Y#=WinY+1                            ; Y Position of top scroll button<br>   Button2X#=WinX+WinW-ButtonSize-1            ; X Position of bottom scroll button<br>   Button2Y#=WinY+WinH-ButtonSize-1            ; Y Position of bottom scroll button<br>   ButtonDistance#=WinH-(ButtonSize*2)         ; Distance between scroll buttons<br>   t#=DocSize/(LinesInWindow*FontHeight())     ; Proportion variable<br>   ThumbH#=(ButtonDistance/t#)-2               ; Height of scroll thumb<br>   ThumbRange#=ButtonDistance-ThumbH           ; Thumb range<br>   Divider#=(LinesInDoc)/(ThumbRange+ThumbH)   ; Proportion variable<br>   ThumbX=WinX+WinW-ButtonSize-1               ; X Position of scroll thumb<br>   ThumbYMin=WinY+ButtonSize+1                 ; Minimum Y coordinate<br>   ThumbYMax=((WinY+WinH)-Buttonsize-ThumbH-1) ; Maximum Y coorditate<br>   ThumbY=ThumbYMin                            ; Y Position of scroll thumb<br>   ThumbW=ButtonSize                           ; Width of scroll thumb<br><br>    <br>   HighLightedBox(WinX,WinY,WinW,WinH,True)  ; The Main Window<br>   DrawScrollButton(1,Button1X,Button1Y,ButtonSize,ButtonSize,0)<br>   DrawScrollButton(2,Button2X,Button2Y,ButtonSize,ButtonSize,0)<br>   DrawScrollThumb(ThumbX,ThumbY,ButtonSize,ThumbH,WinX,WinY,WinW,WinH)<br>   ShowPage(Index,LinesInWindow,WInX,WinY,WinW,WinH)<br><br>   ;MainLoop<br>   Flip<br>   Repeat<br>    If ScrollDownActivated(Button2X,Button2Y,ButtonSize,ButtonSize) <br>          DrawScrollButton(2,Button2X,Button2Y,ButtonSize,ButtonSize,True)<br>          While ThumbY&lt;ThumbYMax And ScrollDownActivated(Button2X,Button2Y,ButtonSize,ButtonSize)<br>              Index#=Index#+Divider#<br>              ShowPage(Index#,LinesInWindow,WinX,WinY,WinW,WinH)<br>              ThumbY=ThumbY+1<br>              DrawScrollThumb(ThumbX,ThumbY,ButtonSize,ThumbH,WinX,WinY,WinW,WinH)<br>              Flip<br>          Wend<br>          DrawScrollButton(2,Button2X,Button2Y,ButtonSize,ButtonSize,False)<br>          Flip<br>    EndIf<br><br>    If ScrollUpActivated(Button1X,Button1Y,ButtonSize,ButtonSize)<br>          DrawScrollButton(1,Button1X,Button1Y,ButtonSize,ButtonSize,True)<br>          While ThumbY&gt;ThumbYMin And ScrollUpActivated(Button1X,Button1Y,ButtonSize,ButtonSize)<br>              Index#=Index#-Divider#<br>              ShowPage(Index#,LinesInWindow,WinX,WinY,WinW,WinH)<br>              ThumbY=ThumbY-1: DrawScrollThumb(ThumbX,ThumbY,ButtonSize,ThumbH,WinX,WinY,WinW,WinH)<br>              Flip<br>          Wend<br>          DrawScrollButton(1,Button1X,Button1Y,ButtonSize,ButtonSize,False)<br>          Flip<br>    EndIf<br><br>    If PointInArea(MouseX(),MouseY(),ThumbX,ThumbY,ThumbW,ThumbH) And MouseDown(1) ; moving scroll bar<br>       While MouseDown(1)<br>          ThumbY=MouseY()-(ThumbH/2)<br>          ThumbY=KeepInRange(ThumbY,ThumbYMin,ThumbYMax)<br>          DrawScrollThumb(ThumbX,ThumbY,ButtonSize,ThumbH,WinX,WinY,WinW,WinH)<br>          Index#=((ThumbY-ThumbYMin)*Divider#)+1<br>          ShowPage(Index#,LinesInWindow,WinX,WinY,WinW,WinH)<br>          Flip<br>       Wend<br>    EndIf<br><br>   If debug<br>      ; Remove this code if you wish<br>      Color 190,190,190:Rect 0,420,GraphicsWidth(),40<br>      Color 0,0,0<br>      Text 0,400,"WinX="+WinX+"  WinY="+WinY+"  WinW="+WinW+"  WinH="+winH+"  DocSize="+DocSize+"px"+"  Lines In Doc="+LinesInDoc+"  Lines In Window="+LinesInWindow<br>      Text 0,425,"ThumbX="+ThumbX+"  ThumbY="+ThumbY+"  ThumbW="+ThumbW+"  ThumbH="+ThumbH+ " Thumb Range="+ThumbRange<br>      Text 0,450,"Index#="+Index#+" Divider="+Divider+" Button Distance="+ButtonDistance<br>      Flip<br>   EndIf<br>  Until KeyHit(1) <br>End Function<br><br>; **********************************************************************<br><br>Function ScrollDownActivated(X,Y,W,H)<br>  ;tests to see if scrolling down has been activated<br>  ; returns TRUE if it has. x,y,w,h is the area of a scroll button<br>  If (KeyDown(208)) Or (PointInArea(MouseX(),MouseY(),X,Y,W,H) And MouseDown(1))<br>     Return True<br>  EndIf<br>End Function<br><br>; **********************************************************************<br><br>Function ScrollUpActivated(X,Y,W,H)<br>  ; tests to see if scrolling down has been activated<br>  If (KeyDown(200)) Or (PointInArea(MouseX(),MouseY(),X,Y,W,H) And MouseDown(1))<br>     Return True<br>  EndIf<br>End Function<br><br>; **********************************************************************<br><br>Function ShowPage(Index,LinesInWindow,WinX,WinY,WinW,WinH)<br>  ; Puts a page of text in the window<br>  <br>  FH=FontHeight():yPos=WinY<br>  Color 230,230,230:Rect WinX+1,WinY+1,WinW-2-16,WinH-2 ;clear window<br>  Color 0,0,0<br>  Viewport WinX,WinY,WinW-16-1,WinH-1 ;clip to the window area<br>  For d = Index To (Index+LinesInWindow)-1 Step 1<br>      Text WinX+4,YPos,tex$(d):YPos=YPos+FH<br>  Next<br>  Viewport 0,0,GraphicsWidth(),GraphicsHeight()<br>End Function<br><br>; **********************************************************************<br><br>Function DrawScrollThumb(x,y,w,h,WinX,WinY,WinW,WinH)<br>  ; Draws the scroll thumb (bit you can drap up &amp; down)<br>  ; Draw area behind the thumb first<br>  Color 215,215,215 : Rect WinX+WinW-w-1,WinY+w+1,w,WinH-2-(w*2)<br>  ; Now draw the actual thumb<br>  HighLightedBox(x,y,w,h,False)<br>End Function<br><br>; **********************************************************************<br><br>Function DrawScrollButton(n,x,y,w,h,Inverse)<br>  ; n= the button number<br>  ; 1=top, 2=bottom, 3=left, 4=right<br>  HighLightedBox(x,y,w,h,Inverse)<br>  DrawScrollButtonArrow(n,x,y,w,h,Inverse)<br>End Function<br><br>; **********************************************************************<br><br>Function HighlightedBox(x,y,w,h,Inverse)<br>  ; draws a highlighted box with the light coming<br>  ; from the top left.<br>  ; If Inverse is true, the box is inversed<br>  If inverse=True  <br>     c1=255:c2=90<br>  Else<br>     c1=90:c2=255<br>  EndIf<br>  Color 190,190,190:Rect x,y,w,h                                  ; Draw solid area<br>  Color c2,c2,c2:Line X,Y,X+W-1,Y        :Line X,Y,X,Y+H-1        ; Top &amp; Left<br>  Color c1,c1,c1:Line X+W-1,Y,X+W-1,Y+H-1:Line X,Y+H-1,X+W-1,Y+H-1; Bottom &amp; Right<br>End Function<br><br>; **********************************************************************<br><br>Function DrawScrollButtonArrow(n,x,y,w,h,Inverse)<br>  ; Draws a black arrow<br>  Color 0,0,0<br>  If n=1<br>    Rect x+7,y+6+Inverse,2,1<br>    Rect x+6,y+7+Inverse,4,1<br>    Rect x+5,y+8+Inverse,6,1<br>    Rect x+4,y+9+Inverse,8,1<br>  ElseIf n=2<br>    Rect x+4,y+6+Inverse,8,1<br>    Rect x+5,y+7+Inverse,6,1<br>    Rect x+6,y+8+Inverse,4,1<br>    Rect x+7,y+9+Inverse,2,1<br>  EndIf<br>End Function<br><br>; **********************************************************************<br><br>Function PointInArea(px,py,x,y,w,h)<br>; Function to check if px,py is inside the area x,y,w,h<br>; Returns TRUE if inside<br>  If px&gt;x And px&lt;x+w<br>     If py&gt;y And py&lt;y+h<br>        Return True<br>     EndIf<br>  End If<br>End Function<br><br>; **********************************************************************<br><br>Function KeepInRange(n,Min,Max)<br>   ;Keeps n within a range defined by Min &amp; Max.<br>   If n&lt;Min<br>      n=Min<br>   EndIf<br>   If n&gt;Max<br>      n=Max<br>   EndIf<br>   Return n<br>End Function<br><br>; **********************************************************************<br><br>Function ClipText $ (s$,width)<br>  ; clips a string to a width in pixels<br>  If StringWidth(s$)&gt;=(width-4)<br>    P=1:temp$=""<br>    Repeat<br>      c$=Mid$(s$,p,1)<br>      temp$=temp$+c$<br>      w=StringWidth(Temp$)<br>      p=p+1<br>    Until w&gt;=(width-4)<br>    s$=Left$(Temp$,p-2)<br>  End If<br>  Return s$<br>End Function<br><br><br>; The following DATA statements are not used if opening an<br>; external file.  Use these DATA statements if you wish to<br>; include the document within the final executable.<br><br>.TextDATA<br>Data "REPORT: No document name given or the file does not exist."<br>Data "----------------------------------------------------------"<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data "This text is from the data statements from within the"<br>Data "program itself. Handy if you want to keep all of the"<br>Data "documentation within the final executable."<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data " "<br>Data "*"<br><br>[/Code] <br><br></td></tr></table><br>
<a name="502343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks.. but,<br>this is way to complex for me... And not exactly what I'm looking for. I need a simple, box either way drawing commands or images and a scroll bar. Text and Images in the box, that i can scroll.<br><br>Dummy Tutorial lol. <br><br></td></tr></table><br>
<a name="502353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kevin_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats what it does. Have you tried it? Just modify it to include pictures as well. I don't think you realize whats involved. The example above is very basic text viewer. Just modify it to do what you want it to do. <br><br></td></tr></table><br>
<a name="502396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why don't you want B+ gadgets, while posting in the B+ section? It's the events that make all this so easy..<br><br>If you want to be GUI-independent, while using things like events and canvases, then prepare for this:<br><br>- 300 lines of code for an easy-to-use button-system using images and canvases.<br><br>- 200 lines of code for a remote help-window/display, if you want help for those buttons. Think: statusbar of photoshop, but then in a remote window.<br><br>- 130 lines of code for a text-formatter/generator for that help-display (soft-enters, indenting, etc.)<br><br>- if you don't load images from HD, prepare for a nice 600lines (or more) texture generator, to calc buttons and other widgets with, based on sripts, I recommend it over loading images, because you can easily change global properties of all your own widgets then with a few commands.. like color, shape, font etc.<br><br>- if you don't use native fonts, but want to use your own, prepare for 30 short lines for a font-unpacker, and another small app to create that packed-format.<br><br>I'm now more or less summing-up my own includefiles.. :) Anyway, it works like that for me, 100% banks, 0% types, and only using a handful of initialisation-lines and a handful of event-calls in the mainloop.<br><br>Additionally, if you use banks, and you need different objects to work together, then you'll love a 'linker' for that! 80 lines..<br><br>So, Prof's way might be too complex for you.. it's certainly less code than my solution ^_^.  Kaisuo: check my tutorial in blitz+ tutorials, about "your own gadgets".. I use that method for a while already.. and I think it rox. Try to learn from it..<br><br><br>I'm actually a fan of all this low-level peeking and poking.. this, in combination with making big apps, explains you why you actually want classes, without reading elite'ish c++ books about it.. <br><br></td></tr></table><br>
<a name="502425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmk,<br><br>I used to be able to read and understand long piece of codes.. but its been a while since I touched B+ :P <br><br></td></tr></table><br>
<a name="502789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kevin_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I used to be able to read and understand long piece of codes.. but its been a while since I touched B+ :P  <br></div><br>Yes, sorry Kaisuo. Its not commented very well at all and its badley written to be honest. One of my poorer efforts I'm afraid. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
