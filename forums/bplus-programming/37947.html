<!DOCTYPE html><html lang="en" ><head ><title >Is color collission possible?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Is color collission possible?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Is color collission possible?</a><br><br>
<a name="418858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekebakker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, here is the case... I was able to generate<br>a line drawing (outlines) out of a edited map for a 2d<br>platform game.<br><br>But is it also possible to USE a line drawing for colission? In other words can B+ notice if 2 colors over-<br>lapping eachother. Let say if a red pixel overlaps a bluepixel then you have bumped into a wall. If this is possible, what command do I have to use?<br><br>Mucho gracias <br><br></td></tr></table><br>
<a name="419016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use the GetColor command to check for the wall's colour, and use your character's x and y co-ordinates (with appropriate offsets) as your reference point for checking if a collision has occured.<br><br>Ryan <br><br></td></tr></table><br>
<a name="419322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Brine</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd recommend the rectsoverlap command, as in my experince this command is very fast!<br><br>Mr Brine <br><br></td></tr></table><br>
<a name="419902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> possible, but far too slow for any way i would do it.<br>commands like readpixelfast() are ironic to their own name.<br><br>Instead of checking colours on an image overlapping, what about making a version of the image that has only the blue/red etc, and check that for overlapping. :faster?<br>;<br>i made a program that saves a copy of an image with only the colour you specified retained (and all other pixels are 'void' coloured to the void colour you specify:default 0,0,0). if you think it'd be any use i could post it in.<br>;<br>Edit: i then take my isolated colour bmp, into paint, and save it as a monochrome bmp to take up less stored mem. <br><br></td></tr></table><br>
<a name="420542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >koekebakker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks aab (and others). the only thing I need now is a 486<br>emu for testing :) <br><br></td></tr></table><br>
<a name="440372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >King</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use GetColor for collision detection between the player sprite and the monsters. I find that is it way too slow, but I have got round it in two ways.<br><br>Firstly of course you only do the pixel by pixel check if the rectangles over lap and only between the player and the monsters (I make monsters bump into each other or whatever just by checking their rectangles, not he pixels).<br><br>Secondly, here's the clever bit. Well I think it's clever anyway. I make it only check the pixels every ten game loops, and even then I only check every one in twenty pixels randomly.<br><br>This may seem odd but in practical terms it works perfectly well. If you land on the monster it may take a second or so before the pixel collision is detected but this doesn't harm the game play at all, in fact it makes it seem more fair as you can maybe overlap the corner of the monster and you don't die, for example if you are jumping over the monster and your foot touches the monster's ear. But if you really land on it by more than a few pixels you die. <br><br></td></tr></table><br>
<a name="440428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> interesting.. I'll be giving some of that a try myself <br><br></td></tr></table><br>
<a name="440966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unless you want to see what colour you landed on, why not just use imagescollide? <br><br></td></tr></table><br>
<a name="442362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moore</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's one for you; the heck with getColor and readPixelFast store your image's aRGB values into a bank or simple array and run your collision detection against that its much faster and I think there even is a native imageToBank function in B+. <br><br></td></tr></table><br>
<a name="442493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zenith</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> faster yet, use an array or a bank with multidimensional code <br><br></td></tr></table><br>
<a name="471456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >monkeybot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> i really like those last two ideas... <br><br></td></tr></table><br>
<a name="471761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> "faster yet, use an array or a bank with multidimensional code"<br><br>Me to. My 2D maps are made by a mapeditor wich i made myself, anyway when it saves the map (after you've vritten the name) it does as follows:<br><br>SaveFile = WriteFile("..\whatever\"+ThisFile$+".whatever")<br>For x = 0 To 800<br>  For y = 0 To 100<br>    For z = 1 To 2<br>      WriteInt(SaveFile,map(x,y,z))<br>    Next<br>  Next<br>Next<br>CloseFile(SaveFile)<br><br>And then when i load it it looks (much similar) like this:<br><br>LoadFile = ReadFile(ChoosenFile$)<br>For x = 1 To 800<br>  For y = 1 To 100<br>    For z = 1 To 2	<br>      map(x,y,z) = ReadInt(LoadFile)<br>    Next<br>  Next<br>Next<br>CloseFile(LoadFile)<br><br>The map is only loaded once at the start of the application and the values of the map is stored in the array.<br><br>To display things at the screen here is an easy example:<br><br>For x = ScrollX To (ScrollX + 10)<br>  For y = ScrollY To (ScrollY + 5)<br>    Select map(x,y,1)<br>      Case 1<br>        DrawImage Sand,x*20,y*20<br>      Case 2<br>        DrawImage Dirt,x*20,y*20<br>    End Select <br>  Next<br>Next<br><br>As you may understand i use pictures that are 20*20p in size. I also use animated pics but thats not relevant code for now.<br><br>A easy Player-Check could look something like this:<br>(The player pic is 50*50p in size)<br><br>If map((Player_X+50),(Player_Y+50),1) = 0 Then<br>;If theres no ground 1pixel ahed of the player<br>;Then do whatever you want<br><br>  Fall = True<br>  Score = Score + 99<br>  YourMamma$ = "Betty"<br>  ;or whatever<br><br>Endif<br>;And so on<br>;Make differnt checks for enemies or something<br>;Maybe the player gets hurt if he/she walks on lava?<br>;Only your fantasy may stop you<br><br>Good Luck! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
