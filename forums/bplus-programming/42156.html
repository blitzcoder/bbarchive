<!DOCTYPE html><html lang="en" ><head ><title >Dimension Problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Dimension Problem</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Dimension Problem</a><br><br>
<a name="472493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is so easy and basic, yet it doesent work...<br>I first made a game in BlitzBasic but now i wanna improve it in BlitzPlus.<br><br>This has caused many different problem, my game just couldnt be runned by BlitzPlus.<br>I am writing this thread cause i know no other way out.<br><br>Here is the deal:<br>I have a mapeditor that i have programmed myself and when it saves the map it lookes like this:<br><br>Dim map(800,100,2)<br><br>Function Saveing(ThisFile$)<br>Local Number<br>  <br>  spara = WriteFile("..\..\data\"+ ThisFile$ + ".tlv")<br>  For x = 1 To 800<br>    For y = 1 To 100<br>      For z = 1 To 2<br>        WriteInt(spara,map(x,y,z))<br>     Next<br>    Next<br>  Next<br>  CloseFile(spara)  <br>End Function<br><br>Now when its beeing loaded it looks like this:<br><br>ladda = ReadFile(ChoosenFile$)<br><br>For x = 1 To 800<br>  For y = 1 To 100<br>    For z = 1 To 2	<br>      map(x,y,z) = ReadInt(ladda)<br>    Next<br>  Next<br>Next<br><br>This is so easy! I know how to do this and it worked in BlitzBasic but now all i get is that "Array index out of bound"<br><br>And this is just one of many problems i've had since i changed IDE<br><br>Thanks <br><br></td></tr></table><br>
<a name="472623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Posted code looks OK.  (BTW, try using the [code][/code[ codes when posting code)<br><br>You didn't say WHEN you receive the error; during loading or saving or otherwise...<br><br>Let us know that, and any other pertinent information.  You may have to post more code as well.<br><br>Arrays are Global by default, but make sure that (if your Dim statement is located inside of an include), that the include file is included in your code before the Saving/Loading functions.<br><br><br>P.S. Saveing = Saving<br>ChoosenFile = ChosenFile <br><br></td></tr></table><br>
<a name="472658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks ok to me too, there must be more to it!  The <pre class=code> </pre> tip is cool <br><br></td></tr></table><br>
<a name="472721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Allright. First of all excuse my bad english i'm from Sweden.<br><br>All the globals and other variables are in the main program, underneath the variables i have my included files the "maploader()"-funktion is included.<br>The "savemap()"-funktion is seperate with the mapeditor and works fine!<br><br>The map is saved as it should and takes 625kb size.<br>I belive it has something to do with the inclution of the code. Maybe i have to reset the map-variables in the included peace of code.<br><br>I wouldn't have wasted youre time on such a simple thing if it wasent for the fact that this has worked before in BlitzBasic.<br><br>Also maybe the OpenFile() is the wrong command, maybe it shoul be ReadFile() ??<br><br>I changed the load-funktion a little so that it looked like this:<br><pre class=code>
For x = 1 To 800
  For y = 1 To 40;&lt;&lt;-- Alot less
    For z = To 2
      map(x,y,z) = ReadInt(ladda)
    Next
  Next
Next
</pre><br>And the loading part worked only it looked wrong.<br>I think BlitzPlus has other rules on how to use the "Dim"-command and that's what im trying to figure out.<br><br>Also this is frustating cauze i ment to make the maps bigger in this sequal and change the hud, add a new bazooka, add a new enemy, add a highscore and finaly release it for free. Me and a friend made the first game as a schoolprojekt and got highest grade on it. Now i need a nicer one to show for the university that i plan to join after my service in the military. Anyway i havent finished my first point of the plan and time is running out.<br><br>Are you guys proffesionals or do you just programme for fun on youre spare time? Just an inocent question...<br><br>Thank you for youre help! <br><br></td></tr></table><br>
<a name="472728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK, the Dim command in B+ is identical to the one in B2D.<br><br>You made it sound like you were concerned about the file size of your map.  Most likely, the reason is because you are saving integers.  Integers take up 4 bytes of data.  If you don't require all 4 bytes (and I doubt that you do), you should look into writing/reading Shorts, or even Bytes (WriteShort, WriteByte).<br><br>OpenFile and ReadFile act the same if you are only Reading.  The only difference is that OpenFile also allows you to write as well.<br><br>Perhaps try posting more of your code (the relevant parts) and maybe we can help more.  (Don't forget to use the [codebox][/codebox[ commands.) <br><br></td></tr></table><br>
<a name="472746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you! I'll look in to that right away... <br><br></td></tr></table><br>
<a name="473151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it did decrease the filesize of my maps quite a bit but didn't solve the problem...<br><br>I will soon add more code, maybe even the full sorce, hell i might give the whole mapeditor for anyone who would like it... I just need a server pretty bad =(<br><br>Well you might wonder why i'm writing this at NewYears Eve, =) well, im writing this between the rounds of a dart game. (And i won the first one)<br><br>Well Happy New yer to y'all and keep on the good work! <br><br></td></tr></table><br>
<a name="473315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can download the OLD game at: &lt;A href="http://www.lewser.se/berserker/downloads/tormenajtor.html"&gt;my site&lt;/A&gt;<br>There is a mapeditor included in the .zip-file but no sourcecode.<br><br>The sourcecode can be added if requested for a short look.<br>And plaesa go ahead and vote on my OLD game&lt;a href="http://www.blitzbasic.com/gallery/view_pic.php?id=554&amp;gallery=&amp;page=6"&gt;here&lt;/A&gt;.<br><br>Basicly what the mapeditor does is saving variables in map(x,y,z). map(xposition,yposition,frame), and every value in the map is 20*20 in size. <br><br></td></tr></table><br>
<a name="473344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see the point in looking at the OLD game.  Show us the code to the new game so that we can find the problem. <br><br></td></tr></table><br>
<a name="473396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Allright!<br><br>Here are the files:<br>//<br>www.lewser.se/berserker/downloads/MapEditor.bb<br>www.lewser.se/berserker/downloads/Save_and_load.bb<br>www.lewser.se/berserker/downloads/maploader.bb<br>\\<br><br>But if you wanna se how the mapeditor works youll have to download the game. cuz i dont wanna put all the graphics out there on the net. Even if this is all very simple(maybe even bad) code i have put some hours on it.<br><br>Downloading the game isn't that importent but i will soon add the new mapeditor on the server, maybe even tonight. <br><br></td></tr></table><br>
<a name="473409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok go to my site<br><a href="http://www.lewser.se/berserker/" target="_blank">http://www.lewser.se/berserker/</a><br>klick on "Downloads", then New Mapeditor.<br>Read the readme first and download the castle2.tlv aswell.<br><br>This is the new mapeditor incase you wanna see how it works. The sourcecode has already been given to you and can be found on the links in previous post. These are not acessable via the site. <br><br>You'll still need to download the OLD game on the site, just replace the mapeditor with this new one.<br><br>Sorry for doubleposting =( <br><br></td></tr></table><br>
<a name="473680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, first of all, I thought that in your initial post, the problem you were having was in the loading function of your GAME.  It now appears that all this time you were talking about the problem being in the loading function of the new MAPEDITOR you are writing?  I'm a bit confused.<br><br>The reason I ask, is because I am trying to understand HOW the source files you posted above fit into this problem.<br><br>The first one is MapEditor.bb.  That is self-explanatory, the source code for the map editor.  I see that in MapEditor.bb you include the Save_and_load.bb file, so I know that MapEditor.bh and Save_and_load.bb are both for the map editor.<br><br>I don't know how the third file (maploader.bb) is used though.  Is that file used by the map editor? (because if it is, I don't see an Include command in MapEditor.bb) or is it used by your game?<br><br>Please explain the above.<br><br>-----------------------------------------------------------<br><br>Looking at the code in maploader.bb...<br><br>Are the following variables global variables in the file that includes this maploader.bb file?<br>ChoosenFile$<br>Map_X_Max<br>Map_Y_Max<br><br>Because if they aren't, they would probably cause your 'Array index out of bounds' error.<br><br><br>I don't know what this code is for<pre class=code>
  If (x &lt; Map_X_Max) And (y &lt; Map_Y_Max) Then
    For xm = 1 To 20
      For ym = 1 To 20 
        mapcheck(((20*x)+xm),((20*y)+ym))=Value;Här är något lurt!
      Next
    Next		  
  EndIf</pre>but it appears that you could have an 'array index out of bounds' error if 'mapcheck()' hasn't been DIMmed.  Also, 20*x will be a LARGE number.  Make sure that that code is written correctly and make sure that mapcheck() is DIMmed large enough. <br><br></td></tr></table><br>
<a name="473684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure of WHERE the error is being caused?  Maybe it's not really part of your map loading routine.  Add some DebugLog commands to your code to find out where the error is generated.<br><br>If you know where it's generated, then tell me which line number and which file it happens on. <br><br></td></tr></table><br>
<a name="473746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all i must say thank you very much! I love youre entusiasm!<br><br>The maploader.bb is included in the game and is used to read the short-values in the .tlv-files (wich are maps).<br>It reads the values and stores them in "map(x,y,z)"<br><br>the mapcheck(x,y) is the array where the fysik part of the map is stored... Im gonna try to explain better.<br><br>When the map is drawn on the screen the program need to know what part of the map that needs to be displayed, eg. if the player is at the end of the map then the game doesent need to write the start of the map.<br>The map(x,y,z) is used to know what to write and every object is 20*20 pixels in size, therefor the real map (the fysikal map where the player walks and so on) so there needs to be another dim to cover that mapcheck(x*20,y*20).<br><br>mapcheck(x*20,y*20) will always be =1 if theres anything at all in the map(x,y,z), otherwise mapcheck(x*20,y*20)=0. <br><br>But rightnow its the maploader.bb that seems to be strange.<br>Row:15 Col:8 in maploader.bb says "Array Index Out Of Bounds"<br><br>Const Map_X_Max = 800<br>Const Map_Y_Max = 100<br>^^<br>this is the size of the map wich it is saved in the mapeditor. This means that:<br>Dim mapcheck(Map_X_Max*20,Map_Y_Max*20)<br><br>the z-value in map(x,y,z) only holds the frame of the animated images so it's not needed in mapcheck(x,y)<br><br>The code that you didnt understand is for filling out mapcheck(x,y) form one point to 20pixels further.<br><br>Right now the problem is in reading from the file *.tlv and store into map(x,y,z)... It does work if i shorten the y-value down to 40 though<br><br><pre class=code>
For x = 1 To 800
  For y = 1 To 40
    For z = 1 To 2
      map(x,y,z) = ReadShort(file)
    Next
  Next
Next
</pre><br>But in the mapeditor the map is saved as 800*100*2<br><br>Hope i have cleared somthing up.<br><br>Anyway what do you think of the mapeditor? Would it be good enough after i fixed it to add it here (for free ofcourse) if i add some more textures and maybe more enemies? <br><br></td></tr></table><br>
<a name="473763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, Row 15 is this line:<pre class=code>map(x,y,z) = ReadShort(ladda)</pre>of this code<pre class=code>  For x = 0 To Map_X_Max
    For y = 0 To Map_Y_Max-60
      For z = 1 To 2	
        map(x,y,z) = ReadShort(ladda)
      Next
    Next
  Next</pre>in maploader.bb<br><br>What that means then is that map(x,y,z) is not DIMmed large enough for either x, y, or z.<br><br>2 reasons:<br>1. Not DIMmed at all<br>2. Not DIMmed correctly<br><br>Looking at 1. Not DIMmed at all<br>The DIM statement for map() may be missing entirely or it may be located on a line AFTER the<pre class=code>Include "maploader.bb"</pre>line.  Double check those two things.<br><br><br><br>Looking at 2. Not DIMmed correctly<br>At the beginning of this thread, you stated that map() is DIMmed like so:<pre class=code>Dim map(800,100,2)</pre>BUT that that statement is part of your mapeditor.<br>In your last post you stated this:<div class="quote"> The maploader.bb is included in the game  <br></div>So, I haven't actually seen a statement yet that shows how you DIM map() for maploader.bb.<br>Make sure that map is DIMmed correctly in file that Includes maploader.bb.  If it is DIMmed with Global or Const Variables, make sure that they exist and that they are decared before the<pre class=code>Include "maploader.bb"</pre>line. <br><br></td></tr></table><br>
<a name="473916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its one of the first things in the code actually, i prefer to have constants in the start of the code and globals after... Anyway this is how the code looks in the game-file called MainCore.bb:<br><pre class=code>
AppTitle "TÖRMINÄjTÖR 2 : A Second Arrival"

Const ScreenWidth  = 1280
Const ScreenHeight = 1024
Const ScreenDepth  = 32

Graphics ScreenWidth,ScreenHeight,ScreenDepth,2
SetBuffer BackBuffer()

Const Map_X_Max = 800
Const Map_Y_Max = 100

Dim map(Map_X_Max,Map_Y_Max,2)
Dim mapcheck((Map_X_Max*20),(Map_Y_Max*20))

</pre><br>Then alot of Globals for different uses...<br>Then after the globals:<br><pre class=code>
Include "..\..\data\maploader.bb"        
Include "..\..\data\walk.bb"           
Include "..\..\data\maprender.bb"      
Include "..\..\data\Info.bb"           
Include "..\..\data\Weaponcontrole.bb"    
Include "..\..\data\Check.bb"          
Include "..\..\data\fiende.bb"         
</pre><br>Then the functions of the game.<br><br>Conclution: The map() is Dimed correctly but maybe it's read wrong? Is there some kind of unwriten law about starting from zero?<br><pre class=code>
;Like this
For x = 0 To Something
  For y = 0 To Something
    For z = 0 To Something
    ;And so on
    Next
  Next
Next
</pre><br>I know that the error occurs there on row 15, but im not sure if the error is in the saving process or the loading, i mean that maybe the map doesent contain 100y?<br><br>The error does occur in the loading process and the mapeditor works fine (test it for futher understanding), but i dont know...<br><br>As i said before this has worked in BlitzBasic i have only changed a few things such as taken away all code containgn the command "Locate" and increased the mapsize to 800*100 it was 100*40 before. <br><br></td></tr></table><br>
<a name="473984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tested this code <pre class=code>
Const Map_X_Max = 800
Const Map_Y_Max = 100

Dim map(Map_X_Max,Map_Y_Max,2)
Dim mapcheck((Map_X_Max*20),(Map_Y_Max*20))

;write
spara = WriteFile("c:\test.txt") 
For x = 0 To Map_X_Max
    For y = 0 To Map_Y_Max
      For z = 1 To 2	
	map(x,y,z) = $ABCDEF12
	WriteInt(spara,map(x,y,z)) 
      Next
    Next
  Next
CloseFile(spara) 
;read
ladda = ReadFile("c:\test.txt") 
For x = 0 To Map_X_Max
    For y = 0 To Map_Y_Max
        For z = 1 To 2 
            map(x,y,z) = ReadInt(ladda) 
        Next
    Next
  Next
</pre><br><br>and it works fine with debug on.  All arrays are automatically made from 0 to the size you specify so you actually get and extra "slot".  Note that I ran x and y from 0 so actually processed 801 columns and 101 row but ran z from 1 to 2 (only 2 x 3rd dimensions).  I used a hex viewer to view the data.txt file and each integer (4 bytes) is written as $12EFCDAB which is worth knowing.<br><br>You could use a hex viewer to check that your map files contain the correct/expected integers at the correct positions.<br><br>From the example code at the top of this thread to the real code lower down you have changed things like the For loops from "1 to whatever", to "0 to whatever". Is this intentional?  Also you have used ReadInt and later ReadShort, is this intentional?<br><br>Good Luck <br><br></td></tr></table><br>
<a name="474000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could wreally use a Hex Viewer where can i find one?<br><br>The For x = 0 To Anythong was just a question, wich you've answered. Its not part of the code dissregard it.<br><br>As for the ReadInt, nevermind even though it makes no differense it's supposed to be ReadShort.<br><br>Maybe a Hex Viever can help me solve this whole dilemma?<br>--------------------<br><br>Anyway, say this whole problem would be solved, am i doing it right with the mapcheck(x,y) filling?<br>I mean:<br><pre class=code>
;Allright this basicly means that
;mapvalues below 12 is "walkable" (dirt,sand,stone)
;mapvalue 0 is nothing (this is were the player falls down)
;mapvalue &gt; 12 is things like mines, enemies and misc
;so while the map is loading we need to fill the 
;mapcheck(x,y) with the value 1 = 
;(the player will bump in to theese things)
;\\\\\
If (map(x,y,1) &lt;&gt; 0) And (map(x,y,1) &lt; 12) Then
  Value = 1
Else
  Value = 0
EndIf
If (x &lt; Map_X_Max) And (y &lt; Map_Y_Max) Then
  For xm = 1 To 20
    For ym = 1 To 20 
      mapcheck(((20*x)+xm),((20*y)+ym))=Value
    Next
  Next		  
EndIf
;/////
</pre><br>i'm wondering this since it seems to be aproblem aswell.<br>But previously posted problem is of most importense.<br><br>Thank you for your'e cooperation. <br><br></td></tr></table><br>
<a name="474529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I know that the error occurs there on row 15, but im not sure if the error is in the saving process or the loading, i mean that maybe the map doesent contain 100y?  <br></div>The problem is in the loading.  Heres why:<br><div class="quote"> ReadShort (filehandle/stream)<br>Parameters<br>filehandle/stream = a valid variable set with the OpenFile, ReadFile command, or OpenTCPStream (v1.52+) <br>The value returned is an integer in the range 0-65535.  <br><br>Description<br>Once you've opened a disk file (or stream) for reading, use this command to read a single short integer (16bit) value from the file. Note, each value written uses 2 bytes of disk space and is written least significant byte first. Reading beyond the end of file does not result in an error, but each value read will be zero.  <br> <br></div><br>Note again the last sentence.  ReadShort() WILL NOT FAIL even if your saving code is incorrect, so that is not the problem.  The problem is how the map() array is defined.<br><br><br>There must be something you are not showing us.  Or something... <br><br></td></tr></table><br>
<a name="474576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a hex viewer that I made, it's not great but I can email it to you for free if you trust me with your email address.  There's probably loads of better ones on the web, try a Google search.<br><br>Wolron? Is your tag line supposed to say hoes or holes.  Sounds pretty rude either way. Am I being dumb?<br><br>regards <br><br></td></tr></table><br>
<a name="474582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting... The map was saved (and read) with Integer at first, but i got tipped to margain the filesize by changing to Short.<br><br>I think i have solved it pretty much now, as my tag "Det är inte fel det stämmer bara inte" meaning "It's not wrong it just doesen't make sense" (a qoute from a classmate, haha smart), it doesent give me an error anymore but it doesent work fully as i wish.<br><br>I've been working on it almost half the day now. Sure i'd be happy to give you my email no problem! Go ahead and add me to ICQ while youre on it! But all you gotta do is clik on my nickname and you'll be sent to my profile page. The email is there... Anyway my email is: berserker@...<br><br>I can't thank you enough for all your kind help, if it means anything i'll add you all to my credits as "Special Thanks". I'll keep you updated since theres still some errors to fix and it will never be quite good enough right?<br><br>I've been shifting between project too long now, i need to settle down and finish something before i can move on. <br><br></td></tr></table><br>
<a name="474919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll email you the Hex Viewer later when I'm at home.  How did you solve it?  Was it just down to the Integer/ShortInt map file problem?<br><br>Thanks for the tip about the profile page! <br><br></td></tr></table><br>
<a name="474931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Berserker [swe]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well im ebarrased to tell...<br>Since the program failed at my first go when i changed IDE i "commented" som functions so that they wouldnt run.<br>Some shit-functions like updating weapon info and such, as i gradually let them be in the game one of them had a redefinition of Dim map(100,40,2). Well it didn't have to be that but part of it.<br><br>Anyway it's still loads of problems since i increased the resolution.<br><br>I'll be right back with new problems for you to solve hehe =) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
