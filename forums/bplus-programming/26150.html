<!DOCTYPE html><html lang="en" ><head ><title >How do I find out how many frames an image is?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do I find out how many frames an image is?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >How do I find out how many frames an image is?</a><br><br>
<a name="271975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RexRhino</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I want to find out how many frames an image is? How would I do this? There appears to be no ImageFrames(image) command or anything like this? <br><br></td></tr></table><br>
<a name="272008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> iirc, you can't, and it sux indeed. If you know the size of a frame, and the size of the whole picture, then you can calculate how many frames there are... you could also store the amounf of frames in the filename.. but anyway.. I suggest an ImageFrames(image) function too .. <br><br></td></tr></table><br>
<a name="272068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have to supply the number of frames during LoadAnimImage; there's no way for Blitz to tell how many frames are in an arbitrary image strip... <br><br></td></tr></table><br>
<a name="272138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kevin_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you not just increase the number of frames in LoadAnimImage until an error appears. That way, you just deduct 1 and you have the number of frames.<br><br>Just a thought...<br><br>Regards <br><br></td></tr></table><br>
<a name="272150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Synchronist</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RR, you could use an array that uses the image file name as an index to the number of frames it contains. Of course, you would have to know the number before hand... It would be simple to implement as a DATA set I would think. Just an idea. 8^)<br><br>The problem I can see with resolving the number of frames "on the fly" is that the program could not know the size of each frame before hand. If an image strip is 20 x 100 pixels, how many different permutations would be possible to describe a frame size? Lots of them... <br><br></td></tr></table><br>
<a name="272297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my code I have wrapper functions for loading anim images, which only need the width and height of each frame and a type to store info in.  Then I just LoadImage the image first, grab the width and height of the entire thing, divide totalwidth by framewidth and assuming it's an even number of frames, everything is ok.  Then I LoadAnimImage it with the determined number of frames.  Simple.  A bit more elegant than Prof's solution...  especially considering Blitz chucks up a nasty error box and quits if there aren't enough frames, instead of returning 0...  I think =] <br><br></td></tr></table><br>
<a name="272390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Teddyfles</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basicly like Hotcakes said:<br><pre class=code>
Const frame_w = 40
Const frame_h = 40

tmp = LoadImage("Data/Tileset.bmp")
tileset_max = (ImageWidth(tmp) / frame_w) * (ImageHeight(tmp) / frame_h)
FreeImage tmp

iTileSet = LoadAnimImage("Data/Tileset.bmp", frame_w, frame_h, 0, tileset_max)
</pre> <br><br></td></tr></table><br>
<a name="272443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >uwdesign</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had this problem also.  My solution was to read the bitmap files header. The grab the width/height to calc the required number of frames. Then you can loadAnimImage as normal. Avoids having the 2 copies the image in memory a once.<br><br><br> On a related note:<br><br> Is there any reason why the LoadAnimImage command doesn't seem allow more than 1024 frames ?.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
