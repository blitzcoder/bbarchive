<!DOCTYPE html><html lang="en" ><head ><title >Car Collisions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Car Collisions</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Car Collisions</a><br><br>
<a name="408769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello again,<br><br>I'm currently coding a 2D racing game, and I need to come up with a simplistic and yet realistic algorithm which determines the movement of a car after colliding with a wall or another car.<br><br>The algorithm needs to take the following into account:<br><br>1: The car(s) angle(s) - This determines the resultant angle(s)<br>2: The point of contact - This also determines the resultant angle(s)<br>3: The car(s) speed(s) - This determines the resultant speed(s) <br><br>Any suggestions for such an algorithm (preferably in psuedocode) would be most appreciated!<br><br>Thanks,<br>Ryan <br><br></td></tr></table><br>
<a name="409082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look up 2d rigid body physics.  I dunno beyond that. <br><br></td></tr></table><br>
<a name="409087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I'd just go for cheap tricks, I'm assuming this is going to be a top down racer.<br><br>For steering pivot the cars around the back axil to make it steer more realistically (rather than in the centre)<br><br>If a car hits another car take the x and y speed of the hitter divide it by a number (play to see what looks right) and tranfer those velocities onto the car that got hit.<br><br>If you want to add spin to cars that have been hit, just do a quick bit of where the impact was reletive to the centre of mass (pivot point) and see it you need to throw some spin into the tin, again, just play until it looks about right.<br><br>Of course, if you're looking for really realistic physics forget all of this, but if you're wanting something GTA1 style then just look at fudges. <br><br></td></tr></table><br>
<a name="409204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheap tricks are tempting, but as my game is lacking in the graphics department, I want to redeem myself with realistic physics...anyone got a more substantial algorithm? <br><br></td></tr></table><br>
<a name="409273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.learner.org/exhibits/parkphysics/bumpcars2.html" target="_blank">http://www.learner.org/exhibits/parkphysics/bumpcars2.html</a><br><a href="http://www.physicsclassroom.com/mmedia/momentum/trece.html" target="_blank">http://www.physicsclassroom.com/mmedia/momentum/trece.html</a><br><a href="http://ffden-2.phys.uaf.edu/211_fall2002.web.dir/Ben_Townsend/PhysicsofCarCollisions.htm" target="_blank">http://ffden-2.phys.uaf.edu/211_fall2002.web.dir/Ben_Townsend/PhysicsofCarCollisions.htm</a> <br><br></td></tr></table><br>
<a name="409435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again for the help Rob, but the links you gave me mainly focused on using mathematical models which, although giving realistic results, were far too complex for my simple game! I think I will resort to cheap tricks after all as my game is rather retro and could get away with a basic collision routine. However, if anyone has actually made a 2D racing game, I would be very grateful if you could provide me with the relevant algorithm(s) to enhance my game's quality (Note: I'm not actually using BlitzPlus - I'm using its predecessor - BlitzBasic, so I may need a psuedocode version of your algorithms in case there's any incompatibilities between the two languages)<br><br>Thanks,<br>Ryan <br><br></td></tr></table><br>
<a name="409883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I really need help now! I've made an algorithm, but it treats the cars as dimensionless particles, so it will not work. The fact that a car is not a particle creates the problem of determining which car is pushing and which is being pushed in a collision.<br><br>See below for an example <br><br></td></tr></table><br>
<a name="409885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Example:<br><br>Situation 1<br><br>&lt;&lt;&lt;&lt;CAR2<br>///////^<br>///////^<br>///////C<br>///////A<br>///////R<br>///////1<br><br>Situation 2<br>^<br>^<br>C<br>A&lt;&lt;&lt;&lt;CAR2<br>R<br>1<br><br>In both situations, Car 1 is going up, and Car2 is going left. However, Car 1 is the 'pusher' in Situation 1, but Car 2 pushes in situation 2. The 2 collisions will have different outcomes...the question is, how do you determine what these outcomes will be?<br><br>Any ideas will be most appreciated!<br><br>Ryan <br><br></td></tr></table><br>
<a name="410319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Come on people, I need help! <br><br></td></tr></table><br>
<a name="410925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's wrong with this webpage? <a href="http://www.physicsclassroom.com/mmedia/momentum/2di.html" target="_blank">2 dimensional collision</a><br><br>If you don't know how to use these formulas (Pythagorean theorem, SOH CAH TOA) then look them up.<br><br>What you are asking for requires some understanding of physics and trigonometry.<br><br>Definition of <a href="http://www.csci.clark.edu/~gloves/COURSES/pp/TrigFnsDef2_files/frame.htm" target="_blank">SOH CAH TOA</a><br><br>Good explanation of how to use the <a href="http://regentsprep.org/Regents/math/math-topic.cfm?TopicCode=fpyth" target="_blank">Pythagorean theorem</a><br><br><a href="http://ullman.clarku.edu/~djoyce/java/trig/" target="_blank">Trig Course</a> <br><br></td></tr></table><br>
<a name="411219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've studied Maths &amp; Further Maths at A-level and I'm predicted an A grade for both (results tomorrow!), so I'm quite familiar with Pythagoras and Trigonometry! <br><br>The 2 dimensional collision webpage you provided was good WolRon, but it still assumed that the cars were particles - it doesn't address the problem stated in my previous post regarding the 2 different situations (see above).<br><br>Any other ideas?<br><br>Thanks,<br>Ryan <br><br></td></tr></table><br>
<a name="411408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> This <a href="http://zebu.uoregon.edu/~probs/mech/newt/2ndNewton1/2ndNewton1.html" target="_blank">page</a> may help or at least lead you in the right direction...<br><br>Instead of brakes, think of it as an opposing force (collision). <br><br></td></tr></table><br>
<a name="411725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You misunderstand me WolRon! My problem doesn't concern braking, it concerns the fact that 2 cars moving along fixed vectors can collide in many different ways, as illustrated in the 2 situations given 5 posts ago.<br><br>Any solutions people?<br><br>Ryan <br><br></td></tr></table><br>
<a name="411742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may not fully understand you either, but presumably you store both the cars vectors and rotations/current rotation speed?<br><br>Couldn't you create collision zones for the cars, something like this:<br><img src="http://www.perturbatio.com/images/carcoll.jpg"> <br><br></td></tr></table><br>
<a name="411849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I think I understand you.  You want to know how to handle the collision depending on where the car is hit.<br><br>I think what has been said so far could still be used.  The only thing I would add is to maybe have TWO points of reference for each car, one in the front and one in the back.  Then when a collision occurs, you can check the distance and angle from the collision to each point of reference to determine how much of the colliding force to apply to the front and how much to apply to the back.  This should (I'm hoping) cause the car to react in a realistic way.<br><br>For example, if the first car was broadsided in the front, you would expect the front half of the car to move sideways more than the rear.  Likewise if the first car was broadsided in the middle, the entire car would shift sideways fairly equally. <br><br></td></tr></table><br>
<a name="411901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is another link you might want to look at<br><br><a href="http://uk.geocities.com/olivier_rebellion/" target="_blank">http://uk.geocities.com/olivier_rebellion/</a><br><br>Plenty of tutorials and sample code ( in C I believe ).<br><br>The polygonal collision and response link might help. <br><br></td></tr></table><br>
<a name="412321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Perturbatio, WolRon and QuietBloke (how do you come up with such names?!). I've considered each of your ideas carefully, but I've found potential flaws: <br><br>Pert's idea of applying 'collision zones' would be rather inefficient as you would have to create a 72 frame image for each zone to allow collision checking for all of the car's 72 frames (My cars consist of 72 frames, where the car is rotated through 5 degrees from frame to frame). Another point is that if a car has say 8 collision zones, at least 64 (8*8) different 'types' of collisions could occur, so a lengthy table telling the program what to do in each situation would be required. (I say 'at least' because a car may collide with another in more than 1 zone, especially at the cars' vertices). <br><br>WolRon's idea of using reference points would pose a similar problem as these points would change their positions when the car rotates. Although the equation of a circle could be used to calculate the points' positions, one still needs to find out the point where the actual collision has taken place to make use of the reference points, which is a near impossibility!)<br><br>And QuietBloke, I'll be honest, I didn't really check out the zip files contained in your link as I doubted from their names whether they would address 'spinning', and I wouldn't be up to translating potentially mathematically complex C code into Blitz.<br><br>I'm going to extend my search for a solution outside the Blitz community, but suggestions are still welcome. If all else fails, I'll resort to cartoony style collisions (i.e if 2 cars collide then the slower one is spun out of control and others can drive through it whilst incapacitated) as my game is very basic and is based on the cartoon "Wacky Races".<br><br>Thanks for the help and keep the suggestions flowing in!<br><br>Ryan <br><br></td></tr></table><br>
<a name="412330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, you really need to check out those files,... they are the best answer you have gotten so far. The 3rd from the bottom is probably the best for learning. <br><br></td></tr></table><br>
<a name="412340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Pongo,<br><br>I checked it out, and I agree it's a good resource, but as it was C orientated, I didn't understand some of the terminology - psuedocode would be prefered. I want to keep the algorithm as simple as possible and obtain 'basic' realism without applying complex physics, too.<br><br>Sorry to be difficult, but keep trying!<br><br>Ryan <br><br></td></tr></table><br>
<a name="412368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree about the C code,... I'm in the same position as you are on wanting to learn this. I have a racing game of my own I wish to work on, and I need to have proper collisions (with rotations) working. I don't want to use a system like Tokamak, because: a) I want to control and understand it myself, and b)I'm not all that excited about most physics systems car setups. <br><br>These examples looked almost simple enough to understand though, and I was hoping to get a better look this weekend. The worst part for me interpreting C code is the amount of source files involved, and having to jump around so much.<br><br>Anyways, maybe someone will be generous enough to make a blitz physics tutorial based on those that would cover things like this from a VERY basic level, but until then I think that analyzing those examples are your best bet.<br><br>Edit: What would be really nice would be a tutorial that continues from where this one leaves off, and covers through rotational forces. <a href="http://www.blitzcoder.com/cgi-bin/articles/show_article.pl?f=gamesnickbull02272002.html" target="_blank">http://www.blitzcoder.com/cgi-bin/articles/show_article.pl?f=gamesnickbull02272002.html</a><br><br>also, check out the 2d Verlet library by andreas_blixt here. <a href="http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=andreas_blixt10032003205007&amp;comments=no" target="_blank">http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=andreas_blixt10032003205007&amp;comments=no</a> <br><br></td></tr></table><br>
<a name="412409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, the continuation of that tutorial would probably have been useful. Yet, I couldn't get the Verlet program to run for some reason...oh well. You mentioned Tokamak in your post and I've heard about it a few times before - could you tell me a little more about this system please?<br><br>Thanks,<br>Ryan <br><br></td></tr></table><br>
<a name="412645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone. I think I've found the best resource for this topic: <a href="http://www.myphysicslab.com/collision.html" target="_blank">http://www.myphysicslab.com/collision.html</a> . The maths is heavy in some places, but it seems implementable and provides 100% realistic collisions.<br><br>Hope this helps!<br><br>Ryan <br><br></td></tr></table><br>
<a name="412960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me again!<br><br>I've come to the following conclusion: It's simply too difficult a task! Consequently, I've resorted to 'cheap tricks'...and I must say, they are actually quite realistic. The algorithm I've coded certainly isn't perfect, but for an arcade racing game, it's quite acceptable.<br><br>Even so, I would like to see continued discussion in this field of physics, not for my game, but for the benefit of future coders.<br><br>Thanks everyone for your help,<br>Ryan <br><br></td></tr></table><br>
<a name="412962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shame. All you needed was snooker physics. Look for ball to ball, or snooker physics.<br><br>Then you need Oriented Bounding Box collision. It might even be in code archives? <br><br></td></tr></table><br>
<a name="412963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can also use TOKAMAK for 2D games. It calculates the physics in 3D but it is up to you how you represent the results.<br><br>You can also correct tokamak each frame to keep the cars on the floor for the top down racer. It also comes with car sample.<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=36626" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=36626</a><br>And www.playerfactory.co.uk (click forums) <br><br></td></tr></table><br>
<a name="412978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found "Ball Collisions" in the code archives, but as balls are circular, the algorithm didn't take spinning cars into account. Regards Tokamak, it sounds useful, but the process of integrating one program into another sounds daunting. I'm happy with the algorithm I've just made now - it's realistic enough and doesn't spoil the gameplay.<br><br>Ryan <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
