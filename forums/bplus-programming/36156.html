<!DOCTYPE html><html lang="en" ><head ><title >Imagerectcollide</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Imagerectcollide</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Imagerectcollide</a><br><br>
<a name="395265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paulo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, new user here looking for a little explanation on the topic command.  Ive basically made my own buttons and want them to be clickable.  This works, but Im having problems with the numbers on the imagerectcollide command.. also not sure what I should use in the image reference, since im using the standard mouse pointer, not a cursor image. <br><br>Suppose I had a button image drawn here like this...  <br><br>DrawImage mybutton,20,447   ;Image dminension is 34x24<br><br>And I want to test the collision with a plain mouse pointer (with no image) what would I write after the Imagerectcollide command to get the exact detection? Im having real problems here because every time I try this, my detection area seems too big and not referenced from the correct place, I got it to work by trial and error, but its not pixel perfect..<br><br>I thought it should be this for the above DRAW line...<br><br>mx = mouseX() <br>my = mouseY() <br><br>If ImageRectCollide(WHAT TO PUT HERE?,mx,my,0,20,447,34,24)<br><br>and would the numbers be correct? Because to get it to work I had to write this.. <br><br>If ImageRectCollide (mybutton,mx,my,0,24,455,54,10)  <br><br>Those numbers seem way out to me, but what am I missing? <br><br>Furthermore, "mybutton" is not the mouse image, its the image being used for the button, so how come this works? Im happy I can get it to work, but I would rather know why its not working as I expect it to. Ive followed the command help, but the example is a bit different, any insight anyone can offer would be very welcome. Thanks for reading. <br><br></td></tr></table><br>
<a name="395269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Binary_Moon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There are many times when you need to see if an image has collided with (or is touching) a specific rectangular area of the screen. This command performs pixel perfect accurate collision detection between the image of your choice and a specified rectangle on the screen. <br></div><br><br><br>The ImageRectCollide command checks to see if an image collides with a rectangle. You want to see if there is a point (mx,my) inside a rect.<br><br>Basically you're using the wrong command. All you have to do is check to see if the mouse is within a specific bounding box.<br><br><pre class=code>
Function within(x,y,w,h)

	;--------------------------------------------------	
	;check to see if the mouse is within specified rect
	;--------------------------------------------------

	If MouseX()&gt;x And MouseX()&lt;x+w
		If MouseY()&gt;y And MouseY()&lt;y+h
			Return True
		EndIf
	EndIf

	Return False
	
End Function
</pre><br><br>is what I use.<br><br>In your example you would use<br><br><pre class=code>within(20,447,34,24)</pre> <br><br></td></tr></table><br>
<a name="395277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paulo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks so much. :) That makes perfect sense. <br><br></td></tr></table><br>
<a name="410658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use the following equation, where pintX and pintY identify the point you're checking and intX1, intY1, intX2, intY2 are the bounding co-ordinates.<br><br>((((pintX - intX1) Xor (pintX - intX2)) And ((pintY - intY1) Xor (pintY - intY2))) And $80000000) <br><br></td></tr></table><br>
<a name="410690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaVirus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you need more than just rectangular buttons, you could use Skidracer's InsidePoly function.  I'm using this for rotated and odd shaped buttons and find that it's very accurate and fast.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=45" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=45</a> <br><br></td></tr></table><br>
<a name="410747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paulo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice one thanks, I hadnt spotted that one. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
