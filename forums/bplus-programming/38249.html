<!DOCTYPE html><html lang="en" ><head ><title >is this healthy?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >is this healthy?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >is this healthy?</a><br><br>
<a name="423409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> n00bish question perhaps ..<br><pre class=code>
Notify"start"
For t=0 To 255
	bla=CreateBank(1024)
	FreeBank bla 
Next
Notify"end"
End
</pre><br><br>It's not about this being anything that makes sense, but I can imagine myself using tempbuffers etc.. same for CreateImage and FreeImage. Are the resources really gone after I freed them, or are they silently preserved somewhere (while not being useable for me) and thus slowly eating my mem until the space-time-continuum is messed-up and the universe collapses? <br><br></td></tr></table><br>
<a name="423430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Brine</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldnt worry to much about the universe collapsing!! <br><br></td></tr></table><br>
<a name="424169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Quote:<br>"n00bish question perhaps .."<br>I dont think it is.<br>More of an elaborate question to me.<br>I assume that freeing the memory frees the memory.. But to what extent is beyond my knowledge <br><br></td></tr></table><br>
<a name="424176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I were you, I wouldn't worry about it.  Just assume that FreeBank does what it's supposed to do.  It's probable that some of the memory remains allocated to Blitz, but I'm positive that it's marked for other use once you FreeBank it, and there's probably a cap on that memory.  I'm sure if there were memory leaks, they would have been caught by now.  =) <br><br></td></tr></table><br>
<a name="424519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Banks and images created in a function are also really deleted at the end of a function? No need to FreeImage/FreeBank them in the actual function? <br><br></td></tr></table><br>
<a name="424541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> no.. they exist until either you delete them or the program ends at which point blitz will do a clean up.<br><br>eg.<br><br>createbank ()<br><br>; Do stuff<br><br>end<br><br>function createbank ()<br>  blah = CreateBank (1024 )<br>end function<br><br>This code will call the function which will create the bank and assign the local variable blah to point to it.<br><br>at the end of the function the blah variable will cease to exist but the bank you reated is still there.. you just no longer have a way to access it.<br><br>When the program ends Blitz will do a clean up and delete the bank.<br><br>Hope that helps ( and I hope Im right ). <br><br></td></tr></table><br>
<a name="424624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm.. funny, isn't it? everything in a function is local and thus deleted at the end of a function, except the contents from created banks, images etc.<br><br>How's this (gonna be) in blitzmax? Personally I find that non-local stuff in a local scope a bit weird.. I really expect *everything* to be gone to the dogs, once a function ends..<br><br>Or do you ppl find this all normal ? :) <br><br></td></tr></table><br>
<a name="424692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't forget types...<br><br>It's normal if you've ever programmed in C/C++, at least.<br><br>Once you allocate memory (with malloc or New) you must explicitly free it.  You can create a local pointer to it, but that's seperate from the actual allocated memory.  If that pointer is created within a function, then it's destroyed when program execution leaves that function's scope.  The allocated memory persists, which is good, because if it didn't, you'd have to use global variables or always pass in a pointer to a memory bank for the function to fill or something.<br><br>Blitz does a very, very similar thing.<br><br>Don't think of chunks of memory (type instances, memory banks, images, etc) as "variables".  For these types of things, the variables are the pointers to the object, and the variables are what get destroyed when you leave scope -- not the memory blocks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
