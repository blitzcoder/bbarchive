<!DOCTYPE html><html lang="en" ><head ><title >For Type Pros</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >For Type Pros</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >For Type Pros</a><br><br>
<a name="647885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >robot</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, the thing is I have a few questions about types:<br>- Say you have a group of enemy types, is there a way to acsess a certain specified enemy in the list<br>-I have looked through the code in one of my font libraires .bb libraries, and they have used a function that I cannot find in any of the B+ docs.Object. What does this funciton do?<br><br>And if theres any other thing i might need to know about types, please tell me, thanks! :) <br><br></td></tr></table><br>
<a name="647979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andres</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you'll need to add an ID number to every enemy and then just<br><br><pre class=code>
for this.enemy = each enemy
  if this\id% = enemyid% then
    ...
  endif
next
</pre> <br><br></td></tr></table><br>
<a name="648018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I prefer to create an array of Types, then every time I make a new type, add it into the array.  Then I can reference the type by accessing an array element instead od having to use a for loop :-)  Of course you need to manage adding/deleting from your array carefully... <br><br></td></tr></table><br>
<a name="648222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >robot</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> okay, thats a good idea Grey, but wouldn't you have to make a set number for the array? then could you give me and example of the new function and deleteing. thanks! ;3) <br><br></td></tr></table><br>
<a name="648246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, as Blitz PLus can't resize arrays, you WOULD have to make a fixed size array, but if you know a theoretical maximum number if types it's no problem.<br><br>When you add to the array, you ought to keep a counter which is the current next available empty slot, when filled, increment the counter by one.  Unless you need to insert into the array and shuffle all the other slots up by one.  Deleting something from the middle of the array will need shuffling and also a reduction of the counter by one.  It's a bit late for me to be posting code right now, but I used this technique for my games and it's cool. <br><br></td></tr></table><br>
<a name="648261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, at any level, resizing of an array commonly involves complete reallocation as theres little garantee that anything after the array is free to be appended. So having a second array dimmed to one, and then making a function to dim b to the size of a, dim a to the new size and copy the values back wouldnt be any bother..except it'd have to be done for every desired array..and be slow..So woulod only really be usefull when say having a pause already due to loading an area or something.<br><br>Generally, i suppose the eg.enemy you would want would be discovered during a loop for each enemy eg:<br><pre class=code>
for this.ene blabla
	If closeToPlayer(...)
		If playerAttacking(...) 
			;here, this is obviously the type yod want.
		EndIf
	EndIf
next
</pre><br>But if you wanted at this moment to pick some out from the list, or on creation set some so that you could add soemthing else onto what happens to them/treat thm differently, rather than having variables, or storing them with arrays and storing off which indices you wanted to access, you would sometimes be better off having a seperate list of types, which each have one of those types a s a field, and allow you to iterate through a constriction on those types rather than through all of the types as blitz forces.<br>eg:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Type enemy_type

	Field x,y,hp
	
End Type

Type hurt_enemy_type
	Field access.enemy_type
End Type
	
;. . .
;. . .
;. . .

For this.enemy_type = Each enemy_type
	
	If On_Screen(x,y) Then
	
		If Player_Hits( this )

			hthis.hurt_enemy_type = New hurt_enemy_type
			hthis\access = this
			
		EndIf		

	EndIf
Next



For hthis.hurt_enemy_type = Each hurt_enemy_type

		;....

Next
</textarea><br>However with new hurt_enemy_types being made and freed alot, that can be both messy and mess about with memory. But for some situations it can be usefull to be able to only check a particular condition once, and process the results on a constricted group of the types later (withought having to check any values on that group).<br>If you only wanted one type out of the loo after detection...Just having another type :<br><pre class=code>
local closest.my_type
For ...
   if something
       if IsCloserThanOthersSoFar(...)
           closest=this;
       endif
   endif
Next
</pre><br><br><br>Handle() allows you to store a value relating to a types address into an integer. Object() allows you to get it back again, eg:<br><pre class=code>
Type me_type
field name$
end type
local me.me_type=new me_type
me\name$="aab"
local handleToMe% = Handle( me )
. . .
local someone.me_type = Object.me_type ( handleToMe )
print someone\name$ ;prints "aab"
; i *think* lol
</pre><br>I think its almost useless. Types are already an address-type of thing(referenced through functions..can be null), and much safer.<br>Even if two types are exactly the same, blitz internal storage methods (which allows the for each thing) means they cannot be intechanged through handle() and object()<br>You can make a library though, and only return handles so that your users dont have to worry about the types name when passuing it within their code etc: In other words it would be like saying "we dont want this types values to be changed other than through our own functions"...Not that it forces such a thing, but it makes it obvious that thats the intent. <br><br></td></tr></table><br>
<a name="648340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can store type instances in banks, banks can be resized without loosing the content. <br><br></td></tr></table><br>
<a name="648368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> aaaaahhhh yes thats what handles usefull for.<br>I forgot that somehow...thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
