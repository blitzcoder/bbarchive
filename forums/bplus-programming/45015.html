<!DOCTYPE html><html lang="en" ><head ><title >openmovie bug?  help!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >openmovie bug?  help!</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >openmovie bug?  help!</a><br><br>
<a name="500761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arem</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was using this code to play a movie and it worked for a while, and then suddenly stopped.  I am sure the movie is in the same dir as the .bb file.<br><br>global movie=OpenMovie("movie.mpg")<br><br>While MoviePlaying(movie)<br>	SetBuffer BackBuffer()<br>	<br>	If KeyHit(1)<br>		CloseMovie(movie)<br>		End<br>	End If<br>	<br>	DrawMovie(movie,0,0,800,600)<br>	Flip<br>	Cls<br>	Delay(5)<br>Wend<br><br>CloseMovie(movie) <br><br></td></tr></table><br>
<a name="500765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> works fine on my Blitz Plus 1.4 if I put this line at the top<br><br><pre class=code> Graphics 800,600 </pre><br><br>When you say "It suddenly stopped" do you mean the movie plays a bit and then stops or your code suddently stopped working after running it a few times (meaning you must have a made a change to the code or the file).  Is debug mode enabled (on the program menu)?  This will tell you if the file is not there as MoviePlaying will error with an invalid handle. <br><br></td></tr></table><br>
<a name="500769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yeah, try this more optimised version:<br><br><pre class=code>
Graphics 800,600
Global movie=OpenMovie("movie.mpg")
SetBuffer BackBuffer()
While MoviePlaying(movie) And KeyHit(1)=0
	DrawMovie(movie,0,0,800,600)
	Flip
Wend
CloseMovie(movie) 

</pre><br><br>It doesn't seem to need the CLS. Please correct me If I am wrong.<br><br>Why the 5ms Delay command, are you planning to use if with (very fast) animated Gifs? <br><br></td></tr></table><br>
<a name="500773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arem</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok.  Here's what goes down.<br><br>If i run it using<br><br>graphics 800,600,32,1<br><br>at the top it works just peachy.<br><br>But I want to be able to use any graphics mode.<br><br>The cls is unneeded if the movie DOES play, but if it doesn't play the proggy does wacky stuff to the graphics that were already there.  The CLS makes sure it looks nice even if it crashes.  Sort of like adding flowery motif and some opera music to the blue screen of death. <br><br></td></tr></table><br>
<a name="500775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> What happens if you put the CLS outside of the loop, isn't that OK?  You could do<br><pre class=code>
cls
flip
cls
</pre><br>just to clear both buffers maybe.<br><br><div class="quote"> <br>But I want to be able to use any graphics mode.<br> <br></div><br><br>I am afraid I don't know what to do about this, anyone else? <br><br></td></tr></table><br>
<a name="501232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arem</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.  heres what goes down.  Openmovie will only play a movie if you specify the color depth of the graphics mode.<br><br>Hence<br><br>graphics 800,600 and graphics 800,600,colordepth(),1<br><br>do not work<br><br>You MUST put graphics 800,600,[depth],1<br><br>Hopefully they will get rid of this bug soon! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
