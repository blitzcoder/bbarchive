<!DOCTYPE html><html lang="en" ><head ><title >Saving and Opening Text Area Text</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Saving and Opening Text Area Text</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Saving and Opening Text Area Text</a><br><br>
<a name="460501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arem</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wanna be able to load and save text area text to a file but I'm having trouble with the lines.  I know I need chr$(10) and chr$(13) at the end of every line but it isnt quite working how it should.  Here is my code:<br><br>Global Config<br>Global TextField1<br>Global EnterAHomepage<br>Global TEXTAREA1<br>Global EnterYourApps<br>Global Submit<br>CreateConfig()<br>While WaitEvent()<br>	<br>	If EventID()=$401 And EventSource()=submit<br>		DeleteFile("config.txt")<br>		file=WriteFile("config.txt")<br>		WriteLine(file,TextFieldText(textfield1))<br>		WriteLine(file,TextAreaText(textarea1))<br>		FreeGadget(config)<br>	End If<br>	<br>	If EventID()=$803 And EventSource()=config<br>		FreeGadget(config)<br>	End If<br>Wend<br><br>Function CreateConfig()<br>	Config = CreateWindow("Butane Configuration",220,151,300,295,Desktop(),17)<br>	TextField1 = CreateTextField(5,20,280,20,Config,0)<br>	label1 = CreateLabel("Enter Your Homepage",5,5,280,15,Config,0)<br>	TEXTAREA1 = CreateTextArea(5,65,280,180,Config,0)<br>	label2 = CreateLabel("Enter Application Locations and Nicknames",5,50,280,15,Config,0)<br>	Submit = CreateButton("Enter",100,250,100,20,Config,0)<br>	file=ReadFile("config.txt")<br>	SetGadgetText(textfield1,ReadLine(file))<br>	While Not Eof(file)<br>		AddTextAreaText(textarea1,ReadLine(file))<br>		AddTextAreaText(textarea1,Chr$(10))<br>		AddTextAreaText(textarea1,Chr$(13))<br>	Wend<br>	CloseFile(file)<br>End Function <br><br></td></tr></table><br>
<a name="460554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's not working?  It loads and saves the text fine for me. <br><br></td></tr></table><br>
<a name="460590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @soja Isn't it obvious what's wrong?<br><br><div class="quote"> it isnt quite working how it should <br></div><br><br>I don't see how you missed that.  It's so black/white. <br><br></td></tr></table><br>
<a name="460609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> From a quick glance there is no matching CloseFile to go with:<br><br>file=WriteFile("config.txt") <br><br>which will cause unpredictable results. <br><br></td></tr></table><br>
<a name="460888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arem</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK.  Sorry guys.  If you open the config file in notepad, many of the lines that were shown in the text area are on one line seperated only by a undisplayable character.  There also seem to be some problems when opening and saving a file repeatedly. <br><br></td></tr></table><br>
<a name="460900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The XP version of notepad has some pretty wierd handling of chr(13), I advise just using chr(10). <br><br></td></tr></table><br>
<a name="460906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arem</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks.  that seems to have worked! <br><br></td></tr></table><br>
<a name="461908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonari Eclipsi Onimari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> So are you working on a word processor? I'm in the middle of one right now. I have a problem though. I want to change a certain font on a textarea, but It will change everything. Is there a way around this? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
