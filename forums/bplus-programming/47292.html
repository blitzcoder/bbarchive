<!DOCTYPE html><html lang="en" ><head ><title >Why's ALT pausing my app in windowed mode?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why's ALT pausing my app in windowed mode?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Why's ALT pausing my app in windowed mode?</a><br><br>
<a name="525703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why is ALT pausing my app when it is running in a window?  <br><br>I've triple checked my code... I never added a pause function.  I never read the alt key.  <br><br>When I press alt in my browser I notice the file menu is highlighted but doesn't open.  Same for media player.  I'm guessing this is why my app is pausing.<br><br>How can I stop this behavior? <br><br></td></tr></table><br>
<a name="525709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have a window with a menu (even if nothing is in it), then ALT triggers the menu, and all the rest stops. Create the window without menu. <br><br></td></tr></table><br>
<a name="525712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did create my window without a menu.<br><br>Window = CreateWindow(APPLICATION_NAME$, Window_X, Window_Y, SCREEN_WIDTH, SCREEN_HEIGHT, 0, 1+2+32) <br><br></td></tr></table><br>
<a name="525714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the 1 flag that's causing it.  The 4 flag also causes it, but I don't have that.  <br><br>The 1 flag makes the title bar.  The 4 flag makes the menu.<br><br>If I remove the 1 flag, then I will no longer have buttons to minimize, maximize, and close the window.  Also, there will be no title bar to grab to move the window around.  That's unacceptable!  <br><br>There's gotta be some way to fix this.  This is a language for making games.  CTRL, ALT, and SHIFT are very important keys for games.  We must be able to access them without triggering the menu and pausing the game, even if we have a title bar AND a menu!<br><br>There's gotta be a windows function I can call to disable this behavior...  Unfortunately I don't have a clue what terms I could use to search for it on MSN because the word ALT and PAUSE bring up hundreds of irrelevant pages. <br><br></td></tr></table><br>
<a name="525715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, I just tested with flag=0 ... no issues anymore then.. <br><br></td></tr></table><br>
<a name="525717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you can try to make your own titlebar and close/minimize/maximize buttons using canvasses orso .. I did that once.. works like a charm. You're basically overruling standard windows shortcuts by having your own buttons.. <br><br></td></tr></table><br>
<a name="525718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Making my own title bar and buttons with canvasses?  That's crazy talk. :-)  I'm not doing that!  <br><br>It would look different from the standard windows interface, and be a pain in the ass to add menu options to if I chose to do that.<br><br>No, there must be some way to disable this behavior.  I simply don't want pressing alt to activate the menu.  That doesn't seem like it would be impossible to accomplish. <br><br></td></tr></table><br>
<a name="525754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might try this command:?<br>GetAsyncKeyState(somekeyvaluehere)<br><br>It requires this userlib declarations:<br>.lib "user32.dll"<br>GetAsyncKeyState%(virtualkeycode%):"GetAsyncKeyState" <br><br></td></tr></table><br>
<a name="525771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dunno for sure, but I don't think that works.. it only grabs the keystate, but meanwhile windows continues to link that ALT keypress to the menu.. <br><br></td></tr></table><br>
<a name="525903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arem</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Graphics 800,600,32,2<br><br>Or whatever resolution you choose. <br><br></td></tr></table><br>
<a name="525907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arem:<br>That gives me a window with a title bar, but no X to close it, and no way to modify it.  I can't maximize it, I can't minimize it, I can't add a file menu or a config screen.<br><br>I know it is possible to do what I want to do, because the game Demonstar does it.  I'll just have to ask that guy I guess. :-) <br><br></td></tr></table><br>
<a name="525945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only prob with GetAsyncKeyState is that altough you may be able to capture and process the key, you won't have stopped windows from processing it too. There are other windows api commands that let you get the key, process it and remove it from the buffer to stop windows using it. <br><br></td></tr></table><br>
<a name="526029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Someone on flipcode suggested the following, and for windows without menus, it appears to be the case that there is still a "system menu", but I still need a way to bypass it, and it doesn't solve the problem with the menus.<br><br><div class="quote"> <br> Hi there !<br><br>Your problem is the system menu, I guess, which is always there for normal windows ;) It not only reacts to ALT key presses, but also on the F10 key, and on right-clicking window buttons in the taskbar. Try pressing Alt and "Arrow down" after that to see the system menu.<br><br>If you were able to change the window callback function somehow, you could try catching the key events before passing to DefWindowProc, and see if that helps.<br><br>Alternatively, you might try if there is a combination of window flags which disable the system menu (i.e. SetWindowLong or a similiar call). If I remember right though, disabling the system menu will also hide the maximize and minimize buttons of your window<br> <br></div> <br><br></td></tr></table><br>
<a name="526045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been trying to find you a solution here sswift but I haven't been able to change the SYSMENU to accept min, max and close buttons while the menu is disabled.<br><br>It's almost like the min, max and close buttons are classed as menu items themselves :/<br><br>The easiest workaround would be to create a window using the Graphics command, then create buttons for min, max and close inside the window. (which is crappy, I know)<br><br>Anyway, I'll keep trying and let you know if I have any luck with it. <br><br></td></tr></table><br>
<a name="526047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it isn't for a pulldown menu, manually making a dragable titlebar, and some minimize/restore/close buttons sounds (to me) like a solution for the moment.. <br><br></td></tr></table><br>
<a name="527587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz Amateur</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know how to fix your problem, use a bitwise OR rather than a '+'.<br><br>Try this out<br><br>Window = CreateWindow(APPLICATION_NAME$, Window_X, Window_Y, SCREEN_WIDTH, SCREEN_HEIGHT, 0, 1 Or 2 Or 32)<br><br>|EDIT|<br>I just tested this and it works perfectly to eliminate the menu<br>|EDIT| <br><br></td></tr></table><br>
<a name="527704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Amateur:<br>1+2+32 gives you the same result as doing a bitwise OR if each value sets only one bit, which they do.<br><br>1 Or 2 Or 32 = 35<br><br><br>The problem isn't the window menu, it is the window system menu.  The one hidden under the icon to the left of the window title.  The one that lets you close the window, minimize, or maximize it with a menu.  It apepars you can't get rid of that without getting rid of the close, min and max buttons on the right side of the window. <br><br></td></tr></table><br>
<a name="527913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blaine</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use this command on the window, with the parameter being the handle for the window:<br><pre class=code>Function RemoveSysMenu(win)
hWnd=QueryObject(win,1)
s=GetWindowLong(hWnd, -16)
s=s Xor $80000				;Turn WS_SYSMENU off, thus removing the system menu
SetWindowLong hWnd, -16, s
End Function</pre><br>Requires the following userlibs:<br><pre class=code>.lib "user32.dll"
GetWindowLong%(hWnd%, nIndex%) : "GetWindowLongA"
SetWindowLong%(hWnd%, nIndex%, Value%) : "SetWindowLongA"</pre><br>I tested it and didn't have any problems. <br><br></td></tr></table><br>
<a name="527955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are there clear beginner-tutorials on those alien commands (Queryobject etc.) in combination with working with those userlibs somewhere? <br><br></td></tr></table><br>
<a name="528006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blaine</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know about the API commands, but QueryObject() is a B+ command, included in the manual here: <a href="http://www.blitzbasic.com/bpdocs/command.php?name=QueryObject&amp;ref=2d_cat" target="_blank">http://www.blitzbasic.com/bpdocs/command.php?name=QueryObject&amp;ref=2d_cat</a> <br><br></td></tr></table><br>
<a name="528016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I hardly call *that* help bit a beginner-tutorial :) <br><br></td></tr></table><br>
<a name="528029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> All it does is grab the Windows compatible handle of a Blitz gadget, what more do you need to know?<br><br>Blitz's internal handles won't work with Win32 API (userlib) calls, so to pass the handle of a Blitz gadget to the Windows API functions you need to use QueryObject to retrieve the Windows compatible handle first.<br><br>I've got the feeling I'm going to have to explain this again in more detail :) <br><br></td></tr></table><br>
<a name="528166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blaine:<br>That appears to work.  Thanks. :-) <br><br>But there's still one problem.  When you maximize the window, the window icon on the left, and all the buttons on the right disspear, and do not reappear when you make the window normal sized again. <br><br></td></tr></table><br>
<a name="528994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> sswift: I am having similar problems (but luckily my game doesn't use Alt).  It seems you can't have a minimise and close on the left without having the system menu on the right. Kill the system menu and you loose the minimise and close icons.  Did you find a solution yet?<br><br>In my platform game I was using shift and ctrl but if you press them rapidly (or hold them for a long time), windows sticky keys pops up and you have to disable it.  This stinks.  I have documented it in the readme but really I want to stop windows processing Alt, Ctrl and Shift, and the Windows Key whilst I'm at it but Blitz Plus lets Windows have them first which is a bummer for a games language.  Anyone got any tips about this?  I could start a new thread I guess. <br><br></td></tr></table><br>
<a name="529016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK I have a possible workround.  Note that your app can still trap the Left Alt key (right alt doesn't activate the menu), but that FlushKeys doesn't stop windows from getting it.  Well to unpause you have to press escape, so what about poking an escape #27 keypress into the keyboard buffer so that windows immediately unpauses.  This would work for general apps but maybe not for games as the delay could be too long.  Anyone know how to poke a key into the buffer as I would really find this useful?<br><br>What blitz really needs (instead of extra dlls) is a global variable (or function) you can set called GiveWindowsKeys that you can set to false so your game has complete control just like other professional games out there. <br><br></td></tr></table><br>
<a name="529101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey:<br>Well I haven't had time to test my theory, but I figure that I can save the window flags and then when I detect that the user has maximized or minimized the winddow, I can reset those flags to the state I want them to be in.  That should restore the buttons that dissapeared. <br><br></td></tr></table><br>
<a name="529258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> sound plausible.  Please let me know if you find out how to detect when the user has clicked the minimise button as it's the answer to an earlier topic of min. <br><br></td></tr></table><br>
<a name="529282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey:<br>This probably isn't the best method and I'm sure I will find stuff on MSDN to do it properly, but each time you maximize, restore, or minimize a window, a $801 window position event is generated.  If this position is -4 -4 then the window has been maximized, and if it is -32000 -32000 it has been minimized.<br><br>But it is possible to get -4 -4 just by positioning the window  so you probably do not want to go off that alone.<br><br>An event 802 is also generated immediately after the 801 event, so you might use that info in conjunction.<br><br>I would look on MSDN though and find the right windows function to call to get the window state.  I'm sure there must be one.  Maybe someone realdy added a function to do it to the code archives. <br><br></td></tr></table><br>
<a name="529344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK I have a "workaround/hack" for the alt pausing problem.<br>define these constants:<br><pre class=code>
Const LEFT_ALT = 56
Const KEYEVENTF_KEYUP = 2			
</pre><br>Then add this of code to your main loop:<br><pre class=code>
If KeyHit (LEFT_ALT) Then			
User32_keybd_event(255,0,0,0)
User32_keybd_event(255,0,KEYEVENTF_KEYUP,0)
EndIf
</pre><br>It requires that you have made a user.decls file with this in it:<br><pre class=code>
.lib "user32.dll"
User32_keybd_event%(bVk%, bScan%, dwFlags%, dwExtraInfo%) : "keybd_event" 
</pre><br>Basically, when alt is pressed, the blitz program intercepts it and pushes a 255 Key Down (and Key Up (for safety)).  This modifies the alt key press so that it thinks alt+255 is pressed (which doesn't exist) and thus the window menu is not focused.  Tada. <br><br></td></tr></table><br>
<a name="529442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> That might only be useful if you don't expect the player to be using the arrow keys at the same time or also pressing control? <br><br></td></tr></table><br>
<a name="529768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I said, in my game Alt isn't used, so it is a useful prevention of the app pausing if they accidentally press it during windowed mode.<br><br>*** Actually, I just tested it and you can press the arrow keys and control at the same time with no obvious problems! <br><br></td></tr></table><br>
<a name="529821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just found out that the suggestion of changing the window flags to remove the system menu actually deactivates the minimize and maximize buttons.  I didn't realise clicking the title bar would maximize the window, so I thought that indicated it was working.  <br><br>Also, restoring the flags to the state you set them to to remove the system menu doesn't return the buttons to normal.<br><br>It appears that the buttons stay there simply because the border of the window is not redrawn until the window is resized.<br><br>I guess I'll try your solution next Grey, and see if it works for me. <br><br></td></tr></table><br>
<a name="529966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I found that flag thing out when I just tried to add minimise.  It didn't work until I added the system menu.  Also the buttons don't appear until you call ShowWindow or WindowPos (or drag it).  So you must have been experiencing the reverse.<br><br>I admit my solution is a bit of an unsatisfactory hack, which could have side effects, but if it works, then great.  Really we just need a nice Windows Keyboard Hook to be programmed for us. <br><br></td></tr></table><br>
<a name="534292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nicstt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> using this to stop it affecting the program<br><br><pre class=code>
		Case EVENT_KeyUp
			If EventData() = 1 ; quit
				Gosub freeallgadgets : EndGraphics : End
			EndIf
			If EventData() = 56 Or EventData() = 184 ; if Alt key pressed activate main window as will pause program
				ActivateGadget encoderwindow
			EndIf
</pre> <br><br></td></tr></table><br>
<a name="534318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nic:<br>That does not work.<br><br>I don't know WHY it doesn't work, but it doesn't work.  <br><br>Even if you call ActivateGadget every loop regardless of what keys are pressed, it still doesn't unpause it. <br><br></td></tr></table><br>
<a name="1219854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >T-C</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> i recently ran into this problem again, albeit in blitz3d, and solved it using GrayAlien's solution, which works both in blitz3d and blitzplus.<br><br>here's the blitzplus code that makes it work:<br><pre class=code>
AutoSuspend False

..

window = CreateWindow("",0,0,400,300,0,1)

..

    WaitEvent()
    
    Select EventID()
        Case $101  ; key down
            ; left/right alt
            If EventData()=56 Or EventData()=184
                ; release keys instantly
                api_keybd_event $FF,0,2,0
            End If
</pre><br><br>for blitz3d it's simply:<br><pre class=code>
    If KeyHit(56) or KeyHit(184)
        api_keybd_event $FF,0,2,0
    End if
</pre><br><br>also, in blitz3d, to quickly release all keys (like shift, ctrl and alt hanging or stuck), for example when opening an external windows dialog (like a file requester), here's a nifty trick to perform just before for example opening such a dialog:<br><pre class=code>
EnableDirectInput DirectInputEnabled()
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
