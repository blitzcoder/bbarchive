<!DOCTYPE html><html lang="en" ><head ><title >Variable Value Not Changing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Variable Value Not Changing</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Variable Value Not Changing</a><br><br>
<a name="1241950"></a>

<a name="1241951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nyybaseball</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The variable playernum tells the computer if its 1 or 2 player but for some reason once you choose the first time the variable wont change when you go back to the menu and choose a different gamemode. Does anyone know why? Here Is the source code:<br><br>Graphics 600,800,64,2<br>SetBuffer BackBuffer()<br>font=LoadFont("Arial",15)<br>SetFont font<br>SeedRnd MilliSecs()<br>AutoMidHandle True<br>Global paddle1 = LoadImage("BPaddle.bmp")<br>Global paddle2 = LoadImage("Rpaddle.bmp")<br>Global puck = LoadImage("Puck.bmp")<br>ScaleImage paddle1, .5, .5<br>ScaleImage paddle2, .5, .5<br><br><br><br>Global playernum<br><br>Type puck<br>Field x,y<br>Field xv,yv<br>End Type<br><br>Global ball.puck = New puck<br>ball\x = 300<br>ball\y = 400<br>ball\xv = Rand(-8,5)<br>ball\yv = Rand(-8,5)<br><br>Type user<br>Field x,y<br>Field score<br>End Type<br><br>Global player.user = New user<br>player\x = 300<br>player\y = 750<br>player\score = 0<br><br>Type enemy<br>Field x,y<br>Field xv,yv<br>Field score<br>End Type<br><br>Global comp.enemy = New enemy<br>comp\x = 300<br>comp\y = 50<br>comp\score = 0<br>Global result<br><br>While result=0<br>result=MainMenu()<br>;put these options inside the menu loop, as these<br>;return 0 - continuing the mainmenu loop.<br>If result=2 Then result=StartGame(2) <br>If result=3 Then result=help()<br>If result = 4 Then End<br>Wend<br>If result=1 Then StartGame(1)<br>;if the result isn't 1, then it must be 4 - hence QUIT<br>End<br><br>Function MainMenu()<br>player\score = 0<br>comp\score = 0<br>result = 0<br>Cls<br>Text 300,50,"Main Menu",1,1<br>Rect 250,100,150,50,0<br>Text 300,125,"Single Player",1,1<br>Rect 250,200,150,50,0<br>Text 300,225,"Multiplayer",1,1<br>Rect 250,300,150,50,0<br>Text 300,325,"Help",1,1<br><br><br>Flip<br>result=0<br>While result=0<br><br>mx=MouseX():my=MouseY()<br>If MouseHit(1) Then<br>If RectsOverlap(250,100,150,50,mx,my,1,1) Then result = 1<br>If RectsOverlap(250,200,150,50,mx,my,1,1) Then result = 2<br>If RectsOverlap(200,300,150,50,mx,my,1,1) Then result = 3<br>If RectsOverlap(250,400,150,40,mx,my,1,1) Then result = 4<br>End If<br>Wend<br>Return result<br>End Function<br><br>Function Options()<br>Cls<br>Text 400,300,"Options Screen! Any key to return to main menu",1,1<br>Flip<br>WaitKey()<br>Return 0<br>End Function<br><br>Function Credits()<br>Cls<br>Text 400,300,"Credits!!",1,1<br>Text 400,330,"Made by BlackD",1,1<br>Text 400,400,"Any key to return",1,1<br>Flip<br>WaitKey()<br>Return 0<br>End Function<br><br>Function StartGame(playernum)<br>While Not KeyDown(16)<br>Cls<br><br>If player\score &gt;= 7 Then<br>gameover(1)<br>ElseIf comp\score &gt;= 7 Then<br>gameover(2)<br>EndIf<br>drawHUD()<br>testinput()<br>updateball()<br>testballwithwalls()<br>testballwithpaddle()<br>If playernum = 1 Then<br>singleplayer()<br>ElseIf playernum = 2 Then<br>multiplayer()<br>EndIf<br><br><br>DrawImage puck, ball\x, ball\y<br>DrawImage paddle1,player\x, player\y<br>DrawImage paddle2, comp\x, comp\y<br>Text 10, 70,"playernum " + playernum<br>Text 10,85,"result " + result<br><br>Flip<br>Delay 10<br>Wend<br><br>End Function<br><br>Function drawhud()<br><br>Text 10,10,"Player score: " + player\score<br>Text 10,20, "Computer Score: " + comp\score<br><br>End Function <br><br>Function testinput()<br><br>If KeyDown(203) Then<br>player\x = player\x - 10<br>If player\x &lt;= 10 Then<br>player\x = 10<br>EndIf<br>ElseIf KeyDown(205) Then<br>player\x = player\x +10<br>If player\x &gt;=590 Then<br>player\x = 590<br>EndIf<br>EndIf<br>If KeyDown(50) Then<br>MainMenu()<br>EndIf<br>If KeyDown(19) Then<br>ball\x = 300<br>ball\y = 400<br>ball\xv = Rand(-8,8)<br>ball\yv = Rand(-8,8)<br>EndIf<br>If KeyHit(1) Or KeyDown(1) Then<br>Cls<br>Text 10,10,"Press Any Key To unpause"<br>WaitKey<br>EndIf<br><br>End Function<br><br>Function updateball()<br>ball\x = ball\x + ball\xv<br>ball\y = ball\y + ball\yv<br><br><br><br>End Function<br><br>Function testballwithwalls()<br><br>If ball\x &lt; 0 Then<br>ball\xv = -ball\xv + Rand(-2,2)<br>ElseIf ball\y &lt;= 0 Then<br>Text 300,400,"Player Scores"<br>player\score = player\score + 1<br>ball\y = 400<br>ball\x = 300<br>ball\xv = Rand(-8,8)<br>ball\yv = Rand(-8,8)<br>Flip<br>Delay 1000<br>EndIf<br><br>If ball\y &gt;= 800 Then<br>Text 300,400,"Computer Scores"<br>comp\score = comp\score + 1<br>ball\y = 400<br>ball\x = 300<br>ball\xv = Rand(-8,8)<br>ball\yv = Rand(-8,8)<br>Flip<br>Delay 1000<br>EndIf<br><br>If ball\x &gt;= 600 Then<br><br>ball\xv = -ball\xv + Rand(-2,2)<br><br>EndIf<br><br>End Function <br><br>Function testballwithpaddle()<br><br>If ImagesCollide(puck, ball\x, ball\y,0, paddle1,player\x, player\y,0) Then<br><br>ball\yv = -ball\yv+Rand(-2,2) <br>ElseIf ImagesCollide(puck, ball\x, ball\y,0, paddle2, comp\x, comp\y,0)<br><br>ball\yv = -ball\yv+Rand(-2,2)<br>EndIf<br><br>End Function<br><br>Function testai()<br><br>If KeyDown(30)<br><br>comp\x = comp\x - 10<br><br>ElseIf KeyDown(32) Then<br><br>comp\x = comp\x + 10<br><br><br>EndIf<br><br>End Function <br>Function gameover(winner)<br>If winner = 1 Then<br>Text 300,400,"Game Over. Player Wins"<br>Flip<br>WaitKey<br>EndIf<br>If winner = 2 Then <br>Text 300,400,"Game Over. Computer Wins"<br>Flip<br>WaitKey<br>EndIf<br>Delay 2000<br>playernum = 0<br>result = 0<br>MainMenu()<br>End Function <br><br>Function multiplayer()<br><br>If KeyDown(30)<br><br>comp\x = comp\x - 10<br><br>ElseIf KeyDown(32) Then<br><br>comp\x = comp\x + 10<br><br>EndIf <br><br>End Function<br><br>Function singleplayer()<br><br>If comp\x &lt; ball\x Then<br>comp\x = comp\x + 10<br>ElseIf comp\x &gt; ball\x Then<br>comp\x = comp\x - 10<br>EndIf<br><br>End Function <br><br>Function help()<br><br>Cls<br><br>Text 250,300,"A = Top player move left"<br>Text 250,315,"D = top player move right"<br>Text 250,330,"Left Arrow = bottom player move left"<br>Text 250,345,"Right arrow = bottom player move right"<br>Text 250,360, "ESC = Pause"<br>Text 250,375,"M = Menu"<br>Text 250,390,"Click to go back to menu"<br>Flip<br><br>Delay 10<br>WaitKey<br>MainMenu()<br><br>End Function <br><br>Thanks <br><br></td></tr></table><br>
<a name="1241961"></a>

<a name="1241962"></a>

<a name="1241963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Learn to debug your code with these functions :<br><br>Variable% = rand(1,10)<br>debuglog("Variable = "+Variable)<br>flushkeys()<br>waitkey()<br><br>or<br><br>Variable% = rand(1,10)<br>print("Variable = "+Variable)<br>flushkeys()<br>waitkey()<br><br>Each time a variable does not changes as you want, you can use these functions to know exactly how a variable changes at each modification in the code.<br><br>Good luck ! <br><br></td></tr></table><br>
<a name="1241987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where is playernum set to 1 or 2? <br><br></td></tr></table><br>
<a name="1242027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have set playernum to global....then used it as a parameter in a function header indicating that within that function it will be local. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
