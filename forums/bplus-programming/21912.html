<!DOCTYPE html><html lang="en" ><head ><title >How do I add an icon to the EXE ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do I add an icon to the EXE ?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >How do I add an icon to the EXE ?</a><br><br>
<a name="224420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tkruk</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just bought BB+<br>But it seems to be missing something basic.<br><br>How do I add an icon to the exe it creates???<br><br>Tom <br><br></td></tr></table><br>
<a name="224424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> res hacker <br><br></td></tr></table><br>
<a name="224427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tkruk</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried Reshacker.<br><br>Problem is it seems that<br>there is no icon resource at all.<br><br>Is there something wrong with my Blitz??? Its not<br>making ANY icons. <br><br></td></tr></table><br>
<a name="224569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzPlus doesn't include an icon when you make executables.<br><br>With Win32 EXEs, if there's already an icon there then it can be changed.  If there isn't one, then you can't add one. <br><br></td></tr></table><br>
<a name="224585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Flack</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which is a bit crap really, isn't it? Feature request? <br><br></td></tr></table><br>
<a name="224590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snarty</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use ResHacker again, this time "correctly" ;)<br><br>Open up the EXE in ResHacker, in the "Action" Menu, select "Add new resource". Click the "Open file with new resource..." button. Load up an icon file (.ICO) and type ICON in the "Resource Name" field. Click "Add Resource".<br><br>Now.. use "Save As..." and save out the new EXE with a different name (This ensures you don't lose the original).<br><br>NOTE: DO NOT UPX the EXE before adding the Icon, this will not work the best at all. Instead UPX after, this will be fine. <br><br></td></tr></table><br>
<a name="224595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> res hacker :)<br>It works with B+<br><br>Follow snarty advice <br><br></td></tr></table><br>
<a name="224636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tkruk</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Snarty:<br><br>You rock.<br>Thanks...<br><br>BTW: I got it to work ok, but when I execute the program<br>the title bar of the window still does not contain<br>an icon even though my ICO file has every state saved within.<br><br>I'll keep playing with it maybe I messed up somewhere.<br><br>Tom. <br><br></td></tr></table><br>
<a name="224657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snarty</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> No worries :o)<br><br>Anyhow, had a quick play with the API, here's what you can do.<br><pre class=code>hWND=QueryObject(MainWindow,1)
Icon=LoadIcon(hWND,CurrentDir()+"blankpage.ico",0)
SetClassLong hWND,-14,Icon</pre>Add these commands to the relevant .decls.<br>.lib "user32.dll"<br>SetClassLong(hWnd%,nIndex%,Value%) : "SetClassLongA"<br><br>.lib "shell32.dll"<br>LoadIcon%(hWND%,File$,Index%) : "ExtractIconA"<br><br>Then you can pop the .ico file you want anywhere you want and load from there. You can also grab from the resource, but this was just a quick way to load a "File" into the current Blitz window. <br><br></td></tr></table><br>
<a name="224683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Akat</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> reshacker...:) <br><br></td></tr></table><br>
<a name="224707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Akat, snarty just provided a better solution. <br><br></td></tr></table><br>
<a name="224710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tkruk</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank You Snarty!!!! <br><br></td></tr></table><br>
<a name="224712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snarty</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> No prob Tom,<br><br>Just ignore Akat, he prob can't read :o) <br><br></td></tr></table><br>
<a name="228348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe AppIcon would...&lt;dodges tomatoes&gt;..do the...&lt;runs offstage&gt;...trick! :P<br><br>Russell <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
