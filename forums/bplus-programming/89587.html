<!DOCTYPE html><html lang="en" ><head ><title >Creating a shadow under a piece being moved</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Creating a shadow under a piece being moved</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Creating a shadow under a piece being moved</a><br><br>
<a name="1017598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Martin W</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's the problem.  Click on a piece and move it from one square of a board to another.  That part was solved in my last post, but now, while the piece is "lifted" above the board, I want to create a shadowed area below and to right (assuming a light source at upper left) in which the shadowed area has reduced brightness but without changing the colors.  Also, when the piece is "dropped" onto its new location, the shadow should gradually disappear under the piece until the piece is on the board, with no shadow.  I would have to read the color under the shadowed area for every pixel and change it to the dimmer value, or vice versa.  <br><br>Is there a quick way to do this, rather than trying to find out which pixels are between the piece (assume it's circular) and the border of the shadowed area (another circle, same size as the piece but displaced from the piece center by a fixed number of pixels in X and Y directions (distances may be different in each direction.)<br><br>Any suggestions, anyone? <br><br></td></tr></table><br>
<a name="1017601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing you could try is to look into alpha blending.  Although not native in B+, there are a few code archive entries that will do the trick.  This one by Nate the Great is a for sprite alpha blending, and seems to work pretty well:<br><br><a href="/codearcs.php?code=2299" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2299</a><br><br>You could just make an animation strip of progressively smaller, all black sprites using CreateImage, then alpha blend them on the background, assuming it is a sprite itself.<br><br>The only issue you're looking at is speed, as it's usually a slow process.  That would be my suggestion though. <br><br></td></tr></table><br>
<a name="1017864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy_A</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What Sauer said.<br><br>Here's another alpha-blending routine for B+ that's been optimized to run fairly fast (64x64 sprite in realtime). Scroll down to the second listing.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=913" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=913</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
