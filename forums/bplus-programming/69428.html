<!DOCTYPE html><html lang="en" ><head ><title >FreeImage JPGs DPI</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FreeImage JPGs DPI</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >FreeImage JPGs DPI</a><br><br>
<a name="776757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having a problem when I load up a JPG to be resized and saved using FreeImage (the library, not the function) It's a 180 DPI image to begin with, and I'm not sure at which point it loses sight of this, but when it resaves, it saves as 72 DPI (a very big no no). Does anyone know of a way to keep that DPI setting (or perhaps tack it into the file, since the pixel dimensions end up being correct, just not the DPI info)? Any help would be appreciated, thanks!<br><br>-Tyler <br><br></td></tr></table><br>
<a name="776761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't follow.  DPI is largely irrelevant for games? <br><br></td></tr></table><br>
<a name="776765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not doing a program for games :) The image has to retain a print quality dpi. <br><br></td></tr></table><br>
<a name="776875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> N/m, I found out what I needed to do. For anyone whose curious, I had to use a WriteFile(theFile), then seekfile/writebyte for a few spots, they are as follows.<br><br>dpiHex = 180 ;d4h - actually, but writebyte uses decimal<br><br>; These first seek/writes change the dpi from cm to inches<br><br>SeekFile (hexStream, 11)<br>WriteByte hexStream, 1<br><br>SeekFile (hexStream, 12)<br>WriteByte hexStream, 2<br><br>SeekFile (hexStream, 13)<br>WriteByte hexStream, 1<br><br>; - These were the actual dpi byte locations (for my jpg files)<br><br>SeekFile (hexStream, 15)<br>WriteByte hexStream, dpiHex<br><br>SeekFile (hexStream, 17)<br>WriteByte hexStream, dpiHex<br><br>Your jpeg files may have a different layout (which seems counterintuitive to standardization), but you can play around in a hex editor and figure out which of the first few bytes steers your jpg's dpi through trial and error. It seems to consist of 2 bytes total for each dimension (x&amp;y, respectively), so the b4h value will be preceded by 00 (like 00 b4 00 b4) I had to change both values at the same time, otherwise I would get an aspect ratio warning from Photoshop.<br><br>Hope this helps someone else :)<br><br>-Tyler <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
