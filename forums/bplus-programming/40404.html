<!DOCTYPE html><html lang="en" ><head ><title >Finding a fonts true name.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Finding a fonts true name.</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Finding a fonts true name.</a><br><br>
<a name="453409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, yeah, I know you can double click the file in Windows Explorer and it will display the true name for you. But what if you want to let the user pick his own font?<br><br>I'm writing a wee program that'll arrange fonts in a bitmap, but as many of you know, if you supply the fonts filename (i.e. use a file request) instead of it's true name Blitz will just shrug it's shoulders and default to Ariel without reporting any problems.<br><br>Is it safe or reliable just to peek the font's header file (assuming it has one) or has someone already written a handy userlib to get the true names?<br><br>I already tried the search function on the site, so I'm not too hopeful. But thanks in advance to anyone that can help. <br><br></td></tr></table><br>
<a name="453665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use the RequestFont() function, but if you'd rather do it behind the scenes, I wrote this DLL for you that will output every font name on the system to the system directory. Here's the <a href="http://s93151849.onlinehome.us/fontnames.dll" target="_blank">file</a> and some example code:<br><pre class=code>
; Userlib
; .lib "fontnames.dll"
; ExportFonts%()

Graphics 640, 600, 16, 2
SetBuffer FrontBuffer()

ExportFonts ; Save font names to system directory

File% = ReadFile(SystemProperty("SystemDir") + "\fontnames.txt")
Local x% = 1, y% = 1, tmp$
Repeat 
	Text x, y, ReadLine(File)
	y = y + 16
	If y &gt;= 584 Then y = 1: x = x + 200
Until Eof(File)
DeleteFile SystemProperty("SystemDir") + "\fontnames.txt"
WaitKey()
</pre>Only other way I know to do this would be by enumerating the fonts, but those API functions require callbacks which userlibs don't support. Hope a DLL isn't too clunky for you, and good luck with your font project thingy. <br><br></td></tr></table><br>
<a name="453919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey it works! Don't worry about it's "clunkyness". I've never seen another way around the problem in Blitz, and this will work fine.<br><br>Thanks. I'm just writing a simple font to bitmap thing so people don't have to install fonts with the stuff I write. But this DLL nails a problem that's been bugging me for ages.<br><br>Cheers. <br><br></td></tr></table><br>
<a name="453929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good deal :) <br><br></td></tr></table><br>
<a name="475391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gah, I discovered something very odd in your true name DLL. <br><br>It seems to take it on itself to truncate certain names, meaning Blitz won't load the font as per the usual rules.<br><br>"Times New Roman Bold Italic" shortens itself to "Times New Roman Baltic", and there seem to be other examples where it's not quite the true name.<br><br>The DLL is still useful as it works for about 80% of my fontlist (so about 8 times more reliable than using the filename).<br><br>Still, Something's up methinks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
