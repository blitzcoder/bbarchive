<!DOCTYPE html><html lang="en" ><head ><title >Loading from File Resources</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Loading from File Resources</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Loading from File Resources</a><br><br>
<a name="231713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seldon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is just an idea, since I haven't Blitz+ to try. I was wondering if someone tried to load an image (for example) from the .EXE resources. I think if you create an image (CreateImage) , got its bank-buffer (I think you need LockPixels command) , then you can use Win32 API calls to load an image from resources and storing it in the bank-buffer. Of course you need a program like ResHacker to add a resource to the final B+ .EXE . IF someone wants to try I can send the Win32 API commands to read a file from resource (I did in C and it works fine). <br><br></td></tr></table><br>
<a name="231751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure, go ahead and post them. <br><br></td></tr></table><br>
<a name="232923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Seldon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> static  LPVOID  lpData;<br>static  HRSRC  hr;<br>static  HGLOBAL  hg; //Gestione risorse<br><br>hr=FindResource(NULL,MAKEINTRESOURCE(249),RT_RCDATA);<br>if(hr)<br>{<br>   hg=LoadResource(NULL,hr);<br>   if(hg)<br>   {<br>      lpData=LockResource(hg);<br>      if(lpData)<br>      {<br>       //lpData is the buffer where the resource data is<br>       //stored.<br>      }<br>   }<br>}<br><br>Ok, this is the C part you should make in Blitz using the right userlibs definitions, etc.. LpData should be the buffer pointer returned by LockPixels() (I think) and of course you have to create an image before (CreateImage() ).<br><br>[...]<br><br>Then we have the Resource script to be compiled (using<br>the RC command).<br><br>249 RCDATA<br>BEGIN<br>#include "YourPicture.txt"<br>END<br><br>To make the "picture.txt" , first you must write a file with the raw data of a Blitz's Image buffer. Then you use a program called bin2txt (if you need I can send it) to produce a suitable .txt file to be included. Once you have such file, use the RC (resource compiler by Microsoft) to make a YourProgram.RES file. Run ResHacker and attach it to your Blitz .EXE .<br><br>It should work.. it's a bit of work (the DATA statement could also be used instead of resource, but it's a nightmare to have thousandd of DATA lines in your source). <br><br>Anyway... let me know. :-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
