<!DOCTYPE html><html lang="en" ><head ><title >How do I Cancel a button?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do I Cancel a button?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >How do I Cancel a button?</a><br><br>
<a name="1097792"></a>

<a name="1097793"></a>

<a name="1097794"></a>

<a name="1097795"></a>

<a name="1097796"></a>

<a name="1097797"></a>

<a name="1097798"></a>

<a name="1097799"></a>

<a name="1097800"></a>

<a name="1097801"></a>

<a name="1097802"></a>

<a name="1097803"></a>

<a name="1097804"></a>

<a name="1097805"></a>

<a name="1097806"></a>

<a name="1097807"></a>

<a name="1097809"></a>

<a name="1097810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What do I add to my game code if I want to cancel a key?  For example, if I'm using key (57) for jumping, how do I make it so that when the character collides with a door, key (57) could no<br>longer be used for jumping? For reference, I put the simplified game code below and I put notes directly on the section that I need help <br>with (so it could be easier to find). <br><br><br><pre class=code>



Graphics 1640, 1000


Global HENRY

HENRY = LoadAnimImage ("HenryMoveAroundIII.PNG",400,370,0,14)
DOOR = LoadImage ("Door.png")
BACKGROUND = LoadImage ("BLUEFOREST.jpg")
BACKGROUND2 = LoadImage ("DockII.jpg")
PLATFORM = LoadImage ("Platform.png")



Type HENRY
	Field x,y	
	Field frame 
End Type 

Type DOOR
	Field x,y
End Type 

Type PLATFORM
	Field x,y
End Type 

Type BACKGROUND
	Field x,y
	Field image
End Type 

h.HENRY = New HENRY

h\x = 500
h\y = 200
h\frame = 0

p.PLATFORM = New PLATFORM
p\x = -1500 
p\y = 500


d.DOOR = New DOOR
d\x = 500
d\y = 200

b.BACKGROUND = New BACKGROUND
b\x = 150
b\y = 50
b\image = BACKGROUND




While Not KeyDown (1) 

   Cls 


TileImage (b\image,b\x,b\y)



;----------------------------------------------------------------------------------------------------------------------------------------------------------
											;Here is the part I need help with
;-----------------------------------------------------------------------------------------------------------------------------------------------------------------


If KeyHit (57) Then  ;------ I'd like to cancel this when my character collides with the door
 
h\y = h\y - 600 
								
EndIf 



If Not KeyHit (57) Then  ;------I'd like to also cancel this when my character collides with the door
	h\y = h\y + 40
EndIf 



If ImagesCollide (HENRY,h\x,h\y,0,DOOR,d\x,d\y,0) Then ;----- I would like key (57) to be cancelled when this happens
							 ;------ That is, I want to make it so that key (57) can no longer
							 ;-------- be used for jumping after this happens (for now). 						
									
		b\image = BACKGROUND2			
EndIf 




;--------------------------------------------------------------------------------------------------------------------------------------------------------------------
										;Thanks, this section was all I needed help with for now. 
;-----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------









If KeyDown(205)
      h\x = h\x + 3 
   EndIf 
   

   If KeyDown(203) 
      h\x = h\x - 3 
   EndIf 


 If ImagesCollide (HENRY, h\x, h\y,0,PLATFORM,(b\x + p\x), p\y,0) Then 

		
						h\y = 430				
EndIf 
	  

DrawImage (PLATFORM,p\x,p\y)
DrawImage (DOOR, d\x,d\y)
DrawImage (HENRY,h\x,h\y)

	
	

Flip

Wend 

</pre><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1098074"></a>

<a name="1098099"></a>

<a name="1098100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not just add a flag (set to True or False) when jumping is enabled.<br><br><pre class=code>

If(h\jump_active = True) Then 

    If KeyHit (57) Then
 
        h\y = h\y - 600 
								
    EndIf 

    If Not KeyHit (57) Then  

        h\y = h\y + 40

    EndIf 

EndIf


If ImagesCollide (HENRY,h\x,h\y,0,DOOR,d\x,d\y,0)

    b\image = BACKGROUND2			

    h\jump_active = False

Else

    h\jump_active = True

EndIf 

</pre><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1098776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Yeshu, it worked. <br><br></td></tr></table><br>
<a name="1099053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No Problem. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
