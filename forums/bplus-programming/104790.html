<!DOCTYPE html><html lang="en" ><head ><title >read file problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >read file problem</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >read file problem</a><br><br>
<a name="1271705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >loonix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> how can i store a set of numbers in a txt file so i can read them in to an array? <br>here is the data<br><br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 1,1,1,1,1,1,3,3,1,3,3,1,1,1,1<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 0,0,0,0,0,0,0,5,5,0,0,0,0,0,0<br>Data 1,1,0,2,2,2,2,2,2,2,2,2,2,0,0<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 0,0,0,0,0,0,0,0,0,5,5,3,3,1,1<br>Data 0,0,1,1,1,1,1,1,1,0,0,0,0,0,0<br>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>Data 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1<br><br><br>its for level maps... instead of having loads of data statements in the program<br>can i read them from a file straight into the array ?<br><br>thx in advance <br><br></td></tr></table><br>
<a name="1271710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Short answer: "yes"<br><br>There are honestly any number of ways to do this. You should probably familiarize yourself with the File/Stream command set (ReadInt, ReadLine, etc) so that you know what options are available to you (BlitzPlus provides enough commands for reading any file type, if you do the legwork with them), and then decide on what you want your files to look like. You can store your data in pure binary format, or a human-readable text format; the latter is usually less efficient but gives you many more options for editing because you can just change them by hand in a text editor, rather than having to export from a program.<br><br>There are also loaders for several mainstream file types in the code archives. Perhaps one of them would suit your needs?<br><br>Finally, for your specific purpose, perhaps the easiest thing to do would be to store your level map as an image (use pixel values for the numbers), and just load it with LoadImage rather than messing about with file formats at all. Transfer it into an array with ReadPixelFast once it's loaded. <br><br></td></tr></table><br>
<a name="1271715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >loonix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you i will go and have a good read up and try out some things. <br><br></td></tr></table><br>
<a name="1271718"></a>

<a name="1271758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is a very simple way to do that with READLINE:<br><br>READLINE reads a complete line from a text file. you only have to separate the parameters inside this text line.<br><br><pre class=code>TextFile% = ReadFile("data.txt") 
For i=1 to 16
    CurrLine$ = ReadLine( TextFile )
    from%=1
    For j= 1 to 16
         ; find the comma:
         here=Instr("," CurrLine, from)
         if here=0 Then here= 999

         ; extract the text between the commas
         value=Mid(CurrLine, from, here-from)

         ; set a new search point
         from=here+1
Next

CloseFile( TextFile ) 
</pre> <br><br></td></tr></table><br>
<a name="1271720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >loonix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> well , what can i say,, works wonderfully<br><br>I def' need to study more, that's for sure !!<br><br>Many thanks once again. <br><br></td></tr></table><br>
<a name="1271723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> A note about making life easy for yourself...<br>If you know that all the data values are single digits then you can modify the text as follows.<br><br>Start with what you have<br><br><pre class=code>Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 1,1,1,1,1,1,3,3,1,3,3,1,1,1,1
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 1,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 0,0,0,0,0,0,0,5,5,0,0,0,0,0,0
Data 1,1,0,2,2,2,2,2,2,2,2,2,2,0,0
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,1
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 0,0,0,0,0,0,0,0,0,5,5,3,3,1,1
Data 0,0,1,1,1,1,1,1,1,0,0,0,0,0,0
Data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0
Data 1,1,1,1,1,1,1,1,1,1,1,1,1,1,1</pre><br><br>Copy/paste into a text editor such as NotePad.<br><br>Next, a little editing<br><br>1. Replace each "Data " with nothing.<br>2. Replace each "," with nothing.<br><br>The text for your data.txt file is now<br><br><pre class=code>000000000000000
000000000000000
000000000000000
000000000000000
000000000000000
111111331331111
000000000000000
100000000000000
000000055000000
110222222222200
000000000000001
000000000000000
000000000553311
001111111000000
000000000000000
111111111111111</pre><br><br>In this form the "parsing" for a line of text becomes<br><br><pre class=code>    For j= 1 to 16
         value=Mid(CurrLine, j, 1)
         ; save value into array
    Next</pre> <br><br></td></tr></table><br>
<a name="1271726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >loonix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought i had it sorted with midimasters code, but it seems not to work no matter what i try, <br>now ive tried a few more things with your code floyd ... but still not doing it. <br><br></td></tr></table><br>
<a name="1271727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I started to write about verifying each step. When I got to checking that ReadLine worked I had a look at the code and saw that it uses ReadString, which is the wrong command. You want ReadLine for text. <br><br></td></tr></table><br>
<a name="1271759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh, sorry...<br>ReadLine is correct! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
