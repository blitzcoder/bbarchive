<!DOCTYPE html><html lang="en" ><head ><title >Listboxes and Events</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Listboxes and Events</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Listboxes and Events</a><br><br>
<a name="926815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >em22</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone, I'm trying to capture event data from within a Listbox, but Blitzplus seems to be unable to send me the results of key presses and mouse clicks natively.<br><br>Basically I am writing a front end to WinUae that points to a folder of adf files, and displays all the games in a listbox. I want to be able to use the cursor keys to move up and down in the list box (as already works), but I also want the space key to run a certain command, maybe f1, f2 to run the emu with different confutations for example.<br><br>Also, I want to be able to detect a right click in the list box. Everything else I have tried works fine in other areas of the GUI, but the list box.<br><br>Can anyone help? <br><br></td></tr></table><br>
<a name="929108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >blackgecko</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You must use &lt;&lt;SelectedGadgetItem()&gt;&gt; to find out which listbox entry is selected. &lt;&lt;EventData()&gt;&gt; doesn't work in listboxes.<br><br><br>In B+ V1.11 a right click in the listbox is not noted, in V1.45 it is noted like a left click. But no matter which version you use, a right click can't be detected. <br><br></td></tr></table><br>
<a name="930691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >em22</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I've already got that far. I actually want to register input while in a list box, ie key presses mouse clicks etc. I know the OS already uses the inputs for  movement within a listbox (like pressing "a" jumps to A in the list) Maybe I could extract the events with WinAPI. But I not too familiar.<br><br>I wish Mark would update this feature and fix it. It's the only thing that does not work as it should.<br><br>Plus how did you get to v1.45? I'm fully up to date but my IDE, linker and runtime all report 1.44.<br><br>I have even tried to use the BLESS sdk, which works to a degree, but then the listbox features seem a little broke there too.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="934700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >blackgecko</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> To your problem with V1.45: If you installed the update for V1.45 you are really up to date. The information in the "About"-window is not right, but that's normal. Another user put this problem into a topic:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=73218" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=73218</a> <br><br></td></tr></table><br>
<a name="1253446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BenjaminBlitz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well this is a bit late, but it may help others understand how to achieve this.<br><br>Here is a working example...<br><br><br><br><br><br><br><br>;Create Timers<br>FreqTimer=CreateTimer(15)<br><br>;Variables<br>Global var1Sec#=1<br>Global Event<br>Global varOption$<br><br>;Create a Window<br>MainWindow=CreateWindow("My Window",0,0,300,ClientHeight(Desktop()),Desktop(),1)<br>	<br>	;Create a ListBox<br>	listbox=CreateListBox(10,50,275,200,MainWindow)<br>		AddGadgetItem listbox,"Option1 - Red",0<br>		AddGadgetItem listbox,"Option2 - White",0<br>		AddGadgetItem listbox,"Option3 - Blue",0<br>	<br>	;Create a Lable<br>		label=CreateLabel("No Selection Made",10,250,275,30,MainWindow)<br>	<br><br><br>While Not KeyHit(1) <br><br>	Event=WaitEvent()<br>	<br>	;Window Close Event<br>	If Event=$803 Then<br>		Exit<br>	EndIf <br>	<br>	;Get Input from ListBox interaction<br>	If Not SelectedGadgetItem(listbox)=-1 Then<br>	<br>		;Print SelectedGadgetItem(listbox)<br>		<br>		;Convert Selected Item<br>		Select SelectedGadgetItem(listbox)<br>			Case 0 <br>				varOption="Red"<br>			Case 1<br>				varOption="White"<br>			Case 2<br>				varOption="Blue"<br>			Default <br>				varOption="No Selection Made"<br>		End Select<br>		<br>		;Display the Selection<br>		;Print varOption<br>		SetGadgetText label,varOption<br>		<br>		;Unselect listbox item<br>		SelectGadgetItem listbox,-1<br><br>	End If <br>	<br>Wend<br><br>End<br><br><br><br><br>Enjoy! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
