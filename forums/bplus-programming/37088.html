<!DOCTYPE html><html lang="en" ><head ><title >Race Positions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Race Positions</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Race Positions</a><br><br>
<a name="406985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I was wondering if anyone knew an algorithm (preferably in psuedo-code) which continually determines the race positions of cars on a 2D non-linear racetrack.<br><br>Thanks for the help!<br><br>Ryan Moody <br><br></td></tr></table><br>
<a name="407321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MSW</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is an idea on how to do it...works for 3D as well<br><br>Lace the track with a number of hidden checkpoints...hidden in that players never see them as they are only used by your game to deturmine race positioning...now arrange them from the start location to the finnish location....check point number one is right across the start line...number two further along the course, etc...then store a number with each car indicateing the last check point touched...so if the last check point touched was number 5 the next checkpoint the car should come across should be number 6  (if the car next touches check point number 4 it's going the wrong way).<br><br>Then just keep track of which cars have crossed which check points...calculate thier distances to the next check point (if more then one car is between check points...the closer the check points the less you have to do this))...and sort them starting from the highest check point crossed (and then closest to the next check point to cross) down to the lowest one crossed. <br><br></td></tr></table><br>
<a name="407327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing you need to do is make sure you multiply the lap checkpoint number by the lap number x total checkpoints, ie, if you've got 10 checkpoints, and you're at checkpoint 3 on lap 4 you want to record checkpoint 34, if you don't do this you'll get the person who's in the lead suddenly be in last place when he crosses the line (ie Checkpoint 10 to checkpoint 1).<br><br>In sphere racer I used this method, however, I didn't bother checking distances, I just updated the list every time any racer went over a checkpoint. There were 10 racers in sphere racer so someone hit a checkpoint at least every second or so and I thought that was good enough. <br><br></td></tr></table><br>
<a name="407533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Moody</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, your ideas seem like they'll work! I'll be using such an algorithm in my next project - "Wacky Races".<br>Look out for it in about a month's time!<br><br>Ryan <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
