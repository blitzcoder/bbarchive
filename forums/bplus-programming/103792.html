<!DOCTYPE html><html lang="en" ><head ><title >Search String</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Search String</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Search String</a><br><br>
<a name="1252676"></a>

<a name="1261012"></a>

<a name="1262454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dna</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello All.<br><br>This code below is giving me trouble. I'm trying to search for selected words within a string and print them in another colour.<br>This works for the word AND but use the word they and it gives me errors.<br>Where am I going wrong with this?<br><pre class=code>
:GWID=1300:GHEI=620:Graphics GWID,250,16,2:FH=FontHeight():FW=FontWidth():LO$=CurrentDir$():
ILP=1:BLP=1:TFW=GWID-ED:LX=0:LY=FH*4:NN$="and":LN=Len(NN$)
S$="and I saw thrones, and they sat upon them, and judgment was given unto them: and I saw the souls of them that were beheaded for the witness of Jesus, and for the word of God, and which had not worshipped the beast, neither his image, neither had received his mark upon their foreheads, or in their hands; and they lived and reigned with Christ a thousand years.~"
;and I saw thrones, and they sat upon them, and judgment was given unto them: and I saw the souls of them that were beheaded for the witness of
;Jesus, and for the word of God, and which had not worshipped the beast, neither his image, neither had received his mark upon their foreheads,
;or in their hands; and they lived and reigned with Christ a thousand years.~"

.NLI While (Len(TM$)&lt;((TFW/FW)-9))
;	TSP=Instr(Mid$(S$,1,TFW/FW)," "):If TSP=0 And Instr(Mid$(S$,TFW/FW),"~") Then TM$=TM$+Mid$(S$,TFW/FW):Exit
	TSP=Instr(Mid$(S$,1,BLP)," "):If TSP=0 And Instr(Mid$(S$,BLP),"~") Then TM$=TM$+Mid$(S$,BLP):Exit
	TM$=TM$+Mid$(S$,BLP,Instr(Mid$(S$,BLP)," "))
	ILP=Instr(Mid$(S$,BLP)," "):BLP=BLP+ILP:;Print ILP:HALT
Wend
While Right$(TM$,1)&lt;&gt;" " TM$=Left$(TM$,Len(TM$)-1):BLP=BLP-1 Wend ;Print TM$:HALT(99)
If Instr(Upper$(TM$),Upper$(NN$))
	ARW=Instr(Upper$(TM$),Upper$(NN$)):ELP=1:Text 1250,20+NLI*FH,ARW:NLI=NLI+1:TS=Instr(TM$," "):Print "TS: "+TS
	While ARW&lt;&gt;0
		If ARW=1
			TS=Instr(TM$," "):HLT$=Left$(TM$,TS):ELP=ELP+TS:HL=1:If ARW=1 Then ARIO=ARIO+1;If TS&gt;=Len(TM$) Then Exit
			TM$=Mid$(TM$,TS+1):Text LX,LY,HLT$::LX=LX+RSW(HLT$)
		ElseIf ARW&gt;1
			NHT$=Left$(TM$,ARW-1):ELP=ELP+ARW:HL=0:;If TS&gt;=Len(TM$) Then Exit
			TM$=Mid$(TM$,ARW):Text LX,LY,NHT$:LX=LX+RSW(NHT$)
		EndIf
	ARW=Instr(Upper$(TM$),Upper$(NN$)):
	Wend
EndIf
Text LX,LY,TM$:LX=LX+RSW(TM$):LX=0:LY=LY+FH:SOV=SOV+1:If SOV&gt;2 Then Text LX,LY+FH,TM$:HALT(99)
TM$="":Goto NLI
</pre><br><br>This has been edited.<br>I have the algorithm going completely through but it does not exit properly for some reason.<br>It's something simple that I'm overlooking<br><br>Thanks for the help <br><br></td></tr></table><br>
<a name="1252677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dna</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Function RSW() just returns the stringwidth() of a string <br><br></td></tr></table><br>
<a name="1253122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's really messy and difficult to follow especially since you have so many array(?) names that are undefined and unhelpful subroutine labels/variables.<br><br>Where's the rest of the code? <br><br></td></tr></table><br>
<a name="1261013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dna</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Mark<br><br>I rewrote the code taking the arrays out.<br><br>It almost works now but somewhere I missed something simple. <br><br></td></tr></table><br>
<a name="1262455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dna</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated and rewritten <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
