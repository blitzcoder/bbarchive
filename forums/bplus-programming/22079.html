<!DOCTYPE html><html lang="en" ><head ><title >X-Y Graphics</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >X-Y Graphics</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >X-Y Graphics</a><br><br>
<a name="226324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oldefoxx</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In working with passive parabolic antenna concepts, I wanted a graphing tool that would graph from equations, not from freehand entries.  Not too much out there that will do this, so I ended up borrowing a couple of ideas and writing my own.  I included some of the comments and equations that I have been playing with to show how it works, but you can modify the program to plot and display any y=f(x) equation that fits within the bounds.  Play with the mouse and keys to figure out how the controls work, or cheat and read the embedded comments.<br><br>;Parabolic Antenna Calculator Program<br><br>;The speed of light in a vacuum is approximatly 299,792,458 m/s (186282 miles/sec)<br>;The speed of light in air is approximatly .03% slower (299,702,547.2 m.s)<br>;The lowest frequency of 802.11g is 2.4GHz, the highest is 2.4835GHz<br>;A full wave length at 2.4Ghz in air is approximately 12.4876 mm<br>;basic parabolic equations:<br><br>;  basic form of equation:    y=ax^2<br>;  find value For a above:    a=h(w/2)^2    'h=max height, w=max width<br>;  length of parabolic arc:   l=1w*(1+2/3*(2d/l)^2-2/5*(2d/l)^4+ ...<br>;  length of parabolic arc:   n=h/w:<br>;                             l=2w*(Sqr(n^2+1/16)+1/(16n)(ln(n+Sqr(n^2+1/16)+ln4)<br>;  area within parabola:      A=2hw/3<br>;  height h(x) at w(x):       h(x)=h/w^2*(w^2-w(x)^2)<br>;  width w(x) at h(x):        w(x)=w*Sqr((h-h(x)^2)/h)<br>;  Vertex at (h.k), vertical alignment, a is negative (upside down U):<br>;  Distance from Vertex To focus point (p) is = a<br>;  Distance from Vertex To directrix Line = a<br>;  Latus rectum (Line through focus parallel To directrix) = 4a in length<br><br><br>Global xmin=-30            ;lowest value for x to be graphed<br>Global xmax=30             ;highest value for x to be graphed<br>Global scale#=5            ;scale the resulting plot by some factor<br>Global wmax=4620           ;rightmost viewable window pixel reference<br>Global hmax=4620           ;bottommost viewable window pixel reference   <br>Global wmin=0              ;leftmost viewable window pixel reference<br>Global hmin=0              ;topmost viewable window pixel reference <br>Global wmid=wmax/2         ;center of viewable area horizontally<br>Global hmid=hmax/2         ;center of viewable area vertically<br>Global zoom=10             ;magnifier for windows viewpoint<br>Global grid=1              ;distance of displayed grid marks<br>Global width=800           ;number of pixels horizontally<br>Global height=600          ;number of pixels vertically<br>Global woffset=width/2     ;viewpoint width offset, all factors included<br>Global hoffset=height/2    ;viewpoint height offset, all factors included<br>Global showscale=0         ;toggles bottom and right scale display<br>Graphics width,height,16,2 ;pick your windows size and colors<br>SetBuffer BackBuffer()     ;do plotting out of sight<br>owoffset=woffset<br>ohoffset=hoffset<br>ozoom=zoom<br>Flip<br>Cls<br>Goto redraw<br>While Not KeyHit(1)<br>  If KeyDown(30) Or KeyDown(78) Then ;"A" or "+"   zoom in<br>    If zoom&lt;1000 Then<br>      zoom=zoom+1+zoom/50<br>      Goto redraw<br>    EndIf<br>  EndIf<br>  If KeyDown(44) Or KeyDown(74) Then  ;"Z" or "-"  zoom out<br>    If zoom&gt;1 Then<br>      zoom=zoom-1-zoom/50<br>      Goto redraw<br>    EndIf<br>  EndIf<br>  If KeyDown(75) Or KeyDown(203) Or KeyDown(219) Then  ;left arrow (offset right)<br>    woffset=woffset+10   <br>    Goto redraw<br>  EndIf<br>  If KeyHit(31) Then    ;"S"    show/hide scales at bottom and right side<br>    showscale=Not showscale<br>    Goto redraw<br>  EndIf<br>  If KeyDown(71) Then           ;left and up (offset down &amp; right)<br>    woffset=woffset+10<br>    hoffset=hoffset+10<br>    Goto redraw<br>  EndIf<br>  If KeyDown(72) Or KeyDown(200) Then  ;up arrow (offset down)<br>    hoffset=hoffset+10        <br>    Goto redraw<br>  EndIf<br>  If KeyDown(73) Then            ;up and right (offset down and left)<br>    woffset=woffset-10<br>    hoffset=hoffset+10<br>    Goto redraw<br>  EndIf<br>  If KeyDown(77) Or KeyDown(205) Or KeyDown(220) Then ;right<br>    woffset=woffset-10<br>    Goto redraw<br>  EndIf<br>  If KeyDown(79) Then            ;down and left (offset up and right)<br>    woffset=woffset+10<br>    hoffset=hoffset-10<br>    Goto redraw<br>  EndIf<br>  If KeyDown(81) Then      ;down and right (offset up and left)<br>    woffset=woffset-10<br>    hoffset=hoffset-10<br>    Goto redraw<br>  EndIf<br>  If KeyDown(80) Or KeyDown(208) Then  ;down (offset up)<br>    hoffset=hoffset-10<br>    Goto redraw<br>  EndIf<br>  If KeyHit(199) Then       ;home key (toggle with previous home setting)<br>    h=woffset<br>    woffset=owoffset<br>    owoffset=h<br>    h=hoffset<br>    hoffset=ohoffset<br>    ohoffset=h<br>    h=zoom<br>    zoom=ozoom<br>    ozoom=h<br>    Goto redraw<br>  EndIf<br>  If KeyDown(207) Then       ;end key (set previous home setting to current)<br>    owoffset=woffset<br>    ohoffset=hoffset<br>    ozoom=zoom<br>  EndIf<br>  mxs=MouseXSpeed()           ;get the mouse x position<br>  mys=MouseYSpeed()           ;get the mouse y position<br>  If MouseDown(1)             ;check for mouse left button down<br>    woffset=woffset+mxs       ;if mouse, update width offset<br>    hoffset=hoffset+mys       ;if mouse, update height offset<br>.redraw                       ;perform screen redraws when necessary<br>    Cls<br>    drawgraph()   ;first, we redraw the grid view in the window<br><br>;-------MODIFY THE FOLLOWING SECTION FOR WHATEVER EQUATIONS(S) YOU WANT TO PLOT-------<br>    m$="y=x^2/100"            ;this is the equation that we want to show and plot<br>    length#=0                 ;begin with a length of zero<br>    For x#=xmin*scale To xmax*scale     ;this is the equation plot process<br>      y#=x#*x#/100            ;this is the equation in practice for each value of x<br>      If x#&gt;xmin*scale Then   ;Plot line segments between consecutive points<br>        Line ox#*zoom+woffset,hoffset-oy#*zoom,x#*zoom+woffset,hoffset-y#*zoom<br>        lx#=x#-ox#            ;remember the previous x coordinate<br>        ly#=y#=oy#            ;remember the previous x coordinate<br>        lx#=lx#*lx#+ly#*ly#   ;calculate the direct length between consecutive points<br>        If lx#&gt;0 Then length#=length#+Sqr(lx#)  ;maintain a sum of the lengths<br>      Else<br>        Plot x#*zoom+woffset,hoffset-y#*zoom    ;plot the initial points<br>      EndIf<br>      ox#=x#<br>      oy#=y#<br>    Next <br>;-----------------------END OF SECTION FOR EQUATION PLOTTING--------------------------<br><br>    Flip                      ;display the equation as plotted<br>    Viewport width-Len(m$)*8,height0,width,height0+13    ;pick text area to clear<br>    Cls                                                    ;clear text area  <br>    Locate width-Len(m$)*8-1,height0                       ;position to write text<br>    Write m$                                               ;write equation plotted<br>    Goto redraw1                                    ;finish redrawing text<br>  EndIf<br>  xpos=(MouseX()-woffset)/zoom<br>  ypos=(hoffset-MouseY())/zoom<br>.redraw1                                          ;redraw text when necessary<br>  n$="("+xpos+","+ypos+")  "                      ;put mouse coordinates into n$<br>  Viewport width0,height0,Len(n$)*8+1,height0+13  ;pick test area to clear<br>  Cls                                             ;clear text area<br>  Locate width0,height0                           ;position to write text<br>  Write n$                                        ;write coordinates om screen<br>  Viewport width0,height0,width,height            ;resize to the normal size screen<br>Wend<br><br>Function drawgraph()<br>sizing=grid*zoom                    ;set the side of the area to be drawn<br>Color 50,50,50                      ;make the gridlines a low level grey color<br>x=woffset Mod sizing                ;determine the offset for the first grid line<br>While x&lt;=wmax                       ;create all vertical grid lines<br>  Line x,hmin,x,hmax<br>  x=x+sizing<br>Wend<br>y=hoffset Mod sizing                ;determine the offset for the first grid line<br>While y&lt;=hmax                       ;create all horizontal grid lines<br>  Line wmin,y,wmax,y<br>  y=y+sizing<br>Wend<br>If showscale Then                   ;determine if the scales are to be drawn<br>  j#=sizing*5                       ;scale lines are every fifth grid line<br>  Color 255,255,255<br>  Line width0,height-35,width,height-35  ;the horizontal scale line along the bottom<br>  k#=woffset                        ;work from the grid center backwards<br>  i=0<br>  While k#&gt;=width0                  ;continue while display area remains <br>    If h#&lt;=width Then               ;don't display if still out of view area<br>      Line k#,height-45,k#,height-35  ;make a tick mark on the horizontal scale line<br>      Locate k#-5,height-35           ;position to write the tick mark value<br>      Write Str$(i)                   ;write the tick mark value<br>    EndIf<br>    k#=k#-j#                          ;decrement the amount to the next tick mark<br>    i=i-10                            ;decrement the tick count by ten<br>  Wend<br>  k#=woffset+j#                       ;start at the tick position right of center<br>  i=10                                ;start with a tick count of ten<br>  While k#&lt;=width                     ;continue across the viewable area<br>    If k#&gt;=width0 Then                ;don't bother with line if out of viewable area<br>      Line k#,height-45,k#,height-35  ;draw the tick mark indicated<br>      Locate k#-5,height-35           ;position to write the tick mark value<br>      Write Str$(i)                   ;write the tick mark value<br>    EndIf<br>    k#=k#+j#                          ;increment the tick mark offset position<br>    i=i+10                            ;increment the tick mark count by 10<br>  Wend<br>  Line width-20,height0+20,width-20,height-35  ;draw the right side vertical scale line<br>  k#=hoffset                          ;begin at the center crosshairs<br>  i=0                                 ;set the tick count to zero<br>  While k#&gt;=height0+30                ;don't mess up the equation text area<br>    If k#&lt;height Then                 ;don't draw line if not in viewable area<br>      Line width-35,k#,width-20,k#    ;draw a tick mark against the vertical scale line<br>      n$=Str$(i)                      ;create the text for the tick count value<br>      Locate width-Len(n$)*8+5*(i&lt;0),k#-5   ;position to write the tick count value<br>      Write n$                        ;write the tick count value<br>    EndIf<br>    k#=k#-j#                          ;decrement the tick mark offset position<br>    i=i-10                            ;decrement the tick mark count by 10<br>  Wend<br>  k#=hoffset+j#                       ;start at one tick mark below crosshairs<br>  i=10                                ;start with a count of ten<br>  While k#&lt;=height-30                 ;continue until out of viewable area<br>    If k#&gt;=height0 Then               ;delay line if not yet in viewable area<br>      Line width-35,k#,width-20,k#    ;draw tick mark up to vertical scale line<br>      n$=Str$(i)                      ;get tick mark count<br>      Locate width-Len(n$)*8+5,k#-5   ;position to write tick mark count<br>      Write Str$(i)                   ;write tick mark count<br>    EndIf<br>    k#=k#+j#                          ;increment tick mark position<br>    i=i+10                            ;increment tick mark count by 10<br>  Wend<br>EndIf<br>xlen=1000*zoom                        ;we arbitrarily make the cross hairs 1000 long<br>Color 128,255,128                     ;make the crosshairs the color of green<br>Line woffset-xlen,hoffset,woffset+xlen,hoffset  ;paint the horizontal crosshair first<br>Line woffset,hoffset-xlen,woffset,hoffset+xlen  ;paint the vertical crosshair second<br>Color 255,255,255                     ;set the current color to bright white<br>End Function <br><br></td></tr></table><br>
<a name="232063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oldefoxx</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The program above was a first attempt.  I have since made many changes and extended it, and the new version (without the parabolic code) has now been added to the Code Archives under 2D Graphics with the name X-Y 2D Graphs.  I put code in it to draw two random straight line segments, fine their equations, then use Cramer's Rule with some limits to find out if the lines segments, as plotted, intersect.<br><br>Note that computers do not see things as humans do, and while I could draw a couple of lines on any surface and tell from looking at them if they intersect, computers are not equipped to see and make this type of determination.<br>For computers, you end up with having to deal with equations, coordinates, bit-maps (such as from scanners), or vectors as a rule.<br><br>This program allows you to begin to bridge the gap between what computers can be programmed to do, and what comes naturally to humans, or can be learned in terms of describing the world around us. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
