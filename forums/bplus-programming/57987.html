<!DOCTYPE html><html lang="en" ><head ><title >Types for Safety</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Types for Safety</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Types for Safety</a><br><br>
<a name="645034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just letting a few ideas/things i do out for discussion.<br><br>A difficult error in blitz can be where a variable is spelled wrongly, causing a newly created variable of the same name to be used instead, with the value 0.<br>This kind of bug can be hard to track.<br><br>As many may, using types almost exclusively, greatly reduces this risk as if you mispel either the type or the field name, you get a syntax error.<br><br>But what if, by accident (Im mainly a C++ programmer so this is something i do), you do something like:<br><pre class=code>
Type RectType
field Left,Top,Bottom,Right   ; just ignore that Left is an inbuilt function as this is just an example.
end type;

Function SetRect(this.RectType,inLeft,inTop,inRight,inBottom)
	left = inLeft
	Top = inTop
	Right = inRight
	Bottom = inBottom
End function
</pre><br>By accident, instead of:<br><pre class=code>
Function SetRect(this.RectType,inLeft,inTop,inRight,inBottom)
	this\left = inLeft
	this\Top = inTop
	this\Right = inRight
	this\Bottom = inBottom
End function
</pre><br><br>Well...oops.<br>Here i have a questionable solution to this, whereby a compile time error would be generated by the first example.<br>Steps:<br>1.Define a type that wont be used or anything.<br>2.Create a global variable of that type for each field in your types, and set to Null.<br>And the Result is=&gt;<br>If you try and use a variable with that name that is not a type field, you get an arithmetic syntax error as the operation you expect wont be applicable to that type.<br>So, for example, the above would (IMO) be more safely written as:<br><pre class=code>

Type SyntaxErrorChecker
	Field FieldSyntaxErrorChecker
End Type


Type RectType
field Left,Top,Bottom,Right
end type
global Left.SyntaxErrorChecker=Null
global Top.SyntaxErrorChecker=Null
global Bottom.SyntaxErrorChecker=Null
global Right.SyntaxErrorChecker=Null

Function SetRect(this.RectType,inLeft,inTop,inRight,inBottom)
	this\left = inLeft
	this\Top = inTop
	this\Right = inRight
	this\Bottom = inBottom
End function
</pre><br><br>Any thoughts/opinions on this idea? <br><br></td></tr></table><br>
<a name="645042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  if you mispel either <br></div>Hehe.  That's my thoughts on it... <br><br></td></tr></table><br>
<a name="645674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >aab</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol...Well you can see i can even misspell misspell.<br>But my idea was about the second thing (Functions updating types) and automatic 0 value instances being the accidental result of forgetting that in a function habdling a type you have to use the types name then the field name.<br>hm..I suppose i could just write something that parses my blitz files and ensures that things are 'strict' ie identifiers only declared with const, function, type, local and global..and dim...and labels. And field. And all the automatic ones...and userlibs.<br><br>A further mistake i dont like risking is mispelling a const. <br>But using a type there would be a great waste. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
