<!DOCTYPE html><html lang="en" ><head ><title >Cardwar - Issue under Win7</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cardwar - Issue under Win7</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Cardwar - Issue under Win7</a><br><br>
<a name="986830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys!<br><br>I have noticed a glitch in my card game Cardwar.<br>For reasons unknown, I see black rectangles when the cards are turned or modified/destroyed.<br><br>There seem to be an issue with the imagebuffers. When I call a function for the first time everything works as expected. But the second and third time, transparency is broken.<br><br>I "clear" the imagebuffer via:<br>SetBuffer drawresizedimage_tempimage_ib<br>Color 255,0,255<br>Rect 0,0,64,91,1<br><br>&lt;- 255,0,255 is the transparency color!<br><br><b>Screenshot:</b><br><img src="http://img11.imageshack.us/img11/4473/cardwarbug.png"><br><br><b>Example Code:</b><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function DrawResizedImage(image,imgframe,x,y,width#)
 SetBuffer drawresizedimage_tempimage_ib
 Color 255,0,255
 Rect 0,0,64,91,1
 SetBuffer BackBuffer()
 ib=ImageBuffer(image,imgframe)
 stp#=64/width#
 sourx#=0
 destx=0
 While sourx#&lt;64;width#+64
  CopyRect sourx#,0,1,91,destx,0,ib,drawresizedimage_tempimage_ib
  sourx#=sourx#+stp#
  destx=destx+0.99
 Wend
 DrawImage drawresizedimage_tempimage,x,y
;Delay(200)
End Function
</textarea><br><br><b>CW 1.3.3 Download:</b><br><a href="http://www.updates.de/software/download/Download_11941.html" target="_blank">http://www.updates.de/software/download/Download_11941.html</a><br><a href="http://www.freeware.de/download/cardwar_11941.html" target="_blank">http://www.freeware.de/download/cardwar_11941.html</a><br><br>It's been quite a while since I have last touched BP:<br>So any help regarding this issue is welcome.<br><br>Thanks<br>Grisu <br><br></td></tr></table><br>
<a name="986901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gladclef - Ben B</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> My only guess is that drawresizeimage_tempimage_ib's image is being freed somewhere else in your code. How come you don't just initialize it as a local within the function? <br><br></td></tr></table><br>
<a name="986997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Luke111</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unless you are using a bootleg version of win7 full, dont take the rc glitches personally. Windows coughcough'sucks'coughcough.  Just, dont take microsofts holes hostage. Use Unix my friend, use unix. <br><br></td></tr></table><br>
<a name="987090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Luke111, take your anti-microsoft BS elsewhere.<br><br>Does BlitzPlus run on Unix? No, so how is that going to help here? <br><br></td></tr></table><br>
<a name="987113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Luke111</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol. It runs under WINE Windows Emulator. I happen to be using micorosft right now as I dont like the other option - MAC. Now MAC just sucks worse. <br><br></td></tr></table><br>
<a name="987119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know that's hilarious :)<br><br>You hate Windows, so you use Unix, then use WINE to use Windows on Unix.<br><br>What's the frickin' point? ;)<br><br><br>Ok, enough derailing, let's get the thread back on topic.<br><br>Grisu, some things to check... BlitzPlus changed the default way images were managed some time ago (can't remember when exactly). It was something to do with the managed/dynamic/scratch modes IIRC, so you may need to add or change the flag parameters. Also, the image masking broke with Vista on some video cards, which might be related. <br><br></td></tr></table><br>
<a name="987139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Luke111</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Id also look at the fact that win7 was completely engineered from scratch. A new type of nt since there were so many holes in nt before.<br>:)<br>LUKE <br><br></td></tr></table><br>
<a name="987160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Id also look at the fact that win7 was completely engineered from scratch. <br></div><br><br>Um... Excuse me? It's 98% identical to Vista. They've overhauled some components, but it's hardly a re-write.<br><br>It's internal version number is 6.1 for crying out loud. (Vista is 6.0) <br><br></td></tr></table><br>
<a name="987571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> xlsior is right. In the industry the product known as "Windows 7" is often humorously called "Vista SP 3" among sys-admins.<br><br>What they did for Win7 was pretty much what they should have done in the beta phase of the Vista release in the first place: Listen to usability and performance feedback from the testers and fix, fix, fix until it was really "lean". <br><br></td></tr></table><br>
<a name="987575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> xlsior is right. In the industry the product known as "Windows 7" is often humorously called "Vista SP 3" among sys-admins. <br></div><br><br>Likewise, the initial Vista release has been called Windows ME 2.0<br><br><div class="quote"> What they did for Win7 was pretty much what they should have done in the beta phase of the Vista release in the first place: Listen to usability and performance feedback from the testers and fix, fix, fix until it was really "lean".  <br></div><br><br>Microsoft tried to put the bar too high with Vista, and failed to deliver in a timely fashion... It was a rush delivery, and they simply ran out of time.<br><br>Several of the initial major announcements (like WinFS, where the filesystem essentially behaves as a database) were scrapped altogether, and haven't even made it in Windows 7 either so far.<br><br>One not insignificant problem was that they'd been promising the Vista launch for a long time in advance -- which isn't that bad, if it weren't for the fact that they'd also been selling corporate enterprise agreements that would entitle large corporations that signed on to updates to the new windows versions within the duration of the contract on that premise... the date of which was rapidly approaching without microsoft delivering anything.<br>They had to ship something or a lot of companies would think twice about signing those kind of $$$ enterprise contracts. <br>The result is what we're all familiar with: Vista got downgraded from it's initial pie-in-the-sky promises to shiney-but-kinda-broken-now-with-extra-driver-and-software-incompatibilities.<br><br>Most of the problems got fixed with SP1, which kind of goes to show that they could have gotten it right if they hadn't tried to rush it out the door.<br><br>One of microsoft's major problems are their odometer releases - they release a new version of a product because it's about that time on the calendar again, not because there is a need or because something is 'finished'. <br><br></td></tr></table><br>
<a name="987592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mahan</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Idd. And given Microsofts market share and the fact that their "current" operating system (at any time) is distributed on a very huge % of sold end-user machines, I'd like to think they'd benefit from an approach like this:<br><br>1.) Set the scope of the new OS.<br><br>What should it include? What perceived problems do "our" customers have with existing products and how can "we" in the new version mitigate these problems.<br><br><br>2.) Optimize for speed and usability over "effects".<br><br>One very big problem with recent Windows OS'es is that they are not GUI-wize optimized for "Realtime smoothness" or what we in the Blitz*-world call "tweening" if you catch my drift :-) Imo the OS GUI should run just as fast on a 5-year-old machine as a brand new one, except that animations/renderings/alpha-effects are "dieted" on the old one. Example: When the user clicks the minimize button on a window, it's far more important that the window becomes minimized within 300-500 millisecs, than to play the same "minimizing animation" that happens to take 300ms on a new machine while it takes 2 secs for an old machine to complete. I'm not saying that the old machine should not have the animation, but I'm saying that it should be written so that it takes 300ms no matter what on both machines, even if the older one shows it a bit "less smooth" than on the brand new one.<br><br>3.) Implement a "It's finished when it's finished" mentality regarding new OS releases.<br><br>This is not to say that there will never be an release because the scope is changing all the time. That point goes back to #1 planning, and furthermore adding features to the upcoming release should require serious review and bureaucracy to determine if it's really necessary in the current release, where new "cool and nifty" features (like WinFS for instance) are weeded out and placed on the wish-list for the release AFTER the upcoming release.<br><br>I'm think that after the fiasco that was Vista, some people at Microsoft did a list similar to mine above. Personally I think the marketing/bean-counter people at MS are to blame, but I look at it that way because I'm a dev ofc. :-)<br><br>Now I just realized how I helped derail this thread a bit so I'll just finish with getting it a bit back on track:<br><br>Grisu: If you could write a write a standalone, very short, but complete program that you post source for here, that pinpoints the problem on your Win7 setup I think that would help you much in getting fairly quick replies.<br><br>That would for instance make it easier to determine if this is a driver issue or if it's in Win7 somewhere, if several people can test it on their machines. (and make small modification to it to see if they can fix the problems) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
