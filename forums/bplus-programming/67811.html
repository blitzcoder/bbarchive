<!DOCTYPE html><html lang="en" ><head ><title >Data</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Data</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Data</a><br><br>
<a name="757307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have started a new game, and I was wondering if anyone knew of a tutorial on reading data commands, or give me some assistance, Thanks. <br><br></td></tr></table><br>
<a name="757309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a perfect explanation in the help. Other than that, I advice not to use data statements; use external files. This way you can change gamedata without the need to recompile your code. <br><br></td></tr></table><br>
<a name="757425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would like an example that shows how to make the tiles move and respond to the character. <br><br></td></tr></table><br>
<a name="757456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> uh, for what kind of game? Be more precise. <br><br></td></tr></table><br>
<a name="757518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> A mouse voider game where the map moves and you must stay in a certain area to win. *Please don't take my idea!!!!! <br><br></td></tr></table><br>
<a name="757523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you looked in the \tutorials section ? There are some examples that might be helpful: sidescroller and tilemaps. I haven't tried them, but they might help you a bit further. <br><br></td></tr></table><br>
<a name="757550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you, if anyone has any other tutorials, they would be appreciated, but I have got what I need. <br><br></td></tr></table><br>
<a name="757575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought that this code worked, but it doesn't, why can't you change what data is being read.  I want to be able to change the level. <pre class=code>Graphics 800,600

Const LeftKey=203
Const RightKey=205
Const UpKey=200
Const DownKey=208

Map_Length=49
Map_Height=49

Dim Map$(Map_Length,Map_Height)


Restore MapData
For i=0 To Map_Length 						
Read Value$ 					
For x=0 To Map_Length					
Map(x,y)=Mid(Value$,x+1,1)	
Next							
y=y+1							
Next

Const screencenterw = 400
Const screencenterh = 300

Global offsetx = screencenterw - 250
Global offsety = screencenterh - 250

SetBuffer BackBuffer()

While Not KeyHit(1)
If KeyHit(1) 
Restore MapDatatwo
For i=0 To Map_Length 						
Read Value$ 					
For x=0 To Map_Length					
Map(x,y)=Mid(Value$,x+1,1)	
Next							
y=y+1							
Next
EndIf 



	For x=0 To Map_Length For y=0 To Map_Height
		If Map(x,y)="0" 
		Color 0,0,0 
		Rect x*10+offsetx,y*10+offsety,10,10,1 
		EndIf                                   
		If Map(x,y)="1"
		Color 0,255,0
		Rect x*10+offsetx,y*10+offsety,10,10,1
		EndIf 
		If Map(x,y)="2"
		Color 255,0,0
		Rect x*10+offsetx,y*10+offsety,10,10,1
		EndIf 

	Next Next

	
Color 255,255,255 
Rect screencenterw - 250,screencenterh - 250,500,500,0
Color 0,0,0
Rect 0,0,800,50 
Rect 0,0,150,600 
Rect 0,550,800,600 
Rect 650,0,800,600  
	
	If KeyHit(RightKey) Then offsetx = offsetx + 10
	If KeyHit(LeftKey) Then offsetx = offsetx - 10
	If KeyHit(DownKey) Then offsety = offsety + 10
	If KeyHit(UpKey) Then offsety = offsety - 10



Color 0,0,0
Line MouseX(),MouseY(),MouseX()+11,MouseY()+11
Line MouseX(),MouseY(),MouseX(),MouseY()+16
Line MouseX(),MouseY()+16,MouseX()+4,MouseY()+12
Line MouseX()+7,MouseY()+11,MouseX()+11,MouseY()+11
Line MouseX()+4,MouseY()+12,MouseX()+8,MouseY()+20
Line MouseX()+7,MouseY()+12,MouseX()+10,MouseY()+19
Plot MouseX()+9,MouseY()+20
ConfineCursor(150,50,500,500)

Flip 
Cls
Wend
End


Function ConfineCursor(x%,y%,w%,h%)
	Local r%=(CreateBank(16))
		PokeInt(r,0,x%):PokeInt(r,4,y%):PokeInt(r,8,x%+w%):PokeInt(r,12,y%+h%)	
		api_ClipCursor%(r)
		FreeBank(r)
	Return(True)
End Function

.MapData
Data "10000011111111111111111000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000001000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000200000000000000000000000000000000000"
Data "00000000000002020000000000000000000000000000000000"
Data "00000000000020002000000000000000000000000000000000"
Data "00000000000002020000000000000000000000000000000000"
Data "00000000000000200000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000101000000000000000000"
Data "00000000000000000000000000000010000000000000000000"
Data "00000000000000000000000000000101000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000001"


.MapDatatwo
Data "10000011111111111111111000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000001000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000001000000101000000000000000000000000000"
Data "00000000000100001000100000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000100000000000010010000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000200000000000000000000000000000000000"
Data "00000000000002020000000000000000000000000000000000"
Data "00000000000020002000000000000000000000000000000000"
Data "00000000000002020000000000000000000000000000000000"
Data "00000000000000200000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000101000000000000000000"
Data "00000000000000000000000000000010000000000000000000"
Data "00000000000000000000000000000101000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000000"
Data "00000000000000000000000000000000000000000000000001"


</pre> <br><br></td></tr></table><br>
<a name="757578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should not use Escape to read the second map, because it will end the program, use for instance the "Q" key instead.<br>And y should be reset to zero before reading the second data block:<br><pre class=code>
While Not KeyHit(1)
If KeyHit(16) 
Restore MapDatatwo
y=0
For i=0 To Map_Length 						
Read Value$ 					
For x=0 To Map_Length					
Map(x,y)=Mid(Value$,x+1,1)	
Next							
y=y+1							
Next
EndIf 
</pre> <br><br></td></tr></table><br>
<a name="757777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> That was just a typo on the posted code, the problem is the loop below it, when I tyr to change the data that is being read.  That is were it gets glitchy. <br><br></td></tr></table><br>
<a name="757788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe I don't understand you correctly, but this is the 2nd loop?<br>However, maybe it is better to use a different approach: Use a Select..Case statement to switch between the different Restore calls, and put the part that reads the level into a separate Function. Something like:<br><pre class=code>
Function LoadLevel(levelnum)

 ;select the right restore
 Select levelnum
 Case 1
    Restore MapData
 Case 2
    Restore MapData2
 End Select

 ;read map data here into Dim
 For y = 0 to height
 read ..etc etc
 ..
 
 End Function
</pre><br>Then, at the start of the program, call "LoadLevel 1"<br>Later on (at a keypress o.s.) call "LoadLevel 2"<br>After looking at it again, I noticed the mouse cursor, which is nice :) But you should use MouseX() and MouseY() only once, because they change all the time. So at the start of the loop, store them into variables and use those variables throughout the loop:<br>msX = MouseX()<br>msY = MouseY() <br><br></td></tr></table><br>
<a name="757793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had not tried the y=0 suggestion.  It works, I just read too fast. <br><br></td></tr></table><br>
<a name="758328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to use the restore command on a variable? <br><br></td></tr></table><br>
<a name="758526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, use the Select..Case command <br><br></td></tr></table><br>
<a name="758535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Petron</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I havn't tried that. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
