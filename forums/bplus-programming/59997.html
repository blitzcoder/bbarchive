<!DOCTYPE html><html lang="en" ><head ><title >getcolor readpixel readpixelfast</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >getcolor readpixel readpixelfast</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >getcolor readpixel readpixelfast</a><br><br>
<a name="669109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could someone please explain the differences and advantages between these commands? <br><br>Also is there an accurate way to get color from both a 32bit and 16bit display? I have no problem in 32 bit using readpixel but if I am in 16bit I get garbage data. Since I can't set the users windows settings this limits me to fullscreen or my colour selection won't work.<br><br>  Thanks in advance <br><br></td></tr></table><br>
<a name="669124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will be happy to assist you if you change your alias. <br><br></td></tr></table><br>
<a name="669179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I was thinking it's pretty bad, as a lot of people's lives are affected by it ... unless of course you have it too.<br><br>Anyway as a start, try just reading the help on those commands in the IDE as that's quite informative. <br><br></td></tr></table><br>
<a name="669293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow can you guys jump to conclusions. I was born on June 28th. I am a boy. My sign+gender=mynick. If I called myself Geminiboy would you demand I change that as well? <br><br>Instead of being offended by everything you see why don't you spend a second and ask me about the nick first?<br><br>I have read the help in the commands but they do not directly compare the three commands. I can make the assumption that getcolor is the slowest. Does one of the three commands work in both 16bit and 32bit modes or is there a reliable way to make one of them work? <br><br></td></tr></table><br>
<a name="669305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OT: Regardless of your explanation I agree with sswift and Grey Alien.  'Cancer' is a vile word in any context.<br><br><div class="quote"> Instead of being offended by everything you see why don't you spend a second and ask me about the nick first? <br></div>You're getting off to a really bad start with that attitude. <br><br></td></tr></table><br>
<a name="669327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> GfK: Cancer is and was an astrological sign long before it was used to describe the medical condition. How is an astroligical sign vile? Don't let one definition you dislike define the others.<br><br>Why am I getting off to a bad start by asking someone to take the time and ask me about my alias before jumping to incorrect conclusions? I asked a fair programming question and I was ridiculed about my alias instead. I didn't ask for this debate... I wanted to know more about colour selection. <br><br></td></tr></table><br>
<a name="669490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cb:<br>I didn't ridicule you about your alias.  I simply asked you to change it. My mother died from cancer a few years ago as many Blitzers here know.  Of course lots of people die, but this was a prolonged death over the course of a year and was very traumatic for me.  I'm already reminded of it all the time by commercials and TV news.  I don't want to also be reminded of it every time I come to the Blitz forums as well.<br><br>So it doesn't matter to me why you chose the alias.  I'm not passing judgement on you for that.  I don't expect people to stop making jokes about diseases, I do it myself.  I just don't want to see the word every time I come here and be reminded of it.  That's all.<br><br>Anyway, I can't force you to change your alias.  I'm just asking you to.  If you want assistance from me, then you should have the common courtesy to do me that small favor.  It's not a big deal to change your alias. <br><br></td></tr></table><br>
<a name="669491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am sorry to hear about the loss of your mother. I have lost an aunt and uncle as well as many close family friends to cancer. My mother and grandmother have both survived cancer (remission). I give donations every year to cancer research and it is something that I take very seriously.<br><br>While I respect your request I am not going to change my alias. My alias is based on my astrological sign and not the other cancer. I have been using this alias without problem for over 10 years and it is my online persona. It is not intended to offend anyone. If that means that I will not receive your help then I am sorry to hear that. <br><br></td></tr></table><br>
<a name="669560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You've listed the commands pretty much in speed order.  GetColor is "safe" in that it won't crash if you ask it to read off screen, but this slows it down.  ReadPixel will crash if reading off screen, but is a bit faster, especially if you call LockBuffer(BackBuffer()) first, and UnlockBuffer afterwards (assuming that you are reading loads in a loop).  However, I never used either of those in my games, I used ReadPixelFast.  You *must* lock the buffer for this to work and unlock it when you are finish.  Plus you'll get Memory Access violations if you try to read outside of the screen.  Also complement the use of this with WritePixelFast.  You can do some pretty interesting stuff with these commands BUT they still aren't fast enough to do large areas of complex stuff like alpha blending in real-time. <br><br></td></tr></table><br>
<a name="669607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a look into lockedpixels, lockedformat and lockedpitch for really fast pixel operations.. <br><br></td></tr></table><br>
<a name="669647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did a load of tests with lockedpixels and didn't find it faster than using ReadPixelFast and WritePixelFast (on my machine at least). <br><br></td></tr></table><br>
<a name="669683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys! Right now I am using ReadPixel and it works at a fast enough speed for me (I locked the framerate to 60fps) but I can't get ReadPixel to work in 16bit. If I do fullscreen 32 bit or windowed and I have my desktop set to 32 bit then everything works fine. If I try 16bit I can't read any colours.<br><br>I am making a Risk type game and I am using colour selection to determine if I am over a country or not. Right now I have no need for anything but reading in colour. I am not using WritePixel or WritePixelFast. I should probably send a test version around to make sure ReadPixel is fast enough on other people's machines. <br><br></td></tr></table><br>
<a name="669693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sub_Zero</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... what graphics are you using? is it possible that in 16 bit mode the gfx becomes kinda "dithered"? (just a thought (long-shot)) <br><br></td></tr></table><br>
<a name="669708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using pngs. My color map is one image... a 1024x1024 32bit png. I am not sure if the image dithers when it is in 16bit mode. None of the colors read in 16bit mode. <br><br></td></tr></table><br>
<a name="669793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey - don't want to hijack this thread but I've found that on my machine using lockedpixels and poking directly to the buffer I can push around 200,000 pixels per frame at frame rates above 40fps while if I use writepixelfast I can barely manage 30,000 to 40,000 pixels per frame before the frame rate drops to around 15-20 fps. <br><br></td></tr></table><br>
<a name="669845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> fair enough, my test must have be flawed, it was a while ago now.  Actually I think it was Reading not writing and the delay was just caused by the video buffer to RAM pipeline. <br><br></td></tr></table><br>
<a name="669878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> So what sort of speed increase should I expect if I switched from ReadPixel to ReadPixelFast? In your opinion is it worth it? I am getting great freamerates now but I am not done a lot of the game code. I am thinking it would be easier to switch now than later. <br><br></td></tr></table><br>
<a name="669936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay I switched to ReadPixelFast and there seems to be no noticable change. I guess I don't understand why there would be a ReadPixel and ReadPixelFast. If RPF is always faster then why have two commands? Is locking and unlocking the buffer the potential problem?<br><br>I also came up with a solution for my 32bit and 16bit problem. I can now select my countries in either mode just fine. <br><br></td></tr></table><br>
<a name="670058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Readpixel has error checking - ie you can be a little more careless with your arguments, readpixelfast has to be performed on a locked buffer and within the boundaries of the current locked buffer.  Obviously just because readpixel doesn't care as much about invalid coordinates you should still always use valid coordinates..<br><br>I don't think there is too much difference in speed between readpixelfast and readpixel.  If you are simply getting the color at a small number of points per frame (on my 500 Mhz machine less than a few thousand) then there's really no difference between the two. <br><br></td></tr></table><br>
<a name="670062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Matty. That makes sense now. I have ReadPixelFast working now so I will stick with it.<br><br>Thanks everyone for their help. <br><br></td></tr></table><br>
<a name="681369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >orion one</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi guys,<br><br>i have a related question : i actually am processing almost 1000 images taken from a CTSCAN let's say of a human leg, and i wish to extract the brightest pixels from each picture, in other words the bones; i plan to build meshes out of these pixels, then render them and provide a real-time interactive view of, for instance, the bone fracture encountered.<br><br>until now i use getcolor, RP and RPF but the process remains slohohohohowww<br><br>could i adress directly the allocated memory where each image is loaded? <br><br>thank you in advance for any help! <br><br></td></tr></table><br>
<a name="695943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Re: the nickname<br><br>If it matters, the astrological version didn't even come into my head, the disease version did.<br><br>'CancerianBoy' would ne a nice compromise, and I think people will pick up on that right away :) <br><br></td></tr></table><br>
<a name="695970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> It gets to be a bit wordy and a lot more to type in :). I will make you a deal... I promise to never complain about anyone elses nickname and I'll keep mine the way it is :) <br><br></td></tr></table><br>
<a name="696036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it matters, being cancerian also, astrology was the first thing that came to mind when I seen your alias. <br><br>But then I may be predisposed to arrive at that conclusion.<br><br>Also, I find it somewhat uncomfortable that the name of the star sign I share has also been taken to specify a tragic condition that so many people suffer. <br><br>But, I've yet to hear of anyone that's lobbied astronomers to rename the Tropic of Cancer due to this.<br><br>But yes, 'Cancerian' would be grammatically correct and perhaps a little more accurate.<br><br>But I see no offense in your alias. <br><br></td></tr></table><br>
<a name="696063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you <br><br></td></tr></table><br>
<a name="696080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >neilo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is soooo off topic now... but: speaking as someone who is watching their wife die a little more each day from cancer (brain tumors), I can honestly say I don't give a damn what your nickname is.<br><br>@Yeshu777,<br>The illness "cancer" takes it's name from the astrological starsign Cancer - The Crab.<br><br><a href="http://en.wikipedia.org/wiki/Cancer" target="_blank">Wikipedia</a> says thus:<br><br><div class="quote"> Hippocrates described several kinds of cancers. He called benign tumours oncos, Greek for swelling, and malignant tumours carcinos, Greek for crab or crayfish. This strange choice of name probably comes from the appearance of the cut surface of a solid malignant tumour, with a roundish hard center surrounded by pointy projections, vaguely resembling the silhouette of a crab. He later added the suffix -oma, Greek for swelling, giving the name carcinoma. Since it was against Greek tradition to open the body, Hippocrates only described and made drawings of outwardly visible tumors on the skin, nose, and breasts. Treatment was based on the humor theory of four bodily fluids (black and yellow bile, blood, and phlegm). According to the patient's humor, treatment consisted of diet, blood-letting, and/or laxatives. Through the centuries it was discovered that cancer could occur anywhere in the body, but humor-theory based treatment remained popular until the 19th century with the discovery of cells.<br> <br></div><br><br>So, don't feel uncomfortable.  The astrological sign came before the name of the illness.<br><br>And now, back to Blitz. <br><br></td></tr></table><br>
<a name="696087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cancerboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know I never imagined a nickname that didn't involve racial slurs, swearing etc would ever cause such an off-topic debate.<br><br>Very sorry to hear about your wife. <br><br></td></tr></table><br>
<a name="696153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> @neilo<br><br>I'm sincerely sorry to hear about what both you and your wife are going through. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
