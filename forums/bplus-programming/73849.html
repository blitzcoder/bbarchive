<!DOCTYPE html><html lang="en" ><head ><title >Collisions between 2 of the same type</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collisions between 2 of the same type</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Collisions between 2 of the same type</a><br><br>
<a name="825125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can somebody please write me a sample code showing how check a collision between 2 objects of the SAME type? Because this doesn't work...<br><br>If imagescollide(im,a\x,a\y,0,im,a\x,a\y,0) <br><br></td></tr></table><br>
<a name="825139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not 100% sure but I think you would do this:<br><pre class=code>
For a.apple=each apple
For a2.apple=each apple
     If ImagesCollide(a\img,a\x,a\y,0,a2\img,a2\x,a2\y)
          ;dsfjdslvjdsfkljdsgds;
     Endif
next
next
</pre><br>That's how I would do it anyway. <br><br></td></tr></table><br>
<a name="825141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, say i wanted to check the collision between more than just two objects, say 100. then how would i do that? <br><br></td></tr></table><br>
<a name="825157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ked's code will work with more than 2 objects, in fact it works for all objects currently in memory, however it does not discount two objects that are one and the same object.<br><br>Here is another way of doing it:<br><br><pre class=code>
For Apple.AppleObject=each AppleObject
     For OtherApple.AppleObject=each AppleObject
            If Handle(Apple)&lt;&gt;Handle(OtherApple) then 
                       If ImagesCollide(Apple\Image,Apple\X,Apple\Y,Apple\Frame,OtherApple\Image,OtherApple\X,OtherApple\Y,OtherApple\Frame) then
                              ;do whatever you want now that you've detected a collision
                      endif 
            endif 
     next
next
</pre><br><br><br>This is the easiest way of doing things, and if you are only comparing 100 objects against all 100 other objects every frame (roughly 10000 imagescollide checks) then it may be quick enough for what you want. <br><br></td></tr></table><br>
<a name="825373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> will this code work if i wanted to make a bunch of particles, all the same type, to move around and bump into eachother? <br><br></td></tr></table><br>
<a name="825580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't see why not. <br><br></td></tr></table><br>
<a name="827304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What does the command "Handle" do? It,s not in the command reference. <br><br></td></tr></table><br>
<a name="827343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Handle &amp; its related partner Object are two commands not documented as official blitz commands.<br><br>I will try to explain by giving you an example, there are many uses for this command the main one being though the ability to go directly to a particular type instance without having to loop through them all.<br><br><pre class=code>


Type AppleObject

Field Ripeness
Field Taste
Field Color
Field Name$

end type


Apple.AppleObject=new AppleObject
Apple\NAme="jonathan"

AppleHandle=Handle(Apple)
;The Handle(Apple) command returns an integer which holds a kind of pointer to this particular type instance.


SecondApple.AppleObject=new AppleObject
SecondApple\Name="granny smith"


TheFirstApple.AppleObject=Object.AppleObject(AppleHandle)
;the Object command when used as above will return either the relevant type instance as it does here, or null if it does not exist.


Print TheFirstApple\Name;should print "jonathan"

</pre><br><br>The way I used it in the code earlier (a few posts up) allows us to check if we are looking at the same type instance in each loop - if the handle returned is the same for both then we are looking at the same type instance.<br><br>It may take some time for this command's usefulness to become apparent, and you may need to play with it a little so don't worry if you don't get it just yet. <br><br></td></tr></table><br>
<a name="827784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I have one more question. I know i should already know this, but I don't. When I create a type, I put in something like, <br><br>" appleobject.appleobject = new appleobject"<br><br>I don't know why I put it. That's just how I do it. Could somebody explain what this command means? I usually see it done like this,<br><br>"apple.appleobject = new appleobject"<br><br>What's the difference? <br><br></td></tr></table><br>
<a name="827917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not too much difference at all - <br><br>as an example, when you declare a variable as a string you do so by adding $ to the end of the variable name, when you declare a floating point variable you add #.  In the case of a custom type you add .TYPENAME when declaring the variable.<br><br>There is nothing wrong with doing it your way but it can be a little confusing.<br><br>Examples:<br><br><pre class=code>
A.Appleobject=new AppleObject

YetAnotherInstance.AppleObject=new AppleObject

CDEF.AppleObject=new AppleObject

</pre><br><br>All of those would create a new instance of a type object, the first being called A, the second being called YetAnotherInstance, and the third being called CDEF.  The name you give to the type instance really does not matter.<br><br><b>You don't have to name a new type instance as the name of the type itself</b> <br><br></td></tr></table><br>
<a name="828021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kyler</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Matty! <br><br></td></tr></table><br>
<a name="887998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zauron</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> FYI, the Handle function is great and useful for some advanced tricks, but it is completely unnecessary in this example.  You can compare two Type instances to see if they are the same one or not without using the Handle command.<br><br>In other words, this code:<br><br><pre class=code>
For Apple.AppleObject=each AppleObject
    For OtherApple.AppleObject=each AppleObject
        If Apple &lt;&gt; OtherApple then 
            If ImagesCollide(Apple\Image,Apple\X,Apple\Y,Apple\Frame,OtherApple\Image,OtherApple\X,OtherApple\Y,OtherApple\Frame) then
                ;do whatever you want now that you've detected a collision
            endif 
        endif 
    next
next
</pre><br><br>will work exactly the same as the code Matty first posted (notice the lack of the Handle function calls).<br><br>Note that this actually does make sure it is the exact same or different object by comparing their memory addresses internally, it does not compare the CONTENTS of the objects.<br><br>For example, this code:<br><br><pre class=code>
Type TestType
    Field x, y
End Type

a.TestType = New TestType
b.TestType = New TestType

a\x = 10
b\x = 10
a\y = 10
b\y = 10

If a = b Then
    Print "The same!"
Else
    Print "Not the same!"
EndIf
</pre><br><br>will print out "Not the same!" even though the contents of the two objects are the same.  Using = or &lt;&gt; between two Type instances will only check if they are the exact same instance of the object, it doesn't bother to look at the data inside them.  If you wanted to see if their values are the same, you'd have to manually check x and y of each one. <br><br></td></tr></table><br>
<a name="896549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kyler</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> this code:<br><br>For Apple.AppleObject=each AppleObject<br>    For OtherApple.AppleObject=each AppleObject<br>        If Apple &lt;&gt; OtherApple then <br>            If ImagesCollide(Apple\Image,Apple\X,Apple\Y,Apple\Frame,OtherApple\Image,OtherApple\X,OtherApple\Y,OtherApple\Frame) then<br>                ;do whatever you want now that you've detected a collision<br>            endif <br>        endif <br>    next<br>next<br><br>(sorry, dont know how to make one of those code boxes)<br><br>It only works if I want 2 instances to collide with eachother...But say I want 100s!  without doing this...<br><br>b1.ball = new ball<br>b2.ball = new ball<br>b3.ball = new ball<br>b4.ball = new ball<br>b5.ball = new ball<br>b6.ball = new ball<br>b7.ball = new ball<br>b8.ball = new ball<br>b9.ball = new ball<br>etc....<br><br><br>Thats not what I want... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
