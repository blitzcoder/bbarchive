<!DOCTYPE html><html lang="en" ><head ><title >Remembering previously used folder.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Remembering previously used folder.</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Remembering previously used folder.</a><br><br>
<a name="249267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to call a file requester that will either bring the last directory you were in, or start in the directory you send it?<br><br>It's hugely infuriating to deal with large number of files and having to navigate to the directory every time. <br><br></td></tr></table><br>
<a name="249350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> err.. remember the path in a string, and use ChangeDir command before the filerequester?<br><br><pre class=code>
ChangeDir "d:\Muppetshow\"
gonzo=RequestFile("load","*")

WaitKey()
End
</pre> <br><br></td></tr></table><br>
<a name="249393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, nothing happens when I do that. It's still obsessed with the root directory. <br><br></td></tr></table><br>
<a name="249406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> that's odd!<br><br>Try this then.. here (v1.34) it works fine..<br><br><pre class=code>
app=CreateWindow("dirtest",32,32,128,128)
button=CreateButton("RequestFile",16,8,96,24,app)
Repeat
	WaitEvent()
	If EventID()=$803 quit=True
	If EventID()=$401
		file$=RequestFile("load..")
		path$=cutfilename(file$)
		DebugLog path$
		ChangeDir path$
	EndIf
Until quit
End

Function cutfilename$(file$)
	For t=Len(file$) To 0 Step -1
		If Mid$(file$,t,1)="\" Exit
	Next
	Return Left$(file$,t)
End Function
</pre><br><br><br>by the way :)<br><br>For t=Len(file$) To 0 Step -1<br><br>should it go down to 0 or 1 ? <br><br></td></tr></table><br>
<a name="249410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the code man, but still no luck.<br><br>I had already tested it to see if the dir was being set and Blitz as far as loading things by hand (ie LoadImage), it fine.  But filerequest is still desperate to be in the root.<br><br>I was wondering if it's a windows thing, as I have a handful of non blitz applications that never remember the last used dir, but I assumed that was lazy coding as some do remember it. <br><br></td></tr></table><br>
<a name="249412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> odd...! guess this is where my suggestions end.. what version of B+ do you use? <br><br></td></tr></table><br>
<a name="249415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1.35, I guess I could uninstall I try the previous release. <br><br></td></tr></table><br>
<a name="249424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've bad news for ya... I installed 1.35 ..(I didn't yet because of the winning horse principle :) and the app I did works fine.<br><br>So, either 1 the gods don't like you, 2 there's something wrong with your system, or 3 you encountered a nice little bug in B+  !<br><br>.. anyone else here with suggestions? <br><br></td></tr></table><br>
<a name="249603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >okee</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> CS_TBL<br>Are you testing that with a compiled exe ?<br><br>okee <br><br></td></tr></table><br>
<a name="249649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested that... works too.<br><br>On my system (athlon2ghz/256mb/98se/Blitsplus v1.34/v1.35), the app is fully functional..! <br><br></td></tr></table><br>
<a name="249655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snarty</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It don't work on WinME either, even using a system ChangeDir is ignored. I've gone down the C route for all requesters anyhow, since you can load them, and retrieve what you want. <br><br></td></tr></table><br>
<a name="249668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I don't think it's an ME thing, my flatmate (who is on the same network as me) has no problems with this and is running the same crappy OS.<br><br>I guess it's a windows thing, but google reveals nothing on the subject and a tech forum I frequent has nothing on it. Apparently I've discovered a unique bug so I'll go for  CS_TBL's option 1, replacing the word God, with Microsoft.<br><br>Just "putting up with it" is not an acceptable solution for me, I'll guess I'll hack together a custom file requester.<br><br>DAMN YOU MICROSOFT, DAMN YOU TO HELL. <br><br></td></tr></table><br>
<a name="249700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah we're all very happy with M$ indeed :)<br><br>tho it's kinda radical, you might want to try a re-install of windows.. Maybe your current windows installation is too old and too messed-up :)<br><br>btw.. since I'm kinda lazy in reading manuals, it seems you can use the 'CurrentDir' command instead of my cutfilename(file$) function. (tho, writing such a function is always good exercise ofcourse)<br><br>Maybe it's a windows bug.. on the other hand, blitz+ is claimed to work on all windows platforms.. maybe it's something that *can* be fixed in B+ by bypassing the possible M$ bug .. dunno about that. <br><br></td></tr></table><br>
<a name="249914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you know it's a Windows bug?  If it were, it seems one should be able to reproduce it on similar setups.  Perhaps there are different settings that you're not thinking about.<br><br>Incidentally, it works fine on my XP system. <br><br></td></tr></table><br>
<a name="249918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have run the same program on a different machine with the same OS. It worked fine on the other machine.<br><br>And it was the same version of B+ both times, so that makes windows a more likely culprit (same version blitz on both machines, and a lot more can be different about Windows)<br><br>Also there are a few non blitz programs on my machine that forget their directory (the ones that use the same style of requester as Blitz, oddly enough)<br><br>Anyway it's a moot point as I've written my own requester where you can send default path strings (and files for saving), so suck on that Microsoft you beta-whoring sons of dogs.<br><br>I liked the functionality a lot of amiga programs had, where upon accessing different filetypes, it could remember the default path for each filetype (i.e. Dpaint had remembered the paths for Images, Brushes and Anim's all seperately)<br><br>If anyone feels they could make use of the code, post a heads up on this topic and I'll post it in the code archives.<br><br>Oh, and got to say I'm becoming more and more impressed with Blitz+. Listboxes are great. <br><br></td></tr></table><br>
<a name="383362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cold Harbour</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to bump this out of antiquity.<br><br>I've just come up against this problem.  No matter what I do the file requester always go to "My Documents".<br><br>Anyone have a workaround?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="383486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is fixed in v1.39, using the new 4th parameter. <br><br></td></tr></table><br>
<a name="383671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cold Harbour</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yeah, missed that.  Ta.<br><br>/embarrassed <br><br></td></tr></table><br>
<a name="383672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> The manual,even v1.39 of it, only list 3 parameters. <br><br></td></tr></table><br>
<a name="497958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using 1.40 and the fourth parameter is completely ignored. It still goes back to my documents no matter what. <br><br></td></tr></table><br>
<a name="497972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like it was broken again in v1.40. :/ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
