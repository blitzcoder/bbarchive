<!DOCTYPE html><html lang="en" ><head ><title >internet connection status</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >internet connection status</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >internet connection status</a><br><br>
<a name="782811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timjo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way within blitzplus to determine whether or not my computer is connected to the internet.  As in START - Connect To - Show All Connections - which shows your internet access status (connected/disconnected). Thanks.   TimJo. <br><br></td></tr></table><br>
<a name="783013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nebula</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Read a pixel from the desktop if you have a online icon. <br><br></td></tr></table><br>
<a name="783163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timjo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I know what you're getting at, Nebula, but how would you know whereabouts to read the pixel on the desktop ? Clever solution though. <br><br></td></tr></table><br>
<a name="783191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not too clever, if the icon is shown in the system tray (which it should), it can be in a different location every time. <br><br></td></tr></table><br>
<a name="783193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://msdn2.microsoft.com/en-us/library/ms647415.aspx" target="_blank">http://msdn2.microsoft.com/en-us/library/ms647415.aspx</a> <br><br></td></tr></table><br>
<a name="783358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timjo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's not too big a problem - as I can scan across the system tray - the problem is that if the mouse pointer is over the icon when I check for it's existance it can mess things up.<br>Is there a way to temporarily hide the pointer when over the desktop/system tray  - as I check ? - the hide/showpointer commands only work with canvases. <br><br></td></tr></table><br>
<a name="783377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timjo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... after a quick re-check - the mouse pointer doesn't seem to affect this after all.  (I expect the more technically aware of you out there know why it doesn't seem to register with a readpixel command - maybe a sprite or something - I don't know). <br><br></td></tr></table><br>
<a name="783642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Create a file called "url.decls" in your blitzplus\userlibs folder (by default: C:\Program Files\BlitzPlus\userlibs), copy and paste the following...<br><br><pre class=code>
.lib "url.dll"

InetIsOffline%(dwFlags%)
</pre><br><br>Save the file and go into your IDE, test the following code..<br><br><pre class=code>
Notify InetIsOffline%(0)
</pre><br><br>If it returns 0, that means your connected to the internet, if it returns 1 that means your not connected. <br><br></td></tr></table><br>
<a name="783666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm... Any ideas on how to call that one from BlitzMax? <br><br></td></tr></table><br>
<a name="783713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> So far I've got this<br><br><pre class=code>
SuperStrict

Extern "win32"
	Function LoadLibrary:Int(name$z) = "LoadLibraryA@4"
	Function GetProcAddress:Byte Ptr ( Library:Int , Name$z )
EndExtern


Local urld:Int = LoadLibrary( "C:\WINDOWS\system32\url.dll" )
Local InetIsOffline:Int(dwflags:Int) = GetProcAddress ( urld , "InetIsOffline" )


Notify InetIsOffline:Int(0)
</pre><br><br>Connected or not, it will always return 0, dunno what I did wrong here.. <br><br></td></tr></table><br>
<a name="783752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timjo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried the 'url.decls' thing in BlitzPlus - but it gave me '0' whether connected on not connected. <br><br></td></tr></table><br>
<a name="783971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alaric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> How is he supposed to call a command from a dll that doesn't exist?  Won't he need to copy the C:\windows\system32\url.dll to his blitzplus userlib directory first? <br><br></td></tr></table><br>
<a name="783975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Plash: That's pretty much exactly what I tried as well, with the same results. :-? <br><br></td></tr></table><br>
<a name="784039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alaric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Returns TRUE if the local system is not currently connected to the Internet. Returns FALSE if the local system is connected to the Internet or <b>if no attempt has yet been made to connect to the Internet.</b>  I got this from msdn, I'm not sure what exactly the last line means, but it could be your problem. <br><br></td></tr></table><br>
<a name="788447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sonari Eclipsi Onimari</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oksy, how about this<br><br><pre class=code>

tcp=opentcpstream("www.google.com",80)
if not tcp then notify "NOT CONNECTED!"

</pre> <br><br></td></tr></table><br>
<a name="788469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >William Drescher</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alaric,<br>That last part, "if no attempt has yet been made to connect to the Internet," basically means that if the computer hasn't checked to see if it's still connected, and it's not, it's going to tell you that it's still connected to the internet <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
