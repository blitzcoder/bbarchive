<!DOCTYPE html><html lang="en" ><head ><title >Need function to set mouse pointer that WORKS.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Need function to set mouse pointer that WORKS.</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Need function to set mouse pointer that WORKS.</a><br><br>
<a name="492591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1289" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1289</a><br><br>That is the current mouse pointer function I am using...  <br><br>It will set the mouse pointer under most circumstances, but I'm having one problem with it.<br><br>For some reason when I recalculate my textures, the pointer, which I have changed to an hourglass, turns back into an arrow in the middle of the operation.<br><br>I have checked and rechecked my code, and nowhere do I call setpointer, showpointer, or hidepointer in the middle of this operation.  <br><br>I call showpointer and hidepointer nowhere in my code, and the only place I call setpointer is in my main input loop, which is not run while this function is executing, and at the start and end of this function.<br><br>Something in the function... creating new chances, showing/hiding canvases, showing hiding sliders... is causing the pointer to revert.  <br><br>And the weird thing is that calling setpointer multiple times in the funtion to try to reset it back to an hourglass has absolutely no effect.  It still changes back to an arrow at the same time every time.<br><br>Now, the windows docs say setpointer will not set the pointer if you're setting the same pointer as the last call.  Fair enough... So I set the pointer to no pointer, and then set it to the hourglass.  <br><br>Still no change.  Pointer still stays an hourglass for about half a second and then reverts to an arrow.<br><br>Function also says that pointer will revert is the window class default pointer is not set to null and the mouse is moved.  I really didn't want to screw with window classes, so I was careful to make sure I didn't move my mouse after I began the operation.  Pointer still changed back to an arrow.<br><br>I know other folks have posted pointer code to the code archives, so some other folks out there must be changing the pointer in their apps.  Has anyone run into this? <br><br></td></tr></table><br>
<a name="492636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have to set the window's 'class cursor' to Null, or else Windows resets it constantly.<br><br>Try <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/windowing/windowclasses/windowclassreference/windowclassfunctions/setclasslong.asp" target="_blank">SetClassLong</a> with the cursor value (GCL_HCURSOR = -12) set to Null and see if that does it... <br><br></td></tr></table><br>
<a name="492641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a bunch, that worked like a charm.  I'll update the code archives entry to include this. :-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
