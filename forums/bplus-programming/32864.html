<!DOCTYPE html><html lang="en" ><head ><title >TCP in Blitz</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TCP in Blitz</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >TCP in Blitz</a><br><br>
<a name="352961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jbomhold</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got a magjor problum with the tcp server in blitz. When I try to use it over the internet it will connect but wont send or get packets. Works fine if I use a visual basic server but then if I do it that way the closes the connection in blitz client. I would like to go all the way with blitz as server and client but need know why I'm not geting packets when I go over the internet. I works on lan just fine.<br><br>John <br><br></td></tr></table><br>
<a name="352966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jbomhold</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> TO add more to that incoming works but not out going and I don't have a firewall setup <br><br></td></tr></table><br>
<a name="352975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jbomhold</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK got it I was packet flooding I gess with my ping function. Now that brings upa new question how do I set a time out on the connection. SO my users don't get stuck in <br><br></td></tr></table><br>
<a name="353438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jbomhold</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If someone could plz send me a working copy of a tcp server/client I can go from there (the one in archives isn't working for me) <br><br></td></tr></table><br>
<a name="353440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kuron</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Posting just so you don't feel ignored ;c)  I can't help you.  The 2D project I am working on (and actually considering porting to B+) uses an old thirdparty 2D engine.  It has directplay functions built in and that is what I am using.<br><br>Perhaps there are some tutorials at Blitzcoder that may help you with the multiplayer stuff?  If it is still being sold, Krylar's book gives very indepth on multiplayer, but it uses a thirdparty DLL.<br><br>Please forgive any typos.  I left my glasses in the other room, and I have 20/200 vision. <br><br></td></tr></table><br>
<a name="353455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kanati</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> look into using blitzplay.  I think the original is still free to use.  It's easier to use than the built in commands. <br><br></td></tr></table><br>
<a name="353591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The timeout: Have a var where you store the Millisecs() value every time a packet is recieved, then if Millisecs()-variable is too high, close the connection. You should send a dummy packet from the counterpart every once in while to make shure that the connection does not time out. <br><br></td></tr></table><br>
<a name="353989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jbomhold</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok UDP vs TCP I seen something that says udp is fast is it? Trying something as you read probly on tcp server ill let ya know if I get it to work.<br><br>John <br><br></td></tr></table><br>
<a name="353994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jbomhold</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope nothing heres accept readline code I got. Agine it works of me but no one else. And it can't be the router becuase im using my net ip so it runs though it and back just fine.<br><br>strStream = AcceptTCPStream(svrGame)<br><br>If strStream<br>	<br>	received_stream$ = strStream <br>	<br>	If ReadAvail(strstream) <br>		message$ = ReadLine$(strStream)<br>		DebugLog message$<br>	EndIf<br><br><br>	Else<br>	For c.client = Each client <br>		If ReadAvail(c\stream)  Then<br>			received_stream$ = c\stream<br>			the_user$ = c\uid$<br>			c\pingtry=0<br>			message$ = ReadLine$(c\stream)<br>			DebugLog message$<br>			Exit<br>		EndIf<br>	Next<br><br>	EndIf<br>EndIf <br><br></td></tr></table><br>
<a name="353995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jbomhold</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> befor you say it I know code is same as the chat server. once I get it to work at all ill change it <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
