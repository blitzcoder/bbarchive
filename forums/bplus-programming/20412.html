<!DOCTYPE html><html lang="en" ><head ><title >Is this bad to do ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Is this bad to do ?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Is this bad to do ?</a><br><br>
<a name="208270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
repeat
    myimage=createimage(10,10)
    freeimage(myimage)
until keydown(1)=true
</pre><br><br>would this have any adverse effects ? <br><br></td></tr></table><br>
<a name="208273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um, what's the point?  What are you trying to accomplish? <br><br></td></tr></table><br>
<a name="208274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't ask that, I asked would it have adverse effects ?<br><br>Example<br><pre class=code>
for a=1 to 10
    mybuffer=createimage(a,a)
    freeimage mybuffer
next
</pre><br><br>Say I had a buffer image ... maybe for a text box. If i was often freeing the iamge, resizing (using createimage)  and then redrawing to it, would it cause bad effects with memory ? <br><br></td></tr></table><br>
<a name="208278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It might cause memory fragmentation after a while, but that would happen with anything where you're allocating/freeing small bits of memory constantly. <br><br></td></tr></table><br>
<a name="208279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also if it did not have adverse effects it would be possible to do<br><br><pre class=code>
Function ResizeImageCanvas(Image,NewWidth,NewHeight)
    NewImage=createiamge(NewWidth,NewHeight)
    copyrect(0,0,imagewidth(Image),imageheight(Image),0,0,imagebuffer(Image),imagebuffer(NewImage))
    freeimage Image
    return NewImage
End function
</pre> <br><br></td></tr></table><br>
<a name="208280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eventually you might notice the effects of fragmented memory, but it shouldn't cause you big problems.  It would be best to avoid it if possible, but if not go for it. <br><br></td></tr></table><br>
<a name="208283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, that has not given the 100% I was hoping for, I will look for an alternative method :)<br><br>thanks <br><br></td></tr></table><br>
<a name="208293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Seem to recall I did something similar to this a while back in some old windows stuff.  Don't remember any particularly bad effects.  Doing this quite a lot did not seem to adversely effect video memory or fps. Could be there is a better way though I can't think of anything else at the moment. <br><br></td></tr></table><br>
<a name="208323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have just gone with not buffering. Will mean there is more video ram for animations and other things later on. <br><br></td></tr></table><br>
<a name="208492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my GUI I use ALOT of;<br><br><pre class=code>
FreeImage img
img=CreateImage(New_Width,New_Height)
</pre><br><br>I use this for Resizing the Windows which are Image based. I have seen no problems at all. :)<br><br><br>L8r, <br><br></td></tr></table><br>
<a name="208547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like people said doing it enough will eventually lead to memory fragmentation. It will be especially noticable on Windows95/98/Me and on computers with only "small" ammounts of memory (small as in less than 256MB). If you've got more than 256 Megs of RAM and a NT (or GNU/Linux/FreeBSD) based operating system, it shouldn't have much impact.<br><br>Instead you could perhaps just create the image as big as you'll ever need it and use some of the "ImageRect" commands to only render parts of the graphics. This would be a more "MMU friendly" way of handling resources. <br><br></td></tr></table><br>
<a name="208556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats good to know. But I have not seen any fragmentation. As the system operates now.<br><br>L8r, <br><br></td></tr></table><br>
<a name="227271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oldefoxx</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Memory allocation is handled by the operating system.  It attempts to allocate new memory from what is currently available but not assigned.  If you are requesting and releasing memory in the same amounts, it should not result in any significant change in the allocation strategy.  There is an excellent chance you will reclaim much of the same memory that you had requested and released earlier.<br><br>But the memory has to be consecutive.  If windows does not have a large enough unallocated block, it then attempts to find some way to recluster the assigned memory to create a larger block that will meet your need.  It can also attempt to unload one or more processes from physical memory into virtual memory on the hard drive (the Swap memory area) to meet your need.  This can result in a significant slowdown of your machine.<br><br>Several products attempt to optimize memory usage of your system my attempting to free memory that is tied to processes that are no longer running, or to condense memory into tighter structures so that there are more large blocks available to the memory allocation process when it needs them.  If these work as intended, you may find that your machine performs better overall.  You may also find that there is less liklihood that the cycles described above will seriously effect performance of your system.  Some of these utilities have names like TurboMem, Memory Zipper, and so forth.  I personally use Memory Zipper, having done speed trials of several products, and found that it keeps more memory open and my machine tends to run faster.  But I have not tried every program of this nature out there. <br><br></td></tr></table><br>
<a name="227430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe a direct access command aside from pre-loading is a good idea...<br><br>Maybe nice to implent in Blitz...<br><br>So let's say...<br><br><pre class=code>
Global B = LoadImage("Image.bmp")  ; Preloading

DiskImage "Image.bmp",10,10        ; Put directly on the screen without preloading at location (10,10)
</pre><br><br>Idea? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
