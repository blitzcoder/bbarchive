<!DOCTYPE html><html lang="en" ><head ><title >TYPE within TYPE</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TYPE within TYPE</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >TYPE within TYPE</a><br><br>
<a name="330478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lazze</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible to use a TYPE within a TYPE?<br><br>I have tried doing something like this <br><br>Type A<br>Field something<br>End Type<br><br>Type B<br>Field something<br>Field c.A<br>End Type<br><br>If I then add a number of B's and add a number of c.A's in different B's I end up getting all of the c.A's in every B - if you get my point. Unfortunately I can't show the actual code since I rewrote it to use to seperate types instead.<br><br>Lazze <br><br></td></tr></table><br>
<a name="330570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whenever you create a new instance of a custom type, that type instance is tacked onto the global linked list for that type.  In other words, everytime you use the New &lt;whatever&gt; command, your &lt;whatever&gt; list will become one item longer.<br><br>What you're thinking intuitively isn't done automatically.  In each instance of type A, you should store the type pointers to type B that make sense.  Don't iterate through them (For..Each), because, like you said, you'll just iterate through all of them.<br><br>It just requires a differnet way of understanding how custom types work.  Am I helping at all?  =) <br><br></td></tr></table><br>
<a name="330585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lazze</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think so, but how do I point from Type A to Type B? <br>As I mentioned earlier i rewrote it all, and instead of using Type in Type I use a indexnumber to connect to Type's. Not as neat as my original idea, but it's working :o).<br>It's not very efficient though, 'cause my app involves a lot of inserting and deleting in these two Type-sets, and to keep track of the unused indexes I have to run through the instances again and again. That's what I wanted to avoid.<br><br>Lazze <br><br></td></tr></table><br>
<a name="330594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I'm not sure what your algorithm is doing, so I can't give any specific advice, but perhaps these general items might help:<br><br>First, a (Custom) Type Declaration, as you know, is the "Type...Field...End Type" construct.  Now, to clarify the difference between Type pointers and Type instances.  A type instance is what's created here, AFTER the = sign, and a type pointer is what's created BEFORE the = sign.<br><br>Var.A = New A<br><br>Whenever "New &lt;type&gt;" is used, Blitz allocates a chunk of memory for a new instance of all the fields of that type.  It then inserts it into the global type list for that particular type declaration.  (i.e. every kind has its own list.)  These can be referenced by using the commands First, Last, Each, Before, After, etc.<br><br>A type pointer is essentially just a value pointing to a single type instance.  Once declared, it can point to any instance or none, and it can be local or global, like here:<br><br>Global var.A<br><br>In this case, var = Null (not pointing to any instance).  You could later do any of these:<br><br>var = First A<br>var = Last A<br>var = After First A<br>var = var2 (assuming var2.A was previously declared)<br>For var = Each A (in which case var will be iterated through the entire list from First to Last)<br><br>Type pointers can be part of other constructs, including other type declarations, like you did above.  They can also be part of arrays.<br><br>Dim vars.A(20)<br>Local vars.A[20]<br><br>...<br>So, having said all that, perhaps it gives you a better idea of how custom types are managed in Blitz, and consequently give you a better idea of what constructs and data types/structures you want to use. <br><br></td></tr></table><br>
<a name="330665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >R0B0T0</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want each type instance to contain its own personal list of sub-types (so in your example each B having its own list of A types), you need to use either linked lists or a type array.  A type array would look like the following: <br><br>Type B <br>Field something <br>Field c.A[20]<br>End Type <br><br>the downside is you have to specify how many types are contained in the array ahead of time, and you cannot redimension the type array.<br><br>A linked list would look like the following:<br><br>Type A <br>	Field something<br>	Field parent.a<br>	Field child.a<br>End Type <br><br>Type B <br>	Field something <br>	Field first.A <br>End Type <br><br>The first.A type would contain a pointer to the first A type in the list, and then each successive A type would point to the next type in the list and the previous type in the list.<br><br>The benefit of this method is that you can add and subtract types dynamically, the downside is that its more complicated to keep track of.<br><br>Either method requires custom functions to add/remove/iterate through the list of A types, you won't be able to use Blitz's first, last, next, each etc. <br><br></td></tr></table><br>
<a name="331579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which in fact isnt that hard at all really<br><br>temp.a=b\first<br><br>' iterate through linked list<br>while temp&lt;&gt;null<br> temp=temp\child<br>wend<br><br>and ya you would need functions to delete, add, and insert types from/into the list<br><br>I use this system all the time.<br><br>Skully <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
