<!DOCTYPE html><html lang="en" ><head ><title >Can B+ Programs run after you tab out?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can B+ Programs run after you tab out?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Can B+ Programs run after you tab out?</a><br><br>
<a name="266565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tabbing out of an application seems to halt execution until I tab back. Is it possible to avoid this, so that a program can run in the background? <br><br></td></tr></table><br>
<a name="266603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try:<br>Autosuspend False <br><br></td></tr></table><br>
<a name="266614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ooooh, thanks :)<br><br>I wondered what that was for. I saw it in one of Rob's sample programs, and I tapped F1 twice to see what it did, but it wasn't found in the help, so I forgot about it for the timebeing. <br><br></td></tr></table><br>
<a name="266627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, nope. Makes no difference. I was running in a window, so I guess it was already set to false. Still my little server app does nothing unless it has focus. <br><br></td></tr></table><br>
<a name="266673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It must be the way you have it set up.  Consider this program.  It works find even without the focus.<br><br><pre class=code>
CreateTimer(1)
w = CreateWindow("Test Window", 10, 10, 200, 150)
t = CreateLabel("", 10, 10, 100, 20, w, 1)
While WaitEvent()
	Select EventID()
		Case $803 : End
		Case $4001 : i=i+1 : SetGadgetText(t, i)
	End Select
Wend
</pre> <br><br></td></tr></table><br>
<a name="266828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> My main loop looks exactly like that, albeit with a few calls to readavail() to check the incoming streams, so I guess that's not the problem.<br><br>However, I don't use any timer. That's not crucial, I assume? Just to get it to do something once a second, yes? <br><br></td></tr></table><br>
<a name="266851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I think I see the problem now. The program is executing on it's own. That's fine. <br><br>The problem is that incoming data on a stream doesn't register as an event. So WaitEvent() is sitting there waiting for me to tab back into the application, at which point, it checks the streams which are checked elsewhere in the main loop.<br><br>So the question is : how can I get the program to keep checking the streams since they don't generate an event? Do I need to use a timer? And if I do, won't that increase the amount of CPU time the program is using? <br><br></td></tr></table><br>
<a name="266878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think using a timer would be the best course of action.  <br><br>It will (of course) increase the CPU time the program uses, but not much.  What is has to do is very little, and 60 times a second (or whatever) isn't that much in terms of modern CPUs.<br><br>Just cut and paste the program above and try it.  On my system, it doesn't even register (it stays at 00% whether the timer event is 1 Hz or 60 Hz).  So whatever CPU time it will use will probably be more dependant on stuff you add (like checking streams, et al). <br><br></td></tr></table><br>
<a name="266893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Binary_Moon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> add a number to the waittimer command<br><br>waittimer(50) will update every 50 millisecs wether there is an event or not. <br><br></td></tr></table><br>
<a name="266916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, thanks guys. I've tried it with a timer, and I can have both server and client running, and it never goes about 5% cpu usage. Mostly it's 1%. That's perfect. <br><br></td></tr></table><br>
<a name="266920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Binary_Moon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> DOH! I didn't mean waitTimer. I meant waitevent()<br><br>use <br><br><pre class=code>waitevent(50)</pre><br><br>The waitevent command has a time out option which makes it update even if there are no events. <br><br></td></tr></table><br>
<a name="266927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh cool, I hadn't noticed that WaitEvent could take a value. Thanks Ben. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
