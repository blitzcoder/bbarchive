<!DOCTYPE html><html lang="en" ><head ><title >Determining exact point of collision</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Determining exact point of collision</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Determining exact point of collision</a><br><br>
<a name="410666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using Blitz's pixel perfect collision detection functions, and they're working fine and danady. The trouble is, I now need to know the exact point a collision took place. For example:<br><br>I have two images; a sword and a ball. I'm checking to see when the sword has touched (punctured?) the ball. ImagesCollide tells me when this has taken place, but I now need to know the point where the sword connected with the ball (or at least one of the points where they touch). With me?<br><br>Any ideas how I could achieve this? <br><br></td></tr></table><br>
<a name="410705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way could be, while the sword and the ball collide, to check for collision again, this time between special points you want to test.<br><br>Say your sword collides with the ball. Now, in this case, you can do any other collision test between other images - or rectangles - placed where you like on the sword, and the ball. Since images don't need to be drawn on the screen in order to perform the collision, you can achieve this with few other collision tests.<br><br>Anyway; are you sure you need such a collision detail ? If a sword hits a ball, the ball would be broken in any case, right ? Wouldn't be easyer just destroy the ball if a sword has hit it ? Just a thought...<br><br>Sergio. <br><br></td></tr></table><br>
<a name="410758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another possible way might be : <br><br>If your sword is just a straight line then you can imagine a straight line going along the centre of the length. If you know the points from the tip and the base of the sword then a you can quickly calculate points along the length. Depending on how accurate you want to be you then split the length into points. So.. you may decide you only need 6 points along the length of the sword. For each point along the line of the sword you find the x and y distance to the centre of the ball and then find the ditance squared ( xdistance * xdistance + ydistance*ydistance ). Do this for each point and the point with the shortest distance to the ball centre is the closest to the point of contact. It might not be pixel perfect but might be good enough. <br><br></td></tr></table><br>
<a name="410787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The sword and ball scenario is just one example. I also need to test projectiles (bullets, rocks, fire) against player sprites. Why do I need to know the point of contact? I want to add a visual effect (animated blood, popping animation etc) at the point of impact.<br><br>Thanks for the suggestions. <br><br></td></tr></table><br>
<a name="411039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.. I dont have access to my machine so its going to be vague again.<br><br>You going to have to do the pixel perfect check again yourself.<br><br>First calculate the rectangle in each sprite for the overlap.<br><br>+---+<br>|   |<br>| +-+--+<br>| | |  |<br>+-+-+  |<br>  |    |<br>  +----+<br><br>for example you might find the overlap on the first sprite is x=5, y = 5, x=16, y=16 and sprite 2 is x=0, y= 0, x = 11, y=11.<br><br>Now you can check each pixel within the rectangle in sprite 1 with sprite 2. If both are solid colours then that is one of the pixels where the collision occurs.<br><br>Of course you might find that simply using the centre of the overlay rect might be sufficiently close to use as the point of contact depending on the sprites and speeds. <br><br></td></tr></table><br>
<a name="412642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, it look like I'll be doing it manually. I just wondered if anyone had written an algorithm that simplified the process. Thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
