<!DOCTYPE html><html lang="en" ><head ><title >crazy cursor - why?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >crazy cursor - why?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >crazy cursor - why?</a><br><br>
<a name="251214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hpb</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br>Why does the following code work in blitz3d and not in blitz+.<br><br>[Edit] Sorry this was the wrong code, see my post beneath.<br><br>In blitz+ the cursor plays crazy.<br>Does somebody know why?<br><br>HP <br><br></td></tr></table><br>
<a name="251412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >okee</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> for a start the line<br>MoveMouse GraphicsWidth()/2, GraphicsHeight()/2 <br>is within the loop so it's going to move to that position every time it loops hence the crazy movement. <br><br></td></tr></table><br>
<a name="251492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hpb</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry I'm an idiot :-)<br>I had two code snippets (from friends) and took the wrong one. The following is the code with the really crazy cursor movement.<br><br>Graphics 800,600,16,1 <br>SetBuffer BackBuffer() <br><br>Repeat <br>   mausxspeed = 0 <br>   mausyspeed = 0 <br>   mausxspeed = MouseXSpeed() <br>   mausyspeed = MouseYSpeed() <br>   Text 500,200,mausxspeed <br>   Text 500,300,mausyspeed <br>   FlushMouse <br>   If mausxspeed &lt; -12 Then mausxspeed = -12 <br>   If mausxspeed &gt; 12 Then mausxspeed = 12 <br>   If mausyspeed &lt; -12 Then mausyspeed = -12 <br>   If mausyspeed &gt; 12 Then mausyspeed = 12 <br>   MoveMouse oldx+mausxspeed,oldy+mausyspeed <br>   oldx = MouseX() <br>   oldy = MouseY() <br>   Rect MouseX()-2,MouseY()-2,5,5,1 <br>   Flip <br>   Cls <br>Until KeyDown(1) <br>End<br><br>Sorry for the inconvenience. Hope someone can help me with this one. Thanks okee for your answer.<br><br>HP <br><br></td></tr></table><br>
<a name="251512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cyberseth</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's to do with this:<br><pre class=code>Graphics 800,600;,16,1 
SetBuffer BackBuffer() 

Repeat
Cls
x=x+1
MoveMouse x,10
Text 10,10,MouseXSpeed()
Flip

Until KeyDown(1) 
End</pre><br><br>Even though you don't move the mouse manually, because the mouse is being moved by "MoveMouse", the MouseXSpeed is updated as 1 each frame. This is not the same in Blitz3D and I don't know why. But suffice to say you'll need to work that into your code. When you call MoveMouse, the MouseXspeed/MouseYSpeed are updated to account for the new mouse position!! <br><br></td></tr></table><br>
<a name="251518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pepsi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also note that even the documentation for MouseXspeed/MouseYSpeed notes that you should call these commands twice in your loop. The second call should "zero" them out. Keep your current MouseXspeed/MouseYSpeed in where it is and try also putting:<br><br><pre class=code>
mausxspeed = MouseXSpeed() 
mausyspeed = MouseYSpeed() 
</pre><br><br>again, right before the flip command and see if that helps out any.<br><br>And to continue off off what cyberseth said... the problem with your code above is that the variables mausxspeed &amp; mausyspeed will always keep the last mouse movement difference even if you are not moving the mouse. So the positive or negative number will continuely move your rect cursor about the screen until it hits a screen border. The need for the second set of MouseXSpeed() and MouseYSpeed() is needed at the end of the loop, before flip, to zero the data MouseXSpeed()/MouseYSpeed() out. So when that second set is there and when you dont move the mouse, there shouldn't be any "crazy" movements involved.<br><br>Hope this helps... <br><br></td></tr></table><br>
<a name="251913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hpb</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot, this helps.<br>I also had to put a timer into the loop otherwise the mouse movement becomes snatchy.<br><br>HP <br><br></td></tr></table><br>
<a name="252054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cyberseth</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Better yet, Pepsi, put the second MouseX/YSpeed just after the MoveMouse command, so that if the user moves the mouse any time between then and the Flip, it doesn't get cancelled out. <br><br></td></tr></table><br>
<a name="252227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pepsi</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good call, cyberseth! :D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
