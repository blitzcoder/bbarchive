<!DOCTYPE html><html lang="en" ><head ><title >problem with setgadgetshape()</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >problem with setgadgetshape()</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >problem with setgadgetshape()</a><br><br>
<a name="872105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scythy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello together,<br><br><br><br>Testcode:<br><br><pre class=code>

window = CreateWindow("",0,0,1024,768,0,5)
canvas = CreateCanvas(0,0,1280,1280,window)

SetBuffer CanvasBuffer(canvas)

Oval 50,50,500,500,1

SetGadgetShape canvas,0,0,1024,1024 

While WaitEvent(1)&lt;&gt;$803 And KeyHit(1)=0
Wend
End

</pre><br><br>Problem:<br><br>My display has a resolution of 1280x1024,  when i draw the window with my code in 1024x768 everything is fine. <br><br>When i change my displays resolution to 1024x768 and draw the window, the oval is an egg :-(<br><br>The geometry of the canvas seems to be wrong, when display and window resolution are the same.<br><br>Where is my fault, and how can i solve the problem?<br><br>Thanx in advance <br><br></td></tr></table><br>
<a name="872195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy_A</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> A display of 1280x1024 has an aspect ration of 5:4 (width =5*256, height=4*256) when you change to 1024*768 your aspect ratio changes to 4:3 (width=4*256, height=3*256) so you end up with an oval instead of a circle.<br><br>I'm not sure why this is happening because when you change your resolution the aspect ratio should also change, but in this case it isn't. As a work around you could change the dimensions of the oval to reflect the change in aspect ratio to either 500x375 (4:3 ratio) or 500x400 (5:4 ratio) dependent on screen res. <br><br></td></tr></table><br>
<a name="872227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you were using MaxGUI with BlitzMax, you could respond to the EVENT_GADGETPAINT command using an event hook so that the canvas is redrawn precisely when needed. I'm pretty sure that this is one of the many new events that weren't available in BlitzPlus. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
