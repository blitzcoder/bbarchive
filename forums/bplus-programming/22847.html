<!DOCTYPE html><html lang="en" ><head ><title >Recursion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Recursion</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Recursion</a><br><br>
<a name="235009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oldefoxx</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you haven't tried recursive calls, you might be interested in the following effort.<br><br>Note that there is a function test#(), and within the<br>function, a local variable test#.  Since that is allowed,<br>I use the local variable to track what I intend to return<br>when I exit the function.<br><br>See if you can figure out what is going on and why.<br><br>Function test#(parm)<br>test#=parm+1<br>If test&lt;10 Then Print test(test)<br>Return test<br>End Function<br><br><br>Print test(0)<br>Print test<br>WaitKey()<br>End <br><br></td></tr></table><br>
<a name="235074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >&lt;Death&gt;</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your functions works, it just looks funny.<br>Every time you call test again, the new value gets pushed onto the stack:<br>1,2,3,45,6,7,8,9,10<br><br>then when print finally get control of it it pops the values off the stack, and presto"<br>10,9,8,...<br>The last number your function pushed on the stack is 10 and it gets popped first, of course, that why you see a reverse order of the numbers you expected. This probably wouldn't be an issue if you didn't call test again with the value of the parameter, all dished to the print function, which can't print a value yet, because the function has to execute to return the value to be printed. And so on... <br><br>When everything is done, print finally gets the values to be printed (popped from stack-&gt; last being first etc) and executes, that why you see the "unexpected" reversing.<br><br>If you change the code to this:<br><br>Function test#(parm) <br>test#=parm+1 <br>If test&lt;10 Then <br>    Print test<br>    test(test) <br>endif<br>Return test <br>End Function<br><br>you will probably get what you expected. This is NOT a BB bug, its a logic error on the programs behalf...<br><br>Hope that helps... <br><br></td></tr></table><br>
<a name="235078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I enjoy your inquisitive mind.<br><br>Gremlins have taken over your machine and caused it to start counting backwards.  <br><br>Just kidding. =)<br><br>Actually, it seems like a textbook example of recursion.  You initially call the function Test with a parameter of 0.  The meat of the function is essentially a statement that adds 1 to Parm.  After that, it reaches a base case test.  The test is whether Parm + 1 &gt;= 10.  If it not, then the function calls itself with Parm + 1 as the new parameter.  A copy of the variable scope (parm, test#) gets placed on the (function call) stack, and the new iteration of Test#(parm) begins.  This repeats until Parm + 1 = 10.  At this point, there are 10 function calls on the stack to Test#(), each with different variable scopes.  Finally, a Return statement is reached, and so "10.0" is finally returned as the evaluated part of the Print statement, and is indeed printed.  It isn't until this (the 9th) call of Test that it actually reaches the "end function" statement for the first time.  This continues, each function recursively popping off the stack, until you're left with the original call, which returns 1, and happily prints it.  The final print is 0 (test#=0), because it is outside of the function scope.<br><br>Note that the more you do this, the more memory is used to keep track of the function call stack.  Large, hungry recursive functions have been known to bring systems to their knees, which is why most programmers prefer the iterative version of a function, rather than the recursive function, unless it is a particularly elegant solution.<br><br>One of the reasons this works is because it relies on the local scope of the function.  Try declaring Test# as a global and see what happens.  =) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
