<!DOCTYPE html><html lang="en" ><head ><title >Advice on Multiple Sounds</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Advice on Multiple Sounds</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Advice on Multiple Sounds</a><br><br>
<a name="546300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have wrestled with this before and thought it is about time for a topic.<br><br>In my (B+) game there are many aliens which you shoot.  If several explode at once or very soon after each other I have several options:<br><br>a) play every explosion, not stopping any channels, BUT this can result in much too loud noise as many samples play at once.<br><br>b) only have one channel and use Stopchannel before each new explosion noise BUT when many explode shortly after each other the stopchannel causes a horrid clicking as the sample cuts and restarts.<br><br>c) a hybrid of a and b such as having 3 channels that you rotate and you do you the stop channel method.  This is better but there is still a horrid clicking.<br><br>d) check to see if the channel is playing and if so, don't start a new explosion noise (bit lame?)<br><br>e) write some code to fade a channel in a few millisecs instead of stopping it dead in a hope to avoid the clicking sound.  Could be a fag.<br><br>f) Try a different sample I suppose to avoid clicking or it being too loud.  Could the problem be that I am using an old 8 bit sample?  Mind you I have had this problem with other samples that I sure are 16 bit.<br><br>How have you done it in your games?  Any advice is very welcome, thanks in advance.<br><br>On a side note, I noticed that when blitz plays modules, certain tracking techniques cause it to make clicks such as the cut channel (by using caps lock key in FT2).  But the mods play fine in the tracker and other tracking utilities.  Does this mean that the blitz plus mod player (and sample playing code) is inferior? <br><br></td></tr></table><br>
<a name="546301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> On that last one: I know that Impulse Trackter for example uses fast volume-ramps to fade-in samples (50 samples orso).. dunno about note-off's, but since I use NNA-fade always, a sample fades-out anyway here..<br><br><br>also consider:<br><br>g) use channels as you need, but to prevent loudness, keep track of the number of channels you're using and adjust the volumes of all channels. This is like having a voice-duck on radio (music gets played softer when the DJ talks). <br><br></td></tr></table><br>
<a name="546346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok thanks.  Whats NNA-fade?<br><br>I had considered g) but forgot to list it.  Would you recommend a 50% reduction if only one sound is currently playing?  What about if 2 sounds are playing (both already at 50%), play new one at 33% and reduce other two to 33%?  Will this reduction of volume sound odd if a sample has already started played and suddenly it is at half vol? <br><br></td></tr></table><br>
<a name="546364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh uh, NNA is New Note Action .. introduced in Impulse Tracker. It means that you work with visual and internal channels (cycling!). With the NNA you define what should happen when a new note on the same visual channel occurs. In IT you can choose between: note cut, continue, note fade, note off (continues with the envelope).<br><br><br>And regarding levels: one sound = 100%, 2 sounds together = 100%, 3 sounds together = 100% .. etc.<br>So, volume_per_sound = 100%/amount_of_sounds..<br><br>makes sense to me at least ^_^<br><br><br>anyway.. how many sfx at the same time were you having in mind anyway?<br><br>I'd simply add them all together, and give the user 2 controllers: sfx-level and music-level.<br>Some gain could be made from processing the sfx. If you get rid of the low-end you've some more headroom to prevent clipping. If you get rid of the mid-area (around 3k) then you save on the area on which the human ear is most sensitive.. chances are that you can add more sfx together then without irritating the user.<br><br>So in the end: reconsider option (a) <br><br></td></tr></table><br>
<a name="546538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get it, you use NNA - note fade for smoother cut off, thats what I was talking about coding.<br><br>Yeah, my example of 2 @ 50% and 3 @ 33% yields a total of 100%.<br><br>I basically may need to play loads of samples at once, image a powerful weapon killing multiple enemies at same time or slightly after each other (millisecs apart), this could result in 10+ sounds which makes a horrid clipped loud noise.<br><br>So filtering the sample could be the key, unless I want to write volume ramping code (what a fag).<br><br>Anyone else got anything to add? <br><br></td></tr></table><br>
<a name="546560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried an option where I cycle 3 channels for explosions and test if the current channel is still playing, and if so I don't play a new explosion.  This means that explosions are not played for every death but when there are so many you don't really notice.  Could be an answer. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
