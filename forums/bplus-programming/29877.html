<!DOCTYPE html><html lang="en" ><head ><title >CreateTimer(1000) vs CreateTimer(1001)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CreateTimer(1000) vs CreateTimer(1001)</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >CreateTimer(1000) vs CreateTimer(1001)</a><br><br>
<a name="317400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is anyone else seeing this strange behavior in Blitz+?<br><br>The following code seems to ignore the timer entirely.<br><pre class=code>
window=CreateWindow("WHOOPS",0,0,100,100)
canvas=CreateCanvas(0,0,100,100,window)
SetBuffer CanvasBuffer(canvas)
timer=CreateTimer(1000)

Repeat
	Cls
	Text 0,0,MilliSecs()

	FlipCanvas canvas

	WaitTimer(timer)

Until KeyDown(1)
</pre><br><br>However, if you change the 1000 to 1001, the program freezes.  <br><br>Can anyone duplicate this? <br><br></td></tr></table><br>
<a name="317430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is that a no? <br><br></td></tr></table><br>
<a name="317436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same odd behaviour here. <br><br></td></tr></table><br>
<a name="317462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess this means that one millisecond is the smallest measurable time interval.<br><br>CreateTimer(1000) makes the interval exactly 1/1000 of a second.<br>This is the smallest possible 'clock tick'. <br><br></td></tr></table><br>
<a name="317552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr Brine</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> weird city <br><br></td></tr></table><br>
<a name="317663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> So why does it freeze with 1001? <br><br></td></tr></table><br>
<a name="317775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my opinion this looks like a bug. It should not freeze like that. <br><br>In addition, I ran IDIOT's code (1001 part) and it froze up. Any other code I ran after this that used wait timer seem to lock up as well even though it was well below 1001 , in my case 30. <br><br>If you have not already, post this in the B+ bug section. Your likely to get the obligatory "don't use a timer over 1000" comment, but B+ should be solid enough to not lock-up if you were to use 1001+.<br><br>BTW...<br><br>Nice to see you around IDIOT! :)<br><br>L8r, <br><br></td></tr></table><br>
<a name="317926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stoop Solo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have had some strange stuff with createtimer. If my memory serves me correctly I was even experiencing lock-up. I ended up having to use...<br><br>z=targetspeed-(MilliSecs()-loopspeed)<br>If z&gt;0 Then Delay z<br>loopspeed=MilliSecs()<br><br>...instead. <br><br></td></tr></table><br>
<a name="317927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are other issues with WaitTimer() I know Mark is aware of, but this seems new. :)<br><br>L8r, <br><br></td></tr></table><br>
<a name="317953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I found it trying to get around another problem.  I'm writing an updated pixel ruler program using the borderless window feature (which is really cool BTW).  But it's spiking the CPU with like 90%+ usage, and I'm trying to decrease that as much as possible (or at all really).  I can't use waitevent() because I constantly have to draw a line where the mouse is.  I was hoping having a slow timer would do something, but it doesn't, and there's that bug.  Any ideas? <br><br></td></tr></table><br>
<a name="317961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dont know if this will help but it sounds like just what your looking for:<br><br>[a ftp://user:blitz@eikon.myftp.org/eiksoft/ruler.txt]ftp://user:blitz@...<br>[/a]<br>Low cpu usage too. <br><br></td></tr></table><br>
<a name="317966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neat!  Not exactly what I was making, but it has the exact same name! <br><br></td></tr></table><br>
<a name="317967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. If your ruler goes big (huh huh) I will humbly change mine ;) <br><br></td></tr></table><br>
<a name="318221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haha, don't worry about it.  I need to stop naming all my Blitz+ projects Something+.  <br><br>And it's not going anywhere if I can't get the CPU usage down. <br><br>Why is there no way to set the process priority in Blitz?  I've seen other programs that let you change their priority, I wish you could set it for your Blitz programs. <br><br></td></tr></table><br>
<a name="318263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well Idiot it might be possible with the following api:<br><a href="http://www.mentalis.org/apilist/SetThreadPriority.shtml" target="_blank">SetThreadPriority</a><br><a href="http://www.mentalis.org/apilist/SetPriorityClass.shtml" target="_blank">SetPriorityClass</a><br>but im no good with userlibs. <br><br></td></tr></table><br>
<a name="318344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Idiot<br><br>I'm having the same CPU throttle problem for screen savers and my media player. This is a problem I'm sure Mark is aware of but needs to address. :)<br><br>L8r, <br><br></td></tr></table><br>
<a name="318712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jay Mattis</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using the Delay command in your game loop frees up CPU usage. <br><br></td></tr></table><br>
<a name="318738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would prefer thread control or even slice control. :)<br><br>L8r, <br><br></td></tr></table><br>
<a name="319044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Idiot</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think using waitevent(10) or such will do what I want, I think I was confused about that in the same way I was confused about waittimer()... smaller number=longer wait. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
