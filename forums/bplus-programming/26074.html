<!DOCTYPE html><html lang="en" ><head ><title >keydown event</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >keydown event</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >keydown event</a><br><br>
<a name="271292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathan</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I´m experimenting a little with the BlitzPlus GUI possibilities and I encounter the following problem.<br><br>I have some textarea gadgets that highlight a specific letter in a specific color.<br>This is no problem when I use the keydown event ($101).<br>However when the cursor enters yet another textarea gadget (for textentry) apparently the keydown event is not triggered anymore.<br>What am I doing wrong here?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="271293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathan</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> For clarity this is the code.<br><br><pre class=code>window=CreateWindow("Mouse Tricks",50,50,250,200,0,15)
textfield1=CreateTextArea(25,0,200,20,window)
button1=CreateButton("Ok",GadgetWidth(window)/2-15,GadgetHeight(window)/2-10,30,20,window,1)
textfield2=CreateTextArea(100,50,20,20,window)
textfield3=CreateTextArea(125,50,20,20,window)
textfield4=CreateTextArea(150,50,20,20,window)

;initialisatie van de textfields
SetTextAreaText textfield2,"A"
SetTextAreaText textfield3,"B"
SetTextAreaText textfield4,"C"
SetTextAreaColor textfield4,255,0,0

While WaitEvent()
	Select EventID()
	Case $101
		If EventData()=30 Then ;letter A
			SetTextAreaColor textfield2,0,0,255
		End If
		If EventData()=48 Then ;letter B
			SetTextAreaColor textfield3,0,0,255
		End If
		If EventData()=46 Then ;letter C
			SetTextAreaColor textfield4,0,0,255
		End If
	Case $401
		If EventSource()=button1 Then ;indien button1 ingedrukt wordt
			;kleur de geselecteerde tekst in textfield1 rood
			FormatTextAreaText textfield1,255,0,0,0,TextAreaCursor(textfield1),TextAreaSelLen(textfield1)
		End If
		If EventSource()=textfield1 Then
		End If
	Case $803 ;EventID window close.
		End
	End Select
Wend</pre> <br><br></td></tr></table><br>
<a name="271326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Disregard this gibberish <br><br></td></tr></table><br>
<a name="271448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathan</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I´m not sure how your hint would fit into my code. I recently started with Blitz so I´m rather new to this.<br><br>By the way scary website you have.<br><br>Thanks. <br><br></td></tr></table><br>
<a name="271599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eikon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol, thanks :)<br><br>Interesting code, that looks like a bug. <br><br></td></tr></table><br>
<a name="271624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathan</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks I'll take this to the BlitzPlus Bug Reports. <br><br></td></tr></table><br>
<a name="271626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> already tried ActivateGadget on the gadget that houses your keypresses ? <br><br></td></tr></table><br>
<a name="271800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SJT</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found event loop problems and solved it by assigning variables for EventData(), EventSource(), EventID() and then using the variables.<br>B+ forgot the valve of the Eventxxxx() functions once I started using a nested select structure.<br>I don't know if thats part of your problem though?<br><br>Steve<br><br>XP <br><br></td></tr></table><br>
<a name="272075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathan</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @CS_TBL. Just tried ActivateGadget but infortunately doesn´t work.<br><br>@SJT. I assigned all the Eventxxx to variables. But the effect described above stays the same.<br><br>Anymore ideas ,please. <br><br></td></tr></table><br>
<a name="273446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >julianbury</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can only get the full keydown info from non text gadgets. I struggled for ages to find ways round. In the end I found the best way is to keep swapping between your text gadgets and the window gadget. That implies that you must keep track of where the cursor belongs and bear in mind those few keypesses that are detected in the text environment. <br><br>In the meantime, add your plea to all the others for this defficiency to be rectified. <br><br></td></tr></table><br>
<a name="273469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathan</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> In the meantime, add your plea to all the others for this defficiency to be rectified.  <br></div><br><br>I will.<br>Thanks for the workaround. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
