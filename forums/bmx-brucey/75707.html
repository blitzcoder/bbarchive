<!DOCTYPE html><html lang="en" ><head ><title >BaH.Graphviz</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BaH.Graphviz</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >BaH.Graphviz</a><br><br>
<a name="845977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's taken me long enough, but I've finally released BaH.Graphviz.<br><br>Graphviz is a graph layout engine. Essentially, you feed it a graph description, and it will lay it out nicely for you.<br><br>You can see examples of what it can do <b><a href="http://www.graphviz.org/Gallery.php" target="_blank">HERE</a></b>.<br><br>The Graphviz module adds the ability to interact with the generated graphs, by zooming, selecting nodes and edges, and retrieving information on them.<br><br>You are also able to generate graphs on-the-fly using the built-in graph-builder object hierarchy. You might use it to show the class-structure of your sourcecode, for example, changing dynamically as the source is modified...<br><br>You can learn more about it here : <a href="http://code.google.com/p/maxmods/wiki/GraphvizModule" target="_blank">http://code.google.com/p/maxmods/wiki/GraphvizModule</a><br><br><i>Note</i> - You will also need the Expat and GraphvizMax2D modules, available from the Downloads section.<br><br>As usual, it's cross-platform, *free*, and fully documented.<br><br><br>Yet another niche module from the makers of the other niche modules ;-) <br><br></td></tr></table><br>
<a name="845986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Artemis</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one.<br><br>It's just that I get an error when running the examples:<br><pre class=code>D:/BlitzMax/mod/bah.mod/graphviz.mod/graphviz.release.win32.x86.a(input.c.release.win32.x86.o):input.c:(.text+0xc29): undefined reference to `setenv'</pre> <br><br></td></tr></table><br>
<a name="846079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >z4g0</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> same here:<br><pre class=code>
C:/Programmi/BlitzMax/mod/bah.mod/graphviz.mod/graphviz.debug.win32.x86.a(input.c.debug.win32.x86.o):input.c:(.text+0xc41): undefined reference to `setenv'
</pre> <br><br></td></tr></table><br>
<a name="846128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woops... Fixed.<br><br>Apologies. <br><br></td></tr></table><br>
<a name="846304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice! everything worked as expected,<br>thanks <br><br></td></tr></table><br>
<a name="847812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> you should update your graphviz download on your homepage.<br><br>Also, i noticed when loading some of the dot files that came with your module it crashes, more on this when im on my home computer. <br><br></td></tr></table><br>
<a name="847816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a modified example to show the crash<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">'
' Keys : 1-5 to switch layout engine
' Keys : A, B to load different graphs and re-layout.
'
SuperStrict

Framework BaH.Graphviz
Import BaH.GraphvizMax2D

Import BRL.StandardIO
Import BRL.TextStream
Import BRL.glmax2d

?linux
Import "glsupport.bmx"
?macos
Import "glsupport.bmx"
?

Local renderSupport:TGVRenderSupport

?linux
renderSupport = New TOpenGLRenderSupport
?macos
renderSupport = New TOpenGLRenderSupport
?

Local renderer:TGVGraphviz = TGVGraphviz.Create(800, 600, renderSupport) ' with optional render support

'change &lt;blitzmaxpath&gt; to your blitzmax install location
renderer.loadGraphText(LoadText("&lt;blitzmaxpath&gt;\mod\BaH.mod\graphviz.mod\graphs\directed\arrows.dot"))

Graphics 800, 600, 0

SetClsColor(255, 255, 255)
SetBlend alphablend

renderer.layout("dot")
renderer.fit(800, 600)


Local mx:Int
Local my:Int
Local mz:Int
Local oldZ:Int
Local buttons:Int[] = New Int[3]

Local currentGraph:Int = 1
Local currentLayout:Int = 1

While Not KeyDown(KEY_ESCAPE)

	If KeyDown(key_1) Then
		If currentLayout &lt;&gt; 1 Then
			renderer.layout("dot")
			renderer.fit(800, 480)
			currentLayout = 1
		End If
	End If

	If KeyDown(key_2) Then
		If currentLayout &lt;&gt; 2 Then
			renderer.layout("neato")
			renderer.fit(800, 480)
			currentLayout = 2
		End If
	End If

	If KeyDown(key_3) Then
		If currentLayout &lt;&gt; 3 Then
			renderer.layout("twopi")
			renderer.fit(800, 480)
			currentLayout = 3
		End If
	End If

	If KeyDown(key_4) Then
		If currentLayout &lt;&gt; 4 Then
			renderer.layout("fdp")
			renderer.fit(800, 480)
			currentLayout = 4
		End If
	End If

	If KeyDown(key_5) Then
		If currentLayout &lt;&gt; 5 Then
			renderer.layout("circo")
			renderer.fit(800, 480)
			currentLayout = 5
		End If
	End If

	If KeyDown(key_A) Then
		If currentGraph &lt;&gt; 1 Then
			renderer.loadGraphText(LoadText("../graphs/directed/sdh.dot"))
			renderer.layout("dot")
			renderer.fit(800, 480)
			currentLayout = 1
			currentGraph = 1
		End If
	End If

	If KeyDown(key_B) Then
		If currentGraph &lt;&gt; 2 Then
			renderer.loadGraphText(LoadText("example_02.dot"))
			renderer.layout("dot")
			renderer.fit(800, 480)
			currentLayout = 1
			currentGraph = 2
		End If
	End If
	
	Cls
	
	SetColor(255, 255, 255)
	
	mx = MouseX()
	my = MouseY()
	mz = MouseZ()
		
	' tell graphviz we've moved the mouse
	renderer.mouseMove(mx, my)
	
	For Local i:Int = 1 To 3
		If MouseDown(i)
			If Not buttons[i - 1] Then
				renderer.MouseDown(mx, my, i) ' mouse button press
				buttons[i - 1] = 1
			End If
		Else
			If buttons[i - 1] Then
				buttons[i - 1] = 0
				renderer.mouseUp(mx, my, i) ' mouse button release
			End If
		End If
	Next
	
	If mz &lt;&gt; oldZ Then
		If mz &lt; oldZ Then
			renderer.mouseScroll(mx, my, -1) ' scroll up - zoom in
		Else
			renderer.mouseScroll(mx, my, 1) ' scroll down - zoom out
		End If
		oldZ = mz
	End If
	
	If KeyHit(key_down) Then
		renderer.mouseScroll(mx, my, -1) ' scroll up - zoom in
	End If
	
	If KeyHit(key_up) Then
		renderer.mouseScroll(mx, my, 1) ' scroll down - zoom out
	End If

	' refresh/redraw the graph
	renderer.refresh()

	' draw the current tooltip under the mouse - if there is one!
	renderer.drawTooltip(mx, my + 16)
	
	' get data for current object
	Local obj:TGViewObject = renderer.currentObject()
	
	If obj Then
		SetImageFont(Null)
		
		SetColor 255, 100, 100
		
		DrawText obj.name, 400, 0
		DrawText obj.skind, 400, 15
		
		For Local i:Int = 0 Until obj.attributes.length			
			DrawText obj.attributes[i].name + " : " + obj.attributes[i].value, 400, 60 + i * 15
		Next
	End If
	

	Flip
Wend

End
</textarea><br><br>Also, there are several other dot files that crash it. <br><br></td></tr></table><br>
<a name="847928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Retimer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't checked this out yet, but it looks like something i'll definite find a great use of. Amazing addition. Thanks bruce. <br><br></td></tr></table><br>
<a name="847936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Plash<br>Looks like my poly drawing code wasn't very good ;-)<br>Seems to work now - Tried it on most of the directed graphs without problems. <br><br>You can get the updated BaH.GraphvizMax2D module from the <a href="http://code.google.com/p/maxmods/downloads/list" target="_blank">Downloads</a> section, or via SVN.<br><br>@Retimer<br>Thanks :-)<br>It's definitely one of the more interesting modules. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
