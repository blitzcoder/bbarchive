<!DOCTYPE html><html lang="en" ><head ><title >Right-To-Left ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Right-To-Left ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Right-To-Left ?</a><br><br>
<a name="937266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another weekend, another little project... <br><br>As we know, BlitzMax doesn't render right-to-left text properly. The problem is that BlitzMax simply sees a sequence of characters, so when you DrawText, you see... that same sequence of characters.<br>However, in languages such as Arabic and Hebrew, certain character sequences are actually written differently, so we need to apply a conversion to the text so we can see it properly.<br><br>So, here is Arabic :<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/rtl_example_01.png"><br><br>As you can see, the default rendering from BlitzMax is a bit wrong. :-) <br><br></td></tr></table><br>
<a name="937310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> BaH.RTL is now available for consumption - from the maxmods SVN repository.<br><br>I've tested it on Mac and Windows so far. (Linux next).<br><br>It uses the libfribidi library, which is LGPL, so I've shipped the appropriate .dylib/.dll file also. (I also had to create a makefile for Windows, so I've shipped the source too, if you ever feel the need to recompile the dll). LGPL means you can use the library in ANY app, free or otherwise.<br><br>Anyhoo, the API is possibly one of the easiest to use... there's ONE function, which takes a String, and returns another...<br><pre class=code>
Function FormatStringRTL:String(text:String)
</pre><br>The returned string should be correctly formatted for displaying with DrawText, for example.<br><br>There's one example app provided, which renders the same text as in the image above.<br>You will need to copy the library (.dll / .dylib) from the lib folder into application folder. (For Mac, this is INSIDE the application bundle, in the same folder as the app binary, as usual).<br><br>Coincidentally, I believe this is the same formatter which Pango uses on Linux...<br><br><br>And yes, I know this is possibly about as niche as my modules get, but you never know... perhaps someone will find it useful !<br><br>As usual, comments and suggestions are always welcome.<br><br>:o)<br><br>Enjoy! <br><br></td></tr></table><br>
<a name="937311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Linux build is now working also.<br>You will need the libfribidi package installed on your system. (Note, for development you will also need the libfribidi-dev package). <br><br></td></tr></table><br>
<a name="937416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> BaH.RTL (1.00) has been released, and can be downloaded <b><a href="http://code.google.com/p/maxmods/downloads/list?can=2&amp;q=right" target="_blank">here</a></b>.<br><br>:o)<br><br>Enjoy. <br><br></td></tr></table><br>
<a name="937427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Artemis</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice, although I think I will never need it. ;-) <br><br></td></tr></table><br>
<a name="938891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space Fractal</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have not tested this one, but I have in last year have a simular request in my frontend launcher application to support Arabic which it seen I have do a very diffecent way.<br><br>I have a table with hex codes which make sure the letter also convert to the correct format (Isolated, Final, Medial and Initial).<br><br>After the convertning, I reserve the string and then calculate the postiion of it when I draw the text.<br><br>The user interface itself was also mirrored, so it look more correct.<br><br>The above was a project to addon Arabic support in my game launcher application I wrote for my arcade cabinet, and I have to say I dosent understand arabic, but was a fun project to do that. <br><br></td></tr></table><br>
<a name="938924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would always look first for a library to do anything complex. (Perhaps I am just lazy ;-)<br><br>I don't understand Arabic either, but I investigated enough to understand at a basic level how characters change depending on their relative positions. Then I went out to find the best library to do the conversion for me.<br><br>The reason I went with fribidi (despite being LGPL), is because Pango (on Linux) uses it for it's right-to-left mapping. And since that is known to work well, it seemed a good choice.<br><br>Of course, to use these RTL Strings properly, you will need to right-align them correctly, but that's not a big issue (and something you can cache if required).<br><br>:o) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
