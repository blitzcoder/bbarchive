<!DOCTYPE html><html lang="en" ><head ><title >wx.mod compile problem?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >wx.mod compile problem?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >wx.mod compile problem?</a><br><br>
<a name="1173874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am unable to compile the latest svn copy of wx.mod:<br><br><pre class=code>
Compiling:wxglue.cpp
Compiling:common.bmx
In file included from C:/Code/BlitzMax/mod/wx.mod/include/wx/platform.h:709:0,
                 from C:/Code/BlitzMax/mod/wx.mod/include/wx/defs.h:28,
                 from C:/Code/BlitzMax/mod/wx.mod/include/wx/wx.h:15,
                 from C:/Code/BlitzMax/mod/wx.mod/wx.mod/wxglue.h:26,
                 from C:/Code/BlitzMax/mod/wx.mod/wx.mod/wxglue.cpp:23:
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:97:9: error: #error "wxUSE_COMPILER_TLS must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:307:9: error: #error "wxUSE_STD_CONTAINERS must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:315:9: error: #error "wxUSE_STD_STRING_CONV_IN_WXSTRING must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:431:9: error: #error "wxUSE_ARTPROVIDER_STD must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:439:9: error: #error "wxUSE_ARTPROVIDER_TANGO must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:479:9: error: #error "wxUSE_CAIRO must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:583:9: error: #error "wxUSE_COMMANDLINKBUTTON must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:623:9: error: #error "wxUSE_DC_TRANSFORM_MATRIX must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:861:9: error: #error "wxUSE_MARKUP must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:981:9: error: #error "wxUSE_RICHMSGDLG must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:989:9: error: #error "wxUSE_RICHTOOLTIP must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:1117:9: error: #error "wxUSE_TIMEPICKCTRL must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:1157:9: error: #error "wxUSE_TREELISTCTRL must be defined, please read comment near the top of this file."
C:/Code/BlitzMax/mod/wx.mod/include/wx/chkconf.h:1181:9: error: #error "wxUSE_WEBVIEW must be defined, please read comment near the top of this file."
Build Error: failed to compile (1) C:/Code/BlitzMax/mod/wx.mod/wx.mod/wxglue.cpp
Build Error: failed to compile (1) C:/Code/BlitzMax/mod/wx.mod/wx.mod/wxglue.cpp
</pre><br><br>Any idea what's wrong?   tried to remove the entire wx.mod folder and re-cync from SVN, to no avail.<br><br>Windows 7 x64, GCC 4.6.1... <br><br></td></tr></table><br>
<a name="1173878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello :-)<br><br>Yes, it's still a work-in-progress. I was actually hoping to have it all updated before anyone noticed :-/<br><br>1) I've spent the weekend updating for Cocoa and the latest SVN of wxWidgets.<br><br>2) Currently trying to get a set of libs built for Win32. It's a bit of a nightmare to say the least. You would think it would be simply a case of modifying some flags in the setup.h file and rebuilding everything. Except of course you end up spending several hours trying to get the flag to stay set…<br><br>I'll get back to you later. ;-) <br><br></td></tr></table><br>
<a name="1173887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It may, or may not, work now…<br><br>Static libraries built with TDM 471, so your mileage may vary.<br>It's also built with "assert debug" warnings enabled. Well, obviously you don't want this in "production" code, but it will be useful for catching issues for now.<br><br>I had to find and include a resource file to get rid of some assertion about mouse pointers. Don't think I've used windres before… ho ho.<br><br>Tested a couple of samples which built and ran okay. Note that sample fixes are pending :-) <br><br></td></tr></table><br>
<a name="1173893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, so far so good, appears to be compiling...<br>(Which takes forever of course, but that's normal)<br><br>Out of curiosity, do you happen to have a link to the MinGW version that you're using?<br><br>I found this one: <a href="http://tdm-gcc.tdragon.net/download" target="_blank">http://tdm-gcc.tdragon.net/download</a><br><br>But no idea whether we need the sjlj, dw2, or which components?<br>(the single installer .exe appears to be the sjlj version, which IIRC blitzmax doesn't like?) <br><br></td></tr></table><br>
<a name="1173894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to use sjlj if you are calling into "foreign" DLLs, and hope handle exceptions.<br><br>Where did you read that BlitzMax doesn't like sjlj, because that's the one I've always used?? :-s <br><br></td></tr></table><br>
<a name="1173895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the life of me, I don't remember... Been quite a while since I last messed with MinGW, though.<br><br>Anyway, My existing MinGW install didn't seem to like the current wx module - any of the examples, not matter how basic, spit out a ton of missing sjlj reference errors.<br><br>I just upgraded my MinGW to the TDM 471 sjlj version, and it's currently in the process of recompiling all my modules... Let see if that make any difference.<br><br>(At least I have some batch files to copy all the relevant MinGW libs to blitzmax and recompile the modules in one swoop, so it's 'sit back and wait' time...) <br><br></td></tr></table><br>
<a name="1173898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ...a ton of missing sjlj reference errors <br></div><br>Ah, right, which will be due to the fact I built it with an sjlj-based MinGW.<br><br>Well, I don't mind moving to a dwarf-based one if that's the same kind as everyone else is using…<br><br><br>On a bright and shiny note, I appear to have it working on Linux too now, although you need to built the libs from source. As usual on 64-bit Linux, lots of fun with setting up symlinks. <br><br></td></tr></table><br>
<a name="1173906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Well, I don't mind moving to a dwarf-based one if that's the same kind as everyone else is using… <br></div><br><br>It's probably in everyone's best interest to use whatever you are using, given how many modules you've cranked out over the years. ;-)<br><br>So far mine is <i>still</i> chugging away recompiling everything, with the 4.7.1 TMD sjsl version.<br>Couple of failures so far, bah.raknet and bah.raptor gave errors, I removed them for now and will resync from SVN after all the others are done rebuilding and see if the errors persist. <br><br></td></tr></table><br>
<a name="1173909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update:<br><br>bah.Raknet fails to build:<br><br><pre class=code>
Compiling:PacketizedTCP.cpp
In file included from C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/NetworkIDManager.h:11:0,
                 from C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/NetworkIDObject.cpp:9:
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h: In instantiation of 'void DataStructures::AVLBalanced
BinarySearchTree&lt;BinarySearchTreeType&gt;::BalanceTree(typename DataStructures::BinarySearchTree&lt;BinarySearchTreeType&gt;::node*, bool) [with BinarySearchTreeType = NetworkIDNode; typename DataStructures::BinarySearchTree&lt;BinarySearchTreeType&gt;::node = DataStructures::BinarySearchTree&lt;NetworkIDNode&gt;::node]':
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:219:3:   required from 'void DataStructures::AVLBalancedBinarySearchTree&lt;BinarySearchTreeType&gt;::Del(const BinarySearchTreeType&amp;) [with BinarySearchTreeType = NetworkIDNode]'
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/NetworkIDObject.cpp:43:72:   required from here
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:169:5: error: 'Height' was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:169:5: note: declarations in dependent base 'DataStructures::BinarySearchTree&lt;NetworkIDNode&gt;' are not found by unqualified lookup
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:169:5: note: use 'this-&gt;Height' instead
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:174:5: error: 'Height' was not declared in this scope,
 and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:174:5: note: declarations in dependent base 'DataStructures::BinarySearchTree&lt;NetworkIDNode&gt;' are not found by unqualified lookup
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:174:5: note: use 'this-&gt;Height' instead
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:202:4: error: 'FindParent' was not declared in this scope, and no declarations were found by argument-dependent lookup at the point of instantiation [-fpermissive]
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:202:4: note: declarations in dependent base 'DataStructures::BinarySearchTree&lt;NetworkIDNode&gt;' are not found by unqualified lookup
C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/DS_BinarySearchTree.h:202:4: note: use 'this-&gt;FindParent' instead
Compiling:PacketLogger.cpp
Compiling:PacketOutputWindowLogger.cpp
Compiling:PluginInterface.cpp
Build Error: failed to compile (1) C:/Code/BlitzMax/mod/bah.mod/raknet.mod/src/NetworkIDObject.cpp
</pre><br><br>bah.raptor fails too:<br><pre class=code>
Compiling:raptor_general.c
Compiling:raptor_grddl.c
In file included from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/rdfa.h:48:0,
                 from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/rdfa_utils.h:23,
                 from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/language.c:25:
C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/raptor_internal.h:789:24: fatal error: curl/types.h: No such file or directory
compilation terminated.
Build Error: failed to compile (1) C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/language.c

Build Error: failed to compile (1) C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/language.cIn file included from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/s
rc/librdfa/rdfa.h:48:0,
                 from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/rdfa_utils.h:23,
                 from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/curie.c:28:
C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/raptor_internal.h:789:24: fatal error: curl/types.h: No such file or directory
compilation terminated.
In file included from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/rdfa.h:48:0,
                 from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/rdfa_utils.h:23,
                 from C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/librdfa/triple.c:28:
C:/Code/BlitzMax/mod/bah.mod/raptor.mod/src/raptor_internal.h:789:24: fatal error: curl/types.h: No such file or directory
compilation terminated.
</pre><br><br>bah.curl appears to compile OK.<br>bah.flickcurl fails, seemingly due to a dependency on the failed bah.raptor<br>bah.raknetvoice, bah.raknetvoicefmod and bah.raknetrooms fail due to the dependency on the failed bah.raknet <br><br></td></tr></table><br>
<a name="1173919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmmm.<br><br>After the wx.mod itself compiled without errors, it appears there is still something squirrely. Any of the wx samples I try to compile give a slew of errors, e.g.:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x20): undefined reference to `__gxx_personality_sj0'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x48): undefined reference to `_Unwind_SjLj_Register'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0xe0): undefined reference to `_Unwind_SjLj_Unregister'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x13e): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x159): undefined reference to `__gxx_personality_sj0'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x18a): undefined reference to `_Unwind_SjLj_Register'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0xcea): undefined reference to `_Unwind_SjLj_Unregister'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x1186): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x11bb): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x12ac): undefined reference to `__gxx_personality_sj0'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x12d4): undefined reference to `_Unwind_SjLj_Register'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x1307): undefined reference to `_Unwind_SjLj_Unregister'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x1338): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x134c): undefined reference to `__gxx_personality_sj0'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x1377): undefined reference to `_Unwind_SjLj_Register'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x1da5): undefined reference to `_Unwind_SjLj_Unregister'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x2423): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x2467): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x2498): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x24b8): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x24fc): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x2524): more undefined references to `_Unwind_SjLj_Resume' follow
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD1Ev[__ZN17wxFrameXmlHandlerD1Ev]+0xc): undefined reference to `__gxx_personality_sj0'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD1Ev[__ZN17wxFrameXmlHandlerD1Ev]+0x34): undefined reference to `_Unwind_SjLj_Register'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD1Ev[__ZN17wxFrameXmlHandlerD1Ev]+0xd8): undefined reference to `_Unwind_SjLj_Unregister'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD1Ev[__ZN17wxFrameXmlHandlerD1Ev]+0x184): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD0Ev[__ZN17wxFrameXmlHandlerD0Ev]+0xc): undefined reference to `__gxx_personality_sj0'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD0Ev[__ZN17wxFrameXmlHandlerD0Ev]+0x34): undefined reference to `_Unwind_SjLj_Register'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD0Ev[__ZN17wxFrameXmlHandlerD0Ev]+0xe3): undefined reference to `_Unwind_SjLj_Unregister'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text$_ZN17wxFrameXmlHandlerD0Ev[__ZN17wxFrameXmlHandlerD0Ev]+0x18c): undefined reference to `_Unwind_SjLj_Resume'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xmlres.o):xmlres.cpp:(.text+0x488): undefined reference to `__gxx_personality_sj0'
C:/Code/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw29u_xrc.a(xrclib_xmlres.o):xmlres.cpp:(.text+0x4b0): undefined reference to `_Unwind_SjLj_Register'
</textarea><br><br>I -am- using the latest TDM GCC, and it is supposed to be the sjlj version. (double-checked the installer, it had a choice between both, and I selected the sjlj option)<br><br>gcc version 4.7.1 (tdm-1)<br><br>Other blitzmax code (and a handful of samples from other bah.something modules) appears to run OK.<br><br>Brucey -- do you happen to still have a copy of the MinGW installer you used yourself? <br><br></td></tr></table><br>
<a name="1173926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The error still kind of implies your setup isn't entirely correct - presumably the linker used for your final app build ?<br><br>The installer I used is tdm-gcc-4.7.1-2 (MinGW / sjlj) , which is the first one on the downloads page.<br><br>So, is TDM the only one that builds an sjlj version of MinGW? If all the other distros are Dwarf then… well, I dunno really. <br><br></td></tr></table><br>
<a name="1173942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, according to the official mingw pages (<a href="http://www.mingw.org/wiki/GCCStatus" target="_blank">here</a>) :<br><div class="quote"> <br>New features since the previous release (needs updating)<br>…<br>* Zero cost exceptions: New exception model Dwarf only has performance penalty when being thrown. The old model, SJLJ, is no longer available.<br>...<br> <br></div><br>So the standard is to use Dwarf, apparently.<br><br>Well, maybe I should try TDM dw, and see what happens :-/ <br><br></td></tr></table><br>
<a name="1173946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The error still kind of implies your setup isn't entirely correct - presumably the linker used for your final app build ? <br></div><br><br>But how?<br><br>I did reinstall blitzmax, copied the ar.exe and ld.exe from minGW, and overwrote the existing /lib files with the ones that came with MinGW, ...<br>(Now, I /did/ notice that this MinGW install comes with both an /bin/ld.exe and /bin/ld.bfd.exe , which are identical in size except there are two bytes different in the exe... I assume I still need to grab just the ld.exe?)<br><br>I did use the tdm-gcc-4.7.1-2 installer, and selected the 'recommended' option, which does the default "TDM-GCC current: 4.7.1-tdm-1" (instead of the 4.7.0-1 or the dw2-3 selection.)<br>Did a clean install of MinGW to c:\MinGW (renamed the existing folder), so there are no lingering old files merged in with the new ones.<br><br>Even removed my environment my GCC environment variables in case they were interfering or something, since apparently those are no longer necessary. Also removed the BMK_SPEEDUP=1 environment var as well in case that did something weird. <br><br>Deleted the mod/wx.mod folder and re-synced from SVN.<br><br>I'm using your BMK version:    bmk -v tells me:  bmk 2.15 mt-win32-x86 / gcc 40701 (cpu x12)<br><br>Rebooted for the environment stuff to take effect, and so far still no luck.<br><br>Blitzmax IDE does tell me that I'm running GCC and G++ 4.7.1, and FASM 1.69.14.<br><br>So... Are there any other dependencies for the wx.mod module that I'm missing or something? <br><br></td></tr></table><br>
<a name="1173950"></a>

<a name="1173954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm see one potential thing to try:<br><br>I'm using BMK_NG, and one of the files in the blitzmax/bin is custom.bmk<br>The last lines in there say:<br><br><div class="quote"> <br>#Defaults to linking with GCC. Change back to default by <br>#uncommenting the next line:<br>#link_with_ld=1<br> <br></div><br><br>I guess I try to unremark that last line, see if it changes the behaviour?<br><br>EDIT: Made no difference, still throwing those sjlj errors.<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1173961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So... Are there any other dependencies for the wx.mod module that I'm missing or something? <br></div><br>No. It's all dependent on itself.<br><br>Programming is fun! ;-)<br><br>I have : bmk 2.15 mt-win32-x86 / gcc 40701 (cpu x1)<br>(it's running (less quickly) in a VM.. )<br><br>My gcc reports : gcc (tdm-1) 4.7.1<br><br><br>Do you have config.bmk in your bin dir? (for cross-compiling). If you aren't cross-compiling, you should probably remove it. It sets up path_to_gpp which would be empty otherwise. <br><br></td></tr></table><br>
<a name="1173963"></a>

<a name="1173964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you have config.bmk in your bin dir? (for cross-compiling). If you aren't cross-compiling, you should probably remove it. It sets up path_to_gpp which would be empty otherwise.  <br></div><br><br>No, just core.bmk, custom.bmk and make.bmk -- and pretty sure I haven't changed anything inside those.<br><br>I just removed all my other mods, leaving just the defaults + wx.mod<br>Also blew away the contents on the windows temp folder, just in case.<br><br>Still exactly the same errors upon running any of the wx sample files, even though there are no errors on compiling the actual module.<br>there does appear to be some kind of version conflict, although we are using the same release?!<br><br>Edit: Actually, are you using 'current' or 'stable'?<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1173971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Current or stable what? wxWidgets?<br><br>I have a base BlitzMax install, with a clean build of bmk_ng.<br><br>I added TDM 4.7.1 sjlj<br>Changed the bin/lib folders with the new files.<br><br>I built wxWidgets from SVN (rev 73381), so it has all the latest changes. (I guess this will be 2.9.5 or 3.0.0 whenever they do the next release).<br><br>I built it first on OS X. Then I copied the entire folder to Win32, and re-built it there, several (well, perhaps 6 or 7) times until everything was compiled with the correct settings (as per my build notes in the wx.mod folder).<br><br>Copied over the built libs into the module, and re-built the modules.<br>Once everything was "right", the samples all compiled and ran as expected.<br><br>I've not seen the sljl errors with this build.<br><br>I *have* seen it recently in my modules, because I had been trying different MinGW's with Qt in a desperate effort to get it built and linking correctly. The time I did see those sljl errors was because I had moved back to TDM and hadn't completely re-built everything (including apps) with the new linker. After a re-build, everything worked.<br><br>The <b>only way</b> you see this error is if you have built something with MinGW A, and something else with MinGW B.<br><br>When you see a library with "undefined reference", it means that library has references to that code, but your linking of that library into your binary does not include the missing references. As far as I know, they are statically linked into your exe via libstdc++ or some such, which is automatic. <br><br></td></tr></table><br>
<a name="1174020"></a>

<a name="1174021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> -deleted-<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1174023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, you've given up? Well, perhaps it's best to hold off for a bit.<br><br>What I'll do, is I'll create a clean setup of everything myself  :<br><br>* BlitzMax with bmk_ng 2.15<br>* wxMax from SVN<br>* MinGW TDM<br><br>Re-build everything, and see what happens. <br><br></td></tr></table><br>
<a name="1174027"></a>

<a name="1174033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Ah, you've given up? Well, perhaps it's best to hold off for a bit. <br></div><br><br>No, FIXED!<br><br>I found the problem, which was something very stupid in hindsight.<br><br>Turned out that the batch file I created to grab the appropriate files from the minGW setup folders had a hard-coded reference to the 4.5.1 subfolder, so while it copied a few of the files from the /MinGW/Lib folder, it ignored the /minGW/lib\gcc\mingw32\4.7.1 subfolder... which meant that not all the necessary files were replaced.<br><br>After fixing that, a couple more files from /blitzmax/lib were overwritten, and the error went away: wx samples now work, without the sjlj errors I saw earlier. Sorry for the confusion. :-?<br><br>(Here's the (fixed) copy script I was using -- it uses the unix tools 'awk' to write the batch file for me)<br><br><pre class=code>
@echo off
copy c:\mingw\bin\ar.exe c:\code\blitzmax\bin /Y
copy c:\mingw\bin\ld.exe c:\code\blitzmax\bin /Y
dir c:\code\blitzmax\lib /b | awk "{print \"copy \\\"c:\\mingw\\lib\\\\\"$0 \"\\\" c:\\code\\blitzmax\\lib\"}" &gt; copylibs.bat
dir c:\code\blitzmax\lib /b | awk "{print \"copy \\\"c:\\mingw\\lib\\gcc\\mingw32\\4.7.1\\\\\"$0 \"\\\" c:\\code\\blitzmax\\lib\"}" &gt;&gt; copylibs.bat
call copylibs.bat
</pre><br><br>I'll copy the other modules back right now, and will attempt a full rebuild... But I'm cautiously optimistic.<br><br>(Although the bah.raptor, bah.raknet, bah.raknet* did still error out with the same messages as posted near the top of this thread, which seems unrelated to MinGW? Any idea on those?)<br><br>Raptor and Flickcurl compile without error after remarking out the <b>#include curl/style.h</b> lines, but no idea if that breaks their functionality since I don't have a flicker account and have no idea what raptor actually /does/. Whatever is wrong with Raknet seems to be a more elaborate issue.<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1174041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good old AWK :-)<br>I was using it just the other day to regenerate BlitzMax source for the language id's..<br><pre class=code>
#!/bin/bash
awk '{ print "Const " $1 ":Int = " (count++)}' &lt;&lt;endl
wxLANGUAGE_DEFAULT
wxLANGUAGE_UNKNOWN
…
endl
</pre><br>Sometimes it's quicker to write a script to do stuff than it is to sit hand-crafting the result.<br><br>But as you've discovered, sometimes it's not ;-) <br><br></td></tr></table><br>
<a name="1174557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't get it.<br>I Have pretty much the same compiling error so I uninstalled MinGW and deleted its dir.<br>Then I re-installed it and copied ar.exe and id.exe from MinGW/bin to BlitzMax/bin. Afterwards I copied every file from MinGW/lib to BlitzMax/lib and added the stuff from MinGW\lib\gcc\mingw32\4.7.2 too.<br><br>But errors still occur... <br><br></td></tr></table><br>
<a name="1174563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you need to ensure your MinGW is using <b>sjlj</b> and not <b>dwarf/2</b>, since the static libraries were built with TDM sjlj.<br><br>Otherwise, you would need to rebuild the static libraries so that they are compatible with dwarf/2 instead of sjlj.<br><br><br>If you already have the correct GCC, then it's easy enough just to modify xlsior's script in post #20, and run that. (you'd need a version of awk/gawk for win32 too).<br>Anything is better than doing it all by hand. <br><br></td></tr></table><br>
<a name="1174645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you already have the correct GCC, then it's easy enough just to modify xlsior's script in post #20, and run that. (you'd need a version of awk/gawk for win32 too).<br>Anything is better than doing it all by hand.  <br></div><br><br>And for clarification what that script actually does: for each file that exists in the blitzmax/lib folder, it will attempt to overwrite it with a file of the same name from c:\mingw\lib and c:\mingw\lib\gcc\mingw32\4.7.1 <br><br></td></tr></table><br>
<a name="1174682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> FINALLY!<br><br>I installed a TDM sjlj MinGW and ran the script --&gt; everything is fine now ^^ <br><br></td></tr></table><br>
<a name="1175488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> This process needs to be [a lot] easier.<br><br>Just sayin'<br><br>Russell <br><br></td></tr></table><br>
<a name="1175491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have MinGW setup correctly, it's a somewhat non-event. <br><br></td></tr></table><br>
<a name="1183934"></a>

<a name="1183938"></a>

<a name="1183939"></a>

<a name="1183942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is that TDM-gcc 4.7.1-2 slower than prior versions? Compilation in my VM (2gb ram, 2 cores assigned virtualBox-Windows-XP) takes hours. <br><br>My older GCC 4.4.1 compiled all modules/wxmax in &lt;30 min. Now each recompilation of all modules takes longer than 2hrs.<br><br><br><b>edit:</b> re-compilation martyrdom since this morning.<br>a) downloaded current wxmax-svn-revision and moved wx.mod into the blitzmax-module-folder<br>b) moved my old "c:\MinGW" to "c:\MinGW_old"<br>c) Downloaded "tdm-gcc-4.7.1-2.exe"<br>d) Installed (default settings) to c:\MinGW<br>e) gcc --version says: "gcc (tdm-1) 4.7.1"<br>f) 1. copied: "c:\MinGW\bin\ar.exe" to "c:\BlitzMax\bin\ar.exe" (overwritten)<br>f) 2. copied: "c:\MinGW\bin\ld.exe" to "c:\BlitzMax\bin\ld.exe" (overwritten)<br>f) 3. copied  "c:\MinGW\lib\*.o|*.a" to "c:\BlitzMax\lib\*.o|*.a" (overwritten)<br>f) 4. copied  "c:\MinGW\lib\gcc\mingw32\4.7.1\*.o|*.a" to "c:\BlitzMax\lib\*.o|*.a" (overwritten)<br>g) went into "c:\BlitzMax\bin" and typed "bmk makemods -a"<br>h) waited one hour<br>i) waited further hour(s)<br>...<br>y) tried to compile wx.mod/samples/artprov_test.bmx<br><br>Output:<br><pre class=code>
Building artprov_test
Compiling:artprov_test.bmx
flat assembler  version 1.69.14  (1264198 kilobytes memory)
4 passes, 26004 bytes.
Linking:artprov_test.exe
Info: resolving __ZTVN10__cxxabiv120__si_class_type_infoE by linking to __imp___ZTVN10__cxxabiv120__si_class_type_infoE (auto-import)
Info: resolving __ZTVN10__cxxabiv117__class_type_infoE by linking to __imp___ZTVN10__cxxabiv117__class_type_infoE (auto-import)
Info: resolving __ZTVN10__cxxabiv121__vmi_class_type_infoE by linking to __imp___ZTVN10__cxxabiv121__vmi_class_type_infoE (auto-import)
Executing:artprov_test.exe
C:/BlitzMax/bin/ld.exe: warning: auto-importing has been activated without --enable-auto-import specified on the command line.
This should work unless it involves constant data structures referencing symbols from auto-imported DLLs.
Warning: .drectve `-aligncomm:"_stderr_",2 ' unrecognized
Warning: .drectve `-aligncomm:"_stdout_",2 ' unrecognized
Warning: .drectve `-aligncomm:"_stdin_",2' unrecognized
Warning: .drectve `-aligncomm:"__bbusew",2 ' unrecognized
Warning: .drectve `-aligncomm:"_bbGCStackTop",2' unrecognized
Warning: .drectve `-aligncomm:"__bbLock",2 ' unrecognized
Warning: .drectve `-aligncomm:"__bbNeedsLock",2' unrecognized
Warning: .drectve `-aligncomm:"___DTOR_LIST__",2 ' unrecognized
Warning: .drectve `-aligncomm:"___CTOR_LIST__",2' unrecognized

Process complete
</pre><br>(logically this is the same for other samples)<br> <br>z) wrote that posting.<br><br>bye<br>Ron<br><br>edit2: Blitzmax-IDE says I am running the most current windows-edition v1.48 of blitzmax (just if this is questionized) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
