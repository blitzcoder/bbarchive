<!DOCTYPE html><html lang="en" ><head ><title >Problems with GME.mod on Win8.1</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problems with GME.mod on Win8.1</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Problems with GME.mod on Win8.1</a><br><br>
<a name="1255209"></a>

<a name="1255218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm going to preface this by saying that I only have a very vague "follow instructions" understanding of what I'm doing regarding modules, so bear with me on this one.<br><br>A while ago I nabbed GME.mod, thrilled to find something that could play genuine, raw VGM files without needing to convert them to OGG or the like. On Windows 7 and under, all my tests were successful and everything was hunky-dory. However, I recently got a Windows 8.1 laptop, and for some reason this is where the good times end.<br><br>Whenever I try to compile the included example_openal.bmx, it throws the following exception:<br><pre class=code>Attempt to call uninitialized function pointer</pre><br>I unfortunately have absolutely zero idea what this means. I can at least say that according to BLIde's debugger, the exception is being thrown by the <b>alGenBuffers()</b> call in the <b>TOpenALGMEPlayer.new()</b> method, if that helps. I've tried the few things I could think of to sort this out but right now I'm stumped. The exact same file still works perfectly on my Win7 desktop; I have my BlitzMax installation folder synchronized between laptop and desktop via a NAS drive. Both systems are 64-bit, if that's relevant. <br><br></td></tr></table><br>
<a name="1255435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure you're getting this error when you try to compile and not when you try to run it? It looks like you're trying to call a function from a DLL, and maybe the DLL is missing. <br><br></td></tr></table><br>
<a name="1255449"></a>

<a name="1255450"></a>

<a name="1255451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pardon, yes. Blitz got me so spoiled with "F5 to do the thing" that I often forget there's a difference between compile and compile-and-run. To clarify, this happens when I use F5 to compile-and-run, about three lines down the example file. Not sure if it's during the compile time or runtime, the compiling is so quick it's hard to tell. <br><br></td></tr></table><br>
<a name="1255455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried to run the example without OpenAL installed. It crashed.<br>After copying the OpenAL32.dll into the examples folder, it ran okay. As ziggy says, it's probably a DLL issue you are having.<br><br>OpenAL tends to install itself into the system. I personally prefer dlls for my apps in the same folder as the app... <br><br></td></tr></table><br>
<a name="1255544"></a>

<a name="1255547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That made an enormous amount of sense, so I checked my laptop for the DLL and sure enough, nowhere to be found; a scan of my desktop found four instances, two of which were game bundles and the other two being in <b>system32</b> and <b>SysWOW64</b>, respectively.<br><br>However, some interesting results. I first tried copying the DLL directly into the GME examples directory. Still threw the same pointer error. So, I tried copying it into the <b>gmeopenal</b> directory, thinking that perhaps since <b>gmeopenal.bmx</b> was the file ultimately throwing the exception, the DLL needed to be there (a silly thought in retrospect). Still the same error. Then, I tried copying the DLL into <b>system32</b> and <b>SysWOW64</b>, and even rebooted. Still the same error.<br><br>The only thing that finally worked was when I grabbed the actual OpenAL32 <i>installer</i> directly from creative.com. Once I ran this, everything worked exactly as expected, without even needing a reboot. This now solves everything for my work environment, but raises some concerns for me regarding the end user when this game is eventually complete. No ordinary consumer is going to want to be told "go to this site and download this thing before you can play this game." Will I need to bundle this installer (which is, to my knowledge, total freeware as per the nature of Open** stuff) with the game? Will writing a simple registry key do the job? Clearly the installer does <i>something</i> extra besides copying the DLL, but if a simple file copy worked in your test then I'm still not quite sure what's going on at my (or the the consumer's) end. Any thoughts on this? <br><br></td></tr></table><br>
<a name="1255797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah! Finally, success. Turns out there was one more DLL I didn't know about, namely <b>wrap_oal.dll</b>, which is essential to making things work. On the one hand I feel like a fool for not thinking of something that simple, but on the other hand I've never worked with OpenAL directly before so I honestly didn't know what to expect. Anyway, problem completely solved, no more worries about the end user, things can continue on cheerfully. Thanks for the help folks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
