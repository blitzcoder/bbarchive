<!DOCTYPE html><html lang="en" ><head ><title >more adventures in WX</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >more adventures in WX</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >more adventures in WX</a><br><br>
<a name="934475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, stumbled upon this: i want to use right click to open a pop-up menu on a wxtreectrl item. I get the event because wxcodegen has created all that code for me automaticalyl, but now I have to find the object I right-clicked on... I don't understand a bit of this event stuff this module uses... I skimmed docs, and nothing really EXPLAINS how it works. All I see is coder comments and lot of type extensions, and i'm at a loss.<br><br>Can someone help me out to to understand the events in wxMax? plz? pretty plz? <br><br></td></tr></table><br>
<a name="934476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo :-)<br><br>Not sure if <b><a href="/posts.php?topic=76498" target="_blank">this</a></b> will help you any? <br><br></td></tr></table><br>
<a name="934478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Assuming you connect to wxEVT_COMMAND_TREE_ITEM_RIGHT_CLICK, you will receive a wxTreeEvent passed into your callback function.<br><br>This event object has a GetItem() method with which you can get the wxTreeItemId object - ie. the item you clicked on.<br>With the itemId, you can query the treelist for things such as GetItemText(). <br><br></td></tr></table><br>
<a name="934504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try "Cross-Platform GUI Programming with wxWidgets" Chapter 3, Event Handling. There is a free pdf version online if you google it. <br><br>Also, don't be afraid to head straight to the source in the wxmod folder. The event code is generally at the bottom of each source file - which is a quick way of finding the event name you are looking for. <br><br>e.g. For wxTreeCtrl, wxtreectrl.mod/wxTreeCtrl.bmx has this method at the bottom of the code page:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Method GetEventType:Int(eventType:Int)
		Select eventType
			Case wxEVT_COMMAND_TREE_BEGIN_DRAG, ..
					wxEVT_COMMAND_TREE_BEGIN_RDRAG, ..
					wxEVT_COMMAND_TREE_BEGIN_LABEL_EDIT, ..
					wxEVT_COMMAND_TREE_END_LABEL_EDIT, ..
					wxEVT_COMMAND_TREE_DELETE_ITEM, ..
					wxEVT_COMMAND_TREE_GET_INFO, ..
					wxEVT_COMMAND_TREE_SET_INFO, ..
					wxEVT_COMMAND_TREE_ITEM_EXPANDED, ..
					wxEVT_COMMAND_TREE_ITEM_EXPANDING, ..
					wxEVT_COMMAND_TREE_ITEM_COLLAPSED, ..
					wxEVT_COMMAND_TREE_ITEM_COLLAPSING, ..
					wxEVT_COMMAND_TREE_SEL_CHANGED, ..
					wxEVT_COMMAND_TREE_SEL_CHANGING, ..
					wxEVT_COMMAND_TREE_KEY_DOWN, ..
					wxEVT_COMMAND_TREE_ITEM_ACTIVATED, ..
					wxEVT_COMMAND_TREE_ITEM_RIGHT_CLICK, ..
					wxEVT_COMMAND_TREE_ITEM_MIDDLE_CLICK, ..
					wxEVT_COMMAND_TREE_END_DRAG, ..
					wxEVT_COMMAND_TREE_STATE_IMAGE_CLICK, ..
					wxEVT_COMMAND_TREE_ITEM_GETTOOLTIP, ..
					wxEVT_COMMAND_TREE_ITEM_MENU
				Return bmx_wxtreectrl_geteventtype(eventType)
		End Select
	End Method
</textarea> <br><br></td></tr></table><br>
<a name="934571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey: your 2nd post was spot on, that's what I needed. I need to know more about how to get information out of the event.<br><br>davidDC: well, I headed into the source before I posted and yes, I found the events at the end of each source. But you know, looking at that doesn't tell me anything about HOW it works, but only which events get caught. It's not worth anything without know how to get the information you need out of the event.<br><br>Understand my dilemma? I'm getting there though! Thanks y'all.<br><br>Which additional methods does the event type contain? Where is the base type contained in the source code? Does anyone know that? <br><br></td></tr></table><br>
<a name="934573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> wx.mod/events.bmx<br><br>These are the docs from 2.9.0 (which has not been released yet, but it's built with Doxygen, so you get pretty class hierarchies) : <a href="http://docs.wxwidgets.org/trunk/classwx_tree_event.html" target="_blank">http://docs.wxwidgets.org/trunk/classwx_tree_event.html</a><br>It should be mostly relevant... <br><br></td></tr></table><br>
<a name="934577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that's a good one. Thanks! <br><br></td></tr></table><br>
<a name="934599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright. getID() doesn't seem to be the right method for me. I cannot get the wxtreeitemId  from the wxTreeCtrl using the ID only. How weird is that. There is no mention in the docs of something like wxTreeCtrl.GetItem( id ). All the methods in wxTreeCtrl assume I have the wxTreeItemID already. which I don't. I only have its id. Any ideas?<br><br>If this doesn't work , I want to use HitTest, but that needs a wxPoint. I can get that from the mouse event (need to switch over to mouse events for that, instead of tree rightclick events), but wxPoint is not recognised. I cannot do something like: pos:wxPoint = Event.GetLogicalPosition()<br><br>Which mod do I need to Import to get it to work? It should be in the core module, but why can't I create my own?<br><br>baby steps, I know. <br><br></td></tr></table><br>
<a name="934606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have a wxTreeEvent object, you can use GetItem() to refer to the wxTreeItemId.<br><br>the ID you mention is the unique identifier for a control.<br><br>Are you still attempting this? : "i want to use right click to open a pop-up menu on a wxtreectrl item."<br>If yes, I can knock out a quick demo if you want? <br><br></td></tr></table><br>
<a name="934655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had it working with a wxTreeEvent... I got the item, I opened a popup menu, but only at mousepos 0,0... That's why I wanted to go to mouse events, but then I realized (while looking at the form editor) that I had attached the Mousemove event to the main window, and not the tree item. So I added it there, and now it all works...<br><br>Big discovery for me, that you can add events on widgets level, and not just on window level. But it's working now and it's awesome.<br><br>/me happy<br><br>thanks for the guidance folks. I'll ask more questions here when I'm stuck :) <br><br></td></tr></table><br>
<a name="934656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad you got it sorted!<br><br>Yes, the event handling in wxWidgets is exceptional.<br>You can subclass most widgets too, and basically override much of the functionality - as well as how it handles all of its events. Very useful. <br><br></td></tr></table><br>
<a name="934657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but with lots of 'cotcha' moments :) <br><br></td></tr></table><br>
<a name="934658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the documentation could be a little "more full", and I have gone through some of it - but there is a lot of it.<br><br>As David mentioned, that book is excellent. The C++ examples transfer almost exactly across to BlitzMax (since I've tried my best to match the original API). <br><br></td></tr></table><br>
<a name="934679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It gets even better! I just found out that when I don't specify coordinated with PopupMenu() , the current mouse position is needed, so I don't need MouseEvents on the wxTreeCtrl at all. <br><br>I'll just file this under 'educational' and 'rtfm' <br><br></td></tr></table><br>
<a name="934758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well actually with wxMax and wxWidgets generally - "rtfm" isn't always as simple as it sounds. It sometimes takes a fair amount of googling and sifting through C++ or Python examples to find that key missing piece of info.<br><br>Downloading the actual C++ source helps - as does checking the sample code, and sometimes even the C++ sample code, as I'm not sure all the samples have been ported yet.<br><br>I also make the occassional search on the wxWidgets C++ forum.<br><br>Plain guess work has also been my friend on a few occassions!<br><br>That's not to say that Brucey hasn't done a great job with what he has been given to work with. It's just that wxWidgets is such a huge beast, and the emphasis has been on development over documentation in the wxWidgets team generally - at least according to my experience.<br><br>But at the end of the day it's well worth it. Once you get the feel of it, you tend to make the right guesses sooner rather than later - and there's no questioning the range and power of tools this exploration opens up for you.<br><br>[edit] OK, the above sounded a little heavier than intended. In the main, working with the different widgets has been a breeze and a pleasure. But the odd undocumented sections do exist where you need to be much more proactive to find the info you need - hence the above. <br><br></td></tr></table><br>
<a name="934763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But the odd undocumented sections do exist where you need to be much more proactive to find the info you need <br></div><br>Fair enough... :-)<br><br>If you feel a section/specific module is lacking in some way or other, you may wish to log an "issue" : <a href="http://code.google.com/p/wxmax/issues/list" target="_blank">http://code.google.com/p/wxmax/issues/list</a><br>That way, I can focus on improving the bits you all want improving.<br>A concept getting you down? Well, maybe we need some more examples... <br><br></td></tr></table><br>
<a name="934768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I need to be less slack and post/document the tricky bits as I come across them as well :-) <br><br></td></tr></table><br>
<a name="934853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I'll keep posting my 'cotchas' in this thread so you may have an idea of where there are holes in the docs. It will also be helpful for those who attempt to use this mod as well. But you're right, it's awesome and waaay more functional than the BRL mod, which I decided to un-install completely (for now) <br><br></td></tr></table><br>
<a name="934860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a question about setting up events.<br><br>I have propertygrid and as you know, it's not supported by wxCodeGen so I do my setup in the extended frame, not the base frame. After the setup I call<br>Connect(PROPERTY_GRID.Getid(), wxEVT_PG_CHANGED, OnPropertyGridChange)<br>to catch the changing of fields.<br><br>I get this error while compiling: Unable to convert from 'Int(wx.wx.wxEvent)' to 'Int(wxEvent)'<br><br>If I add the setup and connect code into the base frame type, it works...<br><br>Which dependency am I missing? <br><br></td></tr></table><br>
<a name="934865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> OnPropertyGridChange needs to be a Function with the parameter wxEvent.<br>eg.<br><pre class=code>
Function OnPropertyGridChange(event:wxEvent)
...
</pre><br>(assuming this is the issue of course...)<br><br>What I've tended to do, to make my life a little easier (and is how the generated code works, is something like this :<br><pre class=code>
Function _OnPropertyGridChange(event:wxEvent)
    BASETYPE(event.parent).OnPropertyGridChange(wxPropertyGridEvent(event))
End Function

Method OnPropertyGridChange(event:wxPropertyGridEvent)
 ....
End Method
</pre><br>Sometimes you need to swap event.parent for event.sink - depending how you are using Connect.<br><br>Anyway, that's just an assumption based on the supplied information.<br>Never be afraid to post code snippets ;-) <br><br></td></tr></table><br>
<a name="934874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a 'Brucey customer department' or something with several Bruceys monitoring the threads? :)<br><br>Adding that code sure did the trick. Your assumptions were correct!<br>Can you tell me why adding that extra function makes your life easier, because using just the function (I was using a method, duh) works as well. <br><br></td></tr></table><br>
<a name="934878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Can you tell me why adding that extra function makes your life easier <br></div><br>If you have a lot of code which refers to different objects that belong to the "parent", then you kind of need to do this :<br><pre class=code>
Function.......
    Local frame:MyFrame = MyFrame(event.parent)

    frame.myobject.doSomething(....)

   ....
End Function
</pre><br>Or this...<br><pre class=code>
Function.......

    MyFrame(event.parent).myobject.doSomething(....)

   ....
End Function
</pre><br><br>Whereas, from a Method, you can simply have this :<br><pre class=code>
Method .........

    myobject.doSomething(....)

    ....
End Method
</pre><br><br>I'm all for number 3.<br>If you have a look at some of the samples, you'll see various uses of 1 and 2, but I think 3 is cleaner, although you do have that extra "pass-through" function. <br><br></td></tr></table><br>
<a name="934880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh I answered my own question ust yet. If the connected code is in a Function you cannot access the internal fields in the 'live' type! Makes sense. <br><br></td></tr></table><br>
<a name="934881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like you mention in your post while I was busy typing mine. <br><br></td></tr></table><br>
<a name="936319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> [edit]never mind this post, I mixed up some docs and was qeuering the wrong fields and stuff.[/edit] <br><br></td></tr></table><br>
<a name="936352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey,<br>I'm working on the property grid again. Is wxPGChoices.Clear() implemented? I cannot use it. I get an error at compile time: Indentifier 'clear' not found. Is there another way to clear a choices list? <br><br></td></tr></table><br>
<a name="936354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops. The one that got away?<br><br>Should be there now. Sorry. <br><br></td></tr></table><br>
<a name="936358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah cool! Well, you know there is nothing better to test a module for completeness than building an application with it :) I assume you updated the version in SVN and not the compiled version?<br><br>Will you also be able to add the float property to the propertygrid? I'm using strings now to store them. <br><br></td></tr></table><br>
<a name="936360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> you know there is nothing better to test a module for completeness than building an application with it <br></div><br>Absolutely!! Which is why I find writing things such as that radio player so useful. Helped me sort some issues with wxWidgets and the BASS module - just little things which you don't really notice until you start to use them.<br><br><div class="quote"> Will you also be able to add the float property to the propertygrid? <br></div><br>Should be in there already. (Internally uses the Double property, but is exposed as Float through the API). If you can't see it, perhaps you are using it in a different place.<br><br><div class="quote"> I assume you updated the version in SVN and not the compiled version? <br></div><br>Yeah. I'm saving up for the next full release. ;-) <br><br></td></tr></table><br>
<a name="936363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got an SVN update.... It broke a lot of code in my propertygrid stuff, thanks :)<br><br><pre class=code>Local col:wxcolour = PROPERTY_GRID.GetPropertyColourByName("particle_end_color")</pre><br>Doesn't work anymore. How do you suggest I get to the property now? <br><br></td></tr></table><br>
<a name="936364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm doing this now:<br><pre class=code>Local property:wxpgproperty = PROPERTY_GRID.GetPropertyByName("particle_start_color")
Local col:wxcolour = PROPERTY_GRID.getpropertycolour(property)</pre><br>Is that the prefered method? <br><br></td></tr></table><br>
<a name="936367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also , wxFloatProperty is still not available to create. I also cannot add it to the grid example provided. <br><br></td></tr></table><br>
<a name="936377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> another question: I have this code:<br><pre class=code>
ParticleBlendChoice = New wxPGChoices.Create()
ParticleBlendChoice.Add("Light blend", LIGHTBLEND)
ParticleBlendChoice.Add("Alpha blend", ALPHABLEND)
ParticleBlendChoice.Add("Shade blend", SHADEBLEND)

pg.AppendIn( particles, New wxEnumProperty.CreateWithChoices("Blend", "particle_blend", ParticleBlendChoice,LIGHTBLEND) )
</pre><br>Choice is now default at the option LIGHTBLEND. Now I want to set the choice selection to another entry, how do I do that? I can't find a Set method which is valid. But there must be one, right? <br><br></td></tr></table><br>
<a name="936380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Doesn't work anymore. How do you suggest I get to the property now? <br></div><br>Remember I said I was removing the ...ByName() methods?<br><br>Just remove "ByName" from the method name and it will work. It halves the number of exposed methods - less for me to deal with.<br><br>so...<br><pre class=code>
Local col:wxcolour = PROPERTY_GRID.GetPropertyColour("particle_end_color")
</pre> <br><br></td></tr></table><br>
<a name="936389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Now I want to set the choice selection to another entry, how do I do that? <br></div><br>I'm trying to work it out... please hold the line... :-p <br><br></td></tr></table><br>
<a name="936398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Righty... after some tinkering with the propgrid sample...<br><br>You can do this, using a reference to the enum property :<br><pre class=code>
  enum_prop.SetValueInt(LIGHTBLEND)
</pre><br><br>it's magic ;-) <br><br></td></tr></table><br>
<a name="936485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey thanks for those tips, I'm making progress again. It would be cool if you could do something about wxFloatProperty, which is not present at the moment as far as I can see. <br><br></td></tr></table><br>
<a name="936498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> It should be there now. <br><br></td></tr></table><br>
<a name="936529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed it is! Thanks very much.<br><br>There is one more thing I really need to know, but I cannot find out how to do it. I've created a wxMultiChoiceProperty and added a list of choices to it. How can I read and set which of the choices are selected? <br><br></td></tr></table><br>
<a name="936617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try calling property.GetValueAsArrayInt:Int[](). <br><br></td></tr></table><br>
<a name="936721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> That seems to be it, but I cannot create a wxArray... nor wxArrayInt or wxArrayString... Is it implemented? I cannot find it in the source :/<br>I can use Event.GetpropertyValueAsString() as well, which gets me a ; delimited string which contains the labels, but not the indexes. Not really what I need. <br><br></td></tr></table><br>
<a name="936725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is it implemented? I cannot find it in the source <br></div><br>No... you'll get an Int[] back from the method. <br><br></td></tr></table><br>
<a name="936727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I noticed that :/ A workaround for me is to split the returned string, search through the list of selectable items and get their indexes... Messy but works. Might was well do that as arrays are out of the question for now.<br><br>Makes me wonder if I actually be able to SET the multiselections.. I cannot find in the references a way on how to do that. <br><br></td></tr></table><br>
<a name="936729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the Int array return? I though it would simply be the list of selected indexes? <br><br></td></tr></table><br>
<a name="936734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, if I do this <br><pre class=code>Local ch:wxMultiChoiceProperty = wxMultiChoiceProperty(PROPERTY_GRID.GetPropertyByName("emitter_spawners"))
Local arr:Int[] = ch.GetValueAsArrayInt()</pre><br>then my app crashes :) <br><br></td></tr></table><br>
<a name="936738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah... probably not the desire result ;-) <br><br></td></tr></table><br>
<a name="936742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, it shouldn't crash now... <br><br></td></tr></table><br>
<a name="936746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome. I'm updating SVN after I have taken a shower :) Will report back here <br><br></td></tr></table><br>
<a name="936752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried it in the sample... and that seems to work - the array contains the *values* of each of the selected items.<br><br>So, if I had two checked, the returned Int array was length of 2. <br><br></td></tr></table><br>
<a name="936757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, it works now! I do this...<br><pre class=code>Local ch:wxMultiChoiceProperty = wxMultiChoiceProperty(PROPERTY_GRID.GetPropertyByName("emitter_spawners"))
Local arr:Int[] = ch.GetValueAsArrayInt()

If arr = Null Then DebugLog "nothing"	; Return
For Local a:Int = 0 To arr.length -1
     DebugLog arr[a]
Next</pre><br>..and I get the index values of the selected choices. So that's mission accomplished. Now, to set the selections :)  BTW : this is the last of the property challenges I'm having so there is light at the end of the tunnel :) <br><br></td></tr></table><br>
<a name="936767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey,<br><br>I notice that ChangePropertyValueIntArray in wxPropertyGrid is marked as TODO. I think that one is needed to select items in multichoice properties. Am I right? <br><br></td></tr></table><br>
<a name="936821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Having had a rummage in the actual source of wxPropGrid, it looks like that method will do the job. Watch this space... <br><br></td></tr></table><br>
<a name="936837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> That would be awesome and it would allow me to add the final touch to my editor... Thanks for your support through these days, Brucey... <br><br></td></tr></table><br>
<a name="936842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Thanks for your support through these days <br></div><br>No worries :-)<br>Sorry you have been the guinea pig for much of this...<br><br><br>Anyway... it all seems to compile (at least), so see if that method does what we think it does. <br><br></td></tr></table><br>
<a name="936911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the update!  Looking at the size of this mod I'm not suprised that stuff is missing or not working. Luckily, I'm not working with deadlines =]<br><br>Nothing happens though when I use this:<br><pre class=code>
PROPERTY_GRID.ChangePropertyValueIntArray(ch, array)
</pre><br>where ch is the multichoiceproperty. I get no error, no crashes, just nothing. I can see in the mod source that I have the new version, there is code at the method declaration, so I'm sure I have the latest version compiled.<br><br>I also doing a PROPERTY_GRID.refresh() but nothing shows up. <br><br></td></tr></table><br>
<a name="937021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Back with a vengeance. =] wxTreeCtrl event (wxEVT_COMMAND_TREE_END_DRAG) is not raised when I release the mouse button after a drag... The start of the drag (wxEVT_COMMAND_TREE_BEGIN_DRAG) works fine though. All seems fine in the export from wxCodeGen.<br><br>Any ideas, Brucey? <br><br></td></tr></table><br>
<a name="937783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey,<br><br>Could you take a look at the probs with multichoice and mousedrag end? I'd love to get these working now. <br><br></td></tr></table><br>
<a name="937784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh and one more question. How do I make a wxGLCanvas size with the sizer it's placed on? <br><br></td></tr></table><br>
<a name="937798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Succes in plugging the engine into the editor! Maybe you're interested in what I've been up to with wxMax, so here are some screenshots:<br><br><a href="http://wiebo.wordpress.com/2009/02/10/particle-engine-up-and-running-in-the-editor/" target="_blank">http://wiebo.wordpress.com/2009/02/10/particle-engine-up-and-running-in-the-editor/</a> <br><br></td></tr></table><br>
<a name="937844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Funnily enough, I missed posts 55 &amp; 56...  I'll have a look into it this evening.<br>Sorry for the delay...<br>(having too much fun with Raknet I suppose... :-p ) <br><br></td></tr></table><br>
<a name="937850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem Brucey... I've been busy being sick and plugging holes in my code =] <br><br></td></tr></table><br>
<a name="937880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the dragging... try calling event.Allow() against the wxEVT_COMMAND_TREE_BEGIN_DRAG.<br>Apparently, by default the drag event is vetoed, so you must specifically allow it.<br><br>Google cache of some mention of it, and lack of docs mentioning it :<br><br>http://74.125.77.132/search?q=cache:lbdlVojpTqIJ:trac.wxwidgets.org/ticket/3915+wxtreectrl+drag&amp;hl=en&amp;strip=1<br><br><br>Of course, if that doesn't help you, be sure and let me know :-) <br><br></td></tr></table><br>
<a name="937881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to have the selection thing working, although it appears to be a bit backwards...<br><pre class=code>
pg.ChangePropertyValueStringArray(mc, ["Cabbage"])
</pre><br>(taken from the sample)<br><br>Would be nice to be able to set it via either by index, or the values... <br><br></td></tr></table><br>
<a name="937912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, allowing the drag event works! That is cool. Now I can let the user drag and drop image to particle, particle to spawner, spawners to emitter.. This saves a lot on selecting and typing from the user.<br><br>Yes, my idea about the multi selection is to get it working with the index. In fact, labels could be (in theory) be identical... I'll see what happens if I use a string... I would definitly prefer index., through<br><pre class=code>PROPERTY_GRID.ChangePropertyValueIntArray(ch, array)</pre> <br><br></td></tr></table><br>
<a name="937915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I would definitly prefer index., through <br></div><br>So would I. I'll have a look and see if there is a way to hack around it and provide that functionality.<br><br>btw, I've just updated to the latest wxPropGrid source - various bug fixes and such like. <br><br></td></tr></table><br>
<a name="937917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tested with strings (works fine) and with identical labels and the grid doesn't give a damn, it works like a charm. I never expected that!<br><br>Did you update SVN? is it safe? =] <br><br></td></tr></table><br>
<a name="937919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is it safe? <br></div><br>Well, I've only tried it on Mac so far, and it seems to work ok.<br>Although one bug fix means that if you create a grid with wxPG_AUTO_SORT, it does actually sort it now... (the sample uses this flag, and now everything appears in a different order - I hadn't noticed that it didn't work til now). <br><br></td></tr></table><br>
<a name="937920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> I take that last statement back Brucey. Having and selecting two identical labels selects the same item twice... It looks like the property enumnerates the strings and selects the first one it encounters.... Like I expected it to. So selection by index seems to be very important to avoid this. <br><br></td></tr></table><br>
<a name="937931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you likely to have two identical labels? <br><br></td></tr></table><br>
<a name="937937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Righty... I've added a new method for wxMultiChoiceProperty :<br><br>SetValueIntArray(value:Int[])<br><br>Pass in an array of values. These are the same values as you would get from a call to GetValueAsArrayInt().<br>Note that these arrays are not indexes. Yes, if you happen to number your values as 0, 1, 2, ....10, they will appear that way, but they are "values". For example, in the sample :<br><pre class=code>
	Local tchoices:wxPGChoices = New wxPGChoices.Create()
	tchoices.Add("Cabbage",10)
	tchoices.Add("Carrot",15)
	tchoices.Add("Onion",20)
	tchoices.Add("Potato",25)
	tchoices.Add("Strawberry",30)
</pre><br>Those values are what would be returned from a call to GetValueAsArrayInt().<br><br>Anyhoo... calling this seems to work in the sample :<br><pre class=code>
mc.SetValueIntArray([10, 11, 30])
</pre><br><br>I've based the code on how it sets the property after the choice dialog has been displayed and you've selected your choices.<br><br>wxPGProperty already has a SetValueIntArray() method, so I'm really just overriding its use here, although in reality the multichoice property doesn't support this functionality. No harm in extending it though :-)<br><br><br>See if that does what you need. <br><br></td></tr></table><br>
<a name="938001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Are you likely to have two identical labels?  <br></div><br>I can work around it, but it's nice to know that internally things work ok :)<br><br><div class="quote"> Note that these arrays are not indexes <br></div><br>Oh but that's exactly what I need. Each item in my particle library has a unique ID and that is what I'm going for here.<br><br>I'll let you know how it's going. <br><br></td></tr></table><br>
<a name="938007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> "Note that these arrays are not indexes"<br>Oh but that's exactly what I need. Each item in my particle library has a unique ID and that is what I'm going for here.<br> <br></div><br>I guess it works how you want then.<br><br>When you've previously used the word "index" I thought you meant index in the sense of the value zero being the first item in the list (ie. index 0).<br>The "values" stored in a multichoice (or any choice) property can be any value, in any order.<br><br>:-) <br><br></td></tr></table><br>
<a name="938009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, works as intended, as far as I can see! The new propertygrid source is working as well, as I re-compiled it just now of course. <br><br></td></tr></table><br>
<a name="938537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey ho... seeing as you've still not got your resizing working.. here's an example of the glmax2d sample with support for resize :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Framework wx.wxApp
Import wx.wxFrame
Import wx.wxglmax2D
Import wx.wxTimer
Import wx.wxPanel

SetGraphicsDriver GLMax2DDriver()

New MyApp.run()


Type MyApp Extends wxApp

	Field frame:MyFrame

	Method OnInit:Int()

		' Create the main application windowType MyFrame Extends wxFrame

		frame = MyFrame(New MyFrame.Create(,,""))
		
		' Show it and tell the application that it's our main window
		'frame.ShowFullScreen(True)
		'frame.Maximize(True)
		frame.show(True)
		SetTopWindow(frame)

		Return True
	End Method

End Type

Type MyFrame Extends wxFrame

	Field canvas:MyCanvas

	Method OnInit()
	
		canvas = MyCanvas(New MyCanvas.Create(Self, -1, GRAPHICS_BACKBUFFER|GRAPHICS_DEPTHBUFFER))
	
		ConnectAny(wxEVT_CLOSE, OnClose)
	End Method
	
	Function OnClose(event:wxEvent)
		MyFrame(event.parent).canvas.timer.Stop() ' we really need to stop the timer on Mac...
		event.Skip()
	End Function

End Type


Type MyCanvas Extends wxGLCanvas

	Field timer:wxTimer
	
	Field w:Int, h:Int
	Field sizeChanged:Int

	Method OnInit()
		SetBackgroundStyle(wxBG_STYLE_CUSTOM)
	
		timer = New wxTimer.Create(Self)


		ConnectAny(wxEVT_TIMER, OnTick)
		ConnectAny(wxEVT_SIZE, OnSize)

		timer.Start(100)
	End Method

	Method OnPaint(event:wxPaintEvent)
		Render()
	End Method
	
	Method DoSize(width:Int, height:Int)
		sizeChanged = True
		w = width
		h = height
	End Method
	
	Function OnSize(event:wxEvent)
		Local w:Int, h:Int
		wxSizeEvent(event).GetSize(w, h)
		MyCanvas(event.parent).DoSize(w, h)
	End Function

	Method Render()

		SetGraphics CanvasGraphics2D( Self )
		
		If sizeChanged Then
			sizeChanged = False
			SetViewport(0, 0, w, h)
		End If

		SetClsColor(255, 255, 255)
		SetColor(0, 0, 0)
		
		Cls

		drawClock()
		
		Flip

	End Method

	Function OnTick(event:wxEvent)
		wxWindow(event.parent).Refresh()
	End Function
	
	
	Method drawClock()
	
		SetLineWidth(2)

		Local x:Int = 200, y:Int = 200
		Local radius:Int = 100
		' clock ticks
		For Local i:Int = 0 Until 12
			Local inset:Double = 0
		
			If i Mod 3 = 0 Then
				SetLineWidth(2)
				inset = 0.2 * radius
			Else
				inset = 0.1 * radius
				SetLineWidth(1)
			End If
			
			DrawLine x + (radius - inset) * Cos(i * 30), y + (radius - inset) * Sin(i * 30), ..
				x + radius * Cos(i * 30), y + radius * Sin (i * 30)
			
			' draw numbers
			inset = 0.3 * radius
			
			Local t:Int = (i + 2) Mod 12 + 1
			DrawText romanNumerals(t), x + (radius - inset) * Cos(i * 30) - 7, y + (radius - inset) * Sin(i * 30) - 6
		Next


		' clock hands
		Local hours:Int = CurrentTime()[0..2].toInt() Mod 12
		Local minutes:Int = CurrentTime()[3..5].toInt()
		Local seconds:Int = CurrentTime()[6..8].toInt()
		
		' hour hand:
		' the hour hand is rotated 30 degrees  per hour + 1/2 a degree per minute
		'
		SetLineWidth(4)

		DrawLine x, y, x + radius / 2 * Sin(30 * hours + minutes / 2.0), ..
				   y + radius / 2 * -Cos(30 * hours + minutes / 2.0)
		
		
		' minute hand:
		' the minute hand is rotated 6 degrees per minute + 1/10 a degree per second
		'
		SetLineWidth(2)
		DrawLine x, y, x + radius * 0.75 * Sin(6 * minutes + seconds / 10.0), ..
				   y + radius * 0.75 * -Cos(6 * minutes + seconds / 10.0)
		
		' seconds hand:
		' the second hand is rotated 6 degrees per second
		'
		SetColor(255, 0, 0)

		DrawLine x, y, x + radius * 0.7 * Sin(6 * seconds), ..
				   y + radius * 0.7 * -Cos(6 * seconds)


	End Method

	Method romanNumerals:String(value:Int)
		Local rn:String = ""
		
		While value &gt; 9
			rn:+ "X"
			value:- 10
		Wend
	
		If value &gt; 8 Then
			rn:+ "IX"
			value:- 9
		End If
		
		If value &gt; 4 Then
			rn:+ "V"
			value:- 5
		End If
		
		If value &gt; 3 Then
			rn:+ "IV"
			value:- 4
		End If
		
		While value &gt; 0
			rn:+ "I"
			value:- 1
		Wend
		
		Return rn
	End Method

End Type
</textarea><br>Note the call to SetViewport() when required.<br><br>:o) <br><br></td></tr></table><br>
<a name="938620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh =] I'll implement that right now! thanks m8<br><br><br>[some time later] Works like a charm. Thanks! [/some time later] <br><br></td></tr></table><br>
<a name="938695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shouldn't you be skip()'ing the size event Brucey?<br><br>From wxEvent docs:<br><br><div class="quote"> In general, it is recommended to skip all non-command events to allow the default handling to take place <br></div> <br><br></td></tr></table><br>
<a name="938700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably :-)<br>I just hacked the example together... (as one does!) <br><br></td></tr></table><br>
<a name="967673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> BACK!!<br><br>I'm doing some more GUI things for my editor, and guess what happens when I try to raise an event when moving splitter sashes?<br>This is the generated code from CodeGen at the event setup part:<br><pre class=code>left_splitter.ConnectAny(EVENT_OnSplitterSashPosChanged_NOT_AVAILABLE, 
_OnLeftSplitterChange, Null, Self)</pre><br>Ofcourse, the same event is added in the methods part of the code:<br><pre class=code>	Function _OnLeftSplitterChange(Event:wxEvent)
		MAIN_FRAMEBase(Event.sink).OnLeftSplitterChange(EVENT_OnSplitterSashPosChanged_NOT_AVAILABLE(Event))
	End Function

	Method OnLeftSplitterChange(Event:EVENT_OnSplitterSashPosChanged_NOT_AVAILABLE)
		DebugLog "Please override MAIN_FRAME.OnLeftSplitterChange()"
		Event.Skip()
	End Method</pre><br>So, I'm not saying this is a wxMAX problem, but more a codegen problem.. According to the wx docs, the splitter should create a wxSplitterEvent. <br>wxFormBuilder 3.0 supports this event, calls it a OnSplitterSashPosChanged.<br>Any ideas on how to fix this , Brucey? <br><br></td></tr></table><br>
<a name="967690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops. Thought I had them all !<br><br>I've committed the changes, which you can get either by updating all of wxMax, or just the tools (if you aren't yet using the latest breakable code).<br><br>Or you can add this :<br><pre class=code>
	AddEvent(TEventType.Set("OnSplitterSashPosChanged", "wxSplitterEvent", "wxEVT_COMMAND_SPLITTER_SASH_POS_CHANGED"))
	AddEvent(TEventType.Set("OnSplitterSashPosChanging", "wxSplitterEvent", "wxEVT_COMMAND_SPLITTER_SASH_POS_CHANGING"))
	AddEvent(TEventType.Set("OnSplitterDClick", "wxSplitterEvent", "wxEVT_COMMAND_SPLITTER_DOUBLECLICKED"))
	AddEvent(TEventType.Set("OnSplitterUnsplit", "wxSplitterEvent", "wxEVT_COMMAND_SPLITTER_UNSPLIT"))
</pre><br>to the InitEvents() function in code_gen.bmx.<br><br>HTH. <br><br></td></tr></table><br>
<a name="967729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, that's super! I havent updated wxMAX in a while so I will just get the new tools. Thanks Brucey. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
