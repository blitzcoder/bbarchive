<!DOCTYPE html><html lang="en" ><head ><title >Glue.cpp</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Glue.cpp</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Glue.cpp</a><br><br>
<a name="1067783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I've tried downloading all modules and compiling them. <br>However, as soon as the folder contains an glue.cpp, the compilation fails. I don't get any specific error message when I use the latest version (4.5.0) of MinGW :<br><br>Compiling:glue.cpp<br>ar: creating C:/Blitz/BlitzMax/mod/bah.mod/base64.mod/base64.debug.win32.x86.a<br>Build Error: failed to compile C:/Blitz/BlitzMax/mod/bah.mod/box2d.mod/glue.cpp<br>Process complete<br><br>When I use an older version  (3.4.5) in box2d it says something abouyt a clash of declarations between InterlockedExchange in a MinGW header file and this file.<br><br>Hope you can help...<br>Thanks in advance <br><br></td></tr></table><br>
<a name="1067796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you copy ar.exe and ld.exe from your MinGW folder into the blitzmax/bin folder?<br><br>If not, you may be running into a version conflict.<br><br>You may also need to copy some additional library files from your MinGW install into blitzmax/lib -- check the forums for instructions on using different MinGW versions... <br><br></td></tr></table><br>
<a name="1067891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, you need to ensure that all the binaries for MinGW are also the same ones that are in the BlitzMax bin and lib dirs.<br>You may need to search for some of the libs in the MinGW dir structure, as they are spread out in several areas.<br><br>Once all the local files are up-to-date, it should build fine. <br><br></td></tr></table><br>
<a name="1068101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still must be doing something wrong. I copied ar.exe and ld.exe to the bin folder, and copied every *.a and *.o file i could find to the Blitz lib folder, but I still get a build error on glue.cpp<br><br>I've installed the older version, so I could at least see a more informative error message (see below)<br><br>Any thoughts ?<br><br>ar: creating c:/Blitz/BlitzMax/mod/bah.mod/base64.mod/base64.debug.win32.x86.a<br>Compiling:glue.cpp<br>g++ -I"c:/Blitz/BlitzMax/mod/bah.mod/box2d.mod" -I"c:/Blitz/BlitzMax/mod" -I"c:/<br>Blitz/BlitzMax/mod/brl.mod/blitz.mod" -I"c:/Blitz/BlitzMax/mod/bah.mod/box2d.mod<br>/include" -w -march=pentium -ffast-math -fno-exceptions  -c -o "c:/Blitz/BlitzMa<br>x/mod/bah.mod/box2d.mod/.bmx/glue.cpp.debug.win32.x86.o" "c:/Blitz/BlitzMax/mod/<br>bah.mod/box2d.mod/glue.cpp"<br>In file included from c:/MINGW/include/c++/3.2.3/bits/stl_alloc.h:90,<br>                 from c:/MINGW/include/c++/3.2.3/memory:55,<br>                 from c:/Blitz/BlitzMax/mod/bah.mod/box2d.mod/Source/Dynamics/b2<br>Body.h:27,<br>                 from c:/Blitz/BlitzMax/mod/bah.mod/box2d.mod/include/Box2D.h:42<br>,<br>                 from c:/Blitz/BlitzMax/mod/bah.mod/box2d.mod/glue.cpp:24:<br>c:/MINGW/include/c++/3.2.3/bits/stl_threads.h:57: declaration of C function `<br>   long int InterlockedExchange(long int*, long int)' conflicts with<br>c:/MINGW/include/winbase.h:1686: previous declaration `LONG<br>   InterlockedExchange(volatile LONG*, long int)' here<br>Build Error: failed to compile c:/Blitz/BlitzMax/mod/bah.mod/box2d.mod/glue.cpp <br><br></td></tr></table><br>
<a name="1068203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> From that output, you may have a bad installation of MinGW - usually you do not see MinGW conflicting with itself.<br>I would try either removing or moving your MINGW folder and installing the new version fresh - remember that exes and libs for different versions of MINGW are probably not compatible - as is shown by the files that ship with BlitzMax (which is based on a slightly older version of MINGW) <br><br></td></tr></table><br>
<a name="1068886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Ik tried this again. This time checking all the options of MinGW, including the ada and fortran compiler. (Is used to only include the c compiler).<br>Now the glue.cpp seems to be passed, but later on I get the following errors<br>-----------------------------------------------------------------------<br>In file included from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/arith.h:36:0,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/geom.h:20,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/types.h:25,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/gvc/gvplugin_render.h:20,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/gvc/gvrender.c:31:<br>C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/logic.h:32:23: error: two or more data types in declaration specifiers<br>Build Error: failed to compile C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/gvc/gvrender.c<br>Process complete<br>---------------------------------------------------<br>When I delete both graphviz.mod and graphvizmax.mod, libcurl.mod gives the same error etc, so it's no use removing those modules, since I will lose half of the functionality.<br><br>Any help would be appreciated.<br><br>Thanks in advance <br><br></td></tr></table><br>
<a name="1068892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Believe it or not, it really isn't meant to be this difficult to set up MinGW to compile successfully.<br><br>Are you using the download versions of the modules or directly from the SVN repository?<br><br>I can try a clean install of everything and take notes of what I did to get everything set up. (if it doesn't work, then I'll probably be apologising much!) <br><br></td></tr></table><br>
<a name="1068910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Believe it or not, it really isn't meant to be this difficult to set up MinGW to compile successfully. <br></div><br><br>That's what I thought too, until I tried to re-install it the other day. the older version were pretty straightforward, but it appears that the newer ones jumbled around a bunch of the include directories and such that are causing problems.<br><br>Got everything straightened out in the end, but it's definitely more complicated than it used to be.<br><br>(Maybe I should zip up my  finally-working install + necessary environment variables to safe others the headache...) <br><br></td></tr></table><br>
<a name="1069116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes please... It's also not possible to get older versions from the MinGW site, so any help to get a working version is very much appreciated. <br><br>Thanks,<br><br>Serge <br><br></td></tr></table><br>
<a name="1069124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the sequence I just used to do a clean install and build on Windows XP :<br><br><pre class=code>

Download :

mingw-get-inst-20101030.exe  (gcc 4.50-1)

---------------------------------------

Run and Choose : C &amp; C++ options.
Install to C:\MinGW

---------------------------------------

Download latest BlitzMax 1.41
Install to C:\BlitzMax

---------------------------------------

Set environment variables :
MINGW = C:\MinGW
PATH += C:\MinGW\bin

---------------------------------------

Copy files :

To C:\BlitzMax\bin

C:\MinGW\bin\ar.exe
C:\MinGW\bin\ld.exe


To C:\BlitzMax\lib

C:\MinGW\lib\gcc\mingw32\4.5.0\crtbegin.o
C:\MinGW\lib\gcc\mingw32\4.5.0\crtend.o
C:\MinGW\lib\gcc\mingw32\4.5.0\libgcc.a
C:\MinGW\lib\gcc\mingw32\4.5.0\libstdc++.a
C:\MinGW\lib\crt1.o
C:\MinGW\lib\crt2.o
C:\MinGW\lib\dllcrt1.o
C:\MinGW\lib\dllcrt2.o
C:\MinGW\lib\libadvapi32.a
C:\MinGW\lib\libcomctl32.a
C:\MinGW\lib\libcomdlg32.a
C:\MinGW\lib\libgdi32.a
C:\MinGW\lib\libglu32.a
C:\MinGW\lib\libkernel32.a
C:\MinGW\lib\libmingw32.a
C:\MinGW\lib\libmingwex.a
C:\MinGW\lib\libmoldname.a
C:\MinGW\lib\libmsimg32.a
C:\MinGW\lib\libmsvcrt.a
C:\MinGW\lib\libole32.a
C:\MinGW\lib\liboleaut32.a
C:\MinGW\lib\libopengl32.a
C:\MinGW\lib\libshell32.a
C:\MinGW\lib\libuser32.a
C:\MinGW\lib\libuuid.a
C:\MinGW\lib\libwinmm.a
C:\MinGW\lib\libws2_32.a
C:\MinGW\lib\libwsock32.a

---------------------------------------

Open CMD and cd to C:\BlitzMax\bin

Run :

bmk makemods

</pre><br><br>The last part you can do from the GUI through the option Build Modules.<br>I prefer the command-line.<br><br>I then copied BaH.Graphviz and build that in the same way...<br>... only to be told :<br><pre class=code>
C:/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/htmllex.c:25:19: fatal error: expat.h: No such file or directory
</pre><br>So I added BaH.expat and built again. (haw haw)<br><br>This time it went through cleanly and finished building graphviz.<br><br>...<br><br>To prove it is working, I also added BaH.graphvizmax2d, so that I could see something on the screen, then built and ran the example_01 demo from the graphviz module.<br>Success!<br><br>...<br><br>I hope this helps. <br><br></td></tr></table><br>
<a name="1069126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I built with both the default "bmk" and my custom one. Interestingly, oggvorbis does not compile with -Os option (size), but builds fine without, or with -O3 (speed!) :-) <br><br></td></tr></table><br>
<a name="1069128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have to say, the file copying thing is a bit of a pain...<br><br>I've uploaded the specific files from the above-mentioned release and put them on my website :<br><br><a href="http://brucey.net/programming/blitz/mingw/win32/bmx_mingwfiles_450.rar" target="_blank">bmx_mingwfiles_450.rar</a> (1.2 meg)<br><br>This should hopefully save some time when it comes to finding the right files...<br>Simply unrar and drop the files into the relevant folders. (you may wish to backup the old ones first..) <br><br></td></tr></table><br>
<a name="1069141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made a batch script that uses grep and awk (Unix command line tools for windows) that automatically overwrite the existing files with the ones from mingw.<br><br>Now it's just a doubleclick to fix it. <br><br></td></tr></table><br>
<a name="1069143"></a>

<a name="1069147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I was learning AWK on unix (way back when), I wrote a curs-based network chess game in it, called chawk... it allowed different pts/tty sessions to play against each other...  fun fun :-p<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1069588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I start to feel really stupid :(<br>I did everything Brucey said, but I still get the compile error. The only difference I see is that the lib\gcc\mingw32\4.5.0 is 4.5.2 on my system even though the filename is exactly the same.<br><br>In my blitzmax folders are the following modules<br><br>brl.mod<br>pub.mod<br>maxgui.mod<br>blitz3d.mod<br>bah.mod<br>   expat.mod<br>   graphviz.mod<br>   graphvizmax2d.mod<br><br>And I still get the following compile error:<br><br>In file included from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/<br>arith.h:36:0,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/<br>geom.h:20,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/<br>types.h:25,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/gvc/gvp<br>lugin_render.h:20,<br>                 from C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/gvc/gvr<br>ender.c:31:<br>C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/lib/common/logic.h:32:23: error:<br>two or more data types in declaration specifiers<br>Build Error: failed to compile C:/Blitz/BlitzMax/mod/bah.mod/graphviz.mod/src/li<br>b/gvc/gvrender.c<br><br>Help ... :( <br><br></td></tr></table><br>
<a name="1069592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also tried not pre-packaged and got version 4.5.0 that way, but still got the error :( <br><br></td></tr></table><br>
<a name="1069599"></a>

<a name="1069600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try editing the src/lib/config.h file, and change this :<br><pre class=code>
#ifndef WIN32
#define HAVE_BOOL 1
#endif
</pre><br>to this<br><pre class=code>
//#ifndef WIN32
#define HAVE_BOOL 1
//#endif
</pre><br>and see what fate befalls you....<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1069698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup... that's it... Finally... Thank you :)<br><br>Does this mean the Win32 directive isn't set in my compiler?<br>It's a 64 bit system with Windows 7, but this is hardly an exception nowadays if you ask me. <br><br></td></tr></table><br>
<a name="1069723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Finally found the cause of all of this.<br>I downloaded the source code from google code, but I noticed I missed some modules (like persistence.mod) so I found another mirror.<br><br><a href="https://github.com/Htbaa/bah.mod" target="_blank">https://github.com/Htbaa/bah.mod</a><br><br>This code compiles almost without any problem. <br><br>Until now only raknetrooms.mod and xmlwriter.mod give compiletime errors. Everything else compiles :) <br><br></td></tr></table><br>
<a name="1069907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I spoke too soon... :( compiling now works.<br>However I did all of this to compile an example and now I when I run the example, I get the following errors during linking:<br><br>C:/Blitz/BlitzMax/mod/bah.mod/mathtoolkit.mod/mathtoolkit.debug.win32.x86.a(glue.cpp.debug.win32.x86.o):glue.cpp:(.text+0x9b85): undefined reference to `_Unwind_Resume'<br><br>C:/Blitz/BlitzMax/mod/bah.mod/mathtoolkit.mod/mathtoolkit.debug.win32.x86.a(glue.cpp.debug.win32.x86.o):glue.cpp:(.text$_ZNKSt5ctypeIcE5widenEc[__ZNKSt5ctypeIcE5widenEc]+0x2e): undefined reference to `std::ctype&lt;char&gt;::_M_widen_init() const'<br><br>C:/Blitz/BlitzMax/mod/bah.mod/mathtoolkit.mod/mathtoolkit.debug.win32.x86.a(glue.cpp.debug.win32.x86.o):glue.cpp:(.text+0x56d2): undefined reference to `__cxa_get_exception_ptr'<br><br>And a lot more of these. :(<br><br>Any idea anyone ? <br><br></td></tr></table><br>
<a name="1069909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> _Unwind_Resume <br></div><br>This is a problem with your MinGW installation :-)<br><br>The second one.. appears to be a lib conflict somewhere in your MinGW installation.<br>Check that ld.exe etc in BlitzMax/bin are the matching ones for your MinGW version. <br><br></td></tr></table><br>
<a name="1069921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> The three mathtoolkit examples are building and linking fine here - using TDM 4.4 and my bmk... <br><br></td></tr></table><br>
<a name="1069958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey: Does raknetrooms rebuild without error for you on your PC as well?<br><br>its glue.cpp is giving me a 'conflicting declaration' error... <br><br></td></tr></table><br>
<a name="1070436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tazzy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still not working unfortunately :(<br><br>Tried the latest version of MinGW again and now loaded everything from the net. Copied ar.exe and ld.exe to the BlitzMax/bin folder and copied all libraries as instructed. Still builds, so the new sources are probably better.<br><br>Howerver still problems with references to Unwind_Resume.<br><br>C:/Blitz/BlitzMax/mod/bah.mod/mathtoolkit.mod/mathtoolkit.debug.win32.x86.a(glue.cpp.debug.win32.x86.o):glue.cpp:(.text+0x21b): undefined reference to `_Unwind_Resume'<br><br>etc...<br><br>Can anyone explain what this means<br><br>Because this page : <a href="http://refspecs.freestandards.org/LSB_1.3.0/gLSB/gLSB/baselib--unwind-resume.html" target="_blank">http://refspecs.freestandards.org/LSB_1.3.0/gLSB/gLSB/baselib--unwind-resume.html</a><br><br>isn't really hellpfull.<br><br>I have no knowledge of gcc whatsoever. I'm a c# programmer in my day job. Never any c or c++. <br><br></td></tr></table><br>
<a name="1072926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>GCC currently supports two methods of stack frame unwinding: 
Dwarf-2 (DW2) or SJLJ (setjmp/longjmp). 

Until recently, only SJLJ has been available for the Windows platform. 

This affects you, the end user, primarily in programs that 
throw and catch exceptions. 
Programs which utilize the DW2 unwind method generally execute more quickly
than programs which utilize the SJLJ method, because the DW2 method incurs
no runtime overhead until an exception is thrown.</pre><br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=93692#1072696" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=93692#1072696</a><br>Downloading that installer instead did the trick for me.<br><br>Follow Brucey's instructions some posts up, but also add:<br><pre class=code>import "-lstdc++"
import "-lgcc"</pre>to <i>brl.mod/blitz.mod/blitz.bmx</i> before you rebuild all modules. <br><br></td></tr></table><br>
<a name="1072962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps those imports should be added to the blitzmax modules in the next update. :-? <br><br></td></tr></table><br>
<a name="1072978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it fixed the error I was getting, until I used Framework.<br>Then I had to add those two line in the top of my own source instead.<br><br>So what I ended up doing instead was editing the bmk source,<br>and moved those two '-lstdc++' and '-lgcc' first in line when linking.<br>Seem to do the trick, although not very well tested.<br><br>For those interested, it's around line 310 in bmk_util.bmx.. <br><br></td></tr></table><br>
<a name="1072981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure my bmk_ng changes the link order too - because of problems I found with mingw builds on Linux and Mac. <br><br></td></tr></table><br>
<a name="1072986"></a>

<a name="1072989"></a>

<a name="1072990"></a>

<a name="1072991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> If only I could get bmk_ng to work..<br><br>For some strange, unknown reason it fails to build modules here on my machine :-P<br><br>If I'm not mistaken it should be done like this?<br>* compile bmk.bmx (release, with/without threads, no-gui)<br>* copy/rename to bmk.exe<br>* also copy core.bmk and build.bmk to Blitzmax/bin<br><br>If I do like that all I get is this when trying to rebuild all modules:<br><br>'Build Error: failed to compile (2) C:/Program Files (x86)/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c'<br><br>Update:<br>if I try to build bmk through the cmd with -v added I get:<br>Compiling:bmk_config.bmx<br><br>/usr/bin/wine "C:/Program Files (x86)/BlitzMax/bin/bcc.exe"  -g x86 -v -r -f brl.basic -o "C:/Program Files (x86)/BlitzMax/src/bmk_ng/.bmx/bmk_config.bmx.release.win32.x86.s"<br><br>But eh, why on earth do it add /usr/bin/wine? I'm on win7 x64..<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1073011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> That sounds about right... <br><br>make.bmk<br> - contains lua implementations of some of the max bmk.<br><br>core.bmk<br> - just some helper functions<br><br>custom.bmk<br> - you can add this to override various build options, like compiling specifically for sse processors, etc.<br><br>There's not much to it really.<br><br>The thread version just builds multiple c/c++ files in parallel, which saves a LOT of time with some of the larger modules.<br><br>I find the custom build options of most use. Where you get some people hand-copying stuff into app bundles all the time, I'm afraid I just don't have the patience, and rather have the build do everything for me (including setting icons etc).<br><br>Not sure why it wouldn't build anything for you though... <br><br></td></tr></table><br>
<a name="1073013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, don't use config.bmk...  it's for cross-compiling only. <br><br></td></tr></table><br>
<a name="1073016"></a>

<a name="1073019"></a>

<a name="1073020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I didn't copy the config.bmk, <br>but when building with cmd inside the bmk_ng source folder <br>bmk_ng used the one inside that folder..<br><br>And guess where I was when trying to build modules too :-)<br><br>After cd'ing out of the sourcefolder/removing config.bmk things are working.<br>Except I still can't build bmk_ng with cmd, <br>permision denied when trying to open outputfile bmk.exe.<br>Oh well, can't have it all. Builds fine through the ide.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
