<!DOCTYPE html><html lang="en" ><head ><title >Mac Screensaver Module</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mac Screensaver Module</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Mac Screensaver Module</a><br><br>
<a name="931389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh....<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/screensaver_01.png"><br><br>very basic example...<br><pre class=code>
SuperStrict

Framework BaH.MacScreenSaver

Import "drawstuff.m"

Extern
	Function drawStuff(width:Float, height:Float)
End Extern

SetScreenSaver(New myScreenSaver)

Type myScreenSaver Extends TMacScreenSaver

	Method DrawRect(width:Float, height:Float)
		drawstuff(width, height)
	End Method
	
End Type
</pre><br>the drawStuff() function is just drawing some arcs and things via Cocoa... since I just wanted to see if the callbacks were working at all.<br><br><b>Good things</b><br> * It compiles<br> * It runs<br><br><b>Bad things</b><br> * It doesn't unload properly - although the destructor is called for the view, I think the BlitzMax side of it is still hanging on.<br> * Can't quit System Preferences after showing the preview - Need to force quit it.<br> * Need to hard-reset (the computer) if you mistakenly go fullscreen with it ;-)<br><br>Otherwise... it's kind of working :-p<br><br><br>... this is about attempt 6... of trying to get it working. (if at first you don't succeed... probably best not to bother!) <br><br></td></tr></table><br>
<a name="931392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Exciting! I've wanted to be able to do this for ages. Those bad things are pretty bad though... <br><br></td></tr></table><br>
<a name="931409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah... and I've really no idea where to go on from here :-) <br><br></td></tr></table><br>
<a name="1029740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Brucey, I never saw this post before, sorry to resurrect it, but have you had any more progress with this? <br><br></td></tr></table><br>
<a name="1029810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzMax in its current form doesn't work well in a "loadable" binary context on the Mac. It runs fine (i.e. the loop runs, you can draw stuff, etc), but when it comes to unloading, it ain't happening.<br>Also, with 10.6, it seems screensavers need to be 64bit (probably, I haven't checked for sure).<br><br>So, one needs to hold out some hope that things will get easier with bmx2, which makes C++ instead of assembler - and in theory will give us more control over how the binary itself is built. And of course, 64bit support :-) <br><br></td></tr></table><br>
<a name="1030008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> BMX2?!?! <br><br></td></tr></table><br>
<a name="1030035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> BMX2?!?!  <br></div><br><br>Yes -- there's some other threads about it if you look around.<br><br>It's supposedly a stripped down version of Blitzmax that's pretty early in the development process, but sounds very promising. <br><br>Main feature is a wide range of new target compilation platforms: windows, Android, flash, html5, ...?  (= web games &amp; mobile games) <br><br></td></tr></table><br>
<a name="1030036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... and Mac and Linux (not so mobile?) <br><br></td></tr></table><br>
<a name="1030115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> BMX2 sounds like the answer to my prayers.<br><br>As for screen savers in 10.6 everything I've found and tried to hack together requires 64 bit so *tear* <br><br></td></tr></table><br>
<a name="1035834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yah, it's a pity it's so tricky to implement. On Windows it's not too bad to do a screensaver, although the preview window is always a little tricky.<br><br>Let me know if you ever get this working properly, Brucey. I'd actually like to just use Blitz to launch a second executable as the screensaver, made in some other software. It's just that it can't really integrate with the preview window thing, and it seems any custom configuration options on osx have to have one of those GUI sheet things made for it in the interface builder, so it's one example of Apple's `you gotta use our tools` approach. Oh well.<br><br>In the old days, like on the Amiga, there was no official screensaver preference thing and so you had programs which managed the functionality of blanking the display etc, monitoring of keyboard input, as a separate application. `After Dark` springs to mind. It would just sit and monitor input and trigger the screensaver after a given time period, which was just a standard application. Maybe going back to `the old days` might be the only decent solution for Blitz on OSX? It would just need some way to monitor all user input in the system, not just within the Blitz app. But is that easily doable? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
