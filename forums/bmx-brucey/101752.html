<!DOCTYPE html><html lang="en" ><head ><title >brl and pub module updates</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >brl and pub module updates</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >brl and pub module updates</a><br><br>
<a name="1210330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since the official BRL and PUB modules where re-licenced to zlib/libpng, it gives us the opportunity to update/improve/fix and then release them back to the community.<br><br>I've set up git repositories <b><a href="https://github.com/maxmods" target="_blank">here</a></b>, that I will be updating over time. Initially I will be updating the various libraries (libpng, etc) to their latest versions, some of which are sadly quite dated now.<br><br>There are potential security issues with using old image libraries (buffer over/underflows, etc) - although if your simply use it to load images for your game and are not intending accessing 3rd-party images, then of course it's something you shouldn't need to worry about.<br><br>And of course, if there are useful tweaks we can apply in general to the modules, I'm all for moving them forward as such. <br><br></td></tr></table><br>
<a name="1210438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting indeed.<br><br>I noticed that you have the bah.mod and wx.mod also listed on github there -- is that your 'official' repository now, or is the google code one still the primary? <br><br></td></tr></table><br>
<a name="1210441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is that your 'official' repository now .. ? <br></div><br>bah and wx mods there are currently just mirrors of the SVN versions on googlecode, and are sync'd hourly to the repositories. I'll probably add qt and bmk_ng at some point too.<br><br>I still haven't found a likeable place to host downloads as yet, and may end up having to do it myself again. <br><br></td></tr></table><br>
<a name="1210449"></a>

<a name="1210450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice idea - maybe this is a nice way to apply the most important bugfixes provided in the bug-section.<br><br>Odd that this topic is just shown "now" to me - last visit 1 hour ago said "last post in bruceys forum 1 day ago".<br><br>edit: for binaries - couldn't you do something like a "binaries repo" ? tagging the binaries individually should enable "downloads" (without dl counter).<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1210600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, my silly daily question... <br><br>I've noticed there are BRL and PUB modules... they are ALL the original BRL modules+your fixed I suppose.<br>What are the modules you fixed/changed?<br>And of course will be nice to know what you fixed (at least in BRL and PUB modules).<br><br>PS: many thanks for your work! <br><br></td></tr></table><br>
<a name="1210620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your efforts! <br><br>A simple download option and public change log would be nice. <br><br></td></tr></table><br>
<a name="1210630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> changelog -&gt; watch the commits done (if there are some).<br>For general "improvements" every comitter should be able to push a new readme.md to change it when changes are merged by authorized users.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1210743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  if there are some <br></div><br>I'm sure there will be. <br><br></td></tr></table><br>
<a name="1210748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Instead of the history.md brucey created, one could also do something like:<br><br><a href="https://coderwall.com/p/5cv5lg" target="_blank">https://coderwall.com/p/5cv5lg</a><br><br><br>maybe this is of interest for brucey (concerning binary downloads - and the thing I described as "tagging")<br><br><a href="http://stackoverflow.com/questions/14916492/publish-a-project-release-binary-source-packages-on-github/14916525#14916525" target="_blank">http://stackoverflow.com/questions/14916492/publish-a-project-release-binary-source-packages-on-github/14916525#14916525</a><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1210773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, releases work for a full repository, but I can't see how you might release a subset of that - for example the individual modules in bah.mod.<br><br>I created history.md because other projects did on github. Seemed like a reasonable idea. And it's just a case of updating it as other things get changed.<br><br>I still need to pad out the readme properly. <br><br></td></tr></table><br>
<a name="1210831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> According to<br><a href="https://github.com/blog/1547-release-your-software" target="_blank">https://github.com/blog/1547-release-your-software</a><br><br>you should be able to create "releases" with manually added binaries. So you could add a release named<br>bah.mod.XYZ.1.0<br>XYZ is the name of the module, 1.0 the version<br><br>This adds a bit of clutter in the release list - but just for people thinking of releases being "full packages".<br><br>I dont know if the downloads then contain: custom files + full source package.<br><br><br>Another nice thing:<br><a href="http://git-scm.com/book/en/Git-Tools-Submodules" target="_blank">http://git-scm.com/book/en/Git-Tools-Submodules</a><br><br>So you can use other git-controlled libraries without having them "statically" linked. Useful if you do not patch their files but just want to use the most current one.<br><br>Maybe this can be used as: each module is a repository, the "module collector" (aka "bah.mod") then just submodules all of its child modules.<br>So you can release full packages with "bah.mod" and single packages with "bah.mod.xyz.mod".<br><br>I know that might make things more complicated - but I did not try it yet so may be that is an option to test out if it is needful.<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1211207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm curious about the status of the MaxGui module.  If I'm understanding correctly, the change to the Pub and Brl modules' licenses means I am free to distribute a dll that uses their functions.  But what if I'm making use of MaxGui - albeit minimally?<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="1213349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to update the png module and get a compilation error: <br><br><pre class=code>
In file included from C:/BlitzMax/mod/pub.mod/libpng.mod/png.c:14:0:
C:/BlitzMax/mod/pub.mod/libpng.mod/pngpriv.h:810:4: error: #error ZLIB_VERNUM != PNG_ZLIB_VERNUM "-I (include path) error: see the notes in pngpriv.h"
 #  error ZLIB_VERNUM != PNG_ZLIB_VERNUM \
    ^
Build Error: failed to compile C:/BlitzMax/mod/pub.mod/libpng.mod/png.c
</pre><br><br>I deleted the original module folders to make sure there are no old files. - Any ideas how to make this work? <br><br></td></tr></table><br>
<a name="1213361"></a>

<a name="1213366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I tried to update the png module and get a compilation error <br></div><br>Did you update <b>only</b> the png module?<br><br>The idea is that you take <b>all</b> the modules together, not just one or two. Some modules rely on others to work, and several modules have been updated.<br><br>Or you can try to get each of them individually and hope you get all the right ones.<br>You'll need pub.zlib too, if you want to do it that way.<br>Good luck ;-)<br><br>&lt;edit&gt;<br>... and... you'll need brl.pngloader.<br><br>Which is why it's more simple just to grab everything and use that :-) <br><br></td></tr></table><br>
<a name="1213378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Downloaded pub.mod and brl.mod, everything seems to compile OK so far.<br>(After updating axe.oggsaver to point to the updated OGg Vorbis includes) <br><br></td></tr></table><br>
<a name="1213391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It felt greedy to grab everything. But after doing so, everything works again. Lesson learned for life. ;) Thanks Brucey! <br><br></td></tr></table><br>
<a name="1213513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Derron: I've found 'latest commit link'... as I said it was my stupid question of the day.<br><br>In any case big thanks to Brucey to 'keep' BlitzMax <br><br></td></tr></table><br>
<a name="1213817"></a>

<a name="1213818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to bump this topic up again.:(<br><br>Bruce, what version of MinGW do you use while making the modules?<br><br>I'm getting a strange error message when I try to compile some bmx examples, such as:<br><pre class=code>
Building .createwindow
Compiling:.createwindow.bmx
flat assembler  version 1.71.16  (1048576 kilobytes memory)
3 passes, 2904 bytes.
Linking:.createwindow.exe
C:/BlitzMax/lib/libmingwex.a(pformat.o):pformat.c:(.text+0x355): undefined reference to `__umoddi3'
C:/BlitzMax/lib/libmingwex.a(pformat.o):pformat.c:(.text+0x377): undefined reference to `__udivdi3'
Build Error: Failed to link C:/BlitzMax/tmp/.createwindow.exe
Process complete
</pre><br><br>P.S.: PRP code works fine though... ;)<br><br>|Edit|<br>Recompiling all modules works but at the very end I get the following error message:<br><img src="http://oi40.tinypic.com/293kt5g.jpg"> <br><br></td></tr></table><br>
<a name="1213820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Bruce, what version of MinGW do you use while making the modules? <br></div><br><br><br>IIRC Brucey uses TDM 4.7.1 <br><br></td></tr></table><br>
<a name="1213824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @xlsior: You remember correctly, we recently had this discussion (for reporting that bcc-crash-bug).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1213829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>C:/BlitzMax/lib/libmingwex.a(pformat.o):pformat.c:(.text+0x355): undefined reference to `__umoddi3'</pre><br><br>Again, it looks like you have a broken install of MinGW somehow.<br><br>I'm always surprised how much trouble people have getting this working correctly.<br><br>Usually, I can do this and it all *just works* :<br><br>1 * Unzip BlitzMax<br>2 * Install MinGW TDM 4.7.1<br>3 * Tweak Derron (or xlsior's script to set the correct MinGW name)<br>4 * Run the script (which copies .a files to BlitzMax/lib and .exe files to BlitzMax/bin)<br><br>Optionally set MINGW in PATH to point to the base folder of the MinGW install.<br><br>That tends to always work for me, and can be done in a few minutes.<br><br>When people have problems it usually relates to a problem with step 4 (which results in a mix of files between those which BlitzMax ships with, and the MinGW you have installed). <br><br></td></tr></table><br>
<a name="1213835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>3 * Tweak Derron (or xlsior's script to set the correct MinGW name)<br> <br></div><br><br>Are you sure about the way you set the brackets ? :D I am not tweakable.<br><br><br>If you use libsound (-ldsound) you will have to copy that small libsound.a file from the minGW install too.<br><br>My script just tries to copy files which already exist in the blitzmax dir (to avoid getting overpopulation in that directories :D).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1214664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Derron: Where can I get your script?<br><br>I've tried it multiple times with MinGW 4.8.1 &amp; MinGW 4.7.1. As soon I replace the mod folders. It get's messed up somehow. Probably, I'm just to dumb. <br><br></td></tr></table><br>
<a name="1214667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just follow the last posts in<br><a href="http://www.blitzmax.com/Community/posts.php?topic=87257" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=87257</a><br><br>Just CTRL-F to:<br>"Thought ImaginaryHuman was an old hand concerning BlitzMax."<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1215289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed there was a build issue with oggvorbis on Linux (missing header), so I updated to the latest ogg and vorbis while I was fixing it - libogg 1.3.1 and libvorbis 1.3.4. <br><br></td></tr></table><br>
<a name="1216288"></a>

<a name="1236783"></a>

<a name="1236784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> What version of MaxGUIEx are you using? <br>This might be the cause of the compiler issues. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
