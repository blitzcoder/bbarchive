<!DOCTYPE html><html lang="en" ><head ><title >Interfaces</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Interfaces</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Interfaces</a><br><br>
<a name="1271256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The latest bcc and brl.mod for NG now support Interfaces.<br><br>Interfaces can be created using the following :<br><pre class=code>
Interface ImyInterface
  Method myMethod()
End Interface

Type TmyType Implements ImyInterface
  Method myMethod()
    ' implement here
  End Method
End Type
</pre><br><br>Interfaces can be extend other interfaces :<br><pre class=code>
Interface ImyOtherInterface Extends ImyInterface
  Method anotherMethod()
End Interface
</pre><br><br>Types can implement multiple interfaces :<br><pre class=code>
Type TmyBigType Implements ImyInterface, IanotherInterface
  Method myMethod()
  End Method

  Method moreMethod()
  End Method
End Type
</pre><br><br>Abstract types which implement an interface can elect not to implement those methods. Its concrete subclass however, will need to implement any methods in the hierarchy that haven't.<br><br>The preferred naming convention is to prefix interface names with I (uppercase i), much in the same way that types are generally prefixed with T, but of course you can name your stuff however you like ;-)<br><br>[technical] The implementation does away with three "reserved" function pointers that were attached to each Type, replacing them with some vtable stuff.<br><br>If you have any problems with it, please let me know. Breakable examples are always useful in helping to solve issues!<br><br>:o) <br><br></td></tr></table><br>
<a name="1271293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I should add that this implementation is more in the style of Java Interfaces, rather than Monkey's which is lacking in several areas.<br>I assume the "broken" implementation in Monkey is down to some of the targets it is trying to support, whereas in BlitzMax we just don't care about stuff like that and implement things as they should be ;-) <br><br></td></tr></table><br>
<a name="1271323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Silver_Knee</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Christmas is coming early this year. This must make it into the official release and replace TMap and TList with interfaces.<br><br>Also I'd love to create a IHashable interface that will have a hashCode:Int() method and somehow force String to implement it, so we can have a THashMap for BlitzMax. <br><br></td></tr></table><br>
<a name="1271724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've now added reflection support for interfaces. There's an example here : <a href="https://github.com/bmx-ng/brl.mod/issues/22#issuecomment-120739956" target="_blank">https://github.com/bmx-ng/brl.mod/issues/22#issuecomment-120739956</a> <br><br></td></tr></table><br>
<a name="1271729"></a>

<a name="1271730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excuse my ignorance Bruce... but what are the benefit of Interfaces over what we have in Bmx already? Do they make wrapping C++ any easier?<br><br>Also, I had an issue recently, where I added a NewObject function to TEntity where it was instantiating a new TEntity but because there was abstract methods CopyEntity/Update in TEntity the compiler refused since the whole Type was abstracted. I just commented out the abstracts. I had to add NewObject to TEntity. So the point is why have abstract at all, if all it does is create compiler warnings?<br><br>Great work by the looks of things though. <br><br></td></tr></table><br>
<a name="1271762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think of an interface like a behaviour. If you want your object/type to take on the behaviour of something completely unrelated, you only need to implement that interface, rather than try to work out how you would create some special super Type that hashes different, but unrelated, methods together...<br><br>Here's a Java example : <a href="https://docs.oracle.com/javase/tutorial/java/concepts/interface.html" target="_blank">https://docs.oracle.com/javase/tutorial/java/concepts/interface.html</a><br><br>And there's some more interface specific stuff here :<br><a href="https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html" target="_blank">https://docs.oracle.com/javase/tutorial/java/IandI/createinterface.html</a><br><br>Although the text is all about Java, it applies equally enough to the BlitzMax implementation - unlike Monkey, which is like a rather cut-down version of interfaces. <br><br></td></tr></table><br>
<a name="1271763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do they make wrapping C++ any easier? <br></div><br>Yes, in theory I could rewrite a chunk of wxMax to reflect the same structure of wxWidgets - there some control interfaces that I've had to merge into some Types, which makes things a bit unwieldy - and prone to errors of duplicated code. <br><br></td></tr></table><br>
<a name="1271767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok thanks. I'm not sure I'm advanced enough to ever need these. <br><br></td></tr></table><br>
<a name="1271856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The accepted answer to this question explains the concept rather well : <a href="http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface" target="_blank">http://stackoverflow.com/questions/383947/what-does-it-mean-to-program-to-an-interface</a> <br><br></td></tr></table><br>
<a name="1272324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey,<br>Was passing by.<br><br>Nice addition! So you are in charge with the evolution of BlitzMax :) <br><br></td></tr></table><br>
<a name="1272674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is excellent news. I just don't know which of your modules I need to download to get this. Do you have a link? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
