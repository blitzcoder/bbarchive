<!DOCTYPE html><html lang="en" ><head ><title >FreeImage: paste with transparency problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FreeImage: paste with transparency problem</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >FreeImage: paste with transparency problem</a><br><br>
<a name="1125267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im trying to do the following:<br>Load a JPEG main image<br>Load a transparent PNG "icon" graphic<br>Paste the "icon" into the JPEG<br><br>The problem:<br>Paste only seems to work if both sources are transparent or both are solid.<br><br>Result:<br>If I paste a transparent icon into a JPEG nothing happens. If I post the same icon into another transparent PNG it pastes but doesn't respect the transparency (I get solid background color). If I paste a JPEG onto a JPEG it works fine.<br><br>I've tried converting the bits of the main image in the hopes that would help but that raises other problems for me elsewhere and doesn't seem to work. <br><br></td></tr></table><br>
<a name="1128409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try setting the alpha value to 256? (&gt; 255) <br><br></td></tr></table><br>
<a name="1128421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks but did that. It has to do with the image data itself, alpha values work perfects if you're using a JPEG, but of course JPEG doesn't support transparency etc. It just won't draw stuff with alpha in it. I've tried using masking and a bunch of other hacks but it doesn't work. <br><br></td></tr></table><br>
<a name="1128534"></a>

<a name="1128535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weird, well in theory if your converting both images to use the same bit layout/depth then it should work. Have you tried doing this for <b>both</b> images?<br><br>Apart from that I dunno if I can offer anymore help, seems weird! Maybe post some test code with images and I could have a play? I have been doing a ton of feeeimage stuff lately so might be able to figure it out...<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1128541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, I've tried converting them to match, and converting both to a middle standard with no luck. It smacks of an internal bug in freeimage to me. I've moved past it in my project and just adapted by graphics for the time being but if I get time I'll try to pull out a sample. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
