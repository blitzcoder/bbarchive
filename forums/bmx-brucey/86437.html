<!DOCTYPE html><html lang="en" ><head ><title >Possible Suggestion: libfov ...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Possible Suggestion: libfov ...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Possible Suggestion: libfov ...</a><br><br>
<a name="979954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mic_pringle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brucey<br><br>As it seems you are on a roll with all your oldskool mods (gme, libtcod etc) could I perhaps offer up another one - <a href="http://code.google.com/p/libfov/" target="_blank">libfov</a><br><br>I would have a go at this myself but I can't seem to get it to compile properly on OS X (<i>although I believe this to be a problem at my end rather than with the lib itself</i>) and also the sample included relies on SDL which would require some effort to get running on a Mac as you have to play around with SDLMain etc which I have no experience of.<br><br>I'll look forward to your response with fingers crossed.<br><br>Thanks<br><br>-Mic <br><br></td></tr></table><br>
<a name="979972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mic_pringle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brucey<br><br>And another - <a href="http://www.grinninglizard.com/MicroPather/" target="_blank">MicroPather</a><br><br>I think these would be useful because they seperate out the different parts of the TCOD lib, so you can plug and play with what you need. <br><br>Also, I have seen the posts on the libtcod forums with regards to the unstability of the 1.5 release and the fact there's no timescale for it's release and feel these two libraries would go part way to replacing a lof of the available functionality available in libtcod.<br><br>Again, I would have stab at this myself but I know very little c++ and have no idea how to derive a BlitzMax type from a c++ class.<br><br>Thanks<br><br>-Mic <br><br></td></tr></table><br>
<a name="979978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the libtcod example (included with the module) is working fine - apart from some image issues related to 1.5. But otherwise, it seems to be working much as it did before (in 1.4). <br><br></td></tr></table><br>
<a name="979988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Micropather would a great mod, but LibTcod already has several Fov algos available. <br><br></td></tr></table><br>
<a name="980001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mic_pringle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @GW<br><br>As true as that is, the API in libfov is exceptionally easy to use and understand. Also if all you need are fov and pathfinding then libtcod is a little overkill.<br><br>That's why I thought about having separate mods. That way you can just pick an choose whatever you need.<br><br>@Brucey<br><br>Ah. I didn't realize that. With some of the libtcod authors comments on the forum it seemed as though there was a lot more issues. I think he even suggested leaving the 1.5 branch alone until a formal beta was released.<br><br>Let me know your thoughts. I'll be more than happy to help where I can.<br><br>Thanks<br><br>-Mic <br><br></td></tr></table><br>
<a name="980043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the los i wrote for my roguelike engine. it seems a little inefficient but there is no performance hit.<br><br><pre class=code>
Function UpdateLOS(m:tMonster, UpdateMap:Int = True)

	If m = Null Then RuntimeError("Null in LOScheck!")
	Local XX:Int, YY:Int
'reset all los for the map
	For xx = 0 To MAPWIDTH - 1
		For yy = 0 To MAPHEIGHT - 1
			If Map[xx, yy].InLOS = True Then
				Map[xx, yy].HasSeen = True
				Map[xx, yy].InLOS = False
			EndIf
		Next
	Next

	For Local angle:Float = 1 To 360 
		Local dist:Int = 0
		Local x:Float = Float(m.X) + 0.5 '// center of the cell
		Local y:Float = Float(m.y) + 0.5
		Local xmove:Float = Cos(angle)
		Local ymove:Float = Sin(angle)
	
		Repeat
			x = x + xmove
			y=y+ymove
			dist = dist + 1
			
			If dist &gt;= m.Vision Then Exit '// vision range
			
			If X &gt;= MAPWIDTH Then Exit
			If y &gt;= MAPHEIGHT Then Exit
			If x &lt; 0 Then Exit
			If y &lt; 0 Then Exit
			
			Map[x, y].InLOS = True
			If Map[x, y].BlockVision Then Exit
			
		Forever
	Next
	
	Map[m.X, m.Y].InLOS = True 
	'// show monsters in los
	If m = player Then
		For Local o:tMonster = EachIn monsters
			If o &lt;&gt; Player Then
				o.visible=False
				If map[o.X,o.y].inLos = True Then
					o.visible = True
				End If
			EndIf
		Next
	EndIf

End Function
</pre> <br><br></td></tr></table><br>
<a name="980046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  With some of the libtcod authors comments on the forum it seemed as though there was a lot more issues. <br></div><br>I haven't noticed any, other than the image problems I've mentioned previously.<br><br>It was a lot of hacking to get it ported to work with the 1.5 code though... but generally it seems to work much as it did before. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
