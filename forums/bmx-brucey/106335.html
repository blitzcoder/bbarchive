<!DOCTYPE html><html lang="en" ><head ><title >Zipstream Incbin Mod Build Error</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Zipstream Incbin Mod Build Error</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Zipstream Incbin Mod Build Error</a><br><br>
<a name="1307801"></a>

<a name="1307802"></a>

<a name="1307803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Trying out TimelineFX I get this error.<br><br><br>In file included from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.h:5:0,<br>                 from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.c:1:<br><br><b>koriolis.mod/zipstream.mod/.bmx/zipstream.bmx.debug.win32.x86.h:206:14: note: previous declaration of 'unztell' was here<br> extern BBINT unztell(BBBYTE* bbt_file);</b><br><br>Although the file says it's not necessary to build timelinefx (which it does build with NG with some small alterations) but incbin with zip is a nice feature to have. <br><br></td></tr></table><br>
<a name="1307807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds as if the module needs an ".x"-file for the unztell-part.<br><br>I do not know how to write them, so others might jump in here.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1307809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Derron, I did read about that last time.<br><br>What I'm just trying to do is incbin a timelinefx .eff file. I would like to do SDL folder pathing but also got no clue on how it would work with Timelinefx<br><br>not simple as LoadEffects("sdl::myfile.eff") as I'm getting 'Error loading effects file!' <br><br></td></tr></table><br>
<a name="1307810"></a>

<a name="1307814"></a>

<a name="1307816"></a>

<a name="1307817"></a>

<a name="1307818"></a>

<a name="1307819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Checking with Vanilla BMX it works great but with NG I'm getting those previous declaration errors..<br><br>I copied it over NG and this is my latest error:<br><br><br><pre class=code>[ 99%] Compiling:zipstreamloader.bmx.debug.win32.x86.c
In file included from C:/BMXNG/mod/rigz.mod/timelinefx.mod/.bmx/timelinefx.bmx.debug.win32.x86.h:8:0,
                 from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.h:6,
                 from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.c:1:
C:/BMXNG/mod/gman.mod/zipengine.mod/.bmx/zipengine.bmx.debug.win32.x86.h:518:13: error: conflicting types for 'unzCloseCurrentFile'
 extern void unzCloseCurrentFile(BBBYTE* bbt_zipFilePtr);
             ^
In file included from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.h:5:0,
                 from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.c:1:
C:/BMXNG/mod/koriolis.mod/zipstream.mod/.bmx/zipstream.bmx.debug.win32.x86.h:206:14: note: previous declaration of 'unzCloseCurrentFile' was here
 extern BBINT unzCloseCurrentFile(BBBYTE* bbt_file);
              ^
In file included from C:/BMXNG/mod/rigz.mod/timelinefx.mod/.bmx/timelinefx.bmx.debug.win32.x86.h:8:0,
                 from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.h:6,
                 from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.c:1:
C:/BMXNG/mod/gman.mod/zipengine.mod/.bmx/zipengine.bmx.debug.win32.x86.h:519:13: error: conflicting types for 'unzClose'
 extern void unzClose(BBBYTE* bbt_zipFilePtr);
             ^
In file included from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.h:5:0,
                 from C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.c:1:
C:/BMXNG/mod/koriolis.mod/zipstream.mod/.bmx/zipstream.bmx.debug.win32.x86.h:205:14: note: previous declaration of 'unzClose' was here
 extern BBINT unzClose(BBBYTE* bbt_file);
              ^
Build Error: failed to compile C:/BMXNG/mod/rigz.mod/zipstreamloader.mod/.bmx/zipstreamloader.bmx.debug.win32.x86.c
Process complete</pre><br><br>I'm confused where to place to .x file and some examples would be nice..<br><br>My latest attempt is placing zipstream.x with the following code<br><br><pre class=code>int unzClose(BBINT)!</pre><br><br>Still getting errors <br><br></td></tr></table><br>
<a name="1307865"></a>

<a name="1307876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've updated both the gman ( <a href="https://github.com/maxmods/gman.mod" target="_blank">https://github.com/maxmods/gman.mod</a> ) and koriolis ( <a href="https://github.com/maxmods/koriolis.mod" target="_blank">https://github.com/maxmods/koriolis.mod</a> ) modules, to clean build with the latest NG.<br><br>These are the versions of the modules you should (probably) be using with NG.<br><br>I'd beware of having both of them in the same project though, as they both individually build against similar zip/unzip C sources. YMMV ;-) <br><br></td></tr></table><br>
<a name="1307872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'd beware of having both of them in the same project though, as they both individually build against similar zip/unzip C sources. YMMV ;-)  <br></div><br><br>Thanks Brucey! :D Actually I'm aware of that, it's just timelinefx needs both to work for incbinning files unless I'm missing something new. It works on vanilla bmx btw with the incbinned files. <br><br></td></tr></table><br>
<a name="1307885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found the instruction here from the author itself and it does work on Vanilla version..<br><br><a href="http://www.rigzsoft.co.uk/forums/topic/timelinefx-does-not-support-incbin/#post-3597" target="_blank">http://www.rigzsoft.co.uk/forums/topic/timelinefx-does-not-support-incbin/#post-3597</a><br><br>I'm getting these errors when building NG (0.79) latest gman and koriolis mod..<br><br><br><pre class=code>C:/BMXNG/MinGW32/bin/ar.exe: creating C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0x110): multiple definition of `unzGetCurrentFileSize'
C:/BMXNG/mod/gman.mod/zipengine.mod/zipengine.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0x80): first defined here
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0x170): multiple definition of `zipOpenNewFileWithPassword'
C:/BMXNG/mod/gman.mod/zipengine.mod/zipengine.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0xe0): first defined here
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0x3b): undefined reference to `koriolis_zipstream_TZipStream_read_file_func'
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0x7b): undefined reference to `koriolis_zipstream_TZipStream_write_file_func'
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0xa3): undefined reference to `koriolis_zipstream_TZipStream_tell_file_func'
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0xdb): undefined reference to `koriolis_zipstream_TZipStream_seek_file_func'
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0x1): undefined reference to `koriolis_zipstream_TZipStream_open_file_func'
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0xf1): undefined reference to `koriolis_zipstream_TZipStream_close_file_func'
C:/BMXNG/mod/koriolis.mod/zipstream.mod/zipstream.release.win32.x86.a(bmxsupport.c.release.win32.x86.o):bmxsupport.c:(.text+0x101): undefined reference to `koriolis_zipstream_TZipStream_testerror_file_func'</pre><br><br>I did get my custom version to work with NG, not just the incbin part. I will upload it asap just need to cleanup <br><br></td></tr></table><br>
<a name="1308292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  multiple definition of `unzGetCurrentFileSize' <br></div><br>That's because you have two sets of the same files being compiled into your application.<br><br>Ideally, you would want to move the common files into a common module and have those other modules import it. (like how a modular system is meant to work). <br><br></td></tr></table><br>
<a name="1308326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apparently I'm still fairly new on how BlitzMax module works, particularly NG. The weird part is that (TimelineFX) it works perfectly in vanilla and NG with that tweaking part. It's the incbinning that was later introduced.<br><br>I'm not sure if BMX is still supported but if you try to download it on timelinefx website, it will just redirect to a related post.<br><br>I'm still looking for other particle system that is simple and works with incbin. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
