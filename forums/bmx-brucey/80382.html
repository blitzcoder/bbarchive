<!DOCTYPE html><html lang="en" ><head ><title >Compiling wxMax (on OS X)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Compiling wxMax (on OS X)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Compiling wxMax (on OS X)</a><br><br>
<a name="903879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I --want-- to build the entire stuff myself from SVN.<br><br>I've checkout out wxMax from SVN and downloaded wxWidgets and built the libraries like this:<br><br>../configure --enable-unicode --disable-shared --with-opengl<br>make<br><br>Then I copied the lib directory to wxMax/lib and renamed it to macosx86 on my Intel box and macosxppc on my G4.<br><br>I also copied the header files to the wxMax directory.<br><br>When I now run bmk makemods -h -a, the following orgy of error messages starts:<br><br><pre class=code>
Compiling:wxglue.cpp
In file included from /Applications/BlitzMax/mod/wx.mod/include/wx/defs.h:21,
                 from /Applications/BlitzMax/mod/wx.mod/include/wx/wx.h:15,
                 from /Applications/BlitzMax/mod/wx.mod/wx.mod/wxglue.h:26,
                 from /Applications/BlitzMax/mod/wx.mod/wx.mod/wxglue.cpp:23:
/Applications/BlitzMax/mod/wx.mod/include/wx/platform.h:196:22: error: wx/setup.h: No such file or directory
In file included from /Applications/BlitzMax/mod/wx.mod/include/wx/platform.h:293,
                 from /Applications/BlitzMax/mod/wx.mod/include/wx/defs.h:21,
                 from /Applications/BlitzMax/mod/wx.mod/include/wx/wx.h:15,
                 from /Applications/BlitzMax/mod/wx.mod/wx.mod/wxglue.h:26,
                 from /Applications/BlitzMax/mod/wx.mod/wx.mod/wxglue.cpp:23:
/Applications/BlitzMax/mod/wx.mod/include/wx/chkconf.h:103:9: error: #error "wxUSE_DYNLIB_CLASS must be defined."
/Applications/BlitzMax/mod/wx.mod/include/wx/chkconf.h:111:9: error: #error "wxUSE_EXCEPTIONS must be defined."
/Applications/BlitzMax/mod/wx.mod/include/wx/chkconf.h:119:9: error: #error "wxUSE_FILESYSTEM must be defined."

...and a TON more...

</pre><br><br>So... With what parameters/flags must I compile the wxWidgets libraries and what else is there to do to successfully compile wxMax?<br><br>Thanks in advance, <br><br></td></tr></table><br>
<a name="903892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah... I have to copy lib/macosx86/wx/include/mac-unicode-release-static-2.8/wx/setup.h to wx.mod/include/wx.<br><br>It --seems-- to compile now. <br><br></td></tr></table><br>
<a name="903910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, it compiled, but now I am getting errors like this when I want to compile a wxMax sample application:<br><br><pre class=code>
Building glcube
Compiling:glcube.bmx
Linking:glcube
ld: library not found for -lwxexpat-2.8
collect2: ld returned 1 exit status
Build Error: Failed to link /Applications/BlitzMax/mod/wx.mod/samples/glcube.app/Contents/MacOS/glcube
Process complete
</pre><br><br>I -did- re-configure wxWidgets with --enable-expat and the like, but still get this.<br><br>Any ideas anyone? <br><br></td></tr></table><br>
<a name="903911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you successfully (without threading) compiled/installed wxWidgets and wxMax previously?<br>Maybe it has issues with the experimental threaded GC? <br><br></td></tr></table><br>
<a name="903913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've compiled the modules both with bmk makemods -a and bmk makemods -h -a, so both the multi-threaded and the single-threaded versions are there. <br><br>To answer first questions, I've actually never managed to get an SVN-checkout of wxMax compiled. I don't know how Brucey does it, but only the pre-compiled packages actually work for me.<br><br>But I really want to learn how to build wxMax, and I also want to get it running on my PowerBook G4 for which no pre-compiled packages currently exist. <br><br></td></tr></table><br>
<a name="903915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is beyond my understanding of Mac.. ;) <br><br></td></tr></table><br>
<a name="903916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it a Mac issue? I have more the feeling that wxWidgets needs to be compiled with a rather specific configuration in order to work properly with wxMax, but that piece of documentation is missing - or at least I cannot find it anywhere. <br><br></td></tr></table><br>
<a name="903920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Allo ;-)<br><br>You probably want to do something like this :<br><pre class=code>
./configure --enable-unicode --with-opengl --enable-mediactrl --enable-graphics_ctx --disable-shared --with-expat=builtin --with-libjpeg=builtin --with-libpng=builtin
</pre><br>...for the Mac build.<br>That should get you all the same things as I'm using for the release builds.<br><br>Once it's all built, you can get the static libs from the lib folder. You copy these into the the lib/macosXXX dir - where XXX is appropriately either ppc or x86.<br>Once that folder is copied, you need to modify the name of one of the embedded folders. It'll be called something like lib/macosx86/wx/include/mac-unicode-release-static-2.8<br>You need to remove the "-2.8" part.<br><br>The normal includes folder you can simply drop into wx.mod/include, so that it would look like wx.mod/include/wx<br><br>That should do it.<br><br>The "missing" docs are in wx.mod/wxWidgets_BuildNotes.txt<br>but.. I really need to revise those and add a better explanation, especially regarding the win32 build and the gdiplus requirements... (but they've been more for me, so I haven't worried about it too much til now).<br><br>Is that enough to get you going? <br><br></td></tr></table><br>
<a name="903921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh... apologies for the lack of ppc build... I was distracted in the run up to the weekend by porting box2d to objective-c...  well, you know how it is :-p <br><br></td></tr></table><br>
<a name="903962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot, Brucey! It now works!!!! This stuff is beautiful! :-))))<br><br>Only one note: When you check out wxMax from SVN, there does not seem to be a file wxWidgets_BuildNotes.txt. wxWidgets_licence.txt and wxWidgets_licendoc.txt are there, and a README.txt, but no build notes.<br><br>Again, thanks a lot! <br><br></td></tr></table><br>
<a name="903965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah yes, it's in wx.mod/wx.mod<br><br>I suppose if I'm going to put together some proper (step-by-step) build docs, I can move it into the main dir.<br><br><br>Sorry it's a bit fiddly with all the folder renaming and stuff, but it's not something you are likely to need to do very often.<br>But it seems to work ;-) <br><br></td></tr></table><br>
<a name="904133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't worry, it's all perfectly fine. If I had looked more thoroughly, I'd have found the documentation.<br><br>The thing is, I really like checking out stuff from SVN to build it from scratch. If you want to put it that way, it's also some kind of QA and testing and verifying that the code base still works. ;-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
