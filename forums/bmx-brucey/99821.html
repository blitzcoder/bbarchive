<!DOCTYPE html><html lang="en" ><head ><title >Bah.GTKMaxGui - Dependencies?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bah.GTKMaxGui - Dependencies?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Bah.GTKMaxGui - Dependencies?</a><br><br>
<a name="1173851"></a>

<a name="1173852"></a>

<a name="1173853"></a>

<a name="1173854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>I'd love to try out the GTK MaxGui module, but am missing some components.<br><br>Is there a newbie friendly script around that installs all the files needed? I don't want to break my machine while messing around with packages.<br><pre class=code>
/usr/bin/ld: cannot find -lglib-2.0
/usr/bin/ld: cannot find -lgtk-x11-2.0
/usr/bin/ld: cannot find -lgdk-x11-2.0
/usr/bin/ld: cannot find -latk-1.0
/usr/bin/ld: cannot find -lpangox-1.0
/usr/bin/ld: cannot find -lpango-1.0
/usr/bin/ld: cannot find -lgobject-2.0
/usr/bin/ld: cannot find -lgmodule-2.0
</pre><br>Also, can one use the GTK module and the proxygadgets at the same time?<br><br>Grisu<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1173856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> GTKMaxGUI is a bit out of date and needs some work. It is currently on my list of things to do.<br><br>As for your linker issues, I am assuming you are running a 64-bit Linux?<br><br>Either way, you will need to install the "dev" packages for gtk which include library files ending in ".so"<br>As well as these you may find that a 64-bit OS will also need symlinks made for these files as I've noticed they are not usually provided for the 32-bit side of the dev package. <br><br></td></tr></table><br>
<a name="1173859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the reply Brucey.<br><br>I downgraded to Ubuntu 32Bit (see sig) in order to avoid potential bmx issues.<br><br>Will gladly wait until you're done with your to-do list. :)<br><br>The current MaxGui module "breaks" my translation files and is unable to display bold labels (= font related). With your module these and more aspects should be history. <br><br></td></tr></table><br>
<a name="1173865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was recently testing that little file-fetch test app against my new MaxGUI module. Helped me to debug some things :-)<br><br>If you want me to test it against the whole app, I wouldn't mind having a go. It may show up some things I am missing in the implementation, etc. <br><br></td></tr></table><br>
<a name="1173928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You've got mail. :) <br><br></td></tr></table><br>
<a name="1173962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! <br><br></td></tr></table><br>
<a name="1174121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Surprisingly, it is working rather well with QtMaxGUI.. <br><br>I say surprisingly, because I have to admit to being completely surprised just how well it's handling "foreign" (i.e. not mine) code already.<br><br>Built on Fedora 17, because my Ubuntu box refuses to play audio at the moment, (running in Parallels on OS X, not that it matters).<br><br>I simply changed the Framework line at the top to point to my module instead.<br>The only thing that failed was the initial mutant splash canvas draw, which threw a DISPLAY error. Commenting out those three lines and the rest ran fine.<br><br>Here's some screenshots :<br><br>The glowy windows thing is what Fedora does to all windows. I don't like it much. Looks a bit stupid really.<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_1.png"><br>There's even a little star icon in the listbox!<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_2.png"><br>Tooltips and images work. Bold on the label?<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_3.png"><br>A working combobox!<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_4.png"><br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_5.png"><br>Funny German characters ;-)<br>I didn't convert any files, although you said I should. I just built it all with the default MaxIDE on Linux.<br><br>You'll notice the white border around the button. Dunno what that is meant to look like? Is the whole Window colour meant to change as part of the theme? (I may need to implement that still then).<br><br>Otherwise, for something that is only a month old, it's not looking too bad at the moment :-) <br><br></td></tr></table><br>
<a name="1174122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The FLTK version, which I built initially just to get an idea, I couldn't even use! :-(<br>I can see why you were having so many problems with it. I had to resize the window just to get stuff to show up on the window (like the buttons, etc). <br><br></td></tr></table><br>
<a name="1174271"></a>

<a name="1174275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just came home. Hey, that looks cool! :D<br><br>1. Listboxes with icons! Awesome new feature, they don't show up with FLTK. Try to right click on an already selected station and set a new rating. It should display as icon as well.<br><br>2. The bold labels display as they should.  On the second screen the alignment of the labels isn't correct. Both (Station name and tag id texts) should be "centered".<br><br>3. The system font used seems to be wider. Therefore there's a horizontal scrollbar present on the first screen which isn't shown under Mac or Windows.<br><br>4. Skins can change both (button images and window colour). Though the default ones included only modify the buttons (no color palette). The button transparency seems to be broken. They should be transparent (around the black borderline). You can set a custom colour via the options menu directly "[ ] [ ]" just for testing purposes.<br><br>5. Could you please recheck the Czech translation? The "C" in it was broken for me. Just to be sure.<br><br>6. Also, could you please drag and drop a playlist file of any kind onto the prp window. This should bring up the station editor.<br><br>7. For the bugged startup screen. Maybe I missed sending the image logo file? <br><br>Grisu<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1174298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> So many things to do, it seems!<br><br>1. I need to finish my context/popup menu implementation.<br><br>2. I guess I missed out the alignment stuff for labels.<br><br>3. It looks bigger on Mac (with QtMaxGUI) too. Perhaps it is the same size on both, as there is a horizontal scrollbar there. Might be a standard thing with Qt.<br><br>4. I found the buttons, and managed to make the window pink! hmm..<br>Well, funnily enough, I tried that blue-win-7 on Mac with both Qt and the default, and they both show the white border. Perhaps a bug in your pngs ;-)<br><br>5. The "C" has a little thing above it. All the unicode appears to work correctly. (as it should, I suppose).<br><br>6. I haven't implemented drag-and-drop yet!<br><br>7. It's something to do with the Canvas drawing at that point in time when the app is starting up. The equalizer stuff works later (mostly). On OS X, the canvas shows okay at the start.<br>I'm not sure why you really need to use a canvas at all for all your stuff? Are you drawing the station pics on the canvas too?<br>I'm pretty sure you could cover most things drawing pixmaps onto a panel ? (even the equalizer?)<br>But anyway…<br><br>It generally works the same on OS X too. Well, I had to comment out your TNSGadgetEX thing.<br>There is such a lot of platform-specific stuff in there. Surely you shouldn't need to hack things so much with a "cross-platform" GUI ? (although depending on who you ask, MaxGUI is the defacto cross-platform GUI!) <br><br></td></tr></table><br>
<a name="1174339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>3. It looks bigger on Mac (with QtMaxGUI) too. Perhaps it is the same size on both, as there is a horizontal scrollbar there. Might be a standard thing with Qt.<br> <br></div><br><br>It might also be a configuration of your theme. GTK apps respect ~/.gtkrc-2.0 , may other guikits use their own overridables.<br>That is also why a real webdesigner does not rely on "1.0em"-fontsizes nor "12px"-fontsizes as the clients could scale up a website at all - or only the fonts (like it was done years before chrome and iphone safari).<br><br>The only way to assure pixel perfect alignment is to use bitmaps and bitmapfonts which you render on the bitmaps by yourself (to avoid systemwide scaling). But as modern approaches to software use floating alignments this is no option.<br>Ok there is an ulgy option: disable the scrollbars on the window and let the buttons be cut off if they are displaced or wider than supposed.<br><br><br>PS: there is another possibility for wider fonts: antialias. On (x/k/.)Ubuntu and other derivates (mint) you can easily adjust the way the desktop antialiases fonts. Depending on the options (kerning, rgb gbr rbg subpixels...) the font renders look different within the applications.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1174342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> The bigger issue is the non-scaling of the MaxGUI layout "engine". It's dependent on you telling it where everything should go (x, y).<br><br>Better to use something like wxWidgets' and Qt's layout algorithms, which don't care how big a label or button is, as everything lays out nicely according to some basic rules. <br><br></td></tr></table><br>
<a name="1174409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Faulty buttons: Will redo the skin.<br><br>Splash Screen: I was forced to redo the startup process because I couldn't get it to work on all platforms. Linux/Mac don't like it if you create a hidden panel on startup.<br><br>Canvas vs Panel: In former versions I used panels. But  setting pixmaps on them frequently caused a huge memory leak under Mac. That way a got some bad reviews on the former PRP port. <br><br>I also needed a canvas in order to display the more specialised spectrum analyser (right mouse click on a station logo). <br><br>I hope you can iron out the last bits and pieces. <br><br></td></tr></table><br>
<a name="1174422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  But setting pixmaps on them frequently caused a huge memory leak under Mac <br></div><br>Which would be a bug in MaxGUI on OS X?<br><br>Probably better to get a bug fixed than to have to start using a completely different form of displaying an image. ;-) <br><br></td></tr></table><br>
<a name="1174692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not good at fixing stuff. I'm better at breaking it... ;)<br><br>If you want to recheck the potenial bug. The current Windows code still uses panels for the small spectrum analyser. It's the same code that causes the memory issue under different Mac platforms. I could also send you some older code for this.<br><br>BTW: You were right on the skin. Somehow the images dropped down to 256 colours. I've fixed these and on top added a new Fedora skin. They can be grabbed here: <a href="http://www.mediafire.com/?s6htb76a4bhc770" target="_blank">http://www.mediafire.com/?s6htb76a4bhc770</a><br><br>Finally weekend! <br><br></td></tr></table><br>
<a name="1175219"></a>

<a name="1175241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to have managed to get popup windows working…<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_6.png"><br><br>I was actually expecting it to be somewhat of a pain, but it appears my hacky code did the job first time :-)<br><br>I also implemented label content alignment.<br><br>The listbox has a strange habit, when you are far down the list and right-click, it jumps to the first item. Perhaps a bug of mine somewhere… :-/<br>edit : which turned out to be because I hadn't implemented ClearListItems() yet! <br><br></td></tr></table><br>
<a name="1175323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great progress!<br><br>Do you use my updated skin file? - The transparency seems to be broken on th icon buttons and the listbox icons as well ("white borders").<br><br>You also changed the font, right? Much more readable now. If I can identify the station names that are too long, I will shorten them in later versions, so we dont see a horizontal scrollbar on the listbox.<br><br>So all that is missing from being the ueber gui module is the drag &amp; drop feature? :) <br><br></td></tr></table><br>
<a name="1175326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I downloaded the skin file but haven't tried it yet. :-/<br><br>Didn't change the font. That latest image was the OS X build (my main dev platform).<br><br>I'm currently hacking in some drag and drop stuff to see what happens next ;-) <br><br></td></tr></table><br>
<a name="1175330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hopefully nothing will explode. ;) *ducks behind his desk*<br><br>For the listbox: <br>In a later version it would be great to have a kind of "AddListItemsBatch" function. I got it for Windows but couldn't get it to work under Linux/Mac. The idea is that you add tons of items to a listbox and only update/redraw the box at the end of the process. This speeds up the creation drastically (in comparison to the native function set). <br><br></td></tr></table><br>
<a name="1175331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, that's one of the problems with MaxGUI:  When you are adding an item to the listbox, it is doing lots of stuff as well as adding it to the listbox.<br>I think if you were calling it natively (i.e. actually just adding to the listbox in a for-loop) it wouldn't redraw until you were done, because of the nature of everything happening in the main thread.<br><br>So, how do I test this drag&amp;drop thing? What can I drag into it? <br><br></td></tr></table><br>
<a name="1175332"></a>

<a name="1175333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use <a href="http://www.shoutcast.com/" target="_blank">http://www.shoutcast.com/</a> to download a .pls file. Just make sure its an mp3 stream (for Fmod restrictions).<br><br>Edit: Or take this one: <a href="http://www.mediafire.com/?c9e7nlhyumpcu8d" target="_blank">http://www.mediafire.com/?c9e7nlhyumpcu8d</a><br><br>Save it to the desktop and drop it onto the main window. The station editor should show up. <br><br></td></tr></table><br>
<a name="1175335"></a>

<a name="1175336"></a>

<a name="1175337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahhh, cool. I dropped it onto the window and got this :<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_7.png"><br><br>The combo box appears to contain the content of the pls file.<br><br>I also tried one out of the stations folder and nothing happened, which is probably what should happen ;-)<br><br>So, I think my drag&amp;drop is working now. Excellent! :-)<br><br><br>Edit : clicking on the [..] brought up a browser window. This is for custom logos, I presume? <br><br></td></tr></table><br>
<a name="1175338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Drag &amp; drop should work from all folders/desktop. At least it does under Windows.<br><br>Can you increase the editor window? It should bring up a genre selection box as well.<br><br>The [..] is for selecting / pointing to a custom logo (not inside the creator folder already).<br><br>P.S: The prp file will be created and started / played afer you hit the "save" button. <br><br></td></tr></table><br>
<a name="1175340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I think that because the prp file that I dragged in already existed it didn't try to add it again? (I dragged from the app's stations folder)<br><br>It does indeed have a genre box :-)<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_8.png"><br><br>But when I resize the window, all the wrong things move… either you have set your anchor points wrong, or my gui code is broken… the other "pages" resize with their controls as expected. Hmm. <br><br></td></tr></table><br>
<a name="1175341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question. Should the window be resizing itself when I switch pages? Or is this for the user to do? <br><br></td></tr></table><br>
<a name="1175343"></a>

<a name="1175344"></a>

<a name="1175444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> You shouldn't be able to widen the window.<br><br>But apart from that there's definately something broken.<br>The issue is also present in the MaxGui module. :/<br>Under Windows it works... :P<br><br>Need to get some rest. Will be back tomorrow. Thanks for all your efforts!<br><br>Edit: Only the user should be able to change the window size! You can also save it in the options menu. <br><br></td></tr></table><br>
<a name="1175347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a bug in your anchors :-p<br><br>You have :<br><pre class=code>
SetGadgetLayout Creator_LogoBox, EDGE_ALIGNED,EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED 
</pre><br>should be :<br><pre class=code>
SetGadgetLayout Creator_LogoBox, EDGE_ALIGNED,EDGE_ALIGNED, EDGE_ALIGNED, 0 
</pre><br>otherwise, when you resize the window, it wants to increase the height of the combobox.<br><br>Is there some code where you fix the maximum width of the window? (maybe I have still to implement that). <br><br></td></tr></table><br>
<a name="1175375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing I noticed while testing, is that you load the station listbox *twice*.<br>I know this because my "clear" wasn't working, and so my listbox had 2 of everything.<br><br>I think it will be more quick to populate if you only populate it once, rather than populate-clear-populate ;-)<br>Unless of course you really need to do that! <br><br></td></tr></table><br>
<a name="1175443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're right about the anchor.<br><br>Line 446+47 are used to fix the window borders:<br><pre class=code>
SetMinWindowSize(MainWindow,MAINWINDOW_W,MAINWINDOW_H)
SetMaxWindowSize(MainWindow,MAINWINDOW_W,DesktopHeight())
</pre><br><br>I think you can uncomment line 2548+49. Both functions are called twice for reasons I can't remember. Guess it was a temporary bugfix years ago.<br><pre class=code>
'Load_db() 'new!!!
'PopulateList(0,0)
</pre><br>Will add some new radio stations within the next 2 hours. So you can also retest the updater... 8) <br><br></td></tr></table><br>
<a name="1175456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've now implemented min/max size and other window things, so it now will only resize the height, which is much better, me thinks.<br><br>Commenting out those lines does make it start up a bit more quickly.<br><br>I also updated, and it worked well. No pausing or anything - which is the way you want it ;-)<br>And then I double-clicked on one of the new stations in the tree-view, and it started playing it from there.<br><br>So, I'm quite happy with the state of QtMaxGUI now - at least with regards to having enough functionality to cope with your app. Cool :-) <br><br></td></tr></table><br>
<a name="1175460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about the initial start up. Does it display the logo and panels correctly?<br><br>Updated the stations files again. Just to keep my FB gang happy... :) <br><br>My app is a Dinosaur, if it can handle that, it can rule the world. ;)<br><br>Does your GUI work under Windows too or is it Mac/Linux only? <br><br></td></tr></table><br>
<a name="1175462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> This font size on Fedora 17 is the default, which is a couple of points larger than you were expecting :<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_9.png"><br><br>I also noticed an issue on Linux with your panel cleanup after you double-click on an item from the update treeview :<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_A.png"><br><br>As you can see, it doesn't clear the treeview panel properly. But if you click the bottom-right icon through a few pages, when you get back to the main listbox view it sorts itself out. Then you can go to the station logo page and back again without the issue recurring - until you launch a station from the treeview again.<br>Maybe you are missing some panel hide/show code from that action? <br><br></td></tr></table><br>
<a name="1175464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could increase the window width to keep up with the 17p font size. That's the only solution I can think of. Setting another smaller font would mean that the user has to install them first.<br><br>I really hate these panel issues..<br><br>Can you send me your temp code with the current changes? I can then reenable the panel spectrum analyser. This way you can check if the memory leak is still present with your gui. <br><br></td></tr></table><br>
<a name="1175465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Does your GUI work under Windows too or is it Mac/Linux only? <br></div><br>All my modules cover the three BlitzMax platforms, unless otherwise stated :-)<br>I just happen to dev on OS X - since it is my preferred of the 3.<br><br>Not sure how it would cope with all you platform-specific MaxGUI hacks though :-p<br><br><div class="quote">  What about the initial start up. Does it display the logo and panels correctly? <br></div><br>Not yet. I'm thinking perhaps the window isn't initialised properly at that point, or something. The error indicates as such - well, it works later when you start a station playing. <br><br></td></tr></table><br>
<a name="1175466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm thinking perhaps the window isn't initialised properly at that point <br></div><br>Putting in a small loop which calls PollEvent just before the SetGraphics() call seems to confirm that theory. The window is not yet in a state to attach a GL context to it. Once it is, the context attaches fine - although it doesn't appear to show anything before it has finished loading everything else.<br><br>The little spectrum analyser also has some graphical glitches - It may of course be that my Linux code needs a tweak here? Dunno. It's still early days ;-) <br><br></td></tr></table><br>
<a name="1175467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will try to solve the treeview panel bug tomorrow. <br><br></td></tr></table><br>
<a name="1175468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> A little more information :<br><br>I also notice the same multi-panel display issue when I try to load a station but it has an error (perhaps the station isn't on, etc). Then your program gets confused, I think, and it doesn't know which panel to show, so it shows a few together :-) <br><br></td></tr></table><br>
<a name="1175563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, <br> <br>Linux causes problems for my gfx card but these changes might work:<br><br>Treeview Fix: Line 1425<br><pre class=code>
Case EVENT_GADGETACTION
(..)
add: SwitchtoPanel(0) 'New For Brucey
(right before "If SelectedGadgetItem(StationListbox) &lt;&gt; -1")
</pre><br><br>Loading Fix: Lines 3264..<br><pre class=code>
Case Button_load_stop
(..)
add: SwitchtoPanel(0) 'New For Brucey
</pre><br><br>Loading Fix: Lines 3291..<br><pre class=code>
Case Button_load_back 
(..)
uncomment: 'ShowGadget (StationPanel)
uncomment: 'ActivateGadget StationListbox
add: SwitchtoPanel(0) 'New For Brucey
</pre><br><br>You can use "106.3 The Longe" for testing purposes as this station is currently down. <br><br></td></tr></table><br>
<a name="1175629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> As compromise: Would it be enough to only increase the global window with just a bit. This way I could add an extra button to the station list panel so the users can bring up the station creator directly i.e.?<br><br>Really not sure what to do best in regards to the bigger Mac font. <br><br></td></tr></table><br>
<a name="1175633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dunno… I'm not so hot on UI design myself ;-)<br><br>That scrollbar is really bugging you, huh? :-P<br><br>Is the font smaller on the default MaxGUI in OS X? I know I had to specifically make the tabber font smaller in QtMaxGUI to match the "small" sized used by the default MaxGUI. <br><br></td></tr></table><br>
<a name="1175646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, but only horizontal ones... ;)<br><br>Default GUI Mac font is a LOT smaller. See here:<br><img src="http://s4.postimage.org/fm0alh8od/prp_sc_mac.png"><br><br>The bigger font causes issues with my labels sizes. As for the progress bar for instance. So I'd prefer a smaller font as default. <br><br></td></tr></table><br>
<a name="1175649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you adjust the displayed text by truncating it until its graphical width is lower than the space the label gadget got?<br><br>Do not rely on Fontsizes as there are some possibilities to modify them externally. Just rely on the dimensions of the graphical result.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1175663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Labels truncate automatically (the other chars aren't displayed).<br><br>The idea is to give the user more informations instead of just shorter texts.<br><br>For the progress bar I needed 2 labels 1 for the status text (algn left) and the other one for the "%" (algn right). <br><br></td></tr></table><br>
<a name="1175707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> The fonts in the listbox actually look very similar in size :<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_B.png"><br><br>Maybe there's an option (used in the Cocoa MaxGUI) to disable the horizontal scrollbar? I'll have a dig around... <br><br></td></tr></table><br>
<a name="1175742"></a>

<a name="1175743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Horizontal scrollbar:<br>Seb implemented flags (SCROLLPANEL_HNEVER, SCROLLPANEL_VNEVER) to prevent this inside the "CreateScrollPanel"  function. Perhaps you can adopt his code?<br><br>If this is too much hassle I just need to find out which station names are too long and truncate them accordingly. So the scrollbar shouldn't appear. It's not worth investing tons of hours into this matter. <br><br>Update Progressbar:<br>For a larger progressbar %-label change line 900 from:<br><pre class=code> 
Global label_upd1:TGadget=CreateLabel:TGadget("",2,LABEL_STARTY,MAINWINDOW_W-6-30,16,UpdatePanel,Label_LEFT) 
Global label_upd3:TGadget=CreateLabel:TGadget("",2+(MAINWINDOW_W-6-30),LABEL_STARTY,30,16,UpdatePanel,Label_RIGHT)
</pre><br>to:<br><pre class=code> 
Global label_upd1:TGadget=CreateLabel:TGadget("",2,LABEL_STARTY,MAINWINDOW_W-6-40,16,UpdatePanel,Label_LEFT) 
Global label_upd3:TGadget=CreateLabel:TGadget("",2+(MAINWINDOW_W-6-40),LABEL_STARTY,40,16,UpdatePanel,Label_RIGHT) 
</pre><br>This was the text should now display properly.<br><br>Btw: Did the code before fix the multipanel issue? <br><br></td></tr></table><br>
<a name="1175744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Btw: Did the code before fix the multipanel issue?  <br></div><br>Mostly :-)<br><br>Except when a station doesn't load :<br><br><img src="http://brucey.net/programming/blitz/misc/screenshots/prp_qt_C.png"><br><br>It sits for a moment with 4 empty buttons in the bottom left, then it gets confused and tries to show lots of different panels at the same time :-)<br><br>The "start music from treeview" is working fine now. It resets itself to show the correct panels. <br><br></td></tr></table><br>
<a name="1175745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Argh, these screenshots hurt. *gets his code shovel*<br><br>I updated the station files so that the longest station name is now 34 chars long. Please update and see if the horizontal scrollbar is gone. <br><br></td></tr></table><br>
<a name="1175746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok! Thanks to your description I think I have it. I missed the loading panel to be hidden via my main panel function. :(<br><br>Just add a "HideGadget (LoadingPanel)" for each case of Showpanel or replace the full SwitchtoPanel() function (around Line 5068) with the one from below:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function SwitchtoPanel(ShowPanel:Int) 

Select ShowPanel
Case 0 ' StationPanel - Current Station
?Linux
   ShowGadget (StationPanel)
?
   HideGadget (MainPanel)
   HideGadget (OptionsPanel)
   HideGadget (AboutPanel)
   HideGadget (CreditsPanel)
   HideGadget (UpdatePanel)
   HideGadget (LoadingPanel)

?Not Linux
   ShowGadget (StationPanel)
?

Case 1 ' MainPanel - Station Listbox
?Linux
   ShowGadget (MainPanel)
   ActivateGadget StationListBox
?

   HideGadget (StationPanel)
   HideGadget (OptionsPanel)
   HideGadget (AboutPanel)
   HideGadget (CreditsPanel)
   HideGadget (UpdatePanel)
   HideGadget (LoadingPanel)

?Not Linux
   ShowGadget (MainPanel)
   ActivateGadget StationListBox
?

Case 2 ' OptionsPanel
?Linux
   ShowGadget (OptionsPanel)
?
   HideGadget (MainPanel)
   HideGadget (StationPanel)
   HideGadget (AboutPanel)
   HideGadget (CreditsPanel)
   HideGadget (UpdatePanel)
   HideGadget (LoadingPanel)

?Not Linux
   ShowGadget (OptionsPanel)
?

Case 3 ' UpdatePanel
?Linux
   ShowGadget (UpdatePanel)
?

   HideGadget (MainPanel)
   HideGadget (StationPanel)
   HideGadget (OptionsPanel)
   HideGadget (AboutPanel)
   HideGadget (CreditsPanel)
   HideGadget (LoadingPanel)

?Not Linux
   ShowGadget (UpdatePanel)
?

Case 4 ' AboutPanel
?Linux
   ShowGadget (AboutPanel)
?

   HideGadget (MainPanel)
   HideGadget (StationPanel)
   HideGadget (OptionsPanel)
   HideGadget (CreditsPanel)
   HideGadget (UpdatePanel)
   HideGadget (LoadingPanel)

?Not Linux
   ShowGadget (AboutPanel)
?

Case 5 ' CreditsPanel
?Linux
   ShowGadget (CreditsPanel)
?

   HideGadget (MainPanel)
   HideGadget (StationPanel)
   HideGadget (OptionsPanel)
   HideGadget (AboutPanel)
   HideGadget (UpdatePanel)
   HideGadget (LoadingPanel)

?Not Linux
   ShowGadget (CreditsPanel)
?

End Select 

If prp_trayed:Int=0 Then 
	RemoveTrayIcon()
	ShowGadget(MainWindow)
'?win32
      If ShowPanel = 0 Then ActivateGadget StationListbox 'Else If ShowPanel = 1 Then ActivateGadget Station_VolumeSlider
      RestoreWindow(Mainwindow)
'?
EndIf
?Linux
RedrawGadget (Mainwindow)
?
End Function
</textarea><br><br>Also at the very and of TuneIn_RadioStation():<br><pre class=code>
Around line 3445 add:
SwitchtoPanel(1) 'For Brucey NEW 
(before ActivateGadget ServerListbox)

some Lines before change: 
'HideGadget(LoadingPanel)
SetGadgetPixmap (LoadingStationPanel, Null)
'ShowGadget(MainPanel)
</pre> <br><br></td></tr></table><br>
<a name="1176421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any news about the gtk module? <br><br></td></tr></table><br>
<a name="1176442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> No news is good news? :-|<br><br>*cough* <br><br></td></tr></table><br>
<a name="1177228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can I download the new module somewhere? On SVN there's still the old one. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
