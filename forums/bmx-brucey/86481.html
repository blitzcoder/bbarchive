<!DOCTYPE html><html lang="en" ><head ><title >wxMax on Mac</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >wxMax on Mac</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >wxMax on Mac</a><br><br>
<a name="980400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, I now have a Mac, so cue lots more stupid questions :)<br><br>Got TimelineFX editor compiling ok, there's a few layout issues to deal with, and a couple more weird ones, like nothing is being added to tree controls. So i thought I'd run the treectrl sample to see if that works, but I get compile errors on it, like GetItemText not found and MyTreeItemData not found, is the sample out of date?<br><br>I'm also getting these errors in the output window, although so far I can't if there's any adverse effects yet:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGBitmapContextCreate: invalid data bytes/row: should be at least 4 for 8 integer bits/component, 3 components, kCGImageAlphaNoneSkipFirst.
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextTranslateCTM: invalid context
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextScaleCTM: invalid context
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGBitmapContextCreate: invalid data bytes/row: should be at least 4 for 8 integer bits/component, 3 components, kCGImageAlphaPremultipliedFirst.
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextTranslateCTM: invalid context
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextScaleCTM: invalid context
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGBitmapContextCreate: invalid data bytes/row: should be at least 4 for 8 integer bits/component, 3 components, kCGImageAlphaNoneSkipFirst.
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextTranslateCTM: invalid context
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextScaleCTM: invalid context
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGBitmapContextCreate: invalid data bytes/row: should be at least 4 for 8 integer bits/component, 3 components, kCGImageAlphaPremultipliedFirst.
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextTranslateCTM: invalid context
Fri Aug 21 20:30:11 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextScaleCTM: invalid context
Fri Aug 21 20:30:23 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGBitmapContextCreate: invalid data bytes/row: should be at least 4 for 8 integer bits/component, 3 components, kCGImageAlphaNoneSkipFirst.
Fri Aug 21 20:30:23 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextTranslateCTM: invalid context
Fri Aug 21 20:30:23 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextScaleCTM: invalid context
Fri Aug 21 20:30:23 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGBitmapContextCreate: invalid data bytes/row: should be at least 4 for 8 integer bits/component, 3 components, kCGImageAlphaPremultipliedFirst.
Fri Aug 21 20:30:23 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextTranslateCTM: invalid context
Fri Aug 21 20:30:23 peter-rigbys-macbook.local TPEditor.debug[26285] &lt;Error&gt;: CGContextScaleCTM: invalid context
</textarea><br><br>The Mac is pretty alien to me at the mo, I've not clue what I'm doing lol :) <br><br></td></tr></table><br>
<a name="980401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What Mac/OS/XCode versions do you have? :-) <br><br></td></tr></table><br>
<a name="980402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> erm, its a macbook, os 10.5.6, erm, how do i find out the xcode version? <br><br></td></tr></table><br>
<a name="980404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Launch XCode. The "Welcome To XCode" window usually says :-)<br><br><br>If you don't have an icon handy to launch it... on the desktop open the Drive, then Developer, Applications, and run XCode. <br><br></td></tr></table><br>
<a name="980406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh yeh, I'll find my way around eventually :), 3.1 <br><br></td></tr></table><br>
<a name="980407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, that's essentially the same as me (except I've a Mac Mini).<br><br>On Mac, we need a few extra "tweaks" to get wxMax working properly. I'll assume that you haven't installed them yet... so...<br><br>Get BaH.AppStub module from either SVN or the maxmods download area. (http://code.google.com/p/maxmods/downloads/list?can=2&amp;q=appstub)<br>Drop into the usual place :-)<br><br>You then need to run BMK with different options to use my appstub module instead of the default BRL one.<br>The easiest way is to use a custom-built IDE. There's one <b><a href="http://brucey.net/programming/blitz/mingw/index.html" target="_blank">on this page</a></b>, towards the bottom.<br>It has extra build commands to "build for wxMax". Instead of cmd-R and cmd-B, you use cmd-shift-R and cmd-shift-B.<br><br><br>That should keep you busy for a while ;-) <br><br></td></tr></table><br>
<a name="980410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers Brucey, will give it a go. <br><br></td></tr></table><br>
<a name="980479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, now done all that but still the same issues, or is there still stuff to tweak? :) <br><br></td></tr></table><br>
<a name="980496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems the treectrl sample is indeed broken. Actually, by the looks of it, it's not been finished, so in some ways, I'm not surprised it doesn't compile.<br><br>As for your error messages, any clues as to which part of the API may be throwing those messages?<br><br>What version of wxMax are you using? I presume it's the 2.9 build?<br><br><br>On a brighter note, wxMax is now working with the latest BlitzMax threaded GC (to be released soonish). - well, it isn't crashing now, so I'm pretty confident that's a good sign. <br><br></td></tr></table><br>
<a name="980503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually it's not 2.9 its the official release, I thought that'd be playing it more safe, would it be better to use 2.9 on the Mac? I didn't think the treectrl was complete hehe, I'll prolly do my own when I get to that bit then.<br><br>I haven't looked that closely at the error messages yet, they seem to come up every time a window is opened and closed, haven't done a proper step through on the debug yet though. I'll go install SVN and try things with the latest build. <br><br></td></tr></table><br>
<a name="980505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  would it be better to use 2.9 on the Mac <br></div><br>It actually shouldn't make much difference.<br><br>Are you using images in your treectrl? <br><br></td></tr></table><br>
<a name="980507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want, you can drop me the source and I should be able to track down the problem more quickly.<br>Obviously, I'll understand if you don't want to do that, but it's always an option.<br><br>I'm fairly trustworthy :-) <br><br></td></tr></table><br>
<a name="980511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are images in the treectrl yeh. I have no problem sending you the source :) Let me just package it up a bit more coherently. <br><br></td></tr></table><br>
<a name="980637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thought I'd get the latest SVN version of wxMax. I checkout from <a href="http://wxmax.googlecode.com/svn/trunk/wx.mod/" target="_blank">http://wxmax.googlecode.com/svn/trunk/wx.mod/</a> but it just checks out about 5 files. I'm using SCPlugin to do it, am I doing something wrong? (probably am :)<br><br>[edit]doh, didn't tick recursive... <br><br></td></tr></table><br>
<a name="980639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> doh, didn't tick recursive...  <br></div><br>heh :-) <br><br></td></tr></table><br>
<a name="980647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2.9 has fixed a few things, one of those being the attributes not being added to the list control properly, but, the flatnotebook stopped working, in that clicking on tabs doesn't actually do anything. It seems to be just happening with wxFNB_VC8 tabs. If I switch to another style however it works ok, but those error messages come back... <br><br></td></tr></table><br>
<a name="980666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  but those error messages come back <br></div><br>Yeah, the fix I applied only affected VC8 tabs. If I hadn't been so lazy, I'd have gone through all of the tabs and fixed them in the same way.<br><br>I'll have a look at what might be wrong with the VC8 tab clicking in general.<br>Fiddling around in someone else's C++ isn't much fun :-p <br><br></td></tr></table><br>
<a name="981195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you get any further with this Brucey? The flatnotebook issue is pretty much 1 of 2 outstanding issues with the Mac version, the other being that the shapes tab listctrl doesn't fill the whole space, haven't figure out what I'm doing wrong there yet as the samples work ok :) <br><br></td></tr></table><br>
<a name="981211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Amazingly, it seems one of the wxRegion constructors on Mac is currently no working (at least, in the version of wxWidgets that I've built against)... the code is commented out.<br><br>And it so happens that the vc8 tab calls this to create the shape of the tab button.<br><br>So.... for now, I think you should use the non-vc8 for Mac... until we come up with a better solution.<br><br>I've a fix for the other tab errors, but SVN is read-only at the moment, so I can't commit it for now..<br><br>I'll have a look at the shapes tab listctrl. <br><br></td></tr></table><br>
<a name="981223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeh ok, that's no problem. <br><br></td></tr></table><br>
<a name="981225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Committed at last.<br><br>that listctrl sizing is a bit of a head-scratcher. Probably something really obvious too :-) <br><br></td></tr></table><br>
<a name="981230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeh it's a bit bizarre :) <br><br></td></tr></table><br>
<a name="981905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it me or does SetLabel not work on textctrl's? seems that way atm, will try a sample. <br><br></td></tr></table><br>
<a name="981911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like most of the issues that are in the windows textctrl are on the mac version, I think I raised an issue on the wxMax google code site. <br><br></td></tr></table><br>
<a name="981929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should call ChangeValue() on a textctrl : "Sets the text value and marks the control as not-modified (which means that IsModified would return false immediately after the call to SetValue)."<br><br>Unless you are wanting to do something else with it?<br><br>Textctrls don't have labels? <br><br></td></tr></table><br>
<a name="981931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahh right ok. I use setlabel on windows and it seems to work ok so never really thought about it :) ta. <br><br></td></tr></table><br>
<a name="981934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> the 2.9 release complicates things slightly, because wxTextCtrl now subclasses both wxControl and wxTextEntry... where wxTextEntry handles "text entry" type control features.<br><br>A problem for BlitzMax because we don't support multiple inheritance.<br><br>You could also call SetValue(), but it raises an event - so it depends if you want an event or not, the one you choose. <br><br></td></tr></table><br>
<a name="981950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I looked at setvalue but it doesn't seem to exist for the textctrl? Either way tho, changevalue seems to do the trick. <br><br></td></tr></table><br>
<a name="982006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if this is a bug or just typical behavior for a Mac, but when saving with a wxFileDialog the file extension isn't automatically added to the file if the user omits it. It seems this was the same bug here on GTK: <a href="http://trac.wxwidgets.org/ticket/9917" target="_blank">http://trac.wxwidgets.org/ticket/9917</a> so I don't know if it's a bug on the Mac as well... <br><br></td></tr></table><br>
<a name="982012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I can't see any code in the Carbon source which specifically adds the extension to the end.<br><br>No so sure about the Cocoa source though... It may be that there are more options available to Cocoa when creating a file dialog.<br><br>Looks like you'll have to do a check yourself. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
