<!DOCTYPE html><html lang="en" ><head ><title >Floating your boat...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Floating your boat...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Floating your boat...</a><br><br>
<a name="926810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... with Box2D's new <b>controllers</b> :-)<br><br>Just arrived :<br> * 13 new Types<br> * 90+ new Methods,<br> * 1 new example (buoyancy.bmx).<br><br>Controllers apply forces to areas of your world. The new controllers include : b2BuoyancyController, b2ConstantAccelController, b2ConstantForceController, b2GravityController and b2TensorDampingController.<br><br>Merry Christmas :-) <br><br></td></tr></table><br>
<a name="926879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well !<br>Very interesting new controllers :)<br><br>I spend hours to reproduce a correct buoyancy surface with submerged points forces.<br>I'm wondering how much this one is faster than mine.<br>Won't be too hard to implement since my version use a sensor as water shape.<br><br>Since b2BuoyancyController is based on an infinite normal plan, I will often need to add and remove bodies to the b2Controller list.<br>This is not a "normal" blitzmax List ( GetBodyList:<b>b2ControllerEdge</b>() )<br>Can you tell me if I need to verify before adding if a body is already present in the list by cycling into it or is this done automatically ?<br>I don't know well how to cycle into all these Controllers.<br>Any examples on how to do this ? <br><br></td></tr></table><br>
<a name="927886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> the new methods arent in the docs?<br><br>What kinds of types are there?<br><br>I recently rediscovered box2d and found it easy to use after all <br><br></td></tr></table><br>
<a name="927888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the new methods arent in the docs? <br></div><br>They should be in the API part of the docs...  until they are documented "properly" (by Erin Catto etc), you'll have to wait for them to appear in the other section :-)<br><br>The defs are :<br>b2BuoyancyControllerDef<br>b2TensorDampingControllerDef<br>b2GravityControllerDef<br>b2ConstantForceControllerDef<br>b2ConstantAccelControllerDef<br><br>for these controllers :<br>b2BuoyancyController<br>b2TensorDampingController<br>b2GravityController<br>b2ConstantForceController<br>b2ConstantAccelController<br><br>The small example (buoyancy.bmx) should give you an idea of what the buoyancy controller is capable of.<br><br>Essentially, you can create controllers, and add bodies to them. Those will be affected accordingly by the controller. <br><br></td></tr></table><br>
<a name="927892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> so if you create a boat=plane thingy you would have to take its body off of the bouyancy controller to let it take off? <br><br></td></tr></table><br>
<a name="927899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No...   the buoyancy "plane" is fixed, so when your aircraft is outside of the zone, it will handle as it would normally... but once it crosses the plane, buoyancy will again have an effect.<br>See the example.<br>You can pick up and drag the shapes around.. both above and below the "water line"... they act differently depending on where they are. <br><br></td></tr></table><br>
<a name="928145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Since b2BuoyancyController is based on an infinite normal plan, I will often need to add and remove bodies to the b2Controller list.<br>This is not a "normal" blitzmax List ( GetBodyList:b2ControllerEdge() )<br>Can you tell me if I need to verify before adding if a body is already present in the list by cycling into it or is this done automatically ?<br>I don't know well how to cycle into all these Controllers.<br>Any examples on how to do this ? <br></div><br>Stil no tiny example on how to use the internal Buoyancy Controller List ?<br>I'm currently using a custom blitzmax list to handle every object but this should be more handy somewhere...<br><i>No time to find the answer myself through :s</i> <br><br></td></tr></table><br>
<a name="928163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can you tell me if I need to verify before adding if a body is already present in the list by cycling into it or is this done automatically ? <br></div><br>AddBody() doesn't check if the body is already present in the controller.<br><br>You will indeed need to be careful, since it looks like RemoveBody() will stop after finding the first "matching" body and remove it - if the body exists multiple times, it will not be fully removed.<br><br>Is this a bug?  Possibly.<br><br>I have the option of holding a separate list/map myself, if that will help you? <br><br></td></tr></table><br>
<a name="928185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have the option of holding a separate list/map myself, if that will help you? <br></div><br>That's an idea.<br>In the other hand maybe not everyone will use this controller the same way so it's maybe better to let things as it is ?<br><br>What I'm currently trying to guess as you probably see at box2d Forum is why the buoyancyController linked to a sensor shape drop's containing objects when sensor or object contacts points change position or disappear (due to the box2d logic). The object then act like if it wasn't underwater even if I never removing body from the list... Probably I did an error somewhere in the processing of contact Points. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
