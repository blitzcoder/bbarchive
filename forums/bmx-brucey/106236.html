<!DOCTYPE html><html lang="en" ><head ><title >Android 5.1 error [solved]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Android 5.1 error [solved]</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Android 5.1 error [solved]</a><br><br>
<a name="1305578"></a>

<a name="1305579"></a>

<a name="1305580"></a>

<a name="1305930"></a>

<a name="1306281"></a>

<a name="1306282"></a>

<a name="1306284"></a>

<a name="1306287"></a>

<a name="1306288"></a>

<a name="1306289"></a>

<a name="1306413"></a>

<a name="1306427"></a>

<a name="1306428"></a>

<a name="1306429"></a>

<a name="1306433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just followed Dabz handy tutorial for Android 5.1 (I have ARM v7a) but I'm getting an error I can't solve now:<br><br><div class="quote"> Error creating class file 'C:/../firepaintAndroid/android-project-firepaint/src/net/dabz/test/firepaint/BlitzMaxApp.java'<br> <br></div><br>I have no idea what that is but I did solve another error by creating empty folders in Bmx-ng root:<br><br><div class="quote"> Missing resources folder for Android build : C:/../resources/android/android-project<br> <br></div><br>My custom.bmk looks like this. I installed the sdk to another drive partition could that be the problem? Thanks.<br><pre class=code>addoption android.home "D:\android-sdk-windows"
addoption android.sdk "D:\android-sdk-windows"
addoption android.ndk "D:\android-ndk-r11c"
addoption android.toolchain.version "4.9"
addoption android.platform "12"
addoption ant.home "D:\apache-ant-1.9.7"
</pre><br><br>NOTE: Since there's a few essential steps missing from Dabz's Android tutorial I added them here...<br><br><div class="quote"> - Use the latest stable release of Bmx NG <a href="https://github.com/bmx-ng/bmx-ng/releases" target="_blank">here</a> currently 0.70 with gcc 5.1, not the latest unstable to avoid unexpected errors<br>- When building for android remove this win32 lib link from env variable BMK_LD_OPTS "-lmsvcrt"<br>- Building modules for android from cmd needs syntax "bmk makemods -r -l android -g armeabiv7a pub" or armeabi/arm64v8a for older/newer architecture<br>- If you have a processor before armv8 it's 32 bit so you'll need the 32 bit Android NDK. Anything before Lollipop/5.0 is a 32 bit OS<br>- If you see "unable to resolve project target" you need to install an API with the SDK Manager, for example I needed Android 6.0/api23, 5.1/api22 and 4.4.2/api19 <br></div> <br><br></td></tr></table><br>
<a name="1305673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey munch, <br><br>I have the same bmk but with just different SDK/NDK versions when I got to compile NG with Android the first time. <br><br>I don't think it's the drive partition but after I'm done with some work stuff I could help out and will try this NG/Android thing again and do a clean NG install. <br><br></td></tr></table><br>
<a name="1305678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey RustyKristi, well don't put yourself out if it's working for you, it's such a slow process to install this stuff. <br><br></td></tr></table><br>
<a name="1305688"></a>

<a name="1305689"></a>

<a name="1305690"></a>

<a name="1305691"></a>

<a name="1305692"></a>

<a name="1305693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey it's totally fine munch, it's the least I can do anyway with all the help here and your help with my stuff! :-) <br><br>I was also planning to do some NG test again because it bothered me that my last setup was broken.<br><br>So I did a quick install using Dabz's win32 package. I got my paths here (custom.bmk)<br><br><pre class=code>addoption android.home "C:\Users\home\AppData\Local\Android\android-sdk\"
addoption android.sdk "C:\Users\home\AppData\Local\Android\android-sdk\"
addoption android.ndk "C:\android-ndk\"
addoption android.toolchain.version "4.8"
addoption android.platform "18"
addoption ant.home "C:\apache-ant"</pre><br><br>System Variables:<br><br><b>JAVA_HOME = C:\Program Files (x86)\Java\jdk1.7.0_02</b><br><br>I just had to remove some win32 stuff in this environment variable BMK_LD_OPTS "-lmsvcrt" and I got it in one go.. wow. <br><br><br>It's probably because I'm using older NDK/SDK versions.<br><br>hope this will help you in some way. cheers <br><br></td></tr></table><br>
<a name="1305695"></a>

<a name="1305696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> My only problem is it's always building in target 5.1 where I only have a 4.4 phone :/<br><br>[Edit] Took out platform-22 to use 19 (atm) but I'm still getting exit errors just like before <br><br></td></tr></table><br>
<a name="1305723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..I ended getting my own build to work. It was the platform-22 package tool that was keeping it from building and I got it by chance when I took it out earlier.<br><br>It's a MinGW 4.8 version with a custom bmk.exe from Dabz. Firepaint example works great on my device. <br><br></td></tr></table><br>
<a name="1305798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RustyKristi, good to see you got it working. I'll have another go at it when I get the time. <br><br></td></tr></table><br>
<a name="1305807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pingus</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rusty, would you mind to upload somewhere the apk of firepaint ?<br><br>I also have a 5.1 arm7 and I would be amazed to see a bmx app running on it. <br><br></td></tr></table><br>
<a name="1305811"></a>

<a name="1305812"></a>

<a name="1305814"></a>

<a name="1305815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You got it Pingus. I was just thinking about uploading it earlier. It's only 750kb in apk size with target 19 (Android 4.4) and Arm v7.<br><br>It's a stripped down version of the desktop example so it's blank with the fps counter on top left unless you started touching the screen. Just ignore the permissions, it won't do anything as I just unzipped the code and build as is.<br><br><b>FirePaint (Android BMX-NG)</b><br><a href="http://www.mediafire.com/download/y970eq45rlxc5z7/firepaint-debug.apk" target="_blank">http://www.mediafire.com/download/y970eq45rlxc5z7/firepaint-debug.apk</a><br><br>@munch<br><br>Great. you could try building with the default release and MinGW 4.8. I was having problems with MinGW 5.1 to build 3rd party mods even with vanilla bmx. I'm not sure the same applies with NG or I'm just doing something wrong there. <br><br></td></tr></table><br>
<a name="1305828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pingus</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot Rusty.<br><br>Guess what... it RUNS :) ! So its possible !<br>Funny, it generate a firework on multiple 'touches', that's great. Now I have to find what's wrong with my apk (the building works but apk stuck on a black screen few sec before quitting).<br><br>Do you have also this warning during compile ? :<br><br><div class="quote"> Compile Warning: In call to Function SetColor:Int(red:Int,green:Int,blue:Int). Argument #1 is "Float" but declaration is "Int". <br> <br></div> <br><br></td></tr></table><br>
<a name="1305902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah awesome, I'm glad! :D I also got some hint when you try building it with android and if you get a larger file (2Mb), somehow it doesn't work and it closes. I'm guessing it was the copy over libraries that I have skipped when I used the latest download from Dabz NG site.<br><br>Yes, those compiler warnings can be easily fixed by removing the float sign in the r#g# b# declarations since the colors are 0-255 integers. <br><br></td></tr></table><br>
<a name="1305905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pingus</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> if you get a larger file (2Mb) <br></div><br><br>Yes indeed, that's the file size of my apk (even a "hello"). So how to get rid of thoses extra libraries ? <br><br></td></tr></table><br>
<a name="1305949"></a>

<a name="1305950"></a>

<a name="1305951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm really not sure but if I would itemized the tools that I acquired to get it finally working, here it is:<br><br>BMX-NG v0.62<br><a href="https://github.com/bmx-ng/bmx-ng/releases/tag/v0.62.3.06.win32" target="_blank">https://github.com/bmx-ng/bmx-ng/releases/tag/v0.62.3.06.win32</a><br><br>I think that comes with MinGW 4.8.1 so download TDM GCC 4.8.1. I remember doing the overwrite libs and ar.exe and ld.exe binaries batch script, I'm sure you already know that.<br><br>replace bmk.exe with Dabz built (hey, it's still there..)<br>Link: <a href="http://www.bmx-ng.com/main/files/bmk.7z" target="_blank">http://www.bmx-ng.com/main/files/bmk.7z</a><br><br>custom.bmk I already posted above<br><br>SDL mod is not included so download that, if the latest does not work, rollback and download the commit around 7 months back. <br><br>I got it for the first time months ago and when I upgraded my android tools for some other engine I'm trying to check out, it kinda ruined it but I managed to get it back a few days ago. :) <br><br></td></tr></table><br>
<a name="1305960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well this is wierd, I followed all your instructions and I still get the message "Error creating class file" so it must be the partition thing.<br><br>Also, I had an error with the latest sdl.mod so I downloaded the sdl.mod dated Nov 9, 2015 before "Added multigesture support" since the error was:<br><br><div class="quote"> C:/../sdl.mod/sdlsystem.mod/glue.c:144:26: error: 'BBEVENT_MULTIGESTURE' undeclared (first use in this function)<br>     bbSDLSystemEmitEvent(BBEVENT_MULTIGESTURE, source,event-&gt;mgesture.touchId, 0, x, y, gesture); <br></div> <br><br></td></tr></table><br>
<a name="1305963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is really weird munch. I wouldn't mind and could probably simulate that partition thing and see if it does throw that exact same error. <br><br>I do have another separate internal drive where I can test it.<br><br>Here's my workscreen just for reference.<br><br><img src="http://i.imgur.com/iC1u1oD.jpg"><br><br>I could also upload my modified BMX-NG copy or the sdl mod if you need to compare or at least narrow this issue down. I just need to remove some unnecessary build files and other stuff to make it lighter as the folder is around 800mb. <br><br>I'll upload the SDL mod first in a bit.. <br><br></td></tr></table><br>
<a name="1305966"></a>

<a name="1305969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here you go munch.. :)<br><br><b>SDL Mod</b><br><a href="http://www.mediafire.com/download/anug5o0tsl2d8pz/sdl.mod.zip" target="_blank">http://www.mediafire.com/download/anug5o0tsl2d8pz/sdl.mod.zip</a><br><br>I can also confirm that it's not a partition issue, when I copied my NG installation to my D: drive and rebuild it from there. <br><br></td></tr></table><br>
<a name="1306037"></a>

<a name="1306038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RustyKristi! Unfortunately, your sdl mod makes no difference and I still get "Error creating class file" but I'm obviously doing something dumb here. I'm going to try to repartition my drive to make enough space for the sdk. <br><br></td></tr></table><br>
<a name="1306051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> No sweat munch :) Let me know if you still need the NG copy. <br><br></td></tr></table><br>
<a name="1306056"></a>

<a name="1306057"></a>

<a name="1306059"></a>

<a name="1306065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I think I've figured it was just a dumb mistake, sorry to trouble you RustyKristi.<br><br>I wasn't building the modules for android architecture with "bmk makemods -r -l android -g armeabiv7a pub/brl/sdl". <br><br>And it seems Android is 32 bit until Lollipop/5.0 and the first 64 bit ARM processor is armv8. I got the 64 bit ndk version which caused this error:<br><br><div class="quote"> C:\BlitzMaxNG\bin&gt;bmk makemods -r -l android -g armeabiv7a pub<br>gcc not found at 'D:/android-ndk-r11c/toolchains/arm-linux-androideabi-4.9/prebuilt/windows/bin/arm-linux-androideabi-gcc.exe' <br></div><br>The files are there but the folder in the 64 bit ndk is "windows-x86_64". <br><br></td></tr></table><br>
<a name="1306067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> More trouble, I built the mods with gcc 4.8.1 okay but there's a new error now. It's some kind of linker library issue, missing or path broken.<br><br><div class="quote"> D:/android-ndk-r11c/toolchains/arm-linux-androideabi-4.9/prebuilt/windows/bin/../lib/gcc/arm-linux-androideabi/4.9/../../../../arm-linux-androideabi/bin/ld.exe: cannot find -lmsvcrt <br></div> <br><br></td></tr></table><br>
<a name="1306072"></a>

<a name="1306073"></a>

<a name="1306074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh I already mentioned that above, just remove "-lmscvrt" in your BMK_LD_OPTS environment or make sure it's not triggered when you target android because I thinks that's for windows only. <br><br></td></tr></table><br>
<a name="1306118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again RustyKristi, that was the problem.<br><br>Then I got another error but solved it by installing Android 4.4.2 (api 19) with the sdk manager:<br><br><div class="quote"> BUILD FAILED<br>D:\android-sdk-windows\tools\ant\build.xml:538: Unable to resolve project target 'android-19'<br> <br></div><br><br>So now I have "BUILD SUCCESSFUL" and an apk in the bin folder. :)<br><br>Just have to find out how to install it now. <br><br></td></tr></table><br>
<a name="1306142"></a>

<a name="1306143"></a>

<a name="1306144"></a>

<a name="1306145"></a>

<a name="1306146"></a>

<a name="1306147"></a>

<a name="1306149"></a>

<a name="1306150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I installed Astro File Manager and switched on Security&gt;Unknown Sources, I needed a restart after that as new apps weren't showing up. Then I copied the apk to Downloads from the PC and used Astro to find and install it which worked but when I run it I just get a black screen, this was with both my own build and RustyKristi's (I had to uninstall first from Settings&gt;Apps). <br><br>It also does the same with Dabz's build "andytest-debug.apk" so what could it be? Do I need to be rooted? <br><br></td></tr></table><br>
<a name="1306164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey munch, that's awesome when you finally got it to build! :) As for the blank screen, you can post your created apk so it can be tested publicly, at least your build can be checked on other devices.<br><br>About transferring, if you have a router on your home/work network and an apache webserver, just place it on the www folder and access it from your device like <a href="http://192.168.x.x/myapp.apk" target="_blank">http://192.168.x.x/myapp.apk</a><br><br>Otherwise, just download any portable web server such as python (2 or 3) or php (5.x) builtin features<br><br>python -m SimpleHTTPServer [port]<br><br>I'm suspecting it's just some security measures on your phone.. <br><br></td></tr></table><br>
<a name="1306179"></a>

<a name="1306180"></a>

<a name="1306184"></a>

<a name="1306186"></a>

<a name="1306187"></a>

<a name="1306188"></a>

<a name="1306190"></a>

<a name="1306191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to note, I havent tried an Android build in quite a while... But there was a bit of a major issue with Samsung Knox, as in, something was happening in code it didnt like (Like creeping out of the container your app is run in), and thus, causing Knox to throw a hissy fit and shut down your app.<br><br>I never actually figured it out why, and I did hunt, unfortunately there wasnt really any clue why from the debugger... And alas, I give up... I did try to figure it out, but, without anything meaningful from the debugger, well... Needle and haystacks!<br><br>Technology eh... You can drag and drop blocks to create a program, even create a program to create a program, use neural network programming to draw computer dreams... But if you dare want anything remotely sensible like decent error messages, your knackered... As an example and no way related to this, it boils my piss when I see:-<br><br>*Error 51: Unknown Error*<br>*Message 02: PID 2013 will be forcefully closed*<br>*Message 10: Due to an unknown error, the system has closed PID 2013, please contact Mystic Meg for more details.*<br><br>It's 2016 FFS, I had better info debugging bloody Z80 assembly using Maxam!!!<br><br>Dabz <br><br></td></tr></table><br>
<a name="1306205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the heads up Dabhand! So are you trying to say that the Android build does not work with the latest NG? <br><br></td></tr></table><br>
<a name="1306206"></a>

<a name="1306207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RustyKristy, I renamed and uploaded the apk to <a href="https://app.box.com/s/avjd4cg5l62paar834n56gda5ipiznij" target="_blank">box.com</a>.<br><br>Dabhand, I don't seem to have Knox on my Motorola, but there is probably an equivalent app.<br><br>Strange, when I run any installed Bmx app and touch the black screen it produces a sparkle/fireworks trail. <br><br></td></tr></table><br>
<a name="1306208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> @munch Great, hey finally works great from here! :) <br><br></td></tr></table><br>
<a name="1306341"></a>

<a name="1306342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it's still not working but some progress.<br><br>I tried removing any permissions by editing AndroidManifest.xml but no change. <br><br>I tried different settings available in Developer options such as: Disable HW overlays (GPU for screen compositing) but no change. With Motorola you need to tap 7 times on Build number to unlock Developer options.<br><br>I tried building with Dabz NG version (which has gcc 5.1) which wouldn't build until I installed api23/6.0, changing project.properties didn't seem to override it. This created an apk of about double the size made by Official NG release linked by RustyKristi (which has gcc 4.8). When installed the app was about 6.5 compared to 2.5 MB. The larger apk has an extra file libstlport_shared.so in it about 3 MB. The larger app behaves like Pingus reported, black screen for a few seconds then a message "Unfortunately, firepaint has stopped". <br><br></td></tr></table><br>
<a name="1306344"></a>

<a name="1306345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey munch, I always wanted to try other emulators so I downloaded a fresh virtualbox image copy of android 5.1. When I tried my build in there it does not work as expected (exit or message stopped).<br><br>I'm going for a 4.4.2 android image later and maybe it has something to do with android os version but I'm not sure. <br><br>Anyways, maybe you can try it with an older phone with 4.4.2? Pingus got it to run which is a good thing. Your build works ok btw in my phone. <br><br></td></tr></table><br>
<a name="1306415"></a>

<a name="1306417"></a>

<a name="1306418"></a>

<a name="1306419"></a>

<a name="1306420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I've realized I was just being dumb again and it was a black screen because the firepaint demo has been changed to a sparkler. So it works in Android 5.1. Yay!<br><br>I rebuilt mods with gcc 5.1 with the player.png ship to make sure and it was fine using the official NG 0.62 release (Dabz NG release builds an apk that crashes).<br><br>I did get an error "Cannot determine toolchain dir for 'windows'" when I tried to use official bmk 3.06 to build mods but it works with Dabz bmk 3.06. <br><br></td></tr></table><br>
<a name="1306423"></a>

<a name="1306424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> great, glad it worked out. :-) yes Dabhands made some changes to the original firepaint.<br><br>I got it to work on latest NG 0.70 5.1, actually a clean install without any modifications so I'm not sure why you're getting that error. It's really awesome Brucey has fixed a lot of those android build issues. :D <br><br></td></tr></table><br>
<a name="1306430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I tried the latest NG release 0.70 with gcc 5.1 and it worked without needing to worry about bmk which is great. The only thing I had to do was edit custom.bmk which is necessary.<br><br>Yes, Brucey has done an amazing job! Definitely. <br><br></td></tr></table><br>
<a name="1306435"></a>

<a name="1306438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes that custom bmk really straighten things out.<br><br>I think the only feature missing is generating a .android file. is it possible with pre.bmk, make.bmk or some file like that?<br><br>I have to do this manually otherwise I got a bunch of demos getting replaced one after the other labelled 'Blitzmax Application'<br><br>I also wonder why some apps runs on any android, emulator or actual device, given the correct api required and platform.<br><br>take for example monkey apps and other engines like unity, godot. <br><br></td></tr></table><br>
<a name="1306603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think AppTitle has the default value "BlitzMax Application" maybe that would work?<br><br>I can't find any information on what a .android file is, can you explain please?<br><br>It must be something in Bmx apps that causes the issue with Knox, if that's what you mean. <br><br></td></tr></table><br>
<a name="1306606"></a>

<a name="1306607"></a>

<a name="1306608"></a>

<a name="1306609"></a>

<a name="1306610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I can't find any information on what a .android file is, can you explain please? <br></div><br><br>Same here, but I first got that from Dab's firepaint example which kinda acts like a manifest file for android. It generates and passes more build info on the actual android build files (.xml, .properties) like a setup script.<br><br>Check out the firepaint.android file. It seems you need to name it the same as your main bmx file. Inside that you can set App name, package name, default orientation, version and other stuff.<br><br>I think it's obvious if you're doing the android build, the AppTitle$ command is ignored and instead it gets info from the corresponding .android file or else it churns out the default "BlitzMax Application" as title and without other info.<br><br>Sample Firepaint.android file (included in zip)<br><br><pre class=code># application package name for Java class
app.package=net.dabz.test.firepaint

# application version code
#    An integer value that represents the version of the application code, relative to other versions.
#    You can set the value to any integer you want, however you should make sure that each successive release of your application uses a greater value.
app.version.code=1

# application version name
#    A string value that represents the release version of the application code, as it should be shown to users.
#    The value is a string so that you can describe the application version as a &lt;major&gt;.&lt;minor&gt;.&lt;point&gt; string, or as any other type of absolute or relative version identifier.
app.version.name=1.0

app.name=FirePaint
app.orientation=landscape</pre><br><br>maybe Brucey could give us more details about this file <br><br></td></tr></table><br>
<a name="1306619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doh! I should have thought of that. Look in bmk/bmk_util.bmx and you get the answer:<br><pre class=code>	If Not FileType(path) Then
		Print "Not Found : application settings file '" + appId + ".android'. Using defaults..."
		Return DefaultAndroidSettings()
	End If

...

Function DefaultAndroidSettings:TMap()
	Local settings:TMap = New TMap
	settings.Insert("app.package", "com.blitzmax.android")
	settings.Insert("app.version.code", "1")
	settings.Insert("app.version.name", "1.0")
	settings.Insert("app.name", "BlitzMax Application")
	settings.Insert("app.orientation", "landscape")
...</pre><br>So you can change the default app.name there and rebuild bmk but I don't think it's too much hassle to manually edit the .android file. <br><br></td></tr></table><br>
<a name="1306622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it may not be much of a hassle. Thanks, I'll look into that. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
