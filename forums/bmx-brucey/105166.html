<!DOCTYPE html><html lang="en" ><head ><title >wxMax duplicate section app compile issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >wxMax duplicate section app compile issue</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >wxMax duplicate section app compile issue</a><br><br>
<a name="1279530"></a>

<a name="1279531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I started checking out wxMax, builds ok but then when I'm building the simple hello world example I get this:<br><br><a href="http://pastebin.com/FRFdtw8F" target="_blank">http://pastebin.com/FRFdtw8F</a><br><br>Preview:<br><br><pre class=code>
Building hello_world
[ 99%] Processing:hello_world.bmx
[ 99%] Compiling:hello_world.bmx.console.release.win32.x86.c
[100%] Linking:hello_world.exe
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xh_frame.o): duplicate section `.rdata$_ZTV20wxThreadHelperThread[__ZTV20wxThreadHelperThread]' has different size
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xmlres.o): duplicate section `.rdata$_ZTV20wxThreadHelperThread[__ZTV20wxThreadHelperThread]' has different size
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xmlres.o): duplicate section `.rdata$_ZTV17wxStringTokenizer[__ZTV17wxStringTokenizer]' has different size
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xh_toolb.o): duplicate section `.rdata$_ZTV20wxThreadHelperThread[__ZTV20wxThreadHelperThread]' has different size
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xh_statbar.o): duplicate section `.rdata$_ZTV20wxThreadHelperThread[__ZTV20wxThreadHelperThread]' has different size
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xh_menu.o): duplicate section `.rdata$_ZTV20wxThreadHelperThread[__ZTV20wxThreadHelperThread]' has different size
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xh_sizer.o): duplicate section `.rdata$_ZTV20wxThreadHelperThread[__ZTV20wxThreadHelperThread]' has different size
C:/BlitzMaxNG/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_xrc.a(xrclib_xh_sizer.o): duplicate section `.rdata$_ZTV17wxStringTokenizer[__ZTV17wxStringTokenizer]' has different size
...
...
</pre><br><br>I'm using GCC 4.7.1 <br><br></td></tr></table><br>
<a name="1279541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The static libs were built with GCC 5.1.<br>You'll probably either need to build with a 5.x GCC or rebuild the libs yourself with your choice of GCC. <br><br></td></tr></table><br>
<a name="1279542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok thanks Brucey, will try to test it with 5.1. <br><br></td></tr></table><br>
<a name="1279543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> With NG, just stick your MinGW install in C:/BlitzMaxNG/MinGW32 and rebuild. Should be good to go. <br><br></td></tr></table><br>
<a name="1279552"></a>

<a name="1279553"></a>

<a name="1279554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok got it. The last I have downloaded binaries in your github page is with MinGW32 4.8.1, I seem to forgot where I got the link (BlitzMax_win32_0.62.3.06.zip). Where can I get the bmx-ng win32 binaries with MinGW gcc 5.1? <br><br></td></tr></table><br>
<a name="1279582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> bmx-ng.com<br><br>The Windows download contains the GCC compiler that builds wxMax.<br><br>Dabz <br><br></td></tr></table><br>
<a name="1279584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The Windows download contains the GCC compiler that builds wxMax. <br></div><br>It's not an official (my :-p) build though, and contains changes to bmk that are not officially supported by me :-p<br><br><div class="quote"> Where can I get the bmx-ng win32 binaries with MinGW gcc 5.1?  <br></div><br>I'll do a new release later this week. <br><br></td></tr></table><br>
<a name="1279605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Brucey, Ok I will just wait for the new release. awesome! :-)<br><br>Hey Dabhand, I agree with Brucey and as my last download from your custom build is not compatible with my setup. I do appreciate your efforts though and what you have done so far in terms of support here and opening this awesome site. :-)<br><br>cheers. <br><br></td></tr></table><br>
<a name="1279606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol@brucey<br><br>Well get ya finger out bonny lad and I'll whack a new official one up there! :P hehehe<br><br>;)<br><br>In other news... I've started a game in blitzmax-ng... Yay!!!! \o/<br><br>Dabz <br><br></td></tr></table><br>
<a name="1279610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, just spied your reply Rusti! ;)<br><br>That's okay... But what you could do is download the package from bmx-ng and copy and paste the MinGW32 folder over to the official one and wxMax should build accordingly!<br><br>Dabz <br><br></td></tr></table><br>
<a name="1279611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  I've started a game in blitzmax-ng <br></div><br>Which should be just like starting a game in BlitzMax proper :-p<br><br>If you find there's anything you need to do differently (that you'd expect to work in the old legacy stuff, please let me know), as everything generally should work the same... (platform specific things obviously excepted) <br><br></td></tr></table><br>
<a name="1279614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I could, but...<br><br>1) android, pi testing out of the box, can build around them as well... Biggy!<br><br>2) manipulating lists is a no no I'm bmx-ng, which I like being forced to do it the proper way, top feature imo<br><br>3) it will give bmx-ng a good run out... Very important because if someone can finish a game in it... Well, it's there innit!<br><br>Oh, and if I hit any snags, I will post... Topic title "BRUCEYYYYYYYYYY... HELLLLLPPPP" ;) hehehe<br><br>Dabz <br><br></td></tr></table><br>
<a name="1279621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 2) manipulating lists is a no no I'm bmx-ng, which I like being forced to do it the proper way, top feature imo <br></div><br><br>Which removed some potential segfaults (happening sometimes) in my game TVTower ... which might have been a reason for Brucey to include it (to rap me on the knuckles ... for behaving badly :-)).<br><br><br>If you see it compile a bit slow, append the "quick"-param to bcc - so it does not check modules whether they are modified or not ... for my geany-addon I appended it, dunno if Brucey's "maxIDE"-clone already includes the param.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1279670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Oh, just spied your reply Rusti! ;)<br><br>That's okay... But what you could do is download the package from bmx-ng and copy and paste the MinGW32 folder over to the official one and wxMax should build accordingly!<br> <br></div><br><br>Ah ok haha. :D Thanks, I will try that as well. <br><br></td></tr></table><br>
<a name="1279680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  If you see it compile a bit slow <br></div><br>I'm sure that's just you :-p<br>Even in my VM's it builds quickly... <br><br></td></tr></table><br>
<a name="1279720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If you see it compile a bit slow, append the "quick"-param to bcc - so it does not check modules whether they are modified or not ... for my geany-addon I appended it, dunno if Brucey's "maxIDE"-clone already includes the param.<br> <br></div><br><br>Yeah, it's in MaxIDE, builds my imports once then forgets about them, goes to 99% straight off the bat when compiling, obviously with the 1% being the file I've just pretinkered! ;)<br><br>Dabz <br><br></td></tr></table><br>
<a name="1279729"></a>

<a name="1279730"></a>

<a name="1279731"></a>

<a name="1279732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> The "check module sources for modification" adds a big bunch of compile time here on my "classic hdd"-machine (non-ssd) - maybe it's the ext3-partition (gets stressed when doing multiple things at once).<br><br>The "quick"-param ("opt_quickscan" in the bmk-sources) disables module-source-modification-lookup (it is then failing modification-recognition similar to vanilla bmk - so disable it, if modifying modules and relying on auto-recompilation).<br><br>@Brucey<br>We closed 2 issues the last days regarding this ... albeit it should be still a "problem" (if not using the quick-param) especially when using bigger modules (wxMax in my case).<br><br><pre class=code>
$ time ./bmk makeapp -t console -r -a "/PATH_TO/TVTower.git/editor.bmx"
[ 19%] Compiling:base.util.mersenne.c
[ 19%] Compiling:glue.cpp
....
[100%] Linking:editor

real	0m51.264s
user	0m46.112s
sys	0m3.135s


$ time ./bmk makeapp -t console -r -a -quick "/PATH_TO/TVTower.git/editor.bmx"
[ 19%] Compiling:base.util.mersenne.c
[ 19%] Compiling:glue.cpp
....
[100%] Linking:editor

real	0m46.733s
user	0m43.502s
sys	0m3.033s
</pre><br><br><br>Without recompilation:<br><pre class=code>
 $ time ./bmk makeapp -t console -r "/PATH_TO/TVTower.git/editor.bmx"

real	0m1.589s
user	0m1.480s
sys	0m0.071s


$ time ./bmk makeapp -t console -r -quick "/PATH_TO/TVTower.git/editor.bmx"

real	0m0.402s
user	0m0.328s
sys	0m0.055s
</pre><br><br><br><br>Of course this time the time differences are not that big - maybe it improved over the last releases (there were issues with the way and order things get "imported" in multiple source files).<br><br><br>For my game the difference is better visible (but same factor of "4"):<br><pre class=code>
 $ time ./bmk makeapp -t console -r "/PATH_TO/TVTower.git/TVTower.bmx"

real	0m4.480s
user	0m4.397s
sys	0m0.061s


$ time ./bmk makeapp -t console -r -quick "/PATH_TO/TVTower.git/TVTower.bmx"

real	0m0.926s
user	0m0.851s
sys	0m0.055s
</pre><br><br><br>This only matters if you are - like me - one who codes some lines and is eager to check it out by running the app.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1279735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is that using legacy BlitzMax with bmk NG?<br><br>Also, is your bmk NG multi-threaded? <br><br></td></tr></table><br>
<a name="1279748"></a>

<a name="1279749"></a>

<a name="1279750"></a>

<a name="1279753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes to both questions<br><br><pre class=code>
$ ./bmk -v
bmk 3.04 linux-x86 / gcc 040804 (cpu x4)

$ ./bcc
BlitzMax Release Version 1.48
</pre><br><br>Like said, this is happening because of the huge amount of file lookups (I suggested various things in the issue that time - though none of them was really useful). I had some debugs that time logging file accesses and thoughts on "caching" file information.<br><br><br><br>Edit: I know that this bmk is NOT the most current. with the most current I get this:<br><br><pre class=code>
$ ./bmk -v
bmk 3.06 mt-linux-x86 / gcc 040804 (cpu x4)

$ time ./bmk makeapp -t console -r -quick "/PATH_TO/TVTower.git/TVTower.bmx"

real	0m1.541s
user	0m1.435s
sys	0m0.107s


$ time ./bmk makeapp -t console -r "PATH_TO/TVTower.git/TVTower.bmx"

real	0m8.410s
user	0m7.759s
sys	0m0.188s
</pre><br><br><br>And the editor file (using wxMax)<br><pre class=code>
$ time ./bmk makeapp -t console -r "/PATH_TO/TVTower.git/editor.bmx"

real	0m3.173s
user	0m3.050s
sys	0m0.099s


$ time ./bmk makeapp -t console -r -quick "/PATH_TO/TVTower.git/editor.bmx"

real	0m0.729s
user	0m0.618s
sys	0m0.101s
</pre><br><br>Which shows, why I am not using the most current bmk.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
