<!DOCTYPE html><html lang="en" ><head ><title >Box2D - examples help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Box2D - examples help</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Box2D - examples help</a><br><br>
<a name="864073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been trying to port the Bridge example, and everything appears to be working fine apart from the actual drawing of the graphics.<br>It seems that Box2D is designed to work at a specific scale (where 1 pixel is not equal to 1 Box2D unit). So, it needs some kind of scaling to display the graphics properly.<br><br>Anyhoo, if anyone wants to see where I'm going wrong with the example, the code's in SVN at the usual place.<br><br>The mod isn't finished yet, but I tend to write my mods and examples at the same time to check that the wrap is working.<br><br>:-) <br><br></td></tr></table><br>
<a name="865390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Incredible ! You really work on it :)<br>That's an excellent and very promising news !<br><br>I know what you mean about the scale problem.<br>Some of the Box2D community tend to scale the Box2D unit to 1 pixel but in that particular case using a 10 pixels cube was like playing with a huge building and of course reduce the quality of the simulation.<br><br>I did have a look to the Bridge example in the actual SVN and i must say the visual result is pretty strange indeed.<br><br>What i'm about to say it's probably not very helpful but if the problem is around scale maybe using the Cairo Mod and by this using Vectorial defined graphics "could" maybe ease the process of conversion.<br><br>Now the Bridge example "practically" finished, do you thing the overall wrapper is still very possible or did you predict some difficulties (other than this scale problem which is in fact a feature of Box2D).<br><br>All in all i'm very happy to see you're working on this and wish you the best for this work !<br><br>I will lurk in the box2d community just to see if i can report some informations about the scale problem.<br><br>Thanks :) <br><br></td></tr></table><br>
<a name="865439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> do you thing the overall wrapper is still very possible or did you predict some difficulties  <br></div><br><br>For the library itself, I don't foresee any major difficulties. Callbacks are usually easy to add, of which I think there are a few in Box2D. So, mostly the contacts and listener stuff still to do.<br><br>Perhaps we just need to come up with our own scaling mechanism. Hopefully not a big task. <br><br></td></tr></table><br>
<a name="865510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent news then ! :)<br><br>By the way, as you probably notice, there is a new version 2.0.1 which fix some important points (including a rollback to separate CreateStaticBody and CreateDynamicBody functions as 2.0.0 CreateBody with null mass were causing problems) and add numerous of cool examples.<br><br><a href="http://www.box2d.org/forum/viewtopic.php?f=2&amp;t=711" target="_blank">http://www.box2d.org/forum/viewtopic.php?f=2&amp;t=711</a><br><br>Maybe it's worth to work with this one as it's an official release.<br><br>I stay tuned with great interest to this topic and worklog :) <br><br></td></tr></table><br>
<a name="865512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I've been getting the Box2D source directly from SVN, so it should generally be up-to or at least newer than the current official release.<br><br>Hopefully :-) <br><br></td></tr></table><br>
<a name="865513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good to hear that :)<br>I feel good about box2d. Nice documentation and huge community will definitely be a plus ! <br><br></td></tr></table><br>
<a name="867039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey :)<br><br>I was wondering if you found time to fix the scales problems around Box2D ?<br><br>Have a nice weekend ;) <br><br></td></tr></table><br>
<a name="869744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've finally sorted out the issues with regards drawing using the debugdraw stuff, which has urged me on to work harder on this module again.<br>There are currently about 5 working examples ported from the box2d testbed app, and all appear to work as expected.<br><br>Still lots of functionality to implement, but it's moving along nicely again.<br><br>:-) <br><br></td></tr></table><br>
<a name="880734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Brucey :-)<br><br>Any news around the Box2d Module ?<br>Thanks ! <br><br></td></tr></table><br>
<a name="881623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Other than b2DestructionListener, is there anything significant outstanding from the API?<br><br>There are still some examples to port, and the documentation needs a bit of work still - I've been porting the Box2d manual, which is quite large. <br><br></td></tr></table><br>
<a name="881719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds good. Im using chipmunk and even though im quite pleased with the results, some times I just feel held back either by poor documentation and lack of activity and development of chipmunk it self or code that works almost like i want it but not fully.<br><br>I dont know if box2d will change any of that but it would be interessting to try out <br><br></td></tr></table><br>
<a name="881729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brucey:<br><br>Effectively I miss a few updates lately ^^<br>Actually I didn't notice that the whole API were (probably) ported (except for b2DestructionListener then but this is not primordial at this moment for me).<br><br>Very good idea to put the manual inside the documentation !<br>I didn't fall on a missing method since I resumed my work<br><br>I am very pleased to continue my project thanks to you.<br><br>@Space_guy:<br>Well you should definitely look at Box2d as Chipmunk is based on box2d (lite I think) have some bugs (with restitution for example) and miss a lot of interesting features :)<br>I have switch from Brucey chipmunk module to the Brucey Box2D and I'm more than happy for the moment ! <br><br></td></tr></table><br>
<a name="881803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brucey:<br><br>Though I have absolutely no idea how to use the ContactListener !<br><br>1)How to implement ContactListener method Add/Persist/Remove/Result ?<br>When extends a new type with b2ContactLister and implementing those methods nothing happen ?<br>CollisionProcessing example cover that part and Test.cpp implement those method.<br><br><br>In the same area there is filtering.<br><br>2)Shape filtering the documentation say "Box2D supports 16 Collision categories" I know it can't be 0. In the example we have $0002 $0004 etc. but in Max it's converted with short value.<br>1..16 ?<br><br><br>3) And finally does shapeDef.GetFilter().SetCategoryBits(myFilterCategory) is the only good way to setup Filter in Max ? SetFilter() (and maybe others setters) won't work as intended. Or maybe it's used internally ?<br><br><br>I know it's lot of questions but they are asked from the more to the less important ^^ Only answer to the first one will be enough (as it worked well for the rest).<br><br>Thanks <br><br></td></tr></table><br>
<a name="881851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2) the data type used is a uint16, which equates to a BM short (more or less), where $FFFF would set all 16 categories. Remember, it's a bit-mask.<br><br>3) I've added a collisionfiltering example, and fixed an issue with b2FilterData  ;-)<br><br><br>I'm looking into 1) still :-p <br><br></td></tr></table><br>
<a name="881891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> When running examples, "C" now toggles on the displaying of contact points, implementing 1) in your list.<br><br>:-) <br><br></td></tr></table><br>
<a name="881945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im trying to place a body after its created and in the documentation it tells me about a method called SetXForm. Its seems to be missing though, GetXForm exists but not Set.<br><br>Is there any otehr way to move an object to a specified position after creation? <br><br></td></tr></table><br>
<a name="882408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey hey :)<br><br>Thanks Brucey !<br><br>Just a few things again :<br><br>A) I don't know if it's normal but there is a problem with the mouseJoint. I need to shift the cursor around any object to grab it. Maybe a scaling problem with ConvertScreenToWorld as it's related to the middle of the screen ?<br><br>B) Is the collisionFiltering example work correctly ? Every shapes collide with each others.<br><br>I have still some little things to do with my level loader first then I will use the ContactListener Type. Hope I can give you feedback around this point too :-)<br><br>I don't know about SetXform since I let Box2d doing all the movement for the moment... Sorry.<br><br>Thanks for the update. <br><br></td></tr></table><br>
<a name="882409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> A) I haven't quite managed to get that right yet, as you've noticed... there's some scaling off somewhere. Any ideas? :-p<br><br>B) Yes it is actually... what you really need to do is make the big square fall off and roll towards the big triangle... they'll not collide. Well, they didn't in the "real" testbed app...   I really need to add that bullet firing functionality to the examples.<br><br>The more feedback the better :-) <br><br></td></tr></table><br>
<a name="882429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will look at the mouseJoint. Who knows ^^<br><br>I suppose you know that but DrawPoint isn't registered as callback. This split a little the actual "framework" even if this is trivial ;)<br><br>Also I don't know if it's only with my game but the glPointSize command won't work with plot when using others drawing commands in larger project (even if glmax2d framework is selected) so I change the DrawPoint method like this <br><pre class=code>	Method DrawPoint(p:b2Vec2, size:Float, color:b2Color)
		Local MBlend:Int, MR:Int, MG:Int, MB:Int
		MBlend = GetBlend()
		SetBlend(SOLIDBLEND)
		GetColor(MR, MG, MB)
		SetColor(color.red, color.green, color.blue)
		DrawRect (p.x() * xScale) - (size / 2), (p.y() * (- yScale)) - (size / 2), size, size
		SetBlend(MBlend)
		SetColor(MR, MG, MB)
	End Method</pre><br>I like backup my rendering settings so I can use a 0.5 Alpha Blend over all other game rending (and see collision points/shapes).<br>This is just little accommodations I know this file will probably change in the future. <br><br></td></tr></table><br>
<a name="883848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I suppose you know that but DrawPoint isn't registered as callback. <br></div><br>Yeah, it's only a part of the "render" stuff in the examples. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
