<!DOCTYPE html><html lang="en" ><head ><title >sdl.mod</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >sdl.mod</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >sdl.mod</a><br><br>
<a name="1276580"></a>

<a name="1276581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Trying to compile it with Bmx 1.50 which is probably the problem. What should I do?<br><br><pre class=code>In file included from /home/~/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:21:0,
                 from /home/~/BlitzMax/mod/sdl.mod/sdl.mod/glue.c:26:
/home/~/BlitzMax/mod/sdl.mod/sdl.mod/glue.c: In function ‘bmx_SDL_FreeRW_stream’:
/home/~/BlitzMax/mod/brl.mod/blitz.mod/blitz_gc.h:57:33: error: request for member ‘refs’ in something not a structure or union
 #define BBRELEASE(X) {if( !--(X)-&gt;refs ) bbGCFree(X);}
                                 ^
/home/~/BlitzMax/mod/sdl.mod/sdl.mod/glue.c:85:3: note: in expansion of macro ‘BBRELEASE’
   BBRELEASE(ops-&gt;hidden.unknown.data1);
   ^
</pre> <br><br></td></tr></table><br>
<a name="1276594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You probably need to use Brucey's modified pub.mod and brl.mod  as well? <br><br></td></tr></table><br>
<a name="1276595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try changing<br><pre class=code>
BBRELEASE(ops-&gt;hidden.unknown.data1);
</pre><br>to<br><pre class=code>
BBRELEASE((BBObject*)ops-&gt;hidden.unknown.data1);
</pre><br>(which I'll fix later)<br><br>However... :-)<br><br>... the SDL modules have *not* been tested with legacy BlitzMax as it was introduced primarily to get BlitzMax onto other platforms (Pi, iOS, Android, etc).<br><br>So YMMV... <br><br></td></tr></table><br>
<a name="1276620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, ok.<br><br>Well I tested your fix anyway and that removed the error but now it says:<br><pre class=code>Compile Error: Overriding method differs by type
[/home/~/BlitzMax/mod/sdl.mod/sdl.mod/sdl.bmx;107;2]
Build Error: failed to compile /home/~/BlitzMax/mod/sdl.mod/sdl.mod/sdl.bmx</pre><br>I have 32bit ubuntu. These are longs and filePtr should be Int, so I guess I would have to cast/convert all to Int? <br><br>I'll just leave it until I get a 64bit ubuntu. <br><br></td></tr></table><br>
<a name="1276626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> In bmx_ng, all Stream functionality has been updated to work with 64-bit (Long), rather than 32-bit (Int) offsets/files.<br><br>This gives us access to large files via TStream, and also make interfacing with "real" APIs easier, as they generally support 64-bit files already.<br><br><br>So in SDL, the stream stuff would need to be wrapped in ?bmxng directives...<br><br>I'm sure there may be other things too ;-) <br><br></td></tr></table><br>
<a name="1276632"></a>

<a name="1276633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No that's ok. I'm done here. I was just curious.<br><br>Thanks. <br><br></td></tr></table><br>
<a name="1276647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> On Linux, SDL handles multiple screens really well, unlike BRL.GLGraphics. In fact the SDL-Linux experience is very pleasant compared to what one is used to in BlitzMax...<br><br>:-) <br><br></td></tr></table><br>
<a name="1276690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stupid question time. Sorry but I am a bit confused.<br><br>So what is the difference between git repos bmx-ng/brl.mod and maxmods/brl.mod (and the same question for pub.mod)?<br><br>My guess is that Bmx-ng is for 64bit/ARM platforms and maxmods is an update for Bmx 1.50/legacy? <br><br></td></tr></table><br>
<a name="1276708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, maxmods/brl.mod and pub.mod are updates for the official modules that you can drop in place of the originals.<br><br>bmx_ng/brl.mod and pub.mod have been modified to support the new bcc compiler - This includes changes to internal structures, a new GC, and other things such as 64-bit file support, Reflection enhancements, and an Interfaces implementation. It works for 32-bit, 64-bit and ARM across multiple platforms.<br>The SDL modules can be used as a complete replacement for GLMax2D and BRL.System(default) - as it handles both graphics and event handling. SDL is required for ARM and mobile targets. <br><br></td></tr></table><br>
<a name="1313091"></a>

<a name="1313093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bumping this because I'm now looking into using SDL.  I was hoping this would be an easy drop in replacement, but I'm still interested in keeping things working in vanilla BlitzMax.<br><br>Looks like resolving the issues could take some time.  My first question is, will this SDL module enable use of later versions of OpenGL (3 or 4) in addition to 2 ES? <br><br></td></tr></table><br>
<a name="1313385"></a>

<a name="1313386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrPhil</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm also researching if using SDL2 is possible.  I have an old BlitzPlus program I'm trying to keep alive, but some people are reporting problems with Windows 10. <br><br></td></tr></table><br>
<a name="1313393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MrPhil<br><br>SDL2 works with NG and Vanilla Blitzmax. I'm not sure why you need SDL2 specifically for Windows 10. What are those problems?<br><br>Maybe you could also try Dave's DirectX 11 drivers? <br><br><a href="https://github.com/SRSSoftware/srs.mod" target="_blank">https://github.com/SRSSoftware/srs.mod</a><br><br>@LT<br><br>Brucey works on the sdl.mod so I guess you should probably ask him yourself if he would support GL 3 or 4 in the future. <br><br></td></tr></table><br>
<a name="1313398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ask him yourself if he would support GL 3 or 4 in the future <br></div>Well, that's why I posed the question here.  But I wonder if Brucey would have to do anything...thought perhaps SDL already covered those bases. <br><br></td></tr></table><br>
<a name="1313433"></a>

<a name="1313434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrPhil</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi <br>I haven't completely tracked it down, but I think it has something to do with permissions.  The tool does a lot of data manipulation and stores some of the crunched data temporarily and I think this is the source of the problem, at least that's my current assumption.  <br><br>So, I was looking at SDL2 as a way to both fix this sort of platform specific wonkiness but also makes a step towards potentially supporting Mac too.  <b>I'm getting the feeling it might be smart to portal the BlitzMax first.</b><br><br>It's worth noting that I didn't write this app originally. I purchased the IP, but it still sells and I'm slowly making improvements to it.  It's not a big application but it is complicated, so I don't full understand how it all works.  Otherwise I'd just port it C or C#.  It's the Seamless Texture Generator link in my sig. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
