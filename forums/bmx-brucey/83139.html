<!DOCTYPE html><html lang="en" ><head ><title >ID3 tags library :)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ID3 tags library :)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >ID3 tags library :)</a><br><br>
<a name="938266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey :)<br><br>Just an idea :)<br><br><a href="http://www.3delite.hu/Object%20Pascal%20Developer%20Resources/id3v2library.html" target="_blank">http://www.3delite.hu/Object%20Pascal%20Developer%20Resources/id3v2library.html</a><br><br>Others :<br><a href="http://www.3delite.hu/Object%20Pascal%20Developer%20Resources/download.html#id3" target="_blank">http://www.3delite.hu/Object%20Pascal%20Developer%20Resources/download.html#id3</a><br><br><br>Regards <br><br></td></tr></table><br>
<a name="938292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's Windows-only, unfortunately... <br><br></td></tr></table><br>
<a name="938334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As part of the "Make a Mod in an Evening" festival which was held here today, you may be interested in a new module in the maxmods SVN repository : <b>BaH.TagLib</b><br><br>It supports both ID3v1 and ID3v2 for MP3 files, Ogg Vorbis comments and ID3 tags and Vorbis comments in FLAC, MPC, Speex, WavPack and TrueAudio files.... amongst others.<br><br>Sample output from the included example :<br><pre class=code>
******************** "Pink Floyd - 03 Time.mp3" ********************
-- TAG --
title   - "03 Time"
artist  - "Pink Floyd"
album   - "Dark Side Of The Moon"
year    - "0"
comment - ""
track   - "3"
genre   - "Psychedelic Rock"
-- AUDIO --
bitrate     - 128
sample rate - 44100
channels    - 2
length      - 7:05
</pre><br><br>Only the generic API has been implemented for now, which provides the basic information as above.<br><br>Currently tested on Windows and Mac.<br>License is MPL.<br><br>&lt;edit&gt;<br><b>NOTE</b> : This requires the lastest SVN-version of BlitzMax, since it uses some of the new Unicode conversion functions.<br><i>(At some point I will also be converting all of my own-module unicode functions to use these "official" ones instead, but I'll probably hold off until we get a 1.32 release)</i><br>&lt;/edit&gt;<br><br>As usual, comments, critique and suggestions welcome.<br><br>Enjoy.<br><br>:o) <br><br></td></tr></table><br>
<a name="938353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Retimer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, I saw this post, then it seemed like only an hour after your first response that the svn had a new treat. Nice work!<br><br>Edit: nice choice of music =p <br><br></td></tr></table><br>
<a name="938387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't get it to compile, I get this error.<br>"Compile Error: Identifier 'bbStringToUTF8String' not found"<br>Do I need any other module or something else? :)<br><br>Thanks :) <br><br></td></tr></table><br>
<a name="938389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm.. Do you have MinGW installed? Was this module built for the SVN version? (I think it has UTF string support now) <br><br></td></tr></table><br>
<a name="938390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I have MinGW installed etc, I downloaded the code from the latest SVN rev :P <br><br></td></tr></table><br>
<a name="938392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Glenn Dodd</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> same problem here. i download bruceys svn stuff every day. <br><br></td></tr></table><br>
<a name="938393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> "Compile Error: Identifier 'bbStringToUTF8String' not found" <br></div><br>Ah... yes, you also need to use the latest BlitzMax SVN too, since I'm using BlitzMax's new Unicode friendly functions here - rather than having to duplicate my own as I have done for most of my modules in the past.<br><br>If you want to "hack" a fix without having to get all that stuff, you could, in theory add the following code to the bottom of <b>BlitzMax/mod/brl.mod/blitz.mod/blitz.bmx</b> :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Extern "c"
	Function strlen_( str:Byte Ptr )="strlen"
End Extern

' converts a UTF character array from byte-size characters to short-size characters
' based on the TextStream UTF code...
Function bbStringFromUTF8String:String(s:Byte Ptr)
	If s Then
		Local l:Int = strlen_(s)
		Local b:Short[] = New Short[l]
		Local bc:Int = -1, c:Int, d:Int, e:Int, f:Int
		For Local i:Int = 0 Until l
			bc:+1
			c = s[i]
			If c&lt;128 
				b[bc] = c
				Continue
			End If
			i:+1
			d=s[i]
			If c&lt;224 
				b[bc] = ((c &amp; 31) Shl 6) | (d &amp; 63)
				Continue
			End If
			i:+1
			e = s[i]
			If c &lt; 240 
				b[bc] = ((c &amp; 15) Shl 12) | ((d &amp; 63) Shl  6) | (e &amp; 63)
				Continue
			End If
			i:+1
			f = s[i]
			Local v:Int = (((c &amp; 7) Shr 18) | ((d &amp; 63) Shl 12) | ((e &amp; 63) Shl  6) | (f &amp; 63))
			If v &lt; 65536 Then
				b[bc] = v
				Continue
			End If
			' requires 2 16-bit characters!
			b[bc] = ((v - 65536) / 1024) + 55296
			bc:+1
			b[bc] = (v Mod 1024) + 56320
		Next
		Return String.fromshorts(b, bc + 1)
	End If
	
	Return ""
	
End Function

' converts a Max short-based String to a byte-based UTF-8 String.
' based on the TextStream UTF code...
Function bbStringToUTF8String:String(text:String)
	If Not text Then
		Return ""
	End If
	
	Local l:Int = text.length
	If l = 0 Then
		Return ""
	End If
	
	Local count:Int = 0
	Local s:Byte[] = New Byte[l * 4] ' max possible is 4 x original size.
	
	For Local i:Int = 0 Until l
		Local char:Int = text[i]

		If char &lt; 128 Then
			s[count] = char
			count:+ 1
			Continue
		Else If char&lt;2048
			s[count] = char/64 | 192
			count:+ 1
			s[count] = char Mod 64 | 128
			count:+ 1
			Continue
		Else If char &lt; 55296 Or char &gt; 56319 ' not a surrogate pair?
			s[count] =  char/4096 | 224
			count:+ 1
			s[count] = char/64 Mod 64 | 128
			count:+ 1
			s[count] = char Mod 64 | 128
			count:+ 1
			Continue
		Else
			' this character built from pair of 16-bit characters 
			If i &lt; (l-1) Then ' valid character?
				i:+1
				char = ((char - $D800) Shl 10) + (text[i] - $DC00) + $10000
			End If
		
			s[count] = char/262144 | 240
			count:+ 1
			s[count] = char/4096 Mod 64 | 128
			count:+ 1
			s[count] = char/64 Mod 64 | 128
			count:+1
			s[count] = char Mod 64 | 128
			count:+1
			Continue
		EndIf
		
	Next

	Return String.fromBytes(s, count)
End Function
</textarea> <br><br></td></tr></table><br>
<a name="938394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh alright, I'll go get the latest BlitzMax SVN rev, Thanks Brucey :) <br><br></td></tr></table><br>
<a name="938395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is the SVN I was referring to :D <br><br></td></tr></table><br>
<a name="938396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Oh alright, I'll go get the latest BlitzMax SVN rev, Thanks Brucey :)  <br></div><br>I realise it's not ideal to rely on "unreleased" additions to BlitzMax, but I if it makes my life a little easier, it's not a terribly bad thing... and I figure many folks who might dabble with my SVN-only modules may be likely to have the SVN-only BlitzMax updates too :-p<br><br>Apologies for the confusion anyway...  I'll make a note in the post above :-) <br><br></td></tr></table><br>
<a name="938454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi <br><br>The start for ID3TAG V1, for ID3TAG V2 i don"'t understand very well the 'frame' stuff <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Const DllName:String = "ID3v2Library.dll"
Local DllHandle = LoadLibraryA(DllName)

If DLLhandle = 0 Then
	Notify "Unable to initialize ID3v2Library.dll"
	End
EndIf


Global ID3v1_Create:Int()"Win32" = GetProcAddress(DllHandle , "ID3v1_Create")
Global ID3v1_Free:Int(Tag:Int)"Win32" = GetProcAddress(DllHandle , "ID3v1_Free")
Global ID3v1_Load(Tag:Int , FileName:Byte Ptr)"Win32" = GetProcAddress(DllHandle , "ID3v1_Load") 
Global ID3v1_Save(Tag:Int , FileName:Byte Ptr)"Win32" = GetProcAddress(DllHandle , "ID3v1_Save") 
Global ID3v1_Kill(Tag:Int)"Win32" = GetProcAddress(DllHandle , "ID3v1_Kill") 

Global ID3v1_GetTitle$z(Tag:Int)"Win32"= GetProcAddress(DllHandle,"ID3v1_GetTitle")
Global ID3v1_GetArtist$z(Tag:Int)"Win32" = GetProcAddress(DllHandle , "ID3v1_GetArtist") 
Global ID3v1_GetAlbum$z(Tag:Int)"Win32"= GetProcAddress(DllHandle,"ID3v1_GetAlbum")
Global ID3v1_GetYear$z(Tag:Int)"Win32" = GetProcAddress(DllHandle , "ID3v1_GetYear")
Global ID3v1_GetComment$z(Tag:Int)"Win32" = GetProcAddress(DllHandle , "ID3v1_GetComment")
Global ID3v1_GetTrack:Int(Tag:Int)"Win32" = GetProcAddress(DllHandle , "ID3v1_GetTrack")
Global ID3v1_GetGenre:Int(Tag:Int)"Win32" = GetProcAddress(DllHandle , "ID3v1_GetGenre")


Global ID3v1_SetTitle:Int(Tag:Int, Title:Byte Ptr)"Win32"= GetProcAddress(DllHandle,"ID3v1_SetTitle")
Global ID3v1_SetArtist:Int(Tag:Int, Artist:Byte Ptr)"Win32"= GetProcAddress(DllHandle,"ID3v1_SetArtist")
Global ID3v1_SetAlbum:Int(Tag:Int, Album:Byte Ptr)"Win32"= GetProcAddress(DllHandle,"ID3v1_SetAlbum")
Global ID3v1_SetYear:Int(Tag:Int, Year:Byte Ptr)"Win32"= GetProcAddress(DllHandle,"ID3v1_SetYear")
Global ID3v1_SetComment:Int(Tag:Int, Comment:Byte Ptr)"Win32"= GetProcAddress(DllHandle,"ID3v1_SetComment")
Global ID3v1_SetTrack:Int(Tag:Int, Track:Int)"Win32"= GetProcAddress(DllHandle,"ID3v1_SetTrack")
Global ID3v1_SetGenre:Int(Tag:Int, Genre:Int)"Win32"= GetProcAddress(DllHandle,"ID3v1_SetGenre")



'# ID3v2_Create(): Pointer; stdcall;
'# ID3v2_Free(Tag: Pointer): Boolean; stdcall;
'# ID3v2_Kill(Tag: Pointer): Integer; stdcall;
'# ID3v2_Load(Tag: Pointer; FileName: PChar): Integer; stdcall;
'# ID3v2_Loaded(Tag: Pointer): Boolean; stdcall;
'# ID3v2_Save(Tag: Pointer; FileName: PChar): Integer; stdcall;
'# ID3v2_GetAsciiText(Tag: Pointer; FrameName: PChar): PChar; stdcall;
'# ID3v2_SetAsciiText(Tag: Pointer; FrameName, Text: PChar): Boolean; stdcall;
'# ID3v2_FrameCount(Tag: Pointer): Cardinal; stdcall;
'# ID3v2_GetFrameData(Tag: Pointer; FrameIndex: Cardinal; Var Data: TStream): Integer; stdcall;
'# ID3v2_SetFrameData(Tag: Pointer; FrameIndex: Cardinal; Var Data: TStream): Integer; stdcall;
'# ID3v2_CheckFrameExists(Tag: Pointer; FrameID: PChar): Integer; stdcall;
'# ID3v2_GetFrameID(Tag: Pointer; FrameIndex: Cardinal): PChar; stdcall;
'# ID3v2_DeleteFrame(Tag: Pointer; FrameIndex: Cardinal): Boolean; stdcall;
'# ID3v2_CreateFrame(Tag: Pointer; FrameID: PChar): Cardinal; stdcall;
'# ID3v2_CompressFrame(Tag: Pointer; FrameIndex: Cardinal): Boolean; stdcall;
'# ID3v2_DeCompressFrame(Tag: Pointer; FrameIndex: Cardinal): Boolean; stdcall;
'# ID3v2_AddAlbumPicture(Tag: Pointer; PictureFileName: PChar; PictureFileFormat: Cardinal = 0): Boolean; stdcall;
'# ID3v2_GetAlbumPicture(Tag: Pointer; FrameIndex: Cardinal; PictureFileName: PChar): Cardinal; stdcall;
'# ID3v2_GetAlbumPictureStream(Tag: Pointer; FrameIndex: Cardinal; PictureStream: TStream): Cardinal; stdcall;
'# ID3v2_SyncFrame(Tag: Pointer; FrameIndex: Cardinal): Integer; stdcall;
'# ID3v2_UnSyncFrame(Tag: Pointer; FrameIndex: Cardinal): Integer; stdcall;
'# ID3v2_SetCOMM(Tag: Pointer; Comment, Description: PChar): Integer; stdcall;
'# ID3v2_GetCOMM(Tag: Pointer): PChar; stdcall;
'# ID3v2_SetWXXX(Tag: Pointer; URL: PChar): Integer; stdcall;
'# ID3v2_GetWXXX(Tag: Pointer): PChar; stdcall;
'# ID3v2_GetFrameDataP(Tag: Pointer; FrameIndex: Cardinal; Var Data: Pointer; Var Length: Cardinal): Integer; stdcall;
'# ID3v2_SetFrameDataP(Tag: Pointer; FrameIndex: Cardinal; Data: Pointer; Length: Cardinal): Integer; stdcall;
'# ID3v2_GetFrameSize(Tag: Pointer; FrameIndex: Cardinal): Cardinal; stdcall; 


Function ID3v1_GetGenreString:String(Number:Int) 
	Select Number
	
	Case 0
		Return "Blues"
	Case 1
		Return "Classic Rock"
	Case 2
		Return "Country"
	Case 3
		Return "Dance"
	Case 4
		Return "Disco"
	Case 5
		Return "Funk"
	Case 6
		Return "Grunge"
	Case 7
		Return "Hip-Hop"
	Case 8
		Return "Jazz"
	Case 9
		Return "Metal"
	Case 10
		Return "New Age"
	Case 11
		Return "Oldies"
	Case 12
		Return "Other"
	Case 13
		Return "Pop"
	Case 14
		Return "R&amp;B"
	Case 15
		Return "Rap"
	Case 16
		Return "Reggae"
	Case 17
		Return "Rock"
	Case 18
		Return "Techno"
	Case 19
		Return "Industrial"
	Case 20
		Return "Alternative"
	Case 21
		Return "Ska"
	Case 22
		Return "Death Metal"
	Case 23
		Return "Pranks"
	Case 24
		Return "Soundtrack"
	Case 25
		Return "Euro-Techno"
	Case 26
		Return "Ambient"
	Case 27
		Return "Trip-Hop"
	Case 28
		Return "Vocal"
	Case 29
		Return "Jazz+Funk"
	Case 30
		Return "Fusion"
	Case 31
		Return "Trance"
	Case 32
		Return "Classical"
	Case 33
		Return "Instrumental"
	Case 34
		Return "Acid"
	Case 35
		Return "House"
	Case 36
		Return "Game"
	Case 37
		Return "Sound Clip"
	Case 38
		Return "Gospel"
	Case 39
		Return "Noise"
	Case 40
		Return "Alternative Rock"
	Case 41
		Return "Bass"
	Case 43
		Return "Punk"
	Case 44
		Return "Space"
	Case 45
		Return "Meditative"
	Case 46
		Return "Instrumental Pop"
	Case 47
		Return "Instrumental Rock"
	Case 48
		Return "Ethnic"
	Case 49
		Return "Gothic"
	Case 50
		Return "Darkwave"
	Case 51
		Return "Techno-Industrial"
	Case 52
		Return "Electronic"
	Case 53
		Return "Pop-Folk"
	Case 54
		Return "Eurodance"
	Case 55
		Return "Dream"
	Case 56
		Return "Southern Rock"
	Case 57
		Return "Comedy"
	Case 58
		Return "Cult"
	Case 59
		Return "Gangsta"
	Case 60
		Return "Top 40"
	Case 61
		Return "Christian Rap"
	Case 62
		Return "Pop/Funk"
	Case 63
		Return "Jungle"
	Case 64
		Return "Native US"
	Case 65
		Return "Cabaret"
	Case 66
		Return "New Wave"
	Case 67
		Return "Psychadelic"
	Case 68
		Return "Rave"
	Case 69
		Return "Showtunes"
	Case 70
		Return "Trailer"
	Case 71
		Return "Lo-Fi"
	Case 72
		Return "Tribal"
	Case 73
		Return "Acid Punk"
	Case 74
		Return "Acid Jazz"
	Case 75
		Return "Polka"
	Case 76
		Return "Retro"
	Case 77
		Return "Musical"
	Case 78
		Return "Rock &amp; Roll"
	Case 79
		Return "Hard Rock"
	Case 80
		Return "Folk"
	Case 81
		Return "Folk-Rock"
	Case 82
		Return "National Folk"
	Case 83
		Return "Swing"
	Case 84
		Return "Fast Fusion"
	Case 85
		Return "Bebob"
	Case 86
		Return "Latin"
	Case 87
		Return "Revival"
	Case 88
		Return "Celtic"
	Case 89
		Return "Bluegrass"
	Case 90
		Return "Avantgarde"
	Case 91
		Return "Gothic Rock"
	Case 92
		Return "Progressive Rock"
	Case 93
		Return "Psychedelic Rock"
	Case 94
		Return "Symphonic Rock"
	Case 95
		Return "Slow Rock"
	Case 96
		Return "Big Band"
	Case 97
		Return "Chorus"
	Case 98
		Return "Easy Listening"
	Case 99
		Return "Acoustic"
	Case 100
		Return "Humour"
	Case 101
		Return "Speech"
	Case 102
		Return "Chanson"	
	Case 103
		Return "Opera"
	Case 104
		Return "Chamber Music"
	Case 105
		Return "Sonata"
	Case 106
		Return "Symphony"
	Case 107
		Return "Booty Bass"
	Case 108
		Return "Primus"
	Case 109
		Return "Porn Groove"
	Case 110
		Return "Satire"
	Case 111
		Return "Slow Jam"
	Case 112
		Return "Club"
	Case 113
		Return "Tango"
	Case 114
		Return "Samba"
	Case 115
		Return "Folklore"
	Case 116
		Return "Ballad"
	Case 117
		Return "Power Ballad"
	Case 118
		Return "Rhytmic Soul"
	Case 119
		Return "Freestyle"
	Case 120
		Return "Duet"
	Case 121
		Return "Punk Rock"
	Case 122
		Return "Drum Solo"
	Case 123
		Return "Acapella"
	Case 124
		Return "Euro-House"
	Case 125
		Return "Dance Hall"
	Case 126
		Return "Goa"
	Case 127
		Return "Drum &amp; Bass"
	Case 128
		Return "Club-House"
	Case 129
		Return "Hardcore"
	Case 130
		Return "Terror"
	Case 131
		Return "Indie"
	Case 132
		Return "BritPop"
	Case 133
		Return "Negerpunk"
	Case 134
		Return "Polsk Punk"
	Case 135
		Return "Beat"
	Case 136
		Return "Christian Gangsta"
	Case 137
		Return "Heavy Metal"
	Case 138
		Return "Black Metal"
	Case 139
		Return "Crossover"
	Case 140
		Return "Contemporary C"
	Case 141
		Return "Christian Rock"
	Case 142
		Return "Merengue"
	Case 143
		Return "Salsa"
	Case 144
		Return "Thrash Metal"
	Case 145
		Return "Anime"
	Case 146
		Return "JPop"
	Case 147
		Return "SynthPop"
	Default 
		Return "Unknown"
	End Select
	
End Function

</textarea><br><br>example : <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Include "Inc_ID3V2.bmx"

Local File:String= "test.mp3"

Local MyTag:Int=ID3v1_Create()

Print "Loading &gt;" + ID3v1_Load(MyTag , File)
Print "Title &gt;" + ID3v1_GetTitle(MyTag) 
Print "Artist &gt;"+ ID3v1_GetArtist(MyTag)
Print "Album &gt;"+ ID3v1_GetAlbum(MyTag)
Print "Year &gt;"+ ID3v1_GetYear(MyTag)
Print "Comment &gt;"+ ID3v1_GetComment(MyTag)
Print "Track &gt;"+ ID3v1_GetTrack(MyTag)
Print "Genre  &gt;"+ ID3v1_GetGenreString(ID3v1_GetGenre(MyTag))

'D3v1_SetTitle(MyTag , "Runaway Girl")
'D3v1_SetComment(MyTag , "Ceci est un comment")
'D3v1_Save(MyTag , File)
</textarea> <br><br></td></tr></table><br>
<a name="938459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use BaH.TagLib, you won't need an external DLL, as the library is compiled into your app (MPL instead of LGPL).<br><br>As for the 'frame' stuff, I'll get round to implementing that in the module too. Might be nice to be able to extract album covers from the files :-) <br><br></td></tr></table><br>
<a name="938463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Filax</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll take a look :) Many thanks Brucey :) <br><br></td></tr></table><br>
<a name="938905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It appears that I can't load tags with non-english letters, Is there anything I can do about that? :) <br><br></td></tr></table><br>
<a name="938908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you getting any specific errors?<br>It should be able to handle conversions on-the-fly.<br>(not that I've tested this of course...) <br><br></td></tr></table><br>
<a name="938918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tested this by adding some cyrillic to the comment field of an mp3, and loaded back using the example.<br>On the console it prints unreadable characters, but if I show the text using Notify, it looks fine - because the IDE's console isn't wide-char friendly. (or perhaps Print isn't....)<br><br>So, as far as I am concerned, it is working as expected.<br>But, I am always ready to be shown otherwise ;-) <br><br></td></tr></table><br>
<a name="938969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm loading MP3s with 'ÅÄÖ' these characters in the title, but the title returns null. And also if I tried loading a file with any of these characters in the filepath, the file couldn't get read. (Using TTLFileRef.Create( filepath ).<br>So it's not just that the console prints the characters a bit odd :) <br><br></td></tr></table><br>
<a name="938998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I've committed a fix Win32 which lets you open files with non-ASCII path/filenames.<br><br>(Yes... you'd think after my crusade to get Unicode files working in core BlitzMax I'd check it worked in my modules too ;-) <br><br></td></tr></table><br>
<a name="939015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, Thanks a  bunch Brucey! :D <br><br></td></tr></table><br>
<a name="939822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to get some random crashes using Release mode with this module, When I'm using debug mode it works just fine.<br><br>Here's the error message:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
signal!:22
pure virtual method called
This application has requested the Runtime to terminate it in an unusual way.
Please contact the application's support team for more information.
Received Signal
</textarea><br><br>Any idea on what might cause this? :) <br><br></td></tr></table><br>
<a name="939824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I didn't release the file after using it.<br>Also, Rename the Delete method to Remove or something, cause Delete were causing some problems with BlitzMax :P <br><br></td></tr></table><br>
<a name="939825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing off the top of my head, although "pure virtual method called" indicates that something may be called in the library that shouldn't be.<br><br>There isn't much of the API that I'm currently using.<br><br>Any idea what function you might be calling at the time, or if it is a specific file/type? <br><br></td></tr></table><br>
<a name="939827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Thareh</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you didn't see, I found the problem one post up :) <br><br></td></tr></table><br>
<a name="939831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ooops... missed that.. I answered without refreshing, after checking the code.<br><br><div class="quote"> Oh, I didn't release the file after using it. <br></div><br>Ah... I'll add a Free() method which you can call to release the resource, and remember once it is freed related tag objects etc will be invalidated (by the library, BlitzMax will clean up the references itself when the GC picks them up). <br><br></td></tr></table><br>
<a name="939835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I've added the Free() method to TTLFileRef. You can call this when you are done with the file.<br><br>If you don't call it, the file will be freed eventually, once the object goes out of scope and is GC'd, but that time is undetermined... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
