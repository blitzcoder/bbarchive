<!DOCTYPE html><html lang="en" ><head ><title >Box2D and "edges"</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Box2D and "edges"</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >Box2D and "edges"</a><br><br>
<a name="917151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a new Shape in Box2D called an "Edge". (currently in SVN)<br>It basically allows you to create complex shapes using multiple connected edges. Take a look at the new examples to see it in action : staticedges, dynamicedges, pyramidstaticedges.<br><br>I'm not entirely sure how the use of this new shape affects calculations (compared to a standard polygon shape), as the documentation is sparse at the moment - given that this is a completely new feature.<br>However, it looks like it will make creating some more interesting shapes a bit easier - especially of the "concave" variety. <br><br></td></tr></table><br>
<a name="917326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That one is truly excellent !<br>Now it will be possible to simply many object creation in my project.<br>Could be very useful to create all sort of interesting level too !<br>Thanks to add this feature to the module and still closely following the Box2D SVN ;-) <br><br></td></tr></table><br>
<a name="917398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> By the way<br>Transforming a blitzMax Array into a b2Vec2 array seem's systematic.<br>Maybe it would be easier to think about a new helper method to transform or directly use blitzMax array instead.<br><br>I read somewhere that those kind of edges Chain has effective side.<br>One side working normally while the other can let dynamic objects pass through.<br><br>I'm also wondering if those edges Shapes are more or less quicker in term of calculation speed than a bunch of normal convex polygons.<br>Could definitely rethink my level editor/loader and reduce by half the number of static shapes !<br><br>EDIT<br>There's a thread on box2d forum with infos on Edges Chain :<br><a href="http://www.box2d.org/forum/viewtopic.php?f=3&amp;t=1577" target="_blank">http://www.box2d.org/forum/viewtopic.php?f=3&amp;t=1577</a> <br><br></td></tr></table><br>
<a name="917403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm also wondering if those edges Shapes are more or less quicker in term of calculation speed than a bunch of normal convex polygons. <br></div><br>That's what I was wondering too. I haven't seen anything yet which says either way.<br>Perhaps they'll answer your post :-)<br><br><div class="quote"> Maybe it would be easier to think about a new helper method to transform or directly use blitzMax array instead. <br></div><br>Possibly... one which expects an array of coordinates. Something for me to ponder... <br><br></td></tr></table><br>
<a name="918373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This sounds good - I will have to download the new version. Thanks Brucey! I <br><br></td></tr></table><br>
<a name="922078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Working perfectly but I keep receiving various bad references in console when removing them via a DestroyBody()<br><br><pre class=code>bad refs:obj=$3c61ab0 refs=$7ffffffe
bad refs:obj=$3ca23b0 refs=$7ffffffe
bad refs:obj=$3c5ed00 refs=$7ffffffe
bad refs:obj=$3c5e390 refs=$7ffffffe</pre><br><br>Only one per destruction !<br><br>Maybe the last edge via <b>SetIsALoop(true)</b> missing ?<br>By the way, I suppose that the default value in <b>SetIsALoop()</b> is <b>True</b> right ? <br><br></td></tr></table><br>
<a name="923147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> No clues on this ?<br>Maybe I should ask in the box2d forum.<br>Don't know since it's only appear to be warnings. <br><br></td></tr></table><br>
<a name="923160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you happen to have a small example of the error? <br><br></td></tr></table><br>
<a name="923440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simply add<br><pre class=code>m_world.DestroyBody(body)</pre><br>in staticedges.bmx before <b>Return Self</b> at the bottom of the example file.<br><br>It's only happening while destroying bodies so maybe it's a forgotten warning ?<br>This is trivial since it won't affect the runtime. <br><br></td></tr></table><br>
<a name="924728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems the problem is that multiple edge shapes are being created internally, but reference only a single blitz shape object - which kind of sucks.<br>So, when it comes to destroy them, the clean-up code attempts to Release the same blitzmax object "more than once".<br>Looks like i'll need to add some special logic somewhere to counter this. Maybe also ask on the box2d forum to see if he has a better way around this issue. <br><br></td></tr></table><br>
<a name="924732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have updated the module to make it create a BlitzMax shape for each edge shape that is internally created by box2d, so that when a body is destroyed, each shape has a reference to an individual BlitzMax object - rather than sharing the same. <br><br></td></tr></table><br>
<a name="924767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool<br>Isn't this "less efficient and slightly less robust at continuous physics" as spoted in the main Edges topic <a href="http://www.box2d.org/forum/viewtopic.php?f=3&amp;t=1577" target="_blank">http://www.box2d.org/forum/viewtopic.php?f=3&amp;t=1577</a><br> 3th notes ?<br>Maybe shapes and edges vertices are unrelated after all ? Dunno... But for me it's still ok :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
