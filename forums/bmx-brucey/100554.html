<!DOCTYPE html><html lang="en" ><head ><title >wxauinotebook get page to be closed</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >wxauinotebook get page to be closed</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >wxauinotebook get page to be closed</a><br><br>
<a name="1188286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>I wasn't able to find something via google so I hope someone has an idea here.<br><br>The thing is that my wxauinotebook has close buttons on every page. I connect towxEVT_COMMAND_AUINOTEBOOK_PAGE_CLOSE. It works so far. But how am I able to get the page to be closed from the event??? I tried every getter of the wxCommandEvent and none of 'em have any information about it. And the notebook itself neither.<br><br>I need this to ask the typical "are you sure you don't want to save before closing?" and to kill some references if the window is closed. I used the current selected window of the notebook for that but because I added wxAUI_NB_CLOSE_ON_ALL_TABS this is not effective anymore. <br><br></td></tr></table><br>
<a name="1188318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It should probably raise a wxAuiNotebookEvent, rather than a wxCommandEvent.<br>Looks like a recent class that wasn't in the original implementation. <br><br></td></tr></table><br>
<a name="1188334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added wxAuiNotebookEvent now.<br><br>From there, you should be able to query the event GetSelection(), which will return the index of the page to be closed. <br><br></td></tr></table><br>
<a name="1188385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't cast event emitted by wxEVT_COMMAND_AUINOTEBOOK_PAGE_CLOSE to wxAuiNotebookEvent. <br><br></td></tr></table><br>
<a name="1188397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh? I committed wxaui.mod changes, so it should work as expected. You will need to update your wx.mod, of course :-) <br><br></td></tr></table><br>
<a name="1188409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure I did. (and I rebuild the module as well ^^)<br>But the event is derived from a wxCommandEvent.<br>You can check it with the aui example.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Method CreateNotebook:wxAuiNotebook()
		'function called on closing a notebook page
		Function onNotebookClose(event:wxEvent)
			local evt:wxAuiNotebookEvent = wxAuiNotebookEvent(event)
			debuglog evt = null 'prints 1
		End Function
		
		' create the notebook off-window to avoid flicker
		Local width:Int, height:Int
		GetClientSize(width, height)

		Local ctrl:wxAuiNotebook = New wxAuiNotebook.Create(Self, wxID_ANY, width, height, 430, 200, notebookStyle)
		ctrl.connectany(wxEVT_COMMAND_AUINOTEBOOK_PAGE_CLOSE,onNotebookClose)
</textarea> <br><br></td></tr></table><br>
<a name="1188410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh yes, you are correct. Problem fixed, and apologies! <br><br></td></tr></table><br>
<a name="1188417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> works now. thx <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
