<!DOCTYPE html><html lang="en" ><head ><title >wxMax for wxWidgets 3.0.0</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >wxMax for wxWidgets 3.0.0</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >wxMax for wxWidgets 3.0.0</a><br><br>
<a name="1207185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo,<br><br>I'll be working on migrating wxMax to the new major release of wxWidgets 3.0.0 this weekend. So I would advise you to stay clear of updating from the repository until I've worked through all three platforms.<br><br>Currently none of the sample apps are displaying anything (like an application window, for example), so it looks like something groovy has changed way down in the nether regions…<br><br><br>Hope everyone else is having a nice weekend ;-) <br><br></td></tr></table><br>
<a name="1207208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a very productive weekend. <br><br></td></tr></table><br>
<a name="1207227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent news Brucey, shall give it a good whirl when it's ready :) <br><br></td></tr></table><br>
<a name="1207263"></a>

<a name="1207264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will probably drop wxGLMax2D module too, which may require some code-tweaks for people.<br><br>Well, I figured out how to do it "properly", so that you can simply use GLMax2D with a wxGLCanvas, without having a second implementation of a Max2D - much in the same way that the MaxGUI canvas's work (i.e. not requiring themselves to have any other references to Max2D stuff).<br><br>I've been using it for my own stuff, and it works as it should.<br><br><br>On a brighter note, I've got around my no-window problem on OS X - although I've had to comment out a line from one of the wxWidgets files. Which is a bit of a concern, as said line worked previously in all the other builds. But hey, if that's what it takes, I guess I need to do it.<br>Not overly keen on hacking wxWidgets, but I also modded its zlib and jpeg libs to change the prefixes - which just makes it easier to integrate with all of our other mods (like brl.zlib, bah.freeimage, etc) <br><br></td></tr></table><br>
<a name="1207271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keep informing us about "handling approaching problems". Always nice to read how the miraculous Brucey does his magic.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1207276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing "miraculous" about spending 4 hours debugging someone else's library :-p <br><br></td></tr></table><br>
<a name="1207280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> OS X and Win32 builds are now up in SVN.<br><br>Win32 is built against "gcc (tdm-1) 4.7.1"<br><br>OS X is built against "i686-apple-darwin10-llvm-gcc-4.2 (GCC) 4.2.1"<br><br>I've only tested some of the samples, but they are working as expected. Obviously "real" programs may prove otherwise. <br><br></td></tr></table><br>
<a name="1207301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tried Windows version and getting a lot of "duplicate section" errors (just trying Hello World sample):<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
C:/BlitzMax148/mod/wx.mod/wxapp.mod/wxapp.release.win32.x86.a(glue.cpp.release.win32.x86.o): duplicate section `.rdata$_ZTV20wxMDIParentFrameBase[__ZTV20wxMDIParentFrameBase]' has different size
C:/BlitzMax148/mod/wx.mod/wxacceleratortable.mod/wxacceleratortable.release.win32.x86.a(glue.cpp.release.win32.x86.o): duplicate section `.rdata$_ZTV20wxMDIParentFrameBase[__ZTV20wxMDIParentFrameBase]' has different size
C:/BlitzMax148/mod/wx.mod/wxacceleratortable.mod/wxacceleratortable.release.win32.x86.a(glue.cpp.release.win32.x86.o): duplicate section `.rdata$_ZTV21wxMDIClientWindowBase[__ZTV21wxMDIClientWindowBase]' has different size
C:/BlitzMax148/mod/wx.mod/wxdc.mod/wxdc.release.win32.x86.a(glue.cpp.release.win32.x86.o): duplicate section `.rdata$_ZTV20wxMDIParentFrameBase[__ZTV20wxMDIParentFrameBase]' has different size
C:/BlitzMax148/mod/wx.mod/wxdc.mod/wxdc.release.win32.x86.a(glue.cpp.release.win32.x86.o): duplicate section `.rdata$_ZTV21wxMDIClientWindowBase[__ZTV21wxMDIClientWindowBase]' has different size
C:/BlitzMax148/mod/wx.mod/wx.mod/wx.release.win32.x86.a(wxglue.cpp.release.win32.x86.o): duplicate section `.rdata$_ZTV20wxMDIParentFrameBase[__ZTV20wxMDIParentFrameBase]' has different size
C:/BlitzMax148/mod/wx.mod/wx.mod/wx.release.win32.x86.a(wxglue.cpp.release.win32.x86.o): duplicate section `.rdata$_ZTV21wxMDIClientWindowBase[__ZTV21wxMDIClientWindowBase]' has different size
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_aui
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_xrc
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_html
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_propgrid
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_stc
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_webview
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_adv
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_media
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_core
C:/BlitzMax148/bin/ld.exe: cannot find -lwxbase29u_xml
C:/BlitzMax148/bin/ld.exe: cannot find -lwxbase29u_net
C:/BlitzMax148/bin/ld.exe: cannot find -lwxbase29u
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_gl
C:/BlitzMax148/bin/ld.exe: cannot find -lwxmsw29u_richtext
Build Error: Failed to link C:/BlitzMax148/mod/wx.mod/samples/hello_world.exe
</textarea><br><br>My mingw is the same version as you. All the modules built ok, I did a full bmk makemods -a. <br><br></td></tr></table><br>
<a name="1207305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Decided to check this out..holy shiznit!  That's a lot of modules!  Hardly know where to begin!<br><br>Brucey, do you think it's possible to use the html widget in the manner I was talking about in the other thread?  I mean to turn the html render into a texture? <br><br></td></tr></table><br>
<a name="1207309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Remembered I modified some of the glue files so they wouldn't have been updated. Did a completely fresh checkout and it's fine now, is complaining about freeimage though, but I was running an older version of that to overcome the duplicate definitions, which it's throwing now. <br><br>Updating now so will see :) <br><br></td></tr></table><br>
<a name="1207310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> so now I'm getting <br><br><pre class=code>
C:/BlitzMax148/mod/wx.mod/wx.mod/../lib/win32/libwxjpeg.a(wxjpeg_jdmarker.o):jdmarker.c:(.text+0x1d98): multiple definition of `jinit_marker_reader'
C:/BlitzMax148/mod/wx.mod/wx.mod/../lib/win32/libwxjpeg.a(wxjpeg_jerror.o):jerror.c:(.rdata+0x1260): multiple definition of `jpeg_std_message_table'
C:/BlitzMax148/mod/bah.mod/freeimage.mod/freeimage.release.win32.x86.a(jerror.c.release.win32.x86.o):jerror.c:(.rdata+0x12e0): first defined here
C:/BlitzMax148/mod/wx.mod/wx.mod/../lib/win32/libwxzlib.a(wxzlib_zutil.o):zutil.c:(.rdata+0x80): multiple definition of `z_errmsg'
C:/BlitzMax148/mod/pub.mod/zlib.mod/zlib.release.win32.x86.a(zutil.c.release.win32.x86.o):zutil.c:(.rdata+0x7c): first defined here
Build Error: Failed to link E:/timelinefx-editor/TPEditor.exe
</pre><br><br>Which I'm guessing is clashes with other mods as you mentioned earlier. I'm using freeimage and gman.zipengine which im guessing is the reason behind these errors. <br><br></td></tr></table><br>
<a name="1207311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I grabbed the whole thing and clicked "Build Modules" in Blide.  I'm getting a "Can't find interface for.." error on every module except wx.  I'm clearly missing some step..  :/ <br><br></td></tr></table><br>
<a name="1207313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> What version of MinGW do you have?<br><br>And what is wx.mod location? It should be mods/wx.mod <br><br>Can try building from a command line too - bmk makemods -a wx<br><br>A threaded build might throw an error like that too... <br><br></td></tr></table><br>
<a name="1207314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Linux build is now in SVN.<br><br>Linux binaries were built against "gcc (GCC) 4.7.2 20120921 (Red Hat 4.7.2-2)" <br><br></td></tr></table><br>
<a name="1207315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, forgot to check.  It's 4.6.1 - guess that must be it. <br><br></td></tr></table><br>
<a name="1207316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>multiple definition of `jinit_marker_reader'<br>multiple definition of `jpeg_std_message_table'<br> <br></div><br>Ah, you mentioned those in another post if I recall.<br>Well, it's early days yet, I can see about fixing that in the wx build.<br><br><br>Told you there'd be a few teething problems.<br>I've used different prefixes for libpng, zlib and libpeg, on the assumption that we can then have multiple copies of those loaded. It's almost there.<br>z_errmsg is probably another one.<br><br>Are the samples working for you, generally? (which at least means I've got most of the stuff right) <br><br></td></tr></table><br>
<a name="1207317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm getting a "Can't find interface for.." error on every module except wx. <br></div><br>Do you have the latest Blide? I know there was an issue with earlier versions where it didn't always build things in the correct/required order.<br><br><div class="quote"> do you think it's possible to use the html widget in the manner I was talking about in the other thread? <br></div><br>I'm not sure. There is a wxWebView which uses WebKit on Linux/OS X and IE on Windows. Not sure if you can grab the rendered page from it. <br><br></td></tr></table><br>
<a name="1207320"></a>

<a name="1207321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do you have the latest Blide? I know there was an issue with earlier versions where it didn't always build things in the correct/required order. <br></div><br><br>I have an older version, so that must be it.  Seems to be working from the command line.<br><br><div class="quote"> There is a wxWebView which uses WebKit on Linux/OS X and IE on Windows. <br></div><br><br>Ah, okay.  Since it is IE, I'll probably  want to look into Chromium anyway -  if only I could get the examples to compile in anything other than my expiring copy of Visual Studio.  Don't really want to shell out $500 just so I can compile the thing.  :( <br><br></td></tr></table><br>
<a name="1207323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Told you there'd be a few teething problems. <br></div><br><br>It's all good, I'm happy to be a ginnie pig :)<br><br>I just ran every sample and all run with just a few (what appear to be minor) issues:<br><br>bitmapcombo - looks a bit odd to me, but I think it's been like that a while.<br>Mainloop - throws a wxwidgets debug error when you close the window<br>mdi - the child windows don't seem to resize properly<br>menu - debug alert when exiting<br>propgrid - debug alert when you run the sample, but does run none-the-less<br>shutdown - throws error on exiting (after waiting for the timer to run down, is fine when you just exit)<br>webview - throws a build error: 'wxEVT_COMMAND_WEB_VIEW_NAVIGATING' not found<br>googletranslate - hello world = null<br>html/widget/widget - throws a debug alert when you exit<br>pdfdocument - all throwing the duplicate identifier errors but you obviously know about that one<br><br>Pretty good going really :-) <br><br></td></tr></table><br>
<a name="1207325"></a>

<a name="1207326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, the modules compiled with no errors, but when I try to compile any of the samples (Windows), I just get a long list of...<br><br>C:/Program Files/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw30u_xrc.a(xrclib_xh_frame.o):xh_frame.cpp:(.text+0x20): undefined reference to `__gxx_personality_sj0'<br><br>Guess I'm still doing something wrong.  :( <br><br></td></tr></table><br>
<a name="1207332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's your version of MinGW.<br><br>I've built the libs against TDM (http://tdm-gcc.tdragon.net) which happens to use something called SJLJ exception handling.<br>The MinGW from the MinGW website uses a different kind of exception handling.<br>I intend (at some point in the future) to do a build of the libs with the other MinGW too - allowing those who want to use a different MinGW the opportunity to do so. <br><br></td></tr></table><br>
<a name="1207333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I intend (at some point in the future) to do a build of the libs with the other MinGW too - allowing those who want to use a different MinGW the opportunity to do so.  <br></div><br><br>Hi Brucey,<br><br>What release of MinGW are you using now?<br><br>I have the TDM-1 (GCC 4.7.1), but your SVN of the Raknet modules still won't compile with that version -- appears to have a bunch of missing declarations? <br><br></td></tr></table><br>
<a name="1207334"></a>

<a name="1207338"></a>

<a name="1207342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I upgraded to MinGW 4.8.1 and am still getting those messages..<br><br>EDIT: I realized that you meant to get TDM, so I followed the instructions in your post about that.  Rebuilding modules resulted in an error in FreeType.  Compiling my own program resulted in a different error...<br><br>g++: error: unrecognized command line option '--stack=4194304'<br><br>I'm at a complete loss.  :(<br><br>These are the steps I thought I was supposed to follow:<br><br>1. Get TDM and install the same way I would MinGW - to C:\MinGW<br>2. Set the environment variable and add to PATH.  This was already done.<br>3. Get Brucey's .rar and drop the files to BlitzMax's lib and bin folders. I had not thought this necessary because changes were rolled into the official BMK, but I tried it with and without.  Or perhaps I have the wrong version?  I got the .rar here...<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=95220" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=95220</a><br><br>4. Rebuild all mods - did this from the command line with...<br>  bmk makemods -a    &lt;&lt; This resulted in build errors.<br><br>NOTE:  I didn't install BlitzMax from scratch, but I can't imagine why that would be necessary.  I don't change stuff outside of the .mod folder, and the -a command line option rebuilds EVERYTHING, no? <br><br></td></tr></table><br>
<a name="1207346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 3. Get Brucey's .rar and drop the files to BlitzMax's lib and bin folders. I had not thought this necessary because changes were rolled into the official BMK, but I tried it with and without. Or perhaps I have the wrong version? I got the .rar here... <br></div><br><br>Looks like that .rar contains 4.5.2, which woudln't work together with the 4.8.1. MinGW download.<br><br>Basically what you need to do is copy ar.exe and ld.exe from mingw/bin to blitzmax/bin, <br><br>you also need to overwrite any existing file in blitzmax\lib with the equivalent file from c:\mingw\lib  , as well as copy any file from c:\MinGW\lib\gcc\mingw32\&lt;x.x.x&gt; to blitzmax\lib<br><br>here's a .bat file that can do it for you -- make sure to update the paths referenced to match the ones on your system:<br><br>(you may need to adjust the version number in the mingw\4.7.1 folder line as well)<br><br><pre class=code>
@echo off
copy c:\mingw\bin\ar.exe c:\code\blitzmax\bin /Y
copy c:\mingw\bin\ld.exe c:\code\blitzmax\bin /Y
dir c:\code\blitzmax\lib /b | awk "{print \"copy \\\"c:\\mingw\\lib\\\\\"$0 \"\\\" c:\\code\\blitzmax\\lib\"}" &gt; copylibs.bat
dir c:\code\blitzmax\lib /b | awk "{print \"copy \\\"c:\\mingw\\lib\\gcc\\mingw32\\4.7.1\\\\\"$0 \"\\\" c:\\code\\blitzmax\\lib\"}" &gt;&gt; copylibs.bat
call copylibs.bat
</pre> <br><br></td></tr></table><br>
<a name="1207353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like mentioned in the old thread:<br><a href="http://www.blitzmax.com/Community/posts.php?topic=100077" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=100077</a><br><br>alternative to xlsior's script:<br><pre class=code>
@echo off
@set dirMinGW=c:\mingw
@set minGWVersionString=4.4.1
@set dirBlitzmax=c:\coding\BlitzMax

copy %dirMinGW%\bin\ar.exe %dirBlitzmax%\bin /Y
copy %dirMinGW%\bin\ld.exe %dirBlitzmax%\bin /Y

for /f "delims=" %%i in ('dir %dirBlitzmax%\lib /b') do (
copy "%dirMinGW%\lib\%%i" "%dirBlitzmax%\lib\%%i" /z /y
copy "%dirMinGW%\lib\gcc\mingw32\%minGWVersionString%\%%i" "%dirBlitzmax%\lib\%%i" /z /y
)
</pre><br><br>Removes the usage of "awk" (3rd party tool). Just adjust the VersionString according to your version.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1207354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was just about to say I'm not familiar with awk, but I do appreciate the help!  :)<br><br>I copied all of the files over, but unfortunately have been unable to get some of the modules (e.g. theoraplayer) to link using 4.8.1.  They seem to compile, but then throw up errors when I try to use them.<br><br>When I go back to 4.6.1, they work - but clearly, that is not a good long term solution and I would like to play with the wxMax stuff.  :/ <br><br></td></tr></table><br>
<a name="1207381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note that you'll need to recompile -all- modules any time you switch out a MinGW version, including the brl.* and pub.* modules -- mixing and matching versions doesn't work right. <br><br></td></tr></table><br>
<a name="1207383"></a>

<a name="1207384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I did that.  Theoraplayer (and maybe Zeke's Luajit2) don't link properly for me using 4.8.1, but maybe there's some other thing I've missed. <br><br></td></tr></table><br>
<a name="1207407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Theoraplayer … don't link properly for me using 4.8.1 <br></div><br>I'll look into that. <br><br></td></tr></table><br>
<a name="1207408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait!!  There may be no need.  I discovered that I had forgotten to replace regular MinGW 4.8.1 with TDM 4.8.1.. <br><br></td></tr></table><br>
<a name="1207409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Changing over to TDM 4.8.1 caused new link errors to occur with my Bullet module.  No problem - I thought - I'll just recompile the Bullet libs using TDM 4.8.1 - only I can't because it now spits out segmentation errors...  :(<br><br>Ugh, now I remember why I use BlitzMax and avoid C++ and the compiler issues that come along...<br><br>At this moment, I don't know whether there is an issue with Theora and 4.8.1 or not... <br><br></td></tr></table><br>
<a name="1207410"></a>

<a name="1207411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you shouldn't get segmentation errors when building, usually.<br>You are building bullet from source? (rather than including some pre-built library) <br><br></td></tr></table><br>
<a name="1207412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, have to.  Bullet is C++ and hooking it up to Blitz, afaik, can only be done with the C-API.  Bullet's C-API is extremely sparse, so I had to add a bunch of stuff to it, hence having to recompile from source. <br><br></td></tr></table><br>
<a name="1207413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Bullet's C-API is extremely sparse <br></div><br>Yeah, I was just having a look at it and was thinking the same. <br><br></td></tr></table><br>
<a name="1207414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been tweaking the wxMax libs, so they now have the jinit_marker_reader/jpeg_std_message_table prefix applied to them (all platforms).<br>The pdfdocument example is now running properly on all three platforms (ignoring the debug that barfs out of the Linux and OS X versions).<br><br>Talking of debug, the Linux/OS X builds of the libraries are currently compiled with debug enabled. It's reasonably useful for testing, as the libraries can produce logging from time to time, but I'm considering disabling it before release because the amount of debug can be overwhelming at times, and perhaps isn't useful for end-users - unless anyone prefers it as it is. <br><br></td></tr></table><br>
<a name="1207417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good job so far Brucey!<br><br>Only problem I have is the error Pete mentioned above with 'z_errmsg':<br><pre class=code>
F:/Spiele/Proggen/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxzlib.a(wxzlib_zutil.o):zutil.c:(.rdata+0x80): multiple definition of `z_errmsg'
F:/Spiele/Proggen/BlitzMax/mod/pub.mod/zlib.mod/zlib.debug.win32.x86.a(zutil.c.debug.win32.x86.o):zutil.c:(.rdata+0x80): first defined here
</pre><br>This error occurs on windows and linux.<br>The samples work though.<br><br><br>BTW:<br>I would like a wxWizard sample because... I don't get it otherwise x)<br><br>Does this new release of wxMax need any new libs? (eg. for gtk3 ?)<br>Any difference in the libwebkitgtk thing? <br><br></td></tr></table><br>
<a name="1207418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eh, even without Bullet, I'm getting errors that look like this..<br><br>C:/BlitzMax/lib/libstdc++.a(eh_alloc.o):eh_alloc.cc:(.text+0x97): undefined reference to `pthread_mutex_lock'<br><br>I think I've run out of ideas to try. <br><br></td></tr></table><br>
<a name="1207420"></a>

<a name="1207426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, just read your reply on the other thread.  Guess I'll backtrack and wait for the official MinGW version then.  Do I still have to copy ar.exe and ld.exe and others to Blitz or is that just for TDM?<br><br>I was going to try installing TDM 4.7.1, but the installer won't let me now that there is a later version!  Why on earth would they even put it in the archive!?<br><br>EDIT: I *think* I've confirmed that Zeke's LuaJit2 module and TheoraPlayer don't work under regular MinGW 4.8.1.  Also, my Bullet lib won't compile.  Going back to 4.6.1, which is bad news.  :( <br><br></td></tr></table><br>
<a name="1207462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Only problem I have is the error Pete mentioned above with 'z_errmsg' <br></div><br>That should be gone with the latest build.<br><br>Some useful information is available in the file wx.mod/wxWidgets_BuildNotes.txt, which documents build settings and any changes I've made to the official wxWidgets source. (like to get it to work on OS X, and mods to function prefixes) <br><br></td></tr></table><br>
<a name="1207490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> TheoraPlayer don't work under regular MinGW 4.8.1 <br></div><br><br>I had to make modifications to bmk to get theoraplayer to build/link in with TDM 4.8.1.<br><br>The latest MinGW introduces "native" pthread support via an extra static library, which must be linked in the correct order. So it looks like this will be a requirement for newer versions of MinGW from now on. <br><br></td></tr></table><br>
<a name="1207498"></a>

<a name="1207500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can find TDM 4.7.1 here :  <a href="http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC%20Installer/Previous/1.1006.0/" target="_blank">http://sourceforge.net/projects/tdm-gcc/files/TDM-GCC%20Installer/Previous/1.1006.0/</a><br><br>Which you may have more luck with.<br><br>It seems there are a few issues with MinGW 4.8.1, which will need to be ironed out first (through mod and bmk tweaks) before we can commit to using that for everything. Yay... <br><br></td></tr></table><br>
<a name="1207503"></a>

<a name="1207505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> I saw something about pthreads - no idea what those are.  Good to know I'm not just crazy, though.  ;)<br><br>Thanks, that was the installer I tried and it works fine now - think maybe I should get more sleep..good for the brain.  Will 4.7.1 work with WxMax or does that require TDM? <br><br></td></tr></table><br>
<a name="1207509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need an sjlj-built MinGW to work with the current build of wxMax - unless you want to build the libs with a non-sjlj build ;-)<br><br>TDM defaults to sjlj, which is on that page I posted above. <br><br></td></tr></table><br>
<a name="1207547"></a>

<a name="1207548"></a>

<a name="1207549"></a>

<a name="1207550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> The 'z_errmsg' is gone.<br><br>But I get warnings on windows because of some (not all) PNG-files I load via myArtProvider:<br><pre class=code>iCCP: known incorrect sRGB profile</pre><br>Can I surpress this warning? My PNGs are quite correct I think. How should I save an image to avoid such a warning? <br><br></td></tr></table><br>
<a name="1207551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ...which is on that page I posted above <br></div><br><br>/rubs eyes - So it is!  Okay, everything seems to be working using TDM 4.7.1 - except for my Bullet lib, but that's my problem. <br><br></td></tr></table><br>
<a name="1207552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> TimelineFX is compiling and running fine on Windows, good job Brucey :-) will give Mac a whirl in due course.<br><br>I was getting the profile errors too as highlighted here: <a href="http://trac.wxwidgets.org/ticket/15331" target="_blank">http://trac.wxwidgets.org/ticket/15331</a><br><br>At the moment I'm just suppressing them with wxLog.SetLogLevel(0) but I might test re-saving in photoshop with the sRGB profile checked (or not) see if that works. <br><br></td></tr></table><br>
<a name="1207568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code> iCCP: known incorrect sRGB profile</pre><br><br>From what I've been reading on the internet, the recent libpng (1.6.x) has more strict enforcement of profiles, and it seems that the old HP sRGB profile has a bad whitepoint, which appears in many png images. By using sRGB built-in instead, will remove the warning message.<br>Probably better to update your images to have a correct profile than to hide the warnings ;-) <br><br></td></tr></table><br>
<a name="1207580"></a>

<a name="1207581"></a>

<a name="1207582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Running ok on Mac but there is an issue with toolbars, in that that don't display horizontally. It was doing this before in 2.9.5 but I waited to see if 3.0 would rectify it but unfortunately not. I adapted the webview sample to replicate. It makes the room for it, but the icons don't appear:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Framework wx.wxApp
Import wx.wxFrame
Import wx.wxWebView
Import wx.wxTextCtrl
'Import wx.wxInfoBar
Import wx.wxStaticText
Import wx.wxPanel
Import wx.wxLocale
Import wx.wxLogWindow
Import wx.wxArtProvider
Import BRL.RamStream

?Not linux
Incbin "media/webview/refresh.png"
Incbin "media/webview/stop.png"
?
Incbin "media/webview/wxlogo.png"


New MyApp.run()

Type MyApp Extends wxApp

	Field frame:wxFrame

	Method OnInit:Int()
		wxImage.AddHandler(New wxPNGHandler)

		frame = WebFrame(New WebFrame.CreateWithURL("http://wxwidgets.org"))
		frame.show()
	
		Return True
	
	End Method

End Type

Type WebFrame Extends wxFrame

	Field url:String

	Field m_url:wxTextCtrl
	Field m_browser:wxWebView

	Field m_toolbar:wxToolBar
	Field m_toolbar_back:wxToolBarToolBase
	Field m_toolbar_forward:wxToolBarToolBase
	Field m_toolbar_stop:wxToolBarToolBase
	Field m_toolbar_reload:wxToolBarToolBase
	Field m_toolbar_tools:wxToolBarToolBase

	Field m_find_toolbar_done:wxToolBarToolBase
	Field m_find_toolbar_next:wxToolBarToolBase
	Field m_find_toolbar_previous:wxToolBarToolBase
	Field m_find_toolbar_options:wxToolBarToolBase
	Field m_find_toolbar_wrap:wxMenuItem
	Field m_find_toolbar_highlight:wxMenuItem
	Field m_find_toolbar_matchcase:wxMenuItem
	Field m_find_toolbar_wholeword:wxMenuItem

	Field m_tools_menu:wxMenu
	Field m_tools_history_menu:wxMenu
	Field m_tools_layout:wxMenuItem
	Field m_tools_tiny:wxMenuItem
	Field m_tools_small:wxMenuItem
	Field m_tools_medium:wxMenuItem
	Field m_tools_large:wxMenuItem
	Field m_tools_largest:wxMenuItem
	Field m_tools_handle_navigation:wxMenuItem
	Field m_tools_handle_new_window:wxMenuItem
	Field m_tools_enable_history:wxMenuItem
	Field m_edit_cut:wxMenuItem
	Field m_edit_copy:wxMenuItem
	Field m_edit_paste:wxMenuItem
	Field m_edit_undo:wxMenuItem
	Field m_edit_redo:wxMenuItem
	Field m_edit_mode:wxMenuItem
	Field m_scroll_line_up:wxMenuItem
	Field m_scroll_line_down:wxMenuItem
	Field m_scroll_page_up:wxMenuItem
	Field m_scroll_page_down:wxMenuItem
	Field m_selection_clear:wxMenuItem
	Field m_selection_delete:wxMenuItem
	Field m_find:wxMenuItem
	Field m_context_menu:wxMenuItem

	'Field m_info:wxInfoBar
	Field m_info_text:wxStaticText
	Field m_find_ctrl:wxTextCtrl
	Field m_find_toolbar:wxToolBar

	'wxMenuHistoryMap m_histMenuItems;
	Field m_findText:String
	Field m_findFlags:Int
	Field m_findCount:Int
	
	Field m_histMenuItems:TMap = New TMap
 
	Method CreateWithURL:WebFrame(url:String)
		Self.url = url
		Super.Create(Null, -1, "wxWebView Sample")
		Return Self
	End Method

	Method OnInit()

		' set the frame icon
		'SetIcon(wxIcon(sample));
		SetTitle("wxWebView Sample")
		
		Local topsizer:wxBoxSizer = New wxBoxSizer.Create(wxVERTICAL)
		
		' Create the toolbar
		m_toolbar = New wxToolBar.Create(Self, wxID_ANY,,,,,wxTB_HORIZONTAL)
		m_toolbar.injectself()
		m_toolbar.SetToolBitmapSize(16, 16)

		Local back:wxBitmap = wxArtProvider.GetBitmap(wxART_GO_BACK , wxART_TOOLBAR)
 		Local forward:wxBitmap = wxArtProvider.GetBitmap(wxART_GO_FORWARD , wxART_TOOLBAR)
?linux
		Local stop:wxBitmap = wxArtProvider.GetBitmap("gtk-stop", wxART_TOOLBAR)
		Local refresh:wxBitmap = wxArtProvider.GetBitmap("gtk-refresh", wxART_TOOLBAR)
?Not linux
		Local stop:wxBitmap = wxBitmap.CreateFromFile("incbin::media/webview/stop.png", wxBITMAP_TYPE_PNG)
		Local refresh:wxBitmap = wxBitmap.CreateFromFile("incbin::media/webview/refresh.png", wxBITMAP_TYPE_PNG)
?

		m_toolbar_back = m_toolbar.AddTool(wxID_ANY, _("Back"), back)
		m_toolbar_forward = m_toolbar.AddTool(wxID_ANY, _("Forward"), forward)
		m_toolbar_stop = m_toolbar.AddTool(wxID_ANY, _("Stop"), stop)
		m_toolbar_reload = m_toolbar.AddTool(wxID_ANY, _("Reload"),  refresh)
		m_url = New wxTextCtrl.Create(m_toolbar, wxID_ANY, "",  -1, -1, 400, -1, wxTE_PROCESS_ENTER)
		m_toolbar.AddControl(m_url, _("URL"))
		m_toolbar_tools = m_toolbar.AddTool(wxID_ANY, _("Menu"), wxBitmap.CreateFromFile("incbin::media/webview/wxlogo.png", wxBITMAP_TYPE_PNG))
		
		m_toolbar.Realize()
		settoolbar(m_toolbar)


		' Set find values.
		m_findFlags = wxWEB_VIEW_FIND_DEFAULT
		m_findText = ""
		m_findCount = 0

		' Create panel for find toolbar.
		Local panel: wxPanel = New wxPanel.Create(Self)
		topsizer.Add(panel, 0, wxEXPAND)

		' Create sizer for panel.
		Local panel_sizer:wxBoxSizer = New wxBoxSizer.Create(wxVERTICAL)
		panel.SetSizer(panel_sizer)

		' Create the find toolbar.
		m_find_toolbar = New wxToolBar.Create(panel, wxID_ANY, -1, -1, -1, -1, wxTB_HORIZONTAL | wxTB_TEXT | wxTB_HORZ_LAYOUT)
		m_find_toolbar.Hide()
		panel_sizer.Add(m_find_toolbar, 0, wxEXPAND)

		' Create find control.
		m_find_ctrl = New wxTextCtrl.Create(m_find_toolbar, wxID_ANY, "", -1, -1, 140, -1, wxTE_PROCESS_ENTER)


		' Find options menu
		Local findmenu:wxMenu = New wxMenu.Create()
		m_find_toolbar_wrap = findmenu.AppendCheckItem(wxID_ANY,"Wrap")
		m_find_toolbar_matchcase = findmenu.AppendCheckItem(wxID_ANY,"Match Case")
		m_find_toolbar_wholeword = findmenu.AppendCheckItem(wxID_ANY,"Entire Word")
		m_find_toolbar_highlight = findmenu.AppendCheckItem(wxID_ANY,"Highlight")
		' Add find toolbar tools.
		m_find_toolbar.SetToolSeparation(7)
		m_find_toolbar_done = m_find_toolbar.AddTool(wxID_ANY, "Close", wxArtProvider.GetBitmap(wxART_CROSS_MARK))
		m_find_toolbar.AddSeparator()
		m_find_toolbar.AddControl(m_find_ctrl, "Find")
		m_find_toolbar.AddSeparator()
		m_find_toolbar_next = m_find_toolbar.AddTool(wxID_ANY, "Next", wxArtProvider.GetBitmap(wxART_GO_DOWN, wxART_TOOLBAR, 16, 16))
		m_find_toolbar_previous = m_find_toolbar.AddTool(wxID_ANY, "Previous", wxArtProvider.GetBitmap(wxART_GO_UP, wxART_TOOLBAR, 16, 16))
		m_find_toolbar.AddSeparator()
		m_find_toolbar_options = m_find_toolbar.AddTool(wxID_ANY, "Options", wxArtProvider.GetBitmap(wxART_PLUS, wxART_TOOLBAR, 16, 16), Null, wxITEM_DROPDOWN)
		m_find_toolbar_options.SetDropdownMenu(findmenu)
		m_find_toolbar.Realize()


		' Create the info panel
		'm_info = New wxInfoBar(this)
		'topsizer.Add(m_info, wxSizerFlags().Expand())
		
		' Create the webview
		m_browser = New wxWebView.Create(Self, wxID_ANY, url)
		topsizer.Add(m_browser, 1, wxEXPAND, wxAll)
		
		'We register the wxfs:' protocol for testing purposes
		'm_browser.RegisterHandler(wxSharedPtr&lt;wxWebViewHandler&gt;(New wxWebViewArchiveHandler("wxfs")))
		'And the memory: file system
		'm_browser.RegisterHandler(wxSharedPtr&lt;wxWebViewHandler&gt;(New wxWebViewFSHandler("memory")))
		
		SetSizer(topsizer)
		
		'Set a more sensible size for web browsing
		SetSize(800, 600)

		' Create a log window
		' TODO : this is broken...
		'New wxLogWindow.Create(Self, _("Logging"))

		' Create the Tools menu
		m_tools_menu = New wxMenu.Create()
		Local printMenu:wxMenuItem = m_tools_menu.Append(wxID_ANY, _("Print"))
		Local viewSource: wxMenuItem = m_tools_menu.Append(wxID_ANY, _("View Source"))
		m_tools_menu.AppendSeparator()
		m_tools_layout = m_tools_menu.AppendCheckItem(wxID_ANY, _("Use Layout Zoom"))
		m_tools_tiny = m_tools_menu.AppendCheckItem(wxID_ANY, _("Tiny"))
		m_tools_small = m_tools_menu.AppendCheckItem(wxID_ANY, _("Small"))
		m_tools_medium = m_tools_menu.AppendCheckItem(wxID_ANY, _("Medium"))
		m_tools_large = m_tools_menu.AppendCheckItem(wxID_ANY, _("Large"))
		m_tools_largest = m_tools_menu.AppendCheckItem(wxID_ANY, _("Largest"))
		m_tools_menu.AppendSeparator()
		m_tools_handle_navigation = m_tools_menu.AppendCheckItem(wxID_ANY, _("Handle Navigation"))
		m_tools_handle_new_window = m_tools_menu.AppendCheckItem(wxID_ANY, _("Handle New Windows"))
		m_tools_menu.AppendSeparator()

		'Find
		m_find = m_tools_menu.Append(wxID_ANY, _("Find"))
		m_tools_menu.AppendSeparator()

		'History menu
		m_tools_history_menu = New wxMenu.Create()
		Local clearhist:wxMenuItem =  m_tools_history_menu.Append(wxID_ANY, _("Clear History"))
		m_tools_enable_history = m_tools_history_menu.AppendCheckItem(wxID_ANY, _("Enable History"))
		m_tools_history_menu.AppendSeparator()

		m_tools_menu.AppendSubMenu(m_tools_history_menu, "History")

		'Create an editing menu
		Local editmenu:wxMenu = New wxMenu.Create()
		m_edit_cut = editmenu.Append(wxID_ANY, _("Cut"))
		m_edit_copy = editmenu.Append(wxID_ANY, _("Copy"))
		m_edit_paste = editmenu.Append(wxID_ANY, _("Paste"))
		editmenu.AppendSeparator()
		m_edit_undo = editmenu.Append(wxID_ANY, _("Undo"))
		m_edit_redo = editmenu.Append(wxID_ANY, _("Redo"))
		editmenu.AppendSeparator()
		m_edit_mode = editmenu.AppendCheckItem(wxID_ANY, _("Edit Mode"))

		m_tools_menu.AppendSeparator()
		m_tools_menu.AppendSubMenu(editmenu, "Edit")

		Local scroll_menu:wxMenu = New wxMenu.Create()
		m_scroll_line_up = scroll_menu.Append(wxID_ANY, "Line &amp;up")
		m_scroll_line_down = scroll_menu.Append(wxID_ANY, "Line &amp;down")
		m_scroll_page_up = scroll_menu.Append(wxID_ANY, "Page u&amp;p")
		m_scroll_page_down = scroll_menu.Append(wxID_ANY, "Page d&amp;own")
		m_tools_menu.AppendSubMenu(scroll_menu, "Scroll")

		Local script:wxMenuItem =  m_tools_menu.Append(wxID_ANY, _("Run Script"))

		'Selection menu
		Local selection:wxMenu = New wxMenu.Create()
		m_selection_clear = selection.Append(wxID_ANY, _("Clear Selection"))
		m_selection_delete = selection.Append(wxID_ANY, _("Delete Selection"))
		Local selectall:wxMenuItem = selection.Append(wxID_ANY, _("Select All"))

		editmenu.AppendSubMenu(selection, "Selection")

		Local loadscheme:wxMenuItem =  m_tools_menu.Append(wxID_ANY, _("Custom Scheme Example"))
		Local usememoryfs:wxMenuItem =  m_tools_menu.Append(wxID_ANY, _("Memory File System Example"))

		m_context_menu = m_tools_menu.AppendCheckItem(wxID_ANY, _("Enable Context Menu"))

		'By default we want to handle navigation and new windows
		m_tools_handle_navigation.Check()
		m_tools_handle_new_window.Check()
		m_tools_enable_history.Check()
		If Not m_browser.CanSetZoomType(wxWEB_VIEW_ZOOM_TYPE_LAYOUT) Then
			m_tools_layout.Enable(False)
		End If

		' Connect the toolbar events
		Connect(m_toolbar_back.GetId(), wxEVT_COMMAND_TOOL_CLICKED, _OnBack)
		Connect(m_toolbar_forward.GetId(), wxEVT_COMMAND_TOOL_CLICKED, _OnForward)
		Connect(m_toolbar_stop.GetId(), wxEVT_COMMAND_TOOL_CLICKED, _OnStop)
		Connect(m_toolbar_reload.GetId(), wxEVT_COMMAND_TOOL_CLICKED, _OnReload)
		Connect(m_toolbar_tools.GetId(), wxEVT_COMMAND_TOOL_CLICKED, _OnToolsClicked)

	
		
		' Connect the webview events
		'Connect(m_browser.GetId(), wxEVT_COMMAND_WEB_VIEW_NAVIGATING, _OnNavigationRequest)
		'Connect(m_browser.GetId(), wxEVT_COMMAND_WEB_VIEW_NAVIGATED, _OnNavigationComplete)
		'Connect(m_browser.GetId(), wxEVT_COMMAND_WEB_VIEW_LOADED, _OnDocumentLoaded)
		'Connect(m_browser.GetId(), wxEVT_COMMAND_WEB_VIEW_ERROR, _OnError)
		'Connect(m_browser.GetId(), wxEVT_COMMAND_WEB_VIEW_NEWWINDOW, _OnNewWindow)
		'Connect(m_browser.GetId(), wxEVT_COMMAND_WEB_VIEW_TITLE_CHANGED, _OnTitleChanged)


	End Method

	Function _OnBack(evt:wxEvent)
		WebFrame(evt.parent).OnBack(wxCommandEvent(evt))
	End Function

	Function _OnForward(evt:wxEvent)
		WebFrame(evt.parent).OnForward(wxCommandEvent(evt))
	End Function

	Function _OnStop(evt:wxEvent)
		WebFrame(evt.parent).OnStop(wxCommandEvent(evt))
	End Function

	Function _OnReload(evt:wxEvent)
		WebFrame(evt.parent).OnReload(wxCommandEvent(evt))
	End Function

	Function _OnToolsClicked(evt:wxEvent)
		WebFrame(evt.parent).OnToolsClicked(wxCommandEvent(evt))
	End Function

	Function _OnHistory(evt:wxEvent)
		WebFrame(evt.parent).OnHistory(wxCommandEvent(evt))
	End Function

	Function _OnNavigationRequest(evt:wxEvent)
		WebFrame(evt.parent).OnNavigationRequest(wxWebViewEvent(evt))
	End Function

	Function _OnNavigationComplete(evt:wxEvent)
		WebFrame(evt.parent).OnNavigationComplete(wxWebViewEvent(evt))
	End Function

	Function _OnDocumentLoaded(evt:wxEvent)
		WebFrame(evt.parent).OnDocumentLoaded(wxWebViewEvent(evt))
	End Function

	Function _OnError(evt:wxEvent)
		WebFrame(evt.parent).OnError(wxWebViewEvent(evt))
	End Function

	Function _OnNewWindow(evt:wxEvent)
		WebFrame(evt.parent).OnNewWindow(wxWebViewEvent(evt))
	End Function

	Function _OnTitleChanged(evt:wxEvent)
		WebFrame(evt.parent).OnTitleChanged(wxWebViewEvent(evt))
	End Function
	
	Method UpdateState()
		m_toolbar.EnableTool(m_toolbar_back.GetId(), m_browser.CanGoBack())
		m_toolbar.EnableTool(m_toolbar_forward.GetId(), m_browser.CanGoForward())
		
		If m_browser.IsBusy() Then
			m_toolbar.EnableTool(m_toolbar_stop.GetId(), True)
		Else
			m_toolbar.EnableTool(m_toolbar_stop.GetId(), False)
		End If
		
		SetTitle(m_browser.GetCurrentTitle())
		m_url.SetValue(m_browser.GetCurrentURL())
	End Method
	
	Method OnIdle(evt:wxIdleEvent)
		If m_browser.IsBusy() Then
			wxSetCursorId(wxCURSOR_ARROWWAIT)
			m_toolbar.EnableTool(m_toolbar_stop.GetId(), True)
		Else
			wxSetCursor(Null)
			m_toolbar.EnableTool(m_toolbar_stop.GetId(), False)
		End If
	End Method
	
	Method OnURL(evt:wxCommandEvent)
	End Method
	
	Method OnBack(evt:wxCommandEvent)
	End Method
	
	Method OnForward(evt:wxCommandEvent)
	End Method
	
	Method OnStop(evt:wxCommandEvent)
	End Method
	
	Method OnReload(evt:wxCommandEvent)
	End Method
	
	Method OnClearHistory(evt:wxCommandEvent)
	End Method
	
	Method OnEnableHistory(evt:wxCommandEvent)
	End Method
	
	Method OnCut(evt:wxCommandEvent)
	End Method
	
	Method OnCopy(evt:wxCommandEvent)
	End Method
	
	Method OnPaste(evt:wxCommandEvent)
	End Method
	
	Method OnUndo(evt:wxCommandEvent)
	End Method
	
	Method OnRedo(evt:wxCommandEvent)
	End Method
	
	Method OnMode(evt:wxCommandEvent)
	End Method
	
	Method OnHistory(evt:wxCommandEvent)
		m_browser.LoadHistoryItem(wxWebViewHistoryItem(m_histMenuItems.ValueForKey(String(evt.GetId()))))
	End Method
	

	' Callback invoked when there is a request to load a new page (for instance when the user clicks a link)
	Method OnNavigationRequest(evt:wxWebViewEvent)
		'If m_info.IsShown() Then
		'	m_info.Dismiss()
		'End If

		'wxLogMessage("Navigation request to '" + evt.GetURL() + "' (target='" + evt.GetTarget() + "')")

		'If we don't want to handle navigation then veto the event and navigation
		'will not take place, we also need to stop the loading animation
		If Not m_tools_handle_navigation.IsChecked() Then
			evt.Veto()
			m_toolbar.EnableTool(m_toolbar_stop.GetId(), False)
		Else
			UpdateState()
		End If
	End Method

	' Callback invoked when a navigation request was accepted
	Method OnNavigationComplete(evt:wxWebViewEvent)
		'wxLogMessage("Navigation complete; url='" + evt.GetURL() + "'")
		UpdateState()
	End Method
	
	' Callback invoked when a page is finished loading
	Method OnDocumentLoaded(evt:wxWebViewEvent)
		' Only notify if the document is the main frame, not a subframe
		If evt.GetURL() = m_browser.GetCurrentURL() Then
			'wxLogMessage("Document loaded; url='" + evt.GetURL() + "'")
		End If
		UpdateState()
	End Method
	
	Method OnError(evt:wxWebViewEvent)
	End Method
	
	' On new window, we veto to stop extra windows appearing
	Method OnNewWindow(evt:wxWebViewEvent)
	End Method
	
	Method OnTitleChanged(evt:wxWebViewEvent)
		SetTitle(evt.GetString())
		'wxLogMessage("Title changed; title='" + evt.GetString() + "'")
	End Method
	
	' Invoked when user selects the "Menu" item
	Method OnToolsClicked(evt:wxCommandEvent)

		If m_browser.GetCurrentURL() = "" Then
			Return
		End If

		m_tools_tiny.Check(False)
		m_tools_small.Check(False)
		m_tools_medium.Check(False)
		m_tools_large.Check(False)
		m_tools_largest.Check(False)

		Local zoom:Int = m_browser.GetZoom()
		Select zoom
			Case wxWEB_VIEW_ZOOM_TINY
				m_tools_tiny.Check()
			Case wxWEB_VIEW_ZOOM_SMALL
				m_tools_small.Check()
			Case wxWEB_VIEW_ZOOM_MEDIUM
				m_tools_medium.Check()
			Case wxWEB_VIEW_ZOOM_LARGE
				m_tools_large.Check()
			Case wxWEB_VIEW_ZOOM_LARGEST
				m_tools_largest.Check()
		End Select

		m_edit_cut.Enable(m_browser.CanCut())
		m_edit_copy.Enable(m_browser.CanCopy())
		m_edit_paste.Enable(m_browser.CanPaste())

		m_edit_undo.Enable(m_browser.CanUndo())
		m_edit_redo.Enable(m_browser.CanRedo())

		m_selection_clear.Enable(m_browser.HasSelection())
		m_selection_delete.Enable(m_browser.HasSelection())

		m_context_menu.Check(m_browser.IsContextMenuEnabled())

		'Firstly we clear the existing menu items, then we add the current ones
		For Local id:String = EachIn m_histMenuItems.Keys()
			m_tools_history_menu.Destroy(id.ToInt())
		Next
		m_histMenuItems.clear()

		Local back:wxWebViewHistoryItem[] = m_browser.GetBackwardHistory()
		Local forward:wxWebViewHistoryItem[] = m_browser.GetForwardHistory()

		Local item:wxMenuItem

		For Local i:Int = 0 Until back.length
			item = m_tools_history_menu.AppendRadioItem(wxID_ANY, back[i].GetTitle())
			m_histMenuItems.Insert(String(item.GetId()), back[i])
			Connect(item.GetId(), wxEVT_COMMAND_MENU_SELECTED, _OnHistory)
		Next

		Local title:String = m_browser.GetCurrentTitle()
		If Not title Then
			title = "(untitled)"
		End If
		item = m_tools_history_menu.AppendRadioItem(wxID_ANY, title)
		item.Check()

		'No need to connect the current item
		m_histMenuItems.Insert(String(item.GetId()), New wxWebViewHistoryItem.Create(m_browser.GetCurrentURL(), m_browser.GetCurrentTitle()))

		For Local i:Int = 0 Until forward.length
			item = m_tools_history_menu.AppendRadioItem(wxID_ANY, forward[i].GetTitle())
			m_histMenuItems.Insert(String(item.GetId()), forward[i])
			Connect(item.GetId(), wxEVT_COMMAND_TOOL_CLICKED, _OnHistory)
		Next

		'wxPoint position = ScreenToClient( wxGetMousePosition() )
		Local x:Int, y:Int
		wxGetMousePosition(x, y)
		ScreenToClient(x, y)
		PopupMenu(m_tools_menu, x, y)

	End Method
	
End Type

</textarea><br><br>I can make it work by applying it with CreateToolBar but the icon size is too big, setting it smaller doesn't seem to make any difference. Windows works fine.<br><br>[edit]oo, incidentally I had to rem out the connectors because it wasn't recognising any of those EVT constants <br><br></td></tr></table><br>
<a name="1207599"></a>

<a name="1207600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> Went through some of the samples, but webview did not work for me.  It reports...<br><br>Compile Error: Identifier 'wxEVT_COMMAND_WEB_VIEW_NAVIGATING' not found.<br><br>I could not find any other reference to it.<br><br>Also, when I ran html/widget, it worked.  But when I closed its window, it popped up a "wxWidgets Debug Alert" - something about a failure in DoCleanUpModules(). <br><br></td></tr></table><br>
<a name="1207618"></a>

<a name="1207619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> The wxWebView events changed from wxEVT_COMMAND_WEB_VIEW_ to wxEVT_WEBVIEW in the latest wxWidgets.<br><br>Actually, lots of other control events have changed, dropping the COMMAND part, but I've left those alone. <br><br></td></tr></table><br>
<a name="1207620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  on Mac but there is an issue with toolbars, in that that don't display horizontally <br></div><br>If you add this after you create the toolbar, it shows up :<br><pre class=code>
	Self.SetToolbar(m_toolbar)
</pre><br><br>Based on this post ( <a href="http://forums.wxwidgets.org/viewtopic.php?f=23&amp;t=37794" target="_blank">http://forums.wxwidgets.org/viewtopic.php?f=23&amp;t=37794</a> ), there are issues using the native toolbar and small(er) icon sizes, despite what you see used in MaxIDE.<br><br>You could always supply some nice 32x32 icons for your OS X version ;-) <br><br></td></tr></table><br>
<a name="1207627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, so you mean set the toolbar immediately after you create it? <br><br>Well, I need to re-save the icons anyway so I might redo them as 32x32. <br><br></td></tr></table><br>
<a name="1207638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Ok, so you mean set the toolbar immediately after you create it? <br></div><br>Yes, any time afterwards should be fine. <br><br></td></tr></table><br>
<a name="1207681"></a>

<a name="1207825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can confirm that worked, as long it's before "realising" the toolbar. Off to find some bigger icons :-) <br><br></td></tr></table><br>
<a name="1207878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can also confirm that re-saving all PNG's from Photoshop stopped the icc errors from appearing. That's with a standard save for web PNG24 profile. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
