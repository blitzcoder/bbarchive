<!DOCTYPE html><html lang="en" ><head ><title >wxAuiManager</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >wxAuiManager</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=124" >Brucey's Modules</a>/<a href="#bottom" >wxAuiManager</a><br><br>
<a name="1188802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could it be that there is a parameter missing in LoadPaneInfo?<br>wxWidgets:<br>LoadPaneInfo(wxString pane_part, wxAuiPaneInfo&amp; pane)<br>wxMax:<br>LoadPaneInfo:wxAuiPaneInfo(panePart:String)<br><br>Where is the pane which should get the info? <br><br></td></tr></table><br>
<a name="1188956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> A new wxAuiPaneInfo object is returned containing the information, rather than providing an object to be populated. <br><br></td></tr></table><br>
<a name="1189531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shouldn't the function be called "getPaneInfo" then?<br><br>Is there a special reason for not having  "infoPane: wxAuiPaneInfo var".<br>I know one could "recognize the returned object by reading ":wxAuiPaneInfo" but it is not that documentation-compatible as it could.<br><br>Some limitations when "glueing the code" ?<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1189533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No reason that comes to mind.<br>I expect this will be changed to match wxWidgets at some point. <br><br></td></tr></table><br>
<a name="1189539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok then let's call it "conversion lazyness", think lazyness is a widely accepted reason for programmers having something not done yet :D.<br><br><br>bye<br>ron <br><br></td></tr></table><br>
<a name="1190091"></a>

<a name="1190092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got a new issue:<br>how can I iterate over the managed panes? I know there is GetAllPanes() but<br><pre class=code>
Local panes:wxAuiPaneInfo[] = manager.GetAllPanes()
If panes Then DebugLog panes.length
</pre><br><br>throws a MAV <br><br></td></tr></table><br>
<a name="1190121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh… it's funny how you can look at code for 10 minutes, going over and over stuff which looks absolutely correct, and then it dawns on you that you didn't actually "return" the array you just created.<br><br>So, I've added a "return arr;" in the glue code. It should work better now. <br><br></td></tr></table><br>
<a name="1190131"></a>

<a name="1190133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You did something with the event handling lately?<br>I just checked out the newest revision and the aui example (and my app) crashes on close.<br>A snippet of the aui example:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
' lots and lots of event handling !
		Connect(ID_CreateTree, wxEVT_COMMAND_MENU_SELECTED, OnCreateTree)
		Connect(ID_CreateGrid, wxEVT_COMMAND_MENU_SELECTED, OnCreateGrid)
		Connect(ID_CreateText, wxEVT_COMMAND_MENU_SELECTED, OnCreateText)
		Connect(ID_CreateHTML, wxEVT_COMMAND_MENU_SELECTED, OnCreateHTML)
		Connect(ID_CreateNotebook, wxEVT_COMMAND_MENU_SELECTED, OnCreateNotebook)
		Connect(ID_CreatePerspective, wxEVT_COMMAND_MENU_SELECTED, OnCreatePerspective)
		Connect(ID_CopyPerspectiveCode, wxEVT_COMMAND_MENU_SELECTED, OnCopyPerspectiveCode)
		Connect(ID_AllowFloating, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_TransparentHint, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_VenetianBlindsHint, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_RectangleHint, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_NoHint, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_HintFade, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_NoVenetianFade, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_TransparentDrag, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_AllowActivePane, wxEVT_COMMAND_MENU_SELECTED, OnManagerFlag)
		Connect(ID_NotebookTabFixedWidth, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookNoCloseButton, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookCloseButton, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookCloseButtonAll, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookCloseButtonActive, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookAllowTabMove, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookAllowTabExternalMove, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookAllowTabSplit, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookScrollButtons, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookWindowList, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookArtGloss, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NotebookArtSimple, wxEVT_COMMAND_MENU_SELECTED, OnNotebookFlag)
		Connect(ID_NoGradient, wxEVT_COMMAND_MENU_SELECTED, OnGradient)
		Connect(ID_VerticalGradient, wxEVT_COMMAND_MENU_SELECTED, OnGradient)
		Connect(ID_HorizontalGradient, wxEVT_COMMAND_MENU_SELECTED, OnGradient)
		
		Connect(ID_Settings, wxEVT_COMMAND_MENU_SELECTED, OnSettings)
		Rem
		Connect(ID_GridContent, wxEVT_COMMAND_MENU_SELECTED, OnChangeContentPane)
		Connect(ID_TreeContent, wxEVT_COMMAND_MENU_SELECTED, OnChangeContentPane)
		Connect(ID_TextContent, wxEVT_COMMAND_MENU_SELECTED, OnChangeContentPane)
		Connect(ID_SizeReportContent, wxEVT_COMMAND_MENU_SELECTED, OnChangeContentPane)
		Connect(ID_HTMLContent, wxEVT_COMMAND_MENU_SELECTED, OnChangeContentPane)
		Connect(ID_NotebookContent, wxEVT_COMMAND_MENU_SELECTED, OnChangeContentPane)
		Connect(wxID_EXIT, wxEVT_COMMAND_MENU_SELECTED, OnExit)
		Connect(wxID_ABOUT, wxEVT_COMMAND_MENU_SELECTED, OnAbout)

		Connect(ID_NotebookTabFixedWidth, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookNoCloseButton, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookCloseButton, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookCloseButtonAll, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookCloseButtonActive, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookAllowTabMove, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookAllowTabExternalMove, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookAllowTabSplit, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookScrollButtons, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NotebookWindowList, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_AllowFloating, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_TransparentHint, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_VenetianBlindsHint, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_RectangleHint, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NoHint, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_HintFade, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NoVenetianFade, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_TransparentDrag, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_NoGradient, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_VerticalGradient, wxEVT_UPDATE_UI, OnUpdateUI)
		Connect(ID_HorizontalGradient, wxEVT_UPDATE_UI, OnUpdateUI)
		End rem
</textarea><br><br>The example crashes on close with a MAV on windows and on linux I get "Segmentation fault (core dumped)". But if you comment a few more events out it closes down fine. <br><br></td></tr></table><br>
<a name="1190171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello. Hopefully I've now completed the work that I apparently half-completed earlier ;-)<br><br>It turns out this low-level event handler wrapper stuff is a bit complicated.<br>However, wxEvtHandler classes should now disconnect from all of their connect event handles when they are freed. You can also call Disconnect…() yourself should you want to do so during the run.<br>The MAV was caused by my created objects being freed twice - had I known the system would free them for me, I wouldn't have tried to free them myself. <br><br>Also, you should probably now be calling your aui manager.UnInit() method when you close its parent frame/window. This ensures that any manager events are cleaned up too. I've updated the sample (see OnClose() ). <br><br></td></tr></table><br>
<a name="1190186"></a>

<a name="1190203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok the aui example works now but indevIDE still gives a mav on close.<br>I will search for the problem.<br><br>EDIT:<br>It is a very strange bug. I found out that my app crashes when I close the output page so I tried to minimize the reproduction. What I have now:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
Framework wx.wxApp
Import wx.wxFrame
Import wx.wxAui
Import wx.wxArtProvider
Import wx.wxTreeCtrl
Import wx.wxScintilla

New MyApp.Run()
 
Type MyApp Extends wxApp
	Field frame:MyFrame

	Method OnInit:Int()
		frame = MyFrame(New MyFrame.Create(,,"wxAUI Sample Application", , , 800, 600,wxDEFAULT_FRAME_STYLE | wxSUNKEN_BORDER))
		SetTopWindow(frame)
		frame.show()
		Return True
	End Method
End Type

Type MyFrame Extends wxFrame

	Field manager:wxAuiManager
	Field notebook:wxAuiNotebook
	
	Function OnQuit(event:wxEvent)
		DebugLog "bye"
		Local f:MyFrame= MyFrame(event.parent)
		f.manager.UnInit()
		event.Skip()
	End Function
	
	Method OnInit()
		ConnectAny(wxEVT_CLOSE_WINDOW, OnQuit)
		
		' tell wxAuiManager to manage this frame
		manager = New wxAuiManager.Create(Self)
		notebook= New wxAuiNotebook.Create(Self, wxID_ANY)
		
		CreateEditor()
		
		manager.Update()
	End Method
	
	Method CreateEditor:wxScintilla()
		Local edt:wxScintilla = New wxScintilla.Create(notebook, wxID_ANY)
		notebook.AddPage(edt,"editor")
		
		edt.ConnectAny(wxEVT_SCI_CHARADDED,OnCharAdded)
		edt.ConnectAny(wxEVT_SCI_CHARADDED,OnCharAdded2)
		Return edt
	End Method

	Function OnCharAdded(event:wxEvent)	
		'event.Skip()
	End Function
	Function OnCharAdded2(event:wxEvent)
		'event.Skip()
	End Function
End Type
</textarea><br><br>The double connection seems problematic but I'm not sure.<br>When you hold enter in the editor page for a while and then close the window it crashes.<br>It is different when the skip is uncommented. It is different when there are more events connected. If you hold enter a while longer it crashes directly in the program without the need to close the window.<br><br>Well, I see symptoms but what is the disease... <br><br></td></tr></table><br>
<a name="1190248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it's possible that the double connection is the problem. That being, because the second one overwrites the first in the BlitzMax layer, but I'm not sure what happens in wxWidgets itself.<br>I suppose the easiest thing for me to do is to check for a duplicate connection when ConnectX() is called, and disconnect the original one before connecting the new one.<br>It seems that when the window is closed, the first connection is still processing input.<br>If you add debuglogs to both your callback functions, you'll see the first one never gets called. <br><br></td></tr></table><br>
<a name="1190258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tweaked it a little so that event handles are now stored with a unique key in BlitzMax. This allows them to be all disconnected correctly when shutting down.<br><br>Using event.skip() calls both callback functions.<br><br>Can't get your example to seg on Windows now. <br><br></td></tr></table><br>
<a name="1190260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyhoo, I'm happier now with the whole event handler process since I started hacking about with it recently.<br>Self-cleaning the active callbacks was always something I had considered implementing.<br>Hopefully everything will run a bit more smoothly now. <br><br></td></tr></table><br>
<a name="1190317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> seems to work now.<br>thank you very mucho. :) <br><br></td></tr></table><br>
<a name="1190332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there nothing like wxAuiPaneInfo.GetWindow() ?!<br>I mean what does it handle, you know? <br><br></td></tr></table><br>
<a name="1190334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, there's a public "wxWindow * window" field in the class, but it isn't exposed via an API.<br>Whether it should or not, I don't know, and there isn't much to be found googling either.<br>I can add a GetWindow:WxWindow() method if it will be useful. <br><br></td></tr></table><br>
<a name="1190335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> it definitely would be useful. <br><br></td></tr></table><br>
<a name="1190339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay. Committed. <br><br></td></tr></table><br>
<a name="1190341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx.<br>wxEvent.GetParent() and wxEvent.GetUserData()<br><br>would also be nice ;) <br><br></td></tr></table><br>
<a name="1190413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you can access those via the fields "parent" and "userData".<br>I can add methods to return those fields if you need it? <br><br></td></tr></table><br>
<a name="1190426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Getters and Setters Brucey... Getters and Setters!<br><br>As you never know if special checks have to be done for a certain request, you better use Getters and Setters.<br><br>I know that additional methods/functions increase load in BlitzMax programs (especially if they only return a field :D) but for a GUI-program this should be handle-able.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1190427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> As you never know if special checks have to be done for a certain request <br></div><br>Reasonable enough, but if you know that, through the design, a particular variable will always only represent the actual value stored, you don't need to go crazy with encapsulating everything.<br><br>But if it makes y'all happy... :-p <br><br></td></tr></table><br>
<a name="1190429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with Derron. For my own applications I often don't use setters/getters unless they are really necessary. But in a module this should be default especially for such a big one. I really don't know why wxWidgets does not have them. (like the GetToolByPos of wxToolbar which was missing in early days of wxWidgets)<br><br>Plus if I want to know which stuff I can get from an object (I mean who knows all fields of a big gui widget ;) ) I write "objectname.get" and hit ctrl+space.<br>Unfortunately the fields don't appear then.<br><br>It would be great if BlitzMax would "inline" a getter/setter method via preprocessor if only a field is manipulated. But BlitzMax is fast anyway. <br><br></td></tr></table><br>
<a name="1190435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've added GetEventUserData() and GetParent() methods to wxEvent.<br><br>There is also GetEventObject() which is the "official" way to get the parent object, using an API to get at the pointer data, but since the field "parent" is cached by my BlitzMax event handler stuff anyway, it saves a bunch of API stuff going on if you don't need it. <br><br></td></tr></table><br>
<a name="1190442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>it saves a bunch of API stuff going on if you don't need it. <br> <br></div><br><br>Don't know how expensive "casting" is. But in my event system I use it for nearly all special events (checking the parent). But I also have a "GetParent"-function which even allows to pass a string (which is then used with reflection to find the parent of a parent of ...). But everything is possible without such nifty getters...<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1190488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a question.<br>One can easily connect shortcuts via menu items in wxWidgets. My problem is that a free floating aui pane keeps the key events for itself.<br><br>example:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

SuperStrict
Framework wx.wxApp
Import wx.wxFrame
Import wx.wxAui
Import wx.wxArtProvider
Import wx.wxTreeCtrl
Import wx.wxScintilla
Import wx.wxMenuBar

New MyApp.Run()
 
Type MyApp Extends wxApp
	Field frame:MyFrame

	Method OnInit:Int()
		frame = MyFrame(New MyFrame.Create(,,"wxAUI Sample Application", , , 800, 600,wxDEFAULT_FRAME_STYLE | wxSUNKEN_BORDER))
		SetTopWindow(frame)
		frame.show()
		Return True
	End Method
End Type

Type MyFrame Extends wxFrame

	Global frame:myFrame
	Field manager:wxAuiManager
	Field editor:wxScintilla
	Const ID_SAY_HELLO:Int= 1
		
	'-----------------------------------------------------
	Method OnInit()
		frame = Self
		
		' tell wxAuiManager to manage this frame
		manager = New wxAuiManager.Create(Self)
		
		'some editors
		For Local i:Int= 1 To 2
			editor= CreateEditor()
		next
		
		'menu bar
		Local menuBar:wxMenuBar = wxMenuBar.CreateMenuBar()
		SetMenuBar(menuBar)
		
		Local fileMenu:wxMenu = New wxMenu.Create()
		menuBar.Append(fileMenu,"File")
		fileMenu.Append(ID_SAY_HELLO,"say hello~tF1")
		fileMenu.Append(wxID_EXIT)	
		manager.Update()
		
		'connect events
		Connect(ID_SAY_HELLO, wxEVT_COMMAND_MENU_SELECTED, OnSayHello, Self)
		Connect(wxID_EXIT, wxEVT_COMMAND_MENU_SELECTED, OnQuit, Self)
		ConnectAny(wxEVT_CLOSE_WINDOW, OnQuit)
	End Method
	
	'-----------------------------------------------------
	Function OnQuit(event:wxEvent)
		DebugLog "bye"
		MyFrame.frame.manager.UnInit()
		event.Skip()
	End Function
	
	'-----------------------------------------------------
	Function OnSayHello(event:wxEvent)
		Local f:MyFrame= MyFrame(event.GetParent())
		f.editor.AddText("hi")
	End Function
	
	'-----------------------------------------------------
	Method CreateEditor:wxScintilla()
		Local edt:wxScintilla = New wxScintilla.Create(self, wxID_ANY)
		
		'add to manager
		Local auiPaneInfo:wxAuiPaneInfo = New wxAuiPaneInfo.Create().CloseButton(False). ..
		Name(MilliSecs( ) ).Caption("edt").Layer(1).Bottom()
		manager.AddPaneInfo(edt, auiPaneInfo)
		
		Return edt
	End Method
End Type
</textarea><br><br>Hitting F1 prints "hi" in an editor. But if you drag an editor out of the border so that you can move it around the main frame loses focus and therefore does not get any shortcut events anymore, I think. So hitting F1 does nothing although the parent is still MyFrame at some level.<br><br>Is it possible to send all keyboard events from the free floating aui pane to MyFrame so the menu bar still works with shortcuts? <br><br></td></tr></table><br>
<a name="1190497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works on OS X :-)<br><br>Not that it is helpful for you.. I'll try it on XP now. <br><br></td></tr></table><br>
<a name="1190498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, apparently this is the way to do it : <a href="http://forums.wxwidgets.org/viewtopic.php?t=18972&amp;p=81867" target="_blank">http://forums.wxwidgets.org/viewtopic.php?t=18972&amp;p=81867</a><br><br>But I'll need to implement it first. (wxAcceleratorTable  etc). <br><br></td></tr></table><br>
<a name="1190564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's your example re-written to use accelerator tables :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">


SuperStrict
Framework wx.wxApp
Import wx.wxFrame
Import wx.wxAui
Import wx.wxArtProvider
Import wx.wxTreeCtrl
Import wx.wxScintilla
Import wx.wxMenuBar

New MyApp.Run()
 
Type MyApp Extends wxApp
	Field frame:MyFrame

	Method OnInit:Int()
		frame = MyFrame(New MyFrame.Create(,,"wxAUI Sample Application", , , 800, 600,wxDEFAULT_FRAME_STYLE | wxSUNKEN_BORDER))
		SetTopWindow(frame)
		frame.show()
		Return True
	End Method
End Type

Type MyFrame Extends wxFrame

	Global frame:myFrame
	Field manager:wxAuiManager
	Field editors:wxScintilla[2]
	Const ID_SAY_HELLO:Int= 1
		
	'-----------------------------------------------------
	Method OnInit()
		frame = Self
		
		' tell wxAuiManager to manage this frame
		manager = New wxAuiManager.Create(Self)

		'some editors
		For Local i:Int= 0 Until 2
			editors[i] = CreateEditor(i)
		Next
		
		'menu bar
		Local menuBar:wxMenuBar = wxMenuBar.CreateMenuBar()
		SetMenuBar(menuBar)
		
		Local fileMenu:wxMenu = New wxMenu.Create()
		menuBar.Append(fileMenu,"File")
		fileMenu.Append(ID_SAY_HELLO,"say hello~tF1")
		fileMenu.Append(wxID_EXIT)	
		manager.Update()
		
		'connect events
		Connect(ID_SAY_HELLO, wxEVT_COMMAND_MENU_SELECTED, OnSayHello, Self)
		Connect(wxID_EXIT, wxEVT_COMMAND_MENU_SELECTED, OnQuit, Self)
		ConnectAny(wxEVT_CLOSE_WINDOW, OnQuit)
		
		For Local i:Int= 0 Until 2
			editors[i].SetAcceleratorTable(GetMenuBar().GetAcceleratorTable())
		Next		
	End Method
	
	'-----------------------------------------------------
	Function OnQuit(event:wxEvent)
		DebugLog "bye"
		MyFrame.frame.manager.UnInit()
		event.Skip()
	End Function
	
	'-----------------------------------------------------
	Function OnSayHello(event:wxEvent)
		Local f:MyFrame= MyFrame(event.GetParent())
		f.editors[1].AddText("hi")
	End Function
	
	'-----------------------------------------------------
	Method CreateEditor:wxScintilla(index:Int)
		Local edt:wxScintilla = New wxScintilla.Create(Self, wxID_ANY)
		
		'add to manager
		Local auiPaneInfo:wxAuiPaneInfo = New wxAuiPaneInfo.Create().CloseButton(False). ..
		Name(MilliSecs( ) + ":" + index ).Caption("edt").Layer(1).Bottom()
		manager.AddPaneInfo(edt, auiPaneInfo)
		
		Return edt
	End Method
End Type
</textarea><br><br>Note that your OnQuit doesn't actually quit, and you'll probably get errors if you then try to do anything with the app (as you UnInit'ed the manager). :-p <br><br></td></tr></table><br>
<a name="1190722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >UNZ</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> now it is perfectly on windows but it has no effect on linux. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
