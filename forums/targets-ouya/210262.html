<!DOCTYPE html><html lang="en" ><head ><title >Jayenkais NewYA Target</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Jayenkais NewYA Target</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=529" >Ouya</a>/<a href="#bottom" >Jayenkais NewYA Target</a><br><br>
<a name="2116263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> -=-=-<br>Android_NewYa Target<br>-=-=-<br><br><u><b><a href="http://socoder.net/monkey/NewYA.zip" target="_blank">Download The Target</a></b></u><br><br>Recent changes to how OUYA works, (SDK updates, Razer buying them out, the new Razer Forge Cortex stuff, and more) have rendered the old OUYA target... a bit broken.<br>The old controller code no longer works 100% of the time on the new Razer Forge, so I took some time rejigging the target, and making it a bit more compatible.<br>Along the way, I also got involved with a few other devices (mostly PlayJam's GameStick) and had time to tweak the code so that it seemed to work fairly universally.<br><br>After a lot (A LOT!!!) of testing and tweaking and rejigging, I can safely say that this is probably the best that I can personally manage. (But others may fair better)<br><br>The new controller code has been tested, and has been shown to work on the following devices.<br>OUYA<br>Razer Forge<br>PlayJam GameStick<br>PlayJam FlarePlay<br>Archos GamePad 2 - One of those Android tablets with an inbuilt controller.<br><br>The code has been shown to work with all standard included gamepads, as well as with my trusty Wired X360 USB pad.<br>It should (*should*) also work nicely on anything else you'd like to throw at it, but .. This is Android.. It'll be a case by case basis, I'm afraid.<br>Let me know what does/doesn't work, and I'll add it to the list above.<br><br>The code has been approved (ie, has gotten through review) on OUYA, as well as "OUYA for Cortex/Razer" and also by PlayJam for GameStick, and their new FlarePlay device.<br><br>-=-=-<br>PlayJam Flare's Audio Crash<br>-=-=-<br><br>NOTE : If you use any .wav file which are less than 2048bytes (eg taps, menu blips, gunshots) the PlayJam FlarePlay has seemingly random issues with such small files, and your game may crash whilst trying to play them.<br>I've only seen this on Flare, so far, but .. Android!!<br>If you have any such files, I suggest you pad them out a bit with some silence at the end, before releasing an Android game into the wild.<br>(I know this is completely unrelated to the controller stuff, but it baffled both me, and the PlayJam guys for quite a while, with me thinking it was my controller code doing the breaking..  so thought it important to mention!!)<br><br>-=-=-<br>Purchases<br>-=-=-<br><br>I don't USE the AppStore/IAP stuff, and I appear to have completely fudged it all up.<br>After upgrading the OUYA SDK, Mark's old "monkeystore.ouya.java" was throwing up a whole bunch of errors, so I did a big old /* Smeg all this!! */ Rem-Block around it, until it ran again.<br>As such, you will NOT be able to do any IAP or anything like that, until you, or somebody else, bothers to fix it.<br>Also note that, since this is reliant on the OUYA SDK, it won't even work via GooglePlay or anything else.<br>Purchases on Android are SO messy, it's unreal!!!  So many different markets, and each one with it's own rules.<br>Freeware's just easier!!<br><br>This is laziness on my part, but all my games are free so .... Meh!<br><br>-=-=-<br>Button Images<br>-=-=-<br><br>Again, not something I've tackled here.<br>You're going to have to decide how to deal with those, yourself.<br>I've recently opted to use a "4 dots, one is lit" style of "suggesting" which button to press.<br>This means there's no having to specifically name the buttons, or anything like that.<br>It seems to work reasonably well, and unless some stupid company comes up with a controller who's face buttons aren't layed out correctly, it should more or less be universal.<br><br>-=-=-<br>NewYA Target <br>-=-=-<br><br>The folder goes to C:\Monkey\targets\<br>A LOT of stuff has been rejigged to get controller support up and running on so many different devices.<br>Although, over the course of about 2 months, I was removing, replacing and undo-ing a LOT of my own edits!!  As such, it may or may not be as complicated a tweak as I'm remembering!  It just took bloomin' ages getting it to this point..<br><br>I've kept it as a separate target so that if Mark ever gets around to doing his own OUYA target update, mine won't get in the way.<br>Code your game, switch to Android_NewYA, job done!* <br><br>(*The job is never done!!)<br><br>-=-=-<br>Multiplayer<br>-=-=-<br>Unfortunately, standard Android devices seem to have issues with Multiple BlueTooth controls, whereby they stutter, struggle and lag like crazy.<br>This is entirely device dependent and requires stress testing on a per-device basis.<br>OUYA and Forge don't seem to have any multiplayer issues at all, so I think they're doing other stuff with the controller code, possibly using WiFi to enhance the signal or something?! *shrugs*<br>If you hardwire a controller (eg Mutliple Wired X360 controllers via a USB Hub) to a "slow" device, it seems to work perfectly fine, so I'm 95% convinced that the "issue" is with Bluetooth itself, and not my god-awful coding.<br>If you can find a cure for this, be sure to let me know.<br><br>Single player is spot-on!  (Or at least, it should be!!)<br><br>-=-=-<br>Analogue Triggers<br>-=-=-<br>Some controllers work in a way in which the left analogue trigger moves JoyZ(0) and the right one does JoyZ(1)<br>Some controllers work so that left trigger makes JoyZ(0) go negative, and the right trigger makes JoyZ(0) go positive.<br>I can't find a safe way to tell which type of controller the player is playing with, and you're just going to have to handle that stuff on your own.<br>I tend to avoid using them, that's the laziest way!!<br><br>-=-=-<br>Additional Note<br>-=-=-<br>I'm not a tidy coder, and my updates are messy.<br>There are probably many ways to make this code 100* better.<br>If you wish to complain about my code, I will not listen.  My mind automagically blocks "messy code" complaints.<br>Instead, don't whinge, take up the task for yourself, and see what you can do.<br><br>I also, lazily, probably won't be updating this any time soon..  My job here is done, and I'm happy with how it works.. so take it as it is!<br><br><u><b><a href="http://socoder.net/monkey/NewYA.zip" target="_blank">Download The Target</a></b></u> <br><br></td></tr></table><br>
<a name="2116260"></a>

<a name="2113924"></a>

<a name="2113925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great stuff Jayenkai! Thanks for the link to this here post too. I will give this a bash in due course. <br><br></td></tr></table><br>
<a name="2113949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! I still have my Ouya connected to my TV downstairs...need to boot it back up to see whats new (if any) going on with it. But they're still taking submissions even after the buyout by Razer? <br><br></td></tr></table><br>
<a name="2113952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, it's the same TeamOUYA at the Dev Relations side of things.. They all got shifted over to the new Razer job.(well, most of them.) <br><br></td></tr></table><br>
<a name="2113984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Purchases on Android are SO messy, it's unreal!!! So many different markets, and each one with it's own rules.<br>Freeware's just easier!! <br></div><br>QFT.<br><br>Never implemented IAP in any of my games - and that's exactly the reason why. Can't bother to implement Apple / Google Play / Android Market / whatever store that pops up. <br>Even worst, in Google Play if I want IAP now, I have to open a new account here in Brazil (because there wasn't a specific brazilian store back then - and have to pay *again* the $25 fee) and transfer all my old games to this new account - losing all reviews in the process. No thanks, Google :P<br><br>Just slapping ads here and there seems to be the best way to spread your game around, and still make some money with it. <br><br></td></tr></table><br>
<a name="2114435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ouya is dead console as I think you convert to Shield TV console :) <br><br></td></tr></table><br>
<a name="2114436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> My OUYA still works fine.<br>On the other hand, a friend who bought a ShieldTV a few weeks ago, has already had to return it to NVidia, because it inexplicably bricked itself doing an update.<br>Your mileage may vary!<br><br>This target should ensure your game works happily on both devices.  *hopefully*<br>let me know if you try it out. My .apks are available from <a href="http://jayenkai.socoder.net/GameList.php?&amp;System=DroidTV" target="_blank">my Archive</a>. Look for the Android TV .apks.<br><br>PS, hello Hotshot! \o Jayenkai from SoCoder o/ <br><br></td></tr></table><br>
<a name="2114465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you guys have an OUYA laying around, and don't want it anymore because its "dead", I could really use a donation ^_^ <br><br></td></tr></table><br>
<a name="2114895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Jay <br><br>Happy New Year :-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
