<!DOCTYPE html><html lang="en" ><head ><title >BlitzMax compilation speedup (Windows NT)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzMax compilation speedup (Windows NT)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=112" >BlitzMax Tutorials</a>/<a href="#bottom" >BlitzMax compilation speedup (Windows NT)</a><br><br>
<a name="957936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all, this has only been tested on XP; I don't know if it'll work on Vista or '7 -- this is entirely dependent on whether or not AR RAM Disk works with them, or you can find a similar program. It won't work on non-NT systems, eg. Windows 95/98/Me, unless you can find another RAM drive that works with them.<br><br>It's also perhaps a little advanced and does require a little effort, though you'll get an idea of the difference it can make by only following steps 1 and 2 below.<br><br><b><br>The benefits are:<br><br>1) much faster launching of MaxIDE (or your preferred IDE);<br>2) much faster building of projects;<br>3) much faster building of modules;<br>4) everything just feels so much quicker!<br></b><br><br>Anyway, I've only fiddled with running BlitzMax from RAM a little bit in the past, but if you install a RAM disk that can be assigned a normal drive letter, such as AR RAM Disk, and copy your BlitzMax folder into it, compilation receives a fairly dramatic speedup, as does simply launching the IDE. This makes Max <i>much</i> nicer to use if you're frequently re-building your project!<br><br>If you also copy MinGW to the RAM disk (and update the required environment variables), module compilation speeds up dramatically. Running "Rebuild all Modules" from the IDE goes from a yawn-inducing 4.7 minutes on my system to a mere 1.6 minutes.<br><br>I've spent some time today making this a more permanent setup. To try it for yourself:<br><br>1) Install AR RAM Disk from <u><a href="http://www.arsoft-online.com/index.php?option=com_content&amp;view=section&amp;id=6&amp;Itemid=45" target="_blank">here</a></u>.<br><br>After installation, the Settings dialog is displayed (which you can later access from the Control Panel). Make sure it's enabled, set the drive letter to whatever you want (I use Z:), set "Startup Type" to "Automatic" and "Operating Mode" to "Emulate a local hard disk". On the "Geometry" tab, set the required size in MB, bearing in mind that it needs this much free memory (real memory, not virtual!). BlitzMax stripped down a little should only need around 40 MB; MinGW needs about another 65 MB, though it's only really needed if you're compiling modules.<br><br>Reboot, and the RAM disk should hopefully appear in My Computer. You can access it like any other drive from there. (In fact, I put my system pagefile in there!) If it doesn't appear, you may need to set a lower size and reboot. (If your computer has, for example, 512 MB, and you set the RAM disk to use 256 MB, there may not be enough <i>physical</i> memory left once Windows has loaded for the RAM disk to work.)<br><br>2) Depending on the size of your RAM disk, you may want to copy the BlitzMax folder to another place on your hard drive and strip it down: you can safely delete the \samples folder, plus anything in \tmp (and maybe \docs if you don't need them). I also used <a href="http://upx.sourceforge.net/" target="_blank">UPX</a> on all the exes (MaxIDE and the contents of \bin), though this is overkill really.<br><br>If you have a large enough RAM disk, you can just copy your existing BlitzMax folder into it. (I'd still recommend clearing out \tmp at least -- delete everything.)<br><br>[<i>You can run BlitzMax from this point to see the difference, particularly on rebuilding modified projects, or if you have Quick Build turned off.</i>]<br><br>3) For faster module compilation (and a slight boost to general compilation) you can also copy your existing MinGW folder to RAM <i>and set the relevant environment variables as per <a href="/posts.php?topic=72892#814825" target="_blank">Mark's post here</a></i>. Set the "MINGW" variable to point to the new MinGW folder in the RAM disk (in my case, it's Z:\MinGW). If you have MinGW set up correctly, you'll also have a reference to MinGW's \bin folder in your PATH variable. I strongly recommend modifying this, replacing the absolute path (eg. "C:\MinGW\bin") with %MinGW%\bin (note % sign either side) -- this means that you only need to modify the MINGW variable if you want to change the location at any point.<br><br>Even just using this to rebuild all modules is worthwhile, time-wise -- once complete, you can just delete your 'proper' BlitzMax\mod folder (the one on the hard drive) and replace it with the newly-built mod folder from the RAM disk.<br><br>[<i>Run BlitzMax and select "Rebuild all Modules" from the IDE's Program menu to see the improvement.</i>]<br><br>4) You can gain a minor speedup by copying your project into the RAM disk, but obviously you run the risk of losing it if your system crashes. Doing this really doesn't make as much difference as having BlitzMax and MinGW in RAM, though. Perhaps on large projects with many IncBin'd resources it'd be worth doing, as long as you back up to the hard drive regularly.<br><br>I've written a little program that copies my customised BlitzMax folder (plus MinGW) into the RAM disk on startup, and another to launch it from the new location (copying Max/MinGW if they're not in RAM), and everything is just so much snappier! (I've set my MINGW variable to permanently point to the RAM folder. It doesn't matter if the MinGW folder hasn't been copied -- you can just do it when you want to build your modules.) <br><br></td></tr></table><br>
<a name="957983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the website: It's been discontinued, and does not support vista and/or 64-bit windows.<br><br>Of course, if you're using this, you also need to make sure that you copy any changes back from the RAM drive to the harddrive when you're doing things like adding / recompiling modules...<br><br>(I my case, I'm sure that the BlitzMax folder is *way* too large for this to be of any use: Somehow there's 107.000 files, taking up 2GB. (This does NOT include any of my own sourcecode, that's stored elsewhere))<br>'just' making a copy to RAM would take forever. <br><br></td></tr></table><br>
<a name="958056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt that it can become significantly faster than it is on my box right now, as the main part of the compilation comes from process launching. My system takes something around 2 min to fully recompile pub, brl and maxgui + vertex + diablo + 2-3 other mod folders. And the mod folder that takes by far longest (and is the least usefull) is the maxgui fltk one which is totally worthless on Vista64 :)<br><br>So I would guess that the simpler solution is to get a 4 disk RAID5 system and a sweet little Core i7 Tri-Channel-RAM-Setup on Vista64. That setup also offers benefits in all the other situations outside of BM <br><br></td></tr></table><br>
<a name="958168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Surely there are other ram disks out there?<br><br>I might look into this to see if there's some way to do it on a Mac.<br><br>Thanks James. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
