<!DOCTYPE html><html lang="en" ><head ><title >Does Maxgui draw a panel twice after setshape?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Does Maxgui draw a panel twice after setshape?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >Does Maxgui draw a panel twice after setshape?</a><br><br>
<a name="1144635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I want to ask is: <br>If panel A. is created onto panel B., with all sides aligned, and I do a SetGadgetShape panel B., followed by a SetGadgetShape panel A., does Maxgui draw panel A. twice?<br>And (more importantly): if so, can this be prevented? <br><br></td></tr></table><br>
<a name="1144698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If panel A. is created onto panel B., with all sides aligned, and I do a SetGadgetShape panel B., followed by a SetGadgetShape panel A., does Maxgui draw panel A. twice? <br></div><br>Yes.<br>But why would you do a SetGadgetShape for both, if all sides are aligned? If there is nothing special going on it would be enough to resize the parent. <br><br></td></tr></table><br>
<a name="1144712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @jsp<br>Indeed, something special is going on. ;)<br>In panel A I have a bunch of buttons and whatnot, and via a hook I monitor the size of Panel B and draw A in a different shape and position, when certain size-conditions of B are met.<br>So I want A to resize with its Parent, but not in the same rate.<br>I figured that an other layout of the edges wouldn't make a difference?<br>Or does it work in such a way, that Panel A is not redrawn by Maxgui if its shape is independent of B? (EDGE_CENTERED?) <br><br></td></tr></table><br>
<a name="1144856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends a how the gadgets on top look like and their position.<br>Do you may have a picture before and after? <br><br></td></tr></table><br>
<a name="1144873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no pictures, because I haven't finished this part yet.<br>But it's not that difficult.<br>Imagine a large panel and a smaller panel inside, filled with square buttons.<br>The small panel needs to stay as snug as possible around its content.<br>So if the large panel stretches its width, the small one does also, until <br>there is enough room for the buttons to fill the gab, and get re-aranged to the bottom left or right. At witch point the topside of the small panel<br>drops until it hits the top of the highest buttons. (it also works the other way around)<br>So if I resize the large panel, change the shape of the small one and <br>re-arange the buttons, are the buttons drawn three times? <br><br></td></tr></table><br>
<a name="1144911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sorry, but all align stuff is only meant to adjust the position or size depending of the parent size and it will only align, relative or center to a certain edge.<br>From what I read you want it to jump into a new position, the gap, and that is not possible by SetGadgetLayout. <br>You have to do it by code, calculate the gap and then reposition the button.<br>But maybe you do that already and just don't want the buttons moving while the gap gets bigger, then use SetGadgetLayout and fix one corner of the buttons, for example the bottom left. Align to bottom left and leave the other edges centered, the gap will then appear on the right side.<br><br>And yes the buttons may drawn 3 times, but that does not have to be a problem, you need to check if it flickers too much. <br><br></td></tr></table><br>
<a name="1144914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blitzbasic.com/Community/posts.php?topic=97491" target="_blank">http://blitzbasic.com/Community/posts.php?topic=97491</a><br><br>There are two commands for enable and disable gadget repainting in windows. You may have some use for them! <br><br></td></tr></table><br>
<a name="1144969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @JSP<br>Thanks for your explanation. I've coded my "practice-runs" more or less the way you describe in your advice. It flickered enough to be needing a warning for a possible epileptic attack, if watched for more than 5 minutes. HA!<br>@Jon<br>Wow! This works like a charm! <br><br></td></tr></table><br>
<a name="1144971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good stuff! A note though, those commands are windows only. On the mac you shouldn't need to worry about it as rendering is handled differently. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
