<!DOCTYPE html><html lang="en" ><head ><title >System dependent DrawText error</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >System dependent DrawText error</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >System dependent DrawText error</a><br><br>
<a name="776769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bubbz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Somebody commented that a MaxGUI program i'd written (see <a href="http://on.plu.to" target="_blank">http://on.plu.to</a> ) didn't run on their XP SP2 machine. I had tested it on several xp machines (including SP2) without a problem, but have since been able to find a machine that replicates their problem.<br><br>On the effected machines the program runs then crashes the first time it tries drawtext to one of the canvases. If I run a debug build from the MaxIDE i get an 'Unhandled Exception:Unhandled Memory Exception Error' on the line:<br><br><pre class=code>
DrawText("0",20,graphysize-20)
</pre><br><br>The variable graphysize has been defined and is used without a problem a few lines before, removing the variable from the line makes no difference to the error. I'm currently using Brucey's fontconfig, but the error occurs without it too. The program usses two canvases and the first one has already used drawtext successfully when this error occurs. <br><br>What puzzles me most is that this error only occurs on certain pc's, the program works fine on the majority of machines i've tested it on. Has anybody come across this issue before, or can you suggest a solution? I've failed to replicate it in a shorter piece of code. I'm really puzzled. <br><br></td></tr></table><br>
<a name="776774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem maybe due to 2 canvases. Some graphicscards doesn't support multiple graphics devices. <br>I would try to change the graphicsdriver to OpenGL or if you already have done this, then change to DX on windows. <br><br></td></tr></table><br>
<a name="776817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bubbz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> klepto2: thanks for the reply, i've checked and this is not the cause of the error.<br><br>I wrote another quick gui program with two canvases on one of the problem machines and successfully used drawtext to write on both of them.<br><br>In my main program, I have actually already used drawtext on the canvas prior to the crash (in a different font, although it still crashes even if I don't change the font).<br><br>A few days ago I tried adding lots of extra drawtext commands in/around the problem part of the code and there seemed no pattern to which one it crashed on. For a particular piece of code it always crashed on the same one, but by adding/removing/changing the positions of the drawtext commands I could make it crash on a different one with no obvious reason why.<br><br>I am an inexperienced programmer, but the fact that my code runs on most machines suggests to me that this isn't an obvious error I have made. I would appreciate any help!<br><br>Thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
