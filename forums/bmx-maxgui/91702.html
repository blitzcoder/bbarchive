<!DOCTYPE html><html lang="en" ><head ><title >Windows as childs into a window ( MDI? )</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Windows as childs into a window ( MDI? )</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >Windows as childs into a window ( MDI? )</a><br><br>
<a name="1043656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ShadowTurtle</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>i need to make a window into a another window. The way is normaly WinApi, yeah, but i do ask here about something like a small code snippet wich works bugfree &amp; compilant to MaxGUI.<br><br>As you have (possibly) already read out of my posting: I do need this eventualy only for windows. Crossplatform i do accept too :D<br><br>You must see this: Windows != Mac. I can not doing open 8+ windowses parented to the desktop. More windowses/applications will come up and as user i doing lost the overview. The task manager etc. are not build to supporting this cheme. Therefore MDI was build. MDI closes the (past) design hole M$ did.<br>Ok in win7 you can make the mac style windowings. The taskmanager etc. in win7 is now prepared for this. But i do need my application workable/overview-able in older windows versions.<br><br>Something like this i do need:<br><img src="http://www.functionx.com/mfcfundamentals/lessons/images/MDI1.gif"><br><br>"Visual Studio" and "Borland C++ Builder" have good MDI Librarys wich are fast in use etc.<br>but i do need blitzmax this time. <br><br></td></tr></table><br>
<a name="1043691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends on what you need, the old MaxGui could use MDI, the window stype to activate it was WINDOW_CHILD. <br>If you want to stay with the current version you can set the window parent yourself (see code below, windows only).<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Import MaxGui.Drivers


Local Window1:TGadget = CreateWindow:TGadget("Window1",370,151,494,277,Null,WINDOW_TITLEBAR|WINDOW_RESIZABLE |WINDOW_STATUS |WINDOW_CLIENTCOORDS )
	Local ChildWindow3:TGadget = CreateWindow:TGadget("ChildWindow3",59,159,99,105,Window1:TGadget,WINDOW_TITLEBAR|WINDOW_TOOL |WINDOW_CHILD)
		SetGadgetParent(ChildWindow3,Window1)
	Local ChildWindow2:TGadget = CreateWindow:TGadget("ChildWindow2",59,35,99,105,Window1:TGadget,WINDOW_TITLEBAR|WINDOW_TOOL |WINDOW_CHILD)
		SetGadgetParent(ChildWindow2,Window1)


Repeat
	WaitEvent()
	Select EventID()
		Case EVENT_WINDOWCLOSE
			Select EventSource()
				Case Window1	Window1_WC( Window1:TGadget )
			End Select

	End Select
Forever

Function Window1_WC( Window:TGadget )
	End
End Function

Extern "win32" 
   Function SetParent(Child:Int,Parent:Int) = "SetParent@8" 
End Extern 

Function SetGadgetParent(Child:TGadget,Parent:TGadget) 
   SetParent(QueryGadget(Child,QUERY_HWND),QueryGadget(Parent,QUERY_HWND))
	Child._setparent(Parent )
End Function 
</textarea> <br><br></td></tr></table><br>
<a name="1043748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ShadowTurtle</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the snippet but it seems to do not work correctly on windows 7<br><br>is there a another gadget needed to be placed into the main window? Something like a scrollpanel?<br><br>at moment i am thinking about making a own window system (the child windows are created via maxgui gadgets). But it costs time and does propbably not work on every windows version.<br><br>Is there realy no working way via winapi already? What have i forgotten to do make this snippet working?<br><br>Using old maxgui is out of question, the new one is preferred.<br><br>You must see this: Windows != Mac. I can not doing open 8+ windowses parented to the desktop. More windowses/applications will come up and as user i doing lost the overview. The task manager etc. are not build to supporting this cheme. Therefore MDI was build. MDI closes the (past) design hole M$ did.<br>Ok in win7 you can make the mac style windowings. The taskmanager etc. in win7 is now prepared for this. But i do need my application workable/overview-able in older windows versions.<br><br>actualy the snippet showed me the following bug:<br><br>1. i become the following window<br><img src="http://www.shadowturtle.de/files/misc/bug-screens/problem_screen_1.jpg"><br><br>2. moving child windowses does not work. The main window is by now the master of all. The child child windowses are "unclickable".<br><img src="http://www.shadowturtle.de/files/misc/bug-screens/problem_screen_2.jpg"> <br><br></td></tr></table><br>
<a name="1043787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> While this is working fine under XP I just tested it with Win7 (don't have access all the time) and you are right, you can't click or move the child windows. I tried to set the WS_CHILD or WS_EX_MDICHILD parameter on top, but there is still no joy with win7, while again XP acts on it immediately.<br>Not sure what's wrong with win7 here, I searched the net but found only some stuff 32 and 64 bit related, sorry.<br><br>But re-reading your post, you may can live without MDI and just parent the child windows to the main window, they would act as one application and the child windows would always be on top, isn't that enough? <br><br></td></tr></table><br>
<a name="1043817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ShadowTurtle</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have great experience with using windows, tasks etc.<br>I know how i do sort my desktop &amp; windowses etc.<br>So it should be enough, yeah. Realy, this should be the way.<br><br>On the other side ...<br><br>There are peoples out (they are the most) wich have problems to sort some opened explorer windowses. They have a other sort of thinking as a power-user.<br><br>Software like Photoshop does use a MDI-alike-Interface. Why not on Mac (as compare to a another os)?<br>Mac-User have some Photoshop Plugins for directly opening the shooted photo into the program available etc.<br><br>Why? No one does realy like many opened windowses. Men does like it sorted. I am a man!<br><br>I do mean.. (additionaly) Why can i not realize a MDI-alike-Interface with MaxGUI via WinApi? Cross-Plattform is not required (today)!<br><br>Ok.. this is a sort of stupid question, as i am byself a programer.<br><br>On the other side ...<br><br>I have realy the possibilities doing byself a "parent&amp;child-windowing system" (PCWS).<br>Some panels an voila i got some minimize &amp; close buttons on the title panel. So i must only doing the maintainer panel moveable and the whole thing sizeable. On top i do set the window maintainer as child of the scrollpanel uber-maintainer erm.. parent..<br><br>So probably i do make a new module and share.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
