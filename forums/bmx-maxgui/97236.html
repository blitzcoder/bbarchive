<!DOCTYPE html><html lang="en" ><head ><title >multiple canvas crash randomly? maxgui directx dx</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >multiple canvas crash randomly? maxgui directx dx</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >multiple canvas crash randomly? maxgui directx dx</a><br><br>
<a name="1128176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey this is really just a post so if anyone comes looking in the future.<br><br>I have been writing an application for months and until yesterday had not experienced issues with the directx drivers when dealing with multiple canvases. All of a sudden a dialogue that uses and then throws away a canvas was deciding it wanted to crash with EXCEPTION_ACCESS_VIOLATION. This has not happened before with a different dialogue that did the same so I couldn't explain why it was happening now.<br><br>I looked into many forum threads and people talked about maxgui destroying the entire directx context when a canvas is freed. This fitted as I debugged the brl dx7 driver and the device was null!<br><br>It turns out I was forgetting to free a custom gadget that contained a canvas and then then something weird was happening under the hood. Maybe the garbage collector? Maybe a timer tick too late that was attempting to paint to the canvas? Whatever was happening to crash was down to the fact that the nested canvas had not been properly freed upon closing the dialogue!<br><br>So to anyone who finds this post, try enforcing that all your canvas are freed by hand and then see if that fixes your problems. It did for me! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
