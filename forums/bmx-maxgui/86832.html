<!DOCTYPE html><html lang="en" ><head ><title >Proposed Multi Column List Box API</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Proposed Multi Column List Box API</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >Proposed Multi Column List Box API</a><br><br>
<a name="984464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, I've had a play around with this over the last few days and have been experimenting with various different API systems that could be employed.  For me to implement this, I would want to make the API as simple and uncluttered as possible, and so propose having the following function set:<br><br><b>SetGadgetColumns(</b> gadget:TGadget, strColumns$[], intWidths:Int[] = Null, intFlags:Int = Null <b>)</b><br><br><b>SetGadgetColumn(</b> gadget:TGadget, index, text$, width, flags <b>)</b><br><b>GadgetColumnText$(</b> gadget:TGadget, index <b>)</b><br><b>GadgetColumnWidth(</b> gadget:TGadget, index <b>)</b><br><b>GadgetColumnFlags(</b> gadget:TGadget, flags <b>)</b><br><br>A character, say "~0" or "~t", is defined as being column separator for the text in the rows, and helper functions such as...<br><br><b>SetGadgetItemText(</b> gadget:TGadget, rowIndex, text$, colIndex = -1 <b>)</b><br><br>...will allow you to alter the text on a column by column basis if preferable.<br><br>Making a listbox multicolumn would be as simple as:<br><pre class=code>Global listbox:TGadget = CreateListBox( 0, 0, ClientWidth(window), ClientHeight(window), window )
SetGadgetColumns( listbox, ["First Column", "Second Column", "Third Column"] )</pre>...or if you want to specify the column sizes at the same time...<br><pre class=code>Global listbox:TGadget = CreateListBox( 0, 0, ClientWidth(window), ClientHeight(window), window )
SetGadgetColumns( listbox, ["Column 1", "Column 2", "Column 3"], [100, 200, 100] )</pre>Then items can be added like so:<br><pre class=code>AddGadgetItem listbox, "Yay!~tMulticolumn Support~tIs Cool!"</pre>...and if I wanted to change just one of the cells, I could just do...<br><pre class=code>SetGadgetItemText listbox, 0, "Is Awesome!", 2   'set the third column in the first row.</pre><br>How does this sound?  For multi-column list boxes, this seems perfect - obviously any future table/property-grid gadget would have a more complex API. <br><br></td></tr></table><br>
<a name="984467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes! This would be awesome for multi-column list boxes! I may have obscured my intention with bringing up the table gadget, so just forget that. :) I think it would be a great addition to MaxGUI to have a listbox with columns, no tables.<br><br>Also, maybe some of these?:<br><br><b>SetGadgetColumnText(</b>gadget:TGadget, index:Int, newtext:String<b>)</b><br><b>RemoveGadgetColumn(</b>gadget:TGadget, index:Int<b>)</b> <i>(this would also remove all cells associated with this column)</i> <br><br></td></tr></table><br>
<a name="984470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh!! Great! <br><br></td></tr></table><br>
<a name="984476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would you envision to be able to sort by column with such an implementation as well, or would you consider that a feature of the table/property-grid?<br><br>Also, text-only and no images, I presume? <br><br></td></tr></table><br>
<a name="984479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorting - not sure yet. If I can think of a simple way to achieve this, possibly. Probably not though...<br><br>And yep, only supports one one icon per row (on the left hand side like a std. list box). <br><br></td></tr></table><br>
<a name="984509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ideally, sorting should work by some kind of over-ridable call-back so that we can replace it.  Sometimes you have data you want to sort that doesn't necessarily "naturally" sort by built in code using simple less than / greater than logic, dates being an obvious one.<br><br>I was thinking the API might be more along the lines of getting a GadgetItem back for each row (with heading row being e.g. row=0), and have each cell as a GadgetItem within the parent GadgetItem.  Then you can use normal SetGadgetText, etc on these directly.  But maybe I'm future-proofing for a more advances cell based one.  Is it worth having a similar API for both and trying to futureproof? <br><br></td></tr></table><br>
<a name="984545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> SetGadgetColumnText(gadget:TGadget, index:Int, newtext:String)<br>RemoveGadgetColumn(gadget:TGadget, index:Int) (this would also remove all cells associated with this column) <br></div><br>My original API idea was flexible like this in that columns were effectively added/removed/modified much like items are.  This, I assume, is the type of future-proofing advanced behaviour Mark T is referring to.  The problem lies with the fact that this naturally implies that columns and data are intrinsically connected, and each 'cell' in the table must have its own specific data associated with it.  This would provide the necessary support to implement an effecient column moving/deleteing/reordering commandset. <br><br>Despite this being really quite neat for table gadgets, for multi-column listboxes, it would require quite a big overhead of code on each platform to implement this behaviour, and not to mention, it would effectively mean having two APIs for handling items in a listbox: one that is column aware and based on the cell paradigm; and the current implementation based on a linear list of items.  <br><br>Besides all this, the listbox control doesn't see the data as cells - it sees it as rows (which may or may not have columns in them).  Columns are an attribute of the listbox, not the data - they are in effect, mutually exclusive. Deleting a column from a listbox, should only affect the display of the data in the listbox - not the data themselves.  Put another way, the listbox columns aren't intrinsically linked in any way to the pseudo columns in the row text.<br><br>So in essence, if we were to implement it using the more flexible API, it would no longer be a multi-column list box we were implementing - it would be a table gadget.<br><br>However for your run of the mill, OS standard, multi-column text listboxes I feel the API I have proposed above is exactly the tack we should take.  Nothing more than we need (to avoid complication), and nothing less (to make it practical to implement). <br><br></td></tr></table><br>
<a name="984551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're right. I remember reading a while back on multi-column listboxes and how items where added and removed. I had forgotten that they were added as full rows and not "put this item under this column, etc".<br><br>So scratch those two functions. I suspect it would just be easier to call <b>SetGadgetColumns</b> again to remove/add/change title/change width of columns?<br><br>:) Everything I mention always seems to be pointing to a table gadget, which is really not what I mean... or is it? :P (Joking) <br><br></td></tr></table><br>
<a name="984554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I suspect it would just be easier to call SetGadgetColumns again to remove/add/change title/change width of columns? <br></div><br>Precisely, or use the <b>SetGadgetColumn(</b> gadget:TGadget, text$, width, flags <b>)</b> function to set it on a column by column bases without having to redefine the others. <br><br></td></tr></table><br>
<a name="984557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Precisely, or use the SetGadgetColumn( gadget:TGadget, text$, width, flags ) function to set it on a column by column bases without having to redefine the others. <br></div><br>Nice. That makes it a lot easier. :)<br><br>But, with that function wouldn't it be just like <b>SetGadgetColumnText()</b>? How will you know what column is being changed? <br><br></td></tr></table><br>
<a name="984559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How will you know what column is being changed? <br></div><br>I'm not sure that I fully understand your question.  The 'column by column' indexing is on a gadget basis, instead of being related to the data.  The gadget is aware of how many columns have been set simply from the length of the string array passed to <b>SetGadgetColumns()</b>.  The columns will then be labelled with indices, (with column 0 being the column with the name set to the zeroth element in the string list etc.) and so can be accessed using the indices after an initial <b>SetGadgetColumns()</b> call. <br><br></td></tr></table><br>
<a name="984662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I mean: What's the purpose of <b>SetGadgetColumn()</b>? I understand what <b>SetGadgetColumns()</b> does. :) Sorry, I really didn't make that clear.<br><br>It seems like <b>SetGadgetColumn()</b> is a combination of SetGadgetColumnText() and SetGadgetColumnWidth() but it doesn't have an index parameter. So how will you know which column is being updated? <br><br></td></tr></table><br>
<a name="984664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sensible argument there.  Presumably each row will be a gadget item.  So you use AddGadgetItem and get the row's gadgetitem back, then can use ModifyGadgetItem to set everything for the row including icon, text, etc, and RemoveGadgetItem to remove.<br><br>If the above is true, maybe you could still use the 0 (or -1?) index as the column headers, and hence to set the column headers up, using e.g. ModifyGadgetItem "1|2|3".  I don't think it quite works, as I can't see how you set widths / flags, etc on each column.<br><br>Also, I'd suggest considering use of | as the separator as (from memory) that's used elsewhere in maxgui...tooltips for toolbars I think? <br><br></td></tr></table><br>
<a name="984725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Ked: <br><br>Ah... I see - <b>SetGadgetColumn()</b> is indeed missing an index parameter. My mistake, when typing out the post.<br><br>Hope that clears things up. :-) <br><br></td></tr></table><br>
<a name="985070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, much better! :) Thanks. <br><br></td></tr></table><br>
<a name="999172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Space_guy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> So any news on this? I would love to use this as I switched to develop more on mac and so far I used the win32 hacks to make it work. <br><br></td></tr></table><br>
<a name="999208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me too <br><br></td></tr></table><br>
<a name="999216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alas, the API has been locked down for the time-being until we decide what we're going to do, going forward (see <a href="/posts.php?topic=86945" target="_blank">MaxGUI Roadmap</a> thread). <br><br></td></tr></table><br>
<a name="999276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know you guys are busy but that thread hasn't been updated either in three weeks. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
