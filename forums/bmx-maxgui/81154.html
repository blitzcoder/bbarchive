<!DOCTYPE html><html lang="en" ><head ><title >EVENT_MOUSEWHEEL - weird values</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >EVENT_MOUSEWHEEL - weird values</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >EVENT_MOUSEWHEEL - weird values</a><br><br>
<a name="914037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to geht the mouse coords when using the mousewheel over a canvas gadget, but the x and y field of the mousewheel event object are returning weird values.<br><br>What do they return? How can I get the real mouse coords relative to the left top corner of the canvas (or window)?<br><br><pre class=code>
Strict 

Local window:TGadget

window = CreateWindow("My Window", 40, 40, 320, 240) 
Local c:TGadget = CreateCanvas(10,10,50,50,window)

While True
	WaitEvent 
	Select EventID()
		Case EVENT_WINDOWCLOSE
			End
		Case EVENT_MOUSEWHEEL
			DebugLog CurrentEvent.x + "/" + CurrentEvent.y
		Case EVENT_GADGETPAINT
			SetGraphics CanvasGraphics(c) 
			cls
	End Select
Wend
</pre> <br><br></td></tr></table><br>
<a name="914045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It returns the X,Y position relative to the canvas.<br>just verify that the position is within it before proceeding.<br><br>I believe it is this way so that one can scroll over any part of the ui without having to click it first. (although one does have to click the canvas before any events get fired) <br><br></td></tr></table><br>
<a name="914912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm.... in my app they WM_MOUSEWHEEL  x/y eventdata are providing other values than for example WM_MOUSEMOVE. Its not X/Y position relative to the canvas. <br><br></td></tr></table><br>
<a name="914932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats odd, what OS are you running on?<br>Im on Windows XP and using MaxGUI.Win32MaxGUIEx.<br><br>If the mouse is within the canvas, i get the correct position.<br>But outside the canvas, or even outside the window i get negative values when on the left/upper side and positive values otherwise. <br><br></td></tr></table><br>
<a name="914953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >maverick69</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> WindowsXP over here...<br><br>I get negative values even inside the canvas. Weired - if I move the window (the group of the canvas) the coords are chaninging??? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
