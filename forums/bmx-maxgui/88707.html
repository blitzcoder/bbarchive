<!DOCTYPE html><html lang="en" ><head ><title >The "Main" menu in OS X - How to use it?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >The "Main" menu in OS X - How to use it?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >The "Main" menu in OS X - How to use it?</a><br><br>
<a name="1007309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I run my OS X BlitzMax app, the app itself has a "Main" menu. How do I reference/use this menu in my app?<br><br>I want the menu to reflect the name of the app itself (as with every other Mac app), and I also want to add a "Preferences" menu item to it. AppTitle doesn't appear to have any effect on it.<br><br>Is this actually possible in BlitzMax?<br><br>Ta <br><br></td></tr></table><br>
<a name="1007383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not with the "default" app menu, which is a custom creation of BlitzMax.<br><br>But there are ways around it. For example wxMax and QtMax both have the ability to create ones own, and work with it. They both do it in slightly different ways.<br><br>So, it's certainly possible. <br><br></td></tr></table><br>
<a name="1007435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Brucey. I'll take a look at those.<br><br>It's a shame BlitMax doesn't support it out-of-the-box. <br><br></td></tr></table><br>
<a name="1007457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has QtMax died? The google code pages are empty, and there's no download there!? <br><br></td></tr></table><br>
<a name="1007459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> No. It's still work-in-progress. I just mentioned it as a point that it's possible to work around the problems with the built in stuff.<br><br><br>Of course it all depends on what you want to do... if you are working on mostly graphics based stuff, or a more complex GUI app. <br><br></td></tr></table><br>
<a name="1007462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah. I see. Thanks<br><br>I think BlitzMax's "Main" menu looks a bit naff (an inconsistent with the norm), so I might end up going back to C# and Mono. I don't really want to have to change from cocoa just becauseMax doesn't let me work with the app's main menu. What a shame. I was starting to enjoy working with Max again.<br><br>Thanks for your help though. <br><br></td></tr></table><br>
<a name="1007469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just giving the menu the same title as the app would've been good enough. Ideally, I'd have liked to add my "About" and "Preferences" menu items to the main app menu. I wonder why BLR just set it to "Main" and left it at that? <br><br></td></tr></table><br>
<a name="1007475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Cocoa code for the menu is in brl.mod/appstub.mod/appstub.macos.m, if you are interested.<br><br>It's actually quite possible to implement your own appstub module if you don't want to change the original.<br>I had a new option added to bmk (the build system), -b, which lets you specify the one you want.<br><br>Possibly with a bit of work, it should be doable to add some extra functionality. <br><br></td></tr></table><br>
<a name="1007480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah. Thanks again. I'll take a look (not that I know what I'm looking for ;)).<br><br>I've can see the method and call...<br><br><pre class=code>
createAppMenu( [NSString stringWithCString:p] );
</pre><br>...but I have no idea what stringWithCString is or what value is being passed in. Google, here I come! <br><br></td></tr></table><br>
<a name="1007487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah. I see. If I change the name of my source file, the main menu will be named accordingly!<br><br>It's a start :) <br><br></td></tr></table><br>
<a name="1007502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >d-bug</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you like, you can also use <a href="http://www.chaos-interactive.de/en/cocoaext/" target="_blank">CocoaExt</a>. It has support for adding menu items to the application menu and some other extended gadget features. Its still beta, but the menu part is working well at the moment.<br><br>The following code adds the Preferences Item to the application menu:<br><pre class=code>Local MyPreferencesMenu:TGadget = CocoaCreateMenu("Preferences...", CocoaApplicationMenu(), KEY_COMMA, MODIFIER_COMMAND)</pre><br><br>Keep in mind, that this module doesn't support menu tags or the original MaxGUI localization for the extended gadgets. It uses the original localization functionality of OSX, where you have to add a language.lproj folder into your bundles resources folder and add a localized.strings file to it. <br><br></td></tr></table><br>
<a name="1007509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Murilo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks d-bug - That looks great!<br><br>Taking a look now... <br><br></td></tr></table><br>
<a name="1054549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry to resurrect this thread, but I tried the CocoaExt technique mentioned here, and while it added a Preferences menu item to the Application Menu, it is grayed out and I can't figure out how to enable it.  What do I have to do to make it not grayed out? <br><br></td></tr></table><br>
<a name="1054556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhans0n</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I see what's happening.  I'm creating the window with a Graphics call instead of creating it using MaxGUI. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
