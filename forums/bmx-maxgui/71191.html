<!DOCTYPE html><html lang="en" ><head ><title >Canvas performance?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Canvas performance?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >Canvas performance?</a><br><br>
<a name="795717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr. Write Errors Man</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I had planned to use ordinary 2D graphics for my game, but I just realized that HTMLViews and TextAreas could make some parts of the game a lot easier to code.<br><br>How does canvas perform if compared to ordinary 2D graphics? I guess it's slower, but how much slower? Has anyone done any tests? Experiences?<br><br>Do canvases have some kind of automatic buffers so that I don't need to redraw them every frame - only when I really need to update their contents?<br><br>I read that overlapping canvases can cause some problems? Is that still a real problem?<br><br>Any other issues I should be aware of?<br><br>And the last question: Is there any way to make a HTMLViewer to display a string (that holds HTML code), or do I need to use temp files or JavaScript code to change HTMLViewer's content?<br><br>Thanks!<br><br>-AF <br><br></td></tr></table><br>
<a name="795919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Overlapping Canvases will ever cause problems, as canvases are not regular gadgets, they are not meant to be put above others and have other gadgets put above them.<br><br>If you need to redraw them its up to you, you will just have to react to the GadgetRepaint event.<br><br><br>Performance is around the regular max2d in windowed mode, fullscreen will always be faster.<br><br><br>HTMLView reads from files but those files can be created as TStream as well and read from there. so an own THTML object or the like where you change parts of it and that updates a TStream source should work without problems. <br><br></td></tr></table><br>
<a name="795926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr. Write Errors Man</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your reply.<br><br>Will HTMLview over a Canvas cause problems? So far in my limited tests it has worked ok.<br><br>What I mean with Canvas redraw is that for example HTMLView gadget doesn't need to be redrawn every frame by code - it handles it itself. Is Canvas like this too: I can update its contents when I want to, but otherwise it will automatically display its contents? Or do I need to redraw the Canvas everytime I get a GadgetRepaint event? My limited tests would seem to indicate that I only need a Flip in GadgetRepaint, but can I trust that it works in all situations?<br><br>I think I will use the JavaScript approach to changing HTMLView content, because it's easier and more flexible than using TStream.<br><br>Regular Max2D windowed mode performance sounds good to me.<br><br>-AF <br><br></td></tr></table><br>
<a name="795931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It can work but it can break as well. There is no guarantee.<br>At best you never put any other gadget above a canvas<br><br><br>And using a TStream is highly flexible if you create your own object that handles the "dynamic parts" you can change or that it updates itself and just rewrites the stream to load the HTML from.<br><br>Java script will have its problem: its not god, wherefrom shall it know any of the informations? it can't access BM data. <br><br></td></tr></table><br>
<a name="795937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr. Write Errors Man</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, if I can't put a gadget over a Canvas then there's no way I can use HTMLViews. It seems to me like a bug of a system breaking scale.<br><br>JavaScript can alter everything the HTMLView contains and you can call JavaScript functions from BM. The needed JavaScript function is one line long - the rest is all done in BM.<br><br>-AF <br><br></td></tr></table><br>
<a name="795956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr. Write Errors Man</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This feels "a bit" like a hack, but since Panels can contain other gadgets and Panels can have a pixmap as a background, I could grab a pixmap of the Canvas' contents and use it as the background for the panel and then hide the Canvas, show the Panel and display the HTMLview on top of the Panel. :)<br><br>-AF <br><br></td></tr></table><br>
<a name="796105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just posted some code illustrating children of canvas drawing correctly infront <a href="/posts.php?topic=71227" target="_blank">here</a>. <br><br></td></tr></table><br>
<a name="796606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mr. Write Errors Man</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! :)<br><br>-AF <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
