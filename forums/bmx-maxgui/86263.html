<!DOCTYPE html><html lang="en" ><head ><title >MaxGUI Users: Am I OK to proceed?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MaxGUI Users: Am I OK to proceed?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >MaxGUI Users: Am I OK to proceed?</a><br><br>
<a name="977503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Peeps,<br><br>There is quite a big discrepancey in how toolbars affect a window's client area across the MaxGUI drivers, but in order to do something about it may mean that a few gadget positions have to re-set to account for the elimination of the y-offset.  Let me explain...<br><br>On Windows, when a toolbar is added to a window, the toolbar is simply positioned at the top-left corner of the client area pretty much like any other gadget.  This means that if you want to add a gadget to your window, you have to effectively add an offset of the toolbar height to all your gadgets.  If you then draw gadgets at, say, (0,0), they will be lost/hidden/drawn-over the toolbar.  This is quite easily worked around when realized, but it's a bit yucky as if the toolbar height changes you have to update the offset for all of your gadgets.  Iirc, FLTKMaxGUI has this same behaviour.<br><br>However, on Mac OS X, the toolbar is part of the window frame, and so adding a toolbar pushes the client area of the window down.  Gadgets created at (0,0) are added to the origin of the client area, and so will appear under the toolbar as expected.  <br><br>Now there is an obvious discrepancy here in where gadgets will be positioned on each platform and I really think this should be normalized so that gadget positioning is the same across all platforms.  People coding apps with toolbars will no doubt have had to use compiler directives to work around this up until now.  To me, the Mac system is much cleaner, MaxGUI (as the application framework) is looking after everything for you, so if I was to normalize this behaviour, this would be the convention the other Windows and FLTK modules would adopt.<br><br>However, this will mean that when you Windows guys recompile your apps with the new MaxGUI, you will have take off this offset from any gadgets you have parented directly the client window.<br><br>So the question is, would you guys be OK with having to do this once when the new MaxGUI is released, or would you prefer I left it and you can work around the issue with compiler directives like has always been the case?<br><br>Place your votes! <br><br></td></tr></table><br>
<a name="977506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think its a necessary evil... and really not that much work <br><br></td></tr></table><br>
<a name="977511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool!<br><br>Edit: Actually, I just realized something that might throw a spanner in the works... It may be the case that in order to implement this behaviour cleanly, I have to "fix" the old problem where people were allowed to parent toolbars to panels.  This has never been officially supported in MaxGUI and hence CocoaMaxGUI doesn't support it, but it just works on Windows by complete chance.  This was more a problem when people wanted buttons with icons on them, but people can use <b>SetGadgetPixmap()</b> with standard push buttons now.<br><br>So in summary, I may have to "fix"/"break panels with toolbars on Windows so that it is inline with the other modules.  I expect this is gonna make a lot of people unhappy, so maybe it's best to leave it. <br><br></td></tr></table><br>
<a name="977521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I vote that when a toolbar is added, the client area should be pushed down. <br><br></td></tr></table><br>
<a name="977523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, do it.  Make it right. <br><br></td></tr></table><br>
<a name="977601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use Logic GUI anyway so I don't think it's a problem for me. <br><br></td></tr></table><br>
<a name="977616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like the idea to 'push down' the client area when a toolbar is added, like in Cocoa. <br><br></td></tr></table><br>
<a name="977630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers guys!  I will go ahead and fix this for the next MaxGUI release.  I've made hiding/showing the toolbar also update the client area too so it will be super easy to have a "Hide Toolbar" button in your app.  (Mac users still have their decidated toolbar pill provided by the window managed though, too.)<br><br>Anyone else have any thoughts on the matter?  Leadwerks?  Sswift? <br><br></td></tr></table><br>
<a name="977744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> A very good idea actually, i hate the current behavior, nevertheless it will generate quite some work;) <br><br></td></tr></table><br>
<a name="977754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool... Well it's taken me pretty much an entire day as there are quite a few other bugs and discrepancies that this uncovered in each of the modules, but this should be the new behaviour in the next MaxGUI. <br><br></td></tr></table><br>
<a name="977760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will the window client area adjust when the toolbar is hidden/shown? <br><br></td></tr></table><br>
<a name="977783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Will the window client area adjust when the toolbar is hidden/shown?  <br></div><br>The client-area and window will size itself appropriately whenever a toolbar is created, freed, hidden or shown meaning that, providing all the gadgets have been <b>SetGadgetLayout()</b>'d properly, they'll be positioned automatically. :-) <br><br></td></tr></table><br>
<a name="977785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds good then. <br><br></td></tr></table><br>
<a name="977793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! :-) <br><br></td></tr></table><br>
<a name="978019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds good to me. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
