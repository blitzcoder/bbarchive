<!DOCTYPE html><html lang="en" ><head ><title >How can I cut down *.exe size ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How can I cut down *.exe size ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >How can I cut down *.exe size ?</a><br><br>
<a name="1180273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vmars316</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I notice that even a one gadget maxGui program creates a 3mb+ exe .<br>Is there a way that I can cut that size down ? <br>Is there GL stuff , or other graphics in there that I can cut . <br>Thanks...Vernon <br><br></td></tr></table><br>
<a name="1180293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes -- using Framework &amp; import you can limit the compiler to just include the 'necessary' bits instead of everything.<br><br>By far the easiest way to figure out what your program needs, is to run Framework Assistant. Point it at your code, and it will generate the framework info.<br>Stick it at the top of your program, compile, and see the size drop.<br>Can be downloaded here: <a href="https://sites.google.com/site/jimbrown007/" target="_blank">https://sites.google.com/site/jimbrown007/</a><br><br>If every byte counts and you need to shrink it even further, you can also also run the resulting executable through UPX: <a href="http://upx.sourceforge.net" target="_blank">http://upx.sourceforge.net</a> <br><br></td></tr></table><br>
<a name="1180387"></a>

<a name="1180388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vmars316</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Windows 7 , x64<br><br>Ah , wonderful , just what I was looking for .<br><br>Unfortunately , I can't get past the <br>"Unable to find BlitzMax 'MOD' folder in: C:/BlitzMax/MOD   <br>Please set the correct BlitzMax ROOT folder via Max menu ." <br><br>I tried it all ways  <br>C:\BlitzMax\MOD<br>C:/BlitzMax/MOD <br><br>Still it won't take .<br>I even changed  C:\BlitzMax\MOD  in  fa.ini , <br>and then made  fa.ini  to Read/Only .<br><br>But still no go .<br>If its not read/only then <br>'Framework Assistant.exe' changes it back to  C:/BlitzMax/MOD .<br><br>Pls , what to do next ?<br>Thanks...Vernon <br><br></td></tr></table><br>
<a name="1180412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried to use just Blitzmax folder instead of blitzmax/mod folder? It may be looking for BlitzMax/mod/mod if you do it like this (just guessing) <br><br></td></tr></table><br>
<a name="1180416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Pls , what to do next ? <br></div><br><br>Just manually use the framework command and only include the libs you need.  From memory, this was fairly simple... <br><br></td></tr></table><br>
<a name="1180447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> One simple way without using FA and to get the smallest .exe is to use<br><br>Framework BRL.System<br><br>at the top of the main source file. When you compile, if any source code uses a function from a module that isnt already 'Imported' then you will get an error at that function. Put the cursor over the function and press F1 twice to bring up the help page. Scroll to the very top of the help page and the very first line in the title will tell you which module the function is in. For eg...<br><br><pre class=code>
Strict

Framework BRL.System

While Not KeyDown(KEY_ESCAPE)
	Delay 1
Wend
End
</pre><br><br>When you compile this you'll get a compler error of 'identifier KeyDown not found' or something similar. So move the cursor anywhere over the KeyDown word and press F1 twice to get to the Help Page for KeyDown. Scroll to the very top, the title in blue shows 'BRL.PolledInput' with a link to 'Functions' and 'Source'. So you need to import BRL.PolledInput :-<br><br><pre class=code>
Strict

Framework BRL.System

Import BRL.PolledInput

While Not KeyDown(KEY_ESCAPE)
	Delay 1
Wend
End
</pre><br><br>Keep doing this until it compiles and runs. Hope it helps. <br><br></td></tr></table><br>
<a name="1180450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> When coding 100 lines, a short command demonstration for helping somebody or a app without graphics, you may get smaller exe's...<br><br>But... when you code a normal game, you will see, that nearly all the modules are necessary until you are ready with your game. So the advantage of all this shrinks to insignificance. In theory it is nice , but in praxis you seldom will get an exe below 2MB.<br><br>Today it is irrelevant for user to download or start a 0.5MB or 3MB exe. So don't agonize... <br><br></td></tr></table><br>
<a name="1180452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Unfortunately , I can't get past the <br>"Unable to find BlitzMax 'MOD' folder in: C:/BlitzMax/MOD <br>Please set the correct BlitzMax ROOT folder via Max menu ." <br><br>I tried it all ways <br>C:\BlitzMax\MOD<br>C:/BlitzMax/MOD <br> <br></div><br><br>It's asking for the ROOT folder, not the MOD folder. In your case it would be c:/blitzmax <br><br></td></tr></table><br>
<a name="1180496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >vmars316</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah , "C:/BlitzMax" , that was easy :)<br><br>I compiled the "createlabel.bmx" , <br>in this particular instance it didn't make a difference . <br>But unchecking the "DebugBuild" , <br>dropped .exe size from  3.3mb  to  1.5mb . <br>That helps .<br><br>Thanks All...vm <br><br></td></tr></table><br>
<a name="1180557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Final size greatly depends on the functions you're calling, and what modules you need. I have some command line tools I created with blitzmax that are around ~130Kb in size, and they can shrink to below 50KB after compressing them with UPX. <br><br></td></tr></table><br>
<a name="1180747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just make sure you only call the modules / functions absolutely needed for the app. <br>Btw: UPX was updated to version 3.09 lately. <br><br></td></tr></table><br>
<a name="1180835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another note: If you are using UPX, use the <b> --ultra-brute</b> parameter. It will try 72 different compression methods, and apply the most effective one to your executable (which may vary from program to program) <br><br></td></tr></table><br>
<a name="1180869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> UPX has changed a bit since I last used it.  Is the LZMA flag of any benefit? <br><br></td></tr></table><br>
<a name="1180899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matibee</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just been through this exercise today with my MaxGUI/OpenGL app.  I was already UPX'ing, but I hadn't been through eliminating frameworks.<br><br>Default blitzmax exe : &gt;3mb<br>Framework'ed : &lt;3mb<br>Using png's instead of bitmaps: ~2mb<br>UPX default: 808k<br>UPX ultra: 719k<br><br>You might think that using png's was an obvious one, but not so with UPX'd executables.  Using 1mb worth of bitmaps UPX was able to compress to 804k.  Obviously UPX's compression method is better than png's.<br><br>The --ultra-brute is useful but it's a shame it doesn't report which of the 72 methods was used so I could set that as default until I run another ultra-brute test. <br><br></td></tr></table><br>
<a name="1182460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could also optimise your png via OptiPNG (http://optipng.sourceforge.net/) and reduce the image colour palette (if possible) beforehand. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
