<!DOCTYPE html><html lang="en" ><head ><title >Scintilla TextArea replacement (WIP)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Scintilla TextArea replacement (WIP)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >Scintilla TextArea replacement (WIP)</a><br><br>
<a name="970221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, maybe some of you remember my posted linenumbering screen in the maxide CE thread. Well why to reinvent the wheel if there are alternatives :)<br><br><br>Screen:<br><br><img src="http://i2.photobucket.com/albums/y48/klepto2/scintillabmx.png"><br><br>it works exactly like the Textarea gadget but also offers everything scintilla does plus a Blitzmax lexer ;)<br><br>Currently i'm in the final stage, so next week i will have a download ready :)<br><br><br>[Edit]<br>Direct Download : <a href="http://code.google.com/p/scintillabmx/downloads/list" target="_blank">http://code.google.com/p/scintillabmx/downloads/list</a><br>SVN : <a href="http://scintillabmx.googlecode.com/svn/trunk/" target="_blank">http://scintillabmx.googlecode.com/svn/trunk/</a><br>Latest Version: Revision 9 <a href="http://scintillabmx.googlecode.com/files/ScintillaRev9.zip" target="_blank">http://scintillabmx.googlecode.com/files/ScintillaRev9.zip</a><br>[/Edit] <br><br></td></tr></table><br>
<a name="970260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks good!<br><br>Cross-platform? <br><br></td></tr></table><br>
<a name="970286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <strike>From the home page of Scintilla's project I read<div class="quote"> A free source code editing component for Win32 and GTK+ <br></div>...so no cross-platform unfortunately.</strike><br><br>See my post below, Ked pointed me to the 'truh' (...or - in another way - I need to read carefully all the text...) <br><br></td></tr></table><br>
<a name="970287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> From the home page of Scintilla's project I read &lt;Insert Quote Here&gt; ...so no cross-platform unfortunately. <br></div><br>Actually, I heard from Brucey that it runs on Mac also.<br><br>EDIT: Also, here:<br><div class="quote"> Version 1.74 runs natively on OS X. <br></div><br>Also on the front page of Scintilla's project. :) <br><br></td></tr></table><br>
<a name="970289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Also, here:<br>Version 1.74 runs natively on OS X.<br><br>Also on the front page of Scintilla's project. :) <br> <br></div><br>Oh!!! This is a GOOD news!<br>Thank you! <br><br></td></tr></table><br>
<a name="970290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad I could help. <br><br></td></tr></table><br>
<a name="970366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's next week now. <br><br></td></tr></table><br>
<a name="970391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Linenumbering for the default ide would be great... <br><br></td></tr></table><br>
<a name="970410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It's next week now. <br></div><br>? <br><br></td></tr></table><br>
<a name="970580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, sorry for the delay. I was on a small boat trip.<br><br>Currently it is win only. It would be really nice if it goes multiplattform but as I don't have a mac and as far as i know it only works via gtk on linux I need to find others to built it into maxgui for those plattforms.<br><br>A short status report:<br><br>Scintilla Version used: 1.79 + modified Blitzbasic Lexer to support Blitzmax<br>TextArea compatibility: 99% just printing isn't working at the moment<br>Added Event_GADGETACTION to return an event containing Scintilla Notification Data.<br><br>The code will be available next week. (Maybe via GoogleCode)<br><br>thx for the feedback :) <br><br></td></tr></table><br>
<a name="970641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oooooooh. Interesting! <br><br></td></tr></table><br>
<a name="970752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Want. <br><br></td></tr></table><br>
<a name="971373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>A first Version is now available here : <br><br><a href="http://code.google.com/p/scintillabmx/" target="_blank">http://code.google.com/p/scintillabmx/</a><br><br>Today I will add SVN support and tidy up some things in the code.<br><br>The TScintillaGadget extends TWindowsGadget and is compatible to the TextArea gadget delivered by maxgui. It currently lacks of printing support as well as the event handling isn't managed like the original one. Currently there is only 1 event fired : EVENT_GADGETACTION which contains a TScintillaNotification object in the extra field.<br><br>And a small proof of concept image ;) MaxIDECE with Scintilla:<br><br><img src="http://i2.photobucket.com/albums/y48/klepto2/SciMaxIDE.png"> <br><br></td></tr></table><br>
<a name="971392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very interesting... Would love to see this in the community IDE.<br><br>Did notice one small bug: If you collapse a function at the very end of the source, it still keeps the 'end function' line visible, but when you collapse a function elsewhere those do disappear. <br><br></td></tr></table><br>
<a name="971490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone know how to disable the antialiasing?  It does not look good in a code editor. <br><br></td></tr></table><br>
<a name="971498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it's just due to the weird Blitz color scheme.<br><br>Here is my sample:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">SuperStrict

Framework maxgui.drivers
Import brl.eventqueue
Import "ScintillaCtrl.bmx"


'**************************Sample***************************
Local window:TGadget
Local textarea:TScintillaGadget ' TGadget works as well, but then we need to cast when using scintilla specific stuff

window=CreateWindow("My Window",130,20,800,600,,15|WINDOW_ACCEPTFILES)

textarea = CreateScintillaArea(,,,,Window)
SetGadgetLayout textarea , 1 , 1 , 1 , 1
Local text:String = LoadText("ScintillaCtrl.bmx")
Print "Text length: " + textarea.charcount();
SetTextAreaText textarea,text
textarea.SetLineNumbering(0 , True)
textarea.SetMarginType(1, SC_MARGIN_SYMBOL, 20)
textarea.SetMarginSensitive(1 , True)

SetGadgetLayout textarea,1,1,1,1
ActivateGadget textarea

Local keys:String = ""

Local cmds:TStream = ReadStream("commands.txt")

While Not Eof(cmds)
	Local L:String = ReadLine(cmds)
	Local Key:String = l[l.FindLast("#")+1..]
	keys:+ Key.toLower() + " "
	
Wend


'Highlighting stuff
textarea.SetLexer(SCLEX_BLITZMAX)
textarea.SetLexerKeywords(0 , keys)

Local background:Int=EncodeColor(255 , 255 , 255)

For Local I:Int = 0 To 19
	textarea.SetLexerStyle(SCI_STYLESETFORE , I , EncodeColor(0,0,0))
	textarea.SetLexerStyle(SCI_STYLESETBACK , I , background )
Next

textarea.SendEditor(SCI_SETCARETFORE,EncodeColor(192,192,192))

textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_KEYWORD , EncodeColor(0,0,255))
textarea.SetLexerStyle(SCI_STYLESETBACK , SCE_B_KEYWORD, background) 
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_MULTILINECOMMENT , EncodeColor(0,128,0))
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_COMMENT , EncodeColor(0 , 128 , 0) )
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_NUMBER , EncodeColor(0 , 0 , 255) )
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_STRING , EncodeColor(128 , 0 , 128 ) )
textarea.SetLexerStyle(SCI_STYLESETBACK , STYLE_DEFAULT , background )

'textarea.SendEditor(SCI_SETMARGINMASKN , 1 , SC_MASK_FOLDERS) ;

'textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDER, SC_MARK_PLUS);
'textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDEROPEN, SC_MARK_MINUS);
'textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDEREND, SC_MARK_EMPTY);
'textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDERMIDTAIL, SC_MARK_EMPTY);
'textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDEROPENMID, SC_MARK_EMPTY);
'textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDERSUB, SC_MARK_EMPTY);
'textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDERTAIL, SC_MARK_EMPTY);
'textarea.SendEditor(SCI_SETFOLDFLAGS , 16 , 0)

'textarea.SendEditor(SCI_SETINDENTATIONGUIDES,SC_IV_LOOKBOTH)

'textarea.SetProperty("fold","1")
'textarea.SetProperty("fold.compact" , "0")

'textarea.DoPrint()

Print textarea.GetLexer()

SelectTextAreaText textarea,1,3,TEXTAREA_LINES

Print TextAreaCursor(textarea,TEXTAREA_LINES) 
Print TextAreaSelLen(textarea,TEXTAREA_LINES) 


Print TextAreaText(textarea)


While WaitEvent()
	'Print CurrentEvent.ToString()+" "+EventSourceHandle()
	Select EventID()
		Case EVENT_WINDOWCLOSE
			End
		Case EVENT_APPTERMINATE
			End
		Case EVENT_GADGETACTION
			If EventSource() = textarea Then
				Print EventExtra().ToString()
			End If
	End Select
Wend</textarea> <br><br></td></tr></table><br>
<a name="971515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks really nice. <br>Nevertheless it crashes here when i run the sample.bmx and copy paste several times some text(wanted to get some text in to see how fast the highlight works).<br>It just says process complete. :(<br>Only once it stopped at the WaitEvent() command, but i can't reproduce it. The crash itself was always reproducable after some copy and paste. With bigger text i had the feeling it was earlier. <br><br></td></tr></table><br>
<a name="971519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also got an 'application stopped responding' error after expanding/collapsing a bunch of the nodes. :-/ <br><br></td></tr></table><br>
<a name="971520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using any callbacks with the lexer DLL?  That could cause problems if not handled correctly. <br><br></td></tr></table><br>
<a name="971535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one - I presume it's just a case of calling a new CreateScintillaTextArea first, then use all existing commands?<br><br>If so, very happy to add it is an optional (and probably default for windows) option into CE IDE code, like with turning on gtk or not. <br><br></td></tr></table><br>
<a name="971565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark:<br>That is exactly the way to do. Due to its nature of being an extended TWindowsGadget you can use it with just replacing CreateTextArea with CreateScintillaArea. To get the highlighting cast it to TScintillaGadget and the you can access the additional options. It takes around 20 lines of code<br>to get it to work with linenumbers, folding and highlighting.<br><br>@Josh:<br>There are no callbacks, everything is handled via messaging.<br><br>@All:<br>the random crashes may be caused by a last minute fix I have done and scintilla hardly unforgives wrong parameters like wrong charpositions. <br><br></td></tr></table><br>
<a name="972264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is one of the coolest things I have ever seen for MaxGUI.  Maybe I will make my own code editor. <br><br></td></tr></table><br>
<a name="972323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, revision 4 is up and includes the following changes:<br><br>-The scintilla events(notifications) must now be handled by the user completely. eg previously MARGIN_CLICK was handled in the control.<br>-The internal eventsystem is now is handled like the standard textarea<br>eg: Eventfilter for Keys, GadgetMenu behaviour.<br>-several bugs fixed<br> -wrong selection<br> -ctd on folding (hopefully)<br> -and some other things<br><br><br><br>TODO: <br>-testing some behaviour doesn't work like the standard textarea. Notified in maxides manual undo/redo<br>-implement an easier communication system with scintilla<br> eg: instead of textarea.SendEditor(SCI_UNDO) it should be textarea.Undo() <br>- bug fixes ;) <br><br></td></tr></table><br>
<a name="972341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> hi, revision 4 is up and includes the following changes: <br></div><br><br>Up where?<br><br><a href="http://code.google.com/p/scintillabmx/downloads/list" target="_blank">http://code.google.com/p/scintillabmx/downloads/list</a> still shows that it was last uploaded 3 days ago...<br><br>EDIT: Nevermind, the SVN branch appears to contain the REV 4. <br><br></td></tr></table><br>
<a name="972365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx, for the hint :)<br><br>I've edited the first post to include the link to the download and the SVN repo. <br><br></td></tr></table><br>
<a name="975622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> In Windows XP this crashes as soon as it builds when the debugger is off.  If the debugger is on, it crashes if the first thing I do is click on one of the fold nodes to collapse a section of code.  I am using your sample code, with the latest version downloaded via SVN. <br><br></td></tr></table><br>
<a name="975845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just had a quick look and this is looking nice.<br><br>Have just tidied up the first few lines of <b>TScintillaGadget</b> which you might like to commit:<br><br><pre class=code>Type TScintillaGadget Extends TWindowsGadget
	
	Field _oldSelPos% , _oldSelLen% = 0
	Field readonly:Byte = False
	Field numbers:Byte = False
	Global _pagemargin# = 0.5
	
	Function Create:TScintillaGadget(x:Int = 0 , y:Int = 0 , w:Int = - 1 , h:Int = - 1 , group:TGadget = Null, style:Int = 0)
		
		If w = -1 Then w = ClientWidth(group)-x
		If h = -1 Then h = ClientHeight(group)-y
		Return New TScintillaGadget.Initialize(x,y,w,h,group,style)
		
	End Function
	
	Method Initialize:TScintillaGadget(x:Int, y:Int, w:Int, h:Int, group:TGadget, style:Int)
	
		Local	wstyle:Int, hwnd:Int, parent:Int
		
		Self.style = style
		wstyle=WS_CHILD|WS_TABSTOP|WS_CLIPSIBLINGS
		parent=group.query(QUERY_HWND_CLIENT)
		hwnd=CreateWindowExW(0,"Scintilla","",wstyle,0,0,0,0,parent,0,GetModuleHandleW(Null),Null)				
		Register GADGET_TEXTAREA,hwnd
		
		_SetParent group
		SetShape(x,y,w,h)
		SetShow(True)
		Sensitize()
		
		SendEditor (SCI_SETMODEVENTMASK , SC_MODEVENTMASKALL)
		
		Return Self		
		
	EndMethod</pre> <br><br></td></tr></table><br>
<a name="975906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx will look it later after work :) <br><br></td></tr></table><br>
<a name="976039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SebHoll: thx, I have commited the changes.<br><br>I have also disabled the autolist(intellisense) function as well as the single undostep approach. Tested on a XP virtual machine without crashing.<br><br>Feedback highly needed :) especially from XP users.<br><br><br>thx in advance <br><br></td></tr></table><br>
<a name="976058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just checked out the latest changes and it works quite good (XP SP2).<br><br>I can now paste 100.000 lines of code without problems and also the highlight is very fast (2 sec. On my machine).<br><br>It didn't crash at all for me during testing. Only one thing I noticed which is may not a bug, but I didn't expect: When you highlight some text and your cursor is above or underneath those lines and you press the right mouse button to get the popup menu, it clears your selection. The selection stays when you right click on the highlighted lines!<br><br>And I found some debugstop concerning font handling...<br><br>Is it possible to add the Rem – End Rem to the folding? <br><br></td></tr></table><br>
<a name="976072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> With your latest upload, the sample program no longer crashes when I click on the open/close nodes on the left side.  I am testing on WinXP with SP3. <br><br></td></tr></table><br>
<a name="976107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> This would be very nice for either the official IDE or the CE. I took at look at making a module like this but gave up after a while, glad to see someone staying the distance because scintilla would really improve the current freely available blitzmax IDEs. <br><br></td></tr></table><br>
<a name="976129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> No kidding... <br><br></td></tr></table><br>
<a name="976241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thx for the feedback and help to find the bug.<br><br>Hopefully the bug is fixed :) new Revision up and also a new<br>download package containing the actual source + dll.<br><br><a href="http://scintillabmx.googlecode.com/files/ScintillaRev9.zip" target="_blank">http://scintillabmx.googlecode.com/files/ScintillaRev9.zip</a><br><br>thx again. <br><br></td></tr></table><br>
<a name="976263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice work so far Klepto!!<br><br>Couple of things:<br><br>1)<br>Ctrl + A to select all the code brings up the command box (With the command "SuperStrict" showing)<br>The box appears very high above the main window (depending how far down in the code you are)<br><br>What control do you have over this command box?<br>Can you, for instance, change things so that the box only appears after 3 chars have been entered?<br><br>The reason I ask, I see many instances of the text box flickering as I type stuff in. Try ======== for example<br><br>In fact, the popup box is somewhat annoying (sorry)<br>Try this for example:<br><br>Where you have <b>False;</b> in the code example:<br><br>&gt; Position the cursor after the ;<br>&gt; Press backspace to delete the ;<br>&gt; The popup box appears showing <b>False</b><br><br> Now its not easy to close this box. RETURN and ESCAPE both fail<br>I have to click away from the line(!)<br><br><br>2)<br>Switching from INSERT mode to OVERTYPE mode turns the cursor into a tiny underscore which changes size according to the character at the cursor position. Can this change to a thicker version of the standard INSERT mode cursor character instead?<br><br>3)<br>Can Function keys be detected under Scintilla?<br>For example, pressing F1 over a command to get help(?) <br><br></td></tr></table><br>
<a name="976266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1) <br>The 'command' window is just an experimantal demonstration in the sample. You can handle the appeariance as you wish. eg Filter the keywords, provide field types etc. <br><br>2) need to check out this by myself ;)<br><br>3) yes, take a look at the filter function. the gadget throws the same events as the standard textarea + one additional where the scintilla messages can be handled.<br><br>also keep in mind that this is still work in progress and a lot of things need to be sorted out in the next days/weeks. <br><br></td></tr></table><br>
<a name="976674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Klepto<br><br>How's things looking regarding the font changing?<br>I tried it with the sample code commenting out the DebugStop but  it hangs the demo<br><br>Also, how do you control what parts of the code are foldable?<br>In other words, how do you say to Scintilla, "ok, any lines starting with <b>Function</b> are foldable"<br><br>How easy would it be to adapt the code  to C++ / Java where {} are foldable for instance?<br>I see there are tons of options in there. Looks like Scintilla is really flexible<br><br>By the way I have adapted the SAMPLE code here so that you can load other Blitz code samples (for testing Scintilla with):<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">SuperStrict

Framework maxgui.drivers
Import brl.eventqueue
Import "ScintillaCtrl.bmx"


'**************************Sample***************************
Local window:TGadget
Global textarea:TScintillaGadget ' TGadget works as well, but then we need to cast when using scintilla specific stuff

window=CreateWindow("My Window",130,20,800,600,,15|WINDOW_ACCEPTFILES)
Local tabber:TGadget
Local document:TGadget

Local filemenu:TGadget
Local editmenu:TGadget
Local editmenuPOP:TGadget
Local helpmenu:TGadget

Const MENU_NEW:Int=101
Const MENU_OPEN:Int=102
Const MENU_SAVE:Int=103
Const MENU_CLOSE:Int=104
Const MENU_EXIT:Int=105

Const MENU_CUT:Int=106
Const MENU_COPY:Int=107
Const MENU_PASTE:Int = 108
Const MENU_UNDO:Int = 109
Const MENU_REDO:Int = 110
Const MENU_FONT:Int = 111

Const MENU_ABOUT:Int=112


filemenu=CreateMenu("&amp;File",0,WindowMenu(window))
CreateMenu"&amp;New",MENU_NEW,filemenu,KEY_N,MODIFIER_COMMAND
CreateMenu"&amp;Open",MENU_OPEN,filemenu,KEY_O,MODIFIER_COMMAND
CreateMenu"&amp;Close",MENU_CLOSE,filemenu,KEY_W,MODIFIER_COMMAND
CreateMenu"",0,filemenu
CreateMenu"&amp;Save",MENU_SAVE,filemenu,KEY_S,MODIFIER_COMMAND
CreateMenu"",0,filemenu
CreateMenu"E&amp;xit",MENU_EXIT,filemenu,KEY_F4,MODIFIER_COMMAND

editmenu = CreateMenu("&amp;Edit" , 0 , WindowMenu(window) )
CreateMenu "&amp;Undo",MENU_UNDO,editmenu,KEY_U,MODIFIER_COMMAND
CreateMenu "&amp;Redo",MENU_REDO,editmenu,KEY_R,MODIFIER_COMMAND
CreateMenu"",0,editmenu
CreateMenu "Cu&amp;t",MENU_CUT,editmenu,KEY_X,MODIFIER_COMMAND
CreateMenu "&amp;Copy",MENU_COPY,editmenu,KEY_C,MODIFIER_COMMAND
CreateMenu "&amp;Paste" , MENU_PASTE , editmenu , KEY_V , MODIFIER_COMMAND
CreateMenu "Font",MENU_FONT,editmenu

editmenuPop = CreateMenu("&amp;Edit" , 0 , Null)
CreateMenu "&amp;Undo",MENU_UNDO,editmenuPop ,KEY_U,MODIFIER_COMMAND
CreateMenu "&amp;Redo",MENU_REDO,editmenuPop ,KEY_R,MODIFIER_COMMAND
CreateMenu"",0,editmenuPop 
CreateMenu "Cu&amp;t",MENU_CUT,editmenuPop ,KEY_X,MODIFIER_COMMAND
CreateMenu "&amp;Copy",MENU_COPY,editmenuPop ,KEY_C,MODIFIER_COMMAND
CreateMenu "&amp;Paste",MENU_PASTE,editmenuPop ,KEY_V,MODIFIER_COMMAND

helpmenu=CreateMenu("&amp;Help",0,WindowMenu(window))
CreateMenu "&amp;About",MENU_ABOUT,helpmenu

UpdateWindowMenu window

' CreateDocument creates a hidden panel that fills entire tabber client area 

Function CreateDocument:TGadget(tabber:TGadget)
	Local	panel:TGadget
	panel=CreatePanel(0,0,ClientWidth(tabber),ClientHeight(tabber),tabber)
	SetGadgetLayout panel,1,1,1,1
	HideGadget panel
	Return panel
End Function



tabber=CreateTabber(0,0,ClientWidth(window),ClientHeight(window),window)
SetGadgetLayout tabber,1,1,1,1 

document = CreateDocument(tabber)

ShowGadget document

textarea = CreateScintillaArea(,,,,document)
SetGadgetLayout textarea , 1 , 1 , 1 , 1
textarea.SetLineNumbering(0 , False)
textarea.SetMarginType(1, SC_MARGIN_SYMBOL, 20)
textarea.SetMarginSensitive(1 , True)
textarea.SendEditor(SCI_USEPOPUP , 0) 'Deactivate Scintillas own popup

ActivateGadget textarea

LoadFile "ScintillaCtrl.bmx"

Function LoadFile(thisffile$)
	If thisffile="" Then Return
	Local text:String = LoadText(thisffile)
	SetTextAreaText textarea,text
	Print thisffile+"    Text length: " + textarea.charcount()
End Function


Global keys:String = ""
Global keymap:TMap = New TMap

Local cmds:TStream = ReadStream("commands.txt")

While Not Eof(cmds)
	Local L:String = ReadLine(cmds).Trim()
	Local Key:String = l[l.FindLast("#") + 1..]
	Print Key
	If Key.toLower().Contains("extends") Or Key.Contains(":")
		Key = Key[..Key.Find(" ")]
	End If
	keys:+ Key.toLower() + " "
	keymap.Insert(Key.toLower(),Key)
Wend


'Highlighting stuff
textarea.SetLexer(SCLEX_BLITZMAX)
textarea.SetLexerKeywords(0 , keys)

For Local I:Int = 0 To 19
	textarea.SetLexerStyle(SCI_STYLESETFORE , I , EncodeColor(244,244,244))
	textarea.SetLexerStyle(SCI_STYLESETBACK , I , EncodeColor(1 , 88 , 107) )
Next

textarea.SendEditor(SCI_SETCARETFORE,EncodeColor(255,255,255))
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_KEYWORD , EncodeColor(255,255,0))
textarea.SetLexerStyle(SCI_STYLESETBACK , SCE_B_KEYWORD, EncodeColor(1,81,107)) 
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_MULTILINECOMMENT , EncodeColor(177,231,235))
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_COMMENT , EncodeColor(177 , 231 , 235) )
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_NUMBER , EncodeColor(21 , 255 , 185) )
textarea.SetLexerStyle(SCI_STYLESETFORE , SCE_B_STRING , EncodeColor(0 , 255 , 107) )
textarea.SetLexerStyle(SCI_STYLESETBACK , STYLE_DEFAULT , EncodeColor(1 , 81 , 107) )

textarea.SendEditor(SCI_SETMARGINMASKN , 1 , SC_MASK_FOLDERS) ;

textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDER, SC_MARK_ARROW);
textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDEROPEN, SC_MARK_ARROWDOWN);
textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDEREND,  SC_MARK_EMPTY);
textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDERMIDTAIL, SC_MARK_EMPTY);
textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDEROPENMID, SC_MARK_EMPTY);
textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDERSUB, SC_MARK_EMPTY);
textarea.SendEditor(SCI_MARKERDEFINE, SC_MARKNUM_FOLDERTAIL,SC_MARK_EMPTY );
textarea.SendEditor(SCI_SETFOLDFLAGS , 16 , 0)

textarea.SendEditor(SCI_SETINDENTATIONGUIDES,SC_IV_LOOKBOTH)

textarea.SetProperty("fold","1")
textarea.SetProperty("fold.compact" , "0")

'textarea.DoPrint()

Print textarea.GetLexer()

SelectTextAreaText textarea,0,0,TEXTAREA_LINES

Print "C : " + TextAreaCursor(textarea,TEXTAREA_CHARS) 
Print "L : " + TextAreaSelLen(textarea,TEXTAREA_CHARS) 


'Print "Text : " +TextAreaText(textarea,TextAreaCursor(textarea,TEXTAREA_CHARS) ,TextAreaSelLen(textarea,TEXTAREA_CHARS) , TextArea_CHARS)

'SetTextAreaText textarea,"Hello World",20,50

SetGadgetFilter(textarea , filter, textarea)

Function filter:Int(event:TEvent,context:Object)
	Select event.id
		Case EVENT_KEYCHAR
			'Lets do a more precise UNDO REDO
			'A bit buggy , it adds 2 undos at once, don't know why
			'but it should give an idea
			Local textarea:TScintillaGadget = TScintillaGadget(context)
			If textarea &lt;&gt; Null Then
				'Local line:Int = TextAreaCursor(textarea,TEXTAREA_LINES)
				'textarea.SendEditor(SCI_ADDUNDOACTION , line)	
				
				'Checking AutoList
				Local curPosition:Int = TextAreaCursor(textarea)
				Local s:Int = textarea.SendEditor(SCI_WORDSTARTPOSITION,curPosition,1)
				Local e:Int = textarea.SendEditor(SCI_WORDENDPOSITION,curPosition,1)
				Local l:Int = 0
				Local token:String 
				Try
				If event.data &gt; 32 And event.data &lt; 126 Then
					token = TextAreaText(textarea , s , (e - s) , TEXTAREA_CHARS) + Chr(event.data)
					l = token.length -1
				Else
					token = TextAreaText(textarea , s , (e - s) , TEXTAREA_CHARS)
					l=token.length
				End If
				Catch ex:String
					Print "Exception: " + ex
				End Try
			'	Print "Token : " + token + " : " + token.length +";"+ textarea.SendEditor(SCI_AUTOCACTIVE)
				
				Local count:Int = 0
				If token.length &gt; 0 And textarea.SendEditor(SCI_AUTOCACTIVE) = 0 Then
					Local keylist:String = ""
					For Local T:String = EachIn keymap.Values()
						'Print token.Trim().toLower() + " : " + token.length
						If t.ToLower().StartsWith(token.toLower() ) Then
							keylist:+ t + " "
							count:+1
						End If
					Next
				'	Print "Items: " + count
					textarea.SendEditor(SCI_AUTOCSETIGNORECASE , 1)
					textarea.SendEditor(SCI_AUTOCSETMAXHEIGHT,10)
					textarea.SendEditorString(SCI_AUTOCSHOW , l , keylist)
				
				End If
			End If
	End Select
	Return 1
End Function

Local Font:TGuiFont = Null

While WaitEvent()
	'Print CurrentEvent.ToString()+" "+EventSourceHandle()
	Select EventID()
		Case EVENT_GADGETMENU
			PopupWindowMenu(window,editmenuPOP)
		Case EVENT_WINDOWCLOSE
			End
		Case EVENT_APPTERMINATE
			End
		Case EVENT_GADGETACTION
			'Removed Scintilla Eventhandling from main code now everything needs to be handled in the
			'maxgui eventsystem
			If EventSource() = textarea Then
				Local n:TScintillaEventData = TScintillaEventData(EventExtra() )
				Select n.Code
					Case SCN_MARGINCLICK
						Local Line:Int = textarea.SendEditor(SCI_LINEFROMPOSITION , n.position , 0) ;
						Local levelClick:Int = textarea.SendEditor(SCI_GETFOLDLEVEL , line) ;
						If levelClick &amp; SC_FOLDLEVELHEADERFLAG &lt;&gt; 0 Then
							textarea.SendEditor(SCI_TOGGLEFOLD , Line , 0)
						End If
					Case SCN_MODIFIED
						'Print "Char : " + n.ch
				End Select
				
			End If
			
		Case EVENT_MENUACTION
			Select EventData()
				Case MENU_NEW
					SetTextAreaText textarea,""
				Case MENU_OPEN
					Local file$=RequestFile("Choose file","")
					LoadFile file
				Case MENU_UNDO
					textarea.SendEditor(SCI_UNDO)
				Case MENU_REDO
					textarea.SendEditor(SCI_REDO)
				Case MENU_CUT
					textarea.SendEditor(SCI_CUT)
				Case MENU_COPY
					textarea.SendEditor(SCI_COPY)
				Case MENU_PASTE
					textarea.SendEditor(SCI_PASTE)
				Case MENU_FONT
					'DebugStop()
					font = RequestFont(font)
					If font
						SetGadgetFont textarea, font
					EndIf
				Case MENU_EXIT
					End
				Case MENU_ABOUT
					Notify "Scintilla~nBlitzmaxGadget"
			End Select
	End Select
Wend
</textarea> <br><br></td></tr></table><br>
<a name="976860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jim, <br><br>thx for the feedback. <br>Now Step by Step ;)<br><br>1. Font Changing works, depends if you use a modified maxgui (the release candidate on the top of this forum with my FontRequest modification). The reason for the hang is simple : I have a forgotten a Debugstop within the SetFont Method ;)<br><br>2. Scintilla is flexible thats right, but on some parts it isn't that flexible. Scintilla is based on custom lexers for each language which are normally included directly in the dll. It is also possible to import plugin dlls via runtime and use these. <br><br>the Blitzmax lexer for instance is located in the c++ src file: lexbasic.cxx <br><br>There you have this function:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
static int CheckBlitzMaxFoldPoint(char const *token, int &amp;level) {
	if (!strcmp(token, "function") ||
		!strcmp(token, "type") ||
		!strcmp(token, "method") || 
		!strcmp(token, "for")  ||
		!strcmp(token, "while") ||
		!strcmp(token, "repeat")||
		!strcmp(token, "select")){
		level |= SC_FOLDLEVELHEADERFLAG;
		return 1;
	}
	if (!strcmp(token, "end function") ||
		!strcmp(token, "end type") ||
		!strcmp(token, "end method") ||
	  !strcmp(token, "endfunction") ||
		!strcmp(token, "endtype") ||
		!strcmp(token, "endmethod") ||
		!strcmp(token, "next") ||
		!strcmp(token, "end select") ||
		!strcmp(token, "endselect") ||
		!strcmp(token, "wend") ||
		!strcmp(token, "until") ||
		!strcmp(token, "forever"))
{
		return -1;
	}
	return 0;
}
</textarea><br><br>There you can add the regions you want. But you need to recompile Scintilla with VS or mingw.<br><br>There are a lot of other languages already implemented. For details take a look in Scintilla_consts.bmx. For nearly every language there is are also defined constants for eg function or comments etc.<br><br>For everything else you need to look at this point: <a href="http://www.scintilla.org/ScintillaDoc.html" target="_blank">http://www.scintilla.org/ScintillaDoc.html</a> <br><br></td></tr></table><br>
<a name="976925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent work klepto2,  scintilla's working great and so is your lexer!<br><br>quick tip, how to use  the direct function messaging...<br><pre class=code>
Type TScintillaGadget Extends TWindowsGadget

	Field SendMessageDirect:Int(directPointer:Int,msg:Int,wp:Int,lp:Int)
	Field SCI_DIRECTPOINTER:Int
...

	Method Initialize:TScintillaGadget(x:Int, y:Int, w:Int, h:Int, group:TGadget, style:Int)
...

		hwnd=CreateWindowExW(0,"Scintilla","",wstyle,0,0,0,0,parent,0,GetModuleHandleW(Null),Null)
		SendMessageDirect = Byte Ptr(SendMessageW(hwnd, SCI_GETDIRECTFUNCTION, 0, 0))
		SCI_DIRECTPOINTER = SendMessageW(hwnd, SCI_GETDIRECTPOINTER, 0, 0)
...

	Method SendEditor:Int(Msg:Int , wParam:Int = 0 , lParam:Int = 0)
		Return SendMessageDirect(SCI_DIRECTPOINTER, msg, wparam, lParam)
	End Method
</pre><br><br>Just spent a while and got this statically built into a module, if you want the codes klepto :) <br><br></td></tr></table><br>
<a name="976992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx ready. I already know this code (well not exactly the same code). I didn't know this works also with the windows version. Maybe this is one step to have the scintilla multiplattform (Cocoa, GTK and Win). <br><br>Currently I'm just using the sendmessage system provided by windows. <br><br>I think for a real crossplattform solution it might be the best to add a complete new control instead of having a textarea simulation module to get the full power of scintilla.<br><br>What do you guys think about this?<br><br>Also currently i'm using the dll, would it be possible to just compile the src code of scintilla directly with bmx and link it? That would make later shipping on multiple plattforms a lot easier.<br><br><br>thx in advance <br><br></td></tr></table><br>
<a name="987072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> This no longer works with MaxGUI 1.34. <br><br></td></tr></table><br>
<a name="987131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx Leadwerks. I'm already working on this issue. Maybe SebHoll can jump into this and tell me what has changed in maxgui so it breaks my code. <br><br></td></tr></table><br>
<a name="990137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good News :)<br><br>Problem with the new maxgui has been solved and i have uploaded a new Version. <br><br>The main change in this release is that the control is 'splitted' into 2 parts:<br>- the control itself <br>- and a scintilla interface<br><br>you get the scintilla interface by eg: textarea.GetScintilla()<br><br>I have decided to do this because code may be a bit cleaner and i can have the same names as scintilla has without colliding with maxgui names.<br><br>The lib is also prepared to be a module in the future, so you may notice a lot of documentation within the Tscintilla Type.<br><br>But now have fun :) and post any bug you find.<br><br><a href="http://scintillabmx.googlecode.com/files/ScintillaBMX.zip" target="_blank">http://scintillabmx.googlecode.com/files/ScintillaBMX.zip</a><br><br>PS: This release is a new structured version and not currently not in the SVN. <br><br></td></tr></table><br>
<a name="991965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another shot of this excellent code in action.  I want to see this incorporated into the BlitzMax IDE!!!<br><br><img src="http://leadwerks.com/wiki/images/6/6d/Scripteditor.png"> <br><br></td></tr></table><br>
<a name="992125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks good man <br><br></td></tr></table><br>
<a name="992137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Scintilla in the IDE really would be very nice... Code folding is really the major feature that the IDE is missing in my book. <br><br></td></tr></table><br>
<a name="992891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys.<br><br>Just a small progressreport:<br><br>- some minor fixes done<br>- around 50% of the scintilla messages are wrapped and documented<br>- started a Helper Class with various functions to help using scintilla<br><br>and now I have a special surprise:<br>(big thx to YellowRider)<br><br><img src="http://i2.photobucket.com/albums/y48/klepto2/ScintillaSurprise.png"><br><br>You can guess yourself what this image means :)<br><br>As soon as everything is stable i will recreate the subversion and upload a new Version. No ETA yet but it should not be that far away. <br><br></td></tr></table><br>
<a name="992903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You can guess yourself what this image means :) <br></div>It means there is still no Linux version?<br><br>I hate FLTK :( <br><br></td></tr></table><br>
<a name="992907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got really excited when I saw the Mac screenshot! Now just to settle the Linux problem... <br><br></td></tr></table><br>
<a name="992939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking good! OS X version is much appreciated. <br><br></td></tr></table><br>
<a name="994937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> <strike>After you have all of this working well, why not take a look at <a href="http://wxcode.sourceforge.net/showcomp.php?name=wxScintilla" target="_blank">wxScintilla</a>?</strike><br>I thought so. <br><br></td></tr></table><br>
<a name="995089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> After you have all of this working well, why not take a look at wxScintilla?  <br></div><br><br>Brucey already has a wxScintilla mod as part of this wxwidgets framework.<br><br>Unfortunately the entire wx-framework is massive though -- I'd greatly prefer a non-wx implementation like Klepto's myself. <br><br></td></tr></table><br>
<a name="1000845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >outsider</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>can you make MaxIDE CE + Scintilla .exe program? It's looks nice, but I don't have MaxGUI :/. <br><br></td></tr></table><br>
<a name="1000898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will do as soon as I have time and have a stable enough version.<br><br>currently I don't have much time for coding private things so everything takes longer till it is finished. <br><br></td></tr></table><br>
<a name="1000899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >outsider</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you klepto2 :) <br><br></td></tr></table><br>
<a name="1043911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any more progress on this? <br><br></td></tr></table><br>
<a name="1044386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> another bump, I would kill for an updated CE edition with depth markers let alone collapsing... <br><br></td></tr></table><br>
<a name="1055050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried compiling the sample.bmx and I am getting an error "Overriding method differs by type " on line 49 of ScintillaCtrl.bmx.  Tried Rev9 as well as the SVN versions. <br><br></td></tr></table><br>
<a name="1055839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ker2x</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this project dead ?<br>I'm still wondering if i should use Brucey's wxMax (it include a scintilla module) or this module with MaxGUI. <br><br></td></tr></table><br>
<a name="1055952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's what I'm wondering as well.  I tried wxMax version of Scintilla, but I can't seem to get it to work.  This looks like it would be a better solution for me, but doesn't seem to want to compile, possibly due to changes in MaxGUI. <br><br></td></tr></table><br>
<a name="1057046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for the delay. <br><br>I have uploaded a 1.41 compatible Version at googlecode.<br><br><a href="http://code.google.com/p/scintillabmx/downloads/list" target="_blank">http://code.google.com/p/scintillabmx/downloads/list</a><br><br>I hope this helps you. <br><br>Unfortunatly the project is nearly dead. I don't have time to maintain it and i have also moved to other languages. But i will try to get it at least to a final and stable version (adding missing methods etc.). <br><br></td></tr></table><br>
<a name="1057112"></a>

<a name="1057113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, klepto<br><br>Would you mind release the Console Module source? this mod is really useful but I can't get it work on BMax 1.41....<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1057418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Klepto,<br><br>Thanks a lot.  Works great.  I did notice a little bug in the sample though.  When you type Superstrict on the first line, the autocomplete pops up and the Enter key will not be accepted.  You need to either press the space key or click on the autocomplete.  Won't be a big problem for me since I don't need the autocomplete anyway. <br><br></td></tr></table><br>
<a name="1242289"></a>

<a name="1242290"></a>

<a name="1242291"></a>

<a name="1242292"></a>

<a name="1242293"></a>

<a name="1242294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MOBii</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Love you <b>klepto2</b> I just got the: <b>sample advanced.bmx</b> to work, and start replace the TGadget textarea to Scintilla in my project now!<br>Only this is a reason why to buy BlitzMax, I am indeed very exited &lt;3 <br><br></td></tr></table><br>
<a name="1243024"></a>

<a name="1243025"></a>

<a name="1243026"></a>

<a name="1243027"></a>

<a name="1243028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MOBii</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have 2 questions:<br><br>Question 1:<br>How can I turn Character representations OFF?<br><a href="http://www.scintilla.org/ScintillaDoc.html#CharacterRepresentations" target="_blank">http://www.scintilla.org/ScintillaDoc.html#CharacterRepresentations</a><br><br>Question 2:<br>I seen Scintilla as mod:<pre class=code>Import wx.wxScintilla
Import wx.wxFrame</pre>Where can I download wx.wxScintilla?<br><br><a href="https://code.google.com/p/scintillabmx/downloads/list" target="_blank">https://code.google.com/p/scintillabmx/downloads/list</a><br><br>I use the <b>no module</b> .rar<br><a href="https://code.google.com/p/scintillabmx/downloads/detail?name=Scintilla.rar&amp;can=2&amp;q=" target="_blank">https://code.google.com/p/scintillabmx/downloads/detail?name=Scintilla.rar&amp;can=2&amp;q=</a><br>Scintilla bmx 1.41 compatible (Import only / <b>no module</b>) <br><br></td></tr></table><br>
<a name="1243055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> wx - like in wxMAX (a wrapper for wxWidgets).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1243657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> I built an editor using wxMax... It was monkey at a typewriter setup, but it worked fine... So, just in case you want a reference, you'll find the code here...<br><br><a href="http://sourceforge.net/p/bamboobasic/code/ci/master/tree/Editors/Win/Editor/" target="_blank">http://sourceforge.net/p/bamboobasic/code/ci/master/tree/Editors/Win/Editor/</a><br><br>Dabz <br><br></td></tr></table><br>
<a name="1245008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using this in Leadwerks now, including the Linux build, and it's really good. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
