<!DOCTYPE html><html lang="en" ><head ><title >I need another Mac test...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >I need another Mac test...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >I need another Mac test...</a><br><br>
<a name="975250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is how the following code looks on XP:<br><br><img src="http://shawnswift.com/blitz/stgtest3.png"><br><img src="http://shawnswift.com/blitz/stgtest4.png"><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
Import MaxGUI.Drivers

Global Application_Title$ = "Seamless Texture Generator 2 - C:/textures/blah.jpg (1024 x 768)"

Global WINDOW_Main:TGadget
	
	' A capital letter in a 7pt font on the PC is 9 pixels tall.
	
	' Do not use 8pt font.  On a PC, it will be 9 pixels tall, but narrower and harder to read.
		
	Global FONT_Label:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 7) ' 7 Pixels
	Global FONT_Textfield:TGuiFont = LookupGuiFont(GUIFONT_SYSTEM, 9) ' 9 pixels
	Global FONT_Tabber:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 9)
	Global FONT_Panel:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 10) ' 10 pixels
	Global FONT_Header:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 9)

	Global MENU_Root:TGadget
		Global MENU_File:TGadget
			Global MENU_Open:TGadget
			Global MENU_OpenRecent:TGadget
				Global MENU_RecentFile:TGadget[10]
			Global MENU_Save:TGadget
			Global MENU_Batch:TGadget
			Global MENU_Exit:TGadget
		Global MENU_Options:TGadget
			Global MENU_AutoUpdate:TGadget
			Global MENU_Render:TGadget
				Global MENU_Reflectance:TGadget
				Global MENU_Displacement:TGadget
				Global MENU_Normal:TGadget			
		Global MENU_Help:TGadget
			Global MENU_Contents:TGadget
			Global MENU_About:TGadget
		Global MENU_Buynow:TGadget
				
	Global CANVAS_Preview:TGadget
	Global PANEL_PreviewPaneIndent:TGadget, PANEL_PreviewPane:TGadget, TABBER_PreviewPane:TGadget, HSLIDER_PreviewPane:TGadget, VSLIDER_PreviewPane:TGadget
	Global PROGBAR_Progressbar:TGadget
	Global PANEL_Indent:TGadget, PANEL_Controls:TGadget, VSLIDER_Controls:TGadget
			
	' Control panel:
		
		Global PANEL_Color:TGadget

			Global TEXTFIELD_Brightness:TGadget
			Global HSLIDER_Brightness:TGadget

			Global TEXTFIELD_Contrast:TGadget
			Global HSLIDER_Contrast:TGadget

			Global TEXTFIELD_Red:TGadget
			Global HSLIDER_Red:TGadget

			Global TEXTFIELD_Green:TGadget
			Global HSLIDER_Green:TGadget

			Global TEXTFIELD_Blue:TGadget
			Global HSLIDER_Blue:TGadget
		
		Global PANEL_Flash:TGadget
		
			Global TEXTFIELD_ShadingStrength:TGadget
			Global HSLIDER_ShadingStrength:TGadget
	
			Global TEXTFIELD_ShadingBlurRadius:TGadget
			Global HSLIDER_ShadingBlurRadius:TGadget
	
		Global TEXTFIELD_HBlend:TGadget
		Global HSLIDER_HBlend:TGadget

		Global TEXTFIELD_VBlend:TGadget
		Global HSLIDER_VBlend:TGadget

		Global TEXTFIELD_Sharpness:TGadget
		Global HSLIDER_Sharpness:TGadget

		Global TEXTFIELD_FinalWidth:TGadget
		Global TEXTFIELD_FinalHeight:TGadget

		Global BUTTON_Render:TGadget	
		Global BUTTON_Preview:TGadget	


' Default image adjustment settings.
	
		Global HBlendRadius_Default# = 1 
		Global VBlendRadius_Default# = 1

		Global ShadingStrength_Default#   = 1
		Global ShadingBlurRadius_Default# = 64
		
		Global Sharpness_Default# = 0

		Global Quad_X#[4]				
		Global Quad_Y#[4]
		
		Global FinalWidth_Default%  = 512
		Global FinalHeight_Default% = 512
		
		
	' Current image adjustment settings.	
		Global FinalWidth%  = FinalWidth_Default
		Global FinalHeight% = FinalHeight_Default
	
		Global Seamless_U% = True
		Global Seamless_V% = True


	' Min and max values for all the image adjustment controls.		
		Global HBlendRadius_Min# = 0 
		Global HBlendRadius_Max# = 1
		Global HBlendRadius_SliderSteps% = 100

		Global VBlendRadius_Min# = 0 
		Global VBlendRadius_Max# = 1 
		Global VBlendRadius_SliderSteps% = 100

		Global ShadingStrength_Min# = 0
		Global ShadingStrength_Max# = 1
		Global ShadingStrength_SliderSteps% = 100
	
		Global ShadingBlurRadius_Min# = 1
		Global ShadingBlurRadius_Max# = 256
		Global ShadingBlurRadius_SliderSteps% = 255

		Global Sharpness_Min# = 0
		Global Sharpness_Max# = 1
		Global Sharpness_SliderSteps% = 100
               	
		Global FinalWidth_Min% = 2
		Global FinalWidth_Max% 
		
		Global FinalHeight_Min% = 2
		Global FinalHeight_Max% 


Init()


Repeat
	Select WaitEvent()
		Case EVENT_APPTERMINATE, EVENT_WINDOWCLOSE;End
	EndSelect
Forever



' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
' This function creates a separator. 
' It uses the LABEL_SUNKENFRAME style because it looks more professional than LABEL_SEPARATOR.
' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	Function CreateSeparator:TGadget(X%, Y%, Width%, Group:TGadget)

		Local Temp:TGadget

		Temp = CreateLabel("", X, Y, Width, 2, Group, LABEL_SUNKENFRAME)
		SetGadgetLayout Temp, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
	
		Return Temp
	
	End Function	


' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
' This function initializes the application.
' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Function Init()
	
	Const HEIGHT_LABEL%     = 16
	Const WIDTH_LABEL%	    = 256
	Const HEIGHT_TEXTFIELD% = 22
	Const WIDTH_TEXTFIELD%  = 40
	Const HEIGHT_TRACKBAR%  = 22
	Const SIZE_SLIDER%      = 16
	Const HEIGHT_BUTTON%    = 24
	Const HEIGHT_COMBOBOX%  = 24
	Const HEIGHT_PROGBAR%   = 22
	Const HEIGHT_SEPARATOR% = 2
	Const SIZE_SPACE%       = 8
	Const WIDTH_CONTROLPANEL% = 200
	
	Local WIDTH_TRACKBAR%
	Local Width%, Height%, X%, Y%
	Local Panel:TGadget, Label:TGadget, TextField:TGadget, Slider:TGadget, Button:TGadget

	
	
		
	' Create the window at the smallest size it can be, then maximize it.
		
		WINDOW_Main = CreateWindow(Application_Title$, 0, 0, 640, 480, Null, WINDOW_TITLEBAR|WINDOW_RESIZABLE|WINDOW_MENU|WINDOW_STATUS|WINDOW_ACCEPTFILES|WINDOW_HIDDEN) 
		
		SetStatusText(WINDOW_Main, "Rendering...")


	' Save the size of the area inside the window in which we can draw.
		
		'WINDOW_Width  = ClientWidth(WINDOW_Main)
		'WINDOW_Height = ClientHeight(WINDOW_Main)

	Rem 
	' Load the watermark.
		If VERSION = EVALULATION
		
			' Load the watermark.
				CopyFile "config.dat", "config.png" 
				IMAGE_Watermark = LoadImage("config.png")
				DeleteFile "config.png"
							
			' If the watermark could not be loaded, pop up an error and exit the program.
				If IMAGE_Watermark = 0 
					Notify("Error: CONFIG.DAT not found.  Please reinstall the program.", True)
					End
				EndIf

			' If the watermark has the wrong CRC, exit with an error.
				
				' DebugLog(CRC_File("config.dat"))
				
				If CRC_File("config.dat") &lt;&gt; 669102732
					Notify("Error: CONFIG.DAT has been corrupted.  Please reinstall the program.")
					End
				EndIf  
						

		EndIf
		
	' Load fonts.
	'	FONT_ArialBlack   = LoadFont("arial black", 32)
		
	End Rem
	
	' Create the menus.	
	
		MENU_Root = WindowMenu(WINDOW_Main)
	
			MENU_File = CreateMenu("&amp;File", 0, MENU_Root)
		
				MENU_Open = CreateMenu("&amp;Open...", 1, MENU_File, KEY_O, MODIFIER_COMMAND)
				MENU_OpenRecent = CreateMenu("Open &amp;Recent", 2, MENU_File)		
					
					MENU_RecentFile[0] = CreateMenu("c:\blah.jpg", 200, MENU_OpenRecent)			
					MENU_RecentFile[1] = CreateMenu("c:\texture.jpg", 201, MENU_OpenRecent)			
					
				CreateMenu("", 0, MENU_File)			
				MENU_Save = CreateMenu("&amp;Save...", 3, MENU_File, KEY_S, MODIFIER_COMMAND)
				CreateMenu("", 0, MENU_File)
				MENU_Batch = CreateMenu("&amp;Batch...", 4, MENU_File, KEY_B, MODIFIER_COMMAND)			
				CreateMenu("", 0, MENU_File)			
				MENU_Exit = CreateMenu("E&amp;xit", 99, MENU_File)			

				DisableMenu(MENU_Save)

			MENU_Options = CreateMenu("&amp;Options", 0, MENU_Root)			
				MENU_AutoUpdate = CreateMenu("&amp;Auto Update", 5, MENU_Options) ' Use CheckMenu() when menu selection event occurs to add checkmark.
				CreateMenu("", 0, MENU_Options)
				MENU_Render = CreateMenu("&amp;Render", 6, MENU_Options)
					MENU_Reflectance = CreateMenu("&amp;Reflectance", 7, MENU_Render)
					MENU_Displacement = CreateMenu("&amp;Displacement", 8, MENU_Render)
					MENU_Normal = CreateMenu("&amp;Normal", 9, MENU_Render)
								
			MENU_Help = CreateMenu("&amp;Help", 0, MENU_Root)
				
				MENU_Contents  = CreateMenu("&amp;Help Contents...", 10, MENU_Help, KEY_F1)	
				CreateMenu("",	0, MENU_Help)	
				MENU_About = CreateMenu("&amp;About...", 11, MENU_Help)	
	
'			If VERSION = EVALULATION
'				MENU_Buynow = CreateMenu("&amp;Click here to get the full version!", 100, MENU_Root)
'			EndIf
	
		UpdateWindowMenu(WINDOW_Main)		
		
		CreateSeparator(0, 0, ClientWidth(WINDOW_Main), WINDOW_Main)


	' Create the preview window.
		
		' Create an indentation around the main texture Panel.
			
		'	PANEL_PreviewPaneIndent = CreatePanel(0, 0, ClientWidth(WINDOW_Main)-220, ClientHeight(WINDOW_Main), WINDOW_Main, PANEL_GROUP)
		'	SetGadgetLayout(PANEL_PreviewPaneIndent, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED)

		' Create the Tabber at the top of the preview pane.
	
			TABBER_PreviewPane = CreateTabber(0, HEIGHT_SEPARATOR+SIZE_SPACE, ClientWidth(WINDOW_Main)-WIDTH_CONTROLPANEL, ClientHeight(WINDOW_Main)-HEIGHT_SEPARATOR-SIZE_SPACE, WINDOW_Main)
				SetGadgetLayout(TABBER_PreviewPane, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED)
				'SetGadgetFont(TABBER_PReviewPane, FONT_Tabber)
				
				AddGadgetItem(TABBER_PreviewPane, "Original") 
				AddGadgetItem(TABBER_PreviewPane, "Seamless")
				AddGadgetItem(TABBER_PreviewPane, "Reflectance")
				AddGadgetItem(TABBER_PreviewPane, "Displacement")
				AddGadgetItem(TABBER_PreviewPane, "Normal")
				AddGadgetItem(TABBER_PreviewPane, "Preview")
				
											
		' Create a Panel to clip the canvas that will contain our image.
			PANEL_PreviewPane = CreatePanel(0, 2, ClientWidth(TABBER_PreviewPane)-16, ClientHeight(TABBER_PreviewPane)-16-2, TABBER_PreviewPane)
				SetGadgetLayout PANEL_PreviewPane, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				SetPanelColor   PANEL_PreviewPane, 0, 0, 0 

		' Create sliders.
								
			HSLIDER_PreviewPane = CreateSlider(GadgetX(PANEL_PreviewPane), GadgetY(PANEL_PreviewPane) + GadgetHeight(PANEL_PreviewPane), GadgetWidth(PANEL_PreviewPane), SIZE_SLIDER, TABBER_PreviewPane, SLIDER_SCROLLBAR|SLIDER_HORIZONTAL)
				SetGadgetLayout HSLIDER_PreviewPane, EDGE_ALIGNED,  EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED

			VSLIDER_PreviewPane = CreateSlider(GadgetX(PANEL_PreviewPane) + GadgetWidth(PANEL_PreviewPane), GadgetY(PANEL_PreviewPane), SIZE_SLIDER, GadgetHeight(PANEL_PreviewPane), TABBER_PreviewPane, SLIDER_SCROLLBAR|SLIDER_VERTICAL)
				SetGadgetLayout VSLIDER_PreviewPane, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED,  EDGE_ALIGNED

		' Create dummy canvases to place inside the Panel. 
		' The canvases are deleted and replaced with a new one that fits the image each time a new image is loaded.
		
			' Create one canvas for each tab.
			'	UpdateCanvas(CI_ALL)
		
			' Set the original canvas to be the active canvas.
			'	SetActiveCanvas(CI_ORIGINAL)

						
	' Create the control Panel.

		' Render button:
			
			X = ClientWidth(WINDOW_Main) - WIDTH_CONTROLPANEL + SIZE_SLIDER + 2
			Y = ClientHeight(WINDOW_Main) - (SIZE_SPACE + HEIGHT_BUTTON)
			Width  = WIDTH_CONTROLPANEL - SIZE_SLIDER*2 - 4
			Height = HEIGHT_BUTTON
			
			BUTTON_Render = CreateButton("Render Texture", X, Y, Width, Height, WINDOW_Main, BUTTON_PUSH)
				SetGadgetLayout BUTTON_Render, EDGE_CENTERED, EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED
				'SetGadgetFont BUTTON_Render, GUIFONT_Bold	

				
		' Preview button:
			
		'	Y = Y - SIZE_SPACE - HEIGHT_BUTTON
	
		'	BUTTON_Preview = CreateButton("Render Preview", X, Y, Width, Height, WINDOW_Main, BUTTON_PUSH)
		'		SetGadgetLayout BUTTON_Preview, EDGE_CENTERED, EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED

				
		' Control panel indent: 
			
			Width  = WIDTH_CONTROLPANEL
			Height = Y - HEIGHT_SEPARATOR - SIZE_SPACE*2 
			X = ClientWidth(WINDOW_Main) - WIDTH_CONTROLPANEL
			Y = HEIGHT_SEPARATOR 

			Panel = CreatePanel(X, Y, Width, Height, WINDOW_Main, PANEL_GROUP)
				SetGadgetLayout Panel, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				
				PANEL_Indent = Panel
			
			
		' Control panel slider:
			
			VSLIDER_Controls = CreateSlider(ClientWidth(PANEL_Indent)-16, 0, SIZE_SLIDER, ClientHeight(PANEL_Indent), PANEL_Indent, SLIDER_SCROLLBAR|SLIDER_VERTICAL)
				SetGadgetLayout VSLIDER_Controls, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				'SetSliderRange  VSLIDER_Controls, 0, 100
				'Set_Slider_Value(HSLIDER_ShadingStrength, ShadingStrength_Default#)
			
								
		' Control panel:

			Panel = CreatePanel(0, 0, ClientWidth(PANEL_Indent)-SIZE_SLIDER, 512, PANEL_Indent) 
				SetGadgetLayout Panel, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				
				PANEL_Controls = Panel
			
			WIDTH_TRACKBAR = ClientWidth(Panel) - (SIZE_SPACE*5 + WIDTH_TEXTFIELD)
			
			Width = ClientWidth(PANEL_Controls) - SIZE_SPACE*2 ' The width of the interior of the control panel, with some space around the edges.
			
			Y = 0
			
			
		' Shadow Removal:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Shadow Removal :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE


				' Strength:
									
					Label = CreateLabel("Strength", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, ShadingStrength_Default#
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Radius:
									
					Label = CreateLabel("Radius", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, ShadingStrength_Default#
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
			

		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			
			
							
		' Final Adjustment:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Color Adjustment :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE ' Indent
						
				' Brightness:
									
					Label = CreateLabel("Brightness", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1"
					
					TEXTFIELD_Brightness = TextField
					HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE

						
				' Contrast:
								
					Label = CreateLabel("Contrast", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
				
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
					
				' Hue:
				
					Label = CreateLabel("Hue", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
				
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "0"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
					
				' Saturation:
				
					Label = CreateLabel("Saturation", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "0"
						
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE

		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			


		' Sharpening:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Sharpening :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE

				' Intensity:
				
					Label = CreateLabel("Intensity", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, Sharpness_Default#
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE



Rem			
	
		' Horizontal blend radius:

			CPy = CPy + SIZE_SPACE
		
			LABEL = CreateLabel("Horizontal Blend Radius:", CPx, CPy, 220-32, 16, PANEL_Controls, 0)
				SetGadgetLayout LABEL, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
			
			CPy = CPy + HEIGHT_LABEL
				
			TEXTFIELD_HBlend = CreateTextField(CPx, CPy, 40, HEIGHT_TEXTFIELD, PANEL_Controls, 0)
				SetGadgetLayout TEXTFIELD_HBlend, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetText   TEXTFIELD_HBlend, HBlendRadius_Default#
				
			HSLIDER_HBlend = CreateSlider(CPx+40+8, CPy, CPwidth-48, SIZE_SLIDER, PANEL_Controls, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
				SetGadgetLayout HSLIDER_HBlend, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetSliderRange  HSLIDER_HBlend, 0, HBlendRadius_SliderSteps+1
			
				'Set_Slider_Value(HSLIDER_HBlend, HBlendRadius_Default#)

			CPy = CPy + SIZE_SLIDER
			
		' Vertical blend radius:

			CPy = CPy + SIZE_SPACE
		
			LABEL = CreateLabel("Vertical Blend Radius:", CPx, CPy, 220-32, HEIGHT_LABEL, PANEL_Controls, 0)
				SetGadgetLayout LABEL, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED

			CPy = CPy + HEIGHT_LABEL

			TEXTFIELD_VBlend = CreateTextField(CPx, CPy, 40, HEIGHT_TEXTFIELD, PANEL_Controls, 0)
				SetGadgetLayout TEXTFIELD_VBlend, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetText   TEXTFIELD_VBlend, VBlendRadius_Default#

			HSLIDER_VBlend = CreateSlider(CPx+40+8, CPy, CPwidth-48, SIZE_SLIDER, PANEL_Controls, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
				SetGadgetLayout HSLIDER_VBlend, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetSliderRange  HSLIDER_VBlend, 0, VBlendRadius_SliderSteps+1
	
				'Set_Slider_Value(HSLIDER_VBlend, VBlendRadius_Default#)
			
			CPy = CPy + SIZE_SLIDER


		' Final texture width:
		
			CPy = CPy + SIZE_SPACE
		
			LABEL = CreateLabel("Final Size:", CPx, CPy, 220-32, HEIGHT_LABEL, PANEL_Controls, 0)
				SetGadgetLayout LABEL, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED

			CPy = CPy + HEIGHT_LABEL

			TEXTFIELD_FinalWidth = CreateTextField(CPx, CPy, 40, HEIGHT_TEXTFIELD, PANEL_Controls, 0)
				SetGadgetLayout TEXTFIELD_FinalWidth, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetText   TEXTFIELD_FinalWidth, FinalWidth_Default

			LABEL = CreateLabel("x", CPx+32+16, CPy, 8, HEIGHT_LABEL, PANEL_Controls, 0)
				SetGadgetLayout LABEL, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED

			TEXTFIELD_FinalHeight = CreateTextField(CPx+64, CPy, 40, HEIGHT_TEXTFIELD, PANEL_Controls, 0)
				SetGadgetLayout TEXTFIELD_FinalHeight, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetText   TEXTFIELD_FinalHeight, FinalHeight_Default
							
			CPy = CPy + HEIGHT_TEXTFIELD

		
		' Display total control panel size in debugger so we can set it properly at the beginning after me make changes.
		' (We can't set it at the end because the controls will end up with black bacgrounds due to a bug.)
			
			CPy = CPy + SIZE_SPACE					
			
			DebugLog("Control panel height = " + CPy)


End Rem
					
	' Create the progress bar.
		' PROGBAR_Progressbar = CreateProgBar(WINDOW_Width-212, WINDOW_Height-20, 204, HEIGHT_PROGRESSBAR, WINDOW_Main)
	
	' Load custom mouse pointers.
	'	LoadPointers()

	'UpdatePreviewPane()			
	'UpdateControlPanel()		
	
	MaximizeWindow WINDOW_Main
					
End Function	
</textarea><br><br>I need to know how it looks on a Mac so I can see if the smaller text size is legible and if the text fits in the textboxes nicely.  Please post a screenshot.<br><br>The tabber and button font are left at the defaults, so those may differ in size from the PC version. <br><br></td></tr></table><br>
<a name="975253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <pre class=code>Global FONT_Label:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 7) ' 7 Pixels
	Global FONT_Textfield:TGuiFont = LookupGuiFont(GUIFONT_SYSTEM, 9) ' 9 pixels
	Global FONT_Tabber:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 9)
	Global FONT_Panel:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 10) ' 10 pixels
	Global FONT_Header:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 9)</pre> <br></div><br>You really shouldn't be putting in values for the sizes for the textfield and label fonts. LookupGUIFont() will find the system value for you.<br><br>Also, scrollbars should be 18 pixels. <br><br></td></tr></table><br>
<a name="975255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ked:<br><br>The reason I am putting in values for the textfield and label fonts is because if I don't:<br><br>A) With all the labels the same size, the interface would look cheap and ugly.  And worse, it would be confusing to the eye with no cues to direct your gaze.  The prinicples behind designing a good interface are not so different from those used for good web design.<br><br>B) The fonts will be different sizes on the PC and the Mac.  They may even be different sizes on different PC's depending on what operating system the user is running, and whether they have large fonts enabled.  And MaxGUI doesn't allow me to handle those situations gracefully.  There's no way to get the size in pixels of a font.  And even if there were, there's no way to get the font a textbox uses by default, so there's no way to calculate the size the textbox needs to be to fit the font.<br><br>As for the scrollbars, on the PC, in Windows XP at least, scrollbars are 16 pixels wide.  At least, that is the default.  It's possible the user may have changed it, and maybe it's different on the Mac, but again, MaxGUI fails because there's no way to get the size the user has set from the system.  If the scrollbars do default to 18 pixels on a Mac though, I may add some compiler directives to handle that.  I'll need confirmation of that though.<br><br>Ps:<br>Photoshop is a professional application used by millions of people and it uses it's own font sizes all over the place.  Heck, they even have their own controls, many of which duplicate functions of the most basic gadgets like sliders and tabbers.  I really don't think I'm doing anything horribly wrong here by using different font sizes for slider labels and section headers. <br><br></td></tr></table><br>
<a name="975332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would use compiler directives to create different gui's for the different platforms. You won't get this right with one form, I think. Do what's right for each platform instead of trying to come up with a 'one size fits most' concept. <br><br></td></tr></table><br>
<a name="975349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It can't hurt to try.  If I have to add some compiler directives and make stuff a little bigger on the Mac, then I will.<br><br>But I need to know how big stuff is on the Mac so I can design an interface which scales well between the two platforms, and looks good on both.  <br><br>Heck, I had to redesign that form about twenty times just to get it to look good on the PC.  I had the textboxes to the side of the labels with the sliders below.  I had the textboxes on the left side like in the first texture generator.  I tried both the group panel and the indent panel for surrounding the control panel.  I tried having group panels within the group panel for each section.  I also looked at various Mac interfaces to see how they divide things up.<br><br>I think this will probably look pretty clean on the Mac as well, but until I see how it renders everything together, I won't know for sure. <br><br></td></tr></table><br>
<a name="975548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> As for the scrollbars, on the PC, in Windows XP at least, scrollbars are 16 pixels wide. <br></div><br>Sorry, my mistake. They are <i>17</i> by default when XP Themes are used, otherwise they are <i>16</i> when Win95/Win98 Themes are used. <br><br></td></tr></table><br>
<a name="975827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Initially your program didn't render on my mac.  I had to remove the WINDOW_HIDDEN flag from the window creation function.  Once rendered the writing on for the Slider labels are very small.  They certain could be increased by a few points sizes.  I will try an upload a piccy tomorrow if no one else has. <br><br></td></tr></table><br>
<a name="975849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uncle:<br>Thanks.  I would definitely like to see a pic.  If that text isn't legibile on the Mac, then a simple compiler directive will fix that.  I'm also interested in seeing how the text lines up in the textboxes.<br><br>As for the WINDOW_HIDDEN issue, I think I'll post that in the bug forum, because maximizing the window on the PC makes it visible, and that clearly isn't happening on the Mac, so either one or the other is not behaving as intended. <br><br></td></tr></table><br>
<a name="975852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> As for the WINDOW_HIDDEN issue, I think I'll post that in the bug forum, because maximizing the window on the PC makes it visible, and that clearly isn't happening on the Mac, so either one or the other is not behaving as intended.  <br></div><br>I've already fixed this behaviour so that it is consistent with Windows, and will be available in the next MaxGUI release. <br><br></td></tr></table><br>
<a name="975854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops.  Guess I didn't need to post about that then. :-)<br><br>Did you fix that just now or was it an older bug? <br><br></td></tr></table><br>
<a name="975855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Did you fix that just now or was it an older bug? <br></div><br>Fixed it a few days ago for both Linux and Mac. :-) <br><br></td></tr></table><br>
<a name="975903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's the picture as promised...<br><br><br><img src="http://farm4.static.flickr.com/3526/3773598367_7d1538f5ff_o.png"> <br><br></td></tr></table><br>
<a name="975904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where are the menus? <br><br></td></tr></table><br>
<a name="975907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Menus never appear in the actual window on a mac, but instead they appear at the top of the desktop in the equivalent of the Windows taskbar.  They were fine in the example Sswift posted and I had the following menu options...<br><br>File<br>   Open...<br>   Open recent<br>   Save<br>   Batch<br>   Exit<br><br>Options<br>   Auto Update<br>   Render<br><br>Help<br>   Search<br>   Contents<br>   About <br><br></td></tr></table><br>
<a name="975908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course, the About menu is in the wrong place. But don't worry, all MaxGUI apps are the same. <br><br></td></tr></table><br>
<a name="975919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that looks pretty good on Mac. I don't like the smaller fonts at the sliders though... I don't think it's needed to make them smaller. <br><br></td></tr></table><br>
<a name="975985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey:<br>Where does About usually end up on a Mac?<br><br>Weibo:<br>Well, somethings wrong with those.  If you compare the PC and the Mac screenshots, the Mac fonts have ended up notably smaller.  Two pixels smaller to be precise.<br><br>Uncle:<br>Can you post a screenshot of this one?  I've added some compiler directives to adjust the size of the fonts on the Mac up by two pixels.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
Import MaxGUI.Drivers

'Global Font_ArialBlack

Global Application_Title$ = "Seamless Texture Generator 2 - C:/textures/blah.jpg (1024 x 768)"

Global WINDOW_Main:TGadget
	
	
	
?Win32	
	
	' Do not use 8pt font.  On a PC, it will be 9 pixels tall, but narrower and harder to read.
		
	Global FONT_Label:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 7) ' 7 Pixels (2 pixels smaller than normal)
	Global FONT_Textfield:TGuiFont = LookupGuiFont(GUIFONT_SYSTEM, 9) ' 9 pixels
	Global FONT_Header:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 9) ' 9 pixels (Mac = 7)

?MacOS

	Global FONT_Label:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 9)  ' ? Pixels 
	Global FONT_Textfield:TGuiFont = LookupGuiFont(GUIFONT_SYSTEM, 11) ' ? pixels
	Global FONT_Header:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 11) ' ? pixels 

?

	Global MENU_Root:TGadget
		Global MENU_File:TGadget
			Global MENU_Open:TGadget
			Global MENU_OpenRecent:TGadget
				Global MENU_RecentFile:TGadget[10]
			Global MENU_Save:TGadget
			Global MENU_Batch:TGadget
			Global MENU_Exit:TGadget
		Global MENU_Options:TGadget
			Global MENU_AutoUpdate:TGadget
			Global MENU_Render:TGadget
				Global MENU_Reflectance:TGadget
				Global MENU_Displacement:TGadget
				Global MENU_Normal:TGadget			
		Global MENU_Help:TGadget
			Global MENU_Contents:TGadget
			Global MENU_About:TGadget
		Global MENU_Buynow:TGadget
				
	Global CANVAS_Preview:TGadget
	Global PANEL_PreviewPaneIndent:TGadget, PANEL_PreviewPane:TGadget, TABBER_PreviewPane:TGadget, HSLIDER_PreviewPane:TGadget, VSLIDER_PreviewPane:TGadget
	Global PROGBAR_Progressbar:TGadget
	Global PANEL_Indent:TGadget, PANEL_Controls:TGadget, VSLIDER_Controls:TGadget
			
	' Control panel:
		
		Global PANEL_Color:TGadget

			Global TEXTFIELD_Brightness:TGadget
			Global HSLIDER_Brightness:TGadget

			Global TEXTFIELD_Contrast:TGadget
			Global HSLIDER_Contrast:TGadget

			Global TEXTFIELD_Red:TGadget
			Global HSLIDER_Red:TGadget

			Global TEXTFIELD_Green:TGadget
			Global HSLIDER_Green:TGadget

			Global TEXTFIELD_Blue:TGadget
			Global HSLIDER_Blue:TGadget
		
		Global PANEL_Flash:TGadget
		
			Global TEXTFIELD_ShadingStrength:TGadget
			Global HSLIDER_ShadingStrength:TGadget
	
			Global TEXTFIELD_ShadingBlurRadius:TGadget
			Global HSLIDER_ShadingBlurRadius:TGadget
	
		Global TEXTFIELD_HBlend:TGadget
		Global HSLIDER_HBlend:TGadget

		Global TEXTFIELD_VBlend:TGadget
		Global HSLIDER_VBlend:TGadget

		Global TEXTFIELD_Sharpness:TGadget
		Global HSLIDER_Sharpness:TGadget

		Global TEXTFIELD_FinalWidth:TGadget
		Global TEXTFIELD_FinalHeight:TGadget

		Global BUTTON_Render:TGadget	
		Global BUTTON_Preview:TGadget	


' Default image adjustment settings.
	
		Global HBlendRadius_Default# = 1 
		Global VBlendRadius_Default# = 1

		Global ShadingStrength_Default#   = 1
		Global ShadingBlurRadius_Default# = 64
		
		Global Sharpness_Default# = 0

		Global Quad_X#[4]				
		Global Quad_Y#[4]
		
		Global FinalWidth_Default%  = 512
		Global FinalHeight_Default% = 512
		
		
	' Current image adjustment settings.	
		Global FinalWidth%  = FinalWidth_Default
		Global FinalHeight% = FinalHeight_Default
	
		Global Seamless_U% = True
		Global Seamless_V% = True


	' Min and max values for all the image adjustment controls.		
		Global HBlendRadius_Min# = 0 
		Global HBlendRadius_Max# = 1
		Global HBlendRadius_SliderSteps% = 100

		Global VBlendRadius_Min# = 0 
		Global VBlendRadius_Max# = 1 
		Global VBlendRadius_SliderSteps% = 100

		Global ShadingStrength_Min# = 0
		Global ShadingStrength_Max# = 1
		Global ShadingStrength_SliderSteps% = 100
	
		Global ShadingBlurRadius_Min# = 1
		Global ShadingBlurRadius_Max# = 256
		Global ShadingBlurRadius_SliderSteps% = 255

		Global Sharpness_Min# = 0
		Global Sharpness_Max# = 1
		Global Sharpness_SliderSteps% = 100
               	
		Global FinalWidth_Min% = 2
		Global FinalWidth_Max% 
		
		Global FinalHeight_Min% = 2
		Global FinalHeight_Max% 


Init()


Repeat
	Select WaitEvent()
		Case EVENT_APPTERMINATE, EVENT_WINDOWCLOSE;End
	EndSelect
Forever



' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
' This function creates a separator. 
' It uses the LABEL_SUNKENFRAME style because it looks more professional than LABEL_SEPARATOR.
' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	Function CreateSeparator:TGadget(X%, Y%, Width%, Group:TGadget)

		Local Temp:TGadget

		Temp = CreateLabel("", X, Y, Width, 2, Group, LABEL_SUNKENFRAME)
		SetGadgetLayout Temp, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
	
		Return Temp
	
	End Function	


' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
' This function initializes the application.
' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Function Init()
	
	Const HEIGHT_LABEL%     = 16
	Const WIDTH_LABEL%	    = 256
	Const HEIGHT_TEXTFIELD% = 22
	Const WIDTH_TEXTFIELD%  = 40
	Const HEIGHT_TRACKBAR%  = 22
	Const SIZE_SLIDER%      = 16
	Const HEIGHT_BUTTON%    = 24
	Const HEIGHT_COMBOBOX%  = 24
	Const HEIGHT_PROGBAR%   = 22
	Const HEIGHT_SEPARATOR% = 2
	Const SIZE_SPACE%       = 8
	Const WIDTH_CONTROLPANEL% = 200
	
	Local WIDTH_TRACKBAR%
	Local Width%, Height%, X%, Y%
	Local Panel:TGadget, Label:TGadget, TextField:TGadget, Slider:TGadget, Button:TGadget

	
	
		
	' Create the window at the smallest size it can be, then maximize it.
		
		WINDOW_Main = CreateWindow(Application_Title$, 0, 0, 640, 480, Null, WINDOW_TITLEBAR|WINDOW_RESIZABLE|WINDOW_MENU|WINDOW_STATUS|WINDOW_ACCEPTFILES|WINDOW_HIDDEN) 
		
		SetStatusText(WINDOW_Main, "Rendering...")


	' Save the size of the area inside the window in which we can draw.
		
		'WINDOW_Width  = ClientWidth(WINDOW_Main)
		'WINDOW_Height = ClientHeight(WINDOW_Main)

	Rem 
	' Load the watermark.
		If VERSION = EVALULATION
		
			' Load the watermark.
				CopyFile "config.dat", "config.png" 
				IMAGE_Watermark = LoadImage("config.png")
				DeleteFile "config.png"
							
			' If the watermark could not be loaded, pop up an error and exit the program.
				If IMAGE_Watermark = 0 
					Notify("Error: CONFIG.DAT not found.  Please reinstall the program.", True)
					End
				EndIf

			' If the watermark has the wrong CRC, exit with an error.
				
				' DebugLog(CRC_File("config.dat"))
				
				If CRC_File("config.dat") &lt;&gt; 669102732
					Notify("Error: CONFIG.DAT has been corrupted.  Please reinstall the program.")
					End
				EndIf  
						

		EndIf
		
	' Load fonts.
	'	FONT_ArialBlack   = LoadFont("arial black", 32)
		
	End Rem
	
	' Create the menus.	
	
		MENU_Root = WindowMenu(WINDOW_Main)
	
			MENU_File = CreateMenu("&amp;File", 0, MENU_Root)
		
				MENU_Open = CreateMenu("&amp;Open...", 1, MENU_File, KEY_O, MODIFIER_COMMAND)
				MENU_OpenRecent = CreateMenu("Open &amp;Recent", 2, MENU_File)		
					
					MENU_RecentFile[0] = CreateMenu("c:\blah.jpg", 200, MENU_OpenRecent)			
					MENU_RecentFile[1] = CreateMenu("c:\texture.jpg", 201, MENU_OpenRecent)			
					
				CreateMenu("", 0, MENU_File)			
				MENU_Save = CreateMenu("&amp;Save...", 3, MENU_File, KEY_S, MODIFIER_COMMAND)
				CreateMenu("", 0, MENU_File)
				MENU_Batch = CreateMenu("&amp;Batch...", 4, MENU_File, KEY_B, MODIFIER_COMMAND)			
				CreateMenu("", 0, MENU_File)			
				MENU_Exit = CreateMenu("E&amp;xit", 99, MENU_File)			

				DisableMenu(MENU_Save)

			MENU_Options = CreateMenu("&amp;Options", 0, MENU_Root)			
				MENU_AutoUpdate = CreateMenu("&amp;Auto Update", 5, MENU_Options) ' Use CheckMenu() when menu selection event occurs to add checkmark.
				CreateMenu("", 0, MENU_Options)
				MENU_Render = CreateMenu("&amp;Render", 6, MENU_Options)
					MENU_Reflectance = CreateMenu("&amp;Reflectance", 7, MENU_Render)
					MENU_Displacement = CreateMenu("&amp;Displacement", 8, MENU_Render)
					MENU_Normal = CreateMenu("&amp;Normal", 9, MENU_Render)
								
			MENU_Help = CreateMenu("&amp;Help", 0, MENU_Root)
				
				MENU_Contents  = CreateMenu("&amp;Help Contents...", 10, MENU_Help, KEY_F1)	
				CreateMenu("",	0, MENU_Help)	
				MENU_About = CreateMenu("&amp;About...", 11, MENU_Help)	
	
'			If VERSION = EVALULATION
'				MENU_Buynow = CreateMenu("&amp;Click here to get the full version!", 100, MENU_Root)
'			EndIf
	
		UpdateWindowMenu(WINDOW_Main)		
		
		CreateSeparator(0, 0, ClientWidth(WINDOW_Main), WINDOW_Main)


	' Create the preview window.
		
		' Create an indentation around the main texture Panel.
			
		'	PANEL_PreviewPaneIndent = CreatePanel(0, 0, ClientWidth(WINDOW_Main)-220, ClientHeight(WINDOW_Main), WINDOW_Main, PANEL_GROUP)
		'	SetGadgetLayout(PANEL_PreviewPaneIndent, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED)

		' Create the Tabber at the top of the preview pane.
	
			TABBER_PreviewPane = CreateTabber(0, HEIGHT_SEPARATOR+SIZE_SPACE, ClientWidth(WINDOW_Main)-WIDTH_CONTROLPANEL, ClientHeight(WINDOW_Main)-HEIGHT_SEPARATOR-SIZE_SPACE, WINDOW_Main)
				SetGadgetLayout(TABBER_PreviewPane, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED)
				'SetGadgetFont(TABBER_PReviewPane, FONT_Tabber)
				
				AddGadgetItem(TABBER_PreviewPane, "Original") 
				AddGadgetItem(TABBER_PreviewPane, "Seamless")
				AddGadgetItem(TABBER_PreviewPane, "Reflectance")
				AddGadgetItem(TABBER_PreviewPane, "Displacement")
				AddGadgetItem(TABBER_PreviewPane, "Normal")
				AddGadgetItem(TABBER_PreviewPane, "Preview")
				
											
		' Create a Panel to clip the canvas that will contain our image.
			PANEL_PreviewPane = CreatePanel(0, 2, ClientWidth(TABBER_PreviewPane)-16, ClientHeight(TABBER_PreviewPane)-16-2, TABBER_PreviewPane)
				SetGadgetLayout PANEL_PreviewPane, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				SetPanelColor   PANEL_PreviewPane, 0, 0, 0 

		' Create sliders.
								
			HSLIDER_PreviewPane = CreateSlider(GadgetX(PANEL_PreviewPane), GadgetY(PANEL_PreviewPane) + GadgetHeight(PANEL_PreviewPane), GadgetWidth(PANEL_PreviewPane), SIZE_SLIDER, TABBER_PreviewPane, SLIDER_SCROLLBAR|SLIDER_HORIZONTAL)
				SetGadgetLayout HSLIDER_PreviewPane, EDGE_ALIGNED,  EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED

			VSLIDER_PreviewPane = CreateSlider(GadgetX(PANEL_PreviewPane) + GadgetWidth(PANEL_PreviewPane), GadgetY(PANEL_PreviewPane), SIZE_SLIDER, GadgetHeight(PANEL_PreviewPane), TABBER_PreviewPane, SLIDER_SCROLLBAR|SLIDER_VERTICAL)
				SetGadgetLayout VSLIDER_PreviewPane, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED,  EDGE_ALIGNED

		' Create dummy canvases to place inside the Panel. 
		' The canvases are deleted and replaced with a new one that fits the image each time a new image is loaded.
		
			' Create one canvas for each tab.
			'	UpdateCanvas(CI_ALL)
		
			' Set the original canvas to be the active canvas.
			'	SetActiveCanvas(CI_ORIGINAL)

						
	' Create the control Panel.

		' Render button:
			
			X = ClientWidth(WINDOW_Main) - WIDTH_CONTROLPANEL + SIZE_SLIDER + 2
			Y = ClientHeight(WINDOW_Main) - (SIZE_SPACE + HEIGHT_BUTTON)
			Width  = WIDTH_CONTROLPANEL - SIZE_SLIDER*2 - 4
			Height = HEIGHT_BUTTON
			
			BUTTON_Render = CreateButton("Render Texture", X, Y, Width, Height, WINDOW_Main, BUTTON_PUSH)
				SetGadgetLayout BUTTON_Render, EDGE_CENTERED, EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED
				'SetGadgetFont BUTTON_Render, GUIFONT_Bold	

				
		' Preview button:
			
		'	Y = Y - SIZE_SPACE - HEIGHT_BUTTON
	
		'	BUTTON_Preview = CreateButton("Render Preview", X, Y, Width, Height, WINDOW_Main, BUTTON_PUSH)
		'		SetGadgetLayout BUTTON_Preview, EDGE_CENTERED, EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED

				
		' Control panel indent: 
			
			Width  = WIDTH_CONTROLPANEL
			Height = Y - HEIGHT_SEPARATOR - SIZE_SPACE*2 
			X = ClientWidth(WINDOW_Main) - WIDTH_CONTROLPANEL
			Y = HEIGHT_SEPARATOR 

			Panel = CreatePanel(X, Y, Width, Height, WINDOW_Main, PANEL_GROUP)
				SetGadgetLayout Panel, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				
				PANEL_Indent = Panel
			
			
		' Control panel slider:
			
			VSLIDER_Controls = CreateSlider(ClientWidth(PANEL_Indent)-16, 0, SIZE_SLIDER, ClientHeight(PANEL_Indent), PANEL_Indent, SLIDER_SCROLLBAR|SLIDER_VERTICAL)
				SetGadgetLayout VSLIDER_Controls, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				'SetSliderRange  VSLIDER_Controls, 0, 100
				'Set_Slider_Value(HSLIDER_ShadingStrength, ShadingStrength_Default#)
			
								
		' Control panel:

			Panel = CreatePanel(0, 0, ClientWidth(PANEL_Indent)-SIZE_SLIDER, 2048, PANEL_Indent) 
				SetGadgetLayout Panel, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				
				PANEL_Controls = Panel
			
			WIDTH_TRACKBAR = ClientWidth(Panel) - (SIZE_SPACE*5 + WIDTH_TEXTFIELD)
			
			Width = ClientWidth(PANEL_Controls) - SIZE_SPACE*2 ' The width of the interior of the control panel, with some space around the edges.
			
			Y = 0
			
			
		' Shadow Removal:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Shadow removal :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE


				' Strength:
									
					Label = CreateLabel("Strength", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, ShadingStrength_Default#
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Radius:
									
					Label = CreateLabel("Radius", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, ShadingStrength_Default#
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
			

		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			
			
		
		' Blending:

			X = SIZE_SPACE
						
			Label = CreateLabel("Seam removal :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE


				' Horizontal:
									
					Label = CreateLabel("Horizontal", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 1000)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1.0"

					'Set_Slider_Value(HSLIDER_HBlend, HBlendRadius_Default#)
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Vertical:
									
					Label = CreateLabel("Vertical", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 1000)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1.0"
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Overlap:
									
					Label = CreateLabel("Overlap", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 1000)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "10%"
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE



		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			
		
									
		' Final Adjustment:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Color adjustment :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE ' Indent
						
				' Brightness:
									
					Label = CreateLabel("Brightness", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1"
					
					TEXTFIELD_Brightness = TextField
					HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE

						
				' Contrast:
								
					Label = CreateLabel("Contrast", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
				
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
					
				' Hue:
				
					Label = CreateLabel("Hue", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
				
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "0"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
					
				' Saturation:
				
					Label = CreateLabel("Saturation", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "0"
						
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE

		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			


		' Sharpening:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Sharpening :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE

				' Intensity:
				
					Label = CreateLabel("Intensity", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, Sharpness_Default#
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			


		' Sharpening:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Final size :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE


				' Width:
				
					Label = CreateLabel("Width", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 1, 6)
						SetSliderValue(Slider, 1)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "256"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Height:
				
					Label = CreateLabel("Height", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 1, 6)
						SetSliderValue(Slider, 1)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "256"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				
	' Create the progress bar.
		' PROGBAR_Progressbar = CreateProgBar(WINDOW_Width-212, WINDOW_Height-20, 204, HEIGHT_PROGRESSBAR, WINDOW_Main)
	
	' Load custom mouse pointers.
	'	LoadPointers()

	'UpdatePreviewPane()			
	'UpdateControlPanel()		
	
	MaximizeWindow WINDOW_Main
					
End Function	
</textarea> <br><br></td></tr></table><br>
<a name="975986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weibo:<br>Yeah, it looks a lot better than the <a href="http://www.spifftastic.net/skitch/sswift-1-20090720-044437.png" target="_blank">previous version</a> did!<br><br>[edit]<br><br>Haha... I just noitced Uncle went to all the trouble of adding a drop shadow to the new screenshot above. :-) <br><br></td></tr></table><br>
<a name="975993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Haha... I just noitced Uncle went to all the trouble of adding a drop shadow to the new screenshot above. :-) "<br><br>nope thats just what happens when you take a screen shot of window on a mac.<br><br>here's the latest version...<br><br><img src="http://farm4.static.flickr.com/3560/3774318751_17b3084942_o.png"> <br><br></td></tr></table><br>
<a name="975995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Where does About usually end up on a Mac? <br></div><br>It should be in the Application Menu. (as per the <b><a href="http://developer.apple.com/documentation/UserExperience/Conceptual/AppleHIGuidelines/XHIGMenus/XHIGMenus.html#//apple_ref/doc/uid/TP30000356-CIHDGFJB" target="_blank">HIG</a></b>) <br><br></td></tr></table><br>
<a name="976002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great!  Almost perfect. <br><br>I think I need to increase the size of those labels and textboxes by one more pixel though to bring them in line with the size I've set on the PC.  <br><br>That'll also bring them in line with the size of that button there, and, I think, the default size for labels and textboxes on the Mac.  <br>(Though I'm not certain of that, because I can't seem to find any information via Google on a Mac's default font sizes.)<br><br>If you could post one more screenshot for me, that ought to do it for now.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
Import MaxGUI.Drivers

'Global Font_ArialBlack

Global Application_Title$ = "Seamless Texture Generator 2 - C:/textures/blah.jpg (1024 x 768)"

Global WINDOW_Main:TGadget
	
	
	
?Win32	
	
	' Do not use 8pt font.  On a PC, it will be 9 pixels tall, but narrower and harder to read.
		
	Global FONT_Label:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 7) ' 7 Pixels (2 pixels smaller than normal)
	Global FONT_Textfield:TGuiFont = LookupGuiFont(GUIFONT_SYSTEM, 9) ' 9 pixels
	Global FONT_Header:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 9) ' 9 pixels (Mac = 7)

?MacOS

	Global FONT_Label:TGuiFont     = LookupGuiFont(GUIFONT_SYSTEM, 9)  ' 7 Pixels 
	Global FONT_Textfield:TGuiFont = LookupGuiFont(GUIFONT_SYSTEM, 12) ' ? pixels
	Global FONT_Header:TGuiFont    = LookupGuiFont(GUIFONT_SYSTEM, 12) ' ? pixels 

?

	Global MENU_Root:TGadget
		Global MENU_File:TGadget
			Global MENU_Open:TGadget
			Global MENU_OpenRecent:TGadget
				Global MENU_RecentFile:TGadget[10]
			Global MENU_Save:TGadget
			Global MENU_Batch:TGadget
			Global MENU_Exit:TGadget
		Global MENU_Options:TGadget
			Global MENU_AutoUpdate:TGadget
			Global MENU_Render:TGadget
				Global MENU_Reflectance:TGadget
				Global MENU_Displacement:TGadget
				Global MENU_Normal:TGadget			
		Global MENU_Help:TGadget
			Global MENU_Contents:TGadget
			Global MENU_About:TGadget
		Global MENU_Buynow:TGadget
				
	Global CANVAS_Preview:TGadget
	Global PANEL_PreviewPaneIndent:TGadget, PANEL_PreviewPane:TGadget, TABBER_PreviewPane:TGadget, HSLIDER_PreviewPane:TGadget, VSLIDER_PreviewPane:TGadget
	Global PROGBAR_Progressbar:TGadget
	Global PANEL_Indent:TGadget, PANEL_Controls:TGadget, VSLIDER_Controls:TGadget
			
	' Control panel:
		
		Global PANEL_Color:TGadget

			Global TEXTFIELD_Brightness:TGadget
			Global HSLIDER_Brightness:TGadget

			Global TEXTFIELD_Contrast:TGadget
			Global HSLIDER_Contrast:TGadget

			Global TEXTFIELD_Red:TGadget
			Global HSLIDER_Red:TGadget

			Global TEXTFIELD_Green:TGadget
			Global HSLIDER_Green:TGadget

			Global TEXTFIELD_Blue:TGadget
			Global HSLIDER_Blue:TGadget
		
		Global PANEL_Flash:TGadget
		
			Global TEXTFIELD_ShadingStrength:TGadget
			Global HSLIDER_ShadingStrength:TGadget
	
			Global TEXTFIELD_ShadingBlurRadius:TGadget
			Global HSLIDER_ShadingBlurRadius:TGadget
	
		Global TEXTFIELD_HBlend:TGadget
		Global HSLIDER_HBlend:TGadget

		Global TEXTFIELD_VBlend:TGadget
		Global HSLIDER_VBlend:TGadget

		Global TEXTFIELD_Sharpness:TGadget
		Global HSLIDER_Sharpness:TGadget

		Global TEXTFIELD_FinalWidth:TGadget
		Global TEXTFIELD_FinalHeight:TGadget

		Global BUTTON_Render:TGadget	
		Global BUTTON_Preview:TGadget	


' Default image adjustment settings.
	
		Global HBlendRadius_Default# = 1 
		Global VBlendRadius_Default# = 1

		Global ShadingStrength_Default#   = 1
		Global ShadingBlurRadius_Default# = 64
		
		Global Sharpness_Default# = 0

		Global Quad_X#[4]				
		Global Quad_Y#[4]
		
		Global FinalWidth_Default%  = 512
		Global FinalHeight_Default% = 512
		
		
	' Current image adjustment settings.	
		Global FinalWidth%  = FinalWidth_Default
		Global FinalHeight% = FinalHeight_Default
	
		Global Seamless_U% = True
		Global Seamless_V% = True


	' Min and max values for all the image adjustment controls.		
		Global HBlendRadius_Min# = 0 
		Global HBlendRadius_Max# = 1
		Global HBlendRadius_SliderSteps% = 100

		Global VBlendRadius_Min# = 0 
		Global VBlendRadius_Max# = 1 
		Global VBlendRadius_SliderSteps% = 100

		Global ShadingStrength_Min# = 0
		Global ShadingStrength_Max# = 1
		Global ShadingStrength_SliderSteps% = 100
	
		Global ShadingBlurRadius_Min# = 1
		Global ShadingBlurRadius_Max# = 256
		Global ShadingBlurRadius_SliderSteps% = 255

		Global Sharpness_Min# = 0
		Global Sharpness_Max# = 1
		Global Sharpness_SliderSteps% = 100
               	
		Global FinalWidth_Min% = 2
		Global FinalWidth_Max% 
		
		Global FinalHeight_Min% = 2
		Global FinalHeight_Max% 


Init()


Repeat
	Select WaitEvent()
		Case EVENT_APPTERMINATE, EVENT_WINDOWCLOSE;End
	EndSelect
Forever



' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
' This function creates a separator. 
' It uses the LABEL_SUNKENFRAME style because it looks more professional than LABEL_SEPARATOR.
' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------

	Function CreateSeparator:TGadget(X%, Y%, Width%, Group:TGadget)

		Local Temp:TGadget

		Temp = CreateLabel("", X, Y, Width, 2, Group, LABEL_SUNKENFRAME)
		SetGadgetLayout Temp, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
	
		Return Temp
	
	End Function	


' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
' This function initializes the application.
' ----------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------------
Function Init()
	
	Const HEIGHT_LABEL%     = 16
	Const WIDTH_LABEL%	    = 256
	Const HEIGHT_TEXTFIELD% = 22
	Const WIDTH_TEXTFIELD%  = 40
	Const HEIGHT_TRACKBAR%  = 22
	Const SIZE_SLIDER%      = 16
	Const HEIGHT_BUTTON%    = 24
	Const HEIGHT_COMBOBOX%  = 24
	Const HEIGHT_PROGBAR%   = 22
	Const HEIGHT_SEPARATOR% = 2
	Const SIZE_SPACE%       = 8
	Const WIDTH_CONTROLPANEL% = 200
	
	Local WIDTH_TRACKBAR%
	Local Width%, Height%, X%, Y%
	Local Panel:TGadget, Label:TGadget, TextField:TGadget, Slider:TGadget, Button:TGadget

	
	
		
	' Create the window at the smallest size it can be, then maximize it.
		
		WINDOW_Main = CreateWindow(Application_Title$, 0, 0, 640, 480, Null, WINDOW_TITLEBAR|WINDOW_RESIZABLE|WINDOW_MENU|WINDOW_STATUS|WINDOW_ACCEPTFILES|WINDOW_HIDDEN) 
		
		SetStatusText(WINDOW_Main, "Rendering...")


	' Save the size of the area inside the window in which we can draw.
		
		'WINDOW_Width  = ClientWidth(WINDOW_Main)
		'WINDOW_Height = ClientHeight(WINDOW_Main)

	Rem 
	' Load the watermark.
		If VERSION = EVALULATION
		
			' Load the watermark.
				CopyFile "config.dat", "config.png" 
				IMAGE_Watermark = LoadImage("config.png")
				DeleteFile "config.png"
							
			' If the watermark could not be loaded, pop up an error and exit the program.
				If IMAGE_Watermark = 0 
					Notify("Error: CONFIG.DAT not found.  Please reinstall the program.", True)
					End
				EndIf

			' If the watermark has the wrong CRC, exit with an error.
				
				' DebugLog(CRC_File("config.dat"))
				
				If CRC_File("config.dat") &lt;&gt; 669102732
					Notify("Error: CONFIG.DAT has been corrupted.  Please reinstall the program.")
					End
				EndIf  
						

		EndIf
		
	' Load fonts.
	'	FONT_ArialBlack   = LoadFont("arial black", 32)
		
	End Rem
	
	' Create the menus.	
	
		MENU_Root = WindowMenu(WINDOW_Main)
	
			MENU_File = CreateMenu("&amp;File", 0, MENU_Root)
		
				MENU_Open = CreateMenu("&amp;Open...", 1, MENU_File, KEY_O, MODIFIER_COMMAND)
				MENU_OpenRecent = CreateMenu("Open &amp;Recent", 2, MENU_File)		
					
					MENU_RecentFile[0] = CreateMenu("c:\blah.jpg", 200, MENU_OpenRecent)			
					MENU_RecentFile[1] = CreateMenu("c:\texture.jpg", 201, MENU_OpenRecent)			
					
				CreateMenu("", 0, MENU_File)			
				MENU_Save = CreateMenu("&amp;Save...", 3, MENU_File, KEY_S, MODIFIER_COMMAND)
				CreateMenu("", 0, MENU_File)
				MENU_Batch = CreateMenu("&amp;Batch...", 4, MENU_File, KEY_B, MODIFIER_COMMAND)			
				CreateMenu("", 0, MENU_File)			
				MENU_Exit = CreateMenu("E&amp;xit", 99, MENU_File)			

				DisableMenu(MENU_Save)

			MENU_Options = CreateMenu("&amp;Options", 0, MENU_Root)			
				MENU_AutoUpdate = CreateMenu("&amp;Auto Update", 5, MENU_Options) ' Use CheckMenu() when menu selection event occurs to add checkmark.
				CreateMenu("", 0, MENU_Options)
				MENU_Render = CreateMenu("&amp;Render", 6, MENU_Options)
					MENU_Reflectance = CreateMenu("&amp;Reflectance", 7, MENU_Render)
					MENU_Displacement = CreateMenu("&amp;Displacement", 8, MENU_Render)
					MENU_Normal = CreateMenu("&amp;Normal", 9, MENU_Render)
								
			MENU_Help = CreateMenu("&amp;Help", 0, MENU_Root)
				
				MENU_Contents  = CreateMenu("&amp;Help Contents...", 10, MENU_Help, KEY_F1)	
				CreateMenu("",	0, MENU_Help)	
				MENU_About = CreateMenu("&amp;About...", 11, MENU_Help)	
	
'			If VERSION = EVALULATION
'				MENU_Buynow = CreateMenu("&amp;Click here to get the full version!", 100, MENU_Root)
'			EndIf
	
		UpdateWindowMenu(WINDOW_Main)		
		
		CreateSeparator(0, 0, ClientWidth(WINDOW_Main), WINDOW_Main)


	' Create the preview window.
		
		' Create an indentation around the main texture Panel.
			
		'	PANEL_PreviewPaneIndent = CreatePanel(0, 0, ClientWidth(WINDOW_Main)-220, ClientHeight(WINDOW_Main), WINDOW_Main, PANEL_GROUP)
		'	SetGadgetLayout(PANEL_PreviewPaneIndent, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED)

		' Create the Tabber at the top of the preview pane.
	
			TABBER_PreviewPane = CreateTabber(0, HEIGHT_SEPARATOR+SIZE_SPACE, ClientWidth(WINDOW_Main)-WIDTH_CONTROLPANEL, ClientHeight(WINDOW_Main)-HEIGHT_SEPARATOR-SIZE_SPACE, WINDOW_Main)
				SetGadgetLayout(TABBER_PreviewPane, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED)
				'SetGadgetFont(TABBER_PReviewPane, FONT_Tabber)
				
				AddGadgetItem(TABBER_PreviewPane, "Original") 
				AddGadgetItem(TABBER_PreviewPane, "Seamless")
				AddGadgetItem(TABBER_PreviewPane, "Reflectance")
				AddGadgetItem(TABBER_PreviewPane, "Displacement")
				AddGadgetItem(TABBER_PreviewPane, "Normal")
				AddGadgetItem(TABBER_PreviewPane, "Preview")
				
											
		' Create a Panel to clip the canvas that will contain our image.
			PANEL_PreviewPane = CreatePanel(0, 2, ClientWidth(TABBER_PreviewPane)-16, ClientHeight(TABBER_PreviewPane)-16-2, TABBER_PreviewPane)
				SetGadgetLayout PANEL_PreviewPane, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				SetPanelColor   PANEL_PreviewPane, 0, 0, 0 

		' Create sliders.
								
			HSLIDER_PreviewPane = CreateSlider(GadgetX(PANEL_PreviewPane), GadgetY(PANEL_PreviewPane) + GadgetHeight(PANEL_PreviewPane), GadgetWidth(PANEL_PreviewPane), SIZE_SLIDER, TABBER_PreviewPane, SLIDER_SCROLLBAR|SLIDER_HORIZONTAL)
				SetGadgetLayout HSLIDER_PreviewPane, EDGE_ALIGNED,  EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED

			VSLIDER_PreviewPane = CreateSlider(GadgetX(PANEL_PreviewPane) + GadgetWidth(PANEL_PreviewPane), GadgetY(PANEL_PreviewPane), SIZE_SLIDER, GadgetHeight(PANEL_PreviewPane), TABBER_PreviewPane, SLIDER_SCROLLBAR|SLIDER_VERTICAL)
				SetGadgetLayout VSLIDER_PreviewPane, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED,  EDGE_ALIGNED

		' Create dummy canvases to place inside the Panel. 
		' The canvases are deleted and replaced with a new one that fits the image each time a new image is loaded.
		
			' Create one canvas for each tab.
			'	UpdateCanvas(CI_ALL)
		
			' Set the original canvas to be the active canvas.
			'	SetActiveCanvas(CI_ORIGINAL)

						
	' Create the control Panel.

		' Render button:
			
			X = ClientWidth(WINDOW_Main) - WIDTH_CONTROLPANEL + SIZE_SLIDER + 2
			Y = ClientHeight(WINDOW_Main) - (SIZE_SPACE + HEIGHT_BUTTON)
			Width  = WIDTH_CONTROLPANEL - SIZE_SLIDER*2 - 4
			Height = HEIGHT_BUTTON
			
			BUTTON_Render = CreateButton("Render Texture", X, Y, Width, Height, WINDOW_Main, BUTTON_PUSH)
				SetGadgetLayout BUTTON_Render, EDGE_CENTERED, EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED
				'SetGadgetFont BUTTON_Render, GUIFONT_Bold	

				
		' Preview button:
			
		'	Y = Y - SIZE_SPACE - HEIGHT_BUTTON
	
		'	BUTTON_Preview = CreateButton("Render Preview", X, Y, Width, Height, WINDOW_Main, BUTTON_PUSH)
		'		SetGadgetLayout BUTTON_Preview, EDGE_CENTERED, EDGE_ALIGNED, EDGE_CENTERED, EDGE_ALIGNED

				
		' Control panel indent: 
			
			Width  = WIDTH_CONTROLPANEL
			Height = Y - HEIGHT_SEPARATOR - SIZE_SPACE*2 
			X = ClientWidth(WINDOW_Main) - WIDTH_CONTROLPANEL
			Y = HEIGHT_SEPARATOR 

			Panel = CreatePanel(X, Y, Width, Height, WINDOW_Main, PANEL_GROUP)
				SetGadgetLayout Panel, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				
				PANEL_Indent = Panel
			
			
		' Control panel slider:
			
			VSLIDER_Controls = CreateSlider(ClientWidth(PANEL_Indent)-16, 0, SIZE_SLIDER, ClientHeight(PANEL_Indent), PANEL_Indent, SLIDER_SCROLLBAR|SLIDER_VERTICAL)
				SetGadgetLayout VSLIDER_Controls, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_ALIGNED
				'SetSliderRange  VSLIDER_Controls, 0, 100
				'Set_Slider_Value(HSLIDER_ShadingStrength, ShadingStrength_Default#)
			
								
		' Control panel:

			Panel = CreatePanel(0, 0, ClientWidth(PANEL_Indent)-SIZE_SLIDER, 2048, PANEL_Indent) 
				SetGadgetLayout Panel, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				
				PANEL_Controls = Panel
			
			WIDTH_TRACKBAR = ClientWidth(Panel) - (SIZE_SPACE*5 + WIDTH_TEXTFIELD)
			
			Width = ClientWidth(PANEL_Controls) - SIZE_SPACE*2 ' The width of the interior of the control panel, with some space around the edges.
			
			Y = 0
			
			
		' Shadow Removal:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Shadow removal :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE


				' Strength:
									
					Label = CreateLabel("Strength", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, ShadingStrength_Default#
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Radius:
									
					Label = CreateLabel("Radius", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, ShadingStrength_Default#
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
			

		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			
			
		
		' Blending:

			X = SIZE_SPACE
						
			Label = CreateLabel("Seam removal :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE


				' Horizontal:
									
					Label = CreateLabel("Horizontal", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 1000)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1.0"

					'Set_Slider_Value(HSLIDER_HBlend, HBlendRadius_Default#)
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Vertical:
									
					Label = CreateLabel("Vertical", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 1000)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1.0"
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Overlap:
									
					Label = CreateLabel("Overlap", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 1000)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "10%"
					
					'TEXTFIELD_Brightness = TextField
					'HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE



		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			
		
									
		' Final Adjustment:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Color adjustment :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE ' Indent
						
				' Brightness:
									
					Label = CreateLabel("Brightness", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)

					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1"
					
					TEXTFIELD_Brightness = TextField
					HSLIDER_Brightness = Slider
					
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE

						
				' Contrast:
								
					Label = CreateLabel("Contrast", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
				
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "1"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
					
				' Hue:
				
					Label = CreateLabel("Hue", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
				
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "0"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE
					
				' Saturation:
				
					Label = CreateLabel("Saturation", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 500)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "0"
						
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE

		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			


		' Sharpening:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Sharpening :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE

				' Intensity:
				
					Label = CreateLabel("Intensity", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 0, 1000)
						SetSliderValue(Slider, 0)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, Sharpness_Default#
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


		' Separator:	
			Y = Y + SIZE_SPACE
			CreateSeparator(SIZE_SPACE, Y, Width, Panel)
			Y = Y + HEIGHT_SEPARATOR + SIZE_SPACE			


		' Sharpening:
			
			X = SIZE_SPACE
						
			Label = CreateLabel("Final size :", X, Y, Width, HEIGHT_LABEL, Panel)
				SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
				SetGadgetFont Label, FONT_Header
			
			Y = Y + HEIGHT_LABEL + SIZE_SPACE*2

			X = X + SIZE_SPACE


				' Width:
				
					Label = CreateLabel("Width", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 1, 6)
						SetSliderValue(Slider, 1)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "256"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				' Height:
				
					Label = CreateLabel("Height", X, Y, Width, HEIGHT_LABEL, Panel)
						SetGadgetLayout Label, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont Label, FONT_Label
						
					Y = Y + HEIGHT_LABEL

					Slider = CreateSlider(X, Y, WIDTH_TRACKBAR, HEIGHT_TRACKBAR, Panel, SLIDER_HORIZONTAL|SLIDER_TRACKBAR)
						SetGadgetLayout(Slider, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED)
						SetSliderRange(Slider, 1, 6)
						SetSliderValue(Slider, 1)
							
					TextField = CreateTextField(X + WIDTH_TRACKBAR + SIZE_SPACE, Y, WIDTH_TEXTFIELD, HEIGHT_TEXTFIELD, Panel)
						SetGadgetLayout Textfield, EDGE_CENTERED, EDGE_ALIGNED, EDGE_ALIGNED, EDGE_CENTERED
						SetGadgetFont   Textfield, FONT_Textfield
						SetGadgetText   Textfield, "256"
				
					Y = Y + HEIGHT_TEXTFIELD + SIZE_SPACE


				
	' Create the progress bar.
		' PROGBAR_Progressbar = CreateProgBar(WINDOW_Width-212, WINDOW_Height-20, 204, HEIGHT_PROGRESSBAR, WINDOW_Main)
	
	' Load custom mouse pointers.
	'	LoadPointers()

	'UpdatePreviewPane()			
	'UpdateControlPanel()		
	
	MaximizeWindow WINDOW_Main
					
End Function	
</textarea> <br><br></td></tr></table><br>
<a name="976006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey:<br>So I guess there's no way to create a proper boldface application menu in BlitzMax huh?<br><br>Uncle:<br>Does an application menu even show up when you run my app, and if so, what is it's title?<br><br>That thing Brucey linked me to indicates there's a "short name" you can put in the "application package".  I don't know much about those, but sounds like something whoever builds the Mac version could specify when they put together the final version to go up on the website.<br><br>But that still leaves the question of whether you can add anything to that menu, and if the Quit option shows up there regardless of whether I add one myself. <br><br></td></tr></table><br>
<a name="976012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately the default appstub (see brl.appstub) implements its own take on an application menu.<br><br>If you want to do it properly, you'll need to implement your own.<br><br>Fortunately, bmk now accepts the -b option, which allows you to override the default appstub for one of your own, when building your application.<br>I use it to enable Carbon functionality on Mac. (actually, I'm probably the only one who uses this build option at all. :-p ) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
