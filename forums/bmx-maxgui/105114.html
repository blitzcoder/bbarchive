<!DOCTYPE html><html lang="en" ><head ><title >[Solved] Linux BlitzMax text lines have ^M</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[Solved] Linux BlitzMax text lines have ^M</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >[Solved] Linux BlitzMax text lines have ^M</a><br><br>
<a name="1278328"></a>

<a name="1278449"></a>

<a name="1278450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vanessa</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not quite sure why, but whenever I add a LFCR at the end of a line in a text area on Linux, it adds a ^M to the end. Is there a way to start a new line without the ^M?<br><br><pre class=code>SetGadgetText(Label,GadgetText(Label)+Chr(13)+Chr(10)+inf$)</pre><br><br>Screenshot:<br><img src="http://i.imgur.com/hpAxNIx.png"> <br><br></td></tr></table><br>
<a name="1278329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vanessa</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of note, this doesn't happen when the same program is compiled and run under Windows. It's only happening on Linux. I assume I'm just missing something obvious, but I can't for the life of me figure it out. <br><br></td></tr></table><br>
<a name="1278330"></a>

<a name="1278331"></a>

<a name="1278332"></a>

<a name="1278333"></a>

<a name="1278334"></a>

<a name="1278335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Windows-based text editors put special characters at the end of lines to denote a line return or newline. Normally harmless, some applications on a Linux server cannot understand these characters and can cause the service to not respond correctly. This can result in unforeseen complications. This is because the file is created or perhaps even edited on a machine running Windows and then uploaded to a Linux server. <br></div><br><br>Source: <a href="https://www.novell.com/support/kb/doc.php?id=7014821" target="_blank">https://www.novell.com/support/kb/doc.php?id=7014821</a><br><br>Is this related to your problem? If you did edit that code using the linux MaxIDE version by that screenshot then something is definitely wrong.. Try saving it on a different editor like vi or nano and see if you still have that issue. <br><br></td></tr></table><br>
<a name="1278338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^M = CR = CHR$(13)<br><br>Have you tried to use just the LF (CHR$(10)) and see what happens? <br><br></td></tr></table><br>
<a name="1278341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah yes as xlsior pointed out, you're using Windows CRLF that's why :) <br><br></td></tr></table><br>
<a name="1278356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> some linux boxes have a command 'dos2unix' which should fix this..... <br><br></td></tr></table><br>
<a name="1278364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> some linux boxes have a command 'dos2unix' which should fix this.....  <br></div><br>Probably more of an issue with the FLTK MaxGUI than anything else. <br><br></td></tr></table><br>
<a name="1278365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> wouldn't it be better to use<br><pre class=code>SetGadgetText(Label,GadgetText(Label)+"~n"+inf$)</pre> instead?<br><br>I believe that ~n will translate to the proper "next line" sequence for the platform you are using. <br><br></td></tr></table><br>
<a name="1278447"></a>

<a name="1278448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vanessa</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> That worked! Awesome!<br><br>Changed the code to:<br><pre class=code>
?Win32
	SetGadgetText(Label,GadgetText(Label)+Chr(13)+Chr(10)+inf$)
?
?Linux
	SetGadgetText(Label,GadgetText(Label)+"~n"+inf$)
?
</pre><br>and now it's working! <br><br></td></tr></table><br>
<a name="1278510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would have sworn that ~n would've put the platform specific EOL, 13-10 on windows and just 10 on Linux, but testing shows that it only places 10 on both.  However, MaxGUI behaves properly on windows with both methods so the ?Win32 and ?Linux directives are not needed.  Just using the Linux EOL will work on both.  The 13-10 pair would only matter if you are writing to a file and opening on another program.<br><br>If you do need both for any reason, then you can use "~r~n" instead of Chr(13)+Chr(10) and save yourself some typing.<br><br>Also, in the home tab on the IDE, under Help/Language/Literals, there is a list of other escape sequences available. <br><br></td></tr></table><br>
<a name="1278561"></a>

<a name="1278562"></a>

<a name="1278566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be tidier if you just use ~n on all platforms. <br><br>Or better still ~n~n for word wrapped views where a separating blank line is the norm between text blocks.<br><br>CHR(n) | ASCII name | BlitzMax shorcut<br><br>10  | LF | ~n<br>13 | CR | ~r<br><br>Also, the combination of CR LF is not only Windows, HTTP 1.0 and 2.0 both use it as line endings in their protocols.<br><br>MaxGUI ignores 13 so yes, the FLTK driver is at fault here and this issue is not really [SOLVED] IMHO. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
