<!DOCTYPE html><html lang="en" ><head ><title >Custom Text Edit Control</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Custom Text Edit Control</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >Custom Text Edit Control</a><br><br>
<a name="707169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All,<br><br>I've been writing a custom text edit control as a replacement for the standard one. It's not as hard as I imagined it would be.<br><br>If you have the time could you test out the text area and see if anything stands out as being broken.<br><br>You can <a href="http://www.terabit-software.co.uk/editcontrol.zip" target="_blank"> download it here </a><br><br>The code for the demo (minus the actual text edit gadget code:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
Framework brl.GLMax2D
Import brl.Win32MaxGUI
Import brl.Retro
Import brl.FreeTypeFont
Import brl.Timer
Include "EditControl.bmx"

SetGraphicsDriver GLMax2DDriver()
Local Edit:TEditControl

Local Window:TGadget = CreateWindow("Text Edit Control 0.7",20,20,512,512,Null,WINDOW_TITLEBAR | WINDOW_RESIZABLE | WINDOW_STATUS)
Local w=ClientWidth(Window)
Local h=ClientHeight(Window)

Edit = New TEditControl.Create(Window,0,0,w,h)

Local Infile:TStream 
InFile = ReadFile("History120.txt")
Local Ed:String
	While Eof(InFile) = False 
		ed = ReadString(infile,FileSize("History120.txt"))
	Wend
CloseFile Infile
edit.SetString ed
While True
	WaitEvent
	If EventSource() = Window and EventID() = EVENT_WINDOWCLOSE Then End
Wend
</textarea> <br><br></td></tr></table><br>
<a name="707176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Garrett</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does this use any Win32 specific code, besides the gui module?  I'm just <br>wondering if this can be used on Mac and Linux too.<br><br>-Garrett <br><br></td></tr></table><br>
<a name="707181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, I've been doing the same thing... competition is always healthy I guess. <br><br></td></tr></table><br>
<a name="707184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Does this use any Win32 specific code, besides the gui module? I'm just wondering if this can be used on Mac and Linux too.  <br></div><br>No Win32 jiggery pokery, it's just a canvas with text display code, so it should work just as well on all platforms I suppose.<br><br><div class="quote"> yeah, I've been doing the same thing... competition is always healthy I guess. <br></div><br><br>I'd be interested in trying a demo of your one when you've done! :) <br><br>I've been messing with this one for a couple of days and so far I'm happy with how it's turning out. <br><br>Once I'm finished, I'll be releasing the code for all to play with and improve.<br><br>ToDO:<br>Scrollbars, Colors, Formatting, Tidy up interface code.. <br><br></td></tr></table><br>
<a name="707304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great! <br>Dont forget syntax colors and clipboard support :D <br><br></td></tr></table><br>
<a name="707443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^+1<br><br>This seems to be fast code (tm)! <br><br></td></tr></table><br>
<a name="707458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'd be interested in trying a demo of your one when you've done! :)  <br></div><br>sure, I could upload one tomorrow. I'm a little further along then you are right now, per your demo anyway. <br><br></td></tr></table><br>
<a name="707494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> sure, I could upload one tomorrow. I'm a little further along then you are right now, per your demo anyway. <br></div><br><br>Sounds good. It'll be nice to have something to aspire to. <br><br></td></tr></table><br>
<a name="708022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is the demo...<br>copy and paste are in but right now they are mapped to f1 and f2.  I incbined MS's consola font so if you get the default then, that didn't work.<br><br>there are some bugs... the biggest is x cursor positioning offscreen is not right.  the other is there is a slow down when changing the scroll position at first but it goes away after drawing about 2 screens. the included file is over 3300 lines... I've tested it on files over 30,000 and the performance (on my machine at least is still the same)<br><br><a href="http://www.4shared.com/file/3800002/185dc6fb/test.html" target="_blank">download</a><br><br>oh yeah.... the folding is not complete yet... (I don't fobid the editing of the title line) <br><br></td></tr></table><br>
<a name="708042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Dmaz,<br><br>Thanks for that. There are some issues I found. If you change your location with the mouse scroll wheel then move the cursor with the arrow keys, then it redraws the wrong stuff on screen. <br><br>Highlighting also goes a bit screwy at times and it doesn't delete chunks you have highlighted. <br><br>It's much better than my one on other areas though (scroll bars for instance) and folding etc.<br><br>Thanks for the demo, it will be interesting to see how they both develop. <br><br></td></tr></table><br>
<a name="708048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you change your location with the mouse scroll wheel then move the cursor with the arrow keys, then it redraws the wrong stuff on screen. <br></div>that's odd, that didn't do that until just recently, darn! [edit]yeah that was a last minute change with a dumb oversight on my part, now fixed[/edit]<br><br><div class="quote"> Highlighting also goes a bit screwy at times and it doesn't delete chunks you have highlighted. <br></div><br>yeah, I haven't spent much time on that yet.<br><br>thanks for the feedback...  Have you made any more progress? <br><br></td></tr></table><br>
<a name="708166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeraBit</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not much. I put the scrollbars in, but there is a chunk of 'Hack like' code in there for checking the bounds of the on screen text which I'm not too happy with, so I'll want to change that before I do another test. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
