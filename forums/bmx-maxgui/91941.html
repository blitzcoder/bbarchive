<!DOCTYPE html><html lang="en" ><head ><title >OpenGL canvas bigger than screen windows?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >OpenGL canvas bigger than screen windows?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=117" >MaxGUI Module</a>/<a href="#bottom" >OpenGL canvas bigger than screen windows?</a><br><br>
<a name="1046447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using OpenGL for consistency between mac and windows, as well as for a few other reasons.<br><br>I'm drawing multiple images to a canvas in a window and then grabbing the back buffer to an image and saving that.<br><br>It works fine on mac (nvidia card)<br><br>When I do it on windows (also nvidia card, as well as on a laptop with unknown card) when I grab the back buffer anything that would be on the canvas outside the frame of the screen is empty.<br><br>How can I overlay images and grab the result if I need more space than the resolution of the screen on windows? (it works fine on mac) Is there a way to disable back buffer clipping to screen bounds? Maybe there's just a better way to composit images without having to do it with the pixmaps by hand (the problem is I need scaling and rotation as well as text drawing etc, so doing the pixmap composit would be very difficult compared to just using draw commands...) <br><br></td></tr></table><br>
<a name="1046451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Up the top of my head... did you set the glViewport to the right size?. And if you use OpenGL then you could use render targets and that supports sizes like 4096x4096 and even faster than copying from the backbuffer. <br><br></td></tr></table><br>
<a name="1046487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> the viewport is set to the size of the canvas so beyond full screen, and it clips at the edge of the screen, not the edge of the canvas (which is beyond full screen).<br><br>I'm using the standard blitz drawing commands, if there's a way to pipe them directly to a texture that would be great. I need to be able to grab non pow2 sizes for the output image though... <br><br></td></tr></table><br>
<a name="1046505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well for NPOT2 textures the video card has to support stuff like that. For example the internals of blitzmax use POT2 textures. When you load a image that has the sizes not powers of 2 BM stretches it to a POT2 texture. Do a bit of research :). Basically it's quite easy to make a render target with OpenGL. If for example your target computer is slower then you have to do the same thing BM does. Look at the source. According to Steam 95% users have hardware that supports DX9 which basically means those support EXT_FBO (frame buffer objects). <br><br></td></tr></table><br>
<a name="1046523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know the core textures are pot2, my point is I need the output to be NON pot2, so if I render to a pot2 texture (which I must for compatability's sake) then I have to strip it down to the non pot2 data that I actually want when I'm done... but this is all academic.<br><br>What I need is to be able to take some pictures and text. Draw them inside a rect bigger than, or at the very least not entirely displayed on the screen at one time with rotation and scaling, then take the resulting image from all this drawing and save it to a file.<br><br>It works fine on mac.<br><br>Anything that when flipped to the screen would be off screen, justcomes out as transparent on windows.<br><br>Don't really have the time to learn direct opengl, and I'm unaware of any render to texture code that will do better than a screen grab for what I need (being that it needs rotation, scaling, and text rendering as well). Speed is not a primary concern, just getting accurate and oversized images in proper aspect ratio. <br><br></td></tr></table><br>
<a name="1046569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanctus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well from what I read I'm even curious as to why that works on mac. It should be clipped on every platform so I'm not sure there's a way to change that (info taken from opengl.org).<br>You could read about FBO's here:<br><a href="http://www.songho.ca/opengl/gl_fbo.html" target="_blank">http://www.songho.ca/opengl/gl_fbo.html</a><br>You just have to set it up and it should work with standard BM commands such as drawimage/drawtext and everything related. <br><br></td></tr></table><br>
<a name="1046593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's why I was so confused it didn't work on windows since it worked so smoothly on mac (I would have expected the mac to fail the same way, or for it to be manufacturer dependent, like only works on nvida and not ATI but it works on mac on both and fails on PC on both so it's OS dependent...)<br><br>Very confusing.<br><br>Guess I'll have to look into fbo or try to find some other path...<br><br>I tried the directx driver on windows and I get the full bounds not clipped, but there are other drawing issues to contend with...<br><br>back to the drawing board I guess. Thanks for the feedback. <br><br></td></tr></table><br>
<a name="1046668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use non-power-of-2 textures with GL, by <a href="http://www.opengl.org/registry/specs/ARB/texture_rectangle.txt" target="_blank">using this extension</a>. <br>I've never done it, so I can't help you much with that. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
