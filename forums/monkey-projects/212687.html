<!DOCTYPE html><html lang="en" ><head ><title >Breakout-X</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Breakout-X</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=511" >Monkey Projects</a>/<a href="#bottom" >Breakout-X</a><br><br>
<a name="2124644"></a>

<a name="2124645"></a>

<a name="2124646"></a>

<a name="2124647"></a>

<a name="2124651"></a>

<a name="2124673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Monkey friends!<br><br>Thank you all for your help with the first steps with Monkey-X!<br><br>For you, this is my first experiment with this great language. It is a very beautiful and a great language, but so far for me is difficult. Maybe you can help improve the game ;-)<br><br>Play online! (HTML5):<br><a href="http://knr.euweb.cz/MonkeyGame.html" target="_blank">http://knr.euweb.cz/MonkeyGame.html</a><br><br>Remember: The screen size CTRL+ or CTRL-<br><br>Source+Data (ZIP):<br><a href="https://www.dropbox.com/s/3ey3tsqbxsuzq2c/code.zip?dl=0" target="_blank">https://www.dropbox.com/s/3ey3tsqbxsuzq2c/code.zip?dl=0</a><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import mojo
Import argyne
Import playniax.ignitionx.framework.storage
Import timelinefx

#GLFW_WINDOW_TITLE="Breakout-X"

Global clx:Bool
Global cact:Bool, k1:Int, k2:Int
Global cml:Bool
Global mnn:Bool

Global limit:Int	'počet levelů max
Global pretoceni:Bool	'přetočení hry

Global zar:Bool, zx:Int, zy:Int	'poloha rozbité žárovky
Global zmateni:Bool
Global bl1:Float
Global vbh1:Float

Global ball1:Image, ball2:Image
Global bat1:Image, bat2:Image
Global laser1:Image
Global brick1:Image, brick2:Image, brick3:Image, brick4:Image, brick5:Image, brick6:Image, brick7:Image
Global brick8:Image, brick9:Image, brick10:Image, brick11:Image
Global bonus1:Image, bonus2:Image, bonus3:Image, bonus4:Image, bonus5:Image, bonus6:Image
Global bonus7:Image, bonus8:Image, bonus9:Image, bonus10:Image, bonus11:Image, bonus12:Image
Global startgame:Image, gameover:Image
Global nextlevel:Image
Global texture1:Image, texture2:Image, texture3:Image

Global go:Bool, nl:Bool

Global nat:Bool, pt1:Bool, nt1:Float

Global fx1:Sound, fx2:Sound, fx3:Sound, fx4:Sound, fx5:Sound, fx6:Sound, fx7:Sound, fx8:Sound
Global fx9:Sound, fx10:Sound, fx11:Sound, fx12:Sound, fx13:Sound, fx14:Sound, fx15:Sound, fx16:Sound
Global fx17:Sound

Global stx:Bool, stxa:Bool, stx1:Int, sty1:Int
Global intro:Bool

Global ac:Int

Global pm:Int, pm2:Int, pm3:Int
Global m:Int
Global lv:Int	'level
Global sc:Int, sc1:Int	'progress
Global sc2:Bool, sc3:Int
Global sc4:Bool, sc5:Int
Global sc6:Int, cmx:Bool	'duch
Global sc7:Int, sc8:Int, sc9:Int
Global sc10:Int, sc11:Int, sc12:Int
Global sc13:Float, sc14:Int
Global score:Int
Global hiscore:Int
Global liv:Int	'životy

Global level:Int[][]

Global rn:Bool

Global vx1:Float, vy1:Float, vz1:Float, vb1:Bool, vt1:Float
Global vx2:Float, vy2:Float, vz2:Float, vb2:Bool, vt2:Float
Global vx3:Float, vy3:Float, vz3:Float, vb3:Bool, vt3:Float
Global tpy1:Float, cmt:Bool 'pohyb textury

Global bx:Int = 0
Global by:Int = w2 - 65
Global batWidth:Int = 80
Global batHeight:Int = 16

'bonus1
Global bx1:Int[10], by1:Float[10], bsc1:Int[10], ba1:Bool[10], bb1:Bool[10]
Global ang1:Int[10], ang1r:Float[10], b1r:Float[10], b1p:Int, b1t:Float[10]
'bonus2
Global bx2:Int[10], by2:Float[10], bsc2:Int[10], ba2:Bool[10], bb2:Bool[10]
Global ang2:Int[10], ang2r:Float[10], b2r:Float[10], b2p:Int, b2t:Float[10]
'bonus3
Global bx3:Int[10], by3:Float[10], bsc3:Int[10], ba3:Bool[10], bb3:Bool[10]
Global ang3:Int[10], ang3r:Float[10], b3r:Float[10], b3p:Int, b3t:Float[10]
'bonus4
Global bx4:Int[10], by4:Float[10], bsc4:Int[10], ba4:Bool[10], bb4:Bool[10]
Global ang4:Int[10], ang4r:Float[10], b4r:Float[10], b4p:Int, b4t:Float[10]
'bonus5
Global bx5:Int[10], by5:Float[10], bsc5:Int[10], ba5:Bool[10], bb5:Bool[10]
Global ang5:Int[10], ang5r:Float[10], b5r:Float[10], b5p:Int, b5t:Float[10]
'bonus6
Global bx6:Int[10], by6:Float[10], bsc6:Int[10], ba6:Bool[10], bb6:Bool[10]
Global ang6:Int[10], ang6r:Float[10], b6r:Float[10], b6p:Int, b6t:Float[10]
'bonus7
Global bx7:Int[10], by7:Float[10], bsc7:Int[10], ba7:Bool[10], bb7:Bool[10]
Global ang7:Int[10], ang7r:Float[10], b7r:Float[10], b7p:Int, b7t:Float[10]
'bonus8
Global bx8:Int[10], by8:Float[10], bsc8:Int[10], ba8:Bool[10], bb8:Bool[10]
Global ang8:Int[10], ang8r:Float[10], b8r:Float[10], b8p:Int, b8t:Float[10]
'bonus9
Global bx9:Int[10], by9:Float[10], bsc9:Int[10], ba9:Bool[10], bb9:Bool[10]
Global ang9:Int[10], ang9r:Float[10], b9r:Float[10], b9p:Int, b9t:Float[10]
'bonus10
Global bx10:Int[10], by10:Float[10], bsc10:Int[10], ba10:Bool[10], bb10:Bool[10]
Global ang10:Int[10], ang10r:Float[10], b10r:Float[10], b10p:Int, b10t:Float[10]
'bonus11
Global bx11:Int[10], by11:Float[10], bsc11:Int[10], ba11:Bool[10], bb11:Bool[10]
Global ang11:Int[10], ang11r:Float[10], b11r:Float[10], b11p:Int, b11t:Float[10]
'bonus12
Global bx12:Int[10], by12:Float[10], bsc12:Int[10], ba12:Bool[10], bb12:Bool[10]
Global ang12:Int[10], ang12r:Float[10], b12r:Float[10], b12p:Int, b12t:Float[10]
 
Const w1:Int = 640	'screen
Const w2:Int = 495
Const BORDER_TOP:Int = 16
Const BORDER_LEFT:Int = 44
Const BORDER_RIGHT:Int = w1 + 44
Const prubeh:Int = 5000	'max sc pro bonusy


'// main class //
Class Wall Extends App

	Field u:Float[100], t:Float[100], x:Float[100], y:Float[100], r:Float[100], sm:Int[100], act:Bool[100]
	Field nj:Int[100]

	Field p:=New ParticleManager()
	Field f:= New SolidParticleFactory(128, 255, 255, 80, 90, 128)
	Field e:ParticleEmitter
	Field burst:Float  'Burst counter
	
	Field MyEffects:tlEffectsLibrary
	Field MyEffect:tlEffect
	Field MyParticleManager:tlParticleManager


	Method OnCreate()
	
		'note: počet levelů pro přetočení
		limit = 12
	

		MyEffects = LoadEffects("explosions")
		MyEffect = MyEffects.GetEffect("Smokey Flicker Inwards 2")
		
		MyParticleManager = CreateParticleManager(3)
		MyParticleManager.SetScreenSize(640, 495)
		MyParticleManager.SetOrigin(320, 248)
	
		SetUpdateRate 60

		hiscore = iStorage.ReadInt("MyGame/Player/Lives")
		iLoadState()
		
                
		SetFont(LoadImage("font_16.png", 16, 16, 64))
		  
		ball1 = LoadImage("micek1.png", 1, Image.MidHandle)
		ball2 = LoadImage("micek2.png", 1, Image.MidHandle)
        
		bat1 = LoadImage("bat1.png", 1, Image.MidHandle)
		bat2 = LoadImage("bat2.png", 1, Image.MidHandle)
		  
		laser1 = LoadImage("laser1.png", 1, Image.MidHandle)
		  
		texture1 = LoadImage("tex1.png", 1)
		texture2 = LoadImage("tex2.png", 1)
		texture3 = LoadImage("tex3.png", 1)
		  
		startgame = LoadImage("start.png", 1)
		gameover = LoadImage("gameover.png", 1)
		 
		nextlevel = LoadImage("nextlevel.png", 1)

		brick1 = LoadImage("brick1.png", 1, Image.MidHandle)
		brick2 = LoadImage("brick2.png", 1, Image.MidHandle)
		brick3 = LoadImage("brick3.png", 1, Image.MidHandle)
		brick4 = LoadImage("brick4.png", 1, Image.MidHandle)
		brick5 = LoadImage("brick5.png", 1, Image.MidHandle)
		brick6 = LoadImage("brick6.png", 1, Image.MidHandle)
		brick7 = LoadImage("brick7.png", 1, Image.MidHandle)
		brick8 = LoadImage("brick8.png", 1, Image.MidHandle)
		brick9 = LoadImage("brick9.png", 1, Image.MidHandle)
		brick10 = LoadImage("brick10.png", 1, Image.MidHandle)
		brick11 = LoadImage("brick11.png", 1, Image.MidHandle)
		  
		bonus1 = LoadImage("bonus1.png", 1, Image.MidHandle)
		bonus2 = LoadImage("bonus2.png", 1, Image.MidHandle)
		bonus3 = LoadImage("bonus3.png", 1, Image.MidHandle)
		bonus4 = LoadImage("bonus4.png", 1, Image.MidHandle)
		bonus5 = LoadImage("bonus5.png", 1, Image.MidHandle)
		bonus6 = LoadImage("bonus6.png", 1, Image.MidHandle)
		bonus7 = LoadImage("bonus7.png", 1, Image.MidHandle)
		bonus8 = LoadImage("bonus8.png", 1, Image.MidHandle)
		bonus9 = LoadImage("bonus9.png", 1, Image.MidHandle)
		bonus10 = LoadImage("bonus10.png", 1, Image.MidHandle)
		bonus11 = LoadImage("bonus11.png", 1, Image.MidHandle)
		bonus12 = LoadImage("bonus12.png", 1, Image.MidHandle)
		  
		fx1 = LoadSound("sound1.wav"); fx2 = LoadSound("sound2.wav"); fx3 = LoadSound("sound3.wav")
		fx4 = LoadSound("sound4.wav"); fx5 = LoadSound("sound5.wav"); fx6 = LoadSound("sound6.wav")
		fx7 = LoadSound("sound7.wav"); fx8 = LoadSound("sound8.wav"); fx9 = LoadSound("sound9.wav")
		fx10 = LoadSound("sound10.wav"); fx11 = LoadSound("sound11.wav"); fx12 = LoadSound("sound12.wav")
		fx13 = LoadSound("sound13.wav"); fx14 = LoadSound("sound14.wav"); fx15 = LoadSound("sound15.wav")
		fx16 = LoadSound("sound16.wav"); fx17 = LoadSound("sound17.wav")
		  
		rn = False	'spuštění
  	  	  
		liv = 3			'počet životů výchozí
                
        
		Seed = Millisecs()	'randomize
		  
		Vynul()
		  
		score = 0
		lv = 1		'počáteční level
        
		'Set up the emitter
		e = New ParticleEmitter(f, 50, 1)
		e.SetEmissions(e.emitInterval, 3, 29)
		
		SetupBoard()
	End Method
    
    
	'sestavení levelu
	Method SetupBoard()
	 
		Select lv
			Case 1
				level =[[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 04, 04, 04, 04, 04, 04, 00, 00, 00],
					[00, 00, 04, 04, 04, 04, 04, 04, 04, 04, 00, 00],
					[00, 00, 00, 00, 06, 00, 00, 06, 00, 00, 00, 00],
					[00, 03, 03, 03, 03, 03, 03, 03, 03, 03, 03, 00],
					[00, 03, 00, 03, 03, 00, 00, 03, 03, 00, 03, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 08, 08, 08, 08, 00, 00, 00, 00],
					[00, 09, 00, 00, 00, 00, 00, 00, 00, 00, 09, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00]]
			Case 2
				level =[[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 01, 01, 01, 01, 01, 01, 01, 01, 01, 01, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 01, 01, 01, 01, 00, 00, 00, 00],
					[00, 00, 04, 04, 04, 04, 04, 04, 04, 04, 00, 00],
					[00, 00, 00, 04, 04, 04, 04, 04, 04, 00, 00, 00],
					[00, 10, 00, 00, 06, 00, 00, 06, 00, 00, 10, 00],
					[00, 00, 00, 03, 03, 03, 03, 03, 03, 00, 00, 00],
					[00, 00, 00, 03, 03, 03, 03, 03, 03, 00, 00, 00],
					[00, 00, 00, 09, 00, 00, 00, 00, 09, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 01, 01, 01, 01, 01, 01, 01, 01, 01, 01, 00],
					[00, 00, 00, 00, 03, 03, 03, 03, 00, 00, 00, 00]]
			Case 3
				level =[[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 10, 00, 10, 00, 10, 10, 00, 10, 00, 10, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 04, 04, 04, 04, 04, 04, 04, 04, 00, 00],
					[00, 09, 09, 04, 04, 04, 04, 04, 04, 09, 09, 00],
					[00, 00, 00, 00, 06, 00, 00, 06, 00, 00, 00, 00],
					[00, 03, 03, 03, 03, 03, 03, 03, 03, 03, 03, 00],
					[00, 03, 03, 03, 03, 03, 03, 03, 03, 03, 03, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 08, 08, 08, 08, 00, 00, 00, 00],
					[00, 01, 00, 00, 00, 00, 00, 00, 00, 00, 01, 00],
					[00, 00, 00, 07, 07, 07, 07, 07, 07, 00, 00, 00]]
			Case 4
				level =[[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 10, 00, 10, 00, 10, 10, 00, 10, 00, 10, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 04, 00, 00, 00, 00, 00, 00, 04, 00, 00],
					[00, 09, 09, 10, 10, 10, 10, 10, 10, 09, 09, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 03, 03, 00, 00, 00, 00, 00, 00, 03, 03, 00],
					[00, 03, 03, 03, 03, 03, 03, 03, 03, 03, 03, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 08, 08, 08, 08, 00, 00, 00, 00],
					[00, 01, 00, 00, 00, 00, 00, 00, 00, 00, 01, 00],
					[00, 00, 00, 07, 07, 07, 07, 07, 07, 00, 00, 00]]
			Case 5
				level =[[00, 00, 00, 01, 01, 01, 01, 01, 01, 00, 00, 00],
					[06, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 06],
					[06, 00, 10, 00, 00, 00, 00, 00, 00, 10, 00, 06],
					[06, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 06],
					[06, 00, 00, 00, 10, 10, 10, 10, 00, 00, 00, 06],
					[06, 09, 09, 00, 00, 00, 00, 00, 00, 09, 09, 06],
					[06, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 06],
					[06, 01, 01, 01, 01, 01, 01, 01, 01, 01, 01, 06],
					[06, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 06],
					[06, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 06],
					[06, 00, 00, 00, 08, 08, 08, 08, 00, 00, 00, 06],
					[06, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 06],
					[06, 06, 00, 06, 06, 06, 06, 06, 06, 00, 06, 06]]
					
			Case 6
				level =[[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[01, 01, 01, 01, 01, 01, 01, 01, 01, 01, 01, 01],
					[01, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 01],
					[01, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 01],
					[01, 00, 00, 10, 05, 05, 05, 05, 10, 00, 00, 01],
					[01, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 01],
					[01, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 01],
					[01, 01, 01, 01, 01, 01, 01, 01, 01, 01, 01, 01],
					[01, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 01],
					[01, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 01],
					[01, 00, 10, 00, 00, 00, 00, 00, 00, 10, 00, 01],
					[01, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 01],
					[00, 06, 00, 06, 06, 06, 06, 06, 06, 00, 06, 00]]
			Case 7
				level =[[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 06, 06, 06, 06, 06, 06, 06, 06, 00, 00],
					[00, 00, 06, 04, 04, 04, 04, 04, 04, 06, 00, 00],
					[00, 00, 06, 04, 00, 00, 00, 00, 04, 06, 00, 00],
					[00, 00, 06, 04, 00, 10, 10, 00, 04, 06, 00, 00],
					[00, 00, 06, 04, 00, 00, 00, 00, 04, 06, 00, 00],
					[00, 00, 06, 04, 00, 00, 00, 00, 04, 06, 00, 00],
					[00, 00, 06, 04, 04, 04, 04, 04, 04, 06, 00, 00],
					[00, 00, 06, 06, 00, 06, 06, 00, 06, 06, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[03, 02, 00, 00, 00, 00, 00, 00, 00, 00, 02, 03]]
			Case 8
				level =[[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[03, 03, 03, 03, 03, 03, 03, 03, 03, 03, 03, 03],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 09, 09, 00, 09, 09, 00, 09, 09, 00, 00],
					[00, 03, 00, 00, 00, 03, 03, 00, 00, 00, 03, 00],
					[06, 00, 06, 06, 06, 00, 00, 06, 06, 06, 00, 06]]
			Case 9
				level =[[00, 00, 00, 03, 01, 01, 01, 01, 03, 00, 00, 00],
					[07, 03, 00, 00, 00, 00, 00, 00, 00, 00, 03, 07],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 10, 10, 10, 10, 10, 10, 10, 10, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 06, 00, 00, 00, 00, 00, 00, 00, 00, 06, 00]]
			Case 10
				level =[[08, 08, 08, 08, 08, 08, 08, 08, 08, 08, 08, 08],
					[08, 07, 07, 07, 07, 07, 07, 07, 07, 07, 07, 08],
					[08, 07, 00, 00, 00, 00, 00, 00, 00, 00, 07, 08],
					[08, 07, 00, 00, 00, 00, 00, 00, 00, 00, 07, 08],
					[08, 07, 10, 10, 10, 10, 10, 10, 10, 10, 07, 08],
					[08, 07, 00, 00, 00, 00, 00, 00, 00, 00, 07, 08],
					[08, 07, 00, 00, 00, 00, 00, 00, 00, 00, 07, 08],
					[08, 07, 03, 03, 03, 03, 03, 03, 03, 03, 07, 08],
					[08, 07, 00, 00, 00, 00, 00, 00, 00, 00, 07, 08],
					[08, 07, 00, 00, 00, 00, 00, 00, 00, 00, 07, 08],
					[08, 07, 09, 09, 00, 09, 09, 00, 09, 09, 07, 08],
					[08, 07, 07, 07, 07, 07, 07, 07, 07, 07, 07, 08],
					[08, 08, 08, 08, 08, 08, 08, 08, 08, 08, 08, 08]]
			Case 11
				level =[[01, 01, 01, 01, 00, 00, 00, 00, 04, 04, 04, 04],
					[01, 01, 01, 01, 00, 08, 08, 00, 04, 04, 04, 04],
					[01, 01, 01, 01, 09, 08, 08, 09, 04, 04, 04, 04],
					[01, 03, 03, 01, 00, 08, 08, 00, 04, 03, 03, 04],
					[01, 03, 03, 01, 00, 08, 08, 00, 04, 03, 03, 04],
					[01, 01, 01, 01, 00, 08, 08, 00, 04, 04, 04, 04],
					[01, 01, 01, 01, 00, 08, 08, 00, 04, 04, 04, 04],
					[01, 01, 01, 01, 00, 08, 08, 00, 04, 04, 04, 04],
					[00, 00, 00, 00, 00, 08, 08, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10, 10],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00]]
			Case 12
				level =[[00, 04, 00, 04, 00, 04, 00, 04, 00, 04, 00, 04],
					[04, 00, 04, 00, 04, 00, 00, 00, 04, 00, 04, 00],
					[00, 04, 00, 04, 00, 00, 00, 00, 00, 04, 00, 04],
					[04, 00, 04, 00, 04, 00, 10, 00, 04, 00, 04, 00],
					[00, 04, 00, 04, 00, 00, 00, 00, 00, 04, 00, 04],
					[04, 00, 04, 00, 04, 00, 00, 00, 04, 00, 04, 00],
					[00, 04, 00, 04, 00, 04, 00, 04, 00, 04, 00, 04],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 06, 06, 06, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00],
					[00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00, 00]]
		End Select
	 
	End Method
 	 
    
	Method OnUpdate()
	    
		p.Update()

		If burst&gt;0
			If zar = False
				e.SetPosition(bx, by)
			ElseIf zar = True
				e.SetPosition(zx, zy)
			Endif
			Local ep:= ParticleEmitter(e.Clone())
			ep.Emit()
			p.Emitters.Push(ep)
			burst-=0.7
		ElseIf burst &lt;= 0
			zar = False
		End If
    
		If rn = False And (KeyHit(KEY_S) | MouseHit(MOUSE_LEFT))
			rn=True
			If vx1 = 0 Then vb1 = True
		EndIf
    
		If rn=True
    
			If MouseHit(MOUSE_LEFT) And stxa = False And stx = True
				stx1 = bx; sty1 = by; stxa = True
				PlaySound(fx13, 13)
			Endif
      
			bx = MouseX() -batWidth / 2
		
			'konce obrazovky
			If bx &lt;= BORDER_LEFT
				bx = BORDER_LEFT
			End If
			If bx &gt;= BORDER_RIGHT - batWidth
				bx = BORDER_RIGHT - batWidth
			End If
    
			Direction()
			Bounce()
    	    	
		EndIf
		
		If clx = False &amp; zmateni = True
			Local tempeffect:tlEffect = CopyEffect(MyEffect, MyParticleManager)

			tempeffect.SetPosition(325, 305)
			MyParticleManager.AddEffect(tempeffect)
			tempeffect.SetZ(1.0)
			clx = True
		EndIf
 
		If zmateni = True
			MyParticleManager.Update()
		EndIf
		
	End Method	'End OnUpdate()
    
    
	Method OnRender()
		Cls
		
		'textura
		Select lv
			Case 1, 4, 7, 10
				If cmx = False
					SetBlend(AlphaBlend)
					SetAlpha(1.00)
					DrawImage texture1, 0, tpy1, 0, 1.00, 1.00
					DrawImage texture1, 0, tpy1 + 498, 0, 1.00, 1.00
				ElseIf cmx = True
					SetBlend(AlphaBlend)
					SetAlpha(0.75)
					DrawImage texture1, 0, tpy1, 0, 1.00, 1.00
					DrawImage texture1, 0, tpy1 + 498, 0, 1.00, 1.00
				EndIf
			Case 2, 5, 8, 11
				If cmx = False
					SetBlend(AlphaBlend)
					SetAlpha(1.00)
					DrawImage texture2, 0, tpy1, 0, 1.00, 1.00
					DrawImage texture2, 0, tpy1 + 498, 0, 1.00, 1.00
				ElseIf cmx = True
					SetBlend(AlphaBlend)
					SetAlpha(0.75)
					DrawImage texture2, 0, tpy1, 0, 1.00, 1.00
					DrawImage texture2, 0, tpy1 + 498, 0, 1.00, 1.00
				Endif
			Case 3, 6, 9, 12
				If cmx = False
					SetBlend(AlphaBlend)
					SetAlpha(1.00)
					DrawImage texture3, 0, tpy1, 0, 1.00, 1.00
					DrawImage texture3, 0, tpy1 + 498, 0, 1.00, 1.00
				ElseIf cmx = True
					SetBlend(AlphaBlend)
					SetAlpha(0.75)
					DrawImage texture3, 0, tpy1, 0, 1.00, 1.00
					DrawImage texture3, 0, tpy1 + 498, 0, 1.00, 1.00
				EndIf
		End Select
	     
		If zmateni = True And bl1 &lt; 1
			bl1 += 0.01
			If (bl1 &lt; 0.9 And bl1 &gt; 0.8) Or bl1 &gt; 1 Then bl1 = 1
		Endif
	     
		If cmt = Not False
			PrepocetTextura()
		Endif
	     
		If stxa = True And stx = True
			sty1 -= 12
			DrawImage laser1, stx1, sty1, 0, 1.00, 1.00
		Endif
        
        
		'míčky
		For Local i:Int = 1 To 30
			If act[i] = True
				If cmx = False
					DrawImage ball1, x[i], y[i], 0, 1.20, 1.20
				ElseIf cmx = True
					DrawImage ball2, x[i], y[i], 0, 1.20, 1.20
				EndIf
			EndIf
		Next i
        
		'bat
		If stx = False
			DrawImage bat1, bx, by, 0, nt1, 1.01
		ElseIf stx = True
			DrawImage bat2, bx, by, 0, nt1, 1.01
		EndIf
        
		'cihly
		For Local x1:Int = 0 Until 12
			For Local y1:Int = 0 Until 13
				Select level[y1][x1]
					Case 1
						DrawImage(brick1, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 2
						DrawImage(brick2, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 3
						DrawImage(brick3, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 4
						DrawImage(brick4, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 5
						DrawImage(brick5, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 6
						DrawImage(brick6, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 7
						DrawImage(brick7, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 8
						DrawImage(brick8, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 9
						DrawImage(brick9, 52 * x1 + 34, 18 * y1 + 14, 0, 1.06, 1.00)
					Case 10
						SetBlend(AlphaBlend)
						SetAlpha(1.00)
						DrawImage(brick10, 52 * x1 + 34, 18 * y1 + 14, 0, 1.00, 1.00)
					Case 11
						DrawImage(brick11, 52 * x1 + 34, 18 * y1 + 14, 0, 1.00, 1.00)
				End Select
			End For
		End For
       
       
		'životy
		If liv &lt; 5
			For Local i:Int = 1 To liv
				DrawImage(bat1, -40 * i + 645, 469, 0, 0.40, 0.40)
			Next
		Else
			For Local i:Int = 1 To 4
				DrawImage(bat1, -40 * i + 645, 469, 0, 0.40, 0.40)
			Next
		Endif
       
		'bonus1
		For Local i:Int = 1 To b1p
			If ba1[i] = True And bb1[i] = False And rn = True
				ang1[i] += ang1r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b1t[i])
				DrawImage(bonus1, bx1[i], by1[i], ang1[i], 0.59, 0.59)
			Endif
		Next i
		'bonus2
		For Local i:Int = 1 To b2p
			If ba2[i] = True And bb2[i] = False And rn = True
				ang2[i] += ang2r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b2t[i])
				DrawImage(bonus2, bx2[i], by2[i], ang2[i], 0.59, 0.59)
			Endif
		Next i
		'bonus3
		For Local i:Int = 1 To b3p
			If ba3[i] = True And bb3[i] = False And rn = True
				ang3[i]+=ang3r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b3t[i])
				DrawImage(bonus3, bx3[i], by3[i], ang3[i], 0.59, 0.59)
			EndIf
		Next i
		'bonus4
		For Local i:Int = 1 To b4p
			If ba4[i] = True And bb4[i] = False And rn = True
				ang4[i] += ang4r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b4t[i])
				DrawImage(bonus4, bx4[i], by4[i], ang4[i], 0.59, 0.59)
			Endif
		Next i
		'bonus5
		For Local i:Int = 1 To b5p
			If ba5[i] = True And bb5[i] = False And rn = True
				ang5[i] += ang5r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b5t[i])
				DrawImage(bonus5, bx5[i], by5[i], ang5[i], 0.59, 0.59)
			EndIf
		Next i
		'bonus6
		For Local i:Int=1 To b6p
			If ba6[i]=True And bb6[i]=False And rn=True
				ang6[i]+=ang6r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b6t[i])
				DrawImage(bonus6,bx6[i],by6[i],ang6[i],0.59,0.59)
			Endif
		Next i
		'bonus7
		For Local i:Int=1 To b7p
			If ba7[i]=True And bb7[i]=False And rn=True
				ang7[i]+=ang7r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b7t[i])
				DrawImage(bonus7,bx7[i],by7[i],ang7[i],0.59,0.59)
			Endif
		Next i
		'bonus8
		For Local i:Int=1 To b8p
			If ba8[i]=True And bb8[i]=False And rn=True
				ang8[i]+=ang8r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b8t[i])
				DrawImage(bonus8,bx8[i],by8[i],ang8[i],0.59,0.59)
			Endif
		Next i
		'bonus9
		For Local i:Int=1 To b9p
			If ba9[i]=True And bb9[i]=False And rn=True
				ang9[i]+=ang9r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b9t[i])
				DrawImage(bonus9, bx9[i], by9[i], ang9[i], 0.59, 0.59)
			Endif
		Next i
		'bonus10
		For Local i:Int=1 To b10p
			If ba10[i]=True And bb10[i]=False And rn=True
				ang10[i]+=ang10r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b10t[i])
				DrawImage(bonus10,bx10[i],by10[i],ang10[i],0.59,0.59)
			Endif
		Next i
		'bonus11
		For Local i:Int=1 To b11p
			If ba11[i]=True And bb11[i]=False And rn=True
				ang11[i]+=ang11r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b11t[i])
				DrawImage(bonus11,bx11[i],by11[i],ang11[i],0.59,0.59)
			Endif
		Next i
		'bonus12
		For Local i:Int=1 To b12p
			If ba12[i]=True And bb12[i]=False And rn=True
				ang12[i]+=ang12r[i]
				SetBlend(AlphaBlend)
				SetAlpha(b12t[i])
				DrawImage(bonus12,bx12[i],by12[i],ang12[i],0.59,0.59)
			Endif
		Next i
       
       
		'start game
		If vz1 &lt; 10 And rn = True And lv = 1 And pretoceni = False
			If vb1 = True
				SetColor(251, 242, 56)
				SetBlend(AlphaBlend)
				SetAlpha(vt1)
				DrawImage(startgame, vx1, vy1, 0, vz1, vz1)
			Endif
	   	 
			If vb1 = True
				sc7 += 1
				vz1 += 0.00020202 * sc7 + 0.0097979
				vx1 = -232 * vz1 + 348
				vy1 = -28 * vz1 + 241
				vt1 = -0.3428571 * vz1 + 0.97142857
				If vt1 &lt; 0 Then vt1 = 0
			Endif
			If intro = False
				PlaySound(fx14, 14)
				intro = True
				go = False; vz2 = 0
			Endif
		EndIf
   	   

		'game over
		If go = True
			SetColor(251, 242, 56)
			SetBlend(AlphaBlend)
			SetAlpha(vt2)
			DrawImage(gameover, vx2, vy2, 0, vz2, vz2)
		Endif
		If go = True
			sc10 += 1
			vz2 += 0.00020202 * sc10 + 0.0097979
			vx2 = -184 * vz2 + 320
			vy2 = -28 * vz2 + 241
			vt2 = -0.3428571 * vz2 + 0.97142857
			If vt2 &lt; 0 Then vt2 = 0
		Endif
		
		'next level
		If rn = True And sc11 &lt; 250
			If nl = True
				SetColor(251, 242, 56)
				SetBlend(AlphaBlend)
				SetAlpha(vt3)
				DrawImage(nextlevel, vx3, vy3, 0, vz3, vz3)
			EndIf
			If nl=True
				sc11 += 1
				vz3 += 0.00020202 * sc11 + 0.0097979
				vx3 = -180.76923 * vz3 + 320.076923
				vy3 = -28 * vz3 + 241
				vt3 = -0.3428571 * vz3 + 0.97142857
				If vt3 &lt; 0 Then vt3 = 0
			EndIf
			If sc11 &gt;= 250 Then nl = False
		EndIf
              
		Score()
		Kolize()
		BonusControl()
		DalsiLevel()
		Rychlost()
             
		If cmx = Not False Then Duch()
		If stx = Not False Then Strelba()
		If nat = Not False Then Nature()
       
		'kontrola 0 míčků
		ac=0
		For Local i:Int = 1 To 30
			If act[i] = 1 Then ac += 1; Exit
		Next i
       
		If ac=0 'pm2=0
			KonecZivota()
		Endif
       
		'kontrola 0 životů
		If liv = 0
			go = True
			Konec()
		Endif
       
		If rn=Not False
			sc += 1
		Endif
       
		p.Render()

		If zmateni = True
			MyParticleManager.DrawParticles()
		EndIf
		
	End Method	'OnRender
    
    
	'zvyšování rychlosti
	Method Rychlost()
		If rn = True
			sc13 += 1
			For Local i:Int = 1 To 30
				If sc13 &gt;= 500 Then r[i] += 0.1; sc13 = 0
			Next i
		Endif
	End Method
    
    
	'kontrola dalšího levelu
	Method DalsiLevel()
		Local j:Int = 0
		For Local x1:Int = 0 Until 12
			For Local y1:Int=0 Until 13
				If level[y1][x1] &lt;&gt; 0 And level[y1][x1] &lt;&gt; 6 And level[y1][x1] &lt;&gt; 9 And level[y1][x1] &lt;&gt; 11
					j += 1
					Exit
				EndIf
			End For
		End For
		If j=0
			lv += 1
			If lv &gt; limit Then lv = 1; pretoceni = True
			sc11 = 0; vz3 = 0; vt3 = 0; vx3 = 0; vy3 = 0
			nl = True
			rn = False
			PlaySound(fx14, 14)
			SetupBoard()
			Vynul()
		Endif
	End Method
    
    
	Method KonecZivota()
		pm = 3; pm2 = pm; liv -= 1; rn = False
		For Local i:Int = 1 To b1p
			If ba1[i] = True
				ba1[i] = False
				bsc1[i] = 9000000000
			EndIf
		Next i

		burst=5
       	
		PlaySound(fx5, 5)
		vb1 = False
       	
		sc11 = 0; nl = False	'info level ukončení
       	
		Vynul()
	End Method
    
    
	'směr
	Method Direction()
		For Local i:Int = 1 To 30
			If act[i] = True
	     
				Select zmateni
					Case False
						t[i] = -0.0222222 * u[i]
					Case True
						Select nj[i]
							Case 0
								t[i] = -0.0222222 * u[i] * Sin(x[i])
							Case 1
								t[i] = -0.0222222 * u[i] * Cos(y[i])
							Case 2
								t[i] = -0.0222222 * u[i] * Log(x[i])
						End Select
				End Select
		  
				Select sm[i]
					Case 1
						x[i] += r[i]; y[i] += (t[i] - r[i])
					Case 2
						x[i] -= r[i]; y[i] += (t[i] - r[i])
					Case 3
						x[i] -= r[i]; y[i] += (-t[i] + r[i])
					Case 4
						x[i] += r[i]; y[i] += (-t[i] + r[i])
				End Select
			EndIf
		Next i
	    
		If zmateni = True
			sc14 += 1
			If sc14 &gt;= 650
				zmateni = False; sc14 = 0; mnn = False; clx = False
			EndIf
		EndIf
	End Method
    
    
	'odraz míčku
	Method Bounce()
    
		For Local i:Int = 1 To 30
			If act[i] = True
				Select sm[i]
    	
					Case 1
						If x[i] &gt; w1 - 10
							sm[i] = 2
							PlaySound(fx1, 1)
						EndIf
						If y[i] &lt; 10
							sm[i] = 4
							PlaySound(fx1, 1)
						EndIf
						If y[i] &gt; w2 - 25
							act[i] = False
							pm2 -= 1';pm-=1
							Exit
							'sm[i]=2
							'PlaySound(fx1)
						EndIf
		    	
						For Local x1:Int = 0 Until 12
							For Local y1:Int = 0 Until 13
								Select level[y1][x1]
									Case 1, 2, 4, 5, 7, 8
										If x[i] &gt; 52 * x1 + 34 - 40 And x[i] &lt; 52 * x1 + 34 + 30 And y[i] &gt; 18 * y1 + 14 + 10 And y[i] &lt; 18 * y1 + 14 + 20
											sm[i] = 4
											PlaySound(fx1, 1)
											level[y1][x1] = 0
											pricitani()
										EndIf
										If x[i] &gt; 52 * x1 + 34 - 40 And x[i] &lt; 52 * x1 + 34 - 25 And y[i] &gt; 18 * y1 + 14 - 10 And y[i] &lt; 18 * y1 + 14 + 10
											sm[i] = 2
											PlaySound(fx1, 1)
											level[y1][x1] = 0
											pricitani()
										EndIf
									Case 6, 9
										If x[i] &gt; 52 * x1 + 34 - 40 And x[i] &lt; 52 * x1 + 34 + 30 And y[i] &gt; 18 * y1 + 14 + 10 And y[i] &lt; 18 * y1 + 14 + 20
											sm[i] = 4
											PlaySound(fx3, 3)
										EndIf
										If x[i] &gt; 52 * x1 + 34 - 40 And x[i] &lt; 52 * x1 + 34 - 25 And y[i] &gt; 18 * y1 + 14 - 10 And y[i] &lt; 18 * y1 + 14 + 10
											sm[i] = 2
											PlaySound(fx3, 3)
										EndIf
									Case 3
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14+10 And y[i]&lt;18*y1+14+20
											sm[i]=4
											PlaySound(fx1,1)
											level[y1][x1]=2
											pricitani()
										Endif
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34-25 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
											sm[i]=2
											PlaySound(fx1,1)
											level[y1][x1]=2
											pricitani()
										Endif
				
									Case 10
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14+10 And y[i]&lt;18*y1+14+20

											burst=3
											zx=52*x1+29
											zy=18*y1+29
											zar=True
					    					
											sm[i]=4
											PlaySound(fx16,16)
											level[y1][x1]=11
											pricitani2()
										Endif
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34-25 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
							
											burst=3
											zx=52*x1+1.5
											zy=18*y1+14
											zar = True
							
											sm[i]=2
											PlaySound(fx16,16)
											level[y1][x1]=11
											pricitani2()
										Endif
				
								End Select
							End For
						End For

					Case 2
						If x[i]&lt;10
							sm[i]=1
							PlaySound(fx1,1)
						Endif
						If y[i]&lt;10
							sm[i]=3
							PlaySound(fx1,1)
						Endif
						If y[i]&gt;w2-25
							act[i]=False
							pm2-=1';pm-=1
							Exit
							'sm[i]=2
							'PlaySound(fx1)
						Endif
		    	
						For Local x1:Int=0 Until 12
							For Local y1:Int=0 Until 13
								Select level[y1][x1]
									Case 1, 2, 4, 5, 7, 8
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14+10 And y[i]&lt;18*y1+14+20
											sm[i]=3
											PlaySound(fx1,1)
											level[y1][x1]=0
											pricitani()
										Endif
										If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+20
											sm[i]=1
											PlaySound(fx1,1)
											level[y1][x1]=0
											pricitani()
										Endif
									Case 6,9
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14+10 And y[i]&lt;18*y1+14+20
											sm[i]=3
											PlaySound(fx3,3)
										Endif
										If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+20
											sm[i]=1
											PlaySound(fx3,3)
										Endif
									Case 3
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14+10 And y[i]&lt;18*y1+14+20
											sm[i]=3
											PlaySound(fx1,1)
											level[y1][x1]=2
											pricitani()
										Endif
										If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+20
											sm[i]=1
											PlaySound(fx1,1)
											level[y1][x1]=2
											score+=1
										Endif
					
									Case 10
										If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14+10 And y[i]&lt;18*y1+14+20
		    		
											burst=3
											zx=52*x1+29
											zy=18*y1+29
											zar=True
					    		
											sm[i]=3
											PlaySound(fx16,16)
											level[y1][x1]=11
											pricitani2()
										Endif
										If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+20
					
											burst=3
											zx=52*x1+66.5
											zy=18*y1+19
											zar=True
		    		
											sm[i]=1
											PlaySound(fx16,16)
											level[y1][x1]=11
											pricitani2()
										Endif
								End Select
							End For
						End For
		   
					Case 3
						If act[i]=True
							If x[i]&lt;10
								sm[i]=4
								PlaySound(fx1,1)
							Endif
							If y[i]&gt;w2-25
								act[i]=False
								pm2 -= 1	';pm-=1
								Exit
								'sm[i]=2
								'PlaySound(fx1)
							Endif
		    	
							For Local x1:Int=0 Until 12
								For Local y1:Int=0 Until 13
									Select level[y1][x1]
										Case 1,2,4,5,7,8
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
												sm[i]=2
												PlaySound(fx1,1)
												level[y1][x1]=0
												pricitani()
											Endif
											If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
												sm[i]=4
												PlaySound(fx1,1)
												level[y1][x1]=0
												pricitani()
											Endif
										Case 6,9
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
												sm[i]=2
												PlaySound(fx3,3)
											Endif
											If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
												sm[i]=4
												PlaySound(fx3,3)
											Endif
										Case 3
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
												sm[i]=2
												PlaySound(fx1,1)
												level[y1][x1]=2
												pricitani()
											Endif
											If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
												sm[i]=4
												PlaySound(fx1,1)
												level[y1][x1]=2
												pricitani()
											Endif
				
										Case 10
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
		    	
												burst=3
												zx=52*x1+29
												zy=18*y1-1
												zar=True
		    		
												sm[i]=2
												PlaySound(fx16,16)
												level[y1][x1]=11
												pricitani2()
											Endif
											If x[i]&gt;52*x1+34+25 And x[i]&lt;52*x1+34+40 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
				
												burst=3
												zx=52*x1+66.5
												zy=18*y1+14
												zar=True
		    		
												sm[i]=4
												PlaySound(fx16,16)
												level[y1][x1]=11
												pricitani2()
											Endif
				
									End Select
								End For
							End For
		    	
							Select nat
		    	
								Case False
									If y[i]&gt;by-17 And y[i]&lt;by And x[i]&gt;=bx-40 And x[i]&lt;=bx+40
										sm[i]=2
										u[i]=-0.16666*Pow(x[i]-bx,2)+166.6666
										PlaySound(fx2,2)
									EndIf
		    	
								Case True
									If y[i]&gt;by-17 And y[i]&lt;by And x[i]&gt;=bx-70 And x[i]&lt;=bx+70
										sm[i]=2
										u[i]=-0.16666*Pow(x[i]-bx,2)+166.6666
										PlaySound(fx2,2)
									EndIf
		    	
							End Select
		    	
						Endif
		    	
					Case 4
  		   
						If act[i]=True
							If x[i]&gt;w1-10
								sm[i]=3
								PlaySound(fx1,1)
							Endif
							If y[i]&gt;w2-25
								act[i]=False
								pm2-=1';pm-=1
								Exit
								'sm[i]=1
								'PlaySound(fx1)
							Endif
  		 
							For Local x1:Int=0 Until 12
								For Local y1:Int=0 Until 13
									Select level[y1][x1]
										Case 1,2,4,5,7,8
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
												sm[i]=1
												PlaySound(fx1,1)
												level[y1][x1]=0
												pricitani()
											Endif
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34-25 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
												sm[i]=3
												PlaySound(fx1,1)
												level[y1][x1]=0
												pricitani()
											Endif
										Case 6,9
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
												sm[i]=1
												PlaySound(fx3,3)
											Endif
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34-25 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
												sm[i]=3
												PlaySound(fx3,3)
											Endif
										Case 3
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
												sm[i]=1
												PlaySound(fx1,1)
												level[y1][x1]=2
												pricitani()
											Endif
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34-25 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
												sm[i]=3
												PlaySound(fx1,1)
												level[y1][x1]=2
												pricitani()
											Endif
				
										Case 10
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34+30 And y[i]&gt;18*y1+14-20 And y[i]&lt;18*y1+14-10
		    		
												burst=3
												zx=52*x1+29
												zy=18*y1-1
												zar=True
		    		
												sm[i]=1
												PlaySound(fx16,16)
												level[y1][x1]=11
												pricitani2()
											Endif
											If x[i]&gt;52*x1+34-40 And x[i]&lt;52*x1+34-25 And y[i]&gt;18*y1+14-10 And y[i]&lt;18*y1+14+10
				
												burst=3
												zx=52*x1+1.5
												zy=18*y1+14
												zar=True
		    		
												sm[i]=3
												PlaySound(fx16,16)
												level[y1][x1]=11
												pricitani2()
											Endif
				
									End Select
								End For
							End For
			
			
							Select nat
		    	
								Case False
									If y[i]&gt;by-17 And y[i]&lt;by And x[i]&gt;=bx-40 And x[i]&lt;=bx+40
										sm[i]=1
										u[i]=-0.16666*Pow(x[i]-bx,2)+166.6666
										PlaySound(fx2,2)
									EndIf
		    	
								Case True
									If y[i]&gt;by-17 And y[i]&lt;by And x[i]&gt;=bx-70 And x[i]&lt;=bx+70
										sm[i]=1
										u[i]=-0.16666*Pow(x[i]-bx,2)+166.6666
										PlaySound(fx2, 2)
									EndIf
		    	
							End Select
		    	
						EndIf
		    
					Default
						If y[i]&gt;w2-25
							act[i]=False
							pm2-=1';pm-=1
							Exit
							'sm[i]=2
							'PlaySound(fx1)
						Endif
		    
				End Select
			Endif
		Next i
	End Method	'Direction
	
	
	'přičítání score během hry
	Method pricitani()
		If cmx = False
			score += 1
		ElseIf cmx = True
			score += 2
		EndIf
		If cmt = True
			score += 2
		EndIf
		If zmateni = True
			score += 2
		EndIf
	End Method
	
	'přičítání score během hry žárovky
	Method pricitani2()
		If cmx = False
			score += 10
		ElseIf cmx = True
			score += 20
		EndIf
		If cmt = True
			score += 20
		EndIf
		If zmateni = True
			score += 10
		EndIf
	End Method
    
	'score
	Method Score()
		SetBlend AlphaBlend
		SetAlpha 0.80
		SetColor 255, 255, 255
    	
		DrawText("SAVED:" + String(score), 10, 458, 0, 0)
		DrawText("RECORD:" + String(hiscore), 235, 458, 0, 0)
	End Method
    
	'kolize s bonusy
	Method Kolize()
		'bonus1 (score)
		For Local i:Int = 1 To b1p
			If ba1[i] = True And rn = True And bb1[i] = False
				If by1[i] &gt; by - 17 And by1[i] &lt; by And bx1[i] &gt;= bx - 40 And bx1[i] &lt;= bx + 40
					bb1[i] = True
					score += 100
					PlaySound(fx4, 4)
					burst = 1
				Endif
			Endif
		Next i
		'bonus2 (rozdvojení)
		For Local i:Int = 1 To b2p
			If ba2[i] = True And rn = True And bb2[i] = False
				If by2[i] &gt; by - 17 And by2[i] &lt; by And bx2[i] &gt;= bx - 40 And bx2[i] &lt;= bx + 40
					bb2[i] = True
					score += 10
					burst = 1
					pm += 1; pm2 += 1; pm3 += 1
					x[pm3] = bx
					y[pm3] = 403
					u[pm3] = Rnd(10, 80)	'úhel
					r[pm3]=3.5	'rychlost
					sm[pm3] = Rnd(1, 2)	'směr
					act[pm3] = True	'aktivní míček
					
					PlaySound(fx10, 10)
				Endif
			Endif
		Next i
		'bonus3 (život)
		For Local i:Int = 1 To b3p
			If ba3[i] = True And rn = True And bb3[i] = False
				If by3[i] &gt; by - 17 And by3[i] &lt; by And bx3[i] &gt;= bx - 40 And bx3[i] &lt;= bx + 40
					bb3[i] = True
					score += 10
					liv += 1
					burst = 2
					PlaySound(fx6, 6)
				EndIf
			EndIf
		Next i
		'bonus4 (zrychlení)
		For Local i:Int=1 To b4p
			If ba4[i]=True And rn=True And bb4[i]=False
				If by4[i]&gt;by-17 And by4[i]&lt;by And bx4[i]&gt;=bx-40 And bx4[i]&lt;=bx+40
					bb4[i]=True
					score+=10
					
					sc2=True
					sc3=0
					burst=1
					For Local j:Int=1 To 30
						r[j]+=1.0
						If r[j]&gt;6.5 Then r[j]=6.5
					Next j
					
					PlaySound(fx9,9)
				Endif
			Endif
		Next i
		'bonus5 (zpomalení)
		For Local i:Int=1 To b5p
			If ba5[i]=True And rn=True And bb5[i]=False
				If by5[i]&gt;by-17 And by5[i]&lt;by And bx5[i]&gt;=bx-40 And bx5[i]&lt;=bx+40
					bb5[i]=True
					score+=10
					
					sc4=True
					sc5=0
					burst=1
					For Local j:Int=1 To 30
						r[j]-=0.2
						If r[j]&lt;3.0 Then r[j]=3.0
					Next j
					
					PlaySound(fx8,8)
				Endif
			Endif
		Next i
		'bonus6 (duch)
		For Local i:Int=1 To b6p
			If ba6[i]=True And rn=True And bb6[i]=False
				If by6[i]&gt;by-17 And by6[i]&lt;by And bx6[i]&gt;=bx-40 And bx6[i]&lt;=bx+40
					bb6[i]=True
					score+=10
					
					cmx=True;sc6=0
					burst=1
					PlaySound(fx7,7)
				Endif
			Endif
		Next i
		'bonus7 (death)
		For Local i:Int=1 To b7p
			If ba7[i]=True And rn=True And bb7[i]=False
				If by7[i]&gt;by-17 And by7[i]&lt;by And bx7[i]&gt;=bx-40 And bx7[i]&lt;=bx+40
					bb7[i]=True
					burst=1
					For Local j:Int = 1 To 30
						act[j] = False
					Next j
					
				Endif
			Endif
		Next i
		'bonus8 (pohyb textury)
		For Local i:Int=1 To b8p
			If ba8[i]=True And rn=True And bb8[i]=False
				If by8[i]&gt;by-17 And by8[i]&lt;by And bx8[i]&gt;=bx-40 And bx8[i]&lt;=bx+40
					bb8[i]=True
					burst=1
					score+=10
					cmt=True
					PlaySound(fx11,11)
					sc8=0
					
				Endif
			Endif
		Next i
		'bonus9 (10 míčků)
		For Local i:Int=1 To b9p
			If ba9[i]=True And rn=True And bb9[i]=False
				If by9[i]&gt;by-17 And by9[i]&lt;by And bx9[i]&gt;=bx-40 And bx9[i]&lt;=bx+40
					bb9[i]=True
					burst=1
					score+=10
					
					Local j:Int=1
					Repeat
						pm+=1;pm2+=1;pm3+=1;j+=1
					
						If cact=False
							For Local k:Int=1 To 30
								If act[k]=True Then k1=x[k];k2=y[k];cact=True
								Exit
							Next k
						Endif
					
						x[pm3] = k1 + j * 4 'bx+j*4
						y[pm3] = k2  '403
						u[pm3] = Rnd(10, 80)	'úhel
						r[pm3]=3.5	'rychlost
						sm[pm3] = Rnd(1, 4)	'směr
						act[pm3] = True	'aktivní míček
					Until j = 10
					
					cact = False
					
					PlaySound(fx10, 10)
					
				EndIf
			EndIf
		Next i
		'bonus10 (střelba)
		For Local i:Int = 1 To b10p
			If ba10[i] = True And rn = True And bb10[i] = False
				If by10[i] &gt; by - 17 And by10[i] &lt; by And bx10[i] &gt;= bx - 40 And bx10[i] &lt;= bx + 40
					bb10[i] = True
					burst = 1
					score += 10
					
					stx=True
					PlaySound(fx12,12)
					
				Endif
			Endif
		Next i
		'bonus11 (natažení)
		For Local i:Int=1 To b11p
			If ba11[i]=True And rn=True And bb11[i]=False
				If by11[i]&gt;by-17 And by11[i]&lt;by And bx11[i]&gt;=bx-40 And bx11[i]&lt;=bx+40
					bb11[i]=True
					
					score+=10
					nat=True
					burst=1
					
					PlaySound(fx15,15)
				Endif
			Endif
		Next i
		'bonus12 (zmatení)
		For Local i:Int = 1 To b12p
			If ba12[i] = True And rn = True And bb12[i] = False
				If by12[i] &gt; by - 17 And by12[i] &lt; by And bx12[i] &gt;= bx - 40 And bx12[i] &lt;= bx + 40
					bb12[i] = True
					
					score += 50
					zmateni = True; sc14 = 0
					For Local j:Int = 1 To 30
						nj[j] = Rnd(0, 2)
					Next j
				
					burst = 1
					
					PlaySound(fx17, 17)
				Endif
			Endif
		Next i
	
	End Method	'end Kolize
    
    
	'bonus přepočet alpha
	Method BonusControl()
		If sc2 = True	'vrácení bonusu4
			sc3 += 1
			If sc3 &gt; 600
				sc2 = False; sc3 = 0
				For Local i:Int = 1 To 30
					r[i] = 3.5
				Next i
			EndIf
		EndIf
    
		If sc4 = True	'vrácení bonusu5
			sc5 += 1
			If sc5 &gt; 600
				sc4 = False; sc5 = 0
				For Local i:Int = 1 To 30
					r[i] = 3.5
				Next i
			EndIf
		EndIf
    
		'bonus1
		For Local i:Int = 1 To b1p
			If sc &gt;= bsc1[i]
				ba1[i] = True
				by1[i] += b1r[i]
			EndIf
			b1t[i] = 0.0030975 * by1[i] + 0.20121951
			If b1t[i] &gt; 1
				b1t[i] = 1
			ElseIf b1t[i] &lt; 0
				b1t[i] = 0
			EndIf
		Next i
		'bonus2
		For Local i:Int = 1 To b2p
			If sc &gt;= bsc2[i]
				ba2[i] = True
				by2[i] += b2r[i]
			EndIf
			b2t[i] = 0.0030975 * by2[i] + 0.20121951
			If b2t[i] &gt; 1
				b2t[i] = 1
			ElseIf b2t[i] &lt; 0
				b2t[i] = 0
			EndIf
		Next i
		'bonus3
		For Local i:Int = 1 To b3p
			If sc &gt;= bsc3[i]
				ba3[i] = True
				by3[i] += b3r[i]
			EndIf
			b3t[i] = 0.0030975 * by3[i] + 0.20121951
			If b3t[i] &gt; 1
				b3t[i] = 1
			ElseIf b3t[i] &lt; 0
				b3t[i] = 0
			EndIf
		Next i
		'bonus4
		For Local i:Int = 1 To b4p
			If sc &gt;= bsc4[i]
				ba4[i] = True
				by4[i] += b4r[i]
			EndIf
			b4t[i] = 0.0030975 * by4[i] + 0.20121951
			If b4t[i] &gt; 1
				b4t[i] = 1
			ElseIf b4t[i] &lt; 0
				b4t[i] = 0
			EndIf
		Next i
		'bonus5
		For Local i:Int = 1 To b5p
			If sc &gt;= bsc5[i]
				ba5[i] = True
				by5[i] += b5r[i]
			EndIf
			b5t[i] = 0.0030975 * by5[i] + 0.20121951
			If b5t[i] &gt; 1
				b5t[i] = 1
			ElseIf b5t[i] &lt; 0
				b5t[i] = 0
			EndIf
		Next i
		'bonus6
		For Local i:Int = 1 To b6p
			If sc &gt;= bsc6[i]
				ba6[i] = True
				by6[i] += b6r[i]
			EndIf
			b6t[i] = 0.0030975 * by6[i] + 0.20121951
			If b6t[i] &gt; 1
				b6t[i] = 1
			ElseIf b6t[i] &lt; 0
				b6t[i] = 0
			EndIf
		Next i
		'bonus7
		For Local i:Int = 1 To b7p
			If sc &gt;= bsc7[i]
				ba7[i] = True
				by7[i] += b7r[i]
			Endif
			b7t[i] = 0.0030975 * by7[i] + 0.20121951
			If b7t[i] &gt; 1
				b7t[i] = 1
			ElseIf b7t[i] &lt; 0
				b7t[i] = 0
			EndIf
		Next i
		'bonus8
		For Local i:Int=1 To b8p
			If sc&gt;=bsc8[i]
				ba8[i]=True
				by8[i]+=b8r[i]
			Endif
			b8t[i] = 0.0030975 * by8[i] + 0.20121951
			If b8t[i] &gt; 1
				b8t[i] = 1
			ElseIf b8t[i] &lt; 0
				b8t[i] = 0
			EndIf
		Next i
		'bonus9
		For Local i:Int = 1 To b9p
			If sc &gt;= bsc9[i]
				ba9[i] = True
				by9[i] += b9r[i]
			EndIf
			b9t[i] = 0.0030975 * by9[i] + 0.20121951
			If b9t[i] &gt; 1
				b9t[i] = 1
			ElseIf b9t[i] &lt; 0
				b9t[i] = 0
			EndIf
		Next i
		'bonus10
		For Local i:Int = 1 To b10p
			If sc&gt;=bsc10[i]
				ba10[i] = True
				by10[i] += b10r[i]
			EndIf
			b10t[i] = 0.0030975 * by10[i] + 0.20121951
			If b10t[i] &gt; 1
				b10t[i] = 1
			ElseIf b10t[i] &lt; 0
				b10t[i] = 0
			EndIf
		Next i
		'bonus11
		For Local i:Int = 1 To b11p
			If sc &gt;= bsc11[i]
				ba11[i] = True
				by11[i] += b11r[i]
			EndIf
			b11t[i] = 0.0030975 * by11[i] + 0.20121951
			If b11t[i] &gt; 1
				b11t[i] = 1
			ElseIf b11t[i] &lt; 0
				b11t[i] = 0
			EndIf
		Next i
		'bonus12
		For Local i:Int = 1 To b12p
			If sc &gt;= bsc12[i]
				ba12[i] = True
				by12[i] += b12r[i]
			EndIf
			b12t[i] = 0.0030975 * by12[i] + 0.20121951
			If b12t[i] &gt; 1
				b12t[i] = 1
			ElseIf b12t[i] &lt; 0
				b12t[i] = 0
			EndIf
		Next i
	End Method 'BonusControl()
     
     
	'přepočet ducha
	Method Duch()
		If sc6 &lt; 550
			sc6 += 1
		ElseIf sc6 &gt;= 500
			cmx = False
		EndIf
	End Method


	'střelba
	Method Strelba()
		If sc9 &lt; 650
			sc9 += 1
		ElseIf sc9 &gt;= 650
			stx = False
			sc9 = 0
			sty1 = -15
			PlaySound(fx12, 12)
		EndIf
     	
		'kolize/end
		If sty1 &lt; - 15 Then sty1 = 0; stxa = False
     	
		For Local x1:Int = 0 Until 12
			For Local y1:Int = 0 Until 13
				Select level[y1][x1]
					Case 1, 2, 3, 4, 5, 7, 8
						If stx1 &gt; 52 * x1 + 34 - 40 And stx1 &lt; 52 * x1 + 34 + 30 And sty1 &gt; 18 * y1 + 14 + 0 And sty1 &lt; 18 * y1 + 14 + 20
							PlaySound(fx1, 1)
							level[y1][x1] = 0
							stxa = False
							score += 1
						EndIf
					Case 6
						If stxa = True And stx1 &gt; 52 * x1 + 34 - 40 And stx1 &lt; 52 * x1 + 34 + 30 And sty1 &gt; 18 * y1 + 14 + 0 And sty1 &lt; 18 * y1 + 14 + 20
							PlaySound(fx3, 3)
							stxa = False
						EndIf
				End Select
			End For
		End For
     	
	End Method
     
     
	'přepočet textury, pohyb
	Method PrepocetTextura()
		If sc8 &lt; 650
			sc8 += 1
			If tpy1 &lt;= - 498 Then tpy1 = 0 Else tpy1 -= -0.008063 * sc8 + 5.12814087
		ElseIf sc &gt;= 650
			cmt = False
			sc8 = 0
			'tpy1=0
		Endif
	End Method
     
     
	'Nature
	Method Nature()
		sc12+=1
		If sc12&lt;600
			If nt1&lt;1.35 Then nt1+=0.005
		Else
			If pt1=False Then PlaySound(fx15,15);pt1=True
			If nt1&gt;1.01 Then nt1-=0.005 Else sc12=0;nat=False;pt1=False
		Endif
     	
	End Method
    
       
	'vynulování
	Method Vynul()
   		
		mnn = False
		'pretoceni = False
	
		cmx = False	'duch
		sc6 = 0
		
		'go = False
    
		sc8=0
		tpy1=0.00
		cmt=False
    
		stx = False; stxa = False	'střelba
		stx1 = 0; sty1 = 0
		sc9 = 0
    
		sc10 = 0; sc11 = 0
		vt3 = 1
    
		sc13 = 0
    
		cact = False
    
		nat = False
		sc12 = 0
		nt1 = 1.01
		pt1 = False
    
		zar = False
		zx = -100; zy = -100
    
		zmateni = False
		sc14 = 0
		clx = False
		'bl1=0
		vbh1 = 0.70

		ac = 0
	 
		cml = False
    
		pm = 1; pm2 = pm
		pm3 = 1	'pohyb míče v poli
		For Local i:Int = 1 To 30	'default
			x[i] = i * 25 + 150
			y[i] = 403 + i * 10
			u[i] = i * 11	'úhel
			r[i] = 3.5	'rychlost
			sm[i] = 1	'směr
			act[i] = False	'aktivní míček
		Next i
        
		act[1] = True	'první míček aktivní
        
		bx = 150	'výchozí pozice bat
           
		sc = 0
		sc2 = False
		sc4 = False
           
		vz1 = 0.00
		sc7 = 0
           
		Seed = Millisecs()
        
		'bonus1 (score)
		b1p = Rnd(1, 9)					'počet
		For Local i:Int=1 To b1p
			ba1[i]=False				'aktivita
			bb1[i]=False				'kolize
			ang1[i] = Rnd(0, 180)		'úhel default
			ang1r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc1[i] = Rnd(prubeh)			'kdy přijde
			bx1[i]=Rnd(30,590)		'X
			by1[i]=-100					'Y
			b1r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b1t[i]=0.0					'alpha default
		Next i
		'bonus2 (rozdvojení míčků)
		b2p = Rnd(1, 9)						'počet
		For Local i:Int=1 To b2p
			ba2[i]=False				'aktivita
			bb2[i]=False				'kolize
			ang2[i] = Rnd(0, 180)		'úhel default
			ang2r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc2[i] = Rnd(prubeh)			'kdy přijde
			bx2[i]=Rnd(30,590)		'X
			by2[i]=-100					'Y
			b2r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b2t[i]=0.0					'alpha default
		Next i
		'bonus3 (život)
		b3p = Rnd(0, 2)					'počet
		For Local i:Int=1 To b3p
			ba3[i]=False				'aktivita
			bb3[i]=False				'kolize
			ang3[i] = Rnd(0, 180)		'úhel default
			ang3r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc3[i] = Rnd(prubeh)			'kdy přijde
			bx3[i]=Rnd(30,590)		'X
			by3[i]=-100					'Y
			b3r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b3t[i]=0.0					'alpha default
		Next i
		'bonus4 (zrychlení)
		b4p = Rnd(1, 9)					'počet
		For Local i:Int=1 To b4p
			ba4[i]=False				'aktivita
			bb4[i]=False				'kolize
			ang4[i] = Rnd(0, 180)		'úhel default
			ang4r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc4[i] = Rnd(prubeh)			'kdy přijde
			bx4[i]=Rnd(30,590)		'X
			by4[i]=-100					'Y
			b4r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b4t[i]=0.0					'alpha default
		Next i
		'bonus5 (zpomalení)
		b5p = Rnd(1, 9)					'počet
		For Local i:Int=1 To b5p
			ba5[i]=False				'aktivita
			bb5[i]=False				'kolize
			ang5[i] = Rnd(0, 180)		'úhel default
			ang5r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc5[i] = Rnd(prubeh)			'kdy přijde
			bx5[i]=Rnd(30,590)		'X
			by5[i]=-100					'Y
			b5r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b5t[i]=0.0					'alpha default
		Next i
		'bonus6 (duch)
		b6p = Rnd(1, 9)					'počet
		For Local i:Int=1 To b6p
			ba6[i]=False				'aktivita
			bb6[i]=False				'kolize
			ang6[i] = Rnd(0, 180)		'úhel default
			ang6r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc6[i] = Rnd(prubeh)			'kdy přijde
			bx6[i]=Rnd(30,590)		'X
			by6[i]=-100					'Y
			b6r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b6t[i]=0.0					'alpha default
		Next i
		'bonus7 (death)
		b7p = Rnd(1, 9)					'počet
		For Local i:Int=1 To b7p
			ba7[i]=False				'aktivita
			bb7[i]=False				'kolize
			ang7[i] = Rnd(0, 180)		'úhel default
			ang7r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc7[i] = Rnd(prubeh)			'kdy přijde
			bx7[i]=Rnd(30,590)		'X
			by7[i]=-100					'Y
			b7r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b7t[i]=0.0					'alpha default
		Next i
		'bonus8 (pohyb textury)
		b8p = Rnd(1, 9)					'počet
		For Local i:Int=1 To b8p
			ba8[i]=False				'aktivita
			bb8[i]=False				'kolize
			ang8[i] = Rnd(0, 180)		'úhel default
			ang8r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc8[i] = Rnd(prubeh)			'kdy přijde
			bx8[i]=Rnd(30,590)		'X
			by8[i]=-100					'Y
			b8r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b8t[i]=0.0					'alpha default
		Next i
		'bonus9 (10 míčků)
		b9p = Rnd(1, 9)					'počet
		For Local i:Int=1 To b9p
			ba9[i]=False				'aktivita
			bb9[i]=False				'kolize
			ang9[i] = Rnd(0, 180)		'úhel default
			ang9r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc9[i] = Rnd(prubeh)			'kdy přijde
			bx9[i]=Rnd(30,590)		'X
			by9[i]=-100					'Y
			b9r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b9t[i]=0.0					'alpha default
		Next i
		'bonus10 (střelba)
		b10p = Rnd(1, 9)				'počet
		For Local i:Int=1 To b10p
			ba10[i]=False				'aktivita
			bb10[i]=False				'kolize
			ang10[i] = Rnd(0, 180)		'úhel default
			ang10r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc10[i] = Rnd(prubeh)			'kdy přijde
			bx10[i]=Rnd(30,590)		'X
			by10[i]=-100					'Y
			b10r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b10t[i]=0.0					'alpha default
		Next i
		'bonus11 (natažení)
		b11p = Rnd(1, 9)				'počet
		For Local i:Int=1 To b11p
			ba11[i]=False				'aktivita
			bb11[i]=False				'kolize
			ang11[i] = Rnd(0, 180)		'úhel default
			ang11r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc11[i] = Rnd(prubeh)			'kdy přijde
			bx11[i]=Rnd(30,590)		'X
			by11[i]=-100					'Y
			b11r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b11t[i]=0.0					'alpha default
		Next i
		'bonus12 (zmatení)
		b12p = Rnd(1, 9)				'počet
		For Local i:Int=1 To b12p
			ba12[i]=False				'aktivita
			bb12[i]=False				'kolize
			ang12[i] = Rnd(0, 180)		'úhel default
			ang12r[i] = Rnd(1.0, 3.2)	'rychlost otočení
			bsc12[i] = Rnd(prubeh)			'kdy přijde
			bx12[i]=Rnd(30,590)		'X
			by12[i]=-100					'Y
			b12r[i] = Rnd(1.1, 4.2)		'rychlost padání
			b12t[i]=0.0					'alpha default
		Next i

	End Method
    
    
	'Ukončení hry
	Method Konec()
		vx1 = 0; vb1 = True
		intro = False
		pretoceni = False
      
		If score &gt; hiscore
			hiscore = score
			cml = True
			
			iSaveState("This is a test")
			iStorage.WriteInt("MyGame/Player/Lives", hiscore)
			iStorage.Save
			
			'fsave()
		EndIf
      
		OnCreate()
	End Method
    
End Class

'// main function //
Function Main()
	New Wall()
End Function
</textarea> <br><br></td></tr></table><br>
<a name="2124648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pakz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks/plays very well. You seem to be a good programmer already:) <br><br></td></tr></table><br>
<a name="2124653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice! The scrolling background "power up" freaked me out! LOL! <br><br></td></tr></table><br>
<a name="2124655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh wow! I see some very nice original stuff in there! <br><br></td></tr></table><br>
<a name="2124665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much friends!<br>Unfortunately, I'm not satisfied. I do not use all the possibilities of language MonkeyX. Especially object-oriented programming. Over time, I also want to use Playniax framework (so far I have not bought). I'll try to make it better ;-)<br>Thanks a lot! <br><br></td></tr></table><br>
<a name="2125479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonkeyPlotter</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi zxretrosoft, great gameplay - I made a breakout game a while ago in BMAX, it was nowhere near as polished as your game. Great stuff ;) <br><br></td></tr></table><br>
<a name="2125863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simonsuuri</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really nice game and good job! <br><br>I loaded the game code&amp;data and its really hard to read :) <br>you have made it fully in "game" Class so thats why it gets messy and the code gets long. <br><br>I would improve code readability and length by making classes for <br>-Block; (img, type, x,y,w,h, health... ) <br>-Ball; (img, x,y,radius, velx,vely.... )<br>-Bonus; (img, type, x,y,radius... ) <br>Probably would use lists to handle blocks and bonuses.. <br>and also i would use more exact variable names for most of variables just to make it easier to read, <br>probably even after 1 - 2 months it gets really hard to understand what does like "rn" variable do:)<br><br>I would give you link for video tutorial ("making breakout game in 1 hour with monkey-x") that has good things how to use classes but i cant find it anymore :( <br><br></td></tr></table><br>
<a name="2125888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Simonsuuri<br>Thank you very much!<br><br>Yes, it is certainly much better to write the code. I've learned in this example MonkeyX. And secondly, I wanted the game to think of myself completely, without any help (even foreign code). Balls bounces, collisions, reading a wall from array, etc.<br><br>If you want, you can try to improve. Sorry for the Czech comments that are in the code...<br><br>e.g.<br>rn = "spuštění", ie. start the game, something like RUN<br><br>Otherwise a great idea with video tutorial! There are a few around MonkeyX :/ <br><br></td></tr></table><br>
<a name="2125895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simonsuuri</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> no problem! <br><br>you sound just like me :D i have owned monkey and Ignition-x for 2 and half years and i have only used mojo1 and mojo2, <br>pretty much everything else (Framework stuff) has been my own made.. (I might have been too stuborn, but I've learnt a lot tho :3 ) <br><br>I propably wont try to improve your code but i might try to re-create it at some weekend :) <br><br>Too bad that, that tutorial doesnt seems to exist anymore :/ it really helped me when i started monkey, <br>but that gave me idea for try to make such a tutorial by my self ;) <br><br>But, dont hold your breath, since im really for a moment. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
