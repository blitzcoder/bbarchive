<!DOCTYPE html><html lang="en" ><head ><title >Jayenkai's Framework - October 2013</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Jayenkai's Framework - October 2013</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=511" >Monkey Projects</a>/<a href="#bottom" >Jayenkai's Framework - October 2013</a><br><br>
<a name="2069229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Link</b><br><a href="http://jayenkai.socoder.net/2013/10/monkey-skeleton-13_10_20/" target="_blank">Most Recent Version (as of 20th October 2012)</a><br>From here you can read through blog posts about the previous versions, and download as required.<br><br>-=-=-<br><br><b>WARNING</b><br>Jayenkai's Monkey Framework consists of Jayenkai's 1980's Influenced Coding Style, and should not be used without taking proper precautions.<br>Do not attempt to train yourself coding techniques using the methodology contained within.<br>Do not attempt to pretend to learn anything useful from the functions included. <br>Do not complain about the fact that 95% of the code is all crammed into one great big gigantic .monkey file.<br>Do not read code whilst driving.<br><br><b>General</b><br>Writing games at a rate of AGameAWeek needs something a little more substantial than a simple "Here's a tilemap engine".<br>In truth, I've barely ever used a tilemap engine.  I can do that on the fly. It's not exactly difficult to line up some pictures and scroll them around.  I learned to do that on an Amstrad, so being able to do it on a modern PC using a fancy language like Monkey is a doddle.<br>Instead, I need the annoying bits.<br>My "Framework" does all those horribly annoying things that I typically don't enjoy doing.<br><br>-=-=-<br><br><b>Contents</b><br><br><b>Menu/Ingame/Menu</b><br>The framework draws a simple looking titlescreen made up of 2 images.  Replace the images, get a different looking but similar titlescreen.  It's a fairly simple task.<br>The menu handles Easy/Normal/Hard mode select, displays a highscore table, and even lets you turn sfx off and on.<br>The engine then handles the switch to Ingame, handles a Pause button along with Pause Menu and Quit, and in your game code you simply flag up EndofGame=1 and it exits nicely, then swiftly fades back to the menu again.<br><br>Very simple stuff, easy to work with, job done.<br><br><b>Scores</b><br>Update the Score= variable, and the engine handles the rest. Highscores are updated, LastScores get recorded, it all kinda does things itself.<br><br><b>Credit Testcard</b><br>Tap the AGameAWeek Logo to pop up the Credits screen.  It's simplistic, but works well enough.<br><br><b>PlayKey()</b><br>PlayKey(0) is Up<br>PlayKey(8) is Down<br>PlayKey(3) is Left<br>PlayKey(5) is Right  (For those keeping track, these are taken from the 200,203,205,208 cursorkey scancodes that Blitz used to use)<br>PlayKey(10 to 13) are four main fire buttons.<br>PlayKey(14 and 15) are Triggers<br>PlayKey(99) is Start/Quit/Whatever.<br><br>PlayKey works for the following.<br>1. Cursor keys and ZXCVBN<br>2. WASD and JKLIUO<br>3. Spacebar, Shift, Control, Enter and other expected keys.<br>4. Escape!<br>5. The majority of USB gamedevices, assuming they're vaguely standardised.<br>6. If you set "OnScreenControls=1", then the onscreen dpad and buttons are reflected in PlayKey()<br>7. iCade.  If you toggle the iCade icon on the menu, and have an iCade compatible device hooked up, that works here, too.<br>8. Android Gamepads. Those work.<br>9. OUYA.  Works on OUYA.<br><br>I've also recently added StickX, StickY and Trigger, to fit the OUYA.<br><br><b>Resolutions</b><br><br>LoadImg() and DrawImg() replace your normal commands, and perform two tasks.<br>First up, LoadImg loads a different asset depending on the general resolution of the screen. ("a.png" for &lt;640, "a-hd.png" for &gt;640 and "a-hd2.png" for &gt;1280)<br>DrawImg, Rect, Oval and Line all then scale from your given original resolution, up to whatever the user's current resolution and aspect ratio is.<br><br>You can setup a virtual resolution near the top of the code.  Set your own rawscrw and rawscrh, and that'll be your target, then draw within 0,0 to jscrw,jscrh, and everything you draw will be visible on the screen.<br><br><b>Bitmap Fonts</b><br>It's barely complex at all, but it does the job.  Barebones, but functional.<br><br>-=-=-<br><br><b>Further Reading</b><br><a href="http://jayenkai.socoder.net/2013/10/monkey-skeleton-13_10_20/" target="_blank">The blog posts</a> contain plenty more information about the ins and outs of the framework.<br><br><b>Not Included</b><br>. Sprites Engine - just draw things.<br>. Tilemap Engine - just draw things.<br>. Particle Engine - just draw things.<br>. Batteries<br><br><b>Targets</b><br>This framework has been tested on, and proved to work with the following targets.<br><br>1. HTML5<br>2. GLFW<br>3. Android<br>4. Android OUYA<br>5. iOS<br><br>Theoretically it should also work on other targets, but might require tweaking, especially around the PlayKey area.<br><br>-=-=-<br><br><b>Usage</b><br><br>I wouldn't have put it online if I wanted to guard it.<br>Grab, Use, and Credit me if you're nice.<br><br>But...<br><b>WARNING PART TWO</b><br>It's not really meant for public consumption, and is very much coded specifically for myself, and my AGameAWeek coding style. Any complications should be easy to deal with, any complaints should be fixable yourself.  If you want to rant about my insane use of Globals, Arrays, and the terrible way it's all in one giant file, then strip it all out, fix it all up, upload a new version, and then go "I KAN HAS DUN MAIKED IT BETERERER".<br>I didn't write this with "awesome-code-style" in mind.  I wrote it with "AGameAWeek" in mind.<br><br>Fast and furious isn't always pretty.<br>Don't whinge about the results.<br><br>As of October 2013<br>5 games on the iOS AppStore use this framework.<br>17 games on the GooglePlay Android store use this framework.<br>2 games on the OUYA marketplace use this framework.<br>and <a href="http://jayenkai.socoder.net/GameList.php?System=Monkey" target="_blank">all of these games</a> use this framework.<br><br>It's not clean, it's not pretty, but it gets the job done.<br><br>-=-=-<br><br><b>Link</b><br><a href="http://jayenkai.socoder.net/2013/10/monkey-skeleton-13_10_20/" target="_blank">Most Recent Version (as of 20th October 2012)</a><br>From here you can read through blog posts about the previous versions, and download as required. <br><br></td></tr></table><br>
<a name="2069230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh my god, that's horrible ^^<br><br>Just kidding, if you can pull out a game a week with this you have to do something right :) <br><br></td></tr></table><br>
<a name="2069257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol, looks interesting. Will have to check it out :). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
