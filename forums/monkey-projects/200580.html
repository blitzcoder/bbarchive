<!DOCTYPE html><html lang="en" ><head ><title >Fling - a port of the physaxe 2D physics library</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fling - a port of the physaxe 2D physics library</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=511" >Monkey Projects</a>/<a href="#bottom" >Fling - a port of the physaxe 2D physics library</a><br><br>
<a name="2004445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought it best to have a separate topic rather than clutter up the chipmonkey thread.<br><br>The code isn't completely converted (there are still some compilation issues with one demo) but it's in a generally working state, so I've pushed it up to a google code project at <a href="http://code.google.com/p/fling/" target="_blank">http://code.google.com/p/fling/</a> so that people can have a play if they want.<br><br>Please be aware that a number of things will change and that includes the API, if only to make the casing style consistent with Monkey, so I wouldn't write a ton of code against what is there just yet.<br><br>Quick instructions:<br><br> * Grab the fling project code via mercurial and put it in your modules directory.<br> * Create a new monkey file like so:<br><br><pre class=code>import fling.demo.maindemo

Function Main() 
	new MainDemo()
End</pre><br><br> * Build it and you'll have the same thing as <a href="http://www.stickydesigns.com/monkey/fling/MonkeyGame.swf" target="_blank">this Flash demo</a> or <a href="http://www.stickydesigns.com/monkey/fling/MonkeyGame.html" target="_blank">this HTML5 demo</a>. (Warning! The HTML5 performance on Firefox is currently terrible and it may cause the browser to throw an error. Use Chrome if possible.)<br><br> MainDemo extends the mojo App class so you can look at that if you want to see how you can build your own -- with the caveat as above about the state of the library. <br><br></td></tr></table><br>
<a name="2004435"></a>

<a name="2004436"></a>

<a name="2004437"></a>

<a name="2004438"></a>

<a name="2004441"></a>

<a name="2004439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> And if anyone looks at the code and wonders why it's a little crazy. It's because most of the conversion work was done by regexes and some C#. The first priority was to get something running so I could verify that it would work at all and things like formatting, naming conventions and nicely encapsulated classes haven't been part of the agenda yet. <br><br></td></tr></table><br>
<a name="2004446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is very, very cool. I can sit back and relax now... Well just kidding of course. ;) <br><br></td></tr></table><br>
<a name="2004450"></a>

<a name="2004451"></a>

<a name="2004457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> looks great so far, just a little request...<br><br><br>Im using physaxe for a little basketball game and it seems you can only create one 'world' otherwise it crashes,<br> i need 2 worlds<br>one for the gameplay and one to show the player where the ball would go if he shoots it<br>would it be possible to have 2 worlds in fling?<br><br>I tested on Firefox 4 for a laff it seemed ok, just a little slow<br>fast in opera(!) <br><br></td></tr></table><br>
<a name="2004462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @slenkar<br><br>All things are possible but the first priority is to get to full parity with the physaxe release and to tidy the code so I can have a baseline version 1.0. That shouldn't take long and once that's done I can start seeing if there are changes/improvements to be made (and possibly backporting those to physaxe). <br><br></td></tr></table><br>
<a name="2004633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I've done a bunch of jiggery and pokery to change names and such to what looks like more standard Monkey and tagged it up as v1.0. You can grab it from the project page downloads area as a zip if you don't want to install mercurial.<br><br>In the medium term it looks like a future version will be better based on nape, once the current rewrite of that library is complete. <br><br></td></tr></table><br>
<a name="2004645"></a>

<a name="2004647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work!<br><br>I started converting nape using the haxe output and not the original caxe source. <br><br>This turned out to possibly be the wrong approach, after going through my rudimentary haxe to monkey converter I ended up with a lot of files with a lot of weird syntax. <br><br></td></tr></table><br>
<a name="2004649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> About 80% of the work in converting physaxe was done with a set of regexes. The syntax problems with haXe conversion are mostly down to the availability of funky scoping like "return if { expression } else { expression }", which can't be easily processed without getting serious about parsing.<br><br> Ultimately though, the real show stopper for automatic conversion is the type inference and Monkey's curious "pretend dynamic typing". The debugging process was mostly about finding instances where physaxe declared something without a type that was used as a float. Monkey happily assumes that such variables are ints and doesn't complain if you are assigning a float. I think this is really a flaw in Monkey as it's really error-prone.<br><br> Anyway, with the regexes and having learned a few things about processing the haXe code before converting to remove problematic structures I doubt it will take long to convert nape. I just don't want to spend the time until the project lead has finished his rewrite. <br><br></td></tr></table><br>
<a name="2005210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah ah version 1.0! checking it out now <br><br></td></tr></table><br>
<a name="2005215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @muddy_shoes<br><br><div class="quote"> Monkey happily assumes that such variables are ints and doesn't complain if you are assigning a float. I think this is really a flaw in Monkey as it's really error-prone. <br></div><br><br>You are using the STRICT mode, right? <br><br></td></tr></table><br>
<a name="2005235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed the shapes were all just lines so I compiled to DS for a laff<br><br><br>and it actually frickin worked :_)<br><br><br><br><br><img src="http://i663.photobucket.com/albums/uu353/Slenkar/nds-1.png"> <br><br></td></tr></table><br>
<a name="2005230"></a>

<a name="2005231"></a>

<a name="2005232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loofadawg</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, that is just geeky cool.  My son is going to freak if I pull that off on his DS.<br><br>Maybe a quick "How To Setup the DS as a Target guide" ?  :D <br><br></td></tr></table><br>
<a name="2005236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> its too zoomed in ATM, im trying to get loadmatrix to work so it will fit the screen <br><br></td></tr></table><br>
<a name="2005237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to create a little demo of a ball bouncing , <br>but the ball acts weirdly:<br><br><pre class=code>
Strict 
Import mojo
Import fling.allfling

Class physapp Extends App
	
	Field floor : Float
	Field size : Vector
	Field updates : Int
	Field debug : Bool
	Field stopped : Bool
	Field recalStep : Bool
	Field world : World
	Field draw : Bool
	Field curbf : Int
	Field frame : Int
	Field ballmaterial:Material
	Field broadphases : BroadPhase[] = [BroadPhase(New SortedList()), BroadPhase(New Quantize(6)),BroadPhase(New BruteForce())]
	Field fd : MojoDraw = New MojoDraw()
Method OnRender:Int()
	Cls 0,0,0
		
		If( debug ) 
		
			'fd.boundingBox.line = 0x000000
			'fd.contact.line = 0xFF0000
			'fd.sleepingContact.line = 0xFF00FF
			fd.drawCircleRotation = True
		End

		If( draw )
		   fd.DrawWorld(world)
		End
End Method
Method OnUpdate:Int()
'// Update
		Local Updates :=  updates
		If(  stopped  )
		    Updates = 0 
		End

		Local dt : Float = 1.0
		Local niter := 5
		For Local i := 0 Until Updates 
			world.Update(dt/Updates,niter)
		End

		If( recalStep )
		   world.Update(0,1)
		End

End Method
	Method CreateFloor:Void(  mat : Material = Null  ) 
		Local s  := Shape.MakeBox(600,40,0,floor,mat)
		world.AddStaticShape(s)
	End 
Method OnCreate:Int()
	frame = 0
		curbf = 0
		draw = True
		debug = False
		stopped = False
		ballmaterial= New Material(0.1, 0.5, 1)
		SetUpdateRate(20)
		updates=2
		floor = 580
		recalStep = False
		world = New World(New AABB(-2000,-2000,2000,2000),broadphases[curbf])
		fd = New MojoDraw()
		Print("Press 1-8 to change demo scene. Mouse click fires block.")
world.gravity.Set(0,0.1875)
		CreateFloor()
		Local box  := Shape.MakeBox( 30, 30, Constants.NaN, Constants.NaN, New Material(0.0, 0.8, 1) )
		Local startY  := floor - 15

Local body  := New Body(150,50)
body.AddShape(New Circle(12,New Vector(-30,0),ballmaterial))
world.AddBody(body)

End Method
Method CreatePoly : Void( x : Float, y : Float, a : Float, shape : Polygon,  props : Properties = Null  ) 
		Local b  := New Body(x,y)
		Local vl := New HaxeArray&lt;Vector&gt;()
		Local v  := shape.verts

		While( Not( v = Null ) ) 
			vl.Push(v)
			v = v.nextItem
		End 

		b.AddShape( New Polygon(vl,New Vector(0,0),shape.material) )
		b.SetAngle(a)
		
		If( Not( props = Null ) ) 
		   b.properties = props
		End 
		
		world.AddBody(b)
	End 

End Class

Function Main:Int()
New physapp
End Function</pre> <br><br></td></tr></table><br>
<a name="2005257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>body.AddShape(New Circle(12,New Vector(-30,0),ballmaterial))</pre><br><br>In that line you're adding the circle 30 units to the left of the centre of the body. This appears to be causing the odd behaviour. I'm not sure it's correct, as I thought the body was abstract in physics terms, but moving the circle to (0,0) fixes the problem.<br><br>You might also want to increase the restitution of the ball material if you want it to bounce. <br><br></td></tr></table><br>
<a name="2005262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks! <br>(i copy pasted the code from the demo with the offset balls - thats why I had that offset) <br><br></td></tr></table><br>
<a name="2005266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mike Hart<br><br>&gt;You are using the STRICT mode, right? <br><br>Nope, because haXe is a dynamically typed language and so Strict mode was not a good match considering the wide use of type inference.<br><br>My issue with the Int and Float behaviour is that is seems inconsistent with the rest of the inference behaviour.<br><br><pre class=code>Local myVal = 3.542</pre><br><br>I would say that that line expresses the intent to use a floating point value, and yet Monkey just assumes any number being assigned to an untyped variable should be truncated to an int. <br><br></td></tr></table><br>
<a name="2005746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've updated Fling to 1.01. This just fixes a few bugs.<br><br>Downloads are here: <a href="https://code.google.com/p/fling/downloads/list." target="_blank">https://code.google.com/p/fling/downloads/list.</a> <br><br></td></tr></table><br>
<a name="2005747"></a>

<a name="2005748"></a>

<a name="2005749"></a>

<a name="2005750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great. HTML5 performance is more than great when DEBUG mode is not enabled.<br><br>You should upload the demo app on this site.<br><br>I'm planning on using Fling in my next project, IMHO it is the best thing to hit monkey yet. <br><br></td></tr></table><br>
<a name="2005834"></a>

<a name="2005855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I apply forces and torque to bodies?<br>Or is cpBodyApplyImpulse, cpBodyApplyForce etc. not implied yet? <br><br></td></tr></table><br>
<a name="2005861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems iPod C++ performance is no where near Chrome desktop speeds so am hoping to post some profiler results soon. <br><br></td></tr></table><br>
<a name="2005864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Volker<br><br> I'm guessing those are chipmonkey method names. Fling is a port of physaxe, which is not an exact port of chipmonkey and is missing some features, such as constraints. If those methods weren't in physaxe then they aren't currently in Fling. I'll take a look at the chipmonkey code sometime in the next day or two. If the methods look useful and fit with how Fling works I'll port them over.<br><br>@skid<br><br>That would be interesting to see. <br><br></td></tr></table><br>
<a name="2006654"></a>

<a name="2006655"></a>

<a name="2006656"></a>

<a name="2006657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks 1.01 fixed the restitution bug<br><br>The angle of bodies seems to go from about 1 to -1<br>When I multiply body.a by 360 to get the angle to draw the image at it seems a bit extreme,<br>multiplying by 90 seems better <br><br></td></tr></table><br>
<a name="2006695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe the angle is stored as a radian value. <br><br></td></tr></table><br>
<a name="2007085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OvineByDesign</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work muddy_shoes. <br><br>I've tweaked the debugdraw so you can specify a screen offset - handy for scrolling screens. - can this be contributed ? - I see no contact details etc in the google code project. <br><br></td></tr></table><br>
<a name="2007090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can send the changes to the mail address in my profile. I'm kind of busy with another related project at the moment (and also moving house this weekend) so it might be next week before I get around to patching it in. <br><br></td></tr></table><br>
<a name="2007729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>with #40, I can't get fling to be compiled anymore and get teh following error:<br><br><div class="quote"> <br>Translating alldemo<br>/Users/michaelhartlef/Desktop/Monkey/MonkeyPro40/bin/trans_macos -target=html5 -run /Users/michaelhartlef/Desktop/Monkey/MonkeyPro40/modules/fling/demo/alldemo.monkey<br><br>TRANS monkey compiler V1.13<br>Parsing...<br>Semanting...<br>terminate called after throwing an instance of 'char*'<br><br>Process Complete<br> <br></div> <br><br></td></tr></table><br>
<a name="2007740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works for me. Looking at your output, you seem to be trying to compile from the alldemo.monkey file. That's not the intended compilation start point. Have you tried creating a monkey file as in the first post of this thread and compiling that? <br><br></td></tr></table><br>
<a name="2007784"></a>

<a name="2007785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, the same file compiled fine under #38. Where do you have the demo files located so they compile fine for you? <br><br></td></tr></table><br>
<a name="2007787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OvineByDesign</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works fine here, as long as you compile and run maindemo.monkey <br><br></td></tr></table><br>
<a name="2007803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, that worked. <br><br></td></tr></table><br>
<a name="2007804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Nope, the same file compiled fine under #38. Where do you have the demo files located so they compile fine for you? <br></div><br><br>My setup is as outlined in the first post of the thread. Fling is installed as a module and I include the maindemo.monkey file and initialise the App that it defines. <br><br>Alldemo.monkey is just a "package include" file and not meant to be the compilation start point. If that worked and now doesn't, it is something to do with a change in Monkey behaviour and, as it was never intended to work that way, it's not something I'd be looking to fix. <br><br></td></tr></table><br>
<a name="2007860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are there some informations in there about the force of impact of collided objects? Should be in the Arbiter or Contact class. <br><br></td></tr></table><br>
<a name="2007907"></a>

<a name="2008863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not entirely sure what you mean by "should". Are you saying that physaxe has some feature that Fling is missing?<br><br>If you're just asking how to get collision information then maybe this thread will help you: <a href="http://www.0x61.com/forum/programming-haxe-f233/physaxe-collision-info-t1286121.html" target="_blank">http://www.0x61.com/forum/programming-haxe-f233/physaxe-collision-info-t1286121.html</a> .<br><br>Please remember that Fling is a port of physaxe and I converted the code without becoming an expert on the details of how it works. Searching for information about physaxe usage is probably going to get you an answer sooner than asking me here.<br><br>If you want to do some fancy stuff with collision responses, such as breakable objects, then you might want to wait for the Box2D release as Box2D has hooks for that sort of thing. <br><br></td></tr></table><br>
<a name="2007913"></a>

<a name="2007914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm not entirely sure what you mean by "should". <br></div><br>Ehm, I meant like "if it's there, it is in this classes".<br><div class="quote"> If you want to do some fancy stuff with collision responses, such as breakable objects.. <br></div><br>No no, I'm creating a quite simple lander game and I'm happy with <br>the simplicity of fling. Box2D took a long span to get in it and Fling<br>is MUCH easier to use.<br><div class="quote"> Please remember that Fling is a port of physaxe <br></div><br>I forgot. Searching for "physaxe" instead of "fling" pointed me in <br>the right direction. jnAcc and jtAcc in class contact are the proper fields.<br>Thanks for the link (and for fling)! <br><br></td></tr></table><br>
<a name="2008832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >luggage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just trying the same thing at the moment.  I want to find out if body A has hit body B.  Do you have any example code or anything?  All I've found on the Haxe forums are quite confusing responses that would require editing world.monkey which I'd like to avoid.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2008864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> @luggage<br><br>The link I gave in my last post in the thread is about as much help as I can offer. At some point I may revisit Fling to see about adding some basic hooks for collisions but the lack of those things was part of the reason for porting Box2D. Physaxe was written to provide a fast but minimal physics library that specialises in large structures rather than a competitor to more complete game-physics libraries like Box2D/Chipmunk. <br><br></td></tr></table><br>
<a name="2008908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >luggage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> No probs.  I've switched over to Box2D now based on your advice.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2008911"></a>

<a name="2008912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry luggage, I missed your post. In case  some followers will stumble<br>over collision detection:<br><pre class=code>
' Pseudocode
Field haxes:HaxeFastList&lt; Arbiter &gt; ' arbiters contain collision data
haxes=body.GetArbiters() ' get the arbiters of a body
For Local arb:Arbiter=eachin haxes 
  local shape1:Shape=arb.s1
  local shape2:Shape=arb.s2
  local body1:Body=shape1.body 'get 1st body involved in collision
  local body2:Body=shape2.body 'get 2nd other body involved in collision
  ' now you can compare the bodies involved in collision with
  ' your object bodies
Next
</pre> <br><br></td></tr></table><br>
<a name="2008971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >luggage</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Volker.  I'll give that a try.  I can flick between both physics engines at the moment and I don't need anything too stressful for my game so it might be a better fit. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
