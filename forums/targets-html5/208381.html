<!DOCTYPE html><html lang="en" ><head ><title >Worse HTML5 performance</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Worse HTML5 performance</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=504" >HTML5</a>/<a href="#bottom" >Worse HTML5 performance</a><br><br>
<a name="2085203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone noticing dramatically worse HTML5 speed performance in recent builds like MonkeyXPro78g compared to older builds?<br><br>I set new game canvas to 100% browser window size/fullscreen and it runs way slow. A few Monkey builds ago it was running at full speed.<br><br>Edit:<br><br>Testing shows it runs terribly in Chrome now and SUPERBLY well in Firefox. Last time I tested it was the other way around... <br><br></td></tr></table><br>
<a name="2085201"></a>

<a name="2085221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Soap wrote:</b><br><div class="quote"> Testing shows it runs terribly in Chrome now <br></div><br><br>Some people reported about troubles with latest version of Chrome browser. Usually fix was turning off hardware acceleration in the browser settings. <br><br></td></tr></table><br>
<a name="2085242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That was it!<br><br>chrome://flags/#disable-accelerated-2d-canvas<br><br>Disabled that and suddenly it's silky smooth again. I wonder if there is a way to disable it on the page for the user? Or just a fix for using accelerated 2d canvas. Other HTML5 projects run well.<br><br>With it enabled, it only happens in Chrome when the window is resized above a certain point. Other HTML5 games based on other dev tools do not seem to have this problem. <br><br></td></tr></table><br>
<a name="2085241"></a>

<a name="2085239"></a>

<a name="2085240"></a>

<a name="2085257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am thinking we can not control it.<br><br>But...<br><br><b>Soap wrote:</b><br><div class="quote"> With it enabled, it only happens in Chrome when the window is resized above a certain point. Other HTML5 games based on other dev tools do not seem to have this problem. <br></div><br><br>If engine uses requestAnimationFrame() instead of setTimeOut() it is correct for hardware acceleration.<br><br>Check this example for turn on/turn off acceleration. It uses requestAnimationFrame().<br><a href="http://fhtr.org/gravityring/sprites.html" target="_blank">http://fhtr.org/gravityring/sprites.html</a><br><br>Also try to use webgl mojo's extension from Devolonter to speed up game in the Chrome based browsers. <br><br></td></tr></table><br>
<a name="2085254"></a>

<a name="2085258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Important notes for Windows + Chrome users! [+] <br>To get the best benchmark score for your machine, it is advisable to Disable VSync. Go to "about:flags" and toggle: Disable GPU VSync "Disables synchronisation with the display's vertical refresh rate when GPU rendering." This will resolve the issue with the Chrome implementation of "requestAnimationFrame()" that tries to maintain a steady 60 frames-per-second (FPS) but on Windows with accelerated 2D canvas support, it will drop immediately down to 30 FPS when 60 FPS is not achievable with no gradual degredation. On Mac/Linux the drop in FPS is gradual and therefore does not affect the benchmark. So if you see the FPS counter drop directly from around 60 FPS to 30 FPS then you should do this. This will not produce an "unfair" score as scores are based on time not the number of frames generated. <br></div><br><br><a href="http://www.kevs3d.co.uk/dev/canvasmark/" target="_blank">http://www.kevs3d.co.uk/dev/canvasmark/</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
