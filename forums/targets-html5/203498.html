<!DOCTYPE html><html lang="en" ><head ><title >httpget and xampp?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >httpget and xampp?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=504" >HTML5</a>/<a href="#bottom" >httpget and xampp?</a><br><br>
<a name="2036859"></a>

<a name="2036861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm doing some experiments with module Mnet and it seems to work on android with a far server and on html5, when I aks for files, wich are inside "/myapp.build/html5/" .<br><br>I have Xampp on my comuter, running apache and mysql. Now I want to get the file "C:\xampp\htdocs\myapp\index.php"<br><br>Normally with a browser I write "http:\\localhost\myapp\index.php" in the browsers adress line and the apache server sends back a startup-page. <br><br>So I tried with Mnet. I also tried "C:\...". But I cannot contact Xampp. It seems that Monkey's MServer catches all localhost inquiries. What can I do?  <br><br>When I copy the index.php into the build directory to let the Mserver do the apache job, my game finds the file, but the MServer cannot react on php and only send the text of the php-file into the game<br><br><br>How do you simulate a apache server situation to test or develop monkey mnet communication in combination with php?<br><br><br>When I use the target "Android" and set the Mnet adress to...<br><br>"http://192.168.2.105/mygame/index.php"<br><br>...I get contact to my Xampp and MyGame displays the startup-page. But this string does also not work on Html5. <br><br></td></tr></table><br>
<a name="2036870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're probably running into some cross-domain protections built into the browser. What you might have to do is create a proxy php file stored in project.build/html5 that does the calls for you. This is how my Scoreoid module works. I send a request from my MonkeyGame.html file to the *local* php file, which then calls the remote php file for me. <br><br></td></tr></table><br>
<a name="2036888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure how to get Apache to 'take over', but you can disable mserver in MonkeyPro\bin\config.*.txt:<br><br><div class="quote"> <br>'This is optional, OS default tool for .html files will be used if this not set.<br>'<br>HTML_PLAYER="${TRANSDIR}\mserver_winnt.exe"<br> <br></div><br><br>You'll have to set HTML_PLAYER to 'something' in order to get the HTML5 target, but maybe this will be a start... ? <br><br></td></tr></table><br>
<a name="2036905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> In order to use Apache, you can just "build" instead of "build and run." Then, in your browser, go to localhost.<br><br>However, in Apache's config file, you need to make changes so Apache knows where to get your MonkeyGame.html file. <br><br></td></tr></table><br>
<a name="2039368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for showing me a way.<br><br>I did'nt know that "only build" would not start the MServer. <br><br>So, now I do it this way:<br><br>I have changed my code directory into a Xampp Subfolder:<br><div class="quote"> C:\xampp\htdocs\Monkey <br></div><br><br>The serverside scripts are in a second folder ServerDir:<br><div class="quote"> C:\xampp\htdocs\ServerDir\index.php <br></div><br><br>I'm writing my Monkey code and use the mnet command line<br>[monkeycode]result = ht.Get( "http://localhost/ServerDir", 3000 ) [/monkeycode]<br><br><br>and then Monkey build (without "run") it into...<br><div class="quote"> C:\xampp\htdocs\Monkey\myapp.build\html5 <br></div><br><br><br>When I now start the browser at ....<br><div class="quote"> <a href="http://localhost/Monkey/myapp.build/html5/MonkeyGame.html" target="_blank">http://localhost/Monkey/myapp.build/html5/MonkeyGame.html</a> <br></div><br><br>I get an answer from the Xampp. Even if the "server dir" is next to the Monkey Dir.<br><br>[Edit]<br>After some day, where it seems not to work anymore, I recognized, that it is important not to start the "MonkeyGame.html" by clicking it in the File System. You have to start it with entering the adress in the browser adress box starting with ....<br><div class="quote"> <a href="http://localhost/Monkey/myapp.build/html5/MonkeyGame.html" target="_blank">http://localhost/Monkey/myapp.build/html5/MonkeyGame.html</a> <br></div><br>With this it is possible to use MNet in a html5 target!<br><br>[Edit #2]<br>Now 2 weeks later I have no problems in using Xampp as a server for my android smartphone also during development. All I have to do is closing the MServer. <br><br></td></tr></table><br>
<a name="2038402"></a>

<a name="2037190"></a>

<a name="2037189"></a>

<a name="2036933"></a>

<a name="2040122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found a solution to make it work even with MServer open. I might post a tutorial if some are interested. <br><br></td></tr></table><br>
<a name="2040123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to know how to do POST from Android! If ya got that, let me know... <br><br></td></tr></table><br>
<a name="2040130"></a>

<a name="2040131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> from android it never was a problem.<br><br>I communicate with the MNet on my local network and also on a far server.<br><br>If the mobil is is part of the WLAN or connected by USB I can connect to the local Xampp host.<br><br>Adresses like "www.midimaster.com" are never a problem.<br><br>Here is a sample code:<br><br>[monkeycode]<br>Strict<br>Import mojo<br>Import mnet<br><br><br>Class TMyGame Extends App<br><br>	Method OnCreate%()<br>		SetUpdateRate 30<br> 	   	Simulator.Server = New Http()<br> 	   	.....<br>	End<br><br>	Method OnCreate%()<br>		Local Result$=Simulator.Sende("G=123&amp;P=1&amp;N=990&amp;A=C&amp;X=0&amp;Y=0&amp;B=0")<br>		....<br>	End<br><br>End<br><br><br><br>Class Simulator<br><br>	Global Server:Http = Null<br><br>	Global SimLastCom$,Result$, VorResult$<br>	<br>	Function Sende$(Anfrage$)<br>		Local Adresse$,Result$<br>		Adresse="http://192.168.2.105/MyGame/server.php?" <br>		'Adresse="http://www.midimaster.de/MyGame/server.php5?" <br><br>		'Print "Monkey sends: " + Anfrage<br>		Result= Server.Get( Adresse + Anfrage, 3000 )<br>		Return Result<br>	End<br><br>[/monkeycode]<br><br><br>The server side is a minimal php5:<br>[monkeycode]<br>&lt;?php <br><br>//**   G E T     E I N L E S E N    ********************************************************<br>$game = $_GET["G"];<br>$player = $_GET["P"];<br>$aktion = $_GET["A"];<br>$nummer = $_GET["N"];<br>$punkte = $_GET["B"];<br>$x = $_GET["X"];<br>$y = $_GET["Y"];<br>if($aktion=="C"){<br>		echo $Text;<br>}elseif($aktion=="R"){<br>             ......<br><br>}<br>Exit;<br><br>[/monkeycode]<br><br><br>in the native mnet.android.java I had to add one line to prevent not to get a crash on android, when there is no connection to the server:<br><br>[monkeycode]  public String convertStreamToString( InputStream is )<br>  {<br>// this is the newe line:<br>	if (is == null) return "ERROR no Connection";<br>    StringBuilder sb = new StringBuilder();<br>    try<br>    {<br>[/monkeycode] <br><br></td></tr></table><br>
<a name="2040142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Midimaster, what about POST? Is that like<br><br>[monkeycode]<br>Result = Server.Post(...)<br>[/monkeycode]<br><br>? <br><br></td></tr></table><br>
<a name="2040155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @midimaster : The reason it work its because its android.. this problem isn't affected on other platforms except HTML 5 because it use XmlHttpRequest. <br><br></td></tr></table><br>
<a name="2040156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah.. misunderstood you...<br><br>I did no GET or POST in my experiments, but only HTTP-GETs.<br><br>This means, I asked for a page on the server and GET it back as a string. <br><br>To send something to the server i use the adress options like POST/GET html forms do it:<br><br><div class="quote"> <a href="http://192.168.2.105/MyGame/server.php?name=peter&amp;score=14&amp;level=3" target="_blank">http://192.168.2.105/MyGame/server.php?name=peter&amp;score=14&amp;level=3</a> <br></div> <br><br></td></tr></table><br>
<a name="2040157"></a>

<a name="2040158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt that i am wrong by saying that this link is actually a GET or Http GET .. its the same thing. Going to that URL is the same thing as doing an Http GETs. The browser actually do this request.<br><br>The POST is a bit different. It will include your values in the headers so you don't actually see them in the URL. <br><br></td></tr></table><br>
<a name="2040162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >c.k.</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rushino, that is correct. The POST is definitely different, and used by some websites to process API requests. It HAS to be POST. Can't be GET.<br><br>So I've been waiting for a cross-platform module that has POST for all. Is that available yet? <br><br></td></tr></table><br>
<a name="2040172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rushino</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am working on an HTML 5 one its near completion. What is strange is that its almost the same thing as a GET except you pass args.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
