<!DOCTYPE html><html lang="en" ><head ><title >Sound working for anyone using MacOSX and Safari?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sound working for anyone using MacOSX and Safari?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=504" >HTML5</a>/<a href="#bottom" >Sound working for anyone using MacOSX and Safari?</a><br><br>
<a name="2043228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Waldo Reed</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reading this forum from a year ago sound was broken in HTML5. Running cometCrusher from Monkey Game Development - Beginners Guide I get sound when building the project in Flash but not in HTML5.<br><br>Looking at the projects Flash and HTML5 build directories, I see only mp3 files in the data directory under Flash but mp3, ogg, and wav files in the data directory under HTML5. I'll specify the file extension for each type and maybe get lucky.<br><br>-------------------------------------------<br>UPDATE - I got lucky and answered my own question; Yes sound is working in HTML5 on MacOSX and Safari.<br><br>The book code for cometCrusher used the file name for each sound. While it worked for the Flash build, no sound was heard for the HTML5 build. Changing "file name" to "file name.file extension" in the code got me sound with the HTML5 build. Here's my results...<br><br>eng.LoadSound("Explosion") 'sound in Flash build but no sound in HTML5 build<br>eng.LoadSound("Explosion.ogg") 'no sound in either Flash or HTML5<br>eng.LoadSound("Explosion.wav") 'no sound in Flash, but sound in HTML5<br>eng.LoadSound("Explosion.mp3") 'sound in both Flash and HTML5<br><br>So if I were to release in both Flash and HTML5, the simplest sound type to use is mp3. <br><br></td></tr></table><br>
<a name="2043226"></a>

<a name="2043224"></a>

<a name="2043220"></a>

<a name="2043232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> check out the audio format and browser support:<br><a href="http://www.w3schools.com/html/html5_audio.asp" target="_blank">http://www.w3schools.com/html/html5_audio.asp</a> <br><br></td></tr></table><br>
<a name="2043233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Waldo Reed</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If we don't specify the extension as in the following line of code<br><br>eng.LoadSound("Explosion")<br><br>then what is supposed to determine which sound file format is played?<br><br>Does the translator have a certain order it looks for sound formats. And .ogg is listed ahead of the others so that's why I got no sound on MacOSX and Safari? <br><br></td></tr></table><br>
<a name="2043321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> eng.LoadSound("Explosion") <br></div><br><br>You have to supply the full name of your file, *with extension*.<br><br>Look at the /bananas/mak/audiotest.monkey  -&gt; Method OnCreate() to see one way of selecting the format  based on target.<br><br>HTML5 is a pain, because not all browseres support the same formats. (see Jesse's link) <br><br></td></tr></table><br>
<a name="2043329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Waldo,<br><br>fantomEngine added the file extension in its early versions based on the platform. These days you can add the file extension and it will load that. You will hear something if the platform supports it then.<br><br>Here is are the platform and extension, fantomEngine adds automatically when you don't provide a file extension:<br><br>[monkeycode]<br>#If TARGET="glfw"<br>			snd.sound = mojo.LoadSound(fn+".wav")<br>#Elseif TARGET="html5"<br>			snd.sound = mojo.LoadSound(fn+".ogg")<br>#Elseif TARGET="flash"<br>			snd.sound = mojo.LoadSound(fn+".mp3")<br>#Elseif TARGET="android"<br>			snd.sound = mojo.LoadSound(fn+".ogg")<br>#Elseif TARGET="xna"<br>			snd.sound = mojo.LoadSound(fn+".wav")<br>#Elseif TARGET="ios"<br>			snd.sound = mojo.LoadSound(fn+".m4a")<br>#End<br><br>[/monkeycode] <br><br></td></tr></table><br>
<a name="2043327"></a>

<a name="2043328"></a>

<a name="2043333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
#Elseif TARGET="html5"
                        snd.sound = mojo.LoadSound(fn+".ogg")
</pre><br><br>that doesn't work for safari. <br><br>I think you need to do something like what Diddy is doing to determine which file type to use depending on browser.<br><br><br><br>. <br><br></td></tr></table><br>
<a name="2043337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Waldo Reed</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jesse beat me to it but thanks Mike, you've confirmed the ogg version is used as deafult by the fantomEngine and thus why I'm not getting a sound in Safari.<br><br>And thanks Difference, I was planning on going through the Monkey samples after finishing Monkey Game Development - Beginners Guide. <br><br></td></tr></table><br>
<a name="2043340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks Jesse, i did not know that you can determine, which browser you are running on. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
