<!DOCTYPE html><html lang="en" ><head ><title >Multiple keypress issues - Solved</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Multiple keypress issues - Solved</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=504" >HTML5</a>/<a href="#bottom" >Multiple keypress issues - Solved</a><br><br>
<a name="2068726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure if it's just me doing something stupid, but I've noticed in my game (which I obviously use HTML5 for testing with), that I only seem able to press a single key at a time.<br>What I mean is, if I wish to move my player down the screen AND press fire at the same, time, the last key pressed stops the previous key from working.<br><br>I'm using the Keydown() function. Should I be using KeyHit() instead? <br><br></td></tr></table><br>
<a name="2068550"></a>

<a name="2068571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >arcsrc</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you happen to use space as the fire button? If i'm correct most keyboards can't handle downleft and space. It may be something totally different but i've never experienced this issue. <br><br></td></tr></table><br>
<a name="2068572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> this depends on the keyboard. I made the experience that wireless keyboards have more problems with simultanously pressed keys.<br><br>Did you already made a test in BlitzMax? <br><br></td></tr></table><br>
<a name="2068576"></a>

<a name="2068577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the comments guys.<br><br>I don't have blitzmax but have blitzbasic. I can knock something up on there to test. I'll also just try to do an xna build tonight to test.<br>I'm using a USB apple keyboard not wireless. <br>I do use space as fire. Its common to do so :-) <br>I'll try set up other key combos for testing too.. <br><br></td></tr></table><br>
<a name="2068583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> KeyDown() allows you to detect if the key is still being pressed from frame to frame<br>KeyHit() checks to see if it was hit in this frame and will not trigger again until its hit again.<br><br>Using the following test I made, I am able to get multiple key combinations using HTML5. I am able to get all keys to fire off at the same time and release whenever I release them. I tested this against IE. Couldn't test against the others as this computer only has IE installed.<br><br><pre class=code>
Import mojo

Class MyApp Extends App

	Method OnCreate()
		SetUpdateRate 15
	End
	
	Method OnUpdate()
	End
	
	Method OnRender()
		Scale DeviceWidth/400.0,DeviceHeight/440.0
		Cls
		DrawText "     Key Code   KeyDown()",0,0
		DrawText "        A         " + KeyDown( KEY_A ),0,20
		DrawText "        D         " + KeyDown( KEY_D ),0,40
		DrawText "        W         " + KeyDown( KEY_W ),0,60
		DrawText "        S         " + KeyDown( KEY_S ),0,80
		DrawText "        SPACE     " + KeyDown( KEY_SPACE ),0,100
		DrawText "        LEFT      " + KeyDown( KEY_LEFT ),0,120
		DrawText "        RIGHT     " + KeyDown( KEY_RIGHT ),0,140
		DrawText "        UP        " + KeyDown( KEY_UP ),0,160
		DrawText "        DOWN      " + KeyDown( KEY_DOWN ),0,180
	End

End

Function Main()

	New MyApp
	
End
</pre> <br><br></td></tr></table><br>
<a name="2068606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool thanks once again computercoder! I'll test this in a mo.  I'm guessing I'm doing something stupid :-)<br><br><br>Edit: So, admittedly it was my stupidity. :)<br>I was using the same variable for all directions so if you pressed any of the keys it would only ever be one value.<br>I've changed the code now to use horiztonal, vertical and action variables instead and it works flawlessly now.<br><br>I'm such a n00b.<br>And don't ask to see my ugly code. It might be presentable in a year's time or so, hohoho. <br><br></td></tr></table><br>
<a name="2068599"></a>

<a name="2068605"></a>

<a name="2068621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats cool you got it working :) I'm glad you found the issue. <br><br>I *was* going to say something about if you used a single variable, or if you used an elongated If/elseif/endif statement, but I thought I'd leave that be and go for the code test route instead :) <br><br></td></tr></table><br>
<a name="2068627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah something of a mix really. I've used joyHorizontal for example to be -1, 0 or 1. Same for vertical.<br>I'll improve on it tonight by using constants instead so LEFT, CENTER, RIGHT. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
