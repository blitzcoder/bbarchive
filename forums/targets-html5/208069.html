<!DOCTYPE html><html lang="en" ><head ><title >Problems in latest experimental version</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problems in latest experimental version</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=504" >HTML5</a>/<a href="#bottom" >Problems in latest experimental version</a><br><br>
<a name="2080632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was externalizing this functions to enable a good, unscalled "full window" app on my Junglegui module:<br><pre class=code>function EnableAutoSize()
{
	window.onresize = ResizeCanvasFull;
	ResizeCanvasFull();
}

function DisableAutoSize()
{
	window.onresize = null;
}

function ResizeCanvasFull()
{

	var canvas = document.getElementById("GameCanvas");
	if (canvas)
	{
		canvas.width = window.innerWidth;
		canvas.height = window.innerHeight;
	}

}</pre><br>It is not working any more and it produces mouse coordinates to not correlate to canvas coordinates (and also the resizing does not work).<br>Any help in solving this would be more than welcome.<br>Also, I've seen latest html5 template has a function to request fullscreen on the app. Do you think this could be properly externalized anyhow? <br><br></td></tr></table><br>
<a name="2080646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, had the same experience with my code. The change fucked up everything. One thing that helped me and now has to be doen with every project of mine is to set this Resize variable in the build project files to 0. <br>Not sure who the hell motivated this change but I guess that is the nature of Monkey. Someone cries wolf  and if Mark is convinced that it is a valid call, he changes Monkey. And these changes can screw up other peoples code. :-/ <br><br></td></tr></table><br>
<a name="2080644"></a>

<a name="2080685"></a>

<a name="2080688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nikoniko</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looked in new MonkeyGame.html and found 2 things<br><br>1.New canvas resize mode var CANVAS_RESIZE_MODE=1;	//0=locked, 1=stretch, 2=resize<br><br>2. And comment:<br>		//Note! Any resize code that modifies canvas.width/canvas.height/canvas.style.wi<br>dth/canvas.style.height should call this to update canvas...<br><br><br>Anyway using previous MonkeyGame.html is still possible.<br><br>New monkeygame.html is also complex for game release version <br><br></td></tr></table><br>
<a name="2080888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm getting lots of problems with new HTML5 default export. The default html5 canvas size is too small, and the fact that now programatically resizing the canvas is broken, I don't know how to provide JungleGui samples in a reasonable way unless I ask people testing the sample to edit the generated html, which is very far from nice <br><br></td></tr></table><br>
<a name="2080955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Saj</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same goes here. The canvas is too tiny to see anything. <br><br></td></tr></table><br>
<a name="2080971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> the ability to not copy hundreds of files<br> upon every compile<br> is a very noble goal<br>Otherwise SSD's it would defile<br>Of course there will be`problems with anything new<br>Revert to a previous version if it gives you the blues <br><br></td></tr></table><br>
<a name="2080970"></a>

<a name="2080978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the ability to not copy hundreds of files upon every compile is a very noble goal Otherwise SSD's it would defile Of course there will be`problems with anything new Revert to a previous version if it gives you the blues <br></div>I'm sort of complaining about the small program that comes now attached with the generated html5 template. This program is too encapsulated to be modified later from within Monkey, and it has some arbitrary decisions there that may not fit all scenarios. For me, in my honest opinion, it's a step backwards as a module developer. If I can get a working workaround, I don't care the change, but I think that the html5 export should remain simple, pure, and without encapsulated additions. IF any functionality is about to be added, it should be added in the target specific mojo implementation, the same way resolution changes were added to GLFW. Hardcoding it arbitrary on the template, is not very nice, and it is not very convenient.<br><br>EDIT: There's an almost working workaround here, that is pure Monkey code: <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=8088" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=8088</a> <br><br></td></tr></table><br>
<a name="2080977"></a>

<a name="2081073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a working fix here: <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=8088" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=8088</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
