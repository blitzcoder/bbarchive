<!DOCTYPE html><html lang="en" ><head ><title >LoadState/SaveState Question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LoadState/SaveState Question</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=504" >HTML5</a>/<a href="#bottom" >LoadState/SaveState Question</a><br><br>
<a name="2094006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yoda</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I understand it right, then LoadState/SaveState load/save a file on the server on which my Monkeygame is hosted.<br><br>That means, there can be multiple instances of my games running on different users-browsers.<br><br>So, what if there's a LoadState/SaveState performed at the same time on different instances? Is that safe? Or should I do it like this in my game, directly one after another, without anything in between?<br><br>LoadState - Change State Data - SaveState<br><br>As opposed to: At the beginning of the code, LoadState, later modify the State Data, later SaveState? <br><br></td></tr></table><br>
<a name="2094063"></a>

<a name="2094064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You mean the game opened in another browser tab?<br><br>You could put a lock on the save per game opening - then read that lock before modifying the state. If the game is opened have it increment the lock number. So if player opens the game two times and both can modify the state have the second load the lock as 1 increment it by 1 and save it by 2, and then the first game open would see that 2 and understand that this situation has occurred, and tell the user to knock it off and that their progress on this tab won't be saved.<br><br>The save data is saved locally by the way not on the server unless you code for that! Save data between different browsers should not work at all. If you played in Chrome and again in Firefox or IE or Safari or Opera you would start from a clean save.<br><br>Also you shouldn't use savestate for saving your game you should use filesystem functions. Mark only intends save/load state for devices going to and coming back from sleep so use at your own risk. <br><br></td></tr></table><br>
<a name="2094103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yoda</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So loadstate/savestate stores data on the users system, not on the server where the game is hosted? Did I understand right? <br><br></td></tr></table><br>
<a name="2094105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you got that right. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
