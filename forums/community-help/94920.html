<!DOCTYPE html><html lang="en" ><head ><title >Can exe detect the path that has ran it?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can exe detect the path that has ran it?</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >Can exe detect the path that has ran it?</a><br><br>
<a name="1091236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way in which an exe can detect where it has been ran from? The reason is I would like for an executable I have to source a 3d image dependant upon where it is called from.<br><br>Hmmm, I'm thinking about approaching this from another angle now and allowing for 4 different version of an exe to be started, this way each of the four executables can have a unique path to the image of choice.<br><br>Still - is there anyway of an executable knowing who 'called it' if you like?<br><br>BP <br><br></td></tr></table><br>
<a name="1091241"></a>

<a name="1091242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Print "Number of arguments = "+AppArgs.length

For a$=EachIn AppArgs
Print a$
Next
</pre><br><br>First argument is always the full file path of the exe... Strip the file name out of the path and jobs a good'un! ;)<br><br>Dabz<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1091243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In Blitz3D/Plus you use SystemProperty( "AppDir" ).<br><br>BlitzMax has global variables AppDir$ and AppFile$ and the array AppArgs[]<br><br>If you are looking for a more general (non-Blitz) solution then search the web for information about command line arguments. <br><br></td></tr></table><br>
<a name="1091269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Assuming you're using BMax and you are looking for a programming solution, is <b>LaunchDir$</b> what you're after?<br><br><div class="quote"> First argument is always the full file path of the exe. <br></div>Afraid not...For Windows, at least. <br><br></td></tr></table><br>
<a name="1091295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tested on Windows XP (Added 'blah' as a extra arguement in the IDE):-<br><br><div class="quote"> <br>Number of arguments = 2<br>C:/BlitzMax/tmp/untitled1.debug.exe<br>blah<br><br>Process complete<br> <br></div><br><br>Seems fine to me under the circumstances?<br><br>Dabz <br><br></td></tr></table><br>
<a name="1091301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll have to start labelling the ends of these sticks... ;o) <br><br>AppArgs[0] does indeed always contain the <b>name</b> of the application. However, it may or may not include the <b>full path</b> to the application depending on how it was launched. <br><br></td></tr></table><br>
<a name="1091336"></a>

<a name="1091337"></a>

<a name="1091338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>AppArgs[0] does indeed always contain the name of the application. However, it may or may not include the full path to the application depending on how it was launched. <br> <br></div><br><br>For future reference (For myself mostly), can you explain, because I've always thought that it was always the full path, I've always known it to be the full path.. Even programming with other languages.<br><br>I'm not being funny about it, but obviously I expect it to return the path, you say it may not... I just want to know why?<br><br>Tar!<br><br>Dabz<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1091353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because the arguments stored in AppArgs are the arguments used to launch the application. When you launch the program from the IDE or from the graphical interface (at least in Windows), it passes the full file path in order to correctly specify the executable. But if you run the program from the command line, you don't need to use the full path, if the executable is located on your %PATH%, or is in the current directory.<br><br>Try it: using your own example code, compile an executable, navigate to that folder using a command line interface, and invoke it directly, and you'll see that the first argument is just what you used to invoke it.<br><br><pre class=code>C:\&lt;snip&gt;\My Documents&gt;test a b c d
Number of arguments = 5
test
a
b
c
d</pre><br><br>(Compiled as "test.exe")<br><br>Most people seem to think (I have no opinion) that needing to know this information is a Design Smell, and that you can usually work out another way of doing whatever it is you need to do. <br><br></td></tr></table><br>
<a name="1091354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> For future reference (For myself mostly), can you explain, because I've always thought that it was always the full path, I've always known it to be the full path.. Even programming with other languages.<br><br>I'm not being funny about it, but obviously I expect it to return the path, you say it may not... I just want to know why? <br></div><br><br>If you launch it by double-clicking the executable it 'should' always contain the path. However, if you start it from within a command prompt (which commonly done for non-GUI applications) then appargs[0] does NOT contain the path -- only the executable name itself. <br><br></td></tr></table><br>
<a name="1091355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> note: perhaps something that should be specified in the help file? <br><br></td></tr></table><br>
<a name="1091369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well... Glad we cleared that up... I've always presumed the path was there while playing, but, you learn something new everyday! :)<br><br>:D<br><br>Dabz <br><br></td></tr></table><br>
<a name="1091374"></a>

<a name="1091375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mass debates *snigger* about AppArgs working or not working aside, you'll want to be using CurrentDir() for this.<br><br>[edit]<br>Build as console app, put it anywhere, run it.  Larn.<br><pre class=code>Print CurrentDir()
WaitKey
End
</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1091426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may have completely misunderstood what Blitzplotter is asking but, to me at least, 'Can exe detect the path that has ran it' &lt;&gt; CurrentDir()*.<br><br>Consider this:<br><br>App A...<pre class=code>Print "CurrentDir() = " + CurrentDir()
Print "LaunchDir$   = " + LaunchDir$</pre>...Is compiled and placed in "C:\".<br><br>Now App B, that's located in "C:\blah\blah\", calls App A.<br>The output would be as follows:<pre class=code>CurrentDir() = C:\
LaunchDir$   = C:\blah\blah\</pre><br><br><br><br>*AFAIK, CurrentDir() always equals AppDir$ initially. <br><br></td></tr></table><br>
<a name="1091727"></a>

<a name="1091728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the feedback everyone.<br><br>CurrentDir$ is the one I need, due to the fact that I'll have 4 executables in four 'installed' directories. Then, what will happen is each directory will have a 3D entity saved into it that the executable will use in tandem with the running program.<br><br>Due to the fact people can install it where they want, each executable will have a 'variable' entity that can be loaded dependant on the users choice. Bit of a configuration nightmare, but nearly there thanks to the feedback folks ;)<br><br>LaunchDir$ is one I was unaware of though, thanks for pointing it out Yan.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
