<!DOCTYPE html><html lang="en" ><head ><title >How to prevent Android default web browser alterin</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to prevent Android default web browser alterin</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >How to prevent Android default web browser alterin</a><br><br>
<a name="1270077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I've looked on google for this and I get lots of results about "changing file assocations" but that's not what I'm after.<br><br>I have my own file extension (EP4) for my game which contains the game replay.  I have put the appropriate bits and pieces in my app to enable launching a replay directly by clicking on a file in my file browser (my app recognised the extension and opens it in the manner I choose)<br><br>That's all good.<br><br>The problem is - if I send one of these files by email as a link (to a file hosted externally) then some browsers (on the android device) think they are being helpful by changing the file extension from EP4 to txt (because the extension is not recognised by the browser they are using).  <br><br>Generally all the sharing of replays takes place within the app itself - which works fine - but one of the options is for users to send a link (for a replay) via sms or email to a friend  (who may or may not have the game installed yet)  - and this is proving a bit of a problem since when they're browser 'helpfully' alters the file extension - well of course the file can't be launched from their file browser anymore  - and even worse - most android devices will let you change the filename but won't let you touch the extension.  <br><br>(Maybe I'm treating a mobile device a bit too much like an 'open PC' - especially since some of the users devices I've come across don't even have a file browser and those that do won't always allow you to even see files except for a certain narrow range. Heck - it is not even possible to set a default icon for data files in many file browsers since the file browser software itself uses its own set of icons for various files)<br><br>Technically this particular feature is a little advanced for the majority of mobile users (not developers) so I can understand why the manufacturers lock down their phones in this manner but it is a little frustrating. <br><br></td></tr></table><br>
<a name="1270078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit - just to confirm.....<br><br>In most 'file browsers' I can open my data files with my app (much like opening a pdf or similar).<br><br>However - it is the various default web browsers on android devices that are changing the extension from .EP4 to .txt when the link is downloaded - when a user downloads a file from a URL in their web browser..... <br><br></td></tr></table><br>
<a name="1270079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>The problem is - if I send one of these files by email as a link (to a file hosted externally) then some browsers (on the android device) think they are being helpful by changing the file extension from EP4 to txt (because the extension is not recognised by the browser they are using). <br> <br></div><br>Really ? That's bad and confusing. <br><br></td></tr></table><br>
<a name="1270084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep....it is a known issue - it happens on desktop as well with some versions of IE with files with unrecognised extensions.....<br><br>I will be able to find a work around I'm sure - but there are little 'gotchas' that different branded android devices do differently.<br><br>For example - my LG phone will let me transfer my .apk file from one phone to another with blue tooth, but if I do so with wi fi direct it refuses.....which is annoying when you have file that is about 30-40MB to transfer (the actual game apk). However my Samsung will let me do either.  My friend's Sony phone will allow us to transfer files across but then it refuses to open them - unless we do so via the gmail app (in other words we can't download via a url but we can download through an attachment in an email).....<br><br>There are lots of little things here and there related to file transfers that all the manufacturers handle differently (mainly preventing users doing what they want)<br><br>Obviously once the app is on an app store like google play it will install and download no problem - but even with 'unknown sources' ticked some devices refuse to play nicely depending on how the app is received, or where it is stored on the device or which app is used to download it...... <br><br></td></tr></table><br>
<a name="1270085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Slightly related - at work I develop for android powered smart tvs....particular manufacturers (not ours) do not let you develop native apps even with a developer account but restrict the developer to web technologies (html5, js, css etc) - which I perfectly the understand the reason why but it is a little frustrating.... <br><br></td></tr></table><br>
<a name="1270095"></a>

<a name="1270096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want the user to click a link which goes to a webpage (html+css+php) where the file is automatically downloaded as it is (save it in the downloads directory or save it as ...) and not automatically opened in the browser, i have coded something for that.<br>It allows to download a txt, pdf, jpg, png, mp3, mp4, without opening it, and it works well with windows (internet explorer, firefox, chrome), osx (safari), ubuntu (), android (default browser), ios (documents5 browser)... <br><br></td></tr></table><br>
<a name="1270097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RemiD - I can open any of those files fine the default browser.<br><br>If you want to try an example of what I mean on an android device.... (in this case a samsung s4 - but similar on many others) try downloading any of these files on an android phone in the default browser: <br><br><a href="http://mattiesgames.com/convergence/battle_replays/replay_5579f3bd308bb.EP4" target="_blank">http://mattiesgames.com/convergence/battle_replays/replay_5579f3bd308bb.EP4</a><br><br><br>This is a sample replay which the browser changes the extension when I download it using that link...<br><br>(Feel free to have a look at the file and the folder it is in...it is just a list of replays) <br><br></td></tr></table><br>
<a name="1270098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit - you wont be able to do much with the file without the app itself of course. <br><br></td></tr></table><br>
<a name="1270099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: I think I know what I have to do.....to do with mime type.... <br><br></td></tr></table><br>
<a name="1270100"></a>

<a name="1270119"></a>

<a name="1270231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Matty&gt;&gt;reread my previous post, i have a way to force the download of any file instead of having the browser open it<br><br>I can send you a copy of the code (php) to your email address if you want... <br><br></td></tr></table><br>
<a name="1270113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks RemiD - I wouldnt mind having a look at that. <br><br></td></tr></table><br>
<a name="1270115"></a>

<a name="1270118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok i will send an example to the email address of your bb profile. <br><br></td></tr></table><br>
<a name="1270149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> All fixed...thanks to RemiD. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
