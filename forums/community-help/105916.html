<!DOCTYPE html><html lang="en" ><head ><title >animated characters body parts going through walls</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >animated characters body parts going through walls</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >animated characters body parts going through walls</a><br><br>
<a name="1297823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I have noticed that in most 3d games, depending on the animation of the character and depending on the environment, some body parts of the animated character will go through walls or objects.<br><br>This is not really a problem and players probably don't care about that if the gameplay is fun enough and the controls are good enough however is there a way to prevent this ?<br><br>A possible way would be to have colliders (ellipsoids or boxes or low tris shapes) attached to each joint/bone of each character (which have approximately the same shape than the character), and if the character/weapon collides walls/objects while animating, either reoriente reposition the character (so that it does not go through the wall/object) or change the animation (i have seen this in some games when trying to attack with a weapon and if the weapon hits the wall, an animation of a collision with the wall is played (instead of continuing to attack with the weapon))...<br><br>However i don't think this is really usable if the game has narrow corridors, it can become really annoying to not be able to turnmove easily or to not be able to attack.<br><br>So the best approach is probably to not care about this ?<br><br>Your thoughts about this ? <br><br></td></tr></table><br>
<a name="1297827"></a>

<a name="1297828"></a>

<a name="1297829"></a>

<a name="1297830"></a>

<a name="1297831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Usually this is done because its a pain to fix and it could slow down collision detection depending on the complexity of the model.<br><br>I dont care much about this to be honest, because anything you can do to mitigate it will make it at best irritating for the player and at worst cause him to get stuck or die.<br><br>Stopping the animation seems the best option, though it may look weird.<br>Other than that using 100% procedural animations could probably handle this, but then performance may suffer again.<br><br>For example. Im playing Just Cause 3 at the moment, and if the character is too close to a wall and his gun is touching it or very close to it. He just refuses to fire.<br>This even happens if im pointing away from the wall. Obviously the collision mesh is too large for the model, causing false positives here.<br>The end result is that i should be able to fire my gun at the baddies, but the game stops me and i die ;)<br><br>So if you need to do this, make it ONLY a visual thing. Never mess with the character or disallow player behavior because of it.<br><br>EDIT: This of course changes if its a Melee game, where hitting a wall with your sword should create some kind of response. Most games ive played do something here, though a lot of them can be a bit annoying as they tend to use too large collision boxes causing the sword to hit when you wouldnt think it could (im looking at you WindWaker!) <br><br></td></tr></table><br>
<a name="1297835"></a>

<a name="1297838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it is probably too complicated to create/manage a system to prevent animated characters to go through walls/objects, and it will probably disturb gameplay in narrow corridors/passages. <br>Since it is only for a game, it does not need to be 100% realistic, only convincing enough.<br><br>unreal engine approach : ( easy approach :P ) <a href="https://docs.unrealengine.com/latest/INT/Engine/Animation/RootMotion/index.html" target="_blank">https://docs.unrealengine.com/latest/INT/Engine/Animation/RootMotion/index.html</a><br><br>I have seen a system to prevent animated characters to go through walls/objects in BloodRayne 2, and this was really well done imo... (But probably complicated to manage) <br><br></td></tr></table><br>
<a name="1297839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cocopino</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it's really bad and/or bothering you at the moment, first thing I would look at is making it less of a problem the easiest possible way: make the collision capsule/sphere of your character a little bigger. <br>1 minute of work, no performance hit ;) <br><br></td></tr></table><br>
<a name="1297840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br> make the collision capsule/sphere of your character a little bigger. <br> <br></div><br>@cocopino&gt;&gt;of course, but if there are narrow corridors/passages in the environments, this solution is not possible.<br><br><br>One thing that i try to remind regularly is to not focus on unimportant details until the game is functional enough and nice enough, so i will forget about this issue for now ! <br><br></td></tr></table><br>
<a name="1297841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cocopino</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>One thing that i try to remind regularly is to not focus on unimportant details until the game is functional enough<br> <br></div><br>Excellent advice! <br><br></td></tr></table><br>
<a name="1298061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a Z-Depth issue.<br><br>~GF <br><br></td></tr></table><br>
<a name="1298067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In a way yes, in a way no, it is, before being a z-order issue, a collisions detection and reoriente/reposition issue. Depending on the animation of the character and depending on the environment it can be difficult to not have some body parts go through walls/obstacles... <br><br></td></tr></table><br>
<a name="1298068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or you could attach a capsule or a quad to the vertices that hit the wall and give it sliding collision so that the capsule &amp; / or the quad hits the wall instead then detects that &amp; performs a "backwards" animation so that the character slowly retracts back to "idle" animation mode.<br><br>~GF <br><br></td></tr></table><br>
<a name="1298121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> narrow corridors/passages in the environments <br></div><br>Corridors in games are often quote 'roomy' compared to real life, to help with clipping/collision issues. <br><br></td></tr></table><br>
<a name="1298164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Madjack&gt;&gt;Yes i have noticed that. <br><br></td></tr></table><br>
<a name="1298207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still say attaching a sliding small capsule &amp; / or quad to the vertices in which you do not wish to go through the wall will work great.<br><br>~GF <br><br></td></tr></table><br>
<a name="1298213"></a>

<a name="1298214"></a>

<a name="1298215"></a>

<a name="1298218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @GF&gt;&gt;The idea sounds cool, the implementation is not easy because it can make the turns moves (the gameplay) difficult.<br>For example, what would you do if different body parts intersect with different walls/obstacles at the same time ? it can quickly become a mess to manage. <br><br></td></tr></table><br>
<a name="1298216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well then what's an easier way of doing it? I think this should be in the Code Archives for everyone's use. I'd love to see a demo of this. If you think you have a better idea, well then. Lets see it.<br><br>~GF <br><br></td></tr></table><br>
<a name="1298219"></a>

<a name="1298220"></a>

<a name="1298221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> My current approach is to not care about unimportant details, you can notice this problem (some body parts of an animated character which sometimes go through walls/obstacles) in many games.<br>And even if it is possible to solve this problem, the solution will create another problem : prevent the player to turn move act as he wants in the environment (especially in narrow corridors/passages). <br><br></td></tr></table><br>
<a name="1298231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I beg to differ. This is a VERY important part. If I'm going to play a game, it is to ENJOY it. NOT to play in glitch land.<br><br>~GF <br><br></td></tr></table><br>
<a name="1298234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have noticed this problem in many games... Look at modern game engines like Unity3d or UnrealEngine, they use capsule colliders (for characters) to detect collisions with the walls/obstacles, and consequently, depending on the animation of the character, some body parts will go through walls/obstacles... <br><br></td></tr></table><br>
<a name="1298236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> not if you give each of the invisible capsules / quads a radius.<br><br>~GF <br><br></td></tr></table><br>
<a name="1299537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would making corridor walls thicker help.... <br><br></td></tr></table><br>
<a name="1300157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Play in space - no walls - no problem ;-) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
