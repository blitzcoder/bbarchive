<!DOCTYPE html><html lang="en" ><head ><title >How to orient an object to point at another?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to orient an object to point at another?</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >How to orient an object to point at another?</a><br><br>
<a name="1158579"></a>

<a name="1158581"></a>

<a name="1158582"></a>

<a name="1158583"></a>

<a name="1161378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I've an object at 0,0 and another at 9,9 - how would I calculate the 45 degrees that object a needs to be rotated through to point at object B? I reckon the solution might lie within the triginometry SOHCAHTOA....<br><br>[EDIT] Codebox at the bottom now moves the rocket into the Z-plane [end - edit]<br><br>This looks promising:<br><br><a href="http://www.mathsisfun.com/polar-cartesian-coordinates.html" target="_blank">http://www.mathsisfun.com/polar-cartesian-coordinates.html</a><br><br>Hmm, seems like I'll need some quadrant logic:<br><br><br><br>To convert from Cartesian Coordinates (x,y) to Polar Coordinates (r,&amp;#952;):<br><br>    r = (sqr root) ( x2 + y2 )<br>    (theta) = tan-1 ( y / x )<br><br>The value of tan-1( y/x ) may need to be adjusted:<br><br>    Quadrant I: Use the calculator value<br>    Quadrant II: Add 180°<br>    Quadrant III: Add 180°<br>    Quadrant IV: Add 360°<br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1158596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This will do it.  It's in Blitzmax format but it's just the ATan2 bit you'll be interested in, which is the same in every other version of Blitz, as far as I know.<br><br><pre class=code>
Local x1:Int = 0, y1:Int = 0
Local x2:Int = 9, y2:Int = 9

Local angle:Float = ATan2(y2-y1,x2-x1)

Print angle
</pre> <br><br></td></tr></table><br>
<a name="1158615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks GfK, will give it a whirl this evening <br><br></td></tr></table><br>
<a name="1158616"></a>

<a name="1158617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jeez, my B3D has got a bit rusty - cobbled this together:<br><br><pre class=code>
Graphics3D 1024,768,32,1

x1= 0
y1= 0
x2= 9
y2= 9



angle#= Float ATan2(y2-y1,x2-x1)

Print "Angle is"+angle

.cmere


VWait 1000

Goto cmere

</pre><br><br>Cheers GfK, works a treat!<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1158680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> A little work to do yet:--<br><br><pre class=code>

Graphics3D 1024,768,32,2

x1= 0
y1= 0
x2= 9
y2= 9

x3=9
y3=-9

x4=-9
y4=-9

x5=-9
y5=9

x6=-18
y6=3

x7=-1
y7=12


angle#= Float ATan2(y2-y1,x2-x1)

;2nd quadrant

angle2#= (Float (ATan2(y3-y1,x3-x1)))+180

;3rd quadrant

angle3#= (Float (ATan2(y4-y1,x4-x1)))+360

;4th quadrant

angle4#= (Float (ATan2(y5-y1,x5-x1)))+180

;4th quadrant

angle5#= (Float (ATan2(y5-y1,x5-x1)))+180

angle6#= (Float (ATan2(y6-y1,x6-x1)))+180 ;this would be 'right' if x and y values transposed

angle7#= (Float (ATan2(y7-y1,x7-x1)))+180 ;this would be 'right' if x and y values transposed



Print "Angle is  "+angle

Print "Angle 2,3,4 is  "+angle2+" 3: "+angle3+" 4: "+angle4  ;needs work for other quadrants


Print "4th Quadrant -- 5(315 degrees ish) : "+angle5+" 6 (280 degrees ish): "+angle6+"   Angle 7 (350 degress ish) is:"+angle7

;Make a little loop to keep the results on the screen until escape is pressed:

While Not KeyHit(1)
	
	VWait 1000	
	
Wend

End

</pre> <br><br></td></tr></table><br>
<a name="1159988"></a>

<a name="1159989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pointy rockets, the Dictator would be pleased ;)<br><br>Needs the rocket.3ds entity <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

; Movement &amp; Rotation ***
; By Paul Gerfen (www.gamecoding.co.uk)

; added to slightly by Blitzplotter



Global quadrant=9


Graphics3D 800,600

SetBuffer BackBuffer()

camera=CreateCamera()
CameraViewport camera,0,0,800,600

light=CreateLight()

rocket=LoadMesh( "rocket.3ds" )
PositionEntity rocket,0,0,37


r1_quad=return_angle(1,1,3,3)
r2_quad=return_angle(0,0,3,-3)
r3_quad=return_angle(0,0,-3,-3)
r4_quad=return_angle(0,0,-3,3)


Print r1_quad

Print r2_quad

Print r3_quad

Print r4_quad


;give rockets positions E,S,W &amp; N (ish) co-ordinates respectively

x1=-28
 y1=18

x2=8
 y2=8

x3=18
 y3=-8

x4=-18
 y4=-18



rocket1=LoadMesh( "rocket.3ds" )
PositionEntity rocket1,x1,y1,47

rocket2=LoadMesh( "rocket.3ds" )
PositionEntity rocket2,x2,y2,47

rocket3=LoadMesh( "rocket.3ds" )
PositionEntity rocket3,x3,y3,47

rocket4=LoadMesh( "rocket.3ds" )
PositionEntity rocket4,x4,y4,47


r1_angle=return_angle(x1,y1,x2,y2)

r2_angle=return_angle(x2,y2,x3,y3)

r3_angle=return_angle(x3,y3,x4,y4)

r4_angle=return_angle(x4,y4,x1,y1)

Print " "
Print "Thats a slice of debug... Press Any Key"

WaitKey



RotateEntity rocket1,0,0,-r1_angle

RotateEntity rocket2,0,0,-r2_angle

RotateEntity rocket3,0,0,-r3_angle

RotateEntity rocket4,0,0,-r4_angle






While Not KeyHit(1)

	
	If KeyDown(200)	Then
		MoveEntity rocket,0,0.05,0
	EndIf
	
	If KeyDown(203)	Then
		TurnEntity rocket,0,0,1.0
	EndIf
	
	If KeyDown(205)	Then
		TurnEntity rocket,0,0,-1.0
	EndIf
	
	UpdateWorld
	RenderWorld
	
	Text 320,500,"One rocket - Movement &amp; Rotation"
	
	Text 270,522,"With four other rockets that'll point to each other"
	
	Flip

Wend
End



Function return_angle(x1,y1,x2,y2)

quadrant=5

;first establish which quadrant 2nd co-ords are in with respect to first co-ords

If x1&lt;x2

	If y1&lt;y2
		quadrant=1
	Else
		quadrant=2
	EndIf
	
Else

	If y1&gt;y2
		quadrant=3
	Else
		quadrant=4
	EndIf

EndIf

Select(quadrant)

Case 1
	Print "1-1"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= Float ATan2(y2-y1,x2-x1)
	;1st quadrant fixer:
	angle2#= 0+(90-angle)
	
	
Case 2
	Print "2-2"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= (Float (ATan2(y2-y1,x2-x1)))+180
	;2nd quadrant fixer:
	angle2# = 90+(180-angle)
	
	
Case 3
	Print "3-3"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= (Float (ATan2(y2-y1,x2-x1)))+360
	;3rd quadrantfixer:
	angle2#=180+(270-angle)
	
	
	
Case 4
	Print "4-4"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= (Float (ATan2(y2-y1,x2-x1)))+180
	;4th quadrant fixer
	angle2#=270+(360-angle)
	
	
End Select


Return(angle2)



End Function

</textarea><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1160053"></a>

<a name="1160106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ATan2 considers the X+ axis as zero degrees and Y+ as ninety. To use this properly the rocket should point to the right when its rotation is zero. It actually points up. If you just rotate the mesh so it initially points to the right then all the problems go away and ATan2 gives the angle you want.<br><br>Here's the simplified code. Use the arrow keys to move the target.<br><br><pre class=code>Graphics3D 800,600

camera=CreateCamera()
PositionEntity camera, 0, 0, -80
CameraZoom camera, 4

target = CreateSphere()
PositionEntity target, 10, 0, 0

rocket=LoadMesh( "rocket.3ds" )
;rocket=CreateCone()		; alternative to loaded 3ds model
RotateMesh rocket, 0, 0, -90		; so a rotation of 0 points to the right

While Not KeyHit(1)

	x1# = EntityX( rocket )
	y1# = EntityY( rocket )
	x2# = EntityX( target )
	y2# = EntityY( target )

	RotateEntity rocket, 0, 0, ATan2( y2 - y1, x2 - x1 )
	
	MoveEntity target, 0.1 * ( KeyDown(205) - KeyDown(203) ), 0.1 * ( KeyDown(200) - KeyDown(208) ), 0

	RenderWorld
	Flip
	
Wend</pre><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1160378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> the best way to do it is to create a pivot parented to the rocket<br>point the pivot to the target and its roll,yaw,pitch values will give you the difference in angle. <br><br></td></tr></table><br>
<a name="1160622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could also just have a pivot called dummy then position this at the rocket, point it at the target then get the angles, compare that to the rocket angle to get which way it has to turn and there ya go. Using that method you only need one pivot for a million rockets :D <br><br></td></tr></table><br>
<a name="1160663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> you could also just have a pivot called dummy then <b>position this at the rocket</b> <br></div><br>But a million transformations heheh <br><br></td></tr></table><br>
<a name="1161377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Floyd, thanks for the feedback - will incorporate it at my next revision, which might be move all the rockets at once....<br><br>Into the Horizon:-<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

;Blitzplotters move stuff

;decreasing Z-planes



;original rocket move stuff (via keyboard) by Paul Gerfen

Global quadrant=9

zmove=5


Graphics3D 800,600

SetBuffer BackBuffer()

camera=CreateCamera()
CameraViewport camera,0,0,800,600

light=CreateLight()

rocket=LoadMesh( "rocket.3ds" )
PositionEntity rocket,0,0,37


r1_quad=return_angle(1,1,3,3)
r2_quad=return_angle(0,0,3,-3)
r3_quad=return_angle(0,0,-3,-3)
r4_quad=return_angle(0,0,-3,3)


Print r1_quad

Print r2_quad

Print r3_quad

Print r4_quad


;give rockets positions E,S,W &amp; N (ish) co-ordinates respectively

starttx=29
startty=29

x1=-28
 y1=18

;target co-ords for R1:

tx1=29
ty1=29


x2=29
 y2=29

;target co-ords for R2:

tx2=28
ty2=-18

x3=28
 y3=-18

;target co-ords for R3:

tx3=-18
ty3=-18

x4=-18
 y4=-18

;target co-ords for R4:

tx4=-28
ty4=18



rocket1=LoadMesh( "rocket.3ds" )
PositionEntity rocket1,x1,y1,47

rocket2=LoadMesh( "rocket.3ds" )
PositionEntity rocket2,x2,y2,47

rocket3=LoadMesh( "rocket.3ds" )
PositionEntity rocket3,x3,y3,47

rocket4=LoadMesh( "rocket.3ds" )
PositionEntity rocket4,x4,y4,47


r1_angle=return_angle(x1,y1,x2,y2)

r2_angle=return_angle(x2,y2,x3,y3)

r3_angle=return_angle(x3,y3,x4,y4)

r4_angle=return_angle(x4,y4,x1,y1)

Print " "
Print "Thats a slice of debug... Press Any Key"

WaitKey



RotateEntity rocket1,0,0,-r1_angle

RotateEntity rocket2,0,0,-r2_angle

RotateEntity rocket3,0,0,-r3_angle

RotateEntity rocket4,0,0,-r4_angle


rocket1_waypoint=1


	frameTimer=CreateTimer(1200)

While Not KeyHit(1)


	
	If KeyDown(200)	Then
		MoveEntity rocket,0,0.05,0
	EndIf
	
	If KeyDown(203)	Then
		TurnEntity rocket,0,0,1.0
	EndIf
	
	If KeyDown(205)	Then
		TurnEntity rocket,0,0,-1.0
	EndIf
	
	;move rocket1 to target1
	
	r1xpos=EntityX(rocket1,1)
	r1ypos=EntityY(rocket1,1)
	
	
	;in order to find out if both the X &amp; Y values equal
	; the target location - can do a nested loop for
	;this check - I believe
	
	If rocket1_waypoint=1
	
		If r1xpos=tx1
			If r1ypos=ty1
			
				stop_r1_moving=1
			
				;need to invoke logic to rotate rocket 1 to next 
				;rocket position &amp; once done this THEN update
				;target x&amp;y to the next rocket position	
				
				;1st check - see if reached last position:
				
				;THIS'LL BE DEPENDENT UPON USING THE ARRAY OF CO-ORDS
				;OR MAYBE THE ARRAY COUNT FOR HOW MANY X AND YPOS ARE IN THE ARRAY FOR
				;THE X AND Y LOCATIONS OF THE STUFF
					
					
					
					;rotate R1 to R3's position - note this will only 
					;work For First 'Next target' - need clever logic To 
					;iterate theough numerous targets once previous target reached
					
					x1=r1xpos
					y1=r1ypos
					
					x2=tx2
					y2=ty2
					
					rotateArocket=return_angle(x1,y1,x2,y2)
					
					;now rotate R1 to the 2nd location
					
					RotateEntity rocket1,0,0,-rotateArocket
					
				
					;not reached last position then update tx1 &amp; ty1 with next position
					tx1=tx2
					ty1=ty2
					
					;reset not move variable - not needs modifiying to 
					;get to rotate once SECOND target reached
					stop_r1_moving=0	
					
					;update rocket checking logic to the next waypoints vars
					rocket1_waypoint=2
	
				
			EndIf
			
		EndIf
	
	EndIf	
		
	If rocket1_waypoint=2
	
		If r1xpos=tx2; Or r1xpos=(tx2-1) Or (r1xpos=tx2+1)
			If r1ypos=ty2
			
				stop_r1_moving=1
			
				;need to invoke logic to rotate rocket 1 to next 
				;rocket position &amp; once done this THEN update
				;target x&amp;y to the next rocket position	
				
				;1st check - see if reached last position:
				
				;THIS'LL BE DEPENDENT UPON USING THE ARRAY OF CO-ORDS
				;OR MAYBE THE ARRAY COUNT FOR HOW MANY X AND YPOS ARE IN THE ARRAY FOR
				;THE X AND Y LOCATIONS OF THE STUFF
					
					
					
					;rotate R1 to R3's position - note this will only 
					;work For First 'Next target' - need clever logic To 
					;iterate theough numerous targets once previous target reached
					
					x1=r1xpos
					y1=r1ypos
					
					x2=tx3
					y2=ty3
					
					rotateArocket=return_angle(x1,y1,x2,y2)
					
					;now rotate R1 to the 2nd location
					
					RotateEntity rocket1,0,0,-rotateArocket
					
				
					;not reached last position then update tx1 &amp; ty1 with next position
					tx1=tx3
					ty1=ty3
					
					;reset not move variable - not needs modifiying to 
					;get to rotate once SECOND target reached
					stop_r1_moving=0
					
					;update rocket checking logic to the next waypoints vars
					rocket1_waypoint=3		
				
			EndIf
			
		EndIf
		
	EndIf
	
	If rocket1_waypoint=3
	
		If r1xpos=tx3
			If r1ypos=ty3
			
				stop_r1_moving=1
			
				;need to invoke logic to rotate rocket 1 to next 
				;rocket position &amp; once done this THEN update
				;target x&amp;y to the next rocket position	
				
				;1st check - see if reached last position:
				
				;THIS'LL BE DEPENDENT UPON USING THE ARRAY OF CO-ORDS
				;OR MAYBE THE ARRAY COUNT FOR HOW MANY X AND YPOS ARE IN THE ARRAY FOR
				;THE X AND Y LOCATIONS OF THE STUFF
					
					
					
					;rotate R1 to R3's position - note this will only 
					;work For First 'Next target' - need clever logic To 
					;iterate theough numerous targets once previous target reached
					
					x1=r1xpos
					x1=r1ypos
					
					x2=tx4
					y2=ty4
					
					rotateArocket=return_angle(x1,y1,x2,y2)
					
					;now rotate R1 to the 2nd location
					
					RotateEntity rocket1,0,0,-rotateArocket


					
				
					;not reached last position then update tx1 &amp; ty1 with next position
					tx1=tx1
					ty1=ty1
					
					;reset not move variable - not needs modifiying to 
					;get to rotate once SECOND target reached
					stop_r1_moving=0
					
					;update rocket checking logic to the next waypoints vars
					rocket1_waypoint=4		
				
			EndIf
			
		EndIf
		
	EndIf
	
	If rocket1_waypoint=4
	
		If r1xpos=tx4
			If r1ypos=ty4
			
				stop_r1_moving=1
			
				;need to invoke logic to rotate rocket 1 to next 
				;rocket position &amp; once done this THEN update
				;target x&amp;y to the next rocket position	
				
				;1st check - see if reached last position:
				
				;THIS'LL BE DEPENDENT UPON USING THE ARRAY OF CO-ORDS
				;OR MAYBE THE ARRAY COUNT FOR HOW MANY X AND YPOS ARE IN THE ARRAY FOR
				;THE X AND Y LOCATIONS OF THE STUFF
					
					
					
					;rotate R1 to R3's position - note this will only 
					;work For First 'Next target' - need clever logic To 
					;iterate theough numerous targets once previous target reached
					
					x1=r1xpos
					x1=r1ypos
					
					x2=starttx
					y2=startty
					
					;rotateArocket=return_angle(x1,y1,x2,y2)
					
					PositionEntity rocket1,-28,18,47
					
					RotateEntity rocket1,0,0,-r1_angle
					
					;now rotate R1 to the 2nd location
					
					;RotateEntity rocket1,0,0,-rotateArocket


					
				
					;not reached last position then update tx1 &amp; ty1 with next position
					tx1=29
					ty1=29
					
					;reset not move variable - not needs modifiying to 
					;get to rotate once SECOND target reached
					stop_r1_moving=0
					
					;update rocket checking logic to the next waypoints vars
					rocket1_waypoint=1	
					
					getcloser=1	
				
			EndIf
			
		EndIf
		
	EndIf

	
	If endo=0
		If stop_r1_moving=0
			MoveEntity rocket1,0,1,0   ;moves the rocket 1 co-ordinate in the direction it is facing
		EndIf
	EndIf

	
	If getcloser=1
		zmove=zmove+5
		MoveEntity rocket1,0,0,zmove
		getcloser=0
		If zmove=40
			endo=1; stop after 5 reps
		EndIf
	EndIf
	
	;end move rocket 1
	
	UpdateWorld
	RenderWorld
	
	Text 320,500,"One rocket - Movement &amp; Rotation"
	
	If endo=1
		Text 300,340,"Finito, all co-ordinates moved through......"
	EndIf
	
	;Text 30,60,r1xpos+" "+r1ypos+" "+tx3+" "+ty3
	
	Flip

Wend
End



Function return_angle(x1,y1,x2,y2)

quadrant=5

;first establish which quadrant 2nd co-ords are in with respect to first co-ords

If x1&lt;x2

	If y1&lt;y2
		quadrant=1
	Else
		quadrant=2
	EndIf
	
Else

	If y1&gt;y2
		quadrant=3
	Else
		quadrant=4
	EndIf

EndIf

Select(quadrant)

Case 1
	Print "1-1"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= Float ATan2(y2-y1,x2-x1)
	;1st quadrant fixer:
	angle2#= 0+(90-angle)
	
	
Case 2
	Print "2-2"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= (Float (ATan2(y2-y1,x2-x1)))+180
	;2nd quadrant fixer:
	angle2# = 90+(180-angle)
	
	
Case 3
	Print "3-3"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= (Float (ATan2(y2-y1,x2-x1)))+360
	;3rd quadrantfixer:
	angle2#=180+(270-angle)
	
	
	
Case 4
	Print "4-4"
	Print" x1:"+x1+" y1:"+y1+" x2: "+x2+" y2: "+y2
	angle#= (Float (ATan2(y2-y1,x2-x1)))+180
	;4th quadrant fixer
	angle2#=270+(360-angle)
	
	
End Select


Return(angle2)



End Function


</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
