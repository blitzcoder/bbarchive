<!DOCTYPE html><html lang="en" ><head ><title >Batch file : Manage Local Hard Disk (RAMDRIVE)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Batch file : Manage Local Hard Disk (RAMDRIVE)</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >Batch file : Manage Local Hard Disk (RAMDRIVE)</a><br><br>
<a name="1200436"></a>

<a name="1200437"></a>

<a name="1200438"></a>

<a name="1200440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't messed with Batch files in a long time but I need a script that will do the following.<br><br>Auto run when Windows starts.<br>Go into Admin tools.<br>Computer Management.<br>Location 1 and Location 0 (these are hardware ramdisks)<br>Add both devices and format them to ntfs.<br>Setup one as E:Ramdisk1 and F:Ramdisk 2.<br><br>The issue I'm having if after a restart Windows won't see the ramdisk hard drives until they are formatted and mounted. I'd like to eventually get these working with a backup image so I could possibly put the paging file onto one of these. Any ideas on how I can go about this?<br><br><a href="http://productivity.ben61a.com/windows/run.php" target="_blank">http://productivity.ben61a.com/windows/run.php</a> <br><br></td></tr></table><br>
<a name="1200444"></a>

<a name="1200447"></a>

<a name="1200448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Batch files run their own commmand sets, and wont' interface directly with the windows GUI -- which means that you need command line versions of whatever steps you'd normally do in the disk mananager.<br><br>However -- There's a freeware toolkit called AutoIt ( <a href="http://www.autoitscript.com/site/autoit/" target="_blank">http://www.autoitscript.com/site/autoit/</a> ) that can automate windows actions through a scripting language that you could conceivable use to go through the chain of events that you want, but personally I'd be EXTREMELY reluctant to attampt to automate your process considering  it involves formatting drives -- you're only one plug&amp;play re-enumeration mishaps away from having your actual hard drive show up as device 0 and formatting one of your actual hard drives by accident. <br><br></td></tr></table><br>
<a name="1200537"></a>

<a name="1200544"></a>

<a name="1200545"></a>

<a name="1200546"></a>

<a name="1200547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I understand the cause for concern. But the RAMDISK card shows up both in the bios and hardware list in windows and unless the hardrive windows is installed on decides to randomly switch its value I don't see how this could even happen. Perhaps I could do a simple check and if the device is over a a certain size (Gigabytes) and if so it will assume it is a hard drive and not the Ramdisk which will void the formatting action. (if I code it correctly!)<br><br>For some reason Windows is not remember the device settings after a restart. It's supposed to. After going to Disk Management&gt; Format and Initialize. And give it a drive letter it works fine but this kind of kills my idea of using a portion of it for the system paging. <br><br></td></tr></table><br>
<a name="1200553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If this RAM drive is indeed a hardware device (plugin card?), then it's possible that it has an on-board battery that may have run out? <br><br></td></tr></table><br>
<a name="1200570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it does have a battery but took the battery out. I thought the battery was only if you had a total power failure? The device has the capability to backup data inside the memory to a image file, then upon boot it will load the image data back into the ramdisk. But it won't do this if windows won't correctly manage the ramdisk hard drive in the first place. <br><br></td></tr></table><br>
<a name="1200576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I thought the battery was only if you had a total power failure? <br></div><br><br>Depends on the device -- some of them actually apply a very low power to the memory chips themselves for them to retain information after a reset/power down <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
