<!DOCTYPE html><html lang="en" ><head ><title >creating a procedural image/texture without filtering/blurryedges/antialias</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >creating a procedural image/texture without filtering/blurryedges/antialias</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >creating a procedural image/texture without filtering/blurryedges/antialias</a><br><br>
<a name="1330568"></a>

<a name="1330569"></a>

<a name="1330570"></a>

<a name="1330577"></a>

<a name="1330799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I don't know Blitzmax well (only the basics) and i wonder if you can create a procedural image (using premade parts (sharp images)) by positioning/rotating the parts following a logic with some randomness but with the final image being sharp (no filtering/blurryedges/antialiasing)<br><br>Because with Blitz3d you can't if you only use the images functions (because there will be some filtering/blurring/antialiasing applied when the part (image) is rotated) but you can if you use a textured quad with bilinear filtering deactivated (since the texture is not altered, only the quad rotates).<br><br>For example, i want to create a image/texture of gravels using 10 premade gravels (images) and positioning/rotating 1000 gravels on the image/texture area randomly. (doing it manually is too time consuming and annoying!)<br><br>Just curious about how you do that with Blitzmax... <br><br></td></tr></table><br>
<a name="1330574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Two options:<br><br>1)<br>- Load your images without "FILTEREDIMAGE" flag (see <a href="https://en.wikibooks.org/wiki/BlitzMax/Modules/Graphics/Max2D" target="_blank">max2 wikibooks entry</a><br>- draw them on the screen like desired<br>- grab the image rectangle you need<br>- somehow process the "black" to alpha (or whatever your screencolor was - and should be)<br><br>This processing could need 2 steps: one for the color (which then might contain the screen's background color) and one for the mask (alpha). What I mean is:<br>- draw it one time just as you want (with eg. black setclscolor)<br>- grab it in image1<br>- draw it another time with white as background<br>- grab it in image2<br>- create an image3 with all images being transparent from 0 to 1.0 according to the changes in image1 and image2 (only transparent or semitransparent images will change their colors between the two images).<br><br>2)<br>Do it via software rendering. But then you need to write your own rotation stuff (the rest is just copying color information at X,Y from pixmap A to pixmap B)<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1330576"></a>

<a name="1330578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, this sounds complicated for not much...<br><br>And using minib3d or openb3d and positionning/rotating many textured quads (with bilinear filtering deactivated and a texture loaded with the flag mask so that black texels are masked (=fully transparent), with an entityblend/surfaceblend alpha and fx fullbright) in an area, and then copyrect the result in a new texture, would this be possible ? Because with Blitz3d it is.<br>Just curious... <br><br></td></tr></table><br>
<a name="1330581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try it out ... I'm into 2d.<br><br><br>BTW you could play with directly manipulating quads/textures in OGL - but my suggestion is using the backend-agnostic functions - so work with DX and OGL.<br><br><br>If you are able to skip DX7 - so only use DX9, DX11 and OGL, you might use the render2texture mod flying around in the forums.<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=107108" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=107108</a><br><br>So it is just method 1) but without the needed "processing" (as the texture already is capable of having an alphachannel).<br><br>It then becomes this:<br>- set render target to new image<br>- draw your parts (DrawImage...)<br>- grab the render target into a new image <br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1330787"></a>

<a name="1330788"></a>

<a name="1330789"></a>

<a name="1330807"></a>

<a name="1330933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> For those interested, here are the results :<br>(see post#10)<br><br>at first i wanted to created a seamless texture, but then i realized that when there are too many parts which fill the whole area of the texture, then it is harder to distinguish each part, so i decided to not fill the whole area and to leave empty spaces which are black (000,000,000), and then i load the texture with the mask flag so that the black texels are fully transparent, and then each time i create a flat mesh using this texture, a slight random offset is added on the y axis so that 2 flat meshes are never at the exact same y position, and thanks to that i can create overlapping flat meshes which appear seamless to create floors, roads, accesses, paths... <br><br></td></tr></table><br>
<a name="1330792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would play with overlapping a "small amount" of rectangles to break the seams ...<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1330796"></a>

<a name="1330915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>overlapping a "small amount" of rectangles to break the seams<br> <br></div><br><br>I already do that<br><br>But now i have a problem with the empty spaces, i probably need to add a texture for the terrain...<br><br>Also i am not sure if using textures with masked (fully transparent) texels is fast enough to render, i will see... <br><br></td></tr></table><br>
<a name="1330797"></a>

<a name="1330798"></a>

<a name="1330813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also what i have not tested but should greatly improve the appearance of each texture would be to add baked texels lighting/shading, that is altering the color of each texel by either lightening/darkening it depending on its "normal" (depending on the shape, each texel of a flat image is like a small part with a different orientation) related to the main light (sunlight/moonlight in this case)<br><br>For a procedurally made grass texture, this could greatly improve the appearance ! <br><br></td></tr></table><br>
<a name="1330806"></a>

<a name="1330808"></a>

<a name="1330810"></a>

<a name="1330811"></a>

<a name="1330812"></a>

<a name="1330825"></a>

<a name="1330829"></a>

<a name="1330842"></a>

<a name="1330916"></a>

<a name="1330917"></a>

<a name="1330932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is the result of a procedurally made grasses texture using premade parts (2d shapes) with baked texels lighting/shading (the main light comes always from the same position) :<br>(see post#10)<br><br>It looks rather good imo and since it is made with the same graphics style and the same texel size than the others textures, it fits well in the world (but of course these are not photorealistic graphics...)<br><br>I think that i will add baked texels lighting/shading in all the others textures which are used only on a flat shape with always the same orientation (to keep a coherent lighting/shading)<br><br>It is like baked/static "bumpmapping"/"normalmapping"  ;) <br><br></td></tr></table><br>
<a name="1330914"></a>

<a name="1330918"></a>

<a name="1330931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> for those interested, here are the results of<br><br>the gravels texture, with baked texels lighting/shading :<br>rd-stuff.fr/gravels-with-baked-texels-lighting-shading.png<br>rd-stuff.fr/gravels-with-baked-texels-lighting-shading-(denser).png<br><br>the tiles texture, with baked texels lighting/shading :<br>rd-stuff.fr/tiles-with-baked-texels-lighting-shading.png<br>rd-stuff.fr/tiles-with-baked-texels-lighting-shading-(denser).png<br><br>the grasses texture, with baked texels lighting/shading :<br>rd-stuff.fr/grasses-with-baked-texels-lighting-shading.png<br>rd-stuff.fr/grasses-with-baked-texels-lighting-shading-(denser).png<br><br>The great thing is that, in the end, it takes less time to generate your own textures using premade colored shapes (with baked texels lighting/shading) than to have to try to modify a photo/drawing to make it have the same graphics style, colors palette, sharpness, texel size, lighting/shading than the others that you have in your world.<br>So my current approach is to search for examples of textures of things/materials in google/bing images, then to see which shapes and colors are used and how the lighting/shading is applied on each shape, then to create several similar shapes using, for each shape, a basic material color then to apply baked texels lighting/shading on the shape (using 2 lighter colors and 2 darker colors), then to generate a final texture by positioning shapes randomly in the texture space. <br><br></td></tr></table><br>
<a name="1330928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pakz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have spend a good amount of time over the years trying to create texture routines that I could use later on.<br><br>I have posted my last work here : (with monkeyx code)<br><a href="http://www.monkey-x.com/Community/posts.php?topic=12746" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=12746</a><br><br>What I do is like what you do with drawing packages. Create layers on top of each other.  This based on steps you for instance would take in gimp to create a texture.<br><br>I use an array to store the pictures color information in and then increase/decrease the color based on the pattern it will be merged with. Like rectangles or bars for instance. But could also be a heightmap or other map/pattern.<br><br><iframe width="560" height="345" src="http://www.youtube.com/embed/iYx6OZt7kCw" frameborder="0" allowfullscreen></iframe> <br><br></td></tr></table><br>
<a name="1330930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> - Create a base texture <br>- create your pattern texture<br>- multiply the pattern on the base texture<br>- repeat steps with other patterns if desired<br>- use the patterns to colorize the base texture (eg. adjust hue of the base pixels)<br>- ...<br><br>Not that complicated and of course easily doable with software rendering (means even "headless")<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1330934"></a>

<a name="1330935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing to keep in mind is that if you add baked texels lighting/shading in each premade part (image), then you can't rotate randomly the part, only position it randomly, so that the lighting/shading looks coherent, as if it was coming from the same main light...<br><br>Of course you could code a procedure to texels light/shade each part after it has been rotated, but really it would complicate things a lot...<br>An easier, faster, alternative imo is to create several different parts, so that, since they will be positioned on top of each other, if there are enough different shapes, in the end it will still look random enough... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
