<!DOCTYPE html><html lang="en" ><head ><title >My Korean XML cannot be parsed.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >My Korean XML cannot be parsed.</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >My Korean XML cannot be parsed.</a><br><br>
<a name="1216733"></a>

<a name="1216734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have this structure of my level files:<br><br><pre class=code>

  &lt;Hotspot&gt;
	&lt;PosX&gt;358&lt;/PosX&gt;
	&lt;PosY&gt;306&lt;/PosY&gt;
	&lt;Width&gt;121&lt;/Width&gt;
	&lt;Height&gt;242&lt;/Height&gt;
	&lt;Text&gt;L &amp;#1710;&amp;#1401;&amp;#1449;; &amp;#1192;&amp;#1278; &amp;#1397;&amp;#1144;&amp;#1057; &amp;#522;&amp;#2084;&amp;#536;&amp;#2084;.&lt;/Text&gt;
	&lt;Sound&gt;null&lt;/Sound&gt;
	&lt;Type&gt;1&lt;/Type&gt;
	&lt;LogicID&gt;0&lt;/LogicID&gt;
	&lt;MoveTo&gt;null&lt;/MoveTo&gt;
	&lt;MoveToMinigame&gt;null&lt;/MoveToMinigame&gt;
	&lt;NavIcon&gt;null&lt;/NavIcon&gt;	
  &lt;/Hotspot&gt;

</pre><br><br>Obviously the only special characters are present in the &lt;Text&gt; hashes (even if here you guys see #&amp;), but using the bah.xml module I receive the:<br><br>"Document not parsed successfully." error message.<br><br>I assume it's about encoding or somehting like that but I do not have experience with things like that.. <br><br></td></tr></table><br>
<a name="1216735"></a>

<a name="1216736"></a>

<a name="1216737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try putting this at the top:<br><pre class=code>&lt;?xml version=“1.0” encoding=“utf-8”?&gt;</pre><br><br>[edit] By "at the top", I mean right at the very top - the first line - of your XML file, before anything else. <br><br></td></tr></table><br>
<a name="1216739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> double post. <br><br></td></tr></table><br>
<a name="1216738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> used the second one with the ? at the end..<br><br>still the same error. <br><br></td></tr></table><br>
<a name="1216740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... you might try utf-16.  I don't think I've ever done Korean, but I've done Japanese and I'm sure I used utf-8. :/ <br><br></td></tr></table><br>
<a name="1216742"></a>

<a name="1216743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> not a chance:<br><br>levels/level0.xml:5: parser error : Input is not proper UTF-8, indicate encoding !<br>Bytes: 0xB0 0xD4 0xC0 0xCC<br>    &lt;Name&gt;°Ô&amp;#340;&amp;#282;&amp;#262;®&lt;/Name&gt;<br>          ^<br><br><br>Name is the first tag with special characters in my file.<br><br>I also tried utf 16 but the issue perssist and in debug console i receive information like it is utf 8 <br><br></td></tr></table><br>
<a name="1216746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bit stumped then!  If nobody's solved it by tomorrow I'll have a look what I did for my Japanese stuff. <br><br></td></tr></table><br>
<a name="1216747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Appreciate this. I really need the help to solve this one.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1216766"></a>

<a name="1216767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> What does not work exactly?<br><br>I just took the content of &lt;text&gt;...&lt;/text&gt;, placed it in my database.xml (replacing some other titles) - even the console output was nearly correct - only the last kept being unidentified characters).<br><br><br>And this is what you are doing wrong: libxml says that you did not encode properly... and hence you did not encode properly:<br>all non-ascii-characters must be encoded (this is done with &amp;#CODENUMBER;)<br><br>Do not forget to encode the "&amp;" if used as normal character ("derron is dumb &amp; lazy" must be converted to "derron is dumb &amp;amp; lazy").<br><br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1216768"></a>

<a name="1216769"></a>

<a name="1216770"></a>

<a name="1216771"></a>

<a name="1216772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Derron,<br><br><b>the actual xml looks like this:</b><br><br><img src="http://rvlgames.com/example.jpg"><br><br>not linke in the text u see in the forums.<br><br>when I am trying to load the xml using the default "parseDoc" method I receive:<br><br>levels/level0.xml:5: parser error : Input is not proper UTF-8, indicate encoding !<br>Bytes: 0xB0 0xD4 0xC0 0xCC<br>&lt;Name&gt;°Ô&amp;#340;&amp;#282;&amp;#262;®&lt;/Name&gt; <br><br></td></tr></table><br>
<a name="1216774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> wait, you say I must encode every special character? how should I do that in Korean? <br><br></td></tr></table><br>
<a name="1216776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure the XML document is saved as UTF-8 and ALSO that the BOM is stored in the text XML file. <a href="http://en.wikipedia.org/wiki/Byte_order_mark" target="_blank">http://en.wikipedia.org/wiki/Byte_order_mark</a> <br><br></td></tr></table><br>
<a name="1216778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see in Notepad++ the document is "Encode in UTF-8".<br><br>About the BOM.. cant understand exactly what is all about. Where should those characters be present? :| <br><br></td></tr></table><br>
<a name="1216791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> guys,<br><br>just made a quick test. i pasted a text from google translate: &amp;#54872;&amp;#50689;<br><br><br>in my xml this text is shown in actual Korean characters. the translation i received is still like in my images.. anyway using the xml with the characters from the G translate works fine.. <br><br></td></tr></table><br>
<a name="1216792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> And it's me again. I solve the issue.<br><br>Steps:<br>1. Open the XML from my partners<br>2. Change from Notepad++ the character set to Korean (in this moment all those black characters are gone and we can see nice Korean symbols)<br>3. From Notepad++ choose: Encode to UTF-8<br>4. Save<br><br>and it's working... <br><br></td></tr></table><br>
<a name="1216817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is one of the things concerning UTF8 and BlitzMax.<br><br>By default the MaxIDE saves non-ISO-8859-1-pages as UTF16-LE.<br>For "normal characters" (westeuropean, most non-asian) UTF8 is enough - but BlitzMax needs the BOM-indicator to load it correctly. But if you eg. use signs like "äöü" (the German umlauts) you may run into problems as they could be find in the ascii tables ... so it gets converted incorrect and you may run into garbaged text.<br><br>To get rid of that trouble (at least in libxml) that "html entities encoding" should work (&amp;#code;).<br><br><br>Keep in mind that special chars still must be escaped properly:<br>&amp; &amp;amp;<br>' &amp;quot;<br>&lt; &amp;lt;<br>&gt; &amp;gt;<br><br>That is why "escaping" when outputting the data could be used for creating valid xml files.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1216818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a problem when getting third-parties to do translations - if they are using a native OS in Windows, then they are more likely to be typing in their local codepage, rather than in Unicode (UTF8/16/etc).<br><br>So as you've found, you need to assume the file you receive is in the local codepage and convert it as appropriate (into say, UTF-8).<br><br>On other platforms - which properly support native unicode (that would be Linux and OS X), you shouldn't have this problem. <br><br></td></tr></table><br>
<a name="1216901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ravl</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Derron: well I cannot make @# code for every character I need in my game... will take years :))<br><br>@Brucey: I will convert this way cause is the only solution now.<br><br>Thanks all for supporting me! <br><br></td></tr></table><br>
<a name="1216923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> You still have to convert all &amp; ' &lt; &gt; ... else you run into trouble as they are reserved XML characters.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1216930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> The other alternative is to use a "standard" localisation format (like .po), of which there are editors available. <br><br></td></tr></table><br>
<a name="1216933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> That "standard localisation format" is useful for GUIs but imagine a database containing some thousand of localized entries... I doubt using .po and there editors are helpful then.<br><br>It depends on the source of the textual data.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
