<!DOCTYPE html><html lang="en" ><head ><title >math problem related to 3dline and 3dtriangle inte</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >math problem related to 3dline and 3dtriangle inte</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >math problem related to 3dline and 3dtriangle inte</a><br><br>
<a name="1297367"></a>

<a name="1297368"></a>

<a name="1297369"></a>

<a name="1297370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> (it would be good to be able to add more chars in the title !)<br><br>Hello, :)<br><br>I have a problem related to 3dline and 3dtriangle intersection.<br>Maybe some of you who are math gurus can help me with this ? (please =) )<br><br>I already have a way to calculate if a 3dedge (3dline) intersects with a 3dtriangle (thanks EliasT !)<br>I already understand how to use this to determine if a 3dtriangle intersects with another 3dtriangle.<br>The good thing is that the formula also returns the intersection point between the 3dline and the 3dtriangle.<br><br>I am looking for a way to calculate the 3dline which represents where the 2 3dtriangles intersect <br><br>To dermine if a 3dtriangle intersect with another 3dtriangle :<br><br>situation1 : if 1 edge of 3dtriangle1 intersects with 3dtriangle2<br><img src="http://rd-stuff.fr/illustration-situation1.png"><br>situation2 : if 2 edges of 3dtriangle1 intersect with 3dtriangle2<br><img src="http://rd-stuff.fr/illustration-situation2.png"><br>situation3 : if 1 edge of 3dtriangle2 intersects with 3dtriangle1<br><img src="http://rd-stuff.fr/illustration-situation3.png"><br>situation4 : if 2 edges of 3dtriangle2 intersect with 3dtriangle1<br><img src="http://rd-stuff.fr/illustration-situation4.png"><br><br>For situation2 and situation4, i already have the 2 3dpoints of intersection (illustrated in yellow, in cyan) to be able to calculate the 3dline of intersection.<br><br>But for situation1 and situation3, i need a formula to find the 3dpoint (illustrated in magenta) to be able to calculate the 3dline of intersection.<br><br>Any idea on how to do that ?<br><br>(i have access to the 3dposition of each vertex and to the 3dnormal of each 3dtriangle and to the 3dposition of 3dpointofintersection1 (when it exists) and of 3dpointofintersection2 (when it exists))<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1297374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But for situation1 and situation3, i need a formula to find the 3dpoint (illustrated in magenta) <br></div><br>Are you saying that in situation 1 or 3 you can find the yellow point but you need the magenta point?<br><br>They look the same to me. Each is the intersection of an edge of one triangle with the interior of the other. The roles of the two triangles are interchanged for magenta point versus yellow point. <br><br></td></tr></table><br>
<a name="1297379"></a>

<a name="1297383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> situation1 and situation3 are the same except the tests are inverted (test if edges of triangle1 intersect with triangle2 or if edges of triangle2 intersect with triangle1 using the ray intersects triangle by EliasT)<br><br>situation2 and situation4 are the same except the tests are inverted (test if edges of triangle1 intersect with triangle2 or if edges of triangle2 intersect with triangle1 using the ray intersects triangle by EliasT)<br><br>in situation1 and situation3, i have only found one 3dpointofintersection (which could be colored in yellow or cyan depending on the edge concerned) but i don't know how to calculate the 3dpoint in magenta which represents a 3dpoint on the edge of the triangle on which the test is done (using the ray intersects triangle by EliasT)<br><br>Knowing the coordinates of this 3dpoint would allow me to calculate the 3dline which represents the area where the 2 3dtriangles intersect. <br><br></td></tr></table><br>
<a name="1297380"></a>

<a name="1297381"></a>

<a name="1297382"></a>

<a name="1297384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> wooops ! i think that i just found the solution by relooking at the illustrations... :P<br><br>I just have to calculate if all edges of triangle1 (one at a time) intersect with triangle2 and then calculate if all edges of triangle2 (one at a time) intersect with triangle1, and if no there is no intersection, and if yes there should be 2 intersection 3dpoints and this will allow me to calculate the intersection 3dline... Good ! Thanks me :D <br><br></td></tr></table><br>
<a name="1297388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a great illustration of detecting shapes intersecting with each other, almost a succinct mini tutorial - thanks RemiD for sharing. <br><br></td></tr></table><br>
<a name="1298094"></a>

<a name="1298095"></a>

<a name="1298096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello. RemiD mentioned some code by Elias_T, which I think is this Code Archive entry:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=942" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=942</a><br><br>I was curious about the technique involved. It seems to be the Moller-Trumbore method for finding ray-triangle intersections, explained below:<br><a href="http://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-rendering-a-triangle/moller-trumbore-ray-triangle-intersection" target="_blank">http://www.scratchapixel.com/lessons/3d-basic-rendering/ray-tracing-rendering-a-triangle/moller-trumbore-ray-triangle-intersection</a><br><br>There are also these other resources on point-within-a-triangle tests in 3D:<br>- <a href="http://www.blackpawn.com/texts/pointinpoly/" target="_blank">http://www.blackpawn.com/texts/pointinpoly/</a><br>- <a href="http://www.sunshine2k.de/coding/java/PointInTriangle/PointInTriangle.html" target="_blank">http://www.sunshine2k.de/coding/java/PointInTriangle/PointInTriangle.html</a> <br><br></td></tr></table><br>
<a name="1298098"></a>

<a name="1298099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Kryzon&gt;&gt;If you are interested about this : the purpose to have the 2 intersection 3dpoints and then to have the intersection 3dline, is to then be able to calculate what i would consider the collision 3dpoint (in the middle of the 3dline). <br>It can be useful for a 3dshape (made of 3dtriangles) -&gt; 3dshape (made of 3dtriangles) collisions detection system... <br><br></td></tr></table><br>
<a name="1298111"></a>

<a name="1298112"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, and using some more algebra you can determine the penetration length, so you can apply it in the opposite way to correct the collision (like making a slide-response).<br><br>EDIT: But just to know how to use the math, of course, and how it can be applied to other things in games (like visibility tests etc.).<br>If I had to do collision detection, I'd use an engine like Bullet which is made by people far smarter than me. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
