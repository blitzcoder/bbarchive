<!DOCTYPE html><html lang="en" ><head ><title >Lua Scripting and Blizt3d</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lua Scripting and Blizt3d</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >Lua Scripting and Blizt3d</a><br><br>
<a name="1114774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Has anyone seen any Lua Scripting for Blitz3d for dummies laying around? I have been working on a game in b3d and would like to incorporate a scripting engine and from what I have seen LUA looks to be top of the line. Problem is I have never used it or know where to start.<br><br>Any pointers would be greatly appreciated! <br><br></td></tr></table><br>
<a name="1114775"></a>

<a name="1114776"></a>

<a name="1114777"></a>

<a name="1114778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't use any generic pre-packaged Lua libraries by themselves, because Blitz3D has no native support for function pointers (this applies to almost all scripting languages not actually implemented in Blitz3D). Without function pointers, there's no way to pass game engine functionality to a script, so you can't really use it for much more than numeric calculation. (Obviously any scripting engines implemented in B3D code can simply use integer function "handles" and a switch table, which is ugly and inefficient, but does the job.)<br><br>You can get Blitz3D function pointers by using the <a href="http://www.fastlibs.com/index.php" target="_blank">FastPointer library</a> by MikhailV, but this is a hack, so be aware that it may break at any time, void your cow's warranty, blah blah. FastPointer is also not guaranteed to work correctly with the B3D debugger (you can't step through functions reached via CallFunction).<br><br>Apart from that, it should be as simple as plugging it in and getting started. You have to make sure that the Lua interface functions are all __stdcall (which is easy to fix since Lua is open source - you should be able to just add "__stdcall" to the definition of LUA_API in luaconf.h) and then you ought to be able to use it pretty much as you would in C.<br><br>In fact I'm tempted to give this a try myself right now<strike>. Check back in a few minutes...</strike> <font class="tiny">but am not going to because I need to learn self-control</font>.<br><br><br>However, if you've never used Lua, is it really the best choice?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1114797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that was quite a surprise. I really wasn't expecting that. I really appreciate the heads up there.<br><br>I seriously doubt including LUA would ultimately be worth it in the end. I will just concentrate on the game itself. It sounds like it would take me alot longer to learn the implementation of a scripting engine then it would take to actually get the game up and running. <br><br>I was just interested in adding scripting to the game for future modifications, or quick game editing instead of having to re-compile the entire game.<br><br>Thanks for the help! <br><br></td></tr></table><br>
<a name="1114829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The lack of any really good scripting engines for Blitz3D is an ongoing annoyance, really. I've been meaning to rectify it just about forever, but never quite seem to get around to it.<br><br>The medium-level solutions I would recommend are:<br><br>-- <a href="/posts.php?topic=69531" target="_blank">GameScript, by John J.</a> This provides a <i>fast</i> compiler and interpreter for a language somewhere in between Blitz3D and BlitzMax. Unfortunately, it seems to have some bugs, and the really odd part is that it's mainly designed for "asynchronous" scripting (i.e. GS scripts are essentially whole programs that run in a second pseudo thread alongside your program, rather than swappable functions that are called-and-return like every other scripting engine, ever).<br><br>-- <a href="/posts.php?topic=92470" target="_blank">TinyScheme</a>, as linked in my sig. While Scheme seems to have fallen from popularity in the last couple of years, TinyScheme is the official scripting engine of the GIMP, so it comes with a good reputation and isn't buggy. Does require you to learn Scheme, which won't take long (for small tasks), because it's a <i>very</i> simple language, but may be something of a shock to the system.<br><br>There are a few other projects floating around, but I wouldn't recommend them. Tiny C Compiler offers unparalleled speed due to emitting true machine code, but has obscure bugs and no error messages; BriskVM is apparently reliable, but it costs money and is closed source, and really isn't much of a step up language-wise. And I've started a couple of interpreters and never got around to finishing them...<br><br>At the very least, there ought to be both Lua and JavaScript engines available, and something like Tcl (in the form of JimTcl or Picol) would also probably be very appropriate for Blitz3D. I really need to get around to making these happen. <br><br></td></tr></table><br>
<a name="1114836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >YellBellzDotCom</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3d and JavaScript? Now that would be entertaining.<br><br>I really appreciate the information and help. I will poke around a little once I get to a certain point. All I was really looking for was something I could use to load maps and modify some game game settings. In reality I could just use some config files for this, but well see how it comes along.<br><br>Thanks for the help! <br><br></td></tr></table><br>
<a name="1115169"></a>

<a name="1115170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dodo</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I came across <a href="http://www.mjtnet.com/macroscript_sdk.htm" target="_blank">this</a> when doing a random scripting search, it's expensive though!<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Noobody</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>About two years ago I wrote a working Lua wrapper for B3D that you might be interested in.<br><br>It works by doing a bit of ASM magic to get the adress of one specific blitz function, which is then exposed to Lua. All function calls from Lua to blitz are handled through this function.<br>Although it is a bit more inconvenient than being able to expose B3D functions directly, it still works quite well.<br><br>The wrapper is free, comes with a few examples and can be downloaded <a href="http://noobody.org/BBP/LuaWrapperEN.zip" target="_blank">here</a>. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
