<!DOCTYPE html><html lang="en" ><head ><title >Help : Proper cubemap for static lighting</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help : Proper cubemap for static lighting</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >Help : Proper cubemap for static lighting</a><br><br>
<a name="979538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im trying to find a free cubemap, or a guide to make a cubemap for static toon lighting.  Ive hacked one of my own together that works on all curved surfaces, but fails on sharp , 90 degree corners.  <br><br>If anyone can help, or point me to a useful article on drawing such a cubemap I would appreciate it. Ive googled for hours and found nothing that can help.  Most ppl just use shaders, wich I cant do in B3D.<br><br>What I really want to acheive is this<br>click image link.  <br><a href="http://wili.cc/softography/3d-engine/toon_shade.jpg?" target="_blank">http://wili.cc/softography/3d-engine/toon_shade.jpg?</a>        <br><br><br>my hacked together cubemap<br><img src="http://www.empowergames.com/celshade2.jpg"><br><br>The results im getting with my cubemap aligned with the lightsource is<br><img src="http://www.empowergames.com/celtest.jpg"> <br><br></td></tr></table><br>
<a name="979616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried the old spheremap trick for toon shading? Basically a black square, with a white circle, ALMOST touching the edges? <br><br></td></tr></table><br>
<a name="979636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> old spheremap trick for toon shading? Basically a black square, with a white circle <br></div><br><br>Ross, <br><br>  Isnt that for simulating outlines?   I want to use a cubemap because fastext lets me align the cubemap to a light to simulate shading from the proper direction. <br><br></td></tr></table><br>
<a name="979778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah right, sorry, i though you were after the outline for the toon shading :S<br><br>I will have a play about with this though, i'm sure i can get what you need. <br><br></td></tr></table><br>
<a name="979779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you read this thread?<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=34792" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=34792</a><br><br>sswift decribes a way to use a cubemap for cell shading. <br><br></td></tr></table><br>
<a name="980369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, after much messing about and releasing i have lost the fastlibs..., and using the above websites i posted, i am wondering why you have the highlight part of the light, on the right side of your cubemap. Surely if you can align the cubemap to a particular direction, then you should have the hightlight, and the solid shades on the front of the cubemap? <br><br></td></tr></table><br>
<a name="980387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, i think i might have it now. Can you provide me with a model to test? I have my own models, but i guess it needs to be suitable for your's. I'm still tweaking it, but it looks like this so far:<br><br><img src="http://www.rosscrooks.pwp.blueyonder.co.uk/cubemap.PNG"> <br><br></td></tr></table><br>
<a name="980388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, what blend mode are you using for the cubemap? Again, it effects how dark the colours need to be. I looks like your using textureblend mode 2? <br><br></td></tr></table><br>
<a name="980389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i think i got what you need. I'm not entirely sure, as i don't have any models you use, and i've tried to use the same colours as your orginal one you posted.<br><br>The cubemap mode is set to mode 1, but, i think for lighting, you'd probably want mode 2, so it doesn't look so shiney. I dunno :) Texture blend on the cubemap is set to normal multiply mode.<br><br><a href="http://www.rosscrooks.pwp.blueyonder.co.uk/toon_shade.zip" target="_blank">http://www.rosscrooks.pwp.blueyonder.co.uk/toon_shade.zip</a><br><br>TBH though, i'd be happy if the shading was more rounded, but i'm finding it hard to curve the shading, to fit on the cube. <br><br></td></tr></table><br>
<a name="980569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ross, sorry for not responding. sheesh my browser didnt show a new hit on the topic until today.. ill check that out. thank you ! <br><br></td></tr></table><br>
<a name="980570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You nailed it!<br>I havent put in in tiny tanks yet, but that is one sweet toony teapot, thanks again <br><br></td></tr></table><br>
<a name="980582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm. been fiddling with it, but I cant seem to edit it properly to have the light from straight above in the cubemap. :)<br><br>edit:<br>Disregard my ramblings, the one you have made will work great, thanks. <br><br></td></tr></table><br>
<a name="980634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, i just made it from straight on, as i thought you could rotate the cubemap. I'm glad it works though :) How does it look in the game? <br><br></td></tr></table><br>
<a name="980664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great Ross, ill post a shot once ive tweaked it some, I also allow vertex lighting via dx lights , so the combo is hard to get right. <br><br></td></tr></table><br>
<a name="980665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, still tweaking but here it is now. you can see the cubemap on the tank, scenery, and crosshair<br><img src="http://www.empowergames.com/ross_cube.jpg"> <br><br></td></tr></table><br>
<a name="980720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems to work ok there. I can tweak the cubemap further, if you need more bands of colours, or less, or you need them further apart. Gfx looking sweet btw! <br><br></td></tr></table><br>
<a name="980773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RifRaf</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, I think the cubemap is ok as it is, but if you have other variations I wouldnt mind taking a peek <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
