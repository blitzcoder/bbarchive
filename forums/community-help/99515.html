<!DOCTYPE html><html lang="en" ><head ><title >platform game: How to detect if I am in-the-air</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >platform game: How to detect if I am in-the-air</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >platform game: How to detect if I am in-the-air</a><br><br>
<a name="1168455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vampire</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! I work on making a platform game but I don't know how I can detect if the player is in the air so that the "jump" key doesn't work there. Please help (Side Note: I am using Draw3D via Blitz3D). <br><br></td></tr></table><br>
<a name="1168462"></a>

<a name="1168463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way is to make the platforms where it is possible to land "pickable", and use linepick from the player feet (slightly above) to below.<br>If nothing is picked, it means player is in the air.<br>If something is picked and the distance from the player feet to the picked point is too far, it means player is in the air.<br>If something is picked and the distance from player to the picked point is near enough, it means player is near the ground (above or below) you can now position it on the ground (with the picked point coordinates)<br><br>To manage this, what i do is that i use a PositionState which can be either OnAir or OnGround. When the PositionState is OnAir, the player is not able to jump, and when the PositionState is OnGround, the player is able to jump.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> One of the best ways is to check to see if the player has jumped if they have set a variable called 'Jumping' to true and only set it back to false when they land on something, then simply check if they press jump against 'jumping' and if its true ignore the keypress. <br><br></td></tr></table><br>
<a name="1168522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wouldn't you also need a "falling" if you did that? <br><br></td></tr></table><br>
<a name="1168524"></a>

<a name="1168525"></a>

<a name="1168526"></a>

<a name="1168527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Wouldn't you also need a "falling" if you did that?<br> <br></div><br><br>Nope, generally, you'll just be decrementing then incrementing the posY value until you hit the deck again, basically, when you hit the jump button, you set the jumping flag to true, which will allow you to ignore any further key presses until the player is back on the floor.<br><br>You dont really actually need to know anything else about the "jump", other then, yeah, your in the air and obviously while in the air, you apply whatever forces are needed to produce whatever kind of jump your after (As well as handling animation), because you'll be doing stuff like collision detection around the player anyway.<br><br>This is 2D mind, but, I imagine its the same in 3D too, apart from the Y-Axis may be opposite to your standard 2D implementation!<br><br>I used to love making platform games! :)<br><br>Dabz<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, what I mean is if I fall off of a platform while walking, you don't want me to be able to jump while I am falling. <br><br></td></tr></table><br>
<a name="1168587"></a>

<a name="1168588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> TaskMaster&gt;&gt;There are several ways to write the code in order to manage this but here is what i do :<br><br>As explained in my previous post, the first thing i do is check with linepick or collisions where is the position of the player, in one of my projects, i check not only if the position of player is near the ground, or in the air, but also if he is against a wall (so that another routine can check if the player is able to grab a flat ledge or not).<br>So the PositionState can be either OnGround or OnAir or OnWall.<br><br>From this, i decide what is the PlayerActionState which is associated with an animation.<br>The PlayerActionState can be IsWalkingForward, IsJumping, IsFalling, IsLanding etc...<br>If the PositionState is OnAir and the gravity pull is low, this means player is starting to fall so there is a specific animation, if the gravity pull is medium, this means player is already falling during some time so there is another animation, if the gravity is high this means player is already falling during a long time so there is another animation (in this case player will probably crashes if he does not have a parachute !)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >indietom</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If not collison with player and floor = in air = true <br><br></td></tr></table><br>
<a name="1168628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was just trying to give Dabz a hard time.  Wanted to point out the flaw in his super simple solution, knowing full well that it wouldn't be difficult to account for falling.<br><br>Remi, I do agree with your solution, just check if they are on the ground when they press the jump button.  Simple enough. <br><br></td></tr></table><br>
<a name="1168637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dabhand</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I was just trying to give Dabz a hard time.<br> <br></div><br><br>Git!!! :)<br><br><div class="quote"> <br>Wanted to point out the flaw in his super simple solution<br> <br></div><br><br>Well, my super simple solution worked wonders for me, seriously, I've had Sonic the Hedgehog running and jumping about in Mario Land using it, and not once did it fail (Ahhhh good old BlitzBasic days)! :D<br><br>I also did Dizzy with the exact same code... See, the simpler, the betterererererererererererererererererererer... er!!! ;)<br><br><div class="quote"> <br>knowing full well that it wouldn't be difficult to account for falling.<br> <br></div><br><br>:P<br><br>Dabz <br><br></td></tr></table><br>
<a name="1168646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I was just trying to give Dabz a hard time. Wanted to point out the flaw in his super simple solution, knowing full well that it wouldn't be difficult to account for falling.<br> <br></div><br>Ok ! :) <br><br></td></tr></table><br>
<a name="1168873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vampire</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you folks! I have experimented enough just to find out that Draw3D cannot do collision detection though. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
