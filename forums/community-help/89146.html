<!DOCTYPE html><html lang="en" ><head ><title >Tips for a train simulator</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tips for a train simulator</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >Tips for a train simulator</a><br><br>
<a name="1012041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm toying the idea of trying to make a train simulator game, with say up to 20 or 30 trains.<br><br>What I'm wondering is - is the best way to make some 3d tracks in a world and then sit a 'train ' on top of the 3d rails - making the train heavy enough so that it will not 'come off the tracks' so to speak. The main problem I see with this approach is at the 'points' where train tracks merge/diverge.<br><br>I'm thinking about making it with a physics engine - JV-ODE, very early days but I'm thinking of adopting an OO kind of approach to the management of trains on the track. The nice thing is, the physics engine will automatically cause a 'train wreck' if mis management leads to any head on collisions or rear ending. <br><br></td></tr></table><br>
<a name="1012045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like a lot of work to achieve something that can be done just as well in a more simple way.<br><br>I think you'll probably get neater results either -<br><br>a) just making the train follow the rails and then add extra code to check for excess speed, then convert to ODE objects only once the train has come off the tracks and is crashing. This is the same approach as with non-physics driven animated characters that convert to a physics ragdoll when killed).<br><br>or<br><br>b) use ODE all the time but only effectively in 1 dimension (ie. Z, down the track ) - ignore the X and Y directions (the across-the-rails sideways direction and vertical). Make the train objects follow the track spline in the 3d world with only their forward and backward position and movement linked to ODE, and set their 3d position so they always stay on the curve of the track spline. This prevents your physics simulation having to somehow follow the track spline or rails which is going to be tricky and fairly prone to going wrong, especially as you say at the track junctions. Then switch over to full 3d physics only once the train is derailed and crashing (ie. when it corners too fast or hits another object with too much force). If you keep all your physics trains along the same static axis then they should automatically deal with shunting and impacts, you just need to decide when the impacts are too great and the simulation needs to switch to a full 3d simulation for the crash.<br><br>You should easily be able to use the spline curve to calculate if the train has exceeded the maximum cornering speed, very easy to do if your track spline is made from a series of points. <br><br></td></tr></table><br>
<a name="1012064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the suggestions, I have not ventured down the path of using waypoints yet within either native Blitz3D or JV-ODE. I presume I would neet to associate some waypoints with the track to get the train to 'follow' the track.<br><br>these look promising:-<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=62053#693939" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=62053#693939</a><br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=48384#538331" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=48384#538331</a> <br><br></td></tr></table><br>
<a name="1012352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ESP</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a look at the Leadwerks demo. It has a train running around a track using physics :)<br><br>Robin <br><br></td></tr></table><br>
<a name="1012500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks will have a look later <br><br></td></tr></table><br>
<a name="1012540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just had a quick peek, it does look quite impressive. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
