<!DOCTYPE html><html lang="en" ><head ><title >Navmesh Navigation Theory?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Navmesh Navigation Theory?</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=125" >General Help</a>/<a href="#bottom" >Navmesh Navigation Theory?</a><br><br>
<a name="1010543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone have any good tutorials/articles on navigating a NavMesh? I'm struggling to finding anything of use on actually navigating the NavMesh. I can find plenty on generating convex polys from an arbitrary mesh, but I already know how to do that. I really just need some good theory on how to navigate through those convex polys. I can probably come up with something myself, but it seems shortsighted to code something based on random thoughts when there must be some established theories on the best way to do it. <br><br></td></tr></table><br>
<a name="1010549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No idea what a navmesh is, but I assume it's a load of convex polygons joined together at the edges.<br><br>Any two points in a convex polygon are joined together by a straight line, so that case is easy.<br><br>If you need to move from a point A inside one poly to a point B in another adjacent poly, you need to move through the edge they have in common. You can pass through any point on that edge you like, but there must be one which gives you the shortest route. If the line between A and B goes through the edge, you can just follow that line. Otherwise, it must be either to the left or the right of the edge, in which case you go from A to the left (or right) vertex and then to B.<br><br>Once you've got that sorted out, the navmesh basically looks like a <a href="http://en.wikipedia.org/wiki/Graph_theory" target="_blank">graph</a>, which you can navigate using the pathfinding algorithm of your choice (e.g. Dijkstra's algorithm or A*) <br><br></td></tr></table><br>
<a name="1010570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's pretty much what a NavMesh is, yes, but I'm not sure that it's used as a graph to navigate with the algorithm of your choice. (I might be wrong, since I can't find a good tutorial any more.) I'm thinking a broader view than navigating from one poly to the next. As you say, that's not terribly difficult. I'm thinking more of the overview of getting from a point in an arbitrary convex poly to a point in any other arbitrary poly. So it's not immediately apparent to me how I should be identifying the point I want to get to in the next poly, or indeed the best way to process all the polys to find the best route (list of polys to pass through) in the first instance. There are a lot of things to weigh up, like whether you should just estimate the distance by counting the number of polys you pass through, or whether you should take the extra calculation time to calculate the actual distance. And if you do calculate the actual distance, whether you should calculate to the nearest point on the edge, the furthest, or the mid-point.<br><br>It's a pretty popular method of pathfinding, since it produces much better paths than the traditional pre-calculated waypoint and grid graphs, so there must be established theory on this, and I'm sure I've read a good tutorial before. I'm just utterly incapable of finding it any more. Must be using the wrong search terms.<br><br>EDIT: Oh, if it helps, I did find one very short piece of info recommending "the funnel algorithm" for this purpose. I'm searching for good reading material on that as you read this. <br><br></td></tr></table><br>
<a name="1010584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This came up on the old Leadwerks forums and I just don't see the point of them:<br><br><a href="http://www.ai-blog.net/archives/000152.html" target="_blank">http://www.ai-blog.net/archives/000152.html</a><br><br><a href="http://www.leadwerks.com/forum/viewtopic.php?f=2&amp;t=323" target="_blank">http://www.leadwerks.com/forum/viewtopic.php?f=2&amp;t=323</a><br><br><br>I don't recognise much of the author's points:<br><br><img src="http://i252.photobucket.com/albums/hh9/PaulTozour/Stormwind-NavMesh-avoidance-cropped.jpg"><br><div class="quote"> Sure, you can address this in a waypoint graph, too, by dropping down tons and tons of waypoints until your waypoint graph is as thick as grass (and your pathfinding as slow as molasses). <br></div><br>I don't buy it - you don't need loads of waypoints to bypass an obstacle.  If you want, you can 'collision-avoid' around it whilst still using a waypoint system.  His system of a NavMesh is fruitless - he admits it here <div class="quote"> We do a bit of raycasting against the barrel and adjust our path around it, keeping our path <br></div> - What?  So, he's saying you can't do the same thing without using tons of waypoints?  His Navmesh didn't allow him to go around the obstacle on its own.  In Blitz3D I can AlignToVector on-the-fly from a waypoint if I don't want to collision avoid it.<br><br>I'm not sure I like this NavMesh thing.  Then again, I like waypoints and don't want to give them up - just like I cling to Blitz3D. <br><br></td></tr></table><br>
<a name="1010599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes! that was the one I had before. The ai-blog one. I should have known "The ferret" would be able to find that link. Cheers, Puki.<br><br><div class="quote"> I don't buy it - you don't need loads of waypoints to bypass an obstacle. <br></div><br>Not if it's a static obstacle, no, but what if it's dynamic? You either need a ton of waypoints or you need something else entirely.<br><br><div class="quote"> If you want, you can 'collision-avoid' around it whilst still using a waypoint system. <br></div><br>He covers this in the article. Which way do you go around it? In the image, he goes to the left, because he'd fall off the bridge if he went to the right. He knows he can go left because the graph tells him so. If all you have is a waypoint, you just have to guess.<br><br>In any case, the main advantage of NavMesh navigation for me - and the reason I'm trying to implement it - is that you get really zig-zaggy paths with anything else. You can smooth them out with splines, but you're still looping back and forth needlessly. With a well-implemented NavMesh, your paths are simple and direct. Of course, I don't know if I can implement one at all yet, let alone well. So we'll see.<br><br><div class="quote"> Then again, I like waypoints and don't want to give them up - just like I cling to Blitz3D.  <br></div><br>If it works, use it. I'm looking to use NavMeshes because the alternatives won't work. If they did, I'd use them too. <br><br></td></tr></table><br>
<a name="1010610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting...<a href="http://developer.valvesoftware.com/wiki/Navigation_Meshes" target="_blank">http://developer.valvesoftware.com/wiki/Navigation_Meshes</a> <br><br></td></tr></table><br>
<a name="1010695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right, so if I understand what I've read on Puki's link, the essential theory is something like this:<br><br>Initially, ignore the geometry specifics and simply treat each triangle as a node and each edge as a path (albeit that you pass through the edges as opposed to along them) and conduct a normal graph search on this. So A*, Dijkstra, Breadth-First, whatever suits your pupose best.<br><br>Then when you have selected your path (which is a list of edges and triangles you pass through ) you then take this and use the "funnel algorithm" to find the best path through the triangles and edges in your list.<br><br>So the only bit I can't find much about is the funnel algorithm. You're a maths guy, Warpy, is that anything you can explain in greater detail? <br><br></td></tr></table><br>
<a name="1010696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeh, but the guy is just 'dumbing down' waypoints to promote the navmesh system and he is misleading people in his article.<br><br>I can put a waypoint at each end of the bridge (2 waypoints);<br>My AI can move along the bridge using collision avoidance;<br>The navmesh system has to use a similar collision avoidance system;<br>He is telling people that they would need tons of waypoints to handle a dynamic/static object;<br>I say he is exaggerating to the point of blatantly lying.<br><br>The navmesh idea is interesting and certainly has uses.  I just think waypoints are (by far) cuter. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
