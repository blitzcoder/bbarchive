<!DOCTYPE html><html lang="en" ><head ><title >Can you get 60FPS on Windows Phone?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can you get 60FPS on Windows Phone?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=508" >XNA</a>/<a href="#bottom" >Can you get 60FPS on Windows Phone?</a><br><br>
<a name="2039150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> My new game is running at 60FPS pretty nicely on iPhone 3GS+, my Android devices, Flash, GLFW, and HTML5.<br><br>However, on my new Windows Phone, I'd say it's barely topping out at 30FPS.<br><br>Does anyone know why this might be?  Is it just the limitations of the phone?  I can play other games on the phone, Angry Birds, and everything is normal.  Just my Monkey games.<br><br>The problem is definitely in onRender.  When I move all my updates into onRender, it goes SUPER slow, but when I move them back out to onUpdate the "pace" of the game is right again, but the rendering is very choppy.  So it can run my onUpdate easily at 60FPS, but it has trouble rendering.<br><br>Are there any tricks to speedier rendering on Win phones? <br><br></td></tr></table><br>
<a name="2039155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> After some tweaking, I found that drawing a background image was killing my frame rate the most.  <br><br>Cutting down on the number of draws is helping, but I find it strange because all the images displayed are from a single sprite sheet and each image is defined using "GrabImage" <br><br></td></tr></table><br>
<a name="2039193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Figure I'll update this thread in case others are experiencing slow down on Windows Phone devices.<br><br>Things I had to do to get my app appearing to run as smooth as possible on Windows Phone and as close to 60FPS as I could.<br><br>1) Could absolutely NOT have my OnUpdate code running in OnRender.  I don't know if the device ever topped 30FPS in my game, so having OnUpdate in OnRender did kill the flicker/jumping, but it ran like a snail.<br><br>2) I had to turn off mojo backbuffering (no idea why, just trial and error, but it was night and day)<br><br>3) I had to do a Release build, and in Vis Studio, I also had to turn off Debug build in the Build properties.<br><br>4) I reduced the amount scale at which my Push/Pop Matrix was doing for the entire scenes.  I don't know if this had any affect at all.<br><br>So anyway, this is my trial and error insight, maybe it'll be helpful to someone else in the future. <br><br></td></tr></table><br>
<a name="2039197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Ben for the info. I might get into Windows Phone dev beginning next year and for sure, this will be helpful! <br><br></td></tr></table><br>
<a name="2039200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive just tested a game im working on which has a flash version here and it runs at 30 fps as well on a windows phone.It runs at 60 fps on xna on my pc.<br><br><a href="http://www.gamecentaur.com/" target="_blank">http://www.gamecentaur.com/</a><br><br>heres the thing though i designed it to work at 30 fps in my setupdate and it does so very well but if i change it to 100 in my setupdate it still runs at 30 fps.In fact its exactly the same speed either way i set it.I suppose it could be its at its speed limit but you would think i would get at least 1 or 2 frames more but its the same. <br><br></td></tr></table><br>
<a name="2039207"></a>

<a name="2039208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @dave.h  For 30FPS, your game runs very smooth in Flash.<br><br>At 30FPS my game looks super choppy for some reason.  I'm working on altering some of my velocities, friction, etc, for objects in my game to see if I can get it looking and working well at 30FPS, but 60FPS is just so silky smooth, I hate having to do this.<br><br>And what really bugs me is that my almost 3-year-old 3GS iPhone runs my game perfectly at 60FPS, but my brand new Windows Phone is choppy and slow when running the game. <br><br></td></tr></table><br>
<a name="2039229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive just done some more testing on my nokia luminia 800 and it appears that no matter what you run it will never go above 30 fps.I just tested it with a simple hello world program and it wont go above 30.<br><br>Now having discovered that i still have never noticed any slowdown on anything that ive put on my phone and it definately runs my apps faster than my android experia x10 because occasionally i have had slowdown on that.<br><br>The only time ive had slowdown on my windows phone has been my fault and its always occured when using fontmachine.The problem i had was placing a displaytext function in the wrong place like inside a large loop.So the result was i was displaying something simple like credits left but doing hundreds if not thousands of times within the loop.This caused massive slowdown,But once i discovered this its an easy fix and everthing ran great.You probably already know this but sometimes its easy to overlook things.Ive never had slowdown yet associated with velocities,friction ect but i suppose this would depend on how many objects you are throwing around the screen.Sorry i cant be more helpfull. <br><br></td></tr></table><br>
<a name="2039233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm starting to wonder if this is a bug with SetUpdateRate or something.  I KNOW that other games on my brand new Windows Phone are running at full 60FPS easily.  I've played some impressive games already.<br><br>So if Monkey games can't peak past 30FPS even with it set at 60FPS, there may be a problem. <br><br></td></tr></table><br>
<a name="2039278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you try to change the PresentationParameters.PresentationIntervall to .IntervallONE?<br><br>did not Test it, but should work if the device Supports more than 30. <br><br></td></tr></table><br>
<a name="2039277"></a>

<a name="2039275"></a>

<a name="2039281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> No but I didn't know about that.thank for pointing it out but where do I find it <br><br></td></tr></table><br>
<a name="2039306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rone</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Searching in the native Project or the xna mojo source<br><br>But it really depends on the device, my lumia vor example can only Show 30fps.. <br><br></td></tr></table><br>
<a name="2039354"></a>

<a name="2039355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rone does your lumia only show 30FPS on Monkey games, or do you have this problem on all games?<br><br>I did re-configure the Program.cs source to try the IntervallOne approach, but I'm still not hitting 60FPS on my Lumia 900.<br><br>I just can't tell if it's Monkey or not.  Some of the bigger game titles I've tested must be running at 60FPS because of how smooth they run (tho I don't know for sure) <br><br></td></tr></table><br>
<a name="2039374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Have you upgraded to Mango? According to this:<br><br><a href="http://wmpoweruser.com/mango-xna-screen-refresh-rate-can-now-go-up-to-60-mhz/" target="_blank">http://wmpoweruser.com/mango-xna-screen-refresh-rate-can-now-go-up-to-60-mhz/</a><br><br>XNA games can only go at 30fps max pre-Mango.<br><br>C++ (ie: 'big publisher') games can probably go at 60fps pre-Mango.<br><br>I'm currently looking into related issues on PSM so I'll have a look at this too. <br><br></td></tr></table><br>
<a name="2039375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> From memory the base monkey project for WP is 7.0.  If you delete the phone project and re-add it, it should prompt you to select 7.0 or 7.1 (mango).<br><br>Saying that Mark may have changed this at some stage to default to 7.1 <br><br></td></tr></table><br>
<a name="2039379"></a>

<a name="2039381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you.  Is Mango a phone update or an XNA software update?<br><br>I'll have to check that out, I had no idea there was a 30FPS limit.  How odd.<br><br>EDIT:<br><br>Well, I upgraded the project to 7.1 and then implemented the changes here the best I knew how:<br><br><a href="http://msdn.microsoft.com/en-us/library/hh221580.aspx" target="_blank">http://msdn.microsoft.com/en-us/library/hh221580.aspx</a><br><br>Buuutttt, no luck getting 60FPS for some reason.<br><br>This must be it tho, I'll keep reading. <br><br></td></tr></table><br>
<a name="2039402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is all fixed up in MonkeyPro66 now!!!<br><br>When the Windows Phone project is built, I still open it in Vis Studio and upgrade it to 7.1 tho. <br><br></td></tr></table><br>
<a name="2039420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> We should get mark to update the base project as Microsoft basically no longer support pre mango now.  They announced a while ago that all handsets have been upgraded and everyone should move up to mango releases. <br><br></td></tr></table><br>
<a name="2040259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im still having probs with this as ive just started a game with 60fps prob not installed something correctly but i cant seem to upgrade my project to 7.1.Also ive just noticed my Experia x10 doesnt go past 30 fps and thats an android device has anyone any info on that.Im only moving 31 objects around so it should easily handle that. <br><br></td></tr></table><br>
<a name="2040298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >benmc</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you installed the 7.1.1 Windows Phone SDK update? <br><br></td></tr></table><br>
<a name="2040301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dave.h</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> thought i had but id better check <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
