<!DOCTYPE html><html lang="en" ><head ><title >Class Pointer Size in C++</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Class Pointer Size in C++</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >Class Pointer Size in C++</a><br><br>
<a name="561741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi. What is the size in bytes that a class pointer in c++ has?.<br><br>For example:<br><br>Having a class named KuRiClass in a Dll.<br><br>KuRiClass *instance1;<br><br>Can i store the pointer in a blitz3d variable (return instance1) then later pass it to a function in the Dll.<br><br>The only problem i see here is that the pointer could be destroyed after the function if it is not a global variable?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="561776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, using SizeOf i can see it is 4 bytes.<br><br>So i can use pointers in a Dll in this way:<br><br>/* IN C++ */<br>KURI_API long _stdcall myfunction()<br>{<br>class1 *instance1;<br>(bla bla...)<br>return long(instance1);<br>}<br><br>And later pass this value to the dll... <br><br></td></tr></table><br>
<a name="562038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clarks</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> here something for you to note kurix, yes a pointer is 4bytes but if you plan on using the dll with blitz heres a trick.<br><br>/* in c++ */<br>KURI_API class1* _stdcall myfunction()<br>{<br>}<br><br>; in blitz decl file<br>myfunction%() :"myfunction@4"<br><br>the idea is not to run a conversion like "return long(instance1) " just just return the pointer itself because its an integer. what this does is speed up the function. when the pointer is returned to blitz its returned as an integer. just pass the same integer to any other function to the dll and make sure the dll recieves the integer as a pointer.<br><br>do you understand? <br><br></td></tr></table><br>
<a name="562050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you are right. I noticed later, because i thought it was a compiler error, but i forgot to change the returning value of the function in c++.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="562060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clarks</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> no problem, you should implement this trick to allow kode to take a bank for 3floats when users need to get data from kode so they wont have to make three function calls to get the position of a physics object. <br><br></td></tr></table><br>
<a name="562281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Taking Note...<br><br>Thanks Clarks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
