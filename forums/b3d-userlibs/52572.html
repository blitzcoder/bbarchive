<!DOCTYPE html><html lang="en" ><head ><title >JV-ODE Physics Thread 4</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >JV-ODE Physics Thread 4</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >JV-ODE Physics Thread 4</a><br><br>
<a name="587070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The JV-ODE user library contains almost all of the ODE functions wrapped inside a DLL.<br><br>The library can be used in any programming language that supports DLL's, including Blitz3D and BlitzPlus. The functions have been adapted to use euler angles (the same coordinate system as Blitz3D), however functions for accessing quaternion angles are also included. The download contains all of the necessary files to get you started, including some simple demos showing various ODE objects and TriMesh collisions.<br><br>To view more information and screenshots <a href="http://www.devcode.co.uk/jv-ode.html" target="_blank">click here</a>.<br><br>Options are now available to purchase the wrapper using either PayPal or Share*it.<br><br>The <b>restricted demo version</b> is now available for download <a href="http://www.devcode.co.uk/dload/JV-ODE-Physics-Demo.zip" target="_blank">here</a> (185KB)<br><br>Have Fun :)<br><br>Previous JV-ODE Threads: <a href="/posts.php?topic=43653" target="_blank">1</a> <a href="/posts.php?topic=45048" target="_blank">2</a> <a href="/posts.php?topic=48743" target="_blank">3</a><br>JV-ODE <a href="http://playerfactory.proboards25.com/" target="_blank">Player Factory</a> Forum<br><br>Useful Links: <a href="http://www.ode.org/" target="_blank">ODE.org Website</a> - <a href="http://www.ode.org/ode-latest-userguide.pdf" target="_blank">ODE User Guide (PDF)</a> - <a href="http://www.ode.org/ode-latest-userguide.html" target="_blank">ODE User Guide (HTML)</a> - <a href="http://q12.org/pipermail/ode/" target="_blank">ODE Archives</a> <br><br></td></tr></table><br>
<a name="587131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh man,<br><br>Now I really feel like a dweeb.  been testing for over 2 hours on using Transalations lol and you come along with...Oh just add ONE here LOLOL...Many thanks....<br><br>I never thought of checking the CarStart Global, not even thinking of realizing it's also used in the wheel setup ;)<br><br>Now I finally got a bounding box half alphaed for testing that lets me ram, slam, flip, and generally cause mayhem with the model to make sure it's to size <br><br>Topknot ;)<br><br>P.S.  BTW VIP3R, thanks for your sponsorship, you've been added to the Sponsor tagging ;) <br><br></td></tr></table><br>
<a name="587152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome :) <br><br></td></tr></table><br>
<a name="587219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey VIP3R or anyone else into this,<br><br>Is there a site, location, or docs on setting up vehicles?  Seems that since I change my Geom up higher now all my previous settings are trash, including having to pump Gravity up to 2.20 just ot keep the dang thing on the driving surfaces..:(  <br><br>Tried googling and reading over most of ode.org, but not seeing alot of community chit chat on things like this.<br><br>Granted the Car demo's work for what they are designed for but I'm guessing I'm missing out on many more factors yet used that might stabilize this do-hicky..;)<br><br>Here's the example now just to keep it on the up right:<br><pre class=code>
Global CMass#                = 125	
Global WMass#               = 8		
Global WorldERP#           = 1		
Global WorldFriction#      = 124		
Global HingeTorque#       = 24
Global SuspensionHS#    = 0.009</pre><br><br>And the Car Setup for reference:<br><pre class=code>
Global	ode.ODEGeom  = New ODEGeom
			ode\body = dBodyCreate(World)
			     Car = ode\body
					dBodySetRotation   (ode\body,0,0,0)
					dBodySetPosition   (ode\body,0,CarStartY+1,0)

				mass = dMassCreate()
					dMassSetBox        (mass,1,4,2,8)
					dMassSetBoxTotal   (mass,CMass,4,2,8)
					dMassTranslate     (mass,0,-3,0)
					dBodySetMass       (ode\body,mass)
					dMassDestroy       (mass)

			ode\geom = dCreateBox      (CarSpace,4,2,8)
			CGeom    = ode\geom
					dGeomSetBody       (ode\geom,ode\body)


			ode\mesh = LoadMesh("Truck02.b3d") ;CreateCube()
			TruckTex = LoadTexture("Truck03.png",4)

			CMesh    = ode\mesh
					ScaleMesh       ode\mesh,.12,.12,.12
					RotateMesh      ode\mesh,0,-180,0
					PositionMesh    ode\mesh,0,-1,0
					EntityTexture   Cmesh,TruckTex
					EntityShininess Cmesh,.3
</pre><br><br>Topknot ;) <br><br></td></tr></table><br>
<a name="587282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't work with cars so can't offer specific advice. What I can see is a WorldERP of 1.0. That's how much bounce is aplied when an ODE object passes through a surface, to restore it t the right place. This typically ranged from 0.1 to 0.8 (according to the manual). Hige values mean more bounce.<br><br>If your applying a world ERP of 1.0, that'll cause a bit of bouncing in my experience (especially without a low CFM). I've has a sphere roll down a plank onto the floor and bounce of it unrealistically as a result of setting these values wrong. I suggest you try a word ERP of 0.2 or 0.1 and reduce the gravity back to where it was, to see what effect that has. <br><br>Even if nothing, changing the gravity to get your objects to work properly is asking for trouble. It means more downward force, faster falling objects, more penetrations and more errors. <br><br></td></tr></table><br>
<a name="587292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone tell me the best way to disable an ODE Body so it doesn't react to collisions or forces, but it's geom still acts? I want objects that move around at first but can come to a standstill on contact with other certain objects, and when they do no amount of force will move them.<br><br>dBodyDisable() won't work because the moment the object is hit it's enabled. I'm thinking maybe moving the object into a different space could work somehow, but I can't see how to do it. Seems if there's a body object it has to partake in collisions. The other alternative is to delete the body, but I might want to be able to have the object moving again which would require creating another body, all of which sound a bit awkward. Or can I destroy the Contact Joint of a disabled object to stop being automatical updated? Or create a Fixed joint to hold it on the spot, but can't these be overcome with powerful forces? As the manual says...<br><br><div class="quote"> The fixed joint maintains a fixed relative position and orientation between two bodies, or between a body<br>and the static environment.(~ sounding perfect ~). Using this joint is <b>almost never a good idea in practice</b> (~ boo ~), except when debugging.<br>If you need two bodies to be glued together it is better to represent that as a single body. <br></div> <br><br></td></tr></table><br>
<a name="587299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is great!  I will be purchasing this!<br><br>One suggestion though VIP3R, I am reading through the documentation and it doesn't seem to have a way of returning what objects collide with what.  <br><br>For what I will be using this library for, I would need to know if an object collides with something (to play a sound), is this possible? <br><br></td></tr></table><br>
<a name="587315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes that's possible. Use the dGeomCountCollisions to get how many collisions there are, and then for-next loop through each collision with dGeomCollisionGeom() to find which geometry it hit. Then loop through your geometries to find which object has that Geom value to find eactly what game object it was. <br><br></td></tr></table><br>
<a name="587320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Shifty, try setting the body to a geom of zero. This will let the geom as static geom and the body will no react no collisions...<br><br>Not sure, but you should try! <br><br></td></tr></table><br>
<a name="587430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice idea Kurix, but it cause crazy wierdness to happen. A totally different unrelated object started dancing the Polka when I used dGeomSetBody(temp\geom,0)!<br><br>Ona  related note, at the moment I'm just testing to see if I can stop an object at the right time with dBodyDisable(). Trouble is the object stops having penetrated the other other object. I'm creating a magnet that's applying a powerful force accelerating the object towards it. This object gets faster and faster. I tried capping the velocity with<br><pre class=code>
bx#=dBodyGetLinearVelX(UI_object\body)
by#=dBodyGetLinearVelY(UI_object\body)
bz#=dBodyGetLinearVelZ(UI_object\body)
b#=Sqr((bx*bx)+(by*by)+(bz*bz))
	debug_vector\x=bx
	debug_vector\y=by
	debug_vector\x=bz
	debug_float=b
If b&gt;MAX_SPEED
	b=MAX_SPEED/b
	dBodySetLinearVel(temp\body,bx*b,by*b,bz*b)
EndIf</pre>but the force applied with dBodyAddForce() seems to apply to the force after the speed reduction. I guess in the QuickStep process the force become velocity. Do I need to work out a cap on the amount fo force to add when I apply it (ugh!!). Can I somehow force an object to be positioned at the point of contact before disabling it, instead of disabling it on the Collision when the object has passed through the magnet?<br><br>The Simulation corrects these errors of interection when it runs normally. Is there, or could there be added, a way to process the object's individually to corrent such intersection errors using the techniques already employed by ODE? Like a sort of 'step one iteration for just this object to position it on the outside surface of the collision geom' function? <br><br></td></tr></table><br>
<a name="587442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kurix : Actually you may be right about setting the geom to 0. The crazy polka my objects were dancing was because I was applying forces to the wrong objects! <br><br></td></tr></table><br>
<a name="587454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could disable the objects after the time step and before applying new velocities...<br><br>In fact, an object should be always non penetrating other object after a time step. The problem could be that one step is not enough not aviod the total interpenetration... <br><br></td></tr></table><br>
<a name="587464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Dark Half: JV-ODE has extra unique functions for getting detailed collision information, so as Shifty mentioned it's definitely possible ;)<br><br>@Shifty: KuRiX's idea sounds good to me (attaching the geom to world (zero)). Does it work when you do this?<br><br>Thanks very much for the help KuRiX ;)<br><br><b>JV-ODE Update</b><br>I'm currently building and testing V1.08 of the wrapper, so you should all have a new version to play with very soon :) <br><br></td></tr></table><br>
<a name="587471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent on the update VIP3R, any clues to what's in it..? ;)<br><br>@Shifty Geezer:  Thank you a ton....it works wonders adjusting the WorldERP.!  Now to readjust all my values to match again ;)<br><br>@Dark Half: DUDE, definitly worth the $$$'s.  As frustrating as it is to learn it's a joy to enjoy ODE in your proggys.  And JV-ODE has proven to be my top choice.  Oh an excellent support ;)  Working with car values is a sure hair puller lol..<br><br>BTW guys, small question:<br><br>Does it matter the size of the tri's that make up your mesh for the ground area, meaning if you scale a mesh to larger sizes the tri's are bigger, or is it better to model the ground stuff to actual size where the tri's are smaller?<br><br>Thanks.<br><br>Topknot :)<br><br>Oh and on that detecting the mesh it's colliding with, any change of a simple example to tell if your on a plane or a trimesh..?  I got a particle system in place and having different particles based on which material your driving on by using a cheap Blitz sphere with internal blitz collisions parented to my mesh to detech which surface it's on, but it's not able to update as fast to the material it's on.<br><br>Example:  Driving on ground or dirt, you get dirty particles puffing up and such, and when you hit the water it changes to water sprays and such.  With my current mode of detection it works but if you'll smoking fast it delays until you slow to a craw then the contact is made.<br><br>Wanting to also use the internal ODE collisions for faster detection. <br><br></td></tr></table><br>
<a name="587485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Triangle Size Matters!. Too small or too big triangles would case inter-prenetation or too bouncy surfaces <br><br></td></tr></table><br>
<a name="587486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know abuot tri sizes. I know if you have a vertex collision with a vertex rather than triangle you get funny reactions, so I guess less triangles is a good idea to have less vertex collisions. <br><br></td></tr></table><br>
<a name="587514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Two things I've found out mainly:<br><br>1 - Too big a scale and spread of the tri's and you can have issues where a geom plops below the surface.<br><br>2 - Major reactions to friction if to bouncy, lots of slippage and odd results.  Espically strong edges at higher velocities..;)<br><br>Just wasn't sure if it was a written by-law of ODE lol.... <br><br></td></tr></table><br>
<a name="587518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> The new update will have a new surface contact option and a bug fix for the sphere mass functions. Most of the demos will also be tweaked slightly due to the new sphere mass fix.<br><br>You need to experiment a little more Topknot, the detailed collision demos show you everything you need to know when detecting whether you're colliding with a plane or TriMesh. All you need to do is add the TriMesh identifier to the collision checking. You shouldn't need to use Blitz collisions as the JV-ODE detailed collision functions will work fine there ;) <br><br></td></tr></table><br>
<a name="587552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just paid for it earlier today ;-)<br><br>Haven't had the chance to mess with it much (outside the demos), but it looks really promising!<br><br>Keep up the good work there guys, you have a loyal supporter here :-) <br><br></td></tr></table><br>
<a name="587597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Post some code Shifty and I'll be glad to help. <br><br></td></tr></table><br>
<a name="587611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was warming to that path of the Force VIP3R...;)<br><br>I know use "Newer" peeps can be frustrating lol but hey ya learn by hours of expermenting.  But since you brought that up.<br><br>If I wanted to leave tire track marks on the mesh surface, should I:<br><br>1 - Use a simple Linepick from the two rear tire dummy objects and lay sprites down..(althou now I got a slew of issues with alignment and correct orentation.<br><br>2 - Is there a way to use the geom's or such to pinpoint the spots under the tires to use for feeding values to a sprite function.<br><br>3 - Or is there some simple solution I'm not aware of, all thought welcomed.<br><br>@Dark Half:  Good move, you won't be dissapointed once you can get your head around the whole ODE setup and workings.<br><br>@KuRiX:  You mentioned in a past post you use Gile[s]..Is this a world mapping style program that;s not a mile high learnnig curve to use, and can you generate world style areas, ie Road tracks and inclusive environments instead of me 3dMax'in my guts out with building.?  I assume the b3d exporting lets one use it with the ODE mix.  Or whatabout "3D World Studio ".<br><br>Also VIP3R, this PacerMaker, is it using your ODE stuff and is it a good tool for intergrating game aspects to mix well with the JV-ODE.?<br><br>I want to spend some money and not sure which to invest in.<br><br>Thanks ;) <br><br></td></tr></table><br>
<a name="587645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, I'm not sure what the best method for adding tyre tracks is to be honest. I've seen a few related threads in the Blitz3D Programming forums, if you can find them they should give you some good ideas.<br><br>You can get the geom positions of the wheels with dGeomGetPositionX(geom), dGeomGetPositionY(geom) and dGeomGetPositionZ(geom), using this info you can then work out the position of the skidmarks. You can also get the orientation of the wheels using dGeomGetPitch(geom), dGeomGetYaw(geom) and dGeomGetRoll(geom), then using this info you can align the skidmarks with the wheels. I'm not sure which way would be best to align the skidmarks with the road surface though.<br><br>Yep, PaceMaker uses JV-ODE, it's an amazing animation tool. There's a demo you can try here...<br><br>www.goddysey.com <br><br></td></tr></table><br>
<a name="587691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're placing Blitz meshes where the ODE geoms are, you can get all that info using Blitz functions. EntityX/Y/Z() for position etc., and I think Blitz can find a point on a texture map. You can get physics info from the Geoms like rotational velocity. <br><br></td></tr></table><br>
<a name="587709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's an example program for magnetism for people (Wayne!) to have a nose at.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Global WorldERP#=0.8			; ### World Error Correction
Global WorldFriction#=0			; ### World Friction

Global SpaceInfo=0

Global Pointer
Global PlaneGeom
Global magnet.ODEGeom, magnet_on
Const NUM_OBJECTS=20

Type ODEGeom
	Field body
	Field geom
	Field mesh
End Type
Dim clutter.ODEGeom(NUM_OBJECTS)
; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)

Global GroundSpace=dHashSpaceCreate(Space)
Global ObjSpace=dHashSpaceCreate(Space)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,1)
dWorldSetGravity(World,0,-0.98,0)
dWorldSetERP(World,WorldERP)

dContactSetMode(dContactSlip1)
dContactSetMu(WorldFriction)

; ### Create light
Light=CreateLight()
RotateEntity Light,45,-90,0
LightColor Light,255,255,255
AmbientLight 130,130,130

; ### Create camera
pivot=CreatePivot()
Camera=CreateCamera(pivot)
PositionEntity Camera,-0,40,-80
RotateEntity Camera,30,0,0
CameraClsColor Camera,0,0,0
CameraRange Camera,1,1000
CameraZoom camera,2

; ### Create plane
PlaneGeom=dCreatePlane(GroundSpace,0,1,0,0)
Plane=CreatePlane()
EntityAlpha Plane,0.8
PlaneTexture=CreateTexture(128,128,9)
ClsColor 0,200,80
Cls
Color 255,255,255
Rect 0,0,64,64,1
Rect 64,64,64,64,1
CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture Plane,PlaneTexture,0,0

; ### Create some objects
	GRAVITY_ENABLED=True
	SIZE#=2.0
	CYLINDER_RADIUS#=1.7319
	DENSITY#=1.0
	FRICTION#=10.0
	gamma#=0.5

; Change Cube size to match Sphere's volume
SIZE=3
; Ode3 = Cube with density based mass
x#=1.0
y#=5.0
z#=1.0
magnet.ODEGeom=New ODEGeom
	magnet\geom=dCreateBox(Space,x,y,z)
	dGeomSetPosition (magnet\geom,0,2.5,0)
	dGeomContactSetMu(magnet\geom,0.0)
	magnet\mesh=CreateCube()
	ScaleMesh magnet\mesh,x/2,y/2,z/2
	PositionEntity magnet\mesh,0,2.5,0
	EntityColor magnet\mesh,255,0,0
	
SeedRnd MilliSecs() 
For n=1 To NUM_OBJECTS
	clutter(n)=New ODEGeom
;	r=Rand(1,2) ; Random objects
;	r = 1 ; Create all objects as spheres
	r = 2 ; Create all objects as boxes
	x#=Rnd(1,3)
	y#=Rnd(1,3)
	z#=Rnd(1,3)	
	Select r
		Case 1
			clutter(n)\body=dBodyCreate(World)
			clutter(n)\geom=dCreateSphere(Space,x)
			dGeomSetBody(clutter(n)\geom,clutter(n)\body)
			dGeomContactSetMu(clutter(n)\geom,0.0)
			mass=dMassCreate()
				dMassSetSphere(mass,DENSITY,x)
				dBodySetMass(clutter(n)\body,mass)
				dMassDestroy(mass)
			clutter(n)\mesh=CreateSphere()
			ScaleMesh clutter(n)\mesh,x,x,x	
		Case 2
;			x=x*2 :	y=y*2 : 	z=z*2		; Double box sizes
			clutter(n)\body=dBodyCreate(World)
			clutter(n)\geom=dCreateBox(Space,x,y,z)
			dGeomSetBody(clutter(n)\geom,clutter(n)\body)
			dGeomContactSetMu(clutter(n)\geom,0.0)
			mass=dMassCreate()
				dMassSetBox(mass,DENSITY,x,y,z)
				dBodySetMass(clutter(n)\body,mass)
				dMassDestroy(mass)
			clutter(n)\mesh=CreateCube()
			ScaleMesh clutter(n)\mesh,x/2,y/2,z/2	
	End Select
	dBodySetRotation(clutter(n)\body,Rand(-90,90),Rand(-90,90),Rand(-90,90))
	dBodySetPosition(clutter(n)\body,Rand(-20,20),Rand(3,5),Rand(-20,20))

Next

time=0
magnet_on=False
While Not KeyHit(1)

	time=advance_simulation(time)
	If KeyHit(57)
		magnet_on=True
	ElseIf KeyDown(203)
		TurnEntity pivot,0,0.5,0
	ElseIf KeyDown(205)
		TurnEntity pivot,0,-0.5,0
	ElseIf KeyDown(200)
		MoveEntity camera,0,0,1
	ElseIf KeyDown(208)
		MoveEntity camera,0,0,-1
	EndIf
	PointEntity camera,magnet\mesh
	UpdateWorld
	RenderWorld
	
	y=15
	Text 20,y,OBJECT_MASS : y=y+15

	Flip

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End

Function advance_simulation(t%)
	; Advances the simluation, incrementing frame count
	dSpaceCollide(Space,World,ContactGroup)

	;#Region Apply Forces
	objects_stopped=True
	;#End Region
	For n=1 To NUM_OBJECTS
		PositionEntity clutter(n)\mesh,dGeomGetPositionX(clutter(n)\geom),dGeomGetPositionY(clutter(n)\geom),dGeomGetPositionZ(clutter(n)\geom)
		RotateEntity clutter(n)\mesh,dGeomGetPitch(clutter(n)\geom),dGeomGetYaw(clutter(n)\geom),dGeomGetRoll(clutter(n)\geom)
		If magnet_on
			apply_magnetism(magnet,clutter(n))
		EndIf
		
		; Per collision processing
		If dBodyIsEnabled(clutter(n)\body)
			numCollisions=dGeomCountCollisions(clutter(n)\geom)
			If numCollisions&gt;0
				; For each collision, test if with magnet
				For m=1 To numCollisions
					collision_geom=dGeomCollisionGeom(clutter(n)\geom,m)
					If collision_geom=magnet\geom
						; Collided with magnet
						dGeomSetBody(clutter(n)\geom,0)
						EntityColor clutter(n)\mesh,0,0,255
					EndIf						
				Next
			EndIf
			; Limit Linear Velocity...
;			bx#=dBodyGetLinearVelX(clutter(n)\body)
;			by#=dBodyGetLinearVelY(clutter(n)\body)
;			bz#=dBodyGetLinearVelZ(clutter(n)\body)
;			b#=Sqr((bx*bx)+(by*by)+(bz*bz))
;			If b&gt;MAX_SPEED
;				b=MAX_SPEED/b
;				dBodySetLinearVel(temp\body,bx*b,by*b,bz*b)
;			EndIf
		EndIf
	Next

	dWorldQuickStep(World,0.15)
	dJointGroupEmpty(ContactGroup)
	Return t+1
End Function
Function apply_magnetism(magnet.ODEGeom, target.ODEGeom)
	; FUNCTION : Applies a force in direction of fan based on angle to fan
	dBodyGetPosition(target\body)
		x#=dVectorX()
		y#=dVectorY()
		z#=dVectorZ()
	dGeomGetPosition(magnet\geom)
		x#=x-dVectorX()
		y#=y-dVectorY()
		z#=z-dVectorZ()
	; (x,y,z) is direction of force. Need angle and magnitude
		mag#=Sqr(x * x + y * y + z * z)
		magnitude#=mag
		If mag&gt;0
			x = x / mag
			y = y / mag
			z = z / mag
		Else
			x=1.0
			y=0.0
			z=0.0
		EndIf
		magnitude=magnitude*magnitude
	; (x,y,z) = normalized vector
		magnitude#=1.0/(magnitude)
		If magnitude &gt; 0.001
			magnitude=magnitude*1000.0
	
			x=x * magnitude#
			y=y * magnitude#
			z=z * magnitude#

			If magnitude&gt;500
				magnitude=500
				dBodyEnable(target\body)
				dBodyAddForce (target\body,-x,-y,-z)
			Else If magnitude&gt;0.01
				dBodyEnable(target\body)
				dBodyAddForce (target\body,-x,-y,-z)
			EndIf
		EndIf
End Function

</textarea><br>Hit &lt;spcae&gt; to turn on the magnet. Cursor keys let you change view. When an object hits the magnet it's deactivated (geom set to no body) and turned blue.<br><br>This example is all blocks. From line 92 where the objects are created you can select between all blocks, spheres, or a mixture. With blocks and spheres they hit but penetrate a little into the surface. Line 113 has an option to double the size of the blocks. When big they hit the magnet but don't get deactivate, but also don't penetrate.<br><br>Probems to solve are to stop any objhect penetration, and to ensure all objects stick regardless of size.<br><br>An extra feature wouldn't shouldn't be too hard is to have objects get deactivated when they hit any magnetised object.<br><br>The ultimate feature would be to have objects slide around other magnetised objects towards the centre of magnetism.<br><br>Also in the code, but disabled above, is code to limit the object's linear velocity. When using powerful magnets over large distances the acceleration becomes extreme and the objects can just fly through the magnet. In real life wind resistance limits top speed and reduces acceleration as the object gets faster. Not sure how to emulate this is ODE. I'm not after a full air dynamic model, but to limit top speed . In the above example I've capped the maximum force applied by the magnet which seem fairly realistic in results. <br><br></td></tr></table><br>
<a name="587716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Giles is basically a lightmapper. It is for creating very realistic and easy lightmaps. As world editor is not as powerful as others...<br><br>The very big advantage with giles is that you can lightmap multiple objects with just one lightmap! <br><br></td></tr></table><br>
<a name="587719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, real nice magnetism example Shifty! :) <br><br></td></tr></table><br>
<a name="587745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ewww I feel all "sticky" hee hee.<br><br>neat example.  Changed it a bit to turn the maggy on and off to sling object around ;)<br><br>VIP3R, the PaceMaker, is it mainly for Raggy dolls, or could you set up any ODE style objects, ie cars, cranes, stuff like that?<br><br>Any everyone, any good suggestions of a solid World Editor to purchase, trying them out but with Demo's you get no ability to save or export and test the playability.<br><br>Topknot ;) <br><br></td></tr></table><br>
<a name="587760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> To build any kode style object you can purchase mine:<br><br>KODE (visual ode editor with exporter and wrapper).<br><br>but it is not really powerful as world editor.<br><br>Check the toolbox to see if any world editor fit your needs... <br><br></td></tr></table><br>
<a name="587767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> VIP3R : I've changed the magnetism function a bit to check collisions with magnetised objects. I'm showing level of magnetism by turning the objects blue. If the magnet is surrounded by magnetised (blue) objects, other objects hitting those blue objects also become magnetised and turn blue.<br><br>I cycle through each of the collisions and for each collision geom, cycle through the array of objects to find that object with a matching geom.<br><br>Only it doesn't work, and I can't find why.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Global WorldERP#=0.1			; ### World Error Correction
Global WorldFriction#=0			; ### World Friction

Global SpaceInfo=0

Global Pointer
Global PlaneGeom
Global magnet.ODEGeom, magnet_on
Const NUM_OBJECTS=12

Type ODEGeom
	Field body
	Field geom
	Field mesh
	Field magnetised
End Type
Dim clutter.ODEGeom(NUM_OBJECTS)
; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)

Global GroundSpace=dHashSpaceCreate(Space)
Global ObjSpace=dHashSpaceCreate(Space)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,1)
dWorldSetGravity(World,0,-0.0,0)
dWorldSetERP(World,WorldERP)

dContactSetMode(dContactSlip1)
dContactSetMu(WorldFriction)

; ### Create light
Light=CreateLight()
RotateEntity Light,45,-90,0
LightColor Light,255,255,255
AmbientLight 130,130,130

; ### Create camera
pivot=CreatePivot()
Camera=CreateCamera(pivot)
PositionEntity Camera,-0,40,-80
RotateEntity Camera,30,0,0
CameraClsColor Camera,0,0,0
CameraRange Camera,1,1000
CameraZoom camera,2

; ### Create plane
PlaneGeom=dCreatePlane(GroundSpace,0,1,0,0)
Plane=CreatePlane()
EntityAlpha Plane,0.8
PlaneTexture=CreateTexture(128,128,9)
ClsColor 0,200,80
Cls
Color 255,255,255
Rect 0,0,64,64,1
Rect 64,64,64,64,1
CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture Plane,PlaneTexture,0,0

; ### Create some objects
	GRAVITY_ENABLED=True
	SIZE#=2.0
	CYLINDER_RADIUS#=1.7319
	DENSITY#=1.0
	FRICTION#=10.0
	gamma#=0.5

; Change Cube size to match Sphere's volume
x#=3.0
y#=5.0
z#=3.0
magnet.ODEGeom=New ODEGeom
	magnet\geom=dCreateBox(Space,x,y,z)
	dGeomSetPosition (magnet\geom,0,2.5,0)
	dGeomContactSetMu(magnet\geom,0.0)
	magnet\mesh=CreateCube()
	ScaleMesh magnet\mesh,x/2,y/2,z/2
	PositionEntity magnet\mesh,0,2.5,0
	EntityColor magnet\mesh,255,0,0
	magnet\magnetised=1
;	dGeomContactSetSoftCFM(magnet\geom,0.001)
	
SeedRnd MilliSecs() 
For n=1 To NUM_OBJECTS
	clutter(n)=New ODEGeom
;	r=Rand(1,2) ; Random objects
;	r = 1 ; Create all objects as spheres
	r = 2 ; Create all objects as boxes
	x#=Rnd(1,3)
	y#=Rnd(1,3)
	z#=Rnd(1,3)	
	Select r
		Case 1
			clutter(n)\body=dBodyCreate(World)
			clutter(n)\geom=dCreateSphere(Space,x)
			dGeomSetBody(clutter(n)\geom,clutter(n)\body)
			dGeomContactSetMu(clutter(n)\geom,0.0)
			mass=dMassCreate()
				dMassSetSphere(mass,DENSITY,x)
				dBodySetMass(clutter(n)\body,mass)
				dMassDestroy(mass)
			clutter(n)\mesh=CreateSphere()
			ScaleMesh clutter(n)\mesh,x,x,x	
		Case 2
;			x=x*2 :	y=y*2 : 	z=z*2		; Double box sizes
			clutter(n)\body=dBodyCreate(World)
			clutter(n)\geom=dCreateBox(Space,x,y,z)
			dGeomSetBody(clutter(n)\geom,clutter(n)\body)
			dGeomContactSetMu(clutter(n)\geom,0.0)
			mass=dMassCreate()
				dMassSetBox(mass,DENSITY,x,y,z)
				dBodySetMass(clutter(n)\body,mass)
				dMassDestroy(mass)
			clutter(n)\mesh=CreateCube()
			ScaleMesh clutter(n)\mesh,x/2,y/2,z/2	
	End Select
	dBodySetRotation(clutter(n)\body,Rand(-90,90),Rand(-90,90),Rand(-90,90))
	dBodySetPosition(clutter(n)\body,Rand(-30,30),Rand(3,5),Rand(-30,30))
	EntityColor clutter(n)\mesh,255,255-((n-1)*(255/NUM_OBJECTS)),255-(n*(255/NUM_OBJECTS))
Next

time=0
magnet_on=False
While Not KeyHit(1)

	time=advance_simulation(time)
	If KeyHit(57)
		magnet_on=True
	ElseIf KeyDown(203)
		TurnEntity pivot,0,0.5,0
	ElseIf KeyDown(205)
		TurnEntity pivot,0,-0.5,0
	EndIf
	If KeyDown(200)
		MoveEntity camera,0,0,1
	ElseIf KeyDown(208)
		MoveEntity camera,0,0,-1
	EndIf
	PointEntity camera,magnet\mesh
	UpdateWorld
	RenderWorld
	
	y=15
	Text 20,y,clutter(1)\magnetised : y=y+15
	Text 20,y,clutter(2)\magnetised : y=y+15
	Text 20,y,clutter(3)\magnetised : y=y+15
	Text 20,y,clutter(4)\magnetised : y=y+15
	Text 20,y,clutter(5)\magnetised : y=y+15
	Text 20,y,clutter(6)\magnetised : y=y+15
	Text 20,y,clutter(7)\magnetised : y=y+15
	Text 20,y,clutter(8)\magnetised : y=y+15
	Text 20,y,clutter(9)\magnetised : y=y+15
	Text 20,y,clutter(10)\magnetised : y=y+15
	Text 20,y,clutter(11)\magnetised : y=y+15
	Text 20,y,clutter(12)\magnetised : y=y+15

	Flip

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End

Function advance_simulation(t%)
	; Advances the simluation, incrementing frame count
	dSpaceCollide(Space,World,ContactGroup)

	;#Region Apply Forces
	objects_stopped=True
	;#End Region
	For n=1 To NUM_OBJECTS
		PositionEntity clutter(n)\mesh,dGeomGetPositionX(clutter(n)\geom),dGeomGetPositionY(clutter(n)\geom),dGeomGetPositionZ(clutter(n)\geom)
		RotateEntity clutter(n)\mesh,dGeomGetPitch(clutter(n)\geom),dGeomGetYaw(clutter(n)\geom),dGeomGetRoll(clutter(n)\geom)
		If magnet_on
			apply_magnetism(magnet,clutter(n))
		EndIf
		
		; Per collision processing
		If dBodyIsEnabled(clutter(n)\body)
			numCollisions=dGeomCountCollisions(clutter(n)\geom)
			If numCollisions&gt;0
				; For each collision, test if with magnet
				For m=1 To numCollisions
					collision_geom=dGeomCollisionGeom(clutter(n)\geom,m)
					; Get object that is parent to collision geom
					o = 0
					Repeat
						o=o+1
						If o&gt;NUM_OBJECTS
							Exit
						EndIf
						If clutter(o)\geom = collision_geom
							Exit
						EndIf
					Forever

					If clutter(n)\magnetised=1
						dGeomContactSetMu(clutter(n)\geom,10000)
						dGeomContactSetBounceVel(clutter(n)\geom,0)
					Else If clutter(n)\magnetised=50
						dGeomSetBody(clutter(n)\geom,0)
					EndIf
					If collision_geom=magnet\geom
						; Collided with magnetic object
						EntityColor clutter(n)\mesh,255-(clutter(n)\magnetised*5),255-(clutter(n)\magnetised*5),255
						clutter(n)\magnetised=clutter(n)\magnetised+1
					Else If o&lt;NUM_OBJECTS
						If clutter(o)\magnetised&gt;0
							clutter(n)\magnetised=clutter(n)\magnetised+1
						EndIf
					EndIf
				Next
			EndIf
			; Limit Linear Velocity...
;			bx#=dBodyGetLinearVelX(clutter(n)\body)
;			by#=dBodyGetLinearVelY(clutter(n)\body)
;			bz#=dBodyGetLinearVelZ(clutter(n)\body)
;			b#=Sqr((bx*bx)+(by*by)+(bz*bz))
;			If b&gt;MAX_SPEED
;				b=MAX_SPEED/b
;				dBodySetLinearVel(temp\body,bx*b,by*b,bz*b)
;			EndIf
		EndIf
	Next

	dWorldQuickStep(World,0.15)
	dJointGroupEmpty(ContactGroup)
	Return t+1
End Function
Function apply_magnetism(magnet.ODEGeom, target.ODEGeom)
	; FUNCTION : Applies a force in direction of fan based on angle to fan
	dBodyGetPosition(target\body)
		x#=dVectorX()
		y#=dVectorY()
		z#=dVectorZ()
	dGeomGetPosition(magnet\geom)
		x#=x-dVectorX()
		y#=y-dVectorY()
		z#=z-dVectorZ()
	; (x,y,z) is direction of force. Need angle and magnitude
		mag#=Sqr(x * x + y * y + z * z)
		magnitude#=mag
		If mag&gt;0
			x = x / mag
			y = y / mag
			z = z / mag
		Else
			x=1.0
			y=0.0
			z=0.0
		EndIf
		magnitude=magnitude*magnitude
	; (x,y,z) = normalized vector
		magnitude#=1.0/(magnitude)
		If magnitude &gt; 0.001
			magnitude=magnitude*1000.0
;			magnitude=magnitude/(target\magnetised+1)
			x=x * magnitude#
			y=y * magnitude#
			z=z * magnitude#

;			If magnitude&gt;500
;				magnitude=500
;				dBodyEnable(target\body)
;				dBodyAddForce (target\body,-x,-y,-z)
			If magnitude&gt;0.01
				dBodyEnable(target\body)
				dBodyAddForce (target\body,-x,-y,-z)
			EndIf
		EndIf
End Function
</textarea> <br><br></td></tr></table><br>
<a name="587783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> [edit] Removed incorrect collision detection info <br><br></td></tr></table><br>
<a name="587798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Won't counting collisions count all the clutter to clutter collisions though, as long as their in the parent space (which they are)? The only object in a subspace is the floor which I don't want to check for anyway. <br><br></td></tr></table><br>
<a name="587806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't work like that unfortunately :/<br><br>[edit] Removed incorrect collision priority info<br><br>The standard collision functions are filled by the collision data of geom1 and the sub-collision functions are filled by the collision data of geom2. So when they switch and geom2 takes priority, no data gets passed to the standard collision functions. <br><br></td></tr></table><br>
<a name="587814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I use dSubGeom... nothing happens to any of the objects. None of them turn blue. If I duplicate the tests and apply it to both normal and sub spaces it's no different to not using the Sub functions.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function advance_simulation(t%)
	; Advances the simluation, incrementing frame count
	dSpaceCollide(Space,World,ContactGroup)

	;#Region Apply Forces
	objects_stopped=True
	;#End Region
	For n=1 To NUM_OBJECTS
		PositionEntity clutter(n)\mesh,dGeomGetPositionX(clutter(n)\geom),dGeomGetPositionY(clutter(n)\geom),dGeomGetPositionZ(clutter(n)\geom)
		RotateEntity clutter(n)\mesh,dGeomGetPitch(clutter(n)\geom),dGeomGetYaw(clutter(n)\geom),dGeomGetRoll(clutter(n)\geom)
		If magnet_on
			apply_magnetism(magnet,clutter(n))
		EndIf
		
		; Per collision processing
		If dBodyIsEnabled(clutter(n)\body)
			numCollisions=dGeomCountCollisions(clutter(n)\geom)
			If numCollisions&gt;0
				; For each collision, test if with magnet
				For m=1 To numCollisions
					collision_geom=dGeomCollisionGeom(clutter(n)\geom,m)
					; Get object that is parent to collision geom
					o = 0
					Repeat
						o=o+1
						If o&gt;NUM_OBJECTS
							Exit
						EndIf
						If clutter(o)\geom = collision_geom
							Exit
						EndIf
					Forever

					If clutter(n)\magnetised=1
						dGeomContactSetMu(clutter(n)\geom,10000)
						dGeomContactSetBounceVel(clutter(n)\geom,0)
					Else If clutter(n)\magnetised=50
						dGeomSetBody(clutter(n)\geom,0)
					EndIf
					If collision_geom=magnet\geom
						; Collided with magnetic object
						EntityColor clutter(n)\mesh,255-(clutter(n)\magnetised*5),255-(clutter(n)\magnetised*5),255
						clutter(n)\magnetised=clutter(n)\magnetised+1
					Else If o&lt;NUM_OBJECTS
						If clutter(o)\magnetised&gt;0
							clutter(n)\magnetised=clutter(n)\magnetised+1
						EndIf
					EndIf
				Next
			EndIf
			; Limit Linear Velocity...
;			bx#=dBodyGetLinearVelX(clutter(n)\body)
;			by#=dBodyGetLinearVelY(clutter(n)\body)
;			bz#=dBodyGetLinearVelZ(clutter(n)\body)
;			b#=Sqr((bx*bx)+(by*by)+(bz*bz))
;			If b&gt;MAX_SPEED
;				b=MAX_SPEED/b
;				dBodySetLinearVel(temp\body,bx*b,by*b,bz*b)
;			EndIf
			numCollisions=dSubGeomCountCollisions(clutter(n)\geom)
			If numCollisions&gt;0
				; For each collision, test if with magnet
				For m=1 To numCollisions
					collision_geom=dSubGeomCollisionGeom(clutter(n)\geom,m)
					; Get object that is parent to collision geom
					o = 0
					Repeat
						o=o+1
						If o&gt;NUM_OBJECTS
							Exit
						EndIf
						If clutter(o)\geom = collision_geom
							Exit
						EndIf
					Forever

					If clutter(n)\magnetised=1
						dGeomContactSetMu(clutter(n)\geom,10000)
						dGeomContactSetBounceVel(clutter(n)\geom,0)
					Else If clutter(n)\magnetised=50
						dGeomSetBody(clutter(n)\geom,0)
					EndIf
					If collision_geom=magnet\geom
						; Collided with magnetic object
						EntityColor clutter(n)\mesh,255-(clutter(n)\magnetised*5),255-(clutter(n)\magnetised*5),255
						clutter(n)\magnetised=clutter(n)\magnetised+1
					Else If o&lt;NUM_OBJECTS
						If clutter(o)\magnetised&gt;0
							clutter(n)\magnetised=clutter(n)\magnetised+1
						EndIf
					EndIf
				Next
			EndIf
		EndIf
	Next

	dWorldQuickStep(World,0.15)
	dJointGroupEmpty(ContactGroup)
	Return t+1
End Function</textarea>I vaguely understand what you're saying, but I don't understand to code for it!<br><br>I also removed the second Space. With everything running in only space it still doesn't work :( <br><br></td></tr></table><br>
<a name="587834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, it can't be that then.<br><br>I'm trying to understand the logic, but I'm a little confused. You only seem to be checking for a collision with 'magnet\geom', so where are you checking for the collision with non-magnets (other boxes)? <br><br></td></tr></table><br>
<a name="587854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> In psuedo-code<br><br><pre class=code>
For n = each clutter object index
  Count collisions
  For each collision
    collision_geom=object collided with
    For o = each clutter object index
      test if clutter(o)\geom=collision_geom
    
      At this point o is a reference to the Array index that holds
      the ODEGeom object whose \geom matches Collision_geom. n is the current ODEGeom object.

    Stop magnetised objects
    IF collision_object is the magnet
      apply the magnetism, turn clutter(n)\mesh blue
    ELSE
      We've hit another clutter object. If this clutter(o) object is magnetised,  magnetise clutter(n)</pre><br><br>That's what this bit of the advance_simulation function is supposed to be doing...<br><pre class=code>
; Per collision processing
If dBodyIsEnabled(clutter(n)\body)
numCollisions=dGeomCountCollisions(clutter(n)\geom)
If numCollisions&gt;0
  ; For each collision, test if with magnet
  For m=1 To numCollisions
    collision_geom=dGeomCollisionGeom(clutter(n)\geom,m)
    ; Get object that is parent to collision geom
    o = 0
    Repeat
      o=o+1
      If o&gt;NUM_OBJECTS
        Exit
      EndIf
      If clutter(o)\geom = collision_geom
        Exit
      EndIf
    Forever

    ... deactivation code...

    If collision_geom=magnet\geom
      ; Collided with magnetic object
      EntityColor clutter(n)\mesh,255-(clutter(n)\magnetised*5),255-(clutter(n)\magnetised*5),255
      clutter(n)\magnetised=clutter(n)\magnetised+1
    Else If o&lt;NUM_OBJECTS
      If clutter(o)\magnetised&gt;0
        clutter(n)\magnetised=clutter(n)\magnetised+1
      EndIf
    EndIf
  Next
EndIf</pre><br>This doesn't look like an ideal solution. It tests every collision, but really I only need test if object 1 has collided with object 2 once. I ran it with only two objects and got I think 20 collisions of a flat box against box.<br><br>Another example would be wanting to play a sound based on the different properties of the colliding objects. Say we've got a field Volume in our ODE_object type, along with mesh, body and geom fields. How would you write a routine to play a sound for each collision at an average of the volume field of the two objects, being sure to only play one sample for a collision even if there's lot of contact joints for two touching objects? <br><br></td></tr></table><br>
<a name="587864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, are you trying to fathom why the outer objects (which don't touch the magnet) don't turn blue? Because that's what I thought you were trying to figure out.<br><br>About the sound, do you mean play it every time step? <br><br></td></tr></table><br>
<a name="587912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but it's the same problem. I want them to turn blue. They turn blue when their magnetism parameter increases in value. Every time they hit another object that has a magnetism parameter greater than zero, their own magnetism value goes up. The reason they're not turning blue is because when they hit another blue object, I'm failing to read it's magnetism parameter.<br><br>If we ignore my specific problem and current solution that might be really bad, let's try a more general problem, let's try the sound one. For a test for each frame, each time step, what would be the code to achieve the following...<br><br>Type ODE_Object<br>Field mesh<br>Field geom<br>Field body<br>Field volume<br>End Type<br><br>Dim objects(20).ODE_Object<br><br>Populate our array with 20 objects and have them move randomly around. For each time step :<br><br>For each object, objects(n)<br>Find the geom it has collided with<br>Find the ODE_object in the array with this geom, objects(m)<br>Play a sound at the volume of object(n)\volume+objects(m)\volume / 2<br><br>If this is working, it's not difficult to change it to different responses like objects(n)\volume=objects(m)\volume, or IF objects(m)\volume&gt;5 THEN object(n)\volume=2, and from this working I can make the objects turn blue or magnetic or bouncy or whatever. <br><br></td></tr></table><br>
<a name="587981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol, Shifty I was just making sure I'd understood what you were looking for ;)<br><br>I've found the problem (again) :P<br><br>Replace this section of code...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
If clutter(n)\magnetised=1
	dGeomContactSetMu(clutter(n)\geom,10000)
	dGeomContactSetBounceVel(clutter(n)\geom,0)
Else If clutter(n)\magnetised=50
	;dGeomSetBody(clutter(n)\geom,0) *****
EndIf
If collision_geom=magnet\geom
	; Collided with magnetic object
	EntityColor clutter(n)\mesh,255-(clutter(n)\magnetised*5),255-(clutter(n)\magnetised*5),255
	clutter(n)\magnetised=clutter(n)\magnetised+1
Else If o&lt;NUM_OBJECTS
	If clutter(o)\magnetised&gt;0
		EntityColor clutter(n)\mesh,255-(clutter(n)\magnetised*5),255-(clutter(n)\magnetised*5),255 ; *****
		clutter(n)\magnetised=clutter(n)\magnetised+1
	EndIf
EndIf
</textarea><br>I've labelled the edits with '*****'. All I've done is comment out the 'geomsetbody to zero' line. Also, I've added another entity colour function to make the boxes that don't touch the magnet turn blue, how is the first one going to make them turn blue when it only detects the MAGNET collisions? This is what I was trying to work out earlier.<br><br>The 'geomsetbody to zero' prevents the collisions from working, hence no detection and no magnetism increase. That's your problem right there. <br><br></td></tr></table><br>
<a name="587991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah. So it was working, just I wasn't actually including a line to turn it blue.<br><br><br><br><br><br><br>Oops :D <br><br></td></tr></table><br>
<a name="587993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grrr :) <br><br></td></tr></table><br>
<a name="588107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, after a fair bit of looking I'm still confused! I couldn't get it working right, until I added both dGeomCountCollisions() and dSubGeomCountCollisions() etc. But I'm only using one space.<br><br>It seems as though to test for collisions you have to ALWAYS use both the normal functions and the Sub functions. Is this right, and if so, why? Does ODE create subspace fields (and inverse Tachyon pulses while we're talking StarTrekese) for some collisions? <br><br></td></tr></table><br>
<a name="588149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shifty,  The CarDemo DetailedC seems to only use one Space and yet register full collisions with both the Plane, ramp, and all the other objects being assigned to space (Space)<br><br>Althou the contact with the sphere's and cylinders is quick is does register hits, and it's just using the dGeomCountCollisions routine. <br><br></td></tr></table><br>
<a name="588162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Though it is working differently. It's only reading the first collision fo rthe car and wheels. It's not checking every collision between every object. Dunno how much difference that mkaes, or what that is particularly. It seems to me that with multiple collisions between multiple objects dSubGeom...() works where dGeom...() doesn't. Unless I'm still doing things wrong! <br><br></td></tr></table><br>
<a name="588332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, I'll look into to this because I can't stand having two sets of collision detection functions. I'm going to see if there's a way of incorporating them all into the one set instead. I did try this before, but couldn't seem to get it to work properly. <br><br></td></tr></table><br>
<a name="588439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Shifty: Ok, I've spent many hours looking into this problem. It was really difficult to work out because the ODE docs etc provide very little info on this (or none whatsoever), which just makes it even more confusing.<br><br>But, I have finally found how ODE 'prioritises' the geom order when creating the contact joints and filling the detailed collision data. It's actually calculated by geom/space bounding box SIZE. Also, it applies to single spaces too!<br><br>Here's an example of the situation with a single OR multiple space...<br><br>In the Car Demo, the car body is smaller than the static Blue Block. If you collide the car body with the Blue Block, the collision data is detected by the standard collision functions for CGeom (car body), as seen in the detailed collision demo.<br><br>Now, if you get the collision data for the Blue Block during the same collision, because the Blue Block is larger than the car body, it fills the data into the SUB collision functions and not the standard set.<br><br>To put it in a nutshell, when two geoms collide (in single OR multiple spaces)...<br><br>The standard collision functions are filled using the data from the smallest geom of the two.<br><br>The SUB collision functions are filled using the data from the largest geom of the two.<br><br><br>This leaves us with two problems...<br><br>1) We can't use a single set of collision functions, meaning both sets of collision functions must be used in both single AND multiple spaces. If you omit either, you will not retrieve all of the available info. I'm going to have to figure out a clean way of processing the collision data using both sets.<br><br>2) The detailed collision function names are misleading and will need to be changed. I would recommend something like the following...<br><br>dGeom1CountCollisions(geom) replacing dGeomCountCollisions(geom)<br><br>dGeom2CountCollisions(geom) replacing dSubGeomCountCollisions(geom)<br><br>...and so on for each detailed collision function.<br><br>Any thoughts or suggestions welcomed :) <br><br></td></tr></table><br>
<a name="588562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> What a crazy way to deal with collisions!! Why seperate them into big&lt;&gt;small and small&lt;&gt;big? That seems a very arbitary and pointless distinction. Why didn't they just group all collisions geom1&lt;&gt;geom 2 and be done with it?<br><br>Still, now we know we can work with it. Thanks for you time working this out. I'm okay with your 1 and 2 naming system as they're each 1 of 2 steps that need to be made. <br><br></td></tr></table><br>
<a name="588638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> After thinking about it, I suppose it makes sense to do it that way. It looks like ODE processes the largest object collisions first, then processes the smaller objects. I guess it would be much faster to do it that way, so I can understand why they do it.<br><br>A JV-ODE user has identified a memory leak when using ccylinders and TriMeshes which could potentially be serious. I've managed to find the problem and it looks quite easy to avoid. I'll finish off the testing to make sure and post my findings later. <br><br></td></tr></table><br>
<a name="588724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any idea when abouts 1.08 will be released? <br><br></td></tr></table><br>
<a name="588749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm aiming for 08 Nov, but if I run into any snags it may get pushed back a bit. There's quite a bit of work to do on the dll (including testing), the function ref will need updating and most of the demos need tweaking. The detailed collision demo will probably need a total rebuild too.<br><br>The memory leak mentioned earlier looks like it's caused by any ccylinders being created (or falling through and getting trapped) beneath a TriMesh. If you're suffering memory leaks with ccylinders and TriMeshes, check to make sure none are stuck/created underneath your TriMesh. <br><br></td></tr></table><br>
<a name="588884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking forward for the update.<br><br>On another note, been reading alot lately trying to get knowledgable with building up for working with cars etc..<br><br>One thing I notice in anothers project was that they seem to be taking into there car physics alot more variables from the ODE:<br><pre class=code>
SetSoftCFM(cfm#)
SetMotion1(motion#)
SetMotion2(motion#)
SetSlip1(slip#)
SetSlip2(slip#)
</pre><br>Just to name a few.  So in assuming there is alot more that can be "plugged" in to assist the simulation along, but the answer is which and in what manner best.  So is there any links or docs or standards for car coding..?<br><br>So far my values greatly outmatch the cardemo's and the (i assume) need to have gravity at -0.98 is not happening due to everything just turning into a hyper Moon Buggy drive from Never Never Land. ;)<br><br>Now I'm not sure if this or if ODE has a relation to actual MESH deisgn as in SIZE.  I am working on an almost 1:1 scale, in Blitz I don't have to do a single <i>scalemesh</i> call due to modeling the different object to eachother.  Of course I then have to wonder if using a certain scaling does have an influnence on the ODE's workings.<br><br>Any ideas on this or it's a non-issue?<br><br>Topknot ;)<br><br>OHHH P.S.  I got a little function finally tweaked to lay down sidemarks on the mesh aligned to it's vectors but be it from me to figure out yet how to limit the placement, i.e. If you power brake and smoke the rear tires then you could end up laying 100's of sprites all in one spot until the life# values cycles thru the types to delete them. <br><br>Also any ideas on how to align the sprite, it's a rectangle to match to turning direction of the wheel?  <br><br>L8r'z ;) <br><br></td></tr></table><br>
<a name="589069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Real Earth gravity is closer to -9.8 which you can use if you like. You should divide your mass values by 10 and alter your time step value if you change the gravity to this value though. The reason -0.98 is used, is that it provides a more stable (less jittery) simulation. It has nothing to do with scale and everything to do with mass.<br><br>I've already told you the functions needed to align the skidmark sprites with the wheels...<br><br>dGeomGetPitch#(geom) dGeomGetYaw#(geom) dGeomGetRoll#(geom)<br><br>...or you can use the equivalent blitz entity commands on the visible geoms ;) <br><br></td></tr></table><br>
<a name="589102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use the Blitz command you can post in the main forum and probably get a lot more experience on the matter. Probably a lot more people out there having already done drawing to texture in their projects who don't use ODE and won't see your question here. <br><br></td></tr></table><br>
<a name="589442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Been Testing many ways to get a nice huge tack style object in and:<br><br>1 - If I load as "LoadMesh" then it creates the trimesh fine.<br>2 - If I load as "LoadAnimMesh" to keep the clusterizing in place and keep the poly count very trimmed, it loads but the trimesh fails to produce.<br><br>I know it's probably not possible to use Option #2, but then it sounds like I'm stuck filling the screen with tons of undeeded tri's to render when it's actually behind the player's FOV.<br><br>not sure if this makes sense what I'm asking but just seeing if ODE it limited to single mesh types or can I expand on it.<br><br>BTW thanks for "reminding" me again VIP3R..;)<br>Just so you don't think of me as a complete pain in the ass here's how I used it.!<br><pre class=code>
; ###################################################################################################
; #                    Place Fake Car Shadow on Terrain Mesh
; ##################################################################################################


Function PositionShadows()

		FIndGround = LinePick( EntityX(Cmesh,1), EntityY(Cmesh,1), EntityZ(Cmesh,1),0,-200,0)
		
		AlignToVector  shadow, PickedNX(), PickedNY(), PickedNZ(),1,1
		AlignToVector  shadow,-PickedNX(),-PickedNY(),-PickedNZ(),3,1

		PositionEntity shadow,PickedX(),PickedY()+.1,PickedZ()
		RotateEntity   shadow,90,dGeomGetYaw(CGeom),0
	
End Function
</pre> <br><br></td></tr></table><br>
<a name="589544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could create a TriMesh for each frame of the anim mesh and tile them as needed. I don't think the tri's outside of the FOV would be rendered.<br><br>Work on the V1.08 update is coming along nicely, I need to finish off the testing and it should be ready for release very soon ;) <br><br></td></tr></table><br>
<a name="589554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yea that is my goal (not to render the tri's outta FOV).  And only using AnimMesh to load a clusterized mesh that's broken into chunks.<br><br>Excellent news on the update...Thanks for your time in doing it ;) <br><br></td></tr></table><br>
<a name="589713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>JV-ODE Version 1.08 Released</b><br><br>Please check your inbox :)<br><br><b>IMPORTANT:</b><br>It has been necessary to make some changes to JV-ODE that -may- affect your projects. If your project uses either the mass functions or the detailed collision functions, you should read the following notes to see whether you need to make any adjustments to your code.<br><br><br><b>Mass Setup Changes</b><br><br>Firstly, it has been wrongly assumed (mainly thanks to the sparse ODE docs) that <b>both</b> the dMassSet****() and dMassSet****Total() functions are needed to setup the mass on an ode rigid body. In actual fact only one of these functions is needed to set the mass based on either the density <b>or</b> total mass.<br><br>How to correct your code:<br><br>If your code was using both mass functions as follows...<br><br><i>dMassSet****(mass,density,x,y,z) &lt;- REMOVE<br>dMassSet****Total(mass,totalmass,x,y,z)</i><br><br>Or...<br><br><i>dMassSet****Total(mass,totalmass,x,y,z) &lt;-REMOVE<br>dMassSet****(mass,density,x,y,z)</i><br><br>...to keep your existing physics setup without disturbing your mass settings, simply remove the first mass set function, as the first function is cancelled out by the second. This applies to all mass set functions: sphere, box, cylinder and ccylinder.<br><br>A problem has also been identified with the dMassSetSphereTotal() function, which was internally calling the ODE dMassSetSphere() function by mistake.<br><br>How to correct your code:<br><br>As only one of the two functions was actually being called ( dMassSetSphere() ), the simplest way to keep your existing physics setup without disturbing your mass settings, is to use the dMassSetSphere() function <b>only</b>. You do not need to adjust the mass/density value if you do this. Alternatively, if you would prefer to use the dMassSetSphereTotal() function, you will need to adjust the total mass value as follows...<br><br>Old settings:<br><i>dMassSetSphere(mass,10,4)<br>dMassSetSphereTotal(mass,10,4)</i><br><br>New settings:<br><i>dMassSetSphere(mass,10,4)</i> &lt;- Keep existing mass value<br><br><b>Or</b><br><br><i>dMassSetSphereTotal(mass,2680.83,4)</i> &lt;- Requires new mass value<br><br>The new mass value for the dMassSetSphereTotal() function is calculated as follows...<br><br>((4.0/3.0) * Pi * 4*4*4 * 10) = 2680.83<br><br>NewMassValue=((4.0/3.0) * Pi * radius*radius*radius * OldMassValue)<br><br>Many thanks to Shifty Geezer and Wayne for their help with this issue :)<br><br><br><b>Detailed Collision Changes</b><br><br>It had been previously thought that only the standard set of detailed collision functions would be needed in single space simulations and both sets for multiple space simulations. However it has been discovered that  both sets are needed for <b>both</b> single and multiple space simulations. Due to this, the detailed collision functions have been renamed as their current names were misleading.<br><br>The detailed collision functions are now renamed as follows...<br><br>dGeom1CountCollisions(geom) replaces dGeomCountCollisions(geom)<br><br>dGeom2CountCollisions(geom) replaces dSubGeomCountCollisions(geom)<br><br>...and so on for each detailed collision function.<br><br>All of the changes have been updated in the JV-ODE Function Reference.<br><br>How to correct your code:<br><br>Just replace the old function names in your code with the new ones, their functionality remains the same. Please note that if you're only using the standard set of functions in your single space simulations, you may need to add the second set of functions to retrieve all possible collision data. Generally the dGeom1* functions will return data from collisions with larger objects, and the dGeom2* functions will return data from collisions with smaller objects.<br><br>The 'CarDemo-DetailedC.bb' demo has been completely rebuilt with both sets of the new detailed collision functions to show this. It also has a much cleaner collision processing function than the previous demo.<br><br>Thanks again to Shifty Geezer for highlighting this problem :)<br><br><br><b>Other Stuff</b><br><br>A new contact surface mode has been added to the dSetInternalContactSurfaceMode(mode) function. The new mode allows JV-ODE to use the minimum surface properties only during a collision. More info is available in the JV-ODE Function Reference.<br><br>A new demo 'CarDemo-TriMesh-X4.bb' has been added to show multiple TriMesh use with the dSetInternalSpaceCollideMode(mode) function.<br><br><br><b>Remember</b> to update <b>all</b> of your existing JV-ODE files, including the demos, media, docs, 'JV-ODE.dll', 'JV-ODE.bb' and 'JV-ODE.decls' files. Many tweaks and changes have been made for this update, so some of the older files may not work as expected.<br><br>Thanks everyone :) <br><br></td></tr></table><br>
<a name="589724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Judd</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the update, and all your efforts.<br>Much appreciated.<br><br>Funky Frank <br><br></td></tr></table><br>
<a name="589867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many thanks VIP3R. Delivered on time and under budget - a rarity for software developments! My fans are working sensibly with spheres now. I'll look at my friction functions and rejig them to work with spheres properly now.<br><br>Regards the dSetInternalSpaceCollideMode() function, is there a way to assign this to different collisions and attributes? Like in a collision between a rubber ball and icy floor, use the maximum of Bounce values and minimum of friction values? <br><br></td></tr></table><br>
<a name="589874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks VIP3R,<br><br>Will try the new changes with my existing project.<br><br>BTW, something I came up with that might solve the resetting of the CAR after it either flips or if you just want to use it like a handbrake.<br><br>Replace your "Hit Space" code with this:<br><pre class=code>
	If KeyHit(57) = 1 
		Speed# = 0
		CarYaw   = dGeomGetYaw(CGeom)
		CarPitch  = dGeomGetPitch(CGeom)

		dBodySetRotation (Car,CarPitch,CarYaw,0)
		
	End If
</pre><br><br>In a more normal Gravity world, ie I am using the standard -9.8 in my project so far to good results, it will reposition the car to the last facing directon and kill all forces that the car was under at the time.  also seems to function as a cheap man's handbrake also.<br><br>Topknot ;) <br><br></td></tr></table><br>
<a name="589922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool - updates are always welcome! Now I only need time for programming... :) <br><br></td></tr></table><br>
<a name="589943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks all :)<br><br><div class="quote"> <br>Regards the dSetInternalSpaceCollideMode() function, is there a way to assign this to different collisions and attributes? Like in a collision between a rubber ball and icy floor, use the maximum of Bounce values and minimum of friction values?<br> <br></div><br>It is possible, there would need to be either new functions to set each individually or a flag system. But it would come at a cost - speed. Each of the 10 properties would need to be conditional, adding a lot of overhead to each time step. Btw, you meant the dSetInternalContactSurfaceMode(mode) function ;)<br><br>I'm still a bit confused why the alternative contact modes would be used tbh. In real life, wouldn't the icy floor and rubber ball values be averaged when they collide? It wasn't a problem to add them, but I need to make sure it doesn't affect the quality of the simulation for those that aren't likely to use them.<br><br>Let me know how your testing goes on the new wrapper Shifty :)<br><br>Thanks for the code snippet Topknot :) <br><br></td></tr></table><br>
<a name="589951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure about the numbers of a reallife response, but from personal experience I know<br><br>Rubber bouncyball has high bounce and high friction<br>Ice has low bounce and low friction<br>Bouncyball will bounce on ice when dropped<br>Bouncyball will slip on icy when pushed<br><br>Hence in the contact the bounce is the higher of the two, and the friction is the lower of the two. I don't think an average works out because the material properties aren't just restitution and friction, but hardness features in there somewhere too, and maybe some other properties that I can't think of right now. ODE uses an approximation to cover physics responses without trying to emulate real-world responses, and some of these real-world responses seem t be outside the current scope of ODE.<br><br>As an example situation, there's a slippery plank above the ground that's slightly inclined, and a rubber cube placed at the higher end. With the plank ultra slippery gravity should cause the cube to slide slowly off the end, hit the floor and bounce really high. If the floor is icy too, with little bounce, then the cube won't bounce as high as it should, and if the rubber if really...um...frictionary, the cube won't slide. Off the top off my head a puzzle game like Pushover might find a case of this situation.<br><br>Such features probably won't be used by most people who I imagine don't go to great lengths with material properties but just use basic settings. Perhaps it's something you should get official feedback on to see if it's worth your while including? A performance hit would generally be bad as ODE is fast and we definitely want to keep it that way. Maybe an optional trade-off of performance vs. functionality would be welcomed though? I don't know what other JV-ODE users are after. <br><br></td></tr></table><br>
<a name="589969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pushover? the ant thing from the Amiga days? that was a classic! :)<br><br>If I can add more functionality to the wrapper, I'm all for it. I'll have to give it some thought and do some tests to see how bad the speed hit would be. I think I can still keep the default option at the same speed though, so that it doesn't affect any other users who don't use it. What would you need ideally for each property? mean/min/max or just min/max? Obviously the two would be faster than all three.<br><br>Thinking from another POV, if you had access to these functions, how would you setup each individual object? You would still need to evaluate each object to say whether it uses mean/min/max properties. Wouldn't it be very similar to making 'fake' adjustments to their default surface properties to get the correct response? If you can do it that way, there would be no further speed hit.<br><br>Would you be able to create a very simple demo, showing something like the slippery plank situation you mentioned above? With a few notes describing what you would expect it to do, like the height you expect the bounce to be when the rubber block falls of the plank and hits the floor. That would be a great help :) <br><br></td></tr></table><br>
<a name="589975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> VIP3R, Thank you for many jv-ode Updates. The BlitzSupport can cut a thickness slice of you off. <br><br></td></tr></table><br>
<a name="590284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Thinking from another POV, if you had access to these functions, how would you setup each individual object? You would still need to evaluate each object to say whether it uses mean/min/max properties. Wouldn't it be very similar to making 'fake' adjustments to their default surface properties to get the correct response? If you can do it that way, there would be no further speed hit.<br><br>Would you be able to create a very simple demo, showing something like the slippery plank situation you mentioned above? With a few notes describing what you would expect it to do, like the height you expect the bounce to be when the rubber block falls of the plank and hits the floor. That would be a great help :)  <br></div><br>Thinking about this, there may not be a clear solution. My recent friction calculation functions were to find the friction required to allowing absolute friction against a surface of zero friction. Let's say I've a sphere with friction 1000 that get's perfect traction when it hits a floor of 0 friction. When spinning and dropped onto tthe floor the sphere should skid off. Now let's say we want to add an icy slide that the spinning sphere would slip down. It would have zero traction, fall off, land on the floor and have 100% traction and spin off. But both the floor and slide are set to zero friction, so we're wanting two different response with the same settings.<br><br>I don't think two variables is enough to define the different responses. Maybe a specification per contact joint for which response to use is required? Let's say that the Collision function is called to populate the collisions array...<br><br>dSpaceCollide(space, world, group)<br><br>Then using dGeom1CountCollisions etc. we can go through these collisions one by one, and using something like dGeomCollisionSetSlip1(index, value) we can overwrite existing default values. Then dWorldQuickStep() through uses the new values.<br><br>eg. We have our super friction ball spinning fast and landing on a super slippy inclined plane. When it hits, dSpaceCollide() uses the specified values to set Slip1 for the contact as the average of the ball and plane. Going through all the contacts individually we can look for instances where the ball has hit the plane and for each one, set Slip1 to 0. When the ball lands n the floor, again the floor is super slippy, but we leave the contact joint alone so it uses the default average.<br><br>Such a system would be as flexible as any user wants it, allowing comarisons and custom calculations for responses, without slowing down the ODE process. In my case where I'm only dealing with a dozen objects I can afford a few comparisons and calculations per hit, whereas someone else could just stick with using the default responses.<br><br>Hmmmm. I'll knock up a demo sim with some TYPEs to show how this might work. <br><br></td></tr></table><br>
<a name="590343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Global WorldERP#=0.2			; ### World Error Correction
Global WorldFriction#=0			; ### World Friction

Global SpaceInfo=0

Global Pointer
Global PlaneGeom

Const MATERIAL_RUBBER=1
Const MATERIAL_ICE=2
Const MATERIAL_FLOOR=3
Const NUM_OBJECTS=3

Type ODE
	Field body
	Field geom
	Field mesh
	Field mass
	Field material
End Type

Dim objects.ODE(NUM_OBJECTS)

; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)
Global GroundSpace=dHashSpaceCreate(Space)
Global ObjSpace=dHashSpaceCreate(Space)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,1)
dWorldSetGravity(World,0,-0.98,0)
dWorldSetERP(World,WorldERP)

dContactSetMode(dContactSlip1)
dContactSetMu(WorldFriction)
dContactSetBounce(0.0)

For n=1 To NUM_OBJECTS
	objects(n)=New ODE
Next

; ### Create set
Light=CreateLight() : RotateEntity Light,45,-40,0 : LightColor Light,155,155,155 : AmbientLight 128,128,128
Camera=CreateCamera() : PositionEntity Camera,-10,30,-30 : RotateEntity camera,30,-30,0; : CameraZoom camera,2

; ### Create plane as first ODE object
objects(1)\material=MATERIAL_FLOOR
objects(1)\geom=dCreatePlane(GroundSpace,0,1,0,0)
dGeomContactSetMu(objects(1)\geom,0.0)
objects(1)\mesh=CreatePlane()
PlaneTexture=CreateTexture(128,128,9)
ClsColor 140,0,20 : Cls : Color 120,40,40 : Rect 0,0,64,64,1 :Rect 64,64,64,64,1
CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture objects(1)\mesh,PlaneTexture,0,0
EntityAlpha objects(1)\mesh,0.9
CreateMirror

; ### Create sphere
SPHERE_SIZE#=2.0
SPHERE_MASS#=10
SPHERE_FRICTION#=100.0		; Perfect traction
gamma#=0.5

frict#=SPHERE_FRICTION/100
frict=frict^gamma
frict=frict*4
frict=4-frict
e#=Log10(SPHERE_MASS*10)
e=e-frict

x#=18
y#=27

objects(2)\material=MATERIAL_RUBBER
objects(2)\body=dBodyCreate(World)
	dBodySetRotation(objects(2)\body,0,0,0)
	dBodySetPosition(objects(2)\body,x,y,0)
	objects(2)\geom=dCreateSphere(Space,SPHERE_SIZE)
	dGeomSetBody(objects(2)\geom,objects(2)\body)
	dGeomContactSetMu(objects(2)\geom,10^e)
	objects(2)\mass=dMassCreate()
		dMassSetSphereTotal(objects(2)\mass,SPHERE_MASS,SPHERE_SIZE)
		dBodySetMass(objects(2)\body,objects(2)\mass)
	objects(2)\mesh=CreateSphere()
	ScaleMesh objects(2)\mesh,SPHERE_SIZE,SPHERE_SIZE,SPHERE_SIZE
	RotateMesh objects(2)\mesh,0,0,0
	PositionEntity objects(2)\mesh,x,y,0
SphereTexture=CreateTexture(128,128,9)
ClsColor 0,140,20 : Cls : Color 0,180,40
Rect 0,0,32,32,1 : Rect 64,0,32,32,1 : Rect 32,32,32,32,1 : Rect 96,32,32,32,1 
Rect 0,64,32,32,1 : Rect 64,64,32,32,1 : Rect 32,96,32,32,1 : Rect 96,96,32,32,1 
CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(SphereTexture)
EntityTexture objects(2)\mesh,SphereTexture,0,0
; ### Create inclined plane
x#=10
y#=20
xs#=20
ys#=1
zs#=6
r#=10

objects(3)\material=MATERIAL_ICE
objects(3)\geom=dCreateBox(Space,xs,ys,zs)
	dGeomSetPosition(objects(3)\geom,x,y,0)
	dGeomSetRotation(objects(3)\geom,0,0,r)
	dGeomContactSetMu(objects(3)\geom,0.0)				; Perfectly slippery
	objects(3)\mesh=CreateCube()
	ScaleEntity objects(3)\mesh,xs/2,ys/2,zs/2
	RotateEntity objects(3)\mesh,0,0,r
	PositionEntity objects(3)\mesh,x,y,0
	EntityColor objects(3)\mesh,30,55,128

Color 255,255,255

While Not KeyHit(1)
;	PointEntity Camera,objects(2)\mesh
	If KeyHit(210)	; Hit insert key
		dBodyEnable (objects(2)\body)
		dBodySetAngularVel(objects(2)\body,0,0,-4)
	EndIf
	
	; CODE FOR FRICTION RESPONSE
;	For n=1 To NUM_OBJECTS
;		If objects(n)\body
;			numCollisions=dGeom1CountCollisions(objects(n)\geom)
;			If numCollisions&gt;0
;				For o=1 To numCollisions
;					collision_geom=dGeom1CollisionGeom(objects(n)\geom,o)
;					p = 0
;					Repeat
;						p=p+1
;						If p&gt;NUM_OBJECTS
;							Exit
;						EndIf
;						If objects(p)\geom = collision_geom
;							Exit
;						EndIf
;					Forever
;					If p&lt;=NUM_OBJECTS	; We've found a valid collision object
;						Select objects(p)\material
;							Case MATERIAL_ICE
;								; Use lowest value for friction
;								; dGeomSetContactMu(geom, index, val)
;								; geom = geometry parent to collision
;								; index = collision index
;								; val = value to set the contacts friction to
;								;dGeomSetContactMu(objects(n)\geom, o, dgeomcontactgetmu(objects(o)\geom))
;								dGeomContactSetMu(objects(n)\geom, 0.0)
;							Default
;								; Use default settings for friction
;								dGeomContactSetMu(objects(n)\geom, 10^e)
;						End Select
;					EndIf
;				Next ; collision
;			EndIf
;			numCollisions=dGeom2CountCollisions(objects(n)\geom)
;			If numCollisions&gt;0
;				For o=1 To numCollisions
;					collision_geom=dGeom2CollisionGeom(objects(n)\geom,o)
;					p = 0
;					Repeat
;						p=p+1
;						If p&gt;NUM_OBJECTS
;							Exit
;						EndIf
;						If objects(p)\geom = collision_geom
;							Exit
;						EndIf
;					Forever
;					If p&lt;=NUM_OBJECTS	; We've found a valid collision object
;						Select objects(p)\material
;							Case MATERIAL_ICE
;								; Use lowest value for friction
;								; dGeomSetContactMu(geom, index, val)
;								; geom = geometry parent to collision
;								; index = collision index
;								; val = value to set the contacts friction to
;								;dGeomSetContactMu(objects(n)\geom, o, dgeomcontactgetmu(objects(o)\geom))
;								dGeomContactSetMu(objects(n)\geom, 0.0)
;							Default
;								; Use default settings for friction
;								dGeomContactSetMu(objects(n)\geom, 10^e)
;						End Select
;					EndIf
;				Next ; collision
;			EndIf
;		EndIf
;	Next ; object
	; END CODE FOR FRICTION RESPONSE

	For n=1 To NUM_OBJECTS
		If objects(n)\body
			RotateEntity objects(n)\mesh,dGeomGetPitch#(objects(n)\geom),dGeomGetYaw#(objects(n)\geom),dGeomGetRoll#(objects(n)\geom)
			PositionEntity objects(n)\mesh,dGeomGetPositionX#(objects(n)\geom),dGeomGetPositionY#(objects(n)\geom),dGeomGetPositionZ#(objects(n)\geom)			
		EndIf
	Next

	dSpaceCollide(Space,World,ContactGroup)
	dWorldQuickStep(World,0.1)
	dJointGroupEmpty(ContactGroup)

	RenderWorld
	
	y=15
	Text 10,y,objects(1)\geom : y=y+15
	Text 10,y,objects(2)\geom : y=y+15
	Text 10,y,objects(3)\geom : y=y+15
	Text 10,y,collision_geom : y=y+15
	Flip

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End</textarea><br>Here's an example with a commented out routine that could deal with friction on a per-object basis. Hit 'INSERT' to add spin to the ball.<br><br>The plank and floor have mu=0.0, and the sphere has 100% friction derived from my algorithm posted earlier. The idea is to be able to apply spin to the ball while it's on the plank and watch it slide down. The commented out VIRTUAL CODE shows code to select a collision and decide on the frictional value to use. I've invented a function name dGeomSetContactMu(geom, index, val) which would do this. Run this sim as it is and you see the moment you apply rotation to the ball it rolls up the slope, despite the plank having zero friction, which we don't want. Whereas it rolls on the floor when we apply rotation which we do want.<br><br>If you uncomment the FRICTION CODE you'll see I've included a dGeomContactSetMu() function depending on which object is hit. This creates the correct wanted response - slides over plank of friction 0 but grips on floor of friction 0. however this is setting the object's entire mu for all collisions. Two similar spheres of high friction should grip with each other even when slipping down the slide, so changing the whole object's mu is incorrect. That's where a function to set per contact properties would open up all sorts of fun things. <br><br></td></tr></table><br>
<a name="590375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome Barton :)<br><br>Cheers for the info and demo Shifty :)<br><br>I've been looking at what it would take to add per geom mean/max/min contact surface properties, it could get very messy to say the least. If this can be done via the Blitz code, it would be the better option IMO.<br><br><div class="quote"> <br>however this is setting the object's entire mu for all collisions. Two similar spheres of high friction should grip with each other even when slipping down the slide, so changing the whole object's mu is incorrect. That's where a function to set per contact properties would open up all sorts of fun things.<br> <br></div><br>To solve the sphere to sphere friction problem, couldn't you just add it to the geom checklist and change their properties as needed based on what they're colliding with? Wouldn't a function in the wrapper to do this have exactly the same issues? <br><br></td></tr></table><br>
<a name="590685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Changing the object's mu isn't going to work on a per-collision basis as I understand. This is what I'm think happens in ODE...<br><br>1) dSpaceCollide() determines all collisions and creates contact joints for each. These contacts have certain properties like mu which is given a value of the mean of the two colliding objects.<br><br>2) dWorldQuickStep() changes the position of objects based on their forces and joints affecting them. For each contact joint it calculates a force and applies it to the bodies involved in that collision.<br><br>If we have a sphere of friction of 1000 hitting a surface of friction 0, dSpaceCollide() creates a contact joint contactjoint1<br><pre class=code>
dSpaceCollide()
contactjoint1\mu=(1000+0)/2

dWorldQuickStep()
apply resistance force to geom based on contactjoint1\mu = 500 (is this the Slip1 value?)
</pre><br>With the per-object mu changes I'm guessing this is what happens<br><pre class=code>
FRAME 1
dSpaceCollide()
contactjoint1\mu=(1000+0)/2

set sphere geom's mu to 0

dWorldQuickStep()
apply resistance force to geom based on contactjoint1\mu = 500

FRAME 2
dSpaceCollide()
contactjoint1\mu=(0+0)/2

set sphere geom's mu to 0

dWorldQuickStep()
apply resistance force to geom based on contactjoint1\mu = 0
</pre><br>We get a one frame lag between setting friction to 0 and the calculations in dWorldQuickStep() using a friction value of 0, and we also see that only one mu can apply at a time. If we have spheregeom1 and spheregeom2, both of mu = 1000, and floorgeom mu=0, with the two spheres touching each other while sat on the floor...<br><pre class=code>
FRAME 1
dSpaceCollide()
contactjoint1\mu=(1000+0)/2 - spheregeom1+floorgeom
contactjoint2\mu=(1000+0)/2 - spheregeom2+floorgeom
contactjoint3\mu=(1000+1000)/2 - spheregeom1+spheregeom2

for each contact
   if contactjoint1 then set spheregeom1's mu to 0
   if contactjoint2 then set spheregeom2's mu to 0
   if contactjoint3 then set spheregeom1's and 2's mu to 1000

dWorldQuickStep()
apply resistance force to spheregeom1 based on contactjoint1\mu = 500
apply resistance force to spheregeom1 based on contactjoint3\mu = 1000
apply resistance force to spheregeom2 based on contactjoint2\mu = 500
apply resistance force to spheregeom2 based on contactjoint3\mu = 1000

FRAME 2
dSpaceCollide()
contactjoint1\mu=(1000+0)/2 - spheregeom1+floorgeom
contactjoint2\mu=(1000+0)/2 - spheregeom2+floorgeom
contactjoint3\mu=(1000+1000)/2 - spheregeom1+spheregeom2

for each contact
   if contactjoint1 then set spheregeom1's mu to 0
   if contactjoint2 then set spheregeom2's mu to 0
   if contactjoint3 then set spheregeom1's and 2's mu to 1000

dWorldQuickStep()
apply resistance force to spheregeom1 based on contactjoint1\mu = 500
apply resistance force to spheregeom1 based on contactjoint3\mu = 1000
apply resistance force to spheregeom2 based on contactjoint2\mu = 500
apply resistance force to spheregeom2 based on contactjoint3\mu = 1000
</pre><br>Mu for each sphere would be based on the last collision. Hence no mu=0 response for the contact with the no-friction floor. If we deal with the sphere&lt;&gt;sphere collision before the two sphere&lt;&gt;floor collisions<br><pre class=code>
FRAME 1
dSpaceCollide()
contactjoint1\mu=(1000+1000)/2 - spheregeom1+spheregeom2
contactjoint2\mu=(1000+0)/2 - spheregeom1+floorgeom
contactjoint3\mu=(1000+0)/2 - spheregeom2+floorgeom

for each contact
   if contactjoint1 then set spheregeom1's and 2's mu to 1000
   if contactjoint2 then set spheregeom1's mu to 0
   if contactjoint3 then set spheregeom2's mu to 0

dWorldQuickStep()
apply resistance force to spheregeom1 based on contactjoint1\mu = 1000
apply resistance force to spheregeom1 based on contactjoint2\mu = 500
apply resistance force to spheregeom2 based on contactjoint1\mu = 1000
apply resistance force to spheregeom2 based on contactjoint3\mu = 500


FRAME 2
dSpaceCollide()
contactjoint1\mu=(0+0)/2 - spheregeom1+spheregeom2
contactjoint2\mu=(0+0)/2 - spheregeom1+floorgeom
contactjoint3\mu=(0+0)/2 - spheregeom2+floorgeom

for each contact
   if contactjoint1 then set spheregeom1's and 2's mu to 1000
   if contactjoint2 then set spheregeom1's mu to 0
   if contactjoint3 then set spheregeom2's mu to 0

dWorldQuickStep()
apply resistance force to spheregeom1 based on contactjoint1\mu = 0
apply resistance force to spheregeom1 based on contactjoint2\mu = 0
apply resistance force to spheregeom2 based on contactjoint1\mu = 0
apply resistance force to spheregeom2 based on contactjoint3\mu = 0
</pre><br>If this is right, then per object mu changes per collision aren't possible with the current functions. That's why a way to access the contact joint values prior to calling dWorldQuickStep() are needed so we can put whatever data we want in them. That's assuming that dWorldQuickStep() takes such contact joint data and processes it this way.<br><br>I just wondering if there're functions for this already? As the docs say, you don't have to use ODE's collision funcitons. You can use your own. Presumably one can create one's own contact joint list and populate it with our own values. Only I guess though we can create out own list, we can't, using ODE's native functions, access the content of the contact joint list created by it's own collision functions. <br><br></td></tr></table><br>
<a name="590715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>If this is right, then per object mu changes per collision aren't possible with the current functions. That's why a way to access the contact joint values prior to calling dWorldQuickStep() are needed so we can put whatever data we want in them. That's assuming that dWorldQuickStep() takes such contact joint data and processes it this way.<br> <br></div><br>The dSpaceCollide() function checks all geoms for collisions and creates the contact joints between them. The changes to the contact joint values must be performed before this function is called. Unfortunately, once the contact joints are created, there is no way of accessing them or changing their properties before calling dWorldQuickStep(). The actual processing of the contact joints at that stage is way deep inside ODE, not accessible to the user.<br><br>I'm not sure what to suggest, I really don't think there's a way of doing this via the wrapper tbh. <br><br></td></tr></table><br>
<a name="590717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay. I'll accept this is a limitation and work round it (not that it was a desperate limitation). Though I imagine if we got really enthusiastic we could Peek and Poke memory addresses to force any changes we like! <br><br></td></tr></table><br>
<a name="590729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Though I imagine if we got really enthusiastic we could Peek and Poke memory addresses to force any changes we like!<br> <br></div><br>Yikes! :O <br><br></td></tr></table><br>
<a name="591563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> VIP3R, or anyone who understands lol,<br><br>I am trying to add additional parameters to my car proggy,  things I've noticed in the ODE docs that state to help keep errors lower were things like:<br><pre class=code>
dBodySetFiniteRotationMode (dBodyID, int mode)

This function controls the way a body's orientation is updated at each time step. The mode argument can be:

    * 0: An ``infinitesimal'' orientation update is used. This is fast to compute, but it can occasionally cause inaccuracies for bodies that are rotating at high speed, especially when those bodies are joined to other bodies. This is the default for every new body that is created.
    * 1: A ``finite'' orientation update is used. This is more costly to compute, but will be more accurate for high speed rotations. Note however that high speed rotations can result in many types of error in a simulation, and this mode will only fix one of those sources of error. 
</pre><br><br>Yet no value I set seems to help, or at least I don't notice a different.  I assume you set this at the creation process, ie - The wheel process.  Trying to limit the "uberfast" rotations to a more error less rotation while still maintaining my objects forward speed.<br><br>Also can you change values like friction, ie - like just the two rear wheels, during the proggy running.  I'm wanting to set it where the faster you go the less traction you can thus giving way to "drating" a corver, without setting the WORLD friction and it affecting all objects at a constant rate.<br><br>One last, things like:<br><pre class=code>
BodyAddForce(body,fx#,fy#,fz#)
dBodyAddTorque(body,fx#,fy#,fz#)
</pre><br><br>Can those be used also and during run time change?<br><br>Thanks<br>Topknot ;) <br><br></td></tr></table><br>
<a name="591592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Yet no value I set seems to help, or at least I don't notice a different.<br> <br></div><br>Like the manual says it only fixes one known issue that causes the problem, so if you've tried it and it doesn't help then you're probably better off leaving it set to the default value.<br><br><div class="quote"> <br>Also can you change values like friction, ie - like just the two rear wheels, during the proggy running. I'm wanting to set it where the faster you go the less traction you can thus giving way to "drating" a corver, without setting the WORLD friction and it affecting all objects at a constant rate.<br> <br></div><br>"drating" a corver? Hehe, I take it you mean drifting a corner :)<br><br>Yeh, you can adjust the friction on each geom using dGeomContactSetMu(geom,mu#) - (mu = friction btw). You can change any of the contact settings during runtime if you like. Check the JV-ODE Function Ref for a list of all geom contact functions.<br><br>You can also use the add body force and torque functions during runtime ;) <br><br></td></tr></table><br>
<a name="591606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alrighty VIP3R,<br><br>Will give them a shot, and as for the "drafting", what you never drafted behind a car doing 100 mph, ;)...Guess that's the FLorida, Nascar influence poppin out when I really meant Drifting.<br><br>Topknot ;) <br><br></td></tr></table><br>
<a name="591902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is is possible to detect "Which" side of a CGeom makes contact/collision..?<br><br>I'd like to make a particle fx on the side of the CGeom that collides with objects.  So far with the new dGeom1/2 I can register a hit but they all register the CGeom as a whole.<br><br>Thanks<br><br>TOpknot ;) <br><br></td></tr></table><br>
<a name="591909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe the functions dGeom1/2CollisionX/Y/Z and dGeom1/2CollisionNX/NY/NZ are what you want, though never used them myself <br><br></td></tr></table><br>
<a name="591939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yea looked at those but they appear more like giving back the world coords of where the collision occured.<br><br>So even if I hit nose only first into like a pillar, all three still register values of where the collision occured, like in the Car DetailedC, that's how he placed the "Pointer" of the collision.<br><br>Looking more for detecting if it was a Front hit or Side hit on a specific Geom, ie the Car's body.<br><br>Granted could backwards peddle and use lame dummy sphere objects and blitz collisions, but was hoping to keep it all in the ODE family.<br><br>BTW, are the only three peeps that post in here about working stuff out you me and Vip3r..?  Need more JV ODE users lol, like the Tomack forums ;)<br><br><br>Topknot ;) <br><br></td></tr></table><br>
<a name="591955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> For spark fx etc, all you need to do is place your particle fx at the location of the collision with dGeom1/2CollisionX/Y/Z as Shifty mentioned.<br><br>If you wanted to know which side of the geom you're hitting, you can work that out based on the results of the dGeom1/2CollisionNX/NY/NZ functions and the geoms current direction. If you don't know how to use the Collision NX/NY/NZ functions, you would be better off asking in the Blitz3D Programming forum, as the JV-ODE Collision NX/NY/NZ functions work in an identical manner to the Blitz3D Collision NX/NY/NZ functions.<br><br>The only thing you can't do in JV-ODE is the equivalent of Blitz3D's CollisionSurface() and CollisionTriangle() functions, you would need to use Blitz collisions for those.<br><br>There are plenty of JV-ODE users out there btw ;) <br><br></td></tr></table><br>
<a name="591961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, there's lots of us JV/ODE users out here.<br>8) <br><br></td></tr></table><br>
<a name="592058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> For particle you'd place them (like a sprite) at the collision coordinates. If you move them along the vector defined by the normal (NX,NY,NZ) then the particle will move from the collision out in straight line, perpendicular to the impact. If you add a bit of variation (NX+Rnd(-0.25,0.25),NY+Rnd(-0.25,0.25),NZ+Rnd(-0.25,0.25) the sparks will travel with a bit of variety perpendicular to the surface.<br><br>As VIP3R says, for more info go check the main forum for the maths. <br><br></td></tr></table><br>
<a name="592159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a little suggestion for an improvement. A couple of times now I've had wierd behaviour, and struggled with a bug hunt until noticing it's because I reference a geom object instead of a body in dBodyDisable(obj\geom). It'd be nice if a compile error was generated when the wrong object type was passed to ODE functions, if that's possible. <br><br></td></tr></table><br>
<a name="592177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you can get the triangle collided index, at least this is what i read the last time i saw the docs, but it was not an easy job...<br><br><br>EDITED: I have looking the ode docs, and yes, it is possible through the dtricallback, but not very well documented... <br><br></td></tr></table><br>
<a name="592186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> @KuRiX: Are you referring to the CollisionTriangle() function? dTriCallback() only prevents contacts being created on certain triangles, it doesn't provide collision data. I think that's what the dTriArrayCallback() function is for, but as you said, the docs are severely limited in this area.<br><br>@Shifty: That isn't possible I'm afraid, to detect the error at compile time would require modifications to the Blitz3D compiler, which I can't do for obvious reasons ;)<br><br>You could write a simple code parser which could detect it though. <br><br></td></tr></table><br>
<a name="592192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good Points, and I ended up using just the X,Y,Z, point of collisions to locate the needed collision sparks to great effect.  I was overcomplicating the problem and not realizing the CollisionX abilities, thanks ;)<br><br>I may seem "thicker" in the head than most of you in fully understanding all the wonders of ODE, but my abilities are stronger in the actual media, models, textures, fx area, and thus doing all aspects of a project when you're not as advanced as others is why I keep pestering for answers.  So hopefully you all understand my lack of uber knowledge in all things Blitz3d and ODE coding ;)<br><br>I hope to post a WIP by next week to let you see what it is I've been tinkering with, and as my abilities expand in understanding the math and ode callbacks I'll be able to improve on it.<br><br>Granted I keep getting refered to the ODE and JV Doc's, but do understand  a one line definition using terms a persons not familiar with is like asking someone non-automotive to breakdown and rebuild a transmission or engine with no prior knowledge.  Maybe in the future with time permitting, a more fully detailed docs can be generated, and I will contribute all that I've found out in building a car simulation/arcade style project if it helps.<br><br>Topknot ;) <br><br></td></tr></table><br>
<a name="592197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking forward to seeing the WIP Topknot ;)<br><br>The docs are ok, what we really need is some tutorials, it would be great if you can contribute one. I find it easiest to learn from code examples than anything else, but that's me ;) <br><br></td></tr></table><br>
<a name="592239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, you're right vip3r. And what's the utility of this function:<br><br>dGeomTriMeshGetTriangle <br><br>??? <br><br></td></tr></table><br>
<a name="592248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, I'm guessing it returns the vertice data of a specified TriMesh triangle using the index retrieved from dTriArrayCallback(). Although I could be completely wrong, the ODE docs are useless for information on these functions. <br><br></td></tr></table><br>
<a name="592249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Shifty: That isn't possible I'm afraid, to detect the error at compile time would require modifications to the Blitz3D compiler, which I can't do for obvious reasons ;)<br><br>You could write a simple code parser which could detect it though.  <br></div><br>Oh well. Currently I use a basic neural net based code parser. It's a bit slow at learning but it gets there in the end. I'll try and feed it more data on detecting these sorts of problems and hopefully avoid them altogether at the coding stage... <br><br></td></tr></table><br>
<a name="592259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>basic neural net based code parser<br> <br></div><br>Hehe, you mean your 'brain' :) <br><br></td></tr></table><br>
<a name="592746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, VIP3R  - I appear to have a ghost! If you run this code...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Const WorldERP#=0.1			; ### World Error Correction
Const WorldCFM#=0.000000001			; ### World Error Correction
Global WorldFriction#=0			; ### World Friction

Global SpaceInfo=0

Global Pointer
Global PlaneGeom
Global magnet.ODEGeom, obj.ODEGeom, magnet_on
Const NUM_OBJECTS=6
Const MAGNETIC_TIME=20

Type ODEGeom
	Field body
	Field geom
	Field mesh
	Field magnetised
End Type
Dim clutter.ODEGeom(NUM_OBJECTS)
; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)

;Global GroundSpace=dHashSpaceCreate(Space)
;Global ObjSpace=dHashSpaceCreate(Space)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,0)
dWorldSetGravity(World,0,-0.980,0)
dWorldSetERP(World,WorldERP)
dWorldSetCFM(World,WorldCFM)
dWorldSetQuickStepNumIterations (World,50)	; default 20
dContactSetMode(dContactSlip1 + dContactBounce)
dContactSetMu(WorldFriction)

; ### Create light
Light=CreateLight()
RotateEntity Light,35,-70,0
LightColor Light,255,255,255
AmbientLight 130,130,130

; ### Create camera
pivot=CreatePivot()
Camera=CreateCamera(pivot)
PositionEntity Camera,-0,40,-80
RotateEntity Camera,30,0,0
CameraClsColor Camera,0,0,0
CameraRange Camera,1,1000
CameraZoom camera,2

; ### Create plane
PlaneGeom=dCreatePlane(Space,0,1,0,0)
dGeomContactSetBounce(PlaneGeom,1.0)
Plane=CreatePlane()
EntityAlpha Plane,0.8
PlaneTexture=CreateTexture(128,128,9)
ClsColor 0,200,80
Cls
Color 0,180,40
Rect 0,0,64,64,1
Rect 64,64,64,64,1
CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture Plane,PlaneTexture,0,0

; ### Create some objects
	GRAVITY_ENABLED=True
	SIZE#=2.0
	DENSITY#=1
	FRICTION#=100.0
	gamma#=0.5

; Change Cube size to match Sphere's volume
x#=5.0
y#=5.0
z#=5.0
magnet.ODEGeom=New ODEGeom
	magnet\geom=dCreateBox(Space,x,y,z)
	dGeomSetPosition (magnet\geom,0,2.5,0)
	dGeomContactSetMu(magnet\geom,0.0)
	magnet\mesh=CreateCube()
	ScaleMesh magnet\mesh,x/2,y/2,z/2
	PositionEntity magnet\mesh,0,2.5,0
	EntityColor magnet\mesh,255,0,0
	magnet\magnetised=55	; Force of magnet
;	dGeomContactSetSoftCFM(magnet\geom,0.001)

SeedRnd MilliSecs()
n=1
x=2 : y=2 : z=2 : DENSITY#=0.15
clutter(n)=New ODEGeom
	clutter(n)\body=dBodyCreate(World)
	clutter(n)\geom=dCreateSphere(Space,x)
	dGeomSetBody(clutter(n)\geom,clutter(n)\body)
	dGeomContactSetMu(clutter(n)\geom,10000.0)
	dGeomContactSetBounce(clutter(n)\geom,0.0)
	mass=dMassCreate()
		dMassSetSphere(mass,DENSITY,x)
		;dMassSetSphereTotal(mass,500,x)
		dBodySetMass(clutter(n)\body,mass)
		dMassDestroy(mass)
	clutter(n)\mesh=CreateSphere()
	ScaleMesh clutter(n)\mesh,x,x,x	
	dBodySetPosition(clutter(n)\body,20,x*2,50)
	EntityColor clutter(n)\mesh,255,55,55
	clutter(n)\magnetised=1
	
n=n+1
x=2 : y=10 : z=10 : DENSITY#=0.15
clutter(n)=New ODEGeom
	clutter(n)\body=dBodyCreate(World)
	clutter(n)\geom=dCreateSphere(Space,x)
	dGeomSetBody(clutter(n)\geom,clutter(n)\body)
	dGeomContactSetMu(clutter(n)\geom,10000.0)
	dGeomContactSetBounce(clutter(n)\geom,0.0)
	mass=dMassCreate()
		dMassSetSphere(mass,DENSITY,x)
		;dMassSetSphereTotal(mass,500,x)
		dBodySetMass(clutter(n)\body,mass)
		dMassDestroy(mass)
	clutter(n)\mesh=CreateSphere()
	ScaleMesh clutter(n)\mesh,x,x,x	
	dBodySetPosition(clutter(n)\body,-20,x*2,50)
	EntityColor clutter(n)\mesh,55,55,55
	clutter(n)\magnetised=1

For n=n+1 To NUM_OBJECTS
	x=2 : y=10 : z=10 : DENSITY#=0.15
	clutter(n)=New ODEGeom
	clutter(n)\body=dBodyCreate(World)
	clutter(n)\geom=dCreateSphere(Space,x)
	dGeomSetBody(clutter(n)\geom,clutter(n)\body)
	dGeomContactSetMu(clutter(n)\geom,10000.0)
	dGeomContactSetBounce(clutter(n)\geom,0.0)
	mass=dMassCreate()
		dMassSetSphere(mass,DENSITY,x)
		;dMassSetSphereTotal(mass,500,x)
		dBodySetMass(clutter(n)\body,mass)
		dMassDestroy(mass)
	clutter(n)\mesh=CreateSphere()
	ScaleMesh clutter(n)\mesh,x,x,x	
	dBodySetPosition(clutter(n)\body,-20,x*2,10+(n*8))
	EntityColor clutter(n)\mesh,55,155,55
	clutter(n)\magnetised=1
Next

;n=n+1
;x=2 : y=2 : z=2
;;	x=x*2 :	y=y*2 : 	z=z*2		; Double box sizes
;	clutter(n)\body=dBodyCreate(World)
;	clutter(n)\geom=dCreateBox(Space,x,y,z)
;	dGeomSetBody(clutter(n)\geom,clutter(n)\body)
;	dGeomContactSetMu(clutter(n)\geom,0.0)
;	dGeomContactSetBounce(clutter(n)\geom,0.0)
;	mass=dMassCreate()
;		dMassSetBox(mass,DENSITY,x,y,z)
;		dBodySetMass(clutter(n)\body,mass)
;		dMassDestroy(mass)
;	clutter(n)\mesh=CreateCube()
;	ScaleMesh clutter(n)\mesh,x/2,y/2,z/2
;

time=0
start=MilliSecs()
;		For n=1 To NUM_OBJECTS
;			dBodySetForce(clutter(n)\body,20,0,0)
;			dBodyEnable(clutter(n)\body)
;		Next
magnet_on=True
Color 255,255,255
While Not KeyHit(1)
	clock=MilliSecs()-start
;	If clock&gt;=50
		time=advance_simulation(time)
;		start=MilliSecs()
;	EndIf
;magnet\magnetised=magnet\magnetised+1
	If KeyHit(57)
		magnet_on=True
		For n=1 To NUM_OBJECTS
;			dBodySetForce(clutter(n)\body,5,0,0)
			dBodyEnable(clutter(n)\body)
		Next
	ElseIf KeyDown(203)
		TurnEntity pivot,0,2,0
	ElseIf KeyDown(205)
		TurnEntity pivot,0,-2,0
	EndIf
	If KeyDown(200)
		MoveEntity camera,0,0,1
	ElseIf KeyDown(208)
		MoveEntity camera,0,0,-1
	EndIf
	PointEntity camera,magnet\mesh
	UpdateWorld
	RenderWorld
	
	y=15
	Text 20,y,clutter(1)\magnetised : y=y+15
	Text 20,y,clutter(2)\magnetised : y=y+15
	Text 20,y,clutter(3)\magnetised : y=y+15
	Text 20,y,clutter(4)\magnetised : y=y+15
	Text 20,y,clutter(5)\magnetised : y=y+15
	Text 20,y,dBodyIsEnabled(clutter(5)\body) : y=y+15
	
	VWait
	Flip False

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End

Function advance_simulation(t%)
	; Advances the simluation, incrementing frame count
	dSpaceCollide(Space,World,ContactGroup)

	objects_stopped=True
	floorgeom=PlaneGeom
	magnetgeom=magnet\geom
	sphere1geom=clutter(1)\geom
	sphere2geom=clutter(2)\geom
	sphere3geom=clutter(3)\geom
	sphere4geom=clutter(4)\geom
	sphere5geom=clutter(5)\geom
	sphere6geom=clutter(6)\geom
;	sphere7geom=clutter(7)\geom
;	sphere8geom=clutter(8)\geom
;	sphere9geom=clutter(9)\geom
;	sphere10geom=clutter(10)\geom

	For n=1 To NUM_OBJECTS
If n=5 And t=60
	Stop
EndIf
		If clutter(n)\geom
			obj=clutter(n)
			PositionEntity clutter(n)\mesh,dGeomGetPositionX(clutter(n)\geom),dGeomGetPositionY(clutter(n)\geom),dGeomGetPositionZ(clutter(n)\geom)
			RotateEntity clutter(n)\mesh,dGeomGetPitch(clutter(n)\geom),dGeomGetYaw(clutter(n)\geom),dGeomGetRoll(clutter(n)\geom)
		EndIf
		If magnet_on And clutter(n)\magnetised&lt;MAGNETIC_TIME
			apply_magnetism(magnet,clutter(n))
		EndIf
		; Per collision processing
		If dBodyIsEnabled(clutter(n)\body)
			current_magnetism=clutter(n)\magnetised		; record the current magnetism
			; Per collision processing PHASE 1
			numCollisions=dGeom1CountCollisions(clutter(n)\geom)

			If numCollisions&gt;0
				For p=1 To numCollisions
					collision_geom=dGeom1CollisionGeom(clutter(n)\geom,n)
					o = 0
					Repeat
						o=o+1
						If o&gt;NUM_OBJECTS
							o=0
							Exit
						EndIf
						If clutter(o)\geom = collision_geom
							Exit
						EndIf
					Forever

					If clutter(n)\magnetised&lt;MAGNETIC_TIME
						; Calculate magnetism if not already magentised to a stop
						If collision_geom=magnet\geom
							If clutter(n)\magnetised&lt;2
								clutter(n)\magnetised=MAGNETIC_TIME-10	; Jump to near stop. Give one frame time for correction
								current_magnetism=clutter(n)\magnetised		; record the current magnetism
							Else
								clutter(n)\magnetised=current_magnetism+1
							EndIf
;							dGeomContactSetMu(clutter(n)\geom,10000)
;							dGeomContactSetBounce(clutter(n)\geom,0)
;							dBodySetLinearVel(clutter(n)\body,0,0,0)	dBodySetAngularVel(clutter(n)\body,0,0,0)	dBodySetForce(clutter(n)\body,0,0,0)	dBodySetTorque(clutter(n)\body,0,0,0) dBodyDisable(clutter(n)\body)	dGeomSetBody(clutter(n)\geom,0)										
							EntityColor(clutter(n)\mesh,255,0,128)
						Else If o&gt;0	; Collided with an indexed object
							If clutter(o)\magnetised&gt;0
								clutter(n)\magnetised=current_magnetism+1
;								dGeomContactSetBounceVel(clutter(n)\geom,0)
;								dBodySetLinearVel(clutter(n)\body,0,0,0)
;								dBodySetAngularVel(clutter(n)\body,0,0,0)
								EntityColor(clutter(n)\mesh,255,128,128)
							EndIf
						EndIf
					Else
						EntityColor(clutter(n)\mesh,255,255,0)
						dGeomSetBody(clutter(n)\geom,0)
						dBodyDisable(clutter(n)\body)
					EndIf
				Next ; geom1 collision
			EndIf ; End per collision Phase 1
			
;			current_magnetism=clutter(n)\magnetised		; record the current magnetism

			; Per collision processing PHASE 2
			numCollisions=dGeom2CountCollisions(clutter(n)\geom)
			If numCollisions&gt;0
				For p=1 To numCollisions
					collision_geom=dGeom2CollisionGeom(clutter(n)\geom,n)
					o = 0
					Repeat
						o=o+1
						If o&gt;NUM_OBJECTS
							o=0
							Exit
						EndIf
						If clutter(o)\geom = collision_geom
							Exit
						EndIf
					Forever

					If clutter(n)\magnetised&lt;MAGNETIC_TIME
						; Calculate magnetism if not already magentised to a stop
						If collision_geom=magnet\geom
							If clutter(n)\magnetised&lt;2
								clutter(n)\magnetised=MAGNETIC_TIME-10	; Jump to near stop. Give one frame time for correction
								current_magnetism=clutter(n)\magnetised		; record the current magnetism
							Else
								clutter(n)\magnetised=current_magnetism+1
							EndIf
;							dGeomContactSetMu(clutter(n)\geom,10000)
;							dGeomContactSetBounce(clutter(n)\geom,0)
;							dBodySetLinearVel(clutter(n)\body,0,0,0)	dBodySetAngularVel(clutter(n)\body,0,0,0)	dBodySetForce(clutter(n)\body,0,0,0)	dBodySetTorque(clutter(n)\body,0,0,0) dBodyDisable(clutter(n)\body)	dGeomSetBody(clutter(n)\geom,0)										
							EntityColor(clutter(n)\mesh,128,0,255)
						Else If o&gt;0	; Collided with an indexed object
							If clutter(o)\magnetised&gt;0
								clutter(n)\magnetised=current_magnetism+1
;								dGeomContactSetBounceVel(clutter(n)\geom,0)
;								dBodySetLinearVel(clutter(n)\body,0,0,0)
;								dBodySetAngularVel(clutter(n)\body,0,0,0)
								EntityColor(clutter(n)\mesh,128,128,255)
							EndIf
						EndIf
					Else
						EntityColor(clutter(n)\mesh,0,255,255)
						dGeomSetBody(clutter(n)\geom,0)
						dBodyDisable(clutter(n)\body)
					EndIf
				Next ; geom2 collision
			EndIf ; End per collision Phase 2
		EndIf ; if object enabled
	Next ; object

	dWorldQuickStep(World,0.15)
	dJointGroupEmpty(ContactGroup)
	Return t+1
End Function
Function apply_magnetism(magnet.ODEGeom, target.ODEGeom)
	; FUNCTION : Applies a force in direction of fan based on angle to fan
	; Magnetic range is
	dBodyGetPosition(target\body)
		x#=dVectorX()
		y#=dVectorY()
		z#=dVectorZ()
	dGeomGetPosition(magnet\geom)
		x#=x-dVectorX()
		y#=y-dVectorY()
		z#=z-dVectorZ()
	; (x,y,z) is direction of force. Need angle and magnitude
	dist#=Sqr(x * x + y * y + z * z)		; distance between objects
	If dist&lt;magnet\magnetised And dist&gt;0		; In the magnetic field
		x = x / dist
		y = y / dist
		z = z / dist
		; 
		dBodySetForce (target\body,-x*(magnet\magnetised+(magnet\magnetised-dist)),-y*(magnet\magnetised+(magnet\magnetised-dist)),-z*(magnet\magnetised+(magnet\magnetised-dist)))
;		dBodySetForce (target\body,-x*magnet\magnetised,-y*magnet\magnetised,-z*magnet\magnetised)
	EndIf
End Function</textarea><br>It'll stop when frame = 60 and on the 5th object in a per object loop. In the debug window I list the values of all the geoms in the scene. On my computer I get<br><br>floorgeom=9921864<br>magnetgeom=9922424<br>sphere1geom=9923032<br>sphere2geom=9923280<br>sphere3geom=9923800<br>sphere4geom=9925640<br>sphere5geom=9926160<br>sphere6geom=9926680<br><br>Those ought to be all the geoms in the program. If you step through the code about a dozen lines, you get  count of 3 collisions and reach the command<br><br>collision_geom=dGeom1CollisionGeom(clutter(n)\geom,n)<br><br>At this point collision_geom equals, on my computer, 9925472. That's an ODE geometry that hasn't been created! I crete the plane geom, the magnet geom, and geoms for each of the spheres, and none of these geom values, listed at the beginning of the Advance_Simulation() function, match with the collisionGeom value returned from dGeom1CollisionGeom().<br><br>I've just tried a slightly different test and with two spheres resting on the floor not being attracted to the magnet, both return different values for dGeom1CollisionGeom(), even though both have only one collision and are only in contact with the floor geom (there are no geom2 collisions). <br><br>What going on? How can a collision with a plane geom be returning several different geom values?<br><br><br><br>STOP PRESS!!!<br><br><br>Okay, just found what I was doing wrong and let this be a warning to you all to pay attention to whichloop control variable your reference! I was referencing a collision index 'n' when n was pointing to my <i>object</i> number. I should have been using 'p' which was my <i>collision index value</i>.<br><br>For n=1 to NUM_OBJECTS<br>For p=1 to NUM_COLLISIONS<br>collision_geom=dGeom1CollisionGeom(clutter(<b>n</b>)\geom,<b>p</b>)<br><br>Referencing a collision index beyond the scope of the number of collisions does not cause a crash, but does return an imaginary object with a similar memory address that it looks like a legitimate object, rather than what I'd expect to be garbage.<br><br>That's plus one for the neural net code parser, though it took an awful lot of time to solve the problem! <br><br></td></tr></table><br>
<a name="592861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, that's it Shifty, you keep flexing that neural net code parser and soon you'll be brighter than a 10 megawatt lightbulb ;)<br><br>Let the following be another warning to you all...<br><br>I stopped using single letter variables for loop control many, many moons ago for this exact reason. Ever wondered why I use 'count' etc in those demos? Much easier for the neural net code parser to detect/avoid the problem ;) <br><br></td></tr></table><br>
<a name="592916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> can one install an option in ode to adjust Physic-mode ?<br><br>Modus 1: low Physic (Only axial Moving the Objects, no rotations and no Joint Contact collision check )<br>Modus 2: realistic Physic (with Rotating the Objects and Check Joint Contact)<br><br>dSpaceCollide need much performance. if one could adjust this, it would be better. The player then shall decide what he wants.<br><br>..<br>a other Question: Can you offer the jv-ode also for C++ ? I become use a 3D Engine for C++. and would use the jv-ode.<br>usage of jv-ode is simpler as Original ode. :) <br><br></td></tr></table><br>
<a name="592943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Barton,<br><br>Can you explain about the two modes in a bit more detail, I'm not sure I understand what you mean exactly?<br><br>You should be able to use JV-ODE in C++ as it is, you just need to link the dll to your C++ project. <br><br></td></tr></table><br>
<a name="593617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mode 2 is normal jv-ode processing. There shall not be any changes. <br><br>Mode 1 shall check only on an axial collision and move only axially the objects. This shall save performance. (because joints are not update and check on collision.)<br><br>--<br>other Problem: I cannot start the programmes with jv ode if FRAPS runs in background. Error Message "Userlib not found". The jv-ode demos then do not work either, if running FRAPS in Background. Same Error Message "userlib not found". After closing the FRAPS , works it. No Error Message then...<br><br>with GameCam in Background no problems with jv-ode. Only with FRAPS. I Use Fraps Version 2.0.0<br><br>a solution? :) why are Fraps and jv-ode.dll incompatible ? <br><br></td></tr></table><br>
<a name="593641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still not sure what you mean by 'axial' collisions?<br><br>Geoms that are connected directly by joints are already excluded from collision detection in JV-ODE.<br><br>Have you tried compiling your code, running the 'exe' instead and then running Fraps? Does it work when you do this? <br><br></td></tr></table><br>
<a name="593648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> The objects shall be moved only axially if they collide. I have meant this. <br><br>--<br>if I starting first the Exe and then FRAPS, it running without problems and FRAPS work.<br><br>it does not work if I start FRAPS before. "Userlib not found". But it works if I remove jv-ode from code.<br><br>some customers has pointed out this fault to me. The customers wanted to make screenshots with Fraps (and view Frames).<br>I also can confirm this. I have not noticed it before because I use Gamecam.<br><br>do you also have the problem? (your examples also do not work with Fraps here) <br><br></td></tr></table><br>
<a name="593650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey viper. I think i understand what barton means. It would be somekind of "only basic physics". So you have basic objects that do no react to physics, like blitz3d collisions!.<br><br>you move, collide, then slide, but no rotate, no contact, etc...<br><br>the problem is that barton doesn't knows that ode to position the object in its place uses the contact data generated... <br><br></td></tr></table><br>
<a name="593657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> If that's what he means, why use JV-ODE at all? I want to help answer your question Barton, but I need to understand the question in the first place. Give me an explanation of what you mean, an example situation.<br><br>Does Fraps work with any other DLL's in Blitz3D? I would suspect that Fraps is upsetting Blitz3D's detection of all 'non-system' userlib DLL's not just JV-ODE. <br><br></td></tr></table><br>
<a name="593664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, perhaps he wants to switch between blitzmode and ode mode, but using only jv-ode for all ;) (and using blitz style collisions but with force, gravity, etc...)<br><br>By the way, forcing ode to do non-rotation is more cpu intensive that don't! <br><br></td></tr></table><br>
<a name="593667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I mean it like Kurix it thinks. :))<br>The players with performance problems shall have the possibility of switching over to simple Physic Mode. perhaps this brings more performance? <br><br>But this probably will not be possible. Sowas then should offer original ode. <br><br>---<br>other DLL's in Blitz3D works without Problems in combine with Fraps. Also the other freeware ODE Wrapper Dll work. <br>Only jv-ode.dll not. :) a conflict something at both ?<br><br>it seems that Fraps deletes the main directory into combination with jv-ode. ? funny problem :) <br><br></td></tr></table><br>
<a name="593701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> ???<br><br>Correct, it isn't possible.<br><br><br>I've got no idea why Fraps is conflicting and causing 'Userlib not found' errors. It might be worth asking in the Blitz3D Programming forum, maybe someone else has experienced similar problems. I don't see how the JV-ODE.dll itself can be causing the problem. Try renaming the DLL to 'test.dll' (including the decls) and see if that makes any difference. <br><br></td></tr></table><br>
<a name="593706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have it renamed in "test.dll", same Result.<br>Directory self is not deleted. But perhaps the Main-Directory Pointer ? and why with only jv-ode? <br>this is the question :)<br>perhaps do Fraps and the jvode use a similar variable? :)<br><br>can you download the Fraps and test it ?<br><br>Download:<br><br><a href="http://www.majorgeeks.com/download3934.html" target="_blank">http://www.majorgeeks.com/download3934.html</a><br><br><br>actual a very strange appearance. <br>It is also the problem that many players use Fraps, also the PC magazines for Frame tests and Screenshots. if something like that then happens ... <br><br>perhaps one should rename the error message "Userlib not found" in "This is a safety message! Please close Fraps or use GameCam and restart the Game..." ? :)) <br><br></td></tr></table><br>
<a name="593721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or mention it in the game readme/docs instead ;)<br><br>What happens if you disable the on-screen 'fps' display in Fraps? <br><br></td></tr></table><br>
<a name="593726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> if I disable on-screen fps -&gt; same result :)<br>I have already tested all combinations. <br><br></td></tr></table><br>
<a name="593793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> The conflict is most likely to be between Fraps and Blitz3D, not Fraps and JV-ODE. There's nothing in JV-ODE to cause Blitz3D not to detect it during startup, so there's very little I can do about it.<br><br>You should make a note in your game docs and tell your users that your game MUST be running prior to starting Fraps. <br><br></td></tr></table><br>
<a name="593840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topknot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm interesting, <br><br>Seems Fraps does kick the ODE to MAV, I get the error that my User Lib is not found and my key is highlighted as the error line.  But Fraps and Blitz3D don't crash when running a 3d app that's not tied into JV.  So he does have a point. <br><br></td></tr></table><br>
<a name="593851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> The reason your key is highlighted as the error line is because that is the very first function called.<br><br>Fraps is preventing Blitz3D from detecting the JV-ODE.dll, there is NOTHING in the dll that would make it invisible to Blitz3D when Fraps is running. <br><br></td></tr></table><br>
<a name="593918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is strange, i have used fraps with my ode wrapper with no problem...<br><br>well, use other capture soft... hehe <br><br></td></tr></table><br>
<a name="593970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> @KuriX: the normal freeware ode-wrapper works without problems with Fraps. But jv-ode not.<br><br>I would be interested why. both use the same library. ODE self is not the reason. This Wrapper does not work, but the other works. <br><br></td></tr></table><br>
<a name="593991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> i can't understand why... perhaps some compiling option...we don't know how fraps internally works, so this is difficult to fix... <br><br></td></tr></table><br>
<a name="593993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're that interested in finding out why Fraps conflicts with Blitz3D/JV-ODE, I suggest you ask the creators of Fraps.<br><br>Fraps is affecting Blitz3D's ability to <b>detect</b> JV-ODE on startup, there could be a multitude of reasons why. <br><br></td></tr></table><br>
<a name="594012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> can you ask the other ODE-Wrapper Developer, how he initialized the ode ? Its ode initializes works, perhaps it can help ?<br><br>Fraps works with every game, why it should be an exception at mine. And a another Appz also could cause the same fault. very risky ... <br><br></td></tr></table><br>
<a name="594074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Barton, this is the LAST TIME I'm going to explain this to you, so listen very carefully...<br><br>There is NO initialisation process in ODE.<br>Fraps does NOT work with all software, it conflicts with <a href="http://forums.unitedadmins.com/index.php?&amp;act=ST&amp;f=147&amp;t=37043" target="_blank">other</a> <a href="http://www.xfire.com/xf/modules.php?name=FAQ&amp;myfaq=yes&amp;id_cat=20&amp;categories=Troubleshooting#84" target="_blank">software</a> too.<br>Fraps is preventing Blitz3D from detecting the JV-ODE.dll on startup.<br>ODE/JV-ODE does NOT produce the 'Userlib not found' error, Blitz3D does.<br>ODE/JV-ODE is NOT the problem here.<br><br>The ONLY major difference between JV-ODE and the other ODE wrappers is the compiler used to create it. JV-ODE uses MinGW, others use VC++.<br><br>I understand your concern, but I've told you several times now that the wrapper is not at fault here. I've always done my best to help JV-ODE users with ANY problems and I take them ALL very seriously! If I thought for one second that JV-ODE had a 'very risky' problem, it would be dealt with immediately. But the fact is, it HASN'T.<br><br>Geez :/ <br><br></td></tr></table><br>
<a name="594097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, thank you for the Explanation. <br><br></td></tr></table><br>
<a name="594153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Barton, what path is B3d installed on? <br><br></td></tr></table><br>
<a name="594164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> C:\Program Files\Blitz3D...<br><br>this plays no rolls, because the created exe files either do not work. <br><br></td></tr></table><br>
<a name="594766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> just bought it<br>wanted to say thanks for writing this! <br>very fast and stable..<br>now the project i'm working on can go forward..<br>definitely recomend buying <br>mike <br><br></td></tr></table><br>
<a name="594986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mike, welcome aboard :) <br><br></td></tr></table><br>
<a name="595462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right, I've got some news for everyone...<br><br>In case you didn't know, I despise the MinGW compiler with a passion!<br><br>I've been tinkering away for the last few days, converting JV-ODE to compile with Visual Studio 8 instead. Things are looking very promising so far, the new VS8 JV-ODE.dll is optimized MUCH better than with MinGW. Its size is down to 440KB which is a lot better and may also improve the speed of JV-ODE. Hopefully, using a different compiler may also reduce the possibility of the Fraps conflict, but I can't guarantee that for sure.<br><br>There is one bug I need to squish (from the conversion process), then it should be ready for testing and ultimately release.<br><br>I'll keep you up to date on this :) <br><br></td></tr></table><br>
<a name="595493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is good news! am very curious about the result. :) <br><br></td></tr></table><br>
<a name="595570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update:<br><br>Ok, squished the bug which the new compiler was complaining about. I've tested the new demo version of the wrapper and everything looks good.<br><br>I need to do some more testing with the full version, then it should be ok to release ;)<br><br>More soon... <br><br></td></tr></table><br>
<a name="595712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome, work VIP3R!<br><br>Outstanding customer service and support. This wrapper just gets better, and better. <br><br></td></tr></table><br>
<a name="595802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah thanks for your continuing work on this vip3r! ode gave our game another dimension of realism, no chance for tokamak!<br><br>cant wait to try the new version :) <br><br></td></tr></table><br>
<a name="595977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ouch, I ran into serious problems with missing C runtime libraries with the new JV-ODE DLL's.<br><br>The good news is I've managed to fix those problems now, just a bit more testing to do and it should be ok to release (couple of days max).<br><br>:) <br><br></td></tr></table><br>
<a name="596011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dripht</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a very newbie question, so I'll apologize in advance.<br><br>I need to have a 'physicsed' cube for the player. So when you press the cursor keys, the cube moves around normally, allowing it to bump into things and what-not.<br><br>I don't want to add force or velocities the the cube when the player presses the keys because it makes the cube 'slide' even after the key is released and the forces accumulate, giving the cube acceleration, when I need it to stick at a set speed.<br><br>I'm lost in how to accomplish this. I've even tried setting the position of the objects\body to the position of a controllable pivot entity, but that screwed up the collisions with other objects horribly. So, im stumped. Any help would be much appreciated. <br><br></td></tr></table><br>
<a name="596053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Use the Force, Luke"<br>8)<br><br>Apply force, clamp linear or angular velocities, and when the key is released set linear and angular velocities to zero. <br><br></td></tr></table><br>
<a name="596392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Dripht,<br><br>You may find it easier to create a sphere for the player instead. Check out Psychic Parrots demo that's posted in <a href="/posts.php?topic=48743#544634" target="_blank">JV-ODE Thread 3</a>, the demo shows a sphere with controlled velocity. When you're happy with the sphere setup, you can attach a cube (if needed) to the sphere using a joint to provide the sphere with cubed geometry.<br><br>If you're still stuck, let me know ;)<br><br>Update: JV-ODE V1.09 will be released shortly... <br><br></td></tr></table><br>
<a name="596595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>JV-ODE Physics Wrapper V1.09 Released</b><br><br>Please check your inbox  :)<br><br>JV-ODE Version 1.09 has now been released. The new version features a brand new DLL compiled using Visual Studio 8, with vastly improved optimization and improved compatibility.<br><br>Anyone who experienced runtime errors with earlier versions of the wrapper may find the new version remedies any problems caused by DLL conflicts.<br><br>Don't forget to update your 'JV-ODE.decls' file!<br><br>Please let me know if you experience any problems with the new wrapper.<br><br>Cheers  :) <br><br></td></tr></table><br>
<a name="596636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the new Version! :)<br><br>I have tested it! 2 news. One good, one bad. <br><br>the god news: Fraps work now ! :))<br><br>the bad news: my game freezes after some Time,if many objects collide. (must after restart my Windows)Only in ode V1.09. After install the V1.08 works again. what can be this?<br><br>I Use only Cube Objects, Static Objects, Geoms, Mass , dBodyAddForce ,dBodyGetLinear, dBodyGetAngular, AngularDamp, dGeomSetRotation , dGeomSetPosition... <br><br></td></tr></table><br>
<a name="596642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> same here...mine freezes after a few seconds..<br>the previous version didn't freeze at all with a lot of testing<br>so it must be something with the new version..<br>no complaints though..this is too good to complain.so i'll just use the previous version..:) <br><br></td></tr></table><br>
<a name="596718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> No such problems here. My program seems to work okay, and I ran the JV-ODE Mixed Objects example (adding random rotation to cylinders to overcome the end-collision bug in ODE) for a couple of minutes without any freezing. I was very impressed how many objects were colliding actually and yet the frame-rate remained smooth.<br><br>I also kept an idea on the Performance Manager's memory usage, and there wasn't any memory leak going on either.<br><br>Can you post example code that crashes on your machine? <br><br></td></tr></table><br>
<a name="596719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good to hear it's fixed the Fraps issue :)<br><br>Hmm, I'll look into the freeze problem, I didn't get any problems here during testing.<br><br>How long before it freezes, can you give me an estimated time in minutes?<br><br>Can you post some example code that freezes please?<br><br>I checked to make sure there weren't any memory leaks during testing. I wonder if it's the stack.<br><br>@mike950: What are your machines specs? <br><br></td></tr></table><br>
<a name="596723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey vip3r ..i'm on a somewhat old laptop <br>dell inspiron 8500..<br>but later today i'll try it on a completely different machine.<br>i can try to strip out code until it doesn't freeze.. <br><br></td></tr></table><br>
<a name="596725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> it happens in different intervals. <br><br>The JV-ode Examples works without freezes. But my Game use many Physic objects with details. A Example to create is not possible, it is a closed system.<br>I will try to delimit the problem. <br><br>but I think the new version works more constantly.  :)) <br><br></td></tr></table><br>
<a name="596727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks.<br><br>It will really help if I can recreate the problem here with an example if possible. If I can't recreate the problem here, I'll need to send a few test DLL's to users getting the freeze problems. <br><br></td></tr></table><br>
<a name="596735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't worry about the example folks, I've managed to recreate the problem here.<br><br>@Shifty: Can you run the 'CarDemo-TriMesh-CCylinder.bb' demo and change the ccylinder amount from 20 to 120 (or higher), you should see the freeze then. Let me know if you do.<br><br>Ok, now that I can see the problem, I'll get straight onto it. Sorry about this everyone. <br><br></td></tr></table><br>
<a name="596740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, i have tested the 'CarDemo-TriMesh-CCylinder.bb'  with Clinders &gt; 120 and after some Time freezes here.<br><br>it appears if many objects were made.<br><br>I also have noticed that the frames fall more strongly if one makes new objects. the old version has 2 frames more with same Objects. Is the Bug a Memory leek Problem ? <br><br></td></tr></table><br>
<a name="596803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> The car demo works fine for me. Simulation time was averaging about 6. I then tried v1.08 and simulation time was nearer 4.<br><br>Not an extensive performance test, but there was a difference that shows the two libraries run at different rates. Perhaps the bug is slowing it down? A fuller comparison ought to be made when a fixed 1.09 is released. <br><br></td></tr></table><br>
<a name="596813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info Shifty, I'll run some more tests side-by-side to see if I can squeeze some more speed out of V1.09  ;) <br><br></td></tr></table><br>
<a name="596866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to combine geometries? I was using a concave mesh for my ground, a circular arena with encompassing wall, but it had accuracy issues and penetrations. I've replaced it with a plane that works well, but lacks the wall. Is there any way to combine the floor and wall into a single GEOM object? Or do I need separate geom entities? <br><br></td></tr></table><br>
<a name="596878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dustin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just downloaded the demo from the Blitz mainpage.  Moved the DLL &amp; decls to userlibs, restarted Blitz and got this error:<br>Compiler environment error: Error in userlib 'JV-ODE.decls' - duplicate identifier. <br><br></td></tr></table><br>
<a name="596895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Shifty: Separate would probably be best. You can combine them in a mesh editor then load it as a single mesh.<br><br>@Dustin: Hmm, never heard of that error before. I'll look into it, thanks. <br><br></td></tr></table><br>
<a name="596933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> dustin: maybe you got the old demo version of the wrapper and its still lying around in your userlibs folder? check, that no "ode.decls" is left (just delete it). got the same "problem", after i buyed the full version :) <br><br></td></tr></table><br>
<a name="597001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ojay could be right Dustin. Make sure you don't have two different sets of the 'JV-ODE.decls' files. I've double checked, there aren't any duplicate identifiers in the decls files. They wouldn't work for anyone if that were the case.<br><br>About the freeze issue with V1.09... I can only get the freeze to happen when Capped Cylinders and TriMeshes are used together. The earlier JV-ODE versions compiled with MinGW had some problems with this combination too (potential memory leaks). This leads me to believe that there could be a fault in the ODE code somewhere that the new compiler may have made more prominent. Can anyone confirm freezes with any simulations that -don't- contain Capped Cylinders and TriMeshes used together?<br><br>@Shifty: I've managed to speed up the new DLL quite significantly using different compiler options. I haven't done any precise timing to compare, but it looks faster than previous versions of the wrapper (or at the very least, as fast). <br><br></td></tr></table><br>
<a name="597008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> no capped cylinders here..<br>trimesh boxes and spheres<br>freezes after 3 secs <br><br></td></tr></table><br>
<a name="597009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you send me some code that shows the problem please mike950? <br><br></td></tr></table><br>
<a name="597014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> sure....<br>i'll email ya the link when its ready.. <br><br></td></tr></table><br>
<a name="597027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> @VIPR: I use no Capped Cylinders &amp; no TriMeshes, and have the freezes. Freezes after collisions of the Player with many Physic objects. Simple Static Objects with Simple Cube Geoms. (with Mass) <br><br></td></tr></table><br>
<a name="597039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah! Mike's example has given a big clue as to what is wrong and it's nothing to do with ccylinders, cubes, spheres, collisions, mass or TriMeshes  :)<br><br>It looks like the problem occurs when a geoms position passes from a +ve float value to a -ve float value.<br><br>Mike, can you confirm something for me. In your demo, when it starts, instead of driving forwards - drive backwards (don't cross the finish line!). You should be able to stay behind the finish line without it freezing. Then when you're ready, drive -slowly- towards and then over the finish line. When the X position of the car is between +8 and -8 the wrapper should freeze. Does this happen on your machine? <br><br></td></tr></table><br>
<a name="597043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh man that would be great if my demo leads to the fix..<br>i'll perform those tests now!<br>mike <br><br></td></tr></table><br>
<a name="597050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm<br><br>I use also coverted Floats to Int and set the Postions of geoms<br>X &amp; Z &amp; Y always + Coordinates<br><br>here my Comando Line.<br><br>dGeomSetPosition(ode\geom,Int(dGeomGetPositionX#(ode\geom2)),Int(Y#),Int(dGeomGetPositionZ#(ode\geom2)))<br><br>I do not think that it only is due to it. <br><br></td></tr></table><br>
<a name="597053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> that seems to be it!<br>i can drive around for a long time<br>until i cross the line..<br>thats weird! <br><br></td></tr></table><br>
<a name="597058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, that's the problem. The new DLL must be trying to pass a double precision float to Blitz3D which is causing it to lock up (Blitz is single precision only). The only time it would go outside of single precision range is when it rolls over to a negative value, hence the cross line in the demo (CrossLineXPosition = 0). It looks like the VS8 compiler treats all floats as double precision by default, instead of single precision like MinGW.<br><br>Great stuff, now I know what to look for, hopefully it shouldn't be too much trouble to fix :)<br><br>Thanks for your help Mike and Barton :) <br><br></td></tr></table><br>
<a name="597059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey my pleasure!..<br>great work in figuring that out so quick!<br>mike <br><br></td></tr></table><br>
<a name="597061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> concerns that also floats, the internally processes of the ode? (contacts,Angular etc..)  or only floats in connection with geoms ? <br>because my geoms have always + Coordinates as Position. <br><br></td></tr></table><br>
<a name="597063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sampyxis</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well - I finally downloaded the demo - great work!<br><br>But, what's even better - my kids (ages 11 and 7) have been playing with that ragdoll demo all day - these kids are serious gamers - (well, mostly on GameCube) - but they can't get enough of this.<br><br>Sometimes I think the simplest games are the best. <br><br></td></tr></table><br>
<a name="597066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Barton: Any floats that are passed from JV-ODE to Blitz will affect it (dGeomGetPositionX, dGeomGetPositionY, dGeomGetPositionZ all pass floats - as do the pitch, roll and yaw functions). Not just the position and rotation, but ALL floats could cause a problem when passed from JV-ODE to Blitz (not internally).<br><br>Great to hear you like the demos sampyxis, thanks! <br><br></td></tr></table><br>
<a name="597070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for the explanation. If the problem is defined now, then it will not be a problem for Vip3r to fix it. :))<br><br>--<br>My Kids (ages 8 &amp; 5) also likes to play the Car-Demo :)) <br><br></td></tr></table><br>
<a name="597076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dustin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; check, that no "ode.decls" is left (just delete it). <br><br>Hey, you guys were close.  <br><br>I didn't have on old JV-ODE version.  But I *DO* have KODE files in there.  Apparently they can't live in harmony.  I bumped out my KODE files from the userlib and then everything fired up nicely.<br><br>You might want to point that out in your Demo readme file. <br><br></td></tr></table><br>
<a name="597162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you can't have have two or more different decls files with the same functions inside. So if there is any function with the same name in kode and jv-ode, then there it is the problem...<br><br>Come on Viper, you can do it! There must be a compiler option to use just floats. And be sure that when compiling ode.lib you use the single precision + trimesh.bat and that the config file is created correctly. And check that you are compiling a release version, not a debug version.<br><br>Cheers, KuRiX. <br><br></td></tr></table><br>
<a name="597207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> There isn't a compiler option for using single precision only. After doing some more testing, I'm not so sure the floats are the problem after all. There's something very wierd going on, it reminds me of the TriMesh collision problems a while ago.<br><br>In Mike's demo, everything is fine as long as you don't drive over a certain area (the racetrack start/finish line), but once you drive over it... the freeze occurs. Although if you get enough speed up, you can cross it without it freezing.<br><br>Barton, can you try to produce a small demo based on your code that shows the problem. It could really help pinpoint the exact problem here. <br><br></td></tr></table><br>
<a name="597216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, i had this problem in the next situations:<br><br>- Trimesh containing non geom objects (splines, lines, beziers, etc...)<br><br>- Too much force on any object any time<br><br>Check if sizeof(float) in vc8 is 4. If it is 4, then, this is not the problem. Although incorrect values, not hang should occur.<br><br>Check the trimesh, because as i told you, non triangle objects can freeze ode (i had this problem with kode too!!!) <br><br></td></tr></table><br>
<a name="597234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Kuri, I'm not sure what objects are used in Mike's mesh, as I didn't create it. But the problem also appears in the JV-ODE TriMesh/CCylinder example and that only contains triangles.<br><br>Barton, you say your example freezes without any TriMeshes being used. I need to see it if possible, it might be very important. <br><br></td></tr></table><br>
<a name="597241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> only triangles in the mesh..<br>so thats not the problem.. <br><br></td></tr></table><br>
<a name="597254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> Confirm that the problem occurs with no trimesh too, because as viper says, it is really important to know... <br><br></td></tr></table><br>
<a name="597266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#166">[#166]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, found the problem at last!<br><br>It's definitely caused when recompiling the ODE and OPCODE libraries in VS8. The OPCODE library is probably the one that's screwing up, that's the same one that caused all of the TriMesh problems in the early builds of JV-ODE.<br><br>I can compile V1.09 in VS8 using the prebuilt ODE binary and it works fine (no freezing issues), but this means we would lose the latest CVS code updates. So I'm going to see if I can get the latest CVS builds to compile properly before resorting to the prebuilt binary.<br><br>More soon... <br><br></td></tr></table><br>
<a name="597268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#167">[#167]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you want me to recompile the latest cvs in vc6 for you? <br><br></td></tr></table><br>
<a name="597280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#168">[#168]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers for the offer Kuri, please check your inbox ;) <br><br></td></tr></table><br>
<a name="597298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#169">[#169]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nevermind Kuri, I've found that the source of the memory leak with Capped Cylinders and TriMesh is IN the latest CVS code. Using the prebuilt binary doesn't give any memory leak, so it would be better to use that instead.<br><br>I'm going to build the new V1.09 update containing the fixes now. The new DLL will also be a little smaller.<br><br>As soon as it's ready I'll send out the update email to everyone ;) <br><br></td></tr></table><br>
<a name="597307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#170">[#170]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's nice to see people helping each other out.<br><br>I've got some more time over the holidays so I'm looking forward to trying out the updated DLL. Be sweet if it's smaller and faster than V1.08. <br><br>Thanks VIP3R <br><br></td></tr></table><br>
<a name="597355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#171">[#171]</a></td></tr></table></td></tr><tr ><td class="posttext"> It almost is not possible to make an example. This is the problem, my game has an engine of its own and the physics objects are loaded from Files. This can take very much time. Game Size: 840 MB !<br><br>I can mail the ode-update Function to you ? <br><br></td></tr></table><br>
<a name="597376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#172">[#172]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>JV-ODE V1.09 Update Re-Released!</b><br><br>Please check your inbox  :)<br><br>*** IMPORTANT ***<br>There were some problems with the initial JV-ODE V1.09 release, please re-download the JV-ODE V1.09 update and replace all of your existing JV-ODE V1.09 files.<br><br>The new update includes:<br><br>Fixed freezing / lock-up issue<br>Fixed dGeomTriMeshDataDestroy() issue<br>Fixed potential Capped Cylinder / TriMesh memory leak<br><br>Please let me know if you experience any problems with the new update.<br><br>Thanks  :) <br><br></td></tr></table><br>
<a name="597378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mike950</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#173">[#173]</a></td></tr></table></td></tr><tr ><td class="posttext"> no more freezing! :)<br>hey just wanted to say really appreciate the<br>hard work to get it working. <br>mike <br><br></td></tr></table><br>
<a name="597397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#174">[#174]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeaahh ! it works !<br><br>no freezing, more liquidly of Physic , constant frames, fraps work :) ...<br><br>I think, it is a very great work of you Vip3R !! Hard work!<br><br>Congratulations :)) Best Service &amp; best Support !!<br><br><br>I test still further. if there should be problems, I will write it here. it runs very fine now. <br><br></td></tr></table><br>
<a name="597401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#175">[#175]</a></td></tr></table></td></tr><tr ><td class="posttext"> Congratulation, one more for Viper! <br><br>Viper 2 - Wrapper 0 ! <br><br></td></tr></table><br>
<a name="597407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#176">[#176]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent, I'm really pleased to hear it's working well now :)<br><br>Thanks for the help and support fellas, I appreciate it ;) <br><br></td></tr></table><br>
<a name="597413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barton</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#177">[#177]</a></td></tr></table></td></tr><tr ><td class="posttext"> what comes as next ?<br>new compiled Version in Assembler ? :))) <br><br></td></tr></table><br>
<a name="597529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#178">[#178]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for your support viper!<br><br>now, that this has been cleared out, could you PLEASE start a new thread? :)<br>(i still don't understand, why this board doesn't support pages...) <br><br></td></tr></table><br>
<a name="597533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#179">[#179]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome  :)<br><br>I'll start a new thread later today ;) <br><br></td></tr></table><br>
<a name="597563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#180">[#180]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>THREAD 4 IS ABOUT TO CLOSE</b><br><br>Please continue on the new thread located <a href="/posts.php?topic=53490" target="_blank">here</a><br><br>Thanks :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
