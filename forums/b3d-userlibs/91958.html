<!DOCTYPE html><html lang="en" ><head ><title >Which physics engine for driving/racing games?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Which physics engine for driving/racing games?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >Which physics engine for driving/racing games?</a><br><br>
<a name="1046661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jeffmorris</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which physics engine is best for driving/racing games? <br><br></td></tr></table><br>
<a name="1046858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Happy Sammy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi jeffmorris,<br>  If you searched for old thread about driving, tokamak is said to be the best for this. However, it is no longer updated, I would recommend JV-ODE as it comes with simple car coding. <br><br></td></tr></table><br>
<a name="1046924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> JV-ODE is the currently most supported, robust and intuiative physics implementation for B3D.<br><br>tokamak (and anything based on it like easytok) has some underlying bugs relating to deleted objects that can cause it to crash so I'd avoid that.<br><br>Theres the PhysX wrapper source floating around which is quite well featured but not supported and a lot more work than JV-ODE to implement. <br><br></td></tr></table><br>
<a name="1058173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blitzbasic.com/Community/posts.php?topic=90281" target="_blank">http://blitzbasic.com/Community/posts.php?topic=90281</a> <br><br></td></tr></table><br>
<a name="1060731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll 2nd the vote for JV-ODE, from Artics to small cars - its great for animating vehicles. <br><br></td></tr></table><br>
<a name="1060750"></a>

<a name="1060751"></a>

<a name="1060752"></a>

<a name="1060756"></a>

<a name="1060757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tokamak is far better for vehicles than ODE, despite ODE's carwheel joint - Tokamak's friction copes better with sliding bodies and it seems to handle the inertia better avoiding the snap-spinning that happens with ODE.<br><br>I've used both ODE and Tokamak for years (ODE since just after B3D was released when I wrote the first B3D ODE wrapper) and have never achieved a decent vehicle sim in ODE that holds up at speed, and I've not seen anyone else do it either.<br><br>In contrast using Tokamak I've got a solid vehicle physics system in SRX that allows full drifting, power-under and oversteer and lift-off oversteer, and the actual physics section of this is not that complex - basically it just varies the friction and linear &amp; angular damping on all 4 wheels seperately depending upon speed, throttle, steering input etc... to simulate the grip level the tyre would provide.<br><br>I've yet to see an ODE sim that can do these things, and that includes Racer (which I believe even incorporates an advanced tyre model) - they all suffer from either having limited speed to avoid problems, the infamous ODE wheel wobble at high speed (where the forces overcome the fixed joints and the rear wheels start to steer themselves), and instant snap-spinning when the wheels start to slide.<br><br>If your sim is slow-moving and requires nice bouncy wheels and no sliding, ODE is fine. If you want to drive fast and allow skidding, Tokamak is far better.<br><br>I've not used PhysX beyond running the demos so I can't really comment, but the PhysX car demo feels very similar to ODE, with the same spinning problems.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1060753"></a>

<a name="1060754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, unless you need the car to move in full 3D, I'd suggest looking up Marco Monster's 2D car physics code - it provides a really good and reasonably simple physics engine that works on a 2d plane, and it can be modified to allow some pretty amazing drifting and sliding.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1060774"></a>

<a name="1060776"></a>

<a name="1060777"></a>

<a name="1060778"></a>

<a name="1060779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've used both ODE and Tokamak for years (ODE since just after B3D was released when I wrote the first B3D ODE wrapper) and have never achieved a decent vehicle sim in ODE that holds up at speed, and I've not seen anyone else do it either.<br><br> <br></div> Oh, I stand corrected.<br><br><div class="quote"> In contrast using Tokamak I've got a solid vehicle physics system in SRX that allows full drifting, power-under and oversteer and lift-off oversteer, and the actual physics section of this is not that complex - basically it just varies the friction and linear &amp; angular damping on all 4 wheels seperately depending upon speed, throttle, steering input etc... to simulate the grip level the tyre would provide.<br><br> <br></div> I've seen your SRX and it looks mightily impressive - all along I though it was JV-ODE.<br><br>What I will say for JV-ODE is that I have had a great amount of gratification from coding with that physics engine - I have not tried Tokamak so I bow to your greater knowledge.<br><br>Within JV-ODE I managed to create an articulated cab with a trailer with a tailgate akin to the one on Knight Rider, to the extent that you could change control between car &amp; truck &amp; drive the car into the back of the trucks trailer. I confess the graphics never quite made it - however as a proof of concept it worked very well - in fact it exceeded my expectations as to how much an indie coder could achive.<br><br>In your opinion, can tokamak also achieve this? I'm not knocking Tokamak without having tried it - I'm just interested in your slant on it.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1060951"></a>

<a name="1060953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tokamak is a bit different to ODE in that it has no specialized joints for vehicles - ODE has the built-in carwheel joint with suspension, which allows some excellent bouncy wheels and working suspension. For slower moving vehicles it works really well, probably better than Tokamak at least in terms of how realistically it rides over bumps.<br><br>The first problem comes when you try to make the vehicle move fast - I followed the ODE mailing list for ages and endless people had problems where the carwheel joint (which can be locked so it can't steer - used for the rear wheels) would twist out of alignment when the forces built up. I never saw a solution to this unfortunately. Even using a fixed axle resulted in the same problem, so cars would rear-wheel steer when cornering fast or sliding. Although you have to fake the equivalent carwheel type of joint in Tokamak it does not seem to suffer from this twisting of the joints.<br><br>The second problem relates to the friction between the wheels and the ground - you seem to reach a point in ODE where the wheel suddenly slides, and it causes the car to spin around uncontrollably or flick from left to right with apparently little regard for the momentum of the vehicle. For some reason Tokamak copes much better with this and the wheel objects slide in a nicer and more progressive way, although I've no idea why this would be.<br><br>The other thing is I've never managed to "explode" the Tokamak simulation, despite doing some really nasty things to it. In contrast it seemed very easy to break ODE's simulation. Tokamak has a problem where bodies can be forced through the static collision mesh, and this occasionally happens in SRX if you hit a vertical wall head on at really high speed - so far I've not found a technical solution, so I give the player a reset option or break the wheels right off the car, both of which are a bit of a bodge but work OK.<br><br>In terms of the truck trailer and car, yes Tokamak can easily do that sort of thing, but you'd have to create your own version of the carwheel joint.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1060963"></a>

<a name="1060964"></a>

<a name="1060965"></a>

<a name="1060966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been messing around with a sort of Super Off Road / Ironman Stewart type game (much more arcadey than SRX and played from a 3rd person elevated view as in the original game) to see how bouncy I can make my simplifed little Tokamak trucks, so I've added a second truck and hooked it up to the first to act as a trailer, just to see what happens.<br><br>Now ideally the trailer would have just 2 wheels at the rear and not weigh as much as the truck itself, but you get the idea...it took 7 extra lines of code to link up the trailer, so very simple.<br><br>Please forgive the crap video quality, first time I've ever uploaded anything to YouTube - hopefully you can just about make out what's going on!!<br><br><a href="http://www.youtube.com/watch?v=WRkpKqqMg6k" target="_blank">http://www.youtube.com/watch?v=WRkpKqqMg6k</a><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1060970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, as i see you have some more experience in this area.<br>i played some with cars and jv-ode:<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=90169#1025809" target="_blank">http://blitzbasic.com/Community/posts.php?topic=90169#1025809</a><br><br>please take a look and tell me your opinion. The most important part is the "UpdateCars" function in which the friction and slip forces are used (well, i try to manage them...) Mu, Mu2, Slip1, Slip2 and FDir1<br><br>thank's in advance<br><br>Juan <br><br></td></tr></table><br>
<a name="1060977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Vorderman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is fun - removed the front wheels from the trailer, doubled the truck power and added a towbar...<br><br><a href="http://www.youtube.com/watch?v=urbrZgsTEVo" target="_blank">http://www.youtube.com/watch?v=urbrZgsTEVo</a><br><br>Wonder how it would cope with 16 AI cars all with trailers.... <br><br></td></tr></table><br>
<a name="1061059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Voerderman, looks cool, reminiscent of skid marks albeit a lot more evolved. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
