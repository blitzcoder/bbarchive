<!DOCTYPE html><html lang="en" ><head ><title >What is the rendering potential of FastPointer?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >What is the rendering potential of FastPointer?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >What is the rendering potential of FastPointer?</a><br><br>
<a name="1035109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've only just unarchived and looked at FastPointer today, having had it lying about for 3 months.<br><br>I need to get up-to-speed on this.  Forget the pointer aspects for the moment, I am more interested in the multi-core threading aspect.<br><br>Can we transfer, for example, the FastExtension UpdateShadows to another core - or, basically, just shunt part of any of the rendering process to another core?  I'd love to be able to bring in at least a second core for this.<br><br>I'm just really interested in knowing how useful FastPointer is/can be for shunting to a second (or more core) to give more rendering power to Blitz3D - ie pretty much double what I already have. <br><br></td></tr></table><br>
<a name="1035117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Without thinking too much about the details of FastPointer, how much of the task can actually be parallelized? Remember you can only run tasks in parallel if one doesn't depend on the result of the other. So you couldn't dedicate one thread to updating the shadow meshes/textures and another to running RenderWorld, because the shadow system has to be set up exactly once per frame, and before that frame is rendered.<br><br>Of course, if the shadow system is built up of components that don't depend on each other, you could update them separately, eg. a separate thread for each caster (can't remember the details of FastExt shadows). If you have a lot of casters/independent elements, you might see a benefit here, but you'd need some way of blocking the render thread until all the setup threads are done.<br><br>The other problem is the lack of thread support. FastPointer doesn't provide any thread services beyond actually launching them; you can't lock objects or wait for something to become available, so you'd be stuck with updating very preset things in order to ensure no conflicts. The management code for blocking the render thread and only running the update threads during the shadow update routine might weigh more than just doing it in a linear fashion (creating new threads each frame would cause a lot of slowdown <i>and</i> still leave you needing a way to block the render thread).<br><br>Short answer: maybe. Depends. <br><br></td></tr></table><br>
<a name="1035119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> My initial brute force tests did not yield much fruit, which is why I posted (just in case I was doing things wrong).  Looks like FastPointer is pretty much what it says on the tin.<br><br>The thing that troubles me is that someone may have already found a way to balance this all out. <br><br></td></tr></table><br>
<a name="1035296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I insistently don't recommend to use RenderWorld function (-&gt; UpdateShadows==RenderWorld) in different threads :) <br><br></td></tr></table><br>
<a name="1035300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> What kind of preprocessing can be done via core2 and handed back to core1 in time for a shunt? <br><br></td></tr></table><br>
<a name="1035309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any other calculation, but not DirectX operations (DX7 not support multithreading, virtually only). <br><br></td></tr></table><br>
<a name="1035312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I appear to be wielding a banana instead of a mighty light sabre.<br><br>I must be careful, in case I slip on the discarded skin and skewer myself. <br><br></td></tr></table><br>
<a name="1035338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its possible to use it for multi-threading performance increases in areas of rendering, physics, etc. but you need to use immense care and a good understanding of the implications of multi-threading and data sharing.<br><br>Its probably possible, tho even to start with a complex challenge, to port aspects of the fastext libs to it... but I'm not sure the increases in performance would be worth the work needed to implement and test properly.<br><br>By far the biggest advantage to fastpointer is the ability to use function pointers - if you look at any game source code like quake 2/3, etc. you'll understand why. <br><br></td></tr></table><br>
<a name="1076053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lauri</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for bump, but is it possible to load meshes in thread when the game runs in other thread? And if, how? <br><br></td></tr></table><br>
<a name="1076062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Taken directly from one of the example files:<br><br><pre class=code>; don't load meshes in thread, if you use RenderWorld function in main loop</pre><br><br>... now I couldn't tell you <i>why</i>, but that's what Mikhail says. <br><br></td></tr></table><br>
<a name="1076598"></a>

<a name="1076599"></a>

<a name="1076600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could create your own threaded mesh loader with it* - but you won't be able to use the built in mesh loading commands due to the unpredictability of access to the data between different threads = crash when ones not ready.<br><br><br>*Prep dummy mesh in main thread, then call the threaded loader to pull the data out of the file into memory, then manipulate the dummy mesh.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
