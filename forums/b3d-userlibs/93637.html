<!DOCTYPE html><html lang="en" ><head ><title >Fast Extend library - Thread 6</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fast Extend library - Thread 6</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >Fast Extend library - Thread 6</a><br><br>
<a name="1071648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Continued from <a href="/posts.php?topic=87482" target="_blank">Thread 5 here.</a> <br><br></td></tr></table><br>
<a name="1071809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> First <br><br></td></tr></table><br>
<a name="1072240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lauri</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I said: "Help! I can't get FastExt working. All postprocessing and shadow examples cause MAV and bump examples run but bumping doesn't work." <br></div> <br>I have noticed that setbuffer() in fastext.bb causes the MAV.  And I use fastext v.1.17. <br><br></td></tr></table><br>
<a name="1072299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you also have the latest Blitz3D update? Because I think you have to match up FastExt versions to Blitz3D versions, as FastExt is often updated to take account of changes in Blitz3D. <br><br></td></tr></table><br>
<a name="1072657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Function D_Botones(Imagen1%=0,Imagen2%=0,Imagen3%=0,PX%,PY%)
Local MX#=MouseX()
Local MY#=MouseY()
If TestImage(MX#,MY#,PX,PY,Imagen1%,128)= False
 DrawImageEx(Imagen1%,PX%,PY%) ElseIf TestImage(MX#,MY#,PX%,PY%,Imagen1%,128) = True
If MouseDown(T_Mouse1)
DrawImageEx(Imagen3%,PX%,PY%)
Tecla = True
ElseIf MouseDown(T_Mouse1) = False
DrawImageEx(Imagen2%,PX%,PY%)
If Imagen1% = Salir1  And Tecla = True
End
Tecla = False
ElseIf Imagen1% = Iniciar1 And Tecla = True
Posicion = 4
Progreso = 0
Tecla = False
ElseIf Imagen1% = Opciones1 And Tecla = True
Menu = 3
Tecla = False
ElseIf Imagen1 = OVideo1 And Tecla = True
Menu = 4
Tecla = False
ElseIf Imagen1% = OAudio1 And Tecla = True
Tecla = False
ElseIf Imagen1% = OControl1 And Tecla = True
Tecla = False
ElseIf Imagen1% = Creditos1 And Tecla = True
Tecla = False
ElseIf Imagen1% = Regresar1 And Tecla = True And Menu = 3
Menu = 0
Tecla = False ElseIf Imagen1% = Cargar1 And Tecla = True
Tecla = False
ElseIf Imagen1% = Guardar1 And Tecla = True
Tecla = False
End If End If End If
End Function
</pre><br><br>Perhaps this feature will serve someone, your goal is to work with buttons in a menu (precionamos, when it happens, and when it is released.) <br><br></td></tr></table><br>
<a name="1078973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >coffeeaddict</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am having an issue using bump mapping a cube with FastExt. I am very new to this so please cut me some slack. This is what I am getting:<br><br><img src="http://i295.photobucket.com/albums/mm151/coffeeaddict21/cubebumpmap_problem.jpg"><br><br>The code:<br><pre class=code>
Include "include\FastExt.bb"

Graphics3D 800,600,0,2

InitExt

testCube=CreateCube()
diffuseTexture=LoadTexture("media\box.jpg",1)
normalMapTexture=LoadTexture("media\box_bump.jpg")
TextureBlend normalMapTexture, FE_BUMP

EntityTexture testCube,normalMapTexture,0,0
EntityTexture testCube,diffuseTexture,0,1

camera=CreateCamera()
PositionEntity camera,0,0,-4
light=CreateLight()
AmbientLight 128,128,128
PositionEntity testCube,0,0,0

While Not KeyHit(1)
	TurnEntity testCube,0,0.5,0.5
	RenderWorld
	Flip
Wend
</pre><br><br>Suggestions on how to fix this would be very much appreciated. <br><br></td></tr></table><br>
<a name="1078982"></a>

<a name="1078983"></a>

<a name="1081870"></a>

<a name="1084828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Mikhail, thanks for such an excellent lib, having fun :-<br><br>(please note, the images for load, save &amp; quit were slight modifications on the media supplied by Mikhail ;)<br><br>[EDITED]<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1079244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >coffeeaddict</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^^I would really appreciate it if someone could give me a hard shove in the right direction on how to solve my problem. <br><br></td></tr></table><br>
<a name="1080115"></a>

<a name="1080116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @coffeeaddict, sorry, my limited xp cannot help you.<br><br>[EDIT] sorry, there was to much spaghetti code there for analysis.....<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1080118"></a>

<a name="1080122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>EDIT:</b> Ah right I see.<br><br>I think the FastExt bump mapping is only meant to work as environmental bump mapping for reflective objects. Non-reflective objects have no use for such a feature because they can't reflect the environment.<br><br>I have the feeling thgat what you're actually looking for is the B3D native Dot3 blend mode.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1080123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does fastimage.bb affect the distance that 3D objects are rendered at? (basicallt the cam range) I suspect not but if someone can let me know I'd appreciate it. <br><br></td></tr></table><br>
<a name="1080143"></a>

<a name="1080144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you need is the custom blend mode D3DTOP_DOTPRODUCT3 (not sure if its different to blitz's blendmode 4) its a little more tricky than that tho you need to update the color channels if you want the bump mapping to update correctly in realtime (theres a couple of threads on this somewhere).<br><br><br>D3DTOP_BUMPENVMAP which your looking at (FE_BUMP) is documented as "per pixel env map perturbation".<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1080287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >coffeeaddict</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the help. :) <br><br></td></tr></table><br>
<a name="1080324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sniper_boy147</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gosh, maybe this is the solution to the problem I've been having. I've been looking at teh dot3 example in FastEx, but I've had so much trouble trying to add multiple light support. However the ENBM has that support, I guess because it takes data directly from Blitz lights. :\ Well if anyone else has other suggestions to help me accomplish this, please do! I've spent many many months on this problem D: <br><br></td></tr></table><br>
<a name="1081734"></a>

<a name="1081869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorted my camera distance problem, and got buttons within my GUI working Woo hoo!<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1082418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lauri</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to make shadows like ShadowsMultipleIncreaseRangeTrick example, but there is empty border between sharp shadow and low-res shadow. And other side, there darker area.<br><br><img src="http://img43.imageshack.us/img43/6755/shadowerror.png"> <br><br></td></tr></table><br>
<a name="1082475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your image is broken. ImageShack requires registration now.<br><br>Use <a href="http://tinypic.com/" target="_blank">tinyPic</a>. Works just as well. <br><br></td></tr></table><br>
<a name="1082495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lauri</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works in my own computer, in my mobile phone internet and in our scool computers. <br><br></td></tr></table><br>
<a name="1082590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think a more pressing matter is the fact your characters head is bald and blue <br><br></td></tr></table><br>
<a name="1082595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i think a more pressing matter is the fact your characters head is bald and blue <br></div><br>I don't know why but I laughed so hard at this.. <br><br></td></tr></table><br>
<a name="1082596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lauri</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...it is zombie... <br><br></td></tr></table><br>
<a name="1082738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lauri</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://img541.imageshack.us/img541/1668/zombiy.png"><br>Here's the bald blue guy from front (:<br>But does anyone know answer, please? <br><br></td></tr></table><br>
<a name="1083265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://s3.subirimagenes.com/fondosycapturas/6209883iris.jpg"><br><br>=) Shadow easy . <br><br></td></tr></table><br>
<a name="1087947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wigwam</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just downloaded the Trial of this, and I can't find out how long the trial lasts. Also, if I purchase it during the trial, will I need to remove the existing files? <br><br></td></tr></table><br>
<a name="1087990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK there is no limit in terms of days how long you can "try" FastExt, the trial limitations are:<br><br>Applications using FastExt will only run a certain number of minutes before FastExt stops working (not sure how long off the top of my head but I suspect its something like 5 minutes).<br><br>You don't have permission to legally distribute the FastExt runtime as part of your project.<br><br><br>Once you've licensed the software both of these restrictions go away. <br><br></td></tr></table><br>
<a name="1087995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wigwam</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, gotcha. I'm not sure I trust the pay portal, though. <br><br></td></tr></table><br>
<a name="1095410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://s2.subirimagenes.com/otros/6636614shadowmap.jpg"><br><br>Hi, I have a doubt, is a reference system where an object sombrsa casts a shadow and is shaded, the case is that the character to put in front of the column is not the shadow is cast on the column.<br><br> Is this possible? <br><br></td></tr></table><br>
<a name="1114896"></a>

<a name="1114897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok...I know i'm dragging up an old thread etc, but I cannot find a solution to my shadow issues.<br><br>Above, YUE asks the question that I also need an answer to. (And perhaps an example)<br><br>HOW CAN I MAKE AN OBJECT BOTH RECIEVE AND CAST A SHADOW??? <br><br>Please post an example. I have managed to put shadows in my project but cannot seem to make any object display both shadow properties (Rec and Cast)<br><br>Any ideas? Not possible? I saw it done in a ZIP link somewhere on this site....Zip was called PROSHADOWS 5 and it clearly shows the shadows I require. I want to buy this library etc, but cannot get any clear answers.<br><br>HELP!<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1114898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on how the system works (I can't remember offhand, this might not be appropriate) -<br><br>You could create a copy of the object to self-cast, shrink it by a small distance along its vertex normals (e.g. 0.01; enough to guarantee it stays hidden, and its shadow surface is below the original, while not noticeably affecting its profile), and leave it in the same position as the original. You could then use it as a caster and the original as a receiver. If the self-shadowing object is animated, you'd animate both entities the same way so that they perfectly match positions.<br><br>"True" self-shadowing almost certainly isn't possible at all using this projective method. <br><br></td></tr></table><br>
<a name="1114918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rroff</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunatly there doesn't seem to have been a proper "release" of the "proshadows" version (which was made by someone else) as part of fastlib which is the only way to do self-shadowing with it.<br><br>You could do quick and dirty self-shadowing on objects using "ICU" style dynamic lightmapping it might work well enough for individual player models, etc. especially if you can work out the rectangle they exist in on screen (to reduce number of pixel reads required). <br><br></td></tr></table><br>
<a name="1114993"></a>

<a name="1114997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Yasha. Yeah. Tried this with some less than desired results.<br><br>@ Rroff. What I need is for the tree canopy to cast shadows on my weapon as I pass under the tree. The gun itself should also cast shadows to the ground (as I look down)<br><br>Oh well. Maybe they will reveal the secret from PROSHADOW.....maybe.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1114995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe that you can simulate this effect, but it's not quite possible to achieve perfectly. From what I remember by the examples, you need to create a multiple shadow system. In one system, you need the mesh (the gun in this case) to be the caster, and in the other system, you need it to be the receiver. I haven't played around with it, but I remember that the example could do this technique really well. It takes up a lot of processing power, though.<br><br>If this sounds right, let me know and I can see if I can put together an example for you. <br><br></td></tr></table><br>
<a name="1114999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure Rob. Please show me how. (I tried this ....had 2 light systems etc, but couldnt get it to work)<br><br>If I can get this working, my project (sterted in 2004) should have an end in sight. Or at least another twist and turn. <br><br></td></tr></table><br>
<a name="1115016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll see what I can put together. Plan on a response tomorrow sometime. <br><br></td></tr></table><br>
<a name="1115234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, I got called in to work yesterday unexpectedly, but I worked on it this morning. This code will demonstrate the multiple shadow system.<br><br>There's issues where shadows are appearing on the gun when it's on the "sunny" side of the tree in addition to the "shady" side of the tree. I can't remember off the top of my head how I corrected this problem (something to do with being able to see the light or not), but this gives you an idea of what's going on.<br><br>I'm reading over the posts again, and I don't think I fully understood what you were asking. There's a lot of posts about self-shadowing, but this isn't a self-shadowing system. I don't even know if that's possible. Rather, this is a multiple-caster system, where a tree mesh will cast shadows on a gun, and both the tree and the gun will cast shadows on the ground.<br><br>You should be able to copy this code into a blank .bb file, save that file in the right folder to use the FastExt library, and change the include directories to match that for the FastExt includes.<br><br>Hope this helps:<br><pre class=code>
Include "include\FastExt.bb" ;The fast extension library. Mine is probably different from your directory, so be sure this is set right.

Include "include\ShadowsMultiple.bb" ;the function includes, same situation as above.

Graphics3D 800,600,0,2 ;set graphics

InitExt() ;set up fast extension

SetBuffer BackBuffer() ;set the back buffer

;This will make a gun
Global gun = CreateCylinder()
RotateMesh gun,90,0,0
ScaleMesh gun,0.25,0.25,1.0
Local gunhandle = CreateCube()
RotateMesh gunhandle,10,0,0
ScaleMesh gunhandle,0.24,0.5,0.24
PositionMesh gunhandle,0,-0.5,-0.85
AddMesh gunhandle,gun
FreeEntity gunhandle
Local guard = CreateCylinder(8,False)
RotateMesh guard,90,90,0
ScaleMesh guard,0.09,0.25,0.25
PositionMesh guard,0,-0.25,-0.35
AddMesh guard,gun
Local guard2 = CopyMesh(guard)
FlipMesh guard2
AddMesh guard2,gun
FreeEntity guard
FreeEntity guard2
MoveEntity gun,0,0,10

;This will make a simple tree
Global tree = CreateCone()
ScaleMesh tree,5,5,5
EntityColor tree,0,128,0
MoveEntity tree,5,1,10

;Make a camera
Global camera = CreateCamera()
MoveEntity camera,5,5,0

;Make a light
Global light = CreateLight(1)
Local lightcube = CreateSphere()
EntityFX lightcube,1
ScaleEntity lightcube,0.5,0.5,0.5
EntityParent lightcube,light
MoveEntity light,100,100,100
PointEntity light,gun

;Make something to catch the shadows
Global ground = CreateCube()
ScaleEntity ground,1000,1,1000
EntityColor ground,128,100,50
MoveEntity ground,0,-10,0

;Here we go!
;First, set up some globals
Global shadow1.Shadow
Global shadowtex1
Global shadow2.Shadow
Global shadowtex2
;Now, let's make shadow 1 for the ground
shadow1.Shadow = CreateShadow()
;just set up the shadow to look pretty
ShadowRange shadow1,50
ShadowPower shadow1,0.5
;grab that shadow's texture
shadowtex1 = ShadowTexture(shadow1)
;make the gun a shadow caster on the grou
CreateShadowCaster shadow1,gun
;CreateShadowCaster shadow1,tree ;I commented this out to get darker shadow effect, but uncomment and remove the line below for normal shadows
;Attach the shadow direction to our light
ShadowLight shadow1,light
;Next, let's make a second shadow system, and this one will go on both the gun and the ground.
shadow2.Shadow = CreateShadow()
;Make it look pretty...
ShadowRange shadow2,50
ShadowPower shadow2,0.5
;grab the shadow texture
shadowtex2 = ShadowTexture(shadow2)
;Make the tree the shadow caster. Currently, this will cast on the ground as well, but you're limited to only 7 entities at a time with this method
CreateShadowCaster shadow2,tree
ShadowLight shadow2,light

;Now, apply the shadow texture to each entity receiving shadows
;First, the ground gets the normal shadow texture
EntityTexture ground,shadowtex1,0,2
;Next, the ground also gets the shadows from the tree. Comment out this line and remove the comment in the line above to return to normal shadows.
EntityTexture ground,shadowtex2,0,3
;Finally, give the gun the second shadow system. This will darken the gun in the tree's shadow
EntityTexture gun,shadowtex2,0,2


While Not KeyDown(1) ;THE MAIN

	;Basic camera movement
	If KeyDown(205)
		MoveEntity camera,1,0,0
	EndIf
	
	If KeyDown(203)
		MoveEntity camera,-1,0,0
	EndIf
	
	If KeyDown(44)
		MoveEntity camera,0,0,1
	EndIf
	
	If KeyDown(45)
		MoveEntity camera,0,0,-1
	EndIf
	
	If KeyDown(200)
		TranslateEntity camera,0,1,0
	EndIf
	
	If KeyDown(208)
		TranslateEntity camera,0,-1,0
	EndIf
	
	;Basic gun movement
	If KeyDown(30)
		MoveEntity gun,-1,0,0
	EndIf
	
	If KeyDown(32)
		MoveEntity gun,1,0,0
	EndIf
	
	If KeyDown(17)
		MoveEntity gun,0,0,1
	EndIf
	
	If KeyDown(31)
		MoveEntity gun,0,0,-1
	EndIf

	;always be facing the gun
	PointEntity camera,gun
	
	UpdateWorld
	UpdateShadows(camera) ;update the shadows
	RenderWorld
	
	Text 0,0,"Use Left and Right Arrows to move the camera on the local x axis."
	Text 0,15,"Use Z and X to move the camera on the local Z axis."
	Text 0,30,"Use Up And Down Arrows To change the camera pitch angle."
	Text 0,60,"Use A,W,S,D to move the gun around the scene."
	Text 0,75,"Notice what happens when the gun is in the tree's shadow"
	
	Flip
	
Wend

DeInitExt() ;exit

End
</pre> <br><br></td></tr></table><br>
<a name="1115239"></a>

<a name="1115240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the code, Rob. Will check it out when I get home from Work.<br><br>As for understanding my post, you got it in one. To me, self-shadowing (not what Im asking here) is for instance, a tree casts shadows of its own branches - onto it's own trunk etc. <br><br>While this library is great, I see it's limits. For example: If I make the GUN in my FPS a Shadow Receiver, the gun correctly goes into shade when I pass under the tree. BUT! When I pass over a ground shrub that also casts a shadow, the same occurs to my gun. This System cant define if you are under/over an object. Not that I can see anyway.<br><br>On the plus side, this shadow system made me dust off my old project(s) and have another look.<br><br>Cheers.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115241"></a>

<a name="1115242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way I got around that problem was calling EntityVisible(receiver,shadowlight) and the EntityPickMode caster,2. If the light is visible from the receiver's perspective, then I would hide the receiver shadows, and if it wasn't visible, then I would show the receiver shadows. Not perfect, but a closer representation to knowing whether or not the mesh should be getting shadows.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works Rob. Thank you. I will take a hard look at the code, adapt my code accordingly and upload the results when I can. Maybe a youtube vid.<br><br>Thanks again for taking the time to help me with this. I need to lightmap my level and add your shadow code etc. Should look the goods. Cheers! <br><br></td></tr></table><br>
<a name="1116629"></a>

<a name="1116630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. Made a small video showing my shadow system in action. As this a continued work in progress, more videos to come.<br><br><a href="http://www.youtube.com/watch?v=2fFxTQmiCz4" target="_blank">http://www.youtube.com/watch?v=2fFxTQmiCz4</a><br><br>Rob. This 2 light / shadow system is a bit clumsy. It works in a limited way and for now it's fine....but I wish they would release a version similar to the Proshadow version. I guess I will have to be patient. <br><br>At the moment, overlapping shadows do not blend well. They amplify the shadow alpha so that the overlap is twice as dark as it should be. <br><br>:)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116728"></a>

<a name="1131709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>stuff:-<br><br><img src="http://www.wishingwellsoftware.co.uk/help.jpg"><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1131044"></a>

<a name="1131045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Error DOF, Entity Alpha.<br><br><img src="http://oi44.tinypic.com/9gij9c.jpg"><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1131815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://oi39.tinypic.com/261oq50.jpg"> <br><br></td></tr></table><br>
<a name="1133196"></a>

<a name="1133197"></a>

<a name="1133198"></a>

<a name="1133209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Error!!<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Include "FastExt.bb"

Graphics3D 800,600,32,2
InitExt


Include "RenderCubemapFunctions.bb"

Local Camara% = CreateCamera()
PositionEntity Camara%,0,0,-10




Local Luz% = CreateLight()


Local Textura= CreateTexture( 512, 512, 1 + 128 + 256 + FE_RENDER + FE_ZRENDER )			


Local Espejo% = CreateCube()
EntityTexture Espejo, Textura



Local Cubo% = CreateCube() : PositionEntity Cubo%,1,1,-20
EntityColor Cubo%,255,0,0


While Not KeyDown(1)
	;RenderCubemapCopyRect  Espejo, Camara,Textura  !! NO ERRROR TurnEntity Cubo%,1,1,1
	RenderToCubemap Espejo,Camara,Textura  ;&lt;&lt; Error
	TurnEntity Cubo%,1,1,1			;&lt;&lt; Error
	MouseLook(Camara%)
	RenderWorld 
	Flip
Wend 


Global DeltaTimeOld
Global MouseLookFirst=0
Function MouseLook(cam)
	If MouseLookFirst=0 Then
		MoveMouse GraphicsWidth()/2, GraphicsHeight()/2
		DeltaTimeOld = MilliSecs()
		MouseLookFirst=1
	EndIf
	Local t=MilliSecs()
	Local dt = t - DeltaTimeOld
	DeltaTimeOld = t
	Local dk# = Float(dt)/16.666
	s#=0.1*dk
	dx#=(GraphicsWidth()/2-MouseX())*0.004*dk
	dy#=(GraphicsHeight()/2-MouseY())*0.004*dk
	TurnEntity cam,-dy,dx,0
	RotateEntity cam,EntityPitch(cam,1),EntityYaw(cam,1),0,1
	If KeyDown(17) MoveEntity cam,0,0,s
		If KeyDown(31) MoveEntity cam,0,0,-s
			If KeyDown(32) MoveEntity cam,s,0,0 
				If KeyDown(30) MoveEntity cam,-s,0,0 
End Function
</textarea><br><b>RenderToCubemap Yes Error TurnEntity</b><br><img src="http://oi41.tinypic.com/11rx3yq.jpg"><br><br><b>RenderCubemapCopyRect No Error turnentity</b><br><img src="http://oi44.tinypic.com/35konkh.jpg"><br><br><img src="http://oi44.tinypic.com/oi68op.jpg"><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1183134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Real simple question regarding the FastExtension libraries:<br><br>Does anybody have a good, English translation of the License_retail.txt file? <br><br></td></tr></table><br>
<a name="1191621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MikhailV !!<br><br>My clients detected a huge memory leak in my application: causing systems to slow down and crash after every few hours of work!!<br><br>After much time of searching, I found out the problem is FastText.dll (1.26 retail version).<br><br>Using "Text_()" on a DUAL MONITOR setup will ALWAYS produce a memory leak !!!<br><br>On single-monitor setups: there is no problem.<br><br>Here is some additional information to help you:<br><br># To reproduce: Run ANY of the included FastText examples for Blitz3D - with 2 monitors attached! And see slow but substantial increase of memory usage in Task Manager.<br><br># The more text you print to screen, the bigger &amp; faster the leak!<br># Task Manager shows a 256k memory increase PER second when running at 50 fps.<br># I don't believe "TextRect_()" has a memory leak, but maybe very very slow/small ?!<br># Disabling the 2nd monitor also fixes it - but this is not very acceptable of course :)<br># It happens on Windows Vista, Win7 and Windows 8.<br># It happens with Blitz3D 1.98 up to the latest 1.106<br># I've tested on ATi AND NVidia cards: Same results.<br># The memory leak problem also exists in version FastText 1.22 (and 1.26)!<br># Everything else works perfect!! :)<br><br>I hope you guys can fix this problem very very soon, you can understand this is a big problem.<br><br>Good luck and thanks for all the other good work!!<br><br>Danny <br><br></td></tr></table><br>
<a name="1193127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yaragad</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can corroborate this. I bought Blitz3D 1.106 and Fastext 1.26. It works perfectly until I connect a second monitor, when I get the memory leak after some hours. Memory is stable until it shoots after some hours.<br><br>I have Intel Graphic card. <br><br></td></tr></table><br>
<a name="1193142"></a>

<a name="1193143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> so, does it happen only with Text_, or in general? As far as I see, in SMK there ain't no such leak but I may double-check it. I have to say I used to mod it so it does use only what I needed (render to texturebuffer) and won't substitute any blitz command. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
