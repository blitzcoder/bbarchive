<!DOCTYPE html><html lang="en" ><head ><title >JV-ODE Physics Thread 10</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >JV-ODE Physics Thread 10</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >JV-ODE Physics Thread 10</a><br><br>
<a name="807150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now available for <b>Blitz3D</b> &amp; <b>BlitzMax (Win32)</b><br><br>The JV-ODE Physics Wrapper is an advanced user library supporting almost all of the Open Dynamics Engine functions wrapped inside a DLL (Dynamic Link Library).<br><br>The library can be used with any programming language that supports DLL's, including Blitz3D and BlitzMax (Win32). The Euler rotation system in JV-ODE has been adapted to match the left-handed Euler rotation used in Blitz3D, however functions for accessing Quaternion and Axis Angle rotation systems are also included. The full versions contain all of the necessary files to get you started, including over 40 demos showing the various features found in ODE and a complete Function Reference document.<br><br>The BlitzMax (Win32) version also features a built-in 'bare-bones' OpenGL 3D engine module and B3D mesh loader module for demo purposes.<br><br>To view more information and screenshots <a href="http://jv-ode.devcode.co.uk/" target="_blank">click here</a>.<br><br>Options are now available to purchase the wrapper using either PayPal or Share*it.<br><br>The <b>Blitz3D</b> restricted demo version is now available for download <a href="http://jv-ode.devcode.co.uk/dload/JV-ODE-Demo-Blitz3D.zip" target="_blank">here</a> (212KB)<br><br>The <b>BlitzMax (Win32)</b> restricted demo version is now available for download <a href="http://jv-ode.devcode.co.uk/dload/JV-ODE-Demo-BlitzMax.zip" target="_blank">here</a> (283KB)<br><br>Have Fun :)<br><br>Previous JV-ODE Blitz3D Threads: <a href="/posts.php?topic=43653" target="_blank">1</a> <a href="/posts.php?topic=45048" target="_blank">2</a> <a href="/posts.php?topic=48743" target="_blank">3</a> <a href="/posts.php?topic=52572" target="_blank">4</a> <a href="/posts.php?topic=53490" target="_blank">5</a> <a href="/posts.php?topic=56209" target="_blank">6</a> <a href="/posts.php?topic=59001" target="_blank">7</a> <a href="/posts.php?topic=63898" target="_blank">8</a> <a href="/posts.php?topic=68198" target="_blank">9</a><br><br>Useful Links: <a href="http://www.ode.org/" target="_blank">ODE.org Website</a> - <a href="http://opende.sourceforge.net/wiki/" target="_blank">ODE Wiki</a> - <a href="http://www.ode.org/ode-latest-userguide.pdf" target="_blank">ODE User Guide (PDF)</a> - <a href="http://www.ode.org/ode-latest-userguide.html" target="_blank">ODE User Guide (HTML)</a> <br><br></td></tr></table><br>
<a name="807171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi that brake function worked:)<br><br>I tried this for the force-push<br><br>TFormVector 0,0,5,car#1,0<br>dBodyAddForce(car#2,TFormedX()*25,0,TFormedZ()*25)<br><br><br>but it didnt work,it created kind of random forces <br><br></td></tr></table><br>
<a name="810001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Vip3r, I not receive the your email with the link of new version of ODE.... <br><br>Other thing, How is the weight of 1 "mass"??? <br><br>Example:  1 mass = ??? <br><br></td></tr></table><br>
<a name="810019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi EmerGki,<br><br>I'd removed your email address from the update list because it constantly gives me an error message (Error: 550 - No such domain). It's the same address as the one in your profile here. I've re-sent the link using this address, if you don't receive it then please let me know.<br><br>Regarding the mass question, a mass value of 1.0 equals 1 kilogram in ODE if you're using 9.81m/s for gravity. <br><br></td></tr></table><br>
<a name="810216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Vip3r,<br>I think I missed the ODE update.<br>Please hit me: cmdrwayne(at)gmail.com<br><br>Thanks for the great ODE support, it's appreciated. <br><br></td></tr></table><br>
<a name="810294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Vip3r!!! <br><br></td></tr></table><br>
<a name="810296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Wayne: Thanks :)<br><br>The updates were sent to your 'spro.net' address.<br><br>I've sent your new update links and updated your email address on the updates list.<br><br>@EmerGki: You're welcome ;)<br><br>You're email address appears to have worked ok, I've added it back into the update list. <br><br></td></tr></table><br>
<a name="810413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> My email really didn't worked between January and May of this year... But for now, everything is ok  =D... <br><br></td></tr></table><br>
<a name="811460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi is there a command to get rid of all rigid bodies and geoms without having to reset the space and world? <br><br></td></tr></table><br>
<a name="811568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's possible, but not with one function.<br><br>First, loop through all of your geoms and destroy them individually with <i>dGeomDestroy(geom)</i>.<br><br>Next, do the same with the joints using <i>dJointDestroy(joint)</i>.<br><br>Lastly, do the same with the bodies using <i>dBodyDestroy(body)</i>.<br><br>Neither Space nor World will be affected by doing the above. <br><br></td></tr></table><br>
<a name="811728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, does dworlddestroy get rid of all geoms and bodies? <br><br></td></tr></table><br>
<a name="811833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, <i>dWorldDestroy(world)</i> destroys the World and all of its contents.<br><br>However, you should destroy all geoms manually beforehand, otherwise you'll get memory leaks. The reason for this is that <i>dWorldDestroy(world)</i> won't delete the collision data which is attached to each geom object, only <i>dGeomDestroy(geom)</i> will do this. <br><br></td></tr></table><br>
<a name="812090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah yes I did notice that things were colliding with nonexistent objects,<br>thanks <br><br></td></tr></table><br>
<a name="812616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a strange problem, when I create a bunch of cubes for the first time the physics take 6 millisecs<br>then I get rid of them and it takes 1 millisecs<br>but when I replace the same cubes it takes 25 millisecs<br><br>any idea why this might happen?<br><br>-EDIT<br>d'oh it was my fault again<br>I cant help it if Im dumb <br><br></td></tr></table><br>
<a name="812632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> No idea without seeing some code showing the problem.<br><br>If I create 800 cubes the physics time is 15.0, then if I destroy them I get 0.0, and replacing them gives 15.0 again. Repeating the process several times gives the same results.<br><br>I can only assume you've not deleted everything properly before replacing the cubes. Did you delete each object from the type collection after destroying the ODE objects for example?<br><br>[edit] Your fault again eh tut-tut :P <br><br></td></tr></table><br>
<a name="813678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm, I don't think i got any updates for this.  my e-mail is cnisbet@... <br><br></td></tr></table><br>
<a name="813732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Odd, I've not received any errors from your email address and it's definitely on the updates list.<br><br>I've re-sent it for you Craig, please let me know if you still don't receive it. <br><br></td></tr></table><br>
<a name="813792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a forum I can goto to get technical help with OLE?<br><br>I'm making a space combat game with it.  Only problem I'm having is that when my ship gets hit by my physics based asteroids in space, my ship starts spinning for infinity.  I can control the force on a translation basis, but is there any kind of angular force option so I can calm this effect down this endless rotation?  Or possibly a drag option I'm missing somewhere that will make in gradually slow down? <br><br></td></tr></table><br>
<a name="813798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can ask here about the technical queries. You can also ask on the official ODE mail list at www.ode.org, but keep in mind most of it will be C++ based code over there.<br><br>Try adding some damping with the following functions (whichever is applicable)...<br><i>dBodySetLinearVel(body,x#,y#,z#)<br>dBodySetAngularVel(body,x#,y#,z#)</i><br><br>There are also several functions for adding forces to objects...<br><i>dBodySetForce(body,x#,y#,z#)<br>dBodyAddForce(body,fx#,fy#,fz#)<br>dBodyAddRelForce(body,fx#,fy#,fz#)<br>dBodyAddForceAtPos(body,fx#,fy#,fz#,px#,py#,pz#)<br>dBodyAddForceAtRelPos(body,fx#,fy#,fz#,px#,py#,pz#)<br>dBodyAddRelForceAtPos(body,fx#,fy#,fz#,px#,py#,pz#)<br>dBodyAddRelForceAtRelPos(body,fx#,fy#,fz#,px#,py#,pz#)</i><br><br>All of the above functions are listed in the official ODE manual (link in top post) and the JV-ODE Function Reference doc. <br><br></td></tr></table><br>
<a name="814166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>JV-ODE V1.24 Update Released</b><br><br>Please check your inbox :)<br><br>JV-ODE is now compiled using ODE V0.8 source. To view the changes made to ODE, please visit the ODE Wiki link located <a href="http://opende.sourceforge.net/wiki/index.php/Changelog" target="_blank">here</a>.<br><br>A new 'Prismatic and Rotoide' joint has been added, you can learn more about this type of joint here...<br><a href="http://opende.sourceforge.net/wiki/index.php/Manual_(Joint_Types_and_Functions)#Prismatic_and_Rotoide" target="_blank">http://opende.sourceforge.net/wiki/index.php/Manual_(Joint_Types_and_Functions)#Prismatic_and_Rotoide</a><br><br>Added new functions:<br><i>dJointGetUniversalAngles()<br>dJointCreatePR()<br>dJointSetPRAnchor()<br>dJointSetPRAxis1()<br>dJointSetPRAxis2()<br>dJointSetPRParam()<br>dJointAddPRTorque()<br>dJointGetPRAnchor()<br>dJointGetPRPosition()<br>dJointGetPRPositionRate()<br>dJointGetPRAxis1()<br>dJointGetPRAxis2()<br>dJointGetPRParam()</i><br><br>The <i>dMassTranslate()</i> function is no longer supported in JV-ODE, as its main purpose was to be used in conjunction with Geom Transforms (which are now depreciated). To achieve the same results, you can use Geom Offsets to offset the geom from the body, which effectively moves the mass center of gravity. A more accurate option is to build objects using multiple bodies giving each an individual mass value, then join them with fixed joints. To remain backwards compatible, the <i>dMassTranslate()</i> function can still be used, but its effect will be the same as using <i>dMassTranslate(mass,0,0,0)</i>.<br><br>During testing prior to release, I noticed some slowdown in the following three demos (Blitz3D version only)...<br><i>CarDemo-DetailedC<br>CarDemo-JointFeedback<br>CarDemo-MultipleSpace</i><br>...these demos make heavy use of the text command, which depending on your graphics card/driver and OS (tested using Vista) could result in the loss of rendering speed. The problem is <b>not</b> related to JV-ODE, commenting out the text lines in the demos will fix the issue. Unfortunately, it can't be corrected as this information needs to be displayed in those demos. Something to be aware of.<br><br>There is also an updated JV-ODE 'C' include file available on request for registered users who wish to use JV-ODE in C++ using the Blitz3DSDK.<br><br>Please let me know if you experience any problems with the new update.<br><br>:) <br><br></td></tr></table><br>
<a name="814470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the update!<br><br>the new joint might come in handy in some situations. <br><br></td></tr></table><br>
<a name="814595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're very welcome OJay, thanks :) <br><br></td></tr></table><br>
<a name="814664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Judd</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> VIP3R,<br><br>Thank you very much for your continued excellent work.<br>Much appreciated.<br><br>New joint looks interesting.<br>No problems here, as always, with any of the demos.<br><br>cheers,<br><br>Mark<br><br>PS Sorry to see dMassTranslate() fall out of favour - i made quite heavy use of it in my last project ! <br><br></td></tr></table><br>
<a name="814744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark, very much appreciated :)<br><br>If you need any help replacing dMassTranslate() with  an alternative, please let me know and I'll guide you through it. <br><br></td></tr></table><br>
<a name="814763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caff_</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great to have these updates - so long after buying too! <br><br>Every time I get an update I always go back and have a play (then realise I've forgotten everything and have to learn it all from scratch) :) <br><br></td></tr></table><br>
<a name="814819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, cheers Caff ;) <br><br></td></tr></table><br>
<a name="815556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Craig H. Nisbet</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone know how to set rotational velocity relative to a bodies orientation?  It seems to only be able to set it in world space. <br><br></td></tr></table><br>
<a name="815595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> The API only supports setting a bodies velocity in global coordinates as far as I'm aware. I think the correct way is to add relative force and torque to achieve the required velocity instead.<br><br>You could also try adding a joint to the body with locked rotation axis (dParamLoStop/dParamHiStop = 0), then set rotational velocity using the joint motor (dParamVel/dParamFMax) which in turn will rotate the body. The joint may need attaching to the world for this to work. <br><br></td></tr></table><br>
<a name="816567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'd have to take your local orientation and transform it to global then apply it.  You can do this with the TFormNormal command.<br><br><pre class=code>
;Here is the local torque(force) we're going to apply
local_torqueX# = 10
local_torqueY# = 0
local_torqueZ# = 0

;First get the orientation of your mesh in global space
TFormNormal 0, 0, 1, mymesh, 0

;now multiply the torque by the global orientation
global_torqueX#  = local_torqueX * TFormedX#()
global_torqueY# = local_torqueY * TFormedY#()
global_torqueZ#  = local_torqueZ * TFormedZ#()

JVODE_ApplyForce(mymesh, global_torqueX, global_torqueY, global_torqueZ)
</pre><br>I may have the mymesh and the 0 reversed in the TFormNormal command.  Also, I know the syntax for the JV-ODE command isn't right but you get the idea.  This would mean you're applying 10 force of pitch down in local space.  That should work.  Let me know if it doesn't and I'll try again. <br><br></td></tr></table><br>
<a name="816838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess this is really a forum for problems and questions, but id just like to say, ive just got JV-ODE and its great. the best fun ive had in ages. even just  playing with the examples and seeing what different things do. thanks VIP3R your wrapper is money well spent! <br><br></td></tr></table><br>
<a name="817149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Pete, much appreciated :) <br><br></td></tr></table><br>
<a name="819782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I downloaded the demo of JV-ODE and have had some great fun with it, I can see huge possibilities with the car physics....  I've been 'throwing a bomb' with some success in pure B3D, but I can really see the appeal of your Physics wrapper. <br><br></td></tr></table><br>
<a name="819901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers Blitzplotter, happy to hear you're enjoying the demos :) <br><br></td></tr></table><br>
<a name="819902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> This maybe something fundamental I'm missing, but why aren't the blocks I'm creating as follows 'rigid' ?  (I was attempting to create a track (akin to stunt car racer) using your ramp code to jump the car onto the track...  But my track doesn't appear very solid... i.e. the car moves through it, instead of riding on top of it.)<br><br><pre class=code>

For z = 100 To 1000 Step 31  ;  31 apart in the z plane

		ode.ODEGeom=New ODEGeom		
		ode\body=dBodyCreate(World)
		ode\geom=dCreateBox(Space,2,3,z)
		dGeomSetRotation(ode\geom,0,0,90)
		dGeomSetPosition(ode\geom,15,5,z)		
		ode\mesh=CreateCube()
		ScaleMesh ode\mesh,4,60,20
		RotateMesh ode\mesh,0,0,0
		PositionMesh ode\mesh,0,0,0
		EntityColor ode\mesh,0,100,200
		EntityAlpha ode\mesh,1	
	
Next

</pre><br><br>Thanks in advance.... <br><br></td></tr></table><br>
<a name="819917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's difficult to say with the above code snippet only, but you've scaled the visible meshes wrong so you're probably driving through those as opposed to the ODE geometry...<br><br><i>dCreateBox(Space,2,3,z)</i> &lt;&lt;&lt; Are you sure you want the depth (z) larger for each box added?<br><br><i>ScaleMesh ode\mesh,4,60,20</i> &lt;&lt;&lt; The scale is wrong here, each dimension should be 2x ODE like so...<br><br><i>ScaleMesh ode\mesh,4,6,z*2</i> &lt;&lt;&lt; 2x 2, 2x 3, 2x z <br><br></td></tr></table><br>
<a name="819933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks very much for the help VIP3R.  I've incorporated some joypad code to your ramp demo, and am now working on a (simple) stunt car racer track. <br><br>( <a href="http://amigareviews.classicgaming.gamespy.com/stuntcar.htm" target="_blank">http://amigareviews.classicgaming.gamespy.com/stuntcar.htm</a> )<br><br>this is the code snippet that creates a track in front of the ramp (in your ramp demo)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;Start my attempt at creating track
track_width = 40
track_len = 31
track_depth = 6
rotate=-4
y=2: x = -25
For z = 100 To 1000 Step 31 
	y=y+2
	rotate=rotate-.4
		ode.ODEGeom=New ODEGeom		
		;ode\body=dBodyCreate(World) not needed for statics
		ode\geom=dCreateBox(Space,track_depth,track_width,track_len)
		dGeomSetRotation(ode\geom,rotate,0,90)
		dGeomSetPosition(ode\geom,x,y,z)		
		ode\mesh=CreateCube()
		
		;attempting to reduce meshes by a factor of two 
		ScaleMesh ode\mesh,(track_depth/2),(track_width/2),(track_len/2)
		RotateMesh ode\mesh,0,0,0
		PositionMesh ode\mesh,0,0,0
		EntityColor ode\mesh,0,100,200
		EntityAlpha ode\mesh,1		
Next

;my daughter wanted fences:
track_width = 10
track_len = 31
track_depth = 15
rotate=-4
x = -45
For rhs=0 To 1
	y=2
	For z = 100 To 1000 Step 31  ;  30 apart in the z plane
		y=y+2
		rotate=rotate-.4
		ode.ODEGeom=New ODEGeom		
		;ode\body=dBodyCreate(World) not needed for statics
		ode\geom=dCreateBox(Space,track_depth,track_width,track_len)
		dGeomSetRotation(ode\geom,rotate,0,90)
		dGeomSetPosition(ode\geom,x+(rhs*(track_width*4)),y,z)		
		ode\mesh=CreateCube() 
		ScaleMesh ode\mesh,(track_depth/2),(track_width/2),(track_len/2)
		RotateMesh ode\mesh,0,0,0
		PositionMesh ode\mesh,0,0,0
		EntityColor ode\mesh,100,100,200
		EntityAlpha ode\mesh,1		
	Next
Next
</textarea><br><br>You've another customer after payday.... a weeks time! <br><br></td></tr></table><br>
<a name="820051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one :)<br><br>You can omit the '<i>ode\body=dBodyCreate(World)</i>' on static geometry, a body is only needed for moving objects.<br><br>In the full version of JV-ODE, you'll be able to place all of those track/fence sections into their own sub-space. This allows you to disable collisions between each track/fence section (at the moment they will be colliding), resulting in a significant speed increase during collision checking.<br><br>I'll guide you through it when the time comes ;) <br><br></td></tr></table><br>
<a name="820125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi just one thing how do change the cars start position in the car demo (trimesh) . ive changed the mesh to a race track mesh i made and moved the camera to an postion so you can see the whole track. it works great ive got the car driving really nice by tweaking the mass and gravity setting, but does the car have to be created at 0,0,0 if so how do i move it to another position because i can move the car but wheels get left behind i know im missing some thing? i would love an example with more than one controlable car, maybe split screen? <br><br></td></tr></table><br>
<a name="820167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to move the initial wheel position too. Try adding the following code sections...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global CarStartX=20
Global CarStartY=40
Global CarStartZ=80

; ### Create car body

ode.ODEGeom=New ODEGeom
ode\body=dBodyCreate(World)
Car=ode\body
dBodySetRotation(ode\body,0,0,0)
dBodySetPosition(ode\body,CarStartX,CarStartY,CarStartZ)
mass=dMassCreate()
dMassSetBoxTotal(mass,CMass,3,1,4)
dBodySetMass(ode\body,mass)
dMassDestroy(mass)
ode\geom=dCreateBox(Space,3,1,4)
CGeom=ode\geom
dGeomSetBody(ode\geom,ode\body)
ode\mesh=CreateCube()
CMesh=ode\mesh
ScaleMesh ode\mesh,1.5,0.5,2
RotateMesh ode\mesh,0,0,0
PositionMesh ode\mesh,0,0,0
EntityColor ode\mesh,40,80,255
EntityAlpha ode\mesh,1

; ### Create wheels

For count=1 To 4
	ode.ODEGeom=New ODEGeom
	ode\body=dBodyCreate(World)
	Wheel(count)=ode\body
	dBodySetRotation(ode\body,0,0,0)
	dBodySetPosition(ode\body,0,0,0)
	mass=dMassCreate()
	dMassSetSphereTotal(mass,WMass,0.7)
	dBodySetMass(ode\body,mass)
	dMassDestroy(mass)
	ode\geom=dCreateSphere(Space,0.7)
	WGeom(count)=ode\geom
	dGeomSetBody(ode\geom,ode\body)
	ode\mesh=CreateCylinder(8)
	ScaleMesh ode\mesh,0.7,0.25,0.7
	RotateMesh ode\mesh,0,0,90
	PositionMesh ode\mesh,0,0,0
	EntityColor ode\mesh,255,255,255
Next

dBodySetPosition(Wheel(1),CarStartX-2,CarStartY-0.5,CarStartZ+2)
dBodySetPosition(Wheel(2),CarStartX+2,CarStartY-0.5,CarStartZ+2)
dBodySetPosition(Wheel(3),CarStartX-2,CarStartY-0.5,CarStartZ-2)
dBodySetPosition(Wheel(4),CarStartX+2,CarStartY-0.5,CarStartZ-2)
</textarea><br><br>...notice the last four lines, they position the wheels. <br><br></td></tr></table><br>
<a name="820204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks VIP3R, i understand which bit does what now. should be easy to add another car now. <br><br></td></tr></table><br>
<a name="820971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks again VIP3R, looking forward to using the full version.....  Modified my example 'somewhat limited', trackcode (I commented out my unneeded static calls).<br><br>Briefly attempted moving the car myself (simply so my daughter could drive onto the ramp without negotiation) However it resulted in the body being offset from the wheels, which could be (in not so severe a fashion) an interesting way to incorporate damage, so thanks for the above snippet of code. <br><br></td></tr></table><br>
<a name="821312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've created a (basic!) track in Wings3d, converted it to B3d with UU3D and managed to display it within an 'arena'<br><br>If it is a simple omission on my part, could you (or anyone...) please let me know what is missing from my code to make the b3d model 'rigid'.  The car drives straight through my track/model.  The track is very basic, but it is to learn how to code with your brilliant engine.  <br><br>Regards, Blitzplotter. <br><br></td></tr></table><br>
<a name="821504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you have the full version you will be able to convert the B3D mesh into a TriMesh. The TriMesh will be an identical copy used for the physics collision geometry. Note there isn't any TriMesh support in the demo version, hence the lack of collisions ;)<br><br>If you change your mind about which version to get (BMax / Blitz3D), you can take advantage of a 50% discount for existing users of either version. <br><br></td></tr></table><br>
<a name="821557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just downloaded my full version.... have successfully tri-meshed my track, it's lovely and solid, however it bounces around instead of being an immoveable object.  I've basically copied the addobject function from the tri-mesh demo, removed the random positioning so I position it where I want.<br><br>I've had a quick scan around the new example code, could you please point me in the right direction of how to make my tri-meshed track an unmoveable object?  I'll post my snippet of add object if necessary, but it is basically the same as the example Tri-mesh code.  In the mean time I'm off to build some stunt car racer-esk tracks (;-)<br><br>I'd like to finish by adding that I haven't had so much satisfaction &amp; fun from coding in 3D in... well... ever!  Your Physics engine is great.<br><br>Thanks in advance,  Blitzplotter. <br><br></td></tr></table><br>
<a name="821660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the compliments, much appreciated :)<br><br>Hmm, it sounds like your TriMesh is attached to a body somewhere. Make sure to only use geoms for static objects. <br><br></td></tr></table><br>
<a name="821710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers VIP3R, just created my first Mario-esque (N64, fort block...) tower and drove to the top of it.  <br><br>@Pete Carter: <div class="quote"> thanks VIP3R, i understand which bit does what now. should be easy to add another car now.  <br></div><br><br>Hmmm, I'll do that next... <br><br></td></tr></table><br>
<a name="821736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive just added a second car with no problems. Im just working on anolog joypad control now. <br><br>Whats this brake function thats talked about at the top of the thread? <br><br></td></tr></table><br>
<a name="821821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> The brake function was discussed at the end of thread 9, it was to show how to lock the wheels up solid like a handbrake. Very easy to do, use zero force and lots of torque on the wheel joints.<br><br>Adding the following code to the UpdateKeys() function in the car demos will lock all four wheels when the 'down' arrow key is pressed...<br><pre class=code>
If KeyDown(208)=1
	Force=0
	Torque=1000
	Else
	Torque=24
	End If
</pre> <br><br></td></tr></table><br>
<a name="821844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> very nice! thanks for clearing that up i will have a look though the old threads see if im missing anything else.<br><br>thanks VIP3R <br><br></td></tr></table><br>
<a name="821870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome :) <br><br></td></tr></table><br>
<a name="822571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >clownhunter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, can you tell me what email address you're sending the updates to because I didn't get this update. &gt;_&lt;  I think you might still have my dad's old email which he doesn't have anymore because we changed our ISP. :/ <br><br></td></tr></table><br>
<a name="822765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you email me with your original purchase details, along with the new email address? <br><br></td></tr></table><br>
<a name="822836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >clownhunter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure thing, I'll do it when I get home. <br><br></td></tr></table><br>
<a name="822957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> have just tried the truck and trailer code, very cool!  Manipulating the zombie is also very impressive. <br><br></td></tr></table><br>
<a name="825328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stu_ovine</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bit off topic but finally finished my 2D ODE game, using the wrapper of course :)<br><br><img src="http://exile.ovine.net/ad/exile.jpg"><br><br>More details at <a href="http://exile.ovine.net" target="_blank">http://exile.ovine.net</a><br><br>StuC <br><br></td></tr></table><br>
<a name="825444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey congrats Stu, that looks great!!!<br><br>:) <br><br></td></tr></table><br>
<a name="825784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> have you tried stacking cubes in 2d? <br><br></td></tr></table><br>
<a name="825917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure who you're directing the question to, but no I haven't tried it.<br><br>Are you having problems or just curious? <br><br></td></tr></table><br>
<a name="825954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stu_ovine</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes - in the game above the crates are all cubes, they stack great. <br><br></td></tr></table><br>
<a name="825955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stu_ovine</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Next venture is going to be using car physics.  Any tips/pointers anyone ?  Ive only being using JV-ODE in 2D ....... <br><br></td></tr></table><br>
<a name="826088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends on what type of car game, are you aiming for arcade or simulation?<br><br>It's best to begin with a simple body with four wheels like the demos. Next, you should simulate the engine and transmission, for example the revs, 2WD/4WD, gear ratios and torque. The next step depends on whether you want realism (simulation) or a more arcade style. For a simulation you will need to rebuild the car realistically, with weight distributed around the chassis correctly to represent things like the engine block etc. You can also build your own suspension system instead of using the built-in ODE hinge2 joint. With arcade designs this isn't as critical, you can achieve certain handling effects by exaggerating things like weight distribution and transmission.<br><br>Best thing to do is experiment with different setups until you find something close to what you're after, then refine it. <br><br></td></tr></table><br>
<a name="826098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for being off topic but I am totally new to JV-ODE and I would like to know how I can setup the car-demo samples with a  'real' car mesh and having the collisions for this mesh and not for a cube.<br>Any related links will help.<br><br>Thanks!<br><br>Edit: I have the full version of the wrapper for Blitz3D <br><br></td></tr></table><br>
<a name="826123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stu_ovine</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yea Im going more for arcade over full simulation.<br><br>Ive been messing with the setup of the demo car and also taking some bit from other ODE threads.<br><br>AT low speed everything looks and works like a dream, but as soon as the car gains speed, it slides, it flips and all sorts.<br><br>SOme of it I have limited by decreasing the steer rate at higher speeds (which limits the flipping) but Im still getting a degree of slide.  On any bump the car tends also to flip over in mid air.<br><br>I take it I need to create some GeomSetOffsetPosition() geoms to distribute the weight ? - DO these need a mass too ? <br><br></td></tr></table><br>
<a name="826138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Moraldi: It's best to use single or multiple primitives (like cubes) for the collision geometry of the car. You'll get much better performance this way. To add a mesh, simply replace the visible Blitz3D cube with any mesh.<br><br>@Ovine: Several things can cause flip problems, for example too much friction and not enough mass. For increased accuracy you can divide the physics steps into smaller segments, the CarDemo-HighSpeed demo does this. You can use Geom Offsets to distribute the mass of a single body (only bodies have mass, not geoms), another method is to create individual bodies with mass and then join them together with fixed joints. So you could add another cube to represent the engine block, give it some mass and fix it in place with the fixed joint. You can submerge a body (engine) within another body (car shell) provided they are jointed. <br><br></td></tr></table><br>
<a name="826140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stu_ovine</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the info, shall play more. <br><br></td></tr></table><br>
<a name="826192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> what code do you use to create a stack of boxes?<br>I used this:<br><pre class=code>
For x=0 To 5
		AddObject(x*27)
Next

Function AddObject(x)

;xp=Rand(-80,80)
xp=0
ode.ODEGeom=New ODEGeom
ode\body=dBodyCreate(World)
dBodySetRotation(ode\body,0,0,0)
dBodySetPosition(ode\body,xp,x,0)
dBodySetAutoDisableFlag(ode\body,1)
ode\geom=dCreateBox(Space,56,28,28)
dGeomSetBody(ode\geom,ode\body)
ode\r=Rand(255)
ode\g=Rand(255)
ode\b=Rand(255)

Joint2D=dJointCreatePlane2D(World,0)
dJointAttach(Joint2D,ode\body,0)

End Function
</pre><br>but the stack always collapses <br><br></td></tr></table><br>
<a name="826196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are a couple of things that could cause the collapse in the code you've posted. Firstly you're adding the boxes in real-time and stepping the simulation between each addition, this can cause the boxes to bounce against each other leading to instability. Another problem which will make matters worse is the 1 unit gap in your x variable which will become a 6 unit gap by the time the last box drops, amplifying the bounce problem.<br><br>For a more stable method, if possible stack the boxes all at once before stepping the simulation. Don't use a large gap between each box, use very small separation units (like 0.0001). Other things that can help would be to reduce, or zero the world/geom bounce parameters and also changing the world/geom CFM to make the boxes more rigid. The default CFM can cause boxes to be a little springy.<br><br>Note this applies to both 3D and 2D simulations. <br><br></td></tr></table><br>
<a name="826277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok maybe ive missed something but im starting to add sound to my little jv-ode car game and I dont know how to trigger different sounds when say the cars ode/body hits the wall it would make a bang sound and if the same car hit another car it would trigger say a metalic scrapping sound? <br><br>thanks Pete <br><br></td></tr></table><br>
<a name="826398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a look at the 'CarDemo-DetailedC' demo which shows how to return detailed collision info, it displays which objects have collided with the car body. You can check each collision on the car body, then play your sound depending on what type of body it has collided with.<br><br>The functions needed for this are dGeom1CollisionGeom(GeomID,index) and dGeom2CollisionGeom(GeomID,index). <br><br></td></tr></table><br>
<a name="826489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again VIP3R great as always <br><br></td></tr></table><br>
<a name="827196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stu, Exile looks and plays great.  (;-) <br><br></td></tr></table><br>
<a name="827260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i did this;<br>(taking it out of the main loop)<br><pre class=code>
dContactSetBounce(0.0)
dWorldSetCFM world,0
dContactSetMu(48)

For x=0 To 5
		AddObject((x*28)+14)
Next

Function AddObject(x)

;xp=Rand(-80,80)
xp=0
ode.ODEGeom=New ODEGeom
ode\body=dBodyCreate(World)
dBodySetRotation(ode\body,0,0,0)
dBodySetPosition(ode\body,xp,x,0)
dBodySetAutoDisableFlag(ode\body,1)
ode\geom=dCreateBox(Space,56,28,28)
dGeomSetBody(ode\geom,ode\body)
ode\r=Rand(255)
ode\g=Rand(255)
ode\b=Rand(255)

Joint2D=dJointCreatePlane2D(World,0)
dJointAttach(Joint2D,ode\body,0)

End Function
</pre><br><br>the blocks still seem very bouncy and slippery <br><br></td></tr></table><br>
<a name="827275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, the size of the boxes is causing some accuracy problems here. The further you stray from an object size of 1.0, the more chance of these issues occurring. This shouldn't pose much of a problem to convert, as you're using 2D? Change the size of the boxes from 56,28,28 to 4,2,2 or even better 1,0.5,0.5, then scale up the 2D object positions accordingly.<br><br>Here's a modified cubes demo (including the 2D joint) which uses boxes with 4,2,2 dimensions, it stacks in real-time and will stay stable until at least 10-12 boxes high...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; ###################################################################################################
; #										JV-ODE - Cubes Demo											#
; #									Code by Jim Williams (VIP3R)									#
; #								Devious Codeworks - Copyright  2007								#
; ###################################################################################################

AppTitle "JV-ODE - Cubes Demo"

Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Type ODEGeom
	Field body
	Field geom
	Field mesh
End Type

Global yp#=0.0

; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,1)
dWorldSetGravity(World,0,-0.98,0)
dContactSetMode(dContactSlip1)
dContactSetBounce(0.0)
dContactSetMu(48)

; ### Create light

Global Light=CreateLight()

RotateEntity Light,45,-90,0
LightColor Light,255,255,255
AmbientLight 130,130,130

; ### Create camera

Global Camera=CreateCamera()
CameraClsColor Camera,0,0,0
CameraRange Camera,1,1000
PositionEntity Camera,0,20,-50
RotateEntity Camera,30,0,0

; ### Create plane

dCreatePlane(Space,0,1,0,0)

Plane=CreatePlane()

EntityAlpha Plane,0.8

PlaneTexture=CreateTexture(128,128,9)

ClsColor 0,200,80
Cls

Color 255,255,255

Rect 0,0,64,64,1
Rect 64,64,64,64,1

CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture Plane,PlaneTexture,0,0

Mirror=CreateMirror()

; ###################################################################################################

While Not KeyHit(1)

	PTime=MilliSecs()

	If MilliSecs()-Timer&gt;700
		AddObject()
		Timer=MilliSecs()
		End If

	UpdateGeoms()

	dSpaceCollide(Space,World,ContactGroup)
	dWorldQuickStep(World,0.1)
	dJointGroupEmpty(ContactGroup)

	PhysicsTime#=MilliSecs()-PTime

	UpdateWorld

	RenderWorld

	Text 0,0,"JV-ODE Version "+dGetVersion()
	Text 0,15,"Physics Time:"+PhysicsTime

	Flip

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End

; ###################################################################################################

Function AddObject()

xp=0
yp=yp+2

ode.ODEGeom=New ODEGeom
ode\body=dBodyCreate(World)
dBodySetRotation(ode\body,0,0,0)
dBodySetPosition(ode\body,xp,yp,0)
dBodySetAutoDisableFlag(ode\body,1)
ode\geom=dCreateBox(Space,4,2,2)
dGeomSetBody(ode\geom,ode\body)
ode\mesh=CreateCube()
ScaleMesh ode\mesh,2,1,1
EntityColor ode\mesh,Rand(255),Rand(255),Rand(255)
EntityAlpha ode\mesh,1
EntityShininess ode\mesh,0.7

Joint2D=dJointCreatePlane2D(World,0)
dJointAttach(Joint2D,ode\body,0)

End Function

; ###################################################################################################

Function UpdateGeoms()

For ode.ODEGeom=Each ODEGeom
	If dBodyIsEnabled(ode\body)
		RotateEntity ode\mesh,dGeomGetPitch#(ode\geom),dGeomGetYaw#(ode\geom),dGeomGetRoll#(ode\geom)
		PositionEntity ode\mesh,dGeomGetPositionX#(ode\geom),dGeomGetPositionY#(ode\geom),dGeomGetPositionZ#(ode\geom)
		End If
Next

End Function

; ###################################################################################################
</textarea><br><br>To further improve the stability and accuracy, try splitting the time step up in the main loop (see CarDemo-HighSpeed for example). <br><br></td></tr></table><br>
<a name="827287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks thats a great help! <br><br></td></tr></table><br>
<a name="828540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> @OvineByDesign, your StuntCarRacer images brought a smile to my face, it looks a very good implementation of the one I mentioned a while back....  Brilliant looking work. <br><br></td></tr></table><br>
<a name="828688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Am attempting to detect when the cab of the truck within the truck demo gets within a certain proximity of some particular x, y and z co-ords.  With a view to analysing the area that I want to detect the cab is at during movement I am attempting to display the x and z co-ords whilst the truck is driving around. <br><br>Have had some success with incorporating the detailed car code into my truck demo, however I would like to know the x,y and z of the truck.  During my journey to here I've had a rethink on the way forward with my game.....  whilst analysing the way different objects are detected as being collided with.  <br><br>does the truck need to collide with something to analyse it's x,y and z co-ords in snapshot fashion as opposed to dynamically?  <br><br>I'm still overawed by the potential of this engine (;-)  , my next thang is to add gear change up's of the ilk you'd have with a big artick at certain speeds. <br><br></td></tr></table><br>
<a name="828773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> To get the position of any object at any time you can use...<br><br><i>dGeomGetPositionX#(ode\geom)</i> for an ODE geom<br><br><i>dBodyGetPositionX#(ode\body)</i> for an ODE body<br><br>You can also use Blitz3D entity coords (<i>EntityX(mesh)</i>) for the visible Blitz meshes (<i>ode\mesh</i>).<br><br>The <i>Collision X/Y/Z</i> in the detailed collisions demo shows the position of a collision, not an object. <br><br></td></tr></table><br>
<a name="828774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks VIP3R, that works a treat. <br><br></td></tr></table><br>
<a name="829638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Vip3r,<br><br>I'm trying to do a Robotic Arm, but, I think what I need to use Joints to move the arm up and down... <br><br>How can I control the Joints to move the arm ? (I need to use a joint to make the movement to left and right and other joint to make the movement up and down). <br><br></td></tr></table><br>
<a name="829724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most joints in ODE have a built-in motor. Depending on the joint used you can use the following constants in the <i>dJointSet[JointType]Param(joint,param,value)</i> functions...<br><br><i>dParamVel (force)<br>dParamFMax (torque)</i><br><br>You can control up to 3 motors in a multiple joint, for example dParamVel, dParamVel2, and dParamVel3 will set the force on three joint motors (if available).<br><br>For the Hinge joint (which has one motor), you would use the following code...<br><br><i>dJointSetHingeParam(Joint,dParamVel,forcevalue)<br>dJointSetHingeParam(Joint,dParamFMax,torquevalue)</i> <br><br></td></tr></table><br>
<a name="829780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Vip3r, I've tried this:<br><br>------------------<br><br>	Global AJoint2=dJointCreateHinge(World,0)<br>	dJointAttach(AJoint2,ode\body,0)<br>	dJointSetHingeAnchor(AJoint2,0,6,0)<br>	dJointSetHingeAxis(AJoint2,0,1,0)<br>	dJointSetHingeParam(AJoint2,dParamLoStop,-0.5)<br>	dJointSetHingeParam(AJoint2,dParamHiStop,0.5)<br><br><br>Key_Left=KeyDown(75)<br>Key_Right=KeyDown (77)<br><br>		If key_Right=0 And key_Left=0<br>			Force#=0<br>			dJointSetHingeParam(Ajoint2,dParamVel,Force#)		<br>			dJointSetHingeParam(AJoint2,dParamFMax,1000)		<br>		EndIf 		<br>	<br>		If Key_Right<br>			Force#=10<br>			dJointSetHingeParam(AJoint2,dParamVel,Force#)	; ### Force<br>			dJointSetHingeParam(AJoint2,dParamFMax,240)	; ### Torque<br>		EndIf <br><br>		If Key_Left<br>			Force#=-10<br>			dJointSetHingeParam(AJoint2,dParamVel,Force#)	; ### Force<br>			dJointSetHingeParam(AJoint2,dParamFMax,240)	; ### Torque<br>		EndIf <br>------------------<br><br>Not work, I don't know why.<br>If I only place the command outside "If", work normally. But, I stay without control... :(<br><br>dJointSetHingeParam(AJoint2,dParamVel,Force#)	; ### Force<br>dJointSetHingeParam(AJoint2,dParamFMax,240)	; ### Torque <br><br></td></tr></table><br>
<a name="829844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> It only works outside of the 'If' statement? Hmm, very odd.<br><br>If you can post or send me the full source code, I'll look into it for you. <br><br></td></tr></table><br>
<a name="832488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, Sorry for the noobness of this question,  I am trying to apply a texture to a model I have created in Wings within my ODE world.  I've textured simple cuboids successfully, however  my attempt at adding the texture to a more complex model is as follows - (it fails to compile when I incorporate the Entity Texture command with a memory access violation which I have associated in the past with failing to load the bitmap.)  This isn't the case here.:<br><br><pre class=code>
unction AddMario()

ode.ODEGeom=New ODEGeom

ode\body=dBodyCreate(World)  

dBodySetAutoDisableFlag(ode\body,1)

ode\mesh=LoadMesh("wings tracks\track_10_b3d.b3d")
ScaleMesh ode\mesh,15,15,15
RotateMesh ode\mesh,0,0,180  ;*1
PositionMesh ode\mesh,200,0,180 ;*2
EntityColor ode\mesh,Rand(255),Rand(255),Rand(255)
;EntityTexture ode\mesh, build_txt      fails to compile if try this

EntityAlpha ode\mesh,1
EntityShininess ode\mesh,0.7

ode\geom=CreateTriMesh( Space,ode\mesh)
End Function

</pre><br><br>I have unwrapped my model within UU3D, attempted to use UU3D to try and create a mesh? (failed...)  then referred to page 90 and 91 of the B3D manual regarding texturing.  Any help appreciated,  regards - BP. <br><br></td></tr></table><br>
<a name="832550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's nothing in the code you've posted which would cause the error as far as I can tell. Btw, you don't need to create the ode\body for a static object (track).<br><br>Do you get any more error info with debug enabled?<br><br>It's definitely not an ODE/JV-ODE related issue, but a Blitz3D problem. Double check your 'build_txt' texture is loading etc. Creating a TriMesh from a textured mesh entity will work fine. <br><br></td></tr></table><br>
<a name="832618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the feedback VIP3r, (I'll remove the unecessary line....) the problem was due to the fact that the function that was attempting to access the non global texture, the function could not see it.  The resolution was when I loade3d it to slap global in front of the texture load so the function has visibility of it.  Simple but true.  I've now textured my 'floor' to boot.... actually got a playable demo of it, end zone truckin.<br><br>This is my 1000th post ! not that it matters.....  It is a testament to the strength of both BRL and this community however! <br><br></td></tr></table><br>
<a name="832869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jim, I want what only the wheels do not collide with the other cars, How can I do this? <br><br></td></tr></table><br>
<a name="832954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can prevent collisions between the wheels of one car and the wheels of other cars by placing all car wheels into their own sub-space (WheelSpace), then disable internal collisions with <i>dSetInternalSpaceCollideMode(0)</i>. The car bodies do not need to be in the same space as the wheels.<br><br>Doing the above will only prevent wheels from colliding with other wheels, they will still collide with the other car bodies. <br><br></td></tr></table><br>
<a name="833767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe a silly question but is there any chance of you making a wrapper for ode for linux? linux does have its own version of a dll, i dont know much about it but i uses linux alot and would love to convert my game to max and if it was cross format even better. <br><br></td></tr></table><br>
<a name="833893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not very likely, sorry. It would involve changing compilers again, plus tweaking the code to be compatible with the other compiler. An awful lot of work for a tiny fraction of potential users.<br><br>The Linux market is almost non-existent IMO, despite the 'zealots' insisting otherwise. <br><br></td></tr></table><br>
<a name="833950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> fair play, i knew it was a long shot. at least you have done the windows one for max <br><br></td></tr></table><br>
<a name="834062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> Vip3r, How can I know if a vehicle hit a wall, in a Trimesh... And, how Can I "free" a trimesh during the game?<br><br>(I've look in the demo "detailed Collisions", but, in all options, One Geom was created to each "box, cylinder, sphere, etc..", and, I want to use Trimesh)<br><br>Thank you <br><br></td></tr></table><br>
<a name="834168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use <i>dGeom1CollisionGeom(GeomID,index)</i> and <i>dGeom2CollisionGeom(GeomID,index)</i> to detect a collision with a TriMesh, in the same way as the detailed collisions demo. They will return the handle of the TriMesh if the 'GeomID' geom has collided with it. Make sure you use a global handle for the TriMesh.<br><br>The easiest way to detect collisions with walls in a TriMesh is to actually separate the mesh into different pieces and create a TriMesh for each, for example one for the road surface, another for the walls and so on. Then you can detect which TriMesh has collided, the wall or the road surface etc. <br><br></td></tr></table><br>
<a name="834216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank You Jim =D! One more great help! <br><br></td></tr></table><br>
<a name="835169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks again VIP3R just had a run though of your wrapper demos for max. I hoping when i get minib3d working, (ive posted in the minib3d forum) to move my driving game over to max, its coming along well but could do with FSAA which works in minib3d plus ive been meaning to make the move for quit some time. <br><br>A question i know the OpenGL engine that comes with your wrapper is only basic but have you put in any commands for scaling or rotating the b3d mesh once its been loaded? its very fast on my machine which is nice.<br><br>thanks again loving your work <br><br></td></tr></table><br>
<a name="835425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome both, thanks :)<br><br>There is scaling built into the draw functions in the OpenGL engine but not rotation, that has to be handled separately. If you take a look at the UpdateGeoms() function in the BMax demos, you will see that the rotation is handled in there directly. It also shows the full parameters for the draw functions, for example <i>DrawCube(xscale,yscale,zscale)</i>.<br><br>MiniB3D would be the way to go though, the built-in JV-ODE OpenGL engine is far too primitive to be used for anything other than the demos. It's fine for tinkering with until you're ready to plunge into MiniB3D of course ;) <br><br></td></tr></table><br>
<a name="838798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello sorry its me again VIP3R. <br><br>What part of the detailed collision example finds out what body has collided with on object. I want to find out in my multiplayer car game which car crosses the line first and the line is a different trimesh. so when the wheel hits it i want to know which car it was. oh and there are 4 identicle cars if that matters, they are created in the same way as your examples. but with different ids, car1 car2, wheel1(1), wheel2(1) etc<br><br>i dont fully understand the GeomCollisionInfo(GeomID) function.<br><br>Pete <br><br></td></tr></table><br>
<a name="838816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Pete,<br><br>You use <i>dGeom1CollisionGeom(GeomID,index)</i> and <i>dGeom2CollisionGeom(GeomID,index)</i> to detect which geom has collided with another.<br><br>Ok, first you need to check that the object has collided with something using <i>dGeom1CountCollisions(GeomID)</i> and <i>dGeom2CountCollisions(GeomID)</i>. You will get errors on the other collision functions if there are no collisions detected.<br><br>Next you want to know if the car wheels have touched the finish line mesh. To do this you will need the finish line mesh geom handle ( <i>FinishLineGeom=CreateTriMesh(blah)</i> ) and the wheel geom handles ( <i>Wheel1(CarNumber)</i> ) like so...<br><br><pre class=code>
For CarCount=1 To CarTotal
   If dGeom1CountCollisions(Wheel1(CarCount))&gt;0 Then CollisionGeom1=dGeom1CollisionGeom(Wheel1(CarCount),1)
   If dGeom2CountCollisions(Wheel1(CarCount))&gt;0 Then CollisionGeom2=dGeom2CollisionGeom(Wheel1(CarCount),1)

   If CollisionGeom1=FinishLineGeom Or CollisionGeom2=FinishLineGeom Then Winner=CarCount
Next
</pre>The above will only check the first collision (index=1) and only the first wheel (Wheel1), you might want to check each collision index and each wheel, but it should give you the idea.<br><br>The 'index' parameter is the collision number, if an object collides with two other objects at the same time, you can check index '1' for the first collision and then '2' for the second and so on. The maximum amount of collisions will be returned by the <i>dGeom1/2CountCollisions(GeomID)</i> functions. <br><br></td></tr></table><br>
<a name="838853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks that helps i give it a go. <br><br></td></tr></table><br>
<a name="844867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pimpom</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, how would you go on creating a waypoint system using ode (how to apply force to the direction of the goal)? Thanks. <br><br></td></tr></table><br>
<a name="845001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on the use, for example if it's a car then you adjust the wheel angles towards the goal to steer the car in that direction.<br><br>To add force to a whole object, like a spaceship etc, you need to work out the angles towards the goal and apply forces to each vector accordingly, for example to move forwards and diagonally right you would add the same force to fx# and fz#.<br><br>There are several functions for adding forces to objects...<br>dBodyAddForce(body,fx#,fy#,fz#)<br>dBodyAddRelForce(body,fx#,fy#,fz#)<br>dBodyAddForceAtPos(body,fx#,fy#,fz#,px#,py#,pz#)<br>dBodyAddForceAtRelPos(body,fx#,fy#,fz#,px#,py#,pz#)<br>dBodyAddRelForceAtPos(body,fx#,fy#,fz#,px#,py#,pz#)<br>dBodyAddRelForceAtRelPos(body,fx#,fy#,fz#,px#,py#,pz#) <br><br></td></tr></table><br>
<a name="845148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pimpom</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi VIP3R, thank you.<br><br>My object is getting off the waypoint and then returns nearer it (a few times, to just get to the point). I have identified angular velocity as the culcript. Is there a way to provide a maximun angular velocity without doing it each cycle? (Currently I set its angular velocity to 0 before adding force again). <br><br></td></tr></table><br>
<a name="845330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> The forces are accumulative in ODE so they must be added each cycle (step).<br><br>Have a look at the following guide, it may prove useful for your simulation...<br><a href="http://opende.sourceforge.net/mediawiki-1.6.10/index.php/HOWTO_thrust_control_logic" target="_blank">http://opende.sourceforge.net/mediawiki-1.6.10/index.php/HOWTO_thrust_control_logic</a> <br><br></td></tr></table><br>
<a name="845619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pimpom</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, thank you. I will be looking closely into those and the wiki. <br><br></td></tr></table><br>
<a name="847337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Judd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello VIP3R,<br><br>Hopefully a fairly easy one for you (ive searched around a bit and not found an answer, so apologies if its been explained elsewhere).<br><br>Can you switch off collision between two defined 'spaces' ?<br><br>I have created three spaces, a main one and two child spaces within the main one.<br><br>I dont want the geoms in the two child spaces to collide with one another - but i want geoms in the main space to collide with everything in the child spaces.<br><br>Hope ive explained that OK - any ideas ?<br><br>[edit]<br>Ive had some succes using the dSetInternalSpaceCollideMode(0) command - and then putting all the stuff i dont want to collide into the same space, and stuff ido want to collide into separate spaces.<br><br>Not ideal though - you know when you feel youre doing something in a way not intended by the designers ?!<br><br>Another quick question - is there an upper limit to the number of tris you can pass when creating a tri-mesh ?<br>If there is, and you exceed it, does ODE just ignore the excess tris ?<br>If so that would explain some weird stuff thats been annoying me.<br>[/edit]<br><br>cheers<br><br>Mark <br><br></td></tr></table><br>
<a name="847387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>Good to see you :)<br><br>For the first question you could use <i>dSpaceCollide2()</i> instead of <i>dSpaceCollide()</i>, but you would need to check individual spaces (or even geoms) manually doing this. There may be an impact on speed as a result, depending on how many spaces or geoms are checked for collisions.<br><br>Your alternative will work fine though. The <i>dSetInternalSpaceCollideMode()</i> feature of JV-ODE was designed to be used in that way, so it's optimised for speed. The spaces and objects need to be ordered in such a way for this to work, which can get tricky. Don't forget you can use multiple levels of spaces too, every space (and sub-space) can have further sub-spaces.<br><br>Regarding the second question, I'm not aware of an upper limit for TriMesh tris. If there was a limit it would throw an error when creating the TriMesh as it has to allocate memory depending on the tri/vert count.<br><br>Can you describe the weird stuff, you never know it might be something simple ;) <br><br></td></tr></table><br>
<a name="847399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Judd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi VIP3R,<br><br>Thanks for the help.<br>I think I understand the dSetInternalSpaceCollideMode() command a little better now, it just seemed a bit awkward at first, but it certainly is fast.<br>Overall I can't believe just how quick the collision stuff is with JV-ODE.<br><br>Hope you dont mind ive clogged your thread with some screenies, but to explain my 'weird stuff' i thought an image might help :-<br><br><img src="http://www.wildebeestgames.com/JV-ODE/globe.jpg"><br><img src="http://www.wildebeestgames.com/JV-ODE/day.jpg"><br><img src="http://www.wildebeestgames.com/JV-ODE/sunset.jpg"><br><img src="http://www.wildebeestgames.com/JV-ODE/night.jpg"><br><br>Im creating a procedural world, no media, all built internally.<br>Not sure where im going with the project but i liked the look of the planets in 'spore' and wanted to try to create something similar.<br>So far i have a planet with gravity, trees, water and a car in which you can drive around in - to look at the trees and water.<br>I also added a sun and made the planet rotate so you get a day / night cycle.<br><br>Quick video (5mb / 60sec) : <a href="http://www.wildebeestgames.com/JV-ODE/GlobeWIP.wmv" target="_blank">http://www.wildebeestgames.com/JV-ODE/GlobeWIP.wmv</a><br><br>Method :<br>First is the planet surface which is a mesh sphere. This is split into chunks and sent to ODE as a series of tri-meshes.<br>No problems so far.<br><br>Next is some surface detail - trees. As you can (hopefully) see from the image above the trees are in clumps.<br>There are two sets of tree geometry - a complex model for the visuals and simple model for sending to ODE.<br>If the clumps are too large the tri-meshes sent to ODE only partially work. i.e. you can drive 'through' some of the trees (in the same clump) whilst others are solid.<br>By making the clumps smaller (i.e. fewer trees and so fewer tris) then all the geometry becomes solid.<br><br>Hence my earlier question about an upper limit on the number of tris a tri-mesh will accept.<br><br>Any thoughts mate ? <br>I will do some tests over the next few days to see if large tri numbers affect the gemetry of the model within ODE.<br><br>Thanks again for your continued help and support - your wrapper is easily the best thing i have ever purchased for my coding.<br><br>cheers,<br><br>Mark <br><br></td></tr></table><br>
<a name="847407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DaveKovaka</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> VIP3R<br>I am having trouble using the slider joint. I am trying to use it to attach to the top of the car provided in your Car demo. I previously atached a trimesh object to the front of the car using a hinge joint without problem.<br>After using all of the corresponding commands for the slider joint (except there seems to be no way to specify an attachment point) I can only succeed in raising the car off the ground. This joint is acting as if it were attached to the car and the plane instead of the box and the plane. <br>I have tried turning on and off various parameters without better luck. using dbodyenable on my box before the dparam vel command results in an error: <br>Bad argument(s) (..\..\ode\src\ode.cpp:814)<br>Do you have any ideas on how i can get this joint to work? <br><br></td></tr></table><br>
<a name="847456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark: Don't worry about clogging the thread, they're nice images so they brighten the thread up a bit. Thanks for the kind compliments :)<br><br>Ok, the first thing to check is to make sure each static object doesn't collide with the others, for example you don't need tree&gt;tree or tree&gt;ground collision checking. To correct this, place all static objects into a sub-space and disable internal collide mode (as you did above).<br><br>Although there's no limit to the amount of tris in a TriMesh, there is a limit to the amount of collision contacts ODE will process each iteration. If you're scenery TriMeshes are colliding with each other it will make the problem much worse. This will most likely explain the ability to drive through some objects and not others. You can adjust the <i>dWorldSetQuickStepNumIterations(world,num)</i> and <i>dContactSetMaxContacts(max)</i> functions to see if they help if the problem remains after checking the static ojects aren't colliding.<br><br>If the problem persists let me know, I'd like to discover the cause if possible. The night cycle and headlight effects looked great in the video, actually spore was the first thing that came to mind when I saw the images.<br><br>@DaveKovaka: For some odd reason ODE doesn't provide anchor points for a slider joint, so they're always anchored to the center of a body, I'm not sure why. You shouldn't get that error from enabling a body before accessing joint parameters so that may indicate a problem with the simulation setup somewhere. Here's a slider joint demo, it also uses dBodyEnable() prior to setting dParamVel...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; ###################################################################################################
; #										JV-ODE - Slider Demo										#
; #									Code by Jim Williams (VIP3R)									#
; #								Devious Codeworks - Copyright  2007								#
; ###################################################################################################

AppTitle "JV-ODE - Slider Demo"

Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Global SliderRange=30

Type ODEGeom
	Field body
	Field geom
	Field mesh
End Type

Dim Sphere(10)
Dim Joint(10)

; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,1)
dWorldSetGravity(World,0,-0.98,0)
dContactSetMode(dContactBounce)
dContactSetBounce(0.1)
dContactSetMu(48)

; ### Create Slider

For count=1 To 2
	ode.ODEGeom=New ODEGeom
	ode\body=dBodyCreate(World)
	Sphere(count)=ode\body
	dBodySetRotation(ode\body,0,0,0)
	dBodySetPosition(ode\body,-30,100-(count*30),0)
	dBodySetAutoDisableFlag(ode\body,1)
	ode\geom=dCreateSphere(Space,4)
	dGeomSetBody(ode\geom,ode\body)
	ode\mesh=CreateSphere()
	ScaleMesh ode\mesh,4,4,4
	RotateMesh ode\mesh,0,0,0
	PositionMesh ode\mesh,0,0,0
	EntityColor ode\mesh,Rand(255),Rand(255),Rand(255)
	EntityAlpha ode\mesh,1
	EntityShininess ode\mesh,0.7
	If count=1
		Joint(count)=dJointCreateBall(World,0)
		dJointAttach(Joint(count),0,Sphere(count))
		dJointSetBallAnchor(Joint(count),dBodyGetPositionX(Sphere(count)),dBodyGetPositionY(Sphere(count)),dBodyGetPositionZ(Sphere(count)))
		Else
		Joint(count)=dJointCreateSlider(World,0)
		dJointAttach(Joint(count),Sphere(count-1),Sphere(count))
		dJointSetSliderAxis(Joint(count),0,1,0)
		dJointSetSliderParam(Joint(count),dParamLoStop,-SliderRange)
		dJointSetSliderParam(Joint(count),dParamHiStop,SliderRange)
		End If
Next

; ### Create light

Global Light=CreateLight()

RotateEntity Light,45,-90,0
LightColor Light,255,255,255
AmbientLight 130,130,130

; ### Create camera

Global Camera=CreateCamera()
CameraClsColor Camera,0,0,0
CameraRange Camera,1,1000
PositionEntity Camera,0,90,-100
RotateEntity Camera,30,0,0

; ### Create plane

dCreatePlane(Space,0,1,0,0)

Plane=CreatePlane()

EntityAlpha Plane,0.8

PlaneTexture=CreateTexture(128,128,9)

ClsColor 0,200,80
Cls

Color 255,255,255

Rect 0,0,64,64,1
Rect 64,64,64,64,1

CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture Plane,PlaneTexture,0,0

Mirror=CreateMirror()

; ###################################################################################################

While Not KeyHit(1)

	UpdateKeys()

	PTime=MilliSecs()

	If MilliSecs()-Timer&gt;700
		AddObject()
		Timer=MilliSecs()
		End If

	UpdateGeoms()

	dSpaceCollide(Space,World,ContactGroup)
	dWorldQuickStep(World,0.1)
	dJointGroupEmpty(ContactGroup)

	PhysicsTime#=MilliSecs()-PTime

	UpdateWorld

	RenderWorld

	Text 0,0,"JV-ODE Version "+dGetVersion()
	Text 0,15,"Physics Time:"+PhysicsTime
	Text 640,0,"Add Force To Slider"
	Text 640,15,"Using Arrow Keys"
	Text 640,55,"Add Motor Velocity"
	Text 640,70,"Using F1 &amp; F2"

	Text 0,80,"Slider Position: "+dJointGetSliderPosition(Joint(2))
	Text 0,95,"Slider Rate: "+dJointGetSliderPositionRate(Joint(2))

	Flip

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End

; ###################################################################################################

Function AddObject()

ode.ODEGeom=New ODEGeom
ode\body=dBodyCreate(World)
dBodySetRotation(ode\body,0,0,0)
dBodySetPosition(ode\body,30,80,0)
dBodySetAutoDisableFlag(ode\body,1)
ode\geom=dCreateBox(Space,10,5,10)
dGeomSetBody(ode\geom,ode\body)
ode\mesh=CreateCube()
ScaleMesh ode\mesh,5,2.5,5
EntityColor ode\mesh,Rand(255),Rand(255),Rand(255)
EntityAlpha ode\mesh,1
EntityShininess ode\mesh,0.7

End Function

; ###################################################################################################

Function UpdateKeys()

dBodyEnable(Sphere(2))

If KeyDown(59)
	dJointSetSliderParam(Joint(2),dParamVel,-3)
	dJointSetSliderParam(Joint(2),dParamFMax,100)
	End If

If KeyDown(60)
	dJointSetSliderParam(Joint(2),dParamVel,3)
	dJointSetSliderParam(Joint(2),dParamFMax,100)
	End If

If dJointGetSliderPosition(Joint(2))=SliderRange Or dJointGetSliderPosition(Joint(2))=-SliderRange
	dJointSetSliderParam(Joint(2),dParamVel,0)
	dJointSetSliderParam(Joint(2),dParamFMax,100)
	End If

If KeyDown(203) Then dBodyAddForce(Sphere(2),-10,0,0)
If KeyDown(205) Then dBodyAddForce(Sphere(2),10,0,0)
If KeyDown(200) Then dBodyAddForce(Sphere(2),0,10,0)
If KeyDown(208) Then dBodyAddForce(Sphere(2),0,-10,0)

End Function

; ###################################################################################################

Function UpdateGeoms()

For ode.ODEGeom=Each ODEGeom
	If dBodyIsEnabled(ode\body)
		RotateEntity ode\mesh,dGeomGetPitch#(ode\geom),dGeomGetYaw#(ode\geom),dGeomGetRoll#(ode\geom)
		PositionEntity ode\mesh,dGeomGetPositionX#(ode\geom),dGeomGetPositionY#(ode\geom),dGeomGetPositionZ#(ode\geom)
		End If
Next

End Function

; ###################################################################################################
</textarea> <br><br></td></tr></table><br>
<a name="847489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Judd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks VIP3R,<br><br>I believe you've hit the nail on the head - re: maximum collision contacts processed per iteration.<br>If I mess with dWorldSetQuickStepNumIterations(world,num) and dContactSetMaxContacts(max) i can decrease the frequency with which my car passes through trees albeit with a corresponding increase in processing time per iteration.<br>However I am now using the space method along with disabling internal collide mode which works beautifully.<br><br>I also think part of the previous problem is that the tri-meshes im creating are occupying the same space (bounding box wise) because they are arranged as a sphere - so the ODE engine thinks they *could* collide - so does the checks each iteration.<br><br>Thanks again for your help,<br><br>Mark <br><br></td></tr></table><br>
<a name="847649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome :)<br><br>You could also try increasing the accuracy of the simulation by splitting up the time steps in your main loop, as shown in the 'CarDemo-Highspeed' demo. It may catch more collision contacts due to increased timing resolution. <br><br></td></tr></table><br>
<a name="848108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im having fun trying to get the AI in my game to drive a car round the track, I trying it by using a waypoint system but its very hit and miss at the moment. Have you tried anything like this vip3r? <br><br></td></tr></table><br>
<a name="848263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your best bet is to follow a tutorial on waypoints, I don't know of any to hand, but there are bound to be a few on the forums here somewhere.<br><br>Once you have the waypoint system worked out, it should be mostly straight forward to guide the cars to them using their steering and adding forces.<br><br>If you're having a specific problem, try to explain it in detail, it's difficult to suggest anything without knowing what's happening exactly. <br><br></td></tr></table><br>
<a name="848278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> If i get really stuck ill post or send you the code, but its still fun playing with it at the moment. I just wondered if anyone had done something like this before and had any tips on how to handle it. <br><br>at the moment im using 2 entities attached to the car and using the entity distance of the two entities to deside steering, ive got the car to look for the next waypoint and drive at a lower speed if not pointing directly at the next waypoint. this gets the cars to slow down for bends in the track. if they get stuck at the moment they just ram the object thats blocking them so i need to work on it a bit more yet.<br><br>thanks VIP3R <br><br></td></tr></table><br>
<a name="856619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Riskjockey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br>I just purchased the JV-ODE yesterday, and its already proved extremely powerful- I'm loving it!<br>However I've run into a problem regarding cylinder &gt; triMesh collision. After scanning through these threads, am I right in thinking that the problem is in the source engine, not the wrapper?... or is it something that has not been implemented in the wrapper yet?<br>And, I know that capped cylinders work, but for my purposes its not really a solution as I really do need a flattened cylinder with no rounded caps.<br><br>Has anyone else been able to get it working, or knows of any work-arounds? <br><br></td></tr></table><br>
<a name="856625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi and welcome :)<br><br>The Cylinder&gt;TriMesh collisions are not implemented in the ODE core (engine source) yet. There was an attempt to fix this quite recently but it broke other stuff like Cylinder&gt;Cylinder collisions, so I'm waiting until they fix it properly before I update JV-ODE with the new cylinder source.<br><br>The only workaround is to attach other geoms (like spheres) to the cylinder to provide the collision detection instead. The 'CarDemo-SphereWrapCylinder' demo shows the workaround in action, but if you're creating disc/coin shaped objects you will need to position many small spheres around the rim for this to work. Otherwise just apply the spheres along the shaft of the cylinder as the above demo does. <br><br></td></tr></table><br>
<a name="856636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Riskjockey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, I'll take a look at that demo and see if I can apply it as a workaround for now. However, I suspect I'll need to wait for a proper fix to the core engine.<br>Its good to know you intend to keep the wrapper updated though, as and when the core changes.<br>And thanks for responding so quickly! <br><br></td></tr></table><br>
<a name="860039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thread number 10 !!!<br>This is amazing!<br>Congratulations for your work Vip3r.<br><br>I've been very busy the last months (years?) XD<br><br>Regards for everyone! <br><br></td></tr></table><br>
<a name="860083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Kuri thanks, it's good to see you :)<br><br>Hope everything is going well for you. <br><br></td></tr></table><br>
<a name="860482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> mr.VIP3R, does your ODE wrapper support cloth?? If so i would like to see some example and in that case, do my happy purchase.. <br><br></td></tr></table><br>
<a name="860504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but not natively. You need to create your own cloth object using a matrix of spheres attached to each other with ball joints. Any physics engine with ball joints should be capable of this. Here's a quick demo...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; ###################################################################################################
; #										 JV-ODE - Cloth Demo											#
; #									Code by Jim Williams (VIP3R)									#
; #								Devious Codeworks - Copyright  2008								#
; ###################################################################################################

AppTitle "JV-ODE - Cloth Demo"

Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Type ODEGeom
	Field body
	Field geom
	Field mesh
End Type

Dim Sphere(10,10)
Dim Joint(200)

; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,1)
dWorldSetGravity(World,0,-0.98,0)
dContactSetMode(dContactBounce)
dContactSetBounce(0.1)
dContactSetMu(48)

; ### Create Cloth Spheres

For x=1 To 10
	For y=1 To 10
		ode.ODEGeom=New ODEGeom
		ode\body=dBodyCreate(World)
		Sphere(x,y)=ode\body
		dBodySetRotation(ode\body,0,0,0)
		dBodySetPosition(ode\body,-25+(x*4),90-(y*4),-30)
		dBodySetAutoDisableFlag(ode\body,1)
		ode\geom=dCreateSphere(Space,2)
		dGeomSetBody(ode\geom,ode\body)
		ode\mesh=CreateSphere()
		ScaleMesh ode\mesh,2,2,2
		RotateMesh ode\mesh,0,0,0
		PositionMesh ode\mesh,0,0,0
		EntityColor ode\mesh,Rand(255),Rand(255),Rand(255)
		EntityAlpha ode\mesh,1
		EntityShininess ode\mesh,0.7
	Next
Next

; ### Create Cloth Joints

count=1

For x=1 To 10
	For y=1 To 10
		Joint(count)=dJointCreateBall(World,0)
		If y=1
			dJointAttach(Joint(count),0,Sphere(x,y))				; ### Static Joints (Top Row)
			Else
			dJointAttach(Joint(count),Sphere(x,y-1),Sphere(x,y))	; ### Vertical Joints
			End If
		dJointSetBallAnchor(Joint(count),dBodyGetPositionX(Sphere(x,y)),dBodyGetPositionY(Sphere(x,y)),dBodyGetPositionZ(Sphere(x,y)))
		count=count+1
		If x&gt;1
			Joint(count)=dJointCreateBall(World,0)
			dJointAttach(Joint(count),Sphere(x-1,y),Sphere(x,y))	; ### Horizontal Joints
			dJointSetBallAnchor(Joint(count),dBodyGetPositionX(Sphere(x,y)),dBodyGetPositionY(Sphere(x,y)),dBodyGetPositionZ(Sphere(x,y)))
			End If
		count=count+1
	Next
Next

; ### Create light

Global Light=CreateLight()

RotateEntity Light,45,-90,0
LightColor Light,255,255,255
AmbientLight 130,130,130

; ### Create camera

Global Camera=CreateCamera()
CameraClsColor Camera,0,0,0
CameraRange Camera,1,1000
PositionEntity Camera,0,90,-80
RotateEntity Camera,30,0,0

; ### Create plane

dCreatePlane(Space,0,1,0,0)

Plane=CreatePlane()

EntityAlpha Plane,0.8

PlaneTexture=CreateTexture(128,128,9)

ClsColor 0,200,80
Cls

Color 255,255,255

Rect 0,0,64,64,1
Rect 64,64,64,64,1

CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture Plane,PlaneTexture,0,0

Mirror=CreateMirror()

; ###################################################################################################

While Not KeyHit(1)

	UpdateKeys()

	PTime=MilliSecs()

	UpdateGeoms()

	dSpaceCollide(Space,World,ContactGroup)
	dWorldQuickStep(World,0.1)
	dJointGroupEmpty(ContactGroup)

	PhysicsTime#=MilliSecs()-PTime

	UpdateWorld

	RenderWorld

	Text 0,0,"JV-ODE Version "+dGetVersion()
	Text 0,15,"Physics Time:"+PhysicsTime
	Text 640,0,"Add Force To Cloth"
	Text 640,15,"Using Arrow Keys"

	Flip

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End

; ###################################################################################################

Function UpdateKeys()

If KeyDown(203) Then dBodyAddForce(Sphere(1,10),0,0,10)
If KeyDown(205) Then dBodyAddForce(Sphere(1,10),0,0,-10)
If KeyDown(200) Then dBodyAddForce(Sphere(10,10),0,0,10)
If KeyDown(208) Then dBodyAddForce(Sphere(10,10),0,0,-10)

End Function

; ###################################################################################################

Function UpdateGeoms()

For ode.ODEGeom=Each ODEGeom
	If dBodyIsEnabled(ode\body)
		RotateEntity ode\mesh,dGeomGetPitch#(ode\geom),dGeomGetYaw#(ode\geom),dGeomGetRoll#(ode\geom)
		PositionEntity ode\mesh,dGeomGetPositionX#(ode\geom),dGeomGetPositionY#(ode\geom),dGeomGetPositionZ#(ode\geom)
		End If
Next

End Function

; ###################################################################################################
</textarea><br><br>Note the visible spheres are only there as a guide. Normally you would add a 'cloth mesh' containing multiple bones, then update the bones with the sphere position/rotation coords. <br><br></td></tr></table><br>
<a name="860693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uber Jase</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the wrapper take advantage of dual/quad core CPUs in any way? <br><br></td></tr></table><br>
<a name="860864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> It runs in a separate thread to your Blitz program even on a single core CPU.<br><br>For multi-core CPUs the threads are divided up between processors, so it should take advantage of both cores in dual core systems and two cores of quad core systems I believe.<br><br>JV-ODE is compiled as a multi-threaded DLL, although ODE itself is not multi-threaded. <br><br></td></tr></table><br>
<a name="860918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uber Jase</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks VIP3R:)  As the PhysX wrapper looks dead I may swap to this.  Does it have magnets, triggers and particles?  Also, how fast is it with say a stack of 800 cubes, I get 58fps with the PhysX wrapper withh 800 cubes.  Thats on a quad core+8800ultra <br><br></td></tr></table><br>
<a name="860959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes magnets, triggers and particles can be simulated, but they must be created and setup by the programmer. They're not built into the ODE engine like the PhysX engine, so it isn't as convenient.<br><br>For triggers you can use the detailed collision information to achieve the same results.<br><br>For particles you just add tiny objects with some mass, then add some force to throw them in whichever direction.<br><br>For magnets, there's an example in thread 4 by Shifty Geezer, but it will only run in the full version of JV-ODE (with a slight edit to two function names).<br><br>ODE is extremely fast, but it's difficult to quantify the speed of a physics engine, that's why you don't see any credible comparison charts. If you do see any charts, they're not to be trusted, including the one posted by <i>Agent_J</i>. The speed of physics engines is mostly dependent on the accuracy level used in the simulation.<br><br>To test the speed of JV-ODE, I would suggest downloading the demo version if you haven't already. Then tweak the cubes demo to drop 800 cubes, but make sure they don't all drop from the same place or you'll get a stack overflow error due to too many overlapping collision zones. It would be interesting to see the results :)<br><br>ODE is quite different to PhysX, so play around with the demos until you're comfortable it's the right engine for you. Obviously not all features are available in the demo version but if you have any more questions feel free to ask. <br><br></td></tr></table><br>
<a name="862219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi VIP3R,<br><br>Im just starting to use your wrapper at long last.  I loved playing with the demos.  Anyway I was thinking I would like to have a flag attached to the back of my tanks.  The flag would be on pole coming out of the back of the tank (to help identify team members).  Hopefully the picture below will better explain :<br><br><a href="http://www.urbaninteractive.net/tank.png" target="_blank">For Picture Click here!</a><br><br>Is it possible to make the pole body in JV-ODE.  Ideally I would like it to lean back when the tank is moving forward and spring back and forth when it stops.  I've looked at the rope demo, but I don't think this is the way to go.  Here's hoping you can give me some clues.<br><br>Cheers,<br><br>Unc <br><br></td></tr></table><br>
<a name="862313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Uncle,<br><br>Yes you should be able to create a flag pole, I'll explain more in a moment. Before I do I'd like to give you a few tips to help with the jitter issues etc. I'm guessing you're using TriMeshes for the objects in the tank demo, so please correct me if I'm wrong. At the moment TriMeshes are still a little unstable for moving objects IMO, they're much more suited to static scenery like a terrain. The best route to take is to build up a complex object using multiple 'primitive' geoms, for example the tanks can be made up using a couple a cubes and a capped cylinder for the gun barrel. This is done using Geom Offsets, there are some demos included with JV-ODE showing this feature. It is basically several geoms attached to a single body. There is also a huge benefit to taking this approach, because primitives will be processed by the engine much faster than TriMeshes. It will also instantly remove those odd TriMesh collisions and twitches. Other things that can help with twitchy physics are adding some (more) mass, changing the CFM value and adjusting the collision depth. Other than the mass, you might not need to touch the other settings when using primitive geometry though.<br><br>Ok, the flag pole can be created using several jointed capped cylinders. It would be similar to the rope demo except for the ball joints which aren't suitable. Here's a modified car demo with a flag pole to give you an idea how it would work, I've used hinge joints here...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
; ###################################################################################################
; #										  JV-ODE Car Demo											#
; #									Code by Jim Williams (VIP3R)									#
; #								Devious Codeworks - Copyright  2007								#
; ###################################################################################################

AppTitle "JV-ODE Car Demo"

Include "JV-ODE.bb"

Graphics3D 800,600,0,2

Global CMass#=200			; ### Car Mass
Global WMass#=14			; ### Wheel Mass

Global WorldERP#=1			; ### World Error Correction
Global WorldFriction#=70	; ### World Friction

Global Torque#=24			; ### Joint Torque
Global SuspensionHS#=0.01	; ### Suspension Hardness/Softness (Higher=Softer - Lower=Harder)

Global Force#=0
Global Steer#=0

Global Car
Global CGeom
Global CMesh

Global CarStartY=20

Dim Wheel(4)
Dim WGeom(4)
Dim Joint(4)

Dim FlagBody(5)
Dim FlagJoint(5)

Type ODEGeom
	Field body
	Field geom
	Field mesh
End Type

; ###################################################################################################

; ### Setup ODE

Global World=dWorldCreate()
Global Space=dHashSpaceCreate(0)
Global ContactGroup=dJointGroupCreate(0)

dWorldSetAutoDisableFlag(World,1)
dWorldSetGravity(World,0,-0.98,0)
dWorldSetERP(World,WorldERP)

dContactSetMode(dContactSlip1)
dContactSetMu(WorldFriction)

; ### Create car body

ode.ODEGeom=New ODEGeom
ode\body=dBodyCreate(World)
Car=ode\body
dBodySetRotation(ode\body,0,0,0)
dBodySetPosition(ode\body,0,CarStartY,0)
mass=dMassCreate()
dMassSetBoxTotal(mass,CMass,3,1,4)
dBodySetMass(ode\body,mass)
dMassDestroy(mass)
ode\geom=dCreateBox(Space,3,1,4)
CGeom=ode\geom
dGeomSetBody(ode\geom,ode\body)
ode\mesh=CreateCube()
CMesh=ode\mesh
ScaleMesh ode\mesh,1.5,0.5,2
RotateMesh ode\mesh,0,0,0
PositionMesh ode\mesh,0,0,0
EntityColor ode\mesh,40,80,255
EntityAlpha ode\mesh,1

; ### Create flag pole

For capsules=1 To 5
	ode.ODEGeom=New ODEGeom
	ode\body=dBodyCreate(World)
	FlagBody(capsules)=ode\body
	dBodySetRotation(ode\body,90,0,0)
	dBodySetPosition(ode\body,0,CarStartY+capsules,-1.8)
	ode\geom=dCreateCapsule(Space,0.1,0.8)
	dGeomSetBody(ode\geom,ode\body)
	ode\mesh=CreateCylinder(8)
	ScaleMesh ode\mesh,0.1,0.5,0.1
	RotateMesh ode\mesh,90,0,0	; &lt;&lt;&lt; Mesh X-Axis must be rotated 90 degrees to fix cylinder alignment
	PositionMesh ode\mesh,0,0,0
	EntityColor ode\mesh,Rnd(255),Rnd(255),Rnd(255)
	EntityAlpha ode\mesh,1
	EntityShininess ode\mesh,0.7
Next

; ### Create flag pole joints

FlagJoint(1)=dJointCreateFixed(World,0)	; ### Fix base of flag to car
dJointAttach(FlagJoint(1),FlagBody(1),Car)
dJointSetFixed(FlagJoint(1))

For count=2 To 5
	FlagJoint(count)=dJointCreateHinge(World,0)
	dJointAttach(FlagJoint(count),FlagBody(count),FlagBody(count-1))
	dJointSetHingeAxis(FlagJoint(count),1,0,0)
	dJointSetHingeAnchor(FlagJoint(count),0,CarStartY+count-0.4,-1.8)
	dJointSetHingeParam(FlagJoint(count),dParamLoStop,-0.1)
	dJointSetHingeParam(FlagJoint(count),dParamHiStop,0.1)
	dJointSetHingeParam(FlagJoint(count),dParamStopCFM,0.3)
Next

; ### Create wheels

For count=1 To 4
	ode.ODEGeom=New ODEGeom
	ode\body=dBodyCreate(World)
	Wheel(count)=ode\body
	dBodySetRotation(ode\body,0,0,0)
	dBodySetPosition(ode\body,0,0,0)
	mass=dMassCreate()
	dMassSetSphereTotal(mass,WMass,0.7)
	dBodySetMass(ode\body,mass)
	dMassDestroy(mass)
	ode\geom=dCreateSphere(Space,0.7)
	WGeom(count)=ode\geom
	dGeomSetBody(ode\geom,ode\body)
	ode\mesh=CreateCylinder(8)
	ScaleMesh ode\mesh,0.7,0.25,0.7
	RotateMesh ode\mesh,0,0,90
	PositionMesh ode\mesh,0,0,0
	EntityColor ode\mesh,255,255,255
Next

dBodySetPosition(Wheel(1),-2,CarStartY-0.5,+2)
dBodySetPosition(Wheel(2),+2,CarStartY-0.5,+2)
dBodySetPosition(Wheel(3),-2,CarStartY-0.5,-2)
dBodySetPosition(Wheel(4),+2,CarStartY-0.5,-2)

; ### Create some objects

SeedRnd MilliSecs()

For spheres=1 To 20
	ode.ODEGeom=New ODEGeom
	ode\body=dBodyCreate(World)
	dBodySetRotation(ode\body,0,0,0)
	dBodySetPosition(ode\body,Rnd(-100,100),30,Rnd(-100,100))
	ode\geom=dCreateSphere(Space,4)
	dGeomSetBody(ode\geom,ode\body)
	ode\mesh=CreateSphere()
	ScaleMesh ode\mesh,4,4,4
	RotateMesh ode\mesh,0,0,0
	PositionMesh ode\mesh,0,0,0
	EntityColor ode\mesh,Rnd(255),Rnd(255),Rnd(255)
	EntityAlpha ode\mesh,1
	EntityShininess ode\mesh,0.7
Next

For capsules=1 To 20
	ode.ODEGeom=New ODEGeom
	ode\body=dBodyCreate(World)
	dBodySetRotation(ode\body,90,0,0)
	dBodySetPosition(ode\body,Rnd(-100,100),30,Rnd(-100,100))
	ode\geom=dCreateCapsule(Space,1,8)
	dGeomSetBody(ode\geom,ode\body)
	ode\mesh=CreateCylinder(8)
	ScaleMesh ode\mesh,1,5,1
	RotateMesh ode\mesh,90,0,0	; &lt;&lt;&lt; Mesh X-Axis must be rotated 90 degrees to fix cylinder alignment
	PositionMesh ode\mesh,0,0,0
	EntityColor ode\mesh,Rnd(255),Rnd(255),Rnd(255)
	EntityAlpha ode\mesh,1
	EntityShininess ode\mesh,0.7
Next

; ### Create light

Global Light=CreateLight()

RotateEntity Light,45,-90,0
LightColor Light,255,255,255
AmbientLight 130,130,130

; ### Create camera

Global CameraPivot=CreatePivot(CMesh)
PositionEntity CameraPivot,0,2,-7

Global Camera=CreateCamera()
CameraClsColor Camera,0,0,0
CameraRange Camera,1,1000

; ### Create plane

dCreatePlane(Space,0,1,0,0)

Plane=CreatePlane()

EntityAlpha Plane,0.8

PlaneTexture=CreateTexture(128,128,9)

ClsColor 0,200,80
Cls

Color 255,255,255

Rect 0,0,64,64,1
Rect 64,64,64,64,1

CopyRect 0,0,128,128,0,0,BackBuffer(),TextureBuffer(PlaneTexture)
ScaleTexture PlaneTexture,20,20
EntityTexture Plane,PlaneTexture,0,0

Mirror=CreateMirror()

; ###################################################################################################

; ### BLITZ STATIC OBJECT (White)

blitzobject=CreateCube()
ScaleMesh blitzobject,1,4,20
RotateMesh blitzobject,-10,8,4
PositionMesh blitzobject,10,5,40

EntityColor blitzobject,255,255,255
EntityAlpha blitzobject,1

; ### ODE STATIC OBJECT (Blue)

ode.ODEGeom=New ODEGeom
ode\geom=dCreateBox(Space,2,8,40)
dGeomSetRotation(ode\geom,-10,8,4)
dGeomSetPosition(ode\geom,20,5,40)
ode\mesh=CreateCube()
ScaleMesh ode\mesh,1,4,20
RotateMesh ode\mesh,0,0,0
PositionMesh ode\mesh,0,0,0

EntityColor ode\mesh,0,100,200
EntityAlpha ode\mesh,1

; ### ODE STATIC OBJECT (Red)

ode.ODEGeom=New ODEGeom
ode\geom=dCreateBox(Space,18,0.2,40)
dGeomSetRotation(ode\geom,-14,0,0)
dGeomSetPosition(ode\geom,-20,4.9,40)
ode\mesh=CreateCube()
ScaleMesh ode\mesh,9,0.1,20
RotateMesh ode\mesh,0,0,0
PositionMesh ode\mesh,0,0,0

EntityColor ode\mesh,200,0,100
EntityAlpha ode\mesh,1

; ###################################################################################################

SetupCar()

While Not KeyHit(1)

	UpdateKeys()

	PTime=MilliSecs()

	UpdateCar()

	UpdateGeoms()

	dSpaceCollide(Space,World,ContactGroup)
	dWorldQuickStep(World,0.1)
	dJointGroupEmpty(ContactGroup)

	PhysicsTime#=MilliSecs()-PTime

	UpdateCam()

	UpdateWorld

	RenderWorld

	Text 0,0,"JV-ODE Version "+dGetVersion()
	Text 0,15,"Physics Time:"+PhysicsTime
	Text 0,50,"Force:"+Force
	Text 0,65,"Torque:"+Torque
	Text 640,0,"A - Accelerate"
	Text 640,15,"Z - Brake/Reverse"
	Text 640,30,"Arrows - Steering"
	Text 640,45,"Space - Reset Car"

	Flip

Wend

dJointGroupDestroy(ContactGroup)
dSpaceDestroy(Space)
dWorldDestroy(World)
dCloseODE()

End

; ###################################################################################################

Function SetupCar()

For count=1 To 4
	Joint(count)=dJointCreateHinge2(World,0)
	dJointAttach(Joint(count),Car,Wheel(count))
	dJointSetHinge2Anchor(Joint(count),dBodyGetPositionX(Wheel(count)),dBodyGetPositionY(Wheel(count)),dBodyGetPositionZ(Wheel(count)))
	dJointSetHinge2Axis1(Joint(count),0,1,0)
	dJointSetHinge2Axis2(Joint(count),-1,0,0)
	dJointSetHinge2Param(Joint(count),dParamSuspensionERP,0.8)
	dJointSetHinge2Param(Joint(count),dParamSuspensionCFM,SuspensionHS)
	If count&gt;2
		dJointSetHinge2Param(Joint(count),dParamLoStop,0)
		dJointSetHinge2Param(Joint(count),dParamHiStop,0)
		End If
Next

Force=0

End Function

; ###################################################################################################

Function UpdateKeys()

If KeyDown(30)=1
	Force=Force+0.08
	If Force&gt;30 Then Force=30
	End If

If KeyDown(44)=1
	Force=Force-0.1
	If Force&lt;-10 Then Force=-10
	If Force&gt;0 Then Force=Force*0.97
	End If

If KeyDown(30)=0 And KeyDown(44)=0 Then Force=Force*0.99

If KeyDown(203)=1 Or KeyDown(205)=1
	If KeyDown(203)=1
		Steer=0.5
		Else
		Steer=-0.5
		End If
	Else
	Steer=0
	End If

If KeyHit(57)=1
	Force=0
	dBodySetRotation(Car,dGeomGetPitch#(CGeom),dGeomGetYaw#(CGeom),0)
	End If

End Function

; ###################################################################################################

Function UpdateCar()

For count=1 To 4
	dBodyEnable(Wheel(count))
Next

dBodyEnable(Car)

For count=1 To 4
	dJointSetHinge2Param(Joint(count),dParamVel2,Force)
	dJointSetHinge2Param(Joint(count),dParamFMax2,Torque)
Next

For count=1 To 2
	angle#=Steer-dJointGetHinge2Angle1(Joint(count))
	dJointSetHinge2Param(Joint(count),dParamVel,angle)
	dJointSetHinge2Param(Joint(count),dParamFMax,400)
Next

End Function

; ###################################################################################################

Function UpdateCam()

PositionEntity CameraPivot,0,3,-12

camx#=EntityX(CameraPivot,1)-EntityX(Camera)
camy#=EntityY(CameraPivot,1)-EntityY(Camera)
camz#=EntityZ(CameraPivot,1)-EntityZ(Camera)

TranslateEntity Camera,camx*0.5,camy*0.5,camz*0.5

PointEntity Camera,CMesh

End Function

; ###################################################################################################

Function UpdateGeoms()

For ode.ODEGeom=Each ODEGeom
	RotateEntity ode\mesh,dGeomGetPitch#(ode\geom),dGeomGetYaw#(ode\geom),dGeomGetRoll#(ode\geom)
	PositionEntity ode\mesh,dGeomGetPositionX#(ode\geom),dGeomGetPositionY#(ode\geom),dGeomGetPositionZ#(ode\geom)
Next

End Function

; ###################################################################################################
</textarea><br><br>If you have any questions regarding the above demo or for JV-ODE in general, please feel free to ask :) <br><br></td></tr></table><br>
<a name="862390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Uncle</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Vip3r,<br><br>That demo it pretty neat.  You're right, I am using trimeshes in my demo.  It was just a quick and dirty way to get things moving to test my library.  However now I will have to focus on really setting up the physics correctly.  I read through how to set up Geom and will have a stab at it over the coming week.   <br><br>Cheers for the your help :) <br><br></td></tr></table><br>
<a name="863781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Vip3r,<br><br>I've developed a server/client application in Blitz3D, I am hoping to implement a second rig (maybe even more) on my endzone truckin posted higher up.  The way I envisage doing it is having a 'server' managing the position of both trucks within the environment.  My Server will accept move input from one or many clients and pump out the x,y &amp; z co-ords of each connected client to all clients.  The clients will adjust the location of each truck in accordance with the info pumped out by the server.  From discussions on this matter I vaguely appreciate that each client may be storing velocity/directional information as opposed to specific x,y &amp; z parameters at every instance.  <br><br>If this is the case I suppose I may need to exert force on my 'rigs' within the clients to get them back towards where the server reckons they are.  I've removed the images from higher up to de-clog your thread. <br><br>I located this thread:  <a href="http://www.blitzbasic.com/Community/posts.php?topic=69370#775928" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=69370#775928</a> , how relevant is this to JV-ODE ?  My code is for LAN only... at the moment.  I like the card demo with the aerial, I might add an aerial to my Rig. (;-)<br><br><br>Any thoughts you have regarding potential stumbling blocks greatfully appreciated, regards,  Blitzplotter.<br><br>@Uncle, I like the look of your tank (;-) <br><br></td></tr></table><br>
<a name="863935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Blitzplotter,<br><br>I've no experience in networking ODE so I'm not much help tbh.<br><br>The most difficult part is going to be updating position/rotation/velocity of physics objects on each client. You could try zeroing all forces/torques on objects and move them manually, then re-apply the forces/torques... but I don't know how well it would work, it might upset the simulation too much. The other option is as you say to guide the objects back to the correct coords by exerting forces, not an easy task by any means.<br><br>Another option would be to have the server send the player control signals to each client (as kronholm mentions in the thread you posted). It should be fast enough on a LAN, but might start lagging on the internet, meaning the above will still need to be implemented to correct the coords.<br><br>You could also check the KODE and RakNet threads from the Blitz user KuRiX (he posted a few posts up from this one). Kuri has done some work with networked ODE physics I believe, if he's still around he might be able to help guide you. Those threads may have more information in them too. <br><br></td></tr></table><br>
<a name="863943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Another option would be to have the server send the player control signals to each client (as kronholm mentions in the thread you posted). It should be fast enough on a LAN, but might start lagging on the internet, meaning the above will still need to be implemented to correct the coords.  <br></div><br><br>Thankyou for this suggestion, I'll use this concept as my first stab.  With just control requests going from client to server, then the actual control signals being fired back to the client it will be interesting to see my separate rigs trying to crash into each other on my fort block  -  on separate computers.  I'm using TCP at the mo with 512 byte packets, I can really slim down my packet size now, maybe 30 or 40 bytes tops.  I note that TCP uses 96 byte header in B3D as opposed to udp using 64 bytes?... regards -  BP. <br><br></td></tr></table><br>
<a name="863966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Viper, me again :O)<br><br>Ive been continuing on with my car game, its going well but my car skids to often so i setup a if statement so i could change the worldfriction# varible in the game, I increased it and there was little or no effect? Ive tried setting it at 2000 and it has no effect on the car. what am i doing wrong? Is there a friction for the cars tyres? <br><br>how does friction work? ive had a look in the docs but couldnt even find any friction comands?<br><br>Pete<br><br>(EDIT) oh you can't change it on the fly? What other varibles can't be changed in game? <br><br></td></tr></table><br>
<a name="863984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Pete,<br><br>It's ok to change friction on the fly, the only things you shouldn't manually change are the position and rotation of objects.<br><br>It sounds like you're using 'Geom' friction for the car wheels? (which is the correct way btw)... 'Geom' friction will over-ride whatever value the 'World' friction is, causing the zero effect. To change it while the simulation is running you need to be tweaking the 'dGeomContactSetMu(geom,friction)' values for each wheel geom. You can leave the world friction at some value for all of the other objects, any object that doesn't have the geom friction setup separately will use the world friction value by default.<br><br>Let me know if you need more help with it :) <br><br></td></tr></table><br>
<a name="863987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok ill give that a try, thanks vip3r. <br><br></td></tr></table><br>
<a name="864111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi vip3r, managed to get a server running on one computer, started a client on another with the client successfully sending control requests to the server, the server replies with the control info and the remote client runs quite nicely.  I've a little hiccup whereby 2 clients running at once causes a freeze but Rome wasn't built in a day........ <br><br></td></tr></table><br>
<a name="864251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds promising :) <br><br></td></tr></table><br>
<a name="864273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> found my bug... onwards an upwards.  Just strip out my debug and hope the extra delays associated with them were not resolving the TCP/IP chatter bother.  Two clients connected to a server, sending control requests and recieving control information (;-) <br><br></td></tr></table><br>
<a name="864293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >blackbag</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think almost there on this one, just need a little help filling in the remaing gap.<br><br>I have an asteroids clone, I want the rocks and the player to bounce around, got this working.<br><br>I also want to hand out "damage" to the player/rocks based upon impact forces.  I have the asteroids stored in a type.<br><br>So my presumptions,<br>Each collision is stored in the jointgroup assigned in the dspacecollide parameters?<br>I can access the impact data from each collision using the djointgetfeedbackforce commands?<br>I can determine which asteroids are effected from the djointgetbody command?<br><br>The gap I appear to be missing is how to search the jointgroup?  Is the jointgroup a type, or an array, or somthng else? <br><br></td></tr></table><br>
<a name="864351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> The collision data is stored within the geom object itself. <br><br>You can use Joint Feedback to determine collision forces, single objects like your asteroids will need another smaller body added with a fixed joint. When it collides, the joint will 'stretch' depending on the strength of the collision, this is measured using joint feedback. The 'Demo-CollisionForces' demo included with JV-ODE shows it in use. <br><br>Using the dJointGetBody function would work ok, or you could check which geoms have collided instead with the detailed collision data.<br><br>A joint group is just a hierarchy of joints and sub-joints, in the same way as you have spaces and sub-spaces. The dJointGroup related code in the demos is purely for handling the contact joints (ContactGroup) per step, no other joints are grouped. <br><br></td></tr></table><br>
<a name="864355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> with just sending control requests wouldnt any latency make a control be out of sink on the different machines, say a cars driving forward, it has a split second to turn to avoid a crash, so the client turns, but the message in the time it takes to get from client 1 to client 2 doent turn, when the packet arives the car turns but it maybe that little bit to late to miss the object. or does the simulation wait if theres no message. <br><br>well this would give me a big headache. good luck <br><br></td></tr></table><br>
<a name="864367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> It should be responsive enough on a LAN, which was the suggested use. Not suitable for wider networks. It won't interrupt the simulation, just as detecting a keypress wouldn't. <br><br></td></tr></table><br>
<a name="864502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes on the LAN initial results suggest it may well be responsive enough as long as the maximum packet size is not too excessive AND there isn't more than say, 50 or so on the LAN.  Time will tell.....  just fine tuning the hacked together code now.... <br><br></td></tr></table><br>
<a name="872262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> My second truck has landed, with wheels still on... the first truck is moving via control requests via TCP/IP to a server which in turn feeds the control requests back to the client resulting in movement of truck 1.  Just need to implement logic on tying the camera to truck one or two dependent on 'truck/client' number and voila multiplayer trucks via Wings TCP/IP code and JV-ODE.<br><br>Took me 2 mins to glue my wheels onto truck2, simply needed a setuptruck2 function.  JV-ODE is great!  Link to image:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=76772" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=76772</a> <br><br></td></tr></table><br>
<a name="872649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EmerGki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jim,<br><br>How can I FREE Trimeshs during the gameplay ?  (I'll need to Load and Free Trimeshs during the game) <br><br></td></tr></table><br>
<a name="872787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi EmerGki,<br><br>Use <i>'dGeomDestroy(trimesh)'</i> to free a TriMesh.<br><br>@Blitzplotter: Coming along nicely :) <br><br></td></tr></table><br>
<a name="877053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> have discovered niggles with my TCP/IP code stroke different workstations operating at different speeds... too many issues for an indy/hobby coder to resolve.  Its not all black though, I've discovered a way of recording input from a user that can be recorded aka racing game replays, then potentially use this for AI 3d ODE competition with way markers within the code to restart AI cars if need be. <br><br></td></tr></table><br>
<a name="877179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would UDP work better? TCP has given me problems due to the fact it halts program execution, it needs to run in its own thread ideally. UDP doesn't suffer from this problem in Blitz3D as far as I'm aware.<br><br>Have a look in the programming forum, there's a fair amount of info on these two types of networking. <br><br></td></tr></table><br>
<a name="877216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, will consider udp as an option. <br><br></td></tr></table><br>
<a name="877420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi there!<br><br>thanks for your mail response viper!<br><br>now i got <strike>a</strike> some more general questions =)<br><br>---<br>1)<br><br>is there a way of limiting the movement of the hinge2 axis1? if i set a quite high SuspensionCFM for the joint to achieve a nice bouncy wheel suspension, the wheels are falling quite a lot away from the body when the car is in the air. something like a max- and minoffset for this axis would be ideal...<br><br>also is there a possibility the GET the offset axis1 has currently?<br><br>couldnt find any answer to this in forums or the google group :/<br><br><br>---<br>2)<br><br>and while im at it: another issue i got with the hinge2 is, that at relatively intermediate speeds cars are beginning to break out quite easily. i tried several tricks which can be found on the net (including playing around with erp and cfm values, different steppings, setting FiniteRotationMode to 1 and so on...), but no one solved the problem completely. its a bit better now, but still not gone. i didnt integrate materials yet, so maybe adding better friction values to each body will make it even better. but, maybe you know of another trick i could play with to make our cars drive more stable :)<br><br><br>---<br>3)<br><br>ok, one last question, then its enough for now ^^<br><br>currently im using just one space for everything. the problem i can see is, that even the car wheels are colliding with the car bodies. i believe this is not good :D<br>but, how can i achieve to collide car bodies and wheels with everything (different car bodies with wheels of other cars too!), but NOT let the wheels and body of ONE car collide with eachother? i know its possible to deactivate the internal space collision, but with this solution i would need one space for EVERY car in the game...doesnt sound optimal to me :/<br>is there another possibily? some kind of 'blacklist' of which bodies are forbidden to collide with eachother?<br><br><br>---<br><br>btw: thanks for your ongoing and restless support, probably the best 20 i ever spent :) <br><br></td></tr></table><br>
<a name="877438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem, thanks  :)<br><br>1 - There aren't any parameters to set a lo-stop and hi-stop on axis 1 of the hinge2 joint unfortunately. You could try <i>dJointGetHinge2Angle1Rate(joint)</i> to get the current offset, this may return a value since its last position (rather than the starting position) I can't recall.<br><br>2 - When wheel joints start breaking it typically means the joint accuracy is spiraling out of control. Using high mass or friction values will amplify the problem. The best solution I've come across is to split up the time steps, thus improving the accuracy.<br><br>3 - Directly jointed bodies in JV-ODE will not collide with each other. If your wheels are colliding with your car bodies, you must be using a more complex car model. For example...<br><br>Wheels &lt;-1-&gt; Chassis &lt;-2-&gt; Car Body<br><br>1 = Hinge2 Joint<br>2 = Fixed Joint<br><br>In the above design, the wheels will not collide with the chassis, as they are attached to it. However they will collide with the car body, because they are not directly attached via joints.<br><br>The best solution for more complex designs like the one above is to place each car in it's own sub-space and disable internal space collisions. You shouldn't notice any difference in performance as it splits them up internally anyway, it may even run a tiny amount faster as you're no longer checking for collisions between the car and its components. <br><br></td></tr></table><br>
<a name="877483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1) ok, think ill try to get the offset from the blitzmeshes (since the original position is known to the engine) and apply counter forces if need be. this may simulate springdamping as well...<br><br><br>2) yeah i've already done that. using the setup you provided in the samples:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Repeat

	; render tweening
	Repeat
		elapsed=MilliSecs()-Time
	Until elapsed

	ticks=elapsed/period
	tween#=Float(elapsed Mod period)/Float(period)

	For k=1 To ticks
		Time=Time+period
		If k=ticks Then 
		
			CaptureWorld()

			; Run Physics every 20ms ( APROX 50/sec )
			T = MilliSecs() 
			If T &gt; Time3 + 20 Then
				Time3 = T	
			
				; updating controls, applying forces etc
			
			
				For i = 1 To 3
					dSpaceCollide( PhysicsSpace, PhysicsWorld, PhysicsContactGroup )
					dWorldQuickStep( PhysicsWorld, 0.05 )
					dJointGroupEmpty( PhysicsContactGroup )
				Next
			
				; updating blitzmeshes etc
			
			
			EndIf

			UpdateWorld()
			
		EndIf
	Next

	RenderWorld tween
	
	Flip 0

Forever
</textarea><br>some users reporting slight jerks every some seconds, but that might not be an ode issue. do you see any problems with this mainloop?<br><br>3) didnt know attached bodies automatically dont collide...cool! no, we're using the most simple car model: body + 4x hinge2 + 4 spheres for the wheels. thats absolutely good enough for our purposes... :)<br>but if you think it gets even faster (currently getting ~5-10ms physicstime for 100 active cars, final game will feature ~20-30 active cars so thats perfectly fine already) with every car in its own space and there arent any problems with &gt;50 spaces, then ill try that too.<br><br><br><br>ps: dont get me wrong: the simulation is quite stable and is looking really great already, i just want the most accurate solution possible :D <br><br></td></tr></table><br>
<a name="877504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure, perfection is worth aiming for :)<br><br>Regarding the main loop, you need to separate the physics code from the <i>'If k=ticks Then'</i> condition and place it either at the top of the main loop or immediately before the <i>'RenderWorld tween'</i> call. Otherwise the render timing will interfere with the physics timing, depending on the framerate this could potentially cause noticeable jerks. <br><br></td></tr></table><br>
<a name="877528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes you're absolutely right about the mainloop...should have seen this myself *rolleyes*<br>im still mixing up, which part gets the frame limiting and which not...maybe i have to write it down to remember:<br>renderworld runs UNlimited.<br>gamelogic runs LIMITED.<br><br>ok, lets see if it works ^^<br><br><br>so i moved the physics update out of the inner loop. unfortunately i cant see any difference on my system, so ill have to wait for testers feedback to see if it solves the jerks issue...<br><br><br>anyway...thx for your answers :) <br><br></td></tr></table><br>
<a name="877715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome OJay :)<br><br>Let me know if there are still issues with it. <br><br></td></tr></table><br>
<a name="878761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> get cover, its me again :D<br><br><br>no seriously: i got an issue with dGeomGetData(). am experiencing random crashes with "memory access violation" if that function gets called; even with debug enabled. testers also reporting these random crashes, and i think i can pin them down to events that call this function. <br>could you please countercheck, that is everything ok with what happens in there? the geoms im passing over to it seem to always be valid...<br>im using this to store the ids of type instances (created with "handle(typeinstance)"), respectively simple 4byte integers. might this be wrong? the official ode reference states that this can be used to store "user-defined data pointer", so a 4byte int should be very ok, shouldnt it?<br>or is calling this function only allowed if actual data was stored in there before, as this might not always be the case in my current solution...but then, shouldnt there be a function to check if there's data and its save to call getdata()?<br><br><br>as a side note: i still couldnt win the challenge regarding "limiting the springtravel of hinge2 joints". i can successfully retrieve the current extend of the spring, but had no success with stopping the motion of it. i tried e.g. applying two equal forces (one down on the chassis, one up on the wheel) but that didnt work out as expected.<br>at the moment this got low priority, so im not that concerned right now about this....but still is an issue that has to be solved sooner or later...so, i would be grateful for any ideas you got what i could try :) <br><br></td></tr></table><br>
<a name="878775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe :)<br><br>Yes the user-defined data pointer is a 4 byte integer.<br><br>There are two possibilities for receiving MAVs from dGeomGetData(), one of which you've correctly pointed out - they have to be set before you can get them. When you're returning the user data without it being set beforehand, you're returning and using an invalid pointer hence the MAV. I agree it would be convenient to make the function failsafe, the problem is differentiating which have been set and which have not. The reason for this is that they're added to every geom, whether or not they've been set and they always contain a random value (whatever occupied that memory location previously). Zeroing them upon creation to indicate they're not used is one way to achieve it but this would be a bad idea IMO. Another is to declare them to be Null, but his can't be returned to Blitz so you would need a unique custom function to check the status, for example dGeomCheckData(geom) to return zero or one depending on whether the user data is Null or not. There's no built-in provision for this in ODE which is why it was never considered for JV-ODE. It can certainly be added to JV-ODE, but adding/setting a flag to your ODE type and checking its state would work equally well.<br><br>The other possibility for a MAV from dGeomGetData() is deleting the geom itself and then trying to return the user data, which gets destroyed along with the geom and therefore no longer exists.<br><br>Regarding limiting of your spring travel, you could try adding physical 'stops' with extra geometry. It depends on your car/suspension design whether that would be viable though. If I come up with anything else I'll let you know. <br><br></td></tr></table><br>
<a name="878850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> holy shizzle, that explains alot! will add a flag to my type of course.<br>so wether this is a bad or good behaviour it should be documented somewhere! maybe adding a big red note next to the function in jv-ode reference or something...<br><br>this takes me to another topic: error handling. it happens quite regularly that i get confronted with several nice unmeaningfull "internal ode error", than "ms visual c++ runtime error", than "unknown software exception in blitzcc.exe" and than again an "ms visual c++ runtime error / abnormal program termination". this is annoying and sometimes i havent any glue as where this madness was caused from ^^<br>in c++ i would add my own exception handlings, but this is not possible in blitz3d. yet alone those blitz MAVs are delightful enough, but adding another possible mysterious popup message looks quite unprofesional to the enduser. so just as a dumb idea: what about an error handling system in jv-ode? functions like dLastError$(), dErrorCount%() and dGetError$(num) and maybe (to make this optional) a dEnableErrorHandling(enable%) would be a dream! and of course those ode runtime errors would have been catched properly...maybe you could think about it someday ^^<br><br><br><br>so you suggest adding additional geoms to the chassis which limit the wheels freedom...sounds vicious :D<br>but, how could i make those geoms collide with the wheel only and (of course) NOT with ANY other geoms in the environment? i bet, this is what dGeomSetCategoryBits() and dGeomSetCollideBits()  where made for. sincerly the ODE manual isnt very specific on how to use 'em... <br><br></td></tr></table><br>
<a name="878924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> The error handling is provided by ODE itself and the error message content is dependent on whether the cause is known. Sometimes it will give a generic error message (the same as MAV in Blitz), which isn't too helpful. In other cases it should give a better idea where things went wrong. For example if the error occurred in an ODE joint, it will normally state 'blah blah... error in ode/joints.cpp' or similar.<br><br>There is no way for JV-ODE to directly retrieve the error information from ODE, unless ODE provides the functionality to do so.<br><br>Ouch, I didn't mean adding geoms to collide directly with the wheel geoms, sorry I should have explained a little better. [Edit x2] The more I think about this the more I'm wondering about how much the car and wheel mass is affecting the hinge2 travel issue. Have you experimented with different mass values for both the wheels and the car body? <br><br></td></tr></table><br>
<a name="879133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes we already found chassis masses and spring strengths, that made the spring act almost limited and only moved to far up/down on extreme cases (jumps in midair and the hard landing for example), so this was nearly perfect.<br><br>though that limited the softness of the spring quite a lot. e.g. we have a buggy, that needs really soft springs but the wheels shouldnt overlap the chassis and the chassis shouldnt hit the ground...<br><br>but, lucky me, i got your previous suggestion with the additional slider joint before you edited it out ;)<br>that didnt work out in the first place, since a slider joint doesnt allow the attached body (wheels in my case) to spin/steer. so i added another placeholder body to the slider and attached another joint (ball this time) between that temp body and the wheel. and now believe it or not: this works perfectly and absolutely stable, yikes!<br><br>setting two different joint settings to the same bodies gives some headache though...feels somewhat hackish...but there where no issue reports by the testers till now so i assume ODE excuses the hack ^^<br><br><br>and btw: no random crashes happened, since i added the check for user data into my code ;)<br><br><br><br>so thanks again, now im really happy with the solutions and im getting excited every day, what our artists do with the physics system :D <br><br></td></tr></table><br>
<a name="879486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, excellent. Part of the reason I removed the suggestion was because I realised it wouldn't allow rotation, resulting in the need for an intermediate body. I was saving it for the next suggestion as it wasn't very straight forward, but you caught it anyway :)<br><br>Let me know if you need help with anything else. <br><br></td></tr></table><br>
<a name="879552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm...yes one small issue remains, if you want one ^^<br>well, its less an issue than a need for clarification, at least i know WHY this happens, but found no solution/workaround yet..<br><br>so, let me explain:<br>in our game, cars can be destroyed. if that happens, the original car with its complete structure (meshes, ode-bodies/geoms/joints, type instances etc) are getting removed from the game. at the position + rotation of the original car, a new entity gets spawned, we call them 'wreckages'. those little beasties consist of nearly the same geometry as its original entity, but split up into several pre-broken meshes (like the wheels, chassis, doors, spoilers and so on...) which are independent each of its own without any joints or the like limiting it. then they get some random forces + torque applied (transformed from the center to the outside) so they explode nicely and all those debris are flying around (may well hit other stuff + shaking/damaging it etc). the geoms of most of the debris are made of simple native classes from ode (mostly boxes, but also capsules or spheres) and a few of them are trismeshes, e.g. the wheels need trimesh geoms, just because there is no builtin flat cylinder class...so far so good.<br>now for the interesting part: the debris using trismesh geoms are coming to rest perfectly, getting disabled and just waiting till their lifespan is over, causing nearly no additional computing time. but the NATIVE builtin geom classes, especially boxes, sometimes are never getting to rest and jitter around a few thousandth of a unit. this happens if they are lying on a complete flat surface. i tried several things, including manually disabling or increasing damping values for them, with absolutely NO success. those nasty boxes are jittering around till they get removed from the game, causing severe slowdowns in larger battles (with ~20-30 wreckages). the only thing i could do at the moment is, decreasing the lifetime of the debris to only some seconds, but this bugs me, because i want to see at least expanse of ruins if i lost all my cars already ^^<br><br>and i think i know why this happens: its because contact joints are getting created over and over for them, enabling them on every step the simulation takes...am i right? what to do about it? any tricks left in your drawer? :D<br><br><br><br>eek, there goes another novel... <br><br></td></tr></table><br>
<a name="879595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, you're right about the contact joints theory :)<br><br>Changing the contact collision depth will eliminate most jitters with boxes, allowing them to come to a rest and auto-disable quickly.<br><br>To change it use the following function, experiment with the depth to see what works best. The default depth value is zero (no penetration), a value of 0.01 should do the trick but keep it as low as possible...<br><br><i>dWorldSetContactSurfaceLayer(world,depth#)</i> <br><br></td></tr></table><br>
<a name="879619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> i cant believe it...one function call...problem solved. nice. ^^<br><br><br>i already thought about a way of detecting jittering bodies and do the most evil things with 'em :D<br><br><br><br>ODE is just cool...cant wait for the new features...automatic damping, trimesh-mass-calculation, heightfield-geom...to name just a few...hope they get it stable as soon as possible :) <br><br></td></tr></table><br>
<a name="888569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>JV-ODE V1.26 Update Released</b><br><br>Please check your inbox :)<br><br>JV-ODE is now compiled using ODE V0.9 which includes a vast amount of fixes and tweaks. You can view the ODE changelog for specific details <a href="http://opende.sourceforge.net/mediawiki-1.6.10/index.php/Changelog#Changes_from_0.8_to_0.9" target="_blank">here</a>.<br><br>Added new functions:<br><i>dJointSetBallParam(joint,param,value#)<br>dJointGetBallParam#(joint,param)<br>dJointSetFixedParam(joint,param,value#)<br>dJointGetFixedParam#(joint,param)<br>dMassSetTriMeshTotal(mass,totalmass#,geom)</i><br><br>Please let me know if you experience any problems with the new update.<br><br>:) <br><br></td></tr></table><br>
<a name="888584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZJP</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thx ;-) <br><br></td></tr></table><br>
<a name="888703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ervin</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> Outstanding!<br>Thanks! <br><br></td></tr></table><br>
<a name="888775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#166">[#166]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow, this was unexpected \o/ nice bday present, thanks! :D<br><br>im currently done with the physics stuff, so ill get around to try out the new release just after our next milestone...will of course report all issues then =P<br><br><br>hm...one thing i notice: the damping functions (world + body) are not wrapped, arent they? <br><br></td></tr></table><br>
<a name="888868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Judd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#167">[#167]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you again VIP3R - another great update.<br><br>cheers,<br><br>Mark <br><br></td></tr></table><br>
<a name="888874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#168">[#168]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome :)<br><br>@OJay: The damping functions are not available in ODE V0.9, they're in ODE V0.10. I've already started testing JV-ODE with ODE V0.10, but I need to make sure it's stable before integrating it (there are a couple of issues at the moment). <br><br></td></tr></table><br>
<a name="888985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#169">[#169]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah i see...the ode changelogs are a bit overwhelming ^^<br><br>never mind :) <br><br></td></tr></table><br>
<a name="891963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#170">[#170]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Vip3r,<br><br>Sorry this is a tiny off topic.<br><br>Have you given any thought to offering JVODE / BlitzMax  customized for Leadwerks 2.1?  <br><br>The reason I ask is LW2.1 is seems to be struggling some with implementing newton, and lacks many examples.<br><br>I purchased Newton for b3d (itembin) a while back and it rocked, mostly because it was implemented like you have done with ODE, and there were  many example just like JVODE.<br><br>I ask myself why Itmbin can do such a great job with b3d, and LW struggles, perhaps this would be opportunity for JVODE BMX version.<br><br>Perhaps you would customize a demo or two, and explore the possibilities, since you already have bmx code. Yes, I probably could do it myself, but I'm new to Bmax, would waste bandwidth asking lots of questions, and would rather learn from the master.<br><br>8 ) <br><br></td></tr></table><br>
<a name="892002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#171">[#171]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure, I'll look into it :)<br><br>I will have a chat with Josh and see what we can do as I don't currently own a license for the Leadwerks engine. <br><br></td></tr></table><br>
<a name="892212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#172">[#172]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>JV-ODE V1.27 Update Released</b><br><br>Please check your inbox :)<br><br>Added new functions:<br><i>dInitODE()<br>dBodySetAutoDisableAverageSamplesCount(body,averagesamplescount)<br>dBodyGetAutoDisableAverageSamplesCount%(body)<br>dBodyGetWorld%(body)<br>dCreateConvex%(space,planes,planecount,points,pointcount,polygons)<br>dGeomSetConvex(geom,planes,planecount,points,pointcount,polygons)<br>dMassSetTriMesh(mass,density#,geom)</i><br><br>Notice the <i>dInitODE()</i> function? At one time it was obsolete so was never added to JV-ODE, however it will become <i>mandatory</i> in future versions of ODE. It's still optional in this release but it would be wise to start adding it to your code. If you're using the Blitz3D version of JV-ODE, it has already been added for you at the top of the JV-ODE include file. If you're using the BlitzMax version of JV-ODE, you will need to add it to your code yourself.<br><br>Another function which had become obsolete has sprung to life again, the <i>dMassTranslate()</i> function is now supported again in JV-ODE.<br><br>We also now have Convex geom support, don't forget it's new so I'm not sure how stable it is yet ;)<br><br>Please let me know if you experience any problems with the new update.<br><br>:) <br><br></td></tr></table><br>
<a name="892276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moraldi</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#173">[#173]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for this new update. Keep up this good work <br><br></td></tr></table><br>
<a name="892863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VIP3R</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#174">[#174]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome :)<br><br><b>THREAD 10 IS ABOUT TO CLOSE</b><br><br>Please continue on the new thread located <a href="/posts.php?topic=79489" target="_blank">here</a><br><br>Thanks :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
