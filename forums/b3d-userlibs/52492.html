<!DOCTYPE html><html lang="en" ><head ><title >Some basic questions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Some basic questions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >Some basic questions</a><br><br>
<a name="586100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some things I tend to forget frequently and I cannot find an official documetation of it, maybe because it's considered trivial by C coders:<br><br>What are the varibles in userlibs?<br>I know: a or a% is a 32 Bit int argument.<br>I also know a* is a pointer to a blitz bank.<br>I've seen a$ - what's that, I guss not a string since strings must be transfered over banks?<br>And how do I declare a boolean flag, like true/false/null ?<br><br>I have also realized that using a function name like "_dothisandthat()" in the userlib (a typical newbie mistake) will stop Blitz3D from running until this leading underscore is removed in the userlib file.<br><br>Then I really don't know what I'm doing wrong, but blitz always tells me "user lib not found", although I have copied it to 3 folders: current app folder, uselibs folder and even the windows system folder. Also the name is written correctly in the userlib: .lib "openvip_hl.dll". I've also restarted the Blitz IDE (tho this shouldn't be neccessary with the current Blitz version).<br><br>I declare the functions one by one, and right now all I try is <br>openvip_create%() and openvip_destroy(lib%)<br>to test the basic initialisation, but even here it says "user lib not found". What could be the cause for this?<br><br>For the openvip library see my other thread about openvip.<br><br>Thanks.<br><br>EDIT I just tested it with CallDLL and it seems to work, at least the two mentioned function. Of course it doesn't make much sense with CallDLL.<br><br>EDIT2:<br>Ok, it turned out I had to add the "upl.dll" whatever this is, it seems to be used by openvip_hl.dll internally (wasn't mentioned anywhere). the function openvip_create() works now, but openvip_destroy still produces a "User lib function not found" error. This function is described in the docs, as well as it is referenced in the highlevel_api.h that contains a list of all public functions of the highlevel api. What drives my crazy is the fact that even when I try to find the string "openvip_destroy" in anyone of the files in the openvip folder, it cannot be found, just like the docs are trying to make an april joke.<br><br>What does this mean:<br><br>///same as openvip_library_t::destroy<br>#define openvip_destroy(lib) \<br>lib-&gt;destroy(lib)<br><br>Does that mean I have to use "openvip_destroy(lib%)" or what?<br><br>can this really be that hard? <br><br></td></tr></table><br>
<a name="586121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> uh right now I give up, seems like I lack of some fundamental information, like what this "lib-&gt;destroy()" stuff means. Maybe someone will enlighten me. <br><br></td></tr></table><br>
<a name="586483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's always amazing to see the sheer amount of support I get when I need help. Silly as I am this won't stop me from helping other people whenever I can. <br><br></td></tr></table><br>
<a name="586489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, do not be so rude... we always help:<br><br>a$ -&gt; This a way of passing C Strings, this is, a null terminated string<br><br>a* -&gt; A pointer. A pointer is a 32 bit integer indicating a memory position. This can be good to pass structs, banks, pointer to strings, etc...<br><br>You cannot declare boolean flags, use integer instead.<br><br>i don't understand all your questions, but:<br>lib-&gt;library() indicates a method of the class library called destroy.<br><br>The userlib function not found is always that the dll is not present or the decls is not complete.<br><br>Be more specific and i will help you. I am good wrapping xD <br><br></td></tr></table><br>
<a name="586609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Kurix! I had a bad day, I wasn't meant to be rude, but maybe too much pessimistic.<br><br>Ok, you just made me remember I have to hack a banks adress before I can use it with the pointer argument (toms method).<br>So a$ is in fact a string, only a null terminated one. Since blitz strings are not null terminated AFAIK, i take it i have to a$=a$+chr$(0) it.<br><br>There are two error messages: Userlib not found and userlib function not found, and they do describe what's going on. I only didn't know that one DLL may require a further DLL and if this second DLL is missing, there may still be this "userlib not found" error.<br><br>If you really want to help me, then have a quick look on the package OpenVIP. It's a Video processing library, created for DLL usage, so maybe it's very useful for blitz.<br><br>I don't please you to wrap it, although that would be cool, but if you could see if it can be wrapped at all or if there are some basic troubles in the interface (callback things)?<br><br>The adress of the sourceforge download page is:<br><a href="http://sourceforge.net/projects/openvip" target="_blank">http://sourceforge.net/projects/openvip</a><br>The documentation says the file  "highlevel_api.h" should contain all neccessary information to access the public functions and methods of the high level dll "openvip_hl.dll". The "highlevel_api.h" lists the function "openvip_destroy", but when I run a text search over all files inside the openvip folder, this string cannot be found in any file but "highlevel_api.h". Nevertheless the documentation states clearly that openvip_create and openvip_destroy are the mandatory basement for every call of the library. This is what's confusing me. Where is this function anyway? Does it exist or is it only me who misunderstood everything once again. <br><br></td></tr></table><br>
<a name="586622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have received lot of help from this forum, and i think you have helped me too.<br><br>I will look into the project and tell you later what i think.<br><br>You don't need to add the chr$(0) when passing strings to dll's, this is done automatically. Of course this is a problem because if you want to pass a bank as a string and the bank contains a zero byte, then the string will be cut.<br><br>Cheers, KuRi <br><br></td></tr></table><br>
<a name="586649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KuRiX</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, for what i have been looking, you are not programming a wrapper, you are just creating a .decls file to access the original .dll<br><br>This could be a mistake if the dll needs some callback functions. I am reading now the manual, and some callbacks are optional. In other case, what you should do is programming a full wrapper in Visual C (for example) that takes the needed functions and does the callbacks internally...<br><br>And OpenVip is NOT for showing video, i see that is for PROCESSING? <br><br></td></tr></table><br>
<a name="586754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I see. Well thank you very much for your help.<br><br>I think processing contains showing, although maybe not in realtime, but that's exactly what is missing in all existing Video solutions for Blitz, but MCISendString (but that is not reliable when it comes to frame access). OpenVIP is capable of delivering single video frames to a given memory adress, in blitz probably a pointer to a bank. And there is this blitz hack that allows to redirect an image to a bank handle, so practically it's possible to physically point to an image.<br><br>EDIT: Note to myself (may be useful for other people too):<br>Read Sweenies How to wrap a DLL Tutorial! :<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=38319" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=38319</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
