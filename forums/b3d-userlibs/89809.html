<!DOCTYPE html><html lang="en" ><head ><title >WIIMOTE LIB   2010  Release</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >WIIMOTE LIB   2010  Release</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >WIIMOTE LIB   2010  Release</a><br><br>
<a name="1020534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First English release.<br><br>New features:<br><br>I rewrite many parts of the lib to support multiple wiimotes.<br><br>Almost no global variables needed.<br><br>All function names start with: "wii_" and so for the globals.<br><br>Function Names now are in english and most comments too.<br><br>The lib includes an introduction/doc about the wiimote/lib<br><br>I'm testing the use of Threads to read the wii, with success if you don't enable debug.<br><br>Take a look: <a href="http://sites.google.com/site/odriozolajuanignacio/wii.zip" target="_blank">http://sites.google.com/site/odriozolajuanignacio/wii.zip</a><br><br>Kind Regards<br><br>Juan <br><br></td></tr></table><br>
<a name="1020827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks interesting Charrua, will have a delve in tomorrow. <br><br></td></tr></table><br>
<a name="1021481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZJP</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Good work. Speed and accuracy ..<br><br>JP <br><br></td></tr></table><br>
<a name="1021500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx <br><br></td></tr></table><br>
<a name="1021571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you test/use it, plese send me comments about easy of use, bugs and the like. <br><br>thank's<br><br>Juan <br><br></td></tr></table><br>
<a name="1022064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua,<br><br>I do not have the hardware to interface my Wii mote to the computer(yet) however I thought I'd try compiling it. Initially upon compiling the exsample functionpointer could not be found - so I uncommented the functionpointer within the lib file (which appeared to be empty anyway) but this did not resolve the functionpointer cannot be found compile error.<br><br>So I uncommented the other three functions (which were also empty) if you do not have fast lib - however the createthread function was passing too many params - seeing as the empty createthread function expects no params its not surprising.<br><br>Help? <br><br></td></tr></table><br>
<a name="1022122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank's my bad, if you don't use threads or don't have FastPointer the idea is to have declared the funtions FastPointer dll has in it, so the Bla function not found don't appear. The empty funtions are just for that.<br><br>the correct declaration should be:<br><br>;Function CreateThread (FunctionPointer, Value)<br>;End Function<br><br>;Function FunctionPointer()<br>;End Function<br><br>;Function IsThread(Thread)<br>;	Return False<br>;End Function<br><br>;Function FreeThread(Thread)<br>;End Function<br><br>if you don´t have the hardware, the example simply says: "no wiimote detected" waits 2 seconds and end!, not too much, im sorry<br><br>hope you will sonn have a wiimote to play with.<br><br><br>Juan <br><br></td></tr></table><br>
<a name="1022130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i asume that if you don´t have FastPointer lib (a free one) is because you choose not to use threads. For that reason i wrote (wrong but correct them thank's to you) empty functions just to not change the rest of the lib.<br><br>in brief, without FastPointer threads could not be used. Recently ZJP launch a thread functionality for blitz:<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=84325" target="_blank">http://blitzbasic.com/Community/posts.php?topic=84325</a><br><br>i didn't test this one yet, but i think it should work like the other.<br><br>Juan <br><br></td></tr></table><br>
<a name="1022148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZJP</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>Rewrite the Wiimote library in FreeBasic (or PureBsic) would be a good thing. I thought to make a dll, but no time. ;)<br><br>JP <br><br></td></tr></table><br>
<a name="1022204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> time?<br>and skills, i do what i can, i have no formal programming studies, each new thing takes me a lot of effort, but, i still have intentions to go on.<br><br>i'm not a gamer neither a programmer, so many of the topics, words and terminology are completely new for me, but, on the other way, lot of fun!<br><br>Juan <br><br></td></tr></table><br>
<a name="1022299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Charrua,<br><br>I am impressed with what you have accomplished already within Blitz3D, and I have No preference towards Free or Pure basic for that matter.<br><br>Thanks for the feedback, I may now check out the list of components you recommend for making an IR receiver for the PC to interface my Wii mote.<br><br>I'm impressed you manage to create both interface code for a Wii-mote and the 3D path code with beziers and stuff... you sir are most definitely a programmer in my book. <br><br></td></tr></table><br>
<a name="1022324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank's for your comments.<br><br>see: <a href="http://en.wikipedia.org/wiki/Bluetooth" target="_blank">http://en.wikipedia.org/wiki/Bluetooth</a><br><br>in this article, there are some pictures of BlueTooth Adapters (dongles) required to connect the wiimote to the pc (if in didn's has one already instaled)<br><br>have you already make a connection with your wiimote?<br><br>i'm particulary interested in the detection phase. It gave me more headaches than the rest. My first verison works on XP but not in vista. I tested this second version on vista and indirectly on xp runing a VMWare virtual machine on my Vista Laptop with success. I hope the detection phase and the rest work for you. <br><br>Juan <br><br></td></tr></table><br>
<a name="1022355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, never dipped my toe into the murky depths of Vista - I've got an XP &amp; a W7 machine, &amp; this certainly intrigues me - might be a little while before I manage to get the necessary hardware, I might treat myself at the start of May.<br><br>Thanks for the extra link Charrua. <br><br></td></tr></table><br>
<a name="1022391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ZJP</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am impressed too ;)<br><br>JP <br><br></td></tr></table><br>
<a name="1022409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like this:-<br><br><a href="http://en.wikipedia.org/wiki/Bluetooth#Bluetooth_devices" target="_blank">http://en.wikipedia.org/wiki/Bluetooth#Bluetooth_devices</a><br><br>Excuse my ignorance, I thought the Wii mote was an infrared device...?<br><br>Maybe not though:-<br><br><a href="http://www.wiiprojects.org/bluetooth.html" target="_blank">http://www.wiiprojects.org/bluetooth.html</a><br><br>then again:-<br><br><a href="http://www.instructables.com/id/Low-Cost-Multi-touch-Whiteboard-using-the-Wii-Remo/" target="_blank">http://www.instructables.com/id/Low-Cost-Multi-touch-Whiteboard-using-the-Wii-Remo/</a> <br><br></td></tr></table><br>
<a name="1022414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Excuse my ignorance, I thought the Wii mote was an infrared device...? <br></div><br><br>It uses infrared leds in the sensorbar to sense its position, but it uses bluetooth to communicate that information back to the console <br><br></td></tr></table><br>
<a name="1022433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> we don't need to have a nintendo wii, it includes one wiimote, so if you or your children has one, good. But the wiimote is sold separately just because many of them may be used with one console. I don't have a nintendo wii console, i just have a wiimote. We are lucky that the desigers uses a standar protocol: bluetooth for the wireles comunication, so, it would be seen by any bluetoot capable device, the only thing is to know the protocol and presto!<br><br>The system sees it as a BlueTooth Joystick.<br><br>Like a Joystick, has buttons, but also accelerometers and an infra red camera with software that keeps track of 4 ir points sending us its x,y coordinates. The values sent are in the range 0..1023 for x and 0..767 for y, but the real camera inside the wiimote is 128x96 pixels..<br><br>There are a lot of applications not for the wiimote buttons!. Buttons are everywhere: keyboards, joystikcs and the like, the good part of the wiimote are the new capabilities: accelerometers and ir points seen by it's camera. With few additional hardware (some ir leds, resistors and a voltage source) many new things could be made. <br><br>the lib i wrote (and any all over the planet, normally written in C) speaks with windows and ask for a list of devices, then scan the list looking for Bluetooth joystics and then search the vendor id and product id of the wiimote. All wiimotes instaled then are listed, Having the Names windows uses to hadle them, the lib open a file to write (send info to the device) and other file to read (status from the input device) for each wiimote detected.<br><br>knowing the fields of the protocol and some other info posted for good people on the web we can read each piece of information from the wiimote. <br>And finally read the individual values: button state, acceleromter value, x,y coords of an ir source and the like simply reading fields on a BlitzType object.<br><br>As an example, placing 4 ir leds one on each corner of the screen, and reading the coord the wiimote sees, then we can calculate the exact point in the screen seen by the wiimote (center of the camera view: 512,384)<br>and use this for our weapon. The whiteboard demo of johny lee has the math's involved, Warp is called inside the c source published a couple of years ago.<br><br><br>Juan <br><br></td></tr></table><br>
<a name="1023513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Charrua, thankyou for the extra info, it all helps.... <br><br></td></tr></table><br>
<a name="1028287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FiNegirO</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great piece of code Charrua!<br>Yhanks very much!<br>finegiro <br><br></td></tr></table><br>
<a name="1028361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank's<br>if you use it, pleas send me some feedback about it<br><br>Juan <br><br></td></tr></table><br>
<a name="1038818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nanahuatzin</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> here i am using this code for this:<br><br><a href="http://www.youtube.com/watch?v=2sL17b6pP-Q" target="_blank">http://www.youtube.com/watch?v=2sL17b6pP-Q</a><br><br>The first part is flash, i am using blitz to read the wiimote and emulate the mouse.<br><br>The second part, it is done in blitz3D.<br><br>I am using the ideas from the Lee hacks, you will see in the lower part of the screen a dark squeare where i put the IR led and the wii.<br><br>It is very fun to use. I am working to use the two hands.. aka minority report...<br><br>The system is sensible to hot lamps, but with a little efort, you can program to ignore some sources <br><br></td></tr></table><br>
<a name="1038939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> man!<br><br>congratulations, i'm glat to see your work<br><br>(shoud it be posted in the Blitz ShowCase, isn't it?)<br><br>the first one is you?<br><br>Juan <br><br></td></tr></table><br>
<a name="1039517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nanahuatzin</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes.. i am...  :)<br><br>i have more ideas to use it... glad you like it. Maybe a chea motion capture system.. that would be fun.<br><br>Javier Delgado <br><br></td></tr></table><br>
<a name="1063118"></a>

<a name="1063119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone have trouble getting the example to work? I can connect my wiimote and it works with other programs on my PC, just not WiiMoteLib. I always get "No wiimote detected". I tried on Windows 7 and XP. The axe.wiimote mod for Bmax works for me.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1063488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi<br><br>the 2010 edition has some changes to make it work under vista.<br>try the original version i made for XP:<br><a href="http://blitzbasic.com/Community/posts.php?topic=78384#966619" target="_blank">http://blitzbasic.com/Community/posts.php?topic=78384#966619</a><br><br>hope it works for you<br><br>Juan <br><br></td></tr></table><br>
<a name="1063502"></a>

<a name="1063508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll check that out, thanks for the tip.<br><br>UPDATE: It works!<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1063525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'm glad to hear it!<br><br>enjoy<br><br>Juan <br><br></td></tr></table><br>
<a name="1063945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something strange in that the sample app does not find a Wiimote unless I first run something like the Wiiyourself demo or Desktop VR. If I run one of those demos first the bb demo works fine. <br><br></td></tr></table><br>
<a name="1064109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> the detection phase is what i found problematic.<br><br>basically i do some api calls to get from the OS a filename wich is used to open a file for write and another for read. Basically the OS sees the wiimote as a Stream or some thing similar.<br><br>once you have this "filename" no matter wich detection metod you did, the rest of the lib works ok. <br><br>if you want to use the 2010 edition, you can use the DevicePathName$ obtained in the old version, look at the function ObtenerHID()<br>this filename could be used as a parameter for wii_Connect<br><br><br>Juan <br><br></td></tr></table><br>
<a name="1064153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Charrua.<br><br>By the way I had a very similair problem with the axe.wiiyourself mod for BMax and it had to do with the version on BMax I was using. &gt; 1.39 does not detect Wiimote. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
