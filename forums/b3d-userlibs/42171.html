<!DOCTYPE html><html lang="en" ><head ><title >hel for bass.dll</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >hel for bass.dll</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >hel for bass.dll</a><br><br>
<a name="472653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mongia2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> excuse my bad english<br><br>.....userlibes bass.dll<br><br>BASS_RecordFree() : "BASS_RecordFree" <br>BASS_RecordGetDeviceDescription$(devnum) : "BASS_RecordGetDeviceDescription" <br>BASS_RecordGetInfo(info*) : "BASS_RecordGetInfo" <br>BASS_RecordGetInput%(input) : "BASS_RecordGetInput" <br>BASS_RecordGetInputName$(input) : "BASS_RecordGetInputName" <br>BASS_RecordInit%(device) : "BASS_RecordInit" <br>BASS_RecordSetInput%(input,setting) : "BASS_RecordSetInput" <br>BASS_RecordStart%(freg,chans,flags,proc*,user) : "BASS_RecordStart" <br><br><br>help for function<br><br><br>BASS_RecordStart%(freg,chans,flags,proc*,user) : "BASS_RecordStart" <br><br>proc* ?????<br><br><br>and <br><br>recordproc<br><br>BOOL CALLBACK YourRecordProc(<br>    HRECORD handle,<br>    void *buffer,<br>    DWORD length,<br>    DWORD user<br>);<br><br>FILE *file;<br>...<br>// the recording callback<br>DWORD CALLBACK MyRecordingWriter(HRECORD handle, void *buf, DWORD len, DWORD user) {<br>    fwrite(buf,1,len,file); // write the buffer to the file<br>    return TRUE; // continue recording<br>}<br>...<br>HRECORD record=BASS_RecordStart(44100,2,0,&amp;MyRecordingWriter,0); // start recording<br> <br><br>thanks...<br>mongia <br><br></td></tr></table><br>
<a name="472851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Erroneouss</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> at blitzcoder.com they have a finished BASS dll with DECLS file.  It's in the showcase, which is currently shut down for repairs, because someone deleted a shocase thing, and it went hectic and chaos-ee... I can email it to you if you want?  It works perfect. <br><br></td></tr></table><br>
<a name="472888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mongia2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> please a link full bass.decls <br>and eample<br><br>thanks <br><br></td></tr></table><br>
<a name="708157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone? <br><br></td></tr></table><br>
<a name="708162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=61339" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=61339</a> <br><br>... <br><br></td></tr></table><br>
<a name="708164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still doesn't solve the problem! <br><br></td></tr></table><br>
<a name="708168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> which problem? thought you meant the download-request... <br><br></td></tr></table><br>
<a name="708169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, getting these to work...<br><br>BASS_RecordFree() : "BASS_RecordFree" <br>BASS_RecordGetDeviceDescription$(devnum) : "BASS_RecordGetDeviceDescription" <br>BASS_RecordGetInfo(info*) : "BASS_RecordGetInfo" <br>BASS_RecordGetInput%(input) : "BASS_RecordGetInput" <br>BASS_RecordGetInputName$(input) : "BASS_RecordGetInputName" <br>BASS_RecordInit%(device) : "BASS_RecordInit" <br>BASS_RecordSetInput%(input,setting) : "BASS_RecordSetInput" <br>BASS_RecordStart%(freg,chans,flags,proc*,user) : "BASS_RecordStart" <br>BASS_RecordStart%(freg,chans,flags,proc*,user) : "BASS_RecordStart" <br><br></td></tr></table><br>
<a name="708198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> *** SOLVED IT ***<br><br>Can get at the sample data from ANY input (internet radio, audio in, mic etc etc).  <br><br>I am so happy!<br><br>If you want something done, do it yourself :-) <br><br></td></tr></table><br>
<a name="714302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you post the source etc? I am currently playing with the spectrum analyzer. It works with a WAV file, but I want it to work with the mic input. Preferably even with a recording option. <br><br></td></tr></table><br>
<a name="714311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> jfk,<br><br>the problem here is I used BASS 2.3 and I only ported parts of the library, basically just the bits I needed to get it working.  The code is also very messy as was justing trying to prove that this would work and wasn't too bothered about the long term maintainability.<br><br>To use the recording stuff it's basically...<br><br><pre class=code>
BASS21_RecordSetInput(record_input, MakeLong(50, BASS_INPUT_ONLEVEL))
chan = BASS21_RecordStart(44100,1,0,0,0)
</pre> <br><br></td></tr></table><br>
<a name="715126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot. I'll try and see if it's in my decls.<br><br>Uh, I replaced the dll by something not that old. RecordSetInput, RecordInit and RecordFree are working, but BASS_RecordStart crashes with several error messages:<br>MAV, Blitzcc invalid action closer, "GetModuleHandleA succeed". Maybe I better get the latest version... <br><br></td></tr></table><br>
<a name="717442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I got BASS23 now. I've added alternative declarations in the decls file, for those commands that are taking diffrent/other parameters compared to their old versions.<br><br><br>I'm trying to make this work, but there are some troubles.<br>BASS_Init does not allow me to init any other device than "no audio" (zero for the device parameter). Since this initializes the BASS output device, this may be no probem. BASS_RecordSetInput then seems to work. BASS_RecordInit as well. But when I call BASS_RecordStart now, it gives me a MAV. (Also in debug mode). The puter will then be frozen. I hit ctrl-alt-del, then it takes about 30 seconds or so until the taskmanager shows up.Now I got to cancel, windows will then respond again.<br><br>However. it would be really helpful if you share your sourcecode, not only the 2 lines. It's ok if you don't, tho many people including me have spent hundreds if not thousands of hours for the sourcecodes they released for this community and it has already now been pretty frustrating  several times to see how few of it is coming back to me , if I occassionally need a little help.<br><br>Don't misunderstand this, it's nothing personal, I only want the make clear my general desperation :o) <br><br></td></tr></table><br>
<a name="717463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I made some progress. Basic Record handle initialisation seems to work. <br><br><br>I made a common mistake in the decls file. Where in the Documentation of the DLL a pointer parameter is required (eg. for a callback procedure), you have to use a bank pointer theoreticly. But if the DLL allows to use NULL instead, as some sort of default or so, then (if you want to use NULL) you should not use the bank pointer (adr*) in the decls file.<br><br>So now I got  these two working without bank pointers:<br>BASS_RecordStart%(freq, channels, flags, proc, user)<br>BASS_Init%(device, freq, win, cslid)<br><br><br>Now I only got to wire this with a channel that can be used with the ftt get data functions. Here's my next problem: In Version 2.3 several functions have been removed, eg. PlayMusic etc. So I replaced them with their alternatives in my previsously working spectrum analyzer test source. The source still includes a FX demo with parametric equalizer and reverb fx, that is controlled by the keys qawsedrf. The weird thing that happens now is: playing sounds seems to work fine, but keyhits and keydown of SOME keys are broken. It's really this way: w,s,r and f still work, qa and ed refuse to work.<br><br>What could this be? <br><br></td></tr></table><br>
<a name="717467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very strange. However, I have pasted the fft code and it works nicely with the record part. It wasn't clear BASS_RecordStart will return a channel handle, but it actually does.<br><br>Not sure where the keyboard problem came from, maybe from the FX part. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
