<!DOCTYPE html><html lang="en" ><head ><title >Tokamak: Popcorn Machine Convex Hulls?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tokamak: Popcorn Machine Convex Hulls?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >Tokamak: Popcorn Machine Convex Hulls?</a><br><br>
<a name="665021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Picklesworth</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still working on establishing decent stability and graphics quality with this project here:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=56792" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=56792</a><br><br>One recent decision was to use more rounded objects as the platforms... they are now flattened half spheres allowing for lighting effects to actually look nice.<br><br>The obvious physics problems are being dealt with by generating convex hulls for each platform when a level loads. Since convex hulls seem to be limited to 255 faces and edges, I have created a low poly version of my platform mesh to use for physics.<br><br>This approach works up until the simulation is run.<br>The objects are clearly colliding properly -- they (theoretically) run along the platform in a convincing manner in terms of collisions. (Much better than before, too).<br><br>However: The physics are now behaving VERY poorly.<br>Sometimes boxes will fall through the convex hulls, other times the platforms will shake uncontrollably, and objects on top of the platforms will jump around like popcorn. (Hence the crappy thread title).<br>This problem occurs even if the convex hulls are based on very simple, flat objects.<br><br>Adjusting the substep value in TokSim_Advance does not seem to help.<br><br><br>Has anyone else encountered / overcome issues with convex hulls being really unstable?<br>Is there another 3d physics engine I could use which supports half spheres (specifically shaped spheres are fine) or convex hulls? (I don't need anything complicated -- just box -&gt; platform collision with reasonably realistic reactions).<br>I suppose a verlet engine would work well... Please, Bouncer?? I'll give you a free shipment of printer paper!<br><br><br><br>Edit:<br>Looks like the download in that old thread was removed.<br>For an example of what I am working on, here is a download of the old version: <a href="http://crumbsoftware.f2o.org/files/zsortproblem.zip" target="_blank">http://crumbsoftware.f2o.org/files/zsortproblem.zip</a> (Sorry about the z-sort problem!).<br><br>The build with today's problem. Ignore the gfx troubles.<br><a href="http://crumbsoftware.f2o.org/files/PlatformTest_05_12_06.zip" target="_blank">http://crumbsoftware.f2o.org/files/PlatformTest_05_12_06.zip</a><br>Sorry about the subliminal messages there, btw... Check out my custom window title on cmd.exe done with the RunProgram DLL! (I hope I didn't release it like that...) :P<br><br><br><br>Edit Again:<br>I'm considering Newton Game Dynamics now, which appears to do convex hulls and also runs more smoothly than Tokamak.<br>Shouldn't be too much of a pain to wrap compared to the others; someone has already nearly (or maybe entirely?) got it working in B3d with just a Decls file.<br>Besides, I don't need to wrap it -- just put the physics modules in there.<br>Still would be great to have a native Blitz solution, though, since I'm not exactly good with C++. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
