<!DOCTYPE html><html lang="en" ><head ><title >FastExtension 1.13 shadow solution</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FastExtension 1.13 shadow solution</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >FastExtension 1.13 shadow solution</a><br><br>
<a name="955355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sake906</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This goes directed specially to MikhailV.<br><br>I have seen your work on the shadows, and to me it appears that most of the problems you are having on the following images are directly caused by something you overlooked:<br><br><img src="http://img300.imageshack.us/img300/3024/shadow2.gif"><br><img src="http://img300.imageshack.us/img300/5381/shadow1.gif"><br><br><br>Before you released this update, I have made my own shadow casting system that works very much the same way as this one (also aided by FastExt). What I do is to render my "casters" on a white space with an orthographic camera mode, changing their color to black and then making it so their rendered black has a slight color HUE to match the ambient light (by using lame camera fog).<br><br>To prevent the bugs as seen on the images, I simply took all the receivers, instanced them (copied and cached) and rendered their copy at the same time on the same "white" space of the casters, but changing their color to white (and removing textures and making them full bright, etc) during the shadow rendering process. This will automatically "clip" the black shadow casters by using their Zbuffer information. The white receivers being in front of the casters will also overlap the casters, preventing them from rendering all across the receivers.<br><br>Since the final result renders on multiply mode, the receivers which have been rendered as white meshes will not appear on the shadow texture.<br><br>I believe this is a very easy fix which you should consider.. it is actually the only reason why I am not using this new feature in the update and stick to my old, slower code :( <br><br></td></tr></table><br>
<a name="955465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You right, BUT your method fix restriction from first image ONLY!<br><br>This not critical restriction. Why I shall not use your method  (I knew his earlier) — since receiver can be any mesh (as example: whole level of the game containing &gt;100000 triangles!). And render 2 times all receivers this unreasonably, this will vastly reduce speed of the shadow system and worsen situation, expressed on second image. Can be caster is found between two receivers (see second image) — your method destroys the shadow from it!<br><br>Too not unambiguous method to use him in shadow system, he can give unpredictable results and will tangle users.<br><br>p.s. You can modify included files (ShadowsSimple.bb &amp; ShadowsMultiple.bb) to get necessary functionality. This is your right. <br><br></td></tr></table><br>
<a name="955701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sake906</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure it reduces performance? the receivers would simply have a portion of them rendered, that's just a few additional polys on the render area considering they are not being rendered entirely...<br><br>And yes, method destroys shadow when found between two receivers... but isn't that supposed to happen anyway? shadows should not render where light doesn't reach: let the level lightmaps handle this, otherwise the shadow will render even on places where there is supposed to be a baked shadow.<br><br>How can I enable this anyway? <br><br></td></tr></table><br>
<a name="955735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikhailV</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Sake906: I shall try to add this option in new version (in ShadowsSimple.bb &amp; ShadowsMultiple.bb files). <br><br></td></tr></table><br>
<a name="955778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sake906</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that the best way to do it is to tell it which "receivers" are needed to "clip" the casters during rendering, so we can have other receivers out of that rendering process.<br><br>Anyways MikhailV, thank you for the consideration, I love the work done so far with this lib :) <br><br></td></tr></table><br>
<a name="956028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, sorry for my ignorant contribution.<br><br>i buy this product, is amazing.. the problem with the shadows reciber is not a problem for my games, but anyway, i made this graphic to show my opinion about caster an emiter shadow concept...<br><br>i don't know how works this lib, but, maibe this is a contribution idea.<br>(sorry sorry for my english)<br><br><img src="http://img60.imageshack.us/img60/6586/shadowf.jpg"><br><br>regards!.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
