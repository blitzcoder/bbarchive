<!DOCTYPE html><html lang="en" ><head ><title >Someone could recommend a good 'Flare' function??</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Someone could recommend a good 'Flare' function??</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=94" >Blitz3D Userlibs</a>/<a href="#bottom" >Someone could recommend a good 'Flare' function??</a><br><br>
<a name="760982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br>I've been looking for 'flares' functions/libs at the forums and I've tried some of them, but i've not achieved a good one...<br>Some of them are very slow and other ones are too complicated..<br>Could you please recommend me a good flare function or lib to use in my game, with media, if it is possible?<br><br>Thanks in advance! <br><br></td></tr></table><br>
<a name="761037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You mean lens flares? This one is very good:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1107" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1107</a> <br><br></td></tr></table><br>
<a name="761050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks JoeGr,<br><br>I've deal with this one and I've encountered various issues..<br>the first one is this lib is slow... In its code there are a lot of picks and that's not important managing the demo scene but beyond that, it is.<br>The second issue is it uses spritecontrol to draw the flares, I've used spritecontrol during a lot of time and it has some bugs that make it very unstable under some circumstances..<br><br>I'm looking for something more simple.<br>However, and of course, thanks a lot, really for recommend me this one!<br>:)<br><br>More ideas will be wellcome! <br><br></td></tr></table><br>
<a name="761131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoeGr</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> IIRC if you take out the code that changes the colour of the flares then it gets a lot faster - easily fast enough to use in most situations I would have thought - and it still looks good. I doubt you'll find a much better system to be honest.<br><br>What bugs have you found with sprite control? I'm using it for something at the moment so I'm interested to know. <br><br></td></tr></table><br>
<a name="761145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi JoeGr,<br><br>Thanks for your response.<br>I remember spritecontrol was one of the first libraries I used because it seemed to me very usable, easy and fast.<br>I didn't remember exactly but I start to use nsprite even being poor in some aspects (it a great library, however) bacause spritecontrol gave me MAV errors sometimes and messages saying that certains sprites didn't exist, even being sure those sprites existed and were created...<br>I'm not being very clear but as I said, to be honest, I just remember I was researching for a week what was the reason I got that errors and I didn't achieve very much.<br><br>If Spritecontrol is ok for you, continue using, of course, because I cannot give you more details in order to recommend you any other lib.<br><br>Best regards! <br><br></td></tr></table><br>
<a name="761785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barliesque</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> One of these days I plan to simplify that code so that it doesn't depend on SpriteControl, most of which it doesn't really even need.  I have yet to encounter any problems with MAV's, so I'm betting the fault wasn't really with SpriteControl.<br><br>I don't think I was ever really happy with the way the code as a whole was structured--it's not as neatly modular as I'd like.  If you have problems with it still, have a look at the comments in the archive where someone was having a problem--it was a matter of things being in the right order I think, and globals being properly initialized.  I forget to be honest, so have a look.<br><br>As JoeGr says above, you can remove the flare colorizing code and greatly improve performance.  Depending on the scene, this feature can run quite well or take a big chunk out of your performance--it's not for all projects.  I came up with that for a project that featured stained glass windows in the ceiling, for which the effect was really stunning. <br><br></td></tr></table><br>
<a name="762109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..actually i modify this lens flare system for my own purpose and its quite fast without bugs at all..one thing you have to be aware of is also number of objects you are going to use for  pick checking, so once you using it properly it should done job just nicely... <br><br></td></tr></table><br>
<a name="762145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Naughty - nice one.<br>I'm currently using the lens flare in one of my projects, but it does slow things down.<br>A faster version would be very welcome.<br>Will you share? <br><br></td></tr></table><br>
<a name="762149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot for your answers!<br>I agree with John, a faster version would be very welcome!<br><br>All the best! <br><br></td></tr></table><br>
<a name="762549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a sidenote: For Sunflare you may use something like this. But for an ordinary lightbulb flare you have to find a workaround for the visibility check of the light source. Cause checking a number of bulbs with Linepick may slow things down a lot.<br><br>Currently I use bulb flares that are z-sorted normally. Not that great, I know. Any ideas? <br><br></td></tr></table><br>
<a name="762603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barliesque</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Pinete:<br>I think what Naughty Alien is saying is not that he's optimized the code, but that he's using it carefully to get a speed increase--carefully choosing as few entities as possible to make pickable for linepicks.<br><br>@jfk:<br>I think you could use this method for lightbulbs as well, but you'd need to keep track of a shortlist of linepicks for each lightbulb.  If a lightbulb isn't on screen, then there's no need to do any linepicks for it.  If you've got a room with several bulbs, then you'll probably be in trouble with too many linepicks--unless, there's nothing in the room that can obscure any of them.  In that case, all you need is to figure out whether the camera is inside the room--or something like that.  For lightbulbs, you almost certainly don't need to colorize the flare.<br><br>Another good idea is to fade and eventually turn off flares the further they are from the camera--of course this doesn't apply to the sun!  But you can turn off the sun flare when the camera is indoors.<br><br>My example sun flare just demonstrates some flare techniques, but is not a comprehensive solution.  I think you would really need to integrate all of these ideas into whatever   world loading system you're using.  One of these days, I want to come back to this and make it a more fully featured solution, so that you can have an array of light sources, each with their own optimal flare settings. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
