<!DOCTYPE html><html lang="en" ><head ><title >AutoScale - AutoFit alternative</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >AutoScale - AutoFit alternative</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=512" >Monkey Code</a>/<a href="#bottom" >AutoScale - AutoFit alternative</a><br><br>
<a name="2075631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Back when I first wrote this over a year ago, AutoFit didn't have all of the features that I wanted to use in my app, or it didn't apply the features properly.  I decided to upload this after making some changes to the code recently to more efficiently support devices and targets where the dimensions can be resized at runtime.   Today, I'm presuming that AutoFit can do most of the things AutoScale set out to do, but the features I had in mind when creating AutoScale were the following:<br><br>1.  Aspect ratio preserving (and ignoring) resize ability<br>2.  Sliding aspect-ratio preserved canvases to the center<br>3.  Touch-based delta input values, in addition to mouse-based<br>4.  a DeviceX() and DeviceY() function that returned values relative to DeviceWidth() and DeviceHeight(), in percentages, even when the rest of the screen is already scaled<br>5.  Some way to apply letterboxing, when necessary.<br><br>The rest of the differences with AutoFit are mostly stylistic.  <br><br><img src="http://i.imgur.com/iSJc7LB.png"><br><br><b>How to Use</b><br>InitAutoScale(width, height) should be called OnCreate, and ScaleScreen() should be called at the beginning of OnRender.  ScreenWidth and ScreenHeight are the virtual screen dimensions.  All dimensions in your app can be hardcoded relative to positions in your virtual screen, and will be scaled accordingly, but for mouse clicks and touches to register in the correct location, always poll dTouch or dMouse functions instead of the default ones.  You can also use SetScaledScissor to perform a scissor operation in the virtual screen space.<br><br>No scissoring is done to provide any letterbox effect in AutoScale by default -- This may be a desired effect for some users.  However, you can add your own letterbox effect with the new RenderLetterBox() function.  Call it after all of your other rendering operations,  supply it an instance of a LetterBoxer, and it automagically fills in the correct area.  <br><br>There are 3 built-in types which extend LetterBoxer  that are included:  Color bars, stretched "book-end" images, and a tiled background.  You can also make your own completely custom LetterBoxer -- the render routine gives you the correct draw rectangle and side, and SlideAxis will tell you how your letterbox should be oriented.  Updates will be coming soon to make BookEndLetterBox be SlideAxis-aware.<br><br>Source code:<br><a href="https://gist.github.com/nobuyukinyuu/8348382" target="_blank">https://gist.github.com/nobuyukinyuu/8348382</a> <br><br></td></tr></table><br>
<a name="2075630"></a>

<a name="2075629"></a>

<a name="2075627"></a>

<a name="2055591"></a>

<a name="2054424"></a>

<a name="2054425"></a>

<a name="2054533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DiTransfers</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome Thank You <br><br></td></tr></table><br>
<a name="2075628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is an improved version of AutoScale which fixes the problems with using sloppy stretch mode.  There are some functionality-breaking changes in here (function signatures have changed), so if you've used AutoScale for your previous project, don't upgrade unless you're ready to change your references to the functions.  Notably, PreserveAspectRatio is now a Global, and not an argument.  This was necessary to facilitate behavior that was aspect-ratio dependent. <br><br>In addition, a new function <b>SetScaledScissor</b> is now part of the module.  This allows a very convenient way to make a scissor region inside the virtual screen, <strike>and is something AutoFit doesn't currently support</strike> <i>(see edit below)</i>.  Enjoy.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'Code redacted, please see original posting.
</textarea><br><br><b>Edit:</b>  haha, I should really read the AutoFit thread.  Someone already implemented this a year ago, but it is not official. <br><br></td></tr></table><br>
<a name="2055649"></a>

<a name="2055590"></a>

<a name="2071152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SHiLLSiT</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nobuyuki: You pointed me to this module in <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=6119#70339" target="_blank">another thread</a>. Its been working really great, except that I just noticed an issue:<br><img src="http://img109.imageshack.us/img109/5805/d3wa.png"><br><br>The origin of the sprite is at it's top-left corner which is represented by the bottom set of coordinates. The first set of coordinates represent the output of the DeviceX/DeviceY functions like so: DeviceX(0):DeviceX(1), DeviceY(0):DeviceY(1).<br><br>According to what's being printed on the screen, the sprite is currently at the screen origin when it indeed is not.<br><br>EDIT: Derp, once again the problem was on my end! <br><br></td></tr></table><br>
<a name="2071102"></a>

<a name="2073045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> the scissoring functions work very well thanks <br><br></td></tr></table><br>
<a name="2075632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very few people used the first public version of AutoScale, and the method signatures seem to have stabilized, so I've taken down the v1 code and replaced it with a link to Gist, which will always be up to date.<br><br><b><i>In addition,</i></b> I've finally added custom letterboxing support to AutoScale.  Now you can specify a custom letterbox to adapt your game to different aspect ratios easily, from the classic black bars to more elaborate backgrounds.  The original posting has been updated accordingly to reflect this. <br><br></td></tr></table><br>
<a name="2077182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Supertino</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank Nobuyuki I use your AutoFit so it's good to see some additions.  Thanks again, I'll have a play with the new custom letter boxing. <br><br></td></tr></table><br>
<a name="2077185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the letter boxing <br><br></td></tr></table><br>
<a name="2110710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is ace, BTW -- many thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
