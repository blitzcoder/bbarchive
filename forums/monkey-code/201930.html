<!DOCTYPE html><html lang="en" ><head ><title >HTML5 XMLHttpRequest Wrapper</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >HTML5 XMLHttpRequest Wrapper</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=512" >Monkey Code</a>/<a href="#bottom" >HTML5 XMLHttpRequest Wrapper</a><br><br>
<a name="2018327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i've created a small XMLHttpRequest Wrapper. It works with Firefox, Chrome and IE. I have not tested other browsers yet.<br><br>Demo: <a href="http://sedm.de/monkey/nettest/" target="_blank">http://sedm.de/monkey/nettest/</a><br>Module: <a href="http://sedm.de/monkey/nettest/jnet.zip" target="_blank">http://sedm.de/monkey/nettest/jnet.zip</a><br><br>Sample:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import mojo
Import jnet

Class myApp extends App
	Field http:XMLHttpRequest
	Field response:String
	
	Method OnCreate:Int()
		response = ""
		http = New XMLHttpRequest()
		http.open("http://sedm.de/pub/ip.php")
		http.send()
		
		SetUpdateRate(30)
		
		Return 0
	End
	
	Method OnUpdate:Int()	
		response = http.responseText()		
		Return 0
	End
	
	Method OnRender:Int()
		Cls
		DrawText("sedm.de says: " + response, 10, 10)
		Return 0
	End
End

Function Main:Int()
	New myApp
	Return 0
End</textarea><br><br>Methodlist of the class "XMLHttpRequest":<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Method open:void(url:String, type:String = "GET", async:Bool = true, userName:String = "", password:String = "")
Method send:Void(body:String = "")
Method state:String()
method status:String()
Method statusText:String()
Method responseXML:String()
Method responseText:String()
Method abort:Void()
Method getResponseHeader:String(header:String)
Method getAllResponseHeaders:String()
Method setRequestHeader:Void(header:String, value:String)</textarea><br><br>have fun! <br><br></td></tr></table><br>
<a name="2018325"></a>

<a name="2018334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice, thanks. <br><br></td></tr></table><br>
<a name="2018379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Changes:</b><br>the getter methods are now fields, like in the original XMLHttpRequest object.<br><br><b>Additions:</b><br>jNet now has a Flash-Target. Flash Example at : <a href="http://sedm.de/monkey/nettest/MonkeyGame.html" target="_blank">http://sedm.de/monkey/nettest/MonkeyGame.html</a> <br><br></td></tr></table><br>
<a name="2018378"></a>

<a name="2018532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pinete</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot bruZard! very useful :)<br>could you please explain a little more how it works, for newbies? :P<br>thanks again! <br><br></td></tr></table><br>
<a name="2018534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> jNet is abandoned, use utils instead: <a href="http://www.sedm.de/monkey/utils.zip" target="_blank">http://www.sedm.de/monkey/utils.zip</a><br><br>1. create a new Object from XMLHttpRequest<br><pre class=code>Local xhr:XMLHttpRequest = new XMLHttpRequest()</pre><br>2. open a HTTP Connection to a URL<br><pre class=code>xhr.open("google.com", "GET") ' GET is default, you can also use "POST"</pre><br>3. send the request<br><pre class=code>xhr.send()</pre><br>3. wait for the answer<br><pre class=code>If xhr.responseText.Length() doAnythingWithTheAnswer()</pre><br><br>on Android you must set the correct permission to access the internet! Remind that not all ISP's allows XMLHttpRequest. preferably you should use it on the same Domain to get Highscores, load Data (like Leveldata) etc. <br><br></td></tr></table><br>
<a name="2018533"></a>

<a name="2018552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pinete</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks!! ;) <br><br></td></tr></table><br>
<a name="2019025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >thoast</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice thank you <br><br></td></tr></table><br>
<a name="2023083"></a>

<a name="2023084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for providing this, but JFYI I noticed a very slight issue. <br><br>The equal sign was missing below, and the compiler was complaining about missing identifier for the function. I'm using v53.<br><pre class=code>#if TARGET "html5"
	Function Include:Void(url:String) = "utils_include"
#EndIf</pre><br>Do you mind to please check &amp; update it?<br><br>Also I feel a bit silly, but though I comment out the above, and tried your original jnet code, I could never get a response in either case. All I could get was 'undefined' as a response. Do you have a suggestion? Thanks. <br><br></td></tr></table><br>
<a name="2023082"></a>

<a name="2023080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for providing this, but JFYI I noticed a very slight issue. <br><br>The equal sign was missing below, and the compiler was complaining about missing identifier for the function. I'm using v53.<br><br><pre class=code>
#if TARGET "html5"
	Function Include:Void(url:String) = "utils_include"
#EndIf
</pre><br><br>Do you mind to please check &amp; update it?<br><br>Also I feel a bit silly, but though I comment out the above, and tried your original jnet code, I could never get a response. All I could get was 'undefined'. Do you have a suggestion? Thanks. <br><br></td></tr></table><br>
<a name="2023081"></a>

<a name="2023079"></a>

<a name="2023085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry about the double post - not sure how it happened. I updated my original post a couple of times to include code formatting, but it seems to have duplicated my post after that. <br><br></td></tr></table><br>
<a name="2023091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> i've not looked at the utils module for a long time. Will try to clean it up <br><br></td></tr></table><br>
<a name="2123710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nigelibrown</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> has anyone still got a copy of this module? I have some historic code that used it but now dont have the module! <br><br></td></tr></table><br>
<a name="2123712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> httprequest is part of Monkey now, the module is in the brl folder and there is an example in mak's bananas folder. <br><br></td></tr></table><br>
<a name="2123720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bruZard</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> the XMLHttpRequest module is part of the utils module. I dont know if it work: <a href="http://www.colorflow.de/monkey/downloads/utils.zip" target="_blank">http://www.colorflow.de/monkey/downloads/utils.zip</a> <br><br></td></tr></table><br>
<a name="2124400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >diemar</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Funny, I was desperately searching for something like this I guess... Thanks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
