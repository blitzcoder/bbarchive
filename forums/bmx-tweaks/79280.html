<!DOCTYPE html><html lang="en" ><head ><title >FLTKMaxGUI Tweaks</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >FLTKMaxGUI Tweaks</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=110" >BlitzMax Module Tweaks</a>/<a href="#bottom" >FLTKMaxGUI Tweaks</a><br><br>
<a name="890114"></a>

<a name="1219827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I really should have titled this 'Fl_Help_View.cxx tweaks' because I'm only trying to fix up the FLTK HTML renderer for MaxIDE but it also applies to FLTKMaxGUI.<br><br>All changes were tested on Ubuntu (Edit: also on XP/Vista).<br><br>The source for the latest Fl_Help_View.cxx and Fl_Help_View.H is here: <a href="http://blitzmirror.ueuo.com/fl_help_view.zip" target="_blank">http://blitzmirror.ueuo.com/fl_help_view.zip</a> (expired)<br>Last update: 4 Sep 2010<br><br><b>Fl_Help_View Worklog</b><br><br>rev 27<br>- fixed compiler errors to get it building with fltk-1.3.x make<br>- fixed seemingly random fonts appearing on Mac, required changes to header<br>- fixed font list not being read properly on PPC Mac<br>- fixed no spaces between words on PPC Mac<br><br>rev 26<br>- changed scope of handle() to public<br>- added css functions: load_css(), parse_css(), get_css_value(), get_font_size()<br>- added css properties: background-color, font-family/weight/style/size<br>- added recognition system for css shorthand properties: font, background<br>- fixed table without /tr breaking next row alignment<br>- fixed table without tr not being drawn<br>- added nearest font match to font_face()<br><br>rev 25<br>- removed getcwd for init with relative path, need to init with full path.<br>- fixed format_table crash if td colspan width too thin.<br>- added page topline position history, required changes to header/fltkgui.<br>- added javascript:history.back/forward/go support, required changes to fltkgui.<br>- added openurl support for user navigation style, required changes to fltkgui.<br><br>rev 24<br>- fixed some more misc bugs.<br>- added new function: setstyle, required changes to header and fltkgui.<br>- added default user navigation style.<br>- added print error page instead of null link.<br>- added getcwd for initializing with a relative path.<br><br>rev 23<br>- fixed a few misc bugs.<br>- removed font_find function, not necessary, required changes to header.<br>- fixed build_faces and font_face functions to work with anti-aliased fonts.<br><br>rev 22<br>- fixed &lt;/a&gt; sometimes not working bug, style spilling into next &lt;td&gt;.<br>- added new methods: filepath and fileislink, for link targets fix.<br>- fixed link targets not stored in link history, required changes to header and fltkgui.<br><br>rev 21<br>- removed support for drawing new char refs via Symbol font, not compatible with FLTK 1.3.<br><br>rev 20<br>- added new method reformat, for calls to format.<br>- replaced add_block, format_table functions with extended argument versions.<br>- added d-pointer by hijacking Fl_Help_Target, required changes to header.<br>- replaced compare_targets function with cmp_targets, due to d-pointer.<br>- replaced textfont_ and textsize_ with global statics.<br>- moved local statics to d-pointer struct.<br>- fixed links with target values not setting position on new page.<br><br>rev 19<br>- changed vertical scroll size, now moves double the amount.<br>- added new methods sansfont, monofont.<br>- added new function font_find, used for new default fonts.<br>- added new functions build_faces, font_face and font_style.<br>- added full support for font face attribute, required changes to header.<br>- fixed bold/italic not working with many fonts.<br>- removed inconsistent resizing tweak in format.<br><br>rev 18<br>- fixed nested table overwriting cell heights.<br>- fixed nested table drawn below row height.<br>- improved format speed to 30% less time, required changes to header.<br>- fixed cell width not reset before/after nested table.<br>- fixed nested table popping cell margin.<br>- fixed pre text in tables not increasing cell width.<br>- improved pre tabs width, miscalculated in tables.<br>- added CHR() and MIL() macros.<br>- fixed tables not popping last font.<br>- fixed divide by zero error if table cells empty.<br>- renamed variables and reordered functions alphabetically. <br><br>rev 17<br>- fixed mouse over horizontal scrollbar showing active link/hand icon.<br>- fixed last line in &lt;td&gt; misaligned, caused by new block per line system.<br>- fixed empty &lt;td&gt; on end of row affecting next row y position.<br>- fixed wrong line gaps before and after a table.<br>- fixed nested tables overwriting &lt;table&gt; and &lt;tr&gt; 'bgcolor'.<br>- improved color lookup, no hash needed for hex value.<br><br>rev 16<br>- improved block system, every line is now in it's own block.<br>- removed line[32] field to drop memory usage to about 30%, required changes to header.<br>- tidied up code comments.<br><br>rev 15<br>- improved &lt;hr&gt; and &lt;h1-6&gt; line spacing.<br>- fixed font size not updating line y positions, required changes to header.<br>- fixed nested tables overwriting subsequent &lt;tr&gt; and &lt;td&gt; cell data, required changes to header.<br><br>rev 14<br>- added skipping of &lt;script&gt; to prevent drawing of Javascript code, etc.<br>- finished fixes to &lt;ul&gt; and &lt;li&gt; code.<br>- fixed &lt;hr&gt; line spacing miscalculations and added a shadow line.<br><br>rev 13<br>- fixed &lt;br&gt; directly after another &lt;br&gt; not taking a new line.<br>- added &lt;li&gt; 'type' support and drawing of circle and square bullets.<br>- fixed &lt;li&gt; bullets on left margin not visible because of no default indent.<br>- added all the missing character references (quote chars) listed in HTML 4.<br>- added support for drawing most of the new char refs via the Symbol font.<br>- fixed control characters not drawing correctly because of null widths.<br><br>rev 12<br>- fixed hang caused by resizing window on a big page, included forms.H for timer code.<br>- fixed words longer than window width taking an extra line.<br>- added skipping format below drawing area during resizing, full format is after mouse release.<br><br>rev 11<br>- fixed every table expanded to full document width, now scaled to window width.<br>- fixed table widths not scaling to exactly what they should.<br>- fixed text expanded to full document width, now line wrapped to window width.<br>- fixed &lt;hr&gt; not drawn according to horizontal scrollbar position.<br>- added &lt;div&gt; support, 'id' for target links and 'align'.<br><br><br>rev 10<br>- fixed line wrapped images not taking enough new line space.<br>- fixed &lt;/table&gt; not resetting the new line space after an image.<br>- fixed text on the same line as an image not aligned to the baseline.<br><br>rev 9<br>- added tab spacing support in &lt;pre&gt; with correct tab alignment.<br>- fixed images to align to the baseline instead of the top, required changes to header.<br><br>rev 8<br>- fixed table margin indents ignored in formatting, required changes to header.<br>- fixed &lt;td&gt; 'colspan' cells not scaling up when needed, result of previous colspan fix.<br>- improved tables scaling a bit wider than they should.<br><br>rev 7<br>- fixed &lt;td&gt; with 'colspan' &gt; 1 causing miscalculation of table cell max column widths.<br>- fixed tables scaling up beyond maximum width.<br><br>rev 6<br>- fixed &lt;pre&gt; courier font changing when scrolling down, required changes to header.<br>- reorganized HTML tag checking code, separated some tags and listed them alphabetically.<br>- added all the missing tags listed in HTML 4, they are still unsupported.<br><br>rev 5<br>- fixed &lt;h1&gt; font sizes and paragraph spacing.<br>- fixed '&lt;' character assumed to be an HTML tag.<br>- HTML tags in &lt;pre&gt; changing courier font.<br><br>rev 4<br>- added smart paragraph system so things like '&lt;p&gt;&lt;/p&gt;' only take one paragraph.<br>- fixed &lt;ul&gt; margin indent set by font size instead of a fixed width.<br>- fixed &lt;/pre&gt; not taking a new line in certain cases.<br>- improved &lt;h1&gt; and &lt;/h1&gt; paragraph spacing.<br><br>rev 3<br>- fixed &lt;td&gt; margin indent set by font size instead of a fixed width.<br>- fixed &lt;/table&gt; not closing the table row width.<br><br>rev 2<br>- fixed &lt;td&gt; with 'colspan' &gt; 1 causing miscalculation of table cell minimum widths.<br>- fixed &lt;/tr&gt; and &lt;/table&gt; not popping the table's margin indent back.<br><br>rev 1<br>- fixed &lt;/pre&gt; not taking a new line causing text directly after it to draw on the same line.<br>- added &lt;blockquote&gt; support which uses the existing &lt;ul&gt; code. <br><br></td></tr></table><br>
<a name="890284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fixed another bug today in Fl_Help_View.cxx.<br><br>This one you'll also see in User Guide&gt;maxide if you scroll down until you get to the header called The Edit Menu, this table is indented to the width of the last table's first column. If you scroll on down to The Program Menu header it is indented to the width of the last two table's columns, and so on. This is because the margins are only popped back by &lt;/td&gt; but not by &lt;/table&gt;. The tables in this page don't end with &lt;/td&gt; tags hence the bug appears. The fix simply pops the margin in the &lt;/table&gt; code. <br><br>I have checked to make sure this doesn't cause a problem in nested tables.<br><br>Edit: Well I thought it was ok but now I see there is a bug there. Doh! Got to go fix it now.<br><br>Edit 2: ok, I appear to have fixed that bug now. I had to add an array to allow for nested tables and their &lt;td&gt; tags in order to sort it out. I could have just used a couple of variables but it wouldn't have been as good.<br><br>The source is in the link in the first post.<br><br>I'm now trying to fix another table margin bug, but it's still got me stumped. <br><br></td></tr></table><br>
<a name="890287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work Mark! I really appreciate the time that you are dedicating to this. I'm doing some work on CocoaMaxGUI / Win32MaxGUI atm, but I'll make sure that I'll take a sneak peek at your fixes in the next few days. <br><br></td></tr></table><br>
<a name="890675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Seb. Thanks for the encouragement.<br><br>I have just uploaded a new version of Fl_Help_View.cxx, see link in first post. This fixes 2 more bugs and also corrects a previous fix.<br><br>The first bug you'll see if you go to Modules&gt;MaxGUI&gt;MaxGUI.ProxyGadgets, under the header Function Reference there is a big space between the two columns. This is caused by the first row having a colspan of 2 which increases the first columns minimum width. The fix ignores columns with a colspan &gt; 1.<br><br>The second one, this was pretty tough to fix. If you go to Modules&gt;MaxGUI&gt;MaxGUI.MaxGUI you'll notice that the horizontal scrollbar is very big and if you scroll down to around the middle of the page the tables are all basically fubar. This is because nested tables take over the alignment. It's related to the previous fix for indented tables in User Guide&gt;maxide but is for &lt;/tr&gt;.<br><br>The correction is for the fix for indented tables in User Guide&gt;maxide in the &lt;/table&gt; tag. I took out the td array and loop as I realised it wasn't necessary.<br><br>Not sure if those last two are final yet. The table code is really buggy so a lot more fixes are needed there. <br><br></td></tr></table><br>
<a name="890746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking better here too! <br><br></td></tr></table><br>
<a name="890767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> markcw,<br><br>Just checked it out and it's definitely looking better than it was. Well-done!<br><br>I've just attempted to get the Fl_Window::Show() GTK colour thing working, that you mentioned, and got a few signal handler 11's. <br><br>How was it that you implemented it? I assume we need to somehow get BlitzMax's AppArgs passed to flShowWindow, but maybe there's an easier method. <br><br></td></tr></table><br>
<a name="890771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks you guys. Good to know.<br><br>I have just nailed that bug I mentioned last night wasn't final. This is my third attempt at fixing it and is also the simplest, but it works. The first used a td array but that was just silly, so I simplified it to just a table count but then I realised that would break as soon as you have a whole page nested in a table, so now I just check if &lt;/tr&gt; was called with a flag and if not then &lt;/table&gt; pops the margin instead. Now Modules&gt;MaxGUI&gt;MaxGUI.MaxGUI looks even better.<br><br>I was building tutorial examples with FLTK and noticed the Hello World example used the Linux colors but other examples didn't. So I've no idea how to implement it in BMaxIDE but here's the source for "hello.cxx" if it helps.<br><br><pre class=code>// Listing 1 - "hello.cxx"

#include &lt;FL/Fl.H&gt;
#include &lt;FL/Fl_Window.H&gt;
#include &lt;FL/Fl_Box.H&gt;

int main(int argc, char **argv) {
 Fl_Window *window = new Fl_Window(300,180);
 Fl_Box *box = new Fl_Box(20,40,260,100,"Hello, World!");
 box-&gt;box(FL_UP_BOX);
 box-&gt;labelsize(36);
 box-&gt;labelfont(FL_BOLD+FL_ITALIC);
 box-&gt;labeltype(FL_SHADOW_LABEL);
 window-&gt;end();
 window-&gt;show(argc, argv);
 return Fl::run();
}
</pre> <br><br></td></tr></table><br>
<a name="890796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just fixed a few more bugs and uploaded the latest Fl_Help_View.cxx.<br><br>The first one you'll see almost everywhere, if you go to User Guide&gt;maxide and scroll down to the header called The File Menu the text below the header is indented a bit, this is because it's in a table. I don't know why but the &lt;td&gt; code was indenting to the width of the fontsize which is wrong, tables don't indent by default although they do indent a few pixels.<br><br>The second one was yet another bug in the table code. This time &lt;/table&gt; was not closing the table width so if &lt;/tr&gt; wasn't in the html then any text after &lt;/table&gt; was still bound by the table width. Strange how I didn't notice it earlier. <br><br></td></tr></table><br>
<a name="890802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found it!<br><br>Try adding...<br><br><pre class=code>Fl::get_system_colors()</pre> to the bottom of <b>flReset()</b> in <i>fltkglue.cpp</i> and rebuild modules. <br><br></td></tr></table><br>
<a name="890851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work, Seb.<br><br>Amazing that you only had to add one line of code. Definitely better than the default grey color scheme and also now it fits in. <br><br></td></tr></table><br>
<a name="890856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is in SVN right? I might give it a try tomorrow. <br><br></td></tr></table><br>
<a name="890864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This is in SVN right?  <br></div><br>Not quite yet... The FLTKMaxGUI version that was used to build the BlitzMax v1.30b IDE has been committed to SVN, but Mr Sibly is the only one who holds the keys, and I haven't got round to sending him the most recent changes that have gone on in this thread.<br><br>I've also managed to hack in an editable Combobox widget for FLTKMaxGUI (as per Mark Tiffany's request for the CE IDE) and tweaked a few event firing problems on list and node based gadgets. In a few days, I'll probably be submitting this (inc. markcw's <i>Fl_Help_View.cxx</i> tweaks) along with some Windows/Cocoa bug fixes. <br><br></td></tr></table><br>
<a name="890923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll be waiting patiently :-) <br><br></td></tr></table><br>
<a name="890952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool.<br><br>Btw, I'm getting a non-critical lib conflict when I build things. The report looks like this:<br><pre class=code>Building snowfall
Compiling:snowfall.bmx
flat assembler  version 1.64
3 passes, 5092 bytes.
Linking:snowfall
/usr/bin/ld: warning: libstdc++.so.6, needed by /usr/lib/libGLU.so, may conflict with libstdc++.so.5

Process complete
</pre><br>Has anyone got this before and know how to fix it? I had a search and the solution seemed to be removing libstdc++.so.6 but when I tried that it marked a ton of useful programs for removal. <br><br></td></tr></table><br>
<a name="890954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> That error has always been popping up on Linux. I believe it's harmless. <br><br></td></tr></table><br>
<a name="890960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Has anyone got this before and know how to fix it? <br></div><br>Yeah, it's just a warning, but if you really want to get rid of it, you can do by using a tweaked bmk and rebuilding all modules. E-mail me if you want me to send it to you. <br><br></td></tr></table><br>
<a name="891003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> markcw, "You've got mail!". ;-) <br><br></td></tr></table><br>
<a name="891012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, thanks Htbaa and Seb. If it's just a warning that everyone gets then I'm not so worried. I would be interested in how it can be resolved though.<br><br>Got your email Seb. Replying now.<br><br>Btw, I am nearly done with my intelligent paragraphing system for Fl_Help_View.cxx, hopefully will finish it tonight. <br><br></td></tr></table><br>
<a name="891091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, new version of Fl_Help_View.cxx is uploaded.<br><br>This has the intelligent paragraph system, maybe the word intelligent is too optimistic, so I'll just call it a smart paragraph system. It took longer than I thought because I fixed a few bugs along the way and had to remove a few bits of the old paragraph system. I left any table code alone to keep it simple. I still have a bit of stuff to add but it's basically done now.<br><br>Three extra bugs were fixed.<br><br>Indents for &lt;ul&gt; was 4 * fontsize which is wrong, it is a set width.<br><br>Removed a line in &lt;/pre&gt; which was reseting a height value, no idea why this was done.<br><br>The &lt;h1&gt; etc code was behaving wierd, the paragraph space above an h tag was too small and the paragraph space below was too big. I had to fudge the height value to fix it and then I had to add a check for tags like &lt;p&gt; before it taking a smaller paragraph. Took ages to fix but it's looking really nice now. <br><br></td></tr></table><br>
<a name="891127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> So finally the documentation in Linux MaxIDE is going to be readable now? That would be *really* great. <br><br></td></tr></table><br>
<a name="891129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, I'll take a look later when I fire up my Linux PC. Did you get my second e-mail where I resent the attachment? <br><br></td></tr></table><br>
<a name="891201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seb, yes got the 2nd mail with attachment, thanks. I've been looking at it today. I will mail you back when I'm done.<br><br>Htbaa, yes it's much more readable now but there are still some major bugs. Next I'm going to try and fix &lt;pre&gt; tags breaking when a "&lt;" char is found. <br><br></td></tr></table><br>
<a name="891204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> A "&lt;" char be translated to a &amp;lt; tag, and a "&gt;" char to &amp;gt; tag. Good chance that'll fix it as it's understandable by the HTML renderer. <br><br></td></tr></table><br>
<a name="891266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Htbaa, yes it's much more readable now but there are still some major bugs. Next I'm going to try and fix &lt;pre&gt; tags breaking when a "&lt;" char is found.  <br></div><br>Just tried it now. For some reason, I've noticed I'm getting X_GetImage BadMatch errors again although I don't know whether this is related to the Fl_Help_View.cxx fixes. It might have been something I was messing around with. Also, I noticed that the text font size is slightly bigger now in the HTMLView. Is this the intended behaviour? <br><br></td></tr></table><br>
<a name="891270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> No idea what "X_GetImage BadMatch errors" is but everything is fine here.<br><br>Yes, the text font size is actually the same, I just changed the default font from times to helvetica as it was more readable. I also looked at setting a custom font but couldn't figure it out. <br><br></td></tr></table><br>
<a name="891467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, new version is up along with a small mod in fltkglue.cpp, see first post.<br><br>The fix in fltkglue.cpp is related to Fl_Help_View.cxx and isn't really a bug, just that it wasn't right. You'll find it in flWidget() under the FLHELPVIEW case. It was setting the html text size to 15 and I changed it to 12. So now the text size for the help view is 12 instead of 14/15, which I think looks much better. I also added the ability to set the font there.<br><br>The bug-fix today is for &lt;h1&gt; etc tags. The header sizes weren't right, most of them were the same size. I also tidied up the spacing above and below the headers. So now it looks really nice. <br><br></td></tr></table><br>
<a name="892181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just uploaded another version of Fl_Help_View.cxx.<br><br>This fixes a few more bugs.<br><br>The &lt; less than symbol bug which you can find in Language Reference&gt;Debugging at the bottom of the page and Language Reference&gt;BASIC Compatibility in the code below the Goto and Gosub header. I did this by checking if the text after a &lt; symbol is a valid HTML name or has a !, ? or / symbol after it, otherwise it is treated as normal text. I also added a whole lot of HTML tags that weren't there from the HTML 4 reference. This method isn't bulletproof though, for example if your code had a variable named the same as a HTML tag and no space after the &lt; symbol then it would think it was an HTML tag. I might try to improve this later.<br><br>Another bug fixed was when a HTML tag was in a pre tag it would revert the pre font back to the default font.<br><br>This fix exposed yet another bug which I am still trying to fix. When a HTML tag is in a pre tag and you scroll down past the start of the pre tag, it forgets it's a pre tag and reverts to the default font. I've been trying to fix this for a few days now, also I still have to update the table code for the new HTML tags stuff so I'll do that first. <br><br></td></tr></table><br>
<a name="892227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, you've been busy! I've been really busy myself the last few days, so hadn't got the chance to get much coding done, but I thought I'd drop by.<br><br>Providing I get some free time, I aim to do a FLTKMaxGUI commit in a few days and I'd like to include your Fl_Help_View.cxx fixes. Is there a milestone you are aiming for atm, or are you addressing the bugs as and when they turn up? <br><br><div class="quote"> This fix exposed yet another bug which I am still trying to fix. When a HTML tag is in a pre tag and you scroll down past the start of the pre tag, it forgets it's a pre tag and reverts to the default font. I've been trying to fix this for a few days now, also I still have to update the table code for the new HTML tags stuff so I'll do that first.  <br></div><br>I think I may hold off for a few days if you've still got some stuff in the pipeline, and anyway, it gives me time to look at those points you mentioned in the e-mail.<br><br>Keep up the good work! I'm sure all the MaxGUI'ers out there appreciate it. ;-) <br><br></td></tr></table><br>
<a name="892254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb,<br><br>busy enough I guess, all my computer time has been devoted to this fl help view project, so everything else I was doing is on the shelf for now.<br><br>Well, I'm zoning in on this pre tag bug I mentioned in the previous post so I may have a fix in a few days with any luck. The bug can be seen on several pages such as Tutorials&gt;BlitzMax overview under The nitty gritty part 1 header. That is the next fix but feel free to commit your update any time you like.<br><br>I'm just working my way through any bugs that I find in no particular order. The first milestone will be when I have all the major bugs fixed I guess but there is no time frame. Then I would like to add new stuff like the CSS code.<br><br>Re: the email, the only real problem is the changes made to config.h. The colors and text stuff are not a problem really. <br><br></td></tr></table><br>
<a name="892425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, another version of Fl_Help_View.cxx is up.<br><br>This updates the table code for the new HTML tags stuff. So now the draw, format and format_table functions are in sync with the new check for HTML tags. I have also reorganised this code so that the tags are listed alphabetically so it's much easier to follow now and therefore easier to fix bugs. Some tags are still grouped together as they are so similar eg. &lt;b&gt; and &lt;strong&gt;. I've still to tidy up the &lt;blockquote&gt;, &lt;ul&gt;, etc code but the bulk of the work is done. <br><br>I still have to fix the 'pre tag reverting to default font' bug though. <br><br></td></tr></table><br>
<a name="892538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers!<br><br>One of my pet hates is that the sample code in the docs is mis-aligned, and you usually have to scroll to the right for ages until you can see it. Any ideas about what might be causing that? <br><br></td></tr></table><br>
<a name="892599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb,<br><br>I'm not sure what you mean. If you mean that long lines of code go past the width of the browser window, then that is what it's supposed to do as preformatted text isn't supposed to wrap. However, when that happens the rest of the page text not in pre tags also goes to the same length, which is a bug I plan to fix at some point.<br><br>I have just uploaded a new version. This fixes the 'pre tag reverting to default font' bug, but in order to fix it I had to add some new code to Fl_Help_View.H which you can find a link to in the first post. Please note that you can't use the new Fl_Help_View.cxx without the modified Fl_Help_View.H.<br><br>What it does is to store the pre, font and font size variables to each block and then reads those in draw to make sure draw doesn't forget anything as it has a tendancy to do. This only fixes &lt;p&gt; and &lt;/p&gt; tags found in pre tags, but it was enough to fix all of this type of bug in the BMax help files. <br><br></td></tr></table><br>
<a name="892607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fantastic! Right, I think it's time for an SVN commit. All the bug fixes (inc. markcw's) are now available from the <a href="/posts.php?topic=76731" target="_blank">MaxGUI SVN</a>. From the change-log:<br><br><div class="quote"> MaxGUI.FLTKMaxGUI 1.25 Release<br>&gt; Added markcw's Fl_Help_View.cxx tweaks - thanks Mark!<br>&gt; Changed menu appearance and fixed label SetGadgetFont() redraw problems.<br>&gt; Changed default font size for FLTK to size 12 (in Fl_Widget.cxx).<br>&gt; Tidied up RequestFont() dialog layout and positioning.<br>&gt; Added standardized FLTK LookupGuiFont() handling.<br>&gt; Added support for TEXTAREA_WORDWRAP flag.<br>&gt; Added Fl::get_system_colors() to flReset() so that FLTK looks a bit more like the other apps.<br>&gt; Hacked in an editable combobox, but no EVENT_GADGETSELECT yet. <br></div><br><br>Regarding the mis-aligned sample code, perhaps a screenshot explains it better. <br><br></td></tr></table><br>
<a name="892611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one.  Apologies for not getting time to spend on testing Seb (blame FlameDuck for convincing me to finally cave and get civ4!).<br><br>Regarding the alignment above, looks to me as though the width of the description / information columns is being influenced by the length of the text in the function row.  The sizing of the desc &amp; info headings should be based solely on themselves... <br><br></td></tr></table><br>
<a name="892618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that was a quick SVN commit Seb!<br><br>I just uploaded a small update to Fl_Help_View.cxx as I just remembered a few mistakes I forgot to fix.<br><br>One was a tiny bug I accidentally made, which was text in &lt;th&gt; tags not being bold. I created it when I noticed some &lt;h#&gt; tags didn't have a digit check so I just quickly searched through the file for all "h" checks and one was for the h in &lt;th&gt;.<br><br>The others were in the HTML tag check code, some had extra variables eg. "else if (IMG &amp;&amp; incell)" which in theory could cause a bug but I never noticed any, the fix just nests extra checks inside the HTML tag check. The new HTML tag check system works like: if it's not a HTML tag treat it like text.<br><br>Re: the mis-aligned sample code. Ok, I see now, thanks for the image. I think that's a nested table bug, I'm planning to fix that soon. <br><br></td></tr></table><br>
<a name="892778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I just uploaded a small update to Fl_Help_View.cxx as I just remembered a few mistakes I forgot to fix. <br></div><br>Thanks, I've just done a new small commit with your latest <i>Fl_Help_View.cxx</i> changes. Was this the only file? <br><br></td></tr></table><br>
<a name="892798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, cheers for that Seb. I'll update to the SVN version soon.<br><br>I'm currently trying to fix one of the multitude of table bugs, nested tables are unsupported so anything after a nested table is just popped back - this was one of my fixes before it just kept padding out, td widths don't calculate properly, nested tables without a width specified just take up as much room as the text dictates, hence the bug you refered to, and several more that I don't want to have to recount at the moment. I'm still trying to decide which one to fix first. <br><br></td></tr></table><br>
<a name="892997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> markcw, I have another bug/tweak for you to report over at FLTK.org.<br><br>In FL_Group.h, the <b>clip_children()</b> and <b>clip_children(</b> int c <b>)</b> functions pairs are defined as protected, and yet they are in the docs as public methods:<br><br><a href="http://www.fltk.org/doc-1.3/Fl_Group.html" target="_blank">http://www.fltk.org/doc-1.3/Fl_Group.html</a><br><br>All that was required was to move the two function definitions to below <b>public:</b> (see the latest MaxGUI SVN commit). Am I missing something? <br><br></td></tr></table><br>
<a name="893000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Erm, looks like a forum time bug. Happy first of August day!<br><br>Anyway new version of Fl_Help_View.cxx uploaded. This fixes 3 bugs.<br><br>The first is my mistake, I messed with the code for the td/th align attribute thinking I knew what I was doing, which I didn't. If it's not broke don't fix it. ;) Anyway, I have fixed my own bug. You'll see it on the help index, the BRL images are both left aligned.<br><br>The second is a td colspan bug, this is like the td colspan bug I fixed a while ago but applied to another array storing td widths. It basically prevents colspans &gt; 1 from messing with the normal td widths.<br><br>The third is related to the second. After all the td's (table data cells) are gathered in format_table there is some code to work out the final widths for everything. After some debugging sessions I figured out what was going wrong. Basically, there is a point where the table and cells are either scaled up or down. If they are scaled down there is no problem but if they are scaled up you get cells bigger than they are supposed to be. I added some code to the end of the scale up section to re-adjust the cell widths to what they should be. Now Modules&gt;MaxGUI&gt;MaxGUI.MaxGUI is only a bit too wide, which is due to the nested tables bug. <br><br></td></tr></table><br>
<a name="893002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, as far as I see it clip_children is protected in the docs and is only used by the Fl_Group class (it only appears in Fl_Group.cxx). It probably doesn't matter whether they are public or protected.<br><br><i>Edit: actually I don't see how you can tell how something is public or protected from the docs. Sorry, not too hot on the subject.</i> <br><br></td></tr></table><br>
<a name="893003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> as far as I see it clip_children is protected in the docs  <br></div><br>Where? Show me, show me (Seb jumps up and down, tugging at Mark's sleeve!!!). lol<br><br><div class="quote"> It probably doesn't matter whether they are public or protected. <br></div><br>Well, it mattered to me in as much that I needed to call <b>clip_children()</b> from within <b>flWidget()</b> in <i>fltkglue.cpp</i> and couldn't if they were protected. :-(<br><br><div class="quote"> Anyway new version of Fl_Help_View.cxx uploaded. This fixes 3 bugs. <br></div><br>lol, just missed my last commit by a few minutes. Downloading them now... ;-)<br><br>Btw Mark, did you get my e-mail that I sent yesterday? <br><br></td></tr></table><br>
<a name="893006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ask Brucey, or someone who knows stuff. :)<br><br>Did you read my edit? I just had a quick look at the docs and source code and then wrote some nonsense, it happens. :)<br><br>Can you not call it as Fl_Group::clip_children in flWidget?<br><br>Yes, I got your email thanks. Still trying to find my password, I'm sure I've got it here somewhere. :) <br><br></td></tr></table><br>
<a name="893008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Did you read my edit? I just had a quick look at the docs and source code and then wrote some nonsense, it happens. :) <br></div><br>Oh right - nevermind then...<br><br><div class="quote"> Can you not call it as Fl_Group::clip_children in flWidget? <br></div><br>Errrmmmm... I don't really know as I'm a C++ newbie... I still haven't worked out the difference between using "." and "-&gt;" when selecting methods. I use the latter unless it throws compiler errors. Not got a clue what "::" means, though... Any info on this front is greatly appreciated. <br><br><div class="quote"> Yes, I got your email thanks. Still trying to find my password, I'm sure I've got it here somewhere. :)  <br></div><br>Cool! Just checking that it didn't end up in your SPAM folder, or something...<br><br><div class="quote"> Anyway new version of Fl_Help_View.cxx uploaded. This fixes 3 bugs. <br></div><br>Whooo! Not sure what it did, but that has improved things ten fold in the MaxGUI.MaxGUI docs! Excellent work Markcw!!! That's certainly worth an SVN commit of its own (revision 61 iirc). <br><br></td></tr></table><br>
<a name="893021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, my C++ isn't great either so I'm not a good person to ask.<br><br>Any C++ guru reading this is welcome to chime in. :)<br><br>As far as I understand it (although I may be wrong) public members of a class can be accessed from outside the class, protected members can only be accessed by it's class and inherited classes, and private members can only be accessed from it's base class and not inherited classes.<br><br>I looked this operator thing up, there doesn't seem to be much difference between using '.' and '-&gt;' see <a href="http://akamal.wordpress.com/2007/01/16/coding-styles-when-dealing-with-classes/" target="_blank">here</a> for example.<br><br>The '::' (called the scope operator) is also for method access except it is used for initializing class members. <br><br></td></tr></table><br>
<a name="893052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> You use a '-&gt;' when you're working with a pointer. You use '.' for a local object or reference.<br><br>With :: you can access static methods and static data members.<br><br>That's about it :-). <br><br>I hope this code clarifies it a bit.<br><br><pre class=code>
class abc {
	public:
		static int d;
		int e;
		abc();
		virtual ~abc();
		void f();
};
abc::d = 100;

// Dynamically create the object in some free memory spot
abc *t1 = new abc();
t1-&gt;e = abc::d; // t1-&gt;e equals 10
// Object must be deleted to free the memory spot that was created earlier
delete t1;

// Local object, memory is already reserved at execution time. So there's no need to free it later on
abc t2;
t2.e = abc::d; // t2.e equals 10

// Make a reference to t2
abc t3 = &amp;t2;
t3.e = 50; // t3.e refers to t2.e, and thus both are now 50
</pre><br><br>If I'm not mistaken, using pointers will dynamically reserve memory and can keep memory usage as low as possible. Because it will only assign memory when it's needed. So if you write a program with a LOT of global variables it will always at least reserve that amount of memory and your program will always be using that much memory. With pointers this isn't the case, because memory is only being assigned when you're actually assigning something to it.<br><br>I've been using C++ for about a year and a half and I found pointers and references confusing as well. It can get more confusing when you need to do something like (*ptr)-&gt;f(); But once you get the hang of it it's fairly easy :-). <br><br></td></tr></table><br>
<a name="893261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the help, Htbaa.<br><br>I had a look at this clip_children problem. It appears there is a reason clip_children is protected although there isn't much information on it, something to do with restricting when it can be used. To access protected members you have to create a subclass. Seems a bit of a nuisance but I don't think it is a bug. If clip_children is working now then might as well just leave it public.<br><br>For subclassing see:<br><a href="http://www.fltk.org/doc-1.0/subclassing.html" target="_blank">http://www.fltk.org/doc-1.0/subclassing.html</a><br><a href="http://www.fltk.org/doc-1.0/opengl.html" target="_blank">http://www.fltk.org/doc-1.0/opengl.html</a> <br><br></td></tr></table><br>
<a name="893267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, thanks Htbaa. That seems to have cleared things up a bit... Use "." for accessing methods from local objects, and "-&gt;" for pointers. Gotcha!<br><br><div class="quote"> To access protected members you have to create a subclass. <br></div><br>Yeah, I thought about doing that, but didn't really want to as I'd have to subclass every single widget that extends Fl_Group. Simply moving the members to <i>public</i> saves me a lot of time and unnecessary bloat code. I still think it should be a public declaration if it is in the docs, though...<br><br>Anyhoo, I've just committed a few more fixes to SVN which should improve the dialog box handling (inc. Find, Find &amp; Replace, IDE Options) somewhat. Not 100% the same as Windows yet, but we're getting there. Also, it includes your <i>fl_ask.cxx</i> suggestion.<br><br><div class="quote"> MaxGUI.FLTKMaxGUI 1.25 Release<br>&gt; Windows are now extending Fl_Double_Buffer as an attempt to reduce random drawing artifacts.<br>&gt; Child windows should now stay on top, but behaviour still isn't exactly the same as Win32 or Cocoa.<br>&gt; Default message box font is now set to match other fonts. <br></div> <br><br></td></tr></table><br>
<a name="893299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, I thought you could access a protected method of a class from a new instance of the class (or subclasses).<br><br>Anyway, I think you're right Seb, clip_children should be public.<br><br><i>Edit: posted a bug report to FLTK <a href="http://www.fltk.org/str.php?L2017" target="_blank">here</a>.</i><br><br>I had a search and couldn't find a single bit of source that actually used clip_children but I did find the threads that brought about the inclusion of clip_children in FLTK.<br><br>http://www.mail-archive.com/fltk@...<br><a href="http://www.fltk.org/str.php?L1844" target="_blank">http://www.fltk.org/str.php?L1844</a><br><br>To be sure I built the code in that thread from FLTK and then tested clip_children and it reported the same error, so I made the clip_children functions public in Fl_Group.H and that fixed it.<br><br>For the record the code I used looks like this.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">// "clip_children.cxx"

#include &lt;FL/Fl.H&gt;
#include &lt;FL/Fl_Double_Window.H&gt;
#include &lt;FL/Fl_Box.H&gt;
#include &lt;FL/fl_draw.H&gt;

class Application : public Fl_Double_Window
{
    Fl_Box *bx; // Child box widget

    public:
     Application(int w, int h, const char *l, int argc, char *argv[]);
};

Application::Application(int w, int h, const char *l, int argc, char *argv[])
: Fl_Double_Window(w, h, l)
{

  box(FL_DOWN_BOX); // Add 2 pixels border
  color(FL_WHITE);

  begin();
  bx = new Fl_Box(0,0,100, 400);
  bx-&gt;box(FL_FLAT_BOX);
  bx-&gt;color((Fl_Color) FL_RED);
  end();

  resizable(this);
  show(argc, argv);
}

int main (int argc, char ** argv)
{
  Application myApp(500, 300, "My App", argc, argv);

  // Fl_Group.H:53: error: void Fl_Group::clip_children(int) is protected
  myApp.clip_children(true);

  return(Fl::run());
}
</textarea> <br><br></td></tr></table><br>
<a name="893314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hmm, I thought you could access a protected method of a class from a new instance of the class (or subclasses).<br><br>Anyway, I think you're right Seb, clip_children should be public.<br><br>Edit: posted a bug report to FLTK here. <br></div><br>Thanks Mark. Hopefully the FLTK dev team will get around to committing some of these bug fixes into the weekly releases. Might be more of a reason then to upgrade to FLTK 1.3.X. <br><br></td></tr></table><br>
<a name="893667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another new commit, this time with the following fixes/improvements:<br><br><div class="quote"> MaxGUI.FLTKMaxGUI 1.26 Release<br>&gt; Changed the status-bar border so that it looks more like one.<br>&gt; BUTTON_DEFAULT now uses Fl_Return_Button instead.<br>&gt; Fixed strange EventX/EventY coords in EVENT_WINDOWMOVE and EVENT_WINDOWSIZE.<br>&gt; Done some work cleaning up EVENT_GADGETSELECT generation by textareas.<br>&gt; Added CharX() and CharY() methods. <br></div> <br><br></td></tr></table><br>
<a name="894119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like the new statusbar Seb, haven't noticed any of the other changes.<br><br>New versions of Fl_Help_View.cxx and Fl_Help_View.H are up.<br><br>This fixes 2 bugs.<br><br>The first was the nested tables bug. When tables were indented their x position wasn't taken into account. I wrote before that nested tables weren't supported but they are, just not very well. Anyway, to fix it I had to make a few changes to Fl_Help_View.H so you will need that.<br><br>The second was a colspan bug. This was a side-effect of fixing the previous colspan bugs. Since colspan was being ignored it meant a long string of text wasn't padding out it's cell as it should. I fixed it by storing the colspan widths in a new array and then used that for a table width check. It's not perfect even though I hacked away at it for several hours but it's ok.<br><br>You'll notice these changes most in Modules&gt;MaxGUI&gt;MaxGUI.MaxGUI and Modules&gt;Graphics&gt;BRL.Max2D. <br><br></td></tr></table><br>
<a name="894195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work Mark! Finally, we've got MaxGUI docs that don't need a horizontal scrollbar! ;-)<br><br>The only other change you'd have noticed in the last update would be in the the IDE requester windows - the OK/Find buttons will have a return icon on them to indicate their behaviour.<br><br>I've just committed a new update, with a few other additions too:<br><div class="quote"> MaxGUI.FLTKMaxGUI 1.27 Release<br>&gt; Added EVENT_GADGETMENU for tabbers.<br>&gt; Improved layout of PANEL_GROUP.<br>&gt; Added the latest set of markcw's Fl_Help_View.cxx fixes. <br></div><br><br>Great! Now I've got a challenge for you. One sure fire way of getting the IDE to crash on FLTK is to start-up MaxIDE, navigate to MaxGUI.MaxGUI. Scroll down about a page until you see the subheading "Windows", where there will be three screenshots of windows for each platform. Now click on one of them and the IDE will magically disappear with the following error message:<br><br><div class="quote"> Building maxide<br>Linking:maxide<br>Executing:maxide<br>X Error of failed request:  BadMatch (invalid parameter attributes)<br>  Major opcode of failed request:  73 (X_GetImage)<br>  Serial number of failed request:  25264<br>  Current serial number in output stream:  25264<br><br>Process complete <br></div><br><br>I remember one of my early FLTK fixes that you posted a bug report for fixes some of the <b>X_GetImage</b> errors but it musn't have got all of them. <br><br>Do you have any ideas why such a message would be generated when an image is clicked? It doesn't seem to happen if you click on the page background, or text. <br><br></td></tr></table><br>
<a name="894419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found it! Yep, it's what I thought - another <i>fl_read_image.cxx</i> XGetImage bug... Fix is now available from the MaxGUI SVN (rev. 68).<br><br>I've now implemented a water-tight fail-safe around that call. The default XServer error handler is swapped before the call to a dummy handler (declared earlier on in the file), and then the original error handler is restored once the call has been made. I expect that this is how its supposed to be called.<br><br>Now, if the function fails, it should simply return a NULL image, which we check for in the proceeding <b>if()</b> statement. If an image isn't loaded at that point (for whatever reason), we use the alternate safe method of capturing an image (I assume the reason that this isn't used initially is that it is slower).<br><br>Can you amend the current or post another bug report on FLTK.org, markcw? <br><br></td></tr></table><br>
<a name="894612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one, Seb! Updating my maxgui now.<br><br>I just fixed a similar bug which was causing the IDE to close. This was due to calculating when a value was &lt;= 0, probably it was a divide by zero error but just to be sure I checked two other values used in the calculation. It was actually returning something about a Floating point error, so I was confused as there were no floats used.<br><br>New versions of Fl_Help_View.cxx and Fl_Help_View.H are up.<br><br>This fixes two more bugs.<br><br>The first is a rewrite of the previous colspan fix. The previous code worked for the docs but not for all cases of colspan cells. This version fixes colspan cells properly although you probably won't notice much difference from the last version.<br><br>The second is a table width bug. Tables were being scaled too wide so the last letters in a table cell were sometimes not readable. This is a big improvement but is still not perfect. The table scaling code is the main suspect I think.<br><br>Oh, yeah I'll post that bug report. <br><br></td></tr></table><br>
<a name="894731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just updated Fl_Help_View.cxx again.<br><br>It's a few changes to do with the divide by zero error in the colspan fix. It doesn't make much if any difference really but it's better code. <br><br></td></tr></table><br>
<a name="894788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another version of Fl_Help_View.cxx just up.<br><br>This fixes the draw tabs in pre tags bug. Tabs were not being drawn at all so there was no indents in pre tags unless spaces were used. This implements tab indents properly, so the tab length depends on where it started on the line. <br><br></td></tr></table><br>
<a name="894793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> As always, fantastic stuff! I'll take a look tomorrow on my Ubuntu PC.<br><br>I have another miniature Fl_Help_View bug report, if you are interested. When different sized images are on the same line, they are aligned by their top edges, not by their bottom. Would it be easy to correct this behaviour so that is in line with other browsers?<br><br>One place I know that this can be seen is on the window images displayed in the <b>MaxGUI.MaxGUI</b> docs, under the <b>Windows</b> subheading at the start of the page. <br><br></td></tr></table><br>
<a name="894849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, I fixed that bug and uploaded new versions of Fl_Help_View.cxx and Fl_Help_View.H.<br><br>I had to add a new field to the block code in Fl_Help_View.H which stores the max image height per block. Then in draw I add the difference between the image and the max height to the y position. I also had to add a check for when an image is line wrapped as they were being drawn too low.<br><br>This now draws images from the baseline in MaxGUI&gt;MaxGUI.MaxGUI but I notice that blocks contain lots of stuff and that &lt;br&gt; doesn't create a new block so I still need to look at that, plus I need to see if images in tables are working. <br><br></td></tr></table><br>
<a name="894966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark! This and another fix has now been committed to SVN:<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.28 Release<br>&gt; Corrected logic error that was allowing only left-mouse clicks to pass through to widgets. <br></div> <br><br></td></tr></table><br>
<a name="895031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, you should have waited a bit longer. :)<br><br>New version of Fl_Help_View.cxx is up.<br><br>This implements aligning images to the baseline properly.<br><br>I removed the check in draw() for when images are line wrapped and created a new block in format() for when images are wrapped or a line break is taken. This was needed as the max image height var is only valid for one line. The hard bit was trying to work out a bug with the new code, sometimes lines were starting a few pixels to the left. It took me a few hours to figure out that I had to add the new block before taking a line break so the line array was in sync. <br><br></td></tr></table><br>
<a name="895257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> New versions of Fl_Help_View.cxx and Fl_Help_View.H are up.<br><br>The first fix is a one-line wonder which checks the current height increment variable in the &lt;/table&gt; code. If there was just an image in a table and text right after an &lt;/table&gt; tag there would be a big space because the height variable wasn't reset.<br><br>The second fix is aligning text on the same line as an image to the baseline. Text beside an image was aligned to the top which is not the expected behaviour. This needed a new field added to the block struct in Fl_Help_View.H to store the y position of images which is then used as a check in draw() for text at that y position in the same block.<br><br>Still got to post that FLTK bug report. I keep forgetting.<br><br><i>Edit: ok, bug report is <a href="http://www.fltk.org/str.php?L2021" target="_blank">here</a>.</i> <br><br></td></tr></table><br>
<a name="895412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool! I'm gonna be away for a few days, but I'll commit the changes when I get back as my Linux box is a Desktop PC. <br><br>It also appears as though I've broken some of the text-area events in my clean-up as Undo isn't working properly anymore in the IDE. I'll have a look at this then too... <br><br></td></tr></table><br>
<a name="896521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Back now and managed to finish off my latest FLTKMaxGUI tweaks, which have now been committed with Mark's Fl_Help_View fixes too (rev 75).<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.29 Release<br>&gt; Fixed an undo bug in IDE by getting FLTK to mimic Win32/Cocoa textarea event behaviour more closely.<br>&gt; Dropped in the FLU file requester to replace the default FLTK one.<br>&gt; Some more of markcw's Fl_Help_View.cxx fixes.<br>&gt; Copied FLU source into FLTKMaxGUI folder. <br></div><br>You might like to recompile MaxIDE with the latest version of FLTKMaxGUI and checkout the open/save as file requesters (which now uses the <a href="http://www.osc.edu/archive/FLU/" target="_blank">FLU</a> extended widgets library). It now looks similar to this (but obviously the Win32 screenshot appears slightly differently on Linux):<br><br><img src="http://www.osc.edu/archive/FLU/images/Flu_File_Chooser_Try.gif"> <br><br></td></tr></table><br>
<a name="897681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like the new open/save dialog, Seb. Much, much better!<br><br>New versions of Fl_Help_View.cxx and Fl_Help_View.H are up.<br><br>The first fix is for table widths. Tables are now only as wide as they need to be instead of them all being rescaled to the full document width.<br><br>The second fix sets table widths precisely to what they should be. So text in tables should all be fine now, the exception is nested tables which I will be trying to fix next.<br><br>The third fix wraps text to the window width instead of the full document width. There is still a small bug here, when the text length is wider than the window width it takes a new line.<br><br>The fourth fix draws &lt;hr&gt; tags to the window width, these were being drawn without taking into account the horizontal scroll position.<br><br>The fifth fix adds support for &lt;div&gt; tags ie. the id and align parameters. This can be seen in Tutorials&gt;BlitzMax overview where the target links didn't work because they are div id tags.<br><br>Oh, I should also say that you need the latest Fl_Help_View.H as I removed a parameter that wasn't needed in format_table() which I added in the last update. <br><br></td></tr></table><br>
<a name="897850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work... Unfortunately, can't commit immediately as the SVN server appears to be down atm, and also after recompiling the IDE I'm getting weird behaviour and a tonne of fl_pop_clip error messages... Eeeekkkkk!<br><br>Anyway, not sure if the two issues are related, but can you have a look at the following.<br><br>Download and extract <a href="http://hometown.aol.co.uk/shollingto/makedocs.tar.gz" target="_blank">this patched makedocs</a> into your <i>BlitzMax/bin</i> folder, and then rebuild documentation. This should hopefully rebuild docs with all the MaxGUI examples included in the MaxGUI.MaxGUI help files (e.g. see CreateWindow() etc.) like on Windows. Although some of the examples further down the page can be a bit too far indented, a more severe problem I'm experiencing happens when you resize the splitter between the help view and the treeview. For me, the window hangs for ages, from which it may or may not recover.<br><br>Can you reproduce this? <br><br></td></tr></table><br>
<a name="897858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> after recompiling the IDE I'm getting weird behaviour and a tonne of fl_pop_clip error messages... Eeeekkkkk! <br></div><br>Easily fixed by bumping the stack size on line 422 of <i>fl_rect.cxx</i> to at least 16 (although I've been using 64 fine without any noticable slow-downs). Will commit a fix a soon as the SVN repo comes back online.<br><br>I think the problem arose because we have a lot of nested parent groups in MaxIDE, and now that most of them use <i>clip_children()</i> we very rapidly reach the clip limit.<br><br>The example code misalignment problem is still visible, however, in the MaxGUI docs (after following the instructions I gave above). It's noticeable from about the <b>LookupGuiFont()</b> command downwards. <br><br></td></tr></table><br>
<a name="897999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some new fixes/improvements are now available from the MaxGUI SVN (rev. 81):<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.30 Release<br>&gt; Implemented the FLU Tree Browser to replace the old list-box based treeview.<br>&gt; Increased clipping stack length in Fl_Rect.cxx to suppress warnings when running MaxIDE.<br>&gt; Replaced Fl_Button and Fl_Return_Button with Flu_Button and Flu_Return_Button.<br>&gt; Some more Fl_Help_View fixes from markcw. <br></div><br>The new treeview widget is certainly a valuable addition, especially for the IDE.<br><br>Be sure to let me know what you think... ;-) <br><br></td></tr></table><br>
<a name="898111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> &gt; after recompiling the IDE I'm getting weird behaviour and a tonne of fl_pop_clip error messages... Eeeekkkkk!<br><br>Easily fixed by bumping the stack size on line 422 of fl_rect.cxx to at least 16 (although I've been using 64 fine without any noticable slow-downs). Will commit a fix a soon as the SVN repo comes back online.<br><br>I think the problem arose because we have a lot of nested parent groups in MaxIDE, and now that most of them use clip_children() we very rapidly reach the clip limit. <br></div><br>Strange, I'm not getting any fl_pop_clip errors in debug. I tried it in MaxGUI.MaxGUI and my maxgui mod is about a week out of date, will update soon. I'm not sure how it relates to clip_children, but fl_rect.cxx is line drawing code. Increasing the stack size to something big like 64 may not cause any difference, it may just be badly written code.<br><br><div class="quote"> Download and extract this patched makedocs into your BlitzMax/bin folder, and then rebuild documentation. This should hopefully rebuild docs with all the MaxGUI examples included in the MaxGUI.MaxGUI help files (e.g. see CreateWindow() etc.) like on Windows. Although some of the examples further down the page can be a bit too far indented <br></div><br>Ok, I extracted the patch and can see the code indent bug. It happens after nested tables so that's the cause. There are still quite a few bugs with nested tables I need to fix.<br><br><div class="quote"> a more severe problem I'm experiencing happens when you resize the splitter between the help view and the treeview. For me, the window hangs for ages, from which it may or may not recover.<br><br>Can you reproduce this?  <br></div><br>Yes, this bug has been there since before I started work on Fl_Help_View.cxx, I'm not sure what's causing it but resizing the splitter is slow and the more content on the page the slower it gets until finally in very big pages like MaxGUI.MaxGUI it crashes. One thing I was looking at that may be related is in Fl_Help_View.cxx at line 216 there is a note about the draw functions needing to be speeded up by replacing them with local copies although I don't know what that means, any ideas? There may be several things causing this crash, but it's still a mystery to me. <br><br></td></tr></table><br>
<a name="898214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, the problem is in Fl_Help_View.cxx in resize(). This calls format() every time you move the splitter and format() is a slow function so when you've got a big page it can't handle the constant calls. Not sure what to do yet but it's good to know the cause. <br><br></td></tr></table><br>
<a name="898239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> New version of Fl_Help_View.cxx is up.<br><br>This fixes the crash/hang when resizing very big pages like MaxGUI.MaxGUI. It's still not as smooth as it should be but it does the job. I included forms.H to get a timer. The code measures how long format took then waits that long before calling format again. It never waits longer than 1/4 sec and that seems to be enough for even really big pages. It also only calls format once the splitter has moved a few pixels.<br><br>Oh, I forgot to mention that I fixed the bug where words longer than the window width were taking a new line when they shouldn't. This appeared when I wrapped text to the window width. It's a rare bug but better to fix it anyway.<br><br>Also, I updated my maxgui and like the new treeview, looks more gtk-ish. I see you have got rid of the hard edges around the windows too, which looks better but the vertical scrollbar is slightly covered. <br><br></td></tr></table><br>
<a name="898290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> New version of Fl_Help_View.cxx is up.<br><br>This fixes the crash/hang when resizing very big pages like MaxGUI.MaxGUI. <br></div><br>Cheers - I'm up to my neck in FLTK code at the moment, as I thought I'd clean up <i>fltkgui.bmx</i> a bit (one of those jobs that you realize is gonna take much longer than expected ten minutes in). Will make sure I have a look when I get everything straight again.<br><br><div class="quote"> I updated my maxgui and like the new treeview, looks more gtk-ish. <br></div><br>Yeah, I think its a lot better too. Just need to implement EVENT_GADGETMENU.<br><br><div class="quote"> I see you have got rid of the hard edges around the windows too <br></div><br>Errmmmm... I see what you what you mean, but I don't think that was intentional. Will investigate when I get a minute...<br><br>Oh btw, make sure you've ran an SVN update from the BlitzMax SVN too to make sure that you have the latest <i>maxide.bmx</i> and doc fixes. <br><br></td></tr></table><br>
<a name="899081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just updated everything today but when I build maxide and click the close button I get this error box:<br><br>"unhandled exception:attempt to access field or method of null object"<br><br>On line 1694 in maxide.bmx:<br><br> For v=EachIn views<br>  If v.node FreeTreeViewNode v.node;v.node=Null<br> Next <br><br></td></tr></table><br>
<a name="899467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>Sorry about the late reply... Can you try replacing <b>TFLNode</b>'s <b>Free()</b> method with:<br><br><pre class=code>	Method Free()
		If Not nodehandle Then Return	'Make sure we don't free twice
		For Local tmpNode:TFLNode = EachIn kids
			tmpNode.Free()
		Next
		kids.Clear()
		fluRemoveNode( owner.flhandle, nodehandle )
		If textmem Then MemFree textmem;textmem = Null
		If parent Then	'If not TreeViewRoot()
			parent = Null;owner = Null;nodehandle = 0
		EndIf
	End Method</pre>I can't commit a fix at the moment, as I'm still trying to get my restructured <i>fltkgui.bmx</i> stable. <br><br></td></tr></table><br>
<a name="899504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes that fixed it, thanks Seb. <br><br></td></tr></table><br>
<a name="899511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good to hear! <br><br>Btw, are FLTK MaxGUI applications (including MaxIDE itself) taking up a lot of CPU cycles when idle?<br><br>I've not got a clue what is causing it, when it started happening or whether anyone else is experiencing it... <br><br></td></tr></table><br>
<a name="899538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not noticing any cpu eating from maxide here.<br><br><i>Edit: ah yes, when I open several maxides I get fairly noticable slowdown but I don't think it's that bad.</i> <br><br></td></tr></table><br>
<a name="899708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another update to Fl_Help_View.cxx and Fl_Help_View.H is up.<br><br>This improves the resizing of big documents further.<br><br>I had to add a new global variable to the Fl_Help_View class in Fl_Help_View.H, which is static as I think that is the only way to add to that class now without causing a malloc error.<br><br>Anyway, I improved the time delay for format so it can now resize super-massive pages. The new code added calls format in handle when the mouse is released after a resize, the second part is in format and this skips formatting anything below the current view when resizing, so it gets slower the further down the page you go. I know this is inconsistant but I thought it was better than not having it. I also tried to avoid formatting above the current view but that turned out to be a nightmare so I left it. The other thing is that I couldn't get the scrollbars to update while resizing big pages, which looks a bit scruffy but they update when the mouse is released so it's only an aesthetic problem. At it's slowest it's now as fast as firefox 3 so I was happy to notice that. <br><br></td></tr></table><br>
<a name="902971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't had a chance to fire up my Linux box since I got back home, but I've committed the <b>Free()</b> patch and your latest <i>Fl_Help_View</i> fixes to SVN from my Windows PC.<br><br>Thanks <br><br></td></tr></table><br>
<a name="902997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb,<br><br>well in that case the changes made since my last post to the latest Fl_Help_View.cxx have been:<br><br>- fixed &lt;br&gt; directly after another &lt;br&gt; not taking a new line.<br>- added &lt;li&gt; type parameter support and circle and square bullets.<br>- fixed &lt;li&gt; bullets on far left margin not visible.<br>- added HTML 4 character references to quote_char().<br>- added support for drawing most of these characters via the Symbol font.<br>- fixed control characters not drawing correctly because of null widths. <br><br></td></tr></table><br>
<a name="903051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't want to ruin the party, but I just noticed that FLTK doesn't support Javascript in the <b>html pages</b>. It's true or I miss something or there is a possibile solution?<br><br>I just tried to run <a href="http://www.graphio.net/index.php?action=showitem&amp;id=75" target="_blank">my little program</a> on a Linux machine (<a href="http://www.graphio.net/download/HelpIndexCreator_linux.zip" target="_blank">here the program</a>), but I noticed that (even if the program runs well) the index.html page is 'messed up' with JavaScript code.<br><br>You can see <a href="http://www.graphio.net/download/screen1.png" target="_blank">here</a> an image of the index.html+javascript error... <br><br></td></tr></table><br>
<a name="903058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, don't worry there's no party to ruin here. :)<br><br>FLTK's HTML renderer is very basic and just handles HTML code but no extensions such as CSS and Javascript. I haven't looked at Javascript yet so thanks for the screen. I'll add some code to get it to stop printing Javascript code. To actually support Javascript would mean plugging it into a Javascript VM. <br><br></td></tr></table><br>
<a name="903065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
To actually support Javascript would mean plugging it into a Javascript VM. 
</pre><br>OMG!<br><br>And for what I found with google, I don't understand if neither GTK supports javascript and event it requires an external JS VM. <br><br></td></tr></table><br>
<a name="903191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, not exactly a virtual machine I just thought the word 'engine' didn't describe it enough. By VM in this case I mean more of a Javascript 'engine' that parses the Javascript and returns interpreted data that could then be used to render whatever the Javascript intended. The alternative would be to code a Javascript 'engine' from scratch which would probably end up just managing the basic stuff like document.write, etc. Maybe it would need a combination of both I don't know yet because I'm still working on the basic HTML rendering, next comes CSS, then I might look at Javascript. <br><br></td></tr></table><br>
<a name="903619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> New version of Fl_Help_View.cxx is up.<br><br>- added skipping of &lt;script&gt;. Javascript, etc are now properly unsupported.<br> You can use &lt;noscript&gt; for alternative html.<br>- &lt;ul&gt; and &lt;li&gt; are now more or less fully implemented.<br>- improved &lt;hr&gt; line spacing and added a shadow line.<br>- tidied code a bit, fixed a few minor things not really worth mentioning. <br><br></td></tr></table><br>
<a name="903970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers Mark. I'm slowly making progress on the <i>fltkgui.bmx</i> rewrite. If everything goes well, I may even have it committed by this evening. :-P <br><br></td></tr></table><br>
<a name="904104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thought I wasn't going to make it then, but a brand new commit of FLTKMaxGUI is available from the MaxGUI SVN.<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.32 Release<br>&gt; Completely restructured fltkgui.bmx into OO code.<br>&gt; Fixed a small memory leak in text area and treeview.<br>&gt; Fixed OK button text getting corrupted by the new Flu_Button.<br>&gt; RequestFont() dialog should now be modal.<br>&gt; Another set of markcw's Fl_Help_View fixes. <br></div><br><i>fltkgui.bmx</i> has undergone some quite fundamental structural changes, so although I was really careful, I may have introduced a bug or two by accident.<br><br>Any testing is greatly appreciated... <br><br></td></tr></table><br>
<a name="904340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice MaxIDE build now! I see you have fixed the partly hidden vertical scrollbar too. So far no problems.<br><br>The FLU lib is really nice! Did you add this to maxgui recently? It doesn't seem to be part of FLTK which seems odd so I found the author's homepage <a href="http://www.osc.edu/archive/FLU/" target="_blank">here</a>. There doesn't seem to be a splitter widget there so I was wondering how you managed that as the new one is so much smoother when resizing! <br><br></td></tr></table><br>
<a name="904352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I added the FLU lib but it is only used for the file requesters, treeviews and buttons (which turn a lighter shade when the mouse is over them).<br><br>The "splitter widget" is actually one of my own personal <b>MaxGUI.ProxyGadgets</b> inventions. It came from one of my old MaxGUI programs (back in the days when I was coding <i>with</i> MaxGUI, as opposed to coding MaxGUI itself :-P).<br><br>I thought it would benefit MaxIDE as I added features, such as the ability to drag the pane to any side of the screen and also you can single-click to toggle too! In addition, it hooks into the window size events, which should mean that it a sidepane never takes up more than half the available window space. Before I was about to bung it in <i>maxide.bmx</i>, I thought others might find it useful, so instead I added it to <b>MaxGUI.ProxyGadgets</b>, which MaxIDE now links in to. You can use it in your own apps by calling the <b>CreateSplitter()</b> command.<br><br><div class="quote"> the new one is so much smoother when resizing <br></div><br>I think this is also down to your amazing <i>Fl_Help_View</i> work too. Between the two of us, <b>FLTKMaxGUI</b> is really coming along in leaps and bounds. Once again, thanks for all your contributions. <br><br></td></tr></table><br>
<a name="904679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just committed another few tweaks:<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.33 Release<br>&gt; Added SetTextColor() method to allow for multi-colored widgets.<br>&gt; Added support for the MaxGUI stepper, complete with repeat buttons. <br></div><br>Enjoy!<br><br>Edit: Btw, I forgot to mention that in the previous commit, the text area memory leak fix appears to have eliminated the problem whereby occasionally .bmx sources wouldn't get parsed by MaxIDE. <br><br></td></tr></table><br>
<a name="904984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info Seb, and for adding your splitter to proxygadgets.<br><br>I like that toggle feature, never noticed it actually. I also like the way you can just move the sidebar to the other side by resizing, much slicker than having a setting somewhere. I notice your name isn't in splitter.bmx, is there some reason for that? Also, I can't find the 'splitter widget' in FLTK, so could you tell me what MaxIDE was using before your splitter? The old splitter jumped all over the place, even when resizing in the text editor window, so I'm very glad you got rid of it!<br><br>When you say "occasionally .bmx sources wouldn't get parsed by MaxIDE" do you mean the random 'no syntax highlighting' bug? I tested that out and wasn't able to reproduce it. <br><br></td></tr></table><br>
<a name="905010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I like that toggle feature, never noticed it actually. <br></div><br>Thanks. It was a last minute thought just before I committed it, but it's nice to have when you have long lines/comments in the source code...<br><br><div class="quote">  also like the way you can just move the sidebar to the other side by resizing, much slicker than having a setting somewhere. <br></div><br>Yeah, I made sure this was possible as I didn't like the way the old MaxIDE splitter was restricted.<br><br><div class="quote"> I notice your name isn't in splitter.bmx, is there some reason for that?  <br></div><br>I don't know... Modesty? :-P Honestly, I wrote it from scratch, but as <b>MaxGUI.ProxyGadgets</b> only contains my own submissions at the moment, I never felt a need to explicitly state my name... Underneath it simply consists of several standard MaxGUI panels, and some crazy mouse tracking code, but I'm quite proud of it... ;-) All the actual MaxGUI drivers (such as Win32MaxGUI, CocoaMaxGUI or FLTKMaxGUI) see are panels with PANEL_ACTIVE flag set.<br><br><div class="quote"> Also, I can't find the 'splitter widget' in FLTK, so could you tell me what MaxIDE was using before your splitter? <br></div><br>It was a really basic implementation that was coded inside MaxIDE's source. If you checkout the latest <i>maxide.bmx</i> from the BlitzMax SVN you should be able to see the original splitter that I <b>Rem</b>'d out (I think it was called TSplit, or it might even have been called TSplitter). In principle, it works the same underneath as mine (i.e. MaxGUI panels and mouse tracking code), just with a bit less polish.<br><br><div class="quote"> do you mean the random 'no syntax highlighting' bug? I tested that out and wasn't able to reproduce it.  <br></div><br>Yeah that's the one - you posted a step-by-step guide for reproducing it (using an AStar pathfinding sample, iirc). Anyway, as you said, it appears to be fixed now. <br><br></td></tr></table><br>
<a name="906068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've committed a few new patches since I last posted here, addressing:<br><br><div class="quote"> MaxGUI.FTLKMaxGUI v1.35 Release<br>&gt; Added prelimary pixmap support for push-buttons.<br>&gt; Added text support for group-panels.<br><br>MaxGUI.FLTKMaxGUI v1.34 Release<br>&gt; Tweaked Fl_Color to accept a wider range of formatting color contrasts before resorting to black or white defaults. <br></div> <br><br></td></tr></table><br>
<a name="910736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to let you know Seb, I'm still working on this and will upload a new version soon. I have been busy lately so haven't had much chance to work on this but I've got a few new things done and am working on reducing memory overhead (an unsung task) and the nested tables bug you mentioned in your makedocs patch (I haven't forgotten!). How's it going yourself? <br><br></td></tr></table><br>
<a name="910959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>Nice to hear from you. Quite honestly, as of 1 week ago, I have been (and will be) unable to do any work on MaxGUI due to a infinite increase in my work load. Also, I don't have access to a Linux PC at the moment, which makes <b>MaxGUI.FLTKMaxGUI</b> development even less-likely.<br><br>Don't let this dampen your spirits though - I can still commit your welcome fixes to the repository, and marvell at your efforts when I eventually find time to give them a spin myself. ;-) <br><br></td></tr></table><br>
<a name="910989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, no problem I'll continue to work on this.<br><br>Just uploaded new versions of Fl_Help_View.cxx and Fl_Help_View.H.<br><br>- improved &lt;hr&gt; and &lt;h1-6&gt; line spacing.<br>- fixed font size not updating line y positions, required changes to header.<br>- fixed nested tables overwriting subsequent &lt;tr&gt; and &lt;td&gt; cell data, required changes to header.<br><br>So the code examples in your makemods patch are now correctly aligned. :) <br><br></td></tr></table><br>
<a name="911533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So the code examples in your makemods patch are now correctly aligned. :)  <br></div><br>Nice job! ;-)<br><br>One thing, looking at the DIFF for <i>Fl_Help_View.cxx</i> there are quite a few chunks of code that have been added and then block commented (/* ... */) out. Is this for a reason, or should they simply be removed? Just wanted to check as it may be best to wait before committing if you're still playing around with it... <br><br></td></tr></table><br>
<a name="911548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, no that's fine don't worry. It's alternative code I'm still working on for lowering the memory overhead which I hope to have done in the next revision. <br><br></td></tr></table><br>
<a name="911555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Heh, no that's fine don't worry. It's alternative code I'm still working on for lowering the memory overhead which I hope to have done in the next revision.  <br></div><br>Ah well, I may as well wait for that before committing...<br><br>Cheers <br><br></td></tr></table><br>
<a name="912156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, new version of Fl_Help_View.cxx and Fl_Help_View.H are up.<br><br>- improved block system, every line is now in it's own block.<br>- removed line[32] field to drop memory usage to about 30%, required changes to header.<br>- tidied up code comments. <br><br></td></tr></table><br>
<a name="912162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> Committed (rev. 98)!<br><br>I've bumped the FLTKMaxGUI version too as these changes probably count as an FLTKMaxGUI update by themselves. Thanks Mark. ;-) <br><br></td></tr></table><br>
<a name="913252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> New version of Fl_Help_View.cxx is up, lots of little fixes.<br><br>- fixed mouse over horizontal scrollbar showing active link/hand icon.<br>- fixed last line in &lt;td&gt; misaligned, caused by new block per line system.<br>- fixed empty &lt;td&gt; on end of row affecting next row y position.<br>- fixed wrong line gaps before and after a table.<br>- fixed nested tables overwriting &lt;table&gt; and &lt;tr&gt; 'bgcolor'.<br>- improved color lookup, no hash needed for hex value. <br><br></td></tr></table><br>
<a name="913359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> Exciting!!! ;-)<br><br>Quick question, is there a reason why the file you uploaded is half the size of the current one? It seems as though the <b>format</b> methods are missing... <br><br></td></tr></table><br>
<a name="913403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, it's all there, the bottom of the file should have the line: "// End of "$Id: Fl_Help_View.cxx ... blah" maybe you just had an error loading the file, it should be ~157Kb. <br><br></td></tr></table><br>
<a name="913433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> maybe you just had an error loading the file, it should be ~157Kb <br></div><br>Yeah, the source I downloaded is 157KB but it's just the current SVN version was about 300KB. Anyhoo, I've committed it. Thanks! <br><br></td></tr></table><br>
<a name="914886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> New versions of Fl_Help_View.cxx and Fl_Help_View.H are up, big revision this time.<br><br>- fixed nested table overwriting cell heights.<br>- fixed nested table drawn below row height.<br>- improved format speed to 30% less time, required changes to header.<br>- fixed cell width not reset before/after nested table.<br>- fixed nested table popping cell margin.<br>- fixed pre text in tables not increasing cell width.<br>- improved pre tabs width, miscalculated in tables.<br>- added CHR() and MIL() macros.<br>- fixed tables not popping last font.<br>- fixed divide by zero error if table cells empty.<br>- renamed variables and reordered functions alphabetically. <br><br></td></tr></table><br>
<a name="915036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> New versions of Fl_Help_View.cxx and Fl_Help_View.H are up, big revision this time. <br></div><br>Committed (see rev. 105)! Thanks! <br><br></td></tr></table><br>
<a name="915080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, just looking in fltkglue.cpp and spotted this comment on line 1827. I don't follow this, what memory do you mean?<br><div class="quote"> void flRedirectView(Fl_Help_View *view, char*url)<br>{<br>	redirect_url=stringcopy(url);	//Seb was here (memory should get freed by Fl_Html_View.cxx)<br>} <br></div> <br><br></td></tr></table><br>
<a name="915085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't follow this, what memory do you mean? <br></div><br>I think I was referring to the additional memory that <b>stringcopy</b> allocates. Basically, it was a comment to remind me that it was OK to use <b>stringcopy</b> without having to keep a track of the pointer ourselves as the memory would be freed by Fl_Help_View once it has been processed. <br><br></td></tr></table><br>
<a name="916097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey markcw,<br><br>Finally managed to get Ubuntu 8.10 up and running on my laptop, so I've had a chance to have a look at what you've been up to. Everything Fl_Help_View wise is looking mightily impressive... And the redraw when resizing really is super-fast.<br><br>Nice work as always! ;-) <br><br></td></tr></table><br>
<a name="917098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, thanks.<br><br>New updates for Fl_Help_View.cxx and .H are up.<br><br>- changed vertical scroll size, now moves double the amount.<br>- added new methods sansfont, monofont.<br>- added new function font_find, used for new default fonts.<br>- added new functions build_faces, font_face and font_style.<br>- added full support for font face attribute, required changes to header.<br>- fixed bold/italic not working with many fonts.<br>- removed inconsistent resizing tweak in format. <br><br></td></tr></table><br>
<a name="917130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! Just committed it now - see revision 109. <br><br></td></tr></table><br>
<a name="919615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I suppose this is worth a commit, new versions of .cxx and .h are up.<br><br>- added new method reformat, for calls to format.<br>- replaced add_block, format_table functions with extended argument versions.<br>- added d-pointer by hijacking Fl_Help_Target, required changes to header.<br>- replaced compare_targets function with cmp_targets, due to d-pointer.<br>- replaced textfont_ and textsize_ with global statics.<br>- moved local statics to d-pointer struct.<br>- fixed links with target values not setting position on new page. <br><br></td></tr></table><br>
<a name="919884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Committed! Greatly appreciated! <br><br></td></tr></table><br>
<a name="930387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Mark,<br><br>I've been playing around with FLTK 1.3 over here, and most things appear to be still working as they were. One thing that doesn't seem quite right (at least on Linux) is your Fl_Help_View. :( <br><br>If I use the Fl_Help_View from the FLTK 1.3 repo (don't use the last weekly build package as a few bugs have been fixed since then), then text is drawn like it used to be (although it doesn't have any of your amazing layout improvements :P).  If, however, I drop your Fl_Help_View.cxx (and header file) in, then the text goes a bit crazy, and some of the letters start overlapping with the previous ones.<br><br>If you want, I can try and send over an FLTK 1.3 fltkmaxgui.mod, but I thought I'd see if you can think of anything obvious that may be causing this? I'm guessing it's because of the move to UTF8, but I thought I'd ask the expert. ;-)<br><br>I'll post a screenshot next time I'm in Linux, as I've only just rebooted back into Vista.<br><br>Thanks in advance <br><br></td></tr></table><br>
<a name="930428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well at least it doesn't crash. I really have no idea offhand, it would need an investigation. Email it to me if you like and I'll take a look at it. <br><br></td></tr></table><br>
<a name="930782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Email it to me if you like and I'll take a look at it.  <br></div><br>Thanks! Just found a show-stopper FLTK bug concerning XFT on Linux which could do with being fixed before it's redistributable, but I'll make sure I drop you an e-mail when it is in a suitable state. <br><br></td></tr></table><br>
<a name="930991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> E-mail sent. ;-)<br><br>Thanks! <br><br></td></tr></table><br>
<a name="931012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, seeing the screen it is a miscalc in the width of words somewhere, not sure what I changed but I'll have a look asap. <br><br></td></tr></table><br>
<a name="931510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, new version is up with the fix for fltk 1.3, the .h file is unchanged.<br><br>This was due to a hack I added in rev 13 for drawing using the symbol font ie.<br><br>- added support for drawing most of the new char refs via the Symbol font.<br><br>I call it a hack as the code was a bit messy and obviously because it only worked with fltk 1.1. Spaces between words seem a bit wider now but this happens in the original fl_help_view too, it's not a bug really just looks a bit different. <br><br></td></tr></table><br>
<a name="931642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lighting fast bug-fix! ;-)  I'll reboot into Linux when I get a chance and check it out but I'm sure it'll be fine. I can't say I fully understand what was going wrong though. Was there a specific reason you used the symbol font to draw some of the text? I'm guessing by symbol font, you mean FL_SYMBOL? Does this mean that there is a bug in FLTK 1.3 then?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="931741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was an attempt to provide full support for html <a href="http://www.w3.org/TR/REC-html40/sgml/entities.html" target="_blank">character entity references</a>, the '&amp; id ;' markup. The symbol font has a lot of these characters, mainly Greek letters and special math operators. I'm not sure what's happening in fltk 1.3 yet but the extended symbols were all ? chars. It may be something to do with utf-8. <br><br></td></tr></table><br>
<a name="935791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, got a nice job for you here. :)<br><br>This fixes the link targets not stored in history bug. It requires changes to fltkgui but I thought it would be better if I just list the changes here and you can add them rather than me uploading the files. There are new versions of Fl_help_view.cxx and Fl_help_view.h uploaded which are also part of this fix. <br><br>Note: all lines (or functions) I added have my name after them. I'm also copying bits of code already there so it is clearer.<br><br>Edit: renamed flSetFilePath, flGetFilePath, flFileIsLink to flSetPathView, flGetPathView, flIsLinkView for better naming convention.<br><br>First, in fltkglue.cpp around line 224:<pre class=code>void flSetView(Fl_Help_View *view, const char *html);
void flSeekView(Fl_Help_View *view, const char *anchor);
void flRedirectView(Fl_Help_View *view, char *url);
void flSetPathView(Fl_Help_View *view, const char *path); // markcw
const char *flGetPathView(Fl_Help_View *view); // markcw
bool flIsLinkView(Fl_Help_View *view); // markcw
int flLoadView(Fl_Help_View *view, const char *file); // markcw</pre><br>Then again in fltkglue.cpp around line 1828:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">void flSetView(Fl_Help_View *view, const char *html)
{
 view-&gt;value(html);
}

void flSeekView(Fl_Help_View *view, const char *anchor)
{
 view-&gt;topline(anchor);
}

void flRedirectView(Fl_Help_View *view, char *url)
{
 redirect_url=stringcopy(url); // Seb was here (memory should get freed by Fl_Html_View.cxx)
}

void flSetPathView(Fl_Help_View *view, const char *path) // markcw
{
 view-&gt;filepath(path);
}

const char *flGetPathView(Fl_Help_View *view) // markcw
{
 return view-&gt;filepath();
}

bool flIsLinkView(Fl_Help_View *view) // markcw
{
 return view-&gt;fileislink();
}

int flLoadView(Fl_Help_View *view, const char *file) // markcw
{
 return view-&gt;load(file);
}</textarea><br>Now on to fltkimports.bmx around line 367:<pre class=code>' htmlview

Function flSetView(view,html$z)
Function flSeekView(view,anchor$z)
Function flRedirectView(view,url$z)
Function flSetPathView(view,path$z) ' markcw
Function flGetPathView$z(view) ' markcw
Function flIsLinkView(view) ' markcw
Function flLoadView(view,file$z) ' markcw</pre><br>And finally to fltkgui.bmx around line 2272:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	Method SetURL(path$,addhistory=True)
		Local	stream:TStream
		Local	hash,anchor$
		Local	html$
		Local	cpath$ ' markcw
		
		If addhistory
			cpath=String.FromCString(flGetPathView(flhandle)) ' markcw
			If Not flIsLinkView(flhandle) Then cpath=path ' markcw
			If cpath.find("#")&lt;&gt;-1 Then path=cpath ' markcw
			If Not history history=New TList
			While historylink And historylink.NextLink()
				historylink.NextLink().Remove
			Wend
			historylink=history.AddLast(path)
		EndIf
		If path[..5]="file:" path=path[5..]
		hash=path.find("#")
		If hash&lt;&gt;-1
			anchor=path[hash+1..]
			path=path[..hash]
		EndIf
		stream=ReadStream(path)
		If stream=Null Return 0
		html=LoadString(stream)
		CloseStream stream
		currenturl=path
		html=CleanHTML(html)
		flSetView(flhandle,html)
		If anchor flSeekView(flhandle,anchor)
		If addhistory And cpath.find("#")&lt;&gt;-1 Then currenturl=cpath ' markcw
		flSetPathView(flhandle,currenturl) ' markcw
		Return True
	End Method</textarea><br>Now a little explanation. :)<br><br>flLoadView isn't used but I added it as that is the other way to do things. The problem was that fltkgui is using value (in flSetView) which uses the file contents rather than the file path. This meant fl_help_view didn't know the current filepath and so couldn't set the link history since that seems to need the link transform callback, which needs a filepath. Catch 22. :)<br><br>So I have got fltkgui sending the filepath, then fl_help_view adding the link target to that (as fltkgui didn't seem to have targets) which fltkgui gets back and sets the history with. Being a bit of a hack it still didn't work right, so I also added flIsLinkView which tells fltkgui if a nav button or link was clicked, namely the home button wasn't working. <br><br></td></tr></table><br>
<a name="935798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just noticed links with targets don't work. Should have checked that. Doh!<br><br>Also, this is tested with fltk 1.3. <br><br></td></tr></table><br>
<a name="935807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok fixed it, fingers crossed! The good news is that I only had to change Fl_help_view.cxx. Seems I was getting the wrong directory from getcwd. <br><br></td></tr></table><br>
<a name="936028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey,<br><br>Thanks Mark! I've finally decided to get the latest FLTKMaxGUI upgrade out the door and have now committed it to SVN. See revision 118 for the following fixes:<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.38 Release<br>&gt; Updated to FLTK 1.3, rev 6649.<br>&gt; Added markcw's HTMLView forward/back code - thanks Mark.<br>&gt; Fixed event.data on button EVENT_GADGETACTION.<br>&gt; Tweaked to allow module to compile and run on Windows.<br>&gt; Fixed missing mouse wheel events on canvas.<br>&gt; Improved font handling and FontRequest() window. <br></div><br>Some MaxGUI'ers may be particularly interested in point 4 - <b>MaxGUI.FLTKMaxGUI</b> will now compile and run on Windows too. So if you fancy seeing how your apps will look/behave on Linux and you can't be bothered rebooting, you can simply import <b>MaxGUI.FLTKMaxGUI</b> into your projects (instead of <b>MaxGUI.Drivers</b>) and rebuild. Note - this is not cross-compiling. You will still be producing a Windows executable, it's just that your GUI interface will be rendered and managed using the same engine as on Linux.<br><br>Next stop is trying to get the XFT font rendering in FLTK1.3 stable so that it draws anti-aliased text (like Sans) on Linux, without crashing. Therefore, atm, <b>FLTKMaxGUI</b> is using the older, but more stable, text renderer.<br><br>Btw, a lot of files have changed in this revision, and some files have also been added/deleted so SVN'ers might want to consider a fresh checkout.<br><br>As always, let me know how you get on... <br><br></td></tr></table><br>
<a name="936030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> and some files have also been added/deleted so SVN'ers might want to consider a fresh checkout.  <br></div><br>You shouldn't need to do a fresh checkout. SVN supports adding and removing of files. <br><br></td></tr></table><br>
<a name="936033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You shouldn't need to do a fresh checkout. SVN supports adding and removing of files. <br></div><br>You are right - I have ran all file changes through SVN so it should work, but I thought I'd put that *just in case* some run into trouble. ;-) <br><br></td></tr></table><br>
<a name="936034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only time you should face trouble, is if you remove a folder and replace it with another of the same name - This way you remove the .svn folder, which is bad news.<br>Ideally, if you were to change the contents of a whole folder, delete all the files within it, and copy in the new ones, leaving the .svn folder intact :-) <br><br></td></tr></table><br>
<a name="936105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Silly me, I thought I was working on fltk 1.3 when I was working on 1.1 so I didn't notice I was working on an older file (rev 20 instead of 21). I have uploaded Fl_help_view.cxx with rev 21 changes added. I'll update to the latest svn now and start on rev 23. <br><br></td></tr></table><br>
<a name="936149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have uploaded Fl_help_view.cxx with rev 21 changes added. <br></div><br>Thanks - committed! <br><br></td></tr></table><br>
<a name="936490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>I've just recompiled MaxIDE on Linux, and noticed that the font of the HTML docs appears to now be a serif font.<br><br>Speaking of fonts, I've had another look into the MaxIDE crash when FreeType is enabled for the FLTK library. After some rummaging, it appears as though the tweaked Fl_Help_View is the source of the crash.<br><br>I'm guessing that it may be because of your <b>findfonts()</b> routines that parse XServer font strings, but the format is not the same when using XFT.<br><br>If you want to have a play around, open <i>config.h</i> inside <i>BlitzMax/mod/fltkmaxgui.mod</i> and comment out line 105, uncomment line 104 (to enable XFT) and save.<br><br>Next, open up <i>BlitzMax/mod/pub.mod/freetype.mod/freetype.bmx</i> and replace the contents with:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Module Pub.FreeType

ModuleInfo "Version: 1.06"
ModuleInfo "License: FreeType License"
ModuleInfo "Modserver: BRL"

ModuleInfo "History: 1.06 Release"
ModuleInfo "History: Fixed too large fonts crashing"
ModuleInfo "History: Updated to latest FreeType lib version"
ModuleInfo "History: 1.05 Release"
ModuleInfo "History: Fixed Tiger build warnings in ftmac.c"
ModuleInfo "History: 1.04 Release"
ModuleInfo "History: Added stream hooks (new code in 'ftsystem.c')"
?Linux
ModuleInfo "CC_OPTS: `freetype-config --libs`"
?

Import Pub.ZLib

Rem

Changes to freetype source:

ftoption.h : Enabled FT_CONFIG_OPTION_SYSTEM_ZLIB define
ftoption.h : FT_RENDER_POOL_SIZE changed to 65536L, was 16384. This appears to be the cause of the 'big font' crashes
ftglyph.c:329 : added (void*) to kill compiler warning
ftmac.c:841/842 : changed Null to 0 to kill compiler warning.

End Rem

?Not Linux
Import "include/*.h"

Import "src/base/ftbase.c"

Import "src/base/ftapi.c"
Import "src/base/ftdebug.c"
Import "src/base/ftinit.c"
Import "src/base/ftsystem.c"

Import "src/base/ftbitmap.c"
Import "src/base/ftbbox.c"
Import "src/base/ftglyph.c"
Import "src/base/ftmm.c"
Import "src/base/ftotval.c"
Import "src/base/ftpfr.c"
Import "src/base/ftstroke.c"
Import "src/base/ftsynth.c"
Import "src/base/fttype1.c"
Import "src/base/ftwinfnt.c"
Import "src/base/ftxf86.c"
Import "src/base/ftbdf.c"

Import "src/autofit/autofit.c"
Import "src/bdf/bdf.c"
Import "src/cache/ftcache.c"
Import "src/cff/cff.c"
Import "src/cid/type1cid.c"
Import "src/gzip/ftgzip.c"
Import "src/lzw/ftlzw.c"
Import "src/otvalid/otvalid.c"
Import "src/pcf/pcf.c"
Import "src/pfr/pfr.c"
Import "src/psaux/psaux.c"
Import "src/pshinter/pshinter.c"
Import "src/psnames/psnames.c"
Import "src/raster/raster.c"
Import "src/sfnt/sfnt.c"
Import "src/smooth/smooth.c"
Import "src/truetype/truetype.c"
Import "src/type1/type1.c"
Import "src/type42/type42.c"
Import "src/winfonts/winfnt.c"
?


Extern

Function FT_Init_FreeType( ft_lib:Byte Ptr Ptr )

Function FT_Done_FreeType( ft_lib:Byte Ptr )
Function FT_Done_Face( ft_face:Byte Ptr )
Function FT_Done_Glyph( ft_glyph:Byte Ptr )

Function FT_New_Face( ft_lib:Byte Ptr,arg$z,faceIndex,ft_face:Byte Ptr Ptr )
Function FT_New_Memory_Face( ft_lib:Byte Ptr,buf:Byte Ptr,size,faceIndex,ft_face:Byte Ptr Ptr )

Function FT_Set_Pixel_Sizes( ft_face:Byte Ptr,width,height )
Function FT_Get_Char_Index( ft_face:Byte Ptr,index )
Function FT_Set_Charmap( ft_face:Byte Ptr,charmap )

Function FT_Load_Char( ft_face:Byte Ptr,index,flags )
Function FT_Load_Glyph( ft_face:Byte Ptr,index,flags )
Function FT_Render_Glyph( ft_glyph:Byte Ptr,mode )

End Extern

Const FT_LOAD_DEFAULT=0
Const FT_LOAD_NO_SCALE=1
Const FT_LOAD_NO_HINTING=2
Const FT_LOAD_RENDER=4
Const FT_LOAD_NO_BITMAP=8
Const FT_LOAD_VERTICAL_LAYOUT=$10
Const FT_LOAD_FORCE_AUTOHINT=$20
Const FT_LOAD_CROP_BITMAP=$40
Const FT_LOAD_PEDANTIC=$80
Const FT_LOAD_IGNORE_GLOBAL_ADVANCE_WIDTH=$200
Const FT_LOAD_NO_RECURSE=$400
Const FT_LOAD_IGNORE_TRANSFORM=$800
Const FT_LOAD_MONOCHROME=$1000
Const FT_LOAD_LINEAR_DESIGN=$2000

Const FT_RENDER_MODE_NORMAL=0
Const FT_RENDER_MODE_LIGHT=1
Const FT_RENDER_MODE_MONO=2
Const FT_RENDER_MODE_LCD=3
Const FT_RENDER_MODE_LCD_V=4


Type FTFace
	Field	numfaces,index,flags,style,numglyphs
	Field	fname:Byte Ptr
	Field	sname:Byte Ptr
	Field	numsizes
	Field	sizes:Int Ptr
	Field	numcharmaps
	Field	charmaps:Int Ptr
	Field	genericdata:Byte Ptr,genericdestructor
	Field	bx0,by0,bx1,by1
	Field	unitsperem:Short
	Field	ascender:Short
	Field	descender:Short
	Field	height:Short
	Field	maxawidth:Short
	Field	maxahieght:Short
	Field	underlinepos:Short
	Field	underlinethick:Short
	Field	glyphslot:Int Ptr	
	Field	metrics:Byte Ptr
End Type	

Type FTMetrics
	Field	mface,mgeneric0,mgeneric1
	Field	xppem:Short,yppem:Short
	Field	xscale,yscale
	Field	ascend,descend,height,max_advance
End Type
	
Type FTGlyph
	Field	lib,face,nextglyph,reserved
	Field	genericdata:Byte Ptr,genericdestructor	
	Field	metric_width,metric_height,metric_horibearingx,metric_horibearingy
	Field	metric_horiadvance,metric_vertbearingx,metric_vertbearingy,metric_vertadvance
	Field	hadvance,vadvance
    Field	advancex,advancey
	Field	glyphformat
'bitmap
	Field	rows,width,pitch
	Field	buffer:Byte Ptr
	Field	numgreys:Short,pixel_mode:Byte,palette_mode:Byte
	Field	palette:Byte Ptr
	Field	bitmap_left,bitmap_top
End Type
</textarea><br><br>Finally, rebuild <u>all</u> modules. If you run the <i>bigsearch</i> MaxGUI sample app, the program will crash as soon as it starts. Other MaxGUI apps (without a HTMLView) seem to compile and run fine, and with nice anti-aliased fonts too!<br><br>If you could have a look into this at some point, I'd be enormously grateful. Thanks! We're one step away from anti-aliased Linux MaxIDE. :P<br><br>Edit:<br><br>Some useful links (perhaps?):<br><br>http://www.fltk.org/newsgroups.php?s18343+gfltk.general+v18360+T0<br>http://www.fltk.org/newsgroups.php?s18343+gfltk.general+v18361+T0<br>http://www.fltk.org/newsgroups.php?s18363+gfltk.general+v18365+T0 <br><br></td></tr></table><br>
<a name="936685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb,<br><br>yes the font is a serif font because that is the default font, the sans font is loaded in the .css file but for now I've set the serif font to the sans font.<br><br>You are correct, it was my find font routines that were crashing it. I was using Fl::get_font() which in fltk 1.1 returns a string with font name and attributes but in 1.3 only returns the font name. I have now rewritten the code to use Fl::get_font_name() which works the same in 1.1 and 1.3.<br><br>You will need Fl_help_view.h as well as Fl_help_view.cxx this time as I have modified things in there.<br><br>Also, I wonder if you get this behavior, in MaxIDE the menu doesn't respond until I minimize and restore the window. It doesn't happen in for example samples/maxgui/bigsearch so I'm wondering if you might know what could be wrong? Edit: also when you hover over the toolbar buttons they flash instead of showing the hover button.<br><br>Oh yeah, and thanks for getting anti-aliased fonts in. Sooo much better now. :) <br><br></td></tr></table><br>
<a name="936686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> We're one step away from anti-aliased Linux MaxIDE. <br></div><br>Oh? My MaxIDE's always had anti-aliased fonts?? <br><br></td></tr></table><br>
<a name="936692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> Insert FLTK before Linux and repeat the question?? <br><br></td></tr></table><br>
<a name="936696"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah. I wouldn't know :-) <br><br></td></tr></table><br>
<a name="936739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> yes the font is a serif font because that is the default font, the sans font is loaded in the .css file but for now I've set the serif font to the sans font. <br></div><br>Oh, OK. If it is the intended behaviour then that's cool - it just wasn't the same as my old (pre FLTK 1.3) FLTK build. If it's supposed to be serif'd by default, then perhaps we should stick to it.<br><br><div class="quote"> You are correct, it was my find font routines that were crashing it. I was using Fl::get_font() which in fltk 1.1 returns a string with font name and attributes but in 1.3 only returns the font name. I have now rewritten the code to use Fl::get_font_name() which works the same in 1.1 and 1.3.<br><br>You will need Fl_help_view.h as well as Fl_help_view.cxx this time as I have modified things in there. <br></div><br>You are a star! ;-)<br><br><div class="quote"> Also, I wonder if you get this behavior, in MaxIDE the menu doesn't respond until I minimize and restore the window. It doesn't happen in for example samples/maxgui/bigsearch so I'm wondering if you might know what could be wrong? Edit: also when you hover over the toolbar buttons they flash instead of showing the hover button. <br></div><br>I haven't noticed this, but I will definitely investigate.<br><br><div class="quote"> Oh yeah, and thanks for getting anti-aliased fonts in. Sooo much better now. :)  <br></div><br>Yeah - definitely looks better now, esp. with the "Sans", "Mono" etc. fonts.<br><br><div class="quote"> We're one step away from anti-aliased Linux MaxIDE. :P <br></div><br><div class="quote"> Oh? My MaxIDE's always had anti-aliased fonts??  <br></div><br><div class="quote"> Insert FLTK before Linux and repeat the question??  <br></div><br><div class="quote"> Ah. I wouldn't know :-) <br></div><br>Now, now, Brucey! :P <br><br></td></tr></table><br>
<a name="937087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just thought I'd mention this small fix now, Seb.<br><br>In fltkglue.cpp I had a look at your comment in flRedirectView and it turns out Fl_help_view does not free the string. I tested it to make sure. Here's the fix, line 62. <br>The comment after do_callback is just for clarity I didn't edit that line.<pre class=code>const char *event_url = "none";
char *redirect_url = 0; // init to null - markcw

static int eventid;

const char *viewcallback(Fl_Widget *view, const char *uri)
{
 free(redirect_url); // not freed by Fl_Help_View - markcw
 redirect_url = 0;
 event_url = uri;
 view-&gt;do_callback(); // widget callback, OnCallback
 event_url = 0;
 return (const char *)redirect_url;
}</pre> <br><br></td></tr></table><br>
<a name="937248"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> In fltkglue.cpp I had a look at your comment in flRedirectView and it turns out Fl_help_view does not free the string. I tested it to make sure. Here's the fix, line 62. <br></div><br>That's strange... Maybe I was having one of those days. Thanks for the fixes - I've now committed your <b>Fl_Help_View</b> and this patch to SVN. <br><br></td></tr></table><br>
<a name="937264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've attempted to fix for the text-display crash that is sometimes seen when using 'Close All' etc. in the IDE.<br><br>Revision 124:<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.39 Release<br>&gt; Fixed text-display free crash by implementing a QueueFlDelete() mechanism for text buffers.<br>&gt; Moved about block to separate .bbdoc file. <br></div><br><br>Btw, I still can't reproduce any of this behaviour on my Ubuntu 8.10 installation.<br><br><div class="quote"> Also, I wonder if you get this behavior, in MaxIDE the menu doesn't respond until I minimize and restore the window. It doesn't happen in for example samples/maxgui/bigsearch so I'm wondering if you might know what could be wrong? Edit: also when you hover over the toolbar buttons they flash instead of showing the hover button.  <br></div><br>What do you mean by 'flash'? Flash to a solid colour, or flashes while the button border changes. Have you always had this happen or only recently? <br><br></td></tr></table><br>
<a name="937282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb,<br><br><div class="quote"> I've now committed your Fl_Help_View and this patch to SVN.  <br></div><br>Yeah, sorry for the confusion but I didn't update Fl_help_view until just now. Should probably have held that little fix off until this revision. New versions of the .cxx and .h file are up. I also have some more copy n' paste jobs for you. :)<br><br>First, in fltkglue.cpp, line 239. I have remove flLoadView as I decided there's no point when everything uses flSetView, the new function is flSetStyleView, return type for flIsLinkView is changed.<pre class=code>void flSetView(Fl_Help_View *view, const char *html);
void flSeekView(Fl_Help_View *view, const char *anchor);
void flRedirectView(Fl_Help_View *view, char *url);
void flSetPathView(Fl_Help_View *view, const char *path);
const char *flGetPathView(Fl_Help_View *view);
int flIsLinkView(Fl_Help_View *view); // markcw
void flSetStyleView(Fl_Help_View *view, int flag); // markcw</pre><br>Next in fltkglue.cpp, line 1890, below flGetPathView, the new and modified functions.<pre class=code>const char *flGetPathView(Fl_Help_View *view)
{
 return view-&gt;filepath();
}

int flIsLinkView(Fl_Help_View *view) // markcw
{
 return view-&gt;fileislink();
}

void flSetStyleView(Fl_Help_View *view, int flag) // markcw
{
 view-&gt;setstyle(flag);
}</pre><br>Then in fltkimports.bmx, line 384. The new function.<pre class=code>' htmlview

Function flSetView(view,html$z)
Function flSeekView(view,anchor$z)
Function flRedirectView(view,url$z)
Function flSetPathView(view,path$z)
Function flGetPathView$z(view)
Function flIsLinkView(view)
Function flSetStyleView(view,flag) ' markcw</pre><br>And now to fltkgui.bmx, line 2213. Implementation of the new function in TFLHTMLView.<pre class=code>	Method InitGadget()
		fltype=FL_HELPVIEW
		InitWidget()
		flSetStyleView(flhandle,style) ' markcw
	EndMethod</pre><br>Finally, in SetURL, line 2282. A few more changes. Seems to all work now, the only thing left is storing the last topline in the history I think.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	Method SetURL(path$,addhistory=True)
		Local	stream:TStream
		Local	hash,anchor$
		Local	html$
		Local	cpath$ ' markcw
		
		If addhistory
			cpath=String.FromCString(flGetPathView(flhandle)) ' markcw
			If Not flIsLinkView(flhandle) Then cpath=path ' markcw
			If cpath.find("#")&lt;&gt;-1 Then path=cpath ' markcw
			If path="" Then Return 0 ' markcw
			If Not history history=New TList
			While historylink And historylink.NextLink()
				historylink.NextLink().Remove
			Wend
			historylink=history.AddLast(path)
		EndIf
		If path[..5]="file:" path=path[5..]
		hash=path.find("#")
		If hash&lt;&gt;-1
			anchor=path[hash+1..]
			path=path[..hash]
		EndIf
		stream=ReadStream(path)
		If stream ' markcw - was If stream=Null Return 0
			html=LoadString(stream)
			CloseStream stream
			html=CleanHTML(html)
			currenturl=path
			If addhistory And cpath.find("#")&lt;&gt;-1 Then currenturl=cpath ' markcw
			flSetPathView(flhandle,currenturl) ' markcw
		EndIf
		flSetView(flhandle,html)
		If anchor flSeekView(flhandle,anchor)
		Return True
	End Method</textarea><br>To summarize, this adds default user navigation style, prints error pages and let's you start with a relative path properly. <br><br></td></tr></table><br>
<a name="937285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>After applying all the patches, I get the following page when I click any of the links in the IDE:<br><br><div class="quote"> <b>Error</b><br><br>Unable to follow the link "C:\Program Files\BlitzMax\src\maxide/C:/Program Files/BlitzMax/docs/html/Modules/index.html" - Invalid argument. <br></div><br>...and some of the iamges don't display.<br><br>Refreshing the page (e.g. using the 'Home' toolbar icon) seems to fix this though. <br><br></td></tr></table><br>
<a name="937290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah no, it doesn't work properly on windows. :) Will fix next revision. <br><br></td></tr></table><br>
<a name="937291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What do you mean by 'flash'? Flash to a solid colour, or flashes while the button border changes. Have you always had this happen or only recently? <br></div><br>It started with fltk 1.3. Flash as in flicker, this stops after a minimize/restore. <br><br><i>Edit: I notice the flicker thing doesn't happen all the time but the file menu thing does. Strange how only I get it.</i> <br><br></td></tr></table><br>
<a name="937295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I just added a small fix to the .cxx file for Windows to try and fix that error. It probably won't fix it anyway. I'll need to set up my Windows version of fltk first.<br><br><i>Edit: ok I'm stuck, Seb. I can't build maxide.bmx on Windows with fltk. I have a fairly recent svn for everything and can build createhtmlview.bmx with fltk but maxide.bmx returns an "unhandled mem exception error". I have rem'd Framework maxgui.drivers and added Import maxgui.fltkmaxgui. Am I missing something? :/</i> <br><br></td></tr></table><br>
<a name="937422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Edit: ok I'm stuck, Seb. I can't build maxide.bmx on Windows with fltk. I have a fairly recent svn for everything and can build createhtmlview.bmx with fltk but maxide.bmx returns an "unhandled mem exception error". I have rem'd Framework maxgui.drivers and added Import maxgui.fltkmaxgui. Am I missing something? :/  <br></div><br>Eeeekkk... OK, update to the latest revision just in case, and remember to <b>Rebuild <u>All</u> Modules</b> (instead of just <b>Build Modules</b>). <br><br>If you run <i>maxide.bmx</i> in Debug Mode, and let me know which line it crashes out on, I'll have a think.<br><br>Btw, are you using the SVN version of BlitzMax too? <br><br></td></tr></table><br>
<a name="938053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, sorry for the false alarm Seb. I got it working now. I don't know what was wrong because I did rebuild all mods, so maybe it was because I didn't checkout and just copy 'n pasted my linux BlitzMax.<br><br>I also tried Max 1.30 with MaxGUI svn and it wouldn't build all modules, something about win32button, but maybe that's just me breaking things again.<br><br>Also, I noticed the latest threaded maxide.bmx renders truetype fonts in the editor at a smaller size and in IDE options&gt;Editor&gt;Background when you choose 10 pt it changes to 9 pt, this is in Windows only.<br><br><i>Edit: actually, I'm thinking I should remove the "init with relative path" bit because the HtmlView in Windows needs a path to work and it's not hard to do that from BMax.</i> <br><br></td></tr></table><br>
<a name="938569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> Committed! MaxIDE's HTMLView seems nice and stable now. Much better!<br><br>Ermmm... I've just tried running the <b>CreateHTMLView()</b> example (from the MaxGUI docs) and I get a segmentation fault on the HTMLView line. How do you suggest we go about handling HTTP URLs with Fl_Help_View?<br><br><i>Edit: Just noticed that Help - &gt;Modules -&gt; Events - &gt;Hook Functions has some mis-aligned text under the first table on Linux. Are you getting the same bahaviour?</i><br><br>Many thanks as always! <br><br></td></tr></table><br>
<a name="938687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've just tried running the CreateHTMLView() example (from the MaxGUI docs) and I get a segmentation fault on the HTMLView line. <br></div><br>I don't get that in Windows or ubuntu. I assume you mean in ubuntu. I had a look and couldn't see anywhere where it might be writing to read-only memory.<br><br><div class="quote"> How do you suggest we go about handling HTTP URLs with Fl_Help_View? <br></div><br>If the path is init with "http:" etc then use OpenURL and don't create a HTMLView, I suppose. <i>Edit: change of plan, init with http now prints an error page with a link.</i><br><br><div class="quote"> ..some mis-aligned text under the first table on Linux. Are you getting the same bahaviour? <br></div><br>Yes, that is one of the table bugs I've still to fix.<br><br>Also.. I did a fresh svn in ubuntu, BMax+MaxGUI, and now when I build that it seems to create fltk 1.1 and building maxide it reports:<br><br><div class="quote"> Unable to determine BlitzMax version. Please reinstall BlitzMax to repair this problem. <br></div><br>Was wondering if you can explain. Do you have to start by extracting BMax 1.30? <br><br></td></tr></table><br>
<a name="938690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also.. I did a fresh svn in ubuntu, BMax+MaxGUI, and now when I build that it seems to create fltk 1.1 and building maxide it reports: <br></div><br>Yeah - looks like Brucey forgot to include Linux compiler directives when he sent the UTF8 <b>Pub.FreeProcess</b> tweaks off to Mark. I've sent Mr Sibly a fix, but until it is committed, you'll need to replace the contents of <i>pub.mod/freeprocess.mod/freeprocess.bmx</i> with...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Module PUB.FreeProcess

ModuleInfo "Version: 1.03"
ModuleInfo "Framework: FreeProcess multi platform external process control"
ModuleInfo "Copyright: Blitz Research Ltd"
ModuleInfo "Author: Simon Armstrong"
ModuleInfo "Modserver: BRL"

ModuleInfo "History: 1.03 Release"
ModuleInfo "History: Changed fork() to vfork() and exit() to _exit() to fix more hangs."
ModuleInfo "History: 1.02 Release"
ModuleInfo "History: Fixed a Linux hang when fork() is called."
ModuleInfo "History: Added SIGCHLD handling and fdReapZombies function."
ModuleInfo "History: 1.01 Release"
ModuleInfo "History: Inserts /Contents/MacOS/ into process path for Apple app packages"

Strict

' createproc - to launch external executable
' TPipeStream - nonblocking readlines with fd file handles

Import brl.stream
Import brl.linkedlist
Import brl.filesystem

Import "freeprocess.c"

Extern
Function fdInitialize()
Function fdClose(fd)
Function fdRead(fd,buffer:Byte Ptr,count)
Function fdWrite(fd,buffer:Byte Ptr,count)
Function fdFlush(fd)
Function fdAvail(fd)
?Win32
Function fdProcess(exe$w,in_fd Ptr,out_fd Ptr,err_fd Ptr,flags)="fdProcess"
?Not Win32
Function fdProcess(exe$z,in_fd Ptr,out_fd Ptr,err_fd Ptr,flags)="fdProcess"
?
Function fdProcessStatus(processhandle)
Function fdTerminateProcess(processhandle)
End Extern

Const HIDECONSOLE=1

fdInitialize()

Type TPipeStream Extends TStream

    Field   readbuffer:Byte[4096]
    Field   bufferpos
    Field   readhandle,writehandle

    Method Close()
        If readhandle 
            fdClose(readhandle)
            readhandle=0
        EndIf
        If writehandle 
            fdClose(writehandle)
            writehandle=0
        EndIf
    End Method

    Method Read( buf:Byte Ptr,count )
        Return fdRead(readhandle,buf,count)
    End Method

    Method Write( buf:Byte Ptr,count )
        Return fdWrite(writehandle,buf,count)
    End Method
    
    Method Flush()
        fdFlush(writehandle)
    End Method
        
    Method ReadAvail()
        Return fdAvail(readhandle)
    End Method
    
    Method ReadPipe:Byte[]()
        Local   bytes:Byte[],n
        n=ReadAvail()
        If n
            bytes=New Byte[n]
            Read(bytes,n)
            Return bytes
        EndIf   
    End Method
    
    Method ReadLine$()  'nonblocking - returns empty string if no data available
        Local   n,r,p0,p1,line$
        n=ReadAvail()
        If n
            If bufferpos+n&gt;4096 n=4096-bufferpos
            If n&lt;=0 RuntimeError "PipeStream ReadBuffer Overflow"
            r=Read(Varptr readbuffer[bufferpos],n)
            bufferpos:+r
        EndIf
        For n=0 To bufferpos
            If readbuffer[n]=10
                p1=n
                If (n&gt;0)
                    If readbuffer[n-1]=13 p1=n-1
                EndIf
                p0=0
                If readbuffer[0]=13 p0=1
                If p1&gt;p0 line$=String.FromBytes(Varptr readbuffer[p0],p1-p0)
                n:+1
                bufferpos:-n
                If bufferpos MemMove(readbuffer,Varptr readbuffer[n],bufferpos)
                Return line$
            EndIf
        Next            
    End Method

    Function Create:TPipeStream( in,out )
        Local stream:TPipeStream=New TPipeStream
        stream.readhandle=in
        stream.writehandle=out
        Return stream
    End Function

End Type

Type TProcess
    Global ProcessList:TList 
    Field   name$
    Field   handle
    Field   pipe:TPipeStream
    Field   err:TPipeStream

    Method Status()
        If handle Return fdProcessStatus(handle)
    End Method
    
    Method Close()
        If pipe pipe.Close;pipe=Null
        If err err.Close;err=Null
    End Method
    
    Method Terminate()
        Local   res
        ProcessList.Remove Self
        If handle res=fdTerminateProcess(handle);handle=0
        Return res
    End Method

    Function Create:TProcess(name$,flags)
        Local   p:TProcess
        Local   infd,outfd,errfd    
?MacOS
        If FileType(name)=2
            Local a$=StripExt(StripDir(name))
            name:+"/Contents/MacOS/"+a$
        EndIf
?
        p=New TProcess
        p.name=name
?Not Win32
        p.handle=fdProcess(bbStringToUTF8String(p.name),Varptr infd,Varptr outfd,Varptr errfd,flags)
?Win32
        p.handle=fdProcess(p.name,Varptr infd,Varptr outfd,Varptr errfd,flags)
?
        If Not p.handle Return Null
        p.pipe=TPipeStream.Create(infd,outfd)
        p.err=TPipeStream.Create(errfd,0)
        If Not ProcessList ProcessList=New TList
        ProcessList.AddLast p
        Return p
    End Function
    
    Function TerminateAll() NoDebug
        Local   p:TProcess
        If ProcessList
            For p=EachIn ProcessList
                p.Terminate
                p.Close
            Next
        EndIf
    End Function
    
End Type

Function CreateProcess:TProcess(cmd$,flags=0)
    Return TProcess.Create(cmd,flags)
End Function

Function ProcessStatus(process:TProcess)
    Return process.Status()
End Function

Function TerminateProcess(process:TProcess)
    Return process.Terminate()
End Function

OnEnd TProcess.TerminateAll</textarea><br><br><div class="quote"> I don't get that in Windows or ubuntu. I assume you mean in ubuntu. I had a look and couldn't see anywhere where it might be writing to read-only memory. <br></div><br>Strange. My Ubuntu PC was definitely crashing on the <b>flSetView(flhandle,html)</b> call in <b>TFLHTMLView.SetURL()</b> but I've just tried the example in Windows now and it seems to be working perfectly. Hmmm... I'll investigate more next time I'm in Linux. <br><br></td></tr></table><br>
<a name="938693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just committed:<br><br><div class="quote"> MaxGUI.FLTKMaxGUI v1.39 Release<br>&gt; Added hack to scale up font sizes on Windows. <br></div> <br><br></td></tr></table><br>
<a name="940196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also, I noticed the latest threaded maxide.bmx renders truetype fonts in the editor at a smaller size and in IDE options&gt;Editor&gt;Background when you choose 10 pt it changes to 9 pt, this is in Windows only. <br></div><br>I think I know what the problem is here, somewhere we have Int(FontSize(blah)). I recently discovered that Int is a straight type cast in BMax so if the value is 9.99 it becomes 9 instead of 10. The solution is to use a Round() function like the one <a href="/codearcs.php?code=2145" target="_blank">here</a> or just FontSize+0.5 would do.<br><br><div class="quote"> actually, I'm thinking I should remove the "init with relative path" bit because the HtmlView in Windows needs a path to work and it's not hard to do that from BMax. <br></div><br>Okay, I'll remove this tweak so it behaves like the Windows htmlview, meaning you have to prove a full path.<br><br><div class="quote"> Yeah - looks like Brucey forgot to include Linux compiler directives when he sent the UTF8 Pub.FreeProcess tweaks off to Mark. I've sent Mr Sibly a fix, but until it is committed, you'll need to replace the contents of pub.mod/freeprocess.mod/freeprocess.bmx with... <br></div><br>Thanks Seb. That got rid of the message when building maxide.bmx but it's still fltk 1.1 so I'll just keep working with my older version.<br><br>Any news on this segmentation fault in ubuntu? <br><br></td></tr></table><br>
<a name="947564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, hopefully I'm in time for MaxGUI 1.32, as this is a nice update although missing a few things I had planned so I could get it out now. All the usual files below are edited for this new update plus the help view header is changed.<br><br>Changes:<br>- removed getcwd for init with relative path, need to init with full path.<br>- fixed format_table crash if td colspan width too thin.<br>- added page topline position history, required changes to header/fltkgui.<br>- added javascript:history.back/forward/go support, required changes to fltkgui.<br>- added openurl support for user navigation style, required changes to fltkgui.<br><br>fltkglue.cpp - declares<br><pre class=code>void flSetView(Fl_Help_View *view, const char *html);
void flSeekView(Fl_Help_View *view, const char *anchor);
void flRedirectView(Fl_Help_View *view, char *url);
void flSetLineView(Fl_Help_View *view, int line); // markcw
int flGetLineView(Fl_Help_View *view); // markcw
void flSetPathView(Fl_Help_View *view, const char *path);
char *flGetPathView(Fl_Help_View *view);
int flIsLinkView(Fl_Help_View *view);
void flSetStyleView(Fl_Help_View *view, int flag);</pre><br>fltkglue.cpp - functions<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">void flSetView(Fl_Help_View *view, const char *html)
{
 view-&gt;value(html);
}

void flSeekView(Fl_Help_View *view, const char *anchor)
{
 view-&gt;topline(anchor);
}

void flRedirectView(Fl_Help_View *view, char *url)
{
 redirect_url=stringcopy(url); // Seb was here, not freed by Fl_Help_View
}

void flSetLineView(Fl_Help_View *view, int line) // markcw
{
 view-&gt;topline(line);
}

int flGetLineView(Fl_Help_View *view) // markcw
{
 return view-&gt;gettopline();
}

void flSetPathView(Fl_Help_View *view, const char *path)
{
 view-&gt;filepath(path);
}

char *flGetPathView(Fl_Help_View *view)
{
 return view-&gt;filepath();
}

int flIsLinkView(Fl_Help_View *view)
{
 return view-&gt;fileislink();
}

void flSetStyleView(Fl_Help_View *view, int flag)
{
 view-&gt;setstyle(flag);
}</textarea><br><br>fltkimports.bmx - functions<br><pre class=code>' htmlview

Function flSetView(view,html$z)
Function flSeekView(view,anchor$z)
Function flRedirectView(view,url$z)
Function flSetLineView(view,line) ' markcw
Function flGetLineView(view) ' markcw
Function flSetPathView(view,path$z)
Function flGetPathView$z(view)
Function flIsLinkView(view)
Function flSetStyleView(view,flag)</pre><br>fltkgui.bmx - TFLHTMLView<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Type TFLHTMLView Extends TFLGadget
	
	Field currenturl$
	Field history:TList
	Field historylink:TLink
	Field hpos:TList ' markcw
	Field hposlink:TLink
	
	Method InitGadget()
		fltype=FL_HELPVIEW
		InitWidget()
		flSetStyleView(flhandle,style)
	EndMethod
	
	Method Class()
		Return GADGET_HTMLVIEW
	EndMethod
	
	Method GetText$()
		Return currenturl$
	EndMethod
	
	Method SetText(text$)
		SetURL(text)
	EndMethod
	
	Method Activate(cmd)
		Select cmd
			Case ACTIVATE_FORWARD
				If fltype=FL_HELPVIEW ForwardURL()
			Case ACTIVATE_BACK
				If fltype=FL_HELPVIEW BackURL()
			Default
				Super.Activate(cmd)
		End Select
	End Method
	
	Method OnCallback()
		RequestURL()
	EndMethod
		
	Method CleanHTML$(src$)
		Return src
	End Method
	
	Method RequestURL()
		Local	path$,curr$
		
		path$=flEventURL()
		If Not path Return
		path=path.Replace("\","/")		
		curr="file:"+CurrentDir()
		If path[..curr.length]=curr
			path=ExtractDir(currenturl)+path[curr.length..]
		EndIf
		
		Select ExtractExt$(path).ToLower()
			Case "png","jpg","jpeg","gif","bmp"
				flRedirectView WidgetHandle(),path
			Default
				PostGuiEvent(EVENT_GADGETACTION,Self,0,0,0,0,path)
				If Not (style &amp; HTMLVIEW_NONAVIGATE) ' markcw
					If path.find("ftp:",0)&lt;&gt;-1 Or path.find("http:",0)&lt;&gt;-1..
					Or path.find("https:",0)&lt;&gt;-1 Or path.find("ipp:",0)&lt;&gt;-1..
					Or path.find("mailto:",0)&lt;&gt;-1 Or path.find("news:",0)&lt;&gt;-1
						OpenURL path
					EndIf
				EndIf
		End Select
	End Method

	Method BackURL() ' markcw
		If historylink And historylink.PrevLink()
			historylink=historylink.PrevLink()
			If hposlink
				hposlink._value=String(flGetLineView(flhandle))
				If hposlink.PrevLink() hposlink=hposlink.PrevLink()
				SetURL String(historylink.Value()),False
			EndIf
		EndIf
	End Method
	
	Method ForwardURL() ' markcw
		If historylink And historylink.NextLink()
			historylink=historylink.NextLink()
			If hposlink
				hposlink._value=String(flGetLineView(flhandle))
				If hposlink.NextLink() hposlink=hposlink.NextLink()
				SetURL String(historylink.Value()),False
			EndIf
		EndIf
	End Method

	Method SetURL(path$,addhistory=True) ' markcw
		Local	stream:TStream
		Local	hash,anchor$
		Local	html$,script=0

		If addhistory
			currenturl=String.FromCString(flGetPathView(flhandle))
			If Not flIsLinkView(flhandle) currenturl=path
			If currenturl.find("#")&lt;&gt;-1 path=currenturl
			If hposlink hposlink._value=String(flGetLineView(flhandle))
			If currenturl.find("javascript:history.back()",0)&lt;&gt;-1
				If historylink And historylink.PrevLink()
					historylink=historylink.PrevLink()
					hposlink=hposlink.PrevLink()
				EndIf
				If historylink path=String(historylink.Value())
				script=1
			ElseIf currenturl.find("javascript:history.forward()",0)&lt;&gt;-1
				If historylink And historylink.NextLink()
					historylink=historylink.NextLink()
					hposlink=hposlink.NextLink()
				EndIf
				If historylink path=String(historylink.Value())
				script=1
			ElseIf currenturl.find("javascript:history.go(",0)&lt;&gt;-1
				If currenturl.find("-",22)&lt;&gt;-1
					If historylink And historylink.PrevLink()
						historylink=historylink.PrevLink()
						hposlink=hposlink.PrevLink()
					EndIf
				Else
					If historylink And historylink.NextLink()
						historylink=historylink.NextLink()
						hposlink=hposlink.NextLink()
					EndIf
				EndIf
				If historylink path=String(historylink.Value())
				script=1
			EndIf
			If Not path Return False
		EndIf
		
		currenturl=path
		flSetPathView(flhandle,currenturl)
		If path[..5]="file:" path=path[5..]
		hash=path.find("#")
		If hash&lt;&gt;-1
			anchor=path[hash+1..]
			path=path[..hash]
		EndIf
		stream=ReadStream(path)
		If stream
			html=LoadString(stream)
			CloseStream stream
			html=CleanHTML(html)
		EndIf
		
		flSetView(flhandle,html)
		If addhistory And (Not script)
			If anchor flSeekView(flhandle,anchor)
			If Not history history=New TList
			While historylink And historylink.NextLink()
				historylink.NextLink().Remove
			Wend
			historylink=history.AddLast(currenturl)
			If Not hpos hpos=New TList
			While hposlink And hposlink.NextLink()
				hposlink.NextLink().Remove
			Wend
			hposlink=hpos.AddLast(String(flGetLineView(flhandle)))
		Else
			flSetLineView(flhandle,Int(String(hposlink.Value())))
		EndIf
		Return True
	End Method
	
	Function ViewHandler:Byte Ptr(WidgetHandle(),uri:Byte Ptr) "C"
'		Local url$=String.FromCString(uri)
'		Print "viewhandler WidgetHandle()="+WidgetHandle()+" url="+url
		Return Null
	End Function
	
EndType</textarea> <br><br></td></tr></table><br>
<a name="947929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, just in case someone reads this, MaxIDE release doesn't work with javascript links but debug does (only tested release now), I suspect this is an inline issue (reason: changed a few members to functions on a notion about d-pointers), still bug hunting.. <br><br></td></tr></table><br>
<a name="948103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a small update to fix this bug, which was essentially the code below. New versions of fl_help_view and header plus fltkglue.cpp.<br><pre class=code>const char *flGetPathView(Fl_Help_View *view); // bug
char *flGetPathView(Fl_Help_View *view); // fix</pre> <br><br></td></tr></table><br>
<a name="948133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark!<br><br>"You got mail!" <br><br></td></tr></table><br>
<a name="950814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Mark,<br><br>Just dropping by to ask if you are still thinking of submitting your Fl_Help_View tweaks to FLTK.org.  I'm sure that they'd love all the improvements you've done to it and it's in an amazing condition.<br><br>It really is an amazing achievement Mark! <br><br></td></tr></table><br>
<a name="950858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, thanks. I should say the same thing to you about MaxGUI.<br><br>Yes, I plan to submit it when I have some css in and fixed some more bugs, like that table bug you mentioned. It also has to work with fl_help_dialog which I haven't tested yet. So I'm just suiting myself here for now. <br><br></td></tr></table><br>
<a name="962282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dumb question...<br><br>Are the Markcw changes INTERALLY included in the current (1.32?) downloadable revision?<br>To be honest I just found that something is present, something else not (like this <a href="/posts.php?topic=79280#948103" target="_blank">one</a> )<br>I would like to know *which* version of FLTK I'm running :)<br>(of course now I messed up everything trying to copy&amp;paste pieces of code...:P) <br><br></td></tr></table><br>
<a name="962480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes. I haven't added anything since 1.32 so it should be identical to this, if you're not sure you can always download from here and then diff to see. <br><br></td></tr></table><br>
<a name="975247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Mark,<br><br>Would it be possible for you to declare <b>int handle(int event)</b> as public in the next release so that it is possible to subclass <b>Fl_Help_View</b> and override like all other official widgets?<br><br>I've ammended this in the version I have to allow the code to compile, but just wanted to let you know.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="975469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Seb, ok. I'm planning on a new revision in a month or two. <br><br></td></tr></table><br>
<a name="995745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hey Seb, ok. I'm planning on a new revision in a month or two. <br> <br></div><br>Awesomeness! <br><br></td></tr></table><br>
<a name="996727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> Found a solution for the get system colors bug, well more of a workaround but it's better than nothing I guess.<br><a href="http://www.fltk.org/str.php?L2270" target="_blank">http://www.fltk.org/str.php?L2270</a> <br><br></td></tr></table><br>
<a name="1002900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Seb, pity I'm a bit late with this update but anyway hope you like how it's coming along. Merry Christmas.<br><br>Changes in rev 26<br>- changed scope of handle() to public<br>- added css functions: load_css(), parse_css(), get_css_value(), get_font_size()<br>- added css properties: background-color, font-family/weight/style/size<br>- added recognition system for css shorthand properties: font, background<br>- fixed table without /tr breaking next row alignment<br>- fixed table without tr not being drawn<br>- added nearest font match to font_face() <br><br></td></tr></table><br>
<a name="1002917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Changes in rev 26 <br></div><br>Wow - that's awesome!  I just tried recompiling MaxIDE using this Fl_Help_View on Windows, but I can't notice any CSS stuff stylings.  Is this affecting the help docs yet, or should I draft up a test page?  I only ask in case it's a Windows only FLTK problem.  I can fire up Ubuntu tomorrow, and take a deeper look then, either way. :-)<br><br><div class="quote"> pity I'm a bit late with this update <br></div><br>And don't worry about that, I was half-expecting to have to release a MaxGUI v1.36 soon after (the even version numbers seem to be stable releases by Blitz convention). :-) <br><br></td></tr></table><br>
<a name="1003001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#166">[#166]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using maxide_v134rc5_src for builds and tested it briefly on XP to check css urls worked and they did so I'm baffled. Maybe a vista/7 issue? <br><br></td></tr></table><br>
<a name="1003039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#167">[#167]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doh - I'm stupid.  I blame it on the fact that it was very early in the morning, but I forgot to 'Build Modules'.  :S<br><br>All I can say is "Wow!", Mark!  Apart from the bevelled edges on the cells, that looks almost spot-on.<br><br>I have no idea how you do it!  I'm sure the FLTK team aren't gonna believe their eyes when they see this. :P<br><br>P.S.  Tested with MaxGUI 1.35/maxide_v135_src.zip. <br><br></td></tr></table><br>
<a name="1003052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#168">[#168]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh good it was just a mistake then. I just tested it on Vista and it worked fine. <br><br>I plan on adding table cell spacing/padding next which should make the docs look very close to normal. Hopefully I'll get another revision out before end of january. <br><br></td></tr></table><br>
<a name="1003327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#169">[#169]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just popped by to let you know that your Fl_Help_View appears to be working well on Mac too - the FLTK devs recently rolled out a Cocoa port of FLTK which is a lot easier to implement with BlitzMax.  All the text appears to be in italics though, for some reason, although I'm guessing this an FLTK Cocoa bug as I haven't noticed this on either Windows or Linux.<br><br>Is there anything I should be wary about, in releasing this with MaxGUI v1.36 shortly? <br><br></td></tr></table><br>
<a name="1003446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#170">[#170]</a></td></tr></table></td></tr><tr ><td class="posttext"> You got it building on Mac now? Cool. No idea why the text would be italic, I have a pretty solid system to ensure it doesn't do that, but I guess it could be a small discrepancy only on Mac or, as you say, nothing to do with Fl_help_view.<br><br>Re: v1.36 release. No it should be more stable than the last revision. <br><br></td></tr></table><br>
<a name="1004253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#171">[#171]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Re: v1.36 release. No it should be more stable than the last revision <br></div><br>Awesome - rev. 26 has been included in the <a href="/posts.php?topic=88432" target="_blank">MaxGUI v1.36 packages</a>.  If you have a Mac, you may like to check-out what I meant about the italics.<br><br>Still can't believe how far you've brought Fl_Help_View.  Amazing!!! <br><br></td></tr></table><br>
<a name="1006235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#172">[#172]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been busy working on a side project for the last few weeks so sorry for the delay.<br><br>Yes it's definitely a bug in fl_help_view, it's never been tested on a Mac until now though so this is not really a surprise. <br><br>I seem to be getting a condensed font, rather than an italic one, for the sans font which is due to it looking for helvetica and finding 'helvetica neue' before helvetica in the list. There is another more serious bug removing spaces from strings and it's also very slow to load big pages but it shouldn't be so slow on a 1.25 ghz g4 powerbook.<br><br>Just thought I'd post some progress. <br><br>Btw, what code editor do you use for Mac? I have the xcode ide but without a sidebar goto list thingy it's pretty awful.<br><br>Oh, almost forgot. I'm getting this every time I build modules using v1.36. Should I report this as a bug?<br><pre class=code>Building Modules
Compiling:Fl_Help_View.cxx
Archiving:fltkmaxgui.debug.macos.ppc.a
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/.bmx/fl_overlay_visual.cxx.debug.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/.bmx/scandir.c.debug.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/keysym2Ucs.c.debug.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/utf8Input.c.debug.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/utf8Utils.c.debug.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/utf8Wrap.c.debug.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/.bmx/Fl_x.cxx.debug.macos.ppc.o has no symbols
Compiling:Fl_Help_View.cxx
Archiving:fltkmaxgui.release.macos.ppc.a
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/.bmx/fl_overlay_visual.cxx.release.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/.bmx/scandir.c.release.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/keysym2Ucs.c.release.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/utf8Input.c.release.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/utf8Utils.c.release.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/xutf8/.bmx/utf8Wrap.c.release.macos.ppc.o has no symbols
libtool: file: /Applications/BlitzMax/mod/maxgui.mod/fltkmaxgui.mod/src/.bmx/Fl_x.cxx.release.macos.ppc.o has no symbols

Process complete
</pre> <br><br></td></tr></table><br>
<a name="1006346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#173">[#173]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yes it's definitely a bug in fl_help_view, it's never been tested on a Mac until now though so this is not really a surprise. <br><br>I seem to be getting a condensed font, rather than an italic one, for the sans font which is due to it looking for helvetica and finding 'helvetica neue' before helvetica in the list. There is another more serious bug removing spaces from strings and it's also very slow to load big pages but it shouldn't be so slow on a 1.25 ghz g4 powerbook.<br><br>Just thought I'd post some progress.  <br></div><br>Awesome!  Thanks for keeping me posted. :-)<br><br><div class="quote"> Btw, what code editor do you use for Mac? I have the xcode ide but without a sidebar goto list thingy it's pretty awful. <br></div><br>I don't do much C/C++/Objective-C programming on Mac, and that which I do do, I usually edit in the official MaxIDE (where I get away with CMD+F'ing my way around the document).  I'd too be interested in any suggestions, people might have, for a light-weight Mac C/C++ code editor.<br><br><div class="quote"> Oh, almost forgot. I'm getting this every time I build modules using v1.36. Should I report this as a bug? <br></div><br>I get the same message; they are just warnings, likely arising because the contents of those files have been pre-processor'd out. The build process completes successfully, and linking a MaxGUI app against FLTK on OS X seems to work.  <br><br>Even still, I had a go trying to move the imports around a bit, so if you feel like investigating, try replacing the contents of your <i>fltkimport.bmx</i> with:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">' fltkimports.bmx

Strict

?Win32
Import "-lcomctl32"
Import "-lole32"
Import "-lcomdlg32"
Import "-ladvapi32"
Import "-luuid"
Import "src/scandir.c"
?MacOS
Import pub.opengl
Import "-framework Cocoa"
?Linux
Import pub.opengl
Import "-lX11"
Import "-lXxf86vm"
Import "-lfreetype"
Import "-lXft"
Import "-lXpm"

Import "src/fl_overlay_visual.cxx"
Import "src/Fl_x.cxx"
Import "src/xutf8/utf8Wrap.c"
Import "src/xutf8/utf8Utils.c"
Import "src/xutf8/utf8Input.c"
Import "src/xutf8/keysym2Ucs.c"
?

?MacOS
Import "cocoa_bridge.mm"
?Not MacOS
Import "src/Fl.cxx"
?

Import "fltkglue.cpp"

Import "src/fl_gtk.cxx"
Import "src/screen_xywh.cxx"
Import "src/fl_dnd.cxx"
Import "src/fl_utf.c"
Import "src/fl_utf8.cxx"
Import "src/xutf8/case.c"
Import "src/xutf8/is_spacing.c"
Import "src/xutf8/is_right2left.c"

Import "src/numericsort.c"

Import "src/fl_read_image.cxx"
Import "src/Fl_get_key.cxx"
Import "src/fl_color.cxx"
Import "src/fl_set_fonts.cxx"
Import "src/fl_font.cxx"
Import "src/fl_draw_image.cxx"

Import "src/flstring.c"
Import "src/vsnprintf.c"
Import "src/cmap.cxx"
Import "src/filename_absolute.cxx"
Import "src/filename_expand.cxx"
Import "src/filename_ext.cxx"
Import "src/filename_isdir.cxx"
Import "src/filename_list.cxx"
Import "src/filename_match.cxx"
Import "src/filename_setext.cxx"

Import "src/Fl_abort.cxx"
Import "src/Fl_add_idle.cxx"
'Import "src/fl_open_uri.cxx"

'Import "src/Fl_Adjuster.cxx"
Import "src/fl_arc.cxx"
Import "src/fl_arci.cxx"
Import "src/Fl_arg.cxx"
Import "src/fl_ask.cxx"
Import "src/Fl_Bitmap.cxx"
Import "src/Fl_BMP_Image.cxx"
Import "src/Fl_Box.cxx"
Import "src/fl_boxtype.cxx"
Import "src/Fl_Browser_.cxx"
Import "src/Fl_Browser.cxx"
Import "src/Fl_Browser_load.cxx"
Import "src/Fl_Button.cxx"
Import "src/Fl_Chart.cxx"
Import "src/Fl_Check_Browser.cxx"
Import "src/Fl_Check_Button.cxx"
Import "src/Fl_Choice.cxx"
Import "src/Fl_Clock.cxx"
Import "src/Fl_Color_Chooser.cxx"
Import "src/Fl_compose.cxx"
Import "src/Fl_Counter.cxx"
Import "src/fl_cursor.cxx"
Import "src/fl_curve.cxx"
Import "src/Fl_Dial.cxx"
'Import "src/fl_diamond_box.cxx"
Import "src/Fl_display.cxx"
Import "src/Fl_Double_Window.cxx"
Import "src/fl_draw.cxx"
Import "src/fl_draw_pixmap.cxx"
Import "src/fl_engraved_label.cxx"
'Import "src/Fl_File_Browser.cxx"
'Import "src/Fl_File_Chooser2.cxx"
'Import "src/Fl_File_Chooser.cxx"
Import "src/fl_file_dir.cxx"
Import "src/Fl_File_Icon2.cxx"
Import "src/Fl_File_Icon.cxx"
Import "src/Fl_File_Input.cxx"
Import "src/Fl_get_system_colors.cxx"
Import "src/Fl_GIF_Image.cxx"
'Import "src/Fl_Gl_Choice.cxx"
Import "src/Fl_Gl_Window.cxx"
Import "src/gl_draw.cxx"
Import "src/Fl_grab.cxx"
Import "src/Fl_Group.cxx"
'Import "src/Fl_Help_Dialog.cxx"
Import "src/Fl_Help_View.cxx"
Import "src/Fl_Image.cxx"
Import "src/fl_images_core.cxx"
Import "src/Fl_Input_.cxx"
Import "src/Fl_Input.cxx"
Import "src/Fl_JPEG_Image.cxx"
Import "src/fl_labeltype.cxx"
Import "src/Fl_Light_Button.cxx"
Import "src/fl_line_style.cxx"
Import "src/Fl_lock.cxx"
Import "src/Fl_Menu_add.cxx"
Import "src/Fl_Menu_Bar.cxx"
Import "src/Fl_Menu_Button.cxx"
Import "src/Fl_Menu_.cxx"
Import "src/Fl_Menu.cxx"
Import "src/Fl_Menu_global.cxx"
Import "src/Fl_Menu_Window.cxx"
Import "src/Fl_Multi_Label.cxx"
'Import "src/fl_oval_box.cxx"
Import "src/fl_overlay.cxx"
Import "src/Fl_Overlay_Window.cxx"
Import "src/Fl_own_colormap.cxx"
Import "src/Fl_Pack.cxx"
Import "src/Fl_Pixmap.cxx"
Import "src/fl_plastic.cxx"
Import "src/Fl_PNG_Image.cxx"
Import "src/Fl_PNM_Image.cxx"
Import "src/Fl_Positioner.cxx"
'Import "src/Fl_Preferences.cxx"
Import "src/Fl_Progress.cxx"
Import "src/fl_rect.cxx"
Import "src/Fl_Repeat_Button.cxx"
Import "src/Fl_Return_Button.cxx"
Import "src/Fl_Roller.cxx"
Import "src/fl_round_box.cxx"
Import "src/Fl_Round_Button.cxx"
'Import "src/fl_rounded_box.cxx"
Import "src/fl_scroll_area.cxx"
Import "src/Fl_Scrollbar.cxx"
Import "src/Fl_Scroll.cxx"
Import "src/fl_set_font.cxx"

Import "src/fl_shadow_box.cxx"
Import "src/Fl_Shared_Image.cxx"
Import "src/fl_shortcut.cxx"
Import "src/fl_show_colormap.cxx"
Import "src/Fl_Single_Window.cxx"
Import "src/Fl_Slider.cxx"
Import "src/fl_symbols.cxx"
'Import "src/Fl_Sys_Menu_Bar.cxx"
Import "src/Fl_Tabs.cxx"
Import "src/Fl_Text_Buffer.cxx"
Import "src/Fl_Text_Display.cxx"
Import "src/Fl_Text_Editor.cxx"
Import "src/Fl_Tile.cxx"
Import "src/Fl_Tiled_Image.cxx"
Import "src/Fl_Tooltip.cxx"
Import "src/Fl_Valuator.cxx"
Import "src/Fl_Value_Input.cxx"
'Import "src/Fl_Value_Output.cxx"
Import "src/Fl_Value_Slider.cxx"
Import "src/fl_vertex.cxx"
Import "src/Fl_visual.cxx"
Import "src/Fl_Widget.cxx"

Import "src/Fl_Window.cxx"
Import "src/Fl_Window_fullscreen.cxx"
Import "src/Fl_Window_hotspot.cxx"
Import "src/Fl_Window_iconize.cxx"
'Import "src/Fl_Wizard.cxx"
Import "src/Fl_XBM_Image.cxx"
Import "src/Fl_XPM_Image.cxx"

'Import "src/forms_bitmap.cxx"
'Import "src/forms_compatability.cxx"
'Import "src/forms_free.cxx"
'Import "src/forms_fselect.cxx"
'Import "src/forms_pixmap.cxx"
Import "src/forms_timer.cxx"

Import "FLU_src/Flu_Button.cpp"
Import "FLU_src/Flu_Label.cpp"
'Import "FLU_src/Flu_Choice_Group.cpp"
'Import "FLU_src/Flu_Output.cpp"
'Import "FLU_src/Flu_Collapsable_Group.cpp"
Import "FLU_src/flu_pixmaps.cpp"
Import "FLU_src/Flu_Combo_Box.cpp"
'Import "FLU_src/Flu_Progress.cpp"
Import "FLU_src/Flu_Combo_List.cpp"
Import "FLU_src/Flu_Combo_Tree.cpp"
Import "FLU_src/Flu_Return_Button.cpp"
Import "FLU_src/Flu_Separator.cpp"
'Import "FLU_src/Flu_Simple_Group.cpp"
Import "FLU_src/FluSimpleString.cpp"
Import "FLU_src/Flu_File_Chooser.cpp"
Import "FLU_src/Flu_Spinner.cpp"
Import "FLU_src/flu_file_chooser_pixmaps.cpp"
'Import "FLU_src/Flu_Toggle_Group.cpp"
Import "FLU_src/Flu_Float_Input.cpp"
Import "FLU_src/Flu_Tree_Browser.cpp"
'Import "FLU_src/Flu_GL_Canvas.cpp"
Import "FLU_src/Flu_Wrap_Group.cpp"
Import "FLU_src/Flu_Helpers.cpp"

Import "src/Flmm_Tabs.cxx"
</textarea><br><br>Then rebuild all mods, and let me know if the warnings disappear.<br><br>Unfortunately, I don't have access to a Mac for a few months so I can't test this out myself. <br><br></td></tr></table><br>
<a name="1016106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#174">[#174]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark,<br><br>Just checked the FLTK newsgroups this morning and I noticed that they are proposing improving <b>Fl_Help_View</b> as a potential project for Google Summer of Code.  To save duplicating work, and potentially colliding with changes in the future, you might like to consider posting your pimp'ed Fl_Help_View to the newsgroup relatively soon, in its current state.  I know you wanted to wait until you've fixed a few more things, but what you've done already is AMAZING and I think they'd be blown away that you've added basic CSS support too.<br><br>Hope you are well! <br><br></td></tr></table><br>
<a name="1037121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#175">[#175]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well sorry Seb, but I just can't build Fltk 1.3 any more. :(<br><br>I have tried several times in the last few months to build the Fltk source and I just don't know what's wrong. I can't even download the latest tar... <br>What's going on there? [Edit: fixed, download host was down atop] <strike>I can get the latest svn but there's no configure file anymore so I had to install autoconf and generate the file myself...<br>it's only a matter of 'autoconf -o configure configure.in' but we shouldn't have to do that, should we?<br>So then after running './configure', 'make' and 'sudo make install' I get tons of compiler errors and finally after trying 'fltk-config --compile test/hello.cxx' I get this.</strike><br>[Edit: removed error messages]<br>I assumed it was a 64bit issue so recently I reverted back to ubuntu 32bit but that doesn't seem to work either. <br>I'm just going to give up now and go back to working from within Bmx... At least that works. <br><br></td></tr></table><br>
<a name="1043738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#176">[#176]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Seb, <br><br>well I'm sure you'll be pleased to know I went back to my older PC that I used to build fltk from and got it working again. :)<br><br>I'm pretty sure the problem is with the versions of gcc, my old PC has 4.3.2 and my laptop (which gets lots of error messages) has 4.3.3. The errors all seem to be rather pedantic and usually easily fixed. What I can't understand is if Bmx is using gcc 4.3.3 why doesn't it get these errors too? Is it on a special non-pedantic gcc setting?<br><br>Anyway, I just fixed a list of these errors with fl_help_view.cxx (maxgui v141) on my old PC which I think must be fltk-1.3.x-r6649 (but I don't really know as I renamed the folder ages ago). Then I ran test/help (which tests Fl_Help_Dialog) and it worked except there were a few problems. The font is not the same and there's no css showing up which I'll definitely have to fix before I release it to fltk. <br><br>The other issue is on Mac, the font finding code breaks and even worse there are no spaces between words, which I've so far narrowed down to somewhere in draw(). I think there are slight differences between intel and ppc macs which would explain why you get italics and I get bold helvetica condensed.<br><br>So here is the diff of fl_help_view.cxx. This isn't a revision yet, it's just to show that I am making some progress.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">--- Fl_Help_View141.cxx	2009-12-25 01:18:58.000000000 +0000
+++ Fl_Help_View.cxx	2010-08-28 07:41:32.000000000 +0100
@@ -133,13 +133,13 @@
 #include &lt;FL/Fl_Window.H&gt;
 #include &lt;FL/Fl_Pixmap.H&gt;
 #include &lt;FL/x.H&gt;
-#include &lt;FL/forms.H&gt; // forms.H for timer in resize()
 #include &lt;stdio.h&gt;
 #include &lt;stdlib.h&gt;
 #include "flstring.h"
 #include &lt;ctype.h&gt;
 #include &lt;errno.h&gt;
 #include &lt;math.h&gt;
+#include "forms_timer.cxx" // for fl_gettime in resize()
 
 #if defined(WIN32) &amp;&amp; ! defined(__CYGWIN__)
 #  include &lt;io.h&gt;
@@ -660,12 +660,12 @@
     for (tj = 0; namep[tj] != '\0'; tj ++)
       namebuf[tj] = tolower(namep[tj]); // copy to lowercase
     namebuf[tj] = '\0'; // nul-terminate
-    if (bufp = strstr(namebuf, " bold")) // remove bold
+    if ((bufp = strstr(namebuf, " bold"))) // remove bold
       *bufp = '\0';
-    else if (bufp = strstr(namebuf, " italic")) // remove italic
+    else if ((bufp = strstr(namebuf, " italic"))) // remove italic
       *bufp = '\0';
     temp = strlen(namebuf);
-    if (temp &lt; strlen(buf)) temp = strlen(buf); // use max length
+    if (temp &lt; (int)strlen(buf)) temp = strlen(buf); // use max length
     if (!strncmp(namebuf, buf, temp)) fnum ++; // same name as last
     else fnum = 0; // new name
     if (fnum == 0 &amp;&amp; nfaces &lt; 127) { // store next face
@@ -1830,7 +1830,7 @@
   // Range check input and value
   if (!sp || !value_) return -1;
 
-  if (pos &lt; 0 || pos &gt;= strlen(value_)) // rem'd (int)
+  if (pos &lt; 0 || pos &gt;= (int)strlen(value_)) // rem'd (int)
     pos = 0;
   else if (pos &gt; 0)
     pos ++;
@@ -1964,7 +1964,7 @@
           d-&gt;isnav = 1; // set is nav link
         }
       }
-      else if (tptr = strrchr(temp, '/')) // relative path, add filename
+      else if ((tptr = strrchr(temp, '/'))) // relative path, add filename
           strlcpy(tptr + 1, namep, sizeof(temp)-(tptr + 1 - temp));
     }
 
@@ -1973,14 +1973,14 @@
       strlcat(temp, target, sizeof(temp));
     }
 
-    while (tptr = strstr(temp, "/..")) { // remove ../ from path
+    while ((tptr = strstr(temp, "/.."))) { // remove ../ from path
       for (sptr = tptr - 1; sptr &gt; temp; sptr --)
         if (*sptr == '/') break; // seek back to last dir
       if (sptr == temp) break; // nothing to remove
       *sptr = '\0'; // nul-terminate
       strlcat(temp, tptr + 3, sizeof(temp)); // add rest of path
     }
-    while (tptr = strstr(temp, "/./")) { // remove ./ from path
+    while ((tptr = strstr(temp, "/./"))) { // remove ./ from path
       *tptr = '\0';
       strlcat(temp, tptr + 2, sizeof(temp));
     }
@@ -1990,7 +1990,7 @@
         strlcpy(d-&gt;lpath, d-&gt;path, sizeof(d-&gt;lpath)); // last path
         strlcpy(d-&gt;path, temp, sizeof(d-&gt;path)); // link for history
       }
-      else if (tptr = strrchr(temp, '/')) { // store valid ext
+      else if ((tptr = strrchr(temp, '/'))) { // store valid ext
         if (strstr(tptr, ".htm") || strstr(tptr, ".txt")) {
           strlcpy(d-&gt;lpath, d-&gt;path, sizeof(d-&gt;lpath)); // last path
           strlcpy(d-&gt;path, temp, sizeof(d-&gt;path)); // link for history
@@ -2006,7 +2006,7 @@
   else if (target[0]) // Target in link
   {
     if (d-&gt;ispath) { // path is used
-      if (tptr = strrchr(d-&gt;path, '#')) *tptr = '\0'; // remove target
+      if ((tptr = strrchr(d-&gt;path, '#'))) *tptr = '\0'; // remove target
       strlcat(d-&gt;path, "#", sizeof(d-&gt;path));
       strlcat(d-&gt;path, target, sizeof(d-&gt;path));
       load(d-&gt;path); // load target for history
@@ -2224,8 +2224,8 @@
   Fl_Help_Block *block, // Current block
     *cell, // Current table cell
     b, // current block object
-    *tempb = 0, // temp block
-    *cssb = 0; // current css block
+    *tempb = 0; // temp block
+    //*cssb = 0; // current css block
   Fl_Color tclr, rclr, // Table/row background color
     tbclr[2][HV_16]; // nested table/tr bgcolor
   Fl_Boxtype bt = (box()) ? box() : FL_DOWN_BOX; // Box to draw
@@ -2920,7 +2920,7 @@
           else { // relative
             if (d-&gt;ispath) { // path is used
               strlcpy(tchar, d-&gt;path, sizeof(tchar));
-              if (tp = strrchr(tchar, '/')) // replace filename
+              if ((tp = strrchr(tchar, '/'))) // replace filename
                 strlcpy(tp + 1, tcss, sizeof(tchar)-(tp + 1 - tchar));
             }
             else { // use directory
@@ -2929,19 +2929,19 @@
             }
           }
           
-          while (tp = strstr(tchar, "/..")) { // remove ../ from path
+          while ((tp = strstr(tchar, "/.."))) { // remove ../ from path
             for (ap = tp - 1; ap &gt; tchar; ap --)
               if (*ap == '/') break; // seek back to last dir
             if (ap == tchar) break; // nothing to remove
             *ap = '\0'; // nul-terminate
             strlcat(tchar, tp + 3, sizeof(tchar)); // add rest of path
           }
-          while (tp = strstr(tchar, "/./")) { // remove ./ from path
+          while ((tp = strstr(tchar, "/./"))) { // remove ./ from path
             *tp = '\0';
             strlcat(tchar, tp + 2, sizeof(tchar));
           }
                     
-          if (tp = strrchr(tcss, '.')) { // check valid ext
+          if ((tp = strrchr(tcss, '.'))) { // check valid ext
             if (strstr(tp, ".css")) load_css(tchar);
           }
           tcss[0] = '\0'; // reset
@@ -5112,7 +5112,7 @@
 
   if (d-&gt;ispath) { // path is used
     strlcpy(temp, d-&gt;path, sizeof(temp));
-    if (tptr = strrchr(temp, '/')) // tptr valid, add filename
+    if ((tptr = strrchr(temp, '/'))) // tptr valid, add filename
       strlcpy(tptr + 1, np, sizeof(temp)-(tptr + 1 - temp));
     namep = temp;
   }
@@ -5313,7 +5313,7 @@
     Fl_Color clr = fl_color();
     fl_color(hv_selection_color);
     width = (int)fl_width(tp);
-    if (current_pos + strlen(tp) &lt; selection_last) // rem'd (int)
+    if (current_pos + (int)strlen(tp) &lt; selection_last) // rem'd (int)
       width += (int)fl_width(' ');
     fl_rectf(xx, yy + fl_descent() - fl_height(), width, fl_height());
     fl_color(hv_selection_text_color);
</textarea> <br><br></td></tr></table><br>
<a name="1043742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#177">[#177]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome news!<br><br>Check out this link ( http://www.fltk.org/newsgroups.php?s7684+gfltk.bugs+v7690+T0 ) for my fix concerning <b>fl_set_fonts()</b> on Mac.  I posted this months ago but they still haven't acknowledged it.  *sigh*<br><br>Edit: Actually, they appear to have committed it in r7681 ( http://www.fltk.org/newsgroups.php?s4883+gfltk.commit+v4900+T0 ). <br><br></td></tr></table><br>
<a name="1043744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#178">[#178]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, they're a bit slow over there. I don't think they get paid enough.<br><br>Thought you might be interested in this. I just built maxide and createhtmlview with fltkmaxgui on my g3 pismo and got this error. The apps just lock up and need a force quit.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Building maxide
Compiling:maxide.bmx
Linking:maxide
Executing:maxide
2010-08-28 09:37:46.594 maxide[320] *** Assertion failure in -[NSEvent clickCount], AppKit.subproj/NSEvent.m:520
2010-08-28 09:37:46.594 maxide[320] Exception raised during posting of notification.  Ignored.  exception: Invalid message sent to event "NSEvent: type=MouseMoved loc=(263,409) time=1111.1 flags=0x100 win=0x670460 winNum=150 ctxt=0x9d23 evNum=205 click=1 buttonNumber=0 pressure=0 deltaX=1.000000 deltaY=0.000000"
2010-08-28 09:37:46.600 maxide[320] *** Assertion failure in -[NSEvent clickCount], AppKit.subproj/NSEvent.m:520
2010-08-28 09:37:46.626 maxide[320] Invalid message sent to event "NSEvent: type=MouseMoved loc=(292,414) time=1111.1 flags=0x100 win=0x670460 winNum=150 ctxt=0x9d23 evNum=205 click=1 buttonNumber=0 pressure=0 deltaX=29.000000 deltaY=-5.000000"
....
...
2010-08-28 09:39:50.197 maxide[320] *** Assertion failure in -[NSEvent clickCount], AppKit.subproj/NSEvent.m:520
2010-08-28 09:39:50.198 maxide[320] Invalid message sent to event "NSEvent: type=MouseMoved loc=(247,307) time=1235.2 flags=0 win=0x670460 winNum=150 ctxt=0x9d23 evNum=221 click=1 buttonNumber=0 pressure=0 deltaX=18.000000 deltaY=4.000000"
2010-08-28 09:39:50.226 maxide[320] *** Assertion failure in -[NSEvent clickCount], AppKit.subproj/NSEvent.m:520
2010-08-28 09:39:50.226 maxide[320] Invalid message sent to event "NSEvent: type=MouseMoved loc=(252,307) time=1235.2 flags=0 win=0x670460 winNum=150 ctxt=0x9d23 evNum=221 click=1 buttonNumber=0 pressure=0 deltaX=5.000000 deltaY=0.000000"

Process complete</textarea><br><br>Now I know I have pretty much the oldest possible mac you can run Bmx on, so I know I shouldn't be dev'ing on it but I was just wondering if you could make some sense of this error? <br><br>Doesn't matter if you can't, I can just use my g4 powerbook. <br><br></td></tr></table><br>
<a name="1043758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#179">[#179]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I managed to fix the no spaces bug on Mac. It was because fl_width() was returning 0 for single quotes but it works for double quotes ie. not chars but strings. <br><br>I don't have a macbook so I can't check, but I'm assuming you don't have this no spaces bug. <br>I also get no spaces between font names, for example: 212=TimesNewRomanPS-ItalicMT - I suspect it's a bug in my version of xcode (3.1.3).<br><br>I did a make of fltk-1.3.x-r7677 on my g4, there were a few error messages but it worked. Then I ran test/fonts and the font names there also have no spaces, so this isn't an fl_help_view bug. I've decided just to parse the font names and insert spaces back in if they're missing, as the problem is too low level for me. I will also post a bug report to fltk. <br><br></td></tr></table><br>
<a name="1043831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#180">[#180]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I've fixed the no spaces in font names bug by editing fl_set_fonts_mac.cxx and adding spaces to names in set_fonts(). Now I see my font finding code doesn't parse the Mac font list properly as its layout is a little different, which explains why you get an italic font. Will fix it and get a revision out soon.<br><br>Edit: I think the no spaces in font names is maybe not a bug but a feature. So I can't edit fl_set_fonts_mac.cxx, I've just to account for it in fl_help_view.cxx <br><br></td></tr></table><br>
<a name="1044589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#181">[#181]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, revision 27 at last! These are all bug fixes. Untested on intel Mac.<br><br>- fixed compiler errors to get it building with fltk-1.3.x make<br>- fixed seemingly random fonts appearing on Mac, required changes to header<br>- fixed font list not being read properly on PPC Mac<br>- fixed no spaces between words on PPC Mac <br><br></td></tr></table><br>
<a name="1058431"></a>

<a name="1058433"></a>

<a name="1058434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#182">[#182]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry about my chronically late reply.  Have taken a break from the Blitz scene recently.  Anyhoo, it seems to be running perfectly on Mac OS X Intel.  Nice work. :-)<br><br><img src="http://www.blitzbasic.com/seb/screenshots/fl_helpview_2.png"><br><br><img src="http://www.blitzbasic.com/seb/screenshots/fl_helpview.png"><br><br>There seems to be a lot of activity over at FLTK HQ (two of my fixes were committed) and they seemed to have fixed the infamous Caps Lock shortcut key bug.  I guess they may be readying for a 1.3.0 release soon.<br><br>Consider unleashing your pimped Fl_HelpView to them?  Would definitely boost the spirits over there. :-)<br><br><font class="tiny">Last edited 2010</font><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1059656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#183">[#183]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Seb, yeah I guessed you were taking a break from Maxgui. Glad the latest rev passed the 'Seb test'.<br><br>I saw they fixed those bugs which is great. <br><br>I do intend to release my flhelpview to the fltk team asap but CSS isn't working in flhelpdialog yet but I'll try to get it done by Christmas.<br><br>Cheers. <br><br></td></tr></table><br>
<a name="1060327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#184">[#184]</a></td></tr></table></td></tr><tr ><td class="posttext"> Committed at MaxGUI SourceForge repo.  Thanks. :-) <br><br></td></tr></table><br>
<a name="1088288"></a>

<a name="1088289"></a>

<a name="1088290"></a>

<a name="1088291"></a>

<a name="1088292"></a>

<a name="1088293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#185">[#185]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have finally released fl_help_view to the Fltk HQ.<br><a href="http://www.fltk.org/str.php?L2634" target="_blank">http://www.fltk.org/str.php?L2634</a><br><br>Note that there is only one change in this version and it's to fix a broken css url bug for the fltk library (no effect in BMax). I also did just a bit of tidying.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1088835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#186">[#186]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome! I've subscribed to the FLTK thread for notifications to see how it goes.<br><br>Thanks for letting me know. :-)  All the best! :-) <br><br></td></tr></table><br>
<a name="1089256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#187">[#187]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was terribly slow about it I know, sorry about that, but it was better late than never I suppose. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
