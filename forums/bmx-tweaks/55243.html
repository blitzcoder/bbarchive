<!DOCTYPE html><html lang="en" ><head ><title >MaxMod Music Module</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MaxMod Music Module</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=110" >BlitzMax Module Tweaks</a>/<a href="#bottom" >MaxMod Music Module</a><br><br>
<a name="615030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have just uploaded version 1 of MaxMod, a free mod music player for BlitzMax (PC only ATM)<br><br><a href="http://www.redi.me.uk/forum/index.php" target="_blank">http://www.redi.me.uk/forum/index.php</a> <br><br></td></tr></table><br>
<a name="615078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great!<br>Keep up the good work, and all that. :-)<br><br>Small bug in the tracker: If you are walking through the sample list with the cursor down key, the program will crash without error when you hit the first empty slot. <br><br></td></tr></table><br>
<a name="615396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks xlsior, bug noted :) <br><br></td></tr></table><br>
<a name="615765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Papa Lazarou!<br><br>I have some documentation on various other module formats if you want them, including a Pascal source for playing mod/s3m/xm mods. Just let me know.<br><br>Russell <br><br></td></tr></table><br>
<a name="615827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Russell, that Pascal source code might come in handy :) <br><br></td></tr></table><br>
<a name="616555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> [EDIT: I decided to put all of the zip files in this message plus the one in the following message PLUS some more excellent info on mod formats (such as madtracker, etc) all in one zip:<br><br><a href="http://www.geocities.com/amiga5k/MusicModInfo/mods.zip" target="_blank">http://www.geocities.com/amiga5k/MusicModInfo/mods.zip</a> (about 1MB)<br><br>But if you want to look individually, they're here:]<br><br><a href="http://www.geocities.com/amiga5k/MusicModInfo/modform.zip" target="_blank">http://www.geocities.com/amiga5k/MusicModInfo/modform.zip</a><br><a href="http://www.geocities.com/amiga5k/MusicModInfo/mpw100.zip" target="_blank">http://www.geocities.com/amiga5k/MusicModInfo/mpw100.zip</a><br><a href="http://www.geocities.com/amiga5k/MusicModInfo/otloader.zip" target="_blank">http://www.geocities.com/amiga5k/MusicModInfo/otloader.zip</a><br><a href="http://www.geocities.com/amiga5k/MusicModInfo/s3mform.zip" target="_blank">http://www.geocities.com/amiga5k/MusicModInfo/s3mform.zip</a><br><br>Ok, those are the ones I have. The one called 'otloader.zip' is the most informative, but only covers .mod format. The one called 'mpw100.zip' has the pascal source, but "requires" the Seal100 library, which is not free. However, I'm pretty sure the seal lib is only used to play the audio that is created, rather than have some other purpose related to mod-playing. In other words, it should be easily adaptable to not require the seal library (the source is included - not the seal source).<br><br>Hope this is helpful to you!<br><br>Russell<br><br>p.s. There's this website, too: <a href="http://www.wotsit.org" target="_blank">http://www.wotsit.org</a> which is LOADED with various formats. Very helpful if you're looking for some obscure format info. <br><br></td></tr></table><br>
<a name="616557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I added another one:<br><br>www.geocities.com/amiga5k/MusicModInfo/modfil11.zip<br><br>Supposedly, this is the "most comprehensive mod format description, covering 40 variations".<br><br>I haven't checked it out yet, but have a look!<br><br>Russell <br><br></td></tr></table><br>
<a name="616943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot Russell, I've made a few changes since reading modfil11, sounds quite good now on most songs :)<br><br>Problem... I'm not 100% sure what a sample number without a note is supposed to do, some docs say to just reset the volume to that of the sample, but I swear it does something else, anyone know? <br><br></td></tr></table><br>
<a name="617670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... I think a few of the docs in the zip have an e-mail address of the author(s). Maybe they could help?<br><br>Or, here's the e-mail of Jeff Limm, the author of Impulse Tracker: jeff@...<br><br>Hope this helps! Glad to know that modfil11 was helpful (I found it surprisingly interesting myself).<br><br>Russell<br><br>p.s. I was wondering if you would consider putting out a polled version of your mod player that gets called within the main loop every so often, perhaps when a timer event occurs, etc. Maybe that would be easier to adapt to other platforms since threading would not be required? <br><br></td></tr></table><br>
<a name="617677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> p.s. I was wondering if you would consider putting out a polled version of your mod player that gets called within the main loop every so often, perhaps when a timer event occurs, etc. Maybe that would be easier to adapt to other platforms since threading would not be required?  <br></div><br>I might have a go at this at some point, trouble is I'm not getting much spare time atm :(<br><br>version 1.2 now up, sounding much better :) <br><br></td></tr></table><br>
<a name="617697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> p.s. I was wondering if you would consider putting out a polled version of your mod player that gets called within the main loop every so often, perhaps when a timer event occurs, etc. Maybe that would be easier to adapt to other platforms since threading would not be required?  <br></div><br><br>It would probably be safer too, less chances of seperate threads going wrong.<br><br>Anyway, I threw some modules at it, and find that the 1.2 sounds significantly worse than the previous 1.1 release with some songs... It is especially noticable using the 'Cannon Fodder' tune -- there are <i>very</i> noticable delays and stuttering between some of the samples, making the tune sound very disjointed when played with 1.2. It sounded much better with 1.1<br><br>Yet other songs (e.g. the 'Chuck Rock' theme) appear to sound identical in 1.1 and 1.2.<br><br>You can download the module in question here, if you want to try it yourself:<br><a href="http://minus-9.com/stuff/CannonFodder.mod" target="_blank">http://minus-9.com/stuff/CannonFodder.mod</a> <br><br></td></tr></table><br>
<a name="617709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm, It does sound wrong, I'll 'av a go later, mind you I just played it in Madtracker and its a bit gappy with that as well.<br><br>Thanks xlsior <br><br></td></tr></table><br>
<a name="617748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont know if nullsoft have made the source to winamps mod plugin available but it plays okay in that...<br><br>sure brings back some memories does cannon fodder... <br><br></td></tr></table><br>
<a name="617854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds the same in version 1.1 of your module as it does in ModPlug -- but 1.2 gives very noticable delays between some of the samples. <br><br></td></tr></table><br>
<a name="618020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a version of mikmod that includes the source:<br><a href="http://mikmod.raphnet.net/" target="_blank">http://mikmod.raphnet.net/</a> (about halfway down the page). Maybe it could help?<br><br>It's too bad BMax doesn't have the Fmod built-in like BB, B3D and B+ (I think it was a re-licensing issue?).<br><br>miniFMod, available here: <a href="http://www.fmod.org/" target="_blank">http://www.fmod.org/</a> (download page, near the bottom) is TEANY TINY (about 5k when compiled according to the docs), and version 1.60 (also available) is for GCC/MinGW and compiles on Linux and Windows! Version 1.70 includes source code also.<br><br>Anyone had a look at it? Is it adaptable to BMax?<br><br>Russell <br><br></td></tr></table><br>
<a name="618493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the link Russell, I'll have a read (when I get some time, way to much work on atm)<br><br>xlsior, I think cannon fodder is okay now. <br><br></td></tr></table><br>
<a name="618535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good work, everyone!<br><br>One way or another we'll get real mod support built-in to Bmax! I wish I knew C/C++ so I could get miniFmod working with Bmax myself (the license seems to be 'public', although it "only" plays xm format &lt;not a bad deal actually&gt;)<br><br>The included "test.exe" that comes with the miniFMod installation is only 11k! (And seems to work fine)<br><br>Russell <br><br></td></tr></table><br>
<a name="618658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup, sounds much better again. Thanks for the quick response! <br><br></td></tr></table><br>
<a name="627773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;bump&gt;<br><br>So, Papa, any new developments?<br><br>Russell <br><br></td></tr></table><br>
<a name="627782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having a break from this for a bit, will come back to it one day (xm next!), or I might even wait for "built in" thread support for BM ( *NUDGE NUDGE* BRL, Purebasic has it ;-) ).<br><br>Anyway I'm working on a visual MaxGUI designer ATM. <br><br></td></tr></table><br>
<a name="627968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there a none thread version available?<br><br>Is there any source code so someone could contribute a non threaded version? <br><br></td></tr></table><br>
<a name="628211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> No none thread version ATM, but if you're offering your services Chris, I could send you a copy of the source. <br><br></td></tr></table><br>
<a name="628338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd love to help out, no problem at all<br>email in account details.... <br><br></td></tr></table><br>
<a name="628774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check your mail mate <br><br></td></tr></table><br>
<a name="628852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> ditto ;) still locking my machine tho, but its de-threaded and it works in debug mode now<br><br>I get about 4 seconds of play out of it before it locks my machine solid, could by dsound???<br><br>is it still running okay on your machine? <br><br></td></tr></table><br>
<a name="639267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> MaxMod 1.5 (portaudio version) is now up :D<br><a href="http://www.armbell.com/forum/index.php?mforum=papa" target="_blank">http://www.armbell.com/forum/index.php?mforum=papa</a> <br><br></td></tr></table><br>
<a name="639270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> MaxMod 1.5 (portaudio version) is now up :D <br></div><br><br>Does that mean it no longer requires DirectSound?<br><br>I noticed that the thread.mod module is no longer there either -- does that mean that you are no longer using the potentially unsafe threading?<br><br>Modules still sounds great with the latest version! <br><br></td></tr></table><br>
<a name="639272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, Thanks to Chris C and Skidracer, it uses portaudio now, no more threads and no more DirectSound! (it doesnt even use a timer :) ) <br><br></td></tr></table><br>
<a name="639312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the best thing was getting the threads out!<br><br>plus for some reason dsound hung on my craptastic onboard sound...<br><br>It was a lot of work, but worth it, internally its damn impressive (tho I say so myself)<br><br>Cliff put a lot of work into redoing how the sound was mixed, there are definate improvements on sound quality! <br><br></td></tr></table><br>
<a name="647682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to post the source code on my website so other people can contribute improvements and other loaders...<br><br>However Cliff (Papa Lazarou) has failed to reply to any of my emails.<br><br>I'm somewhat sure as to how to proceed?<br><br>anyone have any thoughts on this?<br><br>Cliff?? <br><br></td></tr></table><br>
<a name="647907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Had problems with my ISP, havnt been able to get online for the last couple of weeks :(( gave up hope with wanadoos customer support and switched to BT now, so I'm finaly back :D<br><br>I dont really want to release the source just yet Chris, I'm gonna add a proper instrument class first, also atm it can only handle mono samples, the mixer needs rewriting to handle stereo samples as well (and with pan), then we'll have a decent base to let people build on if they wanted (loaders/players).<br><br>When I get a bit more spare time I'll polish it off. <br><br></td></tr></table><br>
<a name="648033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> HE LIVES!!!!<br><br>(you were right theres no so much interest, we're better off keeping it closed source) <br><br></td></tr></table><br>
<a name="650173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Closed source is fine with me, and I would certainly understand. As long as you don't have plans to attach licensing issues, etc, we're all good :)<br><br>Good job, everyone! Who needs FMod, anyway? ;)<br><br>Russell <br><br></td></tr></table><br>
<a name="650618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >North</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tested this yesterday and found no flaws yet - great job guys! <br><br></td></tr></table><br>
<a name="661964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;Bump&gt;<br><br>Hey Papa! How is .xm support coming? :^D<br><br>I believe xm supports 16 bit samples, right? If so, that's all I'm waiting for!<br><br>Russell <br><br></td></tr></table><br>
<a name="661982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> cliffs real pushed for time at the moment, and you wouldnt believe how complex xm format is!<br><br>He's much better at sussing out file formats than I am!<br><br>I'm sure he'd apreciate any feed back you could send him tho... <br><br></td></tr></table><br>
<a name="662970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd love to see this working too.<br><br>/me piles on the pressure. <br><br></td></tr></table><br>
<a name="663009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> :)<br><br>I'm still working on it when i've got the time, it plays basic xm's okay, just need to work on the effects and instrument envelopes, other than that its going great! wish i had more time for it.<br><br>thanks for your support guys! <br><br></td></tr></table><br>
<a name="664640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Listen Papa, you're doing great. I/we greatly appreciate all of the work you've done so far (You too, Chris!). <br><br>I think you have the .xm format specs, so I can't help you any further there. And your programming abilities are about 3 miles above mine, so I can't help you there, either... :(<br><br>But! I can offer you some encouragement. And here it is: <br><br><b>If you finish this, it will be the greatest achievement in the history of mankind! Landing on the moon was nothing compared to the thrill MaxMod with XM support will offer us mortals.</b><br><br>Was that too over-the-top? ;)<br><br>Russell <br><br></td></tr></table><br>
<a name="665635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Was that too over-the-top? ;) <br></div><br>er yeah *HIDES FROM NUTTER* ;)<br><br>I'm lucky if i get a couple of hours free a week ATM, so progress is pretty slow, but it IS getting there :) <br><br></td></tr></table><br>
<a name="667148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Progress is progress! I'm really looking forward to .xm support, but even before then, there are many <b>thousands</b> of 4 channel mods out there to play (and some are absolutely incredible - they sound like 8 or more channels) :)<br><br>Good job all around!<br><br>Russell <br><br></td></tr></table><br>
<a name="667933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> In case you didn't see the other post in BM Programming:<br><br><a href="http://pipin.tmd.ns.ac.yu/extra/fileformat/modules/index.htm" target="_blank">http://pipin.tmd.ns.ac.yu/extra/fileformat/modules/index.htm</a><br><br>Looks like it contains a good bit of info on various formats.<br><br>Russell <br><br></td></tr></table><br>
<a name="668978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Russell, nice find <br><br></td></tr></table><br>
<a name="669020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> keep pluging away papa ;) <br><br></td></tr></table><br>
<a name="669465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> After we get this, Max3D and some more MaxGUI features, then all we need is a (major) doc-overhaul and we'll be sitting pretty, eh? :)<br><br>I suppose there are a few things we could all wish for on top of these, but for me, I'd be in pig heaven if this happens!<br><br>Thanks again,<br>Russell <br><br></td></tr></table><br>
<a name="672284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;bump&gt; <br><br></td></tr></table><br>
<a name="674950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry Russell, not been about much :(<br><br>Quick progress report to keep you happy...<br><br><b>ADDED:</b><br>* Multi sample instruments<br>* Proper panning<br>* Volume envelopes<br>* New Catmull-rom interpolation<br>* Faster linear interpolation<br>* Fadeout on KeyOff<br><br><b>REMOVED:</b><br>* Channel Scopes<br><br><b>TODO:</b><br>* Pan envelopes<br>* amiga periods<br>* some XM effects<br><br>I'll stick it up soon, when i get round to buying some webspace (as i cant use my old wanadoo account anymore) <br><br></td></tr></table><br>
<a name="674986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good news, Papa! Thanks!<br><br>What XM effects are left to do?<br><br>Was XM supported on Amiga? If not, are Amiga periods necessary to play XMs? (I assume Protracker capability already has this?)<br><br>Good work!<br><br>Thanks again,<br>Russell <br><br></td></tr></table><br>
<a name="677971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What XM effects are left to do? <br></div><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Select SEQFX
	Case $0 ; EFFECT_Arppegiation (MMChannel,SEQFXV,LFXV,RFXV)
	Case $1 ; EFFECT_PortamentoUp (MMChannel,SEQNOTE,SEQFXV)
	Case $2 ; EFFECT_PortamentoDown (MMChannel,SEQNOTE,SEQFXV)
	Case $3 ; EFFECT_PortamentoNote (MMChannel,SEQNOTE,SEQFXV)
	Case $4 ; EFFECT_Vibrato (MMChannel,LFXV,RFXV)
	Case $5 ; EFFECT_PortamentoNoteAndValumeSlide (MMChannel,SEQNOTE,LFXV,RFXV)
	Case $6 ; EFFECT_VibratoAndVolumeSlide (MMChannel,SEQNOTE,LFXV,RFXV)
	Case $7 ' Tremolo
	Case $8 ; EFFECT_SetPan (MMChannel,SEQFXV)
	Case $9 ; EFFECT_SetSampleOffset (MMChannel,SEQFXV)
	Case $A ; EFFECT_VolumeSlide (MMChannel,SEQNOTE,LFXV,RFXV)
	Case $B ; EFFECT_PositionJump (SEQFXV)
	Case $C ; EFFECT_SetVolume (MMChannel,SEQFXV)
	Case $D ; EFFECT_PatternBreak ()
	Case $E
		Select LFXV  
			Case $0 ' Set Filter
			Case $1 ; EFFECT_FinePortamentoUp (MMChannel,RFXV)
			Case $2 ; EFFECT_FinePortamentoDown (MMChannel,RFXV)
			Case $3 ' Glissando Control
			Case $4 ' Vibrato Waveform
			Case $5 ; EFFECT_SetFinetune (MMChannel,RFXV)
			Case $6 ; EFFECT_PatternLineRepeat (RFXV)
			Case $7 ' Tremolo WaveForm
			Case $8 ' 16 pos panning
			Case $9 ; EFFECT_RetrigNote (MMChannel,RFXV)
			Case $A ; EFFECT_FineVolumeUp (MMChannel,RFXV)
			Case $B ; EFFECT_FineVolumeDown (MMChannel,RFXV)
			Case $C ; EFFECT_CutNote (MMChannel,RFXV)
			Case $D ; EFFECT_DelayNote (MMChannel,RFXV)
			Case $E ; EFFECT_PatternDelay (RFXV)
		EndSelect
	Case $F ; EFFECT_SetTiming (SEQFXV)
	Case $10	' G - Set global volume
	Case $11	' H - *Global volume slide
	Case $15	' L - Set envelope position
	Case $19	' P - *Panning slide
	Case $1b	' R - *Multi retrig note
	Case $1d	' T - Tremor
	Case $21	' X1 - *Extra fine porta up    (same as FinePortamentoUp but speed is devided by four)
	Case $22	' X2 - *Extra fine porta down  (same as FinePortamentoDown but speed is devided by four)
EndSelect</textarea><br><br><div class="quote"> Was XM supported on Amiga? If not, are Amiga periods necessary to play XMs? <br></div>I think amiga periods were just added to fasttracker so it could support mod files, but quite a few xm files still used the amiga periods setting, so i need to support it. <br><br></td></tr></table><br>
<a name="679648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> finaly version 1.6 is here (including fasttracker routines)...<br><br><a href="http://redi.me.uk/forum/index.php" target="_blank">http://redi.me.uk/forum/index.php</a> <br><br></td></tr></table><br>
<a name="680564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> opinions please, I've just cobbled together a polled version (so you need to call song.update) using openal, would this be more desirable to you than the current method (portaudio callback)?<br><br>any thoughts? <br><br></td></tr></table><br>
<a name="680747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> portaudio does use a seperate thread, (which can be benificial on multi core machines), it can cause stability problems with the max debugger<br><br>If the openal (itself) has no need of any threads, then it could work better.<br><br>Give me a shout if you want me to have a crack at making a linux version of your openal version!<br><br>Best<br>Chris <br><br></td></tr></table><br>
<a name="680802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet work! Slightly off topic, I'm still trying to get code to read a Midi file properly and place the notes into data statements. No such luck.<br><br>I did get it to almost play SuperMario.mid though :)<br><br>I don't suppose you've managed anything with Midi have you? (I know it's not in the scope of a Mod player really :) ) <br><br></td></tr></table><br>
<a name="680968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Chris, I'll tidy it up a bit and send you a copy, or if you register on the forum I'll add you to the MaxMod Dev group, then you can download the code from there.<br><br>@Cygnus, as it goes I wrote a midi parser for Chris C a while ago if thats any help, I'll see if i can find it for ya (if chris has no objections). <br><br></td></tr></table><br>
<a name="681091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> go for your life!<br><br>if you hanage to work out midi file playback delays for speed do let us know! <br><br></td></tr></table><br>
<a name="681108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hope this helps Cygnus, I alterd it to just print out to the screen, so it should be pretty easy for you see whats going on.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">SuperStrict

Local f:TStream=ReadFile(RequestFile(""))

Local v:Long, b:Byte, l:Int, div:Int, ms:Int

Print
While Not Eof(f)
	v=get32(f)
	
	If v=$4D546864					' IS HEADER CHUNCK
		Print "midi chunk"
		l=get32(f)
		Print "chunk length "+l
		v=get16(f)
		Local txt$
		Select v
			Case 0 ; txt$="0 - single-track"
			Case 1 ; txt$="1 - multiple tracks, synchronous"
			Case 2 ; txt$="2 - multiple tracks, asynchronous"
			Default; txt$=v+" - ERROR"
		EndSelect
		Print "format = "+txt$'v
		v=get16(f)
		Print "Num Tracks "+v
		v=get16(f)
		Print "Division "+v+" pulses per quarter note"
		div=v
		l=l-6
		If l&lt;&gt;0 Then Print "more data in chunk than there should be!"
		f.seek(f.pos()+l)
			
	ElseIf v=$4D54726B				' IS TRACK CHUNCK
		Print "---------------------------------------------------"
		Print "track chunk"
		readtrackdata(f,l)
			
	Else							' IS UNKNOWN CHUCK
		Print "unknown chunk"+v
		l=get32(f)
		Print "chunk length "+l
		f.seek(f.pos()+l)
	EndIf	

Wend

' ----------------------------------------------------------------------------------------------------------------
' READ TRACK DATA FROM MIDI FILE
' ----------------------------------------------------------------------------------------------------------------
Global RunningStatusCommand :Int
Function readtrackdata(f:TStream Var,l:Int Var)

		Local lv:Int,cl:Int,size:Int,temp:String,n:Int,txt$,ms:Int
		
		l=get32(f)
		Local startpos:Int = StreamPos(f)
		Print "chunk length "+l
		
		Local length:Int
		Local channel:Int
		
		Repeat

			' timestamp
			cl=l
			lv=(ReadVarLen(f))
			cl:-l
			size:+cl
			Print "TimeStamp = $"+Hex(lv)
			ms:+(lv*3)
			txt$=""
			Local Event:Int = ReadByte(f)
			Local command:Int = Int("$"+Left(Right(Hex(event),2),1))
			
			If Command&lt;$8 
				Print "   Running Status Detected $"+Hex(command)
				Command = RunningStatusCommand
				SeekStream(f,StreamPos(f)-1)
			Else
				channel:Int = Int("$"+Right(Hex(event),1))
			EndIf
			Local a:Byte,b:Byte
			Select command
				' NOTE OFF
				Case $8
					a=ReadByte(f)
					b=ReadByte(f)
					Print "   Event Command $"+Right(Hex(Command),1)+" = Note off"
					Print "   Channel = "+channel
					Print "   note number = "+a
					Print "   note velocity = "+b
					RunningStatusCommand = Command
					
				' NOTE ON
				Case $9
					a=ReadByte(f)
					b=ReadByte(f)
					Print "   Event Command $"+Right(Hex(Command),1)+" = Note on"
					Print "   Channel = "+channel
					Print "   note number = "+a
					Print "   note velocity = "+b
					RunningStatusCommand = Command
					
				' KEY AFTER-TOUCH
				Case $A
					Print "   Event Command $"+Right(Hex(Command),1)+" = Key after-touch"
					Print "   Channel = "+channel
					Print "   note number = "+ReadByte(f)
					Print "   note velocity = "+ReadByte(f)
					RunningStatusCommand = Command
					
				' CONTROL CHANGE
				Case $B
					Print "   Event Command $"+Right(Hex(Command),1)+" = Control Change"
					Print "   Channel = "+channel
					Print "   controller number = "+ReadByte(f)
					Print "   new value = "+ReadByte(f)
					RunningStatusCommand = Command
					
				' PROGRAM CHANGE
				Case $C
					Print "   Event Command $"+Right(Hex(Command),1)+" = Program (patch) change"
					Print "   Channel = "+channel
					Print "   new program number = "+ReadByte(f)
					'RunningStatusCommand = Command
					
				' CHANNEL AFTER-TOUCH
				Case $D
					Print "   Event Command $"+Right(Hex(Command),1)+" = Channel after-touch"
					Print "   Channel = "+channel
					Print "   channel number = "+ReadByte(f)
					'Print "    = "
					RunningStatusCommand = Command
					
				' PITCH WHEEL CHANGE
				Case $E
					Print "   Event Command $"+Right(Hex(Command),1)+" = Pitch wheel change"
					Print "   Channel = "+channel
					Print "   bottom = "+ReadByte(f)
					Print "   top = "+ReadByte(f)
					RunningStatusCommand = Command
					
					
				Case $F	
					Select channel
						Case $8
							Print "   Event Command $F8 = Timing clock used when synchronization is required."
						Case $A
							Print "   Event Command $FA = Start current sequence."
						Case $B
							Print "   Event Command $FB = Continue a stopped sequence where left off."
						Case $C
							Print "   Event Command $FC = Stop a sequence."
						Case $F
							Print "   Event Command $FF = Non-MIDI MetaEvent"
							Local metatype:Int = ReadByte(f)
							Select MetaType
								Case $00
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Sets the track's sequence number."
									Print "   MetaEvent Data = "+ReadEventData(f)
									
								Case $01
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Text event- any text you want."
									Local length:Long = ReadVarLen(f)
									Print "   MetaEvent Data = "+ReadString(f,length)
									
								Case $02
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Same as text event, but used for copyright info."
									Local length:Long = ReadVarLen(f)
									Print "   MetaEvent Data = "+ReadString(f,length)
									
								Case $03
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Sequence or Track name."
									Local length:Long = ReadVarLen(f)
									Print "   MetaEvent Data = "+ReadString(f,length)
									
								Case $04
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Track instrument name."
									Local length:Long = ReadVarLen(f)
									Print "   MetaEvent Data = "+ReadString(f,length)
									
								Case $05
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Lyric."
									Print "   MetaEvent Data = "+ReadEventData(f)
									
								Case $06
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Marker."
									Print "   MetaEvent Data = "+ReadEventData(f)
									
								Case $07
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Cue point."
									Print "   MetaEvent Data = "+ReadEventData(f)
									
								Case $21
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = MIDI Port."
									Print "   MetaEvent Data = "+ReadEventData(f)
								
								Case $2F
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = This event must come at the end of each track."
									Local length:Long = ReadVarLen(f)  '&lt;WILL BE ZERO
									
								Case $51
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Set tempo."
									Print "   LENGTH = "+Hex(ReadByte(f))
									Local c:Int,Val$
									For c=0 To 2
										Val$:+Right(Hex(ReadByte(f)),2)
									Next
									Local Tempo:Int = Int("$"+Val)
									Print "   Tempo = $"+Hex(tempo)+" microseconds/quarter note"
																											
								Case $54
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Designates the SMPTE start time."
									Print "   MetaEvent Data = "+ReadEventData(f)

								Case $58
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Time Signature."
									'Print "   MetaEvent Data = "+ReadEventData(f)
									Local length:Int = ReadVarLen(f)
									Print "   Data Length = "+length
									Print "   numerator = $"+Hex(ReadByte(f))
									Print "   denominator = $"+Hex(ReadByte(f))
									Print "   MIDI clocks in a metronome click = "+ReadByte(f)
									Print "   number of notated 32nd notes in a MIDI quarter note (24 MIDI clocks) = "+ReadByte(f)
									
								Case $59
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Key signature."
									Print "   MetaEvent Data = "+ReadEventData(f)
									
								Case $7F
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = Sequencer specific information."
									Print "   MetaEvent Data = "+ReadEventData(f)
									
								Default
									Print "   MetaEvent Type $"+Right(Hex(metatype),2)+" = UNKNOWN META EVENT."
									Print "   MetaEvent Data = "+ReadEventData(f)
									
							EndSelect
							
						Default
							Print "UNKOWN F COMMAND $"+Hex(channel)
					EndSelect

			EndSelect
			
			Print
			
		Until StreamPos(f)=&gt;startpos+l

EndFunction





Function ReadEventData$(f:TStream)
	Local length:Int = ReadVarLen(f)
	Print "   Data Length = "+length
	Local n:Int, TXT$
	For n=1 To length
		Txt$:+"$"+Right(Hex(ReadByte(f)),2)+" "
	Next
	Return TXT$
EndFunction

' ----------------------------------------------------------------------------------------------------------------
' READ A VARIABLE LENGTH NUMBER FROM MIDI FILE
' ----------------------------------------------------------------------------------------------------------------
Function ReadVarLen:Long(f:TStream Var)
	Local value:Long = ReadByte(f)
    Local c:Byte
    If ( value &amp; $80 )&lt;&gt;0
    	value = value &amp; $7F
       	Repeat
			c = ReadByte(f)
           	value = (value Shl 7) + (c &amp; $7F)
       	Until (c &amp; $80)=0
    EndIf
    Return value
EndFunction

' ----------------------------------------------------------------------------------------------------------------
' READ A LONG FROM MIDI FILE
' ----------------------------------------------------------------------------------------------------------------
Function get32:Long(f:TStream)
	Local a:Byte,b:Byte,c:Byte,d:Byte
	a=ReadByte(f)
	b=ReadByte(f)
	c=ReadByte(f)
	d=ReadByte(f)
	Return d+(c Shl 8)+(b Shl 16)+(a Shl 24)
EndFunction

' ----------------------------------------------------------------------------------------------------------------
' READ A SHORT FROM MIDI FILE
' ----------------------------------------------------------------------------------------------------------------
Function get16:Short(f:TStream)
	Local a:Byte,b:Byte
	a=ReadByte(f)
	b=ReadByte(f)
	Return b+(a Shl 8)
EndFunction</textarea> <br><br></td></tr></table><br>
<a name="681139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh sweet! Thats a coinsidence since I'm working (and trying to help :P) Chris C with Sow at the mo :-)<br><br>I got Midi playback on a simple MIDI working, I had issues converting the notes accurately into data statements. it played the mario tune mostly before a huge gap appears, and I cant seem to see where the problem is.<br><br>This parser looks much cleaner than my own. It might help me do a better job!<br><br>I'll take a look at your code when I get a chance. Thanks for your help! <br><br></td></tr></table><br>
<a name="682506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> MaxMod 1.7 openal release with ogg streaming :D<br><br>Not sure if the mod player routines survived the swap from portaudio to openal, if you find a dodgy mod/xm please let me know. <br><br>\/ Click the forum link below <br><br></td></tr></table><br>
<a name="682519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DannyD</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed this appears to be PC only, is this still the case? Wondering if it is possible to work this mod on Mac Os ? If not how come? <br><br></td></tr></table><br>
<a name="682524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> PC only atm, Chris C will be taking a look at linux, but i dont have access to a mac yet... one day :D <br><br></td></tr></table><br>
<a name="682560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was it a complete swap from freeaudio to OpenAL or are you supporting both now?  What caused the swap exactly? <br><br></td></tr></table><br>
<a name="682726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> it was from portaudio<br><br>as I understand it the path went<br><br>directX 'cause max's audio cant do realtime mixing!<br><br>portaudio because directX choose to lock my machine solid<br><br>OpenAl because max debugger is flaky while dealing with threads!<br><br>(oh and theres a good chance that OpenAL will work better for MaxOS) <br><br></td></tr></table><br>
<a name="682809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> What Chris said :)<br><br>@BRL, lil request... would it be possible for "Document Modules" to add the docs for compiled modules? the docs are already there, they just need adding to the TreeView. <br><br></td></tr></table><br>
<a name="682829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since the latest version apparently needs some DLL's -- is there any way to embed/incbin a DLL into an executable and use them without needing to manually extract them again first? <br><br></td></tr></table><br>
<a name="682846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> nah, i dont think its possible xlsior, but i've just (next version) removed the need for "alut.dll", and the "openal32.dll" is not required if openal is already installed on the machine, so could check for it during installation and prompt accordingly. <br><br></td></tr></table><br>
<a name="683170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks good but the demo makes no sounds on my Audigy. <br>Position stays at 62500 of 28168308 (or xxxx depending on the ogg selected. <br><br></td></tr></table><br>
<a name="683180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh, does it print any error messages at all?<br><br>do you have openal installed? if not could you try it...<br><a href="http://developer.creative.com/articles/article.asp?cat=1&amp;sbcat=31&amp;top=38&amp;aid=46" target="_blank">http://developer.creative.com/articles/article.asp?cat=1&amp;sbcat=31&amp;top=38&amp;aid=46</a> (OpenALwEAX.exe at the bottom of the page)<br>just to see if that makes a difference. <br><br></td></tr></table><br>
<a name="683296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doesn't print any errors but I don't have OpenAl installed. Got the same problem with OpenAL installed but tried another .ogg and it all worked OK. Guess the OGG I used was naff.<br>Works very well.<br>Does this mean that anybody playing a game with music code provided by this mod will need OpenAL installed? <br><br></td></tr></table><br>
<a name="683617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> *EDIT* yes <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
