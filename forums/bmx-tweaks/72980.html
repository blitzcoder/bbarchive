<!DOCTYPE html><html lang="en" ><head ><title >Anyone want to work with me on chipmunk  physics?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Anyone want to work with me on chipmunk  physics?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=110" >BlitzMax Module Tweaks</a>/<a href="#bottom" >Anyone want to work with me on chipmunk  physics?</a><br><br>
<a name="815746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some of you may know that I have been working on 2d physics mods for a while now. I also had a go ad porting a few c++ libraries including Erin Catto's Box2d. It just isn't very easy for me to interpret c++ code and all the maths involved.<br><br>However, because I am unsatisfied with current available solutions and my own systems, I would like to try this again.<br><br>I propose a community project to port (or wrap) the Chipmunk physics library:<br><a href="http://wiki.slembcke.net/main/published/Chipmunk" target="_blank">http://wiki.slembcke.net/main/published/Chipmunk</a><br><br>Are there interested people here, who could give some time to this project? Should we try? Could this be a successful  community project?<br><br>Your thoughts please. :) <br><br></td></tr></table><br>
<a name="816142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why port it? It's got a pure C API, according to the docs, so you should have no trouble calling a compiled version from BlitzMax. You might have to wrap the C-structs as BlitzMax types, and you could perhaps write a nice BMax style OO interface to it for those of us prefer that, and that's about it. If you're familiar enough with C++ to even attempt porting them ( I couldn't! ) then you should be plenty capable of wrapping it up. <br><br></td></tr></table><br>
<a name="816161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I did consider just wraping it in a BMAX module, but I think we could end-up with more flexibility if we just ported it. Also its not straight C, its actualy C99, so I wonder if there would be any issues. Anyway it shouldn't be hard to port, there are really only ~9files if you merge the .h and .c files. I've actualy already started porting things, its pretty easy. My plan for now is to port everything verbadim, and then when that is working, make a nice OOP implimentation. <br><br></td></tr></table><br>
<a name="816361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I realize it's not pure C, but the API it exports is pure C, so you don't have any name-mangling issues and it wouldn't have to be recompiled in order for BlitzMax to be able to use it. But yeah, I'm sure you're right that it's more flexible if ported, but porting is probably beyond my rudimentary C++ skills ( I always forget that C trig functions use radians! ) so I'm afraid I won't be any help. <br><br></td></tr></table><br>
<a name="817021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also its not straight C, its actualy C99, so I wonder if there would be any issues. <br></div><br>Other than compiling it with the appropriate compiler flag set, it should just work.<br><br>It's probably better to wrap rather than port, imo. It should be faster that way - at least when it comes to the core engine - rather than having to deal with Max's GC. <br><br></td></tr></table><br>
<a name="817037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> hrmmm... ok I may look into just wrapping it then. Your advice is has a lot of experience behind it. Also there is supposed to be a 4th release soon so it would be easier to keep things updated with a simple wrapper. Thanks!<br><br>Ok so first step would be to compile it to a static library, and the next start externing functions in blitz right?<br><br>Can you tell I haven't tried this before?<br>I'll take a look at some code done by you and others. <br><br></td></tr></table><br>
<a name="817113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo again,<br><br>I've had a quick go at wrapping it, and so far I have demo1 running (a box falling down some stairs).<br>Compiling the source directly into the module - can't be doing with static libs really.<br><br>And it magically appears to work on all three platforms... <br><br></td></tr></table><br>
<a name="817197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brucey:<br><br>I have to say... either you neglect sleep, or you've found some way of getting more hours out of a day!! ;) <br><br></td></tr></table><br>
<a name="817218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nah.. what with Eskom's idea of power management (rolling power-cuts, or as they call it "load shedding"), I've had to resort to the Powerbook over the last few days, so I thought it would be fun to do some proper Mac development for a change... and with chipmunk beginning with "C" it means re-compiling the module is quicker than waiting for "W" (wxMax).<br><br>Demo2 is running also, now. A ball and some more boxes.<br><br>Rather than have Blitz draw the boxes/circles using DrawLine etc (which is slow), I decided to draw images instead for the demos... which is more likely the end-use for the module anyways.<br><br>Next stop, Demo 3... <br><br></td></tr></table><br>
<a name="817225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, I didn't expect that, wow thanks!<br><br>Can't wait to start using this. <br><br></td></tr></table><br>
<a name="817357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow this looks good. What's the license like for this? Can it be used commercially? Any chance you could zip it up and send me preview of what you've got so far Brucey? I'm always interested in seeing new physics code. <br><br></td></tr></table><br>
<a name="817377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it can be used commercially. And i think you could even add new features, change a few things and sell it under a new name if you wanted to. Its got a pretty liberal license.<br><br>The only gotcha right now is that, there is still no swept collision. So for fast moving objects you will need to use workarounds. <br><br></td></tr></table><br>
<a name="818453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steffenk</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any news on this subject would be appreciated. I hope Brucey releases something like a first preview soon. We should split up the work somewhat, maybe using some kind of repository (Sf.net/GoogleCode) or so. <br><br></td></tr></table><br>
<a name="818517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds good to me, I'm looking forward to working on this too. I was working on porting the code, but since the king of modules decided to help wrap the engine, I decided to wait.<br><br>Brucey, can you give us some code? I would like to help with documentation or whatever else. I would also like to work on some OOP implementation. <br><br></td></tr></table><br>
<a name="818524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for the 5 day delay... :-)<br><br>I've put the code up here : <a href="http://maxmods.googlecode.com/" target="_blank">http://maxmods.googlecode.com/</a><br>(available via svn for now, until we get to a point for release)<br><br>Demos 1-6 are working, and I'm currently implementing joints etc to get demo 7 up and running.<br><br>Notes:<br>Rather than compile up a separate static library, I'm compiling the source with the module directly.<br>This means that the module requires compiling with the gnu99 flag set, which in turn means that you'll need to compile it with my "tweaked" bmk. Details are on the site.<br><br>I've also hacked Chipmunk in places to tie BlitzMax objects and their Chipmunk counterparts paired. But that's just under-the-hood stuff that you don't need to know about to use it :-)<br><br>It has been tested on Linux, Mac and Windows. It appears to function the same on all three platforms.<br><br>Have a look and see what you think... <br><br></td></tr></table><br>
<a name="818539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Demos work like a charm! Another great wrap from Brucey :) <br><br></td></tr></table><br>
<a name="818566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks ;-)<br><br>Just committed joints support and a working Demo7.<br><br><br>The Chipmunk demos assume the origin is in the bottom-left corner, so I've had to (try my best) to invert y coords and reverse shape vert orders, to get it working with the origin at the top-left. <br><br></td></tr></table><br>
<a name="818790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems to work correctly as well. The joints are not drawn, but I guess they shouldn't be :)<br><br>Very well done. <br><br></td></tr></table><br>
<a name="818836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very good job Brucey, I didn't think it would take that much glue. There are a few missing commands still, but its getting really close. I might post some more examples soon.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="818840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep. It's just about there, me thinks.<br><br>Some docs still to fill in also, and I image, some more work once the next version comes out. <br><br></td></tr></table><br>
<a name="820054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated repository.<br><br>Implemented the paired collision functions, and amended Demo1 to show it in use.<br>Also filled in some of the other gaps and added more of the documentation.<br><br>:o) <br><br></td></tr></table><br>
<a name="820102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks interesting... <br><br></td></tr></table><br>
<a name="820200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Notes: Rather than compile up a separate static library, I'm compiling the source with the module directly.<br>This means that the module requires compiling with the gnu99 flag set, which in turn means that you'll need to compile it with my "tweaked" bmk. Details are on the site."<br><br>If a noob decided to have a look, is there detailed directions, procedures, for them? (me?) Thanks! <br><br></td></tr></table><br>
<a name="820203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> It may seem a large amount of effort to go through to get at the code for now, and if you don't really want to go to all that effort, you may prefer to wait a little longer...<br><br>However.. ;-)<br><br>To get the source (until it's feature-complete enough to earn a proper release), you'll need a subversion client.<br><br>This page : <a href="http://code.google.com/p/maxmods/source" target="_blank">http://code.google.com/p/maxmods/source</a><br>Has links regarding getting and using a subversion client, as well as the URL you would use to download the code.<br><br>This page : <a href="http://code.google.com/p/wxmax/wiki/WhatToDoWithBmk" target="_blank">http://code.google.com/p/wxmax/wiki/WhatToDoWithBmk</a><br>Is a short guide to downloading and building the custom BMK exe. Remember to backup your current one before you copy over it with the new one (just in case).<br><br>The module (chimpunk.mod) should be placed so that it fits into the following directory structure :<br><pre class=code>
  BlitzMax/mod/bah.mod/chipmunk.mod
</pre><br>Then you just need to build modules, and try running the provided demos. <br><br></td></tr></table><br>
<a name="820314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking good, thanks for your efforts. There are still a few missing commands though, I have them added here locally.<br><br>Most notably in the body class:<br>cpBodyApplyImpulse<br>cpBodySetTorque<br>cpBodySetMass<br>cpBodySetMoment<br>cpBodySlew<br><br>I'm having a go of porting the buggy demo, and some of these are necessary to do so.<br><br>I think I will also start working on making this easier to plug into existing blitz games. So possibly some conversion to the blitzmax coordinate system, more complete object drawing, and image drawing, shape creation etc.<br><br>I have several other unreleased mods that have been waiting for a better physics system, and this might be what they need. I would just need to integrate them. <br><br></td></tr></table><br>
<a name="820319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So possibly some conversion to the blitzmax coordinate system <br></div><br>The demos already use a top-left coordinate system, although origin is centered on the screen.<br>The original used a bottom-left origin, I just inverted Y on everything.<br><br>I'll try and sort out all the missing functions. <br><br></td></tr></table><br>
<a name="822864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just in case anyone missed it version 4.02 was released by the author of Chipmunk Physics. <br><br></td></tr></table><br>
<a name="822876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> we have bindings for version 3, with 4 coming soon. <br></div><br>Actually, I've been keeping the source reasonably in sync with the svn repository. Most of the recent changes have been to makefiles and whatnot... <br><br></td></tr></table><br>
<a name="822908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I guess your on top of it then :)<br><br>Why am I not surprised.<br><br>Awesome, thanks! <br><br></td></tr></table><br>
<a name="822918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok nm.  Chipmunk is the bomb.  Looked on your goodlecode thing Brucey but couldn't find any source etc. <br><br></td></tr></table><br>
<a name="845425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >verfum</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did the missing functions get added?  I'm trying to use body.applyImpulse and I'm getting no resluts? :(  Or is there a special way of doing this?  And examples perhaps. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
