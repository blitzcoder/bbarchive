<!DOCTYPE html><html lang="en" ><head ><title >DirectX?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DirectX?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=110" >BlitzMax Module Tweaks</a>/<a href="#bottom" >DirectX?</a><br><br>
<a name="475610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all, I've been playing around with the BlitzMax win32 beta, and overall I'm pretty happy with what it is capable of.<br><br>That said: While OpenGL was the obvious choice for a cross-platform compiler, I am finding that unfortunately support on windows systems somewhat... lacking.<br><br>While the OpenGL stuff is blazingly fast on my Athlon 2800+ / Radeon 9600Pro, it is excruciatingly slow on many of the older systems I have tried it on. And I'm not just talking 'a little sluggish' here.<br><br>Some very basic 2D stuff that ran -very- fast and smoothly in the original BlitzBasic on my old 600MHz laptop, runs several orders of magnitude slower when I do the same in BlitzMax. (Compaq Armada E500, ATI Rage Pro Mobility AGPx2) <br><br>All I'm talking about here is a gameloop during which a 640x480 pixel background image gets drawn, with a single 64x64 movable sprite on top. That's it.<br><br>With the original BlitzBasic, it would crank out several hundred frames a second, with a bunch of extra funtionality like a* pathfinder routines and such being used as well. <br>With blitzMax, just the one movable sprite (with no other features etc.) runs at a whopping 5 frames per second for me on the same laptop. I was using the standard driver that Windows 2000 provided on its own when detecting the video adapter upon installerion.<br>I tried downloading the 'latest and greatest' driver from Compaq's support website, but this made matters dramatically <b>worse</b>: the framerate decreased to may one frame per five seconds.<br><br>Yes. One frame per five seconds.<br><br>(More than likely, the updated compaq drivers did not use the hardware openGL functionality of the video adapter at all, even though the card is capable of it)<br><br>Note that I did not limit the framerate using the 'herz' parameter or something -- this is identical code, running very easily at the default 60fps on the Athlon, at a stand-still on the 600Mhz P3.<br><br>Making your programs portable to Mac &amp; Linux is great - but I have a feeling that I'll be losing a significantly larger section of the windows market than that I would gain in the Mac/Linux area...<br><br>There are many 'older' systems that can provide pretty decent speeds with directX that don't want anything to do with OpenGL. Like it or not, DirectX is the defacto video standard on Win32.<br><br>Now, I don't know much about what is involved at a compiler level, and what the actual modules are responsible for -- but...  <i><b>would it be conceivable that we'll see a DirectX module for BlitzMax at some point, to reclaim compatiblity with older/slower machines that are currently left behind?</b></i><br><br>Realistically, a large number of the people that make up the puzzle / shareware market aren't exactly on the cutting edge of technology, and are likely to have lower end machines (vs. the hardcode Doom3 / unreal overclocker crowd who's machines can handle anything openGL can throw at it)<br><br>If not by blitz research themselves, what is the likelyhood that someone else could/would make such a directX module?  (I'm not talking whiz-bang Direct3D functionality, but just plain vanilla DirectDraw 2D stuff.)<br><br>While openGL does give blitzmax some rather nice features, it could be -immensely- useful if you had the ability to compile both an OpenGL and DirectX version of 2D games, making minimal changes...<br><br>Anyway, with the current situation it looks like it either means losing a sizable chunk of the Win32 market, or a lot of extra work by back-porting anything you make to the old flavours of BB... Lots of work, considering the many very advanced features that BlitzMax offers, like the OOP support.<br><br>Of course, I realize that the current Win32 is still in Beta and all that, and anything is subject to change. But I don't think one could expect any graphical performance increases on the scale that would be required to make the programs usable on many mid-range systems...<br><br>Any thoughts? <br><br></td></tr></table><br>
<a name="475623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it is most likely that you are in fact running Micro5|-|17 software emulations of opengl, originally ptoduced to disclaim ogl as a competitor against dx.... &lt;insert ramblings on how ogl is better but through devious business moves DX came out on top&gt;<br><br>Anyway, true, ogl is slow on some computers but there are drivers for most cards that make ogl apps as fast if not faster than dx. <br><br></td></tr></table><br>
<a name="475629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's full access to the Win32 API so there's no reason that a DirectX Max2D driver couldn't be written (in fact, it looks as though Max2D was designed so that other APIs could be easily added while making it compatible)<br><br><div class="quote"> ATI Rage Pro Mobility <br></div><br>My old Rage Pro Turbo only had OpenGL comptibility under NT (or 2000, I guess) and even then the acceleration wasn't fully hardware-accelerated. My old G3 PowerBook has a Rage card and has to do OpenGL in software too. Some of the older, cheaper S3 cards don't have OpenGL support either. It's a small handful of cards.<br><br><div class="quote"> Making your programs portable to Mac &amp; Linux is great - but I have a feeling that I'll be losing a significantly larger section of the windows market than that I would gain in the Mac/Linux area...  <br></div><br>Indie publisher GarageGames.com won't publish games without a Mac port because the Mac market account for 65% of their sales (7% for Linux, leaving only 28% of sales for Windows). <a href="http://www.garagegames.com/index.php?sec=mg&amp;mod=resource&amp;page=category&amp;qid=124#5507" target="_blank">http://www.garagegames.com/index.php?sec=mg&amp;mod=resource&amp;page=category&amp;qid=124#5507</a> <br><br></td></tr></table><br>
<a name="475649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Anyway, true, ogl is slow on some computers but there are drivers for most cards that make ogl apps as fast if not faster than dx.  <br></div><br><br>Well, I didn't have much look hunting down any better drivers, and I dare say that I should have better luck in that area than the 'typical' windows user who doesn't even know what a driver *is*, let alone why he would need one and where to find one.<br><br>Face it, if you make a game that runs at absolute unplayable speeds on Joe User's PC, he won't spend a lot of time trying to 'fix' it. <br>It's not 'oh, I'm dropping a frame every once in a while', it's <i>I'm running a hundred times too slow</i>.<br><br>One of two things will happen:<br>1) He downloaded a freebie or demo of your game, and will likely delete is 10 seconds later, never to look back at it.<br>2) He actually paid money to order a game, finds it runs like crap, and either you end up spending a lot of time supporting a zillion different driver issues, he will demand a refund, or both.<br><br>The average person barely reads system requirements. All they know is that they have "one of those  big grey intel cases that makes the internet go faster"<br>OpenGL doesn't mean anything to them. No matter how big you state that you need to have a hardware OpenGL videocard with good drivers, that will just cause people's eyes to glaze over, and think "doom 2 runs just fine, how different could a simple puzzle game be?"<br><br>If nothing else, DirectX would allow you to work around a lot of problems simply because the vast majority of windows games us it, and videocard/PC makers can't really get away skimping on DirectX support like they do on OpenGL... DirectX <b>is</b> a big deal on Windows.<br><br>Time will tell -- But I do predict that this will become a big issue when people start releasing software to the public. <br><br></td></tr></table><br>
<a name="475654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> there's no reason that a DirectX Max2D driver couldn't be written (in fact, it looks as though Max2D was designed so that other APIs could be easily added while making it compatible) <br></div><br>I think that was exactly the theory behind how the Max2D module was written.  Max2D actually uses the glBlitz2d driver module, so there's no reason why a dx7Blitz2d driver module or softwareBlitz2D driver module couldn't be written, possibly from the BlitzPlus codebase, or even by a bright spark in the community. <br><br></td></tr></table><br>
<a name="475790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BeChris</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good morning everybody.<br>I had the same problem all of you describe in this topic : very poor performances when running a BlitzMax app with a crappy gfx card (Sis 305).<br>I found it very problematic if we must have the last 3D accelerated gfx card in order to run only a 2D game.<br><br>That's why I tried to write an alternative module to Blitz2D.<br>After having looking for several 2D libs (portable on Linux, Win and Mac) I found both SDL and Allegro.<br><br>I was surprised how Allegro *seems* to perform better than SDL (maybe because its older).<br><br>So, I wrote a simple modules which provide a few graphics commands : Graphics, Plot, Line, DrawText, Flip ...<br><br>You can contact me if you want the source (until I find how to include link in a post) at cgouiran@...<br><br>For the moment, I only tried it under windows.<br><br>You'll need to have a working mingw/msys system (as for compiling any modules) and you'll need to install allegro before using my module.<br><br>I'm using allegro 4.1.17 (WIP).<br><br>But be warned : I was disappointed how my module didn't beform better than Max2D as I expected (even with a non accelerated 3D gfx card).<br><br>I made some very simple benchmark (drawing a spinning line on the screen) and I got the same FPS.<br><br>I must admit I have not a good skill at using Allegro but maybe someone else ...<br><br>Let me know if you're interrested in upgrading/improvind/trying this module. <br><br></td></tr></table><br>
<a name="475826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> On a G3 300Mhz ibook here, the OpenGL is fairly slow and is all in software. Just doing a screen flip by itself with no rendering or even a clearscreen doesn't run any faster than 30fps, and barely that. That's before doing any rendering or any other processing of any kind. I can add maybe a few 128x128 objects and have them move around at maybe between 16 and 25fps but that's all. That's in 32-bit color. It's not really much different in 16-bit.<br><br>We also have a 1GHz G4 iMac which has hardware accelerated OpenGL. Now, on the ibook, since it's all in software, pixmaps are the same speed (or even slightly faster) than Images. On the iMac, it can render about 10 times as many pixmaps (like 100). But using images, it can render like 100 times as much - well over 1000 images at 25fps. So the iMac is about 100 times faster. The likelihood is that the graphics card has a great deal to do with it. I don't exactly know my graphics cards but I don't think the Radeon 4MX is top of the line, probably mid-of-the-line or something.<br><br>So basically yes, if I wanted to create a game on the ibook with software OpenGL, I'm not going to get it to render very much in any quick time. It's probably sufficient for some kind of puzzle game or not-much-graphics-moving game.<br><br>In comparison, on the same ibook, there is a game called Magellan which has three full-screen layers of parallax scrolling and lots of objects flying around all over the place at 25fps. A 300Mhz G3 isn't top of the line but it's got enough juice to do quite a lot of rendering, compared to say my old Amiga. So it's not that the computer doesn't have the throughput, it's more that OpenGL is a sophisticated library that provides so much flexibility that it tends to work a lot more slowly, in software, than some customized blitting routine that knows what screenmode to expect and just wants to do simple image copies. Also everything in openGl is pretty much floating point, which must surely add greatly to the speed decrease. Drawing a pixel isn't just a matter of copying a byte, it's a matter of converting 32-bit color information into floating point values and storing it, per pixel.<br><br>So yes, on an unaccelerated system, OpenGL is going to be slower than an old-school graphics routine, but if you have a decentish graphics card it is more than capable of producing astounding amounts of output.<br><br>I like the idea that BlitzMax might have more than one graphics driver at some point. If it could allow you to use an oldschool 2D driver, as an option, for slower systems, bypassing OpenGL altogether, that would be useful. Then again, you have to think to the future. Games consoles have powerful graphics chips, lots of computers have them now too, it's going to only become much more commonplace to have a reasonably quick graphics card in your system. What used to be a luxury is fast becoming mainstream. So look to the future. <br><br></td></tr></table><br>
<a name="475842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Allegro <br></div>I thought Allegro was a software based 2d lib (and also .sdl)<br><div class="quote"> (until I find how to include link in a post <br></div>You can just copy the url to the post, like <a href="http://www.google.com" target="_blank">http://www.google.com</a> <br><br></td></tr></table><br>
<a name="475849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BeChris</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Allegro is a 2D lib but with some parts (blitting among others) that use gfx card capabilities to be hardware accelerated. <br><br></td></tr></table><br>
<a name="476016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but... would it be conceivable that we'll see a DirectX module for BlitzMax at some point, to reclaim compatiblity with older/slower machines that are currently left behind? <br></div><br>Absolutely.  Probably not as an official BRL module, but somebody round here is bound to work on something.  2D support is a good question, though.  If anybody starts work on a DX8 or 9 module then you're likely to suffer similar problems on that anyway. <br><br></td></tr></table><br>
<a name="476047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flying willy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wonder why the existing blitz3d dll isn't ported and sold by BR? <br><br></td></tr></table><br>
<a name="476673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BeChris</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> The question I'm wondering now : are people from BRL interrested to see someone providing a true 2D module (based on DirectX for Windows, for Max and Linux we will see later) ?<br><br>I'd like to have Mark and Simon point of view on this topic.<br><br>To know if it's worth the effort to do it : will they support anyone which may begin a 2D DirectX backend (maybe they could provide B+ existing backend to avoid reinventing the wheel) ?<br><br>Is it foreseen, at BRL, to write in a near future such a module ? <br><br></td></tr></table><br>
<a name="476816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Obviously I'm not BRL, but I highly doubt you'll be seeing a real 2D module from BRL anytime soon (or anytime late)...  They've done their 2d module, the 3d module will require a -lot- of work (and if it's to be kept as a next gen engine, it will have to be at least semi-constantly updated) and DX obviously isn't portable.  I highly doubt you'll ever see a module from BRL that isn't cross platform.  They can't be seen as favouring one platform over the other, really, when they're trying to sell 3 identical products.<br><br>If someone were to announce (and actually intend to finish) a real 2D module written using DirectX, I would really hope BRL takes your suggestion on board, I would love to see a BlitzPlus 2D module for BlitzMax. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
