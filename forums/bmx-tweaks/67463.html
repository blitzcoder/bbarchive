<!DOCTYPE html><html lang="en" ><head ><title >New audio stuff</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >New audio stuff</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=110" >BlitzMax Module Tweaks</a>/<a href="#bottom" >New audio stuff</a><br><br>
<a name="753481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Ok, there's some new audio stuff available via syncmods (Windows only for now).<br><br>There's a new OpenAL driver, and FreeSound now optionally uses DirectSound.<br><br>You need to install the OpenAL runtime separately - it's not included in the module. However, if it's not installed your app wont crap out - the driver just wont be available.<br><br>New commands in BRL.Audio:<br><br>Function AudioDrivers$[]() - returns an array of audio drivers. This will typically include:<br><br>FreeAudio Default<br>FreeAudio DirectSound<br>OpenAL Default<br>OpenAL Generic Hardware<br>OpenAL Generic Software<br>Null<br><br>I'd be interested to see what other people get too...<br><pre class=code>
For Local t$=EachIn AudioDrivers()
   Print t
Next
</pre><br><br>Function SetAudioDriver( name$ ) - set current audio driver. Returns 1 if successful, else 0.<br><br>If you don't set an audio driver, then the system will try and  pick one for you - see: Function Driver() in audio.mod/audio.bmx.<br><br>Post results/impressions here! <br><br></td></tr></table><br>
<a name="753483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>FreeAudio DirectSound
FreeAudio Default
Null</pre> <br><br></td></tr></table><br>
<a name="753485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work Mr Sibly!<br><br>H&amp;K, you can get OpenAL here... <a href="http://developer.creative.com/landing.asp?cat=1&amp;sbcat=31&amp;top=38" target="_blank">http://developer.creative.com/landing.asp?cat=1&amp;sbcat=31&amp;top=38</a> <br><br></td></tr></table><br>
<a name="753488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark. <br><br>* OpenAL Default<br>* OpenAL SB Audigy Audio [A000]<br>* FreeAudio DirectSound<br>* FreeAudio Default<br>* Null<br><br>OS: Windows XP Pro fully patched.<br>Soundcard: Audigy 1 (driver 5.12.1.443 (23/02/2004))<br><br>I'm experiencing variable results. <br><br>When using the FreeAudio DirectSound driver there's a noticeable delay every so often and I suspect there's also a delay with FreeAudio Default driver, though barely noticeable.<br><br>When using the OpenAL drivers there doesn’t seem to be any delays, though the sound quality is different (worse?).<br><br>Test code:<br><br><pre class=code>
SuperStrict

Graphics 800, 600

Local drivers:String[] = AudioDrivers()
Local current_driver:Int = 0
SetAudioDriver(drivers[current_driver])

Local sound_url:String = "\Program Files\BlitzMax\Samples\hitoro\sounds\shot.ogg"

Local sound:TSound = LoadSound(sound_url)

Local timer:TTimer = CreateTimer(10)

While Not KeyHit(KEY_ESCAPE)

	If KeyHit(KEY_TAB)
		current_driver :+ 1
		If current_driver &gt;= drivers.length Then current_driver = 0
		SetAudioDriver(drivers[current_driver])
		sound = LoadSound(sound_url)
	EndIf		

	Cls
	DrawText "Press [TAB] to use next driver.", 5, 5
	DrawText "Current driver: " + current_driver + " - " + drivers[current_driver], 5, 25
	Flip
		
	WaitTimer timer
	PlaySound sound

Wend

End
</pre><br><br><b>EDIT:</b> <br><br>Results from my Acer Aspire 1601 notebook:<br><br>* OpenAL Default<br>* OpenAL Generic Software<br>* OpenAL Generic Hardware<br>* FreeAudio DirectSound<br>* FreeAudio Default<br>* Null<br><br>Same issues as mentioned above. Probably the sound quality issue is best described as "stronger, more vibrant" sound from the FreeAudio driver. That or my ears are playing tricks on me... <br><br></td></tr></table><br>
<a name="753489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OpenAL Default<br>OpenAL Generic Software<br>OpenAL Generic Hardware<br>FreeAudio DirectSound<br>FreeAudio Default<br>Null <br><br></td></tr></table><br>
<a name="753490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Redi<br>MaxMod not work since my last syncmod to test the new audio test.<br><br>C:/Program Files/BlitzMax/mod/redi.mod/maxmod.mod/maxmod.debug.win32.x86.a(maxmod.bmx.debug.win32.x86.o.b)(code+0x16755): undefined reference to `brl_audio_audio_driver'<br>C:/Program Files/BlitzMax/mod/redi.mod/maxmod.mod/maxmod.debug.win32.x86.a(maxmod.bmx.debug.win32.x86.o.b)(code+0x16769): undefined reference to `brl_audio_audio_driver' <br><br></td></tr></table><br>
<a name="753492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok thanks hub, fix is coming mate. <br><br></td></tr></table><br>
<a name="753494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Streaming or Mod support will be nice, hope maxmod can be corss-platform too (via these new additions). <br><br></td></tr></table><br>
<a name="753495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> the new version of maxmod is up now. rush it a bit, and sidplay will need updating, but it works. (and includes some new additions/bug fixes ect)<br><br><b>BUG REPORT: </b>I'm getting some cracking with the dsound driver, when the cpu usage is quite high, might need to make that buffer a little bigger? <br><br></td></tr></table><br>
<a name="753497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
OpenAL Default
OpenAL NVIDIA(R) nForce(TM) Audio
FreeAudio DirectSound
FreeAudio Default
Null
</pre><br><br>Edit:<br><br>after playing with some code...<br>Sometimes BlitzMax popups and Unhandled Memory Exception BUT the the sound plays in background; sometimes I have only the error, and sometimes I have no sound.<br>This happens only when I try to use SetAudioDriver("") with ones reported by AudioDrivers().<br>If I don't use SetAudioDriver() the program works perfectly...<br><pre class=code>
'test sound
Include "lib_sound.bmx"
Graphics 640,480
tsnd.InitSound(10)
Print "Audio driver:"
For Local t$=EachIn AudioDrivers()
   Print t
Next
SetAudioDriver("FreeAudio DirectSound")

Global suono1:TSound = LoadSound("music/o_t1.ogg")
Global suono2:TSound = LoadSound("music/o_applause.ogg")

tsnd.SetVolume(1)
Print tsnd.EmittSound(suono1,0)
tsnd.EmittSound(suono2)
'tsnd.FadeIn(1 , 400)',0)

While Not AppTerminate() 
	tSnd.UpdateSound()
	If MouseDown(1)
		tsnd.PauseSound()
	End If
	If MouseDown(2)
		tsnd.ResumeSound()
	End If
	Delay 1
Wend
tsnd.FreeSound()
End
</pre><br>And this is my lib for handling music channels<br><pre class=code>
Global channel:tsnd[10]


Type tsnd
	Field channel:TChannel
	Field volume:Float
	Field delta:Float
	Field status:Int
	Field depth:Float
	Field pan:Float
	Field rate:Float	


Function InitSound(numchan:Int=10)
		Print "Init sound channel - start"
		channel=Null
		channel=New tsnd[numchan]
		
		For Local i:Int=0 To channel.length-1
			channel[i]=New tsnd
			channel[i].channel=AllocChannel()
			channel[i].volume=1
			channel[i].delta=0
		Next
		Print "Init sound channel - finish - "+channel.length
End Function

Function StopSound(chan:Int=-1)
		If chan=-1
			For Local i:Int=0 To channel.length-1
				StopChannel channel[i].channel
		
			Next
		Else
				StopChannel channel[chan].channel
		End If

End Function 

Function PauseSound(chan:Int = - 1)
	If chan = - 1
		For Local i:Int=0 To channel.length-1
			PauseChannel channel[i].channel
		Next
	Else
		PauseChannel channel[chan].channel
	End If
End Function 

Function ResumeSound(chan:Int = - 1)
	If chan = - 1
		For Local i:Int=0 To channel.length-1
			ResumeChannel channel[i].channel
		Next
	Else
		ResumeChannel channel[chan].channel
	End If
End Function 

Function DepthSound(chan:Int = - 1,dep:Float=0)
	If chan = - 1
		For Local i:Int=0 To channel.length-1
			SetChannelDepth channel[i].channel , dep
			channel[i].depth=depth
		Next
	Else
		SetChannelDepth channel[chan].channel , dep
		channel[chan].depth=depth

	End If

End Function 

Function PanSound(chan:Int = - 1,pan:Float=0)
	If chan = - 1
		For Local i:Int=0 To channel.length-1
			SetChannelPan channel[i].channel , pan
			channel[i].pan=pan
		Next
	Else
		SetChannelPan channel[chan].channel , pan
		channel[chan].pan=pan

	End If

End Function 

Function RateSound(chan:Int = - 1,rate:Float=0)
	If chan = - 1
		For Local i:Int=0 To channel.length-1
			SetChannelRate channel[i].channel , rate
			channel[i].rate=rate
		Next
	Else
		SetChannelRate channel[chan].channel , rata
		channel[chan].rate=rate

	End If

End Function 
	
	
	

Function FreeSound()
		Print "Free sound channel"
		For Local i:Int=0 To channel.length-1
			channel[i].channel=Null
		Next
		channel=Null
End Function

Function EmittSound:Int(sound:TSound,chan:Int=-1)
'possibilità: chan=-1 trova il primo canale libero


If chan=-1
		For Local i:Int=0 To channel.length-1
		
			If channel[i].channel.playing()=False
			PlaySound sound,channel[i].channel
			Return i
			End If
		Next
Else
If chan &lt; channel.length
			If channel[chan].channel.playing()=False
				PlaySound sound,channel[chan].channel
				Return chan
			End If
			Else
				Return -1
			End If

End If
End Function

Function SetVolume(vol:Float,chan:Int=-1)
		'''print "Set Vol "+vol
		If chan=-1
			For Local i:Int=0 To channel.length-1
				SetChannelVolume channel[i].channel,vol
				channel[i].volume = vol
			Next
		Else
			SetChannelVolume channel[chan].channel,vol
			channel[chan].volume=vol
		
		End If
End Function

Function FadeOut(vol:Float , time:Int = 1000 , chan:Int = - 1)

	If chan=-1
		For Local i:Int = 0 To channel.length - 1
			channel[i].volume=vol
			channel[i].delta =- Float((channel[i].volume-0.05) / Time)
		
		Next
	Else
			channel[chan].volume=vol
			channel[chan].delta=-Float((channel[chan].volume-0.05)/Time)

	End If

End Function

Function FadeIn(vol:Float,time:Int=1000,chan:Int=-1)
	If chan=-1
		For Local i:Int=0 To channel.length-1
			channel[i].delta=Float(1.05-channel[i].volume)/Time
		Next
	Else
			channel[chan].delta=(1.05-channel[chan].volume)/Time

	End If
End Function

Function UpdateSound(chan:Int=-1)
	If chan=-1
		For Local i:Int=0 To channel.length-1
			channel[i].volume:+ channel[i].delta
			If channel[i].volume &lt; 0 channel[i].volume = 0
			If channel[i].volume &gt; 1 channel[i].volume = 1
			SetChannelVolume channel[i].channel , channel[i].volume
		Next
	Else
			channel[chan].volume:+channel[chan].delta
			SetChannelVolume channel[chan].channel,channel[chan].volume
	End If
End Function 
End Type
</pre><br><br>*** Maybe it is only due to my bad programming!!! <br><br></td></tr></table><br>
<a name="753500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have installed the windows oa runtime, but the app still crashes. <br><br>Picture:<br><img src="http://img63.imageshack.us/img63/9021/bild2ob1.jpg"><br><br>Btw: Does oa support streaming as well? <br><br></td></tr></table><br>
<a name="753501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> REDi - where's the new version of MaxMod?  I daren't syncmods yet as I'm using MaxMod and my game is hours away from finished.  I don't want it to break! ;) <br><br></td></tr></table><br>
<a name="753502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> on the website mate, just click the link in my sig ;) <br><br></td></tr></table><br>
<a name="753508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I went there but it said the last post was October 2006!<br><br>Anyhoo, I've just installed 1.16 and now I've got a problem.<br><br>My game won't run.  Its telling me that it doesn't know what 'music.stop' is (music being a tMusic object).<br><br>I've synced modules, rebuilt modules, documented modules, turned quickbuild off.<br><br>Ideas? :/ <br><br></td></tr></table><br>
<a name="753516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> So we dont hijack Marks thread any more, check here... <a href="http://www.blitzmax.com/Community/posts.php?topic=67464" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=67464</a> <br><br></td></tr></table><br>
<a name="753527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just got my program running again.  All my sound is now crackling like merry hell. :(<br><br>[edit] SetAudioDriver("FreeAudio Default") sorted it.  My only other option is "FreeAudio DirectSound" - I guess its choosing this if I don't specify a driver myself.<br><br>In summary, looks like DirectSound might be a bit broken. <br><br></td></tr></table><br>
<a name="753547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get these on my Windows PC:<br><br>OpenAL Default<br>OpenAL NVIDIA(R) nForce(TM) Audio<br>FreeAudio DirectSound<br>FreeAudio Default<br>Null <br><br></td></tr></table><br>
<a name="753561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is what I get on my setup.<br><br>OpenAL Default<br>OpenAL Generic Software<br>OpenAL Generic Hardware<br>OpenAL SB X-Fi Audio [A000]<br>FreeAudio DirectSound<br>FreeAudio Default<br>Null<br><br>Just tried it with my game and I still get a bit of crackle with whichever it picks by default. although I don't know which one this is.  Is there any way of returning which driver is currently in use?<br><br>I'll go through them all one by one later today and report back my findings. <br><br></td></tr></table><br>
<a name="753563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Just tried it with my game and I still get a bit of crackle with whichever it picks by default. although I don't know which one this is. Is there any way of returning which driver is currently in use? <br></div>Same problem here - I'm sure (see post above for explanation) its 'FreeAudio DirectSound' thats... whats the word.... 'munted'? ;) <br><br></td></tr></table><br>
<a name="753588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> About 50% of the time I get an unhandled memory exception error.  I get this with both just the FreeAudio mod and with the OpenAL mod as well.  The IDE highlights the following line in freeaudio.bmx<br><br><pre class=code>
Function fa_Init( deviceid )
	Local device
?Win32
	If deviceid
		device=OpenDirectSoundDevice()
	Else
		device=OpenMultiMediaDevice()
	EndIf
?Linux
	device=OpenSystemAudio()
?MacOS
	device=OpenSystemAudio()
?
	Local res=-1
	If device res=fa_Reset(device)  ' &lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;&lt;
	Return res
End Function</pre><br><br>I am using the following code to compile a list of working drivers in preparation of a user selectable option later in the program.<br><pre class=code>
Local drivers:String[]=AudioDrivers()
Global soundDrivers:String[drivers.Length]
Global currentAudioDriver:String="FreeAudio DirectSound",currentAudioIndex:Int
Global maxAudioDriver:Int=-1

For Local i:Int=0 Until drivers.Length
	If SetAudioDriver(drivers[i]) Then
		maxAudioDriver:+1
		soundDrivers[maxAudioDriver]=drivers[i]
		If drivers[i]=currentAudioDriver Then
			currentAudioIndex=maxAudioDriver
		ElseIf drivers[i]="Null" Then
			soundDrivers[maxAudioDriver]="No Sound"
		EndIf
	EndIf
Next

SetAudioDriver currentAudioDriver</pre><br>Also, the program continues to run with the music still playing and I am able to play the game with all its sound effects also playing with no problem.  However, I've also noticed that when the error occurs memory consumption continues to rise rapidly.<br><br>EDIT...<br><br>I've now checked all the drivers and can report the following...<br><br>FreeAudio DirectSound gives me the crackle I previously reported.  FreeAudio Default gives me the 1 second delay.<br><br>OpenAL Default and OpenAL Soundcard Specific works, but plays my music (an OGG) on the rear channels only, while the sound effects play just fine!  OpenAL Software and Hardware work just fine with no issues.<br><br>The only differences between the quality of the sound (other than the crackle) between FreeAudio and OpenAL that I can observe is that OpenAL seems to play the audio a little quieter. <br><br></td></tr></table><br>
<a name="753609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Initially :<br><br><pre class=code>
FreeAudio DirectSound
FreeAudio Default
Null
</pre><br><br>After installing OpenAL<br><br><pre class=code>
OpenAL Default
OpenAL Generic Software
OpenAL Generic Hardware
FreeAudio DirectSound
FreeAudio Default
Null
</pre><br><br>Sounds play pretty much exactly the same on each driver. No crackling or anything.<br><br>By the way, does this mean we're going to get streaming audio and 3d sound? <br><br></td></tr></table><br>
<a name="753631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Running Marks exact program:<br><pre class=code>For Local t$=EachIn AudioDrivers()
   Print t
Next</pre><br>Brings up a black screen that I can't [ALT]+[TAB] or [CTRL]+[ALT]+[DELETE] away form. I Have to hard reset my PC.<br>What gives? <br><br></td></tr></table><br>
<a name="753656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> * OpenAL Default<br>* OpenAL Generic Software<br>* OpenAL Generic Hardware<br>* FreeAudio DirectSound<br>* FreeAudio Default<br>* Null<br><br><br>sounds  crackling <br><br></td></tr></table><br>
<a name="753673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I have installed the windows oa runtime, but the app still crashes.<br> <br></div><br>Can you try deleting OpenAL32.dll from C:\windows\system32? (Back it up first!)<br><br>If that fixes it, can you email me your OpenAL32.dll? blitzman at blitzbasic dot com... <br><br>If it's crashing within the DLL, I guess I'll have to add a 'UseOpenALAudio' or something ugly...<br><br><br><div class="quote"> <br>I am using the following code to compile a list of working drivers in preparation of a user selectable option later in the program.<br> <br></div><br>Perhaps try not repeatedly using SetAudioDriver - just use it once after the user has selected a device. Theoretically, everything in the driver list should work anyway.<br><br><div class="quote"> <br>Running Marks exact program:<br>Brings up a black screen that I can't [ALT]+[TAB] or [CTRL]+[ALT]+[DELETE] away form. I Have to hard reset my PC.<br> <br></div><br>Very weird! Can you run anything at all?!? Anyone else? <br><br>Check out the source in audio.mod/audio.bmx - it isn't do anything weird - can you try single stepping through?<br><br><div class="quote"> <br>Just got my program running again. All my sound is now crackling like merry hell.<br> <br></div><br>Can you try changing the #define DSOUNDFRAG 2048 in freeaudio.mod/dsounddevice.cpp to 4096 and building modules?<br><br>What I might do is change the default device back to FreeAudio Default. Although this is giving problems on Vista, at least it's a known quantity for everyone else... <br><br></td></tr></table><br>
<a name="753747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> OpenAL Default<br>OpenAL Generic Software<br>OpenAL Generic Hardware<br>OpenAL SB Audigy 2 ZS Audio [8800]<br>FreeAudio DirectSound<br>FreeAudio Default<br>Null <br><br></td></tr></table><br>
<a name="753749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is sound dodgy in all apps under vista, or just Blitzmax?  If its everything then surely thats a driver issue?<br><br>I'll try fiddling with dsounddevice.cpp tomorrow, as rebuilding modules takes ages on this PC and its after midnight now. <br><br></td></tr></table><br>
<a name="753751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
For Local t$=EachIn AudioDrivers()
   Local result:Int = SetAudioDriver(t$)
	If result = 1 Then Print "Set "+t$+" OK!"
	If result = 0 Then Print "Failed to Set "+t$
Next
</pre><br><br><div class="quote"> <br>Set OpenAL Default OK!<br>Set OpenAL Generic Software OK!<br>Set OpenAL Generic Hardware OK!<br>Set OpenAL SB Audigy 2 ZS Audio [8800] OK!<br>Set FreeAudio DirectSound OK!<br>Set FreeAudio Default OK!<br>Set Null OK!<br><br> <br></div><br><br>when I play a .wav file using "OpenAL SB Audigy 2 ZS Audio [8800]" driver if clicks and cracks <br><br></td></tr></table><br>
<a name="753764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> OpenAL Default<br>OpenAL Generic Software<br>OpenAL Generic Hardware<br>FreeAudio DirectSound<br>FreeAudio Default<br>Null <br></div><br><br>But... Running Bradford6's code snippet does result in an error for me:<br><br><div class="quote"> Set OpenAL Default OK!<br>Set OpenAL Generic Software OK!<br>Set OpenAL Generic Hardware OK!<br>Set FreeAudio DirectSound OK!<br>Unhandled Memory Exception Error<br>Process complete <br></div><br><br>Some additional test showed that <b>SetAudioDriver("FreeAudio DirectSound")</b> is what's causing the problem -- about 1 out of 4 runs it completes successfully, the other three times I get the <i>Unhandled Memory Exception Error</i><br><br>This is using directX 9.0c. for what it's worth: I do have two sound cards in my machine -- a basic onboard adapter, and well as a PCI CMI8738 C-Wave Media Device. the onboard one doesn't have drivers installed.<br>DXDIag only lists the c-wave adapter, as does the sound configuration tool in the control panel.<br><br>dxdiag has no problems playing and sounds, and I've never had any problems in games either. <br><br></td></tr></table><br>
<a name="753773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having some serious issues where it seems the order global variables are initialized are completely wrong, the correct order I assume is based on import dependencies, if it isn't then the way the default drivers and openal libs are initialized are completely out of order when I step through, or the latest mingw is just evil. <br><br></td></tr></table><br>
<a name="753778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whenever I compile with OpenAL in the Framework, I get the following error: <br><br>Unhandled Exception:Unhandled Memory Exception Error.<br><br>In this portion of the openalaudio.bmx:<br><pre class=code>
If OpenALInstalled()
	
		For Local devname$=EachIn EnumOpenALDevices()
		TOpenALAudioDriver.Create( "OpenAL "+devname,devname )
		Next
	TOpenALAudioDriver.Create "OpenAL Default",String.FromCString( alcGetString( 0,ALC_DEFAULT_DEVICE_SPECIFIER ) )
EndIf
</pre><br><br>This is the line that's highlighted:<br><br><pre class=code>
		For Local devname$=EachIn EnumOpenALDevices()
</pre><br>Help (I can't compile even simple programs without this occurring...)!!!! <br><br></td></tr></table><br>
<a name="753786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://bugdie.org/_tmp/oal32_dll.zip" target="_blank">http://bugdie.org/_tmp/oal32_dll.zip</a><br><br>These 2 DLLs seems to be the main OpenAL32 components, tyr to put it along with your game/testapp and see if the drivers are correctly shown. <br><br></td></tr></table><br>
<a name="753787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW...<br><br><pre class=code>Set OpenAL Default OK!
Set OpenAL Generic Software OK!
Set OpenAL Generic Hardware OK!
Set FreeAudio DirectSound OK!
Unhandled Memory Exception Error
Process complete </pre><br><br>I also got this message when running brad's code. <br><br></td></tr></table><br>
<a name="753867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Very weird! Can you run anything at all?!? Anyone else?<br><br>Check out the source in audio.mod/audio.bmx - it isn't do anything weird - can you try single stepping through? <br></div><br>My problem seems to be related to "Print" not to the audio code.<br><br>It is very cumbersome to track down, since I have to hard-reset every time, so bare with me while I track it down. <br><br></td></tr></table><br>
<a name="753893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I reluctantly syncmod'd last night to try out the new audio stuff. My driver list includes:<br><br>OpenAL Default<br>OpenAL Generic Software<br>OpenAL Generic Hardware<br>OpenAL SB X-Fi Audio [DF00]<br>FreeAudio DirectSound<br>FreeAudio Default<br>Null<br><br>I tried all the drivers one by one on my 'big project'...each one worked fine for me. A very slight crackling was heard on a couple of the OpenAL drivers, and on those drivers I noticed the sound overall was a bit muffled (not as bright). The FreeAudio DirectSound driver worked well also. There was just one or two odd delays that seemed to go away as I played for a bit.<br><br>My development rig:<br>AMD64, 4 GB RAM, Windows XP, Sound Blaster X-Fi Platinum<br>All drivers and software kept cleanly up-to-date and patched.<br><br>Oh, and thanks Mark for investigating other audio solutions. <br><br></td></tr></table><br>
<a name="753950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom Darby</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I get odd behavior running brad's code.  I haven't installed OpenAL yet.  When I run the following code, <br><br><pre class=code>
SuperStrict

For Local t$=EachIn AudioDrivers()
   Local result:Int = SetAudioDriver(t$)
	If result = 1 Then Print "Set "+t$+" OK!"
	If result = 0 Then Print "Failed to Set "+t$
Next

</pre><br><br>I <i>generally</i> get this:<br><br><pre class=code>
Set FreeAudio DirectSound OK!
Unhandled Memory Exception Error
Process complete
</pre><br><br>Other times, such as when I build in debug mode or immediately after I get it to run successfully, I get this:<br><br><pre class=code>
Set FreeAudio DirectSound OK!
Set FreeAudio Default OK!
Set Null OK!
</pre><br><br><br>Now, when I run the following code,<br><br><pre class=code>

SuperStrict

Print
Print " *** "
Print
For Local t$=EachIn AudioDrivers()
   Print t
Next

Print
Print " *** "
Print
For Local t$=EachIn AudioDrivers()
   Local result:Int = SetAudioDriver(t$)
	If result = 1 Then Print "Set "+t$+" OK!"
	If result = 0 Then Print "Failed to Set "+t$
Next

</pre><br><br>It always works, regardless of release/debug mode, and I get this:<br><br><pre class=code>

 *** 

FreeAudio DirectSound
FreeAudio Default
Null

 *** 

Set FreeAudio DirectSound OK!
Set FreeAudio Default OK!
Set Null OK!
</pre> <br><br></td></tr></table><br>
<a name="754002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> The new mod make the sound crackling as hell... <br><br></td></tr></table><br>
<a name="754049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a little Test program for you to try:<br><br>You get the added bonus of listening to my amazing guitar skilz. (once you get sick of my abysmal playing, just replace the URL with a localfile path.<br><br>Edit: fixed bug that shows 'false' at program start. Please Use Mark's version below.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Local URL:String="http::www.bmaxbook.com/guitar.ogg"
Global SoundBank:TBank=LoadBank(URL)

For Local t$=EachIn AudioDrivers()
   	Local ad:ADriver = New ADriver
	ad.name$ = t$
	ADriver.DriverArray= Adriver.DriverArray[..Len(ADriver.DriverArray)+1]
	ADriver.DriverArray[Len(ADriver.DriverArray)-1] = ad 
	'ad.link = ListAddLast ADriver.Alist , ad
Next

Adriver.DriverCount = Len (ADriver.DriverArray)

Type ADriver
	Global DriverArray:Adriver[]
	Global DriverCount:Int
	Global CurrentDriver:Int
	Global Result:Int
	Global testsound:TSound
	Global TestChannel = AllocChannel()
	Field name$
	Function nextitem()
		
		StopChannel  ADriver.TestChannel
		ADRiver.nextitem

		Repeat
			Cls
			DrawText ("release",20,20)
			
			
			Flip

		Until KeyDown(KEY_SPACE) = 0
		
		
		Adriver.CurrentDriver:+1
		If Adriver.CurrentDriver&gt;Adriver.DriverCount-1 Then Adriver.CurrentDriver=0
			Adriver.Result:Int = SetAudioDriver(ADriver.DriverArray[Adriver.CurrentDriver].name$)

		ADriver.TestChannel = AllocChannel()
		ADriver.testsound = LoadSound(SoundBank)
		PlaySound Adriver.testsound , ADriver.TestChannel
		
	End Function
	
End Type

Graphics 640,480

Repeat
	
	If KeyDown(KEY_SPACE) Then ADRiver.nextitem
		
	Cls
	DrawText ("hit space to switch driver",20,20)
	DrawText ("Current Driver: "+ADriver.DriverArray[Adriver.CurrentDriver].name$ + TrueOrFalse(Adriver.Result),20,40)
	Flip
	
Until KeyHit(KEY_ESCAPE)

Function TrueOrFalse:String(num:Int)
	If num = 0 Then Return " False"
	If num = 1 Then Return " True"
End Function
</textarea> <br><br></td></tr></table><br>
<a name="754071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skid, you're using an old version - I changed Initialize to StartUp, added a Shutdown and moved atexit_ to Audio. <br><br></td></tr></table><br>
<a name="754082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bradford6: Weird. when I run that sample, it fails at first: "OpenAL Default FALSE", and nothing is audible. <br><br>Then after I cycle through the various sound drivers (all of which work) it wraps around again to the beginning... But now it says "OpenAL Default True" instead, which <i>does</i> work.<br><br>Weird, weird, weird. <br><br></td></tr></table><br>
<a name="754087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a bug in his code, until you hit space it will print FALSE and no music is played.<br><br>Mark: Thanks! <br><br></td></tr></table><br>
<a name="754090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Bradford6: Weird. when I run that sample, it fails at first: "OpenAL Default FALSE", and nothing is audible.<br> <br></div><br>Nothing starts until you hit space. Interesting test though - here's a smaller version:<br><pre class=code>
Strict

Local URL:String="http::www.bmaxbook.com/guitar.ogg"
Global SoundBank:TBank=LoadBank(URL)

Local devs$[]=AudioDrivers(),i=-1,channel:TChannel,okay$

Graphics 640,480

While Not KeyHit( KEY_ESCAPE )

	If KeyHit( KEY_SPACE ) Or i&lt;0
		i:+1
		If i=devs.length i=0
		If channel StopChannel channel
		okay="False"
		channel=Null
		If SetAudioDriver( devs[i] )
			channel=AllocChannel()
			Local sound:TSound = LoadSound(SoundBank)
			PlaySound sound,channel
			okay="True"
		EndIf
	EndIf

	Cls
	DrawText "hit space to switch driver",20,20
	DrawText "Current Driver: "+devs[i]+" (Okay="+okay+")",20,40
	Flip

Wend
</pre> <br><br></td></tr></table><br>
<a name="754094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark, commited latest-<br><br>pub.freeaudio 1.20 <br>brl.freeaudioaudio 1.08 <br><br>will fire up the mac and do some testing <br><br></td></tr></table><br>
<a name="754132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barbapapa</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure where this belongs, but let me explain and you will understand why I post it here.<br><br>I made a sync a few minutes ago, when skid told me about the updated axe.lua v1.22. And now the testing scripts don't work anymore, I get an Unhandled Memory Exception Error when compiling AND BMax jumps to openalaudio.bmx in line 236. I must add that I don't have OpenAl installed, nor did I do a total module rebuild yet. Waiting for any ideas first.<br><br>Here's the little script, nothing fany...<br><br><pre class=code>
SuperStrict

Import Axe.Lua

Function luaPrint:Int( l:Byte Ptr )
    For Local i:Int = 1 To lua_gettop( l ) ' The lua stack goes from 1 to lua_gettop( l ) -- it does not start at zero
        Select lua_type( l, i )                                     ' gets the type of the variable
            Case LUA_TBOOLEAN
                Print lua_toboolean( l, i )                         ' true/false
            Case LUA_TNUMBER
                Print lua_tonumber( l, i )                          ' double
            Case LUA_TSTRING
                Print String.FromCString( lua_tostring( l, i ) )    ' print a string - lua_tostring is an auxiliary function
                                                                    ' you should use lua_tolstring in your own code for safety
            Default
                ' other types exist, but for the sake of not writing too much code, they're excluded
        End Select
    Next
    Return 0        ' zero arguments are returned -- if you pushed anything on the stack, you'd specify the
                    ' amount of values you wanted to return
End Function

Local state:Byte Ptr = luaL_newstate( )         ' Create the state

lua_register( state, "print", luaPrint )    ' Register the function

lua_dofile( state, "test1.lua" )          ' Execute a script

lua_close( state )                          ' Close the state
</pre><br><br>or even this little baby<br><pre class=code>
SuperStrict

Import axe.luascript

Global lua:TLuaScriptEngine=New TLuaScriptEngine

lua.reset()

lua.RunScriptFile("test1.lua")

lua.ShutDown() 
</pre><br><br>The test1.lua is nothing interesting, only a   few calculations and print statements. And it worked all well, before the sync. I don't believe it's because of the axe.lua mod but what do I know... <br><br></td></tr></table><br>
<a name="754151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could very well be axe.lua, i shouldn't be adding to syncmods at the moment as I'm testing with newer compiler tools, so I advise touching the lua.bmx file then doing build modules to rule it out. <br><br></td></tr></table><br>
<a name="754183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> [EDIT...reposted this message in Mark's 2nd audio thread]<br><br>Just sync'd again and it downloaded a bunch of new audio updates...and now my game just plain crashes with "Unhandled Memory Exception Error". I have no other information to give you because it doesn't tell me anymore than that. I am not setting an audio driver so it should be using the default driver.<br><br>...um, it looks like the debugger is highlighting a "flip" command, as if it is crashing there. ?? <br><br></td></tr></table><br>
<a name="754217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> After latest syncmods:<br><br><div class="quote"> FreeAudio DirectSound<br>FreeAudio Default<br>Null <br></div><br>=AC97 on-board sound chip / NF4 <br><br></td></tr></table><br>
<a name="754275"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barbapapa</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, I did a resync this morning with the new audio files and lua works again, cool. <br><br></td></tr></table><br>
<a name="754339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can you try changing the #define DSOUNDFRAG 2048 in freeaudio.mod/dsounddevice.cpp to 4096 and building modules? <br></div>Oops sorry, totally forgot to do that until just now!<br><br>I changed it to 4096 and it still crackles but to a lesser extent.  I continued increasing it until the problem went away completely (which was at 16384), but then I get a 0.5s lag when playing sounds.<br><br>[edit]Um, best post this in the other thread in case this one gets locked. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
