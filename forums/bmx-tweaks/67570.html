<!DOCTYPE html><html lang="en" ><head ><title >New audio stuff ]|[</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >New audio stuff ]|[</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=110" >BlitzMax Module Tweaks</a>/<a href="#bottom" >New audio stuff ]|[</a><br><br>
<a name="754763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whew!<br><br>There's yet another new audio driver now available via syncmods (win32 only).<br><br>This one is called plain old "DirectSound", and although it uses direct sound it doesn't do it's own mixing - as opposed to "FreeAudio DirectSound" which does. I am now pretty much convinced that doing your own mixing under Vista is a big no-no.<br><br>Anyway, the new driver works very well for me on Vista, so give it a blast and let me know how you go.<br><br>Mac/Linux users: OpenAL stuff should be up tomorrow. <br><br></td></tr></table><br>
<a name="754773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> After doing a syncmods, I now get the following error when compiling anything:<br><br><div class="quote"> Compile Error - Identifier 'IDirectSoundBuffer' not found <br></div><br><br>No matter how simple the program.<br><b>Print "TEST"</b> even gives it.<br><br>I'm recompiling modules now to see if that makes any difference, but since not everyone has MinGW installed... <br><br></td></tr></table><br>
<a name="754775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> FreeAudio Default and FreeAudio DirectSound seem to work well. I was able to launch my game and play with no issues at at.<br><br>But plain old <b>DirectSound</b> didn't work at all for me. My game craps out instantly with a null error when trying to play the very first sound at my game's "launch window". This doesn't seem to be quite the same error that Skid had help me with earlier, because with that one I was able to actually get into the game a bit before getting an exception. <br><br></td></tr></table><br>
<a name="754776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update: Nope, rebuilding modules fails too.<br><br>Gets stuck in <b>directsoundaudio.bmx</b>, at the line:<br><br><div class="quote"> Field _buffer:IDirectSoundBuffer,_seq,_paused <br></div><br><br>So... the latest syncmods completely broke blitzmax for me, I can't compile any program at the moment. <br><br></td></tr></table><br>
<a name="754784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everyone: try syncmods again - you may have just missed the pub.directx bit <br><br></td></tr></table><br>
<a name="754785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tachyon, what are your system specs? <br><br></td></tr></table><br>
<a name="754787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Everyone: try syncmods again - you may have just missed the pub.directx bit  <br></div><br><br>Looks like that was it, it's working now.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="754788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Windows XP, BlitzMax 1.24 fully sync'd (just sync'd again for good measure)<br>Hardware: AMD64, 4GB RAM, SoundBlaster X-Fi Platinum, GeForce 7800 GTX video.<br><br>My Computer and drivers are usually kept up-to-date, though it's been a couple months since I checked for new drivers. I'll do that and try again....<br><br>[edit] Nope, everything is up to date. I'll try another test and see if I can pinpoint anything. <br><br></td></tr></table><br>
<a name="754791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm...not sure what the problem is. This code fails for me:<br><pre class=code>
SuperStrict
If SetAudioDriver("DirectSound") Print "Ok!"
Local Sound:TSound = LoadSound("C:/Program Files/BlitzMax/samples/digesteroids/sounds/teleport.wav")
Local Channel:TChannel = PlaySound(Sound)
Delay 1000
</pre><br>I am getting an "Ok!" so the driver seems to be getting set. I just get a null error on the PlaySound line (null channel, null sound). If I REM out the SetAudioDriver line it plays fine. <br><br></td></tr></table><br>
<a name="754794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, there'a fair bit stuffed: looping, volume, pitch! <br><br></td></tr></table><br>
<a name="754798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might be of interest?<br><pre class=code>
Function VolumeToDecibels:Int(vol#)
	If vol=&gt;1 Then Return 0       'DSBVOLUME_MAX
	If vol=&lt;0 Then Return -10000  'DSBVOLUME_MIN
	Return Log10(vol)*3321.928094887
EndFunction

' little tester
Local n,vol#
For n=0 To 1000
	vol = (1.0/1000)*n
	Print vol+": "+VolumeToDecibels(vol)
Next
</pre> <br><br></td></tr></table><br>
<a name="754808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm...lots to fix and it's getting late.<br><br>So it's probably best not to try "DirectSound" driver just yet! <br><br></td></tr></table><br>
<a name="754810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> First batch of fixes up! Actually tested on XP this time! <br><br></td></tr></table><br>
<a name="754812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome, that one seems to work good. <br><br></td></tr></table><br>
<a name="754815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I forget BytesPerSample[format] is pre-multiplied by #channels!<br><br>Dunno how Vista worked at all...<br><br>REDi, that algo looks good, but it produces values &lt; -10000 when vol gets very small - should I just clamp? My effort is just a hack: (vol^.1)*10000-10000 <br><br></td></tr></table><br>
<a name="754816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh yeah, so it does!  i dont think dsound minds to much tho, does it?<br><br>otherwise, yeah clamp it, i dont think it'll notice at those levels. <br><br></td></tr></table><br>
<a name="754818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't know why, the DSound stuff still sounds crackle on my 2 test machines, the Default one is OK.<br><br>Do we need to do manual buffer tweaking? <br><br></td></tr></table><br>
<a name="754821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> yoko, did you try SetAudioDriver("DirectSound")? <br>(not "FreeAudio DirectSound") <br><br></td></tr></table><br>
<a name="754826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doh.<br><br>The "DirectSound" one works well.. it seems FreeAudio DirectSound got broken now...<br><br>I should examine the drivers first, my fault :| <br><br></td></tr></table><br>
<a name="754862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> FreeAudio DirectSound is still scuppered here.<br><br>DirectSound works fine.  Tested in XP - don't have Vista.<br><br>Just a small note of caution to anybody testing this or getting errors.  If you're using Framework/Import in your code, then you need to add <b>Import brl.directsoundaudio</b> atop your code, otherwise you won't be able to set the driver correctly. <br><br></td></tr></table><br>
<a name="754868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Results on XP:<br>FreeAudio Default - Ok, no delay<br>DirectSound - Ok, no delay<br>FreeAudio DirectSound - crackly sound, no delay<br><br>Results on Vista:<br>FreeAudio Default - Ok, delay<br>DirectSound - Ok, no delay<br>FreeAudio DirectSound - Ok, delay <br><br></td></tr></table><br>
<a name="754891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Early tests show all fixed here. <br><br></td></tr></table><br>
<a name="754946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope...sorry guys...I found another bad bug somewhere in the new audio code. It appears to be similar to the bug we had in the "New audio stuff ][" thread: I am getting unhandled exceptions that seem to be possibly related to playing a local sample and then the channel going out of scope. However, unlike that bug I have not been able to duplicate it outside my game yet.<br><br>The bug is definitely associated with "FreeAudio Default" and "FreeAudio DirectSound", because plain "DirectSound" works fine (no crashes where the other two drivers are failing within the game.) <br><br></td></tr></table><br>
<a name="754949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, this sample that I had posted in the "New audio stuff ][" thread <b><u>does</u></b> in fact crash my computer with the latest updates...it appears to be the exact same problem that Skid *had* fixed:<br><pre class=code>
SuperStrict
Graphics 640,480

While Not KeyHit( KEY_ESCAPE)
    Play_Local_Sound()
    Delay 100
    Flip
Wend

Function Play_Local_Sound()
    Local Sound:TSound = LoadSound("C:/Program Files/BlitzMax/samples/digesteroids/sounds/teleport.wav")
    Local Channel:TChannel = PlaySound(Sound)
End Function
</pre><br><br>[edit]: Oops, I just thought of something. Skid had me apply a small change to 'freeaudioglue.ccp" to fix this problem  and I had since re-installed BlitzMax to fix another error caused by MaxIDE. I guess I need to "reapply" his fix, right? <br><br></td></tr></table><br>
<a name="754952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay... reapplied the fix that Skid gave my in the previous thread and it looks to be fixed. Is his fix going to be made official? <br><br></td></tr></table><br>
<a name="755169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >popcade</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't know if simpilfy the sound drivers is good or not as these:<br><br>FreeAudio (as default?)<br>DirectSound (optional)<br>OpenAL (can be manually enabled)<br><br>seems FreeAudio DS have some problems on some systems, and need to be fixed (or disabled...)<br>and we can toggle OpenAL as SW or HW mode with some function, should be good for a casual game. <br><br></td></tr></table><br>
<a name="755286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Don't know if simpilfy the sound drivers is good or not as these:<br><br>FreeAudio (as default?)<br>DirectSound (optional)<br>OpenAL (can be manually enabled)<br><br>seems FreeAudio DS have some problems on some systems, and need to be fixed (or disabled...)<br>and we can toggle OpenAL as SW or HW mode with some function, should be good for a casual game.<br> <br></div><br>I think this is a good idea. Separate driver specific commands can be used to specify 'subsystems' if necessary.<br><br>Everyone agree? <br><br></td></tr></table><br>
<a name="755308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> This test crackles on my xp32 setup, i'd say it is my asus driver, freeaudio drivers are both fine and i tried shutting down skype just in case...<br><br><pre class=code>
' createaudiosample.bmx

SetAudioDriver "DirectSound"

Local sample:TAudioSample=CreateAudioSample( 32,11025,SF_MONO8 )

For Local k=0 Until 32
        sample.samples[k]=Sin(k*360/32)*127.5+127.5
Next

Local sound:TSound=LoadSound( sample,True )

Local channel:TChannel=PlaySound(sound)

Local r#=1

While True
	Delay 5
	SetChannelRate channel,r
	r=r+.01
Wend

</pre><br><br>re subsystems, i would prefer the single enumeration of all audiodrivers for my game menu requirements, although as far as the user is concerned i'll probably go with the following for windows players:<br><br>AudioDriver<br>DirectSound Hardware (default)<br>DirectSound Software<br>OpenAL Hardware<br>OpenAL Software <br>MultiMedia Software <br><br></td></tr></table><br>
<a name="755369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>This test crackles on my xp32 setup<br> <br></div><br>Yuck - does here too.<br><br>Can you try removing the DSBCAPS_LOCSOFTWARE from TDirectSoundSound.Create?<br><br>This sort of fixes it here, but there's still some weird 'beating' going on in the background.<br><br>I guess this suggests DirectSound driver is gonna have to know where the sample should go. But we're gonna have to deal with that eventually with OpenAL anyway.<br><br>I suggest we extend 'loop_flag' of LoadSound for this purpose, eg:<br><br>1=loop<br>2=hardware<br>4=3D<br><br>...etc...<br><br><div class="quote"> <br>i would prefer the single enumeration of all audiodrivers for my game menu requirements<br> <br></div><br>Yeah, I guess so. It's just all a little confusing right now, and I think we can do a better job of picking a sensible driver.<br><br>How about:<br><br>Each audio module (directsoundaudio, freeaudioaudio, openalaudio) publishes a 'auto detect' driver with the same name as the module - ie: "DirectSound", "FreeAudio", "OpenAL".<br><br>This driver then attempts to open the best sub-driver - eg: OpenAL can try the default driver (which doesn't work on my Vista!) and if it craps out try "Generic Hardware" or something; FreeAudio could do a 'vista detect' and use DirectSound etc.<br><br>Audio modules can also add more specific drivers as they are now.<br><br>What it all means is that apps can present a simple "OpenAL","FreeAudio","DirectSound" menu and have a pretty good chance of working properly!<br><br>Sound good/better? <br><br></td></tr></table><br>
<a name="755371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes- the more automated the process of driver selection is, the better. Most gamers don't want to have to pick from 6 different drivers just to get the sound working properly on their computer- they just want to play the game. <br><br></td></tr></table><br>
<a name="755381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark, <a href="/posts.php?topic=67602" target="_blank">it needs clamping!</a> LOL <br><br></td></tr></table><br>
<a name="755524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I realise the new audio stuff is windows only at the moment but it seems to have broken the freeaudio mod on the Mac too.<br><br>I've just done a synmods and build all and got the following compilation error..<br><br><pre class=code>Compiling:freeaudio.cpp
Compiling:freeaudioglue.cpp
Compiling:coreaudiodevice.cpp
Compiling:freeaudio.bmx
Archiving:freeaudio.debug.macos.ppc.a
Compiling:freeaudioaudio.bmx
Compile Error: Missing function parameter 'deviceid'
[/Applications/BlitzMax/mod/brl.mod/freeaudioaudio.mod/freeaudioaudio.bmx;134;1]
Build Error: failed to compile /Applications/BlitzMax/mod/brl.mod/freeaudioaudio.mod/freeaudioaudio.bmx
Process complete
</pre><br><br>Any clues? <br><br></td></tr></table><br>
<a name="755527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skid <a href="/posts.php?topic=67581" target="_blank">posted a message</a> in the BlitzMax Bug Report forum saying that there were problems with the FreeAudio Mac code that he is currently working on. I'm sure your error is related. <br><br></td></tr></table><br>
<a name="755545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sean Doherty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> seem to be having problems freeing sound channels in 1.24?  Once I reach 4092 allocated sound channels I can no longer allocate any additional channels.<br><br>The following code seems like it is being called:<br><br><pre class=code>
Local pTChannel:TChannel
		For pTChannel = EachIn g_TChannelList
			
			If (pTChannel.Playing() = False)   

				'Print "Removing"
				StopChannel(pTChannel) 
				g_TChannelList.Remove(pTChannel)
				pTChannel = Null
				

			End If

		Next
</pre><br><br>Does anyone know if there is a bug?<br><br>Thanks <br><br></td></tr></table><br>
<a name="755550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> This needs EAX effects. <br><br></td></tr></table><br>
<a name="755559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorted it with a tiny tweek in freeaudio.bmx<br><br>Just set the default deviceid in the function dec.<br><br><pre class=code>

Function fa_Init( deviceid <b><i>=0</i></b> )
	Local device
?Win32
	If deviceid
		device=OpenDirectSoundDevice()
	Else
		device=OpenMultiMediaDevice()
	EndIf
?Linux
	Select deviceid
		Case 0
			device=OpenOSSDevice()
'		Case 1
'			device=OpenALSADevice()
	EndSelect
?MacOS
	device=OpenCoreAudioDevice()
?
	Local res=-1
	If device res=fa_Reset(device)
	Return res
End Function	

</pre> <br><br></td></tr></table><br>
<a name="755563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fetze</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since I've synced modules, I get an error when using the same old sound-code.<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=67630" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=67630</a><br><br>An Idea, anyone? <br><br></td></tr></table><br>
<a name="757195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boulderdash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im still stuck on the OPENAL ,stuff, I downloaded openal installed it, synced modules,<br><br>I just get an undefined identifer error? <br><br></td></tr></table><br>
<a name="757256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> latest audio thread <a href="/posts.php?topic=67637" target="_blank">is here</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
