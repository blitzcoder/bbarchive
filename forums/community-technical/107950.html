<!DOCTYPE html><html lang="en" ><head ><title >What is a DSS Shadow?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >What is a DSS Shadow?</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=11" >Technical Discourse</a>/<a href="#bottom" >What is a DSS Shadow?</a><br><br>
<a name="1339382"></a>

<a name="1339395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why do triangles rise in the scene?<br><br>Always in Blitz3D, the shadows ivan marked by textures (Shadow Map) in Direct X9 encounter that concept of DSS.<br><br><br><img src="http://i64.tinypic.com/25a3cqx.png"> <br><br></td></tr></table><br>
<a name="1339385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trinosis</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did a quick google search to find out what a DDS Shadow is, as I've never heard of it.<br>And it didn't return any useful results.<br><br>As far as I'm aware, DDS is a texture format that Blitz3d uses and has nothing to do with object geometry.<br><br>I don't know what shadow system you are using, whether it is real time calculated or pre-calculated shadow maps.<br><br>But for a realtime shadow system, usually the triangle count is dynamic as the shadow mesh countours and shapes itself to the surrounding geometry.<br>An undulating landscape for instance would require more shadow triangles then a flat plane.<br><br>In your case, I'm wondering if your shadow mesh was created in a 3d app, say 3d studio, with a high poly count and then imported into your app.<br>Whereas creating a simple 2 triangle mesh via code and applying a static shadow texture might be a better solution. <br><br></td></tr></table><br>
<a name="1339387"></a>

<a name="1339388"></a>

<a name="1339389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Trinosis<br><br>Thanks for the reply.<br><br><br>I'm really confused. I'm using Xors3D and I find these two commands somewhat strange to me.<br><br><pre class=code>
xCreateDSS( 1024, 1024 ) 

xSetShadowParams ( splitPlanes:Byte, splitLambda:Float, useOrtho:Int, lightDist:Int )

</pre><br><br><br>If I upload the splitPlanes value, the triangles in the scene go up.<br><br><br>On the other hand the cube is simple only has 12 triangles, and the ground also 12 triangles, where if shadows the scene would have 24. but if for example I put 8 in splitPlanes, the total of triangles in the scene rises dramatically.<br><br><img src="http://i63.tinypic.com/907tp2.png"><br><br><br>Not Shadows tris 24.<br><br><img src="http://i63.tinypic.com/29frtd5.png"> <br><br></td></tr></table><br>
<a name="1339390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps it needs more to simulate the soft edges of the shadow? <br><br></td></tr></table><br>
<a name="1339392"></a>

<a name="1339393"></a>

<a name="1339394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @XLSIOR <br><br><br>If, correct, a lower value, it degrades the quality of the shadows, a higher value makes them smoother, for example the value 1 in splitPlanes, a shade of low quality.<br><br><br>It reminds me a lot of the volumetric shadows in Blitz3D, my ignorance is in which I do not understand opr that the triangulso in the scene rise, then they are volumetric shadows, a value something in splitPlane implies that the distance is visualized shadows to more distance.<br><br>Although xors3d has shadow shaders, I do not know what the difference is. <br><br></td></tr></table><br>
<a name="1339398"></a>

<a name="1339399"></a>

<a name="1339400"></a>

<a name="1339401"></a>

<a name="1339402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trinosis</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks to me as though the splitPlanes value is used to subdivide the shadow mesh into smaller triangles.<br><br>This makes it easier for the shadow mesh to align to the contours of a terrain.<br><br>Whereas a plane doesn't need aligning.<br><br>So the splitPlanes value really depends on what type of geometry your shadow mesh is going to be mapped to.<br><br>I don't think shaders are used in this system, just a textured shadow mesh.<br><br><br>I've often used a similar approach to rendering shadows in my Blitz3d games and demo's.<br><br>Here's a short video showing the technique.<br>Simple tree shadow meshes aligned to the contours of a landscape with a shadow texture applied at a low transparency ( alpha ) level.<br><br><iframe width="560" height="345" src="http://www.youtube.com/embed/Lz_wH68OLnc" frameborder="0" allowfullscreen></iframe><br><br><a href="https://www.youtube.com/watch?v=Lz_wH68OLnc" target="_blank">https://www.youtube.com/watch?v=Lz_wH68OLnc</a><br><br><br>I'm also wondering if the DSS stands for Devil Shadow System.<br>A shadow system developed by another Blitz3d user.<br>I seem to recall.<br><br><br>Footnote.<br>My bad, i misread your title description, reading, DDS for DSS. <br><br></td></tr></table><br>
<a name="1339424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Possibly stands for Depth Stencil Shadows. That was the best info I could come up with from googling anyway.<br><br><a href="https://www.gamedev.net/resources/_/technical/graphics-programming-and-theory/the-theory-of-stencil-shadow-volumes-r1873" target="_blank">https://www.gamedev.net/resources/_/technical/graphics-programming-and-theory/the-theory-of-stencil-shadow-volumes-r1873</a><br><br><a href="https://en.wikipedia.org/wiki/Shadow_volume" target="_blank">https://en.wikipedia.org/wiki/Shadow_volume</a> <br><br></td></tr></table><br>
<a name="1339464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>xCreateDSS( 1024, 1024 ) <br> <br></div><br><br>I looks to me like as if it referes to a texture by the size of 1024x1024.<br>Perhaps it's an internal variation on <a href="https://en.wikipedia.org/wiki/DirectDraw_Surface)" target="_blank"><b>DDS</b></a> as cache used to hold the shadow texture and defines the size of the shadow texture, similar as in FastExtension? <br>Could be short for <b>Dynamic Stencil Shadow</b> if we're talking Dynamic Shadows here? <br><br></td></tr></table><br>
<a name="1339486"></a>

<a name="1339487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trinosis</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did a bit more digging and found some interesting info.<br><br>This Blitz forum page describes the Xors3D Engine feature list and has this description for shadow maps.<br><br><b>Shadows casting from all lights types (PSSM with orthographic projection for directional lights)</b><br> <br><a href="http://www.blitzbasic.com/Community/posts.php?topic=86061" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=86061</a><br><br>And doing some googling i found this page on PSSM shadows, which explains a multple detail shadow based on distance.<br><br><a href="http://http.developer.nvidia.com/GPUGems3/gpugems3_ch10.html" target="_blank">http://http.developer.nvidia.com/GPUGems3/gpugems3_ch10.html</a><br><br>PSSM = Parallel-Split Shadow Maps <br><br></td></tr></table><br>
<a name="1339517"></a>

<a name="1339532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think a lot of questions come up about it.<br><br>For example what is Orthography shadows?<br><br>I also thought it was a texture but it is working with triangles, for that the scenes go up when the value is high on splitplane. <br><br></td></tr></table><br>
<a name="1339533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trinosis</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you use Wireframe mode to view the extra triangles ?<br>To see if they are actually part of the shadow mesh.<br><br>It could be that they are used as a projection volume.<br>But I'm only guessing here as it's not a subject i know a lot about. <br><br></td></tr></table><br>
<a name="1339534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i64.tinypic.com/15rl6ro.png"><br><img src="http://i66.tinypic.com/a2doio.png"><br><br>The triangles of the shadow are not seen. <br><br></td></tr></table><br>
<a name="1339541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trinosis</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's really interesting.<br><br>Since the tri count goes up, i was assuming the shadow was using them.<br><br>Now I'm thinking that the extra tri's are used in some way to create the shadow texture and then not being correctly freed up after use.  A bug.<br><br>Perhaps the tri's still exist ( edge list ) without the verticies.<br><br>But again I'm just guessing here. <br><br></td></tr></table><br>
<a name="1339542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since they are dynamic shadows that interact with the Light source, I think those triangles are necessary to process the shadow in real time. <br><br></td></tr></table><br>
<a name="1339543"></a>

<a name="1339544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>xSetShadowParams </b><br><br>Sets parameters of the shadow system. <br><br>You can change number of PSSM split planes (PSSM technique splits visible scene in some parts, each part will be rendered separately to its own shadow map. It increases quality of shadows near camera, but may cause loss of quality in large distance from camera), and split lambda. We set optimal values, but you may change them for better quality or better perfomance. Also you can change projection type for shadow map rendering, and set the distance of light source from the camera view point (larger distance causes larger part of scene which casts shadows, but quality of the shadows is poorer). <br><br>Parameters:<br>splitPlanes Number of split planes for PSSM rendering. The number of split planes is equal to the number of shadow maps for the directional light.  <br>splitLambda The ratio of the scene splitting in range (0.0; 1.0).  <br>useOrtho True to use orthographical projection, false - for perspective projection.  <br>lightDist Distance from light source to the view point.<br><br><br><a href="http://http.developer.nvidia.com/GPUGems3/gpugems3_ch10.html" target="_blank">http://http.developer.nvidia.com/GPUGems3/gpugems3_ch10.html</a> <br><br></td></tr></table><br>
<a name="1339545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gpete</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> the last image looks correct-when the shadow of the column hits the cube behind it- the shadow goes vertically up like it does in reality- allowing the left face of the to be lit from the light source. And yes - not a triangle shadow.. <br><br></td></tr></table><br>
<a name="1339546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i63.tinypic.com/scang6.png"><br><br><img src="http://i63.tinypic.com/21edtkw.png"><br>According to the prubas, if they are volumetric shadows, in directx 9 it works different and seems to be a mixture of texture and triangles. For example in the following scene, when you disable the shadow for one of the boxes, the numbers of triangles fall 24 which correspond to the shape of the box, ie if the box has 24 more shadows, it would be rendering 48 triangles . <br><br></td></tr></table><br>
<a name="1339557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trinosis</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think i understand what's going on now.<br>The PSSM shadow algorithm creates a final shadow texture from multiple renders of the scene starting from the camera position and then stepping forward into the scene at set distances.<br><br>This following image demonstrates the process.<br>The cone is the camera, the scene is a flat ground plane with a box on it and the multple planes infront of the camera are the split planes to get rendered.<br><br><img src="http://i.imgur.com/gA0JBrq.jpg"><br><br>I imagine that these split planes are actual 3d planes ( 2 triangles ), used for the rendering to texture process.<br>And after all split planes have been rendered, they are all combined into one final texture.<br><br>This would explain why the triangle count increases or decreases dependent on the split plane value, as each split plane is a 3d object ( plane of 2 triangles ) <br><br></td></tr></table><br>
<a name="1339559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Trinosis<br><br>Interesting, <br>In this case a high value in splitPlane, allows the shadow to be viewed further away from the camera and with better quality. <br><br></td></tr></table><br>
<a name="1339561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Trinosis</td><td align="right"><font class=tiny>(Posted April)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not quite.<br><br>As i read it, the splitplane value determines how many splitplanes to use.<br>I would imagine that the more splitplanes used, the higher the quality, but slower overall rendering time. <br><br></td></tr></table><br>
<a name="1340132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted May)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://i67.tinypic.com/5anu4z.png"><br><br><br>This is very crazy, the model of the statue has 26,000 triangles, but the number for the calculation of shadows dramatically increases the number of triangles in the scene. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
