<!DOCTYPE html><html lang="en" ><head ><title >Bug in mouseZspeed()</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bug in mouseZspeed()</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >Bug in mouseZspeed()</a><br><br>
<a name="665416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Run this code and use the scroll button on your mouse to scroll for a bit, then click away from the window, onto any other window. MouseZSpeed() is only supposed to return either -1,0 or 1. But it seems like blitz or some other force, keeps track of how much scrolling has been done, and returns this value when clicked outside of the blitz window.<br><br>Rather annoying, as my editor uses this for zooming, so when i click away, it zooms right back in :P<br><br><pre class=code>
While Not KeyHit(1)
	temp1 = MouseZSpeed()
	If Abs(temp1) &gt; 1 Then RuntimeError(" mouse Z speed has stored: = "+temp1)
Wend
</pre><br><br>Funnily enough, the same happens with mouseZ()<br><br><pre class=code>
While Not KeyHit(1)
	temp1 = MouseZ()
	Print temp1
Wend
</pre> <br><br></td></tr></table><br>
<a name="665427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keep the milli timer variable (which I imageine you already have in the program), then just before you start to mouse, (new verb :)) check to see if loads of time have passed. If it has then clear the mousebuffer <br><br></td></tr></table><br>
<a name="665583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its still surely a bug? I don't have a millisecs() value. IF you use mouseZspeed() for anything, then you'll run into this problem. It shouldn't really return a number bigger or smaller than 1/-1. If have found a way around it. Just thought i'd report it :) <br><br></td></tr></table><br>
<a name="665618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh. It seems to do it only when the consol/program is not in focus. (ie its not when you return to the application, but when you leave in). Strange <br><br></td></tr></table><br>
<a name="667389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The strange number you get for mousezspeed() is the inverse sum of its reports since the program has been in focus. So if you wheeled -2,-1,-1,-2 then clicked on another program/the desktop the extra figure you would get would be 6. Or, in other words, -MouseZ(). When the program loses focus it seems as if the z coord for the mouse "springs back" to zero.<br><br>Try dialing the mousewheel then clicking on the desktop with the following code. You will see that what you wheel when the program loses focus does not matter - what you are really seeing is the behaviour described above.<br><pre class=code>
While Not KeyHit(1)
	temp1 = MouseZSpeed()
	If Not temp1=0 Then Print temp1+"         "+MouseZ()
Wend
</pre><br>This might not be a bug (you could certainly argue that it's a "feature") but it's definitely troublesome. Would be nice to see "fixed".<br><br><br><div class="quote"> <br>It shouldn't really return a number bigger or smaller than 1/-1.<br> <br></div><br>Stop trusting the docs, they get lots of things wrong. If the mouse wheel is dialed fast then it should return a much higher/lower figure. You wouldn't expect the mouse to move in single unit increments on the x and y axis, would you?<br><br>EDIT: Fixed for clarity <br><br></td></tr></table><br>
<a name="667397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> By the way, one possible fix would be to give MoveMouse a z component. Then we could maintain mouse z up around 200 or something (higher than anyone could dial in one frame) so it would be immeditalely obvious, when the value sprang back to zero, that the program had lost focus and that the current report should be ignored. (Or perhaps there is a solution using the current info we have access to - Mark?) <br><br></td></tr></table><br>
<a name="667666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just say, if the ABS of mousexspeed() is &gt; 1 then, disreguard :o) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
