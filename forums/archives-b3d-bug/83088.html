<!DOCTYPE html><html lang="en" ><head ><title >580x819 picture</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >580x819 picture</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >580x819 picture</a><br><br>
<a name="937578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I found a quite surprising crash with Blitz3D.<br><br>When you try to load a 580x819 sized picture, the LoadImage (and LoadTexture) function will crash.<br><br>Its not specific to a certain file : Create a picture of that dimension, whatever the type is (jpg, bmp, png) it will crash.<br><br>It wont crash anymore if a dimension is changed by even 1 pixel. A 819x580 picture will not  crash either.<br><br>The code to reproduce the crash cant be simpler and should work (well, crash) with any 580x819 picture :<br><br><br>Graphics3D 800,600,32,2<br>img = LoadTexture("580x819.jpg")<br>DebugLog "This will not appear, should crash before." <br><br></td></tr></table><br>
<a name="937598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should only use power of two textures, best if squared for greater compatibility.<br>Also, always specify "1" (Color) for the texture flag; i.e. LoadTexture("texture.png", 1).<br><br>These two are the most common problems with newest video drivers (however not so new by now), though the first one always was an issue on some cards, expecially ATI ones. <br><br></td></tr></table><br>
<a name="937610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sir I think you totally missed the point.<br><br>Its not about texture size, its about picture file loading.<br>BOTH function LoadImage() and LoadTexture() will CRASH when called on that SPECIFIC 580x819 resolution. They dont return a 0 result, they just crash the program.<br><br>Its doesnt seem to be  a  problem specific to my config, I had users using my tool reporting this problem. I just used LoadTexture() in my example, but I could have providen the following example for the exact same result :<br><br>=================================================<br>Graphics 800,600,32,2<br>img = LoadImage("580x819.jpg")<br>DebugLog "This will not appear, because Blitz will crash before that." <br>=================================================<br><br><br>I have to say I really dislike that "hotline syndrom" feeling : you clearly explain your problem but the 'technician' provides a totally unrelated answer, giving you the impression that he didnt really listen to you. Nothing personnal here sir, I suppose you wanted to help which is always a good thing, but apparently you didnt took time to carefully read the post. :/<br><br>This being say, I might be the one wrong in my present bug report, but regarding the example I provided it leaves little room for doubt. <br><br></td></tr></table><br>
<a name="937612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have to say maybe your post wasnt intended to be an answer to the bug reported but a side note, in which case this makes my rambling invalid. @_@'<br><br><br>...<br>However that would still be quite a out-of-topic bur report answer, è_é! <br><br></td></tr></table><br>
<a name="937627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry sir, it wasn't a side note, I just tought that you put 580x819 in your topic as an arbitrary non-power of two size and I ignored the LoadImage part since I focused on the code which on some configurations crashes if you load a texture with alpha, so I assumed that this was the only issue.<br><br>Didn't want to sound like the 'know it all' guy, just misinterpreted your post and didn't have the time to check the code which would have revealed that it crashed anyway.<br><br>Anyway, now I have tested various images of various formats and I must agree with you: this specific resolution (maybe more? I should make a little program to test it out) are causing a Memory Access Violation. CreateTexture and CreateImage do create a texture of that particular size though.<br><br>Blitz Plus features the same issue too. <br><br></td></tr></table><br>
<a name="937909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your checking, and not getting angered by my rambling :)<br>I will now be searching for a way to prevent this crash on blitz3D programming forum. <br><br></td></tr></table><br>
<a name="937936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow,... that's a strange one.<br><br>I just had to confirm this myself, and it does it here too.<br><br>It's an odd resolution, so I can understand how this hasn't come up before, but I'm really interested in what the problem/solution is. <br><br></td></tr></table><br>
<a name="938030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a scary one.<br><br>I am pretty sure Mark did NOT add this "feature", why should he do something like:<br><br>if w=580 and h=819 then MAV<br><br>It really doesn't make sense. I would rather suspect microsoft as the fishy part, since they already implemented browser backdoors be checking if a jpg contains executable code and then execute it blindly ... I mean, how stupid can a hundred programmers be?<br><br>BTW CreateImage does not MAV. <br><br></td></tr></table><br>
<a name="938044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow..<br><br>That's weird, and worrying.<br><br>Certainly there's some special quality about those dimensions, has anyone tried with 1160x1638 or something?<br><br>They seem like randomly plucked from a hat, but there must be a reason why those values specifically cause an issue.<br><br><div class="quote"> <br>I am pretty sure Mark did NOT add this "feature", why should he do something like:<br><br>if w=580 and h=819 then MAV<br><br>It really doesn't make sense. I would rather suspect microsoft as the fishy part, since they already implemented browser backdoors be checking if a jpg contains executable code and then execute it blindly ... I mean, how stupid can a hundred programmers be? <br></div><br>Totally agree... and as for 100 programmers, I'd go with too many cooks syndrome ;) <br><br></td></tr></table><br>
<a name="938060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> About the special quality, I tought a little about it, but the only thing I can think of are the ratio or the number of pixels (475020). Neither seems to give an odd/special number. Its not about the file weight either since it happens on both bmp/jpg/png.<br><br>And about the ratio : As far as I tested its not the problem. 1160x1638 does not crash. <br><br></td></tr></table><br>
<a name="938116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just out of curiosity, I reversed the dimensions and it loads just fine. I guess that would rule out anything dealing with the total pixels in the image. Also, since it does this with *any* (.jpg,.png,.bmp,...) image, it's got nothing to do with file sizes or content.<br><br>It makes me wonder if there are any other resolutions that cause a problem. Maybe write up a chunk of code that creates an image and reads it back in, then iterate through a bunch of loops to find out. <br><br></td></tr></table><br>
<a name="938125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> GREAT NEWS!<br><br>I found another "magic resolution".<br>Its good news in the sense it could give us a lead.<br><br>The bad news its I dont see much of a relation for the new magical resolution is 900x1347, which has a quite close ratio to 580x819 ... close, yet different.<br><br>Other than making the supposedly stable verion I released NOT stable, it suggests that there are yet others magical resolutions to be found.<br><br>Im now trying to find relations between those two sizes in the hope of making a rule to exclude such magical pictures before trying to load them ... <br><br></td></tr></table><br>
<a name="938130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> How are you finding these?<br><br>This is definitely some kind of bug, but it's like finding a needle in a haystack and now you have found 2 of them.<br><br>Just out of curiosity, have you tried an older build of Blitz? <br><br></td></tr></table><br>
<a name="938147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, didnt try older versions, this might be a good idea tough.<br><br>Im making a tool that scans large collections of pictures to find duplicates, and since each version is released to public, that makes a pretty wide array of pictures to be tested, with very various situations.<br><br>Those "magical sizes" tough only happened a few times are those are indeed weird sizes. I can exclude magical resolution pictures by doing a condition for each known "magical size", however Ill never be sure if a new will arise at some point.<br><br>Im not used to that bugs forum, what are the chances/delay to see that bug corrected ? Should I not count on that ? <br><br></td></tr></table><br>
<a name="938213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is of particular interest to me, ebcause I am working on an application which deals with  converting images selected and loaded by the user, so it's very likely that sooner or later, an image with such a resolution may pop up.<br><br>I'm gonna work on  loading in various images on a range of sizes, hopefully (and painstakingly long/laboriously) will reveal as many of these numbers as possible.<br><br>It's way beyond me, but perhaps if anyone's more savvy with  technio-babble and programming that knows something of the BlitzSDK or so, is there anything significant in the core coding of the "LoadImage" command?<br>----------<br>It's a fairly critical kinda bug, especially as it now seems likely there's potentially more of these "magic resolutions" that could pop up unexpectedly, but then again... I'm not sure that it's really gonna be a priority case to be honest. Also, as the bug is quite obvious once discovered to be due to the image resolution, then it can always be worked around (albeit awkwardly with resized images or whatnot).<br><br>Of course, I'm in no way any authority on the subject, just speculation to be honest. <br><br></td></tr></table><br>
<a name="938581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Okay, think I've found this - new updates for Blitz3D and BlitzPlus are now available from the product updates section of the Account page.<br><br>The bug appears to be due to FreeImage reading one more byte than it should when converting bitmaps from one format to another.<br><br>99% of the time, this is harmless. However, now and then (eg: when the size of a memory block is 'just right' etc) you end up reading from unallocated memory and causing an exception. <br><br></td></tr></table><br>
<a name="938591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sacha</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent ! That really gets me out of trouble : )<br><br>Oh ? version 1.100 ? Heh, altough thats totally illegitimate and maybe somewhat childish, I feel "proud" a little that my bug report caused the 1.100 version to appear ... Do I win a candy ? :D <br><br>Anyways, thanks alot for the quick response &amp; update, Mark : ) <br><br></td></tr></table><br>
<a name="938604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tested this with my FreeImage 3.10.0 module and it didn't crash. <br><br></td></tr></table><br>
<a name="938608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark.<br><br>I know it's been said before, but I'll say it again. Your product is outstanding and the support is incredible.<br><br>Ok, enough praise,... get to work on Blitz3d 2.0! :p (Sorry, couldn't help myself) <br><br></td></tr></table><br>
<a name="938625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bah, he didn't include full DX9 support. <br><br></td></tr></table><br>
<a name="938895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fantastic, Mark - Thank you very much for addressing this :)<br><br>(And I must apologisde if my comment of "... I'm not sure that it's really gonna be a priority case to be honest. Also, as the bug is quite obvious once discovered to be due to the image resolution, then it can always be worked around (albeit awkwardly with resized images or whatnot)." Didnt inspire much confidence. <br><br></td></tr></table><br>
<a name="940443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark! <br><br></td></tr></table><br>
<a name="940533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mr. Sibly ! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
