<!DOCTYPE html><html lang="en" ><head ><title >ClearTextureFilters() + alpha flag = MAV on Vista</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ClearTextureFilters() + alpha flag = MAV on Vista</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >ClearTextureFilters() + alpha flag = MAV on Vista</a><br><br>
<a name="841145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The following code produces a Memory Access Violation with B3D v1.98 on Vista. <br><br><div class="quote"> Graphics3D 800,600,0,2<br><br>ClearTextureFilters()<br>Cursor = LoadTexture("texture.png" ,2)<br><br>End <br></div><br><br>It only occours when you use ClearTextureFilters among with LoadTexture using the alpha flag. I was very surprised when I noticed it, since it's an extremely common situation.<br><br>I tested it with B3D 1.89 as well and it runs fine instead of crashing. It doesn't seem to affect Windows XP, since it ran fine with either versions of B3D.<br><br>I don't have other Vista PC's to test the bug with... could anyone with Vista kindly test it and post the results?<br><br><br>Test machine: AMD X2 5200, ATI 1950 Pro (latest Catalyst), 2gb RAM, Vista Ultimate (all updates installed, UAC disabled), DirectX 9.0c (latest distribution). <br><br></td></tr></table><br>
<a name="841165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am referring to the latest update, v1.99, not v1.98... it states the wrong version number in the IDE. :) <br><br></td></tr></table><br>
<a name="841195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abrexxes</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no Vista, but works fine on XP. Welcome in the new world of b3d textur issus. ;) <br><br>(Really cool, lots of problems here with textures with new drivers and cards and not "one" statement from brl.....) <br><br></td></tr></table><br>
<a name="841197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It works fine indeed on XP, it seems to be a Vista only issue (at least on my machine).<br><br><div class="quote"> lots of problems here with textures with new drivers and cards <br></div><br>This looks like the mother of all texture issues, since it only need a cleartexturefilters and an alpha texture to crash. :)<br><br>Anyway, I am wondering if this bug is present with any video card and thus it is a OS issue or not. <br><br></td></tr></table><br>
<a name="841220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Confirmed, clearing textures filters and loading any texture with the ,2 flag results in meltdown. Noticed this awhile back but was hoping it was a driver issuse. 4 sets of drivers later - it still presists. <br><br></td></tr></table><br>
<a name="841309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm curious... what chipset are you using, ati or nvidia? I don't think the bug is driver related.<br><br>Anyway, this bug MUST be solved as B3D becames quite useless without a way to clear texture filters (and it also causes havoc with a lot of already written source code), and since it didn't exist with older versions there should be a solution. <br><br></td></tr></table><br>
<a name="841399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SabataRH</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nvidia chipset, i tested with the 7000 series and the 8000 series, same MAV.<br><br>Haven't tested on ATi though. <br><br></td></tr></table><br>
<a name="841516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is very bad news.<br>I hope Mark is reading this. <br><br></td></tr></table><br>
<a name="842289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do I get this right, you get the MAV as soon as you try to use a texture that was created or loaded after the ClearTextureFIlters?<br><br>If so, there may be a solution. Try it this way instead:<br><br>ClearTextureFilters()<br>Cursor = LoadTexture("texture.png" ,2 or 1)<br><br>Setting the flag 1 may save the day. (?) See also this thread:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=71111" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=71111</a><br><br>It may be the same probem, although in my case it was on XP. <br><br></td></tr></table><br>
<a name="842413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Setting the LoadTexture to 3 (2+1) works... thanks JFK, you saved the day. :)<br><br><div class="quote"> <br>Cursor = LoadTexture("texture.png", 3)<br> <br></div><br><br>Hey Swampdonkey, could you test if it works on your pc too?<br><br>Weird bug, though (on the other hand it could just be a bad habit covered in the older versions, since as JFK pointed out in the other thread ClearTextureFilters removes the flag 'color'). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
