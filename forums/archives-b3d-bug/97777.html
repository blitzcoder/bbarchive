<!DOCTYPE html><html lang="en" ><head ><title >2d graphic commands in Graphics3D mode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2d graphic commands in Graphics3D mode</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >2d graphic commands in Graphics3D mode</a><br><br>
<a name="1137676"></a>

<a name="1137677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys. Don't know if this is a bug, but it's driving me nuts! I recently re-installed windows, and just put blitz3d back on. Problem is, all 2d graphic commands have stopped working when using Graphics3D mode. I can write a basic two-line program to test it:<br><br>Graphics3D 800,600,32,2<br>Plot 100,100<br><br>and nothing shows. If I use 2d mode and type<br><br>Graphics 800,600,32,2<br>Plot 100,100<br><br>it plots the dot fine. In 3D mode though, none of the graphics are drawing onto the screen. I've noticed it happens now in all my programs. Not sure what the issue might be? Text still goes fine in both 2d and 3d mode.<br><br>I'm on Vista, but then, I've been Blitzing on Vista for years, and never had a problem, so I don't think that is the problem. I've patched Blitz to the latest version, but I tried uninstalling, and only patching to some of the previous versions, and 2D still doesn't draw when in Graphics3D mode...<br><br>EDIT: forgot to mention. Geforce GTX 560 TI graphics card, and latest version of Direct X and Nvidia drivers (I think).<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1137686"></a>

<a name="1137687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Graphics3D command sets the back buffer as the default drawing buffer (because 3D can't be drawn to the front buffer), as opposed to Graphics which defaults to the front buffer.<br><br>In a more complex program you would probably never see the difference, since almost everyone uses the back buffer for 2D work, and almost everyone redundantly declares "SetBuffer BackBuffer()" after Graphics3D out of habit.<br><br>Anyway the short answer is that you need to either flip, or change drawing buffers.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1137689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! Yes, I'm flipping in my programs. I set the buffer to back buffer, then in my main routine, I use:<br><br>UpdateWorld()<br>RenderWorld()<br>(all 2d text and graphics in here)<br>Flip<br><br>I've been doing this for years, and never had a problem before. I've got dozens of programs, and I haven't made any changes to their code - they all usually work, but now the 2D graphics are not there in any that have the Graphics3D command. I've noticed that its only the graphic elements (plot, line, etc) and that text is still working fine, and will display. <br><br></td></tr></table><br>
<a name="1137693"></a>

<a name="1137694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a test, with 3D and 2D graphics, plus text. It works for me, Windows 7 64-bit and nvidia.<br><br>Edit: Compatibility mode is set to Windows XP, Service Pack 3.<br><br><pre class=code>Graphics3D 800, 600, 0, 2		; windowed, but it shouldn't matter
SetBuffer BackBuffer()			; not really necessary

cube = CreateCube()
cam = CreateCamera()
PositionEntity cam, 0, 0, -4

While Not KeyDown(1)
	RenderWorld
	TurnEntity cube, 0.01, 0.02, 0.03
	Color 255, 255, 0
	Text 50, 50, "Yaw is " + EntityYaw(cube)
	Color 20, 200, 20
	Rect 50, 70, 110, 30
	Flip
Wend
</pre><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1137695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br>Okay, I've run it to see what would happen. There is a grey cube slowly spinning in the middle of the screen, and in the top left is some yellow text which is reporting the Yaw of the cube. There's no rectangle drawn on the screen anywhere though.<br><br>I also tried running it again, this time with Win XP compatability turned on, but it didn't make a difference :( <br><br></td></tr></table><br>
<a name="1137697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well that's a mystery.<br><br>So this used to work on the same hardware with Vista before the reinstall? I wonder if there is some problem with Vista and the latest nvidia driver. <br><br></td></tr></table><br>
<a name="1137699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try explicitly installing DirectX 9 as well?<br><br>(DX9 and DX10/11 will coexist without issues) <br><br></td></tr></table><br>
<a name="1137703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, took a while to find a full install download of dx9.0c but I tried it, and it didn't fix the problem. I seem to recall the program is based on dx7 anyhow, so I also found a download of dx7 (which I had to try installing in compatability mode to make it install) but that did nothing either... Not sure what to try next. <br><br></td></tr></table><br>
<a name="1137786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you use the Read- and WritePixelFast commands? They probably won't work if Rect doesn't, but it's worth checking as they're the simplest 2D commands; if they don't work the issue is almost certainly outside anything to do with B3D.<br><br>I can't remember now, but I think Text might go through some completely unrelated Windows text-drawing layer, and therefore may work when everything else doesn't simply because it's using something else to put the pixels in place, which would explain the inconsistency.<br><br>Perhaps try reinstalling the drivers or rolling back driver versions? True-2D support has been less than great for a few years now (for practical purposes you shouldn't generally be using pixel-2D), but not working at all is another matter, and not acceptable if it's Nvidia's doing. If you can get it working by rolling back driver versions then that's a serious bug that needs a report to Nvidia.<br><br>Also, you don't need to download DX7 if you have DX9; the latter includes the former. <br><br></td></tr></table><br>
<a name="1137843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm. I ran the code sample for read / write pixel fast, and got a memory access violation. This was just with Graphics command too, and not Graphics3D command. On an impulse, I ran it in full screen mode - and it worked! However, when I then tried running the sample using Graphics3D, in window and in full screen, it did not work at all. I'm going to uninstall the Nvidia driver, and try installing an old Nvidia driver, and see if that does anything. <br><br></td></tr></table><br>
<a name="1137852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> SOLUTION FOUND:<br>Okay, so it's the Nvidia Drivers. I uninstalled the latest driver, and installed an older one off my backup hard drive - and all the programs work now, all the 2d graphic elements draw perfectly fine in Graphics3D mode now. So they've definitely changed something in their latest Nvidia driver. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
