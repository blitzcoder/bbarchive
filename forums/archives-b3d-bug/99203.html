<!DOCTYPE html><html lang="en" ><head ><title >Issue with CreateTexture with no color flag</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Issue with CreateTexture with no color flag</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >Issue with CreateTexture with no color flag</a><br><br>
<a name="1163372"></a>

<a name="1163373"></a>

<a name="1163374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm getting a 'Buffer does not exist' runtime error when using 'CreateTexture' without the color flag set and then calling 'SetBuffer TextureBuffer( tex )'. The return value from 'CreateTexture' is non-zero in this case, so the error can't be trapped.<br><br>I also couldn't find anything in the docs to say that the color flag is an absolute requirement and that texture creation would fail without it, so I'm assuming this is some sort of bug.<br><br>Tested with debug mode turned on in Windows 7. Video card is a Radeon 5770.<br><br><br>This code doesn't set a color flag for 'CreateTexture'.<br>This terminates with a 'Buffer does not exist' runtime error when the 'SetBuffer TextureBuffer( tex )' line is processed.<br>If texture creation failed then the return value from 'CreateTexture' should have been a zero so that the issue could be handled by the program, but that doesn't seem to be the case.<br>[bbcode]<br>Graphics3D 800, 600, 0, 2<br>SetBuffer BackBuffer()<br><br>ClearTextureFilters<br><br>tex = CreateTexture( 64, 64, 2 )<br>If tex = 0 Then RuntimeError "ERROR: CreateTexture failed."<br><br>SetBuffer TextureBuffer( tex ) ; The runtime error occurs on this line.<br><br>Print "OK - The texture was successfully created."<br><br>WaitKey : End<br>[/bbcode]<br><br><br>This code sets a color flag for 'CreateTexture' and doesn't terminate with a runtime error.<br>[bbcode]<br>Graphics3D 800, 600, 0, 2<br>SetBuffer BackBuffer()<br><br>ClearTextureFilters<br><br>tex = CreateTexture( 64, 64, 1 + 2 )<br>If tex = 0 Then RuntimeError "ERROR: CreateTexture failed."<br><br>SetBuffer TextureBuffer( tex ) ; No runtime error occurs on this line.<br><br>Print "OK - The texture was successfully created."<br><br>WaitKey : End<br>[/bbcode]<br><br><br>-<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1163402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No crash for me. I think this is one of those things that turned out to be hard to predict in practice, and doesn't fit into B3D's nice model of everything being unifiable under a simple interface.<br><br>The plus side is that at least there's an obvious immediate-term fix at the application level: if you want a monochrome texture, you can always load it with the colour flag anyway but then manipulate the pixels by hand to force it to be monochrome. <br><br></td></tr></table><br>
<a name="1174479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using an actual ATi Radeon 5770 card, or is it an OEM Radeon 5770 GPU card or a  5770 chipset? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
