<!DOCTYPE html><html lang="en" ><head ><title >Dim and include mixup</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Dim and include mixup</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >Dim and include mixup</a><br><br>
<a name="1032915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fernhout</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This one is a odd one.<br><br>i made a program and used ready made code. e.g:<br><pre class=code>Include "buttons.bb"
Include "MapShift.bb"

Dim ButtenReturn(25)
Dim ButtonSelected(25)
Dim WorldMap(100,100)
ect.
</pre><br>Nothing wrong here. But when i compile the compiler says:<br>Expection ")" <br>and opens the include file Mapshift.bb pointing out the first line where WorldMap(x,y) occurse.<br><br>The include file is a compleet Function so it wil execute later. <br>But on the same way there is no warning on the first two dim statments.<br><br>I can understand why the warning is comming during precompiling the arrar can not set. But the strange thing i get is when i replace only the Worldmap arrar above the include and the rest stay the same. e.g.:<br><pre class=code>Dim WorldMap(100,100)
Include "buttons.bb"
Include "MapShift.bb"

Dim ButtenReturn(25)
Dim ButtonSelected(25)

ect.
</pre><br>Then the compiling is working and the program is working to. Even if i fill out the buttenReturn array complete and read them out there is nothing going wrong. I was expecting during the program run in debug mode to get an error Array out of bound. But nothing of that.<br><br>My question here is:<br>Why can i compile the second option and not getting any problems. If the precompiling is working with the one array why not with the two array. <br><br>Can anybody explain me what is wrong here. <br><br></td></tr></table><br>
<a name="1032937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem you get there is that the bb is preprocessed on include. When it does so, it checks if all the used stuff within the bb is defined already.<br><br>As the source is checked from top to bottom, only the things declared before the include call are "defined" for the included file at that point. The rest of the "main source file" has not been processed yet, so the declarations after the include don't exist.<br><br><br>This is a bit inconsistent to the behavior of the rest of blitz as the "order" only is of importance in this case, yet its an important and easy to remember exception <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
