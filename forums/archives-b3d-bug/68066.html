<!DOCTYPE html><html lang="en" ><head ><title >MAV on command ImagesCollide</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MAV on command ImagesCollide</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >MAV on command ImagesCollide</a><br><br>
<a name="760341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Sherratt</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm currently getting random MAV's with this command on my new system. I'm using the latest drivers for my graphics card and using on the latest Blitz3D.  I've tried all the previous versions hosting on this site but still to no avail.<br><br>I am doing nothing special with my code just simply loading 2 AnimImages and checking for a collision. This will always randomly cause a MAV for no reason. All the parameters which have been passed are valid (frames are in range and coords have overlapped).  <br><br>I have also noticed the images dont even have to overlap, as soon as their bounding boxes do also causes the error with this command.<br><br>As soon as I change the command to RectsOverlap (so that I dont check the images directly) the MAV's simply disappear.<br><br>Any help on this matter would be very grateful.<br><br>My system is as follows...<br>Core2 Duo 6700<br>Geforce 8800GTX<br>2Gig Ram<br>Windows XP SP2 <br><br></td></tr></table><br>
<a name="760343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What are the dimensions of the source media and what parameters are you passing loadanimimage? <br><br></td></tr></table><br>
<a name="760344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Sherratt</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Details are as follows...<br><br>Image 1:<br>- PNG 24Bit<br>- 3170x176x24<br>LoadAnimImage("Image1.png", 66, 88, 0, 96)<br><br>Image 2:<br>- PNG 24Bit<br>- 468x240x24<br>LoadAnimImage("Image2.png", 52, 60, 0, 36) <br><br></td></tr></table><br>
<a name="760371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Potential problem with your first image - 3170 is not equally divisible by 66.<br><br>Have you got debug off?  That's usually the case when you get a non-descript MAV.  Turn it on and it'll probably tell you you're trying to use an image frame that simply isn't there (or it would possibly even bomb out when you try to load the frames). <br><br></td></tr></table><br>
<a name="760417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Sherratt</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah realised that actually, thanks anyway. So I changed the first sprite too 3168x176x24 (which is exactly 48*66/88*2) and I still get errors. <br><br>Ive always had debug on but unfortunately it makes no difference either, still gives me the MAV.<br><br>This is what I've noticed, the frame in which it crashes can be consistent if you run the code over and over but if you run some over code (such as a Direct x program or even something else in Blitz) this will cause the randomness of the crashes. I'm only guessing but could this be something todo with the way Blitz is checking graphics/system memory maybe?<br><br>I should also comment that I have also run my hardware through various scans for faults but all has come out fine. <br><br></td></tr></table><br>
<a name="760478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to remember an old bug that caused ImagesCollide to MAV ocassionally, on certain hardware, or something. <br><br></td></tr></table><br>
<a name="760518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gillissie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't have an answer, but I do have a clue. The 8800 series video cards have several issues. I've gotten a lot of graphical glitches on images created using CreateImage.<br><br>If I were you, I would rearrange that 3168x176 image so that it was narrrower and taller. In other words, put less frames on each row and make more rows. Try to keep your images smaller. Try 1056x528, with 16 per row, 6 rows. <br><br></td></tr></table><br>
<a name="760541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Anthony Sherratt</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Gillissie but I've tried this idea also with a 990 width (under 1024) and 462 (under 512) to see if its that helps. I've even tried using different images and sizes/frames but I still get random MAV errors.<br><br>Thing is I would also say this is a 8800 issue but I have sent the same code out to a few people I know. A good percentage are fine with the code (no errors) but 1 or 2 do still get the MAV errors and dont have these series of graphics cards.<br><br>Theres no definite answer but it seems to be steering towards more recent hardware/drivers which is causing it. Maybe a Direct X 9 issue ? <br><br></td></tr></table><br>
<a name="890490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >no nickname</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for pushing this thread but I want to add something.<br><br>In my game I had also some random MAV's and it was definitivly the fault of the graphics card. I testet some NVidia and ATI cards and it seems to me like this bug is getting bigger and bigger. It's not only the 8800 series from NVidia which causes this crash.<br><br>Now I'm worried about ImagesCollide. How long is this command useable?<br>And is there any hope to fix this bug?<br><br>greetings, Christoph. <br><br></td></tr></table><br>
<a name="891132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BIG BUG</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually this command wasn't usable for the last few years(If you wanted your game to work on more than 65 % of PC configurations).<br>ImageRectCollide face the same issue btw.<br><br>I bet there won't be any fix ever, not by NVidia, not by ATI and certainly not by BRL.<br><br>So the only thing to do: NEVER EVER USE ImagesCollide AND ImageRectCollide!!!<br><br>There are other techniques like using Bounding Box and ReadPixelFast...<br>ImagesCollide is a simple solution, but not the best/fastest anyway. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
