<!DOCTYPE html><html lang="en" ><head ><title >Stability on target PC's</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Stability on target PC's</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=50" >Blitz3D Bug Reports</a>/<a href="#bottom" >Stability on target PC's</a><br><br>
<a name="637863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stone</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> On some systems, compiled program won't run at all. <br><br></td></tr></table><br>
<a name="637866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stone</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a finished product that won't run on some systems.  <br>I tried compiling this hello world, and even it won't run on those systems:<br><br>While 1<br>Print "Hello World " + i<br>i = i + 1<br>Wend<br><br><br>It's being tested at Microsoft and my publisher and it won't run on a Toshiba M4 tablet PC and also this system:<br><br>Operating System: Windows XP Professional (5.1, Build 2600) Service Pack 2 (2600.xpsp_sp2_gdr.050301-1519)<br>           Language: English (Regional Setting: Hebrew)<br>System Manufacturer: INTEL_<br>       System Model: D915GEV_<br>               BIOS: BIOS Date: 04/29/05 21:08:57 Ver: 08.00.10<br>          Processor: Intel(R) Pentium(R) 4 CPU 3.00GHz (2 CPUs)<br>             Memory: 2038MB RAM<br>          Page File: 671MB used, 3252MB available<br>    DirectX Version: DirectX 9.0c (4.09.0000.0904)<br>     DxDiag Version: 5.03.2600.2180 32bit Unicode <br><br></td></tr></table><br>
<a name="637867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OldNESJunkie</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you notice the post below ? Read &amp; try that to see if this solvs the problem on the Tablet PC at least. <br><br></td></tr></table><br>
<a name="637871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stone</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just looked, I bet that's it! <br><br></td></tr></table><br>
<a name="638552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stone</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that fixes it, but Microsoft (who wants to market my game) says:<br><br>"However, long-term, it needs to be properly fixed. In the future we're going to have some more stringent guidelines about good windows citizenship for apps being sold via MSN, and this type of thing wouldn't make the cut. <br><br>If you can get in touch with someone from Blitz3D and hook us up on email, I'd be happy to put them in touch with an engineer to help fix the issue.<br>" <br><br></td></tr></table><br>
<a name="638778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Flame</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wooo, wait a min, you have contact with Mircosoft?! Nice. <br><br></td></tr></table><br>
<a name="638994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a contact at MS too. They told me to contact a "lawyer"..... <br><br></td></tr></table><br>
<a name="641964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stone</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> // Here's a C program that I'm using as a work-around<br><br><br>// Fixup for B3D / Microsoft compatability<br>#include &lt;windows.h&gt;<br>#include &lt;tchar.h&gt;<br>#include &lt;stdio.h&gt;<br>#include &lt;io.h&gt;<br>#include &lt;process.h&gt; <br>#include &lt;time.h&gt;<br><br>#define TARGET_PROGRAM  "_.exe"<br>#define COMMAND_LINE	" test"<br>// Note the use of a space at the beginning of the command line<br><br>int RunAndWait(char *startup, char *ex, char *cl)<br>{<br>    STARTUPINFO si;<br>    PROCESS_INFORMATION pi;<br><br>    ZeroMemory(&amp;si, sizeof(si));<br>    si.cb = sizeof(si);<br><br>    // Start the child process. <br>    if(CreateProcess(ex, // module name<br>        cl, // Command line. <br>        NULL,             // Process handle not inheritable. <br>        NULL,             // Thread handle not inheritable. <br>        FALSE,            // Set handle inheritance to FALSE. <br>        0,                // No creation flags. <br>        NULL,	          // Use parent's environment block. <br>        startup,           // Use parent's starting directory. <br>        &amp;si,              // Pointer to STARTUPINFO structure.<br>        &amp;pi )             // Pointer to PROCESS_INFORMATION structure.<br>		== 0) <br>    {<br>		MessageBox(NULL, ex, "Error: Cannot run!", MB_OK);<br> 		return(0);<br>    }<br><br>    WaitForInputIdle( pi.hProcess, INFINITE );<br>    SetCursor(LoadCursor(NULL, IDC_ARROW));<br>    // Wait until child process exits.<br>    WaitForSingleObject(pi.hProcess, INFINITE );<br><br>    // Close process and thread handles. <br>    CloseHandle(pi.hProcess);<br>    CloseHandle(pi.hThread);<br>	return(1);<br>}<br><br><br>BOOL DisableAdvText(char *FileName)<br>{<br>    HKEY hkey;<br>    DWORD dw;<br>	static char Val[] = "DISABLECICERO";<br><br>    RegOpenKeyEx(HKEY_CURRENT_USER,"",0,KEY_QUERY_VALUE,&amp;hkey);<br>    RegCreateKeyEx (hkey, "Software", 0L, NULL,<br>            REG_OPTION_NON_VOLATILE, <br>            KEY_ALL_ACCESS, <br>            NULL, &amp;hkey, &amp;dw);<br>    RegCreateKeyEx (hkey, "Microsoft",  0L, NULL,<br>            REG_OPTION_NON_VOLATILE,<br>            KEY_ALL_ACCESS, <br>            NULL,&amp;hkey,  &amp;dw);<br>    RegCreateKeyEx (hkey, "Windows NT", 0L, NULL,<br>            REG_OPTION_NON_VOLATILE,<br>            KEY_ALL_ACCESS, <br>            NULL,&amp;hkey, &amp;dw);<br>    RegCreateKeyEx (hkey, "CurrentVersion", 0L, NULL,<br>            REG_OPTION_NON_VOLATILE,<br>            KEY_ALL_ACCESS, <br>            NULL,&amp;hkey, &amp;dw);<br>    RegCreateKeyEx (hkey, "AppCompatFlags", 0L, NULL,<br>            REG_OPTION_NON_VOLATILE,<br>            KEY_ALL_ACCESS, <br>            NULL,&amp;hkey, &amp;dw);<br>    RegCreateKeyEx (hkey, "Layers", 0L, NULL,<br>            REG_OPTION_NON_VOLATILE,<br>            KEY_ALL_ACCESS, <br>            NULL,&amp;hkey, &amp;dw);<br>    RegSetValueEx(hkey, FileName, 0, REG_SZ, (const BYTE*)Val, sizeof(Val) + 1);<br>	RegFlushKey(hkey);<br>    RegCloseKey(hkey);<br>    return TRUE;<br>}<br><br>BOOL EnableAdvText(char *FileName)<br>{<br>    HKEY hkey;<br>    RegOpenKeyEx(HKEY_CURRENT_USER,"",0,KEY_QUERY_VALUE,&amp;hkey);<br>    RegOpenKeyEx(hkey,"Software",0,KEY_QUERY_VALUE,&amp;hkey);<br>    RegOpenKeyEx(hkey,"Microsoft",0,KEY_QUERY_VALUE,&amp;hkey);<br>    RegOpenKeyEx(hkey,"Windows NT",0,KEY_QUERY_VALUE,&amp;hkey);<br>    RegOpenKeyEx(hkey,"CurrentVersion",0,KEY_QUERY_VALUE,&amp;hkey);<br>    RegOpenKeyEx(hkey,"AppCompatFlags",0,KEY_QUERY_VALUE,&amp;hkey);<br>    RegOpenKeyEx(hkey,"Layers",0,KEY_SET_VALUE,&amp;hkey);<br>    RegDeleteValue(hkey, FileName);<br>	RegFlushKey(hkey);<br>    RegCloseKey(hkey);<br>    return TRUE;<br>}<br><br>int MutexExists(char *pMutexName)<br>{<br>	// Attempt to create defualt mutex owned by process<br>	CreateMutex(NULL, 1, pMutexName);<br><br>	// Check success<br>	if (GetLastError() == ERROR_ALREADY_EXISTS)<br>		// Mutex was not created<br>		return 1;<br>	else<br>		// Mutex was created<br>		return 0;<br>}<br><br>// WinMain - main routine.<br>int PASCAL WinMain(HINSTANCE hInstance, HINSTANCE hPrevInstance, LPSTR lpszCmdParam, int nCmdShow)<br>{<br>	char TheFile[256];<br>	char folder[256];<br>	char combuff[256];<br>	// Check for previous instance of application<br>	if(MutexExists("B3D Fix"))<br>		{<br>		// Display error message<br>		MessageBox(NULL, "I'm already running!", "Error", MB_OK | MB_ICONERROR);<br>		// Close current instance<br>		return 0;<br>		}<br><br>	GetCurrentDirectory(sizeof(folder), folder);<br>	strcpy(TheFile, folder);<br>	strcat(TheFile, "\\");<br>	strcat(TheFile, TARGET_PROGRAM);<br>	DisableAdvText(TheFile);<br>	strcpy(combuff, TARGET_PROGRAM);<br>	strcat(combuff, COMMAND_LINE);<br>	RunAndWait(folder, TheFile, combuff);<br>	EnableAdvText(TheFile);<br>	return(0L);<br>} <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
