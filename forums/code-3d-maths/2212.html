<!DOCTYPE html><html lang="en" ><head ><title >-Please remove-</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='-cut-, language=bb, category=3D Graphics - Maths'><meta name='author' content='Trader3564'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=13>3D Graphics - Maths</a>/-Please remove-</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="2212.bb">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Please remove- by Trader3564</td><td align="right">2008 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> -cut- </td></tr><tr ><td class="cell"><pre class="code">-cut-</pre></td></tr></table><br><a name="comments">Comments</a><br><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Doiron</td><td align="right"><font class=tiny>2009</font></td></tr></table></td></tr><tr ><td class="posttext"> In order to return the classic orientation where, given the source at x=0, y=0, the destination facing up north is 90°, shouldn't the function be like this?<br><br><pre class=code>Function GetAngle:Float(srcx:Float, srcy:Float, destx:Float, desty:Float) 
	Local angle:Float = ATan2(desty - srcy, destx - srcx)
	angle = angle - 180
	If angle &gt; 0 angle = 360 - angle
	Return Abs(angle) 
End Function</pre> <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>2009</font></td></tr></table></td></tr><tr ><td class="posttext"> both of the formulas/functions do extra work. If you set the images to work naturally with the equation, those last steps are unnecessary. you will never get an angle &gt; 360 or &lt; -360. some one has yet to prove to me where it fails. if you add the returning angle to "SetRotation" it will work just fine so the correct way would be:<br><pre class=code>
Function GetAngle:Float(srcx:Float, srcy:Float, destx:Float, desty:Float) 
	return ATan2(desty - srcy, destx - srcx)
End Function
</pre><br>and save yourselves some headaches.<br>the main problem most beginners make is that the "missile" images are not created with the angle pointing to the direction corresponding the logic. if drawing missiles they have to be created pointing to the right instead of up and everything else will work fluidly.<br>if you decide to keep your images pointing up then yust set rotation like this:<br><pre class=code>
SetRotation angle-90
</pre><br><br>it works with missiles, rockets, spaceships, cars, etc. <br><br></td></tr></table><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
