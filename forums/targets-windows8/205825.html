<!DOCTYPE html><html lang="en" ><head ><title >PubCenter ads</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >PubCenter ads</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=525" >Windows 8</a>/<a href="#bottom" >PubCenter ads</a><br><br>
<a name="2066191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Taking the latest monkey release (v75a) has anyone actually got PubCenter to work on it? <br><br>All followed the tutorial (both the one that drags the control into the view, and the one doing it by code) without much success.<br><br>I can actually see a small border where the ad should be, but it goes away pretty fast, and then I've got this on the output console:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
An exception of type 'System.Exception' occurred in mscorlib.ni.dll and wasn't handled before a managed/native boundary
An exception of type 'System.Net.WebException' occurred in System.Windows.ni.dll and wasn't handled before a managed/native boundary
An exception of type 'System.Net.WebException' occurred in System.Windows.ni.dll and wasn't handled before a managed/native boundary
An exception of type 'System.Net.WebException' occurred in Microsoft.Advertising.Mobile.DLL and wasn't handled before a managed/native boundary
The thread 0xf50 has exited with code 259 (0x103).
</textarea><br><br>Google didn't have anything helpful about that :(<br><br>It isn't an emulator problem, since it happens the same way on a real device (yup, I've got a Lumia 620!) and it happens both with the 'test ad' and with 'real ads'... so I'm not sure what to do next.<br><br>I even reinstalled the win phone 8 sdk, hoping it would fix something... but nope, same errors :(<br><br>Have anyone succeeded on this? <br><br></td></tr></table><br>
<a name="2066192"></a>

<a name="2066193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Figured it out! Apparently it was a no internet connection problem - the moment I tested on the real device, with wifi connected, the test ad showed up!<br><br>Now I only need to figure out *how* to hide/show the ads during the game... have no clue how from 'MonkeyGame.cpp' I'm going to reach the ad on MainPage.xaml :( <br><br></td></tr></table><br>
<a name="2066390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nobody has any idea how to show/hide the xaml view from within the monkey code? Not even from the c++ code? <br><br></td></tr></table><br>
<a name="2066884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not yet, will check it sooner or later. ;)<br><br>Could you post your code/changes you did to display pubcenter ads for WP8 phones please? <br><br></td></tr></table><br>
<a name="2066921"></a>

<a name="2066922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's nothing on Monkey side... I just followed the tutorial on Pubcenter side, on Visual Studio, to get it to display. I was hoping to get some way to show/hide the ads, and then I would build a custom target or something in Monkey with the necessary code.<br><br>But since I didn't get very far and was even discouraged by some sites I found saying the way the game is built there is no access to the XAML from C++ code - I never did anything on the monkey-side of things. <br><br></td></tr></table><br>
<a name="2079422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just for reference, this is the tutorial I followed: <a href="http://msdn.microsoft.com/en-us/library/advertising-mobile-windows-phone-8-adcontrol-visual-designer%28v=msads.20%29.aspx" target="_blank">http://msdn.microsoft.com/en-us/library/advertising-mobile-windows-phone-8-adcontrol-visual-designer%28v=msads.20%29.aspx</a><br><br>Edit: I still can't see live ads =(<br>The test ads show fine both on emulator and on real device - but after I replaced the test info with my app id and ad unit id... nothing. :( <br><br></td></tr></table><br>
<a name="2079416"></a>

<a name="2079452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shockblast</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Slotman, I also have no ads showing up problem I added an error eventhandler to it, it said that no ads are available. So that is most likely it, if the test ad shows up then I think the code should be correctly implemented.<br><br>If there is no ad, the Adcontrol view disappears from the screen but I am noticing that it still tries to get an ad every once in a while. I take that it will appear again if an ad has been correctly fetched. I haven't checked the showing and hiding of the banner yet though... But I am guessing you can just add and remove the Adcontrol from view. <br><br></td></tr></table><br>
<a name="2079465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shockblast</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Showing and Hiding the banner will be a bit difficult to do. Monkey outputs WP8 code in C++ but the AdControl class is in C#. So you need to call a C# method from your C++ code. I could not find an answer by googling around, I hope you guys have a bit more luck than me.<br><br>I also looked at Marks in-app purchases code but that one is also written in C++. <br><br></td></tr></table><br>
<a name="2079525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I'm not even counting on hiding/showing the ad (I also tried to implement it, but failed). My latest game (When Pigs Fly) have an "ad space" in the screen bottom all the time, exactly because of that.<br><br>I do think the problem is indeed a lack of ads to show - I get an error every minute in the console (close to the 60 secs. the ad refreshes), so it must be trying to fetch ads. I'll try to dig a contact email in pubcenter and see if I can get any help with this. <br><br></td></tr></table><br>
<a name="2080740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to register - I've confirmed somehow (still waiting on an answer on behalf of pubcenter) that I'm not seeing ads because there is no "ad available". To do so, I first included this on top of MainPage.xaml.cs:<br><pre class=code>
using System.Diagnostics;
</pre><br><br>Then, on the same file, after "InitializeComponent();" I added:<br><pre class=code>
adControl.ErrorOccurred += AdUnit_ErrorOccurred;
</pre><br>"adControl" being the name I gave the control I dragged into the MainPage.xaml view. <br>And lastly, I implemented the function "AdUnit_ErrorOccurred":<br><br><pre class=code>
        private void AdUnit_ErrorOccurred(object sender, Microsoft.Advertising.AdErrorEventArgs e)
        {
            Debug.WriteLine("&gt;&gt; " + e.ErrorCode.ToString());
            Debug.WriteLine("&gt;&gt; " + e.Error.ToString());
        }
</pre><br><br>And this is the output I've got:<br><pre class=code>
&gt;&gt; ServerSideError
&gt;&gt; Microsoft.Advertising.Shared.AdException: No ad available.
   at Microsoft.Advertising.Shared.AdvertisementFactory.CreateFromResponse(String response, AdDownloadCompleteCallback adDownloadCompleteCallback)
   at Microsoft.Advertising.Shared.AdPlacement.CreateAdvertisement(Byte[] bytes)
   at Microsoft.Advertising.Shared.AdPlacement.AdRequestComplete(IWebRequestWrapper request)
</pre> <br><br></td></tr></table><br>
<a name="2080739"></a>

<a name="2080876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great... just received a reply from Microsoft, that unless the app is already in the store, ads may never show up during development! <br><br>You can't imagine how happy am I to hear this... =P~ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
