<!DOCTYPE html><html lang="en" ><head ><title >Long Source Codes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Long Source Codes</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >Long Source Codes</a><br><br>
<a name="854347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tend to write extremely long and inefficient source codes.  Will this have any effect on the final product, or will it simply slow compiling.<br><br>I can deal with slow compiling, but if this would effect my final product I'm going to have to rethink my code structure.<br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="854352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depends on how well your final product matches the spec you have. If it does what it it suppose to at an acceptable speed then it's fine. If it doesn't then fix it and/or optimise it. If you want to reuse it then review what you have done. <br><br></td></tr></table><br>
<a name="854362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok so I'm looking at a trial and error problem here?<br><br>If there is a problem, what will it cause; slow load times, slow overall execution, something else, or all of the above? <br><br></td></tr></table><br>
<a name="854364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No you aren't looking for a trial an error problem.<br>If it does not work you most likely have to rewrite whole parts in a clean way instead of hacking stuff together most likely.<br><br>As well if you have really long source code you might run into the max source size limitation of blitz <br><br></td></tr></table><br>
<a name="854396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on what you mean by 'inefficient'. Badly written code will probably slow down the runtime execution of your program, but without seeing your code, it's impossible to say if it will or won't be an issue. Even if it does slow down runtime execution, will it do so to a degree that anyone using your program will ever notice? Most modern programming techniques favor code which is less efficient than it could be, but is much easier to manage, for example.<br><br>Bear in mind that the Blitz languages do some optimizations which 'collapse' complex code involving constant values or results, down to a simpler form.  The code 'a = 2 + 2' would be collapsed to 'a = 4'.  The code 'If 2 = 2 Then a = b' would be collapsed to 'a = b' as the result of the If expression would always be true. <br><br></td></tr></table><br>
<a name="854771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> To trap speed issues then I would suggest looking into profiling.<br>Basically, you track how long a function or operation takes to complete and how often it is called. <br>Once collected (in a type object) you can write the data out at the end of the program. <br>You can then look into optimising functions which take a long time or those called often. <br><br></td></tr></table><br>
<a name="854865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, here's what I'm dealing with.<br>Variable p determines which area you are in.<br>Every area has its own function, pic1(),pic2(),pic3().<br>The main loop looks something like this:<br><br><pre class=code>
While cont=True
	If p=1 Then pic1()
	If p=2 Then pic2()
	If p=3 Then pic3()
	If p=4 Then pic4()
	If p=5 Then pic5()
	If p=6 Then pic6()
        Flip
        Cls
Wend
</pre><br>And within each level functions are the general functions that control the mouse, interface, game elements, etc.<br><br>I could probably compact the level info into a data block or array and then combine all the level functions into one, but is this really necessary?   I'm progressing well and thoroughly understand my program as is, but if it affects the final product I want to change it.<br><br>Hopefully this clarifies a bit... if you need more info maybe the <a href="http://home.fuse.net/csauer_9781/lor.html" target="_blank">worklog page</a> will be of use. <br><br></td></tr></table><br>
<a name="854962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the example above 'While cont=True' could be shortened to 'While cont' as the True test is implicit. It may compile the same either way, though.<br><br>The Ifs would probably be faster if implemented as a select case statement. The speed difference may not be worth the trouble, though:-<br><br>eg.<br><pre class=code>
Select p
    Case 1
        pic1()
    Case 2
        pic2()
    Case 3
        pic3()
    Case 4
        pic4()
    Case 5
        pic5()
    Case 6
        pic6()
End Select
</pre><br><br><div class="quote"> And within each level functions are the general functions that control the mouse, interface, game elements, etc. <br></div><br><br>I gather you mean that you're calling the code for these functions from inside your level function and not that you're implementing the code inside each function? Duplicating common functionality isn't efficient.<br><br>The approach you're using may make it difficult to add to your program in future, and may result in a lot of redundant code. In the long term, you will probably want to take a more data driven approach.<br><br>For your first few games, your main priority should be in getting a finished and working product out the door, whether it is freeware or commercial. These first games will be a learning experience. Over time, you will learn what you need to know to code more efficiently. <br><br></td></tr></table><br>
<a name="854985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If P is always between 1-6 then that piece of code is unlikely to be causing any performance problems. What  each of the functions do might cause a problem which is why you need to profile them. <br><br></td></tr></table><br>
<a name="854995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what I've gathered, I think I'll be alright to continue as is.<br><br>I understand this question is difficult to answer without the full source, but even so I've received helpful answers. <br><br>Thanks to all replies. <br><br></td></tr></table><br>
<a name="883282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The Ifs would probably be faster if implemented as a select case statement. The speed difference may not be worth the trouble, though:-<br> <br></div> They are more efficient as they break out and ignore the rest once a condition has been met (ie. "ok, pic=2 so i can do that bit and jump straight to end select ignoring 3,4,5 and 6") this is much better especially within intensive loops.<br><br><br>Another thing that speeds stuff up is:<br>When using custom types, if you have LOADS of references to the same field in a function(for example):<pre class=code>
function updatemonster(mymonster.monster)

   ;-------------------------------------------------------------
   ;in this function there are say.. 50 references to these: 
   mymonster\xpos 
   mymonster\ypos 
   ;-------------------------------------------------------------

end function
</pre>Access to these is slower than normal vars, so this can sometimes be better:<pre class=code>
function updatemonster(mymonster.monster)
   ;create some temp. local storage
   px#=mymonster\xpos 
   py#=mymonster\ypos 
   ;------------------------------------------------------------------------
   ;now in this function there are 50 odd references to these instead: 
   px
   py
   ;------------------------------------------------------------------------
   ;then we need to perform an update the data table on exit. 
   mymonster\xpos =px
   mymonster\ypos =py
end function
</pre>Is faster and more efficient because it is only accessing the type fields twice, 1 read and 1 write instead of 50 times each.<br><br>However, if its just a few refs (eg 5 or less, this doesnt help much) the difference is fairly neglegable (and pointless) for just a few, but for many references i find this temporary replacement a faster option, especially in intensive looping. <br><br>!!!However, be careful if using a return somewhere in the function above, as any required changes to field data can be lost!!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
