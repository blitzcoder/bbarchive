<!DOCTYPE html><html lang="en" ><head ><title >Screen Flashes Between Black and light grey?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Screen Flashes Between Black and light grey?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >Screen Flashes Between Black and light grey?</a><br><br>
<a name="527661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spoolboyy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey guys,<br><br>im new to Blitzplus and programming!  im in the process of writing my very first text-based programs that change the graphics resolution.<br><br>im having an issue where the screen will blink back and forth between a light grey background with white letters to a black background with white letters and its almost as if the black screen is off-center from the greyish one.<br><br>any ideas?  thanks!<br><br>-adam <br><br></td></tr></table><br>
<a name="527681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> post your code! <br><br></td></tr></table><br>
<a name="527684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blaine</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure that you use "SetBuffer BackBuffer()" just before your main program loop. <br><br></td></tr></table><br>
<a name="527845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nicstt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> are you using color r,g,b or clscolor r,g,b at all, seeing your code would be helpful. <br><br></td></tr></table><br>
<a name="527897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spoolboyy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i believe i have a Buffer problem of some sort.  I downloaded the latest version of BlitzPlus, (I was running v1.11).  that got rid of the color changing aspect, now both backgrounds are black...<br><br>However...<br><br>Ive noticed that my code works in BlitzBasic, but not in BlitzPlus.  Is this because Blitzbasic writes directly to the front buffer and that BlitzPlus writes to the back buffer?  <br><br>What it boils down to is i cant seem to get the flips right....<br><br>as the program stands right now, its like ive got two different pages flipping, so i can only see every other line of text at any given time.<br><br>here's the text, its REALLY basic so dont laugh...heh heh....<br><br>Source:<br><br>;practicing repeat until loop<br><br>;this program closes after player presses enter/return<br><br>Graphics 800,600<br><br>Text 0,0, "Why did you open this stupid program?"<br>Flip<br>;y is the variable that judges the location of the text<br>y=12<br><br>Repeat<br>	;print text<br>	Text 0,y, "Press Enter to exit."<br>	;wait a sec<br>	Delay 1000<br>	Flip<br>	<br>	;move next line of text down<br>	y=y+12<br>	<br>;repeat until user hits enter<br>Until KeyHit(28)<br>Text 0,y, "Program is ending."<br><br>Flip<br><br>;wait 2 seconds<br>Delay 2000 <br><br></td></tr></table><br>
<a name="527907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem is you have 2 buffers and you are writing a line of text to one buffer and showing it with flip, then the current buffer is blank and you are writing to that before showing it with flip.  What I do is cls, then redraw the entire screen before flipping.  For you this would mean keeping track of what you had output already and redrawing it each time so that both buffers contain the same text.  Get it? <br><br></td></tr></table><br>
<a name="527922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blaine</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should have "Cls" at the beginning of the loop, and the "Delay" should really come after the "Flip".  One other thing that <b>MAY</b> be affecting it is that you're using a "Repeat"-"Until" loop, and main program loops are usually "While"-"Wend" loops.  But I don't think that it would really make a difference. <br><br></td></tr></table><br>
<a name="528058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spoolboyy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grey Alien, <br><br>thanks for the tip.  i'll tinker with it and see what i can come up with.  <br><br>thanx blaine for the additional help.  i messed with the locales of the flips for a while, but had to run to work so i wasnt able to do a thorough invesigation.<br><br>-adam <br><br></td></tr></table><br>
<a name="528137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> One other thing that MAY be affecting it is that you're using a "Repeat"-"Until" loop, and main program loops are usually "While"-"Wend" loops <br></div>That's irrelevant.  I've made loops using GOTO, and they work fine.<br><br>Double-buffering (using the Flip command) requires you to redraw the entire screen every frame (Flip).<br><br>If you don't want to redraw the entire screen every frame, then<br>either don't use the Flip command (only draw to the front-buffer)<br>or<br>draw every change twice (draw commands / Flip / exact same draw commands).<br><br>But you'll usually find that the second option is just too annoying in most cases and you'll choose to either draw to the frontbuffer only, or redraw the entire screen every frame. <br><br></td></tr></table><br>
<a name="528156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agreee with Wolron in that the main loop type doesn't usually matter.  It does matter sometimes though, as a Repeat - Until will always go once whereas a While - Wend can sometimes never go if the While clause is not met.  Goto loops are non-standard but do work.  I also wonder if anyone has ever made a For - Next loop and adjusted the main For variable so that it never reaches the end of the loop.<br><br>Wolron: Problem with  his code is that if he doesn't use flip, the user'll see nothing! <br><br></td></tr></table><br>
<a name="528157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I took the liberty of rewriting your code as an example<br><br><pre class=code>
Graphics 800,600
LoopExit = 0
While Not LoopExit
	Cls
	Text 0,0, "Why did you open this stupid program?"
	y=12
	Text 0,y, "Press Enter to exit."
	y=y + 12
	;repeat until user hits enter
	If KeyHit(28) Then LoopExit = 1
	Flip
Wend
Text 0,y, "Program is ending."
Flip
;wait 2 seconds
Delay 2000 
</pre><br>It doesn't quite do the same thing but should give you an idea of how things work normally.  Note that the CLS isn't really needed as the text always appears in the same place, but in most game loops it is needed.  My code doesn't keep printing the "Press enter" line, but why would you want to? <br><br></td></tr></table><br>
<a name="529132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spoolboyy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> i see how you've cleaned up the problem there Alien.  And you're right, why would anyone want to re-print the same text over and over again?  Normally you wouldnt want to, but that was the point of this exercise.  Just to teach how to use the Repeat...Until loop.  I'm still lost on this one, but such is the life of a new programmer.<br><br>-adam <br><br></td></tr></table><br>
<a name="529261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have a NES stuck in your code somewhere? :P <br><br></td></tr></table><br>
<a name="529645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spoolboyy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah, im pretty sure its a Nintendo Virus...lol j/k<br><br>i hadnt even thought of that.<br><br>-adam <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
