<!DOCTYPE html><html lang="en" ><head ><title >Drawing a rectangle in a certain amount of time</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Drawing a rectangle in a certain amount of time</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >Drawing a rectangle in a certain amount of time</a><br><br>
<a name="1196093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dale Nation</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I am completely stumped. Does anybody know how to draw a rectangle from point(x,y) to point(nx,ny) in a specified amount of time? Could somebody make that function for me? In my game I have a timer, and I want a progress bar. When the timer starts, the rectangle is very small, but by the time the timer is finished, the rect is stretched in length all the way to the end. I tried some different math, but nothing worked!<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function DrawRect(startx,starty,endx,endy,lengthoftime)
End Function
</textarea><br><br>Regards <br><br></td></tr></table><br>
<a name="1196114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> currentx=(endx-startx)*(float(timepassed)/float(lengthoftime))+startx<br><br>There are other ways of calculating the length.  The biggest mistake is forgetting to use floats in the division, causing the stretching to not be as smooth. <br><br></td></tr></table><br>
<a name="1196123"></a>

<a name="1196124"></a>

<a name="1196125"></a>

<a name="1196147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dale Nation</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you!<br><br>Here is the finished code for anyone who needs it:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

timer = MilliSecs() ;create timer
lengthoftime = 10000 ;time in milliseconds
height = 10

DrawRect(0,100,0,lengthoftime,timer,height) ;call function

Function DrawRect(startx,endx,y,lengthoftime,time,height)
	While timer + lengthoftime &gt; MilliSecs()
		rectlength = (endx-startx)*(Float(MilliSecs()-timer)/Float(lengthoftime))
		Rect startx,y,rectlength,height,1
	Wend
End Function

</textarea> <br><br></td></tr></table><br>
<a name="1196126"></a>

<a name="1196148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dale Nation</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oooh. However, the code above does *not* work is the startx coordinate is not at zero. Try it at startx=250 and endx= 300.<br><br>Edit: I edited the code with it working correctly now. <br><br></td></tr></table><br>
<a name="1196137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> For starters, rectlength should not include the startx term at the end. <br><br></td></tr></table><br>
<a name="1196146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dale Nation</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^^<br><br>Thank you. It works flawlessly now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
