<!DOCTYPE html><html lang="en" ><head ><title >DrawImage Crash</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DrawImage Crash</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >DrawImage Crash</a><br><br>
<a name="1190663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >thepalegreenhorse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First day with BlitzPlus! Also haven't figured out how to post code here (e.g. screenshot) other than copy and paste, so please forgive me.<br><br>Am attempting to load and draw a background image, and then to display text on top.<br>Text was working just fine by itself; however, the moment I introduced the Fdrawbackdrop function, the window began bombing out. Moreover, even with all the font and text code removed, the window still crashes. I have yet to get any image to draw! :(<br><br>My image is saved in the same folder as the .bb file.<br>I have also tried moving the .bb and image files into the root of the BlitzPlus folder, with no success.<br>I have tried .jpg and .tga extensions, also with the same results.<br><br>What is my day one noob mistake? I'd be eternally grateful for any help!<br>Thank you.<br><br><br><br><br>; enable graphics mode --------------<br>; use iphone4 resolution<br>Graphics 640,960,32,2<br>SetBuffer BackBuffer()<br><br>; define backdrop<br>Global backdrop = LoadImage("backtest01.tga")<br><br>; load fonts to a file handle variable<br>Global defaultfont = LoadFont("Cutiepie",48)<br>SetFont defaultfont<br><br>; game loop: hit escape to exit<br>While Not KeyHit(1)<br><br>Cls<br>Fdrawbackdrop()<br>Flip<br>	<br>; display text<br>Text 320,780,"TEST1",True,True<br>Text 320,830,"TEST2",True,True<br><br>Wend<br><br>End<br><br>; function: draw background<br>Function Fdrawbackdrop()<br>DrawImage(backdrop,0,0)<br>End Function <br><br></td></tr></table><br>
<a name="1190664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pretty sure Blitzplus doesn't support .tga format, so that's your first problem.<br><br>Other than that, and taking into account that you said you tried .jpg format with the same result, it might be an idea to expand upon "it crashes".  I.e. what error message? <br><br></td></tr></table><br>
<a name="1190665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >thepalegreenhorse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Standard MS crash report:<br>---<br>blitzcc.exe has encountered a problem and needs to close.  We are sorry for the inconvenience.<br>---<br><br>If tgas aren't supported, do I need to use pngs for alpha? <br><br></td></tr></table><br>
<a name="1190666"></a>

<a name="1190667"></a>

<a name="1190668"></a>

<a name="1190669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzPlus doesn't support native alpha at all, you need to use a hardware-accelerated graphics library for that, like e.g. *cough* &lt;self-plug&gt; <a href="https://github.com/Leushenko/bOGL-2" target="_blank">bOGL-2</a> &lt;/self-plug&gt;. The built-in image commands are "pure" 2D, which means old-style "pixel crunching" graphics only (basically all they can do is blit solid, aligned rectangles, occasionally with some pixels fully masked out).<br><br>PNG should work for images in general though, as should JPG. Putting the image with your running source file is the right place: BlitzPlus doesn't care where things are relative to the BlitzPlus compiler itself.<br><br>You can turn on Debug mode (Program -&gt; Debug Enabled - should be ticked) to get more advanced and informative error messages that will refer back to your source instead of just crashing dumbly. You might also want to replace the actual call to Fdrawbackdrop with a Text line that prints out the current value of "backdrop": if it's 0, the image didn't load (seems obvious in this case, but always worth doing to narrow things down).<br><br><br>Also, this sounds a lot like it could be related to this problem: <a href="http://www.blitzbasic.com/Community/post.php?topic=100631&amp;post=1189867" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=100631&amp;post=1189867</a><br><br>Make sure you have "show file extensions" (or whatever it's called) checked in Windows, or you have a good chance of using incorrect filenames that the system is helpfully hiding from you.<br><br><br>As an aside, when you get this working, your Text lines will no longer show as they're caught between the Flip and the next Cls: everything you want to be drawn to screen should come before the Flip. <br><br></td></tr></table><br>
<a name="1190670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >thepalegreenhorse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing wrong with a bit of &lt;self-plug&gt; :)<br><br>Thanks so much guys.<br>I've got pngs working fine. Also, jpgs are now working too. I haven't figured out why they weren't working before; I suspect I was attempting to load one of my source jpgs which was saved in my source art folder. (Am assuming that all images must be saved in the same folder AND tier as the .bb file?)<br>Am a little surprised that native alpha isn't supported (although no idea why I'm surprised).<br>And this double-buffering malarky is gonna take some getting used too.<br>Debug mode is going to be a Godsend - thank you!<br><br>Really appreciate your help guys!<br>(Suspect I'll be hanging out on the forums quite a bit for the foreseeable future...) <br><br></td></tr></table><br>
<a name="1190671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Am assuming that all images must be saved in the same folder AND tier as the .bb file? <br></div><br><br>Nah you can put them where you like: the main .bb file's folder is just where it defaults to looking. You can get at relative locations using the standard relative path syntax (e.g. "in the parent folder" -&gt; "../backtest01.jpg"; "in the Media folder" -&gt; "Media/backtest01.png"). You can also use absolute paths (bad idea, since you don't know where an end-user will put your program), and you can also change the current working directory with ChangeDir (e.g. say you have a lot of images to load in "Media": change to that, load them with simple filenames, change to ".." to restore to where you were).<br><br>And of course you can use variable and dynamically-constructed strings to get to dynamically chosen locations, e.g. "LoadImage( ChooseDir() + ChooseName() + ChooseExtension() )". <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
