<!DOCTYPE html><html lang="en" ><head ><title >Global - cost of each additional global</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Global - cost of each additional global</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >Global - cost of each additional global</a><br><br>
<a name="927477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David Boudreau</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What, exactly, is the cost of each additional Global variable in your source code?  Is it only the space that one global would take up in regular RAM memory (or is it video memory/VRAM?)?<br><br>So let me make sure I understand this: An integer global costs the number of bytes it takes to represent a number between -2147483648 to +2147483647... which is... 4 bytes (as CreateBank doc says), and a 32-bit number.  So somewhere in RAM or VRAM, for every Global integer declared, that is done at a cost of 4 bytes more when the program is running.  Is that correct?<br><br>I try to make all variables that I can local, but often come to a point that I can't figure out how to do some algorithm without adding another global (I fully admit it's very possibly due to my own brain limits, not necessarily what is possible if I could think of a better algorithm!) but I am not sure what the downside or cost is each time I do that.<br><br>Instead of storing them in Type fields, would an array (always global when dimmed anyway) be faster?  If not what are the trade-offs?  Readability of code is definitely a plus (code is so much harder to read than it is to write!!).<br><br>These threads have good comments on this too:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=33141#356613" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=33141#356613</a><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=76454#854999" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=76454#854999</a><br><br>Good to know that it does not tax the CPU during runtime as I read in one of those threads. <br><br></td></tr></table><br>
<a name="927479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not worth worrying about. <br><br></td></tr></table><br>
<a name="927492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all, any variables are stored in regular RAM, not video memory.<br><br>global variables have a slightly higher overhead, in that they take up a tad more memory, and they cause a very slight slowdown in that it takes some extra time to pass the information over to function...<br>...but unless you have insane amounts of them, it's likely to be an almost imperceptible difference, and probably not worth worrying about.<br><br>Sure, if your code allows a local variable one might be preferable, but sometimes it's just a whole lot easier to use a global.  They exist for a reason, after all. <br><br></td></tr></table><br>
<a name="927527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The real reason to limit your globals is because it often times makes code confusing and difficult to read.  Its less of a problem in BASIC languages but in other languages, especially OOP languages like Python, globals are extremely frowned upon.<br><br>As for the speed of arrays vs. types,  I (actually yesterday) was wondering the same thing so I wrote the code using both methods... noticed no difference in FPS.  Although, my code, although simple, was running at 11 FPS or something awful like that so it might be something with my computer/code structure more than the types vs. arrays.  Who knows. <br><br></td></tr></table><br>
<a name="927611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David Boudreau</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, good to know it's not a big deal.   I don't think I have "insane" amounts (I doubt my globals would ever go over between 50 to 100) but I am working on a small project now (a small windowed app to run while other games run in the background), and I'm trying to take the time to do things right and pick up a better habit or two along the way.<br><br>Sauer, I think I remember reading years ago either in these forums or on blitzcoder about various tests to show when arrays or types were faster but I don't remember which and in what conditions as it wasn't too relevant to what I've done so far.  <br><br>I'd like to do some of these tests myself but have been wondering lately what would be the best way to structure my code as a template base... like "What is the standard vanilla code template to start from in BlitzPlus?" to compare apples to apples, and also to have a good structure to start something quick when I get an idea and don't want to spend a lot of time setting up the basics each time (esp for windowed apps).  In the doc and included examples, they all use different basic structures so when I read them I sometimes get confused between each sample's code structure vs. the purpose the code is demonstrating.  Fundamental, basic things like putting your main loop code inside a $4001 timer or somewhere else.<br><br>I suppose the price of a template would be flexibility but even if I had several "code base templates" to select from I think that would be more productive.  Anyone do this, or just simply copy and paste from their last project each time? <br><br></td></tr></table><br>
<a name="927614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I don't usually do windowed apps and the reason being that they do require more to initialize than a simple graphics window.  I'm sure having a frame to begin with would decrease coding time considerably... having it open a window with a menu with an exit button or something.<br><br>Perhaps write your own function like MakeWindow(x,y,width,height) to do this... <br><br></td></tr></table><br>
<a name="931933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Types are slower than array, if you are creating new type object and destroying them frequently. Where as redimming an array is faster. I tried doing pathfinding with types and it was substantially faster using arrays. <br><br></td></tr></table><br>
<a name="931993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sauer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey thanks Ross C, that's very helpful information :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
