<!DOCTYPE html><html lang="en" ><head ><title >Coding Problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Coding Problem</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >Coding Problem</a><br><br>
<a name="755019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Siopses</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been screwing around with this function far too long, <br>I've used it in other programs and in this one the problem<br>is that it says "End Select without Select". Here's my code<br><pre class=code>
Function StartEruP()
MainMenu=CreateWindow("Main Menu",300,300,400,500,main,15)
Ev=WaitEvent()
Es=EventSource()
Repeat
Select Es
Case MainMenu
If Ev=$803 Then
Blah=Proceed("Do you really want to quit?")
If Blah=1 Then
End 
Else
If Blah&lt;&gt;1 Then
Notify("Find out what you want next time")
EndIf
EndIf
End Select 
Until KeyDown(1)
End 
End Function
StartERuP()
End 
</pre><br>On the other program it works, but when ever I attempt<br>to move the window it moves, but the program starts to<br>go on strike. <br><br></td></tr></table><br>
<a name="755022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Arf, my eyes :S .. first indent your code, then ask. Chances are that once you've indented it you'll see it yourself already. <br><br></td></tr></table><br>
<a name="755024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I mean, I took 1 minute to indent your code, and the mistake became as clear as the night. Now it's your turn.. :P <br><br></td></tr></table><br>
<a name="755110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Siopses</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Function StartEruP()
MainMenu=CreateWindow("Main Menu,300,300,400,500,main,15)                  
Ev=WaitEvent()
Es=EventSource()
Repeat
       Select Es
         Case MainMenu
         If Ev=$803 Then
         Blah=Proceed("Do you really want to quit?")
         If Blah=1 Then
         End 
        Else
        If Blah&lt;&gt;1 Then
        Notify("Find out what you want next time")
        EndIf
        EndIf
        End Select 
Until KeyDown(1)
End 
End Function
StartERuP()
End
</pre><br>You mean something like this?<br>I seriously have no idea not even an inkling to what you speak of.<br>Oh, and by the way my other program uses the same function-and it works, like I said before. <br><br></td></tr></table><br>
<a name="755114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy_A</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would suggest you take a look at the code posted in the code archives.<br><br>Most entries (not all) are properly indented for clarity. Not only for the person who posted the code but for anyone else that looks at that code. Code readability is of utmost importance when communicating via code snippets as you have done to start this thread.<br><br>Don't take this as a rant or flame, just letting you know that others will expect you to present code in a readable form before they will be willing to help you. <br><br></td></tr></table><br>
<a name="755115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It needs an extra End If after the line: Notify("find out what you want next time"). <br><br></td></tr></table><br>
<a name="755173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, crashcourse on indenting:<br><br>In Blitz there are single commands, and commands that define a scope. Examples of a single command are Print, End, Plot, Rect, Line, LoadImage  etc.<br>Examples of scope commands are:<br>For-Next<br>If(-Else)-Endif<br>Select-End Select<br>Function-End Function<br><br>etc.<br><br>Key rule: you should indent the scope/area of each scope-command. As an extra bonus you might want to have an empty line around scopes.<br><br>Based on personal taste: I also indent drawing/actions on a canvas or image between changing the drawing buffer and the flipping, but that's personal.<br><br>One might even indent creating menuitems in a menu.<br><br>As long as things belong together for a limited area in your code, you may indent them.<br><br>So, to apply this on your function:<br><pre class=code>
Function StartEruP()

  MainMenu=CreateWindow("Main Menu",300,300,400,500,main,15)

  Ev=WaitEvent()
  Es=EventSource()

  Repeat

    Select Es

      Case MainMenu

        If Ev=$803 Then

          Blah=Proceed("Do you really want to quit?")

          If Blah=1 Then
            End 
          Else
            If Blah&lt;&gt;1 Then
              Notify("Find out what you want next time")
            (EndIf ; according to b32)
          EndIf

        EndIf

    End Select 

  Until KeyDown(1)

  End 

End Function



StartERuP()
End 
</pre><br><br><br>and with dots to show how an end-scope matches a begin-scope:<br><br><pre class=code>
Function StartEruP()
.
. MainMenu=CreateWindow("Main Menu",300,300,400,500,main,15)
.
. Ev=WaitEvent()
. Es=EventSource()
.
. Repeat
. :
. : Select Es
. : .
. : . Case MainMenu
. : .
. : .   If Ev=$803 Then
. : .   :
. : .   : Blah=Proceed("Do you really want to quit?")
. : .   : 
. : .   : If Blah=1 Then
. : .   : . End 
. : .   : Else
. : .   : . If Blah&lt;&gt;1 Then
. : .   : . : Notify("Find out what you want next time")
. : .   : . (EndIf ; according to b32)
. : .   : EndIf
. : .   :
. : .   EndIf
. : .
. : End Select 
. :
. Until KeyDown(1)
.
. End 
.
End Function



StartERuP()
End 
</pre><br><br>Note that the Case command defines a scope, but since it doesn't have an 'End Case' command, I couldn't really draw dots here, or at least: it would look a bit weird compared to the rest.<br><br>btw, while we're checking code anyway:<br><br><pre class=code>
Function StartEruP()

  MainMenu=CreateWindow("Main Menu",300,300,400,500,main,15)

  Ev=WaitEvent()
  Es=EventSource()

  Repeat

    Select Es

      Case MainMenu

        If Ev=$803 Then

          If Proceed("Do you really want to quit?") Then End 
          Notify("Find out what you want next time")

        EndIf

    End Select 

  Until KeyDown(1)

  End 

End Function
</pre><br><br>Wiped a few lines. If your blah would've been 1 then it would've ended, if not it would notify, and you wouldn't need an 'Else' nor would you need to check on blah&lt;&gt;1 because it HAS to be &lt;&gt;1 in order to get at the line in the first place. (if it was 1, then the program would've ended!)<br>It's like a factory where they make blue and red paint. At one point/junction one sends blue paint to hall 1 and red paint to hall 2, would it be practical to have other employees standing in halls 1 &amp; 2 to check whether the colors are correctly chosen, after it was already correctly re-routed at that first junction? <br><br></td></tr></table><br>
<a name="755223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Siopses</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I did that so it would be more readable and understandable for me; or some other reason. Anyway,<br>thanks for the help guy's. Now I'm back to were I started<br>the window will move but the function will not work. Test<br>it out yourselves. Also, when I do all these ridiculous dot<br>formations it says I need an 'End Function'.<br>Here's my code, it doesn't work and it looks absurd.<br><pre class=code>
Function StartEruP()
.  MainMenu=CreateWindow("Main Menu",300,300,400,500,main,15)
.  Ev=WaitEvent()
.  Es=EventSource()
.    Repeat
.     .  Select Es
.     .  .         Case MainMenu
.     .  .           If Ev=$803 Then
.     .  .            .            Blah=Proceed("Do you really want to quit?")
.     .  .            .   If Blah=1 Then
.     .  .            .   .                    End 
.     .  .            .   .                       Else
.     .  .            .   . If Blah&lt;&gt;1 Then
.     .  .            .   . .              Notify("Find out what you want next time")
.     .  .          EndIf . .
.     .  .       EndIf..... .   
.     .  .  EndIf............ 
.     . End Select 
.    Until KeyDown(1)
End Function
StartERuP()
End 
</pre><br><br>This only happened when I used indenting. <br><br></td></tr></table><br>
<a name="755226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course those dots aren't meant for the actual source eh.., they're purely to visualize the idea of scopes here <i>on the forum</i>. <br><br></td></tr></table><br>
<a name="755228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Siopses</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh... oops sorry take a look though, test it it doesn't work<br>correctly- the function I mean. <br><br></td></tr></table><br>
<a name="755232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dunno, I dunno what your intentions are for this code, but I'd flush it. I'm also not much of a fan of using KeyDown().<br><br>Do you want one application window, or do you want a popup window within another application?<br><br>For mainloops, why not use this:<br><pre class=code>
window=CreateWindow("..",0,0,640,480)

Repeat
	WaitEvent()
	
	If EventID()=$803 And EventSource()=window ; if you only have one window in total, this eventsource check is not required
		If Proceed("sure?")	quit=1 Else Notify "oO"
	EndIf
	
Until quit
End
</pre> <br><br></td></tr></table><br>
<a name="755233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shouldn't you be checking for events within the loop? <br><br></td></tr></table><br>
<a name="755238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Siopses</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to make a main menu for a program I'm making.<br>The main menu will have buttons to press to acess the<br>program. Once a button is pressed the main menu will<br>disapear and the program will come up to show what ever<br>the user wanted. For example, if the user pressed the 'create' button then it would loop to the create part of the<br>application. I'm just not sure how to loop it. <br><br></td></tr></table><br>
<a name="755242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, as tonyg mentioned: you need to include the Waitevent within the loop in which you check for events.<br><br>Your idea sounds like a popup btw.<br><br>In your main source it would look like:<br><pre class=code>
choice=RequestMenu()

Select choice
  Case 0
    DoThis
  Case 1
    DoThat
  Case 2
    DoM33p
  Case 3
    DoM00p
  Case 4
    GoGetAMacBurger
  Case 5 ' quit
    End
End Select

Function DoThis()
End Function

..etc.
</pre><br><br>This RequestMenu() function could even be a function with one arguement: a string containing all menu items, semi-colon seperated. <br><br></td></tr></table><br>
<a name="755288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br><pre class=code>
Function StartEruP()
.  MainMenu=CreateWindow("Main Menu",300,300,400,500,main,15)
.  Ev=WaitEvent()
.  Es=EventSource()
.    Repeat
.     .  Select Es
.     .  .         Case MainMenu
.     .  .           If Ev=$803 Then
.     .  .            .            Blah=Proceed("Do you really want to quit?")
.     .  .            .   If Blah=1 Then
.     .  .            .   .                    End 
.     .  .            .   .                       Else
.     .  .            .   . If Blah&lt;&gt;1 Then
.     .  .            .   . .              Notify("Find out what you want next time")
.     .  .          EndIf . .
.     .  .       EndIf..... .   
.     .  .  EndIf............ 
.     . End Select 
.    Until KeyDown(1)
End Function
StartERuP()
End 
</pre><br> <br></div><br>"EndIf" of "End If" (the same) closes only the last If block, so the lines you were drawing here aren't correct.<br><br>If (test1) Then<br>  If (test2) Then<br>    If (test3) Then<br>    End If          ;closes If (test3)<br>  End If          ;closes If (test2)<br>End If          ;closes If (test1)<br><br>Indention is only handy to remind yourself what If block the EndIf is closing. The PC doesn't respond to indention. <br><br></td></tr></table><br>
<a name="756033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Siopses</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all the help <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
