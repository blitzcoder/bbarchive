<!DOCTYPE html><html lang="en" ><head ><title >"invalid TCP Stream" Error on Remote Computer</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >"invalid TCP Stream" Error on Remote Computer</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >"invalid TCP Stream" Error on Remote Computer</a><br><br>
<a name="624997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alaric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have read the previous two posts on this forum, you have a pretty good idea of what i am trying to do.  However, whenever i try to us my TCP commands in an executable to communicate with my computer, the remote(not mine) computer always gets the error "Invalid Stream" or something to that effect.  Could this be due to the firewall that came with my recent DSL?  Am i just not setting up the server right in the local code?  Does my computer just know which programs i made and make them not work?  I'm placing the source below.  Please help me out. <br><br></td></tr></table><br>
<a name="624998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alaric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> -------------------------------------Server Code-------------------------------<br>Global fileout<br>Remote=CreateTCPServer(1026)<br><br>If Remote&lt;&gt;0 Then <br>Print "Server started successfully."<br>Else<br>Print "Server failed to initialize."<br>Delay(2000)<br>End<br>End If <br><br>Print "awaiting connection..."<br><br>While stream = 0<br>stream=AcceptTCPStream(Remote)<br>Wend<br><br>Compname$ = ReadString$(stream)<br><br>Print "Connected To Computer " + Compname + " at "<br>Print TCPStreamIP(stream)<br>fileout=WriteFile("C:\" + Compname + ".txt")<br><br>While Not KeyHit(1)<br>Stream=AcceptTCPStream(remote)<br>If Stream Then<br>Print ReadString$(stream)<br>WriteLine(fileout,ReadString$(stream))<br>End If<br>Wend<br><br>------------------------------------Remote Code---------------------------------<br>Global xdir2$ = ""<br>Global xdir<br>Global xname$ = "C:\"<br>Print "working..."<br>TCPHome=OpenTCPStream("192.168.1.102",1026)<br>WriteString TCPHome,GetEnv("computername")<br>;CloseTCPStream tcphome<br>Delay(1000)<br>If TCPHome &lt;&gt; 0<br>Delay(100)<br>xdir = ReadDir(xname$)<br>Repeat<br>FILE=OpenTCPStream("192.168.1.102",1026)<br>xdir2$=NextFile$(xdir)<br>If xdir2 = "" Then Exit<br>If FileType(xname$+"\"+xdir2) = 2<br>WriteString FILE,("Folder: " + xname$ + xdir2)<br>Else<br>WriteString FILE,("File: " + xname$ + xdir2)<br>End If<br>Delay(100)<br>CloseTCPStream FILE<br>Forever<br>EndING=OpenTCPStream("192.168.1.102",1026)<br>WriteString EndING,"Program Successfully Executed. Exiting Now"<br>End If<br><br>CloseTCPStream tcphome<br>CloseTCPStream ending<br><br>Print "done!"<br><br>I use port 1026 to bypass the WinXP firewall. This is not the exact code which i have been playing around with at home because im posting this at school. <br><br></td></tr></table><br>
<a name="625002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/faq/faq_entry.php?id=2" >What are the forum codes?</a> <br><br></td></tr></table><br>
<a name="625183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alaric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the hints man but still it doesn't much help me out.  I would have appreciated a straight up answer just as much... <br><br></td></tr></table><br>
<a name="625313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, but I don't always have time to answer.  I do what I can, when I can, and todays not the day. <br><br></td></tr></table><br>
<a name="625748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alaric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think i figured it out.  After going over my code for a few hours, I finally gave up and called Brightnet.  After clarifying that I was using the firewall that came with their DSL, I acquired the useful bit of information that I cannot be connected to by an outside computer.  Ergo, whenever teh remote computer attempted to contact mine, my firewall said "Hey, screw you man.  No way you're getting in there," and refused their connection.  This is quite annoying as the person I tried to connect to also has Brightnet DSL.  So, in other words, I'm screwed. <br><br></td></tr></table><br>
<a name="625767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You shouldn't be screwed.  Just set up your firewalls to open the ports you want to use (or am I missing something?). <br><br></td></tr></table><br>
<a name="626093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Brightnet" has a firewall for you in their office? <br><br></td></tr></table><br>
<a name="626198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alaric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol it turns out i'm completely screwed up.  When i asked my dad he SAID that it was THE brightnet firewall meaning the firewall between us and brightnet.  It's actually some linksys firewall or something that you can manipulate, not the one that brightnet themselves said sucked for programming.  I then found out that i actually didn't know my IP as well.  Apparently the router for (at least our) DSL modems assigns you a network IP automatically that windows mistakes for your actual IP.  To find out your real IP go to <a href="http://www.ipchicken.com/." target="_blank">http://www.ipchicken.com/.</a> <br><br></td></tr></table><br>
<a name="628194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> that's pretty standard.<br><br>What you would need to do, is set up a port forward in your linksys router: You have to decide on a port for your application to use, go into the linksys admin interface (most likely by webbrowser to <a href="http://192.168.1.1" target="_blank">http://192.168.1.1</a> ), and add a rule for a port forward for the number you picked (should be above 1024 so you won't interfere with other programs!) You then point this port to the internal IP address of your computer.<br>To find out what it is, open a command prompt on your computer and type:  ipconfig<br>(you ought to configure your router to assign your computer an IP statically based on your mac address as well, so you will nkow for sure that its IP address won't change in the future)<br><br>From that moment on, any incoming connection to your 'real' IP on that port number will be directed to your own computer, where your program can answer the connection.<br>If you also want to be able to initiate a connection on your end and connect to your friends system, he would need to do the same on his end as well.<br>(You nly need the port forward for the computer that receives the initial connection command: You the linksys will by default let any responses through on requests that you initiated yourself) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
