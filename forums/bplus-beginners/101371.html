<!DOCTYPE html><html lang="en" ><head ><title >"Expecting Expression" Error</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >"Expecting Expression" Error</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >"Expecting Expression" Error</a><br><br>
<a name="1203484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made this calculator and now it's telling me "Expecting Expression" when I try to run it.<br><br>The code:<br>(code)<br>Print "Welcome to Lucas' advanced calculator!"<br>Delay 1000<br>Print ""<br>Print "The types of equations are:"<br>Print ""<br>Delay 1000<br><br>Repeat<br><br>Print "Multiply - m"<br>Delay 500<br>Print "Divide - d"<br>Delay 500<br>Print "Add - a"<br>Delay 500<br>Print "Subtract - s"<br>Delay 1000<br>Print ""<br>Print "You can also type 'q' at any time to quit the program."<br>Print ""<br>Delay 1000<br>Print ""<br>	Quitnow$ = Input("Type q now if you wish to quit the calculator. Otherwise, type go. ")<br>	If Not Quitnow = "q" Then<br>		Print ""<br>		numbercount = Input("How many numbers do you want in your equation? (2 or 3)")<br>		<br>		If numbercount = "2" Then<br>		equationtype2$ = Input("What kind of equation would you like to do? ")<br>		Print ""<br>		number1 = Input("First number: ")<br>		Print ""<br>		Delay 500<br>		number2 = Input("Second number: ")<br>		Print ""<br>		Delay 500<br>		Delay 1000<br>		Print "Calculating..."<br>		Print ""<br>		Delay 2000<br>		Print "The answer of your equation is: "<br>		Print ""<br>				If Lower(equationtype2) = "a" Then Print number1 + number2<br>				If Lower(equationtype2) = "s" Then Print number1 - number2<br>				If Lower(equationtype2) = "m" Then Print number1 * number2<br>				If Lower(equationtype2) = "d" Then Print number1 / number2<br>				Print ""<br>				Print ""<br>				Print "" <br>			<br>		<br>		ElseIf numbercount = "3" Then<br>			equationtype3a$ = Input("What kind of equation would you like to do between your first and second number? ")<br>			equationtype3b$ = Input("What kind of equation would you like to do between your second and third number? ")<br>			Print ""<br>		number1 = Input("First number: ")<br>		Print ""<br>		Delay 500<br>		number2 = Input("Second number: ")<br>		Print ""<br>		Delay 500<br>		number3 = Input("Third number: ")<br>		Print ""<br>		Delay 500<br>		Delay 1000<br>		Print "Calculating..."<br>		Print ""<br>		Delay 2000<br>		Print "The answer of your equation is: "<br>		Print ""<br>				If equationtype3a = "a" And <br>					equationtype3b = "a" Then Print number1 + number2 + number3<br>				ElseIf equationtype3a = "a" And<br>					equationtype3b = "s" Then Print number1 + number2 - number3<br>				ElseIf equationtype3a = "a" And<br>					equationtype3b = "m" Then Print number1 + number2 * number3<br>				ElseIf equationtype3a = "a" And<br>					equationtype3b = "d" Then Print number1 + number2 / number3<br>				ElseIf equationtype3a = "s" And<br>					equationtype3b = "a" Then Print number1 - number2 + number3<br>				ElseIf equationtype3a = "s" And <br>					equationtype3b = "s" Then Print number1 - number2 - number3<br>				ElseIf equationtype3a = "s" And<br>					equationtype3b = "m" Then Print number1 - number2 * number3<br>				ElseIf equationtype3a = "s" And <br>					equationtype3b = "d" Then Print number1 - number2 / number3<br>				ElseIf equationtype3a = "m" And<br>					equationtype3b = "a" Then Print number1 * number2 + number3<br>				ElseIf equationtype3a = "m" And<br>					equationtype3b = "s" Then Print number1 * number2 - number3<br>				ElseIf equationtype3a = "m" And<br>					equationtype3b = "m" Then Print number1 * number2 * number3<br>				ElseIf equationtype3a = "m" And<br>					equationtype3b = "d" Then Print number1 * number2 / number3<br>				ElseIf equationtype3a = "d" And<br>					equationtype3b = "a" Then Print number1 / number2 + number3<br>				ElseIf equationtype3a = "d" And<br>					equationtype3b = "s" Then Print number1 / number2 - number3<br>				ElseIf equationtype3a = "d" And<br>					equationtype3b = "m" Then Print number1 / number2 * number3<br>				ElseIf equationtype3a = "d" And<br>					equationtype3b = "d" Then Print number1 / number2 / number3<br>				Print ""<br>				Print ""<br>				Print ""<br>				Delay 1000<br>				Print ""<br>				Print ""<br>				Print "" <br>		EndIf <br>		EndIf<br>	EndIf<br>	EndIf<br>	<br>	<br>Until Lower(Quitnow) = "q"<br><br>Print ""<br>Print ""<br>Print "Thanks for using Lucas's advanced calculator!"<br>Delay 2000<br>Print ""<br>Print "Bye!"<br>Delay 1000<br>End<br>(/code) <br><br></td></tr></table><br>
<a name="1203485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for not putting it in code or whatever, I don't know how the codes work on here. Along with answering my question could someone tell me if I am supposed to use BB code or what? <br><br></td></tr></table><br>
<a name="1203486"></a>

<a name="1203487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just replace the parentheses around your (code) tags with square brackets (i.e. yes, BBcode, mostly) and it will work. The link directly above the reply box has more details; "codebox" is best for long pastes.<br><br>Anyway it looks like you're using a newline/block convention that BlitzPlus doesn't support quite as you're expecting. The rules are:<br><br>-- any value expression must be on a single line. There are no line continuations. So those "And" expressions split over two lines are not valid.<br><br>-- if any statement directly follows "Then", on the same line and without a separator, the whole thing is assumed to be an "inline" If form that runs until the newline (the "inline" form can contain substatements separated by colons)<br><br>-- if any statement directly follows the controlling expression of the "If" with no "Then", it is also inline ("Then" is always optional)<br><br>-- a newline after "Then", or a colon or newline after the controlling expression of the "If", indicates that the If is using the "block form" and must be closed by "EndIf" (notice that this rule means colons are subordinate to newlines; once an "inline" form has started they can't close it)<br><br>It's hard to tell because of the lack of formatting, but I think you're mixing up a couple of different forms here. Make sure no value expressions have newlines, and try to ensure that you use <i>either</i> a block or an inline form for your If statements. I advise dropping the "Then" for the block form, as it looks a bit weird hanging there on its own.<br><br>The rules probably sound complicated presented in a row like that but they're actually quite simple and intuitive once you get used to seeing them in action. Most people don't think about them at all. You should take a look at the bundled sample code to see the different forms in action.<br><br><br>(There are actually some weird corner rules around BlitzPlus's block syntax that let you write odd things if you try, like blocks in the middle of lines and stuff... better to avoid these.) <br><br></td></tr></table><br>
<a name="1203488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you think you could tell me exactly what I need to change? <br><br></td></tr></table><br>
<a name="1203490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> To get rid of the "expecting expression" issue, delete the newline after each dangling "And" so that the whole expression is on one line. The error message is saying that "And" forms a binary expression; it needs something (a subexpression) to its right before the line can end.<br><br>This will then leave you with a message saying that it expects to see "EndIf" somewhere - this is because your If blocks aren't structured according to the rules above and it can't work out what you mean by them. You'll need to rearrange your code to reflect exactly what you mean for this bit.<br><br>(Are you using indenting when you edit? It's much easier to see what goes in a block when the block body is indented. The whole code block sticks out in a visually-coherent unit.) <br><br></td></tr></table><br>
<a name="1203491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now when I try to run it it tells me it's expecting EndIf and moves my cursor to the end of this:<br><br><pre class=code>
If equationtype3a = "a" And equationtype3b = "a" Then Print number1 + number2 + number3
	ElseIf equationtype3a = "a" And equationtype3b = "s" Then Print number1 + number2 - number3
</pre><br><br>Not sure what that means. <br><br></td></tr></table><br>
<a name="1203492"></a>

<a name="1203493"></a>

<a name="1203494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> See again the rules above. You're combining inline and multiline forms for this control block by the look of it (I'm actually hesitant to say so because I'm not sure where your <i>intended</i> blocks end).<br><br>If the above is one complete statement, it should either be entirely on one line including <i>all</i> Else clauses, or there should be newlines after the control expressions and an EndIf at the end:<br><br><pre class=code>If equationtype3a = "a" And equationtype3b = "a"
    Print number1 + number2 + number3
ElseIf equationtype3a = "a" And equationtype3b = "s"
    Print number1 + number2 - number3
EndIf</pre><br><br>But omitting that <i>first</i> newline tells the compiler that the If is going to have no further newlines at all, so then it becomes confused in your version when stuff happens after a newline halfway along.<br><br>You could also simplify the above to only check that 3a="a" once, and place the tests against 3b in a further nested block. It wouldn't make a difference to execution but it would be significantly clearer to read, by enforcing conceptual groups (and reduce the amount of stuff onscreen). <br><br></td></tr></table><br>
<a name="1203516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so I rewrote that part of the code, it's still giving me "Expecting Endif" so what did I do wrong this time?<br><br><pre class=code>
If equationtype3a = "a" Then
		If equationtype3b = "a" Then Print number1 + number2 + number3
		ElseIf equationtype3b = "s" Then Print number1 + number2 - number3
		ElseIf equationtype3b = "m" Then Print number1 + number2 * number3
		ElseIf equationtype3b = "d" Then Print number1 + number2 / number3
			EndIf
	EndIf
	
	If equationtype3a = "s" Then
		If equationtype3b = "a" Then Print number1 - number2 + number3
		ElseIf equationtype3b = "s" Then Print number1 - number2 - number3
		ElseIf equationtype3b = "m" Then Print number1 - number2 * number3
		ElseIf equationtype3b = "d" Then Print number1 - number2 / number3
			EndIf
	EndIf
	
	If equationtype3a = "m" Then
		If equationtype3b = "a" Then Print number1 * number2 + number3
		ElseIf equationtype3b = "s" Then Print number1 * number2 - number3
		ElseIf equationtype3b = "m" Then Print number1 * number2 * number3
		ElseIf equationtype3b = "d" Then Print number1 * number2 / number3
			EndIf
	EndIf
	
	If equationtype3a = "d" Then
		If equationtype3b = "a" Then Print number1 / number2 + number3
		ElseIf equationtype3b = "s" Then Print number1 / number2 - number3
		ElseIf equationtype3b = "m" Then Print number1 / number2 * number3
		ElseIf equationtype3b = "d" Then Print number1 / number2 / number3
			EndIf
	EndIf

</pre> <br><br></td></tr></table><br>
<a name="1203518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> As in post #7... I would really recommend not mixing inline and multiline If forms. Either split the whole thing onto separate lines as in that example, or put the whole thing on one line (too long to be practical in this case). Those ElseIfs are on new lines, but their actions are inline: this isn't consistent.<br><br>Even if that's not the immediate source of the problem, once you do that the block structure of the program will become very clear and any missing terminators will be obvious. At the moment the block structure is confused. I don't think the compiler is able to see what you mean and the error message may even be misleading because a broken block structure means it doesn't know how to locate a point in the code properly. <br><br></td></tr></table><br>
<a name="1203551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I fixed it! Thank you all for your help!<br>This is what I did to fix it:<br><pre class=code>
If equationtype3a = "a" Then
		If equationtype3b = "a" Then Print (number1 + number2) + number3 ElseIf equationtype3b = "s" Then Print (number1 + number2) - number3 ElseIf equationtype3b = "m" Then Print (number1 + number2) * number3 ElseIf equationtype3b = "d" Then Print (number1 + number2) / number3
			EndIf
	
	
	If equationtype3a = "s" Then
		If equationtype3b = "a" Then Print (number1 - number2) + number3 ElseIf equationtype3b = "s" Then Print (number1 - number2) - number3 ElseIf equationtype3b = "m" Then Print (number1 - number2) * number3 ElseIf equationtype3b = "d" Then Print (number1 - number2) / number3
			EndIf
	
	
	If equationtype3a = "m" Then
		If equationtype3b = "a" Then Print (number1 * number2) + number3 ElseIf equationtype3b = "s" Then Print (number1 * number2) - number3 ElseIf equationtype3b = "m" Then Print (number1 * number2) * number3 ElseIf equationtype3b = "d" Then Print (number1 * number2) / number3
			EndIf
	EndIf
	
	If equationtype3a = "d" Then
		If equationtype3b = "a" Then Print (number1 / number2) + number3 ElseIf equationtype3b = "s" Then Print (number1 / number2) - number3 ElseIf equationtype3b = "m" Then Print (number1 / number2) * number3 ElseIf equationtype3b = "d" Then Print (number1 / number2) / number3
			EndIf
	EndIf
</pre><br><br>And by the way, could someone tell me the command to make a number able to have a decimal after it instead of just being a whole number? <br><br></td></tr></table><br>
<a name="1203556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is no "command" to use fractional numbers, it depends on the datatypes you're using.<br><br>Integers only support whole numbers. Float and Double support fractions, but be aware that those are only accurate to 9 digits including the decimal point, and some fractions can't be accurate represented at all (That's a limitation of how floating point variables are stored in memory, it's not a limitation of blitzmax. Other languages like C++ have the exact same 'problem')<br><br>a:int=10.3  --&gt; becomes 10<br>a:float=10.3 --&gt; becomes 10.3<br>a:float=10.33333333333333333333 --&gt; becomes 10.3333330<br>a:float=123456.3333333333333333 --&gt; becomes 123456.336<br>a:float=10.2 --&gt; becomes 10.1999998 <br><br></td></tr></table><br>
<a name="1203557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>number1 = Input("First number: ")</pre><br><br>How would I allow this to be a decimal? <br><br></td></tr></table><br>
<a name="1203558"></a>

<a name="1203559"></a>

<a name="1203560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Minor quibbles with post #11 - BlitzPlus doesn't support either the Double data type, or that syntax for attaching type annotations.<br><br><br>Anyway, to hold a fractional value, you need a fractional variable. In the same way that you declared some variables to be strings above by attaching $ to their first appearance, you can declare a variable to hold floating point fractional numbers by attaching # at declaration.<br><br>(There's also %, for integers; this is only really there for symmetry, as you've already seen that integers are the default.)<br><br>Floating point values convert automatically to and from a string in exactly the same way as integers; just as you can assign the string result of Input to the integers number1, number2, etc..., if those were floating point variables then the number would be read from the string as a float instead and the value stored as one. Just attach that # to all of your numeric variable declarations and the rest will "just work": the conversions from strings will produce floats instead of integers, and the math will be floating-point instead of integer math, and you'll be able to add 0.5 to 0.5 and get 1.<br><br><pre class=code>number1# = Input("First number: ")</pre><br><br><br>As an aside: "decimal" is a <i>representation</i>, not a type of number. It just means that the numbers are <i>written</i> in base-10 digits. Floats are stored internally in base-2, so it makes no sense to call them decimals because they aren't (more specifically, because computers actually can do decimal math as well, and some languages e.g. Java actually support this, but it's slower and works differently).<br><br>To be even more pedantic, whether a number is a fraction or not has no connection to its written representation. Floats are always fractions and integers are always whole, but both are stored internally in base-2 and written out as decimals when converted to strings. <br><br></td></tr></table><br>
<a name="1203561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Necromancer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you! Works like a charm! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
