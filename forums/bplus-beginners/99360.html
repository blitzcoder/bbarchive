<!DOCTYPE html><html lang="en" ><head ><title >Sprite help?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sprite help?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >Sprite help?</a><br><br>
<a name="1165910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Killo869</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm a little bit familiar with basic and I'm experimenting with sprites and I can make some progress but im at a road block. Is it possible to set up a sprite chart like an array? And have values for having them move up down left and right? or is it gonna have to be separate (like I've been doing.) Any and all help would be highly appreciated =] <br><br></td></tr></table><br>
<a name="1165911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try LoadAnimImage() - that's probably what you need. <br><br></td></tr></table><br>
<a name="1165912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Killo869</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got that far Ive been looking through the reference guide and some tutorials but that only gets me so far i got the loadanimimage() on there but its more complicated then just a single strip of sprites. This is what i got it works but every time i let go of the up/down key it disappears. I know the problem already but i don't know how to fix it and Ive been trying for a good few hours now <br><br>AppTitle "Sprite Test."<br>Global sprite<br>Global time<br>Global frame1<br>Global speed = 1<br><br><br>Graphics 800,600,16<br>SetBuffer BackBuffer()<br>spriteup = LoadAnimImage("anim1.bmp",19,29,0,4)<br>spritedown = LoadAnimImage("anim2.bmp",19,28,0,4)<br>spriteupx = 320<br>spriteupy = 240<br>MaskImage spriteup,255,0,255<br>MaskImage spritedown,255,0,255<br><br><br><br>While Not KeyDown(1)<br>Cls<br><br>If KeyDown(200) DrawImage spriteup,spriteupx,spriteupy,frame1 <br>If KeyDown(200) spriteupy = spriteupy - speed<br><br>If MilliSecs() &gt; time + 200 <br>time = MilliSecs() <br>frame1 = (frame1 + 1) Mod 4<br>EndIf<br><br><br>If KeyDown(208) DrawImage spritedown,spriteupx,spriteupy,frame1 <br>If KeyDown(208) spriteupy = spriteupy + speed<br><br>If MilliSecs() &gt; time + 200 <br>time = MilliSecs() <br>frame1 = (frame1 + 1) Mod 4<br>EndIf<br><br><br>Flip<br>Wend <br><br></td></tr></table><br>
<a name="1165913"></a>

<a name="1165914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I see what's up with that.<br><br>Your code is ONLY drawing the sprite if either the up or down key is held.  I'm not going to write the code for you, because I'm pretty sure you can do it yourself once the idea's been pointed out.<br><br>First, between EVERY Cls and Flip, you need to be drawing the sprite.  You know that much.<br><br>There are two things that need to happen when a key is pressed:<br>1. increment the frame number<br>2. move the sprite<br><br>So basically something like:<br><pre class=code>If KeyDown(200)
  frame1 = (frame1 + 1) Mod 4
  spriteupy = spriteupy - speed
EndIf</pre><br><br>One further point - you're using Millisecs() to slow down the animation speed.  That's fine, but I would suggest using a Float value for the frame number, i.e.:<br><pre class=code>
Global frame1#

...then later...

frame1 = frame1 + 0.1
if Floor(frame1) &gt; 3 then frame1 = 0

...then to draw it...

DrawImage spriteup,spriteupx,spriteupy,Floor(frame1)</pre><br>DrawImage uses an integer for the frame number so you don't really need to add the Floor() function call, but it might help with clarity when you're reading the code.<br><br>Just some stuff to think about!<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1165915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Killo869</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I finally got! before i guess i was over-thinking it a little too much and it was pretty obvious. and i also tried using the Floor(frame1) and it does make a lot more sense reading it. Thank you! And also one last thing, is it possible to have Blitz read an entire sprite chart like an array instead of individual sprite strips for each action? It just seems really inefficient the way Im doing it. <br><br></td></tr></table><br>
<a name="1165916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is it possible to have Blitz read an entire sprite chart like an array instead of individual sprite strips for each action? <br></div><br><br>?<br><br>Do you mean a rectangular block of sprites instead of a single horizontal row? If so, the answer is yes: you don't have to do anything different; it will automatically detect that you have a multi-row source image if the dimensions you specify for each sprite, and the number, don't align with the width of the image. The sprites still have to be of uniform size though.<br><br>If you mean to load the images into an array data type... well that's pretty much what LoadAnimImage does behind the scenes anyway so unless you specifically want X, Y access to the frames instead of just a single-value index, this is already done for you (effectively: you don't get to see the array but there is one hidden in the anim-image).<br><br>Since the sprites are loaded into a single linear structure with a single indexing system, you could write a wrapper function that goes over the top to let you select frames "by animation" within the greater anim-image. It would have to get the information from somewhere independently, but it might help you keep your animation logic more organised. <br><br></td></tr></table><br>
<a name="1165981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Killo869</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got it to work with the entire sprite set. It went a lot better then the first time I tried it and I also noticed that it was smoother because it was all one image instead of 4 different sprite strips. And after successfully compiling that code, I understand what I wrote a lot better. Except for this one line however.<br>frame1=(frame1 + 1) mod 4*<br>I know that it's used to control how fast the sprite cycles through frames but idk how it does it<br>And the 4 had to be changed depending on which direction I had my sprite move.<br>And lastly thanks again for all your help. That bit is gonna be a huge help in the future if i ever need a reference <br><br></td></tr></table><br>
<a name="1165982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Killo869</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would post the code but I'm writing this from my phone because I lost Internet unfortunately. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
