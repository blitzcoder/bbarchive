<!DOCTYPE html><html lang="en" ><head ><title >Random number generation problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Random number generation problem</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=95" >BlitzPlus Beginners Area</a>/<a href="#bottom" >Random number generation problem</a><br><br>
<a name="1178461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >loonix</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all ,<br>Wondering if anyone will have any ideas to solve a problem im having with <br>a random number generating prog<br><br>I want to generate a set of numbers randomly and store them in an array for use later on from a specific amount of numbers<br><br>I have attempted to write a little bit of code ,which i have included below... and it sort of does something along the lines im looking for , but, with results that are puzzling me.<br><br>Help :)<br><br>Graphics 640,480,0,2         ;set a Graphics mode.<br><br>z=1                                    ;Setup a few Var's.<br>Dim a(50)<br>Dim p(12)<br>z=50<br>c=1<br><br>For n=1 To z                      ;Populate Array 'A' with 50 numbers.<br>a(n)=n<br>Next<br><br><br>For n=z To 39 Step -1        ;Was hoping this would populate the 'P' Array <br>x=Rnd (n)<br>p(c)=a(x)                           ;with 12 rand numbers from the 'A' Array.<br>c=c+1<br>a(x)=a(n)<br>Next<br><br><br>For f=1 To 12                    ;Prints the 12 numbers from 'P' Array to test.<br>Text 100,100+f*10,p(f)<br>Flip<br>Next<br><br>WaitKey ()                        ;Wait for keypress to end prog. <br><br></td></tr></table><br>
<a name="1178462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The first thing is that you're using Rnd when you probably want Rand (Rnd returns floating-point results; obviously arrays can only be indexed by whole numbers - it can work, but it will behave oddly). Also, Rnd isn't documented as supporting only one input, so... I would avoid this and always give it both.<br><br>Secondly, the parameters to the random number functions determine the range in which the result will fall. If you want it to <i>fairly</i> choose a number from array a, you probably don't want to be changing the range each iteration of the loop: instead, use a constant value that covers the whole array.<br><br>That said, the code works for me: it populates p with numbers. What's unexpected about the behaviour you were getting? <br><br></td></tr></table><br>
<a name="1178464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >loonix</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, thx for the reply<br><br>the code does produce a set of 12 numbers as is asked...... But<br>always the same set.<br><br>using rnd gives ... 8 49 28 34 48 16 31 16 36 35 26 40<br>using rand gives ... 21 11 34 8 27 47 48 16 20 25 40 41<br><br>im still puzzling why . <br><br></td></tr></table><br>
<a name="1178465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >feeble1</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> As Yasha said, I'm unsure what behavior is unexpected.<br><br>I'm assuming the problem is that each time you run the program, you get the same numbers.  That is hardly random.  That's because Rnd() or Rand() are being seeded with the same number each time.  To change the seed to something a little more random place SeedRnd MilliSecs() at the top of your program.  That will seed your random number generator with the last digit of your current machine time.  That will get you as random as you should ever need. <br><br></td></tr></table><br>
<a name="1178466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >loonix</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> feeble1 is the genius :)<br><br>thank you <br><br></td></tr></table><br>
<a name="1178467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >feeble1</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem.  I've just been down the path you're on.  Good luck to you and stick with it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
