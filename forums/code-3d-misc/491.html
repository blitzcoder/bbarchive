<!DOCTYPE html><html lang="en" ><head ><title >xForm</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='Resets all scale transformations, language=bb, category=3D Graphics - Misc'><meta name='author' content='Klaas'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=2>3D Graphics - Misc</a>/xForm</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="491.bb">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >xForm by Klaas</td><td align="right">2002 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> This function resets the scale of an entity and all of its children to scale 1. The entitys still hold there position and the meshes where scaled to the initale scale.<br><br>Its somewhat like 3dMax xForm </td></tr><tr ><td class="cell"><pre class="code">Function xForm(entity,sxp#=1,syp#=1,szp#=1)
	Vx# = GetMatElement(Entity, 0, 0)
	Vy# = GetMatElement(Entity, 0, 1)
	Vz# = GetMatElement(Entity, 0, 2)	

	sx#=Sqr(Vx#*Vx# + Vy#*Vy# + Vz#*Vz#)
	sy#=Sqr(Vx#*Vx# + Vy#*Vy# + Vz#*Vz#)
	sz#=Sqr(Vx#*Vx# + Vy#*Vy# + Vz#*Vz#)
	
	px#=EntityX(entity) * sxp
	py#=EntityY(entity) * syp
	pz#=EntityZ(entity) * szp

	For i=1 To CountChildren(entity)
		child=GetChild(entity,i)
		xForm(child,sx,sy,sz)
	Next

	ScaleEntity entity,1,1,1
	ScaleMesh entity,sx,sy,sz
	PositionEntity entity,px,py,pz
End Function</pre></td></tr></table><br><a name="comments">Comments</a><br><br>None.<br><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
