<!DOCTYPE html><html lang="en" ><head ><title >Module Building, and MinGW</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Module Building, and MinGW</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=108" >Win32 Discussion</a>/<a href="#bottom" >Module Building, and MinGW</a><br><br>
<a name="466925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drago</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since under Windows, you need minGW to compile modules, does this let us link Assembled files ex "DragosLib.a" into the modules, or will we have to wait to a future update to bea ble to do this? <br><br></td></tr></table><br>
<a name="466958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> (Edited crap: didn't notice fasm was in the beta!) <br><br></td></tr></table><br>
<a name="466979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Should work as-is. Try creating and importing a '.s' file. <br><br></td></tr></table><br>
<a name="466996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MagicalTux</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup. GCC (which is the base of mingw) is able to compile :<br>.c (C sourcecode)<br>.s (ASM sourcecode)<br>.cpp (C++ sourcecode)<br><br>and some others (fortran 77 and a few things I saw in gcc's man page). <br><br></td></tr></table><br>
<a name="467011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> strange thing is I haven't GCC or MingW installed ( anymore. Had with DevC++ ) and BMax works ... straange<br>but good that it works :) <br><br></td></tr></table><br>
<a name="467027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon_old</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> * 'Build modules' requires MINGW to be installed under Win32. You will also need to add mingw/bin to your PATH env variable and add an env variable called MINGW pointing to the root mingw dir. <br> <br></div><br><br>How do you do the above. I installed MinGW to c:\MinGW. <br><br>How do I set up paths and stuff because I cant seem to build modules?<br><br><br>[edit]<br><br>this is the error I get when I try to build modules after syncmod.<br><br><pre class=code>
Building Modules
Compiling:blitz_app.c
'gcc' is not recognized as an internal or external command,
operable program or batch file.
Build Error: failed to compile C:/Applications/Coding/BlitzMaxBeta/mod/brl.mod/blitz.mod/blitz_app.c
Process complete
</pre><br>Please help. <br><br></td></tr></table><br>
<a name="467035"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MagicalTux</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Amon:<br><br>It depends on your system...<br><br>Win9x : Edit C:\AUTOEXEC.BAT and add the path to "bin" directory of MingW to the PATH<br>eg. if you have :<br><pre class=code>set PATH=C:\;C:\WINDOWS</pre><br>Change it to :<br><pre class=code>set PATH=C:\;C:\WINDOWS;C:\Mingw\bin</pre><br><br>Now if you have Win2k (should work also with WinMe/Xp/NT/etc...) :<br>Right click "My Computer"<br>Select "Properties"<br>Open tab "Advanced"<br>Click "Environnement Variables"<br>Search for the variable "PATH"<br>Click "Modify"<br>Add to the end : ";C:\Mingw\bin" (without the quotes)<br><br><br>And *DON'T* post on other topics to ask help ! <br><br></td></tr></table><br>
<a name="467038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon_old</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thx for the help :)<br><br>It works now :) <br><br></td></tr></table><br>
<a name="467059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Should I install Fasm or MINGW ?<br><br>If Fasm, which version ? The WIN32 console one, or the WIN32GUI ?<br><br>Please elaborate...<br><br>Sergio. <br><br></td></tr></table><br>
<a name="467060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> not sure if this is intentional or not, but there's a fasm.exe in the bin directory of the Beta. <br><br></td></tr></table><br>
<a name="467065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes you're right, I didn't notice.<br><br>Does that means we don't need to install any MingW/fasm ?<br><br>I'm a bit confused...<br><br>Also, I'm skeptical about this syncronization method, since it does not work if your internet connection goes through a proxy; anyway, could we also have a traditional installer to be downloaded from the account page, as we always did with the previous Blitz versions ?<br><br>What's the advantage of this sync in respect to the download ?<br><br>Sergio. <br><br></td></tr></table><br>
<a name="467078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Should I install Fasm or MINGW ? <br></div>Just MinGW.<br><br><div class="quote"> What's the advantage of this sync in respect to the download ?  <br></div>Instant gratification? <br><br></td></tr></table><br>
<a name="467292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drago</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the replys.<br>got some more questions.<br><br>Why can't we include headers, ie .h.<br>and how do I set an external function that is in a class.<br><br>ie<br><pre class=code>
class cNumber
{
public:
    DoubleMe() { me+=me;)
    int GetMe() {return me;}
private;
    cNumber() { me=1;}
    int me;
}
</pre><br><br>so in Max i have.<br><pre class=code>
import "number.cpp"
extern 
   function GetMe%()
   function DoubleMe()
end extern
</pre><br> I have also tried<br><pre class=code>
import "number.cpp"
extern 
   function cNumber:GetMe%()
   function cNumber:DoubleMe()
end extern
</pre><br><br>and it responds with "Identitfier GetMe not found" <br><br></td></tr></table><br>
<a name="467368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately there is no C++ object support at this time so you need to build C style wrappers for your methods and declare them as Extern "C" in your headers to avoid C++ name mangling headaches. <br><br>I think also from BlitzMax you need to declare the extern block as win32 like this to get correct Windows linkage:<br><br><pre class=code>
Extern "win32"

Function timeGetTime()

End Extern
</pre> <br><br></td></tr></table><br>
<a name="467432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Unfortunately there is no C++ object support at this time <br></div><br><br>Any idea when this will be supported (you say 'at this time' so I assume it's a feature that will be included with some update)? <br><br></td></tr></table><br>
<a name="467441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drago</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahh, ok, so I have to make a wrapper for it, hmm will there be proper c++ support in the future? <br><br></td></tr></table><br>
<a name="467444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drago</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahh, ok, so I have to make a wrapper for it, <br>Will there be proper c++ support in the future? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
