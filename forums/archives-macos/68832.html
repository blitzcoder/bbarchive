<!DOCTYPE html><html lang="en" ><head ><title >Retrieving location of Documents and Shared dirs</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Retrieving location of Documents and Shared dirs</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=107" >MacOS X Discussion</a>/<a href="#bottom" >Retrieving location of Documents and Shared dirs</a><br><br>
<a name="769300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> On Windows, it has becomes necessary to retrieve the location of My Documents and the Common Apps Data Folder via special calls to the OS (due to language differences and the need to store data in the proper folders).  So, my question is simple ... Can the following two folders be retrieved from the OS, so that I don't need to make the assumptions I have below?<br><br>1) /Users/&lt;user&gt;/Documents<br><br>The user folder can be retrieved from environment variables, which isn't a problem.  However, what you don't get is the "Documents" on the end of it.  I don't want to just add it manually, as it most likely will not be called this on a version of OS X that is for a non-English speaking country.<br><br>2) /Users/Shared<br><br>Similar to above really.  Can the location of the Shared User folder be retrieved from somewhere, as I believe there isn't an environment variable that returns it.  Don't want to assume it's just called "Shared", for the same reason as above.  Also, is this folder always present?<br><br><br>If anyone can help, and give an example if possible, that would be great. <br><br></td></tr></table><br>
<a name="769326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding one of your queries, you can use Brucey's fantastic cross-platform module called BaH.Volumes that will get you the location of Documents, Program Files, App Data and also tell you how much space drives have left, and how big they are, all through simple commands.<br><br>You can download it <a href="http://brucey.net/programming/blitz" target="_blank">here</a> or via syncmods using the following command line:<br><br><i>syncmods -u forumusername -p forumpass bah.volumes</i> <br><br></td></tr></table><br>
<a name="769334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, should sort me out as for as the Documents folder goes.  Cheers.<br><br>Just need to know if there's any way of getting the Shared folder, as this is my preferred location for non-user specific game data. <br><br></td></tr></table><br>
<a name="769340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> According to Folders.h (part of the API docs), it's at :<br><br>  kSharedUserDataFolderType     = 'sdat', /* A Shared "Documents" folder, readable &amp; writeable by all users */<br><br>You want me to add it to the Mac Volumes type?<br>Also, if you can think of any other folder types that might be useful, I could sort them out too.<br><br>:-) <br><br></td></tr></table><br>
<a name="769343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you could add that, that would be great.  Can't really think of anything more that I would need, but others may decide to add one or two others.<br><br>Also, I've noticed that the ZIP file contains .i and .a files for PPC, but none for the Intel Macs.  Do I need to worry about this, or will it still work?  Sorry, not had a chance to test it yet on my Intel Mac.  EDIT --  Just checked and it works fine :)<br><br>Cheers for your help. <br><br></td></tr></table><br>
<a name="769346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Am adding a GetCustomDir function, in which you pass a "dir type", which will allow for a bit of flexibility on my end, rather than adding special functions that only work on one platform.<br>eg.<br>source :<br><pre class=code>
SuperStrict

Framework BaH.Volumes
Import BRL.Standardio

Print GetCustomDir(DT_SHAREDUSERDATA)
</pre><br>output:<br><pre class=code>
Executing:untitled1.debug
/Users/Shared

Process complete
</pre><br><br>No Intel Mac here, I'm afraid, but fortunately a Build Modules doesn't take too long to run... <br><br></td></tr></table><br>
<a name="769348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice work, and can't fault the quick service.  Very much appreciated.<br><br>Just realised all I needed to do was build the modules.  Doh!<br><br>Let me know when your changes are available.  And thanks again. <br><br></td></tr></table><br>
<a name="769353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> New version is up on the site...<br><br>Can only do PPC syncmods I'm afraid (which is up also), as one requires the specific platform/combo to upload to that.<br><br>Please let me know if you have any problems with it.<br><br>Thanks :-) <br><br></td></tr></table><br>
<a name="769356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, thank YOU Brucey!!! <br><br></td></tr></table><br>
<a name="769360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad I can be of help ;-)<br><br>Anyways... back to the Flight Dynamics module... <br><br></td></tr></table><br>
<a name="769382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works a treat.  Thank you. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
