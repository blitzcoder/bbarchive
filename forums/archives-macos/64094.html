<!DOCTYPE html><html lang="en" ><head ><title >Calling API</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Calling API</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=107" >MacOS X Discussion</a>/<a href="#bottom" >Calling API</a><br><br>
<a name="715340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so I've seen a few references to calling API functions by creating wrappers in C/C++ and importing those in my BlitzMax project. The problem is that at my shop, just adding BlitzMax to the mix is going to be challenging enough. Telling them we also have to have C compilers around is...well...I'd like to avoid it if at all possible.<br><br>Is there really no way to simply import a header file or something and make direct calls to shared libraries?<br><br>What I'm looking at specifically in this case, not that it matters much to this discussion, is GetNextProcess(). <br><br></td></tr></table><br>
<a name="715467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Having a C compiler around is a requirement of BlitzMax - installing Xcode means nothing else than also installing GCC, so the C compiler will be there anyway.<br><br>As for the GetNextProcess() question: This is systems programming, and therefor the natural domain of C and Assembler. In my opinion, writing C-wrappers for stuff like that is the only proper solution - on any system and any host programming language.<br><br>I only took a very short glimpse at the documentation of GetNextProcess, but it seems that this function and its relatives accept a long list of parameters, of which many might not be directly translatable to BlitzMax's set of native datatypes. However that might really be, I definitely would only use it via a nice wrapper. <br><br></td></tr></table><br>
<a name="715607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I disagree quite strongly that BlitzMax should require C wrappers around dynamic calls. That just doesn't make any sense, BMax is a very powerful language and there's no good reason that it shouldn't be able to make system calls directly. Calling OS APIs is *not* "systems programming". That's just writing a modern application on a modern OS. You have to call API functions, simple as that.<br><br>GetNextProcess is a very simple function. The Pascal signature is:<br><pre class=code>
FUNCTION GetNextProcess (VAR PSN: ProcessSerialNumber): OSErr;
</pre><br>Just a single number and another number passed back (I believe both are aliases to Long integers or a similar number). Getting the Process name from a serial number probably isn't that much more difficult. Why on earth should I have to wrap that in a function like:<br><pre class=code>
int __GetNextProcess(int *ProcessSerialNumber) {
  return GetNextProcess(ProcessSerialNumber);
}
</pre><br>That's just silly. <br><br></td></tr></table><br>
<a name="715797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Winni</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; That's just writing a modern application on a modern OS. You have to call API functions, simple as that.<br><br>If calling API functions is modern programming, then I really wonder why people wrote all those OO frameworks to get away from it in the first place.<br><br><br>&gt; That's just silly.<br>Yeah, but that it is what somebody actually did to get MaxGUI done, for example.<br><br><br>If there is a simple way to call that API function, use it. If there is none, writing that wrapper to make it accessible on the BlitzMax language level will be the only fallback option.<br><br>I honestly don´t know how the equivalent of calling a Windows-System-DLL works on a Mac or Linux. My job currently requries me to look into VPN solutions and database structures of a bigger project, so I don´t have to time to look into BlitzMax.<br><br>If you figure it out, please post your solution here, so everybody can benefit. <br><br></td></tr></table><br>
<a name="717482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> An OO framework is just a different kind of API. No one writes entire programs beginning to end anymore, it's simply impossible.<br><br>The bottom line is that BlitzMax should be able to call functions in DLL and SO files (Linux and mac) directly with a Declare Function ___ Lib "___" syntax. <br><br></td></tr></table><br>
<a name="717550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> example? <br><br></td></tr></table><br>
<a name="718533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> No one thought it was a good idea to mention Extern? Seesh. I'm not even going to bother to ask if anyone has used that on Mac. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
