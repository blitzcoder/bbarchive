<!DOCTYPE html><html lang="en" ><head ><title >Blitzmax and universal binaries HOWTO</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitzmax and universal binaries HOWTO</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=107" >MacOS X Discussion</a>/<a href="#bottom" >Blitzmax and universal binaries HOWTO</a><br><br>
<a name="652183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pls</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi folks!<br><br> I just released Su Doku Live (see <a href="http://www.deadpixelgames.com" target="_blank">http://www.deadpixelgames.com</a> for details) as a universal binary. I got a brand new Mac book pro, downloaded blitzmax 1.18, recompiled all modules and maxide, recompiled the game, and ended up with a "Intel version of Su Doku Live".<br><br> Now I had to apps, one for powerpc and another one for intel, what would I need to do to get the universal binary? Use the lipo tool (comes with xcode):<br><br>lipo -create &lt;new_universal&gt; &lt;plat_specific_bin_1&gt; &lt;plat_specific_bin_2&gt;<br><br> ....or in other words...<br><br>lipo -create -output Su\ Doku\ Live.app/Contents/MacOS/Su\ Doku\ Live /Volumes/SuDokuLive/Su\ Doku\ Live.app/Contents/MacOS/Su\ Doku\ Live SuDokuLive/Su\ Doku\ Live.app/Contents/MacOS/Su\ Doku\ Live<br><br> ... with the end result being a universal binary! <br><br> So what is missing in bmax (1.18, hopefully will be on 1.20, but I don't know and am just hoping): cross compiling for both platforms (you can generate intel code on powerpc and vice versa) and a final call to the lipo tool. Note that in practice you will still need two macs if you want to test your binaries, but not it is not (or will not be, once brl gets it done) a requirement to build them once blitzmax supports cross-compiling.<br><br>  In the meantime if you have access to both an intel and ppc machine you can get them to the market.<br><br> PLS <br><br></td></tr></table><br>
<a name="655509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One of my worries is that I can't make a universal binary on a normal mac, and I can't make a mac binary on a powerpc mac?<br><br>Therefore which mac do I buy in order to make both power pc and intel binaries - do I still need a power PC mac? <br><br></td></tr></table><br>
<a name="656283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx for the info pls.<br><br>i too would like confirmation that you can (through rosetta or otherwise) be able to build PPC mac compatible binaries with _just_ an intel mac.  can anyone confirm this?<br><br>thx. <br><br></td></tr></table><br>
<a name="656769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> For now, it looks like you'll need one of each... ;-)<br><br>At least until Mark gets it making them automagically for you on the Intel Mac. <br><br></td></tr></table><br>
<a name="656905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx Brucey.  that definately affects my decision in which type to buy.  intel would be real handy as i could basically make a build machine that could build for all 3 OS, but if i cant build PPC mac compatible, then i need to go for the PPC mac mini. <br><br></td></tr></table><br>
<a name="657065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> rereading my post im not sure if i explained myself clearly :(  my question is:  can anyone confirm if an intel mac using xcode 2.x can compile a .a lib file that will work on PPC? <br><br></td></tr></table><br>
<a name="657145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> if xcode 2.x can compile a universal binary then it *must* be compiling both intel and ppc code.. therefore I imagine that yes, you should be able to build a ppc specific .a  on an intel mac.<br><br>Don't ask me how tho.. I'm still on ppc here... :-) <br><br></td></tr></table><br>
<a name="657454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pls</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> - Xcode can compile universal binaries on BOTH platforms.  So a Xcode project can generate universal binaries from both PPC and Intel Macs.<br><br> - Blitzmax does not make use (yet) of the cross-compiler capabilities, so on Intel it generates Intel code, on PPC it generates PPC code.<br><br> - If you have both binaries compiled, by blitzmax, you can make use of the lipo tool to create a universal binary (you can use lipo on either ppc or Intel macs).<br><br> - You still need some sort of access to both a ppc and intel mac for testing purposes. On intel macs you can test the PPC version of a universal binary using "get info" and checking "run under Rosetta". But there is no equivalent to this on PowerPC macs (so if you must have a single mac, a Intel based one is better). As far as I can tell blitzmax powerpc binaries run well on intel under rosetta, only slower obviously (I cannot tell the difference on Su Doku Live, that's how good Rosetta is). <br><br></td></tr></table><br>
<a name="709051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Banshee</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am having difficulty getting the lipo tool to work, I have two versions on my desktop, one I have renamed too "Permission Fixer 3 PPC" the other is now "Permission Fixer 3 Intel".<br><br>I'd like to then create one called "Permission Fixer 3"<br><br>So I type and get (via drag and drop into terminal)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
becky-roses-computer:/ becky$ lipo -create -output /Users/becky/Desktop/Permission\ Fixer\ 3\ U.app/ /Users/becky/Desktop/Permission\ Fixer\ 3\ Intel.app/ /Users/becky/Desktop/Permission\ Fixer\ 3\ PPC.app/ 
lipo: Can't map input file: /Users/becky/Desktop/Permission Fixer 3 Intel.app/ ((os/kern) invalid argument)</textarea><br><br>I double checked renaming wasn't it by returning to the original build filenames and using a subfolder for each file and had much the same error:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
lipo -create -output /PermissionFixer3.app/ /Users/becky/Desktop/Intel/Permission\ Fixer\ 303.app/ /Users/becky/Desktop/PPC/Permission\ Fixer\ 303.app/ 
lipo: Can't map input file: /Users/becky/Desktop/Intel/Permission Fixer 303.app/ ((os/kern) invalid argument)</textarea><br><br>Any suggestions please? <br><br></td></tr></table><br>
<a name="733549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nigel Brown</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> try this:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=65180" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=65180</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
