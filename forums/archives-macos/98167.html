<!DOCTYPE html><html lang="en" ><head ><title >Sandboxing</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sandboxing</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=107" >MacOS X Discussion</a>/<a href="#bottom" >Sandboxing</a><br><br>
<a name="1144898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This has come up in the past and there hasn't been anything solid posted, at least that I've seen. While I was at WWDC last week I cornered an XCode engineer and asked about it, here's the gist of what I learned.<br><br>1) You can make the sandboxing entitlements in XCode, then just pull the plist out and use it for a command line compile (yay!)<br>2) You have to compile the entitlements into the app, it's not like the app store code signing process that happens afterwards (boo!). This means that you will have to likely modify bmk to alter the command line compile calls I suspect.<br>3) I *think* you can only include sandboxing when compiling with LLVM and not GCC... I don't use either from the command line, and am a bit remiss in their technical magic so I have no idea if this conversion is even possible for BMax, or how hard it might be...<br><br>And semi related, garbage collection is being depreciated on OS X in favor of ARC. While this is AWSOME in many many ways, I suspect this too could be potentially fatal to BMax on the mac as it is built entirely around GC and I don't think the ARC auto processing will apply...<br><br>I may have misinterpreted some of this, and again I don't know too much about the command line voodoo that makes bmax work, so please correct if someone has some more solid facts or experience. <br><br></td></tr></table><br>
<a name="1144900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ARC isn't a technology that really applies outside of Objective-C, as it relies on static analysis performed by Clang (not by LLVM itself, and not at runtime by some OSX component).<br><br>BlitzMax never used the particular GC system being deprecated anyway (OK technically it did, but only briefly and not in single-threaded mode), which is/was a tracing GC: the original ref-counting BlitzMax GC is (at least conceptually) similar to ARC already. <br><br></td></tr></table><br>
<a name="1144937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Yasha! Good to know the arc conversion shouldn't kill anything since it wasn't using the native GC.<br><br>Any insight on the possibility of converting from GCC to LLVM? That's really the core nugget of getting sandboxing working to my understanding. <br><br></td></tr></table><br>
<a name="1144963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well handily Clang is designed to be a "drop-in" replacement for GCC, so all of the same command-line options and so forth will be recognised, and either do the same things or safely do nothing.<br><br>As a result, replacing GCC with Clang should be easy for anyone who knows the dark arts of modifying bmk (which is not me, sadly). It's certainly possible: people have managed to make BlitzMax use MSVC in the past, so Clang should be trivial by comparison.<br><br>(Side note: LLVM isn't a C compiler, it's an optimiser/assembler backend only. The distinction is important because Apple have used more than one compiler targeting LLVM in the past, and all but Clang are now severely deprecated.) <br><br></td></tr></table><br>
<a name="1145032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> excellent to note. So in theory it should be possible to modify bmk into including an entitlements file if available thus setting it all up for sandboxing... if only Brucy were around to bribe and beg... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
