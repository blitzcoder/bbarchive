<!DOCTYPE html><html lang="en" ><head ><title >MAC Store submission: Invalid Binary</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MAC Store submission: Invalid Binary</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=107" >MacOS X Discussion</a>/<a href="#bottom" >MAC Store submission: Invalid Binary</a><br><br>
<a name="1111306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FredR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>I'm trying to submit a Blitzmax app on the MAC Store. After a first submission with a signature error (forgot the intermediate certificate(...)), the upload went fine, but all I get from Apple is Invalid Binary without any explanation. I guess signatures are ok as it doesn't reject me about this as it did the first time.<br>I used ima747 tutorial (thank you!), everything is ok for the installer and uploader.<br>OS X: 10.7.1<br>BMax : 1.44 (not b)<br>GCC: 4.2.1<br>XCode: 4.1  <br><br>Any clue ?  (I'll download Xcode 4.2 soon (poor connection))<br><br>(I have the feeling I'm asking "it doesn't print, what's wrong ?" ... ) <br><br></td></tr></table><br>
<a name="1111401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The errors are always crap :0)<br><br>How's the name of the binary? Any spaces, non alphanumeric chars, etc?<br><br>Hit up google... Poke stack overflow and the official apple boards... Cross fingers. <br><br></td></tr></table><br>
<a name="1111423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I once had that problem... I just recompiled my binary, re-created the installer, tested everything and re-submitted, and then it worked.<br><br>Could have been just some problem during the upload... <br><br></td></tr></table><br>
<a name="1111433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FredR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you,<br><br>No I don't have any space in names anywhere, the packaging name is bOxOn.pkg<br><br>I did recompile and add lines in info.plist, signed all and did everything step by step several times.<br><br>All my files are stored in the exe (IncBin) so there is no other file/dir than the bOxOn.app. I hope it's not an issue. (I read that it is not good if there is the PPC executable because it means double data, indeed, but now there is just the intel version).<br><br>I'm downloading Xcode 4.2 and give it another try.<br>I'll let you know. <br><br></td></tr></table><br>
<a name="1111465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> *within* the .app I mean the file name of the actual binary. The binary will, by default, be named to match you base bmx file. So if you called it "bOxOn Game.bmx" the binary will be "bOxOn Game" which contains a space. The into.plist targets the binary by name, so if you change it you have to update your info.plist to match. The package file can contain spaces I think, but to minimize the chances for errors I always strip everything down to alphanumeric only... <br><br></td></tr></table><br>
<a name="1111932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FredR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm an old ASM MS-Dos programmer, I very rarely put space or other not_7_bits characters in any filenames :)<br>But I'm quite a beginner on mac :( <br><br>So I installed XCode 4.2, recompile my projects, modify info.plist,sign and package everything. The pkg works on my mac and the uploader is happy, but still have Invalid Binary and no information. I'm writing to Apple support.<br><br>Actually before that, I tried to recompile Blitzmax modules before my project but it is failing now. (it's not the same error than Nigel Brown) <br><br>Building Modules<br>Compiling:blitz_app.c<br>In file included from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:12,<br>                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:20,<br>                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/AE.framework/Headers/AE.h:20,<br>                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:21,<br>                 from /Developer/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:66:<br>/Developer/SDKs/MacOSX10.6.sdk/usr/include/stdarg.h:4:25: error: stdarg.h: No such file or directory<br>... a lot of other .h are not found.<br><br>Files are where they should be, investigating... <br><br></td></tr></table><br>
<a name="1116129"></a>

<a name="1116130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fred did you solve this as my modules aren't compiling after upgrade to xcode 4.2 either?  Same type of errors:<br><br><pre class=code>
Building HolidayBonus
Compiling:GAGMacLib.m
In file included from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:12,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/Foundation.framework/Headers/Foundation.h:6,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/AppKit.framework/Headers/AppKit.h:10,
                 from /Users/jake/Desktop/Source/New Source/include/GAGMacLib.m:1:
/Developer/SDKs/MacOSX10.6.sdk/usr/include/stdarg.h:4:25: error: stdarg.h: No such file or directory
In file included from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreFoundation.framework/Headers/CoreFoundation.h:16,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/Foundation.framework/Headers/Foundation.h:6,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/AppKit.framework/Headers/AppKit.h:10,
                 from /Users/jake/Desktop/Source/New Source/include/GAGMacLib.m:1:
/Developer/SDKs/MacOSX10.6.sdk/usr/include/float.h:8:24: error: float.h: No such file or directory
In file included from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/DriverServices.h:32,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:125,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/AE.framework/Headers/AE.h:20,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:21,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/Foundation.framework/Headers/NSURLError.h:17,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/Foundation.framework/Headers/Foundation.h:81,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/AppKit.framework/Headers/AppKit.h:10,
                 from /Users/jake/Desktop/Source/New Source/include/GAGMacLib.m:1:
/Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/MachineExceptions.h:29:23: error: xmmintrin.h: No such file or directory
In file included from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/DriverServices.h:32,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/CarbonCore.h:125,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/AE.framework/Headers/AE.h:20,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Headers/CoreServices.h:21,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/Foundation.framework/Headers/NSURLError.h:17,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/Foundation.framework/Headers/Foundation.h:81,
                 from /Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/AppKit.framework/Headers/AppKit.h:10,
                 from /Users/jake/Desktop/Source/New Source/include/GAGMacLib.m:1:
/Developer/SDKs/MacOSX10.6.sdk/System/Library/Frameworks/CoreServices.framework/Frameworks/CarbonCore.framework/Headers/MachineExceptions.h:216: error: expected specifier-qualifier-list before '__m128'
Build Error: failed to compile /Users/jake/Desktop/Source/New Source/include/GAGMacLib.m
Process complete
</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you delete your build folder?  Because that'll give errors every time, if not.<br><br>XCode 4.3 Beta is available to developers, by the way. <br><br></td></tr></table><br>
<a name="1116142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah build folder (you mean .bmx folder right?) delete and Quick Build turned off. Same thing.<br><br>I've just got used to 4.2, don't need to learn 4.3, gah! <br><br></td></tr></table><br>
<a name="1116258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yeah build folder (you mean .bmx folder right?) delete and Quick Build turned off. Same thing. <br></div>No I actually meant Build folder - thought you were on about Monkey for some reason! <br><br></td></tr></table><br>
<a name="1116459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FredR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>After a few meaningless exchanges, Apple said approximately: "Blitzmax ! no support !" Thank you so much.<br><br>As the last valid modules build gave me working modules I didn't try anymore. My pkg is working well on different Macs.<br><br>I tried to change all my IncBins to App/Resources regular loadings. Still Invalid binary status and no email from their system.<br><br>My connection is very poor (20Mo=40Mns upload), I'll try to upload it from a real connection. (this should be pointless, but as there are some "improved data transfert reliability" in Uploader's change log, ...)<br><br>May be we can share our info.plist files ? (but this kind of error should be detected within the Uploader or server side ? (as long as the file integrity is fine after upload...))<br><br>And thanks for thinking about deleting the build folder, it happened to me several times with Monkey ;) <br><br></td></tr></table><br>
<a name="1117863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FredR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>Shame on me :(<br><br>After trying to upload my bOxOn app with a real connection, I got again Invalid binary. So no place for doubts, I'm doing something wrong. I read again all possible reasons for invalid binary on internet, I should be fine but as there are a lot of issues from info.plist, I searched for a valid example and I was lucky enough to find a multilangual version.<br>My mistake was with CFBundleLocalizations. XCode editor doesn't allow to put an array as parameter for this key, just &lt;string&gt;. So I wrote as told somewhere on internet &lt;string&gt;fr,en,de,it, ... &lt;/string&gt; but that is wrong. <br>The list should be in an array: &lt;array&gt;&lt;string&gt;fr&lt;/string&gt;&lt;string&gt;en&lt;/string&gt; ... &lt;/array&gt;. Why do they provide an editor that doesn't meet their own requirement ?<br>It's very disapointing that their automatic check doesn't report anything. Just an invalid info.plist email could be so more helpful.<br><br>Now I'm ready to face the "Application rejected because of bad Apple faith"... <br><br></td></tr></table><br>
<a name="1117868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the update. Keep us posted, good luck! <br><br></td></tr></table><br>
<a name="1123221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FredR</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, it's on the Mac Store. I nearly forgot to tell you. <br><br>As I predicted, I was rejected the first time for bad faith ! Actually I forgot to change some texts from the PC version, and as the game was made with the iPad conversion in mind (that shows), they told me that the quality and spirit required for Mac apps is really higher than iPad apps :( <br>I changed the texts, add some shortcuts as discussed somewhere here (full screen &amp; quit) and they accepted it.<br>There is a free lite version here: www.ludoid.com/bOxOn<br><br>Thank you ! <br><br></td></tr></table><br>
<a name="1123552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Congrats! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
