<!DOCTYPE html><html lang="en" ><head ><title >question about Framebuffers and depth buffer</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >question about Framebuffers and depth buffer</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >question about Framebuffers and depth buffer</a><br><br>
<a name="1113463"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I know this is a rarely visited subforum, but thought I'd post here anyways. it's a complicated question:<br><br>Suppose I was drawing an openGL scene, say, several objects at different depths and then ran an FBO-to-texture on one object during the render loop, somewhere in the middle. Now, I could attach a depth buffer, but if I were to render the screen-bound texture quad, the depth buffer doesn't appear do any occlusion from other objects in the scene.<br><br>How do I get the foreground objects to occlude the texture quad?<br><br>My thoughts are:<br>1. use the same depth frame buffer for all objects, so it's accessible during the FBO texture. Is this possible? I'll test this first.<br><br>2. render the depth to a texture and use a fragment program to display it properly (feed the fp the z-depth position). this is more complex, not sure if i want to go this way.<br><br>3. cheat it-- just draw the screen-bound quad in the approximate z-depth using the glFrustum camera.<br><br>Anyone with ideas? <br><br></td></tr></table><br>
<a name="1113555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got it, used thought #1.<br><br>I did a type of deferred rendered, just accumulating any non-shadered objects into a separate FBO pass. Uses more memory, but it works. <br><br></td></tr></table><br>
<a name="1114558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know OpenGl provides the void glPolygonOffset(), is this what you might be looking for.. but I know you would only really use this if you were trying to draw two object on top of each other.. But it might help you with what you are trying to do.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
