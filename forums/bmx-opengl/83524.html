<!DOCTYPE html><html lang="en" ><head ><title >Texture mode not working properly...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texture mode not working properly...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Texture mode not working properly...</a><br><br>
<a name="942257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to double the drawing scale of my current project.<br><br>I used this command to set up the window:<br>gluOrtho2D(0.0, 800.0, 600.0, 0.0)<br><br>I have the texture smoothing function set to the following<br><br>	glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MAG_FILTER, GL_NEAREST)<br>	glTexParameteri(GL_TEXTURE_2D, GL_TEXTURE_MIN_FILTER, GL_NEAREST)<br><br>I'm scaling by 2.0 and all positions are whole number floats.<br><br>The screen is blurring my images when I double scale them. I want them to remain sharp.<br><br>I'm drawing 8x8 images and the sprites are getting really fuzzy. <br><br></td></tr></table><br>
<a name="942290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way around it could be to make your images twice as large and not do any scaling in the program. This way your images are as crisp as you want, and you do not have to fuzz with scaling issues. <br><br></td></tr></table><br>
<a name="942348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Strange, cus if you specify GL_NEAREST you really should not get any filtering at all especially if you're drawing to exact coordinates.<br><br>One thing you might want to try is that I read somewhere OpenGL considers the center of a pixel to be the point at which a texel covers it fully, so if you draw a pixel at 0,0 you're actually sort of drawing it from -0.5,-0.5 to 0.5,0,5 ??? If that is the case - and I'm not sure about this but you can experiment, then if you draw your object at a whole integer coordinate plus 0.5,0.5 maybe that will center it over the pixel.<br><br>Another issue is that floating point numbers are not accurate representations of decimal numbers and the larger the number gets the less accurate it becomes. You cannot accurately represent all integers using a float, so even if you're saying draw to 100.0,100.0 maybe it will draw to 99.9993,99.9993 or something, which will effectively position your pixel with sub-pixel accuracy, which will kick in an averaging of the affected pixels. You would either solve this by moving to Doubles instead of Floats, or using fixed-point integers. For a regular 2d world where your coordinates are not likely to go above 65536 you can use Shl 16 to turn an integer into a fixed-point number, and Shr 16 to convert fixed point to integer. This will likely be more accurate in many cases than using a float because there are exact equal distances between each `unit` of fixed point value. <br><br></td></tr></table><br>
<a name="953705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grover</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ImaginaryHuman is likely right here. This sounds more like a precision problem than anything. If you were using DirectX.. youd be stuffed, and would have to probably work with writing to the framebuffer pixel by pixel :) However.. OpenGL has a great answer - use double instead of float. OpenGL is effectively a 'experimenters/acedemics' developed graphics API - this means it has many levels of accuracy and consistency. Internally if you are using floats for translates, and rotations you will lose accuracy for every operation you do. At very fine pixel levels this means you lose the ability to accurately write to a specific pixel. Additionally, textures with their mip-mapping and filtering reduce the quality of the texture dependent on various factors. What you can do is regenerate mipmaps to suit gluBuild2DMipmaps() is often used for this or you can turn off mipmapping and filtering and use a 1:1 relationship with the texture pixel (texel) and the visual pixel itself. This is not overly recommended though, since any movement will result in 'aliasing effects'. <br><br>So.. an answer is what you might be after I guess :)  Turn off mipmap and filtering or make your textures actually bigger rather than scale them. If you scale any texture you will suffer some form of artefacts anyway - either stretching, filtering or blockyness.<br><br>Heres some good help on the subject:<br><a href="http://www.hanecci.com/pukiwiki/index.php?Programming/OpenGL/Texture#oc591fa2" target="_blank">http://www.hanecci.com/pukiwiki/index.php?Programming/OpenGL/Texture#oc591fa2</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
