<!DOCTYPE html><html lang="en" ><head ><title >Billboard Transparency</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Billboard Transparency</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Billboard Transparency</a><br><br>
<a name="1214165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheTophatDemon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> First and foremost, here's the <a href="https://drive.google.com/file/d/0BzyMN5S2kRTHa2w4R2JLVGtmTU0/edit?usp=sharing" target="_blank">link to the code</a><br><br>I'm having trouble with transparency in my billboards.<br>OK, so the textures for them are perfectly transparent (PNG), and I have GL_BLEND and all that stuff enabled. So, before drawing the sprite I disabled Depth Masking so the sprites won't show through the walls. But then the sprites render through each-other! It's hard to explain, I'll post some screenshots.<br><br><img src="http://www.newgrounds.com/dump/draw/acfa47f34f125bf0dcccd423b1e6f56f.png"> <br><br></td></tr></table><br>
<a name="1214186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keep the depth mask disabled, and enable depth test.<br><br><br>glEnable(GL_DEPTH_TEST) <br><br></td></tr></table><br>
<a name="1214216"></a>

<a name="1214217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't use alpha blending, use <a href="http://msdn.microsoft.com/en-us/library/windows/desktop/dd318354(v=vs.85).aspx" target="_blank">alpha testing</a>. <br><br></td></tr></table><br>
<a name="1214263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheTophatDemon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neither of these solutions worked in the slightest, and seemingly did nothing at all. What's weird is that when Depth Mask is disabled, if you look toward the left "hemisphere of rotation" it works perfectly fine, and only looks like it does in the other one. <br><br></td></tr></table><br>
<a name="1214264"></a>

<a name="1214265"></a>

<a name="1214266"></a>

<a name="1214267"></a>

<a name="1214268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The solution works, your implementation of it does not.<br><br>When rendering the billboards:<br><br>- Set the depth mask to GL_TRUE (the billboards will write to the depth buffer).<br><br>- Disable GL_BLEND. You won't use it.<br><br>- Enable GL_DEPTH_TEST (the billboards will be depth-tested with the depth buffer).<br><br>- Enable <b>GL_ALPHA_TEST</b> (the billboards will be alpha-tested).<br><br>- Set up the alpha testing function. You will use <b>glAlphaFunc( GL_GREATER, 0.5 )</b> (only fragments that have an alpha value greater than 0.5 will be rendered on the screen). <br><br></td></tr></table><br>
<a name="1214282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheTophatDemon</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, got it working. Thanks for the replies. I'm sort of a noob at OpenGL, but I wanted a good challenge (and more FPS). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
