<!DOCTYPE html><html lang="en" ><head ><title >How to maximize a window without showing it?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to maximize a window without showing it?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >How to maximize a window without showing it?</a><br><br>
<a name="475774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible to set a window to it's maximized state while it's hidden, without showing it even for a split second?<br><br>Basically I want to be able to something like this:<br><br>// create window<br>// maximize window<br>// create gadgets etc<br>// show window<br><br>Regards,<br>Chris <br><br></td></tr></table><br>
<a name="475779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's certainly possible in windows (using <a href="http://msdn.microsoft.com/library/default.asp?url=/library/en-us/winui/winui/windowsuserinterface/windowing/windowclasses/windowclassreference/windowclassfunctions/setwindowlong.asp" target="_blank">SetWindowLong</a> and WS_MAXIMIZE), but I don't know about Linux or Osx <br><br></td></tr></table><br>
<a name="475786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Spot on! Thanks Perturbatio :) <br><br></td></tr></table><br>
<a name="475808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> np, at a guess, to do it in linux, you would use this:<br><a href="http://tronche.com/gui/x/xlib/window/configure.html" target="_blank">http://tronche.com/gui/x/xlib/window/configure.html</a> <br><br></td></tr></table><br>
<a name="475857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Odds On</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> SetWindowLong() doesn't appear to do the job 100% unless I'm doing something wrong.. it certainly sets the window to it's maximized state, but it doesn't fill the screen after doing so.<br><br>I could use SetWindowPos(  ) to do it manually but then I can't restore the window down to it's original size because it forgets the old position and size of the window.<br><br>Regards,<br>Chris <br><br></td></tr></table><br>
<a name="477209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I *think* you would need to use <a href="http://msdn.microsoft.com/library/en-us/gdi/pantdraw_81pz.asp?frame=true" target="_blank">RedrawWindow</a>.<br><br>Either that or GetSystemMetrics to get screen Width and Height and then InvalidateRect or InvalidateRgn to redraw. <br><br></td></tr></table><br>
<a name="477334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to make sure that the 'content of the window' ie. the canvas has at least the same dimensions as the window when it's maximized. If the content is smaller, it won't display. <br><br></td></tr></table><br>
<a name="479445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Smokey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is possible to add close button and minimize button also?<br><br>The bglCreateContext does't seem to have flag for this<br>or we must use the user32.dll fonction to add them ? <br><br></td></tr></table><br>
<a name="726237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's pretty complicated, but it is possible:<br><pre class=code>Extern "win32"
	Function SetWindowLong:Int(hwnd:Int,index:Int,value:Int)="SetWindowLongA@12"
	Function GetWindowLong:Int(hWnd:Int, index:Int)="GetWindowLongA@8"
	Function SystemParametersInfoA(a,b,c:Byte Ptr,d)
EndExtern

Type WINDOWPLACEMENT
    Field length:Int=44
    Field flags:Int=0
    Field showCmd:Int=SW_SHOWNA
    Field ptMinPosition0:Int
    Field ptMinPosition1:Int
    Field ptMaxPosition0:Int
    Field ptMaxPosition1:Int
    Field rcNormalPosition0:Int
    Field rcNormalPosition1:Int
    Field rcNormalPosition2:Int
    Field rcNormalPosition3:Int
EndType

hwnd=QueryGadget(window,QUERY_HWND)
Local rect[4]
SystemParametersInfoA(48,0,rect,0)
lpwndpl:WINDOWPLACEMENT=New WINDOWPLACEMENT
GetWindowPlacement(hwnd,lpwndpl)
lpwndpl.showCmd=SW_HIDE
SetWindowLong hwnd,GWL_STYLE,getwindowlong(hwnd,GWL_STYLE)+WS_MAXIMIZE
SetGadgetShape window,rect[0],rect[1],rect[2]-rect[0],rect[3]-rect[1]
SetWindowPlacement(hwnd,lpwndpl)	
lpwndpl=Null</pre><br><br>This can also be used to set the restore size of a maximized or minimized window, without actuall restoring the window. <br><br></td></tr></table><br>
<a name="871430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry for dragging up such an old thread, the but code above looked relevant to something I'm working on at the moment... However, when I try to run Leadwerk's code above, it fails with an error:<br><i>Compile Error - Identifier 'GetWindowPlacement' not found</i> on the line: GetWindowPlacement(hwnd,lpwndpl)<br><br><br>I tried adding the following two lines to the <b>Extern</b> block:<br><br><pre class=code>	Function GetwindowPlacement(hwnd:Int,lpwndpl:Byte Ptr)
	Function SetwindowPlacement(hwnd:Int,lpwndpl:Byte Ptr)</pre><br><br>But doing that gives me the following errors on compile:<br><div class="quote"> <br>j://.bmx/windowplacement.bmx.console.release.win32.x86.o: undefined reference to `GetwindowPlacement@8'<br>j://.bmx/windowplacement.bmx.console.release.win32.x86.o: undefined reference to `SetwindowPlacement@8'<br> <br></div><br><br>And ideas? <br><br></td></tr></table><br>
<a name="871446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to make sure you Import <b>Pub.Win32</b> if you want to access any API functions. The code below is slightly tweaked so that it compiles:<br><br><pre class=code>Import Pub.Win32
Import MaxGUI.Drivers

Extern "win32"
	Function GetWindowPlacement:Int( hWnd:Int, lpwndpl:Byte Ptr )
	Function SetWindowPlacement:Int( hWnd:Int, lpwndpl:Byte Ptr )
	Function SystemParametersInfoA:Int(a,b,c:Byte Ptr,d)
EndExtern

Type WINDOWPLACEMENT
    Field length:Int=44
    Field flags:Int=0
    Field showCmd:Int=SW_SHOWNA
    Field ptMinPosition0:Int
    Field ptMinPosition1:Int
    Field ptMaxPosition0:Int
    Field ptMaxPosition1:Int
    Field rcNormalPosition0:Int
    Field rcNormalPosition1:Int
    Field rcNormalPosition2:Int
    Field rcNormalPosition3:Int
EndType

hwnd=QueryGadget(window,QUERY_HWND)
Local rect[4]
SystemParametersInfoA(48,0,rect,0)
lpwndpl:WINDOWPLACEMENT=New WINDOWPLACEMENT
GetWindowPlacement(hwnd,lpwndpl)
lpwndpl.showCmd=SW_HIDE
SetWindowLongA hwnd,GWL_STYLE,GetWindowLongA(hwnd,GWL_STYLE)+WS_MAXIMIZE
SetGadgetShape window,rect[0],rect[1],rect[2]-rect[0],rect[3]-rect[1]
SetWindowPlacement(hwnd,lpwndpl)	
lpwndpl=Null</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
