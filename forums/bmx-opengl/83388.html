<!DOCTYPE html><html lang="en" ><head ><title >confused about these performance testing results</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >confused about these performance testing results</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >confused about these performance testing results</a><br><br>
<a name="940977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >beanage</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys,<br><br>just did some tests on drawing performance with DrawRect(), and had some results i barely understand:<br><br>using the glmax2ddriver(), graphics( 1440,900 ) and MASKBLEND blending mode, i draw 200 000 screen-sized (1440*900) rectangles.<br><br>on my 1 gb gf 9800 gt this takes about 90 millisecs.<br><br>a single call to flip afterwards rises this to 500 millisecs.<br><br>anyone an idea why?<br><br>thx for fast answers,<br><br>BeAnAge<br><br>EDIT: calling the whole thing WITHOUT the glmax2ddriver() rises the runtime to 26k millisecs, both with and without flip(). its just ridiculous to me. <br><br></td></tr></table><br>
<a name="940982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This must mean that you have the graphics card draw the rectangles and then call Millisecs(). This gives the time when the CPU has finished sending the drawing commands, not the time when the graphics card has actually finished drawing.<br><br>The subsequent Flip must wait for the flip to be performed. At this point the CPU and GPU are back "in sync" and Millisecs() now reports the actual time when all the graphics activity has finished. <br><br></td></tr></table><br>
<a name="940991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >beanage</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, thanx.<br><br>should actually have known that, but it propably was more a wish than a real idea that it could actually take 90 ms to perform drawing 200000 screen-sized rectangles :)<br><br>greez from germany,<br><br>BeAnAge <br><br></td></tr></table><br>
<a name="941049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> try a glFinish() at the end of your drawing before you read how long it took. <br><br></td></tr></table><br>
<a name="941050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you use the draw command, all you do is tell the graphics card what you <i>want</i> it to do.<br>It won't actually <i>do</i> it until the flip <br><br></td></tr></table><br>
<a name="941130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >beanage</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, confusion gone so far :)<br><br>@imaginaryhuman: glFinish() at this point seems to effect the same results as flip()..<br><br>are there actually kinda "guidlines" how to speed up the drawing perrformance? e.g. using real opengl code instead of the bmax commands, or gl_quadstrip instead of gl_quads, changing MASKBLEND to SOLIDBLEND?<br><br>actually i'm not new to bmax or graphics programming itself (at least what bmax shows me from the chocolate side of it^^), but at this point my "experience" seems turning to zero .. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
