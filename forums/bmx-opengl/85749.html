<!DOCTYPE html><html lang="en" ><head ><title >Using floats or doubles?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Using floats or doubles?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Using floats or doubles?</a><br><br>
<a name="970671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm considering making the move to using all Double-precision for everything, rather than use Floats at all. I'm finding that floats don't seem to be very much faster and in many cases doubles seem to be the same speed. I'm on an iMac Intel Core 2 Duo.<br><br>I also did some speed tests for reading/writing and doing basic math on various data types. Integers are fastest at math although writing doubles is faster than writing integers to memory, and almost as fast as reading.<br><br>I also tried a simple vertex array test with OpenGL and the float and double tests both had practically the same speed. Points and triangles are just as fast with doubles as with floats. I guess a little bit of that is a bottleneck of the graphics card causing the cpu to wait, perhaps. OpenGL was slightly faster drawing double/float triangles than drawing int triangles - presumably because internally it works in floats and would have to convert integers to floats or something?<br><br>Has anyone else made the complete jump to using Doubles throughout? Or do you think there is still a usefulness for Float? <br><br></td></tr></table><br>
<a name="970675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used to use doubles in my physics engine <a href="/logs/userlog.php?user=11042&amp;log=1675" target="_blank">here.</a>  But then I turned them all into floats and it solved many of my bottle necks... then again, I was doing a lot of sqr and dot product with said doubles. <br><br></td></tr></table><br>
<a name="970679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most of what you think is single or double precision calculations are actually done in extended 80-bit registers. This means the only substantial speed advantage for single precision floats is that you are only moving half as much data as with double precision.<br><br>It is possible to squeeze out a little more speed by changing the FPU's precision mode so that it actually does only 32-bit calculations. Direct3D does this. But in that case you have no double precision. You can still have double precision variables, but arithmetic is only done to single precision. <br><br></td></tr></table><br>
<a name="970681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> NVidia has dropped support for 64-bit floats, and OpenGL3 doesn't support them, because no one used them and there was no point. <br><br></td></tr></table><br>
<a name="970959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm leaning towards floats for drawing graphics and doubles or floats for computation, but one issue arises - if you want to use the full range of a double to represent object positions, then how to pass this to gl to get it to draw properly <br><br></td></tr></table><br>
<a name="970964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> if you want to use the full range of a double to represent object positions, then how to pass this to gl to get it to draw properly <br> <br></div><br><br>simply convert it to a float and then pass it.... the rounding shouldnt make much of a difference unless you are zooming in on something reallly far. and in that case you should use the most comon trick in the book and change the scale. ie: in a game about a bacteria, your scale might be 1 unit = the length of the bacteria.  But in a game with people as the characters, 1 unit ~ 1 meter.  You should never use 1 unit = 1 meter for a game about bacteria and you should never use 1 unit = the length of a bacteria for a game with people as the characters... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
