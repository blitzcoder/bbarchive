<!DOCTYPE html><html lang="en" ><head ><title >Rotate view?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rotate view?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Rotate view?</a><br><br>
<a name="505373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some text scrolling up the screen but I would like to give it the starwars intro effect. Can I rotate the camera view to get perspective whilst still using Max2D for the majority of the code? Any help appreciated. <br><br></td></tr></table><br>
<a name="505393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Haramanai</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that you cannot use Max2D abd rotate the angle of the view. Because Max2D uses (I think) strictly GluOrtho2D or glOrtho. <br><br></td></tr></table><br>
<a name="505485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see any reason why you can't call glOrtho2D or whatever any number of times in your code, ie before you render stuff, to give you a perspective projection. <br><br></td></tr></table><br>
<a name="505598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Correct, Daniel. Cracked it last nite. You can reset the projection in your code. <br><br></td></tr></table><br>
<a name="505758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's pretty handy too - basically you are moving the camera and it lets you zoom, rotate and fly your game screen around in three dimensions pretty easily. <br><br></td></tr></table><br>
<a name="505768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I like it but I'm slow getting to grips with OGL. It works but I don't know if I'm doing things 'the right way' <br><br></td></tr></table><br>
<a name="507185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diordna</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, how about posting your code? Because this would be totally sweet to see used in the middle of a game :) <br><br></td></tr></table><br>
<a name="507286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
graphics 800,600,32
starfont=loadimagefont("Jedi Normal")
'glPushmatrix()
SetImageFont starfont

Const text_row_h=70

'MY STUFF HERE


fin=0



ystart#=450.00

SetBlend ALPHABLEND
ncount=0
ndelay=1

glMatrixMode(GL_PROJECTION)
glLoadIdentity()
gluPerspective(20.0,-8.0/6.0,1.0,100000.0)
glrotatef(180.0,0,0,1)
'glrotatef (180.0,0.0,0.0,1.0)

glEnable(GL_FOG)
Local fcols:Float[]=[0.0,0.0,0.0,0.0]
Local colptr:Float Ptr=VarPtr fcols[0]


glFogfv(GL_FOG_COLOUR,colptr)
glFogf(GL_FOG_START,500)
glFogf(GL_FOG_END,1000)
glFogi(GL_FOG_MODE,GL_LINEAR)

xpos=-108
angg#=80.0
dist=-836.0
scaley#=1.29599917
scalex#=0.113999963

Cls
Flip

Repeat

	Cls
	
	glMatrixMode(GL_MODELVIEW)
	glLoadidentity()
	SetOrigin xpos,ystart
	glTranslatef(0,0,dist)
	glrotatef(angg,1,0,0)
	SetScale scalex,scaley
	
		SetColor Rand(0,255),Rand(0,255),Rand(0,255)
		DrawText "      ***********************************",0.0,text_row_h
		DrawText "      *       your text here!!                  *",0.0,text_row_h*2
		DrawText "      **********************************",0.0,text_row_h*3
		DrawText "      *            **************                *",0.0,text_row_h*4
		DrawText "      *************04/05*************",0.0,text_row_h*5
		
	EndIf
	
	ncount:+1
	If ncount&gt;ndelay Then ncount=0
	If ncount=0 Then ystart:-1
	
	
	Flip
Until KeyHit(KEY_ESCAPE) Or ystart&lt;-2000.0

glMatrixMode GL_PROJECTION
glLoadidentity()
glOrtho 0,800,600,0,-1,1

SetScale(1,1)
SetColor 255,255,255
SetAlpha 1.0

glMatrixMode GL_MODELVIEW
glLoadIdentity
SetOrigin 0,0

glDisable(GL_FOG)
'glPopmatrix()
Cls
Flip

</pre><br><br>Here you go - I've tried to make a couple of mods so you can run it straight off the bat - untested - you'll need to download a font called 'Jedi Normal' to<br>see it as intended - this is on a website called "2200 free fonts" - available in Mac or PC format. Make sure the font filename is correct in the code above. <br><br></td></tr></table><br>
<a name="507425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diordna</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> compile errors!<br><br>"endif" without "if<br>missing parameter "size" in line 2<br><br>had to go at that point, hope that helps <br><br></td></tr></table><br>
<a name="507453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics 800,600,32
starfont=LoadImageFont("Jedi Normal",48)
'glPushmatrix()
SetImageFont starfont

Const text_row_h=70

'MY STUFF HERE


fin=0



ystart#=450.00

SetBlend ALPHABLEND
ncount=0
ndelay=1

glMatrixMode(GL_PROJECTION)
glLoadIdentity()
gluPerspective(20.0,-8.0/6.0,1.0,100000.0)
glrotatef(180.0,0,0,1)
'glrotatef (180.0,0.0,0.0,1.0)

glEnable(GL_FOG)
Local fcols:Float[]=[0.0,0.0,0.0,0.0]
Local colptr:Float Ptr=VarPtr fcols[0]


glFogfv(GL_FOG_COLOUR,colptr)
glFogf(GL_FOG_START,500)
glFogf(GL_FOG_END,1000)
glFogi(GL_FOG_MODE,GL_LINEAR)

xpos=-108
angg#=80.0
dist=-836.0
scaley#=1.29599917
scalex#=0.113999963

Cls
Flip

Repeat

        Cls
        
        glMatrixMode(GL_MODELVIEW)
        glLoadidentity()
        SetOrigin xpos,ystart
        glTranslatef(0,0,dist)
        glrotatef(angg,1,0,0)
        SetScale scalex,scaley
        
        SetColor Rand(0,255),Rand(0,255),Rand(0,255)
        DrawText "      ***********************************",0.0,text_row_h
        DrawText "      *       your text here!!                  *",0.0,text_row_h*2
        DrawText "      **********************************",0.0,text_row_h*3
        DrawText "      *            **************                *",0.0,text_row_h*4
        DrawText "      *************04/05*************",0.0,text_row_h*5
	DrawText "BLAH BLAH etc ",0,text_row_h*6
	DrawText "*                                                                                 *",0,text_row_h*7
	DrawText "*                                                                                 *",0,text_row_h*8 
	DrawText "*                                                                                 *",0,text_row_h*9	
	
	       
        ncount:+1
        If ncount&gt;ndelay Then ncount=0
        If ncount=0 Then ystart:-1
        
        
        Flip
Until KeyHit(KEY_ESCAPE) Or ystart&lt;-2000.0

glMatrixMode GL_PROJECTION
glLoadidentity()
glOrtho 0,800,600,0,-1,1

SetScale(1,1)
SetColor 255,255,255
SetAlpha 1.0

glMatrixMode GL_MODELVIEW
glLoadIdentity
SetOrigin 0,0

glDisable(GL_FOG)
'glPopmatrix()
Cls
Flip
</pre><br><br><br>OK- snapped out of the bout of laziness. This is tested. Just need the font in the same dir. <br><br></td></tr></table><br>
<a name="507641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diordna</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I've used this for some awesome in-game transitions...fade out and spin, then spin back in real fast :)<br><br>One more thing - how do I set the origin of rotation? opengl noob speaking here. Thanks. <br><br></td></tr></table><br>
<a name="507652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Erm - I'm an OGL noob, too. Did most of this by 'fiddling about'. Look at the GLtranslatef() and the GLrotatef() in the main loop - these tell OpenGL to translate so far along the x,y,z axes [GLtranslate (distx,disty,distz)] then from that centre rotate n degrees about vector 'A' [GLrotatef(angle,Ax,Ay,Az)] - before drawing the text - try fiddling with these. <br><br></td></tr></table><br>
<a name="507656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diordna</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that's all well and good, but then how do I move the camera back before rendering? <br><br></td></tr></table><br>
<a name="507676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't - you move the scene forward using a GLtranslatef(). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
