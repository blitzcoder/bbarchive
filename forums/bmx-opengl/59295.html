<!DOCTYPE html><html lang="en" ><head ><title >Various methods to detect opengl?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Various methods to detect opengl?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Various methods to detect opengl?</a><br><br>
<a name="660550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>What are actually the various methods to detect the presence of opengl?<br><br>I'd like to be able to return if opengl is in hardware of software mode.<br><br>Apologies if you have read a similar post, but I felt this forum more approporite for this kind of question.<br><br>I can't benchmark it as it is very unreliable on some cpus. For example the cpu may be the slow factor. <br><br></td></tr></table><br>
<a name="660554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I really don't think that OpenGL has any intention of reporting to you that it is or it not hardware accelerated. They make a point of being cross-platform and hardware/implementation independent. OpenGL itself probably doesn't know how its driver is implemented. It is unaware of whether it runs on hardware or software, or should be.<br>It is the o/s or the graphics card's driver that you probably have to talk to to find out if there is hardware acceleration active. OpenGL is supposed to be independent of its implementation, that why it is an interface to the graphics card and not the graphics card itself.<br><br>If you use SetGraphicsDriver() GLGraphicsDriver() you should know that you at least have OpenGL .. but no idea on the hardware support. DrawPixmap is *about* the same speed on a software mode as it for DrawImage because they both keep the backbuffer in main memory (possibly). That's about all I can think of.<br><br>Maybe someone else has some ideas? <br><br></td></tr></table><br>
<a name="660558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are some methods outlined in the windows section of the OpenGL FAQ you may want to look into. <br><br></td></tr></table><br>
<a name="660561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Simon. Following your advice I googled to the homepage and found:<br><br><a href="http://www.opengl.org/resources/faq/technical/mswindows.htm#0020" target="_blank">http://www.opengl.org/resources/faq/technical/mswindows.htm#0020</a><br><br><div class="quote"> To force software rendering from your application, choose a pixel format that is not hardware accelerated. To do this, you can not use ChoosePixelFormat(), which always selects a hardware accelerated pixel format when one is available. Instead, <b>use DescribePixelFormat() to iterate through the list of available pixel formats. Any format with the PFD_GENERIC_FORMAT attribute bit set will not be hardware accelerated.</b> <br></div><br><br>Now... how to do this in Blitzmax? <br><br></td></tr></table><br>
<a name="660562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually: <b>5.040 How do I know my program is using hardware acceleration on a Wintel card?</b><br><br><div class="quote"> <br><br><br>    OpenGL doesn't provide a direct query to determine hardware acceleration usage. However, this can usually be inferred by using indirect methods.<br><br>    If you are using the Win32 interface (as opposed to GLUT), call DescribePixelFormat() and check the returned dwFlags bitfield. If PFD_GENERIC_ACCELERATED is clear and PFD_GENERIC_FORMAT is set, then the pixel format is only supported by the generic implementation. Hardware acceleration is not possible for this format. For hardware acceleration, you need to choose a different format.<br><br>    If glGetString(GL_VENDOR) returns something other than "Microsoft Corporation", it means you're using the board's ICD. If it returns "Microsoft Corporation", this implies you chose a pixel format that your device can't accelerate. However, glGetString(GL_VENDOR) also returns this if your device has an MCD instead of an ICD, which means you might still be hardware accelerated in this case.<br><br>    Another way to check for hardware acceleration is to temporarily remove or rename the ICD, so it can't be loaded. If performance drops, it means you were hardware accelerated before. Don't forget to restore the ICD to its original location or name. (To find your ICD file name, run the regedit utility and search for a key named "OpenGLdrivers".)<br><br>    You can also gather performance data by rendering into the back buffer and comparing the results against known performance statistics for your device. This method is particularly useful for devices that revert to software rendering for some state combinations or OpenGL features. See the section on performance for more information.<br> <br></div><br><br>This is better information but still confused how to do this in Blitzmax... <br><br></td></tr></table><br>
<a name="660576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok after a discussion on IRC about it with noel, this transpired:<br><br><pre class=code>
SuperStrict
Framework Pub.OpenGL
Import Brl.StandardIO
Import Brl.GLGraphics
Try
GLGraphics( 320, 240, 0 )
Print String.FromCString(glGetString( GL_RENDERER ))
Print String.FromCString(glGetString( GL_VENDOR ))
Print String.FromCString(glGetString( GL_VERSION ))
Print String.FromCString(glGetString( GL_EXTENSIONS ))
Catch o:Object
Print o.ToString( )
End Try
End
</pre><br><br>Problem is, we  have to open an opengl window, but if that fails there is always try and catch.<br><br>What I need to know next is: what strings to look out for? What will happen on 95, 98, Me and windows NT machines? <br><br></td></tr></table><br>
<a name="660582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am more interested in doing this:<br><b><br>If you are using the Win32 interface (as opposed to GLUT), call DescribePixelFormat() and check the returned dwFlags bitfield. If PFD_GENERIC_ACCELERATED is clear and PFD_GENERIC_FORMAT is set, then the pixel format is only supported by the generic implementation. Hardware acceleration is not possible for this format. For hardware acceleration, you need to choose a different format.<br></b><br><br>Because sometimes the GL_RENDERER field is blank for machines WITH and WITHOUT opengl Hardware acceleration!<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
