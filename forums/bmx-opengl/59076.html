<!DOCTYPE html><html lang="en" ><head ><title >Confused about window mode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Confused about window mode</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Confused about window mode</a><br><br>
<a name="657774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am confused about windowed mode in OpenGL.<br><br>When I open a window on a 16-bit desktop using GLGraphicsDriver() and GLGraphics(320,240,0), I can use<br><br><pre class=code>
Local Component:Int[1]
glGetIntegerv(GL_RED_BITS,Component)
</pre><br>which will correctly state the number of red bits available. The same applies to green blue and alpha - it gives the correct amount of bits. It also correctly reports there is no stencil buffer and no alpha channel.<br><br>Now, if I open a dummy window and read the GraphicsHertz() and GraphicsDepth() which are 60Hz and 16-bit (desktop is set to 16-bit), then open my proper graphics window with GLGraphics(320,240,0,Hertz,GRAPHICS_BACKBUFFER), the following calls to read the bit depths returns 8-bit for red green blue and alpha, plus 16-bit depth buffer, plus 8-bit stencil buffer. However, the OpenGL program that then ensues does not operate correctly because there actually is no alpha channel or stencil buffer present, and it gets painfully slow and dithers the display.<br><br>Further, If I am on a 16-bit dekstop and I open a window with GLGraphics(320,240,0,Hertz,GRAPHICS_BACKBUFFER|GRAPHICS_ALPHABUFFER|GRAPHICS_STENCILBUFFER), rather than fail, it actually presents me with a stencil buffer, an alpha buffer, plus it runs faster than the previous 16-bit mode, plus you can't tell if it's dithered because it looks like the 32-bit image, yet it's running on a 16-bit desktop.<br><br>It seems that if you specify any flags for GLGraphics(), or a hertz rate, OpenGL reports the highest bit depths and buffer availability possible. Does this mean the display gets `promoted` internally to 32-bit data, and then dithered down to the display? If you open without any flags, it reports correctly.<br><br>It also seems that if you ask for a 16-bit window on a 16-bit desktop, it will let you ask for and get a stencil buffer and an alpha channel. Yet if you do that in full-screen, it will fail. So what does this mean? Do only some cards support this pseudo 32-bit mode in 16-bit windows? Somehow it supports a 16-bit display but with stencil and alpha. Is this just my graphics card? (NVidea GeForce4).<br><br>It's just all so confusing trying to figure out what will or will not be supported and what mode to go with.<br><br>Are 16-bit window supporting alpha and stencils commonplace? Is non-support of these in fullscreen commonplace?<br><br>It seems that 32-bit is the holy grail, as you know you're getting everything you ask for, unless it's not supported. ;-) <br><br></td></tr></table><br>
<a name="657904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think if you opened a context directly with wgl calls you may well get different results!<br><br>Its worth checking whats going on in the max opengl driver code when it opens a context and even sticking a few printf's in the C code to see whats going on<br><br>But a word of warning its not commented *at all* got to pity any one who has to maintain that code... <br><br></td></tr></table><br>
<a name="658115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, sounds a little bit too low-level complicated but it's a nice idea. I might take a look at it out of curiosity.<br><br>Thanks <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
