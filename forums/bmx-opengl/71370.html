<!DOCTYPE html><html lang="en" ><head ><title >More advanced graphics commands for max2d?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >More advanced graphics commands for max2d?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >More advanced graphics commands for max2d?</a><br><br>
<a name="797866"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steffenk</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings,<br>during the last time i've repeatedly felt a need for some more advanced graphics command than those that are packed with BlitzMax (max2d).<br><br>The first one was quite easy to solve by myself; I made a command in OpenGL that draws a rectangle with individual colors for each edge which fade into each other. People who've seen the menus of the "Final Fantasy"-series (e.g. FF7) probably know what i mean.<br><br>My current problem is more difficult. I want to take the shapes (i.e. the alpha-mask) from sprites and use them with different colors. The practical use would be to make the player blink periodically by drawing a white area in its shape onto it. Currently i have no idea how to implement this (in a fast enough way).<br><br>I suspect that i'm not the only person who wrote such small extensions for max2d, so my suggestion would be to collect all those functions, possibly into a new module. The higher availability of those functions could somewhat increase the power of BlitzMax for the creation of graphically impressive games; at least i hope so.<br><br>The reason i wrote this into the OpenGL forums is that dx sucks in my opinion and so those new commands will most likely have to be done in OpenGL. <br><br></td></tr></table><br>
<a name="797897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steffenk</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried to solve the second problem by modifying the sprites' pixmap on-the-fly now. ~100 fps VS ~800 fps before.<br>I guess that rules out this solution.<br><br>My multi-colored rectangle command also turned out to be quite slow, but only if used with SetAlpha &lt;&gt; 1.0 which I don't understand at all... <br><br></td></tr></table><br>
<a name="797949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're going to do it in OpenGL, which is a good thing, then there are probably several ways you can do this.<br><br>One is to have a GL_ALPHA texture containing the alpha channel from the item you want to appear to be white, and then set the source blend operation to GL_SRC_ALPHA_SATURATE and the dest to GL_NONE or something else, switch on blending,  and then draw a quad with the GL_ALPHA texture. It will take whatever value is in the alpha channel of the source texture and copy it to all three color components like grayscale, allowing you to draw the mask in white. Then in addition, by setting the colors for each vertex of the quad you can choose what color the mask will be drawn in, which can be different colors for each corner when you enable GL_SMOOTH as the shading method.<br><br>There are probably other ways to do it, but an alpha-only texture not only consumes 25% the amount of videoram as a RGBA texture, but it may also be faster to draw than drawing a whole texture with white pixels.<br><br>Another way is to use the stencil buffer - cut an area out of a stencil in the shape of the RGB image of the shape you're drawing, and then draw a white quad over the masked area with stencilling on so that it only draws in the shape of the object. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
