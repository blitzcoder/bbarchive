<!DOCTYPE html><html lang="en" ><head ><title >Render to Texture at runtime?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Render to Texture at runtime?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Render to Texture at runtime?</a><br><br>
<a name="480009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dud</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I have written a program in BlitzMax/OpenGL to create a random terrain which so far is working great.  I can texture my terrain using a pre-drawn texture, but as I am generating my terrain at runtime I would prefer to also generate a suitable terrain texture at runtime too.  I plan to create the various colours of pixels in the texture based on the various heights within the terrain - so ideally I am looking for some kind of "Render to Texture" function in OpenGL.<br><br>After doing a bit of searching I've discovered that such a feature doesn't seem to exist in older versions of OpenGL but is supported in newer versions through extensions?<br><br>I was wondering if anybody could suggest a way I could use the standard functions within the version of OpenGL supported by BlitzMax to create a texture at runtime.  I'm still new to OpenGL and am not familiar with its many functions so there might be an easy solution (I hope so!).  Speed is not important to me as my terrain, once generated, will remain static - so I only need to create the texture once at the start of my program.<br><br>Any suggestions would be much appreciated.<br><br>Dud <br><br></td></tr></table><br>
<a name="480017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am thinking you would need one big texture to cover the entire landscape, containing an image where the height of each piece of land is a different color ... not sure if there are other methods such as something along the lines of voxels? <br><br></td></tr></table><br>
<a name="480049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dud</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes that's exactly what I want and plan to do.  I can already stretch a texture over my landscape.  What I dont know is how to create a texture on-the-fly  i.e.  how to actually get my color values from a 2d array in memory into an actual texture object that opengl can use. <br><br></td></tr></table><br>
<a name="481018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Global skyi=LoadPixmap("sky2.png")
Global sky=bglTexFromPixmap( skyi )
.
.
.
	For Local x:Int=1 To 200
WritePixel(skyi,Rand(0,255),Rand(0,255),rnd(0,255)+(Int(rnd(0,255)) Shl 8)+(Int(rnd(0,255)) Shl 16))
	next
.
.
.
sky=bglTexFromPixmap( skyi )
</pre><br><br>but only do bgltextfrompixmap for as few text's as<br>needed because transfering multiple textures to vid<br>ram will be slow... <br><br></td></tr></table><br>
<a name="481194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Messed around with this...<br><br>bgltextfrompixmap can be a bit slow with mipmap, so you might<br>want to turn mipmaps off for that texture<br><br>If we're real lucky Mark will give us rendering to<br>different contexts like a texture...<br><br>but that can be a little problematic with multiple platforms <br><br></td></tr></table><br>
<a name="481977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dud</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chris,<br><br>Many thanks for this simple explanation - I'm new to BlitzMax too so hadn't even considered using bgltextfrompixmap - seems obvious now!  Speed shouldn't be an issue for me as I only want to transfer one texture using this method.<br><br>Regards<br>Dud <br><br></td></tr></table><br>
<a name="485632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=43478" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=43478</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
