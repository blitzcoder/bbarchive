<!DOCTYPE html><html lang="en" ><head ><title >Pixel data from GLTexFromPixmap()</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pixel data from GLTexFromPixmap()</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=103" >OpenGL Module</a>/<a href="#bottom" >Pixel data from GLTexFromPixmap()</a><br><br>
<a name="909296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to get the pixel data for a texture id obtained by using GLTexFromPixmap()?<br><br>EDIT: This is for saving/loading, how would I load the data back into a gl texture (or whatever I should be calling it.)<br><br>EDIT2: Can we just use glTexCoord2f with pixmaps? (so the data can be saved/loaded a lot easier, and so we don't have to convert it to a GL id) <br><br></td></tr></table><br>
<a name="909486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pixmaps are bitmaps in main memory, Textures are areas of video ram. They are connected via a bus over which the data must travel. OpenGL lives in video ram and everything it has access to has to be accessible to the graphics card GPU, thus has to be in video ram. You have to get the data from main memory to video ram by using e.g. GlTexFromPixmap. That copies the pixmap to video ram as a texture. The Graphics card then can access the texture data. It cannot access the pixmap.<br><br>Once you've generated a texture from a pixmap (i think that function returns a texture handle integer?), the pixmap still exists, and you could easily just save the pixmap. If you've thrown the pixmap away, you'll need to draw the texture image to the backbuffer and then either use GrabPixmap or GLReadPixels to transfer it to main memory, then SavePixmapPNG().<br><br>You cannot use GLTexCoord2f with pixmaps, you can only use it with textures in video ram. The whole reason there are two distinct entities - textures and pixmaps, is because the GPU graphics card can only access the special video ram that is `on board` the graphics card itself. It cannot access main memory - unless you have integrated graphics which is pretty crappy. So because the GPU has to work with video ram and know where to look for stuff, and for performance reasons, it doesn't access main memory. This creates the need for a) a storage system in main memory for bitmap data (pixmaps), and b) a bus to transfer between them. So you're pretty much stuck with two separate storage spaces. <br><br></td></tr></table><br>
<a name="909493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would it be safe to hold like.. 5000 44x44-44x144 tiles in vram? :o<br><br><strike>Can we use GLVertex2f with pixmaps? (I'd like to just deal with the pixmaps so saving/loading is easier)</strike> Obviously not..<br><br>BTW I'm saving additional information in the file aswell (eg. tile id, name, flags, and pixel data.) <br><br></td></tr></table><br>
<a name="909517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is an idea:<br><br>(I'm thinking I should keep all the pixmaps loaded and just stuff them in vram, memory taxing? :( )<br>When drawing a tile in the map we stick all the textures currently on-screen in vram and access them as we draw the screen.<br>After we are finished drawing we keep the textures in vram until the screen position changes, when it does we check to see if the texture, for a given tile, is already loaded, and if it is we skip over it, if it is not we load it AND if the texture is no longer on-screen we remove it.<br><br>That should make it fairly quick..<br><br>How do I remove a texture from vram? <br><br></td></tr></table><br>
<a name="909592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> 5000 44 x 44 textures at 4-bytes per texture is about 38 megabytes. You'd need at least that much vram if not more, and you can't do it all on one texture. There's nothing stopping you other than ram requirements. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
