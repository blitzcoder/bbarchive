<!DOCTYPE html><html lang="en" ><head ><title >Newbie Question - How to quit an app?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Newbie Question - How to quit an app?</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=510" >Monkey Discussion</a>/<a href="#bottom" >Newbie Question - How to quit an app?</a><br><br>
<a name="2064550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys.<br><br>Made my first post yesterday (Android) section, and since then I've moved from "Hello World" into writing Naughts &amp; Crosses with little to no help from looking at too many examples - which I'm pretty happy with at this stage since I've never written anything for any of these target platforms ever.<br><br>Okay, so my fabulous game works, however, I do have a button (area of the screen) to touch/click to end the game but I can't work out how to end the application.   Can anyone give me a hint?<br><br>I haven't read all of the tutorial stuff yet, just want to get this finished so that I can impress the hell out of my niece &amp; nephew tomorrow with this masterpiece of a game :)<br><br>Just bought Monkey Game Development from Packt - looking forward to having a read through that and learning lots.<br><br>So anyway, Hi to everyone that I haven't already spoken to on the Blitz Forums, you'll probably see a fair few more simple/complex questions in the coming days &amp; weeks. <br><br></td></tr></table><br>
<a name="2064551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>EndApp()</pre><br><br>Beside that you don't have to quit mobile apps. Actually for iOS you MAY not quit it. <br><br></td></tr></table><br>
<a name="2064556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Xaron.  I had a feeling that was the case.<br><br>When I put EndApp() in my code, I get a Identifier 'EndApp' not found error.<br><br>To be completely honest, I have very little experience in even using tablets let alone writing programs for them.<br><br>So to exit an app as such, it's just a matter of pressing the button on the tablet (not even sure what that button is called?) to go back to the main tablet screen.<br><br>Oh, and if a mod wants to move this topic, feel free - I meant to post this in the Monkey Programming section but put it here by mistake. <br><br></td></tr></table><br>
<a name="2064559"></a>

<a name="2064560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you an "Import mojo" at the top of your app?<br><br>Better is to use the OnSuspend and OnResume methods, as the smartphone OS usually will handle the life time of your app.<br><br>I one had an exit button in one apps of mine and it was rejected by Apple due to exactly this reason. <br><br></td></tr></table><br>
<a name="2064564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I've got an Import mojo at the top of the app.<br><br>I have zero idea about OnSuspend &amp; OnResume, haven't even looked at what these do..... yet.<br><br>Still trying to get my head around all of this App stuff - I'm thinking like a Windows programmer and that probably isn't the best thing to do, this is a whole new target I'm writing for.<br><br>I guess the way I should be thinking of it is this - if I play a Flash game using an internet browser, I don't "quit" from the game, I just close my browser or the Tab it is open in - guessing games on a Tablet are sort of the same?  <br><br>I did see somewhere in the help files, mention of "savestate" which I'm guessing is what is used to store the state of the game when a user stops playing and is reloaded when they start playing again.<br><br>Anyway, I'll have a read of the eBook I purchased, I'm sure it will answer a million of my questions.<br><br>Thanks for your help. <br><br></td></tr></table><br>
<a name="2064565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should have that basic construct:<br><br><pre class=code>
Strict

Import mojo

Function Main:Int()
  New MyGame()
  Return 0
End Function

Class MyGame Extends App

  'Called once, do your initialization here!
  Method OnCreate:Int()
    SetUpdateRate(30)
    Return 0
  End Method

  'Called 30 times per second (normally)
  Method OnUpdate:Int()
    Return 0
  End Method
  
  'This is called when the user pressed the home button!
  Method OnSuspend:Int()
    Return 0
  End Method
  
  'This is called when the user switches back to your app and it's still alive!
  Method OnResume:Int()
    Return 0
  End Method

  'This is called when something is rendered to the screen
  Method OnRender:Int()
    Cls()
    DrawText( "Hello there", 10, 10 )
    Return 0
  End Method
  
  'This is called when the back button was pressed!
  Method OnBack:Int()
    'Ok, just exit the app for test purposes!
    EndApp()
    Return 0
  End Method
End Class
</pre> <br><br></td></tr></table><br>
<a name="2064568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I guess the way I should be thinking of it is this - if I play a Flash game using an internet browser, I don't "quit" from the game, I just close my browser or the Tab it is open in - guessing games on a Tablet are sort of the same? <br></div><br><br>Basically, as you come from a Windows background..<br><br>OnSuspend is called when the window of your app is switched to the background (and not updated anymore).<br>OnResume is called when the user presses Alt-Tab to switch back to your application.<br><br>On a smartphone OnSuspend is called when the user presses the Home button. In that case your app is still in the memory but sleeping. As soon as the OS decides that it needs some memory, your app is removed by the OS. That's why you normally never have to close an app on mobile devices! As I told Apple even reject apps who do that!<br>OnResume is called when the user switches back to your app and it's still alive (if it's not alive, OnCreate is called again)!<br>OnCreate is called once during the startup (only if it's NOT alive anymore)<br>OnUpdate is called x times per second (set this with SetUpdateRate in OnCreate)<br>OnRender is called to draw everything<br>OnBack is called when the user presses the back button (obviously not available on iOS devices but Android and Windows Phone)<br><br>Please note that EndApp() does NOT work for the HTML5 and/or similar targets.<br><br>All in all you have an event based application here. So you don't have a game loop which runs indefinitely. You just have OnUpdate and OnRender called frequently. <br><br></td></tr></table><br>
<a name="2064567"></a>

<a name="2064566"></a>

<a name="2064571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow.  Didn't know any of this.  Thanks very much for the info.   <br><br>I'll hopefully have a bit more of a play tomorrow and maybe write something more than X's &amp; O's :) <br><br></td></tr></table><br>
<a name="2064572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I recommend to really study every edge of Monkeys documentation. A lot, if not everything is written down there. <br><br></td></tr></table><br>
<a name="2064574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want an Exit? (Yes/No) on Android apps, take a look at diddy.externfunctions.ShowAlertDialog().  You can modify this so it doesn't ask for a string, and sets a value for 'Yes'. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
