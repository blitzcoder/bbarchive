<!DOCTYPE html><html lang="en" ><head ><title >Cloud Compiling</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Cloud Compiling</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=510" >Monkey Discussion</a>/<a href="#bottom" >Cloud Compiling</a><br><br>
<a name="2086587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboom</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> One of the things I find annoying in Monkey is building for multiple devices. One idea would be to develop a Coud Compiling system, where the source and data files were send to a server, compiled for the target you want and then the compiled one sent back.<br><br>This could nicely work with the subscription model to pay fro the service. <br><br></td></tr></table><br>
<a name="2086596"></a>

<a name="2086597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> At least one person has done this for HTML5 builds, but not commercialized it. Very obvious that it would make money. One click rebuild and optionally upload to stores with my project settings and output needs to all targets at once? Yes, please. <br><br></td></tr></table><br>
<a name="2086601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well that sounds like an external tool without the need of Monkey. Should be doable. <br><br></td></tr></table><br>
<a name="2086603"></a>

<a name="2086604"></a>

<a name="2086605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If IIRC Mark did an example with Monkey some years ago. Of course the target was only HTML5 at the time.<br>I dont' know if there are legal issues or not.<br><br>BRL could offert this as paid service... I posted the idea some days ago on Blitzbasic forum ([a]http://www.blitzmax.com/Community/editpost.php?post=1225026[/a]) <br><br></td></tr></table><br>
<a name="2086606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If IIRC Mark did an example with Monkey some years ago. Of course the target was only HTML5 at the time.<br>I dont' know if there are legal issues or not.<br><br>BRL could offert this as paid service... I posted the idea some days ago on Blitzbasic forum ([a http://www.blitzmax.com/Community/editpost.php?post=1225026]) <br><br></td></tr></table><br>
<a name="2086630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've done it for HTML5, but not for public use yet... I'm planning to rework it a little before I try making it public (to see what disasters that brings on), but I do actually plan to mess with it again tonight.<br><br>I have an Ubuntu/Linode-based backend server that receives Monkey code sent from my 'public' site via a form; the backend server builds it and sends only main.js back to the public site, which then injects it into a frame (on the public site). The public site holds a 'standard' set of sprites (which the backend server has a copy of), hence I don't have to send the entire project back to the public site. Works really well!<br><br>I haven't tried building for any other platform, though -- I couldn't easily build for Windows/Mac/iDevice on the Ubuntu server, for example. <br><br></td></tr></table><br>
<a name="2086713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is cool :) <br><br>Would it work with data &amp; content updates as well?<br><br>This for Mac would be a dream for me since I'm   almost only using PC.<br><br>How difficult a project is this for something like iOS? <br><br>I'm happy to install stuff on the Mac, have it act as a server, I just want to reduce the file copy mayhem and xcode trouble that usually happens - especially for testing a new version :)<br><br>I thought the scope of a project like this was quite big, if only for Mac/iOS compilation? <br><br></td></tr></table><br>
<a name="2086733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you might have misread my last sentence, Tibit -- "I <u>couldn't</u> easily build for Windows/Mac/iDevice on the Ubuntu server"!<br><br>My public site sends the source code to the backend server, where a PHP script creates a 'lock file' (to make sure it services only one request at a time) and a temporary build directory, copies in the data required (images in my case), builds the project for HTML5 and unlocks the lock file, ready to take the next request.<br><br>Where my PHP script then sends back main.js, you could theoretically have it archive the temporary build folder (after building for your preferred target) and return that as a downloadable file. Of course, you could only build for the targets your server supports, so mine could only build for HTML5 and possibly Linux Desktop/C++ Tool (not sure about Android).<br><br>How that would all work out in practise, though, I don't know! Adding content upload and management is really out of my comfort zone, too -- that's why I have a standard set of images at both ends, as it's meant to be for a tutorial site.<br><br>I'm sure other targets could be done by someone with more talent/time/patience, but have only tried single-file HTML5 projects so far, which is all I need -- I've no experience at all of Mac/iDevice building in Monkey.<br><br>(I did have some help on the public site part that submits/receives and injects the resulting Javascript, and that's the part I'm currently trying to figure out and rewrite in a way that I can comprehend.)<br><br>I'll maybe try making it available at the weekend so I'm around to take it down if all goes wrong/site gets hacked/bandwidth goes nuts, etc! <br><br></td></tr></table><br>
<a name="2086745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding other targets: your backend has to be capable of building them.<br><br>a "building farm script" isn't that hard to write: you won't need to do it webbased (client side), just build a correct api and voila... various tools can submit what is needed (including some kind of "projectHash") ... another api call is then kicking off the build process - result is a processToken/Hash/...<br>Your clients (the software on your pc) can then check the state of the compilation process using the processToken. Why this token? Imagine the compilation being delayed (others are building now ... so you are in a queue). The only thing you might get returned by sending the "startCompile"-command: if the source has some syntax errors in it (fast and dirty checks).<br><br>So the really hard thing is to get it compile things for different targets: your server could do it "virtually" (kicking off virtual machines, remotely starting the compiler in the vm, copying files to the backend storage and pausing/stopping the vm). If your server is a "mac" I think you will have the best chances to compile for the rest (crosscompiling) but as apple has some problems with others being able to compile for mac ... this is a target which wont work.<br><br><br>So again in short:<br>- backend must enable compilation to the different targets (each must be setup'd)<br>- backend needs a nice api<br>- api: Assets (add, remove assets/data/source to specified projectToken, [optional: get])<br>- api: Project (add, remove, get)<br>- - add: creates a new project, returns token<br>- - remove: remove a project specified by token, removes contained assets/data/sources<br>- - get: receive builds of the given projectToken from the specified targetID<br><br>That "get" may return an queueToken (instead of the binary data) describing additional things:<br>- api: Queue (add [admin], remove [admin], get) : get information about the current queue state of the given projectQueueToken<br><br>You could add "publish" to api which does some magic (stores etc.)<br><br><br>All in all: keep the api simple and clean (just google about REST-Services). If your api is working then, you can implement the interface using webbased approaches (php html css js) or platform specific (an win32/mac/linux binary). It depends on skills and time :D.<br><br>Of course "api server" and "build server" can be on different computers (api server just informs build server about to-do-tasks).<br>Also clients could check the api server, what ressources have to get uploaded/refreshed (md5 hashes should be enough):<br>- api saves an md5 for each asset<br>- clients compute md5 (webbased: check some md5-implementations in .js) and send out an status request to the api containing one or all hashes (api must be able to handle "single" or "group" data containers - see json style). api returns an array of "changed" ressource hashes/names<br>- clients upload all changed ressources.<br><br><br>There are plenty of possibilities - most of them should be "basically" codeable during a long weekend (server side + test code running on pure php locally). But of course this depends on the "build server" already being running (just add more and more targets afterwards). The "mac build" could be eg. deferred to some macs in the "buildMachines"-list (that is why a "queue" may be needed).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
