<!DOCTYPE html><html lang="en" ><head ><title >Hitchy Performance on HTML5, XNA Targets, GLFW OK?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Hitchy Performance on HTML5, XNA Targets, GLFW OK?</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=510" >Monkey Discussion</a>/<a href="#bottom" >Hitchy Performance on HTML5, XNA Targets, GLFW OK?</a><br><br>
<a name="2020136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm receiving rather hitchy, uneven performance on the XNA and HTML5 targets.  This is visible not only in my test app but the Rockout demo included and the Asteroids game by TheRevills here:<br><br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=373&amp;app_id=45" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=373&amp;app_id=45</a><br><br>This performance issue does not occur with either Blitzmax or GLFW targets for the above apps, which is still not as glassy smooth as Blitzmax but is still quite nice.<br><br>My gut feeling is that this may be related to either some system priority issue or something with some garbage collection or intermittent process that may be kicking off, perhaps related to list management.<br><br>The best way I can describe the behavior is as an "intermittent hitchiness," meaning that it's not a steady every-frame chug or low framerate, but that some frames take maybe 1/20 second or so longer to render than others do, to no apparent pattern-- I wouldn't say that it's barely perceptible but that it's quite perceptible.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="2020147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's probably to do with garbage collection -- RockOut in particular is not at all optimised for the more limited platforms (XNA is known to be very badly affected by GC) and it just spawns new objects, iterates through lists, etc, without a care.<br><br>I've just started experimenting myself with pre-allocating objects in arrays, re-using those array entries, and so on, in order to try and cope with this sort of thing. (Never had to bother until now!) <br><br></td></tr></table><br>
<a name="2020168"></a>

<a name="2020169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Creating new objects at runtime is not left unpunished. But I think it’s not only that. I’m not sure that monkey uses vsync. The only target I’m sure about is iOS (by default it is disabled). I haven’t had a look at the others. Does anyone know if there is any vsyn supported? I think vsync is very important. I didn not take the time to investigate yet. <br><br></td></tr></table><br>
<a name="2020167"></a>

<a name="2020155"></a>

<a name="2020172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zoqfotpik</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, I know how to handle this [for those who don't, make a class initialized at start that contains a large-enough array of objects, then do various list operations within that already-defined array...  DruggedBunny: it's funny that sometimes the seemingly most brute-force programming is the best...]<br><br>This is not a vsync issue because again it is not happening every frame, there is something else going on and again my guess is garbage collection or something of the sort.  It's very interesting to see the Blitzmax rockout running right next to the monkey XNA rockout, the difference is amazing. <br><br></td></tr></table><br>
<a name="2020171"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
