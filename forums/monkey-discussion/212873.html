<!DOCTYPE html><html lang="en" ><head ><title >MonkeyX speed</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MonkeyX speed</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=510" >Monkey Discussion</a>/<a href="#bottom" >MonkeyX speed</a><br><br>
<a name="2126936"></a>

<a name="2126937"></a>

<a name="2126938"></a>

<a name="2126939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello guys,<br><br>I have a little concern.<br><br>I'm trying to do a simple counter, it seems to me that it is MonkeyX very slow :/ (I have not tried Monkey2.)<br>(Target Desktop_Game_(Glfw3), HTML5 is much slower.)<br>If I do the same thing in a different language, it's much faster.<br><br>Time counting 0-1000:<br>MonkeyX 16,31 sec.<br>AGK2 1,86 sec.<br>PureBasic 0,1 sec.<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import mojo

#GLFW_WINDOW_TITLE=" Shuffle "

Global count:Int

'// main class //
Class Wall Extends App

	Method OnCreate()
	
		count = 0
		
		SetUpdateRate 60
		
	End Method
   
 	 
	Method OnUpdate()

	End Method	'End OnUpdate()
    

	Method OnRender()

		DrawText(String(count), 10, 10, 0, 0)

		count = count + 1
			
	End Method	'OnRender

End Class

'// main function //
Function Main()
	New Wall()
End Function
</textarea> <br><br></td></tr></table><br>
<a name="2126940"></a>

<a name="2126941"></a>

<a name="2126942"></a>

<a name="2126943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Monkey is updating and rendering 60 frames per second, and adding 1 to the count every frame.. just like you told it to!  Total time 1000/60 = 16 seconds.<br><br>Your results don't really have anything to do with Monkey's speed.  It's spending all its time just waiting for the next update. If you control the frame rate and count the same way in the other languages, you'll get the same result.  <br><br>You should have no trouble getting 60 frames per second with plenty of things happening on screen.  It's as fast as many other languages used for computer games nowadays.<br><br>To put it another way: every frame you add one to a count and print a string.  But you could do a thousand things like that every frame, and it would run just as fast. <br><br></td></tr></table><br>
<a name="2126944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It also occurred to me. But if there is for example SetUpdataRate 1000, speed is the same. Unfortunately. <br><br></td></tr></table><br>
<a name="2126945"></a>

<a name="2126946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think there's a limit - you can't update faster than you can render, and 60 frames per second may be the maximum that can be shown.  But regardless of that, there's no issue here to worry about.  For example, try putting this in your render loop:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Method OnRender()
		For Local i:Int = 0 Until 10
			DrawText( String( count ), 10, 10 + 40 * i, 0, 0)
			count = count + 1
		Next
	End Method	
</textarea><br><br>Instant 'speed up' by a factor of 10... and you can make it 100 if you don't mind the text going on top of itself!<br><br>If you run some of the examples in 'bananas', you'll see that they work fine.  I'm sure there are some that paint lots of things on the screen.<br><br>Monkey is certainly not designed to be a super high performance language, but for 99% of users it will be more than fast enough. <br><br></td></tr></table><br>
<a name="2126947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I understand. I wanted to try to use MonkeyX for a complicated calculation. And I got there a billion combinations, so for this example, speed is important.<br>It is a pity that there is the limit. But, well, thank you for your answer! I was interested.<br><br>I assume that the same situation is with Monkey2. <br><br></td></tr></table><br>
<a name="2126948"></a>

<a name="2126949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> To do a complicated calculation at max speed, do it in App.OnCreate() and don't print out the results until it's done!  Why render when you could be calculating?<br><br>The desktop target is the fastest as it will be compiled to C++.  Monkey probably won't give the fastest possible C++ translation, but it will be fast enough.  Quite likely within a factor of 2-3 of what you would get with [non-fancy] native C++.  Maybe even identical, depending on the problem and how you go about it.<br><br>Seriously, the limit you have found is simply a limit on how many times you can print to the screen every second.  It has *nothing* to do with how fast calculations can be done.  I would guess that the Monkey desktop target would typically be faster than standard Java for such calculations.  And dozens of times faster than Python.  Lots of people use Java and Python for complicated calculations.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Method OnCreate:Int()
	
		Local count:Int = 0
		For Local i:Int = 1 To 50000
			count = count + i
		Next
		Print count
		
		Return 0
	End
</textarea><br><br>Result 1250025000... and it's almost instant. <br><br></td></tr></table><br>
<a name="2126950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, cool! Thank you very much - a big help!<br><br>Please, you could still prove to be a whole code? I'll try it then do it after the weekend. I am now on PC sporadically. Thank you!!! <br><br></td></tr></table><br>
<a name="2126951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's nothing more to do... just stick what I posted at the start of OnCreate() in your current program, or any other program!  (The only change you have to make is to change the name of count, or else delete where you defined a variable of the same name.)  It will add up all the numbers from 1 to 50000, print the results, and then carry on with the rest of the program exactly as before.<br><br>Basically, if you just want to do a lot of calculations, you don't need all the updating and rendering stuff.  Those are for just for presenting apps with a nice user interface. <br><br></td></tr></table><br>
<a name="2126952"></a>

<a name="2126953"></a>

<a name="2126954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I understand. Thank you very much, Gerry! ;-)<br><br>So, I've done my whole calculation that I need. Everything is well, it seems that it is too fast.<br>(It calculates the combination of the times and the best combined time (sum) will print on the screen.)<br><br>Now, the problem is that MonkeyX included no GOTO command :D<br><br>If I do it this way over jumps on methods, so there is early error: "maximum call stack size exceeded". Otherwise everything (see the first calculations at the beginning) works correctly.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import mojo

#GLFW_WINDOW_TITLE=" Shuffle "

Global pp:int

Global x1:Int
Global x2:Int

Global l1:Int
Global l2:Int

Global kom:Int

Global i:Int
Global j:Int

Global t1:Float
Global t2:Float
Global t3:Float

Global tm:Float
Global tmc:Float

Global v1:Int

Global a1:Int
Global b1:Int

'// main class //
Class Wall Extends App

	Field a:int[20]
	Field b:int[20]

	Method OnCreate()

		If tmc = 0
			tmc = 10000
		EndIf
	
		'randomize
		Seed = Millisecs()
		
		'počet pásek
		pp = 14		
		
		x1 = 0
		x2 = 0
		t3 = 0
		
		'seskok
		j = Rnd(1, 4)
		
		'naplnění pole
		For i = 1 To 17
			a[i] = i
		End For
		
		'shuffle
		For i = 1 To 17
			a1 = Rnd(1, 17)
			b1 = Rnd(1, 17)
	
			Local k:Int = a[a1]
			Local l:Int = a[b1]
			
			a[a1] = l
			a[b1] = k
		End For
		
		'korekce na začátku
		If a[1] &lt;&gt; j
			For i = 1 To 17
				If a[i] = j
					l1 = i
					Exit
				EndIf
			End For
			'přesun j na začátek
			a[l1] = a[1]
			a[1] = j
		EndIf

		
		'hledání 6
		For i = 1 To 17
			If a[i] = 6
				l1 = i
				Exit
			EndIf
		End For
		
		'hledání 7
		For i = 1 To 17
			If a[i] = 7
				l2 = i
				Exit
			EndIf
		End For
	
		'srovnání 6+7
		a[l2] = a[l1 + 1]
		a[l1 + 1] = 7
		
		
		'vyřazení 15
		For i = 1 To 17
			If a[i] = 15
				l1 = i
				Exit
			EndIf
		End For
		
		a[l1] = a[17]
		a[17] = 15
		
		
		'kontrola posbíraných pásek
		For i = 1 To pp + 1
			Select a[i]
				Case 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15
					x1 += 1
			End Select
		End For
		
		'kontrola zda je tam vypnutí plotu
		For i = 1 To pp + 2
			If a[i] = 16
				x2 += 1
			EndIf
		End For
	
		'pokud je to všechno správně, pak dál
		If x1 = pp And x2 = 1 And (a[pp + 1] = 17 Or a[pp + 2] = 17)
			dal()
		Else
			OnCreate()
		EndIf
		
	End Method
	
	
	Method dal()
		
		' čas1
		If a[1] = 1
			t1 = 46.18
		ElseIf a[1] = 2
			t1 = 37.84
		ElseIf a[1] = 3
			t1 = 24.82
		ElseIf a[1] = 4
			t1 = 33.28
		ElseIf a[1] = 9
			t1 = 62.09
		EndIf


		' čas2
		For Local i:Int = 1 To pp + 2
  
			If a[i]=1 And a[i+1]=2
				t2=44.81
			ElseIf a[i]=1 And a[i+1]=3
				t2=10.86
			ElseIf a[i]=1 And a[i+1]=4
				t2=59.9
			ElseIf a[i]=1 And a[i+1]=5
				t2=82.13
			ElseIf a[i]=1 And a[i+1]=6
				t2=62.95
			ElseIf a[i]=1 And a[i+1]=7
				t2=63.34
			ElseIf a[i]=1 And a[i+1]=8
				t2=80.91
			ElseIf a[i]=1 And a[i+1]=9
				t2=30.45
			ElseIf a[i]=1 And a[i+1]=10
				t2=38.6
			ElseIf a[i]=1 And a[i+1]=11
				t2=50.91
			ElseIf a[i]=1 And a[i+1]=12
				t2=67.11
			ElseIf a[i]=1 And a[i+1]=13
				t2=61.14
			ElseIf a[i]=1 And a[i+1]=14
				t2=53.34
			ElseIf a[i]=1 And a[i+1]=15
				t2=113.13
			ElseIf a[i]=1 And a[i+1]=16
				t2=40.34
			ElseIf a[i]=1 And a[i+1]=17
				t2=38.2
    
			ElseIf a[i]=2 And a[i+1]=3
				t2=57.34
			ElseIf a[i]=2 And a[i+1]=4
				t2=117.57
			ElseIf a[i]=2 And a[i+1]=5
				t2=112.69
			ElseIf a[i]=2 And a[i+1]=6
				t2=142.78
			ElseIf a[i]=2 And a[i+1]=7
				t2=143.17
			ElseIf a[i]=2 And a[i+1]=8
				t2=114.78
			ElseIf a[i]=2 And a[i+1]=9
				t2=120.28
			ElseIf a[i]=2 And a[i+1]=10
				t2=77.31
			ElseIf a[i]=2 And a[i+1]=11
				t2=65.31
			ElseIf a[i]=2 And a[i+1]=12
				t2=69.65
			ElseIf a[i]=2 And a[i+1]=13
				t2=64.22
			ElseIf a[i]=2 And a[i+1]=14
				t2=47.52
			ElseIf a[i]=2 And a[i+1]=15
				t2=112
			ElseIf a[i]=2 And a[i+1]=16
				t2=30.44
			ElseIf a[i]=2 And a[i+1]=17
				t2=36
    
			ElseIf a[i]=3 And a[i+1]=4
				t2=49.26
			ElseIf a[i]=3 And a[i+1]=5
				t2=73.55
			ElseIf a[i]=3 And a[i+1]=6
				t2=72.83
			ElseIf a[i]=3 And a[i+1]=7
				t2=73.22
			ElseIf a[i]=3 And a[i+1]=8
				t2=88.37
			ElseIf a[i]=3 And a[i+1]=9
				t2=36.75
			ElseIf a[i]=3 And a[i+1]=10
				t2=44.41
			ElseIf a[i]=3 And a[i+1]=11
				t2=77.22
			ElseIf a[i]=3 And a[i+1]=12
				t2=113.81
			ElseIf a[i]=3 And a[i+1]=13
				t2=64.45
			ElseIf a[i]=3 And a[i+1]=14
				t2=59.17
			ElseIf a[i]=3 And a[i+1]=15
				t2=122.61
			ElseIf a[i]=3 And a[i+1]=16
				t2=49.54
			ElseIf a[i]=3 And a[i+1]=17
				t2=50.23
    
			ElseIf a[i]=4 And a[i+1]=5
				t2=52.66
			ElseIf a[i]=4 And a[i+1]=6
				t2=65.18
			ElseIf a[i]=4 And a[i+1]=7
				t2=65.57
			ElseIf a[i]=4 And a[i+1]=8
				t2=100.96
			ElseIf a[i]=4 And a[i+1]=9
				t2=64.52
			ElseIf a[i]=4 And a[i+1]=10
				t2=66.96
			ElseIf a[i]=4 And a[i+1]=11
				t2=103.24
			ElseIf a[i]=4 And a[i+1]=12
				t2=125.04
			ElseIf a[i]=4 And a[i+1]=13
				t2=105.99
			ElseIf a[i]=4 And a[i+1]=14
				t2=125.77
			ElseIf a[i]=4 And a[i+1]=15
				t2=155.18
			ElseIf a[i]=4 And a[i+1]=16
				t2=89.73
			ElseIf a[i]=4 And a[i+1]=17
				t2=92.3
    
			ElseIf a[i]=5 And a[i+1]=6
				t2=49.86
			ElseIf a[i]=5 And a[i+1]=7
				t2=50.25
			ElseIf a[i]=5 And a[i+1]=8
				t2=87.45
			ElseIf a[i]=5 And a[i+1]=9
				t2=56.16
			ElseIf a[i]=5 And a[i+1]=10
				t2=63.92
			ElseIf a[i]=5 And a[i+1]=11
				t2=105.17
			ElseIf a[i]=5 And a[i+1]=12
				t2=115.55
			ElseIf a[i]=5 And a[i+1]=13
				t2=121.99
			ElseIf a[i]=5 And a[i+1]=14
				t2=121.37
			ElseIf a[i]=5 And a[i+1]=15
				t2=135.58
			ElseIf a[i]=5 And a[i+1]=16
				t2=97.44
			ElseIf a[i]=5 And a[i+1]=17
				t2=103.13
    
			ElseIf a[i]=6 And a[i+1]=7
				t2=0.39
			ElseIf a[i]=6 And a[i+1]=8
				t2=45.47
			ElseIf a[i]=6 And a[i+1]=9
				t2=43.36
			ElseIf a[i]=6 And a[i+1]=10
				t2=55.78
			ElseIf a[i]=6 And a[i+1]=11
				t2=86.02
			ElseIf a[i]=6 And a[i+1]=12
				t2=108.25
			ElseIf a[i]=6 And a[i+1]=13
				t2=113.53
			ElseIf a[i]=6 And a[i+1]=14
				t2=96.21
			ElseIf a[i]=6 And a[i+1]=15
				t2=143.06
			ElseIf a[i]=6 And a[i+1]=16
				t2=126.12
			ElseIf a[i]=6 And a[i+1]=17
				t2=89.39
    
			ElseIf a[i]=7 And a[i+1]=8
				t2=45.86
			ElseIf a[i]=7 And a[i+1]=9
				t2=43.75
			ElseIf a[i]=7 And a[i+1]=10
				t2=56.17
			ElseIf a[i]=7 And a[i+1]=11
				t2=86.41
			ElseIf a[i]=7 And a[i+1]=12
				t2=108.64
			ElseIf a[i]=7 And a[i+1]=13
				t2=113.92
			ElseIf a[i]=7 And a[i+1]=14
				t2=96.6
			ElseIf a[i]=7 And a[i+1]=15
				t2=143.45
			ElseIf a[i]=7 And a[i+1]=16
				t2=126.51
			ElseIf a[i]=7 And a[i+1]=17
				t2=89.78
    
			ElseIf a[i]=8 And a[i+1]=9
				t2=62.47
			ElseIf a[i]=8 And a[i+1]=10
				t2=77.34
			ElseIf a[i]=8 And a[i+1]=11
				t2=116.22
			ElseIf a[i]=8 And a[i+1]=12
				t2=124.27
			ElseIf a[i]=8 And a[i+1]=13
				t2=137.76
			ElseIf a[i]=8 And a[i+1]=14
				t2=108.8
			ElseIf a[i]=8 And a[i+1]=15
				t2=142.32
			ElseIf a[i]=8 And a[i+1]=16
				t2=103.93
			ElseIf a[i]=8 And a[i+1]=17
				t2=112.51
    
			ElseIf a[i]=9 And a[i+1]=10
				t2=23.86
			ElseIf a[i]=9 And a[i+1]=11
				t2=59.95
			ElseIf a[i]=9 And a[i+1]=12
				t2=72.55
			ElseIf a[i]=9 And a[i+1]=13
				t2=71.38
			ElseIf a[i]=9 And a[i+1]=14
				t2=64.6
			ElseIf a[i]=9 And a[i+1]=15
				t2=99.83
			ElseIf a[i]=9 And a[i+1]=16
				t2=59.17
			ElseIf a[i]=9 And a[i+1]=17
				t2=60.04
    
			ElseIf a[i]=10 And a[i+1]=11
				t2=38.7
			ElseIf a[i]=10 And a[i+1]=12
				t2=51.99
			ElseIf a[i]=10 And a[i+1]=13
				t2=49.96
			ElseIf a[i]=10 And a[i+1]=14
				t2=87.48
			ElseIf a[i]=10 And a[i+1]=15
				t2=101.75
			ElseIf a[i]=10 And a[i+1]=16
				t2=77.98
			ElseIf a[i]=10 And a[i+1]=17
				t2=76.7
    
			ElseIf a[i]=11 And a[i+1]=12
				t2=31.91
			ElseIf a[i]=11 And a[i+1]=13
				t2=34.24
			ElseIf a[i]=11 And a[i+1]=14
				t2=70.22
			ElseIf a[i]=11 And a[i+1]=15
				t2=71.61
			ElseIf a[i]=11 And a[i+1]=16
				t2=56.84
			ElseIf a[i]=11 And a[i+1]=17
				t2=53.63
    
			ElseIf a[i]=12 And a[i+1]=13
				t2=56.33
			ElseIf a[i]=12 And a[i+1]=14
				t2=95.11
			ElseIf a[i]=12 And a[i+1]=15
				t2=120.99
			ElseIf a[i]=12 And a[i+1]=16
				t2=82
			ElseIf a[i]=12 And a[i+1]=17
				t2=91.81
    
			ElseIf a[i]=13 And a[i+1]=14
				t2=77.72
			ElseIf a[i]=13 And a[i+1]=15
				t2=94.57
			ElseIf a[i]=13 And a[i+1]=16
				t2=66.2
			ElseIf a[i]=13 And a[i+1]=17
				t2=60.62
    
			ElseIf a[i]=14 And a[i+1]=15
				t2=120.9
			ElseIf a[i]=14 And a[i+1]=16
				t2=34.91
			ElseIf a[i]=14 And a[i+1]=17
				t2=9.89
    
			ElseIf a[i]=15 And a[i+1]=16
				t2=128.9
			ElseIf a[i]=15 And a[i+1]=17
				t2=119.54
    
			ElseIf a[i]=16 And a[i+1]=17
				t2=22.61
    
			ElseIf a[i]=17 And a[i+1]=16
				t2=23.57
    
			ElseIf a[i]=2 And a[i+1]=1
				t2=106.44
			ElseIf a[i]=3 And a[i+1]=1
				t2=56.72
			ElseIf a[i]=4 And a[i+1]=1
				t2=91.19
			ElseIf a[i]=5 And a[i+1]=1
				t2=108.7
			ElseIf a[i]=6 And a[i+1]=1
				t2=107.88
			ElseIf a[i]=7 And a[i+1]=1
				t2=108.27
			ElseIf a[i]=8 And a[i+1]=1
				t2=141.76
			ElseIf a[i]=9 And a[i+1]=1
				t2=86.53
			ElseIf a[i]=10 And a[i+1]=1
				t2=91.2
			ElseIf a[i]=11 And a[i+1]=1
				t2=112.44
			ElseIf a[i]=12 And a[i+1]=1
				t2=131.25
			ElseIf a[i]=13 And a[i+1]=1
				t2=113.08
			ElseIf a[i]=14 And a[i+1]=1
				t2=98.26
			ElseIf a[i]=15 And a[i+1]=1
				t2=165.42
			ElseIf a[i]=16 And a[i+1]=1
				t2=106.92
    
			ElseIf a[i]=3 And a[i+1]=2
				t2=46.84
			ElseIf a[i]=4 And a[i+1]=2
				t2=78.31
			ElseIf a[i]=5 And a[i+1]=2
				t2=110.15
			ElseIf a[i]=6 And a[i+1]=2
				t2=113.48
			ElseIf a[i]=7 And a[i+1]=2
				t2=113.87
			ElseIf a[i]=8 And a[i+1]=2
				t2=123.72
			ElseIf a[i]=9 And a[i+1]=2
				t2=72.88
			ElseIf a[i]=10 And a[i+1]=2
				t2=82.55
			ElseIf a[i]=11 And a[i+1]=2
				t2=89.15
			ElseIf a[i]=12 And a[i+1]=2
				t2=127.37
			ElseIf a[i]=13 And a[i+1]=2
				t2=98.57
			ElseIf a[i]=14 And a[i+1]=2
				t2=101.66
			ElseIf a[i]=15 And a[i+1]=2
				t2=167.95
			ElseIf a[i]=16 And a[i+1]=2
				t2=92.33
    
			ElseIf a[i]=4 And a[i+1]=3
				t2=39.52
			ElseIf a[i]=5 And a[i+1]=3
				t2=75.81
			ElseIf a[i]=6 And a[i+1]=3
				t2=75.18
			ElseIf a[i]=7 And a[i+1]=3
				t2=75.57
			ElseIf a[i]=8 And a[i+1]=3
				t2=88.29
			ElseIf a[i]=9 And a[i+1]=3
				t2=38.91
			ElseIf a[i]=10 And a[i+1]=3
				t2=49.09
			ElseIf a[i]=11 And a[i+1]=3
				t2=57.23
			ElseIf a[i]=12 And a[i+1]=3
				t2=88.5
			ElseIf a[i]=13 And a[i+1]=3
				t2=67
			ElseIf a[i]=14 And a[i+1]=3
				t2=57.89
			ElseIf a[i]=15 And a[i+1]=3
				t2=131.39
			ElseIf a[i]=16 And a[i+1]=3
				t2=57.33
    
			ElseIf a[i]=5 And a[i+1]=4
				t2=64.78
			ElseIf a[i]=6 And a[i+1]=4
				t2=71.09
			ElseIf a[i]=7 And a[i+1]=4
				t2=71.48
			ElseIf a[i]=8 And a[i+1]=4
				t2=115.69
			ElseIf a[i]=9 And a[i+1]=4
				t2=56.72
			ElseIf a[i]=10 And a[i+1]=4
				t2=78.05
			ElseIf a[i]=11 And a[i+1]=4
				t2=104.9
			ElseIf a[i]=12 And a[i+1]=4
				t2=136.31
			ElseIf a[i]=13 And a[i+1]=4
				t2=107.04
			ElseIf a[i]=14 And a[i+1]=4
				t2=97.55
			ElseIf a[i]=15 And a[i+1]=4
				t2=150.39
			ElseIf a[i]=16 And a[i+1]=4
				t2=95.39
    
			ElseIf a[i]=6 And a[i+1]=5
				t2=52.86
			ElseIf a[i]=7 And a[i+1]=5
				t2=53.25
			ElseIf a[i]=8 And a[i+1]=5
				t2=96.33
			ElseIf a[i]=9 And a[i+1]=5
				t2=78.46
			ElseIf a[i]=10 And a[i+1]=5
				t2=69.55
			ElseIf a[i]=11 And a[i+1]=5
				t2=146.56
			ElseIf a[i]=12 And a[i+1]=5
				t2=128.94
			ElseIf a[i]=13 And a[i+1]=5
				t2=113.34
			ElseIf a[i]=14 And a[i+1]=5
				t2=117.5
			ElseIf a[i]=15 And a[i+1]=5
				t2=141.31
			ElseIf a[i]=16 And a[i+1]=5
				t2=127.03
    
			ElseIf a[i]=7 And a[i+1]=6
				t2=0.39
			ElseIf a[i]=8 And a[i+1]=6
				t2=46.93
			ElseIf a[i]=9 And a[i+1]=6
				t2=40.05
			ElseIf a[i]=10 And a[i+1]=6
				t2=59.44
			ElseIf a[i]=11 And a[i+1]=6
				t2=88.54
			ElseIf a[i]=12 And a[i+1]=6
				t2=133.52
			ElseIf a[i]=13 And a[i+1]=6
				t2=118.62
			ElseIf a[i]=14 And a[i+1]=6
				t2=94.95
			ElseIf a[i]=15 And a[i+1]=6
				t2=128.4
			ElseIf a[i]=16 And a[i+1]=6
				t2=158.26
    
			ElseIf a[i]=8 And a[i+1]=7
				t2=47.32
			ElseIf a[i]=9 And a[i+1]=7
				t2=40.44
			ElseIf a[i]=10 And a[i+1]=7
				t2=59.83
			ElseIf a[i]=11 And a[i+1]=7
				t2=88.93
			ElseIf a[i]=12 And a[i+1]=7
				t2=133.91
			ElseIf a[i]=13 And a[i+1]=7
				t2=119.01
			ElseIf a[i]=14 And a[i+1]=7
				t2=95.34
			ElseIf a[i]=15 And a[i+1]=7
				t2=128.79
			ElseIf a[i]=16 And a[i+1]=7
				t2=158.65
    
			ElseIf a[i]=9 And a[i+1]=8
				t2=64.71
			ElseIf a[i]=10 And a[i+1]=8
				t2=77.16
			ElseIf a[i]=11 And a[i+1]=8
				t2=100.31
			ElseIf a[i]=12 And a[i+1]=8
				t2=150.77
			ElseIf a[i]=13 And a[i+1]=8
				t2=115.25
			ElseIf a[i]=14 And a[i+1]=8
				t2=109.89
			ElseIf a[i]=15 And a[i+1]=8
				t2=158.39
			ElseIf a[i]=16 And a[i+1]=8
				t2=143.88
    
			ElseIf a[i]=10 And a[i+1]=9
				t2=28.14
			ElseIf a[i]=11 And a[i+1]=9
				t2=64.89
			ElseIf a[i]=12 And a[i+1]=9
				t2=104.08
			ElseIf a[i]=13 And a[i+1]=9
				t2=69.15
			ElseIf a[i]=14 And a[i+1]=9
				t2=56.44
			ElseIf a[i]=15 And a[i+1]=9
				t2=95.12
			ElseIf a[i]=16 And a[i+1]=9
				t2=53.32
    
			ElseIf a[i]=11 And a[i+1]=10
				t2=52.59
			ElseIf a[i]=12 And a[i+1]=10
				t2=75.51
			ElseIf a[i]=13 And a[i+1]=10
				t2=51.3
			ElseIf a[i]=14 And a[i+1]=10
				t2=90.82
			ElseIf a[i]=15 And a[i+1]=10
				t2=96.11
			ElseIf a[i]=16 And a[i+1]=10
				t2=75.03
    
			ElseIf a[i]=12 And a[i+1]=11
				t2=53.05
			ElseIf a[i]=13 And a[i+1]=11
				t2=33.86
			ElseIf a[i]=14 And a[i+1]=11
				t2=58.87
			ElseIf a[i]=15 And a[i+1]=11
				t2=72.94
			ElseIf a[i]=16 And a[i+1]=11
				t2=53.34
    
			ElseIf a[i]=13 And a[i+1]=12
				t2=45.29
			ElseIf a[i]=14 And a[i+1]=12
				t2=79.06
			ElseIf a[i]=15 And a[i+1]=12
				t2=93.13
			ElseIf a[i]=16 And a[i+1]=12
				t2=65.2
    
			ElseIf a[i]=14 And a[i+1]=13
				t2=68.07
			ElseIf a[i]=15 And a[i+1]=13
				t2=96.96
			ElseIf a[i]=16 And a[i+1]=13
				t2=59.41
    
			ElseIf a[i]=15 And a[i+1]=14
				t2=128.54
			ElseIf a[i]=16 And a[i+1]=14
				t2=30.43
    
			ElseIf a[i]=16 And a[i+1]=15
				t2=104.82
    
			EndIf
  
			t3 = t3 + t2
  
		Next i

		tm = t1 + t3

		
		kontrola()
	
		
			
	End Method
	
	
	Method kontrola()
		
		If tm &lt; tmc
			For i = 1 To pp + 2
				b[i] = a[i]
			End For
			tmc = tm
			
			For i = 1 To pp + 2
				Print(b[i])
			Next i
			Print("---")
			Print(tmc)
			Print("------------")
		EndIf

		OnCreate()
	
	End Method

End Class

'// main function //
Function Main()
	New Wall()
End Function
</textarea> <br><br></td></tr></table><br>
<a name="2126955"></a>

<a name="2126956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your OnCreate function seems to call itself in certain circumstances, and is also called by dal(), but it's so complicated I can't tell what's meant to be happening... perhaps some of the code inside OnCreate should just be in a separate function that's called by OnCreate and dal()?<br><br>Also, it doesn't look like you need the mojo framework for this code. Mojo is event/callback-based, which doesn't seem liike the right fit for this procedural code. Perhaps it could just be placed in a Main () function, plus dal (), with the OnCreate () code placed in a separate function?<br><br>That way you can ignore the frame-waiting that comes with event-based Mojo...<br><br>Eg.<br><br><pre class=code>
Function Main ()

    If ... 
        dal ()
    Else
        OtherStuff ()
    Endif

End Function

Function dal ()
    ...
End Function

Function OtherStuff ()
    ' The code from OnCreate goes here
End Function
</pre> <br><br></td></tr></table><br>
<a name="2126957"></a>

<a name="2126958"></a>

<a name="2126959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know you can still use different classes, functions etc. freely?  The only reason to call at the start of OnCreate() is to do everything before mojo starts up its update-render framework.  You could even do everything in Monkey's Main() function, without importing mojo at all, and print to the console.  I see you are calling OnCreate() recursively - that's not really ideal though i'm not certain what you are trying to do.  It's possible that structuring it that way is causing unnecessary stuff to be done, and certainly the multiple calls to Seed( Millisecs() ) probably shouldn't be happening.<br><br>If the call stack gets exceeded, you probably can adjust it in the C++ compiler (and there are other ways to get around the absence of a goto statement).  But I think the default stack size is at least 1 MB anyway, so exceeding it is normally due to either putting something on it that's too big (e.g. all your pixels in a bad flood-filling algorithm), or else a bug.<br><br>I think you are getting too hung up on complications that don't really exist.  What you are doing is the sort of thing that needs very little framework.  Mojo starts up with a framework suited to making apps, but you don't have to go through it - you can just ignore it by doing everything before it starts up - i.e, in OnCreate().<br><br>Try something like this:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function Main:Int()
	theApp = New BaseApp()		
	Return 0
End


Class BaseApp Extends App

	Method OnCreate:Int()
	
		' Do everything
		New MyCalculations()
		
		Error( "All done!" )
		
		Return 0
	End
		
End	


Class MyCalculations

	' Your calculation data - could be lots of fields
	Field data:Int[]							


	Method New()
		InitData()
		Calculate()
		PrintOut()
	End
	
	
	' Set up whatever you want to calculate
	Method InitData:Void()
		Seed = Millisecs()
		data = [ 1, 2, 3 ]
	End
	
	
	' Do calculation (this can call itself directly or indirectly no problem)
	Method Calculate:Void()
	End


	' Print out your results to console
	Method PrintOut:Void()
	End

End
</textarea><br><br>Feel free to include all sorts of extra methods or classes.  You don't have to worry about anything special with regard to mojo.App etc. <br><br></td></tr></table><br>
<a name="2126960"></a>

<a name="2126961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you understand it very well. Thanks a lot!!<br><br>Your code gives me an error "Type 'App' not found". I am doing something wrong? <br><br></td></tr></table><br>
<a name="2126962"></a>

<a name="2126963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, it wasn't meant to be a complete program.  You'll need to import mojo (or just mojo.app) as usual since the App class is being extended.  And I think you need to import it to get the Millisecs() function anyway.<br><br>Here is a complete calculation program that doesn't use app at all.  It imports mojo.app just so it can call Millisecs():<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict


Import mojo.app


Function Main:Int()
	New MyCalculations()
	Return 0
End



Class MyCalculations

	' Your calculation data - could be lots of fields
	Field data:Int[]							


	Method New()
		InitData()
		Calculate()
		PrintOut()
	End
	
	
	' Set up whatever you want to calculate
	Method InitData:Void()
		Seed = Millisecs()
		data = [ 1, 2, 3 ]
	End
	
	
	' Do calculation (this can call itself directly or indirectly no problem)
	Method Calculate:Void()
		For Local i:Int = 0 Until data.Length()
			data[ i ] *= data[ i ]
		Next
	End


	' Print out your results to console
	Method PrintOut:Void()
		For Local i:Int = 0 Until data.Length()
			Print i + "   " + data[ i ]
		Next
	End

End
</textarea><br><br><br>In practice, it's no different doing it this way or doing it in App.OnCreate().   If your program generated graphics, you'd want to put in in an app, so you can render it nicely afterwards. <br><br></td></tr></table><br>
<a name="2126964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gerry Quinn<br>Thank you, I will try to do so! It is actually an infinite calculation where again and again throws random numbers (0-17 with certain conditions), and then examines the time between them. If it is better, it will print.<br><br>DruggedBunny<br>Thank you, I will try this case too. Thanks! ;-) <br><br></td></tr></table><br>
<a name="2126965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe the infinite loop is why you had issues with the call stack.  A structure like this might work better - you can see how there is effectively a 'goto start'  if the results are not interesting enough to print:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Repeat
	InitData()
	Calculate()
	If NothingSpecial()
		Continue
	End
	PrintOut()
Forever
</textarea> <br><br></td></tr></table><br>
<a name="2126970"></a>

<a name="2126971"></a>

<a name="2126972"></a>

<a name="2126973"></a>

<a name="2126974"></a>

<a name="2126975"></a>

<a name="2126976"></a>

<a name="2126977"></a>

<a name="2126978"></a>

<a name="2126979"></a>

<a name="2126980"></a>

<a name="2126981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm, it seems that it does not work. Probably I am doing something wrong. It seems that the Method 'New' remain unnoticed...<br><br>This is a transcript of the program into your structure.<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
Import mojo.app

Global pp:int

Global x1:Int
Global x2:Int

Global l1:Int
Global l2:Int

Global kom:Int

Global i:Int
Global j:Int

Global t1:Float
Global t2:Float
Global t3:Float

Global tm:Float
Global tmc:Float

Global v1:Int

Global a1:Int
Global b1:Int

Function Main:Int()
	New MyCalculations()
	Return 0
End

Class MyCalculations

	' Your calculation data - could be lots of fields
	Field a:int[20]
	Field b:int[20]
	
	Method New()
		tmc = 10000
		pp = 14
	
			InitData()
			Calculate()	
			PrintOut()		
	End
	
	' Set up whatever you want to calculate
	Method InitData:Void()
		Seed = Millisecs()
		
		'seskok
		j = Rnd(1, 4)
		
		'naplnění pole
		For i = 1 To 17
			a[i] = i
		End For
		
		'shuffle
		For i = 1 To 17
			a1 = Rnd(1, 17)
			b1 = Rnd(1, 17)
	
			Local k:Int = a[a1]
			Local l:Int = a[b1]
			
			a[a1] = l
			a[b1] = k
		End For
		
		'korekce na začátku
		If a[1] &lt;&gt; j
			For i = 1 To 17
				If a[i] = j
					l1 = i
					Exit
				EndIf
			End For
			'přesun j na začátek
			a[l1] = a[1]
			a[1] = j
		EndIf
		
		'hledání 6
		For i = 1 To 17
			If a[i] = 6
				l1 = i
				Exit
			EndIf
		End For
		
		'hledání 7
		For i = 1 To 17
			If a[i] = 7
				l2 = i
				Exit
			EndIf
		End For
	
		'srovnání 6+7
		a[l2] = a[l1 + 1]
		a[l1 + 1] = 7		
		
		'vyřazení 15
		For i = 1 To 17
			If a[i] = 15
				l1 = i
				Exit
			EndIf
		End For
		
		a[l1] = a[17]
		a[17] = 15		
		
		'kontrola posbíraných pásek
		For i = 1 To pp + 1
			Select a[i]
				Case 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15
					x1 += 1
			End Select
		End For
		
		'kontrola zda je tam vypnutí plotu
		For i = 1 To pp + 2
			If a[i] = 16
				x2 += 1
			EndIf
		End For
	
		'pokud je to všechno správně, pak dál
		If not (x1 = pp And x2 = 1 And (a[pp + 1] = 17 Or a[pp + 2] = 17))
			InitData()
		EndIf
	End

	' Do calculation (this can call itself directly or indirectly no problem)
	Method Calculate:Void()
	
		x1 = 0
		x2 = 0
		t3 = 0
	
		' čas1
		If a[1] = 1
			t1 = 46.18
		ElseIf a[1] = 2
			t1 = 37.84
		ElseIf a[1] = 3
			t1 = 24.82
		ElseIf a[1] = 4
			t1 = 33.28
		ElseIf a[1] = 9
			t1 = 62.09
		EndIf

		' čas2
		For Local i:Int = 1 To pp + 2
  
			If a[i]=1 And a[i+1]=2
				t2=44.81
			ElseIf a[i]=1 And a[i+1]=3
				t2=10.86
			ElseIf a[i]=1 And a[i+1]=4
				t2=59.9
			ElseIf a[i]=1 And a[i+1]=5
				t2=82.13
			ElseIf a[i]=1 And a[i+1]=6
				t2=62.95
			ElseIf a[i]=1 And a[i+1]=7
				t2=63.34
			ElseIf a[i]=1 And a[i+1]=8
				t2=80.91
			ElseIf a[i]=1 And a[i+1]=9
				t2=30.45
			ElseIf a[i]=1 And a[i+1]=10
				t2=38.6
			ElseIf a[i]=1 And a[i+1]=11
				t2=50.91
			ElseIf a[i]=1 And a[i+1]=12
				t2=67.11
			ElseIf a[i]=1 And a[i+1]=13
				t2=61.14
			ElseIf a[i]=1 And a[i+1]=14
				t2=53.34
			ElseIf a[i]=1 And a[i+1]=15
				t2=113.13
			ElseIf a[i]=1 And a[i+1]=16
				t2=40.34
			ElseIf a[i]=1 And a[i+1]=17
				t2=38.2
    
			ElseIf a[i]=2 And a[i+1]=3
				t2=57.34
			ElseIf a[i]=2 And a[i+1]=4
				t2=117.57
			ElseIf a[i]=2 And a[i+1]=5
				t2=112.69
			ElseIf a[i]=2 And a[i+1]=6
				t2=142.78
			ElseIf a[i]=2 And a[i+1]=7
				t2=143.17
			ElseIf a[i]=2 And a[i+1]=8
				t2=114.78
			ElseIf a[i]=2 And a[i+1]=9
				t2=120.28
			ElseIf a[i]=2 And a[i+1]=10
				t2=77.31
			ElseIf a[i]=2 And a[i+1]=11
				t2=65.31
			ElseIf a[i]=2 And a[i+1]=12
				t2=69.65
			ElseIf a[i]=2 And a[i+1]=13
				t2=64.22
			ElseIf a[i]=2 And a[i+1]=14
				t2=47.52
			ElseIf a[i]=2 And a[i+1]=15
				t2=112
			ElseIf a[i]=2 And a[i+1]=16
				t2=30.44
			ElseIf a[i]=2 And a[i+1]=17
				t2=36
    
			ElseIf a[i]=3 And a[i+1]=4
				t2=49.26
			ElseIf a[i]=3 And a[i+1]=5
				t2=73.55
			ElseIf a[i]=3 And a[i+1]=6
				t2=72.83
			ElseIf a[i]=3 And a[i+1]=7
				t2=73.22
			ElseIf a[i]=3 And a[i+1]=8
				t2=88.37
			ElseIf a[i]=3 And a[i+1]=9
				t2=36.75
			ElseIf a[i]=3 And a[i+1]=10
				t2=44.41
			ElseIf a[i]=3 And a[i+1]=11
				t2=77.22
			ElseIf a[i]=3 And a[i+1]=12
				t2=113.81
			ElseIf a[i]=3 And a[i+1]=13
				t2=64.45
			ElseIf a[i]=3 And a[i+1]=14
				t2=59.17
			ElseIf a[i]=3 And a[i+1]=15
				t2=122.61
			ElseIf a[i]=3 And a[i+1]=16
				t2=49.54
			ElseIf a[i]=3 And a[i+1]=17
				t2=50.23
    
			ElseIf a[i]=4 And a[i+1]=5
				t2=52.66
			ElseIf a[i]=4 And a[i+1]=6
				t2=65.18
			ElseIf a[i]=4 And a[i+1]=7
				t2=65.57
			ElseIf a[i]=4 And a[i+1]=8
				t2=100.96
			ElseIf a[i]=4 And a[i+1]=9
				t2=64.52
			ElseIf a[i]=4 And a[i+1]=10
				t2=66.96
			ElseIf a[i]=4 And a[i+1]=11
				t2=103.24
			ElseIf a[i]=4 And a[i+1]=12
				t2=125.04
			ElseIf a[i]=4 And a[i+1]=13
				t2=105.99
			ElseIf a[i]=4 And a[i+1]=14
				t2=125.77
			ElseIf a[i]=4 And a[i+1]=15
				t2=155.18
			ElseIf a[i]=4 And a[i+1]=16
				t2=89.73
			ElseIf a[i]=4 And a[i+1]=17
				t2=92.3
    
			ElseIf a[i]=5 And a[i+1]=6
				t2=49.86
			ElseIf a[i]=5 And a[i+1]=7
				t2=50.25
			ElseIf a[i]=5 And a[i+1]=8
				t2=87.45
			ElseIf a[i]=5 And a[i+1]=9
				t2=56.16
			ElseIf a[i]=5 And a[i+1]=10
				t2=63.92
			ElseIf a[i]=5 And a[i+1]=11
				t2=105.17
			ElseIf a[i]=5 And a[i+1]=12
				t2=115.55
			ElseIf a[i]=5 And a[i+1]=13
				t2=121.99
			ElseIf a[i]=5 And a[i+1]=14
				t2=121.37
			ElseIf a[i]=5 And a[i+1]=15
				t2=135.58
			ElseIf a[i]=5 And a[i+1]=16
				t2=97.44
			ElseIf a[i]=5 And a[i+1]=17
				t2=103.13
    
			ElseIf a[i]=6 And a[i+1]=7
				t2=0.39
			ElseIf a[i]=6 And a[i+1]=8
				t2=45.47
			ElseIf a[i]=6 And a[i+1]=9
				t2=43.36
			ElseIf a[i]=6 And a[i+1]=10
				t2=55.78
			ElseIf a[i]=6 And a[i+1]=11
				t2=86.02
			ElseIf a[i]=6 And a[i+1]=12
				t2=108.25
			ElseIf a[i]=6 And a[i+1]=13
				t2=113.53
			ElseIf a[i]=6 And a[i+1]=14
				t2=96.21
			ElseIf a[i]=6 And a[i+1]=15
				t2=143.06
			ElseIf a[i]=6 And a[i+1]=16
				t2=126.12
			ElseIf a[i]=6 And a[i+1]=17
				t2=89.39
    
			ElseIf a[i]=7 And a[i+1]=8
				t2=45.86
			ElseIf a[i]=7 And a[i+1]=9
				t2=43.75
			ElseIf a[i]=7 And a[i+1]=10
				t2=56.17
			ElseIf a[i]=7 And a[i+1]=11
				t2=86.41
			ElseIf a[i]=7 And a[i+1]=12
				t2=108.64
			ElseIf a[i]=7 And a[i+1]=13
				t2=113.92
			ElseIf a[i]=7 And a[i+1]=14
				t2=96.6
			ElseIf a[i]=7 And a[i+1]=15
				t2=143.45
			ElseIf a[i]=7 And a[i+1]=16
				t2=126.51
			ElseIf a[i]=7 And a[i+1]=17
				t2=89.78
    
			ElseIf a[i]=8 And a[i+1]=9
				t2=62.47
			ElseIf a[i]=8 And a[i+1]=10
				t2=77.34
			ElseIf a[i]=8 And a[i+1]=11
				t2=116.22
			ElseIf a[i]=8 And a[i+1]=12
				t2=124.27
			ElseIf a[i]=8 And a[i+1]=13
				t2=137.76
			ElseIf a[i]=8 And a[i+1]=14
				t2=108.8
			ElseIf a[i]=8 And a[i+1]=15
				t2=142.32
			ElseIf a[i]=8 And a[i+1]=16
				t2=103.93
			ElseIf a[i]=8 And a[i+1]=17
				t2=112.51
    
			ElseIf a[i]=9 And a[i+1]=10
				t2=23.86
			ElseIf a[i]=9 And a[i+1]=11
				t2=59.95
			ElseIf a[i]=9 And a[i+1]=12
				t2=72.55
			ElseIf a[i]=9 And a[i+1]=13
				t2=71.38
			ElseIf a[i]=9 And a[i+1]=14
				t2=64.6
			ElseIf a[i]=9 And a[i+1]=15
				t2=99.83
			ElseIf a[i]=9 And a[i+1]=16
				t2=59.17
			ElseIf a[i]=9 And a[i+1]=17
				t2=60.04
    
			ElseIf a[i]=10 And a[i+1]=11
				t2=38.7
			ElseIf a[i]=10 And a[i+1]=12
				t2=51.99
			ElseIf a[i]=10 And a[i+1]=13
				t2=49.96
			ElseIf a[i]=10 And a[i+1]=14
				t2=87.48
			ElseIf a[i]=10 And a[i+1]=15
				t2=101.75
			ElseIf a[i]=10 And a[i+1]=16
				t2=77.98
			ElseIf a[i]=10 And a[i+1]=17
				t2=76.7
    
			ElseIf a[i]=11 And a[i+1]=12
				t2=31.91
			ElseIf a[i]=11 And a[i+1]=13
				t2=34.24
			ElseIf a[i]=11 And a[i+1]=14
				t2=70.22
			ElseIf a[i]=11 And a[i+1]=15
				t2=71.61
			ElseIf a[i]=11 And a[i+1]=16
				t2=56.84
			ElseIf a[i]=11 And a[i+1]=17
				t2=53.63
    
			ElseIf a[i]=12 And a[i+1]=13
				t2=56.33
			ElseIf a[i]=12 And a[i+1]=14
				t2=95.11
			ElseIf a[i]=12 And a[i+1]=15
				t2=120.99
			ElseIf a[i]=12 And a[i+1]=16
				t2=82
			ElseIf a[i]=12 And a[i+1]=17
				t2=91.81
    
			ElseIf a[i]=13 And a[i+1]=14
				t2=77.72
			ElseIf a[i]=13 And a[i+1]=15
				t2=94.57
			ElseIf a[i]=13 And a[i+1]=16
				t2=66.2
			ElseIf a[i]=13 And a[i+1]=17
				t2=60.62
    
			ElseIf a[i]=14 And a[i+1]=15
				t2=120.9
			ElseIf a[i]=14 And a[i+1]=16
				t2=34.91
			ElseIf a[i]=14 And a[i+1]=17
				t2=9.89
    
			ElseIf a[i]=15 And a[i+1]=16
				t2=128.9
			ElseIf a[i]=15 And a[i+1]=17
				t2=119.54
    
			ElseIf a[i]=16 And a[i+1]=17
				t2=22.61
    
			ElseIf a[i]=17 And a[i+1]=16
				t2=23.57
    
			ElseIf a[i]=2 And a[i+1]=1
				t2=106.44
			ElseIf a[i]=3 And a[i+1]=1
				t2=56.72
			ElseIf a[i]=4 And a[i+1]=1
				t2=91.19
			ElseIf a[i]=5 And a[i+1]=1
				t2=108.7
			ElseIf a[i]=6 And a[i+1]=1
				t2=107.88
			ElseIf a[i]=7 And a[i+1]=1
				t2=108.27
			ElseIf a[i]=8 And a[i+1]=1
				t2=141.76
			ElseIf a[i]=9 And a[i+1]=1
				t2=86.53
			ElseIf a[i]=10 And a[i+1]=1
				t2=91.2
			ElseIf a[i]=11 And a[i+1]=1
				t2=112.44
			ElseIf a[i]=12 And a[i+1]=1
				t2=131.25
			ElseIf a[i]=13 And a[i+1]=1
				t2=113.08
			ElseIf a[i]=14 And a[i+1]=1
				t2=98.26
			ElseIf a[i]=15 And a[i+1]=1
				t2=165.42
			ElseIf a[i]=16 And a[i+1]=1
				t2=106.92
    
			ElseIf a[i]=3 And a[i+1]=2
				t2=46.84
			ElseIf a[i]=4 And a[i+1]=2
				t2=78.31
			ElseIf a[i]=5 And a[i+1]=2
				t2=110.15
			ElseIf a[i]=6 And a[i+1]=2
				t2=113.48
			ElseIf a[i]=7 And a[i+1]=2
				t2=113.87
			ElseIf a[i]=8 And a[i+1]=2
				t2=123.72
			ElseIf a[i]=9 And a[i+1]=2
				t2=72.88
			ElseIf a[i]=10 And a[i+1]=2
				t2=82.55
			ElseIf a[i]=11 And a[i+1]=2
				t2=89.15
			ElseIf a[i]=12 And a[i+1]=2
				t2=127.37
			ElseIf a[i]=13 And a[i+1]=2
				t2=98.57
			ElseIf a[i]=14 And a[i+1]=2
				t2=101.66
			ElseIf a[i]=15 And a[i+1]=2
				t2=167.95
			ElseIf a[i]=16 And a[i+1]=2
				t2=92.33
    
			ElseIf a[i]=4 And a[i+1]=3
				t2=39.52
			ElseIf a[i]=5 And a[i+1]=3
				t2=75.81
			ElseIf a[i]=6 And a[i+1]=3
				t2=75.18
			ElseIf a[i]=7 And a[i+1]=3
				t2=75.57
			ElseIf a[i]=8 And a[i+1]=3
				t2=88.29
			ElseIf a[i]=9 And a[i+1]=3
				t2=38.91
			ElseIf a[i]=10 And a[i+1]=3
				t2=49.09
			ElseIf a[i]=11 And a[i+1]=3
				t2=57.23
			ElseIf a[i]=12 And a[i+1]=3
				t2=88.5
			ElseIf a[i]=13 And a[i+1]=3
				t2=67
			ElseIf a[i]=14 And a[i+1]=3
				t2=57.89
			ElseIf a[i]=15 And a[i+1]=3
				t2=131.39
			ElseIf a[i]=16 And a[i+1]=3
				t2=57.33
    
			ElseIf a[i]=5 And a[i+1]=4
				t2=64.78
			ElseIf a[i]=6 And a[i+1]=4
				t2=71.09
			ElseIf a[i]=7 And a[i+1]=4
				t2=71.48
			ElseIf a[i]=8 And a[i+1]=4
				t2=115.69
			ElseIf a[i]=9 And a[i+1]=4
				t2=56.72
			ElseIf a[i]=10 And a[i+1]=4
				t2=78.05
			ElseIf a[i]=11 And a[i+1]=4
				t2=104.9
			ElseIf a[i]=12 And a[i+1]=4
				t2=136.31
			ElseIf a[i]=13 And a[i+1]=4
				t2=107.04
			ElseIf a[i]=14 And a[i+1]=4
				t2=97.55
			ElseIf a[i]=15 And a[i+1]=4
				t2=150.39
			ElseIf a[i]=16 And a[i+1]=4
				t2=95.39
    
			ElseIf a[i]=6 And a[i+1]=5
				t2=52.86
			ElseIf a[i]=7 And a[i+1]=5
				t2=53.25
			ElseIf a[i]=8 And a[i+1]=5
				t2=96.33
			ElseIf a[i]=9 And a[i+1]=5
				t2=78.46
			ElseIf a[i]=10 And a[i+1]=5
				t2=69.55
			ElseIf a[i]=11 And a[i+1]=5
				t2=146.56
			ElseIf a[i]=12 And a[i+1]=5
				t2=128.94
			ElseIf a[i]=13 And a[i+1]=5
				t2=113.34
			ElseIf a[i]=14 And a[i+1]=5
				t2=117.5
			ElseIf a[i]=15 And a[i+1]=5
				t2=141.31
			ElseIf a[i]=16 And a[i+1]=5
				t2=127.03
    
			ElseIf a[i]=7 And a[i+1]=6
				t2=0.39
			ElseIf a[i]=8 And a[i+1]=6
				t2=46.93
			ElseIf a[i]=9 And a[i+1]=6
				t2=40.05
			ElseIf a[i]=10 And a[i+1]=6
				t2=59.44
			ElseIf a[i]=11 And a[i+1]=6
				t2=88.54
			ElseIf a[i]=12 And a[i+1]=6
				t2=133.52
			ElseIf a[i]=13 And a[i+1]=6
				t2=118.62
			ElseIf a[i]=14 And a[i+1]=6
				t2=94.95
			ElseIf a[i]=15 And a[i+1]=6
				t2=128.4
			ElseIf a[i]=16 And a[i+1]=6
				t2=158.26
    
			ElseIf a[i]=8 And a[i+1]=7
				t2=47.32
			ElseIf a[i]=9 And a[i+1]=7
				t2=40.44
			ElseIf a[i]=10 And a[i+1]=7
				t2=59.83
			ElseIf a[i]=11 And a[i+1]=7
				t2=88.93
			ElseIf a[i]=12 And a[i+1]=7
				t2=133.91
			ElseIf a[i]=13 And a[i+1]=7
				t2=119.01
			ElseIf a[i]=14 And a[i+1]=7
				t2=95.34
			ElseIf a[i]=15 And a[i+1]=7
				t2=128.79
			ElseIf a[i]=16 And a[i+1]=7
				t2=158.65
    
			ElseIf a[i]=9 And a[i+1]=8
				t2=64.71
			ElseIf a[i]=10 And a[i+1]=8
				t2=77.16
			ElseIf a[i]=11 And a[i+1]=8
				t2=100.31
			ElseIf a[i]=12 And a[i+1]=8
				t2=150.77
			ElseIf a[i]=13 And a[i+1]=8
				t2=115.25
			ElseIf a[i]=14 And a[i+1]=8
				t2=109.89
			ElseIf a[i]=15 And a[i+1]=8
				t2=158.39
			ElseIf a[i]=16 And a[i+1]=8
				t2=143.88
    
			ElseIf a[i]=10 And a[i+1]=9
				t2=28.14
			ElseIf a[i]=11 And a[i+1]=9
				t2=64.89
			ElseIf a[i]=12 And a[i+1]=9
				t2=104.08
			ElseIf a[i]=13 And a[i+1]=9
				t2=69.15
			ElseIf a[i]=14 And a[i+1]=9
				t2=56.44
			ElseIf a[i]=15 And a[i+1]=9
				t2=95.12
			ElseIf a[i]=16 And a[i+1]=9
				t2=53.32
    
			ElseIf a[i]=11 And a[i+1]=10
				t2=52.59
			ElseIf a[i]=12 And a[i+1]=10
				t2=75.51
			ElseIf a[i]=13 And a[i+1]=10
				t2=51.3
			ElseIf a[i]=14 And a[i+1]=10
				t2=90.82
			ElseIf a[i]=15 And a[i+1]=10
				t2=96.11
			ElseIf a[i]=16 And a[i+1]=10
				t2=75.03
    
			ElseIf a[i]=12 And a[i+1]=11
				t2=53.05
			ElseIf a[i]=13 And a[i+1]=11
				t2=33.86
			ElseIf a[i]=14 And a[i+1]=11
				t2=58.87
			ElseIf a[i]=15 And a[i+1]=11
				t2=72.94
			ElseIf a[i]=16 And a[i+1]=11
				t2=53.34
    
			ElseIf a[i]=13 And a[i+1]=12
				t2=45.29
			ElseIf a[i]=14 And a[i+1]=12
				t2=79.06
			ElseIf a[i]=15 And a[i+1]=12
				t2=93.13
			ElseIf a[i]=16 And a[i+1]=12
				t2=65.2
    
			ElseIf a[i]=14 And a[i+1]=13
				t2=68.07
			ElseIf a[i]=15 And a[i+1]=13
				t2=96.96
			ElseIf a[i]=16 And a[i+1]=13
				t2=59.41
    
			ElseIf a[i]=15 And a[i+1]=14
				t2=128.54
			ElseIf a[i]=16 And a[i+1]=14
				t2=30.43
    
			ElseIf a[i]=16 And a[i+1]=15
				t2=104.82
			EndIf
  
			t3 = t3 + t2
  
		Next i

		tm = t1 + t3
	End

	' Print out your results to console
	Method PrintOut:Void()
	
	If tm &lt; tmc
		For i = 1 To pp + 2
			b[i] = a[i]
		End For
		tmc = tm
			
		For i = 1 To pp + 2
			Print(b[i])
		Next i
		Print("---")
		Print(tmc)
		Print("------------")
	
		EndIf
	End
End
</textarea><br><br><br>To illustrate, here's how it works in Basic AGK2.<br>(Below is the sum of the times and the line is only informative number of combinations.)<br><br><a href="https://www.youtube.com/watch?v=W55sWQY3IdY" target="_blank">https://www.youtube.com/watch?v=W55sWQY3IdY</a><br><br><br>And this is a functional code in AGK2 (to illustrate).<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
// Project: shuffle 
// Created: 2017-03-20

// show all errors
SetErrorMode(2)

// set window properties
SetWindowTitle("shuffle")
SetWindowSize(1024,768,0)
SetWindowAllowResize( 1 )

// set display properties
SetVirtualResolution(1024,768)
SetOrientationAllowed(1,1,1,1)
SetSyncRate(1660,0)
SetScissor(0,0,0,0)
UseNewDefaultFonts(1)


Global a As Integer[18]
Global b As Integer[18]

Global pp As Integer

Global x1 As Integer
Global x2 As Integer

Global kom As Integer

Global i,j

Global t1#
Global t2#
Global t3#

Global tm#
Global tmc#

Global v1 As Integer

tmc#=10000.0
tm#=10000.0

pp=14	// počet pásek


do

	Inc kom


	If tm#&lt;tmc#
		For i=1 To pp+2
			b[i]=a[i]
		Next i
		tmc#=tm#
	EndIf

  
	For i=1 To pp+2
		Print(b[i])
	Next i

	Print("")
	Print(tmc#)
	Print("-----")
	Print(kom)

	zpet()

    
    Sync()
loop



Function zpet()

	zpatky:
	x1=0:x2=0
	t3#=0

	j=Random(1,4)


	// shuffle array
	For i=1 To 17
		a[i]=i
	Next i

	for i=1 to 17		
		a1=Random(1,17)
		b1=Random(1,17)
		a.Swap(a1,b1)
	next i


	// korekce na začátku
	If a[1]&lt;&gt;j
		For i=1 To 17
			If a[i]=j
				l1=i
				Exit			
			EndIf
		Next i

	// přesun j na začátek
	a[l1]=a[1]
	a[1]=j
	EndIf
	

	//If a[1]&lt;&gt;j Then GoTo zpatky


	// hledání 6
	For i=1 To 17
		If a[i]=6
			l1=i
			Exit			
		EndIf
	Next i
	
	// hledání 7
	For i=1 To 17
		If a[i]=7
			l2=i
			Exit
		EndIf
	Next i

	// srovnání 6+7
	a[l2]=a[l1+1]
	a[l1+1]=7


	// vyřazení 15
	// hledání 15
	For i=1 To 17
		If a[i]=15
			l1=i
			Exit
		EndIf
	Next i

	a[l1]=a[17]
	a[17]=15
	


	// kontrola kolik posbíraných pásek
	For i=1 To pp+1
		Select a[i]
			Case 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
				Inc x1
			EndCase
		EndSelect
	Next i

	// kontrola zda je tam vypnutí plotu
	For i=1 To pp+2
	  If a[i]=16
		Inc x2
	  EndIf
	Next i

	//pokud je to všechno správně, pak dál
	If x1=pp And x2=1 And (a[pp+1]=17 Or a[pp+2]=17)
		dal()
	Else
	  GoTo zpatky
	EndIf

EndFunction



Function dal()

	// čas1
	Select a[1]
	  Case 1
		t1#=46.18
	   EndCase
	  Case 2
		t1#=37.84
		EndCase
	  Case 3
		t1#=24.82
		EndCase
	  Case 4
		t1#=33.28
		EndCase
	  Case 9
		t1#=62.09
		EndCase
	EndSelect


	// čas2
	For i=1 To pp+2
	  
	  If a[i]=1 And a[i+1]=2
		t2#=44.81
	  ElseIf a[i]=1 And a[i+1]=3
		t2#=10.86
	  ElseIf a[i]=1 And a[i+1]=4
		t2#=59.9
	  ElseIf a[i]=1 And a[i+1]=5
		t2#=82.13  
	  ElseIf a[i]=1 And a[i+1]=6
		t2#=62.95
	  ElseIf a[i]=1 And a[i+1]=7
		t2#=63.34
	  ElseIf a[i]=1 And a[i+1]=8
		t2#=80.91
	  ElseIf a[i]=1 And a[i+1]=9
		t2#=30.45
	  ElseIf a[i]=1 And a[i+1]=10
		t2#=38.6
	  ElseIf a[i]=1 And a[i+1]=11
		t2#=50.91
	  ElseIf a[i]=1 And a[i+1]=12
		t2#=67.11
	  ElseIf a[i]=1 And a[i+1]=13
		t2#=61.14
	  ElseIf a[i]=1 And a[i+1]=14
		t2#=53.34
	  ElseIf a[i]=1 And a[i+1]=15
		t2#=113.13
	  ElseIf a[i]=1 And a[i+1]=16
		t2#=40.34
	  ElseIf a[i]=1 And a[i+1]=17
		t2#=38.2
		
	  ElseIf a[i]=2 And a[i+1]=3
		t2#=57.34
	  ElseIf a[i]=2 And a[i+1]=4
		t2#=117.57
	  ElseIf a[i]=2 And a[i+1]=5
		t2#=112.69
	  ElseIf a[i]=2 And a[i+1]=6
		t2#=142.78
	  ElseIf a[i]=2 And a[i+1]=7
		t2#=143.17
	  ElseIf a[i]=2 And a[i+1]=8
		t2#=114.78
	  ElseIf a[i]=2 And a[i+1]=9
		t2#=120.28
	  ElseIf a[i]=2 And a[i+1]=10
		t2#=77.31
	  ElseIf a[i]=2 And a[i+1]=11
		t2#=65.31
	  ElseIf a[i]=2 And a[i+1]=12
		t2#=69.65
	  ElseIf a[i]=2 And a[i+1]=13
		t2#=64.22
	  ElseIf a[i]=2 And a[i+1]=14
		t2#=47.52
	  ElseIf a[i]=2 And a[i+1]=15
		t2#=112
	  ElseIf a[i]=2 And a[i+1]=16
		t2#=30.44
	  ElseIf a[i]=2 And a[i+1]=17
		t2#=36
		
	  ElseIf a[i]=3 And a[i+1]=4
		t2#=49.26
	  ElseIf a[i]=3 And a[i+1]=5
		t2#=73.55
	  ElseIf a[i]=3 And a[i+1]=6
		t2#=72.83
	  ElseIf a[i]=3 And a[i+1]=7
		t2#=73.22
	  ElseIf a[i]=3 And a[i+1]=8
		t2#=88.37
	  ElseIf a[i]=3 And a[i+1]=9
		t2#=36.75
	  ElseIf a[i]=3 And a[i+1]=10
		t2#=44.41
	  ElseIf a[i]=3 And a[i+1]=11
		t2#=77.22
	  ElseIf a[i]=3 And a[i+1]=12
		t2#=113.81
	  ElseIf a[i]=3 And a[i+1]=13
		t2#=64.45
	  ElseIf a[i]=3 And a[i+1]=14
		t2#=59.17
	  ElseIf a[i]=3 And a[i+1]=15
		t2#=122.61
	  ElseIf a[i]=3 And a[i+1]=16
		t2#=49.54
	  ElseIf a[i]=3 And a[i+1]=17
		t2#=50.23
		
	  ElseIf a[i]=4 And a[i+1]=5
		t2#=52.66
	  ElseIf a[i]=4 And a[i+1]=6
		t2#=65.18
	  ElseIf a[i]=4 And a[i+1]=7
		t2#=65.57
	  ElseIf a[i]=4 And a[i+1]=8
		t2#=100.96
	  ElseIf a[i]=4 And a[i+1]=9
		t2#=64.52
	  ElseIf a[i]=4 And a[i+1]=10
		t2#=66.96
	  ElseIf a[i]=4 And a[i+1]=11
		t2#=103.24
	  ElseIf a[i]=4 And a[i+1]=12
		t2#=125.04
	  ElseIf a[i]=4 And a[i+1]=13
		t2#=105.99
	  ElseIf a[i]=4 And a[i+1]=14
		t2#=125.77
	  ElseIf a[i]=4 And a[i+1]=15
		t2#=155.18
	  ElseIf a[i]=4 And a[i+1]=16
		t2#=89.73
	  ElseIf a[i]=4 And a[i+1]=17
		t2#=92.3
		
	  ElseIf a[i]=5 And a[i+1]=6
		t2#=49.86
	  ElseIf a[i]=5 And a[i+1]=7
		t2#=50.25
	  ElseIf a[i]=5 And a[i+1]=8
		t2#=87.45
	  ElseIf a[i]=5 And a[i+1]=9
		t2#=56.16
	  ElseIf a[i]=5 And a[i+1]=10
		t2#=63.92
	  ElseIf a[i]=5 And a[i+1]=11
		t2#=105.17
	  ElseIf a[i]=5 And a[i+1]=12
		t2#=115.55
	  ElseIf a[i]=5 And a[i+1]=13
		t2#=121.99
	  ElseIf a[i]=5 And a[i+1]=14
		t2#=121.37
	  ElseIf a[i]=5 And a[i+1]=15
		t2#=135.58
	  ElseIf a[i]=5 And a[i+1]=16
		t2#=97.44
	  ElseIf a[i]=5 And a[i+1]=17
		t2#=103.13
		
	  ElseIf a[i]=6 And a[i+1]=7
		t2#=0.39
	  ElseIf a[i]=6 And a[i+1]=8
		t2#=45.47
	  ElseIf a[i]=6 And a[i+1]=9
		t2#=43.36
	  ElseIf a[i]=6 And a[i+1]=10
		t2#=55.78
	  ElseIf a[i]=6 And a[i+1]=11
		t2#=86.02
	  ElseIf a[i]=6 And a[i+1]=12
		t2#=108.25
	  ElseIf a[i]=6 And a[i+1]=13
		t2#=113.53
	  ElseIf a[i]=6 And a[i+1]=14
		t2#=96.21
	  ElseIf a[i]=6 And a[i+1]=15
		t2#=143.06
	  ElseIf a[i]=6 And a[i+1]=16
		t2#=126.12
	  ElseIf a[i]=6 And a[i+1]=17
		t2#=89.39
		
	  ElseIf a[i]=7 And a[i+1]=8
		t2#=45.86
	  ElseIf a[i]=7 And a[i+1]=9
		t2#=43.75
	  ElseIf a[i]=7 And a[i+1]=10
		t2#=56.17
	  ElseIf a[i]=7 And a[i+1]=11
		t2#=86.41
	  ElseIf a[i]=7 And a[i+1]=12
		t2#=108.64
	  ElseIf a[i]=7 And a[i+1]=13
		t2#=113.92
	  ElseIf a[i]=7 And a[i+1]=14
		t2#=96.6
	  ElseIf a[i]=7 And a[i+1]=15
		t2#=143.45
	  ElseIf a[i]=7 And a[i+1]=16
		t2#=126.51
	  ElseIf a[i]=7 And a[i+1]=17
		t2#=89.78
		
	  ElseIf a[i]=8 And a[i+1]=9
		t2#=62.47
	  ElseIf a[i]=8 And a[i+1]=10
		t2#=77.34
	  ElseIf a[i]=8 And a[i+1]=11
		t2#=116.22
	  ElseIf a[i]=8 And a[i+1]=12
		t2#=124.27
	  ElseIf a[i]=8 And a[i+1]=13
		t2#=137.76
	  ElseIf a[i]=8 And a[i+1]=14
		t2#=108.8
	  ElseIf a[i]=8 And a[i+1]=15
		t2#=142.32
	  ElseIf a[i]=8 And a[i+1]=16
		t2#=103.93
	  ElseIf a[i]=8 And a[i+1]=17
		t2#=112.51
		
	  ElseIf a[i]=9 And a[i+1]=10
		t2#=23.86
	  ElseIf a[i]=9 And a[i+1]=11
		t2#=59.95
	  ElseIf a[i]=9 And a[i+1]=12
		t2#=72.55
	  ElseIf a[i]=9 And a[i+1]=13
		t2#=71.38
	  ElseIf a[i]=9 And a[i+1]=14
		t2#=64.6
	  ElseIf a[i]=9 And a[i+1]=15
		t2#=99.83
	  ElseIf a[i]=9 And a[i+1]=16
		t2#=59.17
	  ElseIf a[i]=9 And a[i+1]=17
		t2#=60.04
		
	  ElseIf a[i]=10 And a[i+1]=11
		t2#=38.7
	  ElseIf a[i]=10 And a[i+1]=12
		t2#=51.99
	  ElseIf a[i]=10 And a[i+1]=13
		t2#=49.96
	  ElseIf a[i]=10 And a[i+1]=14
		t2#=87.48
	  ElseIf a[i]=10 And a[i+1]=15
		t2#=101.75
	  ElseIf a[i]=10 And a[i+1]=16
		t2#=77.98
	  ElseIf a[i]=10 And a[i+1]=17
		t2#=76.7
		
	  ElseIf a[i]=11 And a[i+1]=12
		t2#=31.91
	  ElseIf a[i]=11 And a[i+1]=13
		t2#=34.24
	  ElseIf a[i]=11 And a[i+1]=14
		t2#=70.22
	  ElseIf a[i]=11 And a[i+1]=15
		t2#=71.61
	  ElseIf a[i]=11 And a[i+1]=16
		t2#=56.84
	  ElseIf a[i]=11 And a[i+1]=17
		t2#=53.63
		
	  ElseIf a[i]=12 And a[i+1]=13
		t2#=56.33
	  ElseIf a[i]=12 And a[i+1]=14
		t2#=95.11
	  ElseIf a[i]=12 And a[i+1]=15
		t2#=120.99
	  ElseIf a[i]=12 And a[i+1]=16
		t2#=82
	  ElseIf a[i]=12 And a[i+1]=17
		t2#=91.81
		
	  ElseIf a[i]=13 And a[i+1]=14
		t2#=77.72
	  ElseIf a[i]=13 And a[i+1]=15
		t2#=94.57
	  ElseIf a[i]=13 And a[i+1]=16
		t2#=66.2
	  ElseIf a[i]=13 And a[i+1]=17
		t2#=60.62
		
	  ElseIf a[i]=14 And a[i+1]=15
		t2#=120.9
	  ElseIf a[i]=14 And a[i+1]=16
		t2#=34.91
	  ElseIf a[i]=14 And a[i+1]=17
		t2#=9.89
		
	  ElseIf a[i]=15 And a[i+1]=16
		t2#=128.9
	  ElseIf a[i]=15 And a[i+1]=17
		t2#=119.54
		
	  ElseIf a[i]=16 And a[i+1]=17
		t2#=22.61
		
	  ElseIf a[i]=17 And a[i+1]=16
		t2#=23.57
		
	  ElseIf a[i]=2 And a[i+1]=1
		t2#=106.44
	  ElseIf a[i]=3 And a[i+1]=1
		t2#=56.72
	  ElseIf a[i]=4 And a[i+1]=1
		t2#=91.19
	  ElseIf a[i]=5 And a[i+1]=1
		t2#=108.7
	  ElseIf a[i]=6 And a[i+1]=1
		t2#=107.88
	  ElseIf a[i]=7 And a[i+1]=1
		t2#=108.27
	  ElseIf a[i]=8 And a[i+1]=1
		t2#=141.76
	  ElseIf a[i]=9 And a[i+1]=1
		t2#=86.53
	  ElseIf a[i]=10 And a[i+1]=1
		t2#=91.2
	  ElseIf a[i]=11 And a[i+1]=1
		t2#=112.44
	  ElseIf a[i]=12 And a[i+1]=1
		t2#=131.25
	  ElseIf a[i]=13 And a[i+1]=1
		t2#=113.08
	  ElseIf a[i]=14 And a[i+1]=1
		t2#=98.26
	  ElseIf a[i]=15 And a[i+1]=1
		t2#=165.42
	  ElseIf a[i]=16 And a[i+1]=1
		t2#=106.92
		
	  ElseIf a[i]=3 And a[i+1]=2
		t2#=46.84
	  ElseIf a[i]=4 And a[i+1]=2
		t2#=78.31
	  ElseIf a[i]=5 And a[i+1]=2
		t2#=110.15
	  ElseIf a[i]=6 And a[i+1]=2
		t2#=113.48
	  ElseIf a[i]=7 And a[i+1]=2
		t2#=113.87
	  ElseIf a[i]=8 And a[i+1]=2
		t2#=123.72
	  ElseIf a[i]=9 And a[i+1]=2
		t2#=72.88
	  ElseIf a[i]=10 And a[i+1]=2
		t2#=82.55
	  ElseIf a[i]=11 And a[i+1]=2
		t2#=89.15
	  ElseIf a[i]=12 And a[i+1]=2
		t2#=127.37
	  ElseIf a[i]=13 And a[i+1]=2
		t2#=98.57
	  ElseIf a[i]=14 And a[i+1]=2
		t2#=101.66
	  ElseIf a[i]=15 And a[i+1]=2
		t2#=167.95
	  ElseIf a[i]=16 And a[i+1]=2
		t2#=92.33
		
	  ElseIf a[i]=4 And a[i+1]=3
		t2#=39.52
	  ElseIf a[i]=5 And a[i+1]=3
		t2#=75.81
	  ElseIf a[i]=6 And a[i+1]=3
		t2#=75.18
	  ElseIf a[i]=7 And a[i+1]=3
		t2#=75.57
	  ElseIf a[i]=8 And a[i+1]=3
		t2#=88.29
	  ElseIf a[i]=9 And a[i+1]=3
		t2#=36.44
	  ElseIf a[i]=10 And a[i+1]=3
		t2#=49.09
	  ElseIf a[i]=11 And a[i+1]=3
		t2#=57.23
	  ElseIf a[i]=12 And a[i+1]=3
		t2#=88.5
	  ElseIf a[i]=13 And a[i+1]=3
		t2#=67
	  ElseIf a[i]=14 And a[i+1]=3
		t2#=57.89
	  ElseIf a[i]=15 And a[i+1]=3
		t2#=131.39
	  ElseIf a[i]=16 And a[i+1]=3
		t2#=57.33
		
	  ElseIf a[i]=5 And a[i+1]=4
		t2#=64.78
	  ElseIf a[i]=6 And a[i+1]=4
		t2#=71.09
	  ElseIf a[i]=7 And a[i+1]=4
		t2#=71.48
	  ElseIf a[i]=8 And a[i+1]=4
		t2#=115.69
	  ElseIf a[i]=9 And a[i+1]=4
		t2#=56.72
	  ElseIf a[i]=10 And a[i+1]=4
		t2#=78.05
	  ElseIf a[i]=11 And a[i+1]=4
		t2#=104.9
	  ElseIf a[i]=12 And a[i+1]=4
		t2#=136.31
	  ElseIf a[i]=13 And a[i+1]=4
		t2#=107.04
	  ElseIf a[i]=14 And a[i+1]=4
		t2#=97.55
	  ElseIf a[i]=15 And a[i+1]=4
		t2#=150.39
	  ElseIf a[i]=16 And a[i+1]=4
		t2#=95.39
		
	  ElseIf a[i]=6 And a[i+1]=5
		t2#=52.86
	  ElseIf a[i]=7 And a[i+1]=5
		t2#=53.25
	  ElseIf a[i]=8 And a[i+1]=5
		t2#=96.33
	  ElseIf a[i]=9 And a[i+1]=5
		t2#=78.46
	  ElseIf a[i]=10 And a[i+1]=5
		t2#=69.55
	  ElseIf a[i]=11 And a[i+1]=5
		t2#=146.56
	  ElseIf a[i]=12 And a[i+1]=5
		t2#=128.94
	  ElseIf a[i]=13 And a[i+1]=5
		t2#=113.34
	  ElseIf a[i]=14 And a[i+1]=5
		t2#=117.5
	  ElseIf a[i]=15 And a[i+1]=5
		t2#=141.31
	  ElseIf a[i]=16 And a[i+1]=5
		t2#=127.03
		
	  ElseIf a[i]=7 And a[i+1]=6
		t2#=0.39
	  ElseIf a[i]=8 And a[i+1]=6
		t2#=46.93
	  ElseIf a[i]=9 And a[i+1]=6
		t2#=40.05
	  ElseIf a[i]=10 And a[i+1]=6
		t2#=59.44
	  ElseIf a[i]=11 And a[i+1]=6
		t2#=88.54
	  ElseIf a[i]=12 And a[i+1]=6
		t2#=133.52
	  ElseIf a[i]=13 And a[i+1]=6
		t2#=118.62
	  ElseIf a[i]=14 And a[i+1]=6
		t2#=94.95
	  ElseIf a[i]=15 And a[i+1]=6
		t2#=128.4
	  ElseIf a[i]=16 And a[i+1]=6
		t2#=158.26
		
	  ElseIf a[i]=8 And a[i+1]=7
		t2#=47.32
	  ElseIf a[i]=9 And a[i+1]=7
		t2#=40.44
	  ElseIf a[i]=10 And a[i+1]=7
		t2#=59.83
	  ElseIf a[i]=11 And a[i+1]=7
		t2#=88.93
	  ElseIf a[i]=12 And a[i+1]=7
		t2#=133.91
	  ElseIf a[i]=13 And a[i+1]=7
		t2#=119.01
	  ElseIf a[i]=14 And a[i+1]=7
		t2#=95.34
	  ElseIf a[i]=15 And a[i+1]=7
		t2#=128.79
	  ElseIf a[i]=16 And a[i+1]=7
		t2#=158.65
		
	  ElseIf a[i]=9 And a[i+1]=8
		t2#=64.71
	  ElseIf a[i]=10 And a[i+1]=8
		t2#=77.16
	  ElseIf a[i]=11 And a[i+1]=8
		t2#=100.31
	  ElseIf a[i]=12 And a[i+1]=8
		t2#=150.77
	  ElseIf a[i]=13 And a[i+1]=8
		t2#=115.25
	  ElseIf a[i]=14 And a[i+1]=8
		t2#=109.89
	  ElseIf a[i]=15 And a[i+1]=8
		t2#=158.39
	  ElseIf a[i]=16 And a[i+1]=8
		t2#=143.88
		
	  ElseIf a[i]=10 And a[i+1]=9
		t2#=28.14
	  ElseIf a[i]=11 And a[i+1]=9
		t2#=64.89
	  ElseIf a[i]=12 And a[i+1]=9
		t2#=104.08
	  ElseIf a[i]=13 And a[i+1]=9
		t2#=69.15
	  ElseIf a[i]=14 And a[i+1]=9
		t2#=56.44
	  ElseIf a[i]=15 And a[i+1]=9
		t2#=95.12
	  ElseIf a[i]=16 And a[i+1]=9
		t2#=53.32
		
	  ElseIf a[i]=11 And a[i+1]=10
		t2#=52.59
	  ElseIf a[i]=12 And a[i+1]=10
		t2#=75.51
	  ElseIf a[i]=13 And a[i+1]=10
		t2#=51.3
	  ElseIf a[i]=14 And a[i+1]=10
		t2#=90.82
	  ElseIf a[i]=15 And a[i+1]=10
		t2#=96.11
	  ElseIf a[i]=16 And a[i+1]=10
		t2#=75.03
		
	  ElseIf a[i]=12 And a[i+1]=11
		t2#=53.05
	  ElseIf a[i]=13 And a[i+1]=11
		t2#=33.86
	  ElseIf a[i]=14 And a[i+1]=11
		t2#=58.87
	  ElseIf a[i]=15 And a[i+1]=11
		t2#=72.94
	  ElseIf a[i]=16 And a[i+1]=11
		t2#=53.34
		
	  ElseIf a[i]=13 And a[i+1]=12
		t2#=45.29
	  ElseIf a[i]=14 And a[i+1]=12
		t2#=79.06
	  ElseIf a[i]=15 And a[i+1]=12
		t2#=93.13
	  ElseIf a[i]=16 And a[i+1]=12
		t2#=65.2
		
	  ElseIf a[i]=14 And a[i+1]=13
		t2#=68.07
	  ElseIf a[i]=15 And a[i+1]=13
		t2#=96.96
	  ElseIf a[i]=16 And a[i+1]=13
		t2#=59.41
		
	  ElseIf a[i]=15 And a[i+1]=14
		t2#=128.54
	  ElseIf a[i]=16 And a[i+1]=14
		t2#=30.43
		
	  ElseIf a[i]=16 And a[i+1]=15
		t2#=104.82
		
	  EndIf
	  
	  t3#=t3#+t2#
	  
	Next i

	tm#=t1#+t3#

EndFunction
</textarea><br><br><br>And this - to illustrate - in PureBasic:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global Dim a.i(18)

Global kom.i

Global pp.i ;počet pásek

Global x1.i,x2.i

Global t1.f ;čas1
Global t2.f ;čas2
Global t3.f ;čas3

Global tm.f ;čas celkem
Global tmc.f;čas celkem nejlepší

Global v1.i ;seskok


tmc=1e5

pp=14   ;počet pásek


zpet:
x1=0:x2=0
t3=0

j=Random(4,1) ;seskok


For i=1 To 17
  a(i)=i
Next i

RandomizeArray(a(),1,17)


;korekce na začátku
If a(1)&lt;&gt;j
  For i=1 To 17
    If a(i)=j
      l1=i
      Break
    EndIf
  Next i
  
  ;přesun j na začátek
  a(l1)=a(1)
  a(1)=j
EndIf



;hledání 6
For i=1 To 17
  If a(i)=6
    l1=i
    Break
  EndIf
Next i

;hledání 7
For i=1 To 17
  If a(i)=7
    l2=i
    Break
  EndIf
Next i

;srovnání 6+7
a(l2)=a(l1+1)
a(l1+1)=7


;vyřazení 15
;hledání 15
For i=1 To 17
  If a(i)=15
    l1=i
    Break
  EndIf
Next i

a(l1)=a(17)
a(17)=15

;kontrola kolik posbíraných pásek
For i=1 To pp+1
  Select a(i)
    Case 1,2,3,4,5,6,7,8,9,10,11,12,13,14,15
      x1+1
  EndSelect
Next i

;kontrola zda je tam vypnutí plotu
For i=1 To pp+2
  If a(i)=16
    x2+1
  EndIf
Next i


;pokud je to všechno správně, pak dál
If x1=pp And x2=1 And (a(pp+1)=17 Or a(pp+2)=17)
  Goto dal
Else
  Goto zpet
EndIf



dal:

;čas1
Select a(1)
  Case 1
    t1=46.18
  Case 2
    t1=37.84
  Case 3
    t1=24.82
  Case 4
    t1=33.28
  Case 9
    t1=62.09
EndSelect



;čas2
For i=1 To pp+2
  
  If a(i)=1 And a(i+1)=2
    t2=44.81
  ElseIf a(i)=1 And a(i+1)=3
    t2=10.86
  ElseIf a(i)=1 And a(i+1)=4
    t2=59.9
  ElseIf a(i)=1 And a(i+1)=5
    t2=82.13  
  ElseIf a(i)=1 And a(i+1)=6
    t2=62.95
  ElseIf a(i)=1 And a(i+1)=7
    t2=63.34
  ElseIf a(i)=1 And a(i+1)=8
    t2=80.91
  ElseIf a(i)=1 And a(i+1)=9
    t2=30.45
  ElseIf a(i)=1 And a(i+1)=10
    t2=38.6
  ElseIf a(i)=1 And a(i+1)=11
    t2=50.91
  ElseIf a(i)=1 And a(i+1)=12
    t2=67.11
  ElseIf a(i)=1 And a(i+1)=13
    t2=61.14
  ElseIf a(i)=1 And a(i+1)=14
    t2=53.34
  ElseIf a(i)=1 And a(i+1)=15
    t2=113.13
  ElseIf a(i)=1 And a(i+1)=16
    t2=40.34
  ElseIf a(i)=1 And a(i+1)=17
    t2=38.2
    
  ElseIf a(i)=2 And a(i+1)=3
    t2=57.34
  ElseIf a(i)=2 And a(i+1)=4
    t2=117.57
  ElseIf a(i)=2 And a(i+1)=5
    t2=112.69
  ElseIf a(i)=2 And a(i+1)=6
    t2=142.78
  ElseIf a(i)=2 And a(i+1)=7
    t2=143.17
  ElseIf a(i)=2 And a(i+1)=8
    t2=114.78
  ElseIf a(i)=2 And a(i+1)=9
    t2=120.28
  ElseIf a(i)=2 And a(i+1)=10
    t2=77.31
  ElseIf a(i)=2 And a(i+1)=11
    t2=65.31
  ElseIf a(i)=2 And a(i+1)=12
    t2=69.65
  ElseIf a(i)=2 And a(i+1)=13
    t2=64.22
  ElseIf a(i)=2 And a(i+1)=14
    t2=47.52
  ElseIf a(i)=2 And a(i+1)=15
    t2=112
  ElseIf a(i)=2 And a(i+1)=16
    t2=30.44
  ElseIf a(i)=2 And a(i+1)=17
    t2=36
    
  ElseIf a(i)=3 And a(i+1)=4
    t2=49.26
  ElseIf a(i)=3 And a(i+1)=5
    t2=73.55
  ElseIf a(i)=3 And a(i+1)=6
    t2=72.83
  ElseIf a(i)=3 And a(i+1)=7
    t2=73.22
  ElseIf a(i)=3 And a(i+1)=8
    t2=88.37
  ElseIf a(i)=3 And a(i+1)=9
    t2=36.75
  ElseIf a(i)=3 And a(i+1)=10
    t2=44.41
  ElseIf a(i)=3 And a(i+1)=11
    t2=77.22
  ElseIf a(i)=3 And a(i+1)=12
    t2=113.81
  ElseIf a(i)=3 And a(i+1)=13
    t2=64.45
  ElseIf a(i)=3 And a(i+1)=14
    t2=59.17
  ElseIf a(i)=3 And a(i+1)=15
    t2=122.61
  ElseIf a(i)=3 And a(i+1)=16
    t2=49.54
  ElseIf a(i)=3 And a(i+1)=17
    t2=50.23
    
  ElseIf a(i)=4 And a(i+1)=5
    t2=52.66
  ElseIf a(i)=4 And a(i+1)=6
    t2=65.18
  ElseIf a(i)=4 And a(i+1)=7
    t2=65.57
  ElseIf a(i)=4 And a(i+1)=8
    t2=100.96
  ElseIf a(i)=4 And a(i+1)=9
    t2=64.52
  ElseIf a(i)=4 And a(i+1)=10
    t2=66.96
  ElseIf a(i)=4 And a(i+1)=11
    t2=103.24
  ElseIf a(i)=4 And a(i+1)=12
    t2=125.04
  ElseIf a(i)=4 And a(i+1)=13
    t2=105.99
  ElseIf a(i)=4 And a(i+1)=14
    t2=125.77
  ElseIf a(i)=4 And a(i+1)=15
    t2=155.18
  ElseIf a(i)=4 And a(i+1)=16
    t2=89.73
  ElseIf a(i)=4 And a(i+1)=17
    t2=92.3
    
  ElseIf a(i)=5 And a(i+1)=6
    t2=49.86
  ElseIf a(i)=5 And a(i+1)=7
    t2=50.25
  ElseIf a(i)=5 And a(i+1)=8
    t2=87.45
  ElseIf a(i)=5 And a(i+1)=9
    t2=56.16
  ElseIf a(i)=5 And a(i+1)=10
    t2=63.92
  ElseIf a(i)=5 And a(i+1)=11
    t2=105.17
  ElseIf a(i)=5 And a(i+1)=12
    t2=115.55
  ElseIf a(i)=5 And a(i+1)=13
    t2=121.99
  ElseIf a(i)=5 And a(i+1)=14
    t2=121.37
  ElseIf a(i)=5 And a(i+1)=15
    t2=135.58
  ElseIf a(i)=5 And a(i+1)=16
    t2=97.44
  ElseIf a(i)=5 And a(i+1)=17
    t2=103.13
    
  ElseIf a(i)=6 And a(i+1)=7
    t2=0.39
  ElseIf a(i)=6 And a(i+1)=8
    t2=45.47
  ElseIf a(i)=6 And a(i+1)=9
    t2=43.36
  ElseIf a(i)=6 And a(i+1)=10
    t2=55.78
  ElseIf a(i)=6 And a(i+1)=11
    t2=86.02
  ElseIf a(i)=6 And a(i+1)=12
    t2=108.25
  ElseIf a(i)=6 And a(i+1)=13
    t2=113.53
  ElseIf a(i)=6 And a(i+1)=14
    t2=96.21
  ElseIf a(i)=6 And a(i+1)=15
    t2=143.06
  ElseIf a(i)=6 And a(i+1)=16
    t2=126.12
  ElseIf a(i)=6 And a(i+1)=17
    t2=89.39
    
  ElseIf a(i)=7 And a(i+1)=8
    t2=45.86
  ElseIf a(i)=7 And a(i+1)=9
    t2=43.75
  ElseIf a(i)=7 And a(i+1)=10
    t2=56.17
  ElseIf a(i)=7 And a(i+1)=11
    t2=86.41
  ElseIf a(i)=7 And a(i+1)=12
    t2=108.64
  ElseIf a(i)=7 And a(i+1)=13
    t2=113.92
  ElseIf a(i)=7 And a(i+1)=14
    t2=96.6
  ElseIf a(i)=7 And a(i+1)=15
    t2=143.45
  ElseIf a(i)=7 And a(i+1)=16
    t2=126.51
  ElseIf a(i)=7 And a(i+1)=17
    t2=89.78
    
  ElseIf a(i)=8 And a(i+1)=9
    t2=62.47
  ElseIf a(i)=8 And a(i+1)=10
    t2=77.34
  ElseIf a(i)=8 And a(i+1)=11
    t2=116.22
  ElseIf a(i)=8 And a(i+1)=12
    t2=124.27
  ElseIf a(i)=8 And a(i+1)=13
    t2=137.76
  ElseIf a(i)=8 And a(i+1)=14
    t2=108.8
  ElseIf a(i)=8 And a(i+1)=15
    t2=142.32
  ElseIf a(i)=8 And a(i+1)=16
    t2=103.93
  ElseIf a(i)=8 And a(i+1)=17
    t2=112.51
    
  ElseIf a(i)=9 And a(i+1)=10
    t2=23.86
  ElseIf a(i)=9 And a(i+1)=11
    t2=59.95
  ElseIf a(i)=9 And a(i+1)=12
    t2=72.55
  ElseIf a(i)=9 And a(i+1)=13
    t2=71.38
  ElseIf a(i)=9 And a(i+1)=14
    t2=64.6
  ElseIf a(i)=9 And a(i+1)=15
    t2=99.83
  ElseIf a(i)=9 And a(i+1)=16
    t2=59.17
  ElseIf a(i)=9 And a(i+1)=17
    t2=60.04
    
  ElseIf a(i)=10 And a(i+1)=11
    t2=38.7
  ElseIf a(i)=10 And a(i+1)=12
    t2=51.99
  ElseIf a(i)=10 And a(i+1)=13
    t2=49.96
  ElseIf a(i)=10 And a(i+1)=14
    t2=87.48
  ElseIf a(i)=10 And a(i+1)=15
    t2=101.75
  ElseIf a(i)=10 And a(i+1)=16
    t2=77.98
  ElseIf a(i)=10 And a(i+1)=17
    t2=76.7
    
  ElseIf a(i)=11 And a(i+1)=12
    t2=31.91
  ElseIf a(i)=11 And a(i+1)=13
    t2=34.24
  ElseIf a(i)=11 And a(i+1)=14
    t2=70.22
  ElseIf a(i)=11 And a(i+1)=15
    t2=71.61
  ElseIf a(i)=11 And a(i+1)=16
    t2=56.84
  ElseIf a(i)=11 And a(i+1)=17
    t2=53.63
    
  ElseIf a(i)=12 And a(i+1)=13
    t2=56.33
  ElseIf a(i)=12 And a(i+1)=14
    t2=95.11
  ElseIf a(i)=12 And a(i+1)=15
    t2=120.99
  ElseIf a(i)=12 And a(i+1)=16
    t2=82
  ElseIf a(i)=12 And a(i+1)=17
    t2=91.81
    
  ElseIf a(i)=13 And a(i+1)=14
    t2=77.72
  ElseIf a(i)=13 And a(i+1)=15
    t2=94.57
  ElseIf a(i)=13 And a(i+1)=16
    t2=66.2
  ElseIf a(i)=13 And a(i+1)=17
    t2=60.62
    
  ElseIf a(i)=14 And a(i+1)=15
    t2=120.9
  ElseIf a(i)=14 And a(i+1)=16
    t2=34.91
  ElseIf a(i)=14 And a(i+1)=17
    t2=9.89
    
  ElseIf a(i)=15 And a(i+1)=16
    t2=128.9
  ElseIf a(i)=15 And a(i+1)=17
    t2=119.54
    
  ElseIf a(i)=16 And a(i+1)=17
    t2=22.61
    
  ElseIf a(i)=17 And a(i+1)=16
    t2=23.57
    
  ElseIf a(i)=2 And a(i+1)=1
    t2=106.44
  ElseIf a(i)=3 And a(i+1)=1
    t2=56.72
  ElseIf a(i)=4 And a(i+1)=1
    t2=91.19
  ElseIf a(i)=5 And a(i+1)=1
    t2=108.7
  ElseIf a(i)=6 And a(i+1)=1
    t2=107.88
  ElseIf a(i)=7 And a(i+1)=1
    t2=108.27
  ElseIf a(i)=8 And a(i+1)=1
    t2=141.76
  ElseIf a(i)=9 And a(i+1)=1
    t2=86.53
  ElseIf a(i)=10 And a(i+1)=1
    t2=91.2
  ElseIf a(i)=11 And a(i+1)=1
    t2=112.44
  ElseIf a(i)=12 And a(i+1)=1
    t2=131.25
  ElseIf a(i)=13 And a(i+1)=1
    t2=113.08
  ElseIf a(i)=14 And a(i+1)=1
    t2=98.26
  ElseIf a(i)=15 And a(i+1)=1
    t2=165.42
  ElseIf a(i)=16 And a(i+1)=1
    t2=106.92
    
  ElseIf a(i)=3 And a(i+1)=2
    t2=46.84
  ElseIf a(i)=4 And a(i+1)=2
    t2=78.31
  ElseIf a(i)=5 And a(i+1)=2
    t2=110.15
  ElseIf a(i)=6 And a(i+1)=2
    t2=113.48
  ElseIf a(i)=7 And a(i+1)=2
    t2=113.87
  ElseIf a(i)=8 And a(i+1)=2
    t2=123.72
  ElseIf a(i)=9 And a(i+1)=2
    t2=72.88
  ElseIf a(i)=10 And a(i+1)=2
    t2=82.55
  ElseIf a(i)=11 And a(i+1)=2
    t2=89.15
  ElseIf a(i)=12 And a(i+1)=2
    t2=127.37
  ElseIf a(i)=13 And a(i+1)=2
    t2=98.57
  ElseIf a(i)=14 And a(i+1)=2
    t2=101.66
  ElseIf a(i)=15 And a(i+1)=2
    t2=167.95
  ElseIf a(i)=16 And a(i+1)=2
    t2=92.33
    
  ElseIf a(i)=4 And a(i+1)=3
    t2=39.52
  ElseIf a(i)=5 And a(i+1)=3
    t2=75.81
  ElseIf a(i)=6 And a(i+1)=3
    t2=75.18
  ElseIf a(i)=7 And a(i+1)=3
    t2=75.57
  ElseIf a(i)=8 And a(i+1)=3
    t2=88.29
  ElseIf a(i)=9 And a(i+1)=3
    t2=36.44
  ElseIf a(i)=10 And a(i+1)=3
    t2=49.09
  ElseIf a(i)=11 And a(i+1)=3
    t2=57.23
  ElseIf a(i)=12 And a(i+1)=3
    t2=88.5
  ElseIf a(i)=13 And a(i+1)=3
    t2=67
  ElseIf a(i)=14 And a(i+1)=3
    t2=57.89
  ElseIf a(i)=15 And a(i+1)=3
    t2=131.39
  ElseIf a(i)=16 And a(i+1)=3
    t2=57.33
    
  ElseIf a(i)=5 And a(i+1)=4
    t2=64.78
  ElseIf a(i)=6 And a(i+1)=4
    t2=71.09
  ElseIf a(i)=7 And a(i+1)=4
    t2=71.48
  ElseIf a(i)=8 And a(i+1)=4
    t2=115.69
  ElseIf a(i)=9 And a(i+1)=4
    t2=56.72
  ElseIf a(i)=10 And a(i+1)=4
    t2=78.05
  ElseIf a(i)=11 And a(i+1)=4
    t2=104.9
  ElseIf a(i)=12 And a(i+1)=4
    t2=136.31
  ElseIf a(i)=13 And a(i+1)=4
    t2=107.04
  ElseIf a(i)=14 And a(i+1)=4
    t2=97.55
  ElseIf a(i)=15 And a(i+1)=4
    t2=150.39
  ElseIf a(i)=16 And a(i+1)=4
    t2=95.39
    
  ElseIf a(i)=6 And a(i+1)=5
    t2=52.86
  ElseIf a(i)=7 And a(i+1)=5
    t2=53.25
  ElseIf a(i)=8 And a(i+1)=5
    t2=96.33
  ElseIf a(i)=9 And a(i+1)=5
    t2=78.46
  ElseIf a(i)=10 And a(i+1)=5
    t2=69.55
  ElseIf a(i)=11 And a(i+1)=5
    t2=146.56
  ElseIf a(i)=12 And a(i+1)=5
    t2=128.94
  ElseIf a(i)=13 And a(i+1)=5
    t2=113.34
  ElseIf a(i)=14 And a(i+1)=5
    t2=117.5
  ElseIf a(i)=15 And a(i+1)=5
    t2=141.31
  ElseIf a(i)=16 And a(i+1)=5
    t2=127.03
    
  ElseIf a(i)=7 And a(i+1)=6
    t2=0.39
  ElseIf a(i)=8 And a(i+1)=6
    t2=46.93
  ElseIf a(i)=9 And a(i+1)=6
    t2=40.05
  ElseIf a(i)=10 And a(i+1)=6
    t2=59.44
  ElseIf a(i)=11 And a(i+1)=6
    t2=88.54
  ElseIf a(i)=12 And a(i+1)=6
    t2=133.52
  ElseIf a(i)=13 And a(i+1)=6
    t2=118.62
  ElseIf a(i)=14 And a(i+1)=6
    t2=94.95
  ElseIf a(i)=15 And a(i+1)=6
    t2=128.4
  ElseIf a(i)=16 And a(i+1)=6
    t2=158.26
    
  ElseIf a(i)=8 And a(i+1)=7
    t2=47.32
  ElseIf a(i)=9 And a(i+1)=7
    t2=40.44
  ElseIf a(i)=10 And a(i+1)=7
    t2=59.83
  ElseIf a(i)=11 And a(i+1)=7
    t2=88.93
  ElseIf a(i)=12 And a(i+1)=7
    t2=133.91
  ElseIf a(i)=13 And a(i+1)=7
    t2=119.01
  ElseIf a(i)=14 And a(i+1)=7
    t2=95.34
  ElseIf a(i)=15 And a(i+1)=7
    t2=128.79
  ElseIf a(i)=16 And a(i+1)=7
    t2=158.65
    
  ElseIf a(i)=9 And a(i+1)=8
    t2=64.71
  ElseIf a(i)=10 And a(i+1)=8
    t2=77.16
  ElseIf a(i)=11 And a(i+1)=8
    t2=100.31
  ElseIf a(i)=12 And a(i+1)=8
    t2=150.77
  ElseIf a(i)=13 And a(i+1)=8
    t2=115.25
  ElseIf a(i)=14 And a(i+1)=8
    t2=109.89
  ElseIf a(i)=15 And a(i+1)=8
    t2=158.39
  ElseIf a(i)=16 And a(i+1)=8
    t2=143.88
    
  ElseIf a(i)=10 And a(i+1)=9
    t2=28.14
  ElseIf a(i)=11 And a(i+1)=9
    t2=64.89
  ElseIf a(i)=12 And a(i+1)=9
    t2=104.08
  ElseIf a(i)=13 And a(i+1)=9
    t2=69.15
  ElseIf a(i)=14 And a(i+1)=9
    t2=56.44
  ElseIf a(i)=15 And a(i+1)=9
    t2=95.12
  ElseIf a(i)=16 And a(i+1)=9
    t2=53.32
    
  ElseIf a(i)=11 And a(i+1)=10
    t2=52.59
  ElseIf a(i)=12 And a(i+1)=10
    t2=75.51
  ElseIf a(i)=13 And a(i+1)=10
    t2=51.3
  ElseIf a(i)=14 And a(i+1)=10
    t2=90.82
  ElseIf a(i)=15 And a(i+1)=10
    t2=96.11
  ElseIf a(i)=16 And a(i+1)=10
    t2=75.03
    
  ElseIf a(i)=12 And a(i+1)=11
    t2=53.05
  ElseIf a(i)=13 And a(i+1)=11
    t2=33.86
  ElseIf a(i)=14 And a(i+1)=11
    t2=58.87
  ElseIf a(i)=15 And a(i+1)=11
    t2=72.94
  ElseIf a(i)=16 And a(i+1)=11
    t2=53.34
    
  ElseIf a(i)=13 And a(i+1)=12
    t2=45.29
  ElseIf a(i)=14 And a(i+1)=12
    t2=79.06
  ElseIf a(i)=15 And a(i+1)=12
    t2=93.13
  ElseIf a(i)=16 And a(i+1)=12
    t2=65.2
    
  ElseIf a(i)=14 And a(i+1)=13
    t2=68.07
  ElseIf a(i)=15 And a(i+1)=13
    t2=96.96
  ElseIf a(i)=16 And a(i+1)=13
    t2=59.41
    
  ElseIf a(i)=15 And a(i+1)=14
    t2=128.54
  ElseIf a(i)=16 And a(i+1)=14
    t2=30.43
    
  ElseIf a(i)=16 And a(i+1)=15
    t2=104.82
    
  EndIf
  
  t3=t3+t2
  
Next i

tm=t1+t3
kom+1


If tm&lt;tmc
  
  For i=1 To pp+2
    Debug(a(i))
  Next i
  
  Debug("")
  Debug(tm)
  Debug("-----")
  Debug("kombinace: "+kom)
  Debug("-----")
  
  tmc=tm
  
EndIf

Goto zpet
</textarea> <br><br></td></tr></table><br>
<a name="2126987"></a>

<a name="2126988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I ran it, I got maximum call stack exceeded.  The problem is due to InitData() calling itself.  That's not my structure :)<br><br>More generally, though, you'd probably get the same if Calculate() called itself recursively the same way.  Recursion only works if there's something that will stop it and go back eventually.  You are using recursion where you need a loop.  I don't know PureBasic but I see it has a Do loop.  In Monkey the equivalent of Do is Repeat.<br><br>There are no labelled breaks in Monkey, but a properly structured program doesn't need them. <br><br></td></tr></table><br>
<a name="2126989"></a>

<a name="2126990"></a>

<a name="2126991"></a>

<a name="2126993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> [EDIT: my first fix was bugged, correct version now]<br><br>[EDIT AGAIN: I thought I fixed it, but I didn't.  Seems Repeat.. Until True doesn't work with Continue.  But I changed it to a For loop, and I think the problem is that your data never reaches the correct conditions.  At least not in 1000 runs.<br><br>Anyway, the original was crashing because conditions were never achieved and the call stack filled up before a result was found.<br><br><br>Okay... I think I fixed it.  See how InitData() works now... it keeps trying until it gets a set it likes, then finishes.  No recursion needed.  I also changed Seed = Millisecs() so it is only called once.  Since I don't understand your program, I don't know if the output is correct, but at least there is output :)<br><br>The only changes I made are at the start and end of InitData()<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
Import mojo.app

Global pp:int

Global x1:Int
Global x2:Int

Global l1:Int
Global l2:Int

Global kom:Int

Global i:Int
Global j:Int

Global t1:Float
Global t2:Float
Global t3:Float

Global tm:Float
Global tmc:Float

Global v1:Int

Global a1:Int
Global b1:Int

Function Main:Int()
	New MyCalculations()
	Return 0
End

Class MyCalculations

	' Your calculation data - could be lots of fields
	Field a:int[20]
	Field b:int[20]
	
	Method New()
		tmc = 10000
		pp = 14
	
			InitData()
			Calculate()	
			PrintOut()		
	End
	
	' Set up whatever you want to calculate
	Method InitData:Void()
		Seed = Millisecs()
		
		For Local tries:Int = 0 Until 1000
		
			'seskok
			j = Rnd(1, 4)
			
			'naplnění pole
			For i = 1 To 17
				a[i] = i
			End For
			
			'shuffle
			For i = 1 To 17
				a1 = Rnd(1, 17)
				b1 = Rnd(1, 17)
		
				Local k:Int = a[a1]
				Local l:Int = a[b1]
				
				a[a1] = l
				a[b1] = k
			End For
			
			'korekce na začátku
			If a[1] &lt;&gt; j
				For i = 1 To 17
					If a[i] = j
						l1 = i
						Exit
					EndIf
				End For
				'přesun j na začátek
				a[l1] = a[1]
				a[1] = j
			EndIf
			
			'hledání 6
			For i = 1 To 17
				If a[i] = 6
					l1 = i
					Exit
				EndIf
			End For
			
			'hledání 7
			For i = 1 To 17
				If a[i] = 7
					l2 = i
					Exit
				EndIf
			End For
		
			'srovnání 6+7
			a[l2] = a[l1 + 1]
			a[l1 + 1] = 7		
			
			'vyřazení 15
			For i = 1 To 17
				If a[i] = 15
					l1 = i
					Exit
				EndIf
			End For
			
			a[l1] = a[17]
			a[17] = 15		
			
			'kontrola posbíraných pásek
			For i = 1 To pp + 1
				Select a[i]
					Case 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15
						x1 += 1
				End Select
			End For
			
			'kontrola zda je tam vypnutí plotu
			For i = 1 To pp + 2
				If a[i] = 16
					x2 += 1
				EndIf
			End For
		
			'pokud je to všechno správně, pak dál
			Print "try " + tries
			If  Not (x1 = pp And x2 = 1 And (a[pp + 1] = 17 Or a[pp + 2] = 17))
				Continue			
			Endif
		
		Next
		
	End
	
	
		

	

	' Do calculation (this can call itself directly or indirectly no problem)
	Method Calculate:Void()
	
		x1 = 0
		x2 = 0
		t3 = 0
	
		' čas1
		If a[1] = 1
			t1 = 46.18
		ElseIf a[1] = 2
			t1 = 37.84
		ElseIf a[1] = 3
			t1 = 24.82
		ElseIf a[1] = 4
			t1 = 33.28
		ElseIf a[1] = 9
			t1 = 62.09
		EndIf

		' čas2
		For Local i:Int = 1 To pp + 2
  
			If a[i]=1 And a[i+1]=2
				t2=44.81
			ElseIf a[i]=1 And a[i+1]=3
				t2=10.86
			ElseIf a[i]=1 And a[i+1]=4
				t2=59.9
			ElseIf a[i]=1 And a[i+1]=5
				t2=82.13
			ElseIf a[i]=1 And a[i+1]=6
				t2=62.95
			ElseIf a[i]=1 And a[i+1]=7
				t2=63.34
			ElseIf a[i]=1 And a[i+1]=8
				t2=80.91
			ElseIf a[i]=1 And a[i+1]=9
				t2=30.45
			ElseIf a[i]=1 And a[i+1]=10
				t2=38.6
			ElseIf a[i]=1 And a[i+1]=11
				t2=50.91
			ElseIf a[i]=1 And a[i+1]=12
				t2=67.11
			ElseIf a[i]=1 And a[i+1]=13
				t2=61.14
			ElseIf a[i]=1 And a[i+1]=14
				t2=53.34
			ElseIf a[i]=1 And a[i+1]=15
				t2=113.13
			ElseIf a[i]=1 And a[i+1]=16
				t2=40.34
			ElseIf a[i]=1 And a[i+1]=17
				t2=38.2
    
			ElseIf a[i]=2 And a[i+1]=3
				t2=57.34
			ElseIf a[i]=2 And a[i+1]=4
				t2=117.57
			ElseIf a[i]=2 And a[i+1]=5
				t2=112.69
			ElseIf a[i]=2 And a[i+1]=6
				t2=142.78
			ElseIf a[i]=2 And a[i+1]=7
				t2=143.17
			ElseIf a[i]=2 And a[i+1]=8
				t2=114.78
			ElseIf a[i]=2 And a[i+1]=9
				t2=120.28
			ElseIf a[i]=2 And a[i+1]=10
				t2=77.31
			ElseIf a[i]=2 And a[i+1]=11
				t2=65.31
			ElseIf a[i]=2 And a[i+1]=12
				t2=69.65
			ElseIf a[i]=2 And a[i+1]=13
				t2=64.22
			ElseIf a[i]=2 And a[i+1]=14
				t2=47.52
			ElseIf a[i]=2 And a[i+1]=15
				t2=112
			ElseIf a[i]=2 And a[i+1]=16
				t2=30.44
			ElseIf a[i]=2 And a[i+1]=17
				t2=36
    
			ElseIf a[i]=3 And a[i+1]=4
				t2=49.26
			ElseIf a[i]=3 And a[i+1]=5
				t2=73.55
			ElseIf a[i]=3 And a[i+1]=6
				t2=72.83
			ElseIf a[i]=3 And a[i+1]=7
				t2=73.22
			ElseIf a[i]=3 And a[i+1]=8
				t2=88.37
			ElseIf a[i]=3 And a[i+1]=9
				t2=36.75
			ElseIf a[i]=3 And a[i+1]=10
				t2=44.41
			ElseIf a[i]=3 And a[i+1]=11
				t2=77.22
			ElseIf a[i]=3 And a[i+1]=12
				t2=113.81
			ElseIf a[i]=3 And a[i+1]=13
				t2=64.45
			ElseIf a[i]=3 And a[i+1]=14
				t2=59.17
			ElseIf a[i]=3 And a[i+1]=15
				t2=122.61
			ElseIf a[i]=3 And a[i+1]=16
				t2=49.54
			ElseIf a[i]=3 And a[i+1]=17
				t2=50.23
    
			ElseIf a[i]=4 And a[i+1]=5
				t2=52.66
			ElseIf a[i]=4 And a[i+1]=6
				t2=65.18
			ElseIf a[i]=4 And a[i+1]=7
				t2=65.57
			ElseIf a[i]=4 And a[i+1]=8
				t2=100.96
			ElseIf a[i]=4 And a[i+1]=9
				t2=64.52
			ElseIf a[i]=4 And a[i+1]=10
				t2=66.96
			ElseIf a[i]=4 And a[i+1]=11
				t2=103.24
			ElseIf a[i]=4 And a[i+1]=12
				t2=125.04
			ElseIf a[i]=4 And a[i+1]=13
				t2=105.99
			ElseIf a[i]=4 And a[i+1]=14
				t2=125.77
			ElseIf a[i]=4 And a[i+1]=15
				t2=155.18
			ElseIf a[i]=4 And a[i+1]=16
				t2=89.73
			ElseIf a[i]=4 And a[i+1]=17
				t2=92.3
    
			ElseIf a[i]=5 And a[i+1]=6
				t2=49.86
			ElseIf a[i]=5 And a[i+1]=7
				t2=50.25
			ElseIf a[i]=5 And a[i+1]=8
				t2=87.45
			ElseIf a[i]=5 And a[i+1]=9
				t2=56.16
			ElseIf a[i]=5 And a[i+1]=10
				t2=63.92
			ElseIf a[i]=5 And a[i+1]=11
				t2=105.17
			ElseIf a[i]=5 And a[i+1]=12
				t2=115.55
			ElseIf a[i]=5 And a[i+1]=13
				t2=121.99
			ElseIf a[i]=5 And a[i+1]=14
				t2=121.37
			ElseIf a[i]=5 And a[i+1]=15
				t2=135.58
			ElseIf a[i]=5 And a[i+1]=16
				t2=97.44
			ElseIf a[i]=5 And a[i+1]=17
				t2=103.13
    
			ElseIf a[i]=6 And a[i+1]=7
				t2=0.39
			ElseIf a[i]=6 And a[i+1]=8
				t2=45.47
			ElseIf a[i]=6 And a[i+1]=9
				t2=43.36
			ElseIf a[i]=6 And a[i+1]=10
				t2=55.78
			ElseIf a[i]=6 And a[i+1]=11
				t2=86.02
			ElseIf a[i]=6 And a[i+1]=12
				t2=108.25
			ElseIf a[i]=6 And a[i+1]=13
				t2=113.53
			ElseIf a[i]=6 And a[i+1]=14
				t2=96.21
			ElseIf a[i]=6 And a[i+1]=15
				t2=143.06
			ElseIf a[i]=6 And a[i+1]=16
				t2=126.12
			ElseIf a[i]=6 And a[i+1]=17
				t2=89.39
    
			ElseIf a[i]=7 And a[i+1]=8
				t2=45.86
			ElseIf a[i]=7 And a[i+1]=9
				t2=43.75
			ElseIf a[i]=7 And a[i+1]=10
				t2=56.17
			ElseIf a[i]=7 And a[i+1]=11
				t2=86.41
			ElseIf a[i]=7 And a[i+1]=12
				t2=108.64
			ElseIf a[i]=7 And a[i+1]=13
				t2=113.92
			ElseIf a[i]=7 And a[i+1]=14
				t2=96.6
			ElseIf a[i]=7 And a[i+1]=15
				t2=143.45
			ElseIf a[i]=7 And a[i+1]=16
				t2=126.51
			ElseIf a[i]=7 And a[i+1]=17
				t2=89.78
    
			ElseIf a[i]=8 And a[i+1]=9
				t2=62.47
			ElseIf a[i]=8 And a[i+1]=10
				t2=77.34
			ElseIf a[i]=8 And a[i+1]=11
				t2=116.22
			ElseIf a[i]=8 And a[i+1]=12
				t2=124.27
			ElseIf a[i]=8 And a[i+1]=13
				t2=137.76
			ElseIf a[i]=8 And a[i+1]=14
				t2=108.8
			ElseIf a[i]=8 And a[i+1]=15
				t2=142.32
			ElseIf a[i]=8 And a[i+1]=16
				t2=103.93
			ElseIf a[i]=8 And a[i+1]=17
				t2=112.51
    
			ElseIf a[i]=9 And a[i+1]=10
				t2=23.86
			ElseIf a[i]=9 And a[i+1]=11
				t2=59.95
			ElseIf a[i]=9 And a[i+1]=12
				t2=72.55
			ElseIf a[i]=9 And a[i+1]=13
				t2=71.38
			ElseIf a[i]=9 And a[i+1]=14
				t2=64.6
			ElseIf a[i]=9 And a[i+1]=15
				t2=99.83
			ElseIf a[i]=9 And a[i+1]=16
				t2=59.17
			ElseIf a[i]=9 And a[i+1]=17
				t2=60.04
    
			ElseIf a[i]=10 And a[i+1]=11
				t2=38.7
			ElseIf a[i]=10 And a[i+1]=12
				t2=51.99
			ElseIf a[i]=10 And a[i+1]=13
				t2=49.96
			ElseIf a[i]=10 And a[i+1]=14
				t2=87.48
			ElseIf a[i]=10 And a[i+1]=15
				t2=101.75
			ElseIf a[i]=10 And a[i+1]=16
				t2=77.98
			ElseIf a[i]=10 And a[i+1]=17
				t2=76.7
    
			ElseIf a[i]=11 And a[i+1]=12
				t2=31.91
			ElseIf a[i]=11 And a[i+1]=13
				t2=34.24
			ElseIf a[i]=11 And a[i+1]=14
				t2=70.22
			ElseIf a[i]=11 And a[i+1]=15
				t2=71.61
			ElseIf a[i]=11 And a[i+1]=16
				t2=56.84
			ElseIf a[i]=11 And a[i+1]=17
				t2=53.63
    
			ElseIf a[i]=12 And a[i+1]=13
				t2=56.33
			ElseIf a[i]=12 And a[i+1]=14
				t2=95.11
			ElseIf a[i]=12 And a[i+1]=15
				t2=120.99
			ElseIf a[i]=12 And a[i+1]=16
				t2=82
			ElseIf a[i]=12 And a[i+1]=17
				t2=91.81
    
			ElseIf a[i]=13 And a[i+1]=14
				t2=77.72
			ElseIf a[i]=13 And a[i+1]=15
				t2=94.57
			ElseIf a[i]=13 And a[i+1]=16
				t2=66.2
			ElseIf a[i]=13 And a[i+1]=17
				t2=60.62
    
			ElseIf a[i]=14 And a[i+1]=15
				t2=120.9
			ElseIf a[i]=14 And a[i+1]=16
				t2=34.91
			ElseIf a[i]=14 And a[i+1]=17
				t2=9.89
    
			ElseIf a[i]=15 And a[i+1]=16
				t2=128.9
			ElseIf a[i]=15 And a[i+1]=17
				t2=119.54
    
			ElseIf a[i]=16 And a[i+1]=17
				t2=22.61
    
			ElseIf a[i]=17 And a[i+1]=16
				t2=23.57
    
			ElseIf a[i]=2 And a[i+1]=1
				t2=106.44
			ElseIf a[i]=3 And a[i+1]=1
				t2=56.72
			ElseIf a[i]=4 And a[i+1]=1
				t2=91.19
			ElseIf a[i]=5 And a[i+1]=1
				t2=108.7
			ElseIf a[i]=6 And a[i+1]=1
				t2=107.88
			ElseIf a[i]=7 And a[i+1]=1
				t2=108.27
			ElseIf a[i]=8 And a[i+1]=1
				t2=141.76
			ElseIf a[i]=9 And a[i+1]=1
				t2=86.53
			ElseIf a[i]=10 And a[i+1]=1
				t2=91.2
			ElseIf a[i]=11 And a[i+1]=1
				t2=112.44
			ElseIf a[i]=12 And a[i+1]=1
				t2=131.25
			ElseIf a[i]=13 And a[i+1]=1
				t2=113.08
			ElseIf a[i]=14 And a[i+1]=1
				t2=98.26
			ElseIf a[i]=15 And a[i+1]=1
				t2=165.42
			ElseIf a[i]=16 And a[i+1]=1
				t2=106.92
    
			ElseIf a[i]=3 And a[i+1]=2
				t2=46.84
			ElseIf a[i]=4 And a[i+1]=2
				t2=78.31
			ElseIf a[i]=5 And a[i+1]=2
				t2=110.15
			ElseIf a[i]=6 And a[i+1]=2
				t2=113.48
			ElseIf a[i]=7 And a[i+1]=2
				t2=113.87
			ElseIf a[i]=8 And a[i+1]=2
				t2=123.72
			ElseIf a[i]=9 And a[i+1]=2
				t2=72.88
			ElseIf a[i]=10 And a[i+1]=2
				t2=82.55
			ElseIf a[i]=11 And a[i+1]=2
				t2=89.15
			ElseIf a[i]=12 And a[i+1]=2
				t2=127.37
			ElseIf a[i]=13 And a[i+1]=2
				t2=98.57
			ElseIf a[i]=14 And a[i+1]=2
				t2=101.66
			ElseIf a[i]=15 And a[i+1]=2
				t2=167.95
			ElseIf a[i]=16 And a[i+1]=2
				t2=92.33
    
			ElseIf a[i]=4 And a[i+1]=3
				t2=39.52
			ElseIf a[i]=5 And a[i+1]=3
				t2=75.81
			ElseIf a[i]=6 And a[i+1]=3
				t2=75.18
			ElseIf a[i]=7 And a[i+1]=3
				t2=75.57
			ElseIf a[i]=8 And a[i+1]=3
				t2=88.29
			ElseIf a[i]=9 And a[i+1]=3
				t2=38.91
			ElseIf a[i]=10 And a[i+1]=3
				t2=49.09
			ElseIf a[i]=11 And a[i+1]=3
				t2=57.23
			ElseIf a[i]=12 And a[i+1]=3
				t2=88.5
			ElseIf a[i]=13 And a[i+1]=3
				t2=67
			ElseIf a[i]=14 And a[i+1]=3
				t2=57.89
			ElseIf a[i]=15 And a[i+1]=3
				t2=131.39
			ElseIf a[i]=16 And a[i+1]=3
				t2=57.33
    
			ElseIf a[i]=5 And a[i+1]=4
				t2=64.78
			ElseIf a[i]=6 And a[i+1]=4
				t2=71.09
			ElseIf a[i]=7 And a[i+1]=4
				t2=71.48
			ElseIf a[i]=8 And a[i+1]=4
				t2=115.69
			ElseIf a[i]=9 And a[i+1]=4
				t2=56.72
			ElseIf a[i]=10 And a[i+1]=4
				t2=78.05
			ElseIf a[i]=11 And a[i+1]=4
				t2=104.9
			ElseIf a[i]=12 And a[i+1]=4
				t2=136.31
			ElseIf a[i]=13 And a[i+1]=4
				t2=107.04
			ElseIf a[i]=14 And a[i+1]=4
				t2=97.55
			ElseIf a[i]=15 And a[i+1]=4
				t2=150.39
			ElseIf a[i]=16 And a[i+1]=4
				t2=95.39
    
			ElseIf a[i]=6 And a[i+1]=5
				t2=52.86
			ElseIf a[i]=7 And a[i+1]=5
				t2=53.25
			ElseIf a[i]=8 And a[i+1]=5
				t2=96.33
			ElseIf a[i]=9 And a[i+1]=5
				t2=78.46
			ElseIf a[i]=10 And a[i+1]=5
				t2=69.55
			ElseIf a[i]=11 And a[i+1]=5
				t2=146.56
			ElseIf a[i]=12 And a[i+1]=5
				t2=128.94
			ElseIf a[i]=13 And a[i+1]=5
				t2=113.34
			ElseIf a[i]=14 And a[i+1]=5
				t2=117.5
			ElseIf a[i]=15 And a[i+1]=5
				t2=141.31
			ElseIf a[i]=16 And a[i+1]=5
				t2=127.03
    
			ElseIf a[i]=7 And a[i+1]=6
				t2=0.39
			ElseIf a[i]=8 And a[i+1]=6
				t2=46.93
			ElseIf a[i]=9 And a[i+1]=6
				t2=40.05
			ElseIf a[i]=10 And a[i+1]=6
				t2=59.44
			ElseIf a[i]=11 And a[i+1]=6
				t2=88.54
			ElseIf a[i]=12 And a[i+1]=6
				t2=133.52
			ElseIf a[i]=13 And a[i+1]=6
				t2=118.62
			ElseIf a[i]=14 And a[i+1]=6
				t2=94.95
			ElseIf a[i]=15 And a[i+1]=6
				t2=128.4
			ElseIf a[i]=16 And a[i+1]=6
				t2=158.26
    
			ElseIf a[i]=8 And a[i+1]=7
				t2=47.32
			ElseIf a[i]=9 And a[i+1]=7
				t2=40.44
			ElseIf a[i]=10 And a[i+1]=7
				t2=59.83
			ElseIf a[i]=11 And a[i+1]=7
				t2=88.93
			ElseIf a[i]=12 And a[i+1]=7
				t2=133.91
			ElseIf a[i]=13 And a[i+1]=7
				t2=119.01
			ElseIf a[i]=14 And a[i+1]=7
				t2=95.34
			ElseIf a[i]=15 And a[i+1]=7
				t2=128.79
			ElseIf a[i]=16 And a[i+1]=7
				t2=158.65
    
			ElseIf a[i]=9 And a[i+1]=8
				t2=64.71
			ElseIf a[i]=10 And a[i+1]=8
				t2=77.16
			ElseIf a[i]=11 And a[i+1]=8
				t2=100.31
			ElseIf a[i]=12 And a[i+1]=8
				t2=150.77
			ElseIf a[i]=13 And a[i+1]=8
				t2=115.25
			ElseIf a[i]=14 And a[i+1]=8
				t2=109.89
			ElseIf a[i]=15 And a[i+1]=8
				t2=158.39
			ElseIf a[i]=16 And a[i+1]=8
				t2=143.88
    
			ElseIf a[i]=10 And a[i+1]=9
				t2=28.14
			ElseIf a[i]=11 And a[i+1]=9
				t2=64.89
			ElseIf a[i]=12 And a[i+1]=9
				t2=104.08
			ElseIf a[i]=13 And a[i+1]=9
				t2=69.15
			ElseIf a[i]=14 And a[i+1]=9
				t2=56.44
			ElseIf a[i]=15 And a[i+1]=9
				t2=95.12
			ElseIf a[i]=16 And a[i+1]=9
				t2=53.32
    
			ElseIf a[i]=11 And a[i+1]=10
				t2=52.59
			ElseIf a[i]=12 And a[i+1]=10
				t2=75.51
			ElseIf a[i]=13 And a[i+1]=10
				t2=51.3
			ElseIf a[i]=14 And a[i+1]=10
				t2=90.82
			ElseIf a[i]=15 And a[i+1]=10
				t2=96.11
			ElseIf a[i]=16 And a[i+1]=10
				t2=75.03
    
			ElseIf a[i]=12 And a[i+1]=11
				t2=53.05
			ElseIf a[i]=13 And a[i+1]=11
				t2=33.86
			ElseIf a[i]=14 And a[i+1]=11
				t2=58.87
			ElseIf a[i]=15 And a[i+1]=11
				t2=72.94
			ElseIf a[i]=16 And a[i+1]=11
				t2=53.34
    
			ElseIf a[i]=13 And a[i+1]=12
				t2=45.29
			ElseIf a[i]=14 And a[i+1]=12
				t2=79.06
			ElseIf a[i]=15 And a[i+1]=12
				t2=93.13
			ElseIf a[i]=16 And a[i+1]=12
				t2=65.2
    
			ElseIf a[i]=14 And a[i+1]=13
				t2=68.07
			ElseIf a[i]=15 And a[i+1]=13
				t2=96.96
			ElseIf a[i]=16 And a[i+1]=13
				t2=59.41
    
			ElseIf a[i]=15 And a[i+1]=14
				t2=128.54
			ElseIf a[i]=16 And a[i+1]=14
				t2=30.43
    
			ElseIf a[i]=16 And a[i+1]=15
				t2=104.82
			EndIf
  
			t3 = t3 + t2
  
		Next i

		tm = t1 + t3
	End

	' Print out your results to console
	Method PrintOut:Void()
	
	If tm &lt; tmc
		For i = 1 To pp + 2
			b[i] = a[i]
		End For
		tmc = tm
			
		For i = 1 To pp + 2
			Print(b[i])
		Next i
		Print("---")
		Print(tmc)
		Print("------------")
	
		EndIf
	End
End
</textarea><br><br>Output:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
try 0
...
try 986
try 987
try 988
try 989
try 990
try 991
try 992
try 993
try 994
try 995
try 996
try 997
try 998
try 999
2
3
4
13
17
5
11
8
12
10
9
6
7
1
16
14
---
1145.4499999999998
------------
</textarea><br><br>Anyway, you can do your infinite loop this way, maybe it will stop eventually!<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Method InitData:Void()
		Seed = Millisecs()
		
		While True
		
			'seskok
			j = Rnd(1, 4)
			
			'naplnění pole
			For i = 1 To 17
				a[i] = i
			End For
			
			'shuffle
			For i = 1 To 17
				a1 = Rnd(1, 17)
				b1 = Rnd(1, 17)
		
				Local k:Int = a[a1]
				Local l:Int = a[b1]
				
				a[a1] = l
				a[b1] = k
			End For
			
			'korekce na začátku
			If a[1] &lt;&gt; j
				For i = 1 To 17
					If a[i] = j
						l1 = i
						Exit
					EndIf
				End For
				'přesun j na začátek
				a[l1] = a[1]
				a[1] = j
			EndIf
			
			'hledání 6
			For i = 1 To 17
				If a[i] = 6
					l1 = i
					Exit
				EndIf
			End For
			
			'hledání 7
			For i = 1 To 17
				If a[i] = 7
					l2 = i
					Exit
				EndIf
			End For
		
			'srovnání 6+7
			a[l2] = a[l1 + 1]
			a[l1 + 1] = 7		
			
			'vyřazení 15
			For i = 1 To 17
				If a[i] = 15
					l1 = i
					Exit
				EndIf
			End For
			
			a[l1] = a[17]
			a[17] = 15		
			
			'kontrola posbíraných pásek
			For i = 1 To pp + 1
				Select a[i]
					Case 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15
						x1 += 1
				End Select
			End For
			
			'kontrola zda je tam vypnutí plotu
			For i = 1 To pp + 2
				If a[i] = 16
					x2 += 1
				EndIf
			End For
		
			'pokud je to všechno správně, pak dál
			If  (x1 = pp And x2 = 1 And (a[pp + 1] = 17 Or a[pp + 2] = 17))
				Exit
			Endif
		
		Wend
		
	End
</textarea> <br><br></td></tr></table><br>
<a name="2127006"></a>

<a name="2127007"></a>

<a name="2127008"></a>

<a name="2127009"></a>

<a name="2127010"></a>

<a name="2127011"></a>

<a name="2127012"></a>

<a name="2127013"></a>

<a name="2127014"></a>

<a name="2127015"></a>

<a name="2127017"></a>

<a name="2127021"></a>

<a name="2127022"></a>

<a name="2127023"></a>

<a name="2127024"></a>

<a name="2127025"></a>

<a name="2127029"></a>

<a name="2127031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm, the first case seems to be OK, but then it's not looking for a better time.<br><br>OK, my English is terrible, but I'll try to explain it.<br>We solve one interesting thing:) it's a hell of a puzzle :)<br><br>This is a solution in the game the Saboteur II ( <a href="http://www.clivetownsend.com" target="_blank">http://www.clivetownsend.com</a> )<br><br>1. In the game is 15 tapes<br>2. In the game is 1 terminal (No. 17)<br>3. In the game is the 1 button to turn off the fence (No. 16).<br><br>Here is my map:<br><img src="https://s6.postimg.org/rrjr5ru9t/sab2.png"><br><br>The aim is to collect 14 tapes, put them into the terminal and off the fence.<br>It follows that the penultimate or last must be No. 17 (Terminal). The fence you can turn off at any time.<br><br>pp=14 'počet pásek = required number of tapes (English)<br>x1 'number of tapes in combination<br>x2 'if the fence off (1=OK)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'pokud je to všechno správně, pak dál = if the conditions are met, then calculate the time
If  (x1 = pp And x2 = 1 And (a[pp + 1] = 17 Or a[pp + 2] = 17))
	Exit
Endif
</textarea><br><br>You can start collecting from the No. 1, No. 2, No. 3 or No. 4.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
j = Rnd(1, 4)
</textarea><br><br>The condition is that you must have 14 tapes, so that you could put into the terminal.<br><br>(Small condition is that the tape No. 6 and No. 7 are close together, so that is a random field, always I'll connect. i.e. tapes 6 and 7 are always behind.)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">		
'srovnání 6+7
a[l2] = a[l1 + 1]
a[l1 + 1] = 7
</textarea><br><br>I know the times between individual tapes (1-2, 1-3, 1-4, 1-5.... 2-1, 2-3.... etc.). That is, all combinations. But for collect all tapes is there a permutations of 15! It is over 1000 billions.<br><br>I believe that the tape No. 15 is so far away that it is not to be expected. Therefore, I discarded it (ie. I give at the end of the field).<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'vyřazení 15
For i = 1 To 17
	If a[i] = 15
		l1 = i
		Exit
	EndIf
End For
			
a[l1] = a[17]
a[17] = 15
</textarea><br><br>I'm looking for the best path, with the shortest amount of time.<br>(The best combination I've found so far is 647.5 sec. 1-3-4-5-6-7-8-9-10-11-12-13-2-16-14-17)<br><br>The program simulates browsing of this game. The program attempts to randomly shuffle the array (with those terms, see above). Add up the individual times. If the time is better than the previous, so it prints (like here: <a href="https://www.youtube.com/watch?v=W55sWQY3IdY" target="_blank">https://www.youtube.com/watch?v=W55sWQY3IdY</a> )<br><br>When the program fast enough (and I hope that the MonkeyX will be the fastest), I can find the time the best way ever. (PureBasic is unfortunately quite slow, the AGK2 even slower.)<br><br>I hope it's understandable :-))<br>Once again I apologize for the English! Thank you for everything! ;-) <br><br></td></tr></table><br>
<a name="2127032"></a>

<a name="2127033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting!  A way of generating all permutations would be faster, but the random method has the advantage of being easy to program.<br><br>I think that for code like this, Monkey will be pretty fast.  The problem is intrinsically slow, and language speed only multiplies it by a constant factor.  One improvement would be to replace the Select statement in 'kontrola posbíraných pásek with If a[i] &gt;= 1 Or a[i] &lt;= 15. <br><br></td></tr></table><br>
<a name="2127038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> OP, you're trying to solve a version of the travelling salesman problem. It's a well studied problem in computer science so you might benefit from reading at least the Wikipedia page to get some idea of what you're tackling. If you're not just coding your own solver for fun you'll likely find existing code/tools that you can make work for you. <br><br></td></tr></table><br>
<a name="2127046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it's a nice problem. But I believe that I'm dealing with it correctly.. This is a typical heuristic algorithm. In PureBasic it works (see above), now I'm trying to override it in MonkeyX - and it is not easy. But I believe that MonkeyX will be the fastest ;-) <br><br></td></tr></table><br>
<a name="2127047"></a>

<a name="2127048"></a>

<a name="2127049"></a>

<a name="2127050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I honestly don't know anything about PureBasic speed.  But chances are that it is also fast enough.  It won't be three times slower than Monkey, or three times faster.  Which means three days running the slower language will be better than one day running the faster one.<br><br>The only commonly used language that I see people really getting into trouble with due to its general (lack of) speed is Python.  And that's mostly for real-time stuff.  For your purposes, language speed shouldn't really matter.  Just set up your program so you can let it run overnight.  If you are not comfortable with saving and reading files, just type in the old best time before you start each run!  (Actually, with your random system, you don't even need to to that.) <br><br></td></tr></table><br>
<a name="2127051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had a bit of a look at your code and I have a few suggestions:<br><br>1. Your code seems to have been written based on arrays with the index starting at 1. Monkey arrays are indexed from 0. Somewhere along the line this is going to trip you up.<br>2. Look at changing InitData to always generate a valid route. There's no reason to be generating invalid routes that are then rejected by a test.<br>3. Replace your enormous If elseif elseif elseif... construction in Calculate with a two dimensional array. The whole thing can be reduced to a simple costArray[a][b] lookup and it will be far faster.<br><br>With changes 2&amp;3 and the desktop target I'm seeing around 2 million routes per second on my i5 laptop, which brings just brute force searching every possibility over a few days within reach even if you don't want to look into fancier algorithms. <br><br></td></tr></table><br>
<a name="2127052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much!<br><br>Please, have you the code in MonkeyX? Rather whole. Still I can not do the right version. <br><br></td></tr></table><br>
<a name="2127053"></a>

<a name="2127054"></a>

<a name="2127055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, maybe try all combinations.<br><br>How do I make algorithm array where all the permutations?<br><br>First combination, Start:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
 For i=1 To 17
   a(i)=i
 Next i
</textarea><br><br>First combination<br>1,2,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br><br>Second combination<br>2,1,3,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br><br>Third combination<br>2,3,1,4,5,6,7,8,9,10,11,12,13,14,15,16,17<br><br>etc. <br><br></td></tr></table><br>
<a name="2127056"></a>

<a name="2127057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might help you: it's Java code for the Johnson Trotter algorithm:<br><br><a href="http://introcs.cs.princeton.edu/java/23recursion/JohnsonTrotter.java.html" target="_blank">http://introcs.cs.princeton.edu/java/23recursion/JohnsonTrotter.java.html</a><br><br>(There are others - I picked Java because it may be the easiest to translate into Monkey, but I could be wrong.) <br><br></td></tr></table><br>
<a name="2127058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's the code I played around with. You'll need to check over the specifics as I'm not entirely clear on the rules you're applying. By the way. I put the costs in a TSP solver I coded up a while back and it found [4,5,7,6,8,9,10,11,12,13,3,1,2,16,14,17]. It's not an exhaustive solver so that may not be the shortest route even if I've got the rules/costs correct but maybe it's of use to you.<br> <br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
Import mojo.app


Function Main:Int()
	New MyApp()
	Return 0
End

Class MyApp Extends App

	Field mc:MyCalculations
	Field runsPerCall:Int = 10000
	Field maxMSPerCall:Int
	
	Method OnCreate:Int()
		SetUpdateRate(1)
		maxMSPerCall = 1000.0/UpdateRate()
		mc = New MyCalculations()
		Return 0
	End
	
	Method OnUpdate:Int()
		Local time:Int = Millisecs()
		
		mc.DoRuns(runsPerCall)
		
		time = Millisecs() - time 
		
		'Adjust runsPerCall to fit within framerate
		If( time &lt; maxMSPerCall*0.9 )
			if( time = 0 ) 'just in case
				runsPerCall *= 1.5
			Else
				runsPerCall = runsPerCall * (maxMSPerCall*0.92)/time
			End
			Print runsPerCall + " runs per call" 
		ElseIf( time &gt; maxMSPerCall)
			runsPerCall = runsPerCall * (maxMSPerCall*0.95)/time
			Print runsPerCall + " runs per call"
		End
		Return 0
	End 
End

Class MyCalculations

	Field pp:Int
	Field a:Int[] = New Int[16]
	Field b:Int[] = New Int[16]
	Field best:Float = 99999999.0
	 
	Method New()
		Seed = Millisecs()
		pp = 14		
	End
	
	Field costs:Float[][] = [
		[0,44.81,10.86,59.9,82.13,62.95,63.34,80.91,30.45,38.6,50.91,67.11,61.14,53.34,113.13,40.34,38.2],
		[106.44,0,57.34,117.57,112.69,142.78,143.17,114.78,120.28,77.31,65.31,69.65,64.22,47.52,112,30.44,36],
		[56.72,46.84,0,49.26,73.55,72.83,73.22,88.37,36.75,44.41,77.22,113.81,64.45,59.17,122.61,49.54,50.23],
		[91.19,78.31,39.52,0,52.66,65.18,65.57,100.96,64.52,66.96,103.24,125.04,105.99,125.77,155.18,89.73,92.3],
		[108.7,110.15,75.81,64.78,0,49.86,50.25,87.45,56.16,63.92,105.17,115.55,121.99,121.37,135.58,97.44,103.13],
		[107.88,113.48,75.18,71.09,52.86,0,0.39,45.47,43.36,55.78,86.02,108.25,113.53,96.21,143.06,126.12,89.39],
		[108.27,113.87,75.57,71.48,53.25,0.39,0,45.86,43.75,56.17,86.41,108.64,113.92,96.6,143.45,126.51,89.78],
		[141.76,123.72,88.29,115.69,96.33,46.93,47.32,0,62.47,77.34,116.22,124.27,137.76,108.8,142.32,103.93,112.51],
		[86.53,72.88,38.91,56.72,78.46,40.05,40.44,64.71,0,23.86,59.95,72.55,71.38,64.6,99.83,59.17,60.04],
		[91.2,82.55,49.09,78.05,69.55,59.44,59.83,77.16,28.14,0,38.7,51.99,49.96,87.48,101.75,77.98,76.7],
		[112.44,89.15,57.23,104.9,146.56,88.54,88.93,100.31,64.89,52.59,0,31.91,34.24,70.22,71.61,56.84,53.63],
		[131.25,127.37,88.5,136.31,128.94,133.52,133.91,150.77,104.08,75.51,53.05,0,56.33,95.11,120.99,82,91.81],
		[113.08,98.57,67,107.04,113.34,118.62,119.01,115.25,69.15,51.3,33.86,45.29,0,77.72,94.57,66.2,60.62],
		[98.26,101.66,57.89,97.55,117.5,94.95,95.34,109.89,56.44,90.82,58.87,79.06,68.07,0,120.9,34.91,9.89],
		[165.42,167.95,131.39,150.39,141.31,128.4,128.79,158.39,95.12,96.11,72.94,93.13,96.96,128.54,0,128.9,119.54],
		[106.92,92.33,57.33,95.39,127.03,158.26,158.65,143.88,53.32,75.03,53.34,65.2,59.41,30.43,104.82,0,22.61],
		[0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,23.57,0]]
		
	Method GetCost:Float( a:Int, b:Int )		
		'-1 because the map points count from 1
		Return costs[a-1][b-1]
	End 
	
	Method DoRuns:Void( runCount:Int )
		Local cost:Float
		
		For Local i:Int = 0 Until runCount 
			GenRoute()
			cost = Calculate()
			If cost &lt; best
				best = cost 
				PrintOut()
			End
		End
		
	End
	
	Field picks:Int[] = New Int[14]
		
	Method GenRoute:Int()
		Local options:Int[] = [1,2,3,4,5,6,8,9,10,11,12,13,14,16]
		
		'always start with point 0-3
		picks[0] = Rnd(0,4)
		
		'Now pick random elements for remaining slots
		For Local i:Int = 1 Until 14
			picks[i] = Rnd(0,14-i)
		End
		
		'copy random values, swapping chosen elements out of picking range
		Local routeIndex:Int = 0
		For Local i:Int = 0 Until 14
			Local option:Int = options[picks[i]]
			a[routeIndex] = option
			If( option = 6 )
				If( Rnd() &gt;= 0.5 )
					a[routeIndex+1] = 7
				Else
					a[routeIndex] = 7
					a[routeIndex+1] = 6
				End
				routeIndex += 1
			End
			routeIndex += 1
			options[picks[i]] = options[13-i]
		End
		
		a[15] = a[14]
		
		If( a[15] = 16)
			If Rnd() &gt;= 0.5
				a[14] = 17
			Else
				a[15] = 17
			End
		Else
			a[15] = 17
		End
		
		'a[16] = 15

#if DEBUG = True		
		If Not IsValidRoute()
			Print "Invalid Route"
			EndApp
		End
#endif		
		Return 0
	End
	
	
	Method IsValidRoute:Bool()
		Local cardCount:Int = 0
		Local fenceDown:Int = 0
		
		'kontrola posbíraných pásek
		For i = 0 To pp
			Select a[i]
				Case 1, 2, 3, 4, 5, 6, 7, 8, 9, 10, 11, 12, 13, 14, 15
					cardCount += 1
			End Select
		End For
			
		'kontrola zda je tam vypnutí plotu
		For i = 0 To pp + 1
			If a[i] = 16
				fenceDown = 1
				Exit
			EndIf
		End For
		
		'pokud je to všechno správně, pak dál
		If (cardCount = pp And fenceDown = 1 And (a[pp] = 17 Or a[pp + 1] = 17))
			Return True
		EndIf
		
		Return False
	End 

	' Do calculation (this can call itself directly or indirectly no problem)
	Method Calculate:Float()
	
		Local t:Float = 0.0
	
		' čas1
		If a[0] = 1
			t = 46.18
		ElseIf a[0] = 2
			t = 37.84
		ElseIf a[0] = 3
			t = 24.82
		ElseIf a[0] = 4
			t = 33.28
		ElseIf a[0] = 9
			t = 62.09
		EndIf

		' čas2
		For Local i:Int = 0 Until a.Length-1
  
			t += GetCost(a[i],a[i+1])
  
		End

		Return t
	End
	

	' Print out your results to console
	Method PrintOut:Void()
	
		For Local i:Int = 0 Until a.Length
			b[i] = a[i]
		End
				
		Local route:StringStack = New StringStack()
		route.Push("[")
		For Local i:Int = 0 Until b.Length-1
			route.Push(String(b[i]))
			route.Push(",")
		End
		route.Push( String( b[b.Length-1] ) )
		route.Push( "]" )
		Print route.Join()
		Print("---")
		Print(best)
		Print("------------")

	End
End
</textarea> <br><br></td></tr></table><br>
<a name="2127062"></a>

<a name="2127066"></a>

<a name="2127111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zxretrosoft</td><td align="right"><font class=tiny>(Posted March)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very VERY much! Brilliant, that is exactly it!<br><br>It works correctly, by me. I just a little bit don't understand how it works field Field costs: Float [] [] = [<br>I explore it. It's an elegantly optimized :)<br><br><br>Gerry Quinn:<br>Thanks a lot, I can rewrite it to a MonkeyX, it will be useful for the problems of a similar type :-))<br><br><br>Thank you very much again to all! Great help!<br><br>P.S. Best time I've found so far = 647.55. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
