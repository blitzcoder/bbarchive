<!DOCTYPE html><html lang="en" ><head ><title >Mandelbrot in a nutshell</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='273 chars in 4 lines., language=bb, category=Graphics'><meta name='author' content='BlitzProg'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=1>Graphics</a>/Mandelbrot in a nutshell</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="2938.bb">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mandelbrot in a nutshell by BlitzProg</td><td align="right">2012 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> This tiny piece of code will produce the mandelbrot set from coordinates (-2,-1) to (1,1), with 64 iterations. </td></tr><tr ><td class="cell"><pre class="code">w=800:h=600:Graphics w,h,16,2:LockBuffer For x=0 To w-1 For y=0 To h-1
WritePixel x,y,m((3.0*x/w)-2,(2.0*y/h)-1):Next:Next:UnlockBuffer:Flip:MouseWait
Function m(k#,l#,i=63):For c=0 To i:If (x#*x)+(y#*y)&gt;4 Return c*263168+128
t#=(x*x)-(y*y)+k y=(2*x*y)+l x=t:Next:End Function</pre></td></tr></table><br><a name="comments">Comments</a><br><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> ...every time you run this code, an angel stands up and applauds. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> I had to try it out:<br><pre class=code>
w=800h=600Graphics w,h For x=0 To w-1 For y=0 To h-1 c = m((3.0*x/w)-2,(2.0*y/h)-1)SetColor c Shr 16&amp;$FF,c Shr 8&amp;$FF,c&amp;$FF
Plot x,y Next Next Flip()WaitKey()Function m(k#,l#,i=63)For c=0 To i If (x#*x)+(y#*y)&gt;4 Return c*263168+128
t#=(x*x)-(y*y)+k y=(2*x*y)+l x=t Next End Function
</pre><br><br>Nice! <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> Cool. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> Easier version of mandlebrot code :P<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Global w     =800
Global h     =600
Global d     =0
Global mode  =2

Graphics w,h,d,mode
SetBuffer BackBuffer()

For x=0 To w-1

	For y=0 To h-1
	
		c = m((3.0*x/w)-2,(2.0*y/h)-1)
		
			Color c Shr 16 And $FF,c Shr 8 And $FF,c And $FF
			Plot x,y 
			
	Next
	
Next

Flip

WaitKey

Function m(k#,l#,i=63)

	For c=0 To i
	
		If (x#*x)+(y#*y)&gt;4 Then Return c*263168+128

			t#=(x*x)-(y*y)+k
			y=(2*x*y)+l
			x=t
			
	Next
	
End Function</textarea> <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyBeRGoth</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> Elegant, maths can do some amazing things, not in my hands though (unless I have a calculator handy :P) <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> this one is particular and years old, the idea behind it is apply a formula on a dot repeatedly and check if it would escapes to infinity, if it fail, put a black dot, if success, color depending on how long it took.<br><br>The function only look difficult to understand because you got to write complex numbers as real numbers and do the appropriate maths to match the results.<br><br>Real function in this code<br><pre class=code>
Function m(k#,l#,i=63)
For c=0 To i:If (x#*x)+(y#*y)&gt;4 Return c*263168+128
t#=(x*x)-(y*y)+k y=(2*x*y)+l x=t:Next:End Function
</pre><br><br>Its complex equivalent would be<br><pre class=code>
Function m(d,i=63):For c=0 To i:If abs(z)&gt;2 Return c*263168+128
z=z*z+d:Next:End Function
</pre> <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> I still cannot grasp how the complex numbers are represented by real ones in the various code examples (across all manner of languages) for fractal calculation.<br><br>yeah.. even with that clear example above!<br>I assume that complex conjugates are squared to give real negatives.<br>Shame, cos I really love fractals, they are perfect for many areas of games, especially when procedural generation is required and may be scaled - i.e. landscapes, trees/vegetation, Other forms of LOD <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>2012</font></td></tr></table></td></tr><tr ><td class="posttext"> _PJ_ Well, if you know what a complex value is, it shouldn't actually be too complicated to replace!<br><br>If you studied complex numbers, you just focus on doing arithmetic operations and storing x and y with separate variables. x is the real part and y, the imaginary part.<br><br>A complex number has the form z = x+iy. You're only interested in x and y to draw stuff. So you want to know the new x+iy that will be next.<br><br>Assuming i = -1<br>z = (x+iy) = x + 2xyi + i쾧 = x - y + i(2xy)<br><br>And now you add that "d" value. let d = k + il just like in my code<br>z + d = (x+2xyi+i쾧) + (k + il) = x - y + k + i(2xy + l)<br><br>So if you do z+d, x becomes  x - y + k and y becomes 2xy + l<br><br>The use of a temp variable (t#) avoid the loss of the original value of x too early, allowing to compute the new y<br><br>After this you got your new z = x + iy and you can now do it again ^_^ <br><br></td></tr></table><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
