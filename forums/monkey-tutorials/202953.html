<!DOCTYPE html><html lang="en" ><head ><title >Anyone for Pi?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Anyone for Pi?</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=513" >Monkey Tutorials</a>/<a href="#bottom" >Anyone for Pi?</a><br><br>
<a name="2030044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just got trans built (and building) on the Raspberry Pi, which is rather cool! I'm running a Debian distro (think there's only the one) which already has the dev tools installed...<br><br><img src="http://www.hi-toro.com/monkey/pi/build.jpg"><br><img src="http://www.hi-toro.com/monkey/pi/run.jpg"><br><br>Here's the trans C++ source with build instructions:<br><br><a href="http://www.hi-toro.com/monkey/pi/trans_linux.zip" target="_blank">http://www.hi-toro.com/monkey/pi/trans_linux.zip</a><br><br>Takes ages to build (probably 5-10 minutes), and building Monkey programs from the resulting trans_linux isn't quick either... and of course Chromium on the Pi runs HTML5 apps very slowly, but it's still cool to see.<br><br>Need GLFW target now, for accelerated OpenGL!<br><br>EDIT: The above archive contains the trans C++ code and mini-tutorial but I thought I should post the tutorial text here too:<br><br><div class="quote"> <br>On the Pi, shut down any 'large' programs, eg. web browser and open a terminal. In fact, I'd recommend making a note of the steps and doing this from the initial Pi login terminal before even running the desktop environment...<br><br>1) Extract the above archive and cd to the src/ folder;<br><br>2) Copy and paste this:<br><br>	g++ trans_linux.cpp -o trans_linux<br><br>3) Go make a cup of tea... and tidy the house... and maybe get some shopping done. Maybe mow the lawn?<br><br>4) Extract MonkeyPro somewhere on Pi.<br><br>5) Place the generated trans_linux binary from step 2 into MonkeyPro/bin folder.<br><br>6) Open up MonkeyPro/bin/config.linux.txt in a text editor and add this line:<br><br>	HTML_PLAYER="chromium_browser"<br><br>7) cd into a bananas/ example folder, eg.<br><br>	cd ~/Desktop/MonkeyPro58/bananas/hitoro/matrixrocks<br><br>8) Build! As we're in a bananas sub-folder, we need the full path to trans:<br><br>	~/Desktop/MonkeyPro58/bin/trans_linux -target=html5 matrixrocks.monkey<br><br>9) Run HTML5-capable web browser and open resulting MonkeyGame.html from build/ folder.<br><br>10) Marvel at the glacial gameplay! Or upload the html5 build somewhere and play from a PC...<br><br> <br></div> <br><br></td></tr></table><br>
<a name="2030043"></a>

<a name="2030008"></a>

<a name="2030006"></a>

<a name="2030007"></a>

<a name="2030009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gekkonier</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I had more time.... I had a RasPi<br>Thank you for sharing! <br><br></td></tr></table><br>
<a name="2030010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qcat</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice! <br><br>Mine is arriving next week. looking forward to trying this out. <br><br></td></tr></table><br>
<a name="2030014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matt</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @DruggedBunny can you not use the RasPi Virtual Machine to build this quicker? Then just run the final binaries on the thing itself. Not as nerdy as building on the RasPi itself, but nerdy in another way by using virtualisation... <br><br></td></tr></table><br>
<a name="2030019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Matt,<br><br>That's true (haven't tried the VM so far), though I did get trans to build much quicker by doing it from the initial terminal (ie. before running the desktop environment), maybe about 3-4 minutes in total, but once it's built you're done until the next release.<br><br>My next attempt at building a Monkey project for HTML5 also went much quicker, maybe 10-20 seconds, so it's not too bad.<br><br>Tried to get GLFW to work using fsoft's patch (thread seems to have vanished from here -- see Google cache link below) but got loads of 'missing declaration' errors!<br><br>http://webcache.googleusercontent.com/search?q=cache:nccuwk9JJ6IJ:www.monkeycoder.co.nz/Community/posts.php%3Ftopic%3D2260+Anyone+tried+to+compile+GLFW+for+Linux%3F&amp;cd=1&amp;hl=en&amp;ct=clnk&amp;gl=uk&amp;client=ubuntu <br><br></td></tr></table><br>
<a name="2030025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mardrag</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you installed all the necessary development packages, e.g. libgl1-mesa-dev ? <br><br></td></tr></table><br>
<a name="2030260"></a>

<a name="2030261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good point, though I'm not sure what exactly I need to install, so will have to look into it...<br><br>EDIT: A little out of my depth with this!<br><br><b>If anyone else can step in and explain what needs to be done to build the GLFW target for a generic PC Linux, that would really help!</b><br><br>The Pi only has hardware acceleration support for OpenGL ES 2.x, not general OpenGL, though I know we can specify this in the build options...<br><br>[CORRECTION: Pi supports accelerated OpenGL ES 1.1 and 2.0 at present. 'Full' OpenGL is not supported.]<br><br>(Also, I just added the tutorial contents of my zip archive to my first post as this shouldn't really have been posted as a 'tutorial' without it.) <br><br></td></tr></table><br>
<a name="2030046"></a>

<a name="2030045"></a>

<a name="2030036"></a>

<a name="2030050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, looking at the error log again, I think it simply can't find the GLFW/OpenAL includes, though they're part of the Monkey install. I suspect mardrag is right, so will try installing any missing dev packages later today.<br><br>In the meantime, this is what I'm getting -- sound right?<br><br><pre class=code>
Building...
In file included from main.cpp:2:
main.h:31:21: error: GL/glfw.h: No such file or directory
main.h:34:16: error: al.h: No such file or directory
main.h:35:17: error: alc.h: No such file or directory

... [tons of GLFW-related "not declared in this scope" errors]

TRANS FAILED: TRANS Failed to execute 'g++ -Wall -g  main.cpp -o linux/MonkeyGame  -I /usr/include/AL -I stb -lGL -lopenal -lglfw -DDebug', return code=256
</pre> <br><br></td></tr></table><br>
<a name="2030053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mardrag</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @DruggedBunny:<br>Do the following files exist on your system?<br>/usr/include/AL/al.h<br>/usr/include/AL/alc.h<br>/usr/include/GL/glfw.h<br><br>If not, try<br>apt-get install libopenal-dev libglfw-dev<br><br>Or create symlinks to the real positions of the files.<br>If the include-files can be found at the right paths then the "not declared in this scope" messages should disappear.<br><br>On my Ubuntu-Laptop I had the the same errors with  fsofts "GLFW for Linux"  target, but after installing some development packages they disappeared. Now everything runs flawlessly.<br><br>I think on Raspberry Pi's Debian distribution this should work the same way. I couldn't test it because I'm still on the waiting list for a Raspberry Pi. <br><br></td></tr></table><br>
<a name="2030262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, mardrag, that was the build problem. I also needed libgl1-mesa-dev and (I think) libglu1-mesa-dev. I can now build an executable and get only two (I believe) harmless warnings in the process. I also had to modify CONFIG.TXT to use OpenGL ES 2.0.<br><br>On running the exe, I had to turn the sound system on (type "modprobe snd-bcm2835" in a terminal) as that caused loads of errors -- sound is off by default in the Debian distro as the driver is in alpha state.<br><br>It now opens a window (or full-screen display, depending on settings), but then crashes stating that "Rendering operations can only be performed inside OnRender". This appears to be from graphics.monkey -&gt; DebugRenderDevice (), suggesting the render device isn't available.<br><br>I believe the 3D driver is available but that you have to access it a certain way, in that you can't directly use X to create a surface:<br><br><a href="http://benosteen.wordpress.com/2012/04/27/using-opengl-es-2-0-on-the-raspberry-pi-without-x-windows/" target="_blank">http://benosteen.wordpress.com/2012/04/27/using-opengl-es-2-0-on-the-raspberry-pi-without-x-windows/</a><br><br>I imagine that for us, GLFW would need to be modified to open the display according to the above post.<br><br>I don't think there's much needed to work around it, but I had a look through GLFW and I'm definitely not competent enough to figure it out!<br><br>Done for tonight... <br><br></td></tr></table><br>
<a name="2030070"></a>

<a name="2030069"></a>

<a name="2030264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, contrary to what I said previously, quite a lot is probably needed to get this going, and it'll take someone with far more talent than I possess!<br><br>Here are just a few bits and pieces I've gathered along the way -- information seems rather scarce on Pi and OpenGL ES so far -- that may help someone more competent to get started.<br><br>· The Pi does support hardware-accelerated OpenGL ES 1.1 -- I thought it only supported 2.0, but the official <a href="https://github.com/raspberrypi/firmware/tree/master/opt/vc/src/hello_pi" target="_blank">simple GL demos</a> provided use 1.1, run very well (ie. they're clearly accelerated) and <a href="http://www.broadcom.com/products/BCM2835" target="_blank">Broadcom</a> confirm this anyway.<br><br>· mojo's GLES20 support only applies to Android and 'raw' OpenGL, not mojo-GLFW. (GLFW doesn't yet implement it, though it seems to be planned/partial.) So... no point trying to build any /bananas and ignore my above comment regarding enabling GLES20!<br><br>· The <a href="https://github.com/raspberrypi/firmware/blob/master/opt/vc/src/hello_pi/hello_triangle/triangle.c" target="_blank">hello triangle</a> example is easy to follow, but I thought I'd highlight that in order to enable hardware acceleration you must include the Pi's "bcm_host.h" and call "bcm_host_init()" -- not that I've done this (apart from building and running the samples), but it seems others dabbling with GLES have run into this.<br><br>BTW My other more general top tip for anyone who starts playing with the Pi is to access its desktop via VNC on a main PC rather than directly, as freeing it up from rendering the standard 1080p display seems to speed things up (the desktop is still unaccelerated); note, though, that you will have to switch to the real display to run any accelerated 3D samples.<br><br>After installing tightvnc, you start it from a terminal with:<br><br><div class="quote"> <br>tightvncserver<br> <br></div><br><br>(The first time it runs it will prompt you to set some login details.)<br><br>... then run a VNC session with:<br><br><div class="quote"> <br>vncserver -geometry 1024x768 -depth 32<br> <br></div><br><br>Modify the geometry and depth values as you see fit, then, assuming the default settings, connect to x.x.x.x::5901 (note double colons) from your PC (eg. using <a href="http://www.tightvnc.com/" target="_blank">TightVNC</a>), where x.x.x.x is the Pi's IP address. (Get this on the Pi by running <i>ifconfig</i> from a terminal.)<br><br>Final observation: although the Pi feels slow right now, I think this is mostly due to having to render the 1080p desktop via the CPU; the OpenGLES samples show that it can run full-screen 3D smoothly, and the early port of Quake III runs quite well (until you add CPU-hogging bots -- me and my brother played it with me on PC and him on the Pi for a good hour or two).<br><br>Once the desktop uses the GPU to render I think it'll all feel much quicker.<br><br>(Anyone else got one on order, or a delivery date?) <br><br></td></tr></table><br>
<a name="2030263"></a>

<a name="2030259"></a>

<a name="2030258"></a>

<a name="2030285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BigAnd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I have one ordered and I can see it taking at least a month to come but I am looking forward to having a play with it. Nice tip on the VNC BTW. <br><br></td></tr></table><br>
<a name="2030296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it seems <b>GLFW does in fact work</b>, but it's unaccelerated and so very slow indeed. I think I may have just had the CPU/GPU memory split too low on the GPU side before, but I can build and run GLFW stuff now.<br><br>I did try to hack in the bcm_host_init() call, eventually getting it to build (adding various options/include paths to the G++ call), but it was still unaccelerated.<br><br>I believe it probably has to be set up as in the <a href="https://github.com/raspberrypi/firmware/blob/master/opt/vc/src/hello_pi/hello_triangle/triangle.c" target="_blank">init_ogl call here</a>, using EGL, which would mean hacking GLFW's window/context stuff, which is just too scary for me. <br><br></td></tr></table><br>
<a name="2030318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Confirmed tonight that you have to use the 'hello_triangle' bcm/egl/dispman setup code to get an accelerated display, and it can only be accelerated in full-screen mode. (Apparently once X is hardware-accelerated, windowed stuff will be more do-able.)<br><br>The bcm/egl/dispman code itself looks easy enough, but as far as I can see, someone smarter than me will have to hack the bcm/egl context/window stuff into GLFW's context/window creation in order for mojo to work (obviously as an unofficial modification, but that isn't a problem if you're just modifying a copy on the Pi itself). <br><br></td></tr></table><br>
<a name="2068161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi @DruggedBunny.<br>Any idea how this is coming along? I've had two RPi's for a while now and though one is used as an XBMC unit, the other one is on 24/7, runs Raspbian and is used remotely while at work for general SSH, IRC, etc, while at home I use the full desktop on it. I'd be dead keen to build some monkey games for the Pi (instead of resorting to using Python), and I'd prefer building on my Win7 PC of possible, then just copy across the build (or write a script to copy the folder across or something) to run the test fullscreen on the Pi.<br><br>Any ideas for a noob like me on how to set Monkey up and the files I need on the Pi to make this work?<br>I did recently (with lots of help from @dawlane) get Monkey running and compiling on my macbook running Ubuntu 13.04 if that helps. :) <br><br></td></tr></table><br>
<a name="2068160"></a>

<a name="2070487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, Sensei, I only saw this post while replying to <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=6147" target="_blank">this one</a>!<br><br>See that post for all I know -- as far as I can see, Monkey won't really be any use on the Pi until GLFW 3 is implemented, which is in Mark's roadmap. (I'm assuming GLFW still plans to support the Pi, or does already... I think GLFW 3 is actually out but haven't looked into it!)<br><br>The first post at the top of this thread is all I know about building 'trans' for the Pi, but it was over a year ago, so not sure if it'll still work with the latest Monkey.<br><br>If GLFW 3 support appears, and runs accelerated on the Pi, I'll be all over it! <br><br></td></tr></table><br>
<a name="2070527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah so true.  I'd be happy to cross compile and execute like you do frompc to ouya, just in this case to the Pi. <br><br></td></tr></table><br>
<a name="2083632"></a>

<a name="2083633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Soooo... Anyone tried the Pi in the last few months with the latest Monkey builds to see if anything has improved since these threads were started?<br>Too late tonight, but I have an idea for an app for the Pi which doesn't need hardware accellerated graphics, so even if it only gets 5fps or less, it should be fine; I'd like to test build using stdcpp but since it doesn't support mojo, what other solutions are there at this point in time? <br><br></td></tr></table><br>
<a name="2089937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pharmhaus</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, Monkey X is running now.<br><a href="http://www.monkey-x.com/Community/posts.php?topic=8666" target="_blank">Click here</a> <br><br></td></tr></table><br>
<a name="2089830"></a>

<a name="2089831"></a>

<a name="2089832"></a>

<a name="2098916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Raspberry pi 2 got quadcore with 1GB Ram and it should run well thought! <br><br></td></tr></table><br>
<a name="2099021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pharmhaus</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its alreayd on my wishlist :)<br>I will see if I can grab one soon. <br><br></td></tr></table><br>
<a name="2105101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys,<br><br>Man, this has been an insane rollercoaster of scouring the threads on this forum and trying everything I could google and think of and installing all the libraries and files people mentioned.<br>Last thing I tried was from this thread by Pharmhaus: <a href="http://www.monkey-x.com/Community/posts.php?topic=8666" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8666</a><br><br>Running MonkeyXPro82b.<br><br>Ted works fine. ./transcc_linux (as downloaded per above thread) works and reports:<br><pre class=code>
TRANS monkey compiler V1.71
TRANS Usage: transcc [-update] [-build] [-run] [-clean] [-config=...] [-target=...] [-cfgfile=...] [-modpath=...] &lt;main_monkey_source_file&gt;
Valid targets: C++_Tool Desktop_Game_(Glfw3) Desktop_Game_Glfw2 Html5_Game
Valid configs: debug release
</pre><br><br>When I try to GLFW2 build in Ted, I get this:<br><pre class=code>
"/home/pi/Downloads/MonkeyXPro82b/bin/transcc_linux" -target=Desktop_Game_Glfw2 -config=Debug -run "/home/pi/Downloads/MonkeyXPro82b/bananas/ferdi/snake/snake.monkey"
TRANS monkey compiler V1.71
Parsing...
Semanting...
Translating...
Building...
g++ -Wno-free-nonheap-object -Wno-deprecated-declarations -Wno-free-nonheap-object -Wno-unused-result -D_GLFW_HAS_GLXGETPROCADDRESS -D_GLFW_USE_LINUX_JOYSTICKS -pthread -I../glfw/include -I../glfw/include/GL -I../glfw/lib -I../glfw/lib/x11 -I../openal/include -I../stb  -c -o build/debug/main.o ../main.cpp
g++  -o Debug/MonkeyGame  build/debug/enable.o  build/debug/fullscreen.o  build/debug/glext.o  build/debug/image.o  build/debug/init.o  build/debug/input.o  build/debug/joystick.o  build/debug/stream.o  build/debug/tga.o  build/debug/thread.o  build/debug/time.o  build/debug/window.o  build/debug/x11_enable.o  build/debug/x11_fullscreen.o  build/debug/x11_glext.o  build/debug/x11_init.o  build/debug/x11_joystick.o  build/debug/x11_thread.o  build/debug/x11_time.o  build/debug/x11_window.o  build/debug/x11_keysym2unicode.o  build/debug/stb_image.o  build/debug/stb_vorbis.o  build/debug/main.o -lGL -lopenal -lX11 -lpthread
/usr/bin/ld: build/debug/x11_time.o: undefined reference to symbol 'clock_gettime@@...'
Makefile:43: recipe for target 'Debug/MonkeyGame' failed
//lib/arm-linux-gnueabihf/librt.so.1: error adding symbols: DSO missing from command line
TRANS FAILED: Error executing 'make CCOPTS="-Wno-free-nonheap-object" OUT="Debug/MonkeyGame"', return code=512
collect2: ld returned 1 exit status
make: *** [Debug/MonkeyGame] Error 1
Done.
</pre><br><br>I've looked into this DSO missing issue but I'm not having any luck figuring this one out!<br>Any ideas from you linux gurus? <br><br></td></tr></table><br>
<a name="2105098"></a>

<a name="2105108"></a>

<a name="2105109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Open the MakeFile in the templates and add -lrt to LDFLAGS. Some Linux distributions merged librt into glibc sometime ago. Note as you have tried to build you will also have to add this to the MakeFile in the build directory.<br><br>Edit: That should be LDLIBS not LDFLAGS. But it shouldn't matter. <br><br></td></tr></table><br>
<a name="2105102"></a>

<a name="2105110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://github.com/blitz-research/monkey/blob/develop/targets/glfw/template/gcc_linux/Makefile#L22" target="_blank">Never mind</a>, Dawlane answered first. <br><br></td></tr></table><br>
<a name="2105106"></a>

<a name="2105107"></a>

<a name="2105103"></a>

<a name="2105119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> It worked! Woot, thanks guys!<br>Running all of this on the Pi2 is considerably better than the Pi1 :)<br><br>Now let's see if my game works... and if I can get the thing to build fullscreen?<br><br>EDIT: Ok nevermind, I was being daft.<br><br>Just added:<br><pre class=code>
#GLFW_WINDOW_FULLSCREEN = True
</pre><br><br>to the bananas I tried to build and they go full screen fine. (but the framerate remains terrible) :(<br>Not sure this is going to be a doable solution due to the slow speed.. What a disappointment.<br><br>Saying that, perhaps I could still build small tools for the Pi..<br>Good news is: my game runs! The bad news is: I get 1FPS, in a window and 0.5FPS full screen :(<br><br>Still, it's something to see your creation running on the humble Pi :) <br><br></td></tr></table><br>
<a name="2105118"></a>

<a name="2105113"></a>

<a name="2105114"></a>

<a name="2105115"></a>

<a name="2105111"></a>

<a name="2105112"></a>

<a name="2105121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to make monkey-x utilise hardware openGL? If my understanding is correct, that must be the reason the framerate is slow. <br>When I try compile using GLFW3 I get:<br><pre class=code>
gcc  -Wno-free-nonheap-object -Wno-int-to-pointer-cast -Wno-free-nonheap-object -Wno-unused-result -I../glfw3/include -I../openal/include -I../stb -D_GLFW_HAS_GLXGETPROCADDRESS -pthread -c -o build/Debug/context.o ../glfw3/src/context.c
In file included from ../glfw3/src/internal.h:74:0,
                 from ../glfw3/src/context.c:28:
../glfw3/src/x11_platform.h:37:33: fatal error: X11/Xcursor/Xcursor.h: No such file or directory
compilation terminated.
Makefile:56: recipe for target 'build/Debug/context.o' failed
TRANS FAILED: Error executing 'make CCOPTS="-Wno-free-nonheap-object" OUT="Debug/MonkeyGame"', return code=512
make: *** [build/Debug/context.o] Error 1
</pre> <br><br></td></tr></table><br>
<a name="2105131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Pi only has OpenGL ES (not full-fat OpenGL), but my understanding was that GLFW3 would be adding this support... I got bored waiting and checking, so no idea if it works on Pi with acceleration yet! <br><br></td></tr></table><br>
<a name="2105139"></a>

<a name="2105140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does <a href="http://www.monkey-x.com/Community/posts.php?topic=9812" target="_blank">this example</a> (WebGL) run on the Pi using a linux browser? <br><br></td></tr></table><br>
<a name="2105149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> fatal error: X11/Xcursor/Xcursor.h: No such file or directory <br></div>You will need a few additional development libraries. The updated <a href="http://www.monkey-x.com/Community/posts.php?topic=7600&amp;page=first" target="_blank">HOW TO: Install Monkey on Linux (a rough guide)</a> will list the additional dependencies. As for GPU acceleration, I would check out the Raspberry PI forums. <br><br></td></tr></table><br>
<a name="2105256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Danillo: Thanks for those examples. I tried both the WebGL and Canvas versions in both Epiphany and Chromium on my Pi2, and the Canvas versions worked at about 5fps on Epiphany and nothing at all on Chromium :)<br><br>Well I guess that means using Monkey-X for ANY kind of game dev is out the window then hoho.<br>Game dev tools are still an option though! <br><br></td></tr></table><br>
<a name="2123904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >HokaMonstret</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>Has anyone tried monkey with the "experimental OpenGL" driver that was released in february? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
