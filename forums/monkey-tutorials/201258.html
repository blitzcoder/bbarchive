<!DOCTYPE html><html lang="en" ><head ><title >Matrix Tutorial</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Matrix Tutorial</h1><a href="forums.php" >Monkey Archive Forums</a>/<a href="topics.php?forum=513" >Monkey Tutorials</a>/<a href="#bottom" >Matrix Tutorial</a><br><br>
<a name="2014997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Terms used:<br><br><b>Matrix</b> - A bunch of numbers<br><b>Matrices</b> - plural of matrix<br><b>Stack</b> - A collection of objects where you can only add objects to the top and remove objects from the top.<br><b>DrawingMatrix</b>- The matrix that influences graphics drawing.<br><b>Translate</b> - move<br><b>Identity matrix</b> - a matrix that does not alter graphics drawing.<br><b>Pop</b> - remove an object from the top of a stack.<br><b>Push</b> - add an object to the top of a stack.<br><br>When drawing graphics with monkey, all drawing is influenced by the DrawingMatrix.<br>The DrawingMatrix consists of 6 numbers:<br>2 for skewing graphics<br>2 for scaling graphics<br>2 for translating graphics<br><br>The identity matrix looks like this (1,0,0,1,0,0)<br>It has a scale of 1,1 and the other numbers are zero, so when graphics are drawn to the screen they appear unchanged.<br><br><u><b>Scale</b></u><br>To draw a square at double its normal size you would do this in monkey:<br><pre class=code>
Scale(2,2)
DrawRect(0,0,50,50)
</pre><br>The Scale command alters the scale numbers in the drawing matrix.<br>Then a rectangle would be drawn at screen co-ordinates 0,0 and it would be 100 by 100 pixels in size because of the scale command.<br><br>These changes are cumulative so if you do the same thing twice it adds the numbers you type-in to the numbers in the DrawingMatrix.<br><br><u><b>Translate</b></u><br><br>doing this:<br><pre class=code>
Translate(20,20)
Translate(20,20)
</pre><br>would be the same as:<br><pre class=code>
Translate(40,40)
</pre><br><br>Translating is also affected by the scale, so drawing a rect at screen coordinates 20,30 and setting Scale to (2,2) would result in the rectangle appearing at 40,60.<br><br><br><br>So, to draw a Rectangle at screen coords:30,30<br><pre class=code>
SetMatrix(1,0,0,1,0,0) 'reset the matrix to identity
Translate(30,30)
DrawRect(0,0,10,10)
</pre><br><u><b>Rotate</b></u><br><b><br>To rotate an image from its center you have to make sure you have its handle set to the center,<br></b><br>e.g.<br><i><br>Local img:Image=LoadImage("img.png")<br>img.SetHandle(64,64)<br></i><br>If you want to rotate the graphics you are about to draw you have to use the Rotate command, this alters the skewing and scale of the matrix to <br>produce a rotation effect.<br><br>you supply a number to the Rotate command to tell monkey how many degrees you want to rotate the graphics by.<br><br>E.g. Rotate(90)<br><br>You have to translate the matrix to the position<br>you want the image to appear at before you use the Rotate command.<br><br>to draw an image at 100,100 rotated by 45 degrees:<br><pre class=code>
SetMatrix(1,0,0,1,0,0)'reset the matrix
Translate(100,100)
Rotate(45)
DrawImage(myimage,0,0)
</pre><br><br>There is also a stack of matrices that can be used.<br><br>The PushMatrix() command makes a copy of the DrawingMatrix and puts it onto the matrix stack.<br>The DrawingMatrix is unchanged though.<br>This is useful for when you want to save a matrix and use it later.<br><br>When you are ready to use it you use the command PopMatrix() then the DrawingMatrix is replaced by the matrix on top of the stack.<br>The matrix on top of the stack is also removed from the stack (and destroyed). <br><br></td></tr></table><br>
<a name="2014995"></a>

<a name="2013539"></a>

<a name="2013537"></a>

<a name="2011325"></a>

<a name="2011323"></a>

<a name="2011322"></a>

<a name="2011321"></a>

<a name="2011320"></a>

<a name="2011288"></a>

<a name="2011287"></a>

<a name="2011286"></a>

<a name="2011285"></a>

<a name="2011284"></a>

<a name="2011283"></a>

<a name="2011282"></a>

<a name="2011281"></a>

<a name="2011280"></a>

<a name="2011279"></a>

<a name="2011278"></a>

<a name="2011277"></a>

<a name="2011276"></a>

<a name="2011272"></a>

<a name="2011273"></a>

<a name="2011274"></a>

<a name="2011275"></a>

<a name="2011271"></a>

<a name="2011309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good stuff! <br><br></td></tr></table><br>
<a name="2011310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeGit</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good. Maybe should be added to the monkey docs?? <br><br></td></tr></table><br>
<a name="2011327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, good stuff, thanks.<br><br>Is it worth me adding my matrix tutorial here? It's currently embedded as a huge list of comments in <i>Monkey docs -&gt; Sample Programs -&gt; James Boyd -&gt; Matrix rocks!</i> and I imagine it'd be easier to read in this form.<br><br>(If so, same thread or start new thread?) <br><br></td></tr></table><br>
<a name="2011328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks I may do some more tutorials later <br><br></td></tr></table><br>
<a name="2012212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there much overhead on using loads of Translate/Rotate stuff? <br><br></td></tr></table><br>
<a name="2012217"></a>

<a name="2012218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont think so, because its just altering numbers in the matrix. <br><br></td></tr></table><br>
<a name="2012220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No. Each transformation is at most six multiplication operations and shifting a couple of arrays about.<br><br>For some reason there's a hard limit on the number of matrices you can push to the stack, but that's easily changed or removed by looking at graphics.monkey <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
