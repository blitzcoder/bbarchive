<!DOCTYPE html><html lang="en" ><head ><title >Earth</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Earth</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=92" >Graphic Chat</a>/<a href="#bottom" >Earth</a><br><br>
<a name="705374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I started tinkering around with a planet using Mustang's method (I think).  It looks 'ok'.  Still a long way to go.  Part of the problem is the sphere uv's aren't 100% right.  <br><br>A bump and specular map would really make this come alive.  And of course the atmosphere glow and alpha cloud layer too.<br><br><img src="http://img.photobucket.com/albums/v146/chromaz/earth.jpg"> <br><br></td></tr></table><br>
<a name="705401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking very good so far, particularly the light-to-dark gradient (from right to left); mine looked completely 'hard' and jagged across the edge faces - yours looks smooth and realistic.<br><br>Please say that you'll be issuing a code snippet? <br><br></td></tr></table><br>
<a name="705419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just out of interest did Mustang ever release his example?<br><br>Jason. <br><br></td></tr></table><br>
<a name="705459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey go to this post... Might be of interest...<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=63088" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=63088</a> <br><br></td></tr></table><br>
<a name="705495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Just out of interest did Mustang ever release his example?<br> <br></div><br><br>Nope. Got fed up with (some) peoples demands, comments and requests... but mainly because at that time I also did a trip to Thailand, sold our old house, bought bigger one, had to move and then some other things. Maybe my irritation / stress levels were bit lower than usual because of that, but the end result was what it was. <br><br>I still use it for my own purposes, but have also another project going on so it has been on a backburner for a while... summers are better used for something else than sitting insde four walls and coding :)<br><br>I still intend to release the latest (last) version of my planet someday, but I've learned not to promise anything or give out any release estimates - "when it's done" is what I should have used, that works always! I can give out info how it was done though. And sorry for images not showing up because I'm into process of getting another domain and transferng &amp; creating new stuff to my future portfolio website. <br><br></td></tr></table><br>
<a name="705518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take your time Mustang. =)  Any chance you can post a pic or email it to me so I can see what to shoot for?<br><br>What would be cool...is to have a night earth texture and a day earth texture and show the night texture on the left side and day on the right with vertex alpha blending them where they meet.  Then being able to rotate that alpha blending so the day side always faces the sun.  Then of course have the bump/specular thing going on too.<br><br>I'm no texturing virtuoso for sure.  But I'm trying. <br><br></td></tr></table><br>
<a name="705532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Any chance you can post a pic or email it to me so I can see what to shoot for?<br> <br></div><br><br>Tomorrow - check the other thread :)<br><br><div class="quote"> <br>What would be cool...is to have a night earth texture and a day earth texture and show the night texture on the left side and day on the right with vertex alpha blending them where they meet.<br> <br></div><br><br>Yup - I did that... not using VA, but the end result was the same. Hit a snag when I tried to optimize it but got later much simpler idea how NOT to show "cities-at-night" lights on the bright/day side of the planet. <br><br></td></tr></table><br>
<a name="705788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Posted! Check the other thread. <br><br></td></tr></table><br>
<a name="706288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This looks great - can I have it? <br><br></td></tr></table><br>
<a name="706483"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's my latest.  And I still have a long way to go.<br><br><img src="http://img.photobucket.com/albums/v146/chromaz/earth-1.jpg"> <br><br></td></tr></table><br>
<a name="706487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another shot.<br><img src="http://img.photobucket.com/albums/v146/chromaz/earth2.jpg"><br>Here's another one.<br><img src="http://img.photobucket.com/albums/v146/chromaz/earth3.jpg"> <br><br></td></tr></table><br>
<a name="706542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, That looks nice! REALLY nice. <br><br></td></tr></table><br>
<a name="706702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> lights from citys on the night side is a realy nice touch. very nice mate. <br><br>we should put together a community space trading game. <br><br>ill make some ships and space stations. <br><br>Pete <br><br></td></tr></table><br>
<a name="706741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woah!  How did you get the detail? <br><br></td></tr></table><br>
<a name="706754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really high resolution maps.  Probably too high hehe.  Those are 4k atm, but I'm gonna get them down to 2048 and try to not lose too much detail.  In the end it's gonna come down to the player choosing the detail settings.  But the option will be there to put your graphics card to work.<br><br>Finally got the setting right for the lights.  They are only visible on the dark side of the earth.<br><br><img src="http://img.photobucket.com/albums/v146/chromaz/earth3-1.jpg"> <br><br></td></tr></table><br>
<a name="706889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> How did you do the citylights? I had a lot of problems with my citylights the so I'm asking if you have invented better way to do them... :)<br><br>Also... am I seeing things or is it so that the light direction and (bump) shadow direction do not match in the lates pic? How's that? <br><br></td></tr></table><br>
<a name="706901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm pretty sure in the last pic I had taken the normal map and scaled it down to 2k and blurred it a little for experimental purposes.  That might be what caused that.  Or, it could be a side effect of the city lights map.<br><br>The normal map is on layer 0.  City lights map on layer 1.  And color map on layer 2.  I found that if you don't do them in exactly that order it won't hide the lights in the daylight.<br><br><pre class=code>
Global earth = CreateSphere(32)

nmap = LoadTexture("nmap.jpg") ; normal map
clmap = LoadTexture("clmap.jpg") ; city lights map
cmap = LoadTexture("cmap.jpg") ; color map

TextureBlend nmap,4
TextureBlend clmap,3
TextureBlend cmap,5

EntityTexture earth,nmap,0,0
EntityTexture earth,clmap,0,1
EntityTexture earth,cmap,0,2

sunlight = CreateLight()
PositionEntity sunlight,0,0,-2000
</pre> <br><br></td></tr></table><br>
<a name="706921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will you be sharing this, i.e. the maps? <br><br></td></tr></table><br>
<a name="706925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OrcSlayer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very interesting. Chroma I don't know what gameplay you decided on but wow, you really figured out how to make the planets look good!<br><br>Just curious, does this involve a DLL or is it pure blitz? <br><br></td></tr></table><br>
<a name="706926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Boiled, <br>Chroma paid money for the maps - but you can get the same maps for free from NASA.<br><br>Chroma, <br>how did you manage to lose the citylights from the dayside, I'm still not getting it... it looks like you are using plain old additive blending like I did - but then they should show up on the day side as well? At least they did on my first version. I had to manually check if tri is pointing towards the light (sun) and either a) delete it or b) paint it black (for additive) to get them behave.<br><br>Ummm... wait a minute, you have COLOR map on TOP of the citylights, using M2X... that must do it although why it does (the math) that is not clear to. I used "traditional" method of COLOR folowed by ADDITIVE, you have NORMAL, the ADDITIVE and then COLOR - pretty pervert order IMO but hey, if it works... have to try this myself! :)<br><br><div class="quote"> <br>I had taken the normal map and scaled it down to 2k and blurred it a little for experimental purposes. That might be what caused that. Or, it could be a side effect of the city lights map.<br> <br></div><br><br>Scaling &amp; blurring wouldn't alter the normal vectors enough to cause something like this... I'm betting that your layering order and blend modes cause it somehow more likely. And they seem to be 90 deg off, not 180... light seems to come from SW (south-west), but bum shadows seem to have ligh S-SE's? <br><br></td></tr></table><br>
<a name="706993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I paid $8 in haste.  I should have just researched a bit more and got them from NASA.  Lesson learned.<br><br>On the first go, I had the normal map on layer 0, color on layer 1, and city lights on layer 2.  The lights would appear in the day side.  I then swapped the color and city lights layers and it worked.  <br><br>I do have issues though.  Like you said, the normal seems to be off a bit and also, lighter areas of the color map are very very bright (white).  So bright that you can't see the details of the desert and they're saturated white.  I'm still trying to figure out how to tone down the brightness of the very light areas.  Any ideas?<br><br>EDIT:  Also, by putting the lights 'under' the color map, the lights on the green areas look a bit washed...like their being slightly filtered thru the green foilage. <br><br></td></tr></table><br>
<a name="707029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Orc:  It's all in straight B3D. <br><br>@ BSweets: Yep the maps are availabled from NASA for free.  You just have to mention them in the game credits if it's commercial.<br><br> I think this can be improved a lot more too.  The lights can be more vivid.  The light fadeout process could be timed better with the shadow.  The normal/bump isn't working correctly atm either.  Plus I haven't even started experimenting with the specular maps.<br><br>It would be phenomenal to be flying along in your ship, see Earth from space in high detail, then actually fly down and enter the Earth's atmosphere.  A system to handle this process is doable.  But of course one step at a time.  Current goal:  Make Earth look as realistic as possible from orbit. <br><br></td></tr></table><br>
<a name="707082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> A few questions:<br><br>I notice in order to get the normal map to work properly you have to set up separate red, green, and blue lights and rotate them all funky.  Is this normal?  Because every other object in the game will have those color overtones unless they're set to full bright.<br><br>It would be nice if you could assign light to affect certain objects only.<br><br>Something like:<br><pre class=code>
light = CreateLight()

cube = CreateCube()
EntityLight cube,light
</pre><br><br>In theory the light would effect everything unless the EntityLight command was used on it.  Then it would only affect the object it was assigned to.  This way you could assign lights used specifically to make normal maps work correctly and not affect other objects that dont' use normal maps.<br><br>EDIT:  I'll check out the LightMesh command when I get home.  Maybe it will do the trick. <br><br></td></tr></table><br>
<a name="707265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>you have to set up separate red, green, and blue lights and rotate them all funky. Is this normal?<br> <br></div><br><br>No! Problem with normal maps in Blitz is that it supports only world space normal maps and that means trouble lightingwise... tangent space would be so much easier for the user if implemented correwctly. Cubemap lighting together with normal maps work somewhat but having rotating planet and sun can be problematic. <br><br>Normal maps are NOT like your average bumpmaps; they work differently and are more prone to tech issues. I don't have any normal maps on my planet yet because I have not been able to solve the moving light and planet issue satifactorily yet.<br><br>Being able to include / exclude objects from / to lights would be handy, like using reverse lighting on citylights... but that would require a lot of base tech coding from Mark. <br><br></td></tr></table><br>
<a name="707364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah!  So I need to use bump maps instead.<br><br>Let me ask me make a few assumptions.  Lemme know if I'm off.<br><br>1.  Bump maps and normal maps do pretty much the same thing.  <br><br>Answer me this riddle:  What is the prefered method to blend a bump map on an object along with the color map?<br><br>EDIT:  I just found Tom's bump map solution and I'm gonna have a go at it when I get home. <br><br></td></tr></table><br>
<a name="707610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Ah! So I need to use bump maps instead.<br> <br></div><br><br>Ummm... maybe, but Blitz doesn't support them officially anyway. Bumps in Blitz is pretty hard to do, no matter what... but Tom's EMBM would be your best bet I think. <br><br>I wonder why BRL imlemented DOT3/normal stuff in the first place instead of EMBM - normal maps are so much harder to generate and use for the average Blitz coder compared to EMBM. And it does not help that BRL choose to support only world/object space normal maps (easier for them to code I guess) instead of tangent space ones. World/object space is pretty much useless format, we use only tangent at work. Tangent space is also the only format that works with changing geometry like boned characters. You can also mirror (save map space) tangent space geometry like left/right side of the character - impossible with world/object space version. <br><br><a href="http://www.matrox.com/mga/theguide/contents/embm.cfm" target="_blank">http://www.matrox.com/mga/theguide/contents/embm.cfm</a> <br><br></td></tr></table><br>
<a name="707612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> EMBM is implemented through Microsoft's DirectX® 6.0 API. To support EMBM, a game developer simply needs to code a few DirectX 6 render states and texture stages, in addition to creating a bump map for each texture that represents height or depth of each pixel of the texture. <br></div><br><br>I wish this could have been included in B3D natively.  Heck it's been available since DX6!<br><br>I've been messing about with Tom's EMBM but haven't been able to get regular bump mapping to work.  Also I get a lot of noise on the object that I am trying to bump map. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
