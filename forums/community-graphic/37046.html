<!DOCTYPE html><html lang="en" ><head ><title >Solar System Model Project</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Solar System Model Project</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=92" >Graphic Chat</a>/<a href="#bottom" >Solar System Model Project</a><br><br>
<a name="406373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> My 6 yr old daughter expressed interest in Astronomy and I was looking for a project to wet my interests in programming again. Here are a few screenshots so far.<br><br>One of Jupiter's Moons with Jupiter Backdrop<br><img src="http://public.w3site.us/Gifs/screenshot001.jpg"><br><br>Approaching Neptune with Orbit Rings turned off<br><img src="http://public.w3site.us/Gifs/screenshot002.jpg"><br><br>Neptune with Orbit rings on<br><img src="http://public.w3site.us/Gifs/screenshot003.jpg"><br><br>Earth and Moon<br><img src="http://public.w3site.us/Gifs/screenshot004.jpg"><br><br>Uranus and its moons<br><img src="http://public.w3site.us/Gifs/screenshot005.jpg"><br><br>Scimming across Uranus's moons toward its Moon Portia<br><img src="http://public.w3site.us/Gifs/screenshot006.jpg"><br><br>A shot with Orbit Menu open and listing all Jupiters Moons<br><img src="http://public.w3site.us/Gifs/screenshot009.jpg"> <br><br></td></tr></table><br>
<a name="406374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks pretty cool. <br><br></td></tr></table><br>
<a name="406405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ruz</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> nicely done <br><br></td></tr></table><br>
<a name="406535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really nice! How are you drawing the orbit rings? <br><br></td></tr></table><br>
<a name="406555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Real crappily, heh. I just created a sprite and blew it up. I absolutely hate it. I've actually got information for the ring systems of Saturn and Uranus, but I wasnt sure how to implement the data (I can also get the data for Jupiter if I decide to implement) yet. The name, distance from the planet, and width of the individual rings are on hand.<br><br>I'm not sure how to create a mesh on the fly and all my attempts at actually making one have turned out rather bad so far.<br><br>&lt;EDIT&gt;<br>Doh, you asked about the 'ORBIT' rings, I thought you meant planet rings for some odd reason.<br><br>I'm using a code snippette from the archives to create a torus. It works great if you are close, but there is a slight loss of accuracy when sizes go up. The dont line up with the planets/moons quite right and the further from their pivot point (the sun for the planets, the planet for the moons) the more odd graphic effects you get. They tend to flicker and vanish as you move away from them. I'd really like to find another way of doing it - like perhaps drawing them directly to the 2d portion of the screen if I can figure out a way. <br><br></td></tr></table><br>
<a name="406569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah very cool. I especially like the last one.  As far as the lines go, you might try using this - <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=839" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=839</a><br><br>Requires an extra render pass, but its not to bad. <br><br></td></tr></table><br>
<a name="406574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> [edit] lol. bot builder beat me to it! :P<br><br>Ah, I see. That method must be using alot of polys though, isn't it?<br><br><div class="quote"> They tend to flicker and vanish as you move away from them. <br></div><br>That's probably because the ring meshes are very 'thin' and become too thin to render properly when far away from the camera.<br><br><div class="quote">  I'd really like to find another way of doing it - like perhaps drawing them directly to the 2d portion of the screen if I can figure out a way. <br></div><br>I don't think drawing the rings with 2D is going to be a solution. The rings need to be z-buffered so that they're not visible when they go behind the planets, etc., yes?<br><br>One solution may be to use 3D lines. Below is a simple demo of this.<br><br>The up-side to this method:<br> - the rings (should) always render properly, no matter how far away they are (no flickering).<br> - uses minimal amount of polys.<br><br>Possible down-side:<br> - requires a 2-pass render: 1 in wireframe mode and 1 in normal, solid mode.<br><br>Anyway, let me know if it's of any use. :)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	Graphics3D 800,600,32
	SetBuffer BackBuffer()

	SeedRnd MilliSecs()
	fps_timer = CreateTimer(60)
	
	wiref_piv = CreatePivot()
	solid_piv = CreatePivot()
	
	cam = CreateCamera()
	PositionEntity cam,0,0,-5
	
	light = CreateLight()
	
	planet = CreateSphere(16,solid_piv)
	EntityColor planet,0,100,200
	
	For n=1 To 10
		ring = create_ring(100,ring,1.2+(n*Rnd(.3,.4)), 0,255,0)
	Next
	EntityParent ring,wiref_piv
	
	; Main loop
	While Not KeyHit(1)
		TurnEntity ring,1,1,1

		; Render wireframe objects.
		WireFrame 1
		PositionEntity wiref_piv,0,0,0,1
		PositionEntity solid_piv,0,0,10000,1
		CameraClsMode cam,1,1		
		RenderWorld

		; Render solid objects.
		WireFrame 0
		PositionEntity solid_piv,0,0,0,1
		PositionEntity wiref_piv,0,0,10000,1
		CameraClsMode cam,0,0		
		RenderWorld
		
		WaitTimer(fps_timer)
		Flip(1)
	Wend

	End


;
;
;
;
Function create_ring(segs%,mesh=0,rad#=1,r%=255,g%=255,b%=255)
	
	rstep# = 360.0/segs
	last_ang# = 0
	
	For i = 1 To segs
		new_ang# = last_ang + rstep
		mesh = create_3D_line(mesh, Cos(last_ang)*rad,0,Sin(last_ang)*rad, Cos(new_ang)*rad,0,Sin(new_ang)*rad, r,g,b)
		last_ang = new_ang
	Next
	
	Return mesh

End Function

;
; Adds a 3D line to the specified mesh.
; Note: 3D lines are only properly visible when rendered in wireframe mode!
; 
; Params:
; mesh     - Mesh to add 3D line to. If 0, a new mesh is created.
; x0,y0,z0 - Start point of line.
; x1,y2,z1 - End point of line.
; r,g,b    - Line colour.
;
; Returns:
; Handle of mesh the 3D line was added to.
;
Function create_3D_line(mesh,x0#,y0#,z0#,x1#,y1#,z1#,r%=255,g%=255,b%=255) 

	If mesh = 0 
		mesh = CreateMesh() 
		surf = CreateSurface(mesh) 
		EntityFX mesh,1+2+16
	Else 
		last_surf = CountSurfaces(mesh)
		surf = GetSurface(mesh,last_surf)
		If CountVertices(surf) &gt; 30000 Then surf = CreateSurface(mesh)
	End If 

	v0 = AddVertex(surf,x0,y0,z0) 
	v1 = AddVertex(surf,x1,y1,z1)  
	v2 = AddVertex(surf,x0,y0,z0)  
	AddTriangle surf,v0,v1,v2
	
	VertexColor surf,v0,r,g,b
	VertexColor surf,v1,r,g,b
	VertexColor surf,v2,r,g,b

	Return mesh 

End Function
</textarea> <br><br></td></tr></table><br>
<a name="406577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, great! Thanks for that snippette I'll give it a try and post the results.<br><br>The flickering isnt related to z-order so much as the distances involved. To solve the problem with the planets I actualy normalize my environment back to 0,0,0 once I move a set distance from that point. That works great for things that are close by, but the mesh orbit rings are so large that their center is still located way far away so I start getting inconsistencies. i can actually fix this by increasing the size ratio of my whole model, however then i suffer on the opposite end with things being too small (the moons) and i get a bad shaking effect from loss of accuracy in the float. Its definatly a tight rope heh. Alternate ways of doing things are always welcome :) <br><br></td></tr></table><br>
<a name="406588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didnt have much luck. Gotta understand I'm way new at all this so plugging in the code can be tricky at best. I dont even know where to start to describe my troubles lol. <br><br>I dont think the double render is a problem - I already do this in certain portions of my program where I'm zooming in on something. I dont want my skybox zooming as well so I render that, hide it, then render everthing else normally.<br><br>The poly count on the orbit rings is pretty high as you imagine, so I'd love to use this line method. I'm sure the problem I'm experiencing is my lack of experience in planting the code correctly into my program. <br><br></td></tr></table><br>
<a name="406611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lil update. I actually managed to get it plugged in somewhat. I'm getting the orbit lines and they look good. Still got that loss of floating point accuracty. Still a few other z-order issues to work out too as things flicker tween whole and meshed. <br><br></td></tr></table><br>
<a name="406624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll keep this method in mind. After tickin with it for a bit I discovered that I was taking a pretty good hit on FPS - however I think that may have only been because of my hack job to get it put in. <br><br>The second reason, and more important, is that I still suffered from the same graphics problems that the torus gave me. My environment is just too big for these things. To really lick this problem i think I'd need to rework my base code so as not to go with actual distances (even if mangled by ratios) and work out some trick system so that the observer THINKS they are traveling from gods end to gods end while actually all the objects and distances where kept within in more tollerable ranges.<br><br>Thanks for the help, advice, and code tho! <br><br></td></tr></table><br>
<a name="406772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Agamer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you going to release it, not the code but the compiled version as I would like to have a look at it! <br><br></td></tr></table><br>
<a name="406895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> heh, i really want to, but its like everytime I think I'm ready I see one more thing that just needs to be fixed. I just hate the fact that I'd be saying <br><br>"Hey, hows this look? Oh, ignore that orbit line flickering on and off, thats from loss of float accuracy - oh, and hey, ignore the suns corona vanishing everytime you autoorbit it, just a bug I havent found yet - and ignore that when the orbit lines DO show up the planets are slightly off, yet another floating point error - no, the button there really works, but sometimes you gotta click it a few times to get it going - yah, Sedna is so far out that sometimes the program drops to desktop when you go there ... but other than that things work great!"<br><br>On the other hand, I am going to have to release a run sooner or later just too see how viable this is going to work. My father in laws computer ran it at a whopping 2-4 fps (sometimes it topped out at 15 but not often). My wifes made 20 fps, but it had a nasty gfx strip down the middle (voodoo 2 problem?), and my friends computer just rolled over and died and refused to do anything without a reboot.<br><br>I run at a strong 75 fps, only losing points when hit a system with a lot of moons on their initial load, but after that things are back to 75. I'm adding in an options screen now to set some graphics levels, then I'll prolly do a release to see how well peoples stuff performs. <br><br></td></tr></table><br>
<a name="406943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >-Rick-</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I posted a file download in the showcase forum. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
