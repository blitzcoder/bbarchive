<!DOCTYPE html><html lang="en" ><head ><title >Spill Engine Point Light Shadow mapping</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Spill Engine Point Light Shadow mapping</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=92" >Graphic Chat</a>/<a href="#bottom" >Spill Engine Point Light Shadow mapping</a><br><br>
<a name="1093646"></a>

<a name="1093647"></a>

<a name="1093648"></a>

<a name="1093650"></a>

<a name="1093654"></a>

<a name="1093745"></a>

<a name="1093746"></a>

<a name="1093747"></a>

<a name="1093762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT :- If you have problems with the window opening then closing then please make sure you have the latest version of DirectX installed. Even if you have DX9/DX10 or DX11 this still applies. The official update will update all versions to the latest in one go. You won't 'go back' any versions. You can update from <a href="http://www.microsoft.com/download/en/details.aspx?displaylang=en&amp;id=8109" target="_blank"><b>HERE</b></a>. Any future demos will notify you of this issue.<br><br>And yet another one to show the lighting progress of the Spill Engine.<br>This one shows off point light shadow mapping. That is - lights that cast shadows in all directions :)<br><br>This little demo requires that your GFX card support cube map textures and also floating point textures, but above all it needs both ie cube map floating point textures. You need a shader V2.0 card to run the demo...<br><br><a href="http://www.datafilehost.com/download-53895594.html" target="_blank"><b>Get the demo here</b></a><br><br>If you wouldn't mind testing this out I'd be grateful, If you could report the FPS that you're getting.<br><br>Pressing 'F' will/should give you fullscreen and 'W' will switch to windowed. If the Resource Manager that I've spent weeks refining works without puking then that would be great too :D<br>Oh and 'Escape' exits.<br><br>Switching to full screen should ( in theory) give you a better framerate.<br> <br><img src="http://i1176.photobucket.com/albums/x339/automagician01/PointLightShadowMapping.jpg"><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1093658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm getting 880/990 FPS in windowed/full screen. Looks good! <br><br></td></tr></table><br>
<a name="1093665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> W-1115<br>F-1300<br><br>nice..keep it up man.. <br><br></td></tr></table><br>
<a name="1093690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers guys. There's also frustum culling working in that demo that's using sphere intersection testing/collision, as they are spheres lol. Hence the 'polys in cube map' figure. I also have box culling/collision methods which are slower at the moment, too slow for my liking, so i'll be optimising that area before long. Glad the resource management is working as it should :). Anyone who's worked with DirectX will understand :) It's at it's third revision now and now it's very easy to add any resource you want to, which makes it incredibly scalable. Anyway, There's lots more to come soon..... :) <br><br></td></tr></table><br>
<a name="1093691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Window appears, and immediately disappears.<br><br>Possibly my card does not support your demo,<br>in which case you should display a warning. <br><br></td></tr></table><br>
<a name="1093697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same here, using GT330M ...<br><br>Jim <br><br></td></tr></table><br>
<a name="1093703"></a>

<a name="1093707"></a>

<a name="1093708"></a>

<a name="1093749"></a>

<a name="1093750"></a>

<a name="1093764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya, <br>This engine is a PC only DirectX9 engine.<br>There are tons of checks for the texture format, cube texture format, shader version and lots more with warnings. I think the only thing I haven't a warning for is if you don't have the latest version of DirectX9 - 9.0c.<br><br>I know you may have Dx11 or whatever installed but try updating your DirectX version from the Microsoft website <a href="http://www.microsoft.com/download/en/details.aspx?displaylang=en&amp;id=8109" target="_blank"><b>HERE</b></a>.<br>I will put this check in the future. It seems to cause most issues as I'm using the very latest version of Dx9 which doesnt seem to come pre-installed on systems even with a later version.<br>If not then I'll look into why any warning windows aren't showing.<br><br>Please let me know. I'd appreciate the feedback.<br><br>EDIT: Checks are now in. <strike>Any future releases/demos will now notify the user appropriately.</strike><br><br>Thanks<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1093758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have the latest dx9.0c (4.09.0000.0904) - on <a href="http://www.notebookcheck.net/ATI-Mobility-Radeon-X1300.2166.0.html" target="_blank">this</a> card, which is Shader 3.0, dx9 compatible - and the demo just open and closes.<br><br>I'm using XP btw, if that's anything. <br><br></td></tr></table><br>
<a name="1093763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @John Blackledge<br>@JBR<br>@SLotman<br><br>Hiya,<br><br>It may just be that your card doesnt support the features in the demo, but I'd like to nail it down either way. It may just a file version inconsistency, in which updating the latest version will resolve that issue.<br><br>I've uploaded a revised version that checks if you have the correct DirectX version installed to the original link above. Would you mind to try it and let me know what errors you may get. Hopefully they will all be caught !! but you never know, I'm only human :D<br><br>@SLotman - Xp shouldn't be the problem. Where are you getting that version number from ? Is it your driver version or DirectX9 version? Are you using DxDiag to get that number? As much information as possible would be great. Thanks.<br>Also you need d3dx9_43.dll in your windows/system32 folder. If its not there, then you don't have the latest version and it'll just need to have you run the latest update from Microsoft ( in the link above ) and all should be good.<br><br>Thanks all<br>:D <br><br></td></tr></table><br>
<a name="1093784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >joncom2000</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works here 748fps fullscreen, Vista 32bit with radeon hd4890<br>For some reason windowed is only giving 440fps which seems a massive drop, much more of a drop than I would expect. <br><br></td></tr></table><br>
<a name="1093785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works here.<br><br>Windowed: around 250, max FPS 262<br>Fullscreen: around 270, max FPS 279<br><br>...on the deliciously obsolete combination of Windows XP (32-bit) with a GeForce Go 7600. <br><br></td></tr></table><br>
<a name="1093822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably me but ...<br><br>I've put the d3dx9_43.dll in the same folder as your app. (Your app did detect it was not there)<br><br>Now the window comes up white, and also a BlitzMax Applications window saying SRSEffect::LoadFromFile::ShadowMap.fx::FAILED<br><br>What do I need to do?<br>Jim <br><br></td></tr></table><br>
<a name="1093840"></a>

<a name="1093842"></a>

<a name="1093843"></a>

<a name="1093844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thankyou all for trying the demo, I'm pleased most are not having problems and it flips to and from fullscreen safely. All of your FPS figures make my VAIO laptop look bad :D Still it's nice to develop on.<br><br>@JBR<br>There are a couple of unusual things going on here...<br><br>1st : The app looks in all system paths for the d3dx9_43.dll before looking in the local directory. So I'm not sure how it can miss it in the windows/system32 directory on your machine unless your standard configuration is changed?<br>When you say you put in the local directory, did you copy it from the system32 folder?<br><br>2nd : The file is actually callled 'shadowmap.fx', all lower case, but in the code I indeed have written "ShadowMap.fx" for the filename. The error message you have is ONLY reported if the file cannot be found. I wonder if you change the name of the .fx file to ShadowMap.fx, note the two capital letters, can you let me know on that please. If the file then loads and gives you another error, then that shader file isn't compiling for your gfx card, in which case <a href="http://www.datafilehost.com/download-caa41ccc.html" target="_blank"><b>THIS ONE</b></a> may as its the very most basic level of shader compilation options available.<br><br>I need to incorporate automatic different levels of shader compilation into this engine. It's not difficult to do and an over sight of my side. That'll be ironed out in the next day or two.<br><br>Thanks.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1093847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok very odd I get 1119 fps and only a few less windowed. I have a old ish system.<br><br>Windows XP 2gb ram core 2 duo (2.53) nvidia 9600gt 1gb version. <br><br></td></tr></table><br>
<a name="1093848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John Blackledge</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also have dx9.0c.<br>Why do I need (d3dx9_43.dll) this particular dll?<br>Is there no regularity across Dx9 dlls? <br><br></td></tr></table><br>
<a name="1093855"></a>

<a name="1093858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>The whole of DirectX is backwards compatible, no matter which version you use.<br>For some reason I've noticed that newer machines, especially ones with Win7 pre-installed with Dx11, they don't have the latest versions of previous versions of DirectX, even though the older versions are installed, all the back to version 1. Its part of the DirectX programme for consistency and reliability to have the older versions installed.<br><br>One of the license agreements to use DirectX is to supply the latest Self-Installing update file with any apps that use DirectX. I'm sure you've seen the DirectX update working when you install a game for the first time that uses it.<br><br>So instead of making you download a 95MB file plus my little app, I simply tell everyone to make sure you do have the latest version and give a link to where to get it. ( My bad as I initially forgot to do that in this post! )<br><br>I choose to link directly into d3dx9_43.dll as it is the latest version of the d3dx9 dll's. It has many bug fixes and issues resolved over older versions, and also has more features than earlier versions. As Dx9 is very unlikely to be updated any further I use this latest file.<br>One of the most beneficial reasons is the handling of fonts in Directx9. It used have a bad reputation for its speed, in the earlier versions and i mean notoriously bad, but the most recent updates have fixed that issue and its quite well optimized to use as is. Most people only have up to d3dx9_32.dll, which has it problems.<br><br>Like most pc software, its usually best practice to use the latest version of any software you are using.<br><br>The latest update, in the link above, will install everything correctly for you, updating every version to its latest at the present time, the only inconvenience being to download and install it. There is a web-update version of the same thing available on the Microsoft site should you prefer that.<br><br>Hope that helps.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1094109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi col,<br><br>Rather than putting the dll in 'system' I just put it in the same directory as you app. It is finding it. So no probs there.<br><br>I tried changing to capitals, but same error.<br><br>Also tried your 'THIS ONE' and get same error.<br><br>It's a strange one as others have no probs.<br><br>Jim <br><br></td></tr></table><br>
<a name="1094117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi JBR.<br><br>It sounds like you've downloaded just the .dll, maybe from a 'Fix your PC' or a 'Get your .dll here' site?? <br><br>I'd seriously recommend against doing that, and I recommend that you delete the .dll file, then download the complete package from Microsoft ( from the link in the first post ) and install it properly.<br><br>The latest update package will update Dx9 , Dx10 and Dx11 all in one go.<br><br>If you could give that a go and let me know, Cheers :D <br><br></td></tr></table><br>
<a name="1094150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I run the directx_Jun2010_redist app. and try to extract to C:\Windows\System32 then I get an error saying That folder is invalid. Please make sure the folder exists and is writeable.<br><br>It does exist ... so how do I make it writeable?<br><br>Jim <br><br></td></tr></table><br>
<a name="1094154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi JBR,<br><br>Save to a 'New Folder' on your desktop so its easy to find, then ONLY run 'DXSETUP.exe'<br><br>That should start the installer, then do the usual with accepting licence agreements etc to allow it to install. <br><br></td></tr></table><br>
<a name="1094236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi col,<br><br>It's working fine now. Thanks.<br><br>Gets approx. 700fps on my laptop with the GT330M.<br><br>All the best<br>Jim <br><br></td></tr></table><br>
<a name="1094744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cr</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> FPS MinApprox: 1018<br>FPS MaxApprox: 1131 <br><br>Nvidia: Geforce GT 240 <br><br></td></tr></table><br>
<a name="1094797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >.rIKmAN.</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> FPS: 897 - 909<br>MaxFPS: 937 (never changed)<br><br>Q6850, 4gb RAM, Win7 64bit, 512mb 9600GT <br><br></td></tr></table><br>
<a name="1094820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just for record I'm getting 176-178 Windowed and 190 - 192 Fullscreen.<br><br>Sony VAIO VGN-FW31M<br><br>Thanks the update everyone.<br><br>@JBR<br>Thanks for letting me know, I'm glad it's working properly now for you.<br><br>Has anyone had any 'computer says no' messages ? If so what are your system specs? as I'm also working on a different rendering path for lower spec machines. <br><br></td></tr></table><br>
<a name="1094878"></a>

<a name="1094880"></a>

<a name="1094881"></a>

<a name="1094882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Worked fine here. <br><br>Dell Vostro 1000 <br>CPU: Athlon X2<br>GPU: ATI Radeon Xpress 1150<br><br>Windowed: 40 ~ 41 FPS<br>FullScreen: 43 ~ 44 FPS<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1094888"></a>

<a name="1094889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Elliott</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> 96 FPS on average.  Very nice.<br>105 FPS in fullscreen.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
