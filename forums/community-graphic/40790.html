<!DOCTYPE html><html lang="en" ><head ><title >Normal mapped texture thingy</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Normal mapped texture thingy</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=92" >Graphic Chat</a>/<a href="#bottom" >Normal mapped texture thingy</a><br><br>
<a name="458744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Normal mapping is fun.<br><br><img src="http://s87776868.onlinehome.us/stuff/nmapping_bored.jpg"><br><br>No, I won't give you the texture ¬_¬ <br><br></td></tr></table><br>
<a name="458770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks pretty.<br><br>Noel, I apprecaite you're a busy guy, however, any chance of knocking up a few tiles for alien breed? They're only 32 x 32 tiles so they should only take you around 14 seconds per tile :) Of course you can make up some groups of tiles to make bigger ones. I'll just be nice to have some new tiles in there. Apologies for the thread hijack :/ <br><br></td></tr></table><br>
<a name="458772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll take a look at'em later, gonna go devour some turkey souls. <br><br></td></tr></table><br>
<a name="458837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://s87776868.onlinehome.us/stuff/moreoldwork.jpg"><br><br>This shot wasn't taken in Blitz, and if anyone happens to notice, yes, this is one of the textures I did for my Tenebrae texture pack (no longer online). <br><br></td></tr></table><br>
<a name="458840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ICECAP</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have any source for that last picture.  I am really interested in the effects that you can pull off with normal mapping but would have absolutly no way of going about doing it. :)<br><br>Bloody nice samples by the way. <br><br></td></tr></table><br>
<a name="458846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">;; decipher this, &lt;censored&gt;
;; this code is public domain.  so is the crappy media.

Graphics3D 800,600,32,2
SetBuffer(BackBuffer())


c  = CreateCamera()
s = CreateCylinder(32,0)
ScaleMesh s,2,1,2
UpdateNormals s

SetBuffer(BackBuffer())

CameraClsMode c,1,1

EntityBlend(s,3)
EntityFX s,1+2

surf = GetSurface(s,1)

SpecularMap = LoadTexture("spec.png")
BumpMap = LoadTexture("bump.png")
DiffuseMap = LoadTexture("diffuse.png")

TextureBlend SpecularMap,5
TextureBlend BumpMap,4
TextureBlend DiffuseMap,2

ScaleTexture specularmap,.125,1
ScaleTexture DiffuseMap,.125,1
ScaleTexture BumpMap,.125,1

SpecBrush = CreateBrush()
BrushTexture SpecBrush,SpecularMap,0,0
BumpBrush = CreateBrush()
BrushTexture BumpBrush,BumpMap,0,0
BrushTexture BumpBrush,DiffuseMap,0,1

BrushBlend SpecBrush,3
BrushBlend BumpBrush,0

BrushFX SpecBrush,1+2
BrushFX BumpBrush,1+2

p = CreatePivot()

lrange# = 8

PositionEntity c,2,2,2
PointEntity c,s

CameraRange c,.001,500
MoveMouse 0,0
lrange = 8

specularity# = 1.5

l.Light = New Light

CameraClsColor c,50,50,50

PointEntity c,s

Repeat
;	TurnEntity s,.1,.2,.3

	If KeyHit(57)
		lm = Not lm
		Select lm
			Case 0
				L\X# = Sin(MilliSecs()*.05)*12
				L\Y# = Cos(MilliSecs()*.05)*12
				L\Z# = 0
				lrange = 8
			Case 1
				l\x = EntityX(c,1)
				l\y = EntityY(c,1)
				l\z = EntityZ(c,1)
				lrange = 2
		End Select
	EndIf
	
	If lm = 1 Then
		l\x = EntityX(c,1)
		l\y = EntityY(c,1)
		l\z = EntityZ(c,1)
	Else
		L\X# = 8+Sin(MilliSecs()*.05)*9
		L\Y# = 8+Sin(MilliSecs()*.05)*9
		L\Z# = 8
	EndIf
	
	lrange = lrange + MouseZSpeed()*.05
	If lrange &lt; .0001 Then lrange = 0.0001
	
	
	TurnEntity c,MouseYSpeed(),-MouseXSpeed(),0
	RotateEntity c,EntityPitch(c),EntityYaw(c),0
	MoveEntity c,(KeyDown(32)-KeyDown(30))*.1,0,(KeyDown(17)-KeyDown(31))*.1
	
	EntityBlend s,3
	
	MoveMouse 400,300
	
	t = MilliSecs()
	CameraClsMode c,1,1
	
	PaintEntity s,BumpBrush
	EntityBlend s,0
	
	For n = 1 To CountSurfaces(s)
		surf = GetSurface(s,n)
		For v = 0 To CountVertices(surf)-1
			TFormPoint VertexX(surf,v),VertexY(surf,v),VertexZ(surf,v),s,0
			x# = TFormedX() - l\x
			y# = TFormedY() - l\y
			z# = TFormedZ() - l\z
			
			TFormNormal VertexNX(surf,v),VertexNY(surf,v),VertexNZ(surf,v),s,0
			
			dist# = Sqr(x*x+y*y+z*z)
			Intensity# = 1.0 - (dist/(lrange*8))
			If intensity &lt; 0 Then intensity = 0
			
			PositionEntity p,TFormedX(),TFormedY(),TFormedZ(),1
			AlignToVector p,TFormedX(),TFormedY(),TFormedZ(),3,1
			RotateEntity p,EntityPitch(p,1),EntityYaw(p,1),0,1
			
			TFormNormal x,y,z,0,p
			
			VertexColor surf,v,(1.0-TFormedX())*127,(1.0-TFormedY())*127,((1.0-TFormedZ())*127)*Intensity
		Next
	Next
	RenderWorld
	
	CameraClsMode c,0,0
	
	PaintEntity s,specbrush
	
	For n = 1 To CountSurfaces(s)
		surf = GetSurface(s,n)
		For v = 0 To CountVertices(surf)-1
			VertexColor surf,v,0,0,0
		Next
	Next
	TFormPoint l\x,l\y,l\z,0,s
	LightMesh(s,Specularity*255,Specularity*255,Specularity*255,lrange*.5*Intensity,TFormedX(),TFormedY(),TFormedZ())
	
	RenderWorld
	t = MilliSecs()-t
	
	Text 0,0,t
	Flip
Until KeyHit(1)

Type Light
	Field X#
	Field Y#
	Field Z#
	Field R#
	Field G#
	Field B#
End Type

Function RenderNormals(Mesh,BumpBrush,SpecBrush)
End Function

Function GradientRect(X,Y,Width,Height,Buffer,Direction)
	LockBuffer(Buffer)
	d# = Sqr(Width*Width+Height*Height)
	For ix = X To X + Width
		For iy = Y To Y + Width
			Select Direction
				Case 1
					c# = (Float(ix-X)/Width)*255
				Case 2
					c# = (1.0 - Float(ix-X)/Width)*255
				Case 3
					c# = (Float(iy-Y)/Height)*255
				Case 4
					c# = (1.0 - Float(iy-Y)/Height)*255
				Case 5
					k# = Sqr((iy-Y-Height/2)^2 + (ix-X-Width/2)^2)/d
					If k &gt;= 1 Then Stop
					c# = (1.0-k)*255
			End Select
			
			If c &gt; 255 : c = 255 : Stop : EndIf
			If c &lt; 0 :Stop : c = 0 :  : EndIf
			
			Pixel = 255 Shl 24 Or c Shl 16 Or c Shl 8 Or c
			WritePixelFast ix,iy,Pixel,Buffer
		Next
	Next
	UnlockBuffer(Buffer)
End Function</textarea><br><br>Was going to make it into some little automated system, but I never got around to it.  So it's just a little framework for testing things in. <br><br></td></tr></table><br>
<a name="458894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This one is in Blitz3D.<br><br>This is an old model of mine that I've tested in various engines and editors.  Orb, Doom 3, etc. rendered it fine, popped it into halo's framework and it turned into a mass of ugly.  I've fixed that by writing my own code that didn't mess it up entirely.<br><br>This is the result.. (normals around the ear are ugly 'cause of a lack of polygons to smooth the normals)<br><img src="http://s87776868.onlinehome.us/headnm.jpg"><br><br>Oh, and there are specular reflections, but the flesh has none at the moment. <br><br></td></tr></table><br>
<a name="459299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool effect. whenever I tried Normalmapping or Bumpmapping, it completely ignored the lights direction :/ But this looks good. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
