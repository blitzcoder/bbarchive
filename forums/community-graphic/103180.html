<!DOCTYPE html><html lang="en" ><head ><title >3d wind (pardon)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3d wind (pardon)</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=92" >Graphic Chat</a>/<a href="#bottom" >3d wind (pardon)</a><br><br>
<a name="1240089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Further to the tree generation, Wind has now been added:<br>Here are a couple of quick gifs showing the live results direct from the 3d view:<br>First a tablecloth<br><img src="https://vjointeractive.files.wordpress.com/2014/07/cloth.gif"><br><br>and now a primitive flag<br><img src="https://vjointeractive.files.wordpress.com/2014/07/flag.gif"> <br><br></td></tr></table><br>
<a name="1240091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rick Nasher</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wauw. Pretty neat. <br><br></td></tr></table><br>
<a name="1240150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> O. O Nice  effect! <br>It's precalculated I suppose! <br><br></td></tr></table><br>
<a name="1240152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, cool, the flag is walking! :-) <br><br></td></tr></table><br>
<a name="1240153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, it's realtime<br><br>each model has the following:<br>bend - how much the wind will affect it 0=none, 1=lots, 10=loads<br>wind jitter - how much of a random effect is applied (the waviness)<br>wind jitter speed - how fast is the random effect<br><br>for each vertex, you then need to set how much the wind will affect it. This is actually quite simple as it is all handled from the UI with soft selections which you can add and minus, there is also a power function so you can get very small variations<br><br><br>The wind is calculated per model as follows:<br>wind has a y direction (y rotation) and an up direction (x rotation) plus a wind power. <br>The wind vector is calculated and that is applied to the model<br><br>It's very dirty, but very quick. I'll see about doing a demo with wind moving and not the camera <br><br></td></tr></table><br>
<a name="1240156"></a>

<a name="1240157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The flag-model: when you rotate it to the "right side" - it looks like if the handle gets "white shaded" triangles... mixed with odd shading.<br><br>Make sure you save each "effect" separately, so you could switch on/off effects during runtime "wind/no wind".<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1240159"></a>

<a name="1240160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep, the handle does have white triangles - it's not a bug or a shading error. it is actually the shader I was using, this was really just a quick demo of the wind :)<br><br>Here's a quick shot showing different wind strengths.<br>This time I've actually got a material with alpha in it (no bitmaps were harmed in the process)<br><img src="https://vjointeractive.files.wordpress.com/2014/07/flag2.gif"><br><br><div class="quote"> so you could switch on/off effects during runtime "wind/no wind <br></div><br>Wind itself is per model, per frame, so it can be moved, changed power, change direction, on/off, etc as you wish.<br><br>My thoughts are to have some form of vertex cloud for the wind that gets updated once per frame, propagating the wind <br><br></td></tr></table><br>
<a name="1240190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot2005</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This wind would be good for tree, grass and so on :) <br><br></td></tr></table><br>
<a name="1240191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's something not right about that last one - looks like the vertices are locked on all but one axis?  I can't tell if the others have this problem too as they don't show it from a suitable angle. <br><br></td></tr></table><br>
<a name="1240194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I see what GfK meant: The texture is stretching, so it is really only moving along one axis instead of keeping the distance between the other connectec vertices constant (stiff clothing).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1240195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The texture is stretching, so it is really only moving along one axis instead of keeping the distance between the other connectec vertices constant <br></div>Yeah, that! <br><br></td></tr></table><br>
<a name="1240200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep, the deform is locked to the direction of the wind - the block with the W inside. You can see the wind direction (in that example) is from back to front, so there is no side-to-side movement.<br><br>But...<br>Wind can be at any any not just 90degrees.<br><br>My thoughts are that wind should be in constant angular motion, which would prevent exactly this situation.<br><br>I can certainly add wind wobble (side to side movement) though <br><br></td></tr></table><br>
<a name="1240209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> you do not need "wobble".<br><br>if you take a sheet of paper ... and simulate wind by blowing towards it, it does not stretch - it even does not move to the left or right (most of the times - depends on the stiffness and of course if your blowing angle is a normal vector of the papers plane).<br><br>But... the paper "bends" - so if you mark the middle of the paper, the distance ON the paper from "middle" to "wind adjusted corner" will still be the same (NO stretching).<br><br>So in your case: the flag is planar on XY, the wind comes along Z axis. So the vertices of the flag will not only move along "z", they will eg. move along "y" to compensate stretching. Y in that case is the axis affected by gravity. <br>Why? because forces always could accumulate:<br>- wind force<br>- gravity force<br><br>vertex is by default going to "ground" (if gravity is positive), the wind is trying to move the vertex away from this, so windForce-vector + gravity-force-vector will get added to each other forming a resulting force-vector. Use this vector to move the individual vertex.<br><br>Ah ... and of course you have some kind of "chain" between vertices so a vertex wont "fall to the ground":<br><br>pinned vertex: not affected by gravity, vertices not pinned calculate their forces then by distance to the pinned vertex (or better: direct neighbors which have their force already calculated). Influence of the "pinned vertex" is configured using a "stiffness factor" (leather: vertices far away still do not bend much, while with silk a vertice with a distance of 1cm will already have get a big influence of the wind/forces).<br><br><br>you could surely simplify the whole process but you might run into trouble in the future ..with behaviour being "odd" or "unwanted". <br>Simplify: Just limit the strength of the wind so stretching is not visible :D. Do some kind of "constant vertex distance"-check.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1240246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep, fully understand that. But... What you are talking about is a physics modeller, soft body deformation, springs, etc<br><br>This is very quick, and (as stated) very dirty. If you crank up the values, you get a complete mess - lol <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
