<!DOCTYPE html><html lang="en" ><head ><title >MinGW</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MinGW</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >MinGW</a><br><br>
<a name="2000876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's an example of the clock demo built on MinGW : <b><a href="http://brucey.net/programming/monkey/misc/demos/glfw_clock_mingw.rar" target="_blank">glfw_clock_mingw.rar</a></b> (90k)<br><br>No change to the generated code.<br>Change to trans.monkey to support the revised target, and the addition of libopenal32.a (which gcc can link to).<br><br>I didn't think there was any valid reason it couldn't work... so there you go.<br><br>Anyway... nothing to see here.<br><br>Move along, move along. <br><br></td></tr></table><br>
<a name="2000893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks man, very much appreciated. <br><br></td></tr></table><br>
<a name="2000899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's all the bits you need, packaged up in this rar : <b><a href="http://brucey.net/programming/monkey/misc/stuff/monkey_glfw_mingw30.rar" target="_blank">monkey_glfw_mingw30.rar</a></b><br><br>This is based on release 30 of Monkey.<br><br>It includes :<br><br>in <b>bin</b><br>new_trans_winnt.exe - A new binary with the new code.<br>trans.monkey : modified source.<br>trans.monkey.mingw.patch : a diff file showing the actual changes (there aren't many there!)<br><br>in <b>glfw</b><br>mingw - a folder with some useful things.<br><br>Add the mingw folder to your monkey/targets/glfw folder.<br>Drop the trans exe in your monkey/bin folder and rename appropriately. (best to backup first!)<br><br>Finally, in your <b>config.winnt.txt</b>, add this line :<br><pre class=code>
GLFW_SDK=GCC
</pre><br><br>That will force it to use MinGW instead of Visual Studio.<br><br>All going well, it should *just* work... <br><br></td></tr></table><br>
<a name="2000907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, does it compile any faster?  I'd like to know before I do the change if possible. <br><br></td></tr></table><br>
<a name="2000908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've no idea... I don't intend installing VS Express 2010 to find out!<br><br>I certainly know that it can compile faster than I have made it - because it is compiling all the bits each time.<br>A little more logic and it would only need to recompile the main.cpp file each time rather than the glfw parts (which are compiled into a static lib).<br><br>Depends how slow, slow is, I suppose :-) <br><br></td></tr></table><br>
<a name="2000931"></a>

<a name="2000932"></a>

<a name="2000933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It doesn't work for me, maybe because I have VS2010 installed, so it behaves differently. My first error is:<br><div class="quote"> FOPEN 'wb' for CopyFile(H:/prg/MonkeyPro/modules/mojo/data/mojo_font.png,H:/prg/MonkeyPro/bananas/Richard_Betson/mirror_fx_transform/mirror_fx_transform.build/glfw/mingw/Release/data/mojo_font.png) failed <br></div><br><br>Actually I would prefer if the GLFW VS2010 target would still work, so you would have all the old targets and just a new target in addition: GLFW MinGW. I tried earlier to get glfw including with STDCPP, but didn't get that to work quite yet either. But I think I will keep trying to get a new target to work.<br><br>EDIT: Step 1 is a success! I copied the GLFW target and called it GLFWMINGW target. I have now the old targets unchanged, and only added a new target. It successfully compiles now the examples, but still with VS2010. Now I just need to add Brucey's MinGW compiling lines into it. I will make it so that is uses GNU C++ also in MacOS, since I think GNU C++ exists also on MacOS, at least with a little compiling from source. <br><br></td></tr></table><br>
<a name="2000924"></a>

<a name="2000925"></a>

<a name="2000926"></a>

<a name="2000936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it takes about 30 secs to compile a GLFW for me right now.  And I have a top of the line quadcore 3.4Ghz pc. <br><br></td></tr></table><br>
<a name="2000935"></a>

<a name="2000938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, it's 30 sec with VS2010 for me too. I can't wait to get MinGW working, because I think it compiles in 5 sec, plus the exe is faster, I will make a test for that too. <br><br></td></tr></table><br>
<a name="2000940"></a>

<a name="2000941"></a>

<a name="2000942"></a>

<a name="2000943"></a>

<a name="2000944"></a>

<a name="2000949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Step 2 is a success! I can now compile GLFW with MinGW on Windows and GLFW with GNU C++ on MacOS! Now on to Step 3: cleaning up, optimizing (I think I will make a makefile instead of Brucey's build.txt), and writing an article how to add a new target on monkeytools.net. As I guessed: compile time went down from 30 secs to 6 secs, and with a makefile it will be 5 secs. <br><br></td></tr></table><br>
<a name="2000945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yay Brucey!<br>Awesome work! <br><br></td></tr></table><br>
<a name="2000952"></a>

<a name="2000953"></a>

<a name="2000954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed I need to make 2 bug fixes in mojo.glfw.cpp for MinGW to fix compiler warnings. I know I can't distribute mojo.glfw.cpp because the README.TXT file says so, but I think it's OK for Mark if I say how to fix 2 lines, like this:<br>In line 480: add an f before the abs commands.<br>In line 869: add an int( ) around the expression.<br>I think this doesn't expose too much of the source code, and should be legal. <br><br></td></tr></table><br>
<a name="2000968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BigAnd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be cool if it was added as another build option BUT I think Mark has enough on his plate for now. <br><br></td></tr></table><br>
<a name="2001060"></a>

<a name="2001078"></a>

<a name="2001079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> But I got it already working as a new build option. I'm writing a tutorial right now how to do it. No need for Mark here, I hope Mark focusses on the Android sound bug fix and Linux Monkey IDE :)<br><br>EDIT: The tutorial is ready, with this you can add your own GLFWMINGW target to Monkey: <a href="http://www.monkeytools.net/articles/Adding_a_GLFWMINGW_target" target="_blank">http://www.monkeytools.net/articles/Adding_a_GLFWMINGW_target</a> <br><br></td></tr></table><br>
<a name="2000969"></a>

<a name="2000970"></a>

<a name="2000972"></a>

<a name="2000976"></a>

<a name="2000979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>You guys are welcome to use this of course, but please note that it will *not* be officially supported! That goes for both the new mingw target and the forked version of trans.<br><br>&gt; I know I can't distribute mojo.glfw.cpp because the README.TXT file says so, but I think it's OK for Mark if I say how to fix 2 lines, like this:<br><br>Yeah, that's fine. <br><br></td></tr></table><br>
<a name="2000988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I understand that it's not officially supported, since you must have had your reasons why you used VS2010 instead of MinGW. But I think it will work quite fine, even if some minor bug fixes need to be done in mojo.glfw.cpp from time to time to get rid of warnings, and to make it ANSI C++ compliant. I'm happy to hear that verbal patch instructions are OK with you, and I try to avoid any exposal of the source code also by just giving out minimal delta instructions :) <br><br></td></tr></table><br>
<a name="2000982"></a>

<a name="2000983"></a>

<a name="2000984"></a>

<a name="2000987"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Choice is good, I think :-) <br><br></td></tr></table><br>
<a name="2000989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; Choice is good, I think :-) <br><br>So is simplicity... <br><br></td></tr></table><br>
<a name="2000990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very true, but I didn't really want to install *another* Visual Studio and all that .net stuff.<br>Nice to be able to use the tools I already have installed...<br><br>Anyway, apologies for interfering, as I do... <br><br></td></tr></table><br>
<a name="2000992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apologies not accepted, your help was invaluable! :)<br>I think it is written into Monkey that unsupported features will arise a lot in the future, because the bin directory is public domain.<br>And that's good! I don't want another BlitzMax with no feature updates for 10 years. Monkey is all up to the developers to make it better, that's a very valuable aspect of it. <br><br></td></tr></table><br>
<a name="2000995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; Very true, but I didn't really want to install *another* Visual Studio and all that .net stuff.<br><br>Why not?<br><br>IMO, installing VS2010 (about a 10 minute operation) is FAR preferable to having to maintain multiple versions of trans and a new target FOR EVER.<br><br>&gt; Anyway, apologies for interfering, as I do... <br><br>Hey, no problem, Monkey is there to be played with!<br><br>Just trying to minimize my own workload really - this is a pretty ambitious project for me and it's only gonna work if I KISS. <br><br></td></tr></table><br>
<a name="2000997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was thinking that trans.monkey could have some #if-&gt;#include definitions for additional targets, so that the original trans.monkey could be kept unchanged at all times, and if some config variable exists, it would cause it to include additional target code. <br><br></td></tr></table><br>
<a name="2001066"></a>

<a name="2001067"></a>

<a name="2001068"></a>

<a name="2001070"></a>

<a name="2001074"></a>

<a name="2001075"></a>

<a name="2001076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made a little speedtest program, and GLFWMINGW indeed makes faster code than GLFW (VS2010). With GLFW it took 21.306s to run, and with MinGW it took 21.243s. Not a big difference, but it will cumulate in bigger apps, and faster is faster, no matter how much faster. I mean that's how you win also in races, by hundreds of a second :)<br><pre class=code>Import mojo

Class Game Extends App
	Method OnCreate()
		Local t1:Int
		Local t2:Int
		Local tt:Float
		Local a:Float
		Local b:Float
		Local c:Float
		Local i:Int
		c=10000.0
		b=0.001
		a=0
		Print "Speedtest begin."
		t1=Millisecs()
		For i=1 To 500
			a=0
			While a&lt;c
				a=a+b
			Wend
		Next
		t2=Millisecs()
		tt=(Float(t2)-Float(t1))/1000.0
		Print "Speedtest end. Total time: "+tt+"s."
	End
End

Function Main()
	New Game
End</pre> <br><br></td></tr></table><br>
<a name="2001072"></a>

<a name="2001073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>That's gotta be one of the flakiest 'speed tests' I've seen yet!<br><br>The real question is: If 1000 monkeys wrote 1000 flakey speed tests, would MinGW win them all?!? <br><br></td></tr></table><br>
<a name="2001742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lejmer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> @marksibly: Probably not. They are two very different compilers and work very differently behind the scene, so they are probably also good at different things. I don't think MinGW is better than VS2010, and I don't think VS2010 is better than MinGW, but I don't like Microsoft for personal reasons, and therefore am glad to enjoy MinGW builds, even with the extra trouble. :) Also, MinGW is closer to the C++ standard, which is always good in my book. <br><br></td></tr></table><br>
<a name="2002960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made a new flakey speed test: I replaced all float with double in cpptranslator.monkey and lang.cpp, and now speedtest with GLFWMINGW runs even faster than before: 20.799s!<br><br>So now I have 2 cumulative speed boost for GLFW apps over the standard GLFW target: g++ -O6 and double :)<br><br>I will make soon a patch installer, have been planning that for a while now, since updating all new Monkey versions gets harder and harder the more custom hacks I make. With the patcher everyone can install with one mouse click the latest custom speed boosts for Monkey.<br><br>I don't understand why people use float in C++ at all nowadays. Since Pentium 5 every PC runs double faster than float (because of the internal 64-bit FPU), and it has even a lot bigger accuracy. <br><br></td></tr></table><br>
<a name="2002926"></a>

<a name="2002927"></a>

<a name="2002928"></a>

<a name="2002929"></a>

<a name="2002930"></a>

<a name="2002931"></a>

<a name="2003490"></a>

<a name="2003491"></a>

<a name="2003492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I changed the GLFWMINGW target to use a makefile and mingw32-make, and now a GLFWMINGW program compiles and runs in 2 seconds!<br>It's almost as fast as the HTML5 target, which takes 1.5 seconds on my pc.<br><br>I will add this new GLFWMINGW version to Monkey Patcher, on which I have been working since yesterday. A first public version should be ready today or tomorrow. <br><br></td></tr></table><br>
<a name="2006065"></a>

<a name="2006067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just an update on this.  If anyone is using MingW as a compiler you will need to add the following compiler flags:<br><br>-static-libgcc -static-libstdc++<br><br>If you don't, the following error is shown when you try and run:<br><br>"This application has failed to start because libgcc_s_dw2-1.dll was not found.  Re-installing the application may fix this problem."<br><br>The computer I tried running my app on did not have MingW installed.  Search of Google found some discussion on this issue. <br><br></td></tr></table><br>
<a name="2006763"></a>

<a name="2006769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I get a bunch of errors <pre class=code>
../main.cpp:31: error: `String' was not declared in this scope
../main.cpp:31: error: expected primary-expression before "const"
../main.cpp:31: error: initializer expression list treated as compound expression
../main.cpp:31: error: expected `,' or `;' before '{' token
../main.cpp:35: error: `String' was not declared in this scope
../main.cpp:35: error: expected primary-expression before "int"
../main.cpp:35: error: expected primary-expression before "int"
../main.cpp:35: error: expected primary-expression before "int"
../main.cpp:35: error: initializer expression list treated as compound expression
../main.cpp:35: error: expected `,' or `;' before '{' token
../main.cpp:43: error: `String' does not name a type
../main.cpp:58: error: invalid function declaration
../main.cpp:870: error: `unsigned char* loadImage(String, int*, int*, int*)' redeclared as different kind of symbol
../main.cpp:35: error: previous declaration of `unsigned char*loadImage'
../main.cpp:35: error: previous non-function declaration `unsigned char*loadImage'
../main.cpp:870: error: conflicts with function declaration `unsigned char* loadImage(String, int*, int*, int*)'
../main.cpp:872: error: `FILE* fopenFile(String, const char*)' redeclared as different kind of symbol
../main.cpp:31: error: previous declaration of `FILE*fopenFile'
../main.cpp:31: error: previous non-function declaration `FILE*fopenFile'
../main.cpp:872: error: conflicts with function declaration `FILE* fopenFile(String, const char*)'
../main.cpp: In member function `virtual int gxtkGraphics::DrawOval(float, float, float, float)':
../main.cpp:1366: warning: passing `float' for converting 1 of `int abs(int)'
../main.cpp:1366: warning: passing `float' for converting 1 of `int abs(int)'
../main.cpp: In member function `virtual gxtkSurface* gxtkGraphics::LoadSurface(String)':
../main.cpp:1484: error: `loadImage' cannot be used as a function
../main.cpp: In member function `virtual int gxtkApp::MilliSecs()':
../main.cpp:1882: warning: converting to `int' from `double'
../main.cpp: In member function `virtual gxtkSample* gxtkAudio::LoadSample(String)':
../main.cpp:2114: error: `fopenFile' cannot be used as a function
../main.cpp: At global scope:
../main.cpp:9040: error: invalid function declaration
../main.cpp:9041: error: invalid function declaration
../main.cpp:9042: error: expected unqualified-id before "return"
../main.cpp:9044: error: invalid function declaration
TRANS Failed to execute 'g++ -o Release/main_winnt ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 stb_image.o', return code=1
</pre> <br><br></td></tr></table><br>
<a name="2006771"></a>

<a name="2006772"></a>

<a name="2006773"></a>

<a name="2006774"></a>

<a name="2006775"></a>

<a name="2006776"></a>

<a name="2006777"></a>

<a name="2006778"></a>

<a name="2006779"></a>

<a name="2006780"></a>

<a name="2008222"></a>

<a name="2008223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update: woops just wiped out whatover what here!<br><br>anyway, Mark has made some changes to v42 so you will need to have this code for mingw.monkey:<br><br><pre class=code>
Import target

Class MingwTarget Extends Target

	Function IsValid()
		Select HostOS
		Case "winnt"
			If MINGW_PATH Return True
		Case "macos"
			Return False
		Case "linux"
			Return False
		End
	End
	
	Method Begin()
		ENV_TARGET="glfw"
		ENV_LANG="cpp"
		_trans=New CppTranslator
	End
	
	Method MakeTarget()
		
		Select ENV_HOST
		Case "winnt"
		
			CreateDir "mingw/"+CASED_CONFIG
			
			CreateDataDir "mingw/"+CASED_CONFIG+"/data",False
			
			Local main$=LoadString( "main.cpp" )
			main=ReplaceBlock( main,"${TRANSCODE_BEGIN}","${TRANSCODE_END}",transCode )
			SaveString main,"main.cpp"
			
			If OPT_BUILD
				Local line$
				
				ChangeDir "mingw"

				Local build$=LoadString( "build.txt" )
				For line=Eachin build.Split( "~n" )
					Print line
					Execute line
				Next

				Local out$=CASED_CONFIG+"/MonkeyGame"
				'Local out$=CASED_CONFIG+"/main_"+HostOS
				DeleteFile out
				
				'Create exe
				Print "Generating code"
				Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc stb_image.o"
				'Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc -static-libstdc++ stb_image.o"
				Print "Finished generating code"
				
				If OPT_RUN
					ChangeDir CASED_CONFIG
					Execute "MonkeyGame"
				Endif
			Endif
		
		Case "macos"
		Case "linux"
		
		End
	End
End
</pre> <br><br></td></tr></table><br>
<a name="2006781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, it turns out I put the //{$begin_code}<br>in the wrong place,<br><br>it works now :) <br><br></td></tr></table><br>
<a name="2007442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> From a fresh install from monkey V40, I couldn't get this to work.<br>Errors:<br><pre class=code>
g++: unrecognized option `-static-libstdc++'
TRANS Failed to execute 'MonkeyGame', return code=-1073741515
</pre><br><br>... i tried gcc, but I received too many errors to count.<br><br><br>The second error comes from when I run the file, it's looking for:<br><pre class=code>OpenAL32.dll is missing...</pre><br><br>I'd rather create dependency-free files, but perhaps it has to do with the first error? <br><br></td></tr></table><br>
<a name="2007451"></a>

<a name="2007452"></a>

<a name="2007453"></a>

<a name="2007454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the first error, I searched around for an answer @29 and this was what I found.  I think you either need to also install the c++ libraries (from memory - sorry cannot remember the options/libraries I used - perhaps their above)) or try removing this option from the Execute statement.  I just know it works for me.<br><br>For the second error you need this: <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=88#279" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=88#279</a> .  I don't believe you can get away from installing the OpenAL library (I could very well be wrong here). <br><br></td></tr></table><br>
<a name="2007456"></a>

<a name="2007457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the reply, I kept the stdlibc++ off for now, but the openal.dll is a problem. <br><br></td></tr></table><br>
<a name="2007460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> So it works fine without stdlibc++ ? <br><br></td></tr></table><br>
<a name="2007465"></a>

<a name="2007466"></a>

<a name="2007467"></a>

<a name="2007468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So it works fine without stdlibc++ ?  <br></div><br><br>After viciously tearing out the OpenAL audio from the mingw build, yes. <br><br></td></tr></table><br>
<a name="2007486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok - thanks for confirming.  I'll update the above. <br><br></td></tr></table><br>
<a name="2008224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark has made some changes in v42 so you will need an updated mingw.monkey file.<br><br>Process:<br><br>1. Grab the file above provide by brucey and unpack<br><br>2. Open file src\trans\targets\targets.monkey and make the following amendments:<br>* Add Import mingw (line 11) to list of imports<br>* Add If MingwTarget.IsValid() valid.Push "mingw" (line 23) to function ValidTarget<br>* Update the Select statement (line 46) in function SelectTarget with the following:<br>	Case "mingw"<br>		Return New MingwTarget<br>* Save the changes<br><br>3. Create a new file mingw.monkey in src\trans\targets\ and add the following:<br><pre class=code>
Import target

Class MingwTarget Extends Target

	Function IsValid()
		Select HostOS
		Case "winnt"
			If MINGW_PATH Return True
		Case "macos"
			Return False
		Case "linux"
			Return False
		End
	End
	
	Method Begin()
		ENV_TARGET="glfw"
		ENV_LANG="cpp"
		_trans=New CppTranslator
	End
	
	Method MakeTarget()
		
		Select ENV_HOST
		Case "winnt"
		
			CreateDir "mingw/"+CASED_CONFIG
			
			CreateDataDir "mingw/"+CASED_CONFIG+"/data",False
			
			Local main$=LoadString( "main.cpp" )
			main=ReplaceBlock( main,"${TRANSCODE_BEGIN}","${TRANSCODE_END}",transCode )
			SaveString main,"main.cpp"
			
			If OPT_BUILD
				Local line$
				
				ChangeDir "mingw"

				Local build$=LoadString( "build.txt" )
				For line=Eachin build.Split( "~n" )
					Print line
					Execute line
				Next

				Local out$=CASED_CONFIG+"/MonkeyGame"
				'Local out$=CASED_CONFIG+"/main_"+HostOS
				DeleteFile out
				
				'Create exe
				Print "Generating code"
				Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc stb_image.o"
				'Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc -static-libstdc++ stb_image.o"
				Print "Finished generating code"
				
				If OPT_RUN
					ChangeDir CASED_CONFIG
					Execute "MonkeyGame"
				Endif
			Endif
		
		Case "macos"
		Case "linux"
		
		End
	End
End
</pre><br><br>4. Compile up trans. <br><br></td></tr></table><br>
<a name="2008229"></a>

<a name="2008531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> also for faster compilings....<br><br>The build.txt file is compiling c files into o files again and again.<br><br>If you compile your game once, you remove all lines from build.txt (in your build directory)<br><br>and it still works...but its faster to compile <br><br></td></tr></table><br>
<a name="2008501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that's why I use a makefile instead of compiling each file seperately. Using a makefile the gnuwin32-make tool automatically detects which files have changed and only compiles those, so you get super fast compiling times. <br><br></td></tr></table><br>
<a name="2008529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lumooja,<br><br>Would you mind posting your makefile? <br><br></td></tr></table><br>
<a name="2015576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just reimaged my computer and needed to setup MinGW again! Arrr...  I've used the new distribution Mark has make available for BlitzMax here:<br><br><a href="http:///nuwen.net/mingw.html" target="_blank">http:///nuwen.net/mingw.html</a><br><br>which you unpack into C:\ (this sets up the C:\MinGW folder for you)<br><br>Don't forget to update your environment settings:<br><br>* Add ;C:\MinGW\bin to the end of the Path variable<br>* Create new MinGW variable that points to C:\MinGW (I've added to both the user and system variables on Win 7).<br><br>Probably needs a reboot as well.  Took a bit of fiddling to get the environment stuff sorted out. <br><br></td></tr></table><br>
<a name="2027984"></a>

<a name="2028010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> monkey 56b<br>src/trans/target/mingw.monkey<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Import target

Class MingwTarget Extends Target

	Function IsValid()
		'If FileType( "mingw" )&lt;&gt;FILETYPE_DIR Return False
		Select HostOS
		Case "winnt"
			If MINGW_PATH Return True
		Case "macos"
			Return True
		Case "linux"
			Return False
		End
	End
	
	Method Begin()
		ENV_TARGET="mingw"
		ENV_LANG="cpp"
		_trans=New CppTranslator
	End
	
	Method Config$()
		Local config:=New StringStack
		For Local kv:=Eachin Env
			config.Push "#define CFG_"+kv.Key+" "+kv.Value
		Next
		Return config.Join( "~n" )
	End
	
	Method MakeTarget()

		Select ENV_HOST

		Case "winnt"
		
			CreateDir "mingw/"+CASED_CONFIG
			
			CreateDataDir "mingw/"+CASED_CONFIG+"/data" ',False
			
			Local main$=LoadString( "main.cpp" )
			
			main=ReplaceBlock( main,"TRANSCODE",transCode )
			main=ReplaceBlock( main,"CONFIG",Config() )
			
			SaveString main,"main.cpp"
			
			If OPT_ACTION&gt;=ACTION_BUILD

				Local line$
				
				ChangeDir "mingw"
				
				If FileType( "libglfw.a" )&lt;&gt;FILETYPE_FILE Or FileType( "stb_image.o" )&lt;&gt;FILETYPE_FILE
					Local build$=LoadString( "build.txt" )
					For line=Eachin build.Split( "~n" )
						Print line
						Execute line
					Next
				Endif
				
				Local out$=CASED_CONFIG+"/MonkeyGame"
				'Local out$=CASED_CONFIG+"/main_"+HostOS
				DeleteFile out
				
				'Create exe
				Print "Generating code"
				Select ENV_CONFIG
					Case "debug"
						Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc stb_image.o"
						'Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc -static-libstdc++ stb_image.o"
					Case "release"
						Execute "g++ -O3 -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc stb_image.o"
				End
				
				Print "Finished generating code"
				
				If OPT_ACTION&gt;=ACTION_RUN
					ChangeDir CASED_CONFIG
					Execute "MonkeyGame"
				Endif
			Endif
		
		Case "macos"
		
		Case "linux"
			
		End
	End
End


</textarea><br><br>I should add that the above target creates -O3 for release mode, and will also check for libglfw so it won't compile every time if it's already there. <br><br></td></tr></table><br>
<a name="2027983"></a>

<a name="2028380"></a>

<a name="2028381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I havent installed mingw target for a while so I forgot how to do it,<br><br>I recompiled trans ok, but then it asked for mojo.mingw.cpp<br>I copied and renamed mojo.glfw.cpp so I got past that error<br>but now it says "TRANS FAILED: Failed to copy target dir"<br><br>it seems to be looking for targets/mingw<br>but I think its supposed to be looking in the targets/GLFW/Mingw folder or something <br><br></td></tr></table><br>
<a name="2028393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> is this a viable replacement to using VC++ Express ? <br><br></td></tr></table><br>
<a name="2028397"></a>

<a name="2028398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is this a viable replacement to using VC++ Express ? <br></div><br>Yep, it should be - I believe thats the whole point why Brucey did it is to get away from VC++ :)<br><br>Disclaimer: I havent actually tried it :P <br><br></td></tr></table><br>
<a name="2028401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> @AdamRedwoods<br>Great - thanks for the update!<br><br>@Taiphoz<br>Yes - you can certainly use but you will need the OpenAL module (info about this is in the above).  The main point Mark made about usual VC++ Express is its ease of install and setup compared to MinGW.  It can certainly be challenging to get it working. <br><br></td></tr></table><br>
<a name="2028408"></a>

<a name="2028409"></a>

<a name="2028410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> "TRANS FAILED: Failed to copy target dir" <br></div><br>- create a new copy of the targets/glfw folder and rename it "mingw".<br>- in targets/mingw delete the vc2010 and xcode (you don't need it for mingw)<br>- in targets/mingw create mingw folder<br>- in targets/mingw/mingw you need: <br>build.txt (copy from above),<br>libopenal32.a, openal32.def (copy from openal32 site or Brucey#3 post above)<br>libstc++.a (copy from mingw/lib install folder)<br><br><br><div class="quote"> is this a viable replacement to using VC++ Express ?  <br></div><br>I use mingw exclusively without any problems and it's very fast. its been great with minib3d. <br><br></td></tr></table><br>
<a name="2028431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question, does the normal MingGW install required to build bmax modules count or would additional stuff need to be done.<br><br>and is there any chance of mark supporting this with an official target so we dont need to mess with the code ? <br><br></td></tr></table><br>
<a name="2028467"></a>

<a name="2028469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks adam it compiles now :)<br><br>hmm it seems to compile slower than VC++ now, dont know why, as -03 shouldnt be active cos im doing a debug build <br><br></td></tr></table><br>
<a name="2028486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Question, does the normal MingGW install required to build bmax modules count or would additional stuff need to be done. <br></div><br>the same one works<br><br><div class="quote"> and is there any chance of mark supporting this with an official target so we dont need to mess with the code ?  <br></div><br>no way, see above post #14 <br><br></td></tr></table><br>
<a name="2038407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Updated for monkeyV62 (ogg vorbis)<br><br>**instructions**<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
1. - create a new copy of the targets/glfw folder and rename it "mingw".
- in targets/mingw delete the vc2010 and xcode (you don't need it for mingw)
- in targets/mingw create mingw folder
- in targets/mingw/mingw you need: 
build.txt (copy from above),
libopenal32.a, openal32.def (copy from openal32 site or Brucey#3 post above)
libstc++.a (copy from mingw/lib install folder)

2. Open file src\trans\targets\targets.monkey and make the following amendments:
* Add Import mingw (line 11) to list of imports
* Add If MingwTarget.IsValid() valid.Push "mingw" (line 23) to function ValidTarget
* Update the Select statement (line 46) in function SelectTarget with the following:
Case "mingw"
Return New MingwTarget
* Save the changes

3.add the below NEW files to appropriate folders

4. compile trans.monkey in monkey as stdcpp target

5. copy new file from build folder to monkey/bin/trans_winnt.exe

</textarea><br><br>monkey/src/targets/mingw.monkey<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Import target

Class MingwTarget Extends Target

	Function IsValid()
		'If FileType( "mingw" )&lt;&gt;FILETYPE_DIR Return False
		Select HostOS
		Case "winnt"
			If MINGW_PATH Return True
		Case "macos"
			Return True
		Case "linux"
			Return False
		End
	End
	
	Method Begin()
		ENV_TARGET="mingw"
		ENV_LANG="cpp"
		_trans=New CppTranslator
	End
	
	Method Config$()
		Local config:=New StringStack
		For Local kv:=Eachin Env
			config.Push "#define CFG_"+kv.Key+" "+kv.Value
		Next
		Return config.Join( "~n" )
	End
	
	Method MakeTarget()

		Select ENV_HOST

		Case "winnt"
		
			CreateDir "mingw/"+CASED_CONFIG
			
			CreateDataDir "mingw/"+CASED_CONFIG+"/data" ',False
			
			Local main$=LoadString( "main.cpp" )
			
			main=ReplaceBlock( main,"TRANSCODE",transCode )
			main=ReplaceBlock( main,"CONFIG",Config() )
			
			SaveString main,"main.cpp"
			
			If OPT_ACTION&gt;=ACTION_BUILD

				Local line$
				
				ChangeDir "mingw"
				
				If FileType( "libglfw.a" )&lt;&gt;FILETYPE_FILE Or FileType( "stb_image.o" )&lt;&gt;FILETYPE_FILE
					Local build$=LoadString( "build.txt" )
					For line=Eachin build.Split( "~n" )
						Print line
						Execute line
					Next
				Endif
				
				Local out$=CASED_CONFIG+"/MonkeyGame"
				'Local out$=CASED_CONFIG+"/main_"+HostOS
				DeleteFile out
				
				'Create exe
				Print "Generating code"
				Select ENV_CONFIG
					Case "debug"
						Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc stb_image.o stb_vorbis.o"
						'Execute "g++ -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc -static-libstdc++ stb_image.o stb_vorbis.o"
					Case "release"
						Execute "g++ -O3 -o "+out+" ../main.cpp -mwindows -I../openal/include -I../glfw/include -I../stb -L. -lopenal32 -lglfw -lopengl32 -static-libgcc stb_image.o stb_vorbis.o"
				End
				
				Print "Finished generating code"
				
				If OPT_ACTION&gt;=ACTION_RUN
					ChangeDir CASED_CONFIG
					Execute "MonkeyGame"
				Endif
			Endif
		
		Case "macos"
		
		Case "linux"
			
		End
	End
End
</textarea><br><br>mingw/mingw/build.txt<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/enable.c -o enable.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/fullscreen.c -o fullscreen.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/glext.c -o glext.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/image.c -o image.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/init.c -o init.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/input.c -o input.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/joystick.c -o joystick.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/stream.c -o stream.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/tga.c -o tga.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/thread.c -o thread.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/time.c -o time.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/window.c -o window.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_enable.c -o win32_enable.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_fullscreen.c -o win32_fullscreen.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_glext.c -o win32_glext.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_init.c -o win32_init.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_joystick.c -o win32_joystick.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_thread.c -o win32_thread.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_time.c -o win32_time.o
gcc -c -Wall -O2 -I../glfw/lib -I../glfw/lib/win32 ../glfw/lib/win32/win32_window.c -o win32_window.o
ar -rcs libglfw.a enable.o fullscreen.o glext.o image.o init.o input.o joystick.o stream.o tga.o thread.o time.o window.o win32_enable.o win32_fullscreen.o win32_glext.o win32_init.o win32_joystick.o win32_thread.o win32_time.o win32_window.o
gcc -c -Wall -O2 ../stb/stb_image.c -o stb_image.o
gcc -c -Wall -O2 ../stb/stb_vorbis.c -o stb_vorbis.o
:done
</textarea> <br><br></td></tr></table><br>
<a name="2038406"></a>

<a name="2038405"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
