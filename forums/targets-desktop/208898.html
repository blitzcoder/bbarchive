<!DOCTYPE html><html lang="en" ><head ><title >Gamepad on linux</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Gamepad on linux</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >Gamepad on linux</a><br><br>
<a name="2093168"></a>

<a name="2093169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys.<br>Was wondering if anybody else has played with joypads on linux yet?<br>I followed the instructions on this url <a href="http://www.omgubuntu.co.uk/2013/07/dealing-with-xbox-controllers-in-ubuntu" target="_blank">http://www.omgubuntu.co.uk/2013/07/dealing-with-xbox-controllers-in-ubuntu</a> and when i don't add the commandline --silent switch, I can see the various buttons and triggers working. However they do appear differently from what is available in Monkey.<br>Note the screenshot attached shows all the buttons are set to 1 without being pressed at all.<br>The only two things working at the mo is the two analog controls.<br><br><a href="https://www.dropbox.com/s/25gezx7c8w8abgb/Screeny.png" target="_blank">Dropbox</a><br><br>EDIT: An example of the output provided by the xboxdrv<br><pre class=code>
Controller:        Microsoft Xbox 360 Controller
Vendor/Product:    045e:028e
USB Path:          001:005
Controller Type:   Xbox360

Your Xbox/Xbox360 controller should now be available as:
  /dev/input/js0
  /dev/input/event10

Press Ctrl-c to quit, use '--silent' to suppress the event output

X1: -7168 Y1:  7424  X2:     0 Y2:  -256  du:0 dd:0 dl:0 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0
X1:-22272 Y1: 21248  X2:     0 Y2:  -256  du:0 dd:0 dl:0 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0
X1:-24576 Y1: 19456  X2:     0 Y2:  -256  du:0 dd:1 dl:0 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0
X1:-30976 Y1: 11008  X2:     0 Y2:  -256  du:0 dd:1 dl:0 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0
X1:-32768 Y1:     0  X2:     0 Y2:  -256  du:0 dd:1 dl:0 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0
X1:-31744 Y1:     0  X2:     0 Y2:  -256  du:0 dd:1 dl:1 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0
X1:-25856 Y1:     0  X2:     0 Y2:  -256  du:0 dd:1 dl:1 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0
X1:-21760 Y1:     0  X2:     0 Y2:  -256  du:0 dd:1 dl:1 dr:0  back:0 guide:0 start:0  TL:0 TR:0  A:0 B:0 X:0 Y:0  LB:0 RB:0  LT:  0 RT:  0

</pre><br><br>Any suggestions/ideas/other drivers to try? <br><br></td></tr></table><br>
<a name="2093167"></a>

<a name="2093166"></a>

<a name="2093165"></a>

<a name="2093164"></a>

<a name="2093163"></a>

<a name="2093465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> As an update. I removed xboxdrv and installed xpad. As before in Monkey joytest.monkey, all the digital buttons are pressed, displaying a 1 next to it as in the attached dropbox link above.<br>Has absolutely nobody worked with joysticks/pads on linux using Monkey to date? <br><br></td></tr></table><br>
<a name="2093467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will dig out the Logitech Wingman joystick and have a look at it if I get the time. But I have never used a joypad as I think they are crap (could never get use to using my xbox controler). But at a quick guess the it may need remapping with jstest-gtk. This tool should be in the ububtu/Linux Mint repository. <br><br></td></tr></table><br>
<a name="2093468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Dawlane. Thanks once again for your reply. I downloaded and am running jstest-gtk and the majority of things work fine out of the box. <br>The problem is not with the controller or driver. It appears to be a Monkey specific issue where the buttons (A, B, X, Y, etc) are pressed even when not pressed.<br>Load up joytest.monkey and see for yourself.<br><br>I've installed Steam on Mint and have played Fez with it as-is and other than the A and B buttons being swapped around, they actually work. In Monkey, the buttons do not work at all.<br><br>I looked at the mojo modules input.monkey and inputdevice.monkey and I'm unsure how anything in there could be "wrong". Looking at JoyDown in input.monkey it uses a binary shift though, so unsure how that all works.. <br><br></td></tr></table><br>
<a name="2093489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> What version of Monkey are you using. There is a bug in 78h that causes <a href="http://www.monkey-x.com/Community/posts.php?topic=8707" target="_blank">this</a> problem with joysticks with less than 12 buttons.<br>If it's not then it's a case of having to see what values are being returned by glfwGetJoystickButtons (it will be an array) and as I haven't got an xbox control that I plug into the computer it will a problem for me to check out. Checking what value is being passed with KEY_JOY0 | unit Shl 5 | button. And look to see what's going on in the BeginUpdate Method of inputdevice.monkey.<br>And  <a href="http://www.monkey-x.com/Community/posts.php?topic=8718" target="_blank">here's</a> some thing that may be of use.<br>You should also do a forum search for joysticks. There are a few that mention the xbox controllers and odd quirks. <br><br></td></tr></table><br>
<a name="2093492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great find Dawlane. I do think I'm using 78h on Mint, but I'm at work at the mo so can't check. I'll investigate if that typo exists though and will let you know how it goes. <br><br></td></tr></table><br>
<a name="2093510"></a>

<a name="2093517"></a>

<a name="2093520"></a>

<a name="2093584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Finally got some time to check this with my good old Logitect WingMan Digital 3D (this stick must be over 10 years old now). The old boy was doing the same and the typo was still there in v79e. I fixed it and now it works as it should, though the hat and two of the buttons are not registering. I guess Mark didn't push the fix to github. The experimental v80 joystick code has been overhauled. <br>Before posting it's always a good idea to check to see if quirks or bugs have already been reported.<br><br>Edit: Only the hat isn't working with Monkey. <br><br></td></tr></table><br>
<a name="2093521"></a>

<a name="2093522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the update mate, and thanks for making the effort to troubleshoot this. Much appreciated. I will test the fix and get the latest Monkey builds to test on and see how it goes. <br><br></td></tr></table><br>
<a name="2093555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, I tried version version 79e and made the typo fix in glfwgame.cpp as suggested by mr_twister and yourself, and it worked a treat in joytest.monkey, as well as in my game. I am one happy bunny now, so many thanks! I will keep an eye on new releases in the future to see what bugs exist and are being fixed, so thanks once again Dawlane! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
