<!DOCTYPE html><html lang="en" ><head ><title >Any idea why a GLFW3 build runs slow on these PCs?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Any idea why a GLFW3 build runs slow on these PCs?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >Any idea why a GLFW3 build runs slow on these PCs?</a><br><br>
<a name="2107322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> We have a game where it seems to run fine on most computers, but not on some. Here are sample computer specs where it runs much lower FPS than what should happen.<br><br>1:<br>NVidia GeForce GTX 760 2GB GDDR5 OC <br>ASUS SABERTOOTH 990FX Rv2.0 MotherBoard. <br>AMD FX - 8 Core x @3,5GHz CPU. <br>CORSAIR Vengeance 8 GB - 1600MHz DDR3 RAM. <br>MAD CATZ Cyborg V.3 - 3200dpi Mouse. <br>Windows 7 x64 Ultimate<br><br>2:<br>Motherboard: Gigabyte P35C-DS3R (Intel P35) <br>CPU : Intel(R) Core(TM) 2Quad E9650 @ 3.01 GHz <br>Grafik: GigaByte GeForce GTX 670 OC 2GB (347.52) <br>Monitor: BenQ XL2420T @ 1920x1080 <br>Sound: Creative Soundblaster X-FI Xtreme Gamer <br>Headset: Logitech G35 <br>Mouse: Logitech G500[/b] <br>Keyboard: Logitech G19/G13<br>RAM: 2x 4GB G.Skill Ripjaws DDR3-1333 (9-9-9-24) <br>SSD: ADATA Premier Pro SP900 128 GB <br>HDD: Seagate Barracuda 3TB <br>PSU: Enermax EMG700AWT Modu87+ <br>OS: Windows 7 Ultimate 64-Bit <br><br>3:<br>Windows 8.1<br>Processor: Intel(R) Core(TM) i5-3330 CPU @ 3.00GHz 3.00 GHz<br>Ram: 8.00 GB (7.87 usable)<br>System type: 64-bit OS, x64-based processor<br>Graphics Card: NVIDIA GeForce GT 620 <br><br></td></tr></table><br>
<a name="2107321"></a>

<a name="2107323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hardware is not the only cause of an application running slow. Processes running in the background can also affect, as can not blowing the dust out of the machine. It has also been reported with a game not locking the frame rate to something reasonable causing problems with overheating GPU's. <br><br></td></tr></table><br>
<a name="2107364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> We setupdaterate / timing to 60.<br><br>It may be other software. Hoping to find what is in common that would really matter. <br><br></td></tr></table><br>
<a name="2107434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see the one thing that they all have in common (apart from running MS Windows) is Nvidia cards. I would be looking to see what hardware drivers are being used and if there are any known issues with certain drivers or vendor cards. You should also enquire on the other hardware drivers as well. I have found BFG ones to be problematic in the past.<br>One Windows service that I found annoying was the bloody useless search. It's the first thing I turn off. It's not so bad if you have one hard drive with little on it, but when you have a few 2TB nearly full and have to do a reinstall, then it turns into a pain. <br><br></td></tr></table><br>
<a name="2107551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also have these issues sometimes.  Perhaps it's a bad interaction with other apps at the driver level or something ?  My card's a GTX 750, manufacturer is EVGA (though that shouldn't matter, since nVidia provides the drivers for all vendors).  Though it may not be related, I also have input lag from another hardware-accelerated application using openGL, ClipStudio Paint.  It seems that when one app has the lag issues, the other does as well. <br><br></td></tr></table><br>
<a name="2107932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had weird issues like that sometimes. Its odd that when i run it on a VM, it actually runs faster as if the Intel graphic's chip is more efficient than an NVidia graphics card. <br><br></td></tr></table><br>
<a name="2111654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, thought I'd bump this issue. Also, first forum post. Hello everyone!<br><br>Anyway, I've had the exact same issue as Neuro. I'm running an Nvidia GTX 970 in 64 bit Windows 7.<br><br>I tried the Monkey X free demo first. Glfw2 ran beautifully. I could easily move a thousand 64x64 images with all transformations (colour, alpha, scale ect...) at 60fps. I was impressed enough to buy the full version of Monkey based on that trial.<br><br>However I see Glfw3 was the only option in the full version. The same code that ran at 60fps under Glfw2 ran about 5-10fps under Glfw3, even when reduced to a single object. <br><br>As an attempted fix I updated to the latest graphics drivers, ran a few benchmarks, checked if Windows was misbehaving (Task manager showed 0-2% CPU use when idle so no).  Started up Monkey again, it still ran at a horrible 5fps with a single 64x64 sprite in Glfw3. Even the Amiga 500 could beat that. Checked my CPU and graphics card during run time, neither was particularly busy so it wasn't the machine bottlenecking.<br><br>So, based on this topic, <br><a href="http://www.monkey-x.com/Community/posts.php?topic=4596" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=4596</a><br>I plugged in my XBOX 360 pad. No difference. Reset my PC with the pad plugged in, suddenly it's great again. In fact it's even faster than Glfw2 ever ran.<br><br>So I think that linked topic is onto something worth looking into as this bug gave me an awful first impression of the full Monkey X language and I think other coders would feel the same in that circumstance.<br><br>It's good I've got a workaround, but it would be frustrating knowing a program I wrote would run at 5ps for unlucky Nvidia users who ever dared to use a joypad on their machine.<br><br>Weird, weird bug, but I'm impressed with Monkey X now I've seen the full version running at full speed. <br><br>Keep up the good work Blitz Research. <br><br></td></tr></table><br>
<a name="2111679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does look like the GLFW implementation of PollJoysticks is the issue. <br><br>Checking if a joystick is present is typically a synchronous call on PC - on BlitzMax calling JoyCount is not something you should call from your game's main loop as it was very slow and would be something you called only once if possible. <br><br>I suspect any legacy driver for the 15 pin joy port that worked with old analog joysticks will behave like this, as the only way to detect a joystick is plugged in is to use the time the potentiometers take to charge a capacitor (a synchronous operation that has to time out if the joystick is not even plugged in).<br><br>Unfortunately in Monkey it is out of your hands as joystick detection code is inside the polling code (BBGlfwGame::PollJoystick) and you are at the mercy of legacy and third party drivers . <br><br></td></tr></table><br>
<a name="2111678"></a>

<a name="2111677"></a>

<a name="2111698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot to say before... but I remember one user saying when they unplugged a gamepad it made the game run faster. <br><br></td></tr></table><br>
<a name="2111704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, this looks like cause for filing a bug report. <br><br></td></tr></table><br>
<a name="2112271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well the joystick trick didn't quite work for me. Its all random mostly. Any other ideas for this? <br><br></td></tr></table><br>
<a name="2112349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok! Well looks like the last update Monkey v86a has fixed this issue for me. Anyone else noticed the change? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
