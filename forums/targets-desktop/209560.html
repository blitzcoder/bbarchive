<!DOCTYPE html><html lang="en" ><head ><title >GLFW3 Mouse Wheel support</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GLFW3 Mouse Wheel support</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >GLFW3 Mouse Wheel support</a><br><br>
<a name="2099972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DeadFall</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Since GLFW3 changed how it handles the mouse wheel calls does anyone have a working example of how to use the updated version? <br><br></td></tr></table><br>
<a name="2099979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DeadFall</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been messing around with some of the code here <img src="http://i.imgur.com/mTQIIxZ.png"> but to no luck. If anyone has any hints on what can be done that would be really awesome. <br><br></td></tr></table><br>
<a name="2099992"></a>

<a name="2099993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> For one thing, please keep in mind that this functionality (In the form described in your image) is GLFW3-only. On top of that, unless you want to hack this into Mojo, you'll need to make your code use external code directly, which may not be ideal.<br><br>Okay, so you need to use a call-back function. But before that, we need to get the 'GLFWwindow' instance. This isn't possible on GLFW2 (As far as I know, the earlier version that's used by Monkey doesn't have this), so you'll be forced to GLFW3's multi-window ready system. Basically, you'll need to use the GLFW3 version of 'BBGlfwGame', and its 'GetGLFWwindow' command.<br><br>To do this, you'd write this (C++ code, GLFW3 only):<br><pre class=code>
BBGlfwGame.GlfwGame().GetGLFWwindow()
</pre><br><br><a href="http://www.glfw.org/docs/latest/group__input.html#ga6228cdf94d28fbd3a9a1fbb0e5922a8a" target="_blank">Here's the 'GLFWscrollfun' function-pointer type (Used for call-backs) as described by the official documentation.</a> Basically, you'd use 'glfwSetScrollCallback' on the 'GLFWwindow' instance retrieved using the code above. The other argument needs to be a function with the same structure as the 'GLFWscrollfun' pointer-type. From there, you'd simply store the result(s) as you see fit, and access them from Monkey using external bindings.<br><br><a href="https://github.com/Sonickidnextgen/scrollwheel" target="_blank">Here's a small GitHub repository to get you started</a>. It's pretty rough, but it should compile. Also take note of what I did to hack this in with my native code; I inherit 'Object', just so it compiles. That wasn't exactly the best option, but I wasn't really going to bother writing a wrapper system. For the record, my example does not provide differentials, it provides "offsets" (As GLFW calls them), so you'd need to write a simple "CurrentY-LastY" system for positional differences.<br><br><i>If that doesn't help you, then I'm sure there are alternatives here on the forum.</i><br><br><b>EDIT: In case you're interested, <a href="https://code.google.com/p/diddy/source/browse/#hg%2Fsrc%2Fdiddy" target="_blank">I think Diddy also has scroll-wheel functionality.</a></b><br><br>It would be great to properly have this through Mojo, though. <br><br></td></tr></table><br>
<a name="2099991"></a>

<a name="2099989"></a>

<a name="2099990"></a>

<a name="2099986"></a>

<a name="2099987"></a>

<a name="2099988"></a>

<a name="2099985"></a>

<a name="2100006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DeadFall</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Immutable! Saved me a lot of time yet again. Works perfectly for what I need it to do. And since I was already using a current-last type setup for my stuff with glfw2 it was basically just plug in everything and add a little added change. After each loop need to make sure you set the wheel.YOffset = 0 since I noticed the wheel values only goes up to 2, -2.<br><br>That was the last thing that was preventing me from moving fully into GLFW3.<br><br>Again thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
