<!DOCTYPE html><html lang="en" ><head ><title >Oculus Support - Desktop Platform</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Oculus Support - Desktop Platform</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >Oculus Support - Desktop Platform</a><br><br>
<a name="2098803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I recently in the last few days got a Oculus Rift SDK2, and with it I picked up the SDK for it, and all the CPP, and Headers files.<br><br>I was wanting to know because there are not any direct access to pointers in Monkey that I wouldn't have an easy time adding the needed files to it so that I can start adding support for VR, and what not using MiniB3D.<br><br>What options would I have to add in the supported files from the SDK to get it to work.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="2098810"></a>

<a name="2098811"></a>

<a name="2098812"></a>

<a name="2098813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldn't have your .monkey code talk directly to the Oculus stuff.  <br><br>You'd probably be better off writing up a wrapper class/module that your game talks to, and keep all the Oculus specific code/objects/pointers in your native C++ extension code.  Then add functions/methods for EyeX/Y/Z for rendering from different eye positions.<br><br>From looking at the Oculus SDK developer guide, you might need to also re-work some of the GLFW desktop target code, like to use their eye distortion to get the fisheye lense effect.<br><br>Maybe even change it so you do two OnRender calls to your app (one left, one right) per OnUpdate when running in Oculus mode.<br><br>Then you can either use MiniB3D and/or your own monkey GL code to render the scene. <br><br></td></tr></table><br>
<a name="2098814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wrapped the oculus SDK in a Monkey target quite a while back and exposed a simple CreateCube command while running the tiny demo "side on". My plan was to implement the camera and navigation in native by butchering the tiny demo and use monkey code to manipulate the scene's contents.<br><br>To keep things simple I elected to use int for the monkey side and dereference to pointer on the native side using std::map&lt;int,cube*&gt;.<br><br>However, in the end I decided that C++ was a better environment to learn about VR so switched back to visual studio as using monkey doesn't really make sense if there is a bunch of other unknowns in the project. <br><br></td></tr></table><br>
<a name="2098815"></a>

<a name="2098816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the quick replay..<br><br><div class="quote"> You'd probably be better off writing up a wrapper class/module that your game talks to, and keep all the Oculus specific code/objects/pointers in your native C++ extension code. Then add functions/methods for EyeX/Y/Z for rendering from different eye positions. <br></div><br><br>That is were the problem is; that when righting the wrapper you don't have direct access to creating pointers other than maybe creating code in C++ again that creates the new classes that monkey uses from another external file.  <br><br>I notice in most of the things people have done to get access to pointers is by doing new C++ files that handle all the pointing, and then assign this to a new variable in the class that Monkey uses to assign the required information back to the SDK.<br><br>Let me know if that make any sense...<br><br>skid...<br><br>Can you provide me with the code that you used to do this so I have some sort of frame to work off of?  I think adding Oculus Support to monkey would help promote it more.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="2098817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I notice in most of the things people have done to get access to pointers is by doing new C++ files that handle all the pointing, and then assign this to a new variable in the class that Monkey uses to assign the required information back to the SDK."<br><br>You nailed it right there.<br><br>You need a wrapper ( see this article: <a href="http://en.wikipedia.org/wiki/Wrapper_library" target="_blank">http://en.wikipedia.org/wiki/Wrapper_library</a> ).  It talks directly to the Oculus SDK, initializes, manages, updates, gets data back, etc.  And also exposes the bits that your monkey codes needs.  You probably don't need to expose everything to your monkey code, just in the C++ native part.  <br><br>Examples...<br>Eye position/orientation you will probably need for rendering.  <br>But your game .monkey code probably doesn't need to know about the lens distortion, if it's contained in the target/extension C++ code.<br><br>I am super curious about DK2 myself, would love to play with it either through C++ or Monkey.  But no hardware yet. <br><br></td></tr></table><br>
<a name="2098818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks,<br><br>I just got mine, and a Leap Motion.<br><br>I was looking at all the release stuff for Unity, but for some reason I keep getting drawn back to either Monkey or Max.  So I was looking at trying to add support for it, or see if there was any current support for it.<br><br>I will have to play around with it for a bit and see if I can even figure out the wrapping.<br><br>Thanks A Lot!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
