<!DOCTYPE html><html lang="en" ><head ><title >GLFW much slower than XNA</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >GLFW much slower than XNA</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >GLFW much slower than XNA</a><br><br>
<a name="2011446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>is there any particular reason why a GLFW build would run considerably slower than an XNA build? GLFW is 0.5fps and XNA makes the 60fps.<br><br>Ta <br><br></td></tr></table><br>
<a name="2011448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Post it and see if other people get the same fps? <br><br></td></tr></table><br>
<a name="2011449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll have to see if I can reproduce the slow performance in another app and then I'll post the source here :) Even on the intro screen for what I am making it performs badly for me <br><br></td></tr></table><br>
<a name="2011450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Soap</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> GLFW runs great for me... so it may be a software issue on your computer with OpenGL. <br><br></td></tr></table><br>
<a name="2011451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am assuming it's a bit of both, as I have an onboard intel graphics card. <br><br></td></tr></table><br>
<a name="2011452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, onboard gfc, most likely that is the reason why you get a slow performance under OpenGL. On XNA it uses DirectX and that runs better with these chips. <br><br>Try GLDirect:    <a href="http://sourceforge.net/projects/gldirect/" target="_blank">http://sourceforge.net/projects/gldirect/</a><br><br>Should give you at least a decent performance for OpenGL on such a system. <br><br></td></tr></table><br>
<a name="2011456"></a>

<a name="2011457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers Mike, though I am not yet entirely sure how I go about using it!<br><br>(checking the site as we speak)<br><br>Edit: Ok so it's a replacement for my systems opengl32.dll, right?<br><br>I tried putting it in the same folder as MonkeyGame.exe and was told my graphics adapter doesn't support it.<br><br>"Graphics adapter does not meet minimum specification for GLDirect" <br><br></td></tr></table><br>
<a name="2011455"></a>

<a name="2011489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, was worth a try. For me I always installed it the regular way. And I was on XP. <br><br></td></tr></table><br>
<a name="2011491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the suggestion anyway Mike. <br><br></td></tr></table><br>
<a name="2011575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's going on with the "Posted X hours/minutes ago" readings? <br><br></td></tr></table><br>
<a name="2011598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> raz,<br><br>Around the start of each month the posting times go a bit haywire - does the same at blitzbasic.com. <br><br></td></tr></table><br>
<a name="2011619"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got ya, thanks Matt <br><br></td></tr></table><br>
<a name="2037421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This happens for me too on my higher end dev system (NVidia GTX 560M 2GB). However, on my lower end system it runs great - like 60 FPS great. Heck, even running it on a VM actually runs faster. And for some odd reason, if i were to play around with the window size (like resizing it during run time) it may cause to speed up again. Weird...think it may have something to do with the graphics card. <br><br></td></tr></table><br>
<a name="2037420"></a>

<a name="2037423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Have you guys tried updating graphics drivers? Sounds like GL is running software. <br><br></td></tr></table><br>
<a name="2037808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Have you guys tried updating graphics drivers? Sounds like GL is running software.  <br></div><br>Yep, mine's updated to the latest nvidia drivers and still does this. Its a bit sporadic too how it just randomly occurs. Sometimes it does actually run at 60 FPS, other times it crawls. <br><br></td></tr></table><br>
<a name="2038180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my system, GLFW will go butt-slow when running my game in debug mode.  Slower still when object caching is being employed.  This all goes away when compiling in Release mode.  Do the problems everyone else is having persist when compiled in Release mode? <br><br></td></tr></table><br>
<a name="2044221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Do the problems everyone else is having persist when compiled in Release mode?  <br></div><br>Yep, this still happens for me, but sporadic. Strangely though, if i were to run it on a VM it actually runs at full speed. Weird. <br><br></td></tr></table><br>
<a name="2046535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> GLFW runs extremely slow for me in release and debug modes.  It didn't used to be like that.  Something went screwy.<br><br>UPDATE: Disregard, it was my fault.  I had a Print statement in there and that's what was bogging it down.  Took it out and now it flies. <br><br></td></tr></table><br>
<a name="2046482"></a>

<a name="2046711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neuro</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ugh...still sporadic for me, and still not sure whats causing it. In the meantime, VM is still my friend. <br><br></td></tr></table><br>
<a name="2046835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not given it a go since I mentioned it a year ago, but I will do when I get home!<br><br>I'll post my specs too <br><br></td></tr></table><br>
<a name="2046836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Windows 7 64bit<br>ATI Radeon 7750 HD 800MHz 1GB PCI-Express 3.0<br>Intel Pentium Dual Core Sandybridge G630 2.7GHz<br>8GB RAM <br><br></td></tr></table><br>
<a name="2049767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Flad</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just had the same problem while I just wanted to see what has been going on on Monkey since it's release (bought it back then, but haven't done any coding using it).<br><br>Luckily I had a very old version installed (31) gave it a try and it run fullspeed so I was able to locate the issue :)<br><br>It's the joystick/gamepad support - in my case I do have a wireless adapter for the Xbox 360 gamepad. As long as my gamepad isn't connected the glfw target is unusable slow but if I switch on the gamepad it works without an issue.<br>Unplugging the wireless adapter doesn't help, so the only solution is to switch on my gamepad.<br><br>So my guess is, if you used a joystick/gamepad at any time in the past, for whatever reason, Monkey (or the library Monkey uses to handle the joystick input) keeps trying to access/init/connect the joystick/gamepad and this probably timeouts after a few hundret milliseconds each frame. Well, that's at least my guess but I'm quite sure that's a pretty good shot at it.<br><br>Unfortunately I don't have a clue about the build backends so I have no idea how this could be fixed, but maybe someone who does, could have a look at the issue. <br><br></td></tr></table><br>
<a name="2049771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Flad</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, this was easier than I expected (took me longer to find the bug than to find a workaround ;-))<br><br>Add these lines after mouseY=y; in gxtkInput::BeginUpdate() in the file mojo.glfw.cpp (in modules/mojo/native)<br><br>if( glfwGetJoystickParam( GLFW_JOYSTICK_1, GLFW_PRESENT ) == GL_FALSE )<br>{<br>    return;<br>}<br><br>This is just a quick fix, I don't know if the state data of the buttons/axis should be reset to some default values if the joystick isn't present.<br>So just use this as a workaround until it's fixed in an official release. <br><br></td></tr></table><br>
<a name="2049902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh wow, I look forward to giving this a try :) <br><br></td></tr></table><br>
<a name="2049957"></a>

<a name="2049958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> ---<br><br>Wow yeah, it's to do with the game pad. If the Xbox controller is plugged in, it's fine, if it isn't it's really patchy. With Michael Flad's patch it's fine either way! (Thanks Michael!) <br><br></td></tr></table><br>
<a name="2049942"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
