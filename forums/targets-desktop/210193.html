<!DOCTYPE html><html lang="en" ><head ><title >Solution to the Desktop Release Issue (OpenAL)?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Solution to the Desktop Release Issue (OpenAL)?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >Solution to the Desktop Release Issue (OpenAL)?</a><br><br>
<a name="2112922"></a>

<a name="2112923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GarBenjamin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>THIS HAS BEEN RESOLVED!</b><br><br>I resolved this by testing thoroughly on several Windows computers the 32-bit and 64-bit versions of the OpenAL DLLS.<br><br>You could just deploy the OpenAL installer but for the sake of the end gamer I don't like adding an additional requirement to install an audio library. I think the end user should be able to choose. If they want they can.<br><br>So, with that in mind, I am simply using the DLL files that worked on both 32-bit and 64-bit Windows operating systems along with the required inclusion of the license file.<br><br>Just to make this easier for other Monkey X users the <b>Windows</b> OpenAL files I will include with my games are available <a href="http://garsgames.com/MonkeyXDemos/OpenAL.zip" target="_blank"><b>here</b></a>.<br><br>Just extract the contents into the same folder as your Monkey game executable.<br><br>.<br><br>.<br><br>ORIGINAL POST BELOW<br><br>------------------------------------------------------<br><br>Hey all.<br><br>I ran into a problem where a friend asked for a Windows desktop full-screen build of my Halloween game. Actually making the full-screen desktop build was no problem of course.<br><br>However, even dropping the OpenAL32.dll in the folder where my exe is did not work. It produced an issue "Either OpenAL32.dll is not designed to run on Windows or the file is corrupted".<br><br>I copied the file again and same result.<br><br>I searched these forums and found posts saying to simply drop the dll in to the main folder with the exe. Like I said, I had already tried that and it does not work.<br><br>The only way around it I can see is to provide the OpenAL installer and ask them to run that first. That seems like a "cheap" way of doing things though. Gamers don't want to mess around with such things.<br><br>So before I check into using Inno or another installer to see if I can have it install both my game and the OpenAL library I wondered if anyone had a solution to deploying to Windows desktop that hides all of this stuff and just works for the end gamer?<br><br>I'm kind of surprised as long as Monkey X has been around there is not some seamless way of deploying to desktop. I'd have thought people would have ran into this many times by now? <br><br></td></tr></table><br>
<a name="2112917"></a>

<a name="2112918"></a>

<a name="2112919"></a>

<a name="2112920"></a>

<a name="2112921"></a>

<a name="2112916"></a>

<a name="2112915"></a>

<a name="2112761"></a>

<a name="2112760"></a>

<a name="2112762"></a>

<a name="2112763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b><a href="http://www.monkey-x.com/Community/posts.php?topic=9929" target="_blank">This thread</a></b> should help you out. Either ship the DLL, or use the installer. If the DLL is the issue, are you sure it's the right one?<br><br>Official links:<br>* <a href="http://www.openal.org/creative-installers/oalinst.zip" target="_blank">http://www.openal.org/creative-installers/oalinst.zip</a><br>* <a href="http://www.openal.org/downloads" target="_blank">http://www.openal.org/downloads</a><br>* <a href="http://www.monkeycoder.co.nz/downloads/oalinst.exe" target="_blank">http://www.monkeycoder.co.nz/downloads/oalinst.exe</a><br><br>Shipping redists is a pretty common thing all the way around. Windows just sort of sucks about it. It doesn't help that Microsoft ships yearly updates to their C libraries. Not to mention the issues with generated libs supporting only one version of something, even if it's possible to support several (XInput). And DirectX is just ridiculous. Just look at what Steam is forced to do. And people just end up throwing their targeted libraries in the same folder anyway.<br><br>If the above installers don't work, you could try running the game in compatibility mode. That's about it, though. <br><br></td></tr></table><br>
<a name="2112765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GarBenjamin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ImmutableOctet(SKNG) Thanks for the reply!<br><br>I actually suspect the DLL is the issue. Because I have a 64-bit Windows OS and the other computer I found out is a 32-bit Windows OS (I actually thought those were basically gone at this point but yeah guess not lol).<br>The problem is I didn't see how to actually get the 32-bit version of the DLL.<br><br>I will check into it more tonight. I have no problem with just offering two downloads 32-bit and 64-bit for my games. That will work. I just need to track down the 32-bit DLL or get the source and build it I guess. <br><br></td></tr></table><br>
<a name="2112764"></a>

<a name="2112766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, Monkey builds 32-bit binaries (Unless you want to mess with MSVC or g++), so you'd need 32-bit DLLs either way.<br><br><a href="http://www.monkeycoder.co.nz/downloads/oalinst.exe" target="_blank">This link</a> should have a good enough redist to ship with your game. <br><br></td></tr></table><br>
<a name="2112773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GarBenjamin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That link is for the installer. I want to avoid that if possible. Mainly because I don't recall playing any game in many years that required running a separate installer just to get audio support. In this case actually just to get the game to work at all.<br><br>I'll have a look on lunch break. Thinking that 32-bit openAL should be downloadable from somewhere. Otherwise will look into building it in MSVC. At this point I have no idea how to build it in Monkey X. Thanks! <br><br></td></tr></table><br>
<a name="2112767"></a>

<a name="2112771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would post this as bug report. On MacOS and Linux this is not an issue but for Windows GLFW targets both Angle and OpenAL Soft should just work and not have dll dependency. Or in the case of OpenAL if it has to use dll. should fail gracefully and play game muted.<br><br>The reason you don't see the Creative OpenAL installer often on Windows is because it only ever shows itself once, likely the very first Indie game you installed on your PC. The fact it gives the impression of being a Win95 VB app was never a good look. <br><br></td></tr></table><br>
<a name="2112769"></a>

<a name="2112770"></a>

<a name="2112768"></a>

<a name="2112772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GarBenjamin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I might have a way around it. I set the compatibility mode on my 64-bit laptop to Windows XP Service Pack and ran the installer and then went to the System32 folder and copied that DLL. Then I removed the compatibility mode and ran the installer again so it would install the 64-bit version again.<br>Assuming that actually worked I should now have the 32-bit and 64-bit DLL. They are different sizes so I am thinking they are different. Just need to test. <br><br></td></tr></table><br>
<a name="2112775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GarBenjamin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Skid yeah I am not sure why when the build is created it doesn't just statically link the lib. Unless that is prohibited by the license. <br><br></td></tr></table><br>
<a name="2112774"></a>

<a name="2112777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Phil7</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @GarBenjamin: I did the same with the dll (install and copy it from system32) and I deinstalled openAL afterwards, so I can be shure that my game doesn't work if I forget to put the dll next to the exe. ;-)<br> I even didn't need the 64bit version, no matter what windows system (64 and 32 bit)  I was trying the game on. <br><br></td></tr></table><br>
<a name="2112781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GarBenjamin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Phil7 that is a great idea. I will go ahead and uninstall OpenAL too. You are right it would be the perfect way to make the dev machine more like end gamers machines. If I cannot run the game because I forgot the DLL that will definitely keep me alerted to the need to have it in there. And very awesome if only the 32-bit version is actually needed in both cases.<br><br>In unrelated news I'm really looking forward to messing around with Monkey X Pro and checking out what that Ignition X thing is I got last night. <br><br></td></tr></table><br>
<a name="2112780"></a>

<a name="2112779"></a>

<a name="2112778"></a>

<a name="2112784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't recall playing any game in many years that required running a separate installer just to get audio support. <br></div><br>They install it in silent mode while installing the game. Usually the same thing happens with Direct-X, .net libraries and a bunch of stuff... <br><br></td></tr></table><br>
<a name="2112805"></a>

<a name="2112811"></a>

<a name="2112812"></a>

<a name="2112813"></a>

<a name="2112814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GarBenjamin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SLotman yeah I completely understand that. That is what I am after making it transparent to the end gamer. I've got it sorted now. I have one DLL (version actually two DLLs: OpenAL32.dll and wrap_oal.dll) that work on both 32-bit and 64-bit Windows OS. At least the machines I had available for testing. I was just surprised MX wasn't including it as part of the build automatically. But this is fine like this. As long as end gamers can simply launch game they will be happier campers.<br><br>This project was a good Monkey X learning experience. Or at least an opportunity to get more comfortable with MX. I also discovered, or rediscovered, I need to go with a fullscreen 800x600 mode from now on. Because 640x480 won't work on my tv. I guess I already figured that out in Unity last year and forgot because I used that resolution for my Christmas game. Anyway from now on I will target 800x600 for my retro games in MX or whatever because I prefer playing them with joypad on the big screen no messing around required. <br><br></td></tr></table><br>
<a name="2112790"></a>

<a name="2112788"></a>

<a name="2112789"></a>

<a name="2112786"></a>

<a name="2112787"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
