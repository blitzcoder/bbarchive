<!DOCTYPE html><html lang="en" ><head ><title >Memory access violation in glutil.monkey&lt;40&gt;</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Memory access violation in glutil.monkey&lt;40&gt;</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=300" >Desktop</a>/<a href="#bottom" >Memory access violation in glutil.monkey&lt;40&gt;</a><br><br>
<a name="2124918"></a>

<a name="2124919"></a>

<a name="2124920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonoDesire</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>A bit depressed at this point. I had a running environment a week ago, but something has broke...<br><br>I am on Win10 using MonkeyXPro86e and mojo2. I am trying to run using the Glfw3 target. I get this runtime error:<br><br><pre class=code>Monkey Runtime Error : Memory access violation
C:/Users/Mats/Desktop/INFLUENCE/MonkeyXPro86e/modules/mojo2/glutil.monkey&lt;40&gt;
C:/Users/Mats/Desktop/INFLUENCE/MonkeyXPro86e/modules/mojo2/graphics.monkey&lt;694&gt;
C:/Users/Mats/Desktop/INFLUENCE/MonkeyXPro86e/modules/mojo2/graphics.monkey&lt;784&gt;
C:/Users/Mats/Desktop/INFLUENCE/MonkeyXPro86e/modules/mojo2/graphics.monkey&lt;637&gt;
    :
D:/git/keeprunning/resourcehandler.monkey&lt;26&gt;</pre><br><br>Line 40 in glutil.monkey looks like this:<br>Local shader:=glCreateShader( type )<br><br>And line 26 in resourcehandler.monkey looks like this:<br>backgroundImage = mojo2.Image.Load("main_window/background.png", 0.0, 0.0)<br><br>I am not even using shaders, as far as I know. My game is just a simple 2D game. What I do is just to load and draw images.<br><br>I am using Visual Studio 2015. As suggested in another thread in the Desktop group, I opened the MonkeyGame.sln file in Visual Studio. The entire solution opened fine (but there were problems running it, maybe same problems as seen when running from within Ted).<br><br>I have also tried to install MinGW and set MINGW_PATH="C:\\sdks\MinGW\" and #GLFW_USE_MINGW=True to enable it. Building/linking works fine (as in the case of using VS2015 too), it just crashes in runtime.<br><br>Any hints are VERY welcome! :-) <br><br></td></tr></table><br>
<a name="2124933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leginus</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had this problem with GLFW before and spent days checking my code and even backing it out through SVN.  <br>It ran fine in html5 but not GLFW.  Would you believe it was a bad image.  <br><br>Try a different image and see if that fixes it.  Loaded fine in html5 but nt GLFW. Obviously its not guaranteed to be the same for you, but no harm in trying. <br><br></td></tr></table><br>
<a name="2124944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonoDesire</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Leginus<br><br>Thank you for your hint. It's the same thing here (forgot the mention it my initial post), that I can run my game in HTML5, but not in GLFW.<br><br>I have now identified which Git commit the problem occurred in. Unfortunately it's a quite large commit, so I need to read to investigate it for a while. But I think you might be right, it can certainly have something to do with images. I did a quick test and commented out all loading of all images, and I got pass that memory violation. So there is definitely something fishy in that area. <br><br>When I find the problem I will write back in here for reference for other people that might run into the same problem.<br><br>Thanks so far! :-) <br><br></td></tr></table><br>
<a name="2124947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MonoDesire</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, so I found out what the problem was. And yes, it was related to how the image was loaded.  The problem was that the path to the image was invalid while trying to load it. I had messed up the paths, because I use a sub path for my test bench/code, and it could not access the images in a proper way.<br><br>Again, thanks Leginus for pointing out that it could be something with the images! :-) <br><br></td></tr></table><br>
<a name="2124956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leginus</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad it helped in some way and that you got it sorted :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
