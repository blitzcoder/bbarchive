<!DOCTYPE html><html lang="en" ><head ><title >Syntax wishlist/ideas</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Syntax wishlist/ideas</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=530" >Monkey2 Talk</a>/<a href="#bottom" >Syntax wishlist/ideas</a><br><br>
<a name="2107504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thought it might be good to seperate this from the language feature thread.<br>It's pretty clear that this is more of a personal taste debate so keep that in mind.<br><br>1)<br>Allow declaration of local variables without the use of the keywords <b>local</b> or <b>field</b>. This assumes that you can't redeclare your variables with it's type, which I don't see a reason to ever do. <br><br><pre class=code>
Class Thing
  name:String
  position:Vector
End

edit: changed my mind, this is probably a bad idea. fine like it's in monkey1

Function Foo()
  x:Int = 20
  y:= 10.0
End
</pre><br><br>2)<br>Make comments start with //.<br>I know it breaks away from BASIC tradition but ' has to be the most unfortunate and unpleasing character to look at/type. <br><br></td></tr></table><br>
<a name="2107407"></a>

<a name="2107408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> - 1 million for locals without "local"<br><br>+ 1 million for comments tart with // <br><br></td></tr></table><br>
<a name="2107409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agree with Skn3 ;) <br><br></td></tr></table><br>
<a name="2107412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Make comments start with //. <br></div><br><br>yuck, no. <br><br></td></tr></table><br>
<a name="2107420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Comments start with ';' or '//', simply because ' is a literal character identifier. Single-Quote ' =literal character, Double-Quote " = strings. Logical and easy.<br><br>Within (API) Structures, the 'Field' is unneccesary, I agreee.<br><pre class=code>Structure Point
    x:Int
    y:Int
End Structure

Structure PointF
    x:Float
    y:Float
End Structure</pre><br>Such data structures simply don't have Global/Local/Static fields. It's just a definition/declaration of a memory structure/layout. <br><br></td></tr></table><br>
<a name="2107419"></a>

<a name="2107418"></a>

<a name="2107417"></a>

<a name="2107413"></a>

<a name="2107414"></a>

<a name="2107415"></a>

<a name="2107421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  ... but ' has to be the most unfortunate and unpleasing character to look at/type. <br></div><br>Well, it depends on the keyboard layout.<br>Personally I'm fine with basic ' or ; or pythons # or even luas --. But please don't use //. <br><br></td></tr></table><br>
<a name="2107428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> -1 to both of these suggestions.  I see no reason to change the existing syntax. <br><br></td></tr></table><br>
<a name="2107437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> -1 to both of these suggestions. I see no reason to change the existing syntax. <br></div><br>Would be nice if both ' and // were supported. So not remove the old syntax, just add an alternative.<br><br>I would say that because the main native language is cpp, and // is the defacto in cpp (as well as many other languages) it would be good to support this within MX2. As a module developer I have to deal with windows-keyboard/osx-keyboard, monkey, cpp, java, objc, javascript and c#... the common comment syntax across all of that (apart from monkey) is //, I can tell you that it is a common occurrence having to re-type typod comments. I am constantly having to readjust to the environment I am in at that particular time. // would take the edge off of this brain pain! <br><br></td></tr></table><br>
<a name="2107435"></a>

<a name="2107436"></a>

<a name="2107439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> On a German keyboard layout ; # ' and – are absolutely easy to type but // is really painful. Since comments are something everyone uses very often it should be easy to input them. I think there are two possibilities now:<br><br>1. stay with ' because of monkey tradition<br><br>2. change single line comments so that they are more easy to type for everyone<br><br>C, C++, PHP, C#, Java and all the other curly brace languages have much more complex syntactic rules than just // for comments. They are completely different from monkey. I think it is a really bad idea to mix monkey with these languages and I am against multiple syntactic possibilities since it reduces monkeys consistency. It is right that // is a widely used standard in many programming languages – but there are others, too. Here are some examples for single line comments in other languages:<br><br>#	python, perl, ruby, R, Tcl, LiveScript, Julia, Nim, Paren, racket, yaml<br><br>--	Lua, Haskell, Ada, purescript<br><br>%	erlang, Matlab<br><br>;	clojure, Lisp, Paren, racket, Red, whip, BlitzBasic<br><br>(see <a href="http://learnxinyminutes.com/" target="_blank">http://learnxinyminutes.com/</a> for more)<br><br>Some of these may support # as a second possibility since # is useful for scripting because of shebangs (#!/path/to/interpreter) but monkey already uses it for preprocessor directives. To use shebangs in monkey the preprocessor could simply ignore them. This would also allow monkey to become a nice scripting language in the future.<br><pre class=code>
#!/bin/monkey
</pre><br>-- should be easy to type on most keyboards but I would prefer to stay with '. <br><br></td></tr></table><br>
<a name="2107457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> if ya allow people to use more c-like syntax, they will use it.  If it looks sufficiently foreign to Monkey/VB syntax, it will make code harder to read.  So much more so if the styles are interchanged within the same document, as is the case when multiple coders work on something with no enforced style guide.  Wiki seems to state that single quotes for comments are used almost exclusively by VB and RealBasic.  I'm actually fine with this, because there is no precedent for using single quotes for char literals in VB -- we use the type sigil "c" for that, as in "a"c.  <br><br>Type sigils have been used in BASIC forever, and I see changing comments to c-like // as part of a larger agenda to shove crap in there like single quote literals and other things of that nature which are "dependent" on each other once you start adding one or two of them in.  Single quotes get used in some place other than for comments?  Well, now it seems like parsing and lexing comments are more complicated, why not allow // comments for readability?  Why not switch out the ' comment symbol entirely to avoid this?   Etc.  Next thing you know, we have another c-like language, because the people here who are more comfortable with that will be putting out code patterns which match this style and try to eschew BASIC syntax wherever possible.  I've pointed out my philosophical opposition to this in previous threads, so I don't need to wade deep into it again, but nobody on the outside wants "yet another c-like".<br><br><b>Edit:</b>  I guess I'm not completely opposed to // comments "as an option", but I think it would be ugly, and more cruft.  AFAIK, mx2 was going to remove some of that syntax flexibility that Monkey arguably had a bit 'too much of' in the first place.  (Ironically, type sigils may have been one of those things?!) <br><br></td></tr></table><br>
<a name="2107454"></a>

<a name="2107455"></a>

<a name="2107456"></a>

<a name="2107465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark, for whatever you do, please don't make things optional. One way of doing comments, one way of ending a statement, etc etc. And if you choose a different langusge for It, please name it something else besides Monkey 2. As it won't be the successor but a new language. <br><br></td></tr></table><br>
<a name="2107470"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> a) variables definition like in C#, very elegant.<br>b) tabs indentation instead of ENDs, like in Python, so nice to read.<br>c) ' is great for single line comments, for multiple lines: '*  *', easy to type and understand. <br><br></td></tr></table><br>
<a name="2107468"></a>

<a name="2107472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MaxPower</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Class is a Type.(i think) cannot we leave it as Type (aka BlitzMax).Semicolons are bang on for COMMENTS.As a nested comment rem, end rem, WORK keep the basic nostalgia alive. <br><br></td></tr></table><br>
<a name="2107475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> a) variables definition like in C#, very elegant. <br></div>You mean substituting Local keyword by var keyword? Data type inference would require it, unless you do it like:<br>a:="Hello world"<br>Which can add considerable overhead to handle variables shadowing. <br><br></td></tr></table><br>
<a name="2107476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about '[[ ... ]]'? I already use '* for inline documentation.<br>#rem and #end are also okay but should be case sensitive. At the moment multi line comments make syntax highlighting relatively hard to implement in some editors like gedit or notepad++ (they are case insensitive and #preprocessor commands at the same time). <br><br></td></tr></table><br>
<a name="2107477"></a>

<a name="2107478"></a>

<a name="2107479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ziggy<br>A.o. i meant the definition (*1, just get rid of the ;) like, scope type name(s), it's clean, efficient and makes sense, no more finger breaking ":" or cryptic one character types. C#'s data types are nice too, ...<br><br>*1<br>private int i, j, k = 789;<br>Local i:Int, j:Int, k:Int = 789 <br><br></td></tr></table><br>
<a name="2107480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is just changing things for the sake of changing them.  I've yet to see a convincing argument as to why any of this should change.  Monkey syntax is 90% similar to BlitzMax anyway.<br><br><div class="quote"> @Skn3: Would be nice if both ' and // were supported. So not remove the old syntax, just add an alternative. <br></div><br>Why?  Adding alternatives creates personal preference and makes code inconsistent between developers.<br>As it is, optional semicolons irk me to no end.  If I'm modifying other developers' code, OCD kicks in and I don't know whether to use semicolons or not, or whether to go through and add or remove them all.<br><br><div class="quote"> @Nobuyuki:  If it looks sufficiently foreign to Monkey/VB syntax, it will make code harder to read. <br></div><br>This.  I love my braces and semicolons, but after years of using Monkey/BlitzMax I've come to the conclusion that they don't belong.<br><br><div class="quote"> @MikeHart: Mark, for whatever you do, please don't make things optional. One way of doing comments, one way of ending a statement, etc etc. <br></div><br>Exactly.<br><br><div class="quote"> @taumel: b) tabs indentation instead of ENDs, like in Python, so nice to read. <br></div><br>Begin and End blocks instead of tab indentation, so nice to read.<br><br><div class="quote"> @taumel: c) ' is great for single line comments, for multiple lines: '* *', easy to type and understand. <br></div><br>I wouldn't be entirely against this, but I wonder if something like triple quotes might be better.<br><pre class=code>'''
multiline
comments
'''</pre><br><br><div class="quote"> @MaxPower: Class is a Type.(i think) cannot we leave it as Type (aka BlitzMax). <br></div><br>Except classes are classes in just about every other OO language.<br><br><div class="quote"> @ziggy: You mean substituting Local keyword by var keyword? Data type inference would require it, unless you do it like:<br>a:="Hello world" <br></div><br>Which means the developer needs to pay attention to that extra character that says "this is declaring a local variable with an inferred data type" rather than a clear keyword, and "Local" is fine.<br><div class="quote"> @ziggy: Which can add considerable overhead to handle variables shadowing. <br></div><br>Yep.<br><br><div class="quote"> @PixelPaladin: What about '[[ ... ]]'? I already use '* for inline documentation. <br></div><br>Inline documentation should be generated with an external tool based on the content of comment blocks, and should be seen as just a regular comment block to the compiler.<br>Javadoc and Doxygen both use /**, C# doc tool uses ///<br><br><div class="quote"> @PixelPaladin: #rem and #end are also okay but should be case sensitive. <br></div><br>#Rem and #End are keywords, and like all other keywords in Monkey they should be case insensitive.<br><br><div class="quote"> @PixelPaladin: ...relatively hard to implement in some editors like gedit or notepad++... <br></div><br>Then use another editor.  Syntax highlighting is incredibly difficult in languages with preprocessor commands, since the IDE needs full control over the toolchain to get it right.<br>Example:<br><pre class=code>#If FOO="bar"
#Rem
Print "hello"
#Else
Print "world"
#End
#End</pre><br>FOO could be defined in another file or on the command line, so there's no way to tell which part is and isn't comments.<br><br><div class="quote"> @taumel: no more finger breaking ":" or cryptic one character types. ... private int i, j, k = 789; <br></div><br>Which moves completely away from the standard way of doing things in Monkey and BlitzMax, and will completely break any backward compatibility. <br><br></td></tr></table><br>
<a name="2107481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't care about backwards compatibility. Isn't Monkey with Mojo2 going to be updated for those who can't let things go?<br><br>I do care about a new language i might enjoy using and how it could be done the best. <br><br></td></tr></table><br>
<a name="2107482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @taumel: I don't care about backwards compatibility. <br></div><br>And you're entitled to not care, but there are plenty of others who will.<br><div class="quote"> @taumel: Isn't Monkey with Mojo2 going to be updated for those who can't let things go? <br></div><br>It's not about "letting it go", it's about migrating existing Monkey code to Monkey 2.  Developers are much more likely to embrace it if there are minimal changes required to make their old code compile with the new language.<br><div class="quote"> @taumel: I do care about a new language i might enjoy using and how it could be done the best. <br></div><br>As do I, but ignoring the cost of migration is a surefire way to put people off.  If it's going to take me weeks/months to port my code to Monkey 2, and I don't need any of the new features, why bother?  If I can port my code in a few days with minor tweaks, that's fantastic. <br><br></td></tr></table><br>
<a name="2107484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Samah: Inline documentation should be generated with an external tool based on the content of comment blocks, and should be seen as just a regular comment block to the compiler. <br></div><br><br>I am using  an external tool which I have written. It uses '* comments in monkey documents and writes a *.monkeydoc file.<br><br>The #Rem example looks pretty interesting. I did not know that nesting rem blocks is possible. <br><br></td></tr></table><br>
<a name="2107485"></a>

<a name="2107486"></a>

<a name="2107487"></a>

<a name="2107488"></a>

<a name="2107489"></a>

<a name="2107490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Samah<br>I wonder what plenty actually means.<br><br>If core concepts of a language aren't changed then migration often is quite easy. And nope, i don't consider such vars def as a biggy.<br><br>I think the benefits of a 'better' language/tool are far more important for its future than the migration costs of some/a few projects. <br><br></td></tr></table><br>
<a name="2107492"></a>

<a name="2107493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @samah:  I wouldn't be entirely against this, but I wonder if something like triple quotes might be better. <br></div><br><br>Using it to open/close a REM block actually sounds interesting to me;  perhaps it would be easier for web / notepad parsers to handle?  It's not entirely unheard of -- VB.NET uses triple quotes for tags, but each line must begin with '''.  VS makes this easier by recognizing tag blocks in the IDE.  It may also possibly make autodocumentation easier, though it seems like the way that currently works is to have a separate file for documentation and code.<br><br><strike>+1 to keeping var declarations the way they are.  Don't mess with it, they make so much sense the way they are now;  Newbies are forced to understand how scoping works through the declaration keyword, and scope ambiguity is practically eliminated when skimming a block of code, even someone else's code from a distance.  The only thing that "doesn't" make sense from my BASIC background is Global, and that is due to my preconditioning to believe that Global means GLOBAL no matter where it lies, and this is not very OO-friendly.  It makes more sense to a newbie that Global inside a class means Static/Shared.  The only other language I can think of off the top of my head that "gets this" is Ruby, and Ruby is 1. dynamic and 2. uses sigils, so it's not directly comparable.  But just like Ruby, in typical style patterns, it's <i>dead easy</i> to figure out what belongs where.</strike><br>Edit:  May have misinterpreted the conversation.  I'm okay with getting rid of type sigils, even though it's a "BASIC tradition".  It would make the code more readable.  The varname:Type syntax is fine the way it is, and works identically to AS3, with the major exceptions being that Monkey is more strongly-typed and also requires declaration with the appropriate scoping keyword.<br><br>I'd believe what Samah said about people wanting change "for change's sake" with little convincing to back up those radical changes, but I feel like it's more like an agenda.  One that's been laid to rest several times already, which makes me wonder why it's cropping up again now...<br><br><div class="quote"> @taumel:  I think the benefits of a 'better' language/tool are far more important for its future than the migration costs of some/a few projects. <br></div><br><br>I've yet to see these benefits, personally... <br><br></td></tr></table><br>
<a name="2107491"></a>

<a name="2107505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @taumel: I wonder what plenty actually means. <br></div><br>It means more than just one person's opinion.<br><br><div class="quote"> @taumel: If core concepts of a language aren't changed then migration often is quite easy <br></div><br>Changing a large codebase to Python-style indentation is non-trivial.<br><br><div class="quote"> @taumel: And nope, i don't consider such vars def as a biggy. <br></div><br>I do, so we'll have to agree to disagree. <br><br></td></tr></table><br>
<a name="2107508"></a>

<a name="2107509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wont be removing Field or Local, partly for the migration issues, but also because I think it's part of what gives monkey its 'personality'. Which probably sounds like BS to some people, but I like the amount of consistency monkey enforces here - it's part of what makes monkey monkey. Hard to describe...<br><br>On a semi related note, I've also been thinking recently about how to treat keyword case - upper or lower? - and for now I'm going with monkey1 style, ie: keywords are case-insensitive, so IDE's can auto-capitalize if they want. This isn't 100% finalized, but it will be this way for V.01 at least.<br><br>I had been using lowercase keywords up to a few days ago, and that's OK and all, but I recently got around to hacking Ted up a bit so tried out the monkey1 style first off - and I reckon it just plain reads better. <br><br>With the explicit decls and uppercase keywords, Monkey is sort of self-documenting. Perhaps this is what it means to be BASIC-like?<br><br>Anyway, I got some pretty interesting stuff going recently, including:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Using std.list

Struct Vec3

	Field x:Float
	Field y:Float
	Field z:Float
	
	Method New( x:Float,y:Float,z:Float )
		Self.x=x
		Self.y=y
		Self.z=z
	End
	
	Operator-:Vec3()
		Return New Vec3( -x,-y,-z )
	End
	
	Operator*:Vec3( v:Vec3 )
		Return New Vec3( x*v.x,y*v.y,z*v.z )
	End
	
	Operator*:Vec3( n:Float )
		Return New Vec3( x*n,y*n,z*n )
	End
	
	Operator+:Vec3( v:Vec3 )
		Return New Vec3( x+v.x,y+v.y,z+v.z )
	End
	
	Method ToString:String()
		Return "Vec3("+x+","+y+","+z+")"
	End
	
End

Function Main:Void()

	Print -"12345"

	Local v1:=New Vec3( 10.0,20.0,30.0 )
	Local v2:=New Vec3( 40.0,50.0,60.0 )
	Local v3:=(v1+v2)*10.0
	Print (-v3).ToString()

	'array of structs
	Local arr:=New Vec3[100]
	arr[10]=New Vec3( 10.0,20.0,30.0 )
	Print arr[10].ToString()
	
	'list of structs
	Local list:=New List&lt;Vec3&gt;
	list.AddLast( New Vec3( 10.0,20.0,30.0 ) )
	Print list.Last.ToString()
	
End
</textarea><br><br>...and...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Struct Signal&lt;T&gt;

	Method Connect:Void( slot:T )
		_f=_f+slot
	End
	
	Property Invoke:T()
		Return _f
	End

	Field _f:T
	
End

Class Gadget

	'Signal...
	Field GadgetClicked:Signal&lt;Void{Gadget}&gt;

End

Global globalId:Int

Class Listener

	Field id:Int
	
	Method New( gadget:Gadget )
		id=globalId
		globalId=globalId+1
	End

	'Slot...
	Method OnGadgetClicked:Void( gadget:Gadget )
		Print "Listener:"+id+" received gadget clicked from gadget:"+gadget.Name
	End
	
End

Function Main:Void()

	Local gadget:=New Gadget
	
	For Local i:=0,i&lt;10,i=i+1
	
		Local listener:=New Listener( gadget )
		
		gadget.GadgetClicked.Connect( listener.OnGadgetClicked )
	Next
	
	gadget.GadgetClicked.Invoke( gadget )
End
</textarea><br><br>I'm trying hard for a weekend 'reward' release, although it'll be as fragile as hell!<br><br>Still, it's getting to the point where the language itself is *almost* usable! Still 1001 non-language things to deal with, but it's getting there. <br><br></td></tr></table><br>
<a name="2107510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oooo operators...<br><br>Oooo structs...<br><br>Oooo better generics... <br><br></td></tr></table><br>
<a name="2107511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, pretty much same generics, just using a function type! <br><br></td></tr></table><br>
<a name="2107515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wish: Newline has no effect on program execution. <br><br></td></tr></table><br>
<a name="2107524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just written two pages of code in a Monkey style and in a style with changes i've mentioned before (plus a few others). The first one is cumbersome and looks kind of outdated, the second one is clean and a joy to read and write.<br><br>I don't want to code in monkey2 if one of its major goals is to reimplement the sins of monkey (even more as monkeys' user base is way too small to make possible migration issues a relevant point). In my opinion Mark is wasting an opportunity to create something better, also for a bigger audience due to wrong decisions.<br><br>Maybe Mark's suggestion was right that i'm probably more interested in a zebra than a monkey 2. Out of curiosity i will stick around to check out the first release but depending on this one and possible information available where he wants to go from there on, i might step away from this project as i currently don't have a good feeling that it will end up like something i want to use, on platforms which are important to me (thinking of html5), ...<br><br>Anyway good luck and looking forward to the first release. <br><br></td></tr></table><br>
<a name="2107523"></a>

<a name="2107522"></a>

<a name="2107521"></a>

<a name="2107520"></a>

<a name="2107516"></a>

<a name="2107517"></a>

<a name="2107518"></a>

<a name="2107519"></a>

<a name="2107525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @therevills: Wish: Newline has no effect on program execution. <br></div><br>+1 <br><br></td></tr></table><br>
<a name="2107536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Wish: Newline has no effect on program execution.<br><br>You mean compilation?<br><br>This means though that either statement separators are optional (which I thought everyone hated) OR all lines must end in ";" (which I at least hate). <br><br></td></tr></table><br>
<a name="2107538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Wish: Newline has no effect on program execution<br> <br></div><br>"Why?" would be my first question! <br><br></td></tr></table><br>
<a name="2107540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> "Why?" would be my first question! <br></div><br>Agreed, "why?" <br><div class="quote">  I've also been thinking recently about how to treat keyword case - upper or lower? <br></div><br>Definitely 'case-insensitive'  It's not good to only rely on the ide's to handle this, It's low hanging fruit imo.<br><br>Also Mark, when you release the first alpha, there are going to be a ton of spurious 'bug' reports. Have you thought about how that should be handled without cluttering up the Monkey2 forum topic? It's bound to get messy. <br><br></td></tr></table><br>
<a name="2107539"></a>

<a name="2107558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> over loaded operators!!!  yay!!  that is so awesome.  I also like how the function type looked.  but, what the diff between a Struct here and a Class?<br><br>+1 to Field, Local<br><br>re: newline no effect on execution...<br>yes, why?  I actually liked optional statement separators.<br>required ; are crap.  <br><br>@taumel, lets see that code comparison.   <br><br>I'm with you when asking; why worry about compatibility when designing the base of this new language?  The only real concern should be creating something that is modern, efficient and easy to understand...  One shouldn't be held back by yesterdays decisions especially with this small base. Not to mention it should take less then a few days of coding to write a conversion app. That said, I generally like Mark's languages so I still want them to feel mostly the same.  I'm totally on board with dropping "End" completely though!<br><br>and <i>bah</i> on worrying about how an ide handles case insensitive keywords, they've been doing it for decades.  I'm with Mark, case sensitive small case keywords don't read as well as upper camel.  though I only type them lower case which is why it's the perfect solution! <br><br></td></tr></table><br>
<a name="2107556"></a>

<a name="2107567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the difference between Struct and Class in MX2?<br><br><pre class=code>Struct Point
    Field x:Int
    Field y:Int
End</pre><br><br><pre class=code>Class Point
    Field x:Int
    Field y:Int
End</pre><br>And how does this integrate with the ptr / varptr pointer-level access, exactly?<br><pre class=code>Local pt1:Point         = New Point()
Local pt2:Point ptr     = New Point() ' ?
Local pt3:Point ptr     = varptr pt1
Local pt4:Point ptr ptr = varptr pt2  ' ?</pre> <br><br></td></tr></table><br>
<a name="2107566"></a>

<a name="2107562"></a>

<a name="2107563"></a>

<a name="2107564"></a>

<a name="2107565"></a>

<a name="2107576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, think I've come up with a pretty good solution to the newline/split lines issue: basically, newline is ignored EXCEPT when the compiler expects to a see an 'end-of-statement' token ie: ";", at which point newline will be accepted as an end-of-statement.<br><br>There will be exceptions,  eg: things like single line Ifs still need to take newlines into account, but for most code it should make newline 99% irrelevant.<br><br>&gt; What's the difference between Struct and Class in MX2?<br><br>Struct objects are allocated on the stack, and are always passed/copied 'by value', eg:<br><br><pre class=code>
Local v1:Vec3=new Vec3
v1.x=0
Local v2:=v1
v2.x=10
Print v1.x    'prints '0' - if Vec3 were a class, would print '10'.
</pre><br><br>You can currently Varptr a struct but not a class. This gives you a pointer into the stack, which is dangerous but very useful for extern APIs, eg:<br><br><pre class=code>
	Local e:SDL_Event
	While SDL_PollEvent( Varptr e )&lt;&gt;0
		If e.type=SDL_QUIT
			Print "Received SDL_QUIT event"
			SDL_DestroyWindow( window )
			window=Null
			Return
		Endif
	Wend
</pre><br><br>Eventually, there will also be a way to allocate structs on the heap (which will also return a Ptr).<br><br>Structs are very fast to allocate and don't require GC (although their members might), but come at the cost of some additional copying (although sometimes this is good). I wasn't going to attempt operator overloading without them, as the overhead of creating temporary class objects (which need full GC) for expressions like v1*v2+v3 is just too great. <br><br></td></tr></table><br>
<a name="2107574"></a>

<a name="2107573"></a>

<a name="2107572"></a>

<a name="2107571"></a>

<a name="2107575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MaxPower</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi is there no easier way you can close,Methods and Functions,instead of using End. <br><br></td></tr></table><br>
<a name="2107577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Hi is there no easier way you can close,Methods and Functions,instead of using End.<br><br>I have no problem with End myself - any ideas? <br><br></td></tr></table><br>
<a name="2107614"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what I understand, I have to create 2 separate Structs and Classes now - for every structure!<br><br>One for use Stack-based, one for use pointer-based.<br><pre class=code>Struct sPoint
    Field x:Int
    Field y:Int
End

Class cPoint
    Field x:Int
    Field y:Int
End</pre><br>I'm speaking about thousands of API structures. Basically every structure needs to be duplicated, one for stack &amp; one for pointer use!?<br><br>I hope it's a joke!?<br><br>Pleasing the "ignore-newline" people creates an even bigger mess.<br><pre class=code>Local a:Int, b:Int

If a = 1
    ' doIt()
End If
b = 2

Local c:Int, d:Int

If c = 1
    ' doIt()
End If d = 2

Local e:Int, f:Int
    
If e = 1
    ' doIt()
End
If f = 2
End If</pre><br>Sorry! I get the feeling it was a mistake to spend any money on a project that's still not well-thought-out.<br>You can't please everyone, I know. But currently it looks like a mess to me, trying to please everyone. <br><br></td></tr></table><br>
<a name="2107595"></a>

<a name="2107592"></a>

<a name="2107591"></a>

<a name="2107589"></a>

<a name="2107587"></a>

<a name="2107585"></a>

<a name="2107586"></a>

<a name="2107590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Varptr on Structs? Nice! <br><br></td></tr></table><br>
<a name="2107594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly: I have no problem with End myself - any ideas? <br></div><br>End is fine.<br><br><div class="quote"> @marksibly: Ok, think I've come up with a pretty good solution... *snip* <br></div><br>I just made a huge post elaborating on this with examples, but then I read your reply.<br><div class="quote"> @marksibly: ...but for most code it should make newline 99% irrelevant. <br></div><br>Perfect. :)<br><br><div class="quote"> @marksibly: ...things like single line Ifs still need to take newlines into account... <br></div><br>To be honest I hate single line Ifs.  Now that newlines are optional, maybe there could be a compromise where you just need to put the End keyword in.<br><br>In Monkey 1:<br><pre class=code>If foo Then bar()</pre><br>Is essentially the same as:<br><pre class=code>If foo Then
	bar()
End</pre><br>Which leads me to say, why couldn't you just have single line Ifs like this?<br><pre class=code>If foo Then bar() End</pre><br>That gets rid of newlines in yet another situation.<br><br><div class="quote"> @Danilo: Pleasing the "ignore-newline" people creates an even bigger mess. <br></div><br>Actually, it makes the language much more elegant, because the syntax is now much stricter.  If it fails compilation it's because your code is wrong, not just that you have a newline somewhere you shouldn't. <br><br></td></tr></table><br>
<a name="2107593"></a>

<a name="2107598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly On a semi related note, I've also been thinking recently about how to treat keyword case - upper or lower? <br></div><br>I would keep the whole language consistent, if variables etc are case-sensitive make keywords case-sensitive (lowercase).<br><br><div class="quote"> @marksibly: ...but for most code it should make newline 99% irrelevant. <br></div><br>99% perfect.<br><br><div class="quote"> @marksibly: I have no problem with End myself - any ideas? <br></div><br>What else would you use instead of End? Braces? End is fine for me too. <br><br></td></tr></table><br>
<a name="2107596"></a>

<a name="2107597"></a>

<a name="2107603"></a>

<a name="2107605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>Samah wrote:</b><br>Actually, it makes the language much more elegant <br></div><br>I am not sure I want to pay $360 / year for such a mess.<br>Reminder: What I want to spend on a voluntary basis (every year) is already much more than I paid for Monkey1,<br>with free life-time updates.<br>Make keywords fixed to be lowercase (WHY?) and I'm out of that ugly mess.... everyone can fork it anyway, for free. <br><br></td></tr></table><br>
<a name="2107601"></a>

<a name="2107602"></a>

<a name="2107599"></a>

<a name="2107600"></a>

<a name="2107604"></a>

<a name="2107606"></a>

<a name="2107607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo: I am not sure I want to pay $360 / year for such a mess. <br></div><br>Not quite sure how you got "mess" from "elegant"...<br><br><div class="quote"> @Danilo: Reminder: that's already much more than I paid for Monkey1 with free life-time updates. <br></div><br>Reminder: Patreon is an optional donation.  Monkey1 was mandatory for mobile targets.  You're free to pay $0 for it if you choose.<br><br><div class="quote"> @Danilo: Make keywords fixed to be lowercase (WHY?) <br></div><br>Actually I agree with you here.  Basic-ish languages have a history of case insensitive keywords, and I see no reason to change it.<br><br>Edit:<br>I notice you've edited your post a lot there, specifically the part about voluntary donations.  Generally replies will go AFTER the post. <br><br></td></tr></table><br>
<a name="2107608"></a>

<a name="2107609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo - Make keywords fixed to be lowercase (WHY?) and I'm out of that ugly mess. <br></div><br><div class="quote"> @Samah -  and I see no reason to change it. <br></div><br>I already stated the reason, for consistency. Another would be it would be easier to write IDEs etc. <br><br></td></tr></table><br>
<a name="2107610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @therevills: Another would be it would be easier to write IDEs etc. <br></div><br><pre class=code>if token == "class" then keyword</pre><br><pre class=code>if token.toLower() == "class" then keyword</pre><br>... <br><br></td></tr></table><br>
<a name="2107611"></a>

<a name="2107612"></a>

<a name="2107613"></a>

<a name="2107615"></a>

<a name="2107617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> IDE's can have style options to write/replace  "endif" / "EndIf" / "endIf" / "eNdIf". We are talking about the language itself here, not about any IDE's. <br><br></td></tr></table><br>
<a name="2107616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo  "eNdIf" <br></div><br>And you said you were "out of that ugly mess.".... <br><br></td></tr></table><br>
<a name="2107618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo: IDE's can have style options to write/replace "endif" / "EndIf" / "endIf" / "eNdIf". We are talking about the language itself here, not any IDE's. <br></div><br>Exactly.  If it were really a problem, Visual Studio, #Develop, Blide, Jungle, and others would be unusable. <br><br></td></tr></table><br>
<a name="2107721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>therevills wrote:</b><br>And you said you were "out of that ugly mess.".... <br></div><br>Yes, I am awaiting Mark's answer, not reacting in a rush. The "duplicating structs and classes" thing was my biggest concern<br>when seeing it first time. <br><br></td></tr></table><br>
<a name="2107619"></a>

<a name="2107620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark:<br>Can structs have methods, like in C++?  From an implementation standpoint, I don't see why they couldn't. <br><br></td></tr></table><br>
<a name="2107621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I am not sure I want to pay $360 / year for such a mess.<br> <br></div><br>Kinda knew a minority would use threatened withdrawal of donations to try and force their own preferences. (You don't have to pay $360/year, by the way.)<br><br>I prefer capitalised keywords and capitalised (BRL) function/method names. Not going to throw all my toys out of the pram if Mark makes another call, though. <br><br></td></tr></table><br>
<a name="2107622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Danilo: This "duplicating structs and classes" thing is part of C#, too – and there are reasons for that. It does not mean that everything has to be duplicated. <br><br></td></tr></table><br>
<a name="2107625"></a>

<a name="2107628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding keyword case-sensitivity, I really don't care.  I'll just use it how it's designed.<br>If there had to be a decision, I'd prefer all lowercase. <br><br></td></tr></table><br>
<a name="2107623"></a>

<a name="2107626"></a>

<a name="2107627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I prefer capitalised keywords and capitalised (BRL) function/method names. Not going to throw all my toys out of the pram if Mark makes another call, though. <br></div><br><br>Mark asked for opinions and I gave mine - and I'm happy to listen to others too as long as dummies aren't spat.<br><br>Regarding case-sensitivity as a whole, I prefer it and I know some are against, some have changed their mind after user Monkey. I guess it depends on what market/mind-set Mark is aiming MX2 at.... <br><br></td></tr></table><br>
<a name="2107624"></a>

<a name="2107629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @PixelPaladin: This "duplicating structs and classes" thing is part of C#, too... <br></div><br>I don't see this as a problem really, because most of the time you'll only want one or the other.  If it's something that needs to be passed around as an object, you'll define it as a class.  If it's something that needs to be passed around as a value, you'll use a struct.<br>If you want to pass a struct "by reference" as you would a class, use a pointer. <br><br></td></tr></table><br>
<a name="2107635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> To use a structure as both, stacked-based and pointer-based, it seems you have to declare them twice.<br>Even C++ is easier to use: Point x; vs. Point* y;. In MX2, it seems, you have to duplicate ten-thousands of structures!? <br><br></td></tr></table><br>
<a name="2107630"></a>

<a name="2107640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo: To use a structure as both, stacked-based and pointer-based... <br></div><br>I don't see why you would want to explicitly put a struct on the heap.  With your point example:<br><pre class=code>Struct Point
	Field x:Int
	Field y:Int
End

Function Foo()
	Local pt:Point ' stack
	pt.x = 1
	pt.y = 2
	PassAsValue(pt)
	PassAsPointer(VarPtr pt)
End

Class Sprite
	Field position:Point ' heap, because Sprite is a class
	Field size:Point ' heap, because Sprite is a class

	Method Foo()
		Self.position.x = 1
		Self.position.y = 2
		Self.size.x = 10
		Self.size.y = 20
	End
End</pre><br><br><div class="quote"> @Danilo: Even C++ is easier to use: Point x; vs. Point* y <br></div><br>Except that's not a value type, which is the point of structs. <br><br></td></tr></table><br>
<a name="2107641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> for single line ifs, require Then.<br><br>I also don't understand how removing the need for newlines is considered elegant.  You can write bad looking code with this.  Can someone explain it to me like I'm 5?  I'm not going to lose my cool over it, I am just wondering why several people seem to think it's a good thing.<br><br>As for keywords.... I think they should be case-insensitive.  Keep variables case-sensitive but if keywords "need" to be case-sensitive too, please make them Sentence Case.  Modern BASIC follows this convention of re-capitalizing all keywords in this fashion, even though I believe it's case-insensitive, too.  <br><br>Operator overloading is exciting! <br><br></td></tr></table><br>
<a name="2107651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; for single line ifs, require Then.<br><br>I am leaning towards this - plus only one statement after the then. That way you can skip the 'End' and don't need any special case end-of-line checking. <br><br>&gt; I also don't understand how removing the need for newlines is considered elegant.<br><br>I try to keep everything on one line myself, but there are times when you're calling something with a ton of parameters where I do think spitting lines is a better alternative than ending up with lines that are too long to view in your editor, so I sort of get it. I also think it'll be a more important issue the more libs monkey2 embraces, some of which have pretty complex APIs, eg: IMO, CreateWindowEx is more readable with a line for each parameter.<br><br>In the long run, it's not a huge deal to me but it's something a fair number of people want and that I do think is theoretically useful so I'll try my best to do it well!<br><br>&gt; Operator overloading is exciting!<br><br>Isn't it! Freaked myself out when that Vec3 code first ran...! <br><br></td></tr></table><br>
<a name="2107642"></a>

<a name="2107643"></a>

<a name="2107644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't been keeping up with these threads very much, but I don't think Danilo is on the same page. You're basically getting pointers, which work with structures no less. And better C and C++ interoperability. And since pointers to structures aren't useful without a way to modify said structures, I imagine "dereferencing" will be a thing. Keeping this in mind, you already have the ability to use structs like C, you just don't implicitly get garbage collection. I imagine structs will have destructors of some kind, so object references in structures wouldn't be an issue, then.<br><br>I agree that being able to use a class on the stack would be useful, but the entire point of structs is that they're small objects that don't take more than a cache line. Objects on the heap are generally the same way, but they have the benefit of never being copied (In Monkey's garbage collection terms). The biggest issue I can see with not having stack-allocated classes is C++ libraries (STL, mainly) which do that. But, if structures have methods anyway, Monkey could treat those types as structs. <br><br></td></tr></table><br>
<a name="2107655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly: I am leaning towards this - plus only one statement after the then. <br></div><br>Sounds good, but people need to realise that you can't use Else on the same line any more.<br>These are equivalent:<br><pre class=code>If foo
	If x &gt; 10 Then x = 10 Else x = 2
End</pre><br><pre class=code>If foo
	If x &gt; 10 Then x = 10
Else
	x = 2
End</pre> <br><br></td></tr></table><br>
<a name="2107656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Samah - These are equivalent: <br></div><br>And imagine if people dont indent their code!!<br><pre class=code>
If foo
If x &gt; 10 Then x = 10
Else
x = 2
End</pre> <br><br></td></tr></table><br>
<a name="2107666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh, I missed the new For loop format the first time through the 2 examples... nice!<br><br>yeah, I often have 2 statements after an if / then, so I wouldn't like only allowing 1 but I'd get over that. <br><br></td></tr></table><br>
<a name="2107667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; oh, I missed the new For loop format the first time through the 2 examples... nice!<br><br>That was initially meant as a placeholder until I got the 'real' loops going, but I think it's very useful and am considering leaving it in.<br><br>&gt; yeah, I often have 2 statements after an if / then, so I wouldn't like only allowing 1 but I'd get over that.<br><br>Same here, and as Samah points out we'd lose 'Else' too. Still thinking this one over... <br><br></td></tr></table><br>
<a name="2107673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Same here, and as Samah points out we'd lose 'Else' too. Still thinking this one over... <br></div><br>Just enforce an "End" at the end, its clean and simple :) <br><br></td></tr></table><br>
<a name="2107735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>Samah wrote</b><br>These are equivalent:<br><pre class=code>If foo
	If x &gt; 10 Then x = 10 Else x = 2
End</pre><br><pre class=code>If foo
	If x &gt; 10 Then x = 10
Else
	x = 2
End</pre> <br></div><br>It's only the same if you ignore newlines. It's ambiguous in this case.<br><br>In the first example, the Else is for the If [Expression] Then [Statement-list] Else [Statement-list].<br>In the second example, the Else is for "If foo".<br><br>[Statement-list] are multiple [Statement] separated by comma:<br><pre class=code>If x &gt; 10 Then x = 10, y = 20 Else x = 2, y = 30</pre><br><br>You just need an Optional:Bool(token) method in the parser:<br><pre class=code>' =&gt; If [Expression]
If Optional(tkThen)
    ' Single-Line
    Eat(tkThen)
    list1 = ParseStatementList()
    If Optional(tkElse)
        Eat(tkElse)
        list2 = ParseStatementList()
    End
    Expect(tkNewline)
    return new SingleLineIfStatement(list1, list2)
Else
    ' Multi-Line
    Expect(tkNewline)
    block1 = ParseStatementBlock()
    If Optional(tkElse)
        Eat(tkElse)
        Expect(tkNewline)
        block2 = ParseStatementBlock()
    Endif
    Expect(tkEndIf)
    return new MultiLineIfStatement(block1, block2)
EndIf</pre><br>(Simplified, because there can be multiple ElseIf cases, too)<br><br>So, we don't loose [Else], because it is on the same line - in a single-line If-Statement.<br>In a multi-line If-Block, the Else is on a separate line.<br><br>Separated keywords (keywords that consist of more than one word) in MonkeyX can create ambiguity,<br>especially when ignoring newlines: "If" "End" -&gt; "If" "End" "If" "Else" "If" ...<br><pre class=code>    Local a:Int, b:Int
    
    If a = 1
        ' doIt()
    End If
    b = 2

    Local c:Int, d:Int
    
    If c = 1
        ' doIt()
    End If d = 2

    Local e:Int, f:Int
    
    If e = 1
        ' doIt()
    End
    If f = 2
    End If</pre><br>Multi-Word keywords like "Else If", "End If" are a problem. No problem with "ElseIf" / "End" / "EndIf"...<br><br>- <a href="http://www.monkey-x.com/Community/posts.php?topic=9713&amp;post=102173&amp;page=1" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=9713&amp;post=102173&amp;page=1</a><br><div class="quote"> <b>Danilo wrote (2 month ago):</b><br><pre class=code>If [expression]
    [statements]
ElseIf [expression]
    [statements]
Else
    [statements]
EndIf

If [expression] Then [statement]

If [expression] Then [statement] Else [statement]

' If you want to allow 'Then' for blocks:
If [expression] Then [end-of-line]
    [statements]
EndIf


'
' Multiple statements in single-liners (separated by comma)?
'
If [expression] Then [statement1], [statement2], [statement3]

If [expression] Then [statement1], [statement2], [statement3] Else [statement1], [statement2], [statement3]

'
' multiple [statement] separated by comma is a [statement-list]
'
If [expression] Then [statement-list]

If [expression] Then [statement-list] Else [statement-list]</pre> <br></div> <br><br></td></tr></table><br>
<a name="2107722"></a>

<a name="2107720"></a>

<a name="2107707"></a>

<a name="2107708"></a>

<a name="2107709"></a>

<a name="2107710"></a>

<a name="2107711"></a>

<a name="2107712"></a>

<a name="2107713"></a>

<a name="2107715"></a>

<a name="2107718"></a>

<a name="2107719"></a>

<a name="2107704"></a>

<a name="2107705"></a>

<a name="2107706"></a>

<a name="2107700"></a>

<a name="2107701"></a>

<a name="2107702"></a>

<a name="2107703"></a>

<a name="2107731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>&gt; oh, I missed the new For loop format the first time through the 2 examples... nice!<br><br>That was initially meant as a placeholder until I got the 'real' loops going, but I think it's very useful and am considering leaving it in.. <br></div><br><br>I'm totally okay with c-style For syntax, as long as I can keep BASIC / Monkey style-- "Until" is the best thing since sliced bread and totally fixes the "weird" way you'd always have to adjust bounds for loops to not go over by 1 using To.  C-style syntax is pretty versatile if we're still gonna have that limitation that forces the Step value to be known at compile time... <br><br></td></tr></table><br>
<a name="2107729"></a>

<a name="2107727"></a>

<a name="2107732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed, Options are good, but definitely keep the old style 'for-until' too <br><br></td></tr></table><br>
<a name="2107736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I'm totally okay with c-style For syntax, as long as I can keep BASIC / Monkey style-- "Until" is the best thing since sliced bread<br> <br></div><br>"Like" <br><br></td></tr></table><br>
<a name="2107740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Options are good <br></div><br>Only if they enhance functionality.<br>Alternative syntax to achieve the same thing will make code harder to read, less consistent and confuse new users. <br><br></td></tr></table><br>
<a name="2107756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo: It's only the same if you ignore newlines. It's ambiguous in this case. <br></div><br>That was the whole point of my example.  If we completely ignore newlines, it brings in that ambiguity.  This is one of the reasons I dislike single-line if statements.<br><br>As therevills points out, if you still use the End keyword, it turns the single-line if into a regular if block, but listed all on one line.  All problems go away.  Adding End to your example:<br><pre class=code>If foo
	If x &gt; 10 Then x = 10 Else x = 2 End
End</pre><br>Is the same as:<br><pre class=code>If foo
	If x &gt; 10 Then
		x = 10
	Else
		x = 2
	End
End</pre><br>Which is exactly what we're after.<br><br>Your examples are all assuming that we keep newlines as part of the syntax, and the possibility of dropping them is the whole point of this discussion.<br><br><div class="quote"> @GW_: ...Options are good... <br></div><br>To a degree.  Once you make too many things optional, it starts to get messy with each developer of a project having their own style.<br><br><div class="quote"> @Shinkiro1: Only if they enhance functionality. <br></div><br>Exactly. <br><br></td></tr></table><br>
<a name="2107774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don;t think being value types was ever really the point of structs.  Allocating on the stack was the point, because in Java and C# like languages instances normally were allocated on the heap, which often led to inefficiency.  Then treating them as value types fitted in with the language.<br><br>Consider C++ in which classes and structs exactly the same (except for the default access qualifier).  Because in C++ you control exactly how everything is stored and referenced anyway... <br><br></td></tr></table><br>
<a name="2107779"></a>

<a name="2107780"></a>

<a name="2107781"></a>

<a name="2107782"></a>

<a name="2107783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>Samah wrote:</b><br>Which is exactly what we're after. <br></div><br><pre class=code>Class cls Abstract Public Method a:Int() End Method Method b:Int() End Method End Class
Function fun() Local foo:Int, x:Int If foo Then If x&gt; 10 Then
x = 10 Else x = 2 End
End</pre><br>I see what you want. It's the opposite of what other users want (the newline-based guys).<br><br>Statement separator ; should act exactly like newline, except it does not increment line numbers. With that, we could join lines (without any ambiguity):<pre class=code>While x; x -= 1; Wend</pre>Unfortunately it has problems with the If-Statement in MX1:<pre class=code>If x; x = 0; End
If foo; If x &gt; 10 Then x = 10  Else  x = 2; End
If foo; If x &gt; 10 Then x = 10; Else; x = 2; End</pre>Doesn't work like expected with other constructs, though:<pre class=code>Class cls Abstract; Public; Method a:Int(); End Method; Method b:Int(); End Method; End Class</pre><br><br><div class="quote"> <b>Gerry Quinn wrote:</b><br>Consider C++ in which classes and structs exactly the same (except for the default access qualifier). Because in C++ you control exactly how everything is stored and referenced anyway... <br></div><br>That's what I thought. But maybe we can control that with structs: x:Point  VS.  x:Point ptr = Mem.Alloc() <br><br></td></tr></table><br>
<a name="2107795"></a>

<a name="2107796"></a>

<a name="2107797"></a>

<a name="2107798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> The current idea for single line if statements would be longer than the normal case:<br><br><pre class=code>
If True Then Foo("bar")
If True Foo("bar") End
</pre><br><br>I think it would be the best to enforce 'End'. There would no longer be a problem with newlines acting the same as other white spaces and since function calls without parentheses are no longer allowed we exactly know where statements begin and where they end:<br><br><pre class=code>
If True
    Foo("bar", "hello", "world")
End
Foo("bar", "hello", "world")

' Putting two things on one line is no problem:

If True Foo("bar", "hello", "world") End Foo("bar", "hello", "world")

' Splitting lines is also not a problem:

If True
    Foo (
         "bar"
         ,"hello"
         , "world"
        ) End
Foo("bar",
    "hello",
    "world"
   )
</pre><br><br><br>Here is an other idea for syntax simplification:<br>we could relinquish ',' like in lisp:<br><br><pre class=code>
Foo("bar" "hello" "world")
Local a:Int[] = [1 2 3]
Local b:IntStack = {1 2 3}          ' my idea from the curly braces topic since I think
Local c:IntMap&lt;Int&gt; = {1:2 3:4 5:6} ' Mark will not read it because of the headline ^^
</pre><br><br><b>Edit:</b><br>I forgot some key words, sorry ... <br><br></td></tr></table><br>
<a name="2107794"></a>

<a name="2107800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I also don't understand how removing the need for newlines is considered elegant. You can write bad looking code with this. Can someone explain it to me like I'm 5? I'm not going to lose my cool over it, I am just wondering why several people seem to think it's a good thing. <br></div><br><br>Is it more elegant in the way the internal code handles it?  Ignoring newlines on operators seemed fine the way it was...  Please, again I ask for an explanation.  This is starting to make If syntax seem a bit contrived by BASIC standards... <br><br></td></tr></table><br>
<a name="2107805"></a>

<a name="2107806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> For me, ignoring newlines makes more sense and logical. Yes you can write some bad looking code with it but least it is consistent, but again you can write some really bad looking code with newlines being part of the syntax (especially if you dont indent your code).<br><br>Have a look at some of the examples which PixelPaladin above have posted, to me its cleaner.<br><br><div class="quote"> This is starting to make If syntax seem a bit contrived by BASIC standards... <br></div><br>Its only one more keyword at the end of a single line IF, not that much contrived IMHO :) <br><br></td></tr></table><br>
<a name="2107807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo: I see what you want. <br></div><br>No, that's not what I want at all.  By "what we're after", I was referring to how the logic in the two examples are identical.<br><br><div class="quote"> @Danilo: Statement separator ; should act exactly like newline, except it does not increment line numbers. With that, we could join lines (without any ambiguity): <br></div><br>My point is that the grammar should be designed in such a way that semicolons and newlines have no effect on the flow whatsoever.  The compiler would be smart enough to know that the preceding keyword is the end of the statement.<br><br>If you want to enforce semicolons as line splitters to make:<br><pre class=code>Class cls Abstract Public Method a:Int() End Method Method b:Int() End Method End Class</pre><br>Look like:<br><pre class=code>Class cls Abstract; Public; Method a:Int(); End Method; Method b:Int(); End Method; End Class</pre><br>Then that's your decision.  A good programmer would not do that, so it's a moot point. <br><br></td></tr></table><br>
<a name="2107817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>Samah wrote:</b><br>If you want to enforce semicolons as line splitters to make:<br><pre class=code>Class cls Abstract Public Method a:Int() End Method Method b:Int() End Method End Class</pre><br>Look like:<br><pre class=code>Class cls Abstract; Public; Method a:Int(); End Method; Method b:Int(); End Method; End Class</pre><br>Then that's your decision. <br></div><br>In a line-based syntax, the first is not allowed. Each statement is on a separate line, and such languages<br>usually have a line-joiner / statement-separator (':' or ';' in our case). The lexer/tokenizer returns the same<br>token for end-of-line and the statement-separator then (for example tkEndOfStatement), with the difference<br>that the separator does not increment internal line number count.<br>With this implementation <u>in a line-based language</u> you can put multiple statements on one line, separated by the<br>statement-separator. You can join <u>any</u> line/statement then. Currently this works only for some statements.<br><br>MX1 looks like a mix of both styles (line-based with ';'-separator works only in some cases, and continuous input stream is also limited.)<br><br>People asked Mark to fix it and make it more strict (line-based with ';' separator). He agreed and probably coded it already.<br>2 month later some people request the opposite now, asking to remove everything and make it a continuous input stream.<br>Even other guys want line-based statements with Tab-dependent indention, removing all 'end' statements.<br><br>Different people want different styles. It probably explains the mix in the resulting language.<br><br>I think it is better to decide for one style, and make clean, consistent syntax rules. At the end, you can write nearly<br>the same code with either style. In one case everything is a continuous input stream, in the other case<br>statements are clearly separated by end-of-line and the statement-separator ';'. <br><br></td></tr></table><br>
<a name="2107814"></a>

<a name="2107815"></a>

<a name="2107816"></a>

<a name="2107818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Danilo - People asked Mark to fix it and make it more strict (line-based with ';' separator). He agreed and probably coded it already. <br></div><br>Could you please provide a link for this?<br><br><div class="quote"> I think it is better to decide for one style, and make clean, consistent syntax rules.  <br></div><br>For once I agree with you ;) <br><br></td></tr></table><br>
<a name="2107822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Regarding the parser:<br>A sentence needs to be parsed token by token. If a EOL appears in the middle of a expression, the parser can continue doing its job, so you can have things like parameters separated in several lines. In the other hand, if the parser finds that after an expression is being completely parsed there's not a statement separator neither an EOL, then a syntax error is thrown. This way you have a consistent mix of both things. That's what I've understood reading Mark posts carefully. There are already some languages that do parse like this, and it allows for a very nice syntax. <br><br></td></tr></table><br>
<a name="2107824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> @therevills:<br>Did you miss that part? It is not a simple link, it's many things that were discussed month ago.<br><br>Just look at Mark's reaction in the current thread, page 2:<br><div class="quote"> &gt; Wish: Newline has no effect on program execution.<br><br>You mean compilation?<br><br>This means though that either statement separators are optional (which I thought everyone hated) OR all lines must end in ";" (which I at least hate). <br></div><br>He clearly seems to be surprised that someone is now asking for the opposite of what was discussed before. <br><br></td></tr></table><br>
<a name="2107823"></a>

<a name="2107842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am a little late to the party here but I am reading all of this and I guess at the end of the day I just trust Mark to make the right design decisions.<br><br>I wouldn't like to much drastic changes though, only if it improves functionality or performance if possible! <br><br></td></tr></table><br>
<a name="2107830"></a>

<a name="2107831"></a>

<a name="2107832"></a>

<a name="2107834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> Danilo, what you're essentially saying then is that you want a language where statements must be explicitly separated by either a newline or a semicolon.  I'm saying that it should be designed such that you need neither, and the compiler is smart enough to know what you want.<br><br><div class="quote"> @Danilo: He clearly seems to be surprised... <br></div><br>Let's hear from the man himself before we second guess him. <br><br></td></tr></table><br>
<a name="2107833"></a>

<a name="2107836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe someone could create a online poll/survey <a href="https://support.google.com/docs/answer/87809?hl=en" target="_blank">https://support.google.com/docs/answer/87809?hl=en</a><br>with all the options that are possible to get some indication what people want.<br>there are now several topics with al kind off things.<br><br>My english is not good enough to create a overview survey. <br><br></td></tr></table><br>
<a name="2107835"></a>

<a name="2107840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>Samah wrote:</b><br>Danilo, what you're essentially saying then is that you want a language where statements must be explicitly separated by either a newline or a semicolon. <br></div><br>Yes, it is what I generally think - for a language like MonkeyX 2. It's not only me, though. I had the feeling it was a general agreement/consensus<br>within the community, when we discussed it. Examples from BlitzMax and MX1 were discussed.<br>There was no contract, no final statement. More a feeling that most agree, and Mark basically said to make it more strict.<br>After that was clear, additional wishes came to allow line continuation at operators/separators (that presupposes statements/lines end at EOL).<br>MX2 is in the working. 80%+ from MX1 is ported. Parser is more strict. Some additional (new) features are also working already.<br><br>That's my personal summary, after following the discussions and Mark's postings over the last 2 or 3 month. :) <br><br></td></tr></table><br>
<a name="2107839"></a>

<a name="2107838"></a>

<a name="2107837"></a>

<a name="2107844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> Danilo, I think you are assuming a lot and reading into things in a totally different view than me...<br><br>Well let's see what happens and hope that MX2 is the best thing since sliced bread :-) <br><br></td></tr></table><br>
<a name="2107854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> Danilo is right about previously discussing enforcing the ; for separators.   I think it started with some talking about the Monkey 1 style being inconsistent and something should change.  Either fix it or go back to enforcing the ;.   This was probably more than a month ago and Mark seemed to indicate (I'd find it but search is kinda broken) he'd go the way of making it stricter even though it was a pretty short discussion.  Later though, python style was suggested which I think started up the conversation again with a larger audience.  (that's how I remember it anyway, but I'm old so I could be completely wrong)<br><br>My view is...  going back to enforcing the ; as a separator is the wrong direction.  Monkey 1 style is way better than being stricter.  If it can be made more "consistent", then even better.  That said, the python style looked good to me in most cases, but then I wrote a short program in it and didn't like it as much but that might be that I'm just not use to it for longer programs.<br><br>I for one don't like ending all Ifs with End...<br>To fix that why not just have Then mean only 1 statement follows unless they have a strict separator.   something like the , that was suggested or why not a ;<br>Basically the ; just puts the statement in the last block.  We don't need them for anything else now right?  Else would still need to be closed with End though of course<br><br>[edit] I wrote some test code... never mind, just require End is the answer especially since the word is shorter that Then. <br><br></td></tr></table><br>
<a name="2107851"></a>

<a name="2107850"></a>

<a name="2107849"></a>

<a name="2107848"></a>

<a name="2107847"></a>

<a name="2107855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>therevills wrote:</b><br>Well let's see what happens and hope that MX2 is the best thing since sliced bread :-) <br></div><br>Yep. Currently I have a good feeling. At the current state, basic decisions hopefully don't get changed too radically anymore. :)<br><br>Only stuff I would like to know (and is not that clear atm) is, is it still possible to import JavaScript libs with the emscripten stuff?<br>Beside that, most things should be pretty clear from all the discussions. For the remaining few unclear things it's probably okay<br>to just think positively. ;)<br><br>First release shouldn't be that far away anymore. Although the more interesting Import stuff<br>will take a little bit more time. *impatiently waiting*<br><br>My wife's 40th birthday party starts in round about 3 hours, with many of her Thai girlfriends and some of the other husbands,<br>so I'm out of the discussion anyway (and not in the mood). :D <br><br></td></tr></table><br>
<a name="2107853"></a>

<a name="2107852"></a>

<a name="2107861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I'm kind of surprised at how contentious all this is! I'll try and explain where I'm going with this...<br><br>There are really 2 things going on here that I want to achieve. First, I want monkey2 to be stricter about decl/statement separators, so you can't just run things together like:<br><br>a[b]=10 print( c ) d=20<br><br>...which works in monkey1, but has bitten me on the bum several times. So now you need to go:<br><br>a[b]=10 ; print( c )  ; d=20<br><br>I *hope* we can at least agree this is a good thing? Ok, just read Samah's comment...maybe not then!<br><br>The second (related) thing is to decide how monkey2 deals with line splitting, ie: where newlines can be safely ignored. I do want to allow this somehow because, while I don't do it a lot myself, in certain situations I think it is very useful. <br><br>Due to the 'stricter separators' rule above, just ignoring newlines altogether is out because then you'd have to finished each line with a ";" which ain't gonna happen.<br><br>Monkey1 deals with this by allowing newlines after a bunch of 'special' tokens, like "+", "-" etc but I've never been particularly happy with this approach. I mean, you can split after a "+" but not before - what's up with that?!? It's just a bit archaic for my liking. Furthermore, people were always wanting more characters included in the 'special' tokens list - but it was getting harder and harder to prove to myself what could be safely added to the list. Part of this is no doubt due to the lax statement separator situation in monkey1, but regardless, I've always felt the 'special list of tokens' approach was kind of hacky.<br><br>So monkey2 currently works by ignoring newlines *except* where an 'end-of-statement' is expected, which kind of complements the strict statement separator rule above (and of course, you can't have "~n" in the middle of identifiers/keywords etc). <br><br>IMO this is a simple, easy to remember rule that allows people to split things pretty much however they want. If you think that's bad, I respectfully disagree.<br><br>Some examples:<br><br>The syntax for a normal 'block if' is currently something like:<br><br>IfStmt="if" Expr &lt;eos&gt; StmtBlock { ( "elseif" | "else" &lt;nbsp&gt; "if" ) Expr &lt;eos&gt; StmtBlock } [ "else" &lt;eos&gt; StmtBlock ] ( "end" | "endif" | "end" &lt;nbsp&gt; "if" ) &lt;eos&gt;<br><br>(Note: I could/might remove the &lt;eos&gt; after the "else", but I want it there after the 'if' expr to prevent expr stmtblock running together).<br><br>Some notes about this syntax:<br><br>| means alternatives.<br>{ } means '0 or more of'.<br>[ ] means '0 or 1 of'.<br>&lt;eos&gt; means a sequence of ";" and/or "~n" tokens (newlines are ignored elsewhere).<br>&lt;nbsp&gt; means whitespace that does NOT contain any newlines - necessary to keep compound keywords like "Else If" from confusing things.<br><br>So a block like this:<br><br><pre class=code>
If x=0
   Print( "A" )
Else If x=1
   Print( "B" )
Else
  Print( "C" )
Endif
</pre><br><br>...can also be written like this...<br><br><pre class=code>
If x=0 ; Print( "A" ) ; Else If x=1 ; Print( "B" ) ; Else ; Print( "C" ) ; Endif
</pre><br><br>...a simple one liner written this way isn't too bad I guess, but I think I will still add special syntax for one liners. Going by my own code, and the code in bananas, short ifs are very frequently used.<br><br>The syntax for a class decl is something like:<br><br>ClassDecl="class" Ident [ "extends" Type ] [ "implements" Type { "," Type } ] { "abstract" | "final" } &lt;eos&gt; ClassDecls ( "end" | "end" &lt;nbsp&gt; "class" ) &lt;eos&gt;<br><br>So, yes, you *can* write a class like this:<br><br><pre class=code>
Class
Blah
Extends
Poo
End
</pre><br><br>...but 'don't do that'. And if we find this flexibility is causing problems, we can slip extra &lt;nbsp&gt;'s into the syntax.<br><br>Anyway, if all this sounds too complex/messy, ignore it and keep writing code the way you did in monkey1, it should work! <br><br>This is stuff is kind of messy, but I think that's mainly because I'm trying to formalize a lot of stuff that was done very informally in monkey1. <br><br></td></tr></table><br>
<a name="2107860"></a>

<a name="2107858"></a>

<a name="2107859"></a>

<a name="2107857"></a>

<a name="2107863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> TBH I would get the base language out first then worry about everyones coding styles after all its faffing around trying to please everyone that causes long lags in release times. <br><br></td></tr></table><br>
<a name="2107865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Note:</b> These are some suggestions I wanted to make before I saw Marks Post – it seems this is no longer needed...<br><br>Here a suggestion for what I think could be an acceptable solution for most of us (at least I hope so):<br><br>Enforcing parentheses makes monkey2 strict enough that theoretically we could handle line breaks same as other white spaces. The transpiler knows where statements end. The downside of this is that single line if statements must be closed.<br><br>Semicolons should also be possible to separate statements. It helps in a visual way to see, where a statement ends:<br><br><pre class=code>
Foo(a, b, c) Bar(x, y, z)
Foo(a, b, c) ; Bar(x, y, z) ' better readable
</pre><br><br>Best would be to have both possibilities:<br><br>1. handle newlines like other white spaces. This allows us to separate parameter lists and arrays anywhere we want, which helps us formatting code in a readable way.<br><br>2. handle semicolons like a whitespace, too. This helps writing (and reading) single line statements:<br><br><pre class=code>
If 1=1 Foo(a, b, c) Bar(x, y, z) End
If 1=1 Foo(a, b, c) ; Bar(x, y, z) End ' looks better
</pre><br><br>For better readability we could also have optional keywords like Then, Endif, Next, EndFunction...<br>But it is important that closing keywords must be ONE word: "EndMethod" but not "End Method" <br>(theoretically "End Method" would be possible, too, but it could be problematic to debug a source code where you forgot to close a statement).<br><br><pre class=code>
Method Foo:Void(a:Int) ; If a=1 Then Print("Foo") Endif ; EndMethod
</pre><br><br>All in all this would still be really strict if you think about it – but at the same time it brings more freedom compared to monkey1.<br> Plus: the rules itself are simpler because there are no special rules for single line statements anymore. This way it is also easier for the monkey transpiler.<br><br>Here some comparisons for single line statements:<br><br><pre class=code>
' handle semicolons as newline
Method Foo:Void(a:Int) ; If a=1 ; Foo(a, b, c) ; End ; Bar(x, y, z) ; End ' too many semicolons

' ignore line breaks (no semicolons):
Method Foo:Void(a:Int) If a=1 Foo(a, b, c) End Bar(x, y, z) End ' hard to read

' handle line breaks AND semicolons as separator:
Method Foo:Void(a:Int) ; If a=1 Foo(a, b, c) End ; Bar(x, y, z) ; End ' better

' optional keywords make it even easier to read:
Method Foo:Void(a:Int) ; If a=1 Then Foo(a, b, c) Endif ; Bar(x, y, z) ; EndMethod ' even more readable
</pre> <br><br></td></tr></table><br>
<a name="2107864"></a>

<a name="2107877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought the way Monkey1 works with regard to allowing newlines after certain operators was quite satisfactory.  It wasn't my original style (in C++ I liked to put the operator first on the next line) but I soon got used to it and didn't find it limiting. <br><br></td></tr></table><br>
<a name="2107890"></a>

<a name="2107891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Mark: Well, I'm kind of surprised at how contentious all this is! I <br></div><br>We are programmers! And that makes us contentious about the little things ;)<br><br><div class="quote"> @Mark: IfStmt="if" Expr &lt;eos&gt; StmtBlock { ( "elseif" | "else" &lt;nbsp&gt; "if" ) Expr &lt;eos&gt; StmtBlock } [ "else" &lt;eos&gt; StmtBlock ] ( "end" | "endif" | "end" &lt;nbsp&gt; "if" ) &lt;eos&gt; <br></div><br><br>So in MX2 "end", "endif" and "end if" are still valid (and I guess "end", "endmethod" &amp; "end method" etc)? Again just my opinion I would just have one and not three end statements (just "end").. <br><br></td></tr></table><br>
<a name="2107892"></a>

<a name="2107893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just 'end' for everything, removing the possibility to use 'EndIf' and 'Wend'?<br>(You are able to use 'end' for everything, even if other users still can use the alternatives) <br><br></td></tr></table><br>
<a name="2107898"></a>

<a name="2107899"></a>

<a name="2107900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly: So monkey2 currently works by ignoring newlines *except* where an 'end-of-statement' is expected, which kind of complements the strict statement separator rule above (and of course, you can't have "~n" in the middle of identifiers/keywords etc). <br></div><br>This is EXACTLY how I was hoping it would work.  Awesome!  :D<br><br><div class="quote"> @Danilo: Just 'end' for everything, removing the possibility to use 'EndIf' and 'Wend'?<br>(You are able to use 'end' for everything, even if other users still can use the alternatives) <br></div><br>Actually I'm totally fine with keeping all of these "End"-ish keywords (End, EndIf, EndMethod), just get rid of the dual token "End If" and "End Method", etc.  All they do is make it harder to grok.<br>I have a feeling this is kinda what you're after too, but I could be misreading it. <br><br></td></tr></table><br>
<a name="2107901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  just get rid of the dual token "End If" and "End Method", etc. All they do is make it harder to grok. <br></div><br>I use these types of tokens all the time (and like it). Bmax handles them, Monkey1 handles them. Unless it creates ambiguities in the new parser, why change it? <br><br></td></tr></table><br>
<a name="2107902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Unless it creates ambiguities in the new parser, why change it? <br></div><br>It creates ambiguities in users, sometimes too much choice is bad. <br><br></td></tr></table><br>
<a name="2107903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It creates ambiguities in users, sometimes too much choice is bad. <br></div><br>of those with limited groking abilities maybe.  ;-) <br><br></td></tr></table><br>
<a name="2107912"></a>

<a name="2107913"></a>

<a name="2107914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>Samah wrote:</b><br>I have a feeling this is kinda what you're after too, but I could be misreading it. <br></div><br><b>End</b>:<br>It is a nice shortcut. I use it mostly for ending Function / Method / Class.<br><br><b>ElseIf / EndIf / Wend / Next / EndSelect</b> ('EndSelect' is missing):<br>Special ending keywords for control flow (choice, loops, ..). I like it, and use it.<br>For those, I don't like to use just 'end': If...End, While..End, For...End<br><br><b>End Something</b> (separated by Space):<br>Personally I can live without it. I think it is for users coming from VB-compatible BASICs,<br>because many of those BASICs use "End If", "End Function". <br><br></td></tr></table><br>
<a name="2107918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly:  There are really 2 things going on here that I want to achieve. First, I want monkey2 to be stricter about decl/statement separators, so you can't just run things together like:<br><br>a[b]=10 print( c ) d=20<br><br>...which works in monkey1, but has bitten me on the bum several times. So now you need to go:<br><br>a[b]=10 ; print( c ) ; d=20<br><br>I *hope* we can at least agree this is a good thing? Ok, just read Samah's comment...maybe not then! <br></div><br><br>Well, <i>I</i> thought it was a good idea, which is where my doubts/confusion about ignoring newlines in particular came from in the first place!  Now that you've explained it all, I'm a lot more comfortable and confident that how you're handling it in mx2 is probably a good way to go.  VB handles lines very strictly, and only allows splitting using an explicit line separator (there is no line concatenator character).  Even then, there are restrictions to how a line can be split.  So the way it sounds like MX2 is going to handle it seems a lot more elegant.<br><br>Yes, I suppose the thing I was most worried about would be people going full "reducio ad absurdum" with the terseness and removing things like explicit line concatenators to satisfy some unexplained urge to create awful lines like "a[b]=10 print( c ) d=20".  I've seen previous threads on this forum where people have had trans basically blow up in their face due to doing something like this, specifically with the single line If syntax when Then is omitted.  I was having trouble understanding why anyone would want to have the ability to do more of this.<br><br><div class="quote"> @pixelpaladin:<br>For better readability we could also have optional keywords like Then, Endif, Next, EndFunction...<br>But it is important that closing keywords must be ONE word: "EndMethod" but not "End Method"<br>(theoretically "End Method" would be possible, too, but it could be problematic to debug a source code where you forgot to close a statement).<br> <br></div><br><br>I hope Mark keeps allowing us to use the style of ending blocks verbosely, because this is my personal style and it helps improve readability.  (Jungle does the hard work of typing out the blocks for me.)  As Danilo hinted towards, this is how VB does things, and I personally think it increases readability, particularly for those times when a code block goes off screen (and don't get snippy, everyone knows it happens, even to 'disciplined' coders!)  <br><br>I don't mind the shorter syntax, but I <i>will</i> totally fight the people trying to "End" the verbose way if it's already available :) <br><br></td></tr></table><br>
<a name="2107915"></a>

<a name="2107916"></a>

<a name="2107917"></a>

<a name="2107920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PixelPaladin</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Nobuyuki: […] to create awful lines like "a[b]=10 print( c ) d=20" <br></div><br><br>I get your point but what I tried in my last post was to bring everything from the previous posts together to a small set of simple rules. What people actually want is not to write code like in your example but to have more possibilities to write cleaner code. You can also write unreadable code in monkey1, right?<br><br>The only real downside of my suggestions was that it would not be compatible with the "End Xyz" syntax but only with "End" and "EndXyz" – so it would not be compatible with monkey1 (like python3 is not compatible with python2 code). <br><br></td></tr></table><br>
<a name="2107929"></a>

<a name="2107930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Nobuyuki: I don't mind the shorter syntax, but I will totally fight the people trying to "End" the verbose way if it's already available :) <br></div><br>Let's dance! :)<br><br><div class="quote"> @PixelPaladin: so it would not be compatible with monkey1 (like python3 is not compatible with python2 code). <br></div><br>Not a bad thing IMHO. Sometimes to move forward we need to leave things behind. <br><br></td></tr></table><br>
<a name="2107947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> A use case argument for /* */ comments.<br><br>As #rem and the #preprocessor currently have a shared closing keyword (#end) it is impossible easily to block comment out the following:<br><pre class=code>Function TestFunction:Void()
	Local something:= 1
	#IF BLAH = 1
	#ELSE
	#End
	Print "waa"
End</pre><br><br>Currently we would have to do this:<br><pre class=code>#rem
Function TestFunction:Void()
	Local something:= 1
	#IF BLAH = 1
	#ELSE
	#End
	#rem
	Print "waa"
End
#end</pre><br><br>Which is fuggly and awkward. If we had /* */ we could just do this:<br><pre class=code>/*
Function TestFunction:Void()
	Local something:= 1
	#IF BLAH = 1
	#ELSE
	#End
	Print "waa"
End
*/</pre> <br><br></td></tr></table><br>
<a name="2107946"></a>

<a name="2107959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> @skn3<br>I vote for that !<br>Its like my previous topic about braces/bracket whatever the name is haha, less characters is more overview.<br>I know its a personal feeling, but every 'then', and 'end' less is better reading for me. <br><br></td></tr></table><br>
<a name="2108007"></a>

<a name="2108008"></a>

<a name="2108009"></a>

<a name="2108010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still prefer '''  (3 or more apostrophes beginning a line) to open/close blocks of comments to /* */, as it has a close analogue in VB's annotations system and is easier to type. <br><br></td></tr></table><br>
<a name="2108025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Still prefer ''' (3 or more apostrophes beginning a line) to open/close blocks of comments to /* */, as it has a close analogue in VB's annotations system and is easier to type. <br></div><br><br>I prefer /* */ as I think my eye sight it slowing getting worse and ''' is pretty hard to read... <br><br></td></tr></table><br>
<a name="2108029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like the idea of sticking with apostrophes, tbh:<br><pre class=code>' single line
'* multi
line *'</pre> <br><br></td></tr></table><br>
<a name="2108050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 '*<br>I like that quite a bit actually <br><br></td></tr></table><br>
<a name="2108125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Skn3</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> '* is a good compromise<br><br>It is definitely harder to see then /* but if it was '* vs #REM then I think its probably obvious which would win! <br><br></td></tr></table><br>
<a name="2108310"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> A variant on the null coalesce operator from C# has been introduced to both C# and VB in 2015 called the null conditional operator.<br><a href="https://msdn.microsoft.com/en-us/library/dn986595.aspx" target="_blank">https://msdn.microsoft.com/en-us/library/dn986595.aspx</a><br><br>Essentially what it does is it short-circuits member and array access operators.  Meaning that if you replace a member/array access operator with the appropriate null conditional operator, it will return Null on the first null and not attempt to process any further accesses in the chain.  This is great for tidying up code, making it easier to write safer code (and less tempting to omit safety checks out of laziness!). <br><br></td></tr></table><br>
<a name="2108309"></a>

<a name="2108308"></a>

<a name="2108316"></a>

<a name="2108317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> In 20-30 years, I think everything will be null safe by default, just the way languages seem to be evolving. Programmers will look back on us as cavemen for creating programs that could die over something so trivial. haha<br><br>The guy who invented null in the 60's apologized for doing so in 2009. <a href="https://en.m.wikipedia.org/wiki/Tony_Hoare" target="_blank">https://en.m.wikipedia.org/wiki/Tony_Hoare</a> <br><br></td></tr></table><br>
<a name="2108691"></a>

<a name="2108692"></a>

<a name="2108693"></a>

<a name="2108694"></a>

<a name="2108695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another (possibly stupid) idea:<br>How about a ReadOnly feature that sets fields as read only when called from outside the class.<br><br>For instance, this:<br><pre class=code>
Private

Field _width:Float
Field _height:Float									
Field _x1:Float, _y1:Float, _x2:Float, _y2:Float
Field _pivotX:Float = 0						
Field _pivotY:Float = 0							

Public

'************  Read only fields  **************

Method width:Float() Property; Return _width; End
Method height:Float() Property;	Return _height;	End
Method x1:Float() Property; Return _x1; End
Method x2:Float() Property; Return _x2; End
Method y1:Float() Property; Return _y1; End
Method y2:Float() Property; Return _y2; End
Method pivotX:Float() Property; Return _pivotX; End
Method pivotY:Float() Property; Return _pivotY; End
</pre><br><br>Would be simplified to this:<br><pre class=code>
Public
Field width:Float				ReadOnly
Field height:Float				ReadOnly
Field x1:Float, y1:Float, x2:Float, y2:Float	ReadOnly
Field pivotX:Float = 0				ReadOnly
Field pivotY:Float = 0				ReadOnly
</pre><br><br>You'd still be able to write the value from within the class.<br>Cheers! <br><br></td></tr></table><br>
<a name="2108690"></a>

<a name="2108708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> Leo: I think auto-implemented properties would address this, but so far mark has taken a bit of a conservative approach to properties in mx2 and hasn't changed them much from monkey in either syntax or functionality afaik. I wonder if the cost overhead of such a ReadOnly directive would make fields just as expensive to access as a Property representing it... <br><br></td></tr></table><br>
<a name="2108712"></a>

<a name="2108713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got it.<br><br>Would it be too unsafe to make it a compile time thing? Example: If you mark it as read only and then try to write it, Monkey would throw an error before translating, but the field would "technically" be read/write in the translated C++ code. Sounds dangerous, but would have no performance hit. Anyway, I'd be Ok with a small performance hit if the code is more compact like that.<br><br>Cheers! <br><br></td></tr></table><br>
<a name="2108718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's no real performance hit from most properties to begin with, especially not really basic ones. There's only the potential for branching problems when using what are effectively "virtual" calls. Which, in the case of most properties, shouldn't be an issue. Properties are in-lined on most targets, and the ones that don't in-line the call aren't much of an issue anyway.<br><br>Either way, if we were to get a "ReadOnly" keyword, it would need to be handled at compile-time, without a property. On x86 and x64, there's no such thing as "read only" safety within your own program, it's just semantic. Even if you were to wrap access to a field, write access is still available to any code at user-level. Because C++ gives you control of memory, this means you shouldn't bother. Just follow standard practice, and respect memory boundaries, even if they're sometimes fake.<br><br>The big bonuses (Other than people feeling their designs are better) are thread safety (As well as playing well with cache) and better defining expected behavior. This is why C and C++ have 'const'. Monkey's basically the opposite about how access works. You don't get const-references, you get openly mutable objects. So, following this pattern, we really do need an "externally immutable" keyword. In Monkey currently, you can do this with 'Protected' and 'Private' properties. And since they don't have any real overhead, they're not an issue. But, they are annoying to write every time you need something to be immutable.<br><br><b>To put it simply, we really do need something like this, even if it's just better property syntax.</b> And it shouldn't be implemented using code generation, that's just a hack that'll cause runtime errors. There's no need to implement a "getter" method either, this is evaluable at compile-time.<br><br>Sorry, just felt like going on a bit of a tangent. I agree with Leo Santos's sentiment, "ReadOnly" isn't a bad idea. <br><br></td></tr></table><br>
<a name="2108714"></a>

<a name="2108715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> As long as developers have the ability to make advanced getters/setters that do more than just provide magic encapsulation for a field.<br>For example, I might want a getter to do an advanced calculation and cache it, then return the cache on future calls.<br>I might even want a setter to do something like firing off property change events, or have the ability to veto the property change if it's an invalid value. <br><br></td></tr></table><br>
<a name="2108757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> What you're asking for is 'Immutable' variables, and if implemented, it should be done for all datatypes everywhere, not just class fields. There are performance and safety benefits to immutable variables. but It's not the same a 'const' type which can be altered via it's pointer. <br><br></td></tr></table><br>
<a name="2108759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> @GW_: You can't modify something that is 'const' in C and C++, unless you manually use a static cast (Or similar) to do so. Other than access qualifiers (Public, private, etc), C++ keeps everything mutable, and uses 'const' references (Usually just pointers anyway) or pointers to handle things that are immutable. What Leo Santos was getting at was not simply immutable types/variables (Which don't <i>really</i> exist on user-level x86 anyway, DEP aside), but instead the equivalent of wrapping a variable in a property. Still mutable from the class/struct, but not from outside of it. There's a number of benefits for this, most notably reducing boilerplate, and giving better rules around thread-safety. I'll admit, having fully immutable structs and/or classes would be pretty nice, though. But following the spirit of Monkey, I think classes should be mutable by default, at the very least. By the way, didn't Mark say something about making structures immutable at one point? That would be pretty cool, albeit a little backwards. An interesting idea would be different "remote access" behavior for each by default. I still honestly like the idea Monkey's had for a while; things are mutable or immutable based on individual contents. With C++, it's all-in hierarchically, which has its benefits. But at the same time, those benefits can still be had with proper usage of selective mutation.<br><br>Whatever the case may be, I like the idea of 'ReadOnly'. It would be purely about the variable itself, not the referenced object. The object's class(es) would dictate what's mutable, and it's up to the developer to handle what's publicly (im)mutable, and why. It's an interesting twist on it, if you ask me. Coming from game development roots, Monkey's always been about data manipulation first. After all, the default access qualifier is 'Public'. <br><br></td></tr></table><br>
<a name="2108758"></a>

<a name="2108778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> How about just using 'Property' for 'read only'? eg:<br><br><pre class=code>
Class Color

   Property Red:Float        'read=public (or protected if in a protected block etc), write=always private
   Property Green:Float
   Property Blue:Float
   
   Method New( r:float,g:Float,b:Float )
      Red=r
      Green=g
      Blue=b
   End

End
</pre><br><br>You can still do 'smart' properties...<br><br><pre class=code>
Class Color

   Property Red:Float()
       Return _r
   Setter( r:Float )
      _r=r
    End

   Private
   Field _r:float...

End
</pre><br><br>Note: 'Setter' is just an idea right now, but I think it's the least 'ugly' way to do blocks of property code (still pretty ugly though IMO). There'd also be Getter so you could write properties in a variety of ways, eg:<br><br><pre class=code>
Property Red( r:Float )
   'setter only
End

Property Red:Float()
   'getter only
end

Property Red:Float() 
   'getter
Setter( r:Float )
   'setter1 
Setter( r:Blah )
   'setter2
End

Property Red( r:Float )
   'setter1
Setter( r:Blah )
   'setter2
Getter:Float()
   'getter
End
</pre><br><br>...or we could drop 'Getter' and make it so if a property has a getter, it has to appear first. <br><br></td></tr></table><br>
<a name="2108777"></a>

<a name="2108776"></a>

<a name="2108774"></a>

<a name="2108775"></a>

<a name="2108781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly: How about just using 'Property' for 'read only'? eg:<br>'read=public (or protected if in a protected block etc), write=always private <br></div><br>No, because that's not what the definition of a property is.<br><a href="https://en.wikipedia.org/wiki/Property_(programming)" target="_blank">https://en.wikipedia.org/wiki/Property_(programming)</a><br><br>I like something like this:<br><pre class=code>Property Foo:Float() Get ' generates default getter, doesn't generate a setter
Property Bar:Float() Set ' generates default setter, doesn't generate a getter
Property Hello:Float() ' no code generation
Property World:Float() Get Set ' generates default implementations for both getter and setter

' manually define a setter
Property Foo:Void(value:Float)
	blah = value + 10
End</pre> <br><br></td></tr></table><br>
<a name="2108784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; No, because that's not what the definition of a property is.<br><br>That definition includes: "...or read-only 'fields'...", so it seems fine to me.<br><br>Also, the lack of () indicates to me that no code is generated - the public read/private write thing is purely semantic (which it is). In code, it's just a field.<br><br>&gt; Property Foo:Float() Get ' generates default getter, doesn't generate a setter<br><br>What does the default getter 'get' though? ie: how does a setter write to it? via: Foo=blah? In which case, no code is generated, it's just a  field.<br><br>Also, not too keen on stealing Set and Get keywords...Getter and Setter I can live with. <br><br></td></tr></table><br>
<a name="2108783"></a>

<a name="2108782"></a>

<a name="2108785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about:<br><pre class=code>
Property Foo:Float()
	Get:Float()
		Return blah
	End
	Set:Void(value:Float)
		blah = value + 10
	End
End
</pre> <br><br></td></tr></table><br>
<a name="2108787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @marksibly: That definition includes: "...or read-only 'fields'...", so it seems fine to me. <br></div><br>It includes it, but's it not restricted to it, which is what your initial statement implies.  Maybe I misunderstood it.<br><br><div class="quote"> @marksibly: What does the default getter 'get'? ie: how does a setter write to it? via: Foo=blah? <br></div><br>Property definitions in C# are a pseudo-field that you define read and write accessors.  The value is part of the property.  Monkey's current Property keyword is just a way of replacing method calls with field access syntax, which isn't really a proper analogy (though still very handy).<br><br><div class="quote"> @marksibly: Also, not too keen on stealing Set and Get keywords...Getter and Setter I can live with. <br></div><br>I only suggested Get/Set because that's what it is in C#.<br><br>Edit:<br><div class="quote"> @therevills: What about: <br></div><br>I had originally thought about something like that, and it's pretty nice.  There's not really any reason to define variable types on the Get and Set methods though, since it's declared at the top level. <br><br></td></tr></table><br>
<a name="2108786"></a>

<a name="2108793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> ReadOnly seems pretty low on the radar.... to me.  But a good feature for down the road.<br><br>I think a combination of Private and a Property get function in existing Monkey language is pretty straightforward.<br><br>I like this existing properties operate, as well.  Although substituting "Method X:Float() Property" for just "Property X:Float()" suits me just fine, anything the makes code smaller.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Private
Field blah:Float

Public
Property Foo:Float()
	Return blah
End

Public
Property Foo:Void( value:Float )
	blah = value
End</textarea><br><br>Just my opinion. <br><br></td></tr></table><br>
<a name="2108790"></a>

<a name="2108789"></a>

<a name="2108788"></a>

<a name="2108795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; What about:<br><br>Not bad, but I think I still prefer the shorter:<br><br><pre class=code>
Property Foo:Float()

      Return blah

Setter( value:Float )

      blah=value

End
</pre><br><br>&gt; Maybe I misunderstood it.<br><br>I meant it as a shortcut for "Field blah:int Readonly" - it wouldn't replace 'functional' properties, just complement them. <br><br></td></tr></table><br>
<a name="2108791"></a>

<a name="2108794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; ReadOnly seems pretty low on the radar.... to me.<br><br>I think I would actually find this quite useful myself, as I (try to) write a lot of immutable classes and these would be great for that. <br><br></td></tr></table><br>
<a name="2108799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> @marksibly: Sounds good to me. I definitely like the idea of using the 'Property' keyword in-line, instead of adding another one. As for the <i>normal</i> property syntax you mentioned, would it support multiple input-types? Because that, and the lack of extra arguments when using it as a method are the only problems I could see with it. But I could live without the latter, since I could just wrap a method with it anyway. And the former isn't used very often anyway, but would be useful to override something like implicit type-conversion. <br><br></td></tr></table><br>
<a name="2108818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> marksibly said:  Note: 'Setter' is just an idea right now, but I think it's the least 'ugly' way to do blocks of property code (still pretty ugly though IMO). There'd also be Getter so you could write properties in a variety of ways, eg:<br>...<br>...or we could drop 'Getter' and make it so if a property has a getter, it has to appear first. <br></div><br><br>I'm still totally partial to specifying properties in this way.  Making the "getter" block not require an explicit keyword is kinda "meh" to me (I guess I just like the "flash card"-like appearance to requiring both), but I wouldn't mind the omission since the syntax you proposed seems pretty close to my "ideal" preference.  Requiring specifying the Getter can help future-proof Properties against having to implement a default behavior in the case of generic types where you may want type-specific return behavior, as would be in the case when creating "magic" properties that can run a specific getter as needed without an explicit cast.   I don't think there are too many situations where people would want a write-only Property anyway, but food for thought I guess?<br><br><div class="quote"> Also, not too keen on stealing Set and Get keywords...Getter and Setter I can live with. <br></div><br>+1<br><br><br><div class="quote"> <br>ImmutableOctet(SKNG) said: Sounds good to me. I definitely like the idea of using the 'Property' keyword in-line, instead of adding another one. As for the normal property syntax you mentioned, would it support multiple input-types? Because that, and the lack of extra arguments when using it as a method are the only problems I could see with it. But I could live without the latter, since I could just wrap a method with it anyway. And the former isn't used very often anyway, but would be useful to override something like implicit type-conversion.<br> <br></div><br><br>Exactly.  Having a Getter keyword allows for multiple getters, and requiring one protects against having to come up with a default backwards-compatible behavior in the future should 1. one need not be specified now, and 2. multiple getters end up being something that is implemented in the future.  But, I don't mind being able to omit the keyword, if this doesn't seem like it would be a problem down the road. <br><br></td></tr></table><br>
<a name="2108817"></a>

<a name="2108816"></a>

<a name="2108849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >itto</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd like to have a specific keyword to denote a read-only thing, so that it could be used both for struct or class fields, and function parameters (like "const" in C++). Something like this could also force for example a struct to be read-only only in determinate functions. It's something which could help a lot in creating expressive code and less hassles. I'd like to see many compile-time features like this, they are cheap and help you catch errors early. <br><br></td></tr></table><br>
<a name="2109310"></a>

<a name="2109311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please make Shr/Shl do what they actually imply, and add operators for Sal/Sar which preserve the sign bit explicitly instead of relying on the implementation's interpretation of &gt;&gt; on whether this preserves the sign bit.  Signed/Unsigned type handling sounds like it's still in the air, but at the very least we can resolve this ambiguity.  Regardless of whether people have access to unsigned types, when directly altering the bits at least we can explicitly choose whether or not to respect the sign bit.<br><br>(From what I understand, currently Shl ignores sign bit, whereas Shr preserves the sign bit.... ugh!) <br><br></td></tr></table><br>
<a name="2109340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; (From what I understand, currently Shl ignores sign bit, whereas Shr preserves the sign bit.... ugh!)<br><br>That's correct for signed numbers, see <a href="https://en.wikipedia.org/wiki/Arithmetic_shift" target="_blank"><u>Arithmetic shift</u></a>.<br><br>SHL shifts to the left and fills the new position (least significant bit) with a 0.<br>SAR shifts to the right and fills the new position (most significant bit) with the old MSB. <br><br></td></tr></table><br>
<a name="2109326"></a>

<a name="2109327"></a>

<a name="2109341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That's correct for signed numbers, see Arithmetic shift.<br><br>SHL shifts to the left and fills the new position (least significant bit) with a 0.<br>SHR shifts to the right and fills the new position (most significant bit) with the old MSB. <br></div><br><br>Is that so?  I don't know x86 assembly (or any assembly language, for that matter), but that seems to break the mnemonic.  SAR = Shift Arithmetic Right ?  If SAR preserves the sign bit, then you would think that SHR would move the sign bit, ignoring the datatype (if assembly even has these constructs....).  Are you saying that the operation depends on the datatype? What is the operation to shift right and ignore the sign bit for signed numbers, then? <br><br>My original point was that having these operators around, and changing their functions from the Monkey1 way for mnemonic consistency, could alleviate some problems and sidestep at least one issue related to requiring unsigned datatypes in mx2 (not to imply that they're unnecessary or anything).  One other alternative would be to use the c-style operators instead of assembler ones. <br><br></td></tr></table><br>
<a name="2109330"></a>

<a name="2109328"></a>

<a name="2109329"></a>

<a name="2109339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> SAR = Shift Arithmetic Right = Signed Numbers = Shift Right and preserve the sign bit (Most significant bit, MSB)<br>SHR = Shift Right = Unsigned Numbers = Shift Right and fill the MSB with 0<br>SAL = Shift Arithmetic Left = Signed Numbers = Shift Left and fill the least significant bit (LSB) with 0.<br>SHL = Shift Left = Unsigned Numbers = Shift Left and fill the least significant bit (LSB) with 0.<br><br>SAL and SHL are the same, and there is a difference between SAR and SHR.<br><br>- <a href="http://x86.renejeschke.de/html/file_module_x86_id_285.html" target="_blank">http://x86.renejeschke.de/html/file_module_x86_id_285.html</a><br>- <a href="https://en.wikibooks.org/wiki/X86_Assembly/Shift_and_Rotate" target="_blank">https://en.wikibooks.org/wiki/X86_Assembly/Shift_and_Rotate</a><br>- <a href="http://docs.oracle.com/cd/E19455-01/806-3773/instructionset-27/index.html" target="_blank">http://docs.oracle.com/cd/E19455-01/806-3773/instructionset-27/index.html</a> <br><br></td></tr></table><br>
<a name="2109342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> So then, one more time.  For mnemonic consistency, I think it would make more sense to change it for mx2 to reserve sign-bit preserving operations to SAL/SAR, and sign-bit ignoring operations to SHL/SHR. <br><br></td></tr></table><br>
<a name="2109345"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does it make mathematical sense to do a signed bit shift to the left, and overwrite the<br>most significant bit with the old MSB? Outside your imagined Monkey world, shift left<br>always seem to mean the sign-bit is lost, when shifted to the left (see SAL &amp; SHL).<br><br>I think you want a signed shift left, where only the lower 7, 15, 31, or 63 bits are<br>shifted to the left, and the sign bit stays the same. That's how I understand your texts.<br>How does this make mathematical sense, in the world of two's complement, etc.?<br>If the rest of the world doesn't do it that way, it doesn't seem to be required in a<br>mathematical sense. <br><br></td></tr></table><br>
<a name="2109355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> mainly, my concern is for shift right, not shift left.  So, I'm not going to argue for the practical usefulness of shift left.  It is a distraction to my earlier point, which is that the current mnemonic doesn't make sense.  Don't hang your hat on the practical usefulness of an arithmetic shift left when it's disingenuous to ignore the fact that multiple languages have separate shift arithmetic right operators.<br><br>The problem is that SAR cannot be introduced if SHR's backwards compatibility is to be maintained.  The mnemonic would be broken, because SHR in Monkey1 currently performs the behavior which SAR is supposed to perform.  Therefore, I am suggesting that SHR's behavior ignore the sign bit by default in MX2 so that SAR may exist and preserve the obvious mnemonic.  I shouldn't need to argue the practical usefulness of an unsigned SHR -- but I will if you insist. <br><br></td></tr></table><br>
<a name="2109353"></a>

<a name="2109349"></a>

<a name="2109347"></a>

<a name="2109365"></a>

<a name="2109366"></a>

<a name="2109375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shift left seems to be the same anyway. It is in assembly language, and it is probably in computational mathematics.<br>I'm not a mathematician, and I think you are no mathematician. About RIGHT SHIFT, it seems you just want to have<br>two different ways: A right-shift that threats the input as an unsigned number, and a right-shift that threats the input<br>as a signed number. One right-shift that preserves the sign-bit, and one that just shifts right without preserving the<br>sign-bit.<br><br>Is that correct?<br><br>If that's correct, I fully agree. Actually, if I do a right-shift, I do it almost always thinking about unsigned numbers, thinking about bit-patterns<br>that shift, without any sign at all. That's the point where unsigned numbers support comes into play, at least for small types like<br>8-bit, 16-bit, and 32-bit Integers.<br>Some languages use '&gt;&gt;' and '&gt;&gt;&gt;' to differentiate between unsigned and signed shift, and I think I could get used to that.<br>Same with different keywords like 'Shl' and 'Sar'. No problem, if documented. <br><br></td></tr></table><br>
<a name="2109446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> So basically, Shl is &lt;&lt;, Shr is &gt;&gt; and Sar is &gt;&gt;&gt;.  Exactly how it is in BlitzMax.  I really don't understand why Mark changed this for Monkey. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
