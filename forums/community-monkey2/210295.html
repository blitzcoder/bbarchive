<!DOCTYPE html><html lang="en" ><head ><title >Xmas demo out!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Xmas demo out!</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=530" >Monkey2 Talk</a>/<a href="#bottom" >Xmas demo out!</a><br><br>
<a name="2114445"></a>

<a name="2114446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>A monkey2 xmas demo is now out - see the monkey2 blog page: <a href="https://blitz-research.github.io/" target="_blank">https://blitz-research.github.io/</a><br><br>it's been a pretty intense week putting this together, but I am having a blast with monkey2 and I hope you like where it's going.<br><br>Now, off to consume a beer I found at the back of the fridge...<br><br>Bye!<br>Mark <br><br></td></tr></table><br>
<a name="2114447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very cool it is nice to see something tangible like a demo.  Keep up the great work ! <br><br></td></tr></table><br>
<a name="2114450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark! Merry Christmas! <br><br></td></tr></table><br>
<a name="2114457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CopperCircle</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yay, thanks and have another beer on me! <br><br></td></tr></table><br>
<a name="2114460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Christmas on the 22nd!<br><br>I like the new Ted2 direction. Clean and minimal is right up my alley.<br><br>Can't wait to sit down and play with the actual MX2 language. <br><br></td></tr></table><br>
<a name="2114461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sweet!<br>Everything compiled and ran without issues here on OS X El Capitan. <br><br></td></tr></table><br>
<a name="2114464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. I will get round to having a play with it. Did you resolve the problem with the use of dollar sign variables? <br><br></td></tr></table><br>
<a name="2114466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abakobo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great!<br><br>Happy to see that it already creates very fluid graphics!<br><br>Merry Christmas and happy new year. <br><br></td></tr></table><br>
<a name="2114467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, spot on for my birthday, how cool.<br><br>Now, on my Mac, I tried to rebuild but encountered issues...<br><br>OSX Yosemite, MonkeyX 85e, Deskop target working nicely.<br><br>Ideas?<br><br><pre class=code>

[PhilMac:~/Downloads/monkey2/src philippeback$] ./rebuildall.sh
TRANS monkey compiler V1.86
Parsing...
Semanting...
Translating...
Building...
Installing mx2cc

MX2CC monkey2 compiler V0.001
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1

Apple LLVM version 6.1.0 (clang-602.0.53) (based on LLVM 3.6.0svn)
Target: x86_64-apple-darwin14.5.0
Thread model: posix

Making module: &lt;monkey.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...
Archiving...
Making module: &lt;lib.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...
Archiving...
Making module: &lt;std.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...

Command failed:
g++  -std=c++11 -Wno-deprecated-declarations -Wno-tautological-pointer-compare -Wno-undefined-bool-conversion -Wno-int-to-void-pointer-cast -Wno-inconsistent-missing-override -Wno-logical-op-parentheses -Wno-undefined-inline -g -O0 -I"." -I"/Users/philippeback/Downloads/monkey2/modules/std/std.buildv001/build_cache/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/std/std.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/lib/lib.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/lib/hoedown/hoedown/src" -I"/Users/philippeback/Downloads/monkey2/modules/lib/sdl2/SDL/include" -I"/Users/philippeback/Downloads/monkey2/modules/lib/sdl2mixer/SDL_mixer" -I"/Users/philippeback/Downloads/monkey2/modules/lib/litehtml/litehtml/include" -I"/Users/philippeback/Downloads/monkey2/modules/monkey/monkey.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/monkey/native" -c -o "/Users/philippeback/Downloads/monkey2/modules/std/std.buildv001/build_cache/desktop_debug_macos/native_2filesystem.cpp.o" "/Users/philippeback/Downloads/monkey2/modules/std/native/filesystem.cpp" 2&gt;tmp/tmp0.txt


***** Error *****

warning: unknown warning option '-Wno-inconsistent-missing-override' [-Wunknown-warning-option]
/Users/philippeback/Downloads/monkey2/modules/std/native/filesystem.cpp:171:8: error: use of undeclared identifier 'getcwd'
                        if( getcwd( buf,PATH_MAX )&lt;0 ) return "";
                            ^
/Users/philippeback/Downloads/monkey2/modules/std/native/filesystem.cpp:189:11: error: use of undeclared identifier 'chdir'
                        return chdir( path.toUtf8String() );
                               ^
1 warning and 2 errors generated.

?[?] : Error :Execute failed

MX2CC monkey2 compiler V0.001
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/usr/include/c++/4.2.1

Apple LLVM version 6.1.0 (clang-602.0.53) (based on LLVM 3.6.0svn)
Target: x86_64-apple-darwin14.5.0
Thread model: posix

Parsing...
Semanting...
Translating...
Compiling...

Command failed:
g++  -std=c++11 -Wno-deprecated-declarations -Wno-tautological-pointer-compare -Wno-undefined-bool-conversion -Wno-int-to-void-pointer-cast -Wno-inconsistent-missing-override -Wno-logical-op-parentheses -Wno-undefined-inline -g -O0 -I"." -I"/Users/philippeback/Downloads/monkey2/src/ted2/ted2.buildv001/build_cache/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/src/ted2/ted2.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/mojo/mojo.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/mojo2/mojo2.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/std/std.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/lib/lib.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/lib/hoedown/hoedown/src" -I"/Users/philippeback/Downloads/monkey2/modules/lib/sdl2/SDL/include" -I"/Users/philippeback/Downloads/monkey2/modules/lib/sdl2mixer/SDL_mixer" -I"/Users/philippeback/Downloads/monkey2/modules/lib/litehtml/litehtml/include" -I"/Users/philippeback/Downloads/monkey2/modules/monkey/monkey.buildv001/desktop_debug_macos" -I"/Users/philippeback/Downloads/monkey2/modules/monkey/native" -c -o "/Users/philippeback/Downloads/monkey2/src/ted2/ted2.buildv001/build_cache/desktop_debug_macos/ted2_ted2.cpp.o" "/Users/philippeback/Downloads/monkey2/src/ted2/ted2.buildv001/build_cache/desktop_debug_macos/ted2_ted2.cpp" 2&gt;tmp/tmp1.txt


***** Error *****

warning: unknown warning option '-Wno-inconsistent-missing-override' [-Wunknown-warning-option]
/Users/philippeback/Downloads/monkey2/src/ted2/ted2.buildv001/build_cache/desktop_debug_macos/ted2_ted2.cpp:6:10: fatal error: 'modules/mojo/mojo.buildv001/desktop_debug_macos/mojo_app.h' file not found
#include &lt;modules/mojo/mojo.buildv001/desktop_debug_macos/mojo_app.h&gt;
         ^
1 warning and 1 error generated.

?[?] : Error :Execute failed
[PhilMac:~/Downloads/monkey2/src philippeback$]

</pre> <br><br></td></tr></table><br>
<a name="2114468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woohoo, thanks Mark. <br><br>Since I'm no longer supporting MX2 through Patreon, I purchased another Monkey X Pro license I'll never use. Hope that's acceptable... <br><br></td></tr></table><br>
<a name="2114475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woohoo, a christmas present. I won't have time to play around with it today but so far: a) would be nice having an executable for os x, b) compiling ted2 worked (didn't bother to add emscripten), c) demos worked, d) ted2 only worked in fullsize/fullscreen (otherwise you couldn't click on stuff, i liked the reduced flat look), e) no OnUpdate() anymore? f) from the Auido section it's just PlaySound, no Chanel/Volume/Pan/Pitch controls yet, right?  Anyway, thanks Mark. [OS X 10.11.2] Oh and Stargate suffers from QWERTZ/QWERTY issues. <br><br></td></tr></table><br>
<a name="2114474"></a>

<a name="2114473"></a>

<a name="2114471"></a>

<a name="2114472"></a>

<a name="2114470"></a>

<a name="2114469"></a>

<a name="2114477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kewly..  Nice to see it's already in a fairly stable status.<br><br>Findings..<br>Open doesn't work!  I can click on a banana from that frontpage thing, and those work fine, but actually clicking Open and selecting a .monkey2 file causes TED to crash.  I'm not sure if that was intentional (eg, it is a demo, after all!!) but .. thought I'd mention it, just in case!!<br><br>Compiling works fine, audio's working, graphics are moving about, all is good.  Hitting Left-Alt and Return causes it to try switching to fullscreen, but it fails miserably on my system. (Win10, 1920x1080 res)  It seems to want to try to do it, but just doesn't manage at all!  Note : Alt+Return seems to work on all demos, so if this isn't intentional, apologies for finding it :D<br>..Resizing the window seems to work fine, though, where available.<br><br>Everything's looking nice and capable, and the renderer demo in particular is lovely!<br>Can't wait to see what juicy extras you could add to a new mojo2d.  DrawLight and Shadow sound like nice additions.<br>ImageCollision would be a godsend, but .. I know how complicated that is. <br><br></td></tr></table><br>
<a name="2114488"></a>

<a name="2114491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> [edit]solved... I had GCC_EXEC_PREFIX set in my env... clearing that in bin/env_windows.txt works and would probably be a good idea[/edit]<br><br>I'm assuming I should be choosing 'run' from ted2 should build and exe on windows right?   I'm just getting "Command failed"... (transpiling seems successful)<br>no copy/paste from the console...<br><br>g++ (tdm64-1) 4.9.2<br>...<br>Parsing...<br>Semanting...<br>Translating...<br>Compiling...<br>Command failed:<br>g++ -std=c++11 -m32 -g -O0 -I"." -I"C:/Users/Dave/Downloads/monkey2/bananas/helloworld/helloworld.buildv001/build_cache/desktop_debug_windows" -I"C:/Users/Dave/Downloads/monkey2/bananas/helloworld/helloworld.buildv001/desktop_debug_windows" -I"C:/Users/Dave/Downloads/monkey2/modules/mojo/mojo.buildv001/desktop_debug_<br><br>the the console must hit it's horizontal limit<br><br>tried it also by putting monkey2 into the root of c... and removing all other gcc paths from my path....  same result.<br><br>running win10 64<br><br>[edit]if I try to build the modules from and admin cmd window I get<textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">C:\monkey2\src&gt;..\bin\mx2cc_windows makemods -clean -config=debug -target=desktop

MX2CC monkey2 compiler V0.001

g++ (tdm64-1) 4.9.2
Copyright (C) 2014 Free Software Foundation, Inc.
This is free software; see the source for copying conditions.  There is NO
warranty; not even for MERCHANTABILITY or FITNESS FOR A PARTICULAR PURPOSE.

Making module: &lt;monkey.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...

Command failed:
g++  -std=c++11 -m32 -g -O0 -I"." -I"C:/monkey2/modules/monkey/monkey.buildv001/build_cache/desktop_debug_windows" -I"C:/monkey2/modules/monkey/monkey.buildv001/desktop_debug_windows" -I"C:/monkey2/modules/monkey/native" -c -o "C:/monkey2/modules/monkey/monkey.buildv001/build_cache/desktop_debug_windows/native_2bbtypes.cpp.o" "C:/monkey2/modules/monkey/native/bbtypes.cpp" 2&gt;tmp/tmp1.txt


***** Error *****

g++: error: CreateProcess: No such file or directory

?[?] : Error :Execute failed</textarea> <br><br></td></tr></table><br>
<a name="2114487"></a>

<a name="2114483"></a>

<a name="2114482"></a>

<a name="2114481"></a>

<a name="2114484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great work. I love the GUI module, seeing Ted2 implemented with it is truly amazing. Any chance that we will see it ported to Monkey1? <br><br></td></tr></table><br>
<a name="2114485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >arawkins</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark, this is a great xmas present :) It's running ok for me on Xubuntu 14.04. TED2 is looking nice so far, and the readme was really appreciated. Some of the features are going to be really handy. The html view, debugger, etc...can't wait.<br><br><img src="https://dl.dropboxusercontent.com/u/1029646/mx2-stargate-xubuntu.png"> <br><br></td></tr></table><br>
<a name="2114489"></a>

<a name="2114490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark! Just compiled it (without problem) and taking a look now.<br><br>@TheRedFox:<br>Are you using an older version of Xcode? (Apple LLVM version 6.1.0 (clang-602.0.53))<br><br>It worked out-of-the-box for me using latest Xcode 7.2 and OS X 10.11.2 (El Capitan):<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Danilos-Mac-Pro:monkey2 danilo$ cd src
Danilos-Mac-Pro:src danilo$ ./rebuildall.sh
TRANS monkey compiler V1.86
Parsing...
Semanting...
Translating...
Building...
Installing mx2cc

MX2CC monkey2 compiler V0.001
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include/c++/4.2.1

Apple LLVM version 7.0.2 (clang-700.1.81)
Target: x86_64-apple-darwin15.2.0
Thread model: posix

Making module: &lt;monkey.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...
Archiving...
Making module: &lt;lib.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...
Archiving...
Making module: &lt;std.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...
Archiving...
Making module: &lt;mojo2.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...
Archiving...
Making module: &lt;mojo.monkey2&gt;
Parsing...
Semanting...
Translating...
Compiling...
Archiving...

MX2CC monkey2 compiler V0.001
Configured with: --prefix=/Applications/Xcode.app/Contents/Developer/usr --with-gxx-include-dir=/Applications/Xcode.app/Contents/Developer/Platforms/MacOSX.platform/Developer/SDKs/MacOSX10.11.sdk/usr/include/c++/4.2.1

Apple LLVM version 7.0.2 (clang-700.1.81)
Target: x86_64-apple-darwin15.2.0
Thread model: posix

Parsing...
Semanting...
Translating...
Compiling...
Linking...
Running: /Users/danilo/monkey2/src/ted2/ted2.buildv001/desktop_debug_macos/ted2.app
bbMain() : sizeof(bbBool)=1 sizeof(bbByte)=1 sizeof(bbShort)=2 sizeof(bbInt)=4, sizeof(bbLong)=8, sizeof(bbChar)=2 sizeof(void*)=8, sizeof(size_t)=8
CurrentDir=/Users/danilo/monkey2/
Opened new file:/Users/danilo/monkey2/bananas/rendererdemo/rendererdemo.monkey2
Started process: ./bin/mx2cc_macos makeapp -target=desktop -config=debug "/Users/danilo/monkey2/bananas/rendererdemo/rendererdemo.monkey2"
Process finished</textarea><br>PS: Happy birthday! ;) <br><br></td></tr></table><br>
<a name="2114494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, having to upgrade to El Capitan just for having a new XCode. Meh.<br><br>The thing works on Windows nicely, I'll keep it there for the moment.<br><br>PS: Thx :-) <br><br></td></tr></table><br>
<a name="2114495"></a>

<a name="2114496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I had GCC_EXEC_PREFIX set in my env... clearing that in bin/env_windows.txt works and would probably be a good idea<br><br>Yikes, that's a new one on me. How should I 'clear' it in env_windows.txt?  like this?<br><br><pre class=code>
GCC_EXEC_PREFIX=
</pre> <br><br></td></tr></table><br>
<a name="2114497"></a>

<a name="2114499"></a>

<a name="2114498"></a>

<a name="2114500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abakobo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will I have to upgrade my mavericks to get it work on osx? Really don't want to...<br>Which minimal xcode version is required?<br><br>Can't wait for the docs and all the greats stuffs to come! <br><br></td></tr></table><br>
<a name="2114505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh! Thanks!<br>A new toy for Xmax!!!<br><br>edited:<br><br>just looked deeper... too many questions! :D<br><br>"Assets::"<br><br>I suppose MX2 'handles' all resources (sound, gfx, fonts, datas etc) in a folder (Assets).<br>I like this approach.<br><br>GUI... it's a mistery to discover!<br><br>ps: TED2! has a 'good' feeling (maybe it's due to the gui), it's so 'linear'... it's like you have nothing to worry about (but where are options for debug?)<br><br>Thanks Again! <br><br></td></tr></table><br>
<a name="2114503"></a>

<a name="2114504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ohh, I've tried all the demos and it's working really well over here!! I LOVE the defender clone, although the control method is ... I dunno ... :)<br>Trying to make sense of the code but it still is a bit confusing, some of the language features make no sense to me at all at the moment but we'll see once the docs are coming along. So far so very good. Call me intrigued.. <br><br></td></tr></table><br>
<a name="2114510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was thinking about the docs - Microsoft for Visual Studio Code and ASP.net use Github to maintain theirs.  Perhaps this could be a solution?? <br><br>All working well for me on Windows 10. Looking forward to taking a closer look at the code examples! <br><br></td></tr></table><br>
<a name="2114511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp MkII</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very nice, one Windows issue for me was clicking new to make a new source file there was no way that I could discern to close it (I clicked it three times to see if its was opening and ended up with three untitled.monkey2 files :\).<br><br>Apart from that its looking mighty nice :) <br><br></td></tr></table><br>
<a name="2114514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yikes, that's a new one on me. How should I 'clear' it in env_windows.txt? like this? <br></div>yes, that's exactly how I did it. <br><br></td></tr></table><br>
<a name="2114513"></a>

<a name="2114518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool, I've just uploaded a v2 demo with this fix in.<br><br>Also uploaded a new v2 source zip that *might* help with building on older MacOSs. <br><br></td></tr></table><br>
<a name="2114520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> @abakobo<br>El Capitan is a good update, in all my use cases it runs better than Mavericks, on old and new machines. <br><br></td></tr></table><br>
<a name="2114522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi - El Capitan with latest xcode M2 compiles fine but Ted2 text font is borked (blocks with fringed edges instead of text) - I'll upload a screenshot later.... Can manually compile stargate etc. which works fine.<br><br>-Rog <br><br></td></tr></table><br>
<a name="2114524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage1982</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark<br><br>I saw your Christmas post about Monkey 2 and give it a try :)<br><br>Sorry but under my Windows 10 64 bits config every projects just "building" forever and nothing happen (no new window or working state even as admin...).<br>Also, the text rendering quality of the editor is clunky. That's all I can say, I did not spot any error log files or anything.<br><br>Anyway : Merry Christmas ;-) <br><br></td></tr></table><br>
<a name="2114525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, editor font worked here on OS X with MX2 Xmas demo v1. <br><br></td></tr></table><br>
<a name="2114526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> v2 worked for me out of the box now.<br><br>Ok, I played around and read everything and I like where this is going.<br><br>I noticed that parens are still not required for Print or any other keyword and also not required for constructors.  They do seem to be require for other functions/methods?  nice compromise if that stays.<br><br>The reflection / serialization stuff sounds great especially when combined with the ide dll plug-in idea you mentioned!  Though instead of building a full functioning editor/ide, IMO you should follow the Atom or MSCode model and build a core and standards that can be extended with plugins(or just code) built by us.  I can think of 100 things that should be added to that editor and that's, not only a lot of work... some people just don't want the same things I do.  so don't waste you time with code folding (something I never use), etc... or intelisense which I love, but not when it's in my face all the time so I'd like it dock-able.  another, smooth scrolling... there's no way you should waste your time with that, but if you give us the hooks we'll do it...  <br><br>The GUI stuff is pretty sweet actually, I like the way if feels.<br><br>The real-time debugger sounds great... what about hooking in profiler too.... :)<br><br>I didn't see any mention of closures though... I hope you didn't scrap those?<br><br>little things...<br>- I think you should deal with high DPI displays before it gets too out of hand... on my windows computer with a high dpi monitor that font is even more fuzzy when scaled.<br>- while I like the idea of the package being it's own complete archive.... how are you going to handle our third party modules, we don't want to copy them to new installs each time.<br><br>Very Nice! <br><br></td></tr></table><br>
<a name="2114527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Armitage1982, what does it show in the console window? <br><br></td></tr></table><br>
<a name="2114532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> All demos working fine here on Windows 7 64-bit.<br><br>I thought the homebrew edit control would bug me, but it actually works really well -- my only niggles are Ctrl + Left/Right should jump identifiers (especially in combination with Shift for quick selection), and the block cursor suggests Overwrite mode rather than Insert mode to me, which made me notice that Overwrite mode isn't an option -- not that I would ever use it, but I still see BIG RECT as Overwrite!<br><br>Mouse scrollwheel could use some acceleration for my taste -- I also like middle-mouseclick followed by Up/Down mousemove to scroll in my text editors/viewers, for what it's worth!<br><br>Noticed the editor still says "Building" when it's actually running the program, which left me wondering for a while. (The first build had somehow ended up behind everything else.)<br><br>Yours pedantically, etc... !<br><br>(Don't think I'm in a position to comment language-wise, as it stands, as it pretty much looks like Monkey for what I'd actually use, having no interest in refactor-y, test-driven, horribly formal Interface-oriented xyz features... BlitzMax is pretty much perfectly OO-enough for me!) <br><br></td></tr></table><br>
<a name="2114531"></a>

<a name="2114530"></a>

<a name="2114534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just noticed in <a href="https://notepad-plus-plus.org/" target="_blank">Notepad++</a> that most .monkey2 files display with a specific terminating [NUL] character, whereas I haven't seen this in any .monkey file ever -- try helloworld.monkey2 for an example. Not sure if it would ever be an actual problem... <br><br></td></tr></table><br>
<a name="2114533"></a>

<a name="2114537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mjcamerer</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Compiled and ran out of the box without any issues on Win 7 Pro 64bit.  Great progress! Was fun to mess around with and explore. Keep it up! <br><br></td></tr></table><br>
<a name="2114538"></a>

<a name="2114539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weird that I'm the only one getting the font distortion on Ted 2.<br><br>* Rebooted<br>* Unpacked the OS/Linux v2 distribution from Mark<br>* Built via rebuildall.sh (clean directory structure)<br><br>Result below<br><br><img src="http://i65.tinypic.com/rmvg90.png"> <br><br></td></tr></table><br>
<a name="2114540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Roger Lockerbie @mark<br>I have the same 'font' issue on osx (older version) <br><br></td></tr></table><br>
<a name="2114552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Similar issues popped up on Unity when they moved on to their new desktop GL renderer, causing issues on certain low/high res display in combination with different driver support for each hardware.<br><br>Btw. Ted2 doesn't support retina displays, it's all lowres (also if you don't get messed up text). <br><br></td></tr></table><br>
<a name="2114550"></a>

<a name="2114551"></a>

<a name="2114546"></a>

<a name="2114544"></a>

<a name="2114545"></a>

<a name="2114547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rumphiz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark,<br><br>Fonts are a bit blury as other people have mentioned but apart from that works fine here (Win7 64bit).<br><br>I like the way it just works out of the box and reading through the docs has me excited for Monkey's future. <br><br></td></tr></table><br>
<a name="2114548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pakz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I start ted then the window top and bottom is outside the screen (can not access the top bar buttons). When I jiggle/stretch the ted window then it pops to fit the sreen. <br><br></td></tr></table><br>
<a name="2114549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Edzup<br><br><div class="quote"> <br>Very nice, one Windows issue for me was clicking new to make a new source file there was no way that I could discern to close it (I clicked it three times to see if its was opening and ended up with three untitled.monkey2 files :\).<br> <br></div><br><br>On the top right of IDE you should see a list of name (untitled. etc). If you hover with the mouse a 'X' should compare to delete/close it. <br><br></td></tr></table><br>
<a name="2114554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>One aspect i wonder about, is how will the future of sound look like in monkey2.<br><br>Which engine/lib will drive the audio?<br><br>What kind of features do you intend to support? <br><br></td></tr></table><br>
<a name="2114553"></a>

<a name="2114555"></a>

<a name="2114556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >k.o.g.</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> windows 10 32bit, all demos works .<br><br>99â‚¬ Tablet from Medion :) <br><br></td></tr></table><br>
<a name="2114559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm super impressed! Got it running on first try on my Macbook.<br><br>I especially like that the Stargate game is as complete as it is, having victory conditions, lots of graphics, effects, menus - looking forward to seeing it on the app stores in the future! :)<br><br>I also liked the html view - this way of setting up how menus work makes so much sense to me. Is this something that might support media-queries (responsive design)?<br><br>Still trying to get ecmascript target to work - I have it working in console when I type "emsdk" yet I get this when following the instructions: <br><i>Can't find emcc - please install emscripten or update your bin/env.txt file &lt;-- and I also have the env.txt for mac pointed to the emsdk dir on my desktop.</i><br><br>Ted2 also off to a great start - mostly missing API/docs of classes/command I select that I can view in the sidebar of the editor so I can quickly learn and use all the new things, and ofc the ability to pin "build files". <br><br></td></tr></table><br>
<a name="2114558"></a>

<a name="2114573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Since I'm no longer supporting MX2 through Patreon, I purchased another Monkey X Pro license I'll never use. Hope that's acceptable...<br><br>Thanks very much!<br><br>&gt; some of the language features make no sense to me at all at the moment<br><br>Which ones? It should all be pretty obvious if you've messed with monkey1, with the exception of perhaps the Lambda() stuff - which once you learn it (and it's not at all hard) is incredibly useful!<br><br>&gt; I didn't see any mention of closures though... I hope you didn't scrap those?<br><br>Lambdas *are* closures AFAICWO.<br><br>&gt; on my windows computer with a high dpi monitor that font is even more fuzzy when scaled.<br><br>How are you scaling the fonts? My plan was basically to just have a global FontScale that gets applied to font height when you use Font.Open().<br><br>&gt; most .monkey2 files display with a specific terminating [NUL] character<br><br>Should be harmless, but will fix.<br><br>&gt; Ted2 text font is borked <br><br>Sounds like a GL bug to me. What are your Mac specs? I'm on a Mac Mini with Intel HD Graphics 4000, El Capitan.<br><br>One thing you could try is adding 'canvas.Flush()' to the Render  method in modules/mojo/view.monkey2, just after the OnRender( canvas ) call at (approx) line 436. You'll need to rebuild mods after this though - cd to 'src' and './updatemods.sh'.<br><br>&gt; Which engine/lib will drive the audio?<br><br>I'm currently using SDL_Mixer, which has similar capabilities to mojo1 audio, but unlimited channels and some cool additions such as the ability to 'post mix' audio with custom code etc - although I assume this runs on a different thread so wont be (easily) usable in mx2 yet.<br><br>&gt; I also liked the html view - this way of setting up how menus work makes so much sense to me. Is this something that might support media-queries (responsive design)?<br><br>The litehtml lib is pretty limited, but I really just wanted it for displaying custom documentation etc anyway (also wanted to test out externing some 'real' c++ code too), eg: the mx2 docs, the defender title screen. You wont be able to throw any old html/css at it, most docs will probably require some level of tweaking.<br><br>That said, it does handling a surprisingly wide range of css, including I think some media queries. There's a litehtml browser you can play with to get an idea of its capabilities here:<br><br><a href="http://www.litehtml.com/download.html" target="_blank">http://www.litehtml.com/download.html</a><br><br>I almost had the monkey1 docs showing cleanly in it, and those use some bizarre css!<br><br>&gt; the block cursor suggests Overwrite mode rather than Insert mode to me<br><br>Yes, there will be overwrite, but there will also be the option to use a block cursor in insert mode, because the aggro of hunting down a 2 pixel wide rect in the midst of some complex source code is a pet peeve of mine! Didn't use to be this way before the PC did it? <br><br></td></tr></table><br>
<a name="2114567"></a>

<a name="2114566"></a>

<a name="2114564"></a>

<a name="2114563"></a>

<a name="2114570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wiebow</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Mark, I have not played with Monkey 1 for YEARS (I returned to Max), so it's definitely my problem. I hope the docs, once they are added, will get me back up to speed. Remember, I'm a Basic fossil, so I do not know how to properly use the fancy programming features you've added... :)  And yes, I have not even heard of Lambda in programming. Reading the Wikipedia page about it confuses me even more!!! I desperately need tutorials and docs, haha. <br><br></td></tr></table><br>
<a name="2114568"></a>

<a name="2114569"></a>

<a name="2114571"></a>

<a name="2114572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just hacked together a dodgy (and exaggerated!) version of Apple's completely pointless yet super sexy 'frosted glass' effect:<br><br><img src="http://www.monkey-x.com/mak/mx2/frosty.jpg"> <br><br></td></tr></table><br>
<a name="2114585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>Having access to features like pan/pitch/fft/volume/channel control (allocating channels in Max was a easy and lazy way to define things)/read write access to the data/load&amp;save (wav/[aiff/flac/]ogg)[/your mic] offers many possibilities. I would choose whatever audio engine supports such a small but important set of features best. I also wouldn't mind a tiny set of realtime filters and some mixing. It can add a lot to certain types of 2d games and for 3d you'll need positioning and stuff anyway. <br><br></td></tr></table><br>
<a name="2114576"></a>

<a name="2114577"></a>

<a name="2114575"></a>

<a name="2114574"></a>

<a name="2114582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> I brought this up before, but do you think it'd be possible to have something like a dealloc/destructor/finalize? Even if it's not immediate or delayed, it would make freeing up OpenGL resources (textures, shaders, vertex buffers, etc) alot easier.  <br><br>I like Monkey's more Java-eqsue philosophy of "allocate it, and I'll take care of it for you". But a language driven mechanism to cleanup resources based on GC would be a big help.<br><br>Same way that a mojo Image or Sound get cleaned up automatically. <br><br></td></tr></table><br>
<a name="2114587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> &gt; I didn't see any mention of closures though... I hope you didn't scrap those?<br>Lambdas *are* closures AFAICWO. <br></div><br>my bad, shoot... I keep saying closures when I actually mean coroutine.  <br><br><div class="quote"> How are you scaling the fonts? My plan was basically to just have a global FontScale that gets applied to font height when you use Font.Open(). <br></div><br>Windows 10 is scaling them for me... if the program is "dpi aware" then it reads the current windows scale setting and should change it's interface and all fonts by that amount.  if it's not "dpi aware" then win10 will actually scale the window itself... making it blurry.  I can turn it off per app but ted2 end up way too small on this monitor then. <br><br></td></tr></table><br>
<a name="2114589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; my bad, shoot... I keep saying closures when I actually mean coroutine.<br><br>I haven't scrapped them, but at the same time I'm not quite sure how best to implement them in monkey. <br><br>I'm sort of waiting until I run into a situation where they'd be useful, but I have a feeling that's coming soon - possibly when I attempt 'Close All' again. <br><br></td></tr></table><br>
<a name="2114588"></a>

<a name="2114617"></a>

<a name="2114618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>How has the garbage collector changed (compared to Max/Monkey)? <br><br></td></tr></table><br>
<a name="2114623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MAK<br><br>MacPro laptop retina with discrete (Nvidia) graphics as well as embedded Intel (OSX chooses which one to use).<br><br>* Tried canvas.Flush() fix as suggested<br>* rebuilt mods (also did rebuildall.sh as well - to be safe)<br>* Font still broken<br>* Have confirmed via activity monitor that ted2 is using high performance gfx (e.g. Nvidia) - looking for a download to force OSX back to embedded only to confirm/deny whether Intel integrated versus Nvidia discrete is the source of the font corruption. Will report back with outcome.<br><br>Regards<br>-Roger <br><br></td></tr></table><br>
<a name="2114627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MAK<br><br>Confirmed - using the gfxCardStatus utility I could force my macbook into using Intel rather than selectable graphics - result was that the font was fine - so some issue with font's/GL on Nvidia discrete chipsets on mac laptops.<br><br>Regards<br>-Roger <br><br></td></tr></table><br>
<a name="2114628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that Roger.<br><br>Fonts are just images so I have no idea what's up - do the bananas work? <br><br></td></tr></table><br>
<a name="2114629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark<br><br>Other comments would be that it also affects the scrollbar, stargate compiled and played fine,  but the font with the score was broken there. Likewise Hello World was borked.<br><br>Renderworld worked fine.<br><br>So problem seems constrained to fonts. however Fonts in HTML view work ok.<br><br>Regards<br>-Roger <br><br></td></tr></table><br>
<a name="2114641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Concerning Rogers font issue. Has anyone tried loading the font into an image editor and setting all the fully transparent pixels from white to black? As mentioned here with a similar issue in mojo2:<br><a href="http://www.monkey-x.com/Community/posts.php?topic=9823&amp;page=7" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=9823&amp;page=7</a><br>(see my comment near the bottom)<br><br>May or may not be related. <br><br></td></tr></table><br>
<a name="2114647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mark - well done on Stargate. It's suitably intense! <br><br></td></tr></table><br>
<a name="2114649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question (maybe dummy question...)<br><br>A snippet taken from MX2 dialog.monkey2<br><br><pre class=code>
Class NotifyDialog Extends Dialog
	Field Okay:Void()
	Method New( title:String,text:String,width:Int,height:Int )
		Super.New( title,width,height )
		ContentView=New View
		ContentView.Label=text
		'-------
		AddAction( "Okay" ).Triggered=Lambda()
			Okay()
		End
                '-------
	End' of method
	
End' of class
</pre><br><br>I really don't understand the section (marked by me with -----). <br>I understood it's called a method AddAction() and then the Triggered field is *passed*associated* to something with the command Lamda().<br>I don't know what is Okay() (I haven't found a function or a method, just a Field... maybe I missed some files).<br>So I have no clear the meaning of this code.<br><br>Same for <br><pre class=code>
		_title.Dragged=Lambda( delta:Vec2i )
			Translation=Translation+delta
		End
</pre><br>Here I understand that the value Delta is passed/received from the Lambda()-thing, but again I don't understand where the information is taken.<br>Lambda() what exactly does in these examples?<br><br><br><br>ps: with the release of MX2 to the public I suppose there will be many questions about the different syntax.<br>I don't think 'mixing'  MonkeyX1 and MX2 is a good idea. <br><br></td></tr></table><br>
<a name="2114652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pharmhaus</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Field Okay:Void()
</pre><br>In Bmax it is possible to store functions in variables. MX2 has improved version of that. It allows you to store a function/method in a variable.<br>The :Void() simply states that all functions/method that have no parameters and return void could potentially be stored in the Okay field.<br><br><pre class=code>
		'-------
		AddAction( "Okay" ).Triggered=Lambda()
			Okay()
		End
                '-------
</pre><br>A Lambda is basically a function/method without a name. It is useful to define something ad-hoc just before you need it.<br>It is frequently used to program in a more result centric way. The idea is to not think too much about how your program solves a problem. Instead you focus on the expected result / algoritm and all the dirty stuff happens under hood. This results in more readable code which is closer to the actual problem you are solving. The Lamda in this example takes 0 parameters and thus can be stored in the Triggered Field because it fits the definition<br><pre class=code>
Class Action

	Field Triggered:Void()
....
</pre><br>It is the equivalent of method which returns Void and takes no parameters/arguments. <br><br></td></tr></table><br>
<a name="2114712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I really don't understand the section (marked by me with -----). <br><br>Ok, let's give this a shot...<br><br>AddAction() returns an 'action' object, that has a 'Triggered' field that looks like this:<br><br>Field Triggered:Void()<br><br>This is a 'function variable', ie: a variable that 'holds' a function. So it must be assigned a function, and this what 'Triggered=Lambda()...' is doing - assigning a 'lambda function' to the Triggered field of the action returned by AddAction. It's really no different from something like: AddEntity( "MyEntity!" ).X=100.0, only it's assigning a function to a field instead of a float. You can assign any kind of function to Action.Triggered, eg: a global 'Function', a member 'Method', a temporary 'Lambda' or a value from an existing 'function variable'. Here, I've chosen to use a Lambda function.<br><br>The best way to think of a Lambda function is probably just as a 'temporary' function. This code inside a Lambda function can 'see' outer locals and fields (actually, it only sees a 'snapshotted' version of outer locals...), so in this case when the Lambda function function calls 'Okay()' it is indeed calling the outer 'Okay:Void()' field - yet another function variable that code 'outside' the dialog can assign a function to. In other words, when 'client code' creates a NotifyDialog, it'll do something like this:<br><br><pre class=code>
Local dialog:=New NotifyDialog
dialog.Okay=Lamba()
    Print "Okay!"
End
</pre><br><br>(Is it 'right' to use public fields for things like 'Okay', 'Triggered' etc like this? Possibly not, but I'm sticking with it for now.)<br><br>A lot of this is inspired by Qt, which calls such function pointer fields like Triggered:Void() and Okay:Void() 'signals', and you connect them up to special 'slot' methods. In mx2, you can still think of 'Triggered' and 'Okay' as signals (and I'll probably end up referring to them as such in the docs) only you can connect them up to any kind of function, not just special 'slot' functions.<br><br>In this case the code is, in a sense, 'converting' one kind of signal (Action.Triggered) into another, more specific signal (NotifyDialog.Okay). Actually, Action.Triggered is itself just responding to a Button.Clicked signal, so when the user actually clicks on the Okay button, the actual 'flow' of signals is:<br><br>Button.Clicked -&gt; Action.Triggered -&gt; NotifyDialog.Okay -&gt; Your dialog 'okay' handling code!<br><br>(Eventually, you'l be able to assign 'hotkeys' to actions, so Action.Triggered may not be always be caused by a button click).<br><br>A simpler example of signal use is a button, that has a 'Clicked()' Signal:<br><br><pre class=code>
Local button:=New Button( "My Button" )
button.Clicked=Lambda()
   'when the button is clicked, this code is run!
   'the code can see the 'button' var, and, if we're in a  method, the fields of the object.
End
</pre> <br><br></td></tr></table><br>
<a name="2114711"></a>

<a name="2114655"></a>

<a name="2114656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice explanation too Pharmhaus! <br><br></td></tr></table><br>
<a name="2114657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all, this looks great!<br>The samples, language features and even TED (I like the direction).<br><br>One thing I noticed is that you can't have an #Import on the first line of a source file.<br>It will fail to compile with: 'Expecting module member'<br>Moving that down 1 line fixes it. <br><br></td></tr></table><br>
<a name="2114658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Local button:=New Button( "My Button" )
button.Clicked=Lambda() 'Note: could be a method, function etc instead of a lambda...
'when the button is clicked, this code is run!
'the code can see the 'button' var, and, if we're in a method, the fields of the object.
End
</pre><br>Ah! Ok, now it's clear the role of Lambda() and the syntax used! it's just a 'marker'!<br><br>Thank you very much to Mark and Pharmhaus!<br><br>ps: indeed the code is very readable... a very nice feature! <br><br></td></tr></table><br>
<a name="2114662"></a>

<a name="2114663"></a>

<a name="2114664"></a>

<a name="2114665"></a>

<a name="2114666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark: Very nice demo! How mature is the current parser? Is it very subject to change? I want to get a Jungle ide parser for it ASAP. Love the new language features.<br><br>That said, are we going to have single line lambdas? Some languages allow for single-line lambdas where data kind returned is inferred by the expression, and where Return sentence is avoided:<br><br><pre class=code>Local myFunction := Lambda(item:Int) item &lt; 2</pre><br>This would be a lambda that gets an integer and returns a boolean. Return keyword is avoided as it is "a single expression" lambda.<br><br>That's ultra handy with collections, where you can do quite complex logic in a very simple way. As instance we could have List methods like:<br><br><pre class=code>Local myList:=New List&lt;String&gt;
....
Local firstItemStartingWithM := myList.First(Lambda(item) item.StartsWith("M"))</pre><br><br>Notice that, In this case, the "item" parameter data kind is inferred by its usage. The function First is defined like: List.First:Bool(condition:Bool(T)), so the anonymous function parameters and return type can be inferred by the function where they appear as a parameter, that is, the "First" function definition of the List object.<br><br>This alows for ultra nice expressions to do things like get if any item of a collection accomplish a given condition:<br><br><pre class=code>if myStringsList.Any(Lambda(item) item.Trim().Length=0) Then Print "The list has empty strings!!"</pre><br><br>Or much more complex logic expressed in a very simple way.<br>That can be very handy (I know my examples are very sily, but I gess it shows the idea). <br><br></td></tr></table><br>
<a name="2114661"></a>

<a name="2114660"></a>

<a name="2114659"></a>

<a name="2114667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>Also related to the gc, will there be(/is there) something like ValueAtIndex? <br><br></td></tr></table><br>
<a name="2114671"></a>

<a name="2114673"></a>

<a name="2114674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not use Function instead Lambda?<br><pre class=code>button.OnClick = Function()
    Print("Button clicked!")
End</pre><br>I think it's more clear, also for people who have never heared about Lambda before. <br><br></td></tr></table><br>
<a name="2114676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably to avoid semantic confusion in the compiler/translator <br><br></td></tr></table><br>
<a name="2114691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> &gt; my bad, shoot... I keep saying closures when I actually mean coroutine.<br>I haven't scrapped them, but at the same time I'm not quite sure how best to implement them in monkey.<br>I'm sort of waiting until I run into a situation where they'd be useful, but I have a feeling that's coming soon - possibly when I attempt 'Close All' again. <br></div><br>They are great for any kind of iterator but in Unity the 'default' is to yield until the next frame which is super sweet for any kind of animated effects.  <br><pre class=code>protected IEnumerator MoveTo( Vector3 end, float seconds ) {
		float elapsedTime = 0;
		Vector3 start = rb2D.position;

		while( elapsedTime &lt;= seconds * .999f ) {
			elapsedTime += Time.deltaTime * inverseMoveTime;
			rb2D.MovePosition(Vector3.Lerp(start,end,elapsedTime));
			yield return null;
		}
		transform.position = end;
	}
}</pre><br>What I really really want though is...<br>Yield Wait(3.0)<br>and<br>Yield Lambda()<br>End <br><br></td></tr></table><br>
<a name="2114688"></a>

<a name="2114703"></a>

<a name="2114704"></a>

<a name="2114705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> @<b>degac</b>:<br>That shouldn't be the case. It's the only occurrence where 'Function' occurs on the right-hand side (RHS).<br>The keyword 'Function' does not occur on RHS (as an expression) otherwise.<br><br>See also: <a href="https://msdn.microsoft.com/library/bb531253(v=vs.140).aspx" target="_blank"><u>Lambda Expressions (Visual Basic)</u></a><br><br>If the compiler gets confused by this, something would be wrong with the compiler.<br><br>Just compare the 2 snippets:<br><pre class=code>button.OnClick = Function()
                    Print("Button clicked!")
                 End</pre><br>and:<br><pre class=code>button.OnClick = Lambda()
                    Print("Button clicked!")
                 End</pre><br>Almost the same, but BlitzMax and VB.net guys, who want to convert to super-cross-platform MonkeyX 2,<br>probably find the 'Function' more intuitive and easier to read and to grasp.<br><br>I can get used to use Lambda(), no problem. The question is, why not make it more easy<br>and understandable for newcomers, outsiders and converts - while 'Function' is more inuitive and common at the same time? <br><br></td></tr></table><br>
<a name="2114702"></a>

<a name="2114698"></a>

<a name="2114699"></a>

<a name="2114700"></a>

<a name="2114701"></a>

<a name="2114696"></a>

<a name="2114692"></a>

<a name="2114693"></a>

<a name="2114694"></a>

<a name="2114695"></a>

<a name="2114706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> @mark<br>Which linux os do you use ?<br>Im now using osx, but want to see how Ted works on linux. I want to keep it 1:1 with you, to keep it working out of the box.<br>Crap auto correction in Android... <br><br></td></tr></table><br>
<a name="2114697"></a>

<a name="2114707"></a>

<a name="2114708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; How has the garbage collector changed (compared to Max/Monkey)?<br><br>It's currently very similar, but that will change as soon as any threading stuff happens.<br><br>&gt; Concerning Rogers font issue. Has anyone tried loading the font into an image editor and setting all the fully transparent pixels from white to black?<br><br>Fonts are generated on the fly though, so you can't do this.<br><br>&gt; Mark - well done on Stargate. It's suitably intense!<br><br>Thanks! It's way too hard (and only really defender right now) but I intend to keep hacking at it in my spare time. Totally enjoyed writing it too, coming up with a small 'Actor' framework etc bought back a lot of memories of what's possible with games...<br><br>&gt; Why not use Function instead Lambda?<br><br>Because a lambda is not a 'function' in the monkey sense - it works in subtly different ways (capturing locals, self etc) that affect how it's used. Ditto a method is not a function, even though it's also 'callable'. There would be no problem using 'Function' in the parser, but I think it's more monkey-like to use the 'real' name of constructs as much as possible instead of reusing similar names.<br><br>I think it's also a little less confusing to read - using 'Function' inside a function makes the nesting a little fuzzy - and possible even a bit educational!<br><br>&gt; Which linux os do you use ?<br><br>I'm using Mint 19.2 Cinnamon. Great distro, but you may ned to apt-get quite a bit of stuff to get it building monkey.<br><br>The distro Richard Betson is using - Mint "Rafael" I think - looks like it might be a bit easier to get started with. Either way, Mint is mint! <br><br></td></tr></table><br>
<a name="2114713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; How mature is the current parser? Is it very subject to change?<br><br>Quite mature, though I am 90% through the monkey2 rewrite. Do you you plan to use this code directly, or derive your own code from it?<br><br>I'd also quite like your opinion on how I'm going about handling parse errors, ie: via exceptions. I found this a little 'grindy' but couldn't really think of a better way to do it if I want the parser to be able to catch multiple errors.<br><br>&gt; That said, are we going to have single line lambdas?<br><br>Dunno yet, but I'm a tad dubious. They don't add anything to what the language can do, and IMO can make for some damn ugly code. These look OK to me:<br><br><pre class=code>
Local myFunction:=Lambda:Bool( item:Int )
   Return item&lt;2
End

Local firstItemStartingWithM:=myList.First( Lambda:Bool( item:String )
    Return item.StartsWith( "M" )
End )

If myStringsList.Any( Lambda:Bool( item:String )
   Return item.Trim().Length=0
End ) Then Print "The list has empty strings!!"
</pre><br><br>Dunno, I think my urge to stick everything on one line has mellowed over the years! But I'm also new to this stuff myself so I kind of prefer having it all explicitly laid out without any shortcuts. Perhaps that'll change too as I get used to it all.<br><br>And I haven't really tackled the comparable/sort predicate etc stuff in containers yet though (and the above looks useful) so perhaps I'll find the idea more appealing after that.<br><br>&gt; protected IEnumerator MoveTo( Vector3 end, float seconds ) {<br><br>A little confused by that code - it never actually returns an IEnumerator, although I think I get what it's doing.<br><br>&gt;What I really really want though is...<br><pre class=code>
Yield Wait(3.0)
and
Yield Lambda()
End
</pre><br><br>Yield wait( 3.0 ) could be...<br><br><pre class=code>
New OneShotTimer( 3.0 ).Fired=Lambda()
    'do something after 3 seconds!
End
</pre><br><br>Yield Lambda() is a little confusing though - do you mean 'execute this chunk of code on next update? eg:<br><br><pre class=code>
New OneShotTimer( 0.0 ).Fired=Lambda()
    'do something on next update!
End
</pre><br><br>There'll probably be an 'Idle' signal too that you could use for the latter...<br><pre class=code>
App.Idle+=Lambda()
    'do something on next update!
End
</pre><br><br>...and note I'm not saying that these are necessarily better - or even good - ways of achieving what you're after. Just possible ways...! There will be timers, so this approach will be at least one way. <br><br></td></tr></table><br>
<a name="2114709"></a>

<a name="2114710"></a>

<a name="2114715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Danilo<br><div class="quote"> Almost the same, but BlitzMax and VB.net guys, who want to convert to super-cross-platform MonkeyX 2,<br>probably find the 'Function' more intuitive and easier to read and to grasp. <br></div><br><br>VB.NET guy here;  our Lambda syntax is absolutely terrible and is garbage for readability.  MX2's is somewhat better.  I'm still hoping that 1-line Lambdas use the Lambda..Returns (or similar 2-unique-keyword) syntax to make visually identifying the LHS/RHS of the function expression easier, but so far it looks like an improvement to me. <br><br></td></tr></table><br>
<a name="2114714"></a>

<a name="2114723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>Okay, Max like index access to lists a.o. was an easy way to create and deal with many objects without running into possible gc hickups.<br><br>Jarvis' GDC talk about Robotron is fun and Defender's laser gun fire is one of the best in the history of video games. I disagree on difficult controls by design. <br><br></td></tr></table><br>
<a name="2114722"></a>

<a name="2114721"></a>

<a name="2114718"></a>

<a name="2114719"></a>

<a name="2114720"></a>

<a name="2114716"></a>

<a name="2114717"></a>

<a name="2114730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Okay, it would be nice having Max like index access to lists.<br><br>I disagree. Indexing a list is an O(N) operation - ie: slow - and I think the [] operator should be reserved for O(1) or at least fast-ish ops.<br><br>I have made an exception for indexing a map, which is O(log n), but I'm not doing it for lists. Too open to abuse.<br><br>Besides, I'd recommend avoiding lists altogether these days - perhaps for Deque-ish ops, but for most everything else a Stack is IMO a better choice.<br><br>&gt; i disagree on using difficult controls as a reasonable design element.<br><br>I have no idea what a 'reasonable design element' is but the controls are simply my preferred controls on MAME. <br><br>(Actually, they were originally '/' for thrust and 'right shift' for fire, but that caused the windows 'sticky shift' mode to fire...then tried apostrophe enter, but that ran into Alt-Enter problems!)<br><br>I prefer them maybe just because I'm used to them (they're based on the original game), but I also believe they give much finer control - being able to 'flick' reverse quickly without having to 'swap arrow keys' works really well - ditto for thrust. With arrow keys, reverse and thrust are 'swapped' depending on which direction you're facing. The original game could've just used a 4 way joystick too - and it no doubt wouldv'e been much cheaper, they spent a bomb on the custom controller setup - but I think they decided the same thing.<br><br>I used to be able to get a million something on stargate, and I doubt that would've been possible with a four way joystick - but I'll eventually add a 'beginner mode' and we can start comparing high scores! *If* I was actually selling the game, I'd probably have it default to 'beginner', but I'm not. <br><br></td></tr></table><br>
<a name="2114729"></a>

<a name="2114728"></a>

<a name="2114727"></a>

<a name="2114726"></a>

<a name="2114725"></a>

<a name="2114724"></a>

<a name="2114739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> In C# coroutines are based on iterators so that's why you need that return type.  Many collections are built with this <strike>and do actually return an enumerators</strike>...<br><pre class=code>public IEnumerator&lt;T&gt; GetEnumerator() {
	foreach( T v in storage.Values ) yield return v;
}</pre><br><br><div class="quote"> Yield wait( 3.0 ) could be... <br></div><br>yeah, but what I was thinking was more for scripting of events where yield gives you more flexibility.  In bmx I would have this verbose state machine with substates just to transition from one level to the next.  like say you just finished a level, so now you...<br>- pause a couple seconds.<br>- slide in a stats overlay panel.<br>- do some animated stat calculation.<br>- pause a couple seconds.<br>- slide the stats panel off screen.<br>- pause a couple more seconds.<br>- set the level state machine to the next level.<br><br>this is where coroutines would clean this up a lot.<br><br><div class="quote"> Yield Lambda() is a little confusing though - do you mean 'execute this chunk of code on next update? eg: <br></div><br>that might have been a bad example...  what I meant was yield to a function until that function yields back...   i.e. chain the coroutines.  (I said lambda thinking it would be cool not having to declare the function/method)<br><br>it would be great to...<br>yield SomeFunction()<br>which can then get us... <br>yield nextUpdate() ' until next update<br>yield nextFixedUpdate()<br>yield nextRender()<br>yield Wait()<br><br>I've just used them in C# and I don't know the best way to implement any of this... but languages that do, can do it quite differently with different capabilities.<br><br><a href="https://en.wikipedia.org/wiki/Coroutine#Implementations_for_C" target="_blank">https://en.wikipedia.org/wiki/Coroutine#Implementations_for_C</a> <br><br></td></tr></table><br>
<a name="2114734"></a>

<a name="2114733"></a>

<a name="2114732"></a>

<a name="2114731"></a>

<a name="2114736"></a>

<a name="2114737"></a>

<a name="2114738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>Yep, i'm aware of that it wasn't a "nice" way but practically it was effective for ensuring stable frame rates within a sweet spot, maybe offering some control over the gc could be nice.<br><br>Regarding controls: When i was playing Stargate, i had to remember some Arcades (like Jarvis' Defender) and whilst i enjoyed them for certain aspects (like pacing, gfx and sfx), i disliked them for having screwed up controls by design in order to increase the challenge for the player. This only worked for a few games. In most cases it felt like bad design. I guess i enjoyed the VCS version of Defender more than the Arcade. :O)<br><br>Did i mention that out of the box working gamepad support would be awesome already?! <br><br></td></tr></table><br>
<a name="2114735"></a>

<a name="2114743"></a>

<a name="2114744"></a>

<a name="2114745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark &amp; Nobuyuki:<br>Thanks for your feedback and opinion, and let's hope Lambda() gets properly documented.<br>Including the scope, how it works/interacts with 'this', etc. <br><br></td></tr></table><br>
<a name="2114746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have same font issue on 2010 Mac Mini. Tried changing mojo2 data font to power of two but no help.<br><br>Chrome and other apps have also been suffering from GL issues in last few weeks leaving a trail of badly drawn rectangles when doing highlights so I currently blame Apple and expect updated driver to magically appear in next couple of weeks to fix it. <br><br>If it is a valid Apple optimisation to GL pipeline then xcode gl diagnostic and analysis tools may help detect the issue. <br><br></td></tr></table><br>
<a name="2114750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Skid/MAK<br><br>Simon<br><br>Re: GL Issues - I have noticed since I upgraded to el capitan. I've had back rectangles sometimes in the Browser (typically Facebook?)<br><br>Re: Font - I thought it was down to Nvidia chipset/driver as when I force reverted Ted2 to the internal Intel chipset the font rendered ok. Does the 2010 Mac Mini have a dual graphics chipset (Being a mini I would of thought it was solely a onboard INTEL).<br><br>That said the rectangles have not occured in a while and I *thought* they went away with el capitan 10.11.2.....<br><br>One possible option is that Ted2 doesn't need to do whatever is forcing OSX to decide it needs to run in performance mode - but that won't then help for subsequent games that do need perfomance mode.<br><br>Doing a bit of reading (thats somewhat dated) seems to imply that any use of OpenGL means the OSX autoswitching uses the discrete card when available - so it may be impossible for Ted2 to run on the embedded chipset on these machines..... <br><br></td></tr></table><br>
<a name="2114751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Skid/MAK<br><br>Similar looking issue here - too much low level stuff in this thread for my brain - no idea if Ted2 uses a shader or anything like that. Buried in the subcomments is a 1 pixel packing comment which I seem to remember being a MX1 issue? - Anyway posting on the off-chance it may be useful<br><br><a href="http://stackoverflow.com/questions/27430811/text-not-rendering-correctly-opengl-using-freetype2" target="_blank">http://stackoverflow.com/questions/27430811/text-not-rendering-correctly-opengl-using-freetype2</a> <br><br></td></tr></table><br>
<a name="2114752"></a>

<a name="2114753"></a>

<a name="2114754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> GL issues related, switching to the dedicated GPU (if you have the option) can help to avoid/reduce certain GL problems. <br><br></td></tr></table><br>
<a name="2114755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Taumel<br><br>In this case its the reverse - utilising discrete nvidia gfx chipset causes problem, forcing OSX to revert to onboard Intel chipset means the problem does not occur. <br><br></td></tr></table><br>
<a name="2114756"></a>

<a name="2114757"></a>

<a name="2114758"></a>

<a name="2114759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not experiencing the text block issues with Ted2 but i've seen them, primary temporarily, in OS X before El Capitan already.<br><br>Thinking of the GPUs Apple has used in their Intel MacBooks (let's say from GT330M up to the R9 M370X) it's has always been less trouble with the dedicated GPUs. Intel's 6100 is working better than some of their older GPUs, at least here. <br><br></td></tr></table><br>
<a name="2114762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I finally got round to a day when I can start to have a play with this after messing around with MonkeyX and <a href="http://www.monkey-x.com/Community/posts.php?topic=10286" target="_blank">adding a few bits for GLFW.</a><br><br>So far Ted2 on Linux crashes when you drag a scroll bar and then release the mouse button out side of the GUI window. And something has messing up the encoding of a few of the monkey2 source files. gEdit has a problem opening them.<br><br>Will mx2 be ale to use import or another type of compiler directive to add code snippet files directly within a piece of code? <br><br></td></tr></table><br>
<a name="2114767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> &gt; How mature is the current parser? Is it very subject to change?<br><br>Quite mature, though I am 90% through the monkey2 rewrite. Do you you plan to use this code directly, or derive your own code from it? <br></div><br>I plan on extending current Monkey parser to support Monkey 2 syntax. Currently there are not lots of complex changes other than funciotn pointers and parenthesis for functions, and lambdas. then, there's the imports system, which I'm not 100% sure how it works but as all imports solving system can be replaced very easily on the derived parser, I think this *could* be the fastest/easiest way to provide mx2 support soon.<br><br><div class="quote"> &gt; That said, are we going to have single line lambdas? <br>Dunno, I think my urge to stick everything on one line has mellowed over the years! But I'm also new to this stuff myself so I kind of prefer having it all explicitly laid out without any shortcuts. Perhaps that'll change too as I get used to it all. <br></div><br>Well, if we ever get any kind of mocking capabilities to the language, single-line shorter lambdas can make mock construction code a lot more readable!<br><br>Then, how is finanlly multiple sentences on a single line handled? Did you finally took the ; is optional at the end of sentence, but mandatory to chain 2 sentences on a single line? <br><br></td></tr></table><br>
<a name="2114770"></a>

<a name="2114771"></a>

<a name="2114772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> So anxious to try this demo out. Will do so soon (sudden medical issue has me in the hospital for a while). <br><br></td></tr></table><br>
<a name="2114769"></a>

<a name="2114778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I plan on extending current Monkey parser to support Monkey 2 syntax.<br><br>I think you can safely do this. The parser is likely to get added too over time - ie: there may be 'short lambdas' added, EOL handling may be 'enhanced' in future etc - but I think what's there represents a good base to build on.<br><br>&gt; Did you finally took the ; is optional at the end of sentence,<br><br>Actually it's stricter than that - a single ';' can only appear between 2 statements so ';' at the end of line isn't currently supported. Again, this is one of several little things that may change in future if there's a demand/uproar etc.<br><br>&gt; - pause a couple seconds.<br>&gt; - slide in a stats overlay panel.<br>&gt; - do some animated stat calculation.<br>&gt; - pause a couple seconds.<br><br>This would indeed be cool, and I'm already facing a problem like this with 'Close All' in the IDE which needs to loop through all open files and potentially wait for a 'Save before Closing?' dialog to complete each iteration. It can be done with the existing system, but it's not too pretty.<br><br>A simple-ish way to achieve this would be to add an 'Async' modifier for functions (that, for the sake of this discussion, must return Void) and would mean the function would execute as a coroutine so could safely 'block'. Blocking could be achieved via semaphores or Future&lt;T&gt; objects. ConfirmDialog.Run() might look like:<br><br><pre class=code>
Function Run:Int( title:String )
   Local result:=New Future&lt;Int&gt;   'effectively a semaphore/result pair.
   Local dialog:=New ConfirmDialog( title )
   dialog.Okay=Lambda()
      result.Set( 1 )   'sets results, signals semaphore...
   End
   dialog.No=Lambda()
      result.Set( 0 )
   End
   dialog.Cancel=Lambda()
      result.Set( -1 )
   End
   Return result.Get()   'waits for semaphore, returns result.
End
</pre><br><br>This can 'block' so should only be called by an Async function, eg:<br><br><pre class=code>
Method OnCloseAll() Async
   For Local file:=Eachin OpenFiles
      If file.Modified
         Select ConfirmDialog.Run( "File has been modified - save?" )   'blocking call!
         Case 1
            file.Save()
         Case 0
         Case -1
            Exit
         End
      Endif
End
</pre><br><br>Some 'Wait' functions might look like:<br><br><pre class=code>
Function Wait( seconds:Double )
   Local result:=New Semaphore
   New OneShotTimer( seconds ).Ticked=Lambda()
      result.Signal()
   End
   result.Wait()
End
</pre><br><br><pre class=code>
Function WaitIdle()
   Local result:=New Semaphore
   App.Idle+=Lambda()   'App.Idle is the nearest monkey2 has to an 'update tick' right now!
      result.Signal()
   End
   result.Wait()
End
</pre><br><br>...which could be used like:<br><br><pre class=code>
Function LevelComplete() Async
   
   MainView.Content=LevelCompleteView   'show LevelComplete page...
   Wait( 5 )   'wait 5 seconds
   For Local y:=0 Until MainView.Height  'slide down...
      MainView.y=y
      WaitIdle()   'VWait
   Next
End
</pre><br><br>How 'deep' should this go? Should it be possible to write an entities entire 'lifecycle' in a single function? eg:<br><br><pre class=code>
Class Lander Extends Enemy

   Method Run() Async   'only returns when we die!

      While Alive
         'update stuff here...
         WaitIdle()
      Wend
   End

End
</pre><br><br>Probably not a good idea if you end up with tons of landers, which would mean tons of threads, but an interesting approach!<br><br>This is just one potential approach of course. The Semaphore/Future stuff is a bit icky, but this is low level code and most people wont be writing 'wait functions' like this. But I at least have to so I need to consider how everything works behind the scenes. It would also be nice to roll 'generators' into this too, but I haven't given that much thought yet.<br><br>This approach also means that if you forget to make a key function 'async' you can quite easily block the gui thread or worse - eg: If OnCloseAll above weren't async, the app would deadlock!<br><br>Perhaps Async could also be used to call a function, ensuring it ran on it's own thread? More thought required here obviously...!<br><br>&gt; yield SomeFunction()<br>&gt; which can then get us... <br>&gt; yield nextUpdate() ' until next update<br>&gt; yield nextFixedUpdate()<br><br>Still a bit confused about this - what's the different between 'yield SomeFunction' and just calling 'SomeFunction'? Is it just something you need to do in Unity to call a function that 'waits'? <br><br></td></tr></table><br>
<a name="2114777"></a>

<a name="2114776"></a>

<a name="2114775"></a>

<a name="2114774"></a>

<a name="2114784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought line continuation works with expressions that are not finished, but it doesn't work after '='<br><br>See 'func = Lambda' in the changed 'HelloWorld' example:<br><pre class=code>
#Import "&lt;mojo.monkey2&gt;"

Using std
Using mojo
Using mojo2

Class MyWindow Extends Window

    Field func:Void(canvas:Canvas)

    Method New()
        Super.New( "Hello World Window",0,0,640,480,WindowFlags.Center )
        Destroyed=App.Terminate
        ClearColor=Color.DarkGrey

        func = 
               Lambda:Void(c:Canvas)
                   c.SetColor( 1,1,0,1 )
                   c.DrawText( "Hello World!",ClientRect.Width/2,ClientRect.Height/2,.5,.5 )
               End
    End

    Method OnRender( canvas:Canvas ) Override
        func(canvas)
    End
End

Function Main()
    New AppInstance
    New MyWindow
    App.Run()
End</pre><br>It's a bit of guesswork. What works and what does not work (yet)? <br><br></td></tr></table><br>
<a name="2114783"></a>

<a name="2114781"></a>

<a name="2114780"></a>

<a name="2114779"></a>

<a name="2114785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> Line continuation is only currently supported after "(", "[" and ",". I'm still not 100% how this should work so I'm gonna leave it at that for now sorry! <br><br></td></tr></table><br>
<a name="2114786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Patch</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm also experiencing an issue with fonts and GUI elements on a Macbook Pro 15" (Early 2013) running El Capitan.<br><br><img src="http://i.imgur.com/EUaybvK.png"> <br><br></td></tr></table><br>
<a name="2114795"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Line continuation is only currently supported after "(", "[" and ",". I'm still not 100% how this should work so I'm gonna leave it at that for now sorry!<br><br>Thanks for clarification!<br><br>Another thing that comes to mind:<br><pre class=code>canvas.SetColor( 1,1,0,1 )</pre><br>Wouldn't it make sense to use macros like RGB() and RGBA() for colors? In the snippet, you have to push 4 values onto the stack,<br>but when using $FFFF00FF or RGBA(1,1,0,1) or RGBA(255,255,0,255) or RGB(255,255,0) only 1 value is pushed to the stack/function.<br>I think using macros like RGB() and RGBA() could enhance the speed, while still being platform-independent (order of R,G,B,A is different on different platforms).<br><br>Something like:<br><pre class=code>canvas.SetColor( $FFFF00FF )             ' not really cross-platform

canvas.SetColor( RGBA($FF,$FF,$00,$FF) ) ' cross-platform using macros
canvas.SetColor( RGBA(1,1,0,1) )

canvas.SetColor( RGB($FF,$FF,$00) )
canvas.SetColor( RGB(1,1,0) )</pre> <br><br></td></tr></table><br>
<a name="2114794"></a>

<a name="2114793"></a>

<a name="2114792"></a>

<a name="2114791"></a>

<a name="2114788"></a>

<a name="2114789"></a>

<a name="2114790"></a>

<a name="2114796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Wouldn't it make sense to use macros like RGB() and RGBA() for colors? In the snippet, you have to push 4 values onto the stack,<br>but when using $FFFF00FF or RGBA(1,1,0,1) or RGBA(255,255,0,255) or RGB(255,255,0) only 1 value is pushed to the stack/function.<br><br>I do want to add some RGB and RGBA style functions 'coz they're convenient, but I'm not sure if they'd necessarily be faster as they involve 'unpacking' as opposed to a direct copy. I prefer to store colors as float r,g,b,a 0..1 because that's what the GL expects, and it's also nice being able to store HDR values etc.<br><br>Also, in the case of Function SetColor( color:Color ), the color value is actually passed 'by reference' so it's only copying one pointer anyway. It's only when you're constructing a Color that all four values really need to be 'moved'. <br><br></td></tr></table><br>
<a name="2114799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;How 'deep' should this go? Should it be possible to write an entities entire 'lifecycle' in a single function? eg:<br>I've never seen it taken that far but, Yes!  :)<br>&gt;Probably not a good idea if you end up with tons of landers, which would mean tons of threads, but an interesting approach!<br><br>So, In Monkey2 Async creates a real thread or fiber, right? I like that for a lot of things but not this type of thing... Coroutines, on the other hand can fix that as there shouldn't be hardly any overhead.   You mentioned before that you had closures, I assumed that meant "continuations" as well... which might be a wrong assumption. (my knowledge is thin here)<br><br>So what I mean with Yield SomeFunction() (returning some specific type of "yield" object) is that the returned object specifies when the coroutine should resume.  In Unity this functionality might be built in their own Coroutine class and on top of C# coroutines.  But it really should just be part of the language.<br><br><div class="quote"> Directed coroutines: ... Also, the syntax is different; the generator uses the "yield" command to transfer control to the parent; the parent uses the next() method of the generator to transfer control to the generator.  <br></div>http://c2.com/cgi/wiki?CoRoutine<br><br>https://books.google.com/books?id=vg_QRDVR7hgC&amp;pg=PA257&amp;lpg=PA257&amp;dq=coroutines+specify+when+resume&amp;source=bl&amp;ots=5K5Xn6abTD&amp;sig=Xfc4wP-TDTqGjxtKY1wpDn28CHo&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwi_jJvQwoTKAhUK6iYKHTs4CtoQ6AEIIzAB#v=onepage&amp;q=coroutines%20specify%20when%20resume&amp;f=false<br>-1972 :) <br><br></td></tr></table><br>
<a name="2114798"></a>

<a name="2114806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; So, In Monkey2 Async creates a real thread or fiber, right? I like that for a lot of things but not this type of thing... Coroutines, on the other hand can fix that as there shouldn't be hardly any overhead.<br><br>By 'fiber', I mean 'coroutine'. The 2 are pretty much the same thing. And any c# method with a 'yield' in it is effectively a coroutine too.<br><br>There are a number of ways to implement coroutines though, such as c#'s 'state machine' approach but I wont be doing that. I'll probably start with trying to adapt ordinary threads, and later on doing it in ASM, ie: easiest way I can think of first!<br><br>The key thing is that each 'coroutine' has (conceptually anyway - the state machine approach achieves the same thing) it's own little 'stack', and that they can pass the CPU around to each other.<br><br>I actually implemented a simple coroutine system in BlitzPlus - I basically chopped the stack in half, ran the 'event loop' code on one half of the stack and user code on the other. This is how BlitzPlus could handle window resize events in realtime without having to be callback based. There's also a proposal for adding async/await to c++, and in fact I believe MS already have an implementation going using fibers (can't find the exact page): <a href="https://paoloseverini.wordpress.com/2014/04/22/async-await-in-c/" target="_blank">https://paoloseverini.wordpress.com/2014/04/22/async-await-in-c/</a><br><br>I still find Unity's 'Yield' approach odd - found quite a good write up on it here: <a href="http://m.blog.csdn.net/blog/StupidCodeGenerator/11526285" target="_blank">http://m.blog.csdn.net/blog/StupidCodeGenerator/11526285</a><br><br>It could just be that Unity was based on C# 3.5 or whatever (before Async and Await) and therefore they had no choice but to use the IEnumerator approach to get coroutines. Dunno, but I definitely find this sort of code easier to understand:<br><br><pre class=code>
Method LevelComplete() Async

   MainView=LevelCompleteView  'change main view.

   Wait( 5 )  'wait 5 seconds.

   For Local y:=0 Until MainView.Height

      MainView.Translate( 0,y )  'scroll main view down...

      Wait( 0 ) 'wait for next 'frame'.

   Next

End
</pre><br><br>...which I guess is moving more in the 'async/await' direction than 'IEnumerator'.<br><br>Anyway, I'm writing up a little proposal for how I think this all could work which I'll post later. <br><br></td></tr></table><br>
<a name="2114802"></a>

<a name="2114801"></a>

<a name="2114800"></a>

<a name="2114807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I'm also experiencing an issue with fonts and GUI elements on a Macbook Pro 15" (Early 2013) running El Capitan.<br><br>I've got a possible solution to this!<br><br>Try adding this at line 300 of modules/mojo2/graphics.monkey2 (in the Texture.SetData method) just before the glPopTexture() at the end...<br><br>glFlush()<br><br>...if that doesn't work, try glFinish().<br><br>Shouldn't be necessary, but it fixes the problem on skidracer's mac mini + Geforce something. Thanks skid!<br><br>Please let me know if it works!<br><br>Also, if you have any graphics problems like this in the future, please mention at least what sort of video card you have. <br><br></td></tr></table><br>
<a name="2114803"></a>

<a name="2114804"></a>

<a name="2114805"></a>

<a name="2114808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Roger Lockerbie</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br><br>Confirmed - adding glFlush() as suggested above resolved the font issue. Many thanks.<br><br>PS: Pledged via Patreon - Good Luck with MX2.<br><br>-Rog <br><br></td></tr></table><br>
<a name="2114810"></a>

<a name="2114811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Anyway, I'm writing up a little proposal for how I think this all could work which I'll post later. <br></div>ok, cool.. I'm not married to any particular solution and I don't want to hog this thread.. but just a little bit more.   That article you linked on unity's implementation actually describes a few advantages... one being the custom YieldInstructions...<br><br><div class="quote"> but I definitely find this sort of code easier to understand<br>...code... <br></div><br>Me too and I like Async and the Wait you listed above but here's some stuff to think about...  <br>Isn't LevelComplete now decoupled with the main update thread?  So how would we deal with the pause key or menu key being pressed during this level transition?  With coroutines, since we have control over reentry through custom YieldInstructions, we don't have write anything extra in LevelComplete to make that work.  <br><br>What about synchronization with the main thread and other async methods?   Won't it be possible that an async method gets ahead or falls behind the main thread or any others?  Or since you are using fibers will the scheduler keep them synchronous and not a problem? <br><br></td></tr></table><br>
<a name="2114812"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I don't want to hog this thread.. but just a little bit more.<br><br>Please hog away - I need all the help I can get here! And I do think it'd be a very cool feature to have, however it's done. But it's getting late, I'll post a followup to your comments tomorrow.<br><br>And get well soon Richard! <br><br></td></tr></table><br>
<a name="2114820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://scholar.google.com/" target="_blank"><u>Google Scholar</u></a> may have some interesting research papers when searching for "coroutines". For example "A Language of Coroutines".<br>On iPad you can use <a href="https://itunes.apple.com/us/app/papers-search-download-full/id1049766478?mt=8" target="_blank"><u>Papers</u></a> to search for papers and download+view the PDF's directly. <br><br></td></tr></table><br>
<a name="2114813"></a>

<a name="2114814"></a>

<a name="2114815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Patch</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Try adding this at line 300 of modules/mojo2/graphics.monkey2 (in the Texture.SetData method) just before the glPopTexture() at the end...<br><br>glFlush()<br><br>...if that doesn't work, try glFinish().<br><br>Shouldn't be necessary, but it fixes the problem on skidracer's mac mini + Geforce something. Thanks skid!<br><br>Please let me know if it works! <br></div><br><br>Can confirm that adding the glFlush() line above glPopTexture() works! Thanks marksibly and skid!<br><br>Just FYI this Mac has an Intel HD Graphics 4000 1536 MB card. <br><br></td></tr></table><br>
<a name="2114822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;&gt;  Did you finally took the ; is optional at the end of sentence,<br><br>&gt; Actually it's stricter than that - a single ';' can only appear between 2 statements so ';' at the end of line isn't currently supported. Again, this is one of several little things that may change in future if there's a demand/uproar etc.<br><br>I think it should be allowed at the end of lines.  I probably won't use it much myself, but for someone who uses it a lot, editing will become a pain because the ; will have to be deleted if a line is removed or moved to a new line.<br><br>Regarding SetColor(), I don't think forcing the programmer to use macros is a good idea.  I think there should always be a SetColor( r, g, b, a ) and SetColor( r, g, b ) in the basic language, and then for coders who want a bit more optimisation, there can be inline functions and/or macros.  Maybe SetColor( xxxx:Int ) can be there with a warning that the results are machine dependent, but I'd call it something else (SetColorVals?) in case it became a trap for beginners. <br><br></td></tr></table><br>
<a name="2114823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> Multithreading programming paradigms are a bit over my head, but I am watching this thread with excitement because a straightforward implementation will make it much easier for me to understand the concepts inside out, and I'm learning as I go along by watching everybody's posts on the topic. Thank you very much, and I look forward to seeing all the proposals! <br><br></td></tr></table><br>
<a name="2114831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks to Danilo... I found this very short summary of boost's fiber and coroutines<br><a href="http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.433.8333&amp;rep=rep1&amp;type=pdf" target="_blank">http://citeseerx.ist.psu.edu/viewdoc/download?doi=10.1.1.433.8333&amp;rep=rep1&amp;type=pdf</a><br><br>a summary of this summary from the end suggests it might be better to implement fibers on top of coroutines... (I guess the scheduler is built from coroutines)<br><div class="quote"> Of course it would be possible to implement coroutines on top of fibers instead. But the concepts map more neatly to<br>implementing fibers in terms of coroutines. The corresponding operations are:<br><br>- a coroutine yields;<br>- a fiber blocks.<br><br>When a coroutine yields, it passes control directly to its caller (or, in the case of symmetric coroutines, a designated<br>other coroutine).<br><br>When a fiber blocks, it implicitly passes control to the fiber scheduler. Coroutines have no scheduler because they<br>need no scheduler. <br></div><br><br><a href="http://www.boost.org/doc/libs/1_55_0/libs/coroutine/doc/html/index.html" target="_blank">http://www.boost.org/doc/libs/1_55_0/libs/coroutine/doc/html/index.html</a><br><a href="http://olk.github.io/libs/fiber/doc/html/" target="_blank">http://olk.github.io/libs/fiber/doc/html/</a> <br><br></td></tr></table><br>
<a name="2114830"></a>

<a name="2114834"></a>

<a name="2114835"></a>

<a name="2114836"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> Happy.... (research) New Year! ;) <br><br></td></tr></table><br>
<a name="2114841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.. I've also found a ton of small/simple implementations:<br><a href="http://dotat.at/cgi/git?p=picoro.git" target="_blank">http://dotat.at/cgi/git?p=picoro.git</a>  (http://dotat.at/cgi/git?p=picoro.git;a=blob;f=picoro.c;hb=HEAD)<br><a href="https://github.com/mvcode/doc/wiki/Implementation-Techniques" target="_blank">https://github.com/mvcode/doc/wiki/Implementation-Techniques</a><br><a href="http://www.embeddedrelated.com/showarticle/455.php" target="_blank">http://www.embeddedrelated.com/showarticle/455.php</a>  (some good comments on this one)<br><a href="http://fanf.livejournal.com/105413.html" target="_blank">http://fanf.livejournal.com/105413.html</a><br><a href="http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html" target="_blank">http://www.chiark.greenend.org.uk/~sgtatham/coroutines.html</a><br><br>:) <br><br></td></tr></table><br>
<a name="2114839"></a>

<a name="2114838"></a>

<a name="2114837"></a>

<a name="2114840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> :D <br><br></td></tr></table><br>
<a name="2114858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Happy.... (research) New Year! ;)<br><br>Yeah baby! 2016 should be very interesting!<br><br>&gt; it might be better to implement fibers on top of coroutines.<br><br>Ha, I've just done the complete opposite!<br><br>I decided to go for fibers first since the API (the win32 one anyway) is incredibly simple, and if C++ can build async/await on top of fibers, I might be able to too.<br><br>Here's the resultant, highly experimental fiber API:<br><br><pre class=code>
Function StartFiber:Int( entry:Void() )
Function SwitchToFiber:Void( fiber:Int )
Function GetCurrentFiber:Int()
</pre><br><br>(There will probably be CancelFiber too).<br><br>This is incredibly primitive - there is no 'scheduler' as such, but I kind of like that because we can build schedulers etc on top. It currently fakes fibers with threads but ensures that, like a real fibre or coroutine, there is only ever one fiber 'unblocked' at a time. The overhead of creating/switching fibers is likely to be quite high, but with some low down and dirty ASM is should be possible to reduce it to about that of a function call.<br><br>Fiber 0 is reserved for the main/gui fiber, which means SwitchToFiber( 0 ) will always switch to the gui fiber. This means fiber 0 *is* effectively the scheduler, and that sounds right to me. If all fibers are blocked, the ONLY thing that can unblock them is the gui thread, as ultimately all code execution begins from the gui event dispatch mechanism.<br><br>Anyway, I can now do this: it just 'fades in' the window color, but I think it's a very promising start:<br><br><pre class=code>
Class MyWindow Extends Window

	Method New()
		Super.New( "My Window",0,0,640,480,WindowFlags.Center )
		
		Destroyed=App.Terminate
		
		StartFiber( Yeehaa )
	End
	
	Method Yeehaa()
	
		For Local i:=0 Until 256
			ClearColor=New Color( 1,0,i/255.0,1 )
			App.RequestRender()
			WaitFrame()
		Next
	End
End
</pre><br><br>The implementation of WaitFrame is a little funky, but a lot of people wont care how it's implemented, and I'm confident utility funcs for 'Wait( some_generic_condition )' etc can be written to make this sort of stuff nicer.<br><br><pre class=code>
Function WaitFrame()

	Local fiber:=GetCurrentFiber()
	
	App.Idle+=Lambda()
		SwitchToFiber( fiber )
	End
	
	SwitchToFiber( 0 )
End
</pre> <br><br></td></tr></table><br>
<a name="2114855"></a>

<a name="2114856"></a>

<a name="2114857"></a>

<a name="2114854"></a>

<a name="2114853"></a>

<a name="2114852"></a>

<a name="2114851"></a>

<a name="2114850"></a>

<a name="2114849"></a>

<a name="2114848"></a>

<a name="2114847"></a>

<a name="2114846"></a>

<a name="2114845"></a>

<a name="2114844"></a>

<a name="2114843"></a>

<a name="2114842"></a>

<a name="2114870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Just got back home and access to my development system and 'WOW'. Very, very nice work Mark.<br><br>I have just had time to compile the Xdemo <strike>v1</strike> v2 on Linux Mint 17.2 "Rafaela" and all went well. First source demo  up was 'Stargate' which is awesome and runs perfectly so far (desktop). Ted2 is so on the right track clean and simple. Just a great first impression. Well done.<br><br>Off to dive a little deeper. <br><br></td></tr></table><br>
<a name="2114860"></a>

<a name="2114861"></a>

<a name="2114862"></a>

<a name="2114863"></a>

<a name="2114864"></a>

<a name="2114868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, this fiber stuff is great!<br><br>I successfully converted defender's TitlePage, LevelComplete and GameOver pages to fiber style code so they're now discrete functions, and it all worked pretty much first time!<br><br>I even got a simple generator system going - here's an example of an int range generator:<br><br><pre class=code>
Class IntGenerator Extends Generator&lt;T&gt;

   Method New( min:Int,max:Int )
      Start( Lambda()   'ok, this is a bit funky, but necessary for now...
         For Local i:=min To max
            Yield( i )
         Next
      End )
   End

End

Function Main()
   Local gen:=New IntGenerator( 1,10 )
   While gen.HasNext
      Print gen.NextValue
   Wend
End
</pre><br><br>Again, the implementation of Generator&lt;T&gt; will be a little 'out there' to some, but it works and I love the idea of building higher level stuff like this *in monkey2* on top of a small, simple lower level native API.<br><br>There is still no doubt lots to discover about all this - I'm still a little confused about 'who goes next' when a fiber finishes (is it always the 'parent' fiber?) and it's a little too easy to 'leak' fibers if your not careful (although using builtin Wait/Generator will always work) but I love where this is going. <br><br></td></tr></table><br>
<a name="2114866"></a>

<a name="2114867"></a>

<a name="2114869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will all these new features work on all target platforms due to the base language being C++? <br><br></td></tr></table><br>
<a name="2114871"></a>

<a name="2114872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This means fiber 0 *is* effectively the scheduler, and that sounds right to me. If all fibers are blocked, the ONLY thing that can unblock them is the gui thread, as ultimately all code execution begins from the gui event dispatch mechanism. <br></div><br>I'm just reading over this but what you are saying here is 'exactly' right and how I would approach it. In my current GUI design the window system is where I would schedule fibers I think. Each window having it's I guess parent fiber(s) (which could be blocked say when it's hidden) and perhaps adding to it a button and mojo2 renderer fiber for example. Hmmm. <br><br></td></tr></table><br>
<a name="2114873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Will all these new features work on all target platforms due to the base language being C++?<br><br>The only target that might be a problem with the async stuff is - surprise! - emscripten. It has a new thread API that will probably work, but it's VERY new and wont be wildly supported by many browser yet.<br><br>But it's too cool a feature to drop just because emscripten doesn't support it well! My focus with monkey2 will remain on the 'real' c++ targets, such as desktop/android/ios. Emscripten I'll do the best I can with, but I don't want it holding anything back.<br><br>&gt; the window system is where I would schedule fibers<br><br>It's all kind of self scheduling really. The internal UpdateEvents() loop that gets messages from the system and dispatches them to monkey2 callbacks (in a variety of ways) is the ultimate 'source' of all code flow, and eventually the code flow may end up 'waking' a suspended fiber (and if the gui fiber is running, all other fibers MUST be suspended by definition) - ie: scheduling it.<br><br>But I don't plan on using fibers 'for each button/window' or whatever - yet, anyway. I'm quite happy with the Clicked/Triggered/Dragged signals system in place. In fact, even if some of this was fiberized in some way, there'd still need to be a non-fiber mechanism in there that was capable of waking them. There's probably less to fibers than your thinking! <br><br></td></tr></table><br>
<a name="2114874"></a>

<a name="2114875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There's probably less to fibers than your thinking! <br></div><br>And you are probably right. This is the side of me that is exploring integrated development environments/platforms at the moment. ;) <br><br></td></tr></table><br>
<a name="2114880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> You must be some kind of machine... I go out for a few hours and bam! done!  :)<br>wow... looks and sounds great!... except for <br>&gt;The overhead of creating/switching fibers is likely to be quite high, but with some low down and dirty ASM is should be possible to reduce it to about that of a function call.<br><br>switching will be especially important to reduce that but yeah, hopefully startup can be reduced to close what the coro option would be... which would be a memory block copy and some jumps, right?<br><br>&gt;I'm still a little confused about 'who goes next' when a fiber finishes (is it always the 'parent' fiber?)<br><br>for coroutine that would be yes... not sure about with this.... are you planning on building anything more to schedule them?  Judging by what you wrote it doesn't sound like you need that at all in which case why not?   It sounds most intuitive to me.<br><br>&gt; I'm confident utility funcs for 'Wait( some_generic_condition )' etc can be written<br><br>wow, this is going to be great!<br><br>ok now the most important question, when do we get to play? <br><br></td></tr></table><br>
<a name="2114886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> another question... can you make <pre class=code>StartFiber:Int( entry:Void(), coreThread:int )</pre><br><br>[edit]<br>sidenote, some nice insights here<br><a href="http://tinyurl.com/qzwbame" target="_blank">http://tinyurl.com/qzwbame</a><br>(https://books.google.com/books?id=1-NfBElV97IC&amp;pg=PA260&amp;lpg=PA260&amp;dq=win32+fibers+overhead&amp;source=bl&amp;ots=SQqjhnfTkx&amp;sig=-YMqtCkwXnFUGtiy27M0omKF7jc&amp;hl=en&amp;sa=X&amp;ved=0ahUKEwjKicTJ84jKAhVL5CYKHS8pA0QQ6AEIRDAH#v=onepage&amp;q=win32%20fibers%20overhead&amp;f=false) <br><br></td></tr></table><br>
<a name="2114885"></a>

<a name="2114881"></a>

<a name="2114882"></a>

<a name="2114884"></a>

<a name="2114887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; You must be some kind of machine... I go out for a few hours and bam! done! :)<br><br>Well, I'd already had a crack at 'real' threads (and given up on for now) so I sort of knew what to do. What surprised my was how easy it was to get Wait() going once fibers were in!<br><br>&gt; which would be a memory block copy and some jumps, right?<br><br>Yeah, switching fibers should only involve saving/restoring a bunch of CPU registers including SP and then JSR-ing. Creation is less of a problem because I can just use a 'thread pool'.<br><br>How many fibers do you expect to be running at once typically? I can see the overhead being significant for generators, but if you've only got a couple of fibers vwating, it's not that big a deal. Apart from 'fading out', what sort of things is this generally used for?<br><br>&gt; are you planning on building anything more to schedule them?<br><br>That's the cool thing about having such a small API - we can add stuff and mess with it as necessary quite easily. So if we find anything that would help, we can just bung it in there.<br><br>For example, I've solved the 'who goes next' problem for now by changing the fiber function so it returns a 'next fiber' int that controls which fiber goes next after this fiber has returned/completed - kind of a 'continuation' I guess. So most fibers can (probably) just return 0, while generators set a 'finished' flag and return to the parent fiber. It may turn out that the parent fiber ALWAYS goes next (or that it prevents fiber leaks to do so or something) but for now having that int in there allows us to experiment.<br><br>I think this is similar to your 'corethread' idea? Except I've done it this way:<br><br>StartFiber:Int( entry:Int() )<br><br>ie: entry returns the fiber to switch to AFTER it completes. I was initially doing something like<br><br><pre class=code>
GeneratorFiberCode()
   'do the 'yield' loop...
   _finished=true
   SwitchToFiber( _parent )
End
</pre><br><br>...but this leaks! The problem is the last SwitchToFiber 'suspends' the fiber, but there's nothing to resume it to allow it to actually return/exit. And if you try to resume it 'one last time' from the parent fiber, you end up with the opposite problem - the parent 'stalls'! So it now looks like this:<br><br><pre class=code>
GeneratorFiberCode:Int()  'returns fiber to switch to after we've finished and have been cleaned up/deallocated etc.
    'do the 'yield' loop
   _finished=True
  Return _parent
End
</pre><br><br>The are other ways to deal with this - your way, something like SetFiberNextFiber() etc - but I think we'll only find out the best way by playing with things.<br><br>I was planning on adding a CreateFiber() too, that works like StartFiber() but doesn't actually run the fiber until you explicitly SwitchToFiber. In which case, a fiber could end with...<br><br>Return CreateFiber( SomeOtherFunc )<br><br>...to 'chain' fibers together. But it turns out this is really unnecessary, as you're already running on a fiber so why bother creating a new one? You can just call SomeOtherFunc() directly before you exit instead. Still, CreateFiber can easily happen if there's a need for it. <br><br></td></tr></table><br>
<a name="2114888"></a>

<a name="2114889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> oops, wrong thread... <br><br></td></tr></table><br>
<a name="2114891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't forget to make a good documentation about those fibers in the Ted help doc/online.<br>I think i'm not the only one that never heard about those funny named things. <br><br></td></tr></table><br>
<a name="2114892"></a>

<a name="2114893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How many fibers do you expect to be running at once typically? I can see the overhead being significant for generators, but if you've only got a couple of fibers vwating, it's not that big a deal. Apart from 'fading out', what sort of things is this generally used for? <br></div><br><br>I would like to use them for any kind of animation... <br>- AI or any othr kind of state machine or more importantly, the sub parts of the state. <br>- scripting any squence of events.<br>- spliting up processes or computations thorugh mulitple frames.<br>- just to do something "asynchronously" of course.<br>- with custom yields can then replace polling calls? (maybe that would still poll though just someplace else?)<br><br>using them should reduce things like While IsMoving()...  <br><br>I'd use custom yield instructions to manage the 'global' state of the object or application... ex. if object is killed before the coroutine finishes or if pause is pressed.<br><br>The more reading I've done on this the more examples I've find using them for just about everything... even your example to write the entire lifecycle in the single function.   There's a lot of talk about statckless coroutine implentations to avoid some of the overhead.  <br><br>yeah, so to go to those levels, overhead and performance need to be good.<br><br>I'm getting very excited about all this...<br><br>Just to confirm, these all share memory/state right?<br><br>Also, this is probably asking too much but do you think there might be a way to serialize them for game saves? <br><br></td></tr></table><br>
<a name="2114894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I would like to use them for any kind of animation... <br><br>As an experiment, I might try and convert defender to use fibers for it's animation.<br><br>&gt; I'd use custom yield instructions to manage the 'global' state of the object or application... ex. if object is killed before the coroutine finishes or if pause is pressed.<br><br>Could you clarify this a bit? In particular, I get the 'paused pressed' issue can be complex!<br><br>For things like 'Destroyed', I'd tend towards using something like a 'signal' similar to Window.Destroyed instead, eg:<br><br><pre class=code>
'a signal! To 'raise', simply call GameOver().
Global GameOver:Void()

Class Actor

   'another object signal
   Field Destroyed:Void()

   Method New()

      GameOver+=Lambda()  'this adds a 'listener' to GameOver.
      End

      Destroyed+=Lambda()
         'ditto, this called when actor destroyed - maybe cancel fibers here? maybe have fibers groups? A fiber hierarchy?
      End

   End

End
</pre><br><br>It'd also be nice for a fiber to be able to 'wait' for a signal like this - shouldn't be hard although it may mean encapsulating the signal a bit for full flexibility. This is what WaitFrame() effectively does anyway, it just waits for the App.Idle signal.<br><br>Signals can often be used instead of fibers, eg: instead of starting a fiber and waiting on a signal, you can listen to a signal and (maybe) start a fiber when it fires, which is likely to be more efficient. Ted2 achieves a far amount of asynchronisity this way, but things get tricky when you want to do a 'blocking' loop, like for 'Close All Files'.<br><br>What I'm now planning to do here is something like:<br><br><pre class=code>
'what the 'CloseAll button' does..
CloseAllAction.Triggered=Lambda()   'when Close All is clicked...
   StartFiber( Lambda:Int()    'we start a fiber...
      '
      '...which can now 'block' without blocking the gui!
      '
   End )
End
</pre><br><br>(actually, StartFiber is starting to look very much like a sort of lambda...or something...)<br><br>&gt; Also, this is probably asking too much but do you think there might be a way to serialize them for game saves?<br><br>Wouldn't that be cool! I've actually been trying to nut out a way to serialize 'function pointer values' - something Qt does very well with its slots and signals - and this is related. So....maybe...I have some ideas... <br><br></td></tr></table><br>
<a name="2114897"></a>

<a name="2114898"></a>

<a name="2114899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#122">[#122]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> (actually, StartFiber is starting to look very much like a sort of lambda...or something...) <br></div><br>Yeah, so also have <pre class=code>'what the 'CloseAll button' does..
CloseAllAction.Triggered=LambdaFiber(
      '
      '...which can now 'block' without blocking the gui!
      '
End</pre> maybe not... this is less wordy but not very clear.<br><br><div class="quote"> Could you clarify this a bit? In particular, I get the 'paused pressed' issue can be complex! <br></div>All I was just thinking is that I would write something like this... <br><pre class=code>Function MyWaitFrame() ' gui elements would still use the standard WaitFrame
	Local fiber:=GetCurrentFiber()
	
	App.Idle+=Lambda()		' is this a stack or does this Lambda have to be removed from App.Idle somewhere?
		If game.state &lt;&gt; state.paused
			SwitchToFiber( fiber )
		End
	End
	
	SwitchToFiber( 0 )
	
End</pre>or put that check into "Wait( some_generic_condition )" as the "some_generic_condition"<br><br>as for the signals and destroyed...   How would that work... how do I find/identify those generic fibers?  <br><br>So if App.Idle is a stack, couldn't it all clean up via the GC?  if I remove object:Actor from all my references, the fiber would no longer add to App.Idle... the GC comes along and cleans it up?<br><br>-------------------------------------<br>couple other things I've been thinking about... these would just clean up classes a bit and maybe add some performance.  I think it would be really nice to build some design patterns into the language... <br><br>- Pooling.  mark a class as pooled so when the GC tries to collect it, it caches it instead and New checks the cache first.  Even if it's not the GC and just some built in stuff behind the scenes that OnDestroy caches it.... I know it's trivial to add pooling to my classes but it's still a decent amount of code and this would make it real easy to make the pooling go deep.<br><br>- how about a Singleton keyword... New only ever gives you the initial allocation.  again, very easy to code but man, that would be clean and clear!<br><br>- the prototype pattern would be cool too but that would probably just go into a library with serialization. <br><br></td></tr></table><br>
<a name="2114900"></a>

<a name="2114901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#123">[#123]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; - Pooling. mark a class as pooled so when the GC tries to collect it, it caches it instead and New checks the cache first.<br><br>Already happens for objects &lt;256 bytes (should probably be less). These go immediately into a 'fast allocation' pool. Malloc generally does this too anyway.<br><br>It's the 'tries to collect it' bit that'd be nice to avoid, but that really means some alternate collection scheme like ref counting etc.<br><br>&gt; New only ever gives you the initial allocation.<br><br>Interesting idea, but could make code look a bit misleading? If I see a 'New blah' I kind of expect it to create a new blah. But yeah, something to make on the fly singleton generation easier might be nice.<br><br>Just got landers animating via fibers too! It's a bit dodgy though - fiber scheduling looks like it'll be trickier than I thought. <br><br></td></tr></table><br>
<a name="2114903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#124">[#124]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great too see some nice energy around this Mark! Great conversations going on - good stuff! <br><br></td></tr></table><br>
<a name="2114904"></a>

<a name="2114905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#125">[#125]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, think I've got the scheduling mostly figured out - and it simplifies stuff too. No need for continuation fibers etc.<br><br>Basically, the fibre API looks like this now:<br><br><pre class=code>
StartFiber:Int( entry:Void() )    'create a running fiber - same as create followed by resume...
CreateFiber:Int( entry:Void() )   'create a suspended fiber
ResumeFiber( fiber:Int )      'resume a suspended fiber
TerminateFiber( fiber:Int )    'terminate a fiber
SuspendFiber()     'suspend current fiber
CurrentFiber:Int()    'get current fiber.
</pre><br><br>...but you wont need to use then unless you're doing something advanced. Instead, you'll probably just use stuff like WaitFrame, WaitSeconds etc.<br><br>WaitFrame looks quite sane now:<br><br><pre class=code>
Function WaitFrame()
   Local fiber:=CurrentFiber()
   App.Idle+=Lambda()
      ResumeFiber( fiber )
   End
   SuspendFiber()
End
</pre><br><br>I've now got the defender game state logic running in a single MainLoop() method that looks remarkably like a 'normal' b3d/bmx app! Only of course it doesn't block the GUI at all...<br><br>Note that this isn't 'multiprocessing' - if ANY fiber takes a long time to do something and doesn't wait, it'll hold up ALL other fibers, including the GUI. This means you can lock everything up with a simple empty Repeat/Forever loop.<br><br>There are still issues with collecting/ending fibers. Most fibers are either running or suspended and waiting to be run. Either way, something has a handle on them so they can't just be GC'd. But I think this just means we need to think of fibers as 'resources', like files or memory etc - and I haven't thought much about how to make resources easier to deal with yet. <br><br></td></tr></table><br>
<a name="2114908"></a>

<a name="2114909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#126">[#126]</a></td></tr></table></td></tr><tr ><td class="posttext"> Native fiber/coroutines will be amazing. Imagine being able to write a single function to drive character behaviour.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function PickupObjectAndThrow( actor, object, target )

	' seek object to throw
	If Not actor.CanSee( object ) Then Return False
	Seek actor, object
	WaitForActionFinished actor

	' pick it up
	Pickup actor, object
	WaitForActionFinished actor

	' find the target
	If Not actor.CanSee( target ) Then Return False
	SeekInRange actor, target
	WaitForActionFinished actor

	PlayAnimation actor, "PointAndLaugh"
	WaitForActionFinished actor

	' throw at the target
	ThrowObject actor, object, target
	WaitForActionFinished actor
	Return True

End
</textarea> <br><br></td></tr></table><br>
<a name="2114907"></a>

<a name="2114910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#127">[#127]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're going to hate when Mark enforces brackets around function parameters, though :-D <br><br></td></tr></table><br>
<a name="2114911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#128">[#128]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Ok, think I've got the scheduling mostly figured out  <br></div>This looks really good... so you removed the int arg for suspendFiber, so does that mean suspend 0 or suspend parent?<br><br>I'm really looking forward to seeing the updated stargate.   You should make a note of the diffs as a little example/tutorial.<br><br><div class="quote"> Already happens for objects &lt;256 bytes (should probably be less). These go immediately into a 'fast allocation' pool <br></div><br>holy buckets!  that's awesome... This is new, Monkey1 didn't do that, right?  I saw sizable speed gains on older iPhones when I pooled stuff using Monkey1 awhile back.   Monkey2's feature list is really getting me excited again!<br><br><div class="quote"> Note that this isn't 'multiprocessing' <br></div>right... you mentioned that you shelved threads for a bit... can you say what you issues were?  now that we have coroutines on fibers maybe threading now doesn't need to be a super robust API.   Maybe it can be far smaller and managed, since we could have fibers on any thread.... basically I'm thinking the back end starts up the main thread and a few optional others (maybe only 1 per core(?)) and then when creating fibers, we can assign them to a particular thread.  Clearly that would be very limited....communication through messages and shared banks?  but I could see putting things like pathfinding and maybe physics on them... that said... most of my stuff will be satisfied with fibers only! <br><br></td></tr></table><br>
<a name="2114912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp MkII</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#129">[#129]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds like it's coming together nicely now, will test it more later and see what it can do :) <br><br></td></tr></table><br>
<a name="2114913"></a>

<a name="2114914"></a>

<a name="2114915"></a>

<a name="2114916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#130">[#130]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There are still issues with collecting/ending fibers. Most fibers are either running or suspended and waiting to be run. Either way, something has a handle on them so they can't just be GC'd. <br></div>I'm a little confused about this since I was still thinking they were not managed/scheduled?<br><br>oh, the Int's, right..duh. so you have a fiber table... You have them come off and GC'd when the fiber method returns though right (ie. no call to SuspendFiber())?    is CurrentFiber() getting the int from table or is the method a closure?  <br><br>if the Actor is killed and it's ref count goes to 0, App.Idle still has the Actor's fibers.... App.Idle seems to be a stack and not a list, right?<br><br>why Int's instead of object reference? <br><br></td></tr></table><br>
<a name="2114920"></a>

<a name="2114921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#131">[#131]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; holy buckets! that's awesome... This is new, Monkey1 didn't do that, right?<br><br>Actually, it's probably less awesome than you think, and yes monkey1 did this.<br><br>The memory subsystem uses pools for small objects BUT the gc system still needs to detect when things are 'free' in the first place and THAT's the slow/complex bit.<br><br>Custom pools are fast NOT because memory allocation is slow, but because they 'know' things the GC doesn't - in particular, that even though there may be a bunch of references to an object, it's still safe to 'reuse' it. The GC in general can't know this, so it's frequently resigned to creating new objects.<br><br>&gt; I saw sizable speed gains on older iPhones when I pooled stuff using Monkey1<br><br>How long ago was this? The monkey1 GC did improve significantly over time...<br><br>&gt; so you removed the int arg for suspendFiber, so does that mean suspend 0 or suspend parent?<br><br>It means to suspend the current fiber (perhaps should be renamed?)...<br><br>The problem with only using SwitchToFiber is that it doesn't recognize that there are basically 2 states a non-running fiber can be in - 'suspended' because it's waiting for something to wake it up, or 'ready' because it's just caused another suspended fiber to 'wake up', and although it's no longer running, it's not suspended either as it needs to run again later. It's 'ready' or 'scheduled for execution' as opposed to 'suspended'.<br><br>This turned out to be surprisingly simple to do after a bit of head scratching, and it just involves a bit stackery:<br><br><pre class=code>
Function ResumeFiber( fiber )
   readyStack.Push( CurrentFiber() )   'push current fiber on global readyStack.
   SwitchToFiber( fiber )                      'wake up suspended fiber
End

Function SuspendFiber()
   If readyStack.Empty Throw New IllegalOperation( "Fiber stack is empty!" )
   SwitchToFiber( readyStack.Pop() )  'back to next 'ready' fiber. We are now 'suspended'.
End
</pre><br><br>When a fiber exits, it basically does the SuspendFiber stuff, only it also cleans up after itself.<br><br>A nice-ish side effect is that SuspendFiber() will fail if called on the gui fiber, because fiberStack will be empty. And by the time the fiber stack is fully popped, we know we're back to the gui fiber.<br><br>SwitchToFiber could remain, although I'm not sure what it'd be useful for.<br><br>There are (at least) 2 more things I need to do to make this rock solid:<br><br>* SuspendFiber needs to skip over canceled fibers when it pops the ready stack.<br><br>* Each resume must match exactly one suspend, but there's not currently any enforcement of this. Get it wrong and crazy stuff happens! I have a few ideas here, but in general if you're just using WaitBlah() it wont be an issue.<br><br>&gt; if the Actor is killed and it's ref count goes to 0, App.Idle still has the Actor's fibers.... <br><br>Here's the problem though - there is no such thing as 'the Actor's fibers'. A fiber is not 'owned' by anything and will only end when it returns, or is cancelled. <br><br>In the case of fibers that just do something and exit, it's (almost) not a problem, but in the case of animation style fibers that effectively loop forever, something needs to cancel them.<br><br>I solved this in defender by replacing the 'repeat/forever' in the animation loop with 'while actor.alive', but this did mean I had to tweak ClearActors a bit so it cleared the 'alive' flag for all actors before clearing actor lists. <br><br>Actor classes could provide their own version of StartFiber that 'tracked' fibers and ensured they were canceled when the Actor was destroyed, but it would be kinda nice to help out here if possible.<br><br>&gt; App.Idle seems to be a stack and not a list, right?<br><br>Actually, App.Idle is just a function pointer. You can use += with function pointers to 'add' functions to them. But you can effectively think of it as a list/stack of functions.<br><br>App.Idle is automatically 'cleared' each time it's invoked, so if something wants to be called every App.Idle continuously it needs to keep using App.Idle+= over and over.<br><br>&gt; why Int's instead of object reference?<br><br>I did this because it allows StartFiber to return a unique id/handle for every fiber created. This int can be validated easily to make sure it really represents an active fiber, and not a fiber that may have exited or been canceled 'behind your back'. This means you can't accidentally, say, 'CancelFiber' a fiber that is no longer running.<br><br>This is a bit like audio systems that return a unique channel id when you use PlaySound. If the sound finishes, the id becomes invalid so you can't accidentally mess with a channel another sound may now be playing through.<br><br>I may eventually wrap this handle in an object and OO-ify the fiber interface a bit, but for now I'm keeping it simple. <br><br></td></tr></table><br>
<a name="2114919"></a>

<a name="2114918"></a>

<a name="2114917"></a>

<a name="2114922"></a>

<a name="2114923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#132">[#132]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm very curious about the signals and fibers, while I get the gist of it, I'm still not 100% clear on how it could be used with everyday gameplay logic. I would really like to see an example of signals (and maybe fibers) used to map things such as input from keyboard, button with touch, mouse, joypad, key mappings, AI, cutscene movement onto different game objects. Would that be a good use case? It seems to me the main purpose is to de-couple logic between objects.<br><br>It brings to mind reactive programming. I use this programming in javascript (meteor framework), it is surprisingly intuitive and simple to use at the "high" level, and takes away a lot of common "binding/bloat" code. To me it makes even more sense to use it for games. Is this similar to signals in any way?<br><br><a href="http://stephenwalther.com/archive/2014/12/05/dont-do-react-understanding-meteor-reactive-programming" target="_blank">Reactive Programming versus Event-Driven Programming</a><br><a href="https://gist.github.com/staltz/868e7e9bc2a7b8c1f754" target="_blank">Introduction to reactive programming</a> <br><br></td></tr></table><br>
<a name="2114924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#133">[#133]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; You're going to hate when Mark enforces brackets around function parameters, though :-D<br><br>I'm still holding out hope Mark will come to his senses, and MX2 gets optional ()s in function calls. ; )<br><br>It's minor, but one of my favourite minimal aspects of MX1. <br><br></td></tr></table><br>
<a name="2114925"></a>

<a name="2114926"></a>

<a name="2114927"></a>

<a name="2114929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#134">[#134]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; I'm still holding out hope Mark will come to his senses, and MX2 gets optional ()s in function calls. ; )<br><br>Not gonna happen sorry.<br><br>A lot of this new stuff would just not be sanely possible without the compiler being able to clearly tell the difference between 'invoking' a function, and simply 'referring' to one.<br><br>The IDE should be able to help here to a degree though, just as it should be able to deal with 'fixing case' of identifiers and so on. <br><br></td></tr></table><br>
<a name="2114928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#135">[#135]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Not gonna happen sorry.<br><br>I'm still getting native coroutines, struct, and operators. So we'll call it even. <br><br></td></tr></table><br>
<a name="2114934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#136">[#136]</a></td></tr></table></td></tr><tr ><td class="posttext"> @tibit<br>I think, but maybe i'm wrong, that it can be used as background special effects.<br>For example glowing fireflys that will be rendering in a fiber at the screen. But they won't lock the main gameplay loop.<br>And fot other gui things like downloading async at the background <br><br></td></tr></table><br>
<a name="2114935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#137">[#137]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yay, MX2 is compiling Emscripten here on Linux Mint 17.2 (64). Chromium and Firefox. :)<br><br>I have to say setup was pretty easy and on Linux thats saying something. :) If I'll have to do is something like the run-a-couple scripts upgrading should be eased. Worked smoothly and initial setup compile times where not bad at all. <br><br></td></tr></table><br>
<a name="2114953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#138">[#138]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Tibit:<br>You can simply connect (multiple) event handlers to events.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">' empty line
#Import "&lt;mojo.monkey2&gt;"

Using std
Using mojo
Using mojo2

Class Value
    Field OnChanged:Void() ' event handler

    Method SetFactor:Value(factor:Int)
        Self.factor = factor
        Return Self
    End

    Method Inc()
        _currentValue += factor
        OnChanged()
    End
    
    Method Dec()
        _currentValue -= factor
        OnChanged()
    End

    Property get:Int()
        Return _currentValue
    End
    
    Private
    Field _currentValue:Int = 0
    Field factor:Int = 1
End

Class MyWindow Extends Window

    Field val1:Value
    Field val2:Value

    Method New()
        Super.New( "MX2 Window",0,0,800,640,WindowFlags.Center )
        
        ' Central dock
        Local centralDock := New DockingView()
        AddView(centralDock)

        ' left/right/top/bottom docks
        Local leftDock  := New DockingView()
        Local rightDock := New DockingView()

        centralDock.AddView(leftDock ,"left")
        centralDock.AddView(rightDock,"right")
        
        '
        ' Create Buttons
        '
        Local incBtn1 := New Button("Increment val1")

        Local decBtn1 := New Button("Decrement val1")

        Local incBtn2 := New Button("Increment val2")

        Local decBtn2 := New Button("Decrement val2")

        Local incBtnBoth := New Button("Increment Both")
        incBtnBoth.Layout = "float"

        Local decBtnBoth := New Button("Decrement Both")
        decBtnBoth.Layout = "fill"

        '
        ' Add Buttons to the dock "top", "bottom", "left", "right" sides
        '
        leftDock.AddView(incBtn1,"top")
        leftDock.AddView(decBtn1,"top")
        rightDock.AddView(incBtn2,"top")
        rightDock.AddView(decBtn2,"top")
        centralDock.AddView(decBtnBoth,"bottom")
        centralDock.AddView(incBtnBoth,"bottom")

        '
        ' Create 2 Values
        '
        val1 = New Value()
        val2 = New Value().SetFactor(5)

        '
        ' Connect the Value 'OnChanged' Event
        '
        val1.OnChanged += Lambda()
                              Print("CHANGED: val1 = " + val1.get)
                          End
        
        val2.OnChanged += Lambda()
                              Print("CHANGED: val2 = " + val2.get)
                          End

        '
        ' Connect Button 'Clicked' Events
        '
        incBtn1.Clicked += val1.Inc
        decBtn1.Clicked += val1.Dec
        
        incBtn2.Clicked += val2.Inc
        decBtn2.Clicked += val2.Dec
        
        incBtnBoth.Clicked += val1.Inc
        incBtnBoth.Clicked += val2.Inc

        decBtnBoth.Clicked += val1.Dec
        decBtnBoth.Clicked += val2.Dec

        '
        ' This makes the app terminate when the window is destroyed. 
        ' ( Connect Window.Destroyed to App.Terminate )
        Destroyed=App.Terminate
        
        ClearColor = Color.Grey
    End
    
    Method OnRender( canvas:Canvas ) Override
        canvas.SetColor( 1,1,0,1 )
        canvas.DrawText( "val1 = "+val1.get, ClientRect.Width/2, ClientRect.Height/2   , .5, .5 )
        canvas.DrawText( "val2 = "+val2.get, ClientRect.Width/2, ClientRect.Height/2+30, .5, .5 )
    End
End

Function Main()
    New AppInstance
    New MyWindow
    App.Run()
End
</textarea><br>In a game system you would probably use the event handling like this:<br><pre class=code>player1.OnCollision += soundPlayer.PlayCollision
player1.OnCollision += screen.Flash</pre> <br><br></td></tr></table><br>
<a name="2114952"></a>

<a name="2114951"></a>

<a name="2114950"></a>

<a name="2114949"></a>

<a name="2114948"></a>

<a name="2114946"></a>

<a name="2114954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#139">[#139]</a></td></tr></table></td></tr><tr ><td class="posttext"> @mark<br>will the building be a lot faster in the future ?<br>I have a fast workstation (3800 score using passmark 8, (without a good game videocard)), but building and starting the demo game cost around 15/20 seconds.<br>Normally I build 10000 times :) x 20 seconds = many wait time <br><br></td></tr></table><br>
<a name="2114956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#140">[#140]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question:<br>It's possible to pass as event-handler a method like Change(value)?<br>In the Danilo's example there are 2 methods (Inc() and Dec()) both 'linked' to the event-handler.<br>I looked ad the source code (button.monkey2), and the field Clicked() has no parameter.<br>I tried to change it, but of course I get an error (No default value for parameter).<br>So, It's by MX2 design? <br><br></td></tr></table><br>
<a name="2114959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#141">[#141]</a></td></tr></table></td></tr><tr ><td class="posttext"> The signature of the Event handlers should match. So if you do<br><pre class=code>Field OnMouseMove:Void( x:Int, y:Int )
Field OnSomething:Int( e:EventArgs )</pre><br>You can connect methods/lambdas that have the same signature. <br><br></td></tr></table><br>
<a name="2114958"></a>

<a name="2114957"></a>

<a name="2114960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#142">[#142]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, OK, so it needs to change the OnMouseUp event... I'm sure I will break something.<br>I believe it was more easy to do, changing the MX2 gui system doesn't seem a great move!<br>Thanks anyway!<br><br>ps:<br><br>I would add a OnMouseWheel event on button class... could do the job to pass increment/decrement of values, but this requires another field (Changed?) I suppose. <br><br></td></tr></table><br>
<a name="2114961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#143">[#143]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe it's better to make a new class 'MyButton' that Inherits from Button,<br>And add your new event handlers there (with different signature). <br><br></td></tr></table><br>
<a name="2114963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#144">[#144]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How long ago was this? The monkey1 GC did improve significantly over time... <br></div><br>It was a few years ago and the hardware I tested was real old.  This wasn't just a monkey thing though, it was common across devices and languages.  Only a problem though when you New'd a butt load of items in a single frame.  like particle effects for an explosion<br><br><div class="quote"> Actor classes could provide their own version of StartFiber that 'tracked' fibers and ensured they were canceled when the Actor was destroyed, but it would be kinda nice to help out here if possible. <br></div><br>Yeah, we could do it ourselves... But I'm actually a huge fan of a good GC and other automatic maintenance.  I'm not a fan of having to track and cancel/dispose...  Now... we could also cancel in the Wait as well, right?  We would still have to check a flag though but it would only be one place<br><pre class=code>Function MyWaitFrame(o:object)
	Local fiber:=CurrentFiber()
	App.Idle+=Lambda(o:object)
		IF (entity)o.IsAlive
			ResumeFiber( fiber )
		Else
			CancelFiber( fiber )
		End
	End
	SuspendFiber()
End</pre><br><br><div class="quote"> App.Idle is automatically 'cleared' each time it's invoked <br></div>that's what I was wondering... excellent. <br><br></td></tr></table><br>
<a name="2114962"></a>

<a name="2114967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#145">[#145]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It brings to mind reactive programming. <br></div> and Reactive Extensions... I had seen a lot of talk about this but didn't really pay attention...  those 2 links gave me a basic idea but I still couldn't get my head around them until I saw these 2. <br><br><a href="https://www.youtube.com/watch?v=dwP1TNXE6fc" target="_blank">https://www.youtube.com/watch?v=dwP1TNXE6fc</a> (9mins) the best high level explanation I've found<br><a href="https://channel9.msdn.com/Blogs/codefest/DC2010T0100-Keynote-Rx-curing-your-asynchronous-programming-blues" target="_blank">https://channel9.msdn.com/Blogs/codefest/DC2010T0100-Keynote-Rx-curing-your-asynchronous-programming-blues</a> (40mins)<br><br>now with fibers we can do some of this too by build asynchronous "Observables"  :) <br><br></td></tr></table><br>
<a name="2114966"></a>

<a name="2114970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#146">[#146]</a></td></tr></table></td></tr><tr ><td class="posttext"> A few words about events/signals etc...<br><br>Events are used to represent user input such as key and mouse events etc. They are sent from the mojo event loop to views, and differ from signals in that they have a 'target' - eg: key events are sent to the focus view, mouse events are sent to the view under the pointer etc, possibly via filters eventually. Events are implemented as objects that extend the Event class and are 'received' by virtual view methods such OnKeyEvent, OnMouseEvent etc. So if you want to catch input events, then yes, you have to subclass something.<br><br>Signals are higher level and used to represent more abstract things like 'button clicked', 'scrollbar value changed' etc. Its really the job of 'control' style views to transform events into signals, eg: when a button receives a 'mouse down' event it emits a 'clicked' signal. Signals have no 'target' - a view emits signals without knowing/caring who is listening for the signal. This makes signals VERY flexible as they can be 'plugged into' any system since they don't care who/what is receiving the signals. Ideally, you should be able to build apps using only signals and not have to care about events.<br><br>Signals are implemented as function pointers, and emitting a signal simply involves 'calling' the function pointer. This will cause anything listening for the signal to execute. You can use = to assign a single listener to a signal, or += to add multiple listeners, eg:<br><br>Local button:=New Button<br>button.Clicked=OnClicked       'sets a single signal listener (note: will 'overwrite' any previous listener(s))<br>button.Clicked+=OnClicked2   'adds another listener<br>button.Clicked+=OnClicked3   'and another<br><br>...this code means 3 functions will be called when the button is clicked.<br><br>Also, in terms of naming conventions, I think it's best to save the 'On' prefix for signal listeners, not the signals themselves. eg: the button clicked signal is simply 'Clicked', not 'OnClicked', so when you go button.Clicked=OnBlahClicked it's kind of clearer .Perhaps it doesn't matter much, but it's what Qt does and I'm sticking with it myself!<br><br>&gt; I looked ad the source code (button.monkey2), and the field Clicked() has no parameter.<br><br>Well no, because a button has no 'value'. It's just a button, what value do you expect it to 'emit'?<br><br>If you could explain what you'd actually like to do I can perhaps be of more help!<br><br>&gt; Oh, OK, so it needs to change the OnMouseUp event... I'm sure I will break something.<br><br>The gui has been designed so it should be easy to subclass View. <br><br>You can start by copying and pasting the button class if you want, and renaming it 'MyButton' or something. Or you can extend Button. You don't have to modify mojo, you can add the new class to your own project. You can't accidentally override a critical or otherwise method, because you need to declare 'Override' when overriding an existing method, so it should all be relatively bulletproof.<br><br>Here's a little example of an 'IntField' class I whipped up, that allows you to change the value of an int by using the mousewheel when the pointer is on top of the view:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
#Import "&lt;mojo.monkey2&gt;"

Using std
Using mojo
Using mojo2

Class IntField Extends View

	Field ValueChanged:Void( newValue:Int )	

	Method New( value:Int=0 )
	
		Value=value
	End
	
	Property Value:Int()
	
		Return _value
	
	Setter( value:Int )
		
		_value=value
		Label=String( _value )
	End
	
	Method OnMouseEvent( event:MouseEvent ) Override
	
		Select event.Type
		Case EventType.MouseWheel
		
			_value+=event.Wheel.y
			Label=String( _value )
			
			ValueChanged( _value )
			Return
		End
		
		Super.OnMouseEvent( event )
	End
	
	Private
	
	Field _value:Int
	
End

Function Main()

	New AppInstance
	
	Local window:=New Window( "IntField Test",0,0,640,480,WindowFlags.Center )
	window.Destroyed=App.Terminate 'should probably be the default!
	
	Local ifield:=New IntField( 0 )
	ifield.Layout="float" 'should probably be the default!
	
	ifield.ValueChanged=Lambda( newValue:Int )
		Print "Value changed:"+newValue
	End
	
	window.AddView( ifield )
	
	App.Run()

End
</textarea><br><br>Something like this that extends TextField will eventually be in there...<br><br>&gt; will the building be a lot faster in the future ? x 20 seconds = many wait time<br><br>It will be slow the first 2 times you build as it has to recompile all project files (first build) and then scan for dependancies (second build), but after that the build cache should have warmed up and build times should improve greatly. Stargate takes about 4 seconds here to build after a modification once things are in the groove.<br><br>It will be sped up too. It's still compiles more files that it needs to sometimes, and I plan to support multi-process builds. And on Windows, you'll be able to use msvc eventually which is very fast.<br><br>&gt; Only a problem though when you New'd a butt load of items in a single frame. like particle effects for an explosion<br><br>Structs can help here too, which is what I'd probably use to implement particles. If they only contain primitive type values, an array of structs will have very little GC overhead (perhaps not yet quite true), ie: as much as a single object since it's elements don't need to be marked. <br><br></td></tr></table><br>
<a name="2114969"></a>

<a name="2114968"></a>

<a name="2114975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#147">[#147]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Mark, it's good to see you motivated. Just don't forget about the big picture this time.<br><br>It would be sad if monkey2 would tank, like Monkey did, due to spending resources on certain aspects. Some of us were there already. There is a lot of time you can spend on this stuff (splitting up code, spreading it gently across cores, states, comm, management, ...). No matter how you write code (if you use coroutines or gameStates) its about what the code is able to accomplish with all its components and the interaction it enables. <br><br>That's what the end user will experience too. From both, a dev's and user's point of view Monkey was a step backwards. Please try to go forward again, making things easy, capable and enjoyable again, bringing back that Max feeling. <br><br></td></tr></table><br>
<a name="2114974"></a>

<a name="2114973"></a>

<a name="2114978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#148">[#148]</a></td></tr></table></td></tr><tr ><td class="posttext"> See, I never used Max at all.<br><br>I've used a lot of languages, but not that particular one.<br><br>For me, Monkey wasn't / isn't the language designed for me to love as a language per se.  It's the language that gives me easy and straightforward multi-target abilities, while still being a capable and flexible - and reasonably conventional - programming language,  THAT'S what I love about it.<br><br>Frankly, I'm surprised the demand is not greater - I can only assume that newbies are finding ways to work with Unity or GameMaker, or picking Monkey alternatives that are less capable... <br><br></td></tr></table><br>
<a name="2114982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#149">[#149]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> From both, a dev's and user's point of view Monkey was a step backwards <br></div><br>Absolutely not!<br><br><div class="quote"> I'm surprised the demand is not greater <br></div><br>People don't know it (well enough).<br>I have made it my personal mission to market the hell out of Monkey once Monkey 2 (and a ported version of Pyro) is 'finished'. <br><br></td></tr></table><br>
<a name="2114984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#150">[#150]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have made it my personal mission to market the hell out of Monkey once Monkey 2 (and a ported version of Pyro) is 'finished'. <br></div><br>I agree. Nows the time to start thinking along these lines. ;)<br><br>edit- On a side note porting Monkey 1 code if written 'strictly' to MX2 seems pretty easy so far. Although MX2 is not quite ready for that kind of thing yet it is encouraging to see that MX1 code will convert fairly straight forwardly. <br><br></td></tr></table><br>
<a name="2114983"></a>

<a name="2114985"></a>

<a name="2114986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#151">[#151]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> it is encouraging to see that MX1 code will convert fairly straight forwardly. <br></div><br>Yeah, it was mentioned somewhere that some consider Monkey 1 as abandoned and seeing Monkey 2 as (yet) another new language but to me Monkey 2 looks like a powerfull upgrade! <br><br></td></tr></table><br>
<a name="2114989"></a>

<a name="2114990"></a>

<a name="2114991"></a>

<a name="2114992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#152">[#152]</a></td></tr></table></td></tr><tr ><td class="posttext"> @taumel:<br>On the other hand, the very basic core of the language should be there from the beginning,<br>and it must be well thought-out. That's why there are those (sometimes boring) discussions here.<br>Of course there can be additions later on (like C# 3.0 / 3.5 / 4.0 / ...), but I think Mark is currently<br>still implementing stuff he wants in MX2 v1.0 Final.<br><br>@Mark:<br>MX2 looks very clean to me, without too many special chars, brackets, etc.<br>One thing that looks ugly to me is the #Import stuff at the beginning of every file:<br><pre class=code>#Import "&lt;mojo.monkey2&gt;"
#Import "&lt;mojo2.monkey2&gt;"
#Import "&lt;std.monkey2&gt;"</pre><br>First, the double-use of " and &lt; is weird. Wouldn't it be cleaner to differentiate between<br>local files and frameworks/modules just by using "" <u>or</u> &lt;&gt; (like C/C++)?<br><br>Second, why not remove the need to use '#' for Import? Make it look like an essential part<br>of the language, not like a preprocessor thing. Even if it is (technically, internally), you could<br>handle it without '#'. Like 'Namespace', 'Using', etc. - Import should also be used without '#'<br><pre class=code>Import &lt;mojo.monkey2&gt;
Import &lt;mojo2.monkey2&gt;
Import &lt;std.monkey2&gt;

Import "myfile.monkey2"

Import "style.css"
Import "stargatesprites.png"</pre><br>Looks much cleaner in my opinion.<br><br>Another small thing I noticed yesterday:<br>Mojo/textview.monkey2 seems to be a full editor control. Could it possibly make sense to rename it to "Editor",<br>and use "TextView" later on for a more simple text view control, without full edit features?<br>Like on Windows, where you can just display static text, input single-line strings, multi-line input/editor,<br>and full RTF-editor with text styles, etc.<br><br>I'm a little bit concerned about bloat-ware. Minimal tests, that result usually in executables of under 100k<br>with other languages, seem to be 8MB+ currently with MX2.<br>Mojo always imports .ttf fonts and pictures, even if they are not used. Maybe that could be optimized a little bit later?<br><br>BTW:<br>What's the minimal command-line "Hello World"?<br><pre class=code>Function Main()
    Print("Hello World!")
End</pre><br>I tried different 'Import' and 'Using', but somehow I can't get it working. Compiler sometimes aborts<br>without any message or things like that.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="2114988"></a>

<a name="2114987"></a>

<a name="2114994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#153">[#153]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>#Import "&lt;mojo.monkey2&gt;"<br>#Import "&lt;mojo2.monkey2&gt;"<br>#Import "&lt;std.monkey2&gt;"<br> <br></div><br>Yeah, that is pretty weird/horrific! <br><br></td></tr></table><br>
<a name="2114995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Flad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#154">[#154]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Structs can help here too, which is what I'd probably use to implement particles. If they only contain primitive type values, an array of structs will have very little GC overhead (perhaps not yet quite true), ie: as much as a single object since it's elements don't need to be marked. <br></div><br><br>So MX2 will have arrays of structs in a single block of memory on the heap? I haven't read every single message so I may missed the info in the past - so far I feared they might only be available for value types on the stack.<br>That's some great news :) <br><br></td></tr></table><br>
<a name="2114997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koradin</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#155">[#155]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 for Danilo's comment on imports, though #import is doable but the "&lt;&gt;" is tedious.<br>BIG +1 for the addition of structs in the form you've made them.<br>+1 for co-routines and fibers.<br><br>Overall I like the direction Monkey 2 is heading. Thanks, Mark! <br><br></td></tr></table><br>
<a name="2115005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#156">[#156]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 on 'Using'. On #Import, I'm cool with it; and how often are you using this directive (it's used little comparatively)?<br><br><div class="quote"> Yeah, it was mentioned somewhere that some consider Monkey 1 as abandoned and seeing Monkey 2 as (yet) another new language but to me Monkey 2 looks like a powerfull upgrade! <br></div><br>This is very true. MX2 is more an upgrade as opposed to a new path. From what I know Mark has made MX2 to be as backward compatible to MX1 as possible aside from a few syntax and command changes.  Basically if your MX1 code is coded using 'Strict' (which I do by default) you have an excellent chance at quickly converting MX1 code to MX2. The biggest issue for some will be the required inclusion of closures with function/method creations and references as well as commands. <br><br></td></tr></table><br>
<a name="2114998"></a>

<a name="2114999"></a>

<a name="2115000"></a>

<a name="2115001"></a>

<a name="2115002"></a>

<a name="2115003"></a>

<a name="2115004"></a>

<a name="2115025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#157">[#157]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Here's the problem though - there is no such thing as 'the Actor's fibers'. A fiber is not 'owned' by anything and will only end when it returns, or is cancelled.  <br></div><br>I've been thinking about this... Why not have an optional "owner"?<br><br>StartFiber:Int( entry:Void(), owner:T=null )<br><br>on resume check whether owner has been disposed.... [edit] I don't know what I was thinking.. this is a dumb idea and I can just put it in the entry function anyway.[/edit]<br><br>or maybe it's just easier to resource count?...   just spit balling!  :)  <br><br>also, what's the deal with the requried blank line at the top of the main src file?  <strike>and it looks like you took out the For,, shortcut :( </strike> [edit] - my bad, I had dumb typo <br>imagine that sucker with single line lambdas ;) <br><br></td></tr></table><br>
<a name="2115018"></a>

<a name="2115007"></a>

<a name="2115006"></a>

<a name="2115008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#158">[#158]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>Thanks for the clarification.<br>I have many situation where I would like to press a button and 'automatically' have an consequence effect (like: move of 10 pages ahead, zoom in of X factor etc). Instead I have to find the event, the check what button is pressed, then increment/decrement a variable.<br>It's just to avoid too much 'if..then' etc.<br>In the logic of signals/events/automatic-handler etc of the integrated GUI, at this point adding an internal value could be useful, allowing a 'shorter' programming approach.<br><br>I like the idea of SIGNALS (much better than checking the combinations of event/source like in Bmax/MaxGUI).<br>I suppose we can set a returned signal for each 'gadget' like a button or a windows.<br>So - technically - a signal of 'CLOSE_WINDOW' could be raised both from a closing window (the x button) and a button programmed for this. <br><br></td></tr></table><br>
<a name="2115016"></a>

<a name="2115017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#159">[#159]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Playniax<br>I guess i disagree with most things you say. Dunno your background and motivation but i know what i've experienced already and where i see the biggest benefit from all this, for me and a larger community. It wasn't web and many platforms and it won't be a full fledged bag of async/events programming too. It will be about a decent mixture of many ingredients with nailing the basics. <br><br></td></tr></table><br>
<a name="2115014"></a>

<a name="2115015"></a>

<a name="2115021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#160">[#160]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I guess i disagree with most things you say <br></div><br>I said a lot of things :) Any specifics? <br><br></td></tr></table><br>
<a name="2115022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#161">[#161]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope. <br><br></td></tr></table><br>
<a name="2115024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#162">[#162]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; One thing that looks ugly to me is the #Import stuff at the beginning of every file:<br><br>Yes, this is ugly, but it's semi-temporary until I decide on the best way to deal with how the user gets to select what modules a project uses. The easiest way would be to just auto-import ALL modules, which would work, but it will eventually start hurting link times badly.<br><br>What would be nice is for the IDE to present a 'uses modules' dialog in 'project settings', where the user can manually toggle modules on and off. VC and C# does this with assemblies, which are pretty much the same thing, and I think it works well. The IDE can then pass the modules list directly to mx2cc and the user never sees any of it.  <br><br>The problem is where to store this project meta data. Perhaps a separate 'blah.make.monkey2' file? The IDE could 'parse' this and present the 'build options' visually and allow the user to edit them. So the user wouldn't have to see this ugliness, but could still do so if they wanted for some reason to manually edit the 'project file'.<br><br>Dunno, this is still up in the air, but in the meantime ugly #import will remain! I actually like at the the '#' prefix, as it indicates to me this isn't a normal language construct - and it isn't, it's really an instruction to the build system.<br><br>Also note that #Imports only have to appear ONCE per project, not in every file. Multiple #imports of the same file are ignored, but perhaps they should error?<br><br>&gt; StartFiber:Int( entry:Void(), owner:T=null )<br><br>This would actually be hard/impossible to implement the way things work right now.  <br><br>For starters, the fiber itself would be keeping 'owner' alive so it would never be disposed. Even if the fiber somehow didn't keep owner alive, owner could still be recycled at any time - perhaps many times - before it is next 'polled'. So 'owner' may still refer to a valid object, just not the one it used to!<br><br>What would work here is something like a weak reference, and I've started having a few ideas of how these could work, and in a way that might reduce GC load considerably.<br><br>Keep spit balling!<br><br>&gt; so far I feared they might only be available for value types on the stack.<br><br>The main thing with structs is that 'New' always creates the struct on the stack. This works because the struct is always copied whenever it is assigned/passed anywhere. Apart from that, you can use structs in much the same way as you can use objects.<br><br>&gt; In the logic of signals/events/automatic-handler etc of the integrated GUI, at this point adding an internal value could be useful, allowing a 'shorter' programming approach.<br><br>Still not sure what you mean, but if you're referring to something like a 'Object userData' or 'void *context' values that gets passed back to the event handler, I have found there really is no need for this (I did wonder at the outset...). In cases where you DO need to maintain some sort of context for a handler to use, just use a lambda, as this automagically captures any context you may need. It pretty much 'writes' the context object for you...<br><br>&gt; I suppose we can set a returned signal for each 'gadget' like a button or a windows.<br><br>It's up to the gadgets to define the signals they emit, and it's up to the app to 'listen' for signals. Signals are usually object fields, but they could be globals too - they're really just function pointers after all. App.Idle is effectively a global signal (although it's implemented as a field of a global object).<br><br>&gt; So - technically - a signal of 'CLOSE_WINDOW' could be raised both from a closing window (the x button) and a button programmed for this.<br><br>Possible, but I'd do this differently. A CloseWindow signal is likely to be a field of a window object, and while you could theoretically listen for a button press and then invoke this signal on the window, I'd consider it a bit naughty. Only the gadget that owns/created a signal should really be invoking it.<br><br>Instead, if you want multiple signals to cause a 'shared' signal to trigger, you should probably use something like an 'Action'. More on that later...<br><br>&gt; What's the minimal command-line "Hello World"?<br><br>A simple Main() with NO imports should work, as the core monkey module is imported automatically.<br><br>You probably want to #Import "&lt;std.monkey2&gt;" at least to get some minimal functionality, eg:<br><br><pre class=code>
#Import "&lt;std.monkey2&gt;"

Using std  'for List, Stack, filesystem etc...

Function Main()
   Print "Hello World!"
End
</pre><br><br>...which works here. Perhaps mx2cc doesn't like the location of your source file? I've been pretty careful with 'spaces in paths' but that's always hard! <br><br></td></tr></table><br>
<a name="2115041"></a>

<a name="2115042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#163">[#163]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also note that #Imports only have to appear ONCE per project, not in every file. Multiple #imports of the same file are ignored, but perhaps they should error? <br></div><br>So this would effect imported code data (MX2) where the imported code file does not need to import anything already imported? If so I like this. :) I would think a compile warning error would work fine. <br><br></td></tr></table><br>
<a name="2115044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Flad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#164">[#164]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> &gt; so far I feared they might only be available for value types on the stack.<br><br>The main thing with structs is that 'New' always creates the struct on the stack. This works because the struct is always copied whenever it is assigned/passed anywhere. Apart from that, you can use structs in much the same way as you can use objects. <br></div><br><br>Hm so arrays of structs won't be available as a way to use memory in a structured and efficient way?<br>You mentioned particle systems - how would this work then? <br><br></td></tr></table><br>
<a name="2115045"></a>

<a name="2115046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#165">[#165]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, I probably wasn't clear.<br><br>This...<br><br>Local p:=New Particle<br><br>...will create a Particle on the stack (assuming Particle is a struct).<br><br>But this...<br><br>Local ps:=New Particle[1000]<br><br>...will allocate an array of particles on the heap. <br><br></td></tr></table><br>
<a name="2115053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#166">[#166]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about the following?<br><pre class=code>Local points:POINT[] Ptr = AllocateMemory( sizeOf( POINT ) * 15 )
Local points:POINT[] Ptr = AllocateStructure( POINT, 15 )

Local points:POINT Ptr[] = AllocateMemory( sizeOf( POINT ) * 15 )
Local points:POINT Ptr[] = AllocateStructure( POINT, 15 )</pre><br>Don't know. How is current syntax for 'Structure Ptr' pointers?<br><br>In this case a continuous memory block would be allocated with 'X' structures,<br>and the whole memory block is managed by the Garbage Collector (GC). <br><br></td></tr></table><br>
<a name="2115051"></a>

<a name="2115047"></a>

<a name="2115048"></a>

<a name="2115049"></a>

<a name="2115052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#167">[#167]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'd use:<br><br>&gt; Local points:Point Ptr=Cast&lt;Point Ptr&gt;( malloc( sizeof( Point ) * 15 ) )<br><br>A pointer effectively is an array, as it's just the the address of a chunk of memory. <br><br></td></tr></table><br>
<a name="2115054"></a>

<a name="2115055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#168">[#168]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, Okay. Thanks, Mark! <br><br></td></tr></table><br>
<a name="2115058"></a>

<a name="2115059"></a>

<a name="2115060"></a>

<a name="2115061"></a>

<a name="2115062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#169">[#169]</a></td></tr></table></td></tr><tr ><td class="posttext"> @marksibly:<br><br>I haven't been keeping up with this too much, so I may be behind on some things:<br><br>Any thoughts on stack allocated or fixed size arrays coming back?<br><br>So, something like this:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Local X:Byte[16]
</textarea><br><br>Where the number specified is a numeric literal (Or constant?), and the allocation would be scope-allocated. For example, a 'Struct' could hold a fixed-size array without needing to touch the heap. If concurrency is going to be a trend, this would be useful. It would also help with cryptographic functions and the like, where small fixed-size arrays could be allocated on the stack.<br><br>The interesting part is that the compiler could determine if the array should be locally allocated or not. You could then assume that smaller arrays are scope-local, and larger arrays are ambiguous (Executable, heap, stack, etc). Obviously, something like 'Float[X]' (Where 'X' is a variable) that Monkey 1 has shouldn't really come back (Unless you use 'New'), as it makes light of potential storage demands, and could cause huge allocations.<br><br>I guess the biggest problem is the lack of "array views" or some kind of atomic access. I guess if nothing else, you could make "New Array" itself ambiguous. Or maybe the heap is good enough at this already? Well, it's just an idea.<br><br>As a follow-up question, are structures going to stay zero-initialized by default? I imagine the answer's yes, like 'Objects'. - <i><b>EDIT: To clarify, I'm referring to using a structure without using 'New' beforehand.</b></i> <br><br></td></tr></table><br>
<a name="2115057"></a>

<a name="2115056"></a>

<a name="2115063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#170">[#170]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Any thoughts on stack allocated or fixed size arrays coming back?<br><br>Not sure yet.<br><br>There are a few problems with this. They're not 'real' arrays, so can't be easily assigned to fields/globals, passed to functions or returned. They would probably have to be copied. I guess this could just cause a compiler error, but then I'd prefer they somehow didn't 'look' like normals arrays.<br><br>Also, small arrays aren't that much of a GC issue - the 'small object pool' system makes them fast to allocate, and since nothing's referencing them when they go out of scope, they don't cost anything to mark. This do sit there in memory until the next 'sweep' though...<br><br>Another idea would be to get the translator to detect small array allocations and optimize them into stack arrays. I don't think this'd be that hard to do - if an array is new'ed with a small enough constant length, and never passed to a function or assigned to a heap var or returned, then the translator could just use a plain C stack array. But how many situations does that happen in anyway? <br><br></td></tr></table><br>
<a name="2115065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Flad</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#171">[#171]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Local p:=New Particle<br><br>...will create a Particle on the stack (assuming Particle is a struct).<br><br>But this...<br><br>Local ps:=New Particle[1000]<br><br>...will allocate an array of particles on the heap. <br></div><br><br>Ok great - that's what I'm interested in.<br>One last small question. Just to be sure - accessing the fields of the structs in the array on the heap doesn't automatically create a copy on the stack each time for each arrayelement but happens directly on the heap allocated block? <br><br></td></tr></table><br>
<a name="2115066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#172">[#172]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fixed size arrays are often used in OS structures. Char name[MAX_PATH] etc. <br><br></td></tr></table><br>
<a name="2115068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Playniax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#173">[#173]</a></td></tr></table></td></tr><tr ><td class="posttext"> @taumel: Well, regarding the things I said on this topic you apparently don't agree on my view of Monkey 2 beeing a powerfull upgrade to Monkey 1 and/or my comment on your remark about Monkey beeing a step backwards from both, a dev's and user's point.<br>Of course it's fine if you dissagree with me but Monkey beeing a step backwards from both a dev's and user's point is an oversimplifies statement based on your opinion but you seem to write it as fact. <br><br></td></tr></table><br>
<a name="2115069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp MkII</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#174">[#174]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the MX2 demo 64bit only on Linux? <br><br>I do the ./rebuild all.sh but all I get is a error that it can't run the compiler which it calls. <br><br></td></tr></table><br>
<a name="2115070"></a>

<a name="2115071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#175">[#175]</a></td></tr></table></td></tr><tr ><td class="posttext"> @EdzUp: Which compiler? There are two used for building transcc and mx2cc. Technically there are four when GCC and Emscripten are thrown in. <br><br></td></tr></table><br>
<a name="2115080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#176">[#176]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Also note that #Imports only have to appear ONCE per project, not in every file. Multiple #imports of the same file are ignored, but perhaps they should error? <br></div><br>well, it will be common that several modules may be importing mojo2, or any low level or core modules. If you import two modules that use mojo2, it should not cause an error.<br><br>Also, how it file/modules dependencies handled? In Monkey1 I really like that any file is aware of what it imports and this does not deppend on the program entry point (unless it's imported too). That makes intellisense and context-based semanting very delimited and clear. In blitzmax, as instance, as any keyword could be made accesible in a file because it was included in any other file that also included a module with this keyword. This forced a much more agressive tree navigation of the whole project to determine what the keyword was.<br><br>All in all, how is importing + semanting going to work in Monkey2, and are you considering maintaining one of the good things of monkey1 which involved that any file/module was aware of its own context and self-contained? Not sure if I'm explained myself properly <br><br></td></tr></table><br>
<a name="2115079"></a>

<a name="2115086"></a>

<a name="2115089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#177">[#177]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Playniax<br>It's more like we seem to have opposite opinions on more topics, which is fine, i just got aware of it.<br><br>My statement regarding Monkey sums up the experiences i've made with it. It's an incomplete attemp trying to address the wrong topics.<br><br>I would be fine just with: import mojo <br><br></td></tr></table><br>
<a name="2115083"></a>

<a name="2115084"></a>

<a name="2115085"></a>

<a name="2115088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#178">[#178]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; and are you considering maintaining one of the good things of monkey1 which involved that any file/module was aware of its own context and self-contained?<br><br>Not really sure what you mean here - monkey files still potentially depend on other monkey files for 'imports' don't they? <br><br></td></tr></table><br>
<a name="2115093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#179">[#179]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, but all files used (directly or indirectly) on a "module" is defined in the module, and that's very nice, while in BlitzMax you could have an import in the main file entry point, and use that imported module in any other included document.<br><br><pre class=code>MainFile:
   Import Mojo2
   Include File2
</pre><br>In this scenario (BlitzMax like), file2 could reference the Image class from mojo2 because Mojo2 is imported in the program entry point. In this case, file2 would not need to make any reference (direct or indirect) to the Mojo2 module. So, when you're editing File2, in order to know what the Image class means there, you need to navigate the whole imports structure to see what's imported and what not from the program entry point. <br><br>That caused in BLIde something not very nice: If a file was imported twice, it was possible for that file to have 2 different available scopes, and it complicated drastically all intellisense work.<br><br>My question is, more or less, how this is going to work on Monkey 2. <br><br></td></tr></table><br>
<a name="2115092"></a>

<a name="2115091"></a>

<a name="2115090"></a>

<a name="2115094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#180">[#180]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's more similar to blitzmax.<br><br>Basically, you give mx2cc a 'root' file, and any file 'reachable' via #import from that file is part of the build and can be used by any other file. <br><br></td></tr></table><br>
<a name="2115097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#181">[#181]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Ziggy: From the look of the current system, it's just as you describe. Imports aren't a thing anymore. Instead, we have 'Using', which allows us to use any code from loaded assemblies with the namespace we specify. So, instead of using 'Import' as you did in Monkey 1, you'd use 'Using'.<br><br>Mark has discussed '#Import' a few times now, it's not an actual import feature. It's a workaround for standalone programs. So, you would use '#Import' to add an assembly, and 'Using' to use what's in the assembly. I haven't tested it myself, but I assume anything "#Imported", or otherwise added would be accessible through a global title, like what Monkey 1 has for name resolution.<br><br>In summary: "File2" would not see any code from "MainFile" implicitly. If "File2" were to <i><b>use</b></i> 'mojo2', then I imagine "MainFile" would implicitly use 'mojo2' as well. Not sure on that one. Maybe Mark can clarify if "private and/or public uses" are a thing? Anyway, I think the main point to take away from this is that 'Using' is the new 'Import', it's just more abstract from the  file/module structure.<br><br><b>EDIT: Just saw that Mark answered, still, my post should help.</b> <br><br></td></tr></table><br>
<a name="2115096"></a>

<a name="2115095"></a>

<a name="2115102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#182">[#182]</a></td></tr></table></td></tr><tr ><td class="posttext"> Based on Marks answer I would think anything imported in the head (main) source is available to any other imported file/code. ImmutableOctet(SKNG) suggest that code (assemblies) imported into the main source is available to any other imported file as long as it is within the same namespace scope and defines the import target via 'Using'. Am I right? <br><br></td></tr></table><br>
<a name="2115104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#183">[#183]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I see. thanks! <br><br></td></tr></table><br>
<a name="2115105"></a>

<a name="2115106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp MkII</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#184">[#184]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dawlane: I think it as transcc which wouldn't execute (it's all setup as a executable and everything else runs for the drive). This is why I wondered if it was a 64bit only. <br><br></td></tr></table><br>
<a name="2115108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#185">[#185]</a></td></tr></table></td></tr><tr ><td class="posttext"> @EdzUp: Yes transcc is a 64bit in the archive. You will have to use the git hub C++ source file for transcc to build a 32 bit version for use. See the MonkeyX ./rebuildall.sh file in the MonkeyX src directory for the command line. <br><br></td></tr></table><br>
<a name="2115109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp MkII</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#186">[#186]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah thanks dawlane will have a look :) <br><br></td></tr></table><br>
<a name="2115116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#187">[#187]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blog.thimbleweedpark.com/pseudorooms" target="_blank">neat</a> <br><br></td></tr></table><br>
<a name="2115194"></a>

<a name="2115197"></a>

<a name="2115198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EdzUp</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#188">[#188]</a></td></tr></table></td></tr><tr ><td class="posttext"> Test?<br><br>I had mark pop up with Test... in the info :) <br><br></td></tr></table><br>
<a name="2115250"></a>

<a name="2115251"></a>

<a name="2115252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#189">[#189]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="https://blitz-research.github.io/" target="_blank"><u>Xmas demo v3</u></a> available for Linux+Mac. What has been changed? <br><br></td></tr></table><br>
<a name="2115267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#190">[#190]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, just read the About.<br><br>Which one would you prefer (weird tabs here)?<br><br><pre class=code>Class MyClass Extends BaseClass

   Field x:Float
   Field y:Float
   Field vx:Float
   Field vy:Float

   Method Update()
	Print( "Updating!" )
	x+=vx
	y+=vy
   End
End</pre><br><br><pre class=code>class MyClass extends BaseClass

    float x,y,vx,vy

    method Update
        put "Updating!"
        x+=vx
        y+=vy</pre> <br><br></td></tr></table><br>
<a name="2115266"></a>

<a name="2115265"></a>

<a name="2115264"></a>

<a name="2115263"></a>

<a name="2115262"></a>

<a name="2115289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TheRedFox</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#191">[#191]</a></td></tr></table></td></tr><tr ><td class="posttext"> The first one. <br><br></td></tr></table><br>
<a name="2115290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#192">[#192]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep def the first one... <br><br></td></tr></table><br>
<a name="2115291"></a>

<a name="2115292"></a>

<a name="2115293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#193">[#193]</a></td></tr></table></td></tr><tr ><td class="posttext"> The first one as well, but I would like to add multi-var declaration for 'Global' / 'Local' / 'Field':<br>If one of those keywords is followed by a colon, the following word is the type - followed by a comma-separated list<br>of variables and optional initializers.<br><pre class=code>Global:Int x, y, z
Local:Float f1, f2 = 5.0, f3
Field:Player p1, p2, p3
Local:Int[] arr1 = [], arr2 = [10,20,30]</pre><br>Should be fully compatible with the current syntax. Happens only if there is a colon after 'Global' / 'Local' / 'Field'. <br><br></td></tr></table><br>
<a name="2115305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abakobo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#194">[#194]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like Danilo or<br><pre class=code>
Field x,y,vx,vy:Float
</pre><br>would be more logical to my eyes. <br><br></td></tr></table><br>
<a name="2115321"></a>

<a name="2115322"></a>

<a name="2115323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#195">[#195]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks horrible to me but it reminds me of a humorous part in da monkey doc, fUNCTION. <br><br></td></tr></table><br>
<a name="2115325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#196">[#196]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem, taumel. You can still use current syntax:<br><pre class=code>Class MyClass Extends BaseClass

   Field x:Float
   Field y:Float
   Field vx:Float
   Field vy:Float

   Method Update()
	Print( "Updating!" )
	x+=vx
	y+=vy
   End
End</pre><br>My suggestion is an additional, new, way for multi-declarations.<br><pre class=code>Class MyClass Extends BaseClass

   Field:Float x, y, vx, vy

   Method Update()
	Print( "Updating!" )
	x+=vx
	y+=vy
   End
End</pre><br>It simply means, if the Type comes first (colon after 'Global' / 'Local' / 'Field'), all following variable names are of that Type.<br><br>Both would be allowed (important for compatibility):<br><pre class=code>Local x:Float, y:Float, vx:Float, vy:Float</pre><br><pre class=code>Local:Float x, y, vx, vy</pre> <br><br></td></tr></table><br>
<a name="2115329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#197">[#197]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Local:Float x, y, vx, vy <br></div><br>Hmmmm... I think I will +1 that. :) It is kind of a sexy way to initialize things. Supporting both would be required though. <br><br></td></tr></table><br>
<a name="2115330"></a>

<a name="2115331"></a>

<a name="2115332"></a>

<a name="2115333"></a>

<a name="2115334"></a>

<a name="2115336"></a>

<a name="2115337"></a>

<a name="2115338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#198">[#198]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Danilo<br>Nope, the current implementation, in this respect, is horrible too.<br><br>As suggested (months ago) already, get rid of the ":" ("Space" instead of "Shift"+".") making it clear, easy and fun. <br><br></td></tr></table><br>
<a name="2115350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#199">[#199]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just get rid of the keywords "Local" and "Field" and be done with it. Oh... then its just like Java ;) <br><br></td></tr></table><br>
<a name="2115339"></a>

<a name="2115340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#200">[#200]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Just getting rid of the keywords "Local" and "Field" and be done with it. . Oh... then its just like Java ;) <br></div><br>LOL.. We must stay on the Monkey path. Heresy :D <br><br></td></tr></table><br>
<a name="2115347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sicilica</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#201">[#201]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may be a bit late to the discussion, but I <i>really</i> prefer the MX1 style imports. I think it's really important that I can look at a .monkey file and know exactly what code it has access to, what's in scope, what other files are accessed. Maybe good use of namespaces and Using can achieve something similar, but it sounds like what an individual file is able to do is a lot more dependent on the context, which means individual modules are harder to understand without having a deep understanding of the whole project. On big projects, that's not an insignificant thing.<br><br>I guess having an #Import elsewhere in the project making code visible to completely unrelated files sounds like what'd I'd expect and hope for in a scripting language, but for Monkey I really like the separation a stricter language provides. Heck, even if the native code that's generated has open imports like that (I know these dependencies are part of what makes C++ in particular get really complicated), I'd want trans to still enforce and treat imports the way MX1 does. But maybe that's just me? <br><br></td></tr></table><br>
<a name="2115346"></a>

<a name="2115365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#202">[#202]</a></td></tr></table></td></tr><tr ><td class="posttext"> My impression is that 'Using' is the new 'Import' and the others are mostly just to help in finding paths to modules,..   For example if you wanted to use a particular older version of a module in one project, this is slightly awkward now.  <br><br>For example, your main program would say "Import XModule_1.4" and your files that call it would say "Using xmodule".<br><br>Is this - aside from syntax details - correct?<br><br>If not, I echo your concerns.  But my reading of the discussion suggests that Using replaces Import with much the same functionality. <br><br></td></tr></table><br>
<a name="2115369"></a>

<a name="2115370"></a>

<a name="2115371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#203">[#203]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Gerry Quinn:<br>#Import really imports files (source code, images), frameworks, etc.<br>Using brings things (classes, functions, structs, etc.) from a namespace into the global namespace.<br><br>Example1:<br><pre class=code>' empty line
#Import "&lt;lib.monkey2&gt;"        ' Import a library/framework

Struct Point
    Field x:Int
    Field y:Int
End

Function Main()
    Local pt:Point
    Print("sizeof(pt):")
    Print( lib.c.sizeof(pt)  ) ' use Function sizeof with full namespace
    Print("---")
End</pre><br>Example2:<br><pre class=code>' empty line
#Import "&lt;lib.monkey2&gt;"        ' Import a library/framework

Using lib                      ' We are using namespace 'lib' -
                               ' That means, everything from namespace 'lib'
                               ' becomes directly available within the global namespace

Struct Point
    Field x:Int
    Field y:Int
End

Function Main()
    Local pt:Point
    Print("sizeof(pt):")
    Print( c.sizeof(pt)  )      ' use Function c.sizeof - we don't need to write lib.c.sizeof() anymore,
                                ' because we did 'Using lib' to use everything from this namespace directly
    Print("---")
End</pre><br>Example3:<br><pre class=code>' empty line
#Import "&lt;lib.monkey2&gt;"        ' Import a library/framework

Using lib.c                    ' We are using namespace 'lib.c' -
                               ' That means, everything from namespace 'lib.c'
                               ' becomes directly available within the global namespace

Struct Point
    Field x:Int
    Field y:Int
End

Function Main()
    Local pt:Point
    Print("sizeof(pt):")
    Print( sizeof(pt)  )        ' use Function sizeof - we don't need to write lib.c.sizeof() anymore,
                                ' because we did 'Using lib.c' to use everything from this namespace directly
    Print("---")
End</pre> <br><br></td></tr></table><br>
<a name="2115367"></a>

<a name="2115368"></a>

<a name="2115380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#204">[#204]</a></td></tr></table></td></tr><tr ><td class="posttext"> Danilo's examples give a good overview of what's going on.<br><br>Some of this is necessary because monkey2 supports 'real' libraries now. In monkey1, everything just got pasted into one mega source files so the idea of 'modules' is really kind of bogus - they're really just source files that happen to reside in a special directory that gets searched during 'import'.<br><br>This is what #Import "&lt;blah.monkey2&gt;" is mainly for - to indicate to the compiler that a module/library needs to be linked with. But #Import also auto imports the monkey2 source file that accompanies the library. This makes sense to me otherwise you'd always need 2 imports - one to import the library, one to import the monkey2 code that 'describes' the library.<br><br>So yes, importing a module/library does affect all files in a project, but only to the degree that it adds a single (typically...) 'global' symbol that all files in the project can then access - the top-level namespace that contains everything in the module, eg: 'lib', 'std', 'mojo' etc. It's then up to you whether you want to use 'Using' to get at the module content lazily, or access module content 'strictly' via lib.c.sizeof etc.<br><br>It's a compromise of sorts, but kind of inevitable since we're getting into 'linker' issues here. But IMO it works well and is already 101 times better than monkey1's system which had a ton of problems of its own. In particular, I love being able to just use a plain file path to import a source file instead of the mickey mouse 'relative module path' system in monkey1 that meant you had to be very careful about what you named your source files (and meant you seldom knew the true module path of a file - and couldn't even import source files that were above the root main file). Also, being able to move files around freely without breaking all imports is a massive improvement. Breaking a large file in monkey1 into bits was problematic because it instantly meant each new file suddenly had a new module path.<br><br>Monkey1 also relied a lot on 'imports importing imports' to hide a lot of messy import stuff behind the scenes, so it probably looks cleaner that it really is. But I didn't want to do that this time, ie: just dump everything in mojo into scope because of one 'Import mojo'.<br><br>This is all based a lot on C#'s system - and a to a lesser degree D's - both of which seem to handle big projects fine. The main difference is that neither C# or D support #Import to add libraries to a project - libraries must be specified on the command line. I considered this and will probably support it in addition to #Import, but being able to specify link files/modules 'in source' is very convenient, and of course very useful while developing! <br><br></td></tr></table><br>
<a name="2115379"></a>

<a name="2115383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#205">[#205]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark:<br>Quick question: Is it possible to add binary libs (.obj/.lib/.o/.a/.so/.dylib/etc.) to a project (to the linker, to be exactly)?<br>How? Using '#Import' as well, or some preprocessor thing like #CC_LIBS or something like this?<br>I want to start my first lib (tests) tomorrow... thanks <br><br></td></tr></table><br>
<a name="2115384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#206">[#206]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; For example if you wanted to use a particular older version of a module in one project, this is slightly awkward now.<br><br>Not sure how easy this is in monkey1(?), but yeah, this is awkward and something monkey2 should definitely help with (eventually). <br><br></td></tr></table><br>
<a name="2115388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#207">[#207]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Is it possible to add binary libs (.obj/.lib/.o/.a/.so/.dylib/etc.) to a project (to the linker, to be exactly)?<br><br>Should pretty much work already - if I've missed a necessary extension, look in src/mx2cc/builder.monkey<br><br>Basically, just #import any files you want added to the project, eg:<br><pre class=code>
#Import "native/lib/somelib.a"   'local import of a static link library.
</pre><br>...or...<br><pre class=code>
#Import "&lt;libwinmm.a&gt;"     'system lib import - specify actual filename here, not -l name.
</pre><br>Have a look at modules/lib/gles20/gles20.monkey2 for some gnarly #Import examples! <br><br></td></tr></table><br>
<a name="2115387"></a>

<a name="2115385"></a>

<a name="2115386"></a>

<a name="2115389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#208">[#208]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, thanks! Off to work now (real-life job)... being in a good mood, looking forward to have some MX2 fun. :) <br><br></td></tr></table><br>
<a name="2115391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#209">[#209]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might seem silly but can we have &lt;&gt; for modules/libs and "" for direct file imports, but not have "&lt;&gt;" ?  It just doesn't look right to me.  :/ <br><br></td></tr></table><br>
<a name="2115405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ratking</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#210">[#210]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haha, I thought the same. #Import "&lt;foo&gt;" just looks silly. <br><br></td></tr></table><br>
<a name="2115406"></a>

<a name="2115407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#211">[#211]</a></td></tr></table></td></tr><tr ><td class="posttext"> @tiresius, @ratking:<br>Mark talked about this on <a href="http://www.monkey-x.com/Community/posts.php?topic=10295&amp;page=7" target="_blank"><u>Page 7</u></a> already. But of course it's good (and important) to see more opinions about it. ;) <br><br></td></tr></table><br>
<a name="2115411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ratking</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#212">[#212]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess I need to read the whole thread. ;-) <br><br></td></tr></table><br>
<a name="2115424"></a>

<a name="2115425"></a>

<a name="2115426"></a>

<a name="2115427"></a>

<a name="2115428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ratking</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#213">[#213]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Danilo: Okay, I read it now, and Mark actually didn't talk about the "&lt;foo&gt;" vs. &lt;foo&gt; thing (only about the # of #Import). So it's still open for discussion!<br><br>Another thing: will Monkey2 have a ternary operator? I just like the ?: syntax just too much.<br><br>And third: how about changing the comparison operator from = to ==? This way we could have chained assignments like <pre class=code>x = y = z = 3</pre><br><br>(It would also make "Local b:= x = 3" look less confusing ;-) <br><br></td></tr></table><br>
<a name="2115438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Timotron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#214">[#214]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree a ternary operator would be ideal for making tighter easier to parse code.  I miss it often when coding in Monkey and I have to write 3 or 5 lines of code instead of a single line.<br><br>Also using == for comparison would be very nice as well.<br><br>Just my 2 cents. <br><br></td></tr></table><br>
<a name="2115441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#215">[#215]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark:<br>When loading dynamic libraries at runtime, we usually have a function like GetProcAddress or dlsym to get a pointer to a function.<br><pre class=code>Function dlsym:Void Ptr(handle:Void Ptr, symbolName:String)
Function GetProcAddress:Void Ptr(handle:Void Ptr, symbolName:String)</pre><br>But how can we actually use and call that pointer? If I use Function variables, I get the error 'Error : Can't convert from type 'void ptr' to type 'int()'.<br>Tried several ways (Casting etc.), but can't get it to work.<br><br>Small example for Mac OS X:<br><pre class=code>#Import "&lt;dlfcn.h&gt;"

Alias pMyFunc:Int()

Extern
    Const RTLD_LAZY:Int
    Const RTLD_NOW:Int
    Const RTLD_GLOBAL:Int
    Const RTLD_LOCAL:Int

    Function dlopen:Void Ptr(path:String, mode:Int = RTLD_LAZY|RTLD_GLOBAL)
    Function dlclose:Int(handle:Void Ptr)
    Function dlerror:String()
    Function dlsym:Void Ptr(handle:Void Ptr, symbolName:String)
Public

Function Main()
    Print("---")
    Local myfunc:pMyFunc
    
    Local lib := dlopen("/Users/danilo/myfile.dylib") ' OK
    Print( lib )                                      ' OK
    If lib
        Print( dlsym(lib, "myfunc") )                 ' OK
        Print( dlsym(lib, "myfunc2") )                ' OK
        
        myfunc = dlsym(lib, "myfunc")                 ' Error : Can't convert from type 'void ptr' to type 'int()'
        pMyFunc( dlsym(lib, "myfunc") )()             ' Error : Can't convert from type 'void ptr' to type 'int()'
        myfunc = Cast&lt;pMyFunc&gt;( dlsym(lib, "myfunc") )' Error : Can't convert from type 'void ptr' to type 'int()'
        
        dlclose(lib)                                  ' OK
    Else
        Print( dlerror() )                            ' OK
    Endif
End</pre> <br><br></td></tr></table><br>
<a name="2115439"></a>

<a name="2115440"></a>

<a name="2115453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#216">[#216]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> And third: how about changing the comparison operator from = to ==? This way we could have chained assignments like<br><br>x = y = z = 3<br><br>(It would also make "Local b:= x = 3" look less confusing ;-) <br></div><br><br>that's not very basic-like.  Chained assignments look awful to read!<br><br>I like ternary operators, though.  For my own code, I take the performance penalty and use Generics to implement Iif().  It's not quite the same thing, but it provides a similar convenience.  With operator overloading you might be able to simulate a ternary operator depending on what characters we have access to -- since I believe type sigils may be removed from MX2 that would free up more symbols to assign them to things like Pow, Mod, Iif, etc. <br><br></td></tr></table><br>
<a name="2115456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#217">[#217]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even as a life long C++ programmer, I think Monkey should stick with = for assignment and comparison, as is.<br><br>As Nobuyuki said, == isn't very basic-like. And at it's heart, Monkey is more novice friendly staying closer to basic than C++. <br><br></td></tr></table><br>
<a name="2115458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#218">[#218]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree - a ternary operator would be great, but we don't need chaining. <br><br></td></tr></table><br>
<a name="2115468"></a>

<a name="2115469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#219">[#219]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; When loading dynamic libraries at runtime, we usually have a function like GetProcAddress or dlsym to get a pointer to a function.<br><br>It doesn't work yet, but the general idea will be to use this approach:<br><br>Local func:=Cast&lt;Void()&gt;( GetProcAddress(...) )<br><br>(This is one of the reasons for the new Cast&lt;&gt; operator, as parsing gets incredibly messy without it).<br><br>The other option is to get hold of the 'static' lib for a dll. This contains a bunch of function pointers that are initialized for you, so you just need to Extern the entry points. And on macos I believe you can use the dylib as the static lib, although builder doesn't support this yet.<br><br>I have concentrated mainly on building libs from source so far, and haven't done a lot with dll loading. The windows lib.gles20 uses dlls for angle support, and links with the angle static libs to provide entry points but that's it.<br><br>&gt; I agree - a ternary operator would be great, but we don't need chaining.<br><br>Ditto. <br><br></td></tr></table><br>
<a name="2115518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#220">[#220]</a></td></tr></table></td></tr><tr ><td class="posttext"> Importing/Including does not work on OS X: Objective-C (.c/.m/.cpp/.mm) can't be included/compiled (would require "-x objective-c" switch for g++,<br>minus "-std=c++11" switch), libs (.so, .dylib, .a, .o) are not correctly copied &amp; linked, etc.<br><br>Is there a planned date for the next demo?<br><br>compile.sh<br><pre class=code>g++ -framework Cocoa -ffreestanding -x objective-c -c myfile.cpp -o myfile.o

g++ -shared -framework Cocoa --target=x86_64 -ffreestanding -o myfile.so -fPIC myfile.o
g++ -dynamiclib -framework Cocoa -ffreestanding -o myfile.dylib -fPIC myfile.o
gcc -static -framework Cocoa -ffreestanding -x objective-c myfile.cpp

ar -r myfile.a myfile.o
</pre><br>myfile.cpp<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
#import &lt;Cocoa/Cocoa.h&gt;

int myfunc()
{
    [NSAutoreleasePool new];
    [NSApplication sharedApplication];
    [NSApp setActivationPolicy:NSApplicationActivationPolicyRegular];
    id menubar = [[NSMenu new] autorelease];
    id appMenuItem = [[NSMenuItem new] autorelease];
    [menubar addItem:appMenuItem];
    [NSApp setMainMenu:menubar];
    id appMenu = [[NSMenu new] autorelease];
    id appName = [[NSProcessInfo processInfo] processName];
    id quitTitle = [@"Quit " stringByAppendingString:appName];
    id quitMenuItem = [[[NSMenuItem alloc] initWithTitle:quitTitle
        action:@selector(terminate:) keyEquivalent:@"q"] autorelease];
    [appMenu addItem:quitMenuItem];
    [appMenuItem setSubmenu:appMenu];
    id window = [[[NSWindow alloc] initWithContentRect:NSMakeRect(0, 0, 200, 200)
        styleMask:NSTitledWindowMask backing:NSBackingStoreBuffered defer:NO]
            autorelease];
    [window cascadeTopLeftFromPoint:NSMakePoint(20,20)];
    [window setTitle:appName];
    [window makeKeyAndOrderFront:nil];
    [NSApp activateIgnoringOtherApps:YES];
    [NSApp run];
    return 0;
}

int myfunc2() {
    return 123;
}</textarea><br>The above should work (call myfunc &amp; myfunc2), compiled as .o, .a, .so, .dylib, and directly included as .c/.cpp/.m/.mm <br><br></td></tr></table><br>
<a name="2115517"></a>

<a name="2115514"></a>

<a name="2115513"></a>

<a name="2115512"></a>

<a name="2115510"></a>

<a name="2115511"></a>

<a name="2115509"></a>

<a name="2115508"></a>

<a name="2115507"></a>

<a name="2115506"></a>

<a name="2115505"></a>

<a name="2115503"></a>

<a name="2115502"></a>

<a name="2115501"></a>

<a name="2115500"></a>

<a name="2115499"></a>

<a name="2115494"></a>

<a name="2115495"></a>

<a name="2115496"></a>

<a name="2115497"></a>

<a name="2115498"></a>

<a name="2115523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#221">[#221]</a></td></tr></table></td></tr><tr ><td class="posttext"> A couple of points:<br><br>Use the .m file extension for objective c files (and .mm for objective c++).<br><br>You will also need a header '.h' file that describes the interface in C/C++. Something like:<br><br><pre class=code>
#ifndef BB_MYLIB_H
#define BB_MYLIB_H

#ifdef __cplusplus
extern "C"{
#endif

int myfunc();
int myfunc2();

#ifdef __cplusplus
}
#endif

#endif
</pre><br><br>The 'extern "C"' is required since you are building a '.m' file, which produces code with 'C' name mangling. If you rename it '.mm' you should be able to drop the 'extern "C"' stuff.<br><br>The .h  wont be necessary when dynamically linking as you are just declaring function pointers. 3rd party static libs generally always provide .h files, otherwise they're useless for use with C/C++.<br><br>So the final monkey2 code might look like:<br><br><pre class=code>
Namespace mylib

#Import "native/mylib.h"
#import "native/mylib.m"

Extern

Function myfunc:Int()
Function myfunc2:int()

</pre><br><br>Untested! <br><br></td></tr></table><br>
<a name="2115522"></a>

<a name="2115519"></a>

<a name="2115520"></a>

<a name="2115521"></a>

<a name="2115527"></a>

<a name="2115528"></a>

<a name="2115529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#222">[#222]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mark, but this wasn't the main problem.<br><br>Anyway, found the solution now:<br>In the file "monkey2/bin/env_macos.txt" we need to add 2 compiler flags:<br>1.) Add option -ObjC to MX2_CC_OPTS_DESKTOP<br>2.) Add option -ObjC++ to MX2_CPP_OPTS_DESKTOP<br><br>Objective-C code works now with .c + .m files.<br>Objective-C++ works with .cpp and .mm files.<br><br>#Import for .o and .a works now, too. (thanks to your header example, I missed extern "C")<br><br>#Import does not work with .so and .dylib (they are not added to linker, so we get missing symbols).<br><br>BTW, minimalistic HelloWorld works now too (using Xmas demo v3 on Mac OS X):<br><pre class=code>Function Main()
    Print("Hello World!")
End</pre><br>Resulting App is 43 KB, that's nice and acceptable. ;) <br><br></td></tr></table><br>
<a name="2115526"></a>

<a name="2115524"></a>

<a name="2115525"></a>

<a name="2115534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#223">[#223]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; In the file "monkey2/bin/env_macos.txt" we need to add 2 compiler flags:<br><br>Did you try renaming files? SDL2 has objc some .m files and it compiles fine.<br><br>Not to keen on compiling ALL .c files with the objc compiler. It works I guess because objc is an extension to c, but '.m' is the standard file extension for objc (used by xcode etc) so I would prefer to stick with that.<br><br>&gt; #Import does not work with .so and .dylib (they are not added to linker, so we get missing symbols).<br><br>#LD_OPTS probably needed for this...<br><br>&gt; Resulting App is 43 KB, that's nice and acceptable. ;)<br><br>Not bad! The other env.txt files probably need a '-s' linker switch added to achieve similar results. <br><br></td></tr></table><br>
<a name="2115542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#224">[#224]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Did you try renaming files?<br><br>Yes, I tested with all 4 extensions (.c/.m/.cpp/.mm).<br><br>&gt; Not to keen on compiling ALL .c files with the objc compiler. <br><br>Why not add the gcc (-ObjC) and g++ (-ObjC++) compiler option within builder, only for .m + .mm files? <br><br></td></tr></table><br>
<a name="2115543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#225">[#225]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where's the demo? <br><br></td></tr></table><br>
<a name="2115544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tiresius</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#226">[#226]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Where's the demo? <br></div><br>It's on the first entry first page of this topic.  Mark's new blog... <br><br></td></tr></table><br>
<a name="2115545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#227">[#227]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep just found it.  Sorry! <br><br></td></tr></table><br>
<a name="2115564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#228">[#228]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br>Inspired by Danilo's question about a possible release date for a new version, which you preferred not to answer, does there generally exist a roadmap which includes time estimations for when you expect all these things (written in Ted 2's welcome text) to happen (also considering the current financial support)?<br><br>Regarding gfx, mojo2d and mojo3d sound nice, then there is mojo2 with its quirks, easier Max like gfx seem to come afterwards, ... and i haven't even touched sfx, docs and zebra. When do you expect having a more complete release (not finished but more useable, including docs, maybe like the first Max release) around? <br><br>Some more infos could be nice. <br><br></td></tr></table><br>
<a name="2115560"></a>

<a name="2115563"></a>

<a name="2115558"></a>

<a name="2115559"></a>

<a name="2115573"></a>

<a name="2115574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#229">[#229]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would second taumel's request though I'm not one for setting dates on any lists like that as they tend to be very troublesome.  <br><br>what I think would be really nice, is a list of items of both features and issues and maybe milestones in semi-priority order.  Then obviously marking items done as you go.  Such a list would only be a guide not a strict project plan as those can be troublesome as well.  I'd actually put a big disclaimer at the top indicating these things<br><br>here is a very simple example... <a href="http://www.aseprite.org/roadmap/" target="_blank">http://www.aseprite.org/roadmap/</a> the only thing I'd add to this is completion dates on the things he's knocked off.<br><br>List's like this build support, keep the community active and act as marketing and buzz. <br><br></td></tr></table><br>
<a name="2115571"></a>

<a name="2115572"></a>

<a name="2115580"></a>

<a name="2115581"></a>

<a name="2115582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#230">[#230]</a></td></tr></table></td></tr><tr ><td class="posttext"> It took Unity many years to get more transparent on what they're working on but currently they (as well as Epic Games and other companies) are doing a nice job in this respect. Sometimes things work out, sometimes they don't but no matter how they turn out, you're in the queue. This doesn't matter when you're popping in here only once in a while but it can be important when you're working on stuff and you feel less blind this way. <br><br></td></tr></table><br>
<a name="2115658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pharmhaus</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#231">[#231]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I'm not one for setting dates on any lists like that as they tend to be very troublesome. <br> <br></div><br>So true. especially when prototyping / fleshing out ideas and doing research.<br><br><div class="quote"> <br>what I think would be really nice, is a list of items of both features and issues and maybe milestones in semi-priority order.<br> <br></div><br>I hate how many solutions get over complicated and start being a time waste or burden where a great amount of time goes toward managing.<br>Something very simply like <a href="https://trello.com/" target="_blank">Trello</a> (free) could do the job very well.<br>It is possible to mark a board as "public" so that everyone can read but only mark could write/change content.<br>I also wouldn't mind if there was an alpha repo on github and things were tracked via issues or something similiar.<br><br><div class="quote"> <br>Sometimes things work out, sometimes they don't but no matter how they turn out, you're in the queue. This doesn't matter when you're popping in here only once in a while but it can be important when you're working on stuff and you feel less blind this way.<br> <br></div><br>Indeed. I believe there are still things which are totally unclear but I, for example would be really interested in 'failed' attemps as well just out of curiosity.<br>Nonetheless I dont't think its worth overdoing it. There's only so much a man can take. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
