<!DOCTYPE html><html lang="en" ><head ><title >Language suggestions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Language suggestions</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=530" >Monkey2 Talk</a>/<a href="#bottom" >Language suggestions</a><br><br>
<a name="2103157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshKlint</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This thread is for posting my input on the actual language, based on my experience with BMX, C++, Lua, Maxscript, etc.  My suggestions are mostly about eliminating ambiguity in the language.<br><br>The language should be case-sensitive.  This saves pain in the long run, and also allows natural expressions like image:Image.<br><br>'endif', 'next', etc. should be used instead of the Lua-like 'end'.  It makes it easier to tell what's going on when you are looking at the end of a large block of code.  'end' is the worst of both worlds because it has the verboseness of BASIC together with the ambiguity of brackets.<br><br>The BlitzMax strict/superstrict modes should be eliminated, and just always run in the equivalent to 'superstrict'.  How many times have you copied some code from the forum, only to find out you have to go through and define all the variable types?<br><br>I recommend eliminating globals in functions and functions in functions.  They are not frequently used, and I have encountered some very bad errors in these.  Generally if you have an alternative way of doing things, it will not be tested as well and you will discover problems over time.  These don't add a lot of value to the language, and it's just better to have one right way of doing things.<br><br>Direct use of C++ classes from external libraries would be wonderful.  We don't support BMX / Monkey in Leadwerks 3 because it's not worth creating and maintaining a procedural API for.  I understand this means using the same compiler the library was built in, so that means the Visual Studio compiler should be an option on Windows.<br><br>Debugging is paramount.  I don't know much about this in Monkey, or how it would work to debug C++ code and line it up to the original language.<br><br>BlitzMax types act like C++ pointers.  It would be useful to have a "struc" object that acts like C++ objects:<br><pre class=code>Struc Vec3
Field x#,y#,z#
EndStruc

Local a:Vec3
Local b:Vec3
a.x = 1
b = a' copies the object, not the pointer
b.x += 1
if a.x = b.x 'This is false</pre><br>Operator overloading would go along with this really well.<br><pre class=code>Local a:Vec3, b:Vec3, c:Vec3
a.x = 1
b.y = 2
c = a + b</pre><br><br>Better syntax for maps, by whatever means necessary.  This:<br><pre class=code>map["hello"] = "hi"</pre><br><br>Is much much better than this:<br><pre class=code>map.insert("hello") = "hi"</pre><br><br>Just don't use STL's terrible approach that adds a value to a map, and forces use of the iterator = find() if iterator!=end() method:<br><pre class=code>if map["hello"]=="";// inserts new value into map</pre><br><br>That's all I've got. <br><br></td></tr></table><br>
<a name="2103156"></a>

<a name="2103155"></a>

<a name="2103154"></a>

<a name="2103153"></a>

<a name="2103152"></a>

<a name="2103151"></a>

<a name="2103150"></a>

<a name="2103149"></a>

<a name="2103146"></a>

<a name="2103148"></a>

<a name="2103145"></a>

<a name="2103161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with all of this,  except Global/static variables in functions.  Every major systems language out there has them for a good reason. <br>Also, I use nested functions a lot in BMax, but I won't cry if they go away.  <br>Maps implemented as a library is fine with me too.<br>Personally, I love that Bmax is case insensitive, but it's just not possible if your going to be targeting C++.<br>The severe downside of case sensitivity is that highlights the critical need for an IDE that supports intellisense.  A MaxIde/Ted style editor just won't cut it anymore and forces the users into a painful, captive-audience situation with *other tools.<br>Monkeys debugger is really lacking compared to Bmax in that globals, Const, and deep inspection etc are missing, I hope it's in the cards for M2 to have at least Bmax quality debugging.<br>I would also add that a callstack sampling profiler is near the top of my list of things that I hope M2 will support. <br><br></td></tr></table><br>
<a name="2103160"></a>

<a name="2103165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DruggedBunny</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I actually love End for block ends, and it bugs me in Max when I have to type in full -- I haven't found any ambiguity, given indentation shows the context. You can use EndIf, End Function, etc, anyway in Monkey1.<br><br>I like functions-in-functions, though they're not essential. I thought it was useful to stick a function used only by a single function (over and over) inside the calling function.<br><br>Monkey1 is effectively Strict by default, with SuperStrict forcing Returns even where not needed, which is just a PITA, hence I don't use it. Wouldn't be the end of the world if it was the default, though.<br><br>I'm in the case-sensitive camp for variables now, where I never used to be, though admittedly I'd prefer if Ted did auto-capitalisation of Mojo/Monkey functions at least...<br><br><div class="quote"> <br>Direct use of C++ classes from external libraries would be wonderful.<br> <br></div><br>Definitely, but is it even do-able if the classes include advanced C++ features not actually offered in Monkey2?<br><br>I'd like plain structs too, if possible. <br><br></td></tr></table><br>
<a name="2103184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Functions inside functions are very useful in parallel programming and, if they can be anonymous (as lambdas), it's even better when you work with delegates. This can provide a quite useful highlevel approach to milti-threading that is several orders of magnitud better than using some APIs over a language that is not thought to be multi-threaded from its design. I don't know if Mark is thinking in adding this for exactly this reason, or there are other reasons, but those are very useful language constructions.<br><br>Expressions like this, make writing parallel multi-thread code a breeze (imagine MyParticlesList is a LinkedList of MyParticle instances.<br><pre class=code>
Function ProcessParticles()
	Local myFunction:= Function (particle:MyParticle)
				If particle.timer&lt;0 then particle.Kill() else particle.UpdatePos()
			End Function
	Parallel.ForEach(MyParticlesLists, myFunction)
End Function
</pre> <br><br></td></tr></table><br>
<a name="2103181"></a>

<a name="2103182"></a>

<a name="2103180"></a>

<a name="2103179"></a>

<a name="2103178"></a>

<a name="2103177"></a>

<a name="2103196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pharmhaus</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I agree with all of this, except Global/static variables in functions. Every major systems language out there has them for a good reason. <br> <br></div><br>Not useful every single day but sometimes and especially because there quite some blitzers out there who still prefer to code a not-so-oop way.<br><br><div class="quote"> <br>Functions inside functions are very useful in parallel programming and, if they can be anonymous (as lambdas)<br> <br></div><br>Really hoping for closure / lambda / whatever support<br><br><br><br>Talking about language features <a href="http://rubylearning.com/satishtalim/ruby_open_classes.html" target="_blank">Rubys ability to add new methods to existing classes</a> and <a href="http://www.dotnetperls.com/extension" target="_blank">C#'s extension methods</a> come to mind.<br>I also sometimes miss things such as <a href="http://www.codeproject.com/Articles/62839/Adventures-with-C-dynamic-ExpandoObject-Elasti" target="_blank">C#'s ExpandoObject</a>. Which basically allows one to add e.g. new properties at runtime and is both faster and usually cleaner to read/write than refletion.<br><pre class=code>
dynamic obj = new ExpandoObject();
obj.Value = 10;
var action = new Action&lt;string&gt;((line) =&gt; Console.WriteLine(line));
obj.WriteNow = action;
obj.WriteNow(obj.Value.ToString());
</pre><br>It is also possible to cast ExpandoObject to IDictionary when necessary. So it is possible to handle it as if it was a Map and you can simply insert values (fields/properties) which is extremly nice.<br><br><br>Thinking about it, one of the things that I miss like hell is the ability to define generic methods in not generic classes.<br><br><pre class=code>
Class Abc
	Method xyz &lt;T&gt;:Void()
		Print Default(T).ToString()
	End
End
</pre><br><br>It is really annoying when you can only pass one type of T to a method that is totally bound to a class even if the method could take other types as well. <br><br></td></tr></table><br>
<a name="2103194"></a>

<a name="2103195"></a>

<a name="2103193"></a>

<a name="2103190"></a>

<a name="2103191"></a>

<a name="2103189"></a>

<a name="2103188"></a>

<a name="2103187"></a>

<a name="2103185"></a>

<a name="2103186"></a>

<a name="2103244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Pharmhaus: Thinking about it, one of the things that I miss like hell is the ability to define generic methods in not generic classes. <br></div><br>You can kinda fudge it using static functions and by overloading your "generic" method for each data type.  I did this in Diddy's IComparator stuff so the sorting could "cast" primitives to an interface.<br><pre class=code>Class Foo&lt;T&gt;
	Function Hello:Void(val:T)
		' do stuff with val, but you need to check what type it is
	End
End

Class Bar
	Method World:Void(val:Int)
		' int version
	End
	
	Method World:Void(val:Float)
		' float version
	End
	
	Method World:Void(val:Bool)
		' bool version
	End
	
	Method World:Void(val:String)
		' string version
	End
	
	Method World:Void(val:Object)
		' object version
	End
End

Foo&lt;Int&gt;.BarFunc(123)
Foo&lt;String&gt;.BarFunc("hello")

Local a:Bar = New Bar
a.World(1)
a.World(3.14)
a.World(True)
a.World("hello")
a.World(New Object)</pre><br><br><div class="quote"> @Pharmhaus: Talking about language features Rubys ability to add new methods to existing classes and C#'s extension methods come to mind. <br></div><br>Same with Objective-C categories, which I asked for in Monkey 1 but no-one seemed interested.  Let's hope they're easier to implement in Monkey 2.<br><a href="http://www.monkey-x.com/Community/posts.php?topic=2314" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=2314</a><br><br><div class="quote"> @JoshKlint: 'endif', 'next', etc. should be used instead of the Lua-like 'end'. It makes it easier to tell what's going on when you are looking at the end of a large block of code.  <br></div><br>I've never had a problem with this, and Monkey supports both anyway. <br><br></td></tr></table><br>
<a name="2103243"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
