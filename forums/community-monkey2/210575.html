<!DOCTYPE html><html lang="en" ><head ><title >Mojo Status</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Mojo Status</h1><a href="forums.php" >Community Forums</a>/<a href="topics.php?forum=530" >Monkey2 Talk</a>/<a href="#bottom" >Mojo Status</a><br><br>
<a name="2119961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I've been diving deeper into Monkey2 recently, and have been wondering what's the current status of Mojo.<br><br>Some things are quite different now, like everything being done inside a Window instance (instead of an App instance), there's no OnUpdate() or OnCreate() (as far as I can tell from the examples), etc. Is this the new direction, or should I wait a bit more so Mojo is more refined before I dive in and start converting Monkey1 code?<br><br>Thanks!<br>Leo. <br><br></td></tr></table><br>
<a name="2119963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >impixi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe the basic architecture is in place now, so "the new direction" is settled, I think. Though to be certain you could wait until the V1 release (due soon?). In any case, I'm having fun porting a few things, modifying them to take advantage of MX2's new approaches.<br><br>In the <a href="https://github.com/blitz-research/monkey2" target="_blank">git releases</a> there are some samples in the monkey2-&gt;modules-&gt;mojo-&gt;bananas folder. The documentation also has some information about the mojo module (monkey2-&gt;docs-&gt;index.html). <br><br></td></tr></table><br>
<a name="2119967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; Is this the new direction<br><br>Yes!<br><br>You should now extend Window, not app.<br><br>There is no OnCreate method - you should stick your 'create' code in the window constructor.<br><br>I'm just adding timers now, which will allow you to implement a 'fixed' OnUpdate method. <br><br></td></tr></table><br>
<a name="2119969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great to know, thanks!<br><br>What about App.KeyHit()? I can only see App.KeyDown(). Should I implement my own? Seems like it's useful enough to be inside App. <br>Another one that I always miss is MouseReleased(), since in most GUIs the mouse click is only registered if the mouse is released inside a button.<br><br>Cheers! <br><br></td></tr></table><br>
<a name="2119972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may add keyHit, but probably not MouseReleased. You can use event handlers to detect the full range of key/mouse events, eg:<br><br>Method OnKeyEvent( event:KeyEvent )<br>   Select event.Type<br>   Case EventType.KeyDown<br>   Case EventType.KeyUp<br>   End<br>End<br><br>Mouse OnMouseEvent( event:MouseEvent )<br>   Select event.Type<br>   Case EventType.MouseDown<br>   Case EventType.MouseUp<br>   Case EventType.MouseEnter<br>   Case EventType.MouseLeave<br>   End<br>End <br><br></td></tr></table><br>
<a name="2119974"></a>

<a name="2119975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds unflexible, you want both options (functions and events) handling input. <br><br></td></tr></table><br>
<a name="2119986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess it wouldn't be hard to make a module that adds the functions we are used to. <br><br></td></tr></table><br>
<a name="2119995"></a>

<a name="2119996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm a big fan of including the few functions/method we use all of the time. KeyHit(), KeyDown(), MouseDown(), Hide/ShowMouse() and the rest that we have now with MX1. Not including them will add extra effort to MX1-to-MX2 conversion especially if you have a lot of code to convert. As it is now I have maybe 10k lines to convert  so anything Mark can do to smooth this transition is welcome. I suppose I could roll-my-own but then I would have to include that in every thing I write (well most things).<br><br>I'm having deja vu as I think I recall this discussion when Mark was developing MX1. :) <br><br></td></tr></table><br>
<a name="2119989"></a>

<a name="2119992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had a bit of a rethink about the 'simple input' issue and have come up with a system that should be both pretty easy to use and flexible.<br><br>What I've done is add KeyboardDevice and MouseDevice classes that provide an 'immediate mode' style interface, along with global vars called Keyboard and Mouse so you can use them easily. This has also allowed me to rip out a bunch of hacky code from App which is a good thing!<br><br>So KeyDown() is now Keyboard.KeyDown(), MouseX is Mouse.X etc (for existing projects it should be a simple find/replace in files). I know some people hate the whole 'Keyboard is an object' approach, but it is a very tidy way of doing this and provides a lot of flexibility, eg: I'm planning on adding a GameController class (based a bit on SDLs) that could potentially wrap keyboard or joystick or both keyboard/mouse etc. So player1, player2 etc can each have their own GameController without knowing what's being wrapped. <br><br></td></tr></table><br>
<a name="2119991"></a>

<a name="2119990"></a>

<a name="2119994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So KeyDown() is now Keyboard.KeyDown(), MouseX is Mouse.X etc (for existing projects it should be a simple find/replace in files). <br></div><br>That sounds like some middle ground I can stand on. :) Thanks, this should help make conversions easier. <br><br></td></tr></table><br>
<a name="2119993"></a>

<a name="2119997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like that approach. Thanks Mark! <br><br></td></tr></table><br>
<a name="2120000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @marksibly: I don't know why people would dislike that, that's essentially what's going on behind the scenes in MX1.<br><br>As for the lack of 'KeyHit', it's not an issue if we could easily make our own equivalents anyway.<br><br>The way I see it, Mojo should evolve into its own thing in MX2 and have a community developed wrapper for the legacy APIs. This is similar to my '<a href="https://github.com/Regal-Internet-Brothers/mojoinmojo2" target="_blank">mojoinmojo2</a>' module, which takes Mojo 1's graphics API and redirects calls to Mojo 2.<br><br>Honestly, I think that should be a community project with a different name (And namespace), because an official solution could cause confusion. <br><br></td></tr></table><br>
<a name="2119998"></a>

<a name="2119999"></a>

<a name="2120008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt; As for the lack of 'KeyHit', it's not an issue if we could easily make our own equivalents anyway.<br><br>Immediate mode inpout handling can be a little messy to implement though, basically because there are so many ways to implement things like KeyHit, each with subtly different semantics. For example, does calling KeyHit clear the 'hit' flag (ala bmx) or is it cleared next 'frame' (ala monkey1 - but what's a frame in monkey2? There is no such thing right now). And how are the keyhits generated in the first place? From KeyDown events or from polling keystate? Either way is gonna give subtly different results.<br><br>I definitely like having OnKeyEvent() in there as it removes all this confusion (and allows you to write purely event driven code), but I also get why people are reluctant to use it - it's just so very easy/convenient to be able to poll game controllers in update code, so it's something I think monkey2 should support as well as it can. <br><br></td></tr></table><br>
<a name="2120003"></a>

<a name="2120005"></a>

<a name="2120006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 for event-driven callbacks/function variables. <br><br></td></tr></table><br>
<a name="2120016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> monkey2 = games related tool = games = interactivity = input<br><br>If monkey2 needs a module for handling basics like input in convenient ways already, i doubt it will have a chance to succeed.<br><br>Iteration and experience normally lead to better, not worse, results. Confusing when looking at SDL2 as well. <br><br></td></tr></table><br>
<a name="2120011"></a>

<a name="2120012"></a>

<a name="2120009"></a>

<a name="2120010"></a>

<a name="2120017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed, polling on update is a pretty common strategy in games (even if the update is going to be driven by a timer event), and IMO it is good to support it directly if that's what the libraries are going to be used for a lot.<br><br>Games tend to be relatively monolithic and it is often logical to start each update with a decision: did the user click a button, did the game end, did the user make a standard game input, did nothing happen?  Then you know exactly where you're going until the next update. <br><br></td></tr></table><br>
<a name="2120076"></a>

<a name="2120077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Started using the Keyboard class from the latest code on Github. Nice! I like how the Input classes feel more organized now.<br><br>One little thing bugs me: now that there's a Keyboard class, wouldn't it make more sense to call "Keyboard.Hit()" or "Keyboard.Down()", instead of "Keyboard.KeyHit" and "Keyboard.KeyDown()"? Seems a little redundant saying "Key" three times, if you consider a typical command "Keyboard.KeyHit( Key.Left )".<br><br>Same thing for "Mouse.ButtonDown( MouseButton.Left )", could be simplified to "Mouse.Down( MouseButton.Left )".<br><br>Or even better, how can I use something like an Alias command to override that just in my code, without editing Mojo's source code? I know, I know, noob question... <br><br></td></tr></table><br>
<a name="2120079"></a>

<a name="2120080"></a>

<a name="2120081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;  wouldn't it make more sense to call "Keyboard.Hit()" or "Keyboard.Down()", instead of...<br><br>I prefer KeyHit/KeyDown here - a KeyBoard is not a Key, so I prefer the added 'Key' prefix. I did breifly consider making Key a struct with 'Pressed' etc methods, eg:<br><br>If Key.A.Pressed<br>   Print 'A' is pressed!<br>Endif<br><br>...but that's just pointlessly clever!<br><br>But I do think these should be renamed, as KeyDown currently has a double meaning. In the case of events, KeyDown means 'Key transitioned from unpressed to pressed' (which is actually closer to what 'KeyHit' reports) but in the case of Keyboard.KeyDown it means 'Key *is* pressed'. We're also still missing 'KeyUnHit'...will think about this some more, but I'm happy with the Keyboard.blah approach for 'polling' so I think it's going in the right direction! <br><br></td></tr></table><br>
<a name="2120082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adding a method for a bit of raw keyboard data processing wouldn't go amiss either. <br><br></td></tr></table><br>
<a name="2120083"></a>

<a name="2120084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure what you mean here... <br><br></td></tr></table><br>
<a name="2120085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leo Santos</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> We're also still missing 'KeyUnHit' <br></div><br><br>You mean, KeyReleased ?<br>:-) <br><br></td></tr></table><br>
<a name="2120086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's the obvious one I guess as long as everyone's happy with KeyDown (sure they will be). So how about:<br><br>KeyDown<br>KeyHit (or KeyPressed?)<br>KeyReleased<br><br>?<br><br>KeyDown still feels a bit 'wrong' to me here, as it has quite a different meaning to 'KeyDown' events, but it's not worth stressing over I guess! <br><br></td></tr></table><br>
<a name="2120091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nullterm</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> State - down, pressed, released<br>Event - pressed, released<br><br>That way the pressed state is just signaling that a pressed event occurred.<br><br>But really "down" for event and state is fine. The event down causes the state down (or vice versa the state down causes the event down). <br><br></td></tr></table><br>
<a name="2120092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mark<br><div class="quote"> Adding a method for a bit of raw keyboard data processing wouldn't go amiss either. <br></div>Let's say a method so that non U.S. keyboards can be handled. And an overloaded KeyDown/KeyHit function for checking a key and the key modifier at the same time. <br><br></td></tr></table><br>
<a name="2120325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taumel</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> From those mentioned i like KeyUp, KeyDown (autofire) and KeyHit, KeyReleased.<br><br>There are a few ways to get this right. Needs to make sense throughout all input options too. <br><br></td></tr></table><br>
<a name="2120219"></a>

<a name="2120220"></a>

<a name="2120221"></a>

<a name="2120324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I too prefer KeyUp to KeyReleased...  Might just be because it matches the old VB / WinForms convention... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
