<!DOCTYPE html><html lang="en" ><head ><title >Box, Box2 (bb &amp; bmax)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='extended modulos, language=bb, category=Algorithms'><meta name='author' content='CS_TBL'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=6>Algorithms</a>/Box, Box2 (bb &amp; bmax)</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="1663.bb">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >Box, Box2 (bb &amp; bmax) by CS_TBL</td><td align="right">2006 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> Box is a normal modulo, to keep any value within the 0..modulo range, but including negative values!<br><br>Box2 is nearly the same, except that it keeps a value within the given lo..hi range.<br><br>hm... example :P<br><br>if this is the range for box2: -4,2 then this is what the values -5..5 give:<br><br>1<br>-4<br>-3<br>-2<br>-1<br>0<br>1<br>-4<br>-3<br>-2<br>-1<br><br>Box works similary, except that its range is always 0..modulo, so -5..5 at a Box(&lt;value&gt;,3)would look like:<br><br>1<br>2<br>0<br>1<br>2<br>0<br>1<br>2<br>0<br>1<br>2<br><br><br>People who work with banks, pixmaps and other memchunks that can't go beyond the bounds will prolly see most use of all this, esp. when used for drawing graphics in such. </td></tr><tr ><td class="cell"><pre class="code">bmax:

Function Box:Int(value:Int,modulo:Int)
	If modulo&lt;1 modulo=1
	Return ((value Mod modulo)+modulo) Mod modulo
End Function

Function Box2:Int(value:Int,lo:Int,hi:Int)
	Local o:Int
	If lo&gt;hi
		o=lo
		lo=hi
		hi=o
	EndIf
	Local Modulo:Int=hi-lo
	value:-lo
	If modulo&lt;1 modulo=1
	Return lo+((value Mod modulo)+modulo) Mod modulo
End Function


non-bmax:

Function Box(value,modulo)
	If modulo&lt;1 modulo=1
	Return ((value Mod modulo)+modulo) Mod modulo
End Function

Function Box2(value,lo,hi)
	If lo&gt;hi
		o=lo
		lo=hi
		hi=o
	EndIf
	Modulo=hi-lo
	value=value-lo
	If modulo&lt;1 modulo=1
	Return lo+((value Mod modulo)+modulo) Mod modulo
End Function</pre></td></tr></table><br><a name="comments">Comments</a><br><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>2006</font></td></tr></table></td></tr><tr ><td class="posttext"> I think this is known as 'clamping', actually.<br><br>Or maybe 'looping' if the term wasn't already reserved for, well, loops.<br><br>Hm... I still like clamping, since it's clamping the value within a range. <br><br></td></tr></table><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
