<!DOCTYPE html><html lang="en" ><head ><title >Distance between 2 entities in 3D space for collision!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='This function checks the distance between 2 entities for collision!, language=bb, category=Algorithms'><meta name='author' content='SopiSoft'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=6>Algorithms</a>/Distance between 2 entities in 3D space for collision!</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="208.bb">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >Distance between 2 entities in 3D space for collision! by SopiSoft</td><td align="right">2002 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> This is a very fast 'sort of' collision function!<br>The function checks if the distance between the two entities provided is smaller or equal to the distance-parameter you provided.<br><br>You can use this function as if the 2 entities have collided with each other while they actually didn't.<br><br>You can also use it to determine when to execute some sort of action like &quot;making an enemy walk towards you&quot; when you are at a certain distance from the second entity.<br><br>Hopefully this is useful to you!<br><br>Bye,<br>Steve Overmars.  </td></tr><tr ><td class="cell"><pre class="code">; distance(entity1, entity2, distance#)
;
; Parameters:
;
; entity1 - entity1 handle
; entity2 - entity2 handle
; distance# - The distance between entity1 and entity2
;
; Description:
;
; Returns True if the distance between entity1 and entity2 is smaller or equals the distance-parameter provided. 
;

Function distance(entity1,entity2,distance#)
If Sqr#((EntityX#(entity1) - EntityX#(entity2))^2 + (EntityY#(entity1) - EntityY#(entity2))^2 + (EntityZ#(entity1) - EntityZ#(entity2))^2)&lt;= distance#
  Return True
Else
  Return False
EndIf
End Function</pre></td></tr></table><br><a name="comments">Comments</a><br><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>2005</font></td></tr></table></td></tr><tr ><td class="posttext"> Faster test: (avoid sqr())<br><pre class=code>(EntityX#(entity1) - EntityX#(entity2))^2 + (EntityY#(entity1) - EntityY#(entity2))^2 + (EntityZ#(entity1) - EntityZ#(entity2))^2&lt;= (distance#)^2</pre> <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>2005</font></td></tr></table></td></tr><tr ><td class="posttext"> What is wrong with using the built-in EntityDistance() function? It is faster for one thing.<br><br>On another note you can speed up both of the above snippets by not using ^2 but multiplying instead:<br><pre class=code>(EntityX(entity1) - EntityX(entity2))*(EntityX(entity1) - EntityX(entity2)) etc</pre><br>Or even better:<br>dx# = EntityX(entity1) - EntityX(entity2)<br>then... dx*dx <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert Cummings</td><td align="right"><font class=tiny>2005</font></td></tr></table></td></tr><tr ><td class="posttext"> ^2 is a slow operation. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>2005</font></td></tr></table></td></tr><tr ><td class="posttext"> "Beaker" is the daddy. <br><br></td></tr></table><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
