<!DOCTYPE html><html lang="en" ><head ><title >Dynamic Arrays</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='how to manage automatic resizing arrays, language=bmx, category=Algorithms'><meta name='author' content='AdamStrange'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=6>Algorithms</a>/Dynamic Arrays</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="3205.bmx">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dynamic Arrays by AdamStrange</td><td align="right">2015 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> how to manage automatic resizing arrays </td></tr><tr ><td class="cell"><pre class="code">local myArraySize:int = 100
local myArray:myType[myArraySize]

'now to check and resize the array. the array is increased in steps of 50
local newsize:int = 250
While newsize =&gt; myArraySize
	myArraySize :+ 50

	myArray = myArray[..myArraySize]
Wend</pre></td></tr></table><br><a name="comments">Comments</a><br><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dna</td><td align="right"><font class=tiny>2015</font></td></tr></table></td></tr><tr ><td class="posttext"> you could have used types to to the same thing. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>2015</font></td></tr></table></td></tr><tr ><td class="posttext"> Hmm...so if the new size is greater by a value less than 50 elements...you still add 50 elements? seems a bit strange? <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>2015</font></td></tr></table></td></tr><tr ><td class="posttext"> i just used 50 as a guide. The amount you increase is up to you. :)<br>I am dealing with something that could increase by lots or a little, so instead of predefining a large array (and not using it) this was a good way (i'm dealing with 100's of items)<br><br>the reason for not using types, is referencing. I need to be able to reference any item at any time instantly <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>2015</font></td></tr></table></td></tr><tr ><td class="posttext"> cool :) <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>2015</font></td></tr></table></td></tr><tr ><td class="posttext"> Beware that resizing an array is a very expensive operation CPU wise.If you need to add lots of elements, it's faster to convert the array to a linkedlist, add elements, and convert it back to an array. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>2015</font></td></tr></table></td></tr><tr ><td class="posttext"> The conventional approach with dynamic arrays is to double, or otherwise multiply, the capacity on resize, rather than adding to it. That way, the more you add elements, the less likely it is that an extension will be necessary in future.<br><br>To combat wastefulness, you can combine the strategy with a ShrinkToFit method for use once you're done adding items.<br><br>That said, ziggy is right: if you <i>know</i> you're going to be adding a dynamic number of elements to a collection, start with a linked list. Arrays should really either be fixed-size, or only resized in places where performance doesn't matter.<br><br>(That said ^2, BlitzMax already allocates memory in chunks, so resizing an array by one or two elements may well be free, if the existing memory block is already big enough for it. The same goes for Blitz3D and banks. Haven't checked the specific details though.) <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>2015</font></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> BlitzMax already allocates memory in chunks <br></div><br>That, i did not know :) <br><br></td></tr></table><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
