<!DOCTYPE html><html lang="en" ><head ><title >fade in/out</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='a simple sprite that can be used to fade in and out, language=bb, category=3D Graphics - Effects'><meta name='author' content='Ben(t)'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 ><a href=codearcs.php>Code archives</a>/<a href=codearcs.php?cat=11>3D Graphics - Effects</a>/fade in/out</h1><div class="quote">This code has been declared by its author to be Public Domain code.</div><br><a href="2063.bb">Download source code</a><br><br><table width="100%" cellspacing="0" cellpadding="0"><tr ><td width="100%"><table width=100% cellspacing=0 cellpadding=0><tr ><td class=headleft></td><td class=head><table width=100% cellspacing=0 cellpadding=0><tr ><td >fade in/out by Ben(t)</td><td align="right">2007 </td></tr></table></td><td class=headright></td></tr></table></td></tr><tr ><td class="cell"> a simple sprite that can be used to fade in and out </td></tr><tr ><td class="cell"><pre class="code">Graphics3D 640,480,32,2

pivot=CreatePivot()
cam=CreateCamera(pivot)
PositionEntity cam,0,5,-10,1

fade=CreateSprite(cam)
ScaleSprite fade,2,2
PositionEntity fade,0,0,1.1
EntityColor fade,0,0,0

cube=CreateCube()
ScaleEntity cube,5,.1,5
EntityColor cube,255,0,0

ball=CreateSphere(32)
MoveEntity ball,1,0,1
EntityColor ball,0,0,255

light=CreateLight()
MoveEntity light,5,8,5

While Not KeyHit(1)
PointEntity cam,cube
TurnEntity pivot,0,1,0

EntityAlpha fade,alpha#
If KeyDown(13) Then alpha#=alpha#+.01
If KeyDown(12) Then alpha#=alpha#-.01
If alpha#&lt;0 Then alpha#=0
If alpha#&gt;1 Then alpha#=1

RenderWorld
Text 0,0,alpha#
Text 0,10,"+ to increase dark and - to decrease"

Flip
Wend
End</pre></td></tr></table><br><a name="comments">Comments</a><br><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> I'm totally confused how this works.<br>You create a pivot, assign the camera to the pivot, and then you create a sprite of the camera?<br>This must be some advanced programming technique which my simple mind cannot understand :)<br><br>I think I understood what it's good for though, you can fade a whole scene with one EntityAlpha command in and out?<br><br>I would have done an scene fade in/out so, that I display a huge flat wall right in the front of the camera, and then EntityAlpha that flat wall in and out. Or change the fog range until 0. But I guess your method is better? <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> Nice one Ben(t) ! I would use different keys though, because + and - are not always located at the same place on each pc keyboard, and may confuse the users.<br><br>Use 200 and 208 (up and down arrow) as keycode, for example:<br>If KeyDown(200) Then alpha#=alpha#+.01<br>If KeyDown(208) Then alpha#=alpha#-.01<br><br>@Lumooja,<br>he does not create 'a sprite of the camera', instead he creates a sprite parented to the camera. The command CreateSprite(cam) does exactly this.<br><br>In this way, the sprite named 'fade' will remain always attached to the camera, and by changing its alpha, you get the fading effect. Note that the sprite is colored black, so  when its alpha = 1, you see a black screen, and when the alpha is 0, you see the 3D scene.<br><br>It's like a (black) fading glass screen in front of the camera, if you get the point.<br><br>Sergio. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> Good job. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> to respond to lumooja that is exactly what the sprite is for<br>the sprite is a black square colored 0,0,0 and it is in front of the camera<br>the fog Idea also works but you have to wait for it to get to zero for a complete fade out this fades everything out in less time. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> I would enable Flatshading and Fullbright, otherwise it won't be pure black if a light source is affecting it. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> Shouldn't be necessary, Gfk: i think sprites are fullbright by default. Fullbright entities are always fully lit, regardless of light sources, therefore setting flatshading is unnecessary, too. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> yeah sprites are always fullbright <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >blade007</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> yeah! its like im passing out! <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> hey that's not a bad Idea! I could color it red and when my character dies have it fade in!<br>just like the james bond games. <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> actually that sounds rather lame in retrospect, but I might use it for flash grenades <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yo! Wazzup?</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> Wow thanks this is one of the only things in the code archives I actually understand! (I even learned a bit from it!)<br><br>And also... the fact that it is an exaple already and not just some function helps too :) <br><br></td></tr></table><br><table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>2007</font></td></tr></table></td></tr><tr ><td class="posttext"> I've updated the fade out program so that it has a armor and health setup, whenever you get damaged then the screen flashes red.<br><br>it's still tweaky if anyone finds a better way to write the code let me know<br><br><br>Graphics3D 640,480,16,2<br>health=100<br>armor=100<br>SeedRnd MilliSecs()<br><br>CreatePlane()<br><br>pivot=CreatePivot()<br>cam=CreateCamera(pivot)<br>PositionEntity cam,0,5,-10,1<br><br>fade=CreateSprite(cam)<br>ScaleSprite fade,2,2<br>PositionEntity fade,0,0,1.1<br>EntityColor fade,255,0,0<br><br><br><br>cube=CreateCube()<br>ScaleEntity cube,5,.1,5<br>EntityColor cube,255,0,0<br><br>ball=CreateSphere(32)<br>MoveEntity ball,1,0,1<br>EntityColor ball,0,0,255<br><br>light=CreateLight()<br>MoveEntity light,5,8,5<br><br>While Not KeyHit(1)<br><br>If KeyHit(57) Then damage=Rnd(10)<br><br>now#=health+armor<br><br>If armor&gt;0 Then<br>armor=armor-(damage *.75)<br>health=health-(damage *.25)<br>Else<br>health=health-damage<br>EndIf<br>If armor&lt;0 Then armor=0<br>If health=&lt;0 Then health=0<br>damage=0<br><br>later#=health+armor<br><br>If now# &gt; later# Then alpha#=.75<br><br>If health&gt;0 Then alpha#=alpha#-.01<br><br>If health &gt; 0 Then<br>PointEntity cam,cube<br>TurnEntity pivot,0,1,0<br>EndIf<br>EntityAlpha fade,alpha#<br><br><br><br>RenderWorld<br>Text 0,0,health+" health"<br>Text 0,10,armor+" armor"<br>If alpha#&gt;0 Then Text 320,240,"OW I'M HURT!!!"<br>If health=&lt;0 Then<br>EntityColor fade,0,0,0<br>PositionEntity cam,0,1,-10,1<br>RotateEntity cam,0,0,90<br>alpha#=0<br>Text 0,20,"dead"<br>EndIf<br><br>Flip<br>Wend<br>End <br><br></td></tr></table><br><a href="codearcs.php" >Code Archives Forum</a><table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
