<!DOCTYPE html><html lang="en" ><head ><title >Noob: Lost in side scrolling</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Noob: Lost in side scrolling</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >Noob: Lost in side scrolling</a><br><br>
<a name="2088501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GreGorGy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Gaming peoples.<br><br>I have been saddled with the task of coding a side-scroller. My daughter has  an art project which she wants to take the form of a side scroller. So I found Monkey and it looks decent. But I am lost on where to even start. Are there any good tutorials for what I want to do? I see a collection of YouTube stuff but unfortunately, in South Africa, bandwidth is expensive and going through those could cost an arm and a leg.<br><br>Any pointers would be appreciated. <br><br></td></tr></table><br>
<a name="2088504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What level are you programming wise (beginner, novice, experienced, etc.)?<br>What experience do you have with game making?<br>Do you have a time constraint (and how much time if yes)?<br><br>I read what you wrote and without knowing those we couldn't begin to point you anywhere. <br><br></td></tr></table><br>
<a name="2088503"></a>

<a name="2088505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >erebel55</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would point you to diddy, as I know therevills has started some tutorials around it and it can quicken the process if you are a noob<br><a href="http://www.monkey-x.com/Community/posts.php?topic=8405" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8405</a> <br><br></td></tr></table><br>
<a name="2088506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt dropping a module on top of mojo right away is a good idea. Sticking to the basics is best to start. <br><br></td></tr></table><br>
<a name="2088508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GreGorGy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for your responses<br><br>I am experienced in programming (Xojo - was RealBasic) but I have zero experience in games. I do have a time constraint - we're looking at the end of June basically.<br><br>I saw the Diddy tutorial but the first lines...<br><pre class=code>Import diddy</pre><br>had me wondering what diddy was and where to import it from. <br><br></td></tr></table><br>
<a name="2088514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have zero experience in games <br></div><br><div class="quote"> we're looking at the end of June basically <br></div><br><br>That doesn't give much time at all and a side scroller is not an easy task. You might be better off trying a GUI game making system like Construct, GameMaker, or Multimedia Fusion. Not to insult the power of Monkey, but you need more time. Game making itself is an incredibly hard task, let alone learning Monkey's language, kinks, and limitations. Then to pack something like diddy, fantom, or even my XAddon module on top is a very long process.<br><br>I'm not saying you shouldn't learn Monkey later, but no experience in game making and a time constraint will likely not bode well for you. <br><br></td></tr></table><br>
<a name="2088513"></a>

<a name="2088526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed, game makers tend to come with built-in side scrollers etc. because built-in standard patterns are what they do.<br><br>That said, one way to think of a side-scroller is a long map, in which on every update you simply draw the section centred around your ship//runner/whatever.  So it's not really that complicated, unless you yourself want to be fancy... <br><br></td></tr></table><br>
<a name="2088529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a bare basics overview of a platformer...<br><br>- Tile maps<br>- Collision and Response<br>- Camera<br>- Jumping &amp; Grounding<br><br>There's nothing particularly simple about these. If you have no experience with making games, doing this will not be a walk in the park. You and I might be able to do it because we've done so much other stuff, but for someone who has never done this, it's very difficult. I can attest to it having never made a game only a few years ago, even though I had years of programming experience. <br><br></td></tr></table><br>
<a name="2088536"></a>

<a name="2088537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Diddy has a 2D side scrolling platform game demo in the examples:<br><a href="https://code.google.com/p/diddy/source/browse/#hg%2Fexamples%2FPlatformer" target="_blank">https://code.google.com/p/diddy/source/browse/#hg%2Fexamples%2FPlatformer</a><br><br>Or if you didnt want to use a framework here is some stand alone code:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict
Import mojo

Global SCREEN_WIDTH:Int
Global SCREEN_HEIGHT:Int

Const WIDTH:Float = 320
Const HEIGHT:Float = 240

Global game:MyGame

Function Main:Int()
	game = New MyGame()
	Return 0
End

Class MyGame Extends App
	Field player:Player
	Field bomb:Bomb
	Field scrollX:Float, scrollY:Float
	Field level:Level
	
	Method OnCreate:Int()
		SCREEN_WIDTH = DeviceWidth()
		SCREEN_HEIGHT = DeviceHeight()
		
		level = New Level()
		level.Load()

		player = New Player(level.playerX, level.playerY)
		bomb = New Bomb(level.bombX, level.bombY)
		SetUpdateRate(60)
		Return 0
	End
	
	Method OnUpdate:Int()
		player.Update()
		Return 0
	End
	
	Method OnRender:Int()
		Cls 
		PushMatrix 
		Scale(SCREEN_WIDTH/WIDTH, SCREEN_HEIGHT/HEIGHT)
		level.Draw()
		player.Draw(game.scrollX, game.scrollY)
		bomb.Draw(game.scrollX, game.scrollY)		
		PopMatrix
		Return 0
	End
End

Class Sprite
	Field image:Image
	Field x:Float, y:Float
	Field createImages:Bool
	Field pixels:Int[]
End

Class Bomb Extends Sprite
	Method New(sx:Int, sy:Int)
		image = CreateImage(60, 60)
		pixels = New Int[image.Width() * image.Height()]
		createImages = True
		x = sx
		y = sy
	End
	
	Method Draw:Void(offsetX:Float = 0, offsetY:Float = 0)
		CreateImages()
		DrawImage(image, x - offsetX, y - offsetY)
	End
	
	Method CreateImages:Void()
		If Not createImages Return
		createImages = False
		Cls(0, 0, 0)

		SetColor(100, 100, 0)
		DrawOval(0, 0, 30, 30)
		
		ReadPixels(pixels, 0, 0, image.Width(), image.Height())
		
		' convert the mask colour (black) to alpha
		For Local i:Int=0 Until image.Width() * image.Height()
			Local argb:Int = pixels[i]
			Local a:Int = (argb Shr 24) &amp; $ff
			Local r:Int = (argb Shr 16) &amp; $ff
			Local g:Int = (argb Shr 8) &amp; $ff
			Local b:Int = argb &amp; $ff

			If a = 255 And r = 0 And g = 0 And b = 0 Then
				a = 0
				argb = (a Shl 24) | (r Shl 16) | (g Shl 8) | b
				pixels[i] = argb
			End
		Next
		
		image.WritePixels(pixels, 0, 0, image.Width(), image.Height())

		image.SetHandle(image.Width() / 2, image.Height() / 2)

		SetColor(255, 255, 255)
		Cls(0, 0, 0)
	End
End
	
Class Player Extends Sprite
	Field border:Int = 50	
	
	Method New(sx:Int, sy:Int)
		image = CreateImage(60, 80)
		pixels = New Int[image.Width() * image.Height()]
		createImages = True
		x = sx
		y = sy
	End

	Method Update:Void()
		If KeyDown(KEY_LEFT)
			x -= 5
		End
		If KeyDown(KEY_RIGHT)
			x += 5
		End

		If x &lt; 0 Then x = 0
		If x &gt; WIDTH + game.scrollX Then x = WIDTH + game.scrollX
		If x - game.scrollX &lt; border Then game.level.ScrollHorizontal((x - game.scrollX) - border)
		If x - game.scrollX &gt; WIDTH - border Then game.level.ScrollHorizontal((x - game.scrollX) - (WIDTH - border))
	End
	
	Method Draw:Void(offsetX:Float = 0, offsetY:Float = 0)
		CreateImages()
		DrawImage(image, x - offsetX, y - offsetY)
	End
	
	Method CreateImages:Void()
		If Not createImages Return
		createImages = False
		Cls(0, 0, 0)

		SetColor(255, 255, 0)
		DrawRect(15,0,10,10)
		DrawRect(15,10,5,5)
		
		SetColor(255, 0, 0)		
		DrawRect(10,15,15,5)
		DrawRect(5,20,5,5)
		DrawRect(15,20,5,5)
		DrawRect(25,20,5,5)

		SetColor(100, 150, 255)
		DrawRect(15,25,5,5)
		DrawRect(10,30,5,5)
		DrawRect(5,35,5,5)
		DrawRect(20,30,5,5)
		DrawRect(25,35,5,5)
		
		ReadPixels(pixels, 0, 0, image.Width(), image.Height())
		
		' convert the mask colour (black) to alpha
		For Local i:Int=0 Until image.Width() * image.Height()
			Local argb:Int = pixels[i]
			Local a:Int = (argb Shr 24) &amp; $ff
			Local r:Int = (argb Shr 16) &amp; $ff
			Local g:Int = (argb Shr 8) &amp; $ff
			Local b:Int = argb &amp; $ff

			If a = 255 And r = 0 And g = 0 And b = 0 Then
				a = 0
				argb = (a Shl 24) | (r Shl 16) | (g Shl 8) | b
				pixels[i] = argb
			End
		Next
		
		image.WritePixels(pixels, 0, 0, image.Width(), image.Height())

		image.SetHandle(image.Width() / 2, image.Height() / 2)

		SetColor(255, 255, 255)
		Cls(0, 0, 0)
	End
End

Class Level
	Const TILE_SIZE:Int = 16
	Const GRAVITY:Float = 0.18
	
	Field map:Tile[][]
	Field width:Int, height:Int
	Field pixelWidth:Int = 0
	Field pixelHeight:Int = 0
	
	Field playerX:Int, playerY:Int
	Field bombX:Int, bombY:Int
		
	' 32 across
	Global level1:=[
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,120,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,124,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,124,0,0,0,16,124,16,124,16,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,
		116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,116,
		115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,115,
		0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0]

	Method Load:Void()
		width = 32
		height = 16
		
		pixelWidth = width * TILE_SIZE
		pixelHeight = height * TILE_SIZE
		
		map = TileArray(width, height)
		
		For Local x:Int = 0 To width - 1
			For Local y:Int = 0 To height - 1
				map[x][y] = New Tile((level1 [ x + y * width ] ))
			Next
		Next
		
		playerX = 110
		playerY = 170
		bombX = 400
		bombY = 170
	End Method
	
	Method Draw:Void()
		For Local x% = 0 To width - 1
			For Local y% = 0 To height - 1
				If map[x][y].frame &gt; 0
					SetColor map[x][y].red, map[x][y].green, map[x][y].blue
					DrawRect Int(x * TILE_SIZE - game.scrollX), Int(y * TILE_SIZE - game.scrollY), TILE_SIZE, TILE_SIZE
				endif
			Next
		Next
		SetColor 255, 255, 255
	End Method
	
	Method ScrollHorizontal:Void(change#)
		game.scrollX += change

		If game.scrollX &lt;0 Then
			game.scrollX = 0
		Else
			Local maxX% = pixelWidth - WIDTH
			If game.scrollX &gt; maxX Then game.scrollX = maxX
		EndIf
	End Method
	
	Method GetCollisionTile:Int(x:Float, y:Float)
		If x &lt; 0 Or x &gt;= pixelWidth Or y &lt; 0 Or y &gt;= pixelHeight Then Return 0
		
		local xx% = (Floor(x / TILE_SIZE)) 
		local yy% = (Floor(y / TILE_SIZE))
		
		Return map[xx][yy].frame
	End Method
End Class

Function TileArray:Tile[][](xSize:Int, ySize:Int)
	Local map:Tile[xSize][]
	For Local x:Int=0 Until xSize
	   map[x]=New Tile[ySize]
	Next
	Return map
End Function

Class Tile
	Field frame:Int
	Field red:Int, green:Int, blue:Int
	
	Method New(frame:Int=0)
		self.frame = frame
		red = 255 - frame
		green = 255 - frame
		blue = 255 - frame
	End
End</textarea><br><a href="http://www.therevillsgames.com/monkey/scrolling/MonkeyGame.html" target="_blank">http://www.therevillsgames.com/monkey/scrolling/MonkeyGame.html</a><br><br>But I do agree with GLG, learn to walk before you run. Start with the classic gaming styles: Breakout, Asteroids, Space Invaders, PacMan, Tetris and then Super Mario. <br><br></td></tr></table><br>
<a name="2088559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sensei</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Slightly off-topic, but I just wanted to say WOW @therevills. <br>Now THAT's an example that should be included in Monkey documentation. A basic side scrolling example. All it needs is a bit of in-line documentation! Something like this would go a LONG way to helping beginners with Monkey-X.<br>Awesome! <br><br></td></tr></table><br>
<a name="2088569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am planning more tutorials for Diddy, since it comes with a TileD importer, but I could do one in pure MonkeyX... <br><br></td></tr></table><br>
<a name="2088587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lindsay</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> What Sensei said!!  Looking forward to pulling this code apart :) Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
