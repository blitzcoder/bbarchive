<!DOCTYPE html><html lang="en" ><head ><title >birthday cool code.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >birthday cool code.</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >birthday cool code.</a><br><br>
<a name="2110593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi !<br><br>I'm searching a cool code to display some nice coloured confettis (square images)  on screen (1280x720). It's for the birthday of olders persons inside our nursing home. I already display the person name at the center of the screen,an background image and play a music.<br><br>Have you some idea or code example ? (i want a short code for this, not use a huge class). I'm crap with math to code this kind of nice effects !<br><br>Thanks. <br><br></td></tr></table><br>
<a name="2110603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rIKmAN</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would write a simple particle emitter, and draw (or Google) for some confetti graphics to attach.<br><br>There may be some particle code on here or in the code archives, if not you could always look at some Blitz / BlitzMax code from their archives and port it over which should be pretty simple.<br><br>A quick forum search found this:<br><a href="http://www.monkey-x.com/Community/posts.php?topic=5255" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=5255</a><br><br>If you have something like Spine or Spriter you could create the animation in that and then just play it on loop using the Monkey Runtimes (not sure about Spriter but the Spine module works fine in Monkey), or one of the free frameworks might have particle stuff in it (Diddy/fantomEngine) but you would have to check that as I'm not sure if they do. <br><br></td></tr></table><br>
<a name="2110602"></a>

<a name="2110601"></a>

<a name="2110600"></a>

<a name="2110598"></a>

<a name="2110599"></a>

<a name="2110595"></a>

<a name="2110596"></a>

<a name="2110597"></a>

<a name="2110604"></a>

<a name="2110605"></a>

<a name="2110606"></a>

<a name="2110607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm really searching a tiny code sample, easy to add without import !<br><br>i will code a simple class like single explosions. (cos, sin at random angle and  speed, and at each x,y point a rotated and scaled image.<br><br>Finally i code my own idea :-)<br><br>Many thanks. <br><br></td></tr></table><br>
<a name="2110753"></a>

<a name="2110755"></a>

<a name="2110756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Capn Lee</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hope this helps, there's not much maths to it as it is. <br><br>i haven't tested how much you can put on screen without causing problems but it seems to handle a thousand or so at once okay<br><br><br><pre class=code>Import mojo

Global confettiSize:Float = 12.0


Global confettiList:List&lt;Confetti&gt; = New List&lt;Confetti&gt;


Function Main()
	Local c:ConfettiApp = New ConfettiApp
End

Class ConfettiApp Extends App
	
	Method OnCreate()
		SetUpdateRate(30)
		CreateConfetti(325)
	End
	
	Method OnUpdate()
		If KeyHit(KEY_SPACE) Then KillConfetti()
		If KeyHit(KEY_ENTER) Then CreateConfetti(325)
		UpdateConfetti()
	End
	
	Method OnRender()
		Cls(0, 0, 0)
		RenderConfetti()
		DrawText("Space Removes all confetti", 8, DeviceHeight() -48, 0, 0)
		DrawText("Return throws another batch", 8, DeviceHeight() -32, 0, 0)
	End
End



Function CreateConfetti(quantity:Int)
	For Local i:Int = 0 Until quantity
		Local c:Confetti = New Confetti()
	Next
End

Function UpdateConfetti()
	For Local c:Confetti = EachIn confettiList
		c.Update()
	Next
End

Function RenderConfetti()
	For Local c:Confetti = EachIn confettiList
		c.Render()
	Next	
End

Function KillConfetti()
	confettiList.Clear()
End

Class Confetti
	
	Field xPos:Float
	Field yPos:Float
	
	Field rColor:Int
	Field gColor:Int
	Field bColor:Int
	
	Field speed:Float

	Field angle:Float
	
	Method New()
		xPos = Rnd(0, DeviceWidth())
		yPos = Rnd(-400, 0)
		RandomConfettitColor()
		speed = Rnd(5, 15)
		angle = Rnd(365)
		confettiList.AddLast(Self)
	End
	
	Method RandomConfettitColor()
		Local f:Float = Rnd()
		If f &lt; 0.2
			'PastelBlue
			rColor = 193
			gColor = 238
			bColor = 255
		ElseIf f &lt; 0.4
			'PastelPink
			rColor = 255
			gColor = 193
			bColor = 214
		ElseIf f &lt; 0.6
			'PastelGreen
			rColor = 213
			gColor = 254
			bColor = 194
		ElseIf f &lt; 0.8
			'PastelYellow
			rColor = 254
			gColor = 250
			bColor = 194
		Else
			'PastelRed
			rColor = 255
			gColor = 193
			bColor = 193
		EndIf
	End
	
	Method Update()
		yPos += speed
		If yPos &gt; DeviceHeight() + (2 * confettiSize)
			confettiList.Remove(Self)
		EndIf
		angle += speed * 1.5
	End
	
	Method Render()
		PushMatrix()
			Translate(xPos - (confettiSize / 2), yPos - (confettiSize / 2))
			Rotate(angle)
			SetColor(rColor, gColor, bColor)
			DrawRect(-2, -2, confettiSize - 2, confettiSize - 2)
		PopMatrix()
	End
End</pre> <br><br></td></tr></table><br>
<a name="2110759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pakz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is something I made that is short and has a party vibe to it. (fireworks/fountain) See the link to view the flash on the page running the code.<br><br><a href="http://monkeygameprogramming.blogspot.nl/2014/12/monkey-x-2d-fireworks-using-lists-code.html" target="_blank">http://monkeygameprogramming.blogspot.nl/2014/12/monkey-x-2d-fireworks-using-lists-code.html</a><br><br>Here the code. It is one of the posts that had more then avarage amount of pageviews on my blog.<br><br><pre class=code>
Import mojo

Class sprite
    Field x#,incx#
    Field y#,incy#
    Method New()
        x = DeviceWidth/2
        y = DeviceHeight
        incx=Rnd(1,2);If Rnd(1)&gt;=.5 incx=-incx
        incy=Rnd(-3,-15)
    End Method
End Class

Class MyGame Extends App
    Field spritelist:List&lt;sprite&gt; = New List&lt;sprite&gt;

    Method OnCreate()
        SetUpdateRate(60)
    End Method
    Method OnUpdate()
        spritelist.AddLast(New sprite)
        For Local i:=Eachin spritelist
            i.x += i.incx
            i.y += i.incy
            i.incy += 0.1
        Next
        For Local i:=Eachin spritelist
            If i.y &gt; DeviceHeight Then spritelist.Remove i
        Next
        
    End Method
    Method OnRender()
        Local cnt:Int = 0
        Cls(0,0,0)
        SetColor(255,255,255)
        For Local i:=Eachin spritelist
            DrawCircle i.x,i.y,3
            cnt+=1
        Next
        DrawText "Count: "+cnt,10,10
    End
End

Function Main()
    New MyGame()
End
</pre> <br><br></td></tr></table><br>
<a name="2110781"></a>

<a name="2110782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've already program something with arrays.  But it's interesting to read your code, especially  so i can understand how to work with lists ! Many thanks for your help. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
