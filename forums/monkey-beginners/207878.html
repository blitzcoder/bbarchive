<!DOCTYPE html><html lang="en" ><head ><title >How to get and store screen positions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to get and store screen positions</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >How to get and store screen positions</a><br><br>
<a name="2077633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just started with all this , so dont hate me! I am scratching my head over how to store a screen XY position upon a touchdown. Can anyone give me some hints please? I suspect I am not quite grok'ing the data structures in Monkey. The line marked "BAD" is the problem, any help appreciated!  (PS the dot.png is just a small circle)<br>====================================<br><br><br>Import mojo<br><br>Global DataPoint : TPoint[ 99 ]<br><br>Class Tpoint<br><br>	Field x : Float<br>	Field y : Float<br>		<br>	Method New(px : Float, py : Float  )<br>		Self.x=px<br>		Self.y=py<br>	End	<br>End<br><br>Class StoreXY Extends App<br><br>	Field pointImage:Image<br>	Field points:=New List&lt;Tpoint&gt;<br>	<br>	Method OnCreate()<br>			<br>		pointImage=LoadImage( "dot.png",1,Image.XYPadding )<br>		SetUpdateRate 60<br>	End<br>	<br>	Method OnUpdate()<br>	<br>		Local out:=New List&lt;Tpoint&gt;<br>		For Local dot:=Eachin points<br>			out.AddLast dot<br>		Next<br>		<br>		For Local i=0 Until 32<br>			If TouchDown( i )<br><br>				points.AddLast New Tpoint( TouchX(i),TouchY(i) )<br>			'        DataPoint[ 0 ] = New TPoint( TouchX(i),TouchY(i) )  &lt;---BAD<br>	<br>			Endif<br>		Next<br>	End<br>	<br>	Method OnRender()<br>	<br>		Local w=DeviceWidth,h=DeviceHeight<br>		Cls<br>		For Local position:=Eachin points<br>				DrawImage pointImage,position.x,position.y<br>		End<br>	End<br>End<br><br>Function Main()<br>	New StoreXY<br>End <br><br></td></tr></table><br>
<a name="2077635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wylaryzel</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The global DataPoint is a T<b>P</b>oint, but for the class you had defined T<b>p</b>oint.<br><br>Monkey is case sensitive, so an TPoint &lt;&gt; Tpoint :-)<br><br>if you change the DataPoint to a Tpoint as well it should work.<br><br>BR<br>Wyl <br><br></td></tr></table><br>
<a name="2077634"></a>

<a name="2077641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul - Taiphoz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Welcome.. When posting code if you use the following tags  will enclose and format your code.<br><br><pre class=code>
Remove this space          \/
[code]Print "Hello World" [ /code]
</pre> <br><br></td></tr></table><br>
<a name="2077640"></a>

<a name="2077639"></a>

<a name="2077638"></a>

<a name="2077644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sal</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good spot Wylaryzel! much thanks! i've cleared it up now and it does what I wanted. <br><br>and thanks Paul for the info re: posting code. I'll make sure I do that in the future. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
