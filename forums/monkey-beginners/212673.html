<!DOCTYPE html><html lang="en" ><head ><title >create and write into a file</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >create and write into a file</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >create and write into a file</a><br><br>
<a name="2124492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ashmoor</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am working on a level editor and would like create and save a file for each level, or even save all levels in a single file, how do I do that? <br><br>I searched the forum but unfortunately I don't understand much and cant get the code to work. I might be missing something but I don't know what I don't know. <br><br></td></tr></table><br>
<a name="2124510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Ancell</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This other thread may pave the way.<br><br><a href="http://www.monkey-x.com/Community/posts.php?topic=12669" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=12669</a> <br><br></td></tr></table><br>
<a name="2124570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ashmoor</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Steve Ancell, thanks I checked that thread before but it took me a while to understand that some stuff does not work with HMTL 5  as target so I had to dig through the docs and find out what each target can do. I will check it again and hopefully will be able to understand how things work.<br><br>I managed to create  a file but I have no idea how to set the location. I can create make new folders in the default location but cant save it on the desktop or somewhere else. Is it possible to create it anywhere on the hard drive if target is glfw? <br><br></td></tr></table><br>
<a name="2124596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Ancell</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> For HTML5 you can use SaveState and LoadState. I know those methods don't deal with a file as such. but you could use markers in the string that could be kind of accessed like files. <br><br></td></tr></table><br>
<a name="2124628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a level editor working in html5 which saves my level files into the data folder.<br>Writing files in HTML5 alone won't work, therefore I use NWJS which gives you a window with a webview in it.<br>Then I use this js function:<br><br><pre class=code>
var native = new Object();

native.WriteFile = function(filePath, content) {
	var fs = require('fs');
	if (!fs) return;
	fs.writeFileSync(filePath, content, "utf-8");
}
</pre><br>PS: There is a thread around here how to setup NWJS with monkey. <br><br></td></tr></table><br>
<a name="2124629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steve Ancell</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Shinkiro1:<br>PS: There is a thread around here how to setup NWJS with monkey. <br></div><br><br>Does NWJS work with the first incarnation of monkey or is it a monkey-2 thing?<br><br>I searched the site for NWJS, other than this thead and the other one (titled: File I/O - very simple), there was only one other thread that contains NWJS: <a href="http://www.monkey-x.com/Community/posts.php?topic=10505&amp;post=119135&amp;view=all#119135" target="_blank">(Linkage!) </a> <br><br></td></tr></table><br>
<a name="2124630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shinkiro1</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok that thread had the full title:<br><a href="http://www.monkey-x.com/Community/posts.php?topic=8059" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=8059</a><br><br>NWJS works with monkey 1. I don't know about monkey2.<br>Keep in mind that you can not use this functionality within a browser window.<br>What I do is to have a preprocessor variable, like this:<br><pre class=code>
#USE_EDITOR = True

#If USE_EDITOR
Import nativefunctions
#End
</pre><br><br>Then when I want it to work inside a normal browser (without NWJS) I just set USE_EDITOR to false.<br>I assume you need the editor only for development. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
