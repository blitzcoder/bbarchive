<!DOCTYPE html><html lang="en" ><head ><title >Memory Access Violation</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Memory Access Violation</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >Memory Access Violation</a><br><br>
<a name="2115335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering do Monkey-X reach an eventual point to where it runs out of memory to where one can't program anymore things into one's game? I making a large RPG game and it has been going well. But, suddenly I've started getting the Memory Access Violation error message. <br><br></td></tr></table><br>
<a name="2115342"></a>

<a name="2115343"></a>

<a name="2115344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nobuyuki</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's possible to load too many resources at once and get this error when trying to access a resource.  You won't get an "out of memory" type error when allocating, but instead the resource will likely silently fail to load and the error will occur when trying to utilize the resource.  Be sure to properly dispose of the resources you're not using;  There's no surefire way to reliably ensure when the GC will come around to free them. <br><br></td></tr></table><br>
<a name="2115351"></a>

<a name="2115353"></a>

<a name="2115354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nobuyuki, how do I dispose the resources that I'm not using? Is there a particular command in monkey X that I could use to do that? For example, is there a Destroy command because there are indeed some images that I used only one time throughout my game and then I never use them again. <br><br></td></tr></table><br>
<a name="2115360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can use Image.Discard for that. <br><br></td></tr></table><br>
<a name="2115363"></a>

<a name="2115364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The other possibility is that you are allocating (really) huge data structures and never de-allocating them (which in Monkey means 'forgetting them, i.e. having no references to them),  For example, if your game is based on level-maps, but you keep all your old level maps with all their contents alive in a list somewhere.<br><br>It might be useful to run Resource Monitor and see what the memory usage graph is like when you run your game for a bit.  That may give you a clue as to where the excess usage is.<br><br>It doesn't *sound* like a constant memory leak or an individual bug, but those are always possibilities too.<br><br>Monkey doesn't have any particular scaling problems as far as I know - it should be able to make a game as big as any out there. <br><br></td></tr></table><br>
<a name="2115373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xaron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> True, but especially on mobile platforms you can run into these problems pretty fast. So you can't just do a LoadImage and be sure that this will be persistant over the complete session. I have now some kind of a resource manager where I reload images when they got removed. Better than a crash I guess. ;) <br><br></td></tr></table><br>
<a name="2115452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all of the responses and help. I figured out what was wrong with my code. I had a prior reference the Enemy class. That is, at first, I named the reference enemy: Enemy (i.e., and called the reference as “enemy.Draw()” and so forth). But, later I changed that same reference to En: Enemy as in “En.Draw()” and so forth, and I forgot to delete the old reference as in enemy.Draw(). Thus, when the computer went looking for the old “enemy” reference that I put inside of the code, it wasn’t listed. Thus, I got the error. I hope this makes sense. Thus, thanks for the help. I’ll come back if I need anymore help. <br><br></td></tr></table><br>
<a name="2115457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course... and we all goofed in answering you, because we read where you said 'out of memory' and did not notice that the actual  error was 'memory access violation', a completely different thing!  Glad you found it anyway, even with our 'help' :-D <br><br></td></tr></table><br>
<a name="2115471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gerry, actually at first I didn't know whether the reason that I got the error was because the system ran out of memory or not. Afterall, that was what I originally mentioned. I didn't actually know what the problem truly was and thus you all were correct and great in brainstorming some possibilities. I also asked the original question t because I have A LOT of data in my game and I include A LOT of scanned images too. Heck, I might have ended up asking this question again or eventually if it reaches such point.<br><br>But, in this case I found that the reason that I was getting the error wasn't because of an out memory situation (at least not this time), but it was because I overlooked something that I didn't see before. So, you all didn't make any mistakes.I didn't know what Memory Access Violation meant at the time. Plus, I'm no expert at programming. I'm still learning. Hence, was the reason I posted the question. Thanks! <br><br></td></tr></table><br>
<a name="2115470"></a>

<a name="2115463"></a>

<a name="2115461"></a>

<a name="2115462"></a>

<a name="2115490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> A memory access violation mean the processor tried to get at some memory it isn't supposed to (because it wasn't allocated to the program, or it was allocated and subsequently de-allocated). <br><br></td></tr></table><br>
<a name="2115554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for clarifying that Gerry Quinn <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
