<!DOCTYPE html><html lang="en" ><head ><title >Standalone build</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Standalone build</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >Standalone build</a><br><br>
<a name="2107145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raudius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I compile my application so that it can be run on other machines?<br><br>I tried just copying the Release file to my laptop and it wouldnt run. I had to copy a bunch of dlls (OpenAL32, some c++lib or something and another one) and install Monkey on it to make it run.<br><br>Is there a way to include all the necessary libraries or do I need to compile some other way? <br><br></td></tr></table><br>
<a name="2107152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raudius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found these requirments in the doc:<br>MinGW 4.8.1 or Microsoft Visual C++ Express 2010 (MSVC).<br>OpenAL Windows Drivers.<br><br><br>Is that what is required then? I havent had a chance to try it yet <br><br></td></tr></table><br>
<a name="2107153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I know, it's only OpenAL that needs to be considered.  Unless you somehow misconfigured your C++ compiler to link dynamically, you shouldn't need any other DLLs. <br><br></td></tr></table><br>
<a name="2107163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raudius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> With just the OpenAL dll I was getting:<br>"The application was unable to start correctly (0x000007b). Click OK to close the application"<br><br>Then I installed Monkey and that went away and got replaced by another message demanding some dlls. Put them in the folder and it worked.<br><br>However I obviously dont want users to have to install Monkey. I have worked with Qt on this computer in the past maybe that has messed with the compiler? But wouldnt Qt and Monkey come with their own separate C++ compilers? <br><br></td></tr></table><br>
<a name="2107162"></a>

<a name="2107177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <b>Revihx wrote:</b><br>Then I installed Monkey and that went away and got replaced by another message demanding some dlls. Put them in the folder and it worked. <br></div><br>What DLL's were required? When compiling using VisualStudio, you probably need to add the<br>VC++ Runtime DLL's for the version you used (VS 2010 / 2012 / 2013).<br><br>You could check what DLL's are required using <a href="http://dependencywalker.com" target="_blank"><u>Dependency Walker</u></a>. <br><br></td></tr></table><br>
<a name="2107176"></a>

<a name="2107175"></a>

<a name="2107174"></a>

<a name="2107173"></a>

<a name="2107172"></a>

<a name="2107179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be more helpful if you actually listed the dll's, what version of Monkey you are using and which compiler version for Qt you installed.<br>If you used the MinGW version of Qt and installed the compiler that comes with it. Then I will have a wild guess that one of the dll's it's asking for would be libgcc_s_dw2-1. To remedy this problem, remove Qt, check the system environment variables and remove any parts for Qt/MinGW.<br>The compiler that comes with MonkeyX free is the TDM version of MinGW. The TDM version fixes the problem with the missing library, as well as adding support of building 64bit binaries. If you need to use MinGW then install this version. When installing any other tool that comes with a MinGW compiler, then you should disable the install MinGW option.<br><br>If you need to use Qt, I would suggest using one of the Visual Studio versions and install the required version of Visual Studio. I have never yet managed to get the MonkeyX IDE to compile with Qt/MinGW.<br>I should point out that MonkeyX will favour MinGW over Visual Studio if both are installed. Read the documentation about configuration option on how to disable this.<br><br>When you do distribute you application. You will need to distribute OpenAL and in the case of building with Visual Studio, a Visual Studio C++ Runtime installer. You can find an installer of OpenAL in the targets directory. Or you can build the OpenAL-Soft version which is easy when you install the GUI version of CMake. <br><br></td></tr></table><br>
<a name="2107178"></a>

<a name="2107180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raudius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your replies!<br><br>YES! One of them was libgcc_s_dw2-1.dll and the other was libstdc++-6.dll<br><br>I will proceed to remove Qt/MinGW since I'm no longer using it, and hopefully that fixes it :D<br>I really wouldn't have thought it to cause issues :/ tbh it would be kind of annoying were I actually using Qt<br><br><div class="quote"> The compiler that comes with MonkeyX free is the TDM version of MinGW <br></div><br>I am using Monkey X Pro, I'm not sure if this changes anything. <br><br></td></tr></table><br>
<a name="2107181"></a>

<a name="2107182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dawlane</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Monkey Pro doesn't come with any compiler, so you are free to use any that you wish.<br>Please be aware that the 64bit version of TDM/MINGW by default will build 64bit applications and isn't compatible with the version of OpenAL found the targets directory. So it's best to rebuild the OpenAL-Soft version. If you want to build solely for 32bit then either use the 32bit version or modify the Makefile in targats/glfw/template/gcc_winnt and add -m32 to CPPFLAGS and LDFLAGS. <br><a href="http://tdm-gcc.tdragon.net/" target="_blank">TDM-GCC</a><br><a href="http://kcat.strangesoft.net/openal.html" target="_blank">OpenAL-Soft</a>. There is also a version on <a href="http://sourceforge.net/projects/openal-soft/" target="_blank">source-forge</a> <br><br></td></tr></table><br>
<a name="2107193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raudius</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not used to messing with compilers :/<br><br>Ive been using the glfw3 target, since I assumed bigger meant better. Would it be better if I use the glfw2 target?<br><br>Here is my Makefile from targets/glfw3/template/gcc+winnt<br>Im assuming its using the GCC compiler and compiling for win64. How would I go about changing it so it compiles without linking dynamically or whatever it is doing now that causes my builds not to work?<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

CC=gcc
CFLAGS=

CXX=g++
CXXFLAGS=

CPPFLAGS=$(CCOPTS) \
-Wno-free-nonheap-object \
-I../glfw3/include \
-I../glfw3/src \
-I../openal/include \
-I../stb \
-I../zlib-1.2.8 \
-I../lpng1610

LD=g++
LDFLAGS=-Wl,--subsystem,windows -L../openal/libs/Win32 -L../openal/libs/Win64
LDLIBS=-lgdi32 -lopengl32 -lOpenAL32 -lws2_32

vpath %.c ../glfw3/src
vpath %.c ../stb
vpath %.cpp ..

OBJS0=\
context.o \
init.o \
input.o \
joystick.o \
monitor.o \
time.o \
wgl_context.o \
win32_init.o \
win32_monitor.o \
win32_time.o \
win32_tls.o \
win32_window.o \
window.o \
winmm_joystick.o \
stb_vorbis.o \
stb_image.o \
main.o

TMP=build/$(dir $(OUT))

OBJS=$(patsubst %.o,$(TMP)%.o,$(OBJS0))

all : $(OUT)

$(OUT) : $(OBJS)
	$(LD) $(LDFLAGS) -o $@ $(OBJS) $(LDLIBS)

$(TMP)%.o : %.c
	$(CC) $(CFLAGS) $(CPPFLAGS) -c -o $@ $&lt;

$(TMP)%.o : %.cpp
	$(CXX) $(CPPFLAGS) $(CXXFLAGS) -c -o $@ $&lt;
</textarea> <br><br></td></tr></table><br>
<a name="2107192"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
