<!DOCTYPE html><html lang="en" ><head ><title >how do you keep objects relative with rotation?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >how do you keep objects relative with rotation?</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >how do you keep objects relative with rotation?</a><br><br>
<a name="2124252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RedGTurtlepa</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a platform, like a train, and I have objects on top of it, the train can rotate and I need objects to be able to maintain their current position and rotation, while overlapping it. Can someone explain to me the math? I found a couple of formulas I dont understand how to plug in:<br><br><pre class=code>
x - distance * sin(degtorad(direction))
y + distance * cos(degtorad(direction))
</pre><br><br>I cant understand the math steps going on, I know I need to update the new x and y with an x that is relative to the overlapped base object, with its x and y transformed with a rotation. However, the numbers cant use addition since if you add two different x and y you will get a larger number that is no where near the overlapping object.<br><br>So I need a difference in position added to the x of the object overlapping the baseobject.<br><br>So is the formula <br><pre class=code>
x += x - (myOverlappedObj_x - distance * sin(degtorad(myOverlappedObj_direction)))
</pre><br><br>or how do usually solve this problem? <br><br></td></tr></table><br>
<a name="2124253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way of looking at it is to define the coordinates in terms of the base object.  So say the object is at (8, 10) relative to the train, which is at (0, 0) with angle 0.  The train now moves to (30, 20) and an angle of 40 degrees.<br><br>Your object is now at 30 + 8 * Cos( 40 ) - 10 * Sin( 40 ), 20 + 10 * Cos( 40 ) + 8 X Sin( 40 )<br><br>You rotate the position relative to the origin of the platform (since the object rotates with the platform), then add the position of the platform.  [I'm assuming the platform rotates about its origin - if not you need an extra translation.] <br><br></td></tr></table><br>
<a name="2124254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RedGTurtlepa</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> that looks very familiar, and I know i've used it before. But I still dont understand, problem because im so used to not combining two coordinates which you do in basic geometry(i need to review). So the formula you posted to get the correct ordered pair is this?<br><pre class=code>
x = ( (x_OverlappedObject + self_x * Cos(angleFacing_OverlappedObject)) - (self_y * Sin(angleFacing_OverlappedObject)) )
y = ( (y_OverlappedObject + self_y * Cos(angleFacing_OverlappedObject)) + (self_x * Sin(angleFacing_OverlappedObject)) ) 
</pre><br><br>ill have to google this since I cant really understand what it is im reading ( no doubt it works). sadly. <br><br></td></tr></table><br>
<a name="2124262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always think of it as a sequence of translations (in the sense of translating languages).  You start by finding/knowing the position of the object in platform space, then you translate platform space into world space, by first rotating the object by the platform's angle, then translating by the platform's position.  Implement that sequence, and it should work out.  (I never remember the formula.  If you do a lot of this, it might be worth studying up on matrix methods.) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
