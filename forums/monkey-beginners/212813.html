<!DOCTYPE html><html lang="en" ><head ><title >Implementing a matrix into my game</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Implementing a matrix into my game</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >Implementing a matrix into my game</a><br><br>
<a name="2126030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm creating a platform game which uses tiles and a txt file to create my map with, i was just wondering what is the easiest way of having a camera following my player and only displaying a small bit of my map. How would it move the tiles and load the next bit of my level? I'm new to monkey-x so any help would be greatly received:) <br><br></td></tr></table><br>
<a name="2126031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Usually for platform games we don't think in terms of matrices.  If your tiles are a 2D array, and the player is at (px,py), and your screen is 11 x 11 tiles, you might draw something like:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	For Local x:Int = -5 To 5
		For Local y:Int = -5 To 5
			DrawTile( GetTile( px + x, py + y ), xCentre + x * wTile, yCentre + y * hTile )
		Next
	Next
</textarea><br><br>Here xCentre and yCentre are screen coordinates of the centre of your viewing area, and wTile and hTile are the width and height of a tile.<br><br>This would draw an 11 x 11 block of tiles centred on the player.<br><br>Later on you might want to tweak this, with smooth scrolling, and perhaps showing more of the level in the direction the player is currently pointing. <br><br></td></tr></table><br>
<a name="2126083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for the help!, okay that makes sense. Would this go in my on render method of my main game class or in my level class? <br><br></td></tr></table><br>
<a name="2126084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The rendering method of the app ultimately calls everything that gets drawn.  That applies whether it's drawing everything in detail, or just calling gameWindow.Render() which in turn draws things in detail, or itself calls rendering methods of other classes (sprites, animated score values, maps, whatever).  It all depends on how you want to organise things, which depends on personal preferences and the size of your project. <br><br>Obviously things can draw only what they have access to, and you will want to have a happy medium between keeping things nicely encapsulated, and getting at information easily  Practice is the only way to lear this.  Always start with small, simple projects, then when you move on to bigger projects, think about the simpler ones and how they could have been structured  to make programming easier. <br><br></td></tr></table><br>
<a name="2126085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was thrown in at the deep end because its a school project, game will ideally have 10 levels with menu systems and player movements, enemies and power-ups - it is a 2d platform game but due to very limited programming knowledge i am struggling with even the easier parts. <br><br></td></tr></table><br>
<a name="2126089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, in the simplest terms, it's down to whether you prefer dealing with multiple small classes, or with loads of methods and fields in one class.  The computer doesn't really care!<br><br>By the way, does your game have to scroll?  That adds a fair amount of complexity, but the classic platform games often had everything on one screen, meaning no need to scroll at all! <br><br></td></tr></table><br>
<a name="2126091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have smaller classes with my big main game class, i would prefer it to scroll but understand it is a complicated feature. I'm basing it upon new super mario bros in terms of features and look and feel. <br><br></td></tr></table><br>
<a name="2126092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I usually have a Game class and a separate GameWindow class that does all the drawing.  But you might find that to be overkill.  <br><br>As for scrolling, it is easy enough in itself when you know how, but you have to add certain tweaks to make it look good and smooth, and they are the greater cause of complications... <br><br></td></tr></table><br>
<a name="2126105"></a>

<a name="2126106"></a>

<a name="2126109"></a>

<a name="2126110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How in your example would DrawTile know which tile to draw, i have around 7.This is my current method for drawing the tiles<br><br><pre class=code>                 Method draw()
				Local tile:String
				For Local y:Int = 0 To 14
				For Local x:Int = 0 To 49
					tile = tiles[x][y]
					If tile = BrownTile Then DrawImage tileset, x*32, y*32, BrownTile
					If tile = SlopeDown Then DrawImage tileset, x*32, y*32, SlopeDown
					If tile = SlopeUp Then DrawImage tileset, x*32, y*32, SlopeUp
					If tile = BPlatform Then DrawImage tileset, x*32, y*32, BPlatform
					If tile = Sky Then DrawImage tileset, x*32, y*32, Sky
					If tile = FPlatform Then DrawImage tileset, x*32, y*32, FPlatform
					If tile = Lava Then DrawImage tileset, x*32, y*32, Lava
				Next
				Next
			End </pre> <br><br></td></tr></table><br>
<a name="2126114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's what the GetTile( x:Int, y:Int ) method or function is supposed to be telling it.  Of course accessing the array directly is fine if you prefer it that way. <br><br></td></tr></table><br>
<a name="2126122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry i'm not sure i understand. <br><br></td></tr></table><br>
<a name="2126125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Method GetTile:Int( x:Int, y:Int )<br>Return tiles[ x ][ y ]<br>End<br><br><br>Obviously you don't need it if tiles is simply an array of ints in the same class like above, but that might not always be the case. <br><br></td></tr></table><br>
<a name="2126205"></a>

<a name="2126206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've decided to put on hold having the camera system follow the character until later on in development. I am having difficulties finding the easiest way for my player to jump, i have movement left and right working but i'm finding it hard to find the code to make the player jump. <br><br></td></tr></table><br>
<a name="2126207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you google, you'll usually be able find tips for doing this kind of thing.  The language may be different but the methods are the same regardless of language. <br><br></td></tr></table><br>
<a name="2126488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elite_dtn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Couldn't find anything, or didn't really understand the code. I have moving left and right working but still stuck on how to get the character jumping. Especially how the graphical side will work with powerups. <br><br></td></tr></table><br>
<a name="2126489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't mix up the graphical size with the 'physics' side (by saying physics, I'm not implying that your game objects and characters have to care about Newton's laws).  The physics understands what's going on, the graphics just draws it.<br><br>For example, what happens when you jump?  Your character moves up, slows down, and then falls until he hits a platform below him.  Depending on the game, he might be able to change direction or even jump again while in mid-air - or he might not.  Usually he can go through platforms when moving up.<br><br>Try googling stuff like "platform game code examples" etc.<br><br>Platform games are relatively difficult for a starting project  Tetris has some aspects in common (Tetris pieces don't jump, but they fall and land, and change direction mid-flight) and might be a starting point for consideration. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
