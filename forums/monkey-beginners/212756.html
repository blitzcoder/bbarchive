<!DOCTYPE html><html lang="en" ><head ><title >help with rotation....</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >help with rotation....</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >help with rotation....</a><br><br>
<a name="2125558"></a>

<a name="2125559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dubbsta</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> im working on a tetris and cant figure out how to rotate the pieces which is an array of blocks, so i started to simultaneously work on a snake game and ran into the same problem, i drew eyes on the snake with drawcircle commands and am trying to rotate the head so the eyes stay in the right place.. the tetris pieces are png blocks the snake head is a drawn rect. pls give example if possible <br><br></td></tr></table><br>
<a name="2125564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pakz</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The last time I made a tetris a just stored each block in an array. This including the rotated versions of the blocks.<br><br>array:block1 up<br>array:block1:right<br>array:block1:down<br>array:block1:left<br>ect.<br><br>When pressing the button to rotate I just did currentblock+1 and when at the left side and one further then currentblock-=4<br><br>My blitzbasic tetris code is on the blizbasic code archives if you want to look :<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=3156" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=3156</a> <br><br></td></tr></table><br>
<a name="2125565"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dubbsta</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool thanks pakz i think gerry was saying the same thing but i wasnt to clear <br><br></td></tr></table><br>
<a name="2125566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dubbsta</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> pakz if you take requests can you do a something like this<br><a href="http://www.monkey-x.com/Apps/app.php?id=4" target="_blank">http://www.monkey-x.com/Apps/app.php?id=4</a> <br><br></td></tr></table><br>
<a name="2125572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> See this thread, especially Mark's comments (included below):<br><a href="http://www.monkey-x.com/Community/posts.php?topic=2412" target="_blank">http://www.monkey-x.com/Community/posts.php?topic=2412</a><br><br><pre class=code>
Yep, the matrix ops work 'backwards'.

I like to think of the matrix as a stack of ops, eg:

translate x,y
rotate r
scale h,v

...means 'scale by h,v' THEN 'rotate by r' THEN 'translate by x,y'.
</pre><br><br>But indeed, it's better rotate stuff 'physically' for Tetris - you would normally only use the graphic matrix operations for animation, and few Tetrises even do that, because the player wants to see the shape rotate by 90 degrees instantly. (Of course, you're strictly speaking using the same math when you rotate your array, but in a very simplified form.)<br><br>Even for a snake game, I think most people would use sprites combined with internal rotation of arrays rather than graphic rotation.<br><br>(Back when these games came out first, most of the hardware was incapable of - or at least very poorly designed for - rotating sprites anyway!)<br><br>Graphic rotation comes into its own with racing car games and such-like. <br><br></td></tr></table><br>
<a name="2125575"></a>

<a name="2125576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dubbsta</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i see! thanks Gerry. but  technically a  would matrix work if i wanted animtion?  @Pakz alot of your examples from git draw blank screens. is there a fix?<br><br>edit: the matrix seems harder than i thought <br><br></td></tr></table><br>
<a name="2125582"></a>

<a name="2125583"></a>

<a name="2125584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd advise reading that thread, and experimenting, if you want to use the graphics rotation, scaling etc.<br><br>But for Tetris, really you don't need that.  Your bricks will 'snap' into new positions when you rotate.   There will also be a fractional height difference as they drift slowly down.  <br><br>(In Tetris there is never any need for bricks to be at a fractional cell position horizontally, unless you want to make the slowest, most unresponsive Tetris in history!  Same goes for animated rotation.  And as a first approximation, you can even skip the fractional height and have them drop a full step every now and again, instead of falling smoothly.) <br><br></td></tr></table><br>
<a name="2125585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dubbsta</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol ok matrix is out. just wondering though. but didnt work out how i planned but ill leave that for the future. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
