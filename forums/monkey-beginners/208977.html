<!DOCTYPE html><html lang="en" ><head ><title >Problem with floats</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with floats</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >Problem with floats</a><br><br>
<a name="2094079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >My_Fat_Fox</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have run into a problem with floats that I can't figure it out. I must be missing something very obvious and would be very grateful if someone would point it out.<br><br>If I set a variable as a float, why can't I set it to equal a fraction? If I have a variable a:Float = 0.5 that works OK, but if I try a = 4/10 it sets a to zero. <br><br>I noticed this when trying to set different alpha values for images. SetAlpha(5/10) sets the alpha to zero, while SetAlpha(0.5) works just fine. Using a variable seemed to be the answer which is where I ran into the float problem. <br><br></td></tr></table><br>
<a name="2094080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >secondgear</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are dividing two integers, which produces an integer result. Try changing at least one of them to float: 5.0/10 or Float(5)/10 <br><br></td></tr></table><br>
<a name="2094096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >My_Fat_Fox</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks secondgear, problem solved. I knew it would be something obvious, but that never occurred to me. <br><br></td></tr></table><br>
<a name="2094116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's also the option of simply adding the ".0" suffix to the numbers. That's usually registered as a floating-point literal, so casting shouldn't be required. <br><br></td></tr></table><br>
<a name="2094100"></a>

<a name="2094101"></a>

<a name="2094112"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >My_Fat_Fox</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks ImmutableOctet(SKNG),<br><br>Perhaps this should be made clearer in the documentation for floats and integers, as it seems to be a unique quirk of Monkey's - I'm a veteran of various archaic versions of Basic (anyone remember Locoscript?) and more recently Visual Studio which I don't recall handling integers and floats like this. I can't be the first person to assume that d:Float = 3/4 would set the float to 0.75, not zero! <br><br>Hopefully this post will help others stuck feeling like an idiot knowing they have missed something very basic but unable to figure out what it is.<br><br>Is there a reason for this behavior (I'm thinking it's the way some platforms work) or is it just one of those things? <br><br></td></tr></table><br>
<a name="2094115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >muddy_shoes</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's far from a Monkey quirk. Integer division producing an integer result is how it works in most mainstream languages. <br><br></td></tr></table><br>
<a name="2094129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >My_Fat_Fox</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> muddy_shoes,<br><br>Thanks, now I feel even more foolish :-)<br><br>In my defense, Visual Basic doesn't do this, I just wrote a test program to check, but perhaps that's an overload. <br><br></td></tr></table><br>
<a name="2094170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImmutableOctet(SKNG)</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know, from what a friend of mine was saying, Visual Basic's compiler's pretty bad. He was mentioning bugs with its logarithm implementation, but the standard .NET implementation worked fine. I've been meaning to try VB, but considering I know my way around C# well enough, I haven't really needed to. <br><br></td></tr></table><br>
<a name="2094169"></a>

<a name="2094172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >My_Fat_Fox</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> VB does seem to have a lot of bugs. I wish I had just learned C# instead. <br><br></td></tr></table><br>
<a name="2094173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Legacy -vb is horrible. Modern vb.net is as good as C#, and they share most of the same code base. And this comparison will be completely out when roslyn comes out. <a href="http://msdn.microsoft.com/en-US/vstudio/roslyn.aspx" target="_blank">http://msdn.microsoft.com/en-US/vstudio/roslyn.aspx</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
