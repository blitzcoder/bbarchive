<!DOCTYPE html><html lang="en" ><head ><title >Creating 2d array</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Creating 2d array</h1><a href="forums.php" >Monkey Forums</a>/<a href="topics.php?forum=528" >Monkey Beginners</a>/<a href="#bottom" >Creating 2d array</a><br><br>
<a name="2087513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xyle</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In java I was able to do this...<br><br><pre class=code>
		mLayer1 = new int[][]{
			{7,7,0,7,7,0,0,0,0,0,7,0,7,7,7,7,7,7,0,7,7,7,7,7,7,7,7,7,7,7},
			{0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7},
			{0,0,7,7,7,7,7,7,7,0,7,0,0,0,0,0,7,7,0,0,0,0,0,0,7,0,0,7,0,7},
			{0,0,7,0,0,0,0,7,7,0,7,0,0,0,0,0,7,7,0,0,0,7,0,0,0,0,0,7,0,7},
			{0,0,7,0,0,0,0,7,7,0,7,0,0,0,0,0,7,7,0,0,0,7,0,0,0,0,0,7,0,7},
			{0,0,7,0,0,0,0,7,0,0,0,0,0,0,0,0,7,7,0,0,0,7,0,0,7,0,0,7,0,7},
			{0,0,7,0,0,0,0,7,7,0,7,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,7,0,7},
			{0,0,7,0,7,0,0,7,7,0,7,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,7,0,7},
			{0,0,7,7,7,7,7,7,7,0,7,0,0,0,0,0,0,0,0,0,0,7,0,0,7,0,0,0,0,7},
			{0,0,0,7,7,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7},
			{7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,0,0,7},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,0,7},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,0,7},
			{0,0,0,0,0,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7},
			{0,0,0,0,0,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0},
			{0,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0},
			{0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0},
			{0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0},
			{0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,7,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0},
			{0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0},
			{0,7,0,0,7,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0},
			{0,7,0,0,7,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,7,7,7,7,0},
			{0,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,7,7,7,7,0},
			{0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0}
		};
</pre><br><br>Which is great for creating tile maps, but with MonkeyX I don't see where this kind of declaration is available. I just wanted to make sure before I re-figured my map loading function.<br><br>Thanks for any help! <br><br></td></tr></table><br>
<a name="2087515"></a>

<a name="2087518"></a>

<a name="2087519"></a>

<a name="2087520"></a>

<a name="2087521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GW_</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Monkey doesn't really support this method of static arrays.<br>You have 3 basic solutions.<br>1) define the array as 1d and just calculate the offsets.<br>2) You load a csv file, split each line and fill the array at runtime.<br>3) You write some other script (in java?) to spit out the array as a list of assignment statements in monkey syntax. i.e:<br><pre class=code>
Function Loadlayer:void()
 mlayer[0][0]=7
 mlayer[0][1]=7
etc... 
</pre><br>Then just import this loading function into your project and call it at runtime.<br>I've done this for the maps in my game and it works fine. Although be warned that java has a limit of [i think] 65k statements per function.<br><br>I'm not quite sure why monkey doesn't properly support defining multi-dimensional arrays.  If you just define a 2d array, the inner arrays will not be allocated.<br>The best solution I have found is a generic multi dim array function like:<br><pre class=code>
Class tArray&lt;T&gt;
	Function Create2dArray:T[][](rows:Int, cols:Int)
		Local a:T[][] = New T[rows][]
		For Local i:Int = 0 Until rows
			a[i] = New T[cols]
		End
		Return a
	End
end
'// call with myarr[][] = tArray.Create2dArray(x,y)
</pre><br><br><br><br><br><b>OK, Ignore everything I just wrote. I need sleep..  <br>See Danilo's answer.<br></b> <br><br></td></tr></table><br>
<a name="2087516"></a>

<a name="2087517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danilo</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Replace { } with [ ]<br><pre class=code>Function Main:Int()
    Local mLayer1:Int[][] = [   [7,7,0,7,7,0,0,0,0,0,7,0,7,7,7,7,7,7,0,7,7,7,7,7,7,7,7,7,7,7],
                                [0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],
                                [0,0,7,7,7,7,7,7,7,0,7,0,0,0,0,0,7,7,0,0,0,0,0,0,7,0,0,7,0,7],
                                [0,0,7,0,0,0,0,7,7,0,7,0,0,0,0,0,7,7,0,0,0,7,0,0,0,0,0,7,0,7],
                                [0,0,7,0,0,0,0,7,7,0,7,0,0,0,0,0,7,7,0,0,0,7,0,0,0,0,0,7,0,7],
                                [0,0,7,0,0,0,0,7,0,0,0,0,0,0,0,0,7,7,0,0,0,7,0,0,7,0,0,7,0,7],
                                [0,0,7,0,0,0,0,7,7,0,7,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,7,0,7],
                                [0,0,7,0,7,0,0,7,7,0,7,0,0,0,0,0,0,0,0,0,0,7,0,0,0,0,0,7,0,7],
                                [0,0,7,7,7,7,7,7,7,0,7,0,0,0,0,0,0,0,0,0,0,7,0,0,7,0,0,0,0,7],
                                [0,0,0,7,7,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],
                                [7,7,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],
                                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],
                                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,0,0,7],
                                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,0,7],
                                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,0,7],
                                [0,0,0,0,0,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],
                                [0,0,0,0,0,7,7,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7],
                                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                                [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0],
                                [0,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0],
                                [0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0],
                                [0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,0,0,0,0,0],
                                [0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                                [0,7,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
                                [0,7,0,0,0,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0],
                                [0,7,0,0,7,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0],
                                [0,7,0,0,7,0,0,0,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,7,7,7,7,0],
                                [0,7,7,7,7,7,7,7,7,7,0,0,0,0,0,0,0,0,0,0,7,7,7,7,0,7,7,7,7,0],
                                [0,0,0,0,0,0,0,0,7,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0] ]


    Print mLayer1[2][2]
    Return 0
End</pre> <br><br></td></tr></table><br>
<a name="2087522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xyle</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome!!<br><br>Thanks for the help on that, I spent hours scouring the forums and couldn't find anything on that. I did quite a bit of trial and error, thought I did Danilo's solution, but must have had some typos.<br><br>I was getting ready to implement GW_'s advice since the majority of the forums said the same thing.<br><br>I really appreciate the help and the info on this!! <br><br>You guys rock!!! MonkeyX rocks!!! <br><br></td></tr></table><br>
<a name="2087531"></a>

<a name="2087538"></a>

<a name="2087539"></a>

<a name="2087541"></a>

<a name="2087542"></a>

<a name="2087544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >navyRod</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> just to confirm my understanding of this -- I wrote a simple example with prints<br>not sure if this is the best / most efficient  but it seems to work.  correct ?<br><br>also checking to see if I add my code example below correctly <br><pre class=code>

Strict 

Function Main:Int()
    Local i:Int,j:int
    Local str:string

	Local my2D:Int [][] = [[0,1,2,3],
	                       [4,5,6,7],
	                       [8,9,10,11],
	                       [12,13,14,15]]
	                            
	For  i = 0 To  3
	  For  j = 0 TO 3
	     str = "Array "
	     str += i + ":" + j + " = "
	     str += my2D[i][j]
             print str
	   Next
        Next
  	
   Return 0
End

</pre> <br><br></td></tr></table><br>
<a name="2087547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xyle</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That definitely looks good to me!<br><br>I did the same thing. I have a map 30x30 tiles and I use layers. So I printed out each item in the double array to make sure it was all correct.<br><br>After spending a long time looking through these forums and a lot of trial and error, Danilo's answer was the first time I've seen the ability to declare a double array like that in MonkeyX.<br><br>I appreciate all the help!!<br><br>:) <br><br></td></tr></table><br>
<a name="2088144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yoda</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I created a map-editor in my game and when pressing a certain key, it outputs (prints) me the code that I copy and paste in my monkeycode.<br>I basically use a long string that I access and manipulate. It's quite easy and keeps the code short. <br><br></td></tr></table><br>
<a name="2088186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This works very well too: <a href="https://code.google.com/p/lemongames/source/browse/collections/twodimarray.monkey" target="_blank">https://code.google.com/p/lemongames/source/browse/collections/twodimarray.monkey</a> It's an OO version of a 2 dim array that is not an array of arrays. <br><br></td></tr></table><br>
<a name="2088223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you don't care about efficiency and you want to put maps in code, strings are nice:<br><br>Local str:String[10] = New String[ 10 ]<br>   str[  0 ] = "....8888.."<br>   str [ 1 ] = "...88..88."<br>' etc.<br><br>I mean you can make maps that are easy to see visually, and convert them to whatever data structure you want. <br><br></td></tr></table><br>
<a name="2088222"></a>

<a name="2088232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Samah</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I miss DefData. :( <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
