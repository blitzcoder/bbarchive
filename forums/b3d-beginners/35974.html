<!DOCTYPE html><html lang="en" ><head ><title >World Scale Confusion !!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >World Scale Confusion !!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >World Scale Confusion !!</a><br><br>
<a name="393086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings,<br><br>I have run into a problem that I have been ignoring and now is causing me some troubles. <br><br>First a little background:<br><br>I have a tiled mesh that I am using as a terrain and have enclosed it into a skybox. I am trying to allow the user to fly both close to the terrain and high above the terrain. <br><br>Now the problem:<br><br>To allow for the "greater viewing area" when flying high, I have increase my camera's range. With tiling 3 meshes plus the skybox plus other entities I have an obscene camera range!!! I know it is good practice to limit your camera range to something small (4 decimals or less) for position accuracy and to eliminate tearing. The quesiton I have is how do I go about scaling my whole world down to a mangageable size? <br><br>Here are a few "specs"<br><br>MeshWidth-&gt; 121212 (according to Blitz's MeshWidth Command)<br>CameraRange-&gt; 1 to 559000 (Ouch I know)<br><br><br>Additionally, each of the tiled meshs are CopyMesh'd from an original source mesh.I currently do not perform any ScaleMesh or ScaleEntity calls. Overall performance is decent but I have not achieved the viewing distance that I desire. Any help would be greatly appreciated!!<br><br>Thanks<br><br>Jamie <br><br></td></tr></table><br>
<a name="393087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You shouldn't need to increase the size of your skybox as that is just set to draw first.<br><br>With regards to your mesh widths, is there any reason why you can't just scale it down? <br><br></td></tr></table><br>
<a name="393092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the reply Rob...<br><br>Maybe the code I am using for the skybox is not implemented correctly as I went back and do not see any entityorder commands. I assume this is the way to make it "draw first" and then I can draw everything else. FYI my "radius" of my sckybox is set to 440000 right now.<br><br>As far as the mesh widths, would I use scaleentity or scalemesh? One scale the entity while the other scales the meshes vertices. Not sure which one I would use. If I do scale the meshes appropriately then I assume I could turn down the camera range to an appropriate level.<br><br>Any additional help would be appreciated..<br>Thanks<br><br>Jamie <br><br></td></tr></table><br>
<a name="393096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep<br><br>Your skybox quite frankly only needs to be 1x1x1, put it in the same place as the camera, you've got 2 ways of doing this, either parent it to the camera or position it in the same place as the camera, both ways will need 1 line of code. If you position it, you need positionentity skybox,entityx(cam),entity(cam),entityz(cam) if you've parented it to the camera then in your main loop you need rotateentity skybox,0,0,0. Set the entity order so it draws first and forget about the skybox from there.<br><br>If your meshes haven't got bones in them youse the scalemesh command once before your main loop. If you're scaling thing in real time within in game loop use scaleentity. Also if your mesh has bones in it, then use scaleentity as scalemesh only scales verts and not the bones. <br><br></td></tr></table><br>
<a name="393104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I make the skybox 1,1,1 then what happens to things that are larger than the skybox? Like my terrain, how will it appear? Additionally, do I need to set the entityorder for the skybox? <br><br>Thanks for all of your help, any additional help is greatly appreciated.<br><br><br>Thanks<br><br>Jamie <br><br></td></tr></table><br>
<a name="393106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You set the entityorder of your skybox using the <a href="/b3ddocs/command.php?name=entityorder&amp;ref=goto" target="_blank">entityorder command</a><br><br>entityorder skybox,100<br><br>Entityorder stops zbuffering being used so don't worry about things that are larger, the skybox will be drawn first then your terrain and stuff will draw normally over the top of it.<br><br>Imagine the skybox as the cls.<br><br>Speaking of which, you can switch the camera cls off if you've got a skybox. <br><br></td></tr></table><br>
<a name="393129"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using skybox code from one of the B3D examples and it includes a FitMesh for the skybox. I assume I should remove that also. It appears that is where my radius was being used for sizing.<br><br>I will try the entityorder and cls off and post results.<br><br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="393130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just look at the skybox in the castle demo. <br><br></td></tr></table><br>
<a name="393142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have the skybox working now (I think at least). Now I just need to work on the scaling things. Additionally, since I am tiling meshes for terrain, I sometimes get some significant popin with the mesh tiles. I was considering fading them in or something along that lines to provide a more pleasing effect. Any thoughts?<br><br>Background:<br><br>I am using a 3 x 3 set of tiles and an infinite plane just beneth the tiles to provide a "look" of a larger terrain- like this.<br><br>   pppppppppppppppppppppppppppp<br>   pppppppppppppppppppppppppppp<br>   ppppppppp T T T pppppppppppp<br>   ppppppppp T C T pppppppppppp<br>   ppppppppp T T T pppppppppppp<br>   pppppppppppppppppppppppppppp<br>   pppppppppppppppppppppppppppp<br><br>p=plane<br>T=Tile<br>C=Camera and Tile<br><br>I have the tiles replicating once I exceed in any direction a 1 tile buffer around the camera. But when I do this the tile "pops" onto the scene and it looks kida weird. I tried using fog but it obscured the infinite plane so that the terrain then appeared out of nowhere, with the plane it atleast gives the impression of a large area of land. Any thoughts would be greatly appreciated.<br><br><br>Thanks<br><br>Jamie <br><br></td></tr></table><br>
<a name="393146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Right...<br><br>if the centre of your mesh is in the centre of mass of your mesh what you can do is this...<br><br>Say your mesh goes from -10 to 10 with a middle of 0.<br><br>Your fog range goes from 20 to 30<br><br>Your camera range from 0 to 40..<br><br>Why 40?<br>Well, your mesh will pop into view when the middle of it is within the 40 of the camera range, this means that it will extend from 30 to 50 (-10 to +10 +40).<br><br>Because your fog range is 30 your mesh will be invisible when it pops in. <br><br></td></tr></table><br>
<a name="393159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I see, but I am controling when I show or hide the meshes. Whenever I crss a tile border, I show the 9 tiles that the tile you are on touch. Therefore I am not sure how to use fog when the tiles are mostly within the range of the camera to begin with. Another thought I had was to increase the number of tiles around the camera to 25 instead of 9, but that will probably add a huge amount of polys to the rendering process..<br><br>Jamie <br><br></td></tr></table><br>
<a name="393497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like I have it all solved now... Thanks Rob!<br><br><br><br>Jamie <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
