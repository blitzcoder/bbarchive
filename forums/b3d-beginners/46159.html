<!DOCTYPE html><html lang="en" ><head ><title >Slowdown up close to a sprite?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Slowdown up close to a sprite?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Slowdown up close to a sprite?</a><br><br>
<a name="513474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone know why you get painfull slowdown when your close to a sprite or even just a quad in space???<br><br>My frame rate will drop by 60% with a sprite, or quad created in a mesh when it takes up over 40% of the screen.<br><br>Anyone know? <br><br></td></tr></table><br>
<a name="513491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it has something to do with a thing called "Fill Rate". How much the graphics card has to draw onscreen. If a texture is filling the whole screen, some lesser graphics cards can be slowed down a fair bit by that. I'm not sure if changing the texture size to something smaller would help any though... <br><br></td></tr></table><br>
<a name="513513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It happens when your Sprite is using Alpha Transparency (it's default AFAIR), and if there are multiple Alpha Sprites "obscuring" one another. So the Hardware has to calcualte everything behind it trough multiple alpha filters. Using other blendmodes like "Multiply" is probably faster. <br><br></td></tr></table><br>
<a name="513642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I am noticing it when using a quad with a mask.  I downed the texture size to 32x32 (from 128x128), changed the graphics mode to 640x480x16, and still no luck.. Getting close to it gives a massive perforamnce hit..<br><br>I have a geforce 4200 128 mb card..  <br><br>I inserted a bunch of timeing functions and found that the problem lies at the flip (I have it flip(false) at the moment and it doesnt change anything).  The flip takes 20-25 ms.  I would think if it were a fill-rate issue that a complex scene (terrain with a good amoung of texturing) would slow it down the same way, however I can do stuff like that at 1024x768 at full frames...<br><br>I am just really puzzled, Any other thoughts? <br><br></td></tr></table><br>
<a name="513646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> regardless, simply delete the particle when it's too close to the camera ( looks shite anyway :) ).. problem solved? <br><br></td></tr></table><br>
<a name="513649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, but not solved...  I am not using this on a particle system..  It's on a tree/leaf system.  If I start loosing leaves when the tree comes closer all I will see is a dead tree.  Nice effect, but it wont fit the 'lush forest' I am trying to create.  From a distance, the forest looks good, but i have to keep the leaves above viewer height so the cam doesnt get to close.<br><br>I dont want to do this though, because the 'leaves' do look good close up. <br><br></td></tr></table><br>
<a name="513658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this. Try taking the texture off altogether and see what happens. <br><br></td></tr></table><br>
<a name="513665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No change.  <br><br>I am still fiddling around with the system to see where the slowdown is taking place.<br><br>Thanks for your help though, to everyone who has responded. <br><br></td></tr></table><br>
<a name="513687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you're using windowed mode, try fullscreen instead, for test purpose. <br><br></td></tr></table><br>
<a name="513699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> well I'll be damned....  It is because of windowed mode (wow, talk about overlooking the obvious)!!!<br><br>Thanks JFK...<br><br>I am posting a test engine of this in one of the showcases.  it will output graphs for people to compare results with.<br><br>Thanks again! <br><br></td></tr></table><br>
<a name="513715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=46177" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=46177</a><br><br>There is the test, anyone care to try it out? <br><br></td></tr></table><br>
<a name="513743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure thing. <br><br></td></tr></table><br>
<a name="513936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am still waiting for a new machine since my CPU used to melt down an create a china syndrom in my appartment. So I can't test this right now. But in windowed mode there is only a fake double buffer. Flip will not swap the buffer adresses, but has to Copyrect the content of the backbuffer to the frontbuffer that is on the desktop. But it's still unbelievable that this is takeing 25 ms.<br><br>Did you really measure it like this:<br><br>t1=milisecs()<br>flip 0<br>t2=millisecs()<br>print t2-t1<br>waitkey()<br>? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
