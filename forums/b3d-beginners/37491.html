<!DOCTYPE html><html lang="en" ><head ><title >Getcolor query</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Getcolor query</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Getcolor query</a><br><br>
<a name="412601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >keyboard</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;edit&gt;Blitz+<br>using &lt;Graphics 320,240,16,0&gt;<br>the following code returns 248,252,248<br>I expected 255,255,255<br>can anyone help me with why this happens?<br><br>using &lt;Graphics 320,240,32,0&gt;<br>it returns 255,255,255<br>but white is white in 16 bits, surely?<br><br><pre class=code>
Graphics 320,240,16,0
SetBuffer BackBuffer() 
Color 255,255,255
Rect 10,10,100,100,1
GetColor 11,11
Text 10,200, " R:" + ColorRed() + " G:" + ColorGreen() + " B:" + ColorBlue() 
Flip  
WaitKey()
End 
</pre> <br><br></td></tr></table><br>
<a name="412623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paulo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> weird, i get 255,255,255 with 320,240,16,0 and 320,240,32,0 <br><br></td></tr></table><br>
<a name="412627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a graphics card thing, the way 16 bits work<br><br>Some use the 16bits as 5,5,5 (15 bits) others use 6,5,5 or 5,6,5<br><br>Put the card into 32 bit mode and everything will work fine.<br><br>I wrote a little function that you can use to get the actual colour from a graphics card if you're in 16 bit mode...<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=37070#406787" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=37070#406787</a> <br><br></td></tr></table><br>
<a name="412641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> To elaborate on what's just been said, the reason why you don't get 255 in 16 bit graphics mode is because only the highest bits are stored (5 or 6 depending on the card).  255 requires 8 bits.<br><br>255 = 11111111<br>248 = 11111000<br>252 = 11111100<br><br>The most common 16 bit mode is 565, which is 5 for red, 6 for green and 5 for blue: 5 + 6 + 5 = 16 bits.<br><br>24 and 32 bit graphics modes use all 8 bits to store each element (32 bit mode has an extra alpha channel as well as the normal red, green and blue channels). <br><br></td></tr></table><br>
<a name="412650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >keyboard</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Put the card into 32 bit mode and everything will work fine. <br></div><br><br>light bulb lights up dimly ;)<br><br>thanks everybody, and the link to the function, Rob. <br><br></td></tr></table><br>
<a name="412657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You shouldn't force graphics cards into a certain bitdepth.  If you're planning on other people playing your games then you need to account for those people that may not have a card capable of 24/32 bit graphics.  Probably not that many around here, but there will be plenty in the general public.<br><br>There are commands to check whether someone's card is capable of a certain screen resolution and bitdepth, but you can't simply tell those people with 16 bit cards that they can't play your game.<br><br>To get around it at the beginning of your code write the various colours you need to do a specific check for to a temp image (after graphics mode has been set).  Then use GetColor to read it back and store in variables for use later.  Then all you need to do is check for those stored values rather than hard-coding it.<br><br>For example in one of my early programs it wouldn't set the mask colour correctly when loading in sprites.  So, I used the GetColor command to read the top left pixel of the animstrip knowing that this would be the mask colour.  I then used this to set the right mask colour.  Hence it now works in every bitdepth.<br><br>Hope that helps. <br><br></td></tr></table><br>
<a name="412862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >keyboard</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> cheers JazzieB, it does help ;) <br><br></td></tr></table><br>
<a name="412884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made this snippet a long time ago, check it out, it will solve your problem:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=182" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=182</a> <br><br></td></tr></table><br>
<a name="412955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >keyboard</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many thanks, Wedoe. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
