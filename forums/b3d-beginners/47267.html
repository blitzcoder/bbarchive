<!DOCTYPE html><html lang="en" ><head ><title >zoom/move camera until all objects are visible</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >zoom/move camera until all objects are visible</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >zoom/move camera until all objects are visible</a><br><br>
<a name="525496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> how can i tell if an object is actually on screen?<br><br>i have a top down view of my playfield, but the camera could be rotated any which way.  <br><br>i want the camera to zoom in and out to frame the enemies on the screen.  if an enemy is off screen, zoom out.  if they are all within the screen, zoom in a little.  <br><br>i think this logic below is good, but EntityVisible(cam, enemymodel) doesn't make sense because the camera can (almsot) always see all the enemies - it doesn't tell me if they are actually on the screen though.<br><br>how can i tell if an object is actually on the screen?<br><br><br><br>Function camera_targetUPDATE()<br>		; camera target is where the camera is moving too.  not pointing at.  move camera target, and camera slides to it gradually.<br>		dx#=EntityX( camera_target,True )-EntityX( cam )<br>		dy#=EntityY( camera_target,True )-EntityY( cam )<br>		dz#=EntityZ( camera_target,True )-EntityZ( cam )<br>				<br>		TranslateEntity cam,dx*.06,dy*.06,dz*.06  ; *.mult = this is how quickly it moves towards where it is supposed to be.<br>			<br>		; zoom camera in or out depending on if the enemies are all visible. 			<br>		zoomedout=False<br>		For e.enemy = Each enemy<br>			If Not EntityVisible(cam,e\model) <br>			    MoveEntity camera_target,0,0,-.1<br>			    zoomedout=True<br>			EndIf<br>		Next<br>		If zoomedout = False  ; well, then zoom in<br>		    MoveEntity camera_target,0,0,.1<br>		EndIf<br>			<br>End Function<br><br>what would be great would be if i could get the x,y position of a 3d object as translated to the screen.  then i could zoom out a little more than necessary to be sure the entire object is on screen, not just its center. <br><br></td></tr></table><br>
<a name="525587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityInView() - used in conjunction with EntityBox, you can achieve exactly what you're trying to do.<br><br>EntityVisible merely tells you if there is a clear line of sight between two objects, regardless of which way they're facing. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
