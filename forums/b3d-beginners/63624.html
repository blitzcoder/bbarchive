<!DOCTYPE html><html lang="en" ><head ><title >loading a mesh realtime</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >loading a mesh realtime</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >loading a mesh realtime</a><br><br>
<a name="710029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> While my world editor is running if I load a mesh, there's  a signficant pause.  I can see the mesh immediately after loading it so why the long pause?  Are there any commands I should be calling after loading a mesh? <br><br></td></tr></table><br>
<a name="710047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think this happens due to directx is managing the Vram after loading something. I guess it's also performing an internal garbage collection and some caching optimations.<br><br>This is also why you should render the entire scene one time with a distant camera to cache everything before the game starts, this will prevent those pauses in the beginning of the game.<br><br>Not sure if this is a problem in a world editor.<br><br>The pauses I'm talking about are like 150 ms or so. <br><br></td></tr></table><br>
<a name="710057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Loading anything will cause a pause as the pc has to access the hard drive, which is slow. <br><br></td></tr></table><br>
<a name="710100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well he said he already sees the mesh onscreen, so the pause happens afer the harddrive access.<br><br>You may also consider ANY access is cached by both, drive cache and OS reading optimation. <br><br></td></tr></table><br>
<a name="710132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my programs, I have a delay after loading, too. It is caused by the opendialog. Maybe it is worth a shot: try loading a mesh with a direct filename instead. <br><br></td></tr></table><br>
<a name="710159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using NGUI, maybe that has something to do with it.  I'm accessing the file explorer box via menu (sort of like Windows "open file").  It returns the filename, passes it to LoadMesh, then opens the mesh.  NGUI does seem a bit slow.  Sometimes the pause is 3 - 5 seconds depending on the polycount of the mesh.  If I load the same model again, there is no pause.  Only once does it happen per model.  I don't want to precache the models since they can be imported from other locations on the hard drive.  I might have to change my mind about that though :). <br><br></td></tr></table><br>
<a name="710170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the model shows allready it would be strange if the delay is caused by loading it. My delay was caused by reading all the files in the directory. That is why it is slow on the first load, and not on the second one. However it could be a lot of things.<br>What format is the model in ? It could be a text based format. If that is the case, you might better use a binary format, like b3d or .X in bin format. <br><br></td></tr></table><br>
<a name="710171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks bram.  They are all .b3d models.  It HAS to be the GUI.  I only have one GUI window open most of the time, and when I minimize it my framerate increases from 30-ish to 60.  That's a pretty dramatic increas for one window.<br><br>Does anyone have any experience with NGUI?  I'm thinking about switching to BCF. <br><br></td></tr></table><br>
<a name="710180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps the gui uses 2d drawimage commands rather than 3d quads/sprites.  This can cause the framerate to drop on many video cards?  Although it wouldn't explain the sudden pause of loading the mesh.  What sort of polycount do the models you are loading have? <br><br></td></tr></table><br>
<a name="710182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ricky Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> With regards to 2d gui vs 3d gui - a 3d gui is not always faster.<br>I recently "upgraded" a complex gui from a 2d Blitzui one to a fully 3d one using F-ui - the 3d version has a frame rate of only half that of the 2d version !!<br>Seems there reaches a point where the overhead to create and render the 3d meshes far outstrips any slowness caused by using 2d over 3d.<br>Depends on how complex the gui is I suppose.<br><br>The best solution would be WinBlitz3d - this is incredibly fast as it uses the native windows  gui - still a few teething problems with events at the moment - especially with the xp manifest - but works well in most scenarios. <br><br></td></tr></table><br>
<a name="710186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> matty: the meshes are pretty low... around 200 - 300 polys in most instances, if that.<br><br>smiff: thanks i'll take a look at winblitz3d.  i'll do anything to keep the framerate up heh. <br><br></td></tr></table><br>
<a name="710516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Smiff... were you ever right.  WinBlitz3d is a drastic improvement so far.<br><br>What did the hooker say to the leper?  "Thanks for the tip." <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
