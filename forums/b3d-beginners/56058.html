<!DOCTYPE html><html lang="en" ><head ><title >Minimizing a window</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Minimizing a window</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Minimizing a window</a><br><br>
<a name="623706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been grappling with how to minimise the window that my 'main'  blitz application is running in to allow the application that I execute from my blitz code to be viewed automatically.  Endgraphics returns a message window stating illegal memory address.  Is it possible to resize an established window via a button driven event/code instead of via the mouse ?<br><br>i.e. at the moment inorder to view my 'other' application's window I have to minimize my original applications window.  Is there a command I can insert that is equivalent to clicking on the minimise button at the top of the window ?  I have searched the archives for this (simple ?) solution, attempted to implement some of the code I found but Blitz3D didn't seem to recognise it. <br><br>I also read that upon starting a separate application that the new app would come to the fore, it displays at the 'back' of the current window. <br><br></td></tr></table><br>
<a name="623922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> First you need a file named "user32.delcs" in your userlibs folder. THe userlibs folder is located in the blitz3d installation folder. The file "user32.decls" should be edited with notepad and contain at least:<br><br>.lib "user32.dll"<br>ShowWindow(hwnd%,nCmdShow%)<br><br>Now you can use the user32.dll's function "ShowWindow" from within Blitz. This function is used to show, hide, minimize etc. a window.<br><br><pre class=code>
graphics 640,480,32,2
const SW_SHOWMINIMIZED=6
const SW_SHOWNORMAL=1

hwnd=SystemProperty$("AppHWND")
ShowWindow(hwnd, SW_SWOWMINIMIZED)
delay 2000
ShowWindow(hwnd, SW_SHOWNORMAL)
waitkey()
</pre><br><br>also have a look at the win32 constants in the code archives, section userlibs.<br><br>Note: when your app is running in fullscreen mode, minimizing will pause it and the user will have to manually click it to reactivate it! (The only way around this is to use an external program that will reactivate it and also give it back the focus (I used "mouse_event" to simulate a mouseclick, forcing focus nomatterwhat, but that's an other, pretty hackish chapter).) <br><br></td></tr></table><br>
<a name="623926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> BTW. yes, a new App would be the topmost app, but for some reason (at least some time ago, not sure if this is still true) a Blitz app will be forced to stay ontop when you run it from the IDE. When you compile it to an Exe and run the Exe, it will act normally.<br><br>You can however manually set a window to be on top or behind other windows by using the user32.dll's function "SetWindowPos". you need to add it to the user32.decls file:<br>SetWindowPos%(hwnd%,zlevel%,x%,y%,cx%,cy%,wFlags%)<br><br>(Note: this is the Function that should be used, other functions like SetForegroundWindow etc sound tasty but don't work for some reason)<br><br>See also win32 constants for the required Parameters.<br><br>Eg:<br>show always ontop, no size or position changes:<br>showWindowPos(hwnd,-1,0,0,100,100,$40 or $203)<br><br>show always on bottom:<br>showWindowPos(hwnd,0,0,0,100,100,$40)<br><br>show normal (no forced z-position):<br>showWindowPos(hwnd,1,0,0,100,100,$40) <br><br></td></tr></table><br>
<a name="626738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the advice,  I forgot how absorbing coding in blitz can be and have been developing a (second application)spelling game for my 6 year old.<br><br>There isn't enough hours in the day..... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
