<!DOCTYPE html><html lang="en" ><head ><title >Bullet Impact</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bullet Impact</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Bullet Impact</a><br><br>
<a name="873070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xak</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings all!<br><br>I have a small problem that I can't seem to figure out how to fix. I'm developing a combat flight sim and I've gotten to the point of working on the weapons. I have it programmed so that when a bullet strikes the terrain, it triggers a small sprite animation of dust being kicked up, centered on the last known coordinate of the bullet prior to collision detection. My problem is that, due to the velocity of the bullets (25 units per loop,) the dust animation often ends up inside (below the surface) of my terrain model, and therefore, out of view. I am at a loss as to what I need to do to to ensure that the dust animation is always centered outside of the terrain geometry and inline with the bullet's path. Any ideas?<br><br>Thanks <br><br></td></tr></table><br>
<a name="873073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think what you need to do is linepick the y position of your terrain and then position the dust at this y position. Have a search for LinePick code. <br><br></td></tr></table><br>
<a name="873077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xak</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I think what you need to do is linepick the y position of your terrain and then position the dust at this y position. Have a search for LinePick code. <br></div><br><br>If I understand you correctly, you are suggesting that I determine the altitude of my terrain model at the bullet's position and move my dust animation to that altitude. However, I can only imagine that working if my terrain were completely flat. My terrain model is quite mountainous, I'm afraid. By my thinking, that would cause the undesirable effect of placing the dust animation much higher than the bullet's point of impact if the bullet penetrated into the side of a mountain.<br><br>Thanks anyway. <br><br></td></tr></table><br>
<a name="873079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think what MarkCW means is to Linepick from the last known position to the position the bullet will be in after being moved and if it collides, use the collision point as the place to  put the sprite. <br><br></td></tr></table><br>
<a name="873090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use the collisionX,collisionY,collisionZ commands as these will give you the exact position in world space of the collision between bullet and ground.  <br><br><pre class=code>
For ColID=1 to CountCollisions(BulletEntity) ;bulletentity would be defined elsewhere, I think you know what I mean here
     ColEntity=CollisionEntity(BulletEntity,ColID)
     If GetEntityType(ColEntity)=CollisionType_Scene then ;CollisionType Scene is a constant declared earlier for your ground entity type
          CreateDustCloud(CollisionX(BulletEntity,ColID),CollisionY(BulletEntity,ColID),CollisionZ(BulletEntity,ColID))
;CreateDustCloud would be a function that takes X,Y,Z coordinates and creates a dust cloud there.  
    endif 
next


</pre><br><br><br>The above code is just a simple example of how you might go about it, there are many ways to skin a cat as it were... <br><br></td></tr></table><br>
<a name="873100"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xak</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you, Matty. That was extremely helpful. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
