<!DOCTYPE html><html lang="en" ><head ><title >CloseMovie not freeing up ram</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CloseMovie not freeing up ram</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >CloseMovie not freeing up ram</a><br><br>
<a name="958487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having doubts about CloseMovie actually freeing movies from ram. For one thing, you may notice only the notes in the example actually say it's freeing it, the description itself just says it's closing it, which is vague. Also, a little testing shows it may not be getting freed. If you use DrawMovie without first using OpenMovie, Blitz crashes because the file's not in memory yet. But, if you do load it, play it, and press a key to use CloseMovie, then hit play again, it doesn't crash! So it's still in memory, right? I want to be sure about this, not have my in game movies keep piling up as you play longer and longer. <br><br></td></tr></table><br>
<a name="958618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems to act differently from normal file/streams then.<br>I would suggest maybe FreeEntity but that may not work with Movies :( <br><br></td></tr></table><br>
<a name="964480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If that's the case, then what would be a way to check the amount of ram Blitz is using? I mean if the movie's just loaded and not playing. <br><br></td></tr></table><br>
<a name="965363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I know there is no memory leak with CloseMovie. I think I remember there was one, but it was fixed. Like with other things too (eg. Meshes), you may free an entity and then it's still there in memeory, even usable. But once freed, it is ready to be overwritten by Directx, so even if it's still usable, it's absolutely unsave and will be overwritten the sooner or later.<br><br>To check if there is a memory leak, you only have to start a testapp many times and watch the systems free RAM. If it stays constant, no matter how many times your app is started then there is no leak. You may also run a test app that is opening, playing and closing a movie continously, then watch the Systems Ram and see it it shrinks. (Tho, some shrinking may be caused by RAM fragmentation, although Windows shoud defrag the RAM at runtime, at least to some degree)<br><br>As far as I know everything is fine, a least when the codec is ok. <br><br></td></tr></table><br>
<a name="965425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, thank you. I think my Systems Ram viewer thing is broken though. It looks like a heart monitor, right? I haven't seen it in ages. How do you get to it again? <br><br></td></tr></table><br>
<a name="965436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just hit Ctrl+Alt+Del, and click on the "performance" tab. The text box labeled "Physical Memory (K)" tells you how many KB of RAM are in use. <br><br></td></tr></table><br>
<a name="965645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
