<!DOCTYPE html><html lang="en" ><head ><title >Timing FPS</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Timing FPS</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Timing FPS</a><br><br>
<a name="866167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pc_tek</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been told that in Blitzmax you can tell it how many FPS you want in the graphics initialisation command.<br><br>In Blitz Basic or Blitz3D you have to use a timer (millisecs).<br><br>Is this the best way?  I use Blitz3d along with the 'VWait:flip0' command set.  It now appears that this is too fast. <br><br></td></tr></table><br>
<a name="866191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes<br>you use<br>timer = createtimer(30)<br>to make a timer for 30 frames per second<br><br>then waittimer(timer)<br><br>just before the vwait:flip() line to wait for it <br><br></td></tr></table><br>
<a name="866207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pc_tek</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, Andy!<br><br>Would this command make the program wait an extra 30 frames before the vwait?<br><br>I seem to remember a different way when I created my first game years back in Blitz. <br><br></td></tr></table><br>
<a name="866211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andy_mc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, it'll wait for the next "tick" of the timer, which ticks 30 times per second, if that tick has already passed then it'll just go straight to the next vwait. So the fastest your game will run will be 30 frames per second. <br><br></td></tr></table><br>
<a name="866291"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is this the best way? <br></div><br>No, it's one of the worst. If the computer can't keep up, the game will actually slow down, which is very unprofessional. If you have some calculations which are not done every frame, you could actually find yourself alternating constantly between different frame rates, making the game speed up and slow down, and making it virtually unplayable. Not to mention that you're artificially limiting the renderspeed, wasting CPU time, and you're unable to VSync.<br><br>The best would be what gets called "render tweening" around here, and the next best would be delta timing. Given that Bliz3D already implements render tweening for you, it's not only the best but also the easiest.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1497" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1497</a><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=9" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=9</a> <br><br></td></tr></table><br>
<a name="866391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it depends :) IMHO delta timing is easier. Many samples have been posted, use the search page. Here's however a quick description:<br><br>The game loop runs as fast as it gets, still synched with the Monitor (Note LCD Monitors often don't support VWait). While the game is running, the elapsed time between two frames is measured repeatedly. <br><br>delta# is then: Frametime / 16.67<br>So when the framerate is low then delta is higher and when the rate is high then delta is small. Now you can:<br><br>Moveentity player,0,0,stepwidth# * delta#<br><br>This way player will move with almost identic speed, regardless of the framerate.<br><br>Additionally the Delta Method allows to sync all animated Meshes simply by using delta# as the Parameter of Updateworld()! This is a very nice feature.<br><br><pre class=code>
ms=millisecs()-17
while game ; start of game loop
  ms2=ms
  ms=millisecs()
  delta#=float(ms-ms2)/16.67
  ..
  moveentity player,0,0,playerspeed# * delta#
  ..
  updateworld(delta#)
  renderworld()
  vwait:flip 0
wend
</pre> <br><br></td></tr></table><br>
<a name="866464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pc_tek</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> *head spinning* <br><br></td></tr></table><br>
<a name="866758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi pc_tek - what jfk EO-11110 is saying is that in your game loop, if the frame took a longer time than desired to render/update then all the movement, animation and other such features should be sped up, while if the frame took much shorter than desired you should move everything slower for the next frame.  <br><br>The end result is that it does not matter how fast or slow your PC is (within reason) as the objects in your wolrd will appear to move the appropriate distance over a given time.<br><br>What I like to do, which is just one way of many is to work out the 'delta' value like in the code listed above and then pass it as a parameter to your functions which update all your game logic such as movement, particles, projectiles, animation and the like. <br><br></td></tr></table><br>
<a name="867271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >itsdanreed</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad I read this, I never quite understood tweening. <br><br></td></tr></table><br>
<a name="940775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sanosake1</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> WHich would be better for someone who planned to make a networked gamed? <br><br></td></tr></table><br>
<a name="940778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> IMHO delta timing is easier. <br></div><br>If your definition of easier means having to add additional code to pretty much everything in your game, then yes, it certainly is. As an added benefit, it will produce inconsistent results with just about any physics engine and if you're really lucky, it will cause tiny errors in the physics to build up over time until the whole simulation explodes ( literally.) <br><br><div class="quote"> Additionally the Delta Method allows to sync all animated Meshes simply by using delta# as the Parameter of Updateworld()! This is a very nice feature. <br></div><br>You present this as though it's an advantage over render tweening, but it's not. The same feature is available to both methods of timing.<br><br><div class="quote"> still synched with the Monitor (Note LCD Monitors often don't support VWait) <br></div><br>Again, delta time is no more or less synced with the monitor than render tweening. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
