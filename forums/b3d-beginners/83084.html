<!DOCTYPE html><html lang="en" ><head ><title >Help with my "RPG"?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help with my "RPG"?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Help with my "RPG"?</a><br><br>
<a name="937541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nike</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi well um im trying to make a online rpg (dont know what to call it cause there is going to be a 30 people server limit) and i need help with sounds. I have a 14 second loop song called song.wav<br>and i need it to play in my code while the people are doing stuff. Here is my unfinished code:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 800,600,32,2
AppTitle "RPG" 
AutoMidHandle True 
SeedRnd(MilliSecs()) 
startup()

;Constants 


Const UPKEY=200 
Const DOWNKEY=208 
Const LEFTKEY=203 
Const RIGHTKEY=205 

;Images 
Global background=LoadImage("background.bmp")
Global wizard=LoadImage("wizard.bmp")
Global wizblur=LoadImage("wizard blur.bmp")
Global invis=LoadImage("invisable.bmp")
Global rat=LoadImage("rat.bmp")
Global wich=LoadImage("wich.bmp")
Global wichblur=LoadImage("wich blur.bmp")
Global man=LoadImage("man.bmp")
Global women=LoadImage("women.bmp")
Global mf$,name$,password$
Global curser=LoadImage("curser.bmp")



;Types 
Type player 
Field x,y 
Field hitpoints%
Field name$
End Type 

Type monster
Field hitpoints%
End Type


;Type INI 

Global player.player=New player 

;Initalization 

typeini() 

;Main Loop 
x = 50
y = 50

While Not KeyDown(1) ;Esc
Cls 


leveldraw() 

playermovement() 

leveltrans() 


HidePointer
DrawImage curser, MouseX (), MouseY ()
 

Flip 
Wend 

;Functions 

Function leveldraw() 

TileImage background

HUD()
If mf$="male"
DrawImage man,player\x,player\y
Else
If mf$="female"
DrawImage women,player\x,player\y
EndIf
EndIf 

End Function 


Function typeini() 
player\x=500 
player\y=100 
player\hitpoints%=10 
End Function 

Function playermovement() 

If KeyDown(UPKEY) 
player\y=player\y-3 
ElseIf KeyDown(DOWNKEY) 
player\y=player\y+3 
ElseIf KeyDown(RIGHTKEY) 
player\x=player\x+3 
ElseIf KeyDown(LEFTKEY) 
player\x=player\x-3 
EndIf 

End Function 

Function leveltrans() 
If player\x=&gt;1018 
player\x=player\x-1017 
ElseIf player\x=&lt;6 
player\x=player\x+1018 
ElseIf player\y=&gt;701 
player\y=player\y-700 
ElseIf player\y=&lt;5 
player\y=player\y+695 

EndIf 
End Function 

Function HUD() 
Color 250,0,0
Text 1,1,"Health: " + player\hitpoints% + ""
End Function


Function Startup()
Print "Checking for info"
filein = ReadFile("userfile.txt")
If filein &lt;&gt; 0
	name$ = ReadLine$(filein)
	password$ = ReadLine$(filein)
	mf$ = ReadLine$(filein)
	Print "Name: "+ name$ + ""
	pass$=Input("Password: ")
	If pass$=password$
	Print "Welcome!"
	Delay 2000
	Else
	Print "Wrong password."
	Delay 2000
	End
	EndIf 
Else
	Print "You are a new user, please create an account:
	Print ""
	name$ = Input$("Enter a new name: ")
	password$ = Input$("Enter a new Password: ")
	mf$ = Input("male or female: ")
	fileout = WriteFile("userfile.txt")
	WriteLine(fileout,name$)
	WriteLine(fileout,password)
	WriteLine(fileout,mf)
	CloseFile fileout
	Print ""
	Print "Thank you, you will be automatically logged in"
	Delay 3000
End If
CloseFile filein
End Function 

</textarea> <br><br></td></tr></table><br>
<a name="937562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nike</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok wow ive been working 3 stright hours and i need more help :(<br>1) I need help overwriting saved files...<br>2) How would i get my person to move screen to screen?<br>Like i have 6 screens and you need to be in one to get to another one. So i have arrows and if you hit the wasd keys (w is up,a is left ect.) how would i move? Its in level draw i think... heres new code...<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 800,600,32,2
AppTitle "RPG"
AutoMidHandle True 
SeedRnd(MilliSecs()) 
login()

;Constants 


Const UPKEY=200 
Const DOWNKEY=208 
Const LEFTKEY=203 
Const RIGHTKEY=205 




;Images 
Global mf$,name$,password$,ww$,l$,I$,m$,image$
Global castle=LoadImage("castle.bmp")
Global house=LoadImage("house.bmp")
Global background1=LoadImage("background.bmp")
Global background2=LoadImage("background.bmp")
Global background3=LoadImage("background.bmp")
Global background4=LoadImage("background.bmp")
Global background5=LoadImage("background.bmp")
Global background6=LoadImage("background.bmp")
Global wizard=LoadImage("wizard.bmp")
Global wizblur=LoadImage("wizard blur.bmp")
Global invis=LoadImage("invisable.bmp")
Global rat=LoadImage("rat.bmp")
Global wich=LoadImage("wich.bmp")
Global wichblur=LoadImage("wich blur.bmp")
Global man=LoadImage("man.bmp")
Global women=LoadImage("women.bmp")
Global curser=LoadImage("curser.bmp")
Global arrowu=LoadImage("arrow up.bmp")
Global arrowd=LoadImage("arrow down.bmp")
Global arrowr=LoadImage("arrow right.bmp")
Global arrowl=LoadImage("arrow left.bmp")
Global map=LoadImage("map.bmp")
Global inventory=LoadImage("backpack.bmp")
Global money=LoadImage("coin.bmp")
Global sword=LoadImage("sword.bmp")
Global bone=LoadImage("bone.bmp")


;Types 
Type player 
Field x,y 
Field hitpoints%
Field name$
Field items$
End Type 

Type monster
Field hitpoints%
End Type


;Type INI 

Global player.player=New player 

;Initalization 

typeini() 

;Main Loop 
x = 50
y = 50

While Not KeyDown(1) ;Esc
Cls 

If KeyDown(19)
rules()
EndIf 

If KeyDown(35)
help
EndIf 

If KeyDown(50)
Cls
DrawImage map,400,300
WaitMouse()
EndIf 




leveldraw() 

playermovement() 

leveltrans() 


HidePointer
DrawImage curser, MouseX (), MouseY ()


Flip 
Wend 

;Functions 

Function leveldraw() 
image$=background1

If image$=background1
If KeyHit(17) ;w
image$=background3
EndIf
EndIf 

If image$=background3
If KeyHit(17) ;w
image$=background5
If KeyHit(30) ;a
image$=background4
If KeyHit(31)
image$=background1
EndIf
EndIf
EndIf
EndIf 

If image$=background2
If KeyHit(17) ;w
image$=background4
EndIf
EndIf 

If image$=background4
If KeyHit(32) ;d
image$=background3
If KeyHit(31) ;s
image$=background2
EndIf
EndIf 
EndIf

If image$=background5
If KeyHit(31) ;s
image$=background3
If KeyHit(30) ;a
image$=background6
EndIf
EndIf  
EndIf 

If image$=background1
If KeyHit(32) ;d
image$=background5
EndIf
EndIf 

TileImage image$

If image$=background1
DrawImage arrowu,400,40
EndIf 
If image$=background2
DrawImage arrowu,400,40
EndIf 
If image$=background3
DrawImage arrowu,400,40
DrawImage arrowl,40,300
DrawImage arrowd,400,560
EndIf 
If image$=background4
DrawImage arrowr,760,300
DrawImage arrowd,400,560
EndIf 
If image$=background5
DrawImage arrowl,40,300
DrawImage arrowd,400,560
EndIf
If image$=background6
DrawImage arrowr,760,300
EndIf 


HUD()

If ww$="wich"
DrawImage wich,player\x,player\y
Else
If mf$="female"
DrawImage women,player\x,player\y
EndIf
EndIf
If ww$="wizard"
DrawImage wizard,player\x,player\y
Else
If mf$="male"
DrawImage man,player\x,player\y
EndIf
EndIf


End Function 


Function typeini() 
player\x=500 
player\y=100 
player\hitpoints%=10 
End Function 

Function playermovement() 

If KeyDown(UPKEY) 
player\y=player\y-3 
ElseIf KeyDown(DOWNKEY) 
player\y=player\y+3 
ElseIf KeyDown(RIGHTKEY) 
player\x=player\x+3 
ElseIf KeyDown(LEFTKEY) 
player\x=player\x-3 
EndIf 

End Function 

Function leveltrans() 
If player\x=&gt;1018 
player\x=player\x-1017 
ElseIf player\x=&lt;6 
player\x=player\x+1018 
ElseIf player\y=&gt;701 
player\y=player\y-700 
ElseIf player\y=&lt;5 
player\y=player\y+695 

EndIf 
End Function 

Function HUD() 
Color 250,0,0
Text 1,1,"Health: " + player\hitpoints% + ""
End Function


Function login()
Print "Checking for info"
filein = ReadFile("userinfo.txt")
If filein &lt;&gt; 0
	name = ReadLine$(filein)
	password = ReadLine$(filein)
	mf$ = ReadLine$(filein)
	Print "Name: " + name + ""
	pass$=Input("Password: ")
	If pass$=password$
	Print "Welcome " + name + "!"
	Delay 2000
	Else
	Print "Wrong!"
	Delay 3000
	End
	EndIf 
Else
	Print "You are a new user, please create an account:"
	Print ""
	name = Input$("Enter a new name: ")
	password$ = Input$("Enter a new password: ")
	mf$ = Input$("male or female: ")
	fileout = WriteFile("userinfo.txt")
	WriteLine(fileout,name)
	WriteLine(fileout,password$)
	WriteLine(fileout,mf$)
	CloseFile fileout
	Print ""
	Print "Thank you, you are automatically logged in"
	Delay 3000
End If
End Function 


Function help()
Cls 
Print "If you see a red arrow, use the WASD keys like arrow keys"
Print "to move to a new page. The M key is your map. Red blocks"
Print "on the map mean you can go that way. Arrows on your screen"
Print "tell you the same. Pressing the ENTER key brings you to chat."
Print "Pressing it again sends your message. The R key shows you the"
Print "rules. I is inventory and to talk to a npc, click on them."
Print "Thats it for now :). Click To continue..."
WaitKey()
End Function 

Function rules()
Cls 
Print "1) No bad lanuage."
Print "2) No useing 3rd party softwear.(ex. auto talker,skiller...)"
Print "3) No hacking or cheating."
Print "4) No creating private servers."
Print "5) Try not to be rude."
Print "Click to continue..."
WaitMouse()
End Function 

Function inventory()
End Function

</textarea> <br><br></td></tr></table><br>
<a name="937671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the sound thing, Load the sound to memory and set it to loop with:<br><br><pre class=code>
	MySound=LoadSound(Sound_Filename$)
	LoopSound MySound
</pre><br> Just before the game-loop where it should play:<br><pre class=code>
	MySoundChannel=PlaySound(MySound) 
</pre><br><br>When it's time to stop the music playing (FOr example, all players are established)<br><pre class=code>
	StopChannel MySoundChannel
</pre> <br><br></td></tr></table><br>
<a name="937690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what the meaning is of a lot of the code, it seems pretty messy to me:<br><br><pre class=code>
Function leveldraw() 
image$=background1

If image$=background1
If KeyHit(17) ;w
image$=background3
EndIf
EndIf 

If image$=background3
If KeyHit(17) ;w
image$=background5
If KeyHit(30) ;a
image$=background4
If KeyHit(31)
image$=background1
EndIf
EndIf
EndIf
EndIf 

</pre><br><br>Background1 Background2 etc. ARE ALL THE SAME Image ("background.bmp")<br>And in the snippet above, you are seeing if "image$" (A string) is equivalent to the Image handle?<br><br>Also the entrie funciton begins with:<br><pre class=code>
image$=background1

If image$=background1
If KeyHit(17) ;w
image$=background3
EndIf
EndIf 
</pre><br><br>So Image$ WILL ONLY BE = background1, meaning the only possible outcome is that w must be pressed in order to change the value of Image$ to further affect the following If's... Very unlikely anyone has reflexes quick enough to press the 'correct' keys in the 'correct' order to achieve much. <br><br></td></tr></table><br>
<a name="937698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nike</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the help but for the background thing, well i am going to make this multiplayer and load more images. For each background there is going to be something differnt on there that i use the drawimage command for. Here is a pic of the map of the game...<br><img src="http://www.theadventurescape.com/map.jpg"><br>how would you move the person screen to screen if it has an arrow on it (Red block)? For the music i need it to play the whole game. Loop after loop after loop. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
