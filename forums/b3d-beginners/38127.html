<!DOCTYPE html><html lang="en" ><head ><title >Erratic collisions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Erratic collisions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Erratic collisions</a><br><br>
<a name="421449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have my collisons rigged up in my FPS test map and for the most part they work great. <br>I'm only having major problems with the regards the player colliding with enemies. The zombie enemies are simply copies of an anim mesh kept in a Type - so far only 6 are present.<br>Now the zombies collide with the map and themselves great. They collide and slide when they hit the player which is also great..However, the player only collides with the zombies on and off at a whim. If the zombies are walking towards me then I can pretty much all of the time just walk straight through them like they are not there. If they are standing around then collisions tend to work better and if they are crouching they work better still! I've tried ellipsoid to ellipsoid, ellipsoid to box, ellipsoid to polygon - I've tried making the zombe radius's huge so I'm not supposed to even be able to get near them but I'm getting the same on and off results. <br><br>I cannot figure for the life of me why collisions are work so swell everywhere else except when it comes to checking the player with the zombies.<br><br>Can anybody please shed any light on my problem  - my hair is falling out here from trying everything I can think off...even wearing a dress whilst whipping a melon doesn't work.<br><br>Am I doing something wrong?.. is there an order to checking collisons that I don't know about or something? <br><br></td></tr></table><br>
<a name="421454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to set up TWO types of collision.<br><br>The first detects collisions between yourself/zombie.<br>The second detects collisions between zombie/yourself.<br><br>If you've only done the first one, then you will be able to stand still and the zombies will never collide with you. <br><br></td></tr></table><br>
<a name="421460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Gfk..i already have set up the collisions logically with a check for the zombie/player and player/zombie - hence my amazing big mystery - why does it only work for the zombie/player check and very, very erratically for the other one....more to the point-even if I have collided I can sort of push into the zombie and eventually go through it like it's made of marmalade or something instead of a  completely solid object. <br><br></td></tr></table><br>
<a name="421461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz cannot handle collisions between two moving objects, one has to be stationary.  The way around this was to do two update worlds or some such.<br><br>Move the zombies and then update world.  Then move the players and update world.  Finally do the renderworld.<br><br>I could be totally off - I have not done much 3D work, but somebody will probably read this and sort you out correctly! <br><br></td></tr></table><br>
<a name="421465"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dynaman - I tried the update world trick, it just makes the zombies move twice as fast...and collisons are still working only one way!...but how they heck do we get around the moving collisions then - this is a new one on me!! <br><br></td></tr></table><br>
<a name="421468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz handles moving objects colliding pretty well if you're doing sphere to sphere collision detection.  Otherwise, you'll probably want to get a third party collision detection library like nuclear glory (look in the Toolbox.)<br><br>One thing to note is that collision detection only works if the objects are not already within each other's collision radius.  You may be doing something in your code that moves entities too close together before activating collision detection.  Are you turning collision detection on/off for entities and/or are you using ClearCollisions? <br><br></td></tr></table><br>
<a name="421476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jhocking - it's the ellipsoid to ellipsoid collisions that are the worst for me in this case...I'm really wondering what to try here.... <br><br></td></tr></table><br>
<a name="421479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> if the zombies are moving twice as fast using dynaman's suggestion, I figure you must be moving them on both update worlds. If you only move them on one, I can't see any reason why it shouldn't work. <br><br></td></tr></table><br>
<a name="421482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't someone mention ages ago that there was a problem of some sort with ellipsoid collisions?  Has it ever been fixed? <br><br></td></tr></table><br>
<a name="421497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Falken - I set a global so that the zombie types are supposedly moved every other world update - however they are updated twice regardless...if I set the global to a value that means they should never ever be updated - they animate twice as fast but do not move...anyhow i can pretty much walk through them if i keep pushing - it's as if the updateworld call automatically re-runs all entity data again. <br><br></td></tr></table><br>
<a name="421583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The UpdateWorld command has an anim. parameter you can use.<br><br>UpdateWorld [anim_speed#] <br><br></td></tr></table><br>
<a name="421586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't really understand. Update world just does all the movements for everything you asked to move - If you haven't told the zombies to move I can't see how.....<br><br>What do you mean by setting the global?<br><br>Is this exactly what you're doing every loop?<br>Start:<br>Move player<br>Updateworld()<br>Move zombies<br>Updateworld()<br>Jump to start<br><br>No need to unset or reset collisions each loop. If that's what you're doing and it's still not working, the problem could be with ellipsoid collisions (I've no experience with these). I recommend using sphere (not stretched ellipsoid)collisions to start with and see if that works. How are u animating them? <br><br></td></tr></table><br>
<a name="421621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for help guys. Using the anim parameter in 'updateworld' could turn into a real pain depending on which anim sequence is playing etc..they're all mostly tweaked to different speeds - but right now they'd move twice as fast anyhow!<br>Falken that is exactly what I tried - same result, the enemies all move twice as fast... as do I.<br>I set a global variable that changed it's value after each 'updateworld' so that the enemy types 'update function' would only update on one of the values....it still went twice as fast with regards the anims...eitherway the collisions were the same - totally unreliable with moving entities.<br>This is one serious major blow to me - I really would have though such a bug would have been tackled with great speed as it's so fundemental to 3d games. However, not many people seem to have complained about it which makes me wonder does anybody have a suitable workaround?<br>I've written to support to try and get an official answer to this problem  - i.e. can we rely on Blitz collisions to perform consistently? <br><br></td></tr></table><br>
<a name="421636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry if this has been mentioned, but if your using sphere to sphere collisions, just do an entitydistance check. If need be, use diferent pivots for the distance check. Only problem is you won't get any collision response. <br><br></td></tr></table><br>
<a name="421639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes Ross I'm just figuring out now whether or not i should interpolate the player's speed to his maximum and minimum  depending on his distance to another entity, say within the range of a metre also to tie that in with his facing direction with regards the entity closest....trouble is there could be lots of zombies all around him...it's making my head pound just thinking about it...sigh <br><br></td></tr></table><br>
<a name="421640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm...I'm mighty tempted by that Nuclear glory collisions system - anybody have any experience with that at all? <br><br></td></tr></table><br>
<a name="421646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dammit - couldn't wait. I just bought the nuclear glory dll system.<br>I will be sure to let everyone know if it solves my problems or not! <br><br></td></tr></table><br>
<a name="422166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hujiklo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow! Got to say, now that I've set up basic ellipsoid collisions wih Nulcear-Glory, that it's sweeter than a honey addict's urine sample...with five sugars thrown in.<br><br>Poly-collisions suck monkey poo through a dirty drain pipe though....i set my player and zombies to use Ellipsoid to poly collison for the level and the frame rate dropped from 60 frames a second to less than 8 frames...something seriously not happening right there I think.<br>However - player to baddies is excellent...worth $15 just for the tranquil sleep it allows  - no more gnashing and grinding of teeth for me where collisons are concerned - phew!<br><br>Thanks for the help though - much appreciated <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
