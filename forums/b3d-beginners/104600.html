<!DOCTYPE html><html lang="en" ><head ><title >Bmp for Particle</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bmp for Particle</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Bmp for Particle</a><br><br>
<a name="1268806"></a>

<a name="1268807"></a>

<a name="1268808"></a>

<a name="1268809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi.. <br>When I see Particle engines they use bmp <br>Format and not png.. As a particle<br>But how can you turn bmp into transparent..?<br>Or do they just put it on a sprite? <br><br>Does it matter which format I'll be using? <br><br></td></tr></table><br>
<a name="1268820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some do use png.<br><br>If they are using bitmaps they may be simply be using additive blending in which case alpha doesnt always matter.<br><br>Alternatively they use a mask colour and set the mask to transparent.<br><br>Or they use two bitmaps.  One with color info and the other usually greyscale as a transparency map.<br><br>Those are some possibilities. <br><br></td></tr></table><br>
<a name="1268831"></a>

<a name="1268832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you load a texture, you can specify if you want to hide the black (0,0,0) texels (flag 4) or display a progressive transparency/opacity of some texels (flag 2), if the image has no alpha info, i suppose that the texels which are darker are the most transparent and the texels which are brighter are the most opaque.<br><br>You can also write the alpha of each texel after having loaded the image with flag 2. <br><br>From what i understand, png have rgba infos whereas bmp have only rgb infos.<br><br>You may be interested in this : <a href="http://www.blitzbasic.com/Community/posts.php?topic=82448" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=82448</a> <br><br></td></tr></table><br>
<a name="1268839"></a>

<a name="1268840"></a>

<a name="1268842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll check the link later remi tnx<br>And Matty  too<br><br>So Particle Effects are made by cloning sprites? <br>Are cloning sprites faster then cloning a 3d textured cube? <br><br>I made my engine by cloning mesh <br>But I suspect sprites are faster.. <br><br></td></tr></table><br>
<a name="1268844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using an entire cube is pretty wasteful in 99.9 percent of cases.<br><br>There are different techniques these days with blitz3d / directx7 rectangular quads (2 tris) which share the same surface are the way to go for speed.<br><br>Sprites will work fine until you find that performance is becoming an issue.  However if you arent using too many (in other words performance is fine on your target device) then use them.<br><br><br>The only time I would a cube as a particle is if I wanted a particular rffect that I couldnt achieve another way. <br><br></td></tr></table><br>
<a name="1268845"></a>

<a name="1268846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> U say  sprites are  heavier then a 2 tris shape?<br><br>I thought sprites  are made for speed.. <br><br>For example vegetation on a terrain,  arnt they sprites? <br><br></td></tr></table><br>
<a name="1268862"></a>

<a name="1268863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> On all computers that i have tested my prototypes/demos/templates on, using seperate meshes/surfaces (copymesh) is slower than using copies of entities (copyentity) and is slower than using one mesh/surface.<br><br>An example :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D(800,600,32,2)
SetBuffer(BackBuffer())

SeedRnd(MilliSecs())

Global Camera = CreateCamera()
CameraRange(Camera,0.1,100)
PositionEntity(Camera,0,1.65,0)

DLight = CreateLight(1)
LightColor(DLight,250,250,250)
PositionEntity(DLight,0,-1000,1000)
RotateEntity(DLight,45,0,0)

AmbientLight(050,050,050)

XMesh = CreateCube()
ScaleMesh(XMesh,1.0/2,1.0/2,1.0/2)
PositionMesh(XMesh,0,1.0/2,0)
HideEntity(XMesh)
DebugLog("SurfacesCount = "+CountSurfaces(XMesh))
DebugLog("VerticesCount = "+CountVertices(GetSurface(XMesh,1)))
DebugLog("TrianglesCount = "+CountTriangles(GetSurface(XMesh,1)))

MaxCountV% = Floor(32000.0/CountVertices(GetSurface(XMesh,1)))
DebugLog("MaxCountV = "+MaxCountV)

MaxCountT% = Floor(32000.0/CountTriangles(GetSurface(XMesh,1)))
DebugLog("MaxCountT = "+MaxCountT)

If(MaxCountV &lt; MaxCountT)
 MaxCount% = MaxCountV
ElseIf(MaxCountT &lt; MaxCountV)
 MaxCount% = MaxCountT
Else
 MaxCount% = MaxCountV
EndIf
DebugLog("MaxCount = "+MaxCount)

Global ThingsCount%
Dim ThingMesh(MaxCount)

Global AreaMesh = CreateMesh()

;test to display meshes with copymesh (separate meshes)
ThingsCount = 0
For i% = 1 To MaxCount
 ThingsCount = ThingsCount + 1
 Id% = ThingsCount
 ThingMesh(Id) = CopyMesh(XMesh)
 RotateMesh(ThingMesh(Id),0,Rnd(-180,180),0)
 PositionMesh(ThingMesh(Id),Rnd(-10,10),Rnd(-7.5,7.5),Rnd(15,100-0.51))
Next

RenderStart% = MilliSecs()
RenderWorld()
RenderTime% = MilliSecs() - RenderStart
Color(255,255,255)
Text(0,0,"Triangles = "+TrisRendered())
Text(0,20,"RenderTime with separate meshes = "+RenderTime)
Text(0,40,"Press any key to continue")
Flip()
WaitKey()

For Id% = 1 To ThingsCount
 FreeEntity(ThingMesh(Id))
 ThingMesh(Id) = 0
Next

;test to display meshes with copyentity (copies of a mesh)
ThingsCount = 0
For i% = 1 To MaxCount
 ThingsCount = ThingsCount + 1
 Id% = ThingsCount
 ThingMesh(Id) = CopyEntity(XMesh)
 RotateEntity(ThingMesh(Id),0,Rnd(-180,180),0)
 PositionEntity(ThingMesh(Id),Rnd(-10,10),Rnd(-7.5,7.5),Rnd(15,100-0.51))
Next

RenderStart% = MilliSecs()
RenderWorld()
RenderTime% = MilliSecs() - RenderStart
Color(255,255,255)
Text(0,0,"Triangles = "+TrisRendered())
Text(0,20,"RenderTime with copies of a mesh = "+RenderTime)
Text(0,40,"Press any key to continue")
Flip()
WaitKey()

For Id% = 1 To ThingsCount
 FreeEntity(ThingMesh(Id))
 ThingMesh(Id) = 0
Next

;test to display meshes with merged meshes merged surfaces (one mesh with one surface)
ThingsCount = 0
For i% = 1 To MaxCount
 ThingsCount = ThingsCount + 1
 Id% = ThingsCount
 TMesh = CopyMesh(XMesh)
 RotateMesh(TMesh,0,Rnd(-180,180),0)
 PositionMesh(TMesh,Rnd(-10,10),Rnd(-7.5,7.5),Rnd(15,100-0.51))
 AddMesh(TMesh,AreaMesh)
 FreeEntity(TMesh)
Next

RenderStart% = MilliSecs()
RenderWorld()
RenderTime% = MilliSecs() - RenderStart
Color(255,255,255)
Text(0,0,"Triangles = "+TrisRendered())
Text(0,20,"RenderTime with meshes merged in one mesh with one surface = "+RenderTime)
Text(0,40,"Press any key to continue")
Flip()
WaitKey()

FreeEntity(AreaMesh)
AreaMesh = 0

End()
</textarea> <br><br></td></tr></table><br>
<a name="1268864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> So bottom line..  Which is the goal of my questions.. <br><br>What should I use for Particle engine? <br>For example how does ParticleFX works..? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
