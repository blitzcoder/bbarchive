<!DOCTYPE html><html lang="en" ><head ><title >Another Text Box...I need help...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Another Text Box...I need help...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Another Text Box...I need help...</a><br><br>
<a name="875857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I'm trying to do a TextBox Thing sort of like DarkShadowWings...Except using an image for the box. I'd like to have word wrap too...It's a pain to do 16 chars per line,no more and have to print a million times.<br>I have no idea where to even start.<br>I guess I'm still a noob. :)<br><br>So could anybody help me????????<br>P.S.The reason I'm doing this is for an RPG I'm working on.<br><br>EDIT:<br>You know, the kind in videogames when youre talking? <br><br></td></tr></table><br>
<a name="875864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you looked in the code archive ?<br><a href="http://www.blitzmax.com/codearcs/codearcs.php?cat=5" target="_blank">http://www.blitzmax.com/codearcs/codearcs.php?cat=5</a> <br><br></td></tr></table><br>
<a name="875875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just checked.Much to my dismay, there was nothing. <br><br></td></tr></table><br>
<a name="875885"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, there is some code for a text box:<br><a href="http://www.blitzmax.com/codearcs/codearcs.php?code=2022" target="_blank">http://www.blitzmax.com/codearcs/codearcs.php?code=2022</a><br>Remove the clipboardcommands to see it running.<br><br>As for breaking a string in series of 16 chars, use Mid$. It returns a specified part of a string.<br><pre class=code>
t$ = "12047ghikjghdfsakjhgkjdsaliuryewiuyrioewqiroye q ruiewoq iurye wiqyrewiuqoyreiuow qyriue"

For i = 1 To Len(t$)
	Print Mid$(t$, i, 16)
	i = i + 15
Next
</pre><br><br>To search a string for spaces, use Instr(). It searches for a string in another string and returns the location where it was found. <br><br></td></tr></table><br>
<a name="875888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not input textbox, I mean the kind like in RPGs where in battles, it says stuff like "You cause the enemy 10 damage" <br><br></td></tr></table><br>
<a name="875891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I should read better. Try to combine the above with some Millisecs() timeout routine to show the text line-by-line.<br><pre class=code>
timeout = MilliSecs()

While Not KeyHit(1)

	If MilliSecs() &gt; timeout + 500 Then
		timeout = MilliSecs()
		Print timeout
	End If
	
Wend
</pre> <br><br></td></tr></table><br>
<a name="875915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 16 was an example. :) Im getting it to work<br>For some reason it only works with print...I can't use text? <br><br></td></tr></table><br>
<a name="875942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Text doesn't work because you specify where the text is put onscreen<br><br>I tried putting Locate 0,0 into the mix and it puts it all on one line.<br><br><pre class=code>
t$ = "12047ghikjghdfsakjhgkjdsaliuryewiuyrioewqiroye q ruiewoq iurye wiqyrewiuqoyreiuow qyriue"

For i = 1 To Len(t$)
        Locate 0,0
	Print Mid$(t$, i, 16)
	i = i + 15
Next
</pre> <br><br></td></tr></table><br>
<a name="875982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use Text, use Flip to show it:<br><pre class=code>
Graphics3D 800, 600, 0, 2
SetBuffer BackBuffer()

Repeat

Cls
Text 400, 300, "test" + Rand(0, 360)
Flip

Until KeyHit(1)

End
</pre> <br><br></td></tr></table><br>
<a name="876054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not exactly...It doesnt word wrap with text.I'm gonna just use print for now. If you can help with text, by all means, tell me. thanks! <br><br></td></tr></table><br>
<a name="876158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed with Text, you specify a location. In order to 'print' multiple lines using Text, you'll need an increasing var. for the y-position of the text:<br><pre class=code>
Graphics 800,600,0,2
t$ = "12047ghikjghdfsakjhgkjdsaliuryewiuyrioewqiroye q ruiewoq iurye wiqyrewiuqoyreiuow qyriue"

yy = 15
For i = 1 To Len(t$)
	Text 400, yy, Mid$(t$, i, 16), 1, 1
	i = i + 15
        yy = yy + 12
Next
</pre> <br><br></td></tr></table><br>
<a name="876199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay. I can use text now. Thanks for helping Warner. <br><br></td></tr></table><br>
<a name="876213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm...The word wrap...It needs a little work. can you help me make it wrap the individual words? I think that might be complicated. <br><br></td></tr></table><br>
<a name="876300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to draw your text, word by word. To do that, you get the width of each character and add them up. You also have a start x co-ord. You keep check to see if the word length + the current X co-rd is greater than the screen width. If so, move your Y drawing co-ord down a line, and reset your current x co-ord to 0 again. <br><br></td></tr></table><br>
<a name="876315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Huh?<br>Okay, I get you to some extent, but I have NO idea of how to seperate the words.<br>EDIT:<br>What commands do i use?<br>EDIT 2:<br>Seriosly, ross, help. I'm lost. <br><br></td></tr></table><br>
<a name="876373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I'm going to post my code, because I'm seriously lost on how to word wrap properly.<br>here it is and im putting my money on a total re-write.<br><pre class=code>
Function TextBox(t$)
font = LoadFont("Blue Highway Bold",23,False,False,False)
SetFont font
Local textboximg = LoadImage("TextBox.bmp")
DrawImage textboximg,320,65
yy = 5
For i = 1 To Len(t$)
	Text 75, yy, Mid$(t$, i,45)
	i = i + 44
    yy = yy + 25	
Next
Flip
End Function
</pre><br><br>ummm....what do i need to rewrite, if not all of it? <br><br></td></tr></table><br>
<a name="876404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> For this purpose, there is more than one solution, as seen more often in programming. To solve an issue like this, think about how you would do it yourself. How can you tell words apart from each other ? I would think that is the space between the words. So logically, the solution lies not in breaking up the sentence into words, but into finding the spaces in the sentence. Perhaps you could use this code as a base:<br><pre class=code>
t$ = "this is a sentence"
For i = 1 to len(t$)
char$ = Mid$(t$, i, 1)
Print char$
Next
</pre><br>It breaks down the sentence into single characters. <br><br></td></tr></table><br>
<a name="876435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> next: here is the new code;Not wrapping the text.<br><pre class=code>Function TextBox2(t$)
font = LoadFont("Blue Highway Bold",23,False,False,False)
SetFont font
Local textboximg = LoadImage("TextBox.bmp")
DrawImage textboximg,320,65
yy = 5
xx = 75
For i = 1 To Len(t$)
	char$ = Mid$(t$,i,1)
	If char$ = " "
		If StringWidth(Mid$(t$,i,16) + xx) &gt; ImageWidth(textboximg) + 75
			yy = yy + 25
			xx = 75
		EndIf
	EndIf
	Text xx,yy,char$
	xx = xx + 10
Next
Flip
End Function
</pre><br><br>I have a feeling its because of this:<br><pre class=code> 
If StringWidth(Mid$(t$,i,16) + xx) &gt; ImageWidth(textboximg) + 75
</pre><br>but that is all I could think of.<br>is there something else I could do to calculate it? <br><br></td></tr></table><br>
<a name="876452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm .. I think in the first part, the bracket is wrong. Your adding xx to the string itself before calculating its width.<br>--&gt;StringWidth(Mid$(t$,i,16)) + xx<br>However, I don't think this method would do what you want. It now takes the width of 16 characters, then adds 'xx' to it, and compares that to the width of the textboximage. But youre using xx to print out the string one char at the time. <br>So, instead, as a next sub-goal, I would suggest to try wrapping each word that is found. When that works you can implement the width-comparisation.<br>To achieve wrapping every word, store every character that is not a space into a temp. string. Then, when a space is found, this string is printed at once, and then cleared. Ie. Print temp$: temp$ = "" <br><br></td></tr></table><br>
<a name="876670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I managed the individual word wrap, but when I add in the code for comparing it to the width, its all messed up and does not wrap at all.<br>why? <br><br></td></tr></table><br>
<a name="876688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lets see .. if you have individual words, then put them in a variable and add that to another variable for instance result$<br><pre class=code>
if mid$(t$, i, 1) = " " then       
   result$ = result$ + word$ + " "    
else                                   
   word$ = word$ + mid$(t$, i, 1)      
end if
</pre><br>Next, before adding the new word to the final result, check if the results length has already surpassed the 16 chars.<br>So, in the above example, replace result$ = result$ + word$ with this<br><pre class=code>
if len(result$ + word$) &gt; 16 then   
    print result$
    result$ = word$
else
    result$ = result$ + word$ + " "
end if
</pre><br>or<br><pre class=code>
result$ = result$ + word$ + " "
if len(result$) &gt; 16 then
   print result$
   result$ = ""
end if
</pre> <br><br></td></tr></table><br>
<a name="876768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> i can email you the code i did for dark shadow wing if you want <br><br></td></tr></table><br>
<a name="876799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT:<br>Okay, send me the code. <br><br></td></tr></table><br>
<a name="876839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay,send me the code,ross.<br>From looking at the posts, Im guessing there is a bit of XML involved with it. I know html, not XML, but they are similar,so i should be able to work with it fine. <br><br></td></tr></table><br>
<a name="877496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry man, i've not been at my computer, so to speak, so haven't emailed the code. I'll def do it when i get in :o) Promise! <br><br></td></tr></table><br>
<a name="877583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> K. Thanks for letting me know.<br>Send it when you can. <br><br></td></tr></table><br>
<a name="877900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross, can you send it soon? I won't be able to make any progress in the field without the textbox.Talking is next, then scrolling. <br><br></td></tr></table><br>
<a name="878333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did send it... It's sitting in my sent box. Odd, i'll re-send it again. <br><br></td></tr></table><br>
<a name="878362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weird...I still didnt get it...<br>send it to cpdying08@...<br>I should be able to get it there.<br>EDIT: I think the attachment is too big. sometimes I cant get a message if the attachment is too big. <br><br></td></tr></table><br>
<a name="878382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are sending it to jon08@... , right?<br>No spelling errors?<br>EDIT: dont click on the mailto:blah blah.<br>Open up an email program and do it manually.<br>EDIT2:<br>Let me know when you sent it. <br><br></td></tr></table><br>
<a name="878400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i was in my work when writing that. I've sent it again :o) <br><br></td></tr></table><br>
<a name="878464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. I got the mail. I do need it in 2d. How do I implement it? There are a lot of entity commands.<br>EDIT:Okay,I'm lost. I have no idea what functions are what, and how to get rid of the entity stuff. Can you help, ross? <br><br></td></tr></table><br>
<a name="878482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's the included function you need to worry about "code.bb". The main.bb is just an example code to use the functions.<br><br>What this code does, it read in a text data statement. It then draws this text string to a texture, word wrapping it as it goes, with controllable speed and outline etc etc<br><br>The only thing you really need to change, is the texture to an image, and draw the image at the correct location. I'll knock up an example in 2d for ya. <br><br></td></tr></table><br>
<a name="878485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> K. I know its code.bb. I already know how to setup more text with Data.<br>Its just all the entities that confuse me.<br>EDIT:<br>How long do you think it will take to make the code 2d?<br>I reeeeeally need this. I'd appreciate it if you could get it done quickly. <br><br></td></tr></table><br>
<a name="878580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was pretty late last night. I'll have it for sometime today. Couldn't you be getting on with other parts of your game just now ;o) <br><br></td></tr></table><br>
<a name="878611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah. I'll work on the map scrolling.Send it when its ready. <br><br></td></tr></table><br>
<a name="878940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it ready yet?<br>EDIT:<br>Ross, I reeeeeeeeally need it.I just finished scrolling,and I need to work on  talking.<br>I also need a seperate textbox for the battles that does not have the "Press enter to continue" and allows me to input text into the function that doesn't use data statements. <br><br></td></tr></table><br>
<a name="879000"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not experienced in 3d, so I don't know 2d eqivelant commands.<br>Please, I need it soon.If you could send it in 3 days or less, I'd be greatful. :)<br>As long as you send it along at some point, I'm planning on putting you in the credits. <br><br></td></tr></table><br>
<a name="879113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, i'll knock it up in 2d for you, but really, if your intending in making a game, it's not THAT difficult to change it, so please don't make time demands, i got other things happening in my life :o) <br><br></td></tr></table><br>
<a name="879142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sorry.Ok, finish it whenever.But I really am NOT experienced in 3d, and I have no idea what commands do what(the blitz ones and functions.)And I understand. I'm on the computer a lot, but its not my WHOLE life. I'll look at it again.But could I have a hint as with what to do with all the mesh stuff?And what is the main command that triggers all the others? <br><br></td></tr></table><br>
<a name="879396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> The mesh stuff has nothing really to do with it. I'll strip it down for you instead, that way you'll know how it works, as the actual word wrapping and drawing part of the text is in 2d. :o) <br><br></td></tr></table><br>
<a name="879487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.Its just I guess a lot of stuff I dont know what it is, so I don't know what to do with it.If you strip the uneeded commands, I should be able to do it.Thanks! <br><br></td></tr></table><br>
<a name="880215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross, have you sent it yet? I haven't got it. <br><br></td></tr></table><br>
<a name="880293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, well i'm looking through it and it takes a fair bit of setting up. So how about i write you what you need?<br><br>I know you need so far:<br><br>- 2d<br>- text that wraps to fit a window<br><br>So, you'd first off need a window width and height. 2d i easier i guess to do this, as you don't need to worry about texture sizes.<br><br>So, what else do you need? I may as well code it, cause stripping this out isn't a task i fancy much. Poor coding has resulted in something that relies on globals in functions, which isn't great... <br><br></td></tr></table><br>
<a name="880314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok,Here is what I need:<br>-2d<br>-text wrap<br>-changeable colors of text<br>-a window for battles that scrolls,it would be easier to use<br>-need it for 640x480<br>-Maybe not use data at all, instead input text into a function<br><br>Can you do that? I'll help in any way I can. <br><br></td></tr></table><br>
<a name="880523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> ross, i just edited the frame and text_texture. here are the new ones:<br>frame:<br><img src="http://i282.photobucket.com/albums/kk254/CpDying/frame.png"><br>text_texture:<br><img src="http://i282.photobucket.com/albums/kk254/CpDying/text_texture.png"> <br><br></td></tr></table><br>
<a name="880537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, how would you store the text data before the game is played? The data statements are simply read into each paragraph type objects :o) Thanks for the backround. <br><br></td></tr></table><br>
<a name="880667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like this:<br><pre class=code>
If ImagesCollide(blah)
TextBox("Hi, this is a test",blah,blah)
endif
</pre><br>Battles are kind of random, so data would not be a good choice.<br>oh yeah, a couple more things:<br><br>-Adjustable text speed<br>-No "press enter to continue" for battles. <br><br></td></tr></table><br>
<a name="880778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh right that kind of thing. nps. <br><br></td></tr></table><br>
<a name="881037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, do you think you can do it? I'll help to the best of my extent. <br><br></td></tr></table><br>
<a name="881419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, i'm half way there. Got some time, so you should have it tonight hopefully :o)<br><br>Another point i thought of. Does this window just accept text? Or does the text you pass across to the function, get added on?<br><br>And is it just a battle window you need? <br><br></td></tr></table><br>
<a name="881432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> no, both battle and field, the battle just needs to be altered a little to work better with random stuff.<br>I think data would be easier for the field.I couldnt accidentally erase stuff. haha.<br>hmm. added on would be good.But after no text is used anymore, like a battle is finished, the text is erased from the memory. <br><br></td></tr></table><br>
<a name="881446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, the way i have this working is as follows:<br><br>2 window modes:<br><br>0 = continuous mode. You call RC_text_box("blah blah") to add this text to a window. My code will add a terminator code onto the end of this. ¬ will be that code, so you can't use that character in the text you pass across.<br><br>When you wish to close the battle window, simply call RC_close_window()<br><br>1 = One Shot mode. You call RC_text_box("blah blah"). This text scrolls until finished. You can query the status of this textbox with RC_text_box_mode.<br><br>Global RC_text_box_status = 0 	; 0 = no text_box showing<br>								; 1 = window opened<br>								; 2 = waiting advance key<br>								; 3 = waiting new text<br>								; 4 = force window close (user must set this in code)<br><br>It will return 2 if it's waiting for the advance key to be pressed.<br><br><br>I don't know about the data thing. It's a little too much to implement with current time restraints. No reason you can't implement a data system of your own and  send the new text strings into the RC_text_box function. <br><br></td></tr></table><br>
<a name="881474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds good. Did you send it? Its not in my email...<br>EDIT:<br>One more thing:can I change the text mode whenever?If I can't, I'll need to build it in. shouldn't be too hard though. <br><br></td></tr></table><br>
<a name="881477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can change the text mode yeah. I have included commands to clear the text box and reset it. And close it. I won't have time to finish it tonight, but to prove i have actualy done something, here is the code ;o)<br><br>I'll def have it with you tommorow. Initial tests looks good :o)<br><br>The below sample won't run without my additional setup code.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;status of text box
Global RC_text_box_status = 0 	; 0 = no text_box showing
								; 1 = window opened
								; 2 = waiting advance key
								; 3 = waiting new text
								; 4 = force window close (user must set this in code)

Global RC_window_mode = 0		; 0 = window that stays open and just accepts new text.
								;     Closes on request by setting RC_text_box_status to 4
								; 1 = window that opens, displays text, waits for advance key, then closes.

; NOTE: The window mode 0, needs to have line terminator codes so the code can start a new line for text passed.
	  ; In this example, the ¬ character is used. so:
	
;	"Player receives 10 damage!¬"

	  ; Would cause the next line of text to be drawn on a new line.

Global RC_text_box_x = 144 ; x position of the textbox
Global RC_text_box_y = 300 ; y position of the textbox
Global RC_text$ ; the text displayed in the window.

Global RC_text_box_speed = 10
Global RC_xpos = 0			; pixel position
Global RC_ypos = 0			; pixel position
Global RC_char = 0			; the current character position in the string.
Global RC_char_height 		; the char height is read from the font right away.
Global RC_char_width		; the char width is read at each letter, as each character has a different pixel width.
							; this is compared after every character is drawn to the line width. If a word is over
							; the line width, then the ypos gets incremented by the (char height + line spacing),
							; and the xpos gets reset.
Global RC_char_size		; character point size.
Global RC_text_font

Global RC_line_space = 5 	  ; pixel distance of line spacing. Can be minus.
Global RC_char_space = 5 ; pixel distance between each letter. Can be minus.

Global RC_x_border = 10
Global RC_y_border = 10

Global RC_text_R = 170	; Red colour for the Text
Global RC_text_G = 170	; Green colour for the text
Global RC_text_B = 170	; Blue colour for the text

Global RC_mask_R = 255
Global RC_mask_G = 255
Global RC_mask_B = 0

Global RC_text_box_background 
Global RC_text_box_height
Global RC_text_box_width
	
Global RC_text_image
							; the image the text is drawn to. For scrolling what happens is: 
							; 1. The image is drawn onto RC_text_image_temp, to copy it.
							; 2. the image is cleared, via a rect draw the same colour as the mask
							; 3. RC_text_image_temp is drawn back to RC_text_image, but slightly offset, to give
							;    the impression of scrolling
							
Global RC_text_image_temp 


Function RC_text_box_init()

	RC_text_box_background = LoadImage("text_box_background.png")
	RC_text_box_height = ImageHeight(RC_text_box_background) - (RC_y_border * 2)
	RC_text_box_width = ImageWidth(RC_text_box_background) - (RC_x_border*2)
		
	RC_text_image = CreateImage(ImageWidth(RC_text_box_background),ImageHeight(RC_text_box_background))
								; the image the text is drawn to. For scrolling what happens is: 
								; 1. The image is drawn onto RC_text_image_temp, to copy it.
								; 2. the image is cleared, via a rect draw the same colour as the mask
								; 3. RC_text_image_temp is drawn back to RC_text_image, but slightly offset, to give
								;    the impression of scrolling
								
	RC_text_image_temp = CreateImage(ImageWidth(RC_text_image),ImageHeight(RC_text_image))
	
		
	MaskImage RC_text_image,RC_mask_R,RC_mask_G,RC_mask_B
	MaskImage RC_text_image_temp,RC_mask_R,RC_mask_G,RC_mask_B
	RC_clear_text_image()

	RC_set_font("arial",10,True)
	RC_char_height = StringHeight("O")
	
End Function
	
Function RC_set_font(font$,size,bold)

	RC_char_size = size
	RC_text_font = LoadFont(font$,size,bold)
	SetFont RC_text_font

End Function

; Function to open up a new window displaying the passed across text
; only call once. The Update_Text_Box() function will update the text_box
; 0 = continuous
; 1 = One Shot

; NOTE: only really used for mode 0, because mode 1 will be displaying text automatically.
Function RC_open_text_box(mode)

	RC_window_mode = mode
	
End Function

;This function opens up a text_box if unopened.
;
; If a text box is already open, it passes the string to the opened text box. Only in mode 0.
Function RC_text_box(text_$)

	If RC_window_mode = 0 Then ; continuous mode.

		If RC_text_box_mode = 3 Then ; if awaiting new text
			RC_text = RC_text + text_
		ElseIf RC_text_box_mode = 0 Then ; if no window opened

			RC_text_box = 1
			RC_text = text_
		ElseIf RC_text_box_mode = 1 Then ; if window already opened
			RC_text = RC_text + text_
				
		End If

	ElseIf RC_window_mode = 1 Then ; One Shot mode.

		If RC_text_box_status = 1 Then ; window already opened...
			RC_reset_text_box()
			RC_text = text_
		Else
			RC_text_box_status = 1
			RC_text = text_
		End If

	End If
	
End Function
	


Function RC_update_text_box()


	If RC_text_box_status = 1 Then ; text box open

		RC_draw_text_box()
		DebugLog(" Drawing textbox")
		RC_update_text()

	ElseIf RC_text_box_status = 2 Then

		RC_draw_text_box()
		DebugLog(" Drawing textbox")

		;RC_check_advance()	; Check to see if the advance key has been pressed.

	ElseIf RC_text_box_status = 3 Then
		
		RC_draw_text_box()
		DebugLog(" Drawing textbox")

		; waiting for more text to arrive
		
	End If
	
End Function
	
Function RC_draw_text_box()

	DrawImage RC_text_box_background,RC_text_box_x,RC_text_box_y
	DrawImage RC_text_image,RC_text_box_x,RC_text_box_y
	
End Function

Function RC_update_text()

	Local status

	RC_char = RC_char + 1
	If RC_char &gt; Len(RC_text) Then
		RC_char = RC_char -1
		RC_text_box_status = 3
	Else
		RC_xpos = RC_xpos + StringWidth(Mid(RC_text,RC_char,1)) + RC_char_space
		DebugLog("X pos - "+RC_xpos)
		If Mid(RC_text,RC_char,1) = " " Then ; if there is a space detected, then the code must look ahead
											 ; and see if the next word will fit in the line.

			status = RC_check_next_word(RC_text,RC_char,RC_text_box_width)
	
			Select status
			
				Case -1  ; end of string. No more words left. no terminator
				
					If RC_window_mode = 1 Then  ; if window mode One Shot
			
						RC_text_box_status = 2  ; set to waiting for advance key
			
					ElseIf RC_window_mode = 0 Then 	; if window mode Continuous
					
						RC_text_box_status = 3	; waiting more text
						RC_new_line() 			; Move to a new line
						
					End If
				
				Case 0 ; need to start new line, text won't fit.
				
					RC_new_line() ; move to new line
					
				Case 1 ; room on this line
				
				Case 2 ; terminator character.
				
					If RC_window_mode = 0 Then ; If window mode is continuous.
						RC_new_line()
					End If
					
				Case 3 ; special code found. Ignore the characters.
					
					
				
			End Select
		
		Else
			
			RC_draw_text(Mid(RC_text,RC_char,1),RC_xpos,RC_ypos,RC_text_R,RC_text_G,RC_text_B,True) ; perform outline.
			
		End If

	End If

End Function

; Parameters
; ----------
; Temp_text - the text to be drawn
; x         - the x co-ord of the text to be drawn
; y         - the y co-ord of the text to be drawn
; mR        - Red color of the RGB
; mG        - Green color of the RGB
; mB        - Blue color of the RGB
; outline   - TRUE for outline to be drawn

Function RC_draw_text(temp_text$,x,y,mR,mG,mB,outline)


			x = x + RC_border_x
			y = y + RC_border_y
			

			SetBuffer ImageBuffer(RC_text_image)
			
			r_br# = mR * 0.6
			r_bl# = mR * 0.6
			r_tl# = mR * 0.6
			r_tr# = mR * 0.6

			g_br# = mG * 0.6
			g_bl# = mG * 0.6
			g_tl# = mG * 0.6
			g_tr# = mG * 0.6

			b_br# = mB * 0.6
			b_bl# = mB * 0.6
			b_tl# = mB * 0.6
			b_tr# = mB * 0.6


			If outline = True Then
				Color r_br,g_br,b_br
				Text x+1,y+1,temp_text; bottom right
	
				Color r_bl,g_bl,b_bl
				Text x+1,y-1,temp_text
	
				Color r_tr,g_tr,b_tr
				Text x-1,y+1,temp_text
	
				Color r_tl,g_tl,b_tl
				Text x-1,y-1,temp_text
			End If

			Color mR,mG,mB
			Text x,y,temp_text

			SetBuffer BackBuffer()

End Function

Function RC_check_next_word(text_$,pos,line_width)


	Local temp_text$ = ""
	Local temp_char = 0
	Local loop_exit = 0
	
	Repeat
	
		temp_char = temp_char + 1
		If pos+temp_char &gt; Len(text_) Then
			loop_exit = 1
		End If
	
	Until Mid$(text_,pos+temp_char,1) = " " Or loop_exit = 1 Or Mid$(text_,pos+temp_char,1) = "¬"
	
	temp_text = Mid$(text_,pos,temp_char)   ; set temp_text to the currently found word

	If Mid$(temp_text,1,6)= " &lt;RGB(" Then   ; check the first 6 letters. If they are " &lt;RGB(" then 
		RC_check_RGB(temp_text$)				; check the RGB code to see if it's valid.
		RC_char = RC_char + 6 ; skip the character pointer over this text.
		Return 3 ; special control text found. Return 3
	End If

	If temp_char = 1 And loop_exit = 1 Then ; if nothing found, and string length = 1 then end of text
		temp_text = ""
		Return -1
	End If

	If line_width + StringWidth(temp_text) &gt; RC_text_box_width Then ; try make it a passed across window type.
		Return 0 ; return 0 if no room left on line
	Else
		Return 1 ; return 1 if room left on line.
	End If
	
End Function

Function RC_new_line()

	RC_xpos = 0 ; 0 relative to window, NOT screen.
	
	RC_ypos = RC_ypos + RC_char_height ; move the y pos down a line
	
	; the below may need adjusting because of borders.
	
	If RC_ypos + RC_char_height &gt; RC_text_box_height Then ; check the y pos is within limits
		RC_scroll_line()
		RC_ypos = RC_ypos - RC_char_height
	End If
	
	
End Function

; This function resets the textbox
Function RC_reset_text_box()

	RC_xpos = 0
	RC_ypos = RC_char_height
	RC_text = ""
	RC_char = 0

	RC_clear_text_image()
	
	DebugLog("resetting text box")
	
End Function

Function RC_clear_text_image()

	SetBuffer ImageBuffer(RC_text_image)
	Color RC_mask_R,RC_mask_G,RC_mask_B
	Rect 0,0,ImageWidth(RC_text_image),ImageHeight(RC_text_image)
	Color RC_text_r,RC_text_G,RC_text_B

	SetBuffer ImageBuffer(RC_text_image_temp)
	Color RC_mask_R,RC_mask_G,RC_mask_B
	Rect 0,0,ImageWidth(RC_text_image_temp),ImageHeight(RC_text_image_temp)
	Color RC_text_r,RC_text_G,RC_text_B
	
	SetBuffer BackBuffer()
	
End Function

; This function scrolls the text down a line by:
; 												- Copying the entire image to a temp one
;												- Clearing the image via mask coloured rect
;												- Resetting the mask colour
;												- Drawing the temp image back onto the main one.
Function RC_scroll_line()
	
	SetBuffer ImageBuffer(RC_text_image_temp)
	DrawImage RC_text_image,0,0
	
	SetBuffer ImageBuffer(RC_text_image)
		Color RC_mask_R,RC_mask_G,RC_mask_B
		Rect 0,0,ImageWidth(RC_text_image),ImageHeight(RC_text_image)
		Color RC_text_R,RC_text_G,RC_text_B
		DrawImage RC_text_image_temp,0,-RC_char_height - RC_line_space
		
	SetBuffer BackBuffer()
	
	DebugLog(" scrolling line")
	
End Function

Function RC_check_RGB(text_$)

	DebugLog(" checking RGB")

	Local loop_exit
	Local R$
	Local G$
	Local B$
	
	Local char_start = 7
	Local char_count = 0

	; CHECK Red

	Repeat
		If Mid(text_,char_start+char_count,1) = "," Then
			R = Mid(text_,char_start,char_count)
			char_start = char_start+char_count+1
			loop_exit = 1

		End If
		char_count = char_count + 1
	Until loop_exit = 1
	loop_exit = 0
	char_count = 0
	
	; CHECK Green
	
	Repeat
		If Mid(text_,char_start+char_count,1) = "," Then
			G = Mid(text_,char_start,char_count)
			char_start = char_start+char_count+1
			loop_exit = 1
			char_count = 0
		End If
		char_count = char_count + 1
	Until loop_exit = 1
	loop_exit = 0
	char_count = 0
	; CHECK Blue
	
	Repeat
		If Mid(text_,char_start+char_count,1) = ")" Then
			B = Mid(text_,char_start,char_count)
			char_start = char_start+char_count+1
			loop_exit = 1
			char_count = 0
		End If
		char_count = char_count + 1
	Until loop_exit = 1
	loop_exit = 0

	RC_text_R = R
	RC_text_G = G
	RC_text_B = B
	;DebugLog(" RGB (|"+r+"|,|"+g+"|,|"+b+"|)")
	Color r,g,b
	
End Function

</textarea> <br><br></td></tr></table><br>
<a name="881491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm...why won't it run?<br>this is the code:<br><pre class=code>
Graphics 640,480

Include "textbox.bb"

RC_text_box_init()
RC_open_text_box(1)
RC_text_box("Blah,Blah,Blah BLAAAAAAAAAAAAAAAAH")
While Not KeyDown(1)
RC_update_text_box()
Wend
</pre><br>It says stuff like checking RGB and all that, but it doesn't display anything.<br>Should I be using AutoMidhandle True?<br>Whats the extra init code?<br>EDIT 2:<br>and also, what I mean by scrolling is a fixed textbox width and height. the text inside moves up as the lines get too big. If the text is above the box, its deleted.<br>EDIT AGAIN:<br>Never mind, i didn't read your post good enough. I NEED the extra code to run it. :) <br><br></td></tr></table><br>
<a name="881501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> and an line terminator in your text. <br><br></td></tr></table><br>
<a name="881567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah :o) It's not completely finished yet. WIll finish it when i get in from work (famous last words&lt;) <br><br></td></tr></table><br>
<a name="881661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> WIll finish it when i get in from work (famous last words&lt;) <br></div><br>LOL <br><br></td></tr></table><br>
<a name="881727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i'm pretty much sure i have this finished now. You'll need to giev it the once over and check it works with everything you need.<br><br>A few points though:<br><br>You only need to provide an image for the backround. The code will work out the drawable text area. Since this isn't 3d, the code doesn't need to work which powers of 2 textures, which is nice :o)<br><br>I use border variables, which can be adjusted. This provides a padding space between the frame and the text area.<br><br>I have provided function names to adjust the text box and control it:<br><br>RC_text_box_init(background,frame)<br><br>This is used to setup the images needed and such. It will fail without this. You must pass across a preloaded backround image and preloaded frame image. This is so you can easily resize the textbox to another backround image, without midgame loading.<br><br><br>RC_set_font(font$,size,bold=0,italic=0,underline=0)<br><br>Simple really. Set the font you want to use, plus the size. You don't need to send any bold, italic or underline info to the function though, if you don't need too. BE WARNED. This code uses setfont every time it draws a character, so you will need to reset the font your using, if any, after the RC_update_text_box() function.<br><br>RC_open_text_box()<br><br>Opens a blank text box in mode 0 (continuous), ready for you to send text to it. Only will work on mode 0. Before sending off text to the text box, make sure you check to see if it's already open, via: <br><br>RC_text_box_status = 0 means no text box is open<br>the information is commented in the textbox.bb file<br><br>RC_close_text_box()<br><br>Simple. It closes the text box, clears the text and resets the character positions.<br><br>RC_adjust_y_border(value)<br><br>RC_adjust_x_border(value)<br><br>These two are pretty self evident. Set values for the borders/margins. Note that these margin position are measured from where the frame finishes. The code will add on the border thickness of the frame to the value you pass across.<br><br>RC_position_text_box(x,y,x_justify=0,y_justify=0)<br><br>With this function you can set the position of the text box manually, OR, justify it left/centre/right, on the two axis. So:<br><br>RC_position_text_box(0,0,2,2) would centre the text box on the x and y axis. use the following:<br><br>x_justify<br>---------<br>0 = use x co-ord passed across<br>1 = left justify<br>2 = centre the text box<br>3 = right justify<br><br>Same for the y_justify.<br><br>RC_set_font_color(R,G,B,style=0,r=0,g=0,b=0)<br><br>To set the font color used in your textbox. You only need to provide the RGB if needed.<br>The style command determines whether your text is outlined or not. 0 = no outline, 1 = outline darken, 2 = outline custom color.<br><br>In custom outline, you pass across the rgb colour of the outline you want. outline darken mode will simple choose a darker color for the outline.<br><br><br>Finally! When choosing a frame style, since i'm not using 3d anymore, as mentioned above, what i will be doing now, is taking an image strip for the frame. Basically:<br><br>You provide all the 8 pieces of the frame in this order:<br><br>Top left<br>Middle<br>Top right<br>Middle left<br>Middle right<br>Bottom left<br>Bottom middle<br>Bottom right.<br><br>They must be in a strip going left to right and they must be SQUARE in size. This is because i will load in the image. Take the image height, as use that as the width of each piece, and build the frame from that. That means you can make the border as thick as you please. The frame will be drawn onto of the textbox, not outside it, so the code will set the margins for you to start with.<br><br>Still having problems trying to figure out the quickest way to scale the frame pieces, but that's practically it :o) <br><br></td></tr></table><br>
<a name="881732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK.Umm....Wheres the code?<br><strike>Also, what size of image do I need to use?</strike>never mind<br>Its not in my email?<br>One more thing...What about a top-middle frame? <br><br></td></tr></table><br>
<a name="881739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, i'm just touching some parts up. Not released just yet! I'll provide a sample frame image, so you get what i mean. <br><br></td></tr></table><br>
<a name="881740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK. <br><br></td></tr></table><br>
<a name="881766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i have sent it.<br><br>The justify aspect doesn't work yet, as i've ran out of time, but it's fully functional apart from that. I have included a small example. Please report any errors and i'll fix 'em! <br><br></td></tr></table><br>
<a name="881796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> whats with the windows live messanger link saying "Get Started"?<br>EDIT:<br>WHOA.Awesome! And I can just resize the RC_text_box_background!<br>Sooooooooooooooooooo awesome.<br>EDIT AGAIN:<br>OOPS. I forgot my manners. *Ahem* THANK YOOOOOU.<br>EDIT ONCE AGAIN:<br>I'm pretty sure I don't have the terminator on my keyboard.Where do i set it to something else? <br><br></td></tr></table><br>
<a name="881869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know about that link. Probably because i use hotmail. It's not related to me in any way.<br><br>About the line terminator. Open up the include file, and search for this character ¬. Then just replace it with whatever you'd rather use.<br><br>On my keyboard, the ¬ key is at the very top left. One key left of the 1 key at the top of the key board:<br><br>¬1234567890-=<br><br>I have kept all my variables and function with the prefix of RC_ so try not to use any variables with those prefixes as they may overwrite mine.<br><br>I'm thinking of expanding this, so you can spawn as many windows as you want. Need to see if i have time :o) <br><br></td></tr></table><br>
<a name="882018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> nope. I don't have it on my keyboard. I'm using QWERTY.<br>I changed the character to a |(Pipe). <br><br></td></tr></table><br>
<a name="882027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://www.bristol.ac.uk/is/learning/documentation/keyboard-r1/keyboard-r1.gif"><br><br>Look at the key to the left of the 1 and above the TAB key. Top left corner of the keyboard. I thought that was a pretty standard key. You press shift to get it. <br><br></td></tr></table><br>
<a name="882419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://www.biocrawler.com/w/images/e/e6/Keyboard_Layout_Middle_North_America.png"><br>Here is mine:<br>I have ~. <br><br></td></tr></table><br>
<a name="882488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, american layout i see :o) <br><br></td></tr></table><br>
<a name="882623"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> when you are done finishing this please post the final version somewhere, maby the code archives. <br><br></td></tr></table><br>
<a name="882628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah good point, sorry :o) <br><br></td></tr></table><br>
<a name="882650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you i would appreciate it much as at some point i might make an rpg or game that requires such and system. <br><br></td></tr></table><br>
<a name="882703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey, ross. is there some way to build the updating into the textbox function? just wondering. <br><br></td></tr></table><br>
<a name="882814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what you mean? <br><br></td></tr></table><br>
<a name="882872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> like: rc_text_box("blal blabberlah")<br>would automatically update the textbox, instead of calling<br>RC_update_textbox()<br>Because it can't print more than one thing at a time. If you feed it too much text before updating,it only prints the first line. <br><br></td></tr></table><br>
<a name="882892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to call the update function, as nothing will happen unless you do. You can't have code running, unless the compiler processes it :o) It shouldn't only print the most recent though. I will look into this. It sounds like a bug to me :o) <br><br></td></tr></table><br>
<a name="889245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> Urghh... I hate to revive this topic from the dead, but I have to.<br>So, I started ANOTHER TEXTBOX. It's going better than the last few(except Ross C's, but I can't use that in 320x240 windowed res.)<br>However, I've hit a snag. the following code produces the following output.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function TextBox(T$)
DrawImage textback,160,40
DrawImage frame,42,70,0
For i=52 To 262 
	DrawImage frame,i,70,1
	i=i+9
Next
DrawImage frame,267,70,1

DrawImage frame,277,70,2

For i=20 To 67
	DrawImage frame,277,i,6
	i=i+9
Next

DrawImage frame,277,10,4

For i=47 To 267
	DrawImage frame,i,10,7
	i=i+9
Next

DrawImage frame,42,10,3

For i=20 To 60
	DrawImage frame,42,i,5
	i=i+9
Next

Flip
xx = 47
yy = 20
char$ = ""
temp2$ = ""
temp$ = ""

For i = 1 To Len(T$)
	char$ = Mid$(T$,i,1)
	If char$ = " "
		i2 = i
		Repeat
			char$ = Mid$(T$,i2,1)
			If char$ = " " Then Exit
			temp2$ = temp2$ + char$
			i2 = i2 + 1
		Forever
		If StringWidth(temp$) + StringWidth(temp2$) &gt; ImageWidth(textback) - 20
			For i3 = 1 To Len(temp$)
				Text xx,yy,Mid$(temp$,i3,1)
				Flip
				xx = xx + StringWidth(Mid$(temp$,i3,1))
			Next
			yy = yy + 20
			char$ = ""
			temp$ = ""
			xx = 47
			temp2$ = ""
		EndIf
	EndIf
	temp$ = temp$ + char$
Next






End Function
</textarea><br><br><img src="http://i282.photobucket.com/albums/kk254/CpDying/screenshotagain.jpg"><br>It doesn't print the rest of it. If anybody could point out my problem, I'd appreciate it.<br>[EDIT]Anybody? Oops, I forgot the phrase:Pokemon and Mudkip and mother series rock out loud! Woooohoo! <br><br></td></tr></table><br>
<a name="889353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll have a look over my old code if you want, and see whats up with it. It shouldn't have an problem doing 320 x 240 res. <br><br></td></tr></table><br>
<a name="889577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nono... It's not the res that's a problem,[correction] It's the TEXT SIZE compared to the res. And also, my textbox has a few different needs this time. The font color changer can be removed, and I need to use a different font than arial it also needs to be smaller.<br>I also need "Control Codes" like [font] that would switch to a different font, initiate a battle, etc., etc.<br>That's too much to ask for though, so, with my current code, why doesn't it print the whole text? <br><br></td></tr></table><br>
<a name="889610"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems as if it's a problem with your word wrap function. That's the only thing i can think of, based on what i see. I could implement font changing in mine i suppose, if that helps? <br><br></td></tr></table><br>
<a name="889858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just found a bug in yours. I run it in 320x240, there is no frame, and when there is a newline, it deletes text on the lines above it, and just draws the newline. What is wrong with it?<br>No, Thank you for the offer, but I'd rather not cause you too much trouble. Thanks though. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
