<!DOCTYPE html><html lang="en" ><head ><title >Combining Strings for imagename</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Combining Strings for imagename</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Combining Strings for imagename</a><br><br>
<a name="568809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Durban</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not a begginner as such, but this is a begginner type question that is really confusing me.<br><br>Right, I have written a basic Bitmap Font function.<br><br>Its nothing special, it just reads in the text and then draws the frame of the animimage bitmap font to the screen based on the Ascii code of each letter....just your basic bitmap font function.<br><br>Now for the strange bit.<br><br>In my function I am allowed to pass a few things -<br><br>Function BMP_Text(text$,posx,posy,fontnumber)<br><br><br>Now text$ is obviously the string you want to display.<br>posx and posy are the starting locations (it can also do things like right/left/centre justify but I am keeping the example simple)<br><br>The problem is fontnumber<br><br><br>the idea is that I load 3 or 4 bitmaps (as animimages) for each style of font I am using. This is done at the beginning of the code and because they are only small files it doesn't have any hit on the code itself.<br><br>Now I call each BMPFont1, BMPFont2, BMPFont3 etc<br><br>The idea is that in the drawimage code I put<br><br>usedimage$ = "BMPFont" + Fontnumber<br><br>For count = 1 to len(text$)<br><br>  letter$ = mid$(Text$,count,1)<br>  Drawimage usedimage$,100,100,asc(letter$)<br><br>Next<br><br><br>Again the example above is simplified (each letter will overwrite the last in that code I realise)<br><br>However I get an error saying Image not found, even tho on the debug I can clearly see that usedimage$ is set to BMPFont1 of whatever.<br><br>How do I pass the name of the image I want to use into my proc?<br><br>I have tried making usedimage$ global, the Loadanimimage is global etc etc but I can't work it out.<br><br>I will try and post the 'real' code later tonight, all the stuff above is just off the top of my head whilst in work and thinking about it :)<br><br>Cheers,<br><br>Mark <br><br></td></tr></table><br>
<a name="568816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem i see here is your trying to construct a string that resembles the image handle. An image handle is a number, and assigned to a particular variable.<br><br><pre class=code>
a1 = loadimage("image.bmp")
a2 = loadimage("image1.bmp")
a3 = loadimage("image2.bmp")
a4 = loadimage("image3.bmp")
</pre><br><br>will work fine. What i think your trying to do is...<br><br><pre class=code>
a1 = loadimage("image.bmp")
a2 = loadimage("image1.bmp")
a3 = loadimage("image2.bmp")
a4 = loadimage("image3.bmp")

string$ = "a"

for loop = 1 to 4
   DrawImage string$+loop,100,200
next
</pre><br><br>which won't work, because the image handles are stored within the variables a1,a2,a3 and a4.<br><br>I'd recommend looking into arrays for what your trying to achieve here :o) <br><br></td></tr></table><br>
<a name="568817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't use a string to reference a type. In your case you are passing a string (usedimage$) instead of a reference to an image - you are using a string type where you need an image type.<br><br>Although you read English and can interpret usedimage$ as pointing to an image object, Blitz can't! It references everything by numbers. What you'd have to do is select based on the string such as...<br><br>BMPFont1=LoadImage("font_1.png")<br>BMPFont2=LoadImage("font_2.png")<br>BMPFont3=LoadImage("font_3.png")<br>BMPFont4=LoadImage("font_4.png")<br><br>Select Fontnumber<br>Case 1<br>image_pointer=BMPFont1<br>Case 2<br>image_pointer=BMPFont2<br>Case 3<br>image_pointer=BMPFont3<br>Case 4<br>image_pointer=BMPFont4<br>End Select<br><br>DrawImage image_pointer,100,100,asc(letter$)<br><br>___<br><br>In summary you can't reference objects by name, and you can't use different object typs (strings, images, entities, textures, custom types, etc.) to reference other types.<br><br>Edit : Ross C's idea of using arrays would be more convenient (though less illustrative!)<br><br>Dim font_images(5)<br>For n=1 to 5<br>font_images(n)=LoadFont("BMPFont"+n+".bmp")<br>Next<br><br>...<br><br>DrawImage font_images(Fontnumber),100,100,asc(letter$) <br><br></td></tr></table><br>
<a name="568822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^_^ <br><br></td></tr></table><br>
<a name="569633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Durban</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers guys,<br><br>I understand exactly what you mean (I like the quote that Blitz cant understand English the same way as me :) :) )<br><br>I am rewriting this using arrays, I just really wanted it to be tidy and didn't want to add too many case statements, but that may be the way I go if the arrays dont do it.<br><br>Apologies also for posting in Blitz3d but thats the version I am using (even tho its not a 3d related question as such!)<br><br>M <br><br></td></tr></table><br>
<a name="569675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why don't you just pass the font image handle into your "Print" function as a parameter? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
