<!DOCTYPE html><html lang="en" ><head ><title >Getting control of collisions in code.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Getting control of collisions in code.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Getting control of collisions in code.</a><br><br>
<a name="1147009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gerald</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I can only access a collision with the countcollisions/crash example in the book.  This means all collisions with the player/camera are the same and this is the only collision I can access in code.<br><br>The code:  Collisionentity() and Entitycollided(entity,type) do not have examples in the help reference or book text.  I would like to get access to specific collisions ie an individual entity (health bonus) and a specific entity target or soldier and not a scenery or terrain collision.<br><br>What parameters go in the parenthesis after the collision entity and entitycollided calls?  What value is returned, the name of the entity (tank1) or the type (gallery) or a true/false value?  <br><br>I would appreciate the exact code usage.  I have tried several simple guesses but no luck.  <br><br>I want to do stuff like decrease health for hitting a tree or rock and increase it for hitting a health bonus entity.  I need to seperate my collisions from the general  count collisions/crash= code.<br><br><br>Thanks, Gerald <br><br></td></tr></table><br>
<a name="1147017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityCollided returns the first entity of a specified collision type that collided with the passed entity on the last collision update.<br><br>So if you have a player, and a bunch of objects to which you have assigned the collision type ROCK, you could do EntityCollided(player, ROCK) to get the specific rock they hit.<br><br>CollisionEntity requires you to use CountCollisions. CountCollisions returns the number of collisions the entity was in last update, and you can iterate over the list of collisions with CollisionEntity to test which was the second object involved. This is probably closer to what you want to do.<br><br>For things like powerups it might be more sensible to ditch collisions altogether and just do it based on distance (against a set powerup radius). There's no clean way to have a no-result collision in B3D's builtin collision engine, so assuming you want the player not to be obstructed by pickups, using collisions would be unnecessarily complicated. <br><br></td></tr></table><br>
<a name="1147231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gerald</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I finally got entitycollided(camera,5) to work.  The expression is "true" if the camera collides with entity type 5 as written and will control an if then statement as is.  Doesn't even have to be set equal to true.  My health item type_health=5 works.  The value in a text statement is unusual.  It returned 6357628 as the value when written to see if it worked.  Then it worked as true in an if then.<br><br><br><br><br>How do you find where the camera is (x,Y).  In 2D the command mousex and mousey are  easy and tell you exactly where your mouse is.  Where is the camera/player?  Camerax, cameraY..?  I would like to draw an enemy near the camera location to interact with. <br><br></td></tr></table><br>
<a name="1147237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The camera is an entity, which is why EntityCollided works with it. So you use EntityX() etc. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
