<!DOCTYPE html><html lang="en" ><head ><title >ScreenSaver</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ScreenSaver</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >ScreenSaver</a><br><br>
<a name="758155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Terry B.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you make a B3d exe file into a screensaver? <br><br></td></tr></table><br>
<a name="758161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DREAM</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> i made a screensaver by taking off the .exe and renaming to .scr<br><br>i also didnt have any interface stuff for windows to use, and i also had to store all the images internally in a data array, it seems it didnt like loading images, it was a lot of trial and error...... <br><br></td></tr></table><br>
<a name="758317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There was a previous topic about screensavers:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=60409#673566" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=60409#673566</a><br><br>A screensaver executable is just the same as a standard executable, it only has a different file extension (.scr instead of .exe), that's all. <br><br></td></tr></table><br>
<a name="758350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a further slight diffrence: It won't find the media files since it thinks it was started from c:/ (as far as I remember). You have to add this line:<br><br>changedir systemproperty("Appdir")<br>Now it will act as an ordinary EXE.<br><br>The SCR file must be copied to the system folder, then it will be listed automaticly in the screensaver dialog.<br><br>But even now you'd need to copy the media files to the system folder too, that's no good. Better use a Packer like Molebox, or store the media in DATA space, as PowerPC603 suggested. <br><br></td></tr></table><br>
<a name="758626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you store media in a DATA space? <br><br></td></tr></table><br>
<a name="758627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use Visual Blitz, it can read images and store them into data-statements.<br>It also creates code to retreive the data from the data-statements so you can transform the data-statements into a Blitz-image for further use.<br><br>It also transforms files into data-statements and generates code to recreate the file from those data-statements.<br><br>Other files, like sounds, 3D-models, textures, ..., you can use a datapacker like jfk mentioned, I never tried such tools so I cannot say which one to use or which one is best.<br><br>If you cannot afford Visual Blitz, you can use the demo, but it cannot save files and also cannot compile the executables.<br>But you can generate the data-statements (I think) from images (JPG, BMP, ...), highlight all code that Visual Blitz generates, copy and paste that code into the Blitz3D IDE and use it from there.<br><br>You can check it out here:<br><a href="http://www.blitzbasic.com/toolbox/toolbox.php?tool=4" target="_blank">http://www.blitzbasic.com/toolbox/toolbox.php?tool=4</a> <br><br></td></tr></table><br>
<a name="758674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Loktar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I do for all of my screensavers is have it install them in the Program Files directory and write a key to the registry with the path that it was installed to. Then the screensaver portion thats run from system32 (a vb app) looks for the path and calls the actual exe, then the exe changes its path based on the value in the registry. <br><br></td></tr></table><br>
<a name="758739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DREAM</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didnt do all the fancy stuff with registry keys and changing directory, although this probably is the best way to go if you are going to make lots of them...<br><br>I store images into arrays (eg dim picdata(x,y))  then read the colour data into them for each pixel<br><br>this is what i did, not perfect coding but it worked...<br><br><pre class=code>
Graphics 800,600

Global butt1=LoadAnimImage("bug_butterfly01.png",32,32,0,20)
Global butterfly


Dim imagefr(20,31,31)


For i=0 To 19
SetBuffer ImageBuffer(butt1,i)
	For x=0 To 31
		For y=0 To 31
			If y=0 Or y=16
				li$="Data "
			EndIf
			GetColor x,y
			rgb=MakeRGB(ColorRed(),ColorGreen(),ColorBlue())
			imagefr(i,x,y)=rgb
			If y=15 Or y=31
				li$=li$+Str(rgb)
				DebugLog li$
			Else
				li$=li$+Str(rgb)+","	
			EndIf
		Next
	Next
Next
makebutterfly()
i=0
SetBuffer BackBuffer()
Repeat
Cls
	DrawImage butterfly,100,100,i
	If KeyHit(208) Then i=i+1
	If KeyHit(200) Then i=i-1
	If i&gt;19 Then i=0
	If i&lt;0 Then i=19
	Color 250,180,0
	Text 200,200,i
Flip
Until KeyHit(1)
End

Function makebutterfly()
	butterfly=CreateImage (32,32,20)
	For i=0 To 19
		SetBuffer ImageBuffer(butterfly,i)
		For x=0 To 31
			For y=0 To 31
				rgb=imagefr(i,x,y)
				Color ExtractRed(rgb),ExtractGreen(rgb),ExtractBlue(rgb)
				Plot x,y
			Next 
		Next
	Next
	SetBuffer BackBuffer()
End Function


Function MakeRGB(r,g,b)
	r=r Shl 16				; Move red component two bytes to the left
	g=g Shl 8				; Move green component one byte to the left
	result=r+g+b			; Add them up
	Return result			; And send the result right back at ya'
End Function

Function ExtractRed(rgb)
	result = rgb And 16711680	; 00FF0000 in Hex. Anding with this eliminates all non-red values.
	result=result Shr 16		; Move red component two bytes to the right
	Return result				; And send the result right back at ya'
End Function

Function ExtractGreen(rgb)
	result = rgb And 65280  	; 0000FF00 in Hex. Anding with this eliminates all non-green values.
	result=result Shr 8			; Move green component one byte to the right
	Return result				; And send the result right back at ya'

End Function

Function ExtractBlue(rgb)
	result = rgb And 255    	; 000000FF in Hex. Andin with this eliminates all non-blue values.
	Return result				; And send the result right back at ya'
End Function
</pre><br><br>the ExtractBlue(rgb)  , ExtractRed(rgb)  , ExtractGreen(rgb) and makergb(rgb) functions were from the archive, i have forgotten who wrote them or the post, sorry....<br><br>you might make sense of it...i then selected all the debuglog and copy pasted it into a bb file as a collection of data staements... <br><br></td></tr></table><br>
<a name="758748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> a simple solution to convert a picture to a data-segment would also be:<br><pre class=code>
f$="mypic.bmp"
pic=loadimage(f$)
wr=writefile("temp_data.bb")
writeline wr,"."+replace$(f$,".","_")
writeline wr,"Data "+imagewidth(pic)
writeline wr,"Data "+imageheight(pic)
setbuffer imagebuffer(pic)
lockbuffer()
for j=0 to imageheight(pic)-1
 z$="Data "
 for i=0 to imagewidth(pic)-1
 rgb=readpixelfast(i,j) and $ffffff
  if i&lt;(imagewidth(pic)-1)
   z$=z$+"$"+hex$(rgb)+","
  else
   z$=z$+"$"+hex$(rgb)
  endif
 next
 writeline wr,z$
next
unlockbuffer()
closefile wr
end
</pre><br>(just typed, there may be typos)<br>Now there should be a file named temp_data.bb. You can copy paste it to your program, or use INCLUDE. To load  such an image from this Data segement, you could do something like:<br><br><pre class=code>
restore mypic_bmp
read w
read h
pic=createimage(w,h)
setbuffer imagebuffer(pic)
lockbuffer()
for j=0 to h-1
 for i=0 to w-1
  read rgb
  writepixelfast i,j,rgb
 next
next
unlockbuffer()
setbuffer backbuffer()
</pre> <br><br></td></tr></table><br>
<a name="758830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Boiled Sweets</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just pack all my media using the free Pak library then install the data file to windows\system32. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
