<!DOCTYPE html><html lang="en" ><head ><title >Align to Vector problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Align to Vector problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Align to Vector problem</a><br><br>
<a name="1171955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gazza69</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all, consider this scenario:<br><br>I've made a simple jet using primitives, cube is the body, which is parented to delta shape wings, which in turn is parented to a pivot.<br>I have ordered the jet so that it is oriented in the z axis direction.<br>The jet is a type, with relevant fields to control it.<br>Using :<br><br>MoveEntity jetpivot, 0,0,speed  <br><br>gives me what I want, it moves forward.  I can yaw and roll the jet by using: <br><br>RotateEntity jetpivot, 0, jetyaw, 0   etc.<br><br>I then have a distant point (another pivot) that I want to move the jet towards.<br><br>I get the entity x, y and z coords of the distant pivot, subtract the entity x y and z coords of the jetpivot giving new_x, new_y and new_z, to then use:<br><br>AligntoVector jetpivot, new_x,new_y,new_z,z, 0.3<br><br>This should point the jet correctly at the pivot point, but it doesn't ; it inverts the jet, rotates it 90 degrees about the z axis and then the jet proceeds towards the pivot point, but in a crab like fashion (albeit not very gracefully)<br><br>Any ideas as to what I am doing wrong ?<br><br>Gazza <br><br></td></tr></table><br>
<a name="1171968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> what about <br><br>PointEntity JetPivot, DestiPivot<br><br>? <br><br></td></tr></table><br>
<a name="1171971"></a>

<a name="1171972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, PointEntity is what you need.  Although if you want to turn your cube-plane gradually towards a specific point, then use DeltaYaw() and/or DeltaPitch() combined with TurnEntity().<br><br>[edit] Oh, one more thing - don't know how you modeled the plane, but software sometimes uses different axes.  Most are Y-Up, but not all - if they're Z-Up, then you might have problems with objects not being oriented correctly.<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1171973"></a>

<a name="1171984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> AligntoVector jetpivot, new_x , new_y , new_z , z , 0.3<br><br>The next to last parameter (currently z) is supposed to be a number indicating which axis to align. 3 is the magic number for z-axis.<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1172283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gazza69</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, and yes Floyd, I did find my little bug there.<br>It still puzzles me a bit though as to why this is occurring.  I will play around a bit more with the other suggestions, I', thinking it must be a bit to do with my model.<br>One last question on this:  If my cube plane (with child add ons) is parented to another pivot and  this pivot is the parent for the entire hierachy, well then,  it should follow that if my cube plane is flying along dead flat (ie no roll), then I call the aligntoentity command along the z axis, this should not affect the roll at all - it should only affect the pitch and yaw ? Somehow I'm getting roll. I'II have to tidy up the code a bit and post it, theres a bit of spaghetti in the ATM. <br><br></td></tr></table><br>
<a name="1172472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gazza69</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've solved this problem guys, I'm now using some 3ds models and they are behaving themselves beautifully.  As graceful as a couple of F-22 Raptors.  Now I've just got to make them do something warlike.... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
