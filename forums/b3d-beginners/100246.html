<!DOCTYPE html><html lang="en" ><head ><title >Packet integrity with UDP ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Packet integrity with UDP ?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Packet integrity with UDP ?</a><br><br>
<a name="1182091"></a>

<a name="1182185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I am trying to code some routines to manage packets transfer between 3 client programs and 1 server program.<br><br>For now each packet is composed of :<br>PacketSize (short)<br>PacketKind (byte)<br>PacketId (int)<br>Datas<br><br>PacketSize is the total size in bytes after having written the packet with all the datas.<br><br>PacketKind is the kind of the packet, it can be Datas or Message and explains to the other program how to read the packet.<br><br>PacketId is the id of the packet so the program knows in which order to use the packet.<br><br>Do you think that to include the size of the packet (in bytes) is necessary ?<br>If a packet is received by a program with the command RecvUDPMsg(), is it always intact or can it sometimes be corrupted ?<br><br>Thanks, <br><br></td></tr></table><br>
<a name="1182110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Packets arrive intact but not necessarily in order <br><br></td></tr></table><br>
<a name="1182132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info Matty, :) i will remove the variable PacketSize. <br><br></td></tr></table><br>
<a name="1182559"></a>

<a name="1182581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MCP</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Packets arrive intact but not necessarily in order <br></div><br>Sorry Matty that answer seems pretty vague to me and can leave false assumptions as to the reliability of UDP packet transfers. Are you saying all UDP packets will arrive intact but not necessarily in order, or just those packets that do arrive will be intact but not necessarily in order? <br><br></td></tr></table><br>
<a name="1182604"></a>

<a name="1182605"></a>

<a name="1182606"></a>

<a name="1182607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what i have read recently :<br>With UDP, a packet must have a specific minimum size and maximum size depending on the temporary memory of routers it will go through.<br><br>So in order to avoid that the packet will become stuck, the UDP will automatically split a big packet in several subpackets.<br><br>The maximum size being 576bytes or 1500bytes (not sure about this)<br><br>See : <a href="http://en.wikipedia.org/wiki/Maximum_transmission_unit" target="_blank">http://en.wikipedia.org/wiki/Maximum_transmission_unit</a><br><br>But ! Because some subpackets may not use the same road to reach the destination, some subpackets may become lost.<br><br>If a subpacket becomes lost, the whole packet will be considered as lost. (probably after a specific time ?)<br><br>If all subpackets manage to reach the destination, the whole packet will be considered as received and can be read.<br><br>So in theory there is no need to add the size of the packet in the packet because it is already done by the UDP.<br><br>About the order, because some packets may use a longer road than others to reach the destination, an old packet may be received after a recent packet, this is why you can't rely on the order that the packets are received, you must add an Id to each packet. And i will go further, you must also add a Kind /Type to each packet so that you know how to read it depending on if it is a simple message/notification or if it is datas.<br><br>This is only my understanding, please correct what you think is false. <br><br></td></tr></table><br>
<a name="1182664"></a>

<a name="1182666"></a>

<a name="1182667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MCP</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> An interesting link RemiD. Thanks. BTW I'm not exactly an expert on the subject either (and don't claim to be!) which is why I asked Matty to clarify his response to your original post as it seems a little ambiguous (to me anyway!) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
