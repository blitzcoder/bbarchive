<!DOCTYPE html><html lang="en" ><head ><title >moving Animated characters</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >moving Animated characters</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >moving Animated characters</a><br><br>
<a name="627271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i have got this almost working but im sure ive done it a hard way? <br><br>Id post code but it would have to be alot of my game so im sorry if theres not enough info to help.<br><br>the setup is main player character (a b3d animated mesh) with a 3rd person cam behind. im using an animation for walking forward (w) key and one for backwards (s) im using the mouses x for rotating the character and the camera left and right (also a different animation) and the mouse y to look up and down. (a) and (d) to sidestep (another animation). im having trouble with not all the animations working. <br><br><br>the problem is i walk forward, the animation plays fine then i sidestep and its just the first frame and the character sliding. ive used switchs like movef=0 and animf=1 etc to select what animations the character should be doing with each key press but it doesnt seem to work right.<br><br>does anyone know of a tutorial on how to get a character with lots of animations working or can explain a good way of setting this kind of thing up (say using the Psionic zombie as an example) not that im using it but i have a copy if anyone can give me example code.<br><br>prob asking alot please someone help.<br><br>Pete <br><br></td></tr></table><br>
<a name="627315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> try this<br><br>first extractanimseq for all animations<br><br>then use<br><br>if keydown(whatever) then <br>if animseq(man)&lt;&gt;1 then animate man,1,1,1<br>endif<br><br>if keydown(whatever) then <br>if animseq(man)&lt;&gt;2 then animate man,1,1,2<br>endif<br><br>and so on <br><br></td></tr></table><br>
<a name="627317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> also <br><br>if animseq(man)=1 then moveentity man,x,x,x<br>if animseq(man)=2 then moveentity man,y,y,y <br><br></td></tr></table><br>
<a name="627330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks ill give it a try! its only a bit different from how im doing it but it may make all the difference :O)<br><br>Pete <br><br></td></tr></table><br>
<a name="627332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> how do you make him stop when theres no key pressed and play an idle animation. apart from that works great thanks :O) <br><br></td></tr></table><br>
<a name="627350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> if not animating(man) then animate man,1,1,1 ;idle animation<br><br>put that in your main loop. <br><br></td></tr></table><br>
<a name="627362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry he doesnt stop. i run the program and hes playing the idle animation you press forward and he moves forward animating correctly but when you let go of the key he keeps going ? <br><br></td></tr></table><br>
<a name="627536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This works for me, modify it to suit.  Its a bit clumsy in terms of code, but effective.  Notice I am using the =1 or =0 to register the keypress. <br><br>function moves()<br><br>If KeyDown(K_left) Then TurnEntity man,0,1,0<br>If KeyDown(K_right) Then TurnEntity man,0,-1,0	<br>													<br>;WALK<br>If KeyDown(K_up)=1 And KeyDown(K_v)=0 And KeyDown(v)=0 And KeyDown(K_s)=0 Then<br>If AnimSeq(man)&lt;&gt;2 Then Animate man,1,.5,2<br>EndIf<br>						<br>;RUN<br>If KeyDown(K_up)=0 And KeyDown(K_v)=1 And KeyDown(K_s)=0 And KeyDown(v)=0 Then<br>If AnimSeq(man)&lt;&gt;3 Then Animate man,1,.45,3<br>EndIf<br>								<br>						<br>;WALK BCK<br>If KeyDown(s)=1 And KeyDown(w)=0 And KeyDown(K_v)=0 And KeyDown(K_v)=0  Then<br>If AnimSeq(man)&lt;&gt;7 Then Animate man,1,-.5,7<br>EndIf<br>											<br>		<br>If KeyDown(K_up)=0 And KeyDown(K_v)=0 And KeyDown(K_v)=0 And KeyDown(K_s)=0 And AnimSeq(man)&lt;&gt;1 Then Animate man,1,.2,1,4											<br>If AnimSeq(man)=2 MoveEntity man,0,0,3						<br>If AnimSeq(man)=3 MoveEntity man,0,0,5						<br>If AnimSeq(man)=4 MoveEntity man,0,0,3						<br>If AnimSeq(man)=7 MoveEntity man,0,0,-1					<br>If AnimSeq(man)=8 MoveEntity man,0,0,1						<br>If AnimSeq(man)=12 MoveEntity man,0,0,1<br>EndIf<br><br><br>End Function <br><br></td></tr></table><br>
<a name="627561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice on i didnt know you could do (if keydown(44)=0) that should do it. you wouldnt beleave how odd and long my old code was to do what you have done in a few lines because i didnt know the right functions.<br><br>i wasnt quite sure what &lt;&gt; ment in your earlyer code i havent used it before i know what &gt; and &lt; mean on there own but not both together. <br><br>forgive me im a newbie with some bits and not others<br><br>Pete <br><br></td></tr></table><br>
<a name="627602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>If AnimSeq(man)&lt;&gt;7</pre><br><br>translated: If AnimSeq(man) is less than 7 or greater than 7<br><br>it's easier to do it that way as opposed to:<br><br><pre class=code>If AnimSeq(man) &lt; 7 Or If AnimSeq(man) &gt; 7</pre><br><br>I'm not sure if it's Or or And.  I'm pretty sure it's Or. <br><br></td></tr></table><br>
<a name="627872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> mate that function doent work (it says end if where no if?) you also have keydown(v) where i think it should be keydown(K_v) i think and you have keydown(v) = 0 or keydown = 0 right next to each other ? i dont how this was ment to work but it doesnt just changing the entity name for mine.<br><br>Pete <br><br></td></tr></table><br>
<a name="628140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cash</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use the keys.bb include file so I dont need to know all the keycodes.<br><br>I wrote it pretty quick, but if you use the keys.bb file (search the samples and demos in your blitz installation folder for this file)it should work.<br><br>Each command should read keydown (K_something) not keydown (something). So yes there are a few typos here.<br><br>e.g<br><br>If KeyDown(K_up)=0 And KeyDown(K_v)=1 And KeyDown(K_s)=0 Then<br>If AnimSeq(man)&lt;&gt;3 Then Animate man,1,.45,3<br>EndIf<br><br>for each if statement there must be a then or endif to close it. <br><br></td></tr></table><br>
<a name="628429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ricky Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This may help :<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=660" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=660</a> <br><br></td></tr></table><br>
<a name="628435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> smiff, could well do thanks again matey! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
