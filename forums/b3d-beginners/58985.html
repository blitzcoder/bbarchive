<!DOCTYPE html><html lang="en" ><head ><title >Smooth Jump</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Smooth Jump</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Smooth Jump</a><br><br>
<a name="656513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IKG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> deleted because of change <br><br></td></tr></table><br>
<a name="656518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steven Noyce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use a gravity variable.  Every frame, no matter what, I translate my character in the y direction by this variable.  When my character is touching the ground, I have this set to about -.4.  I have an if statement that says If gravity&gt;-.4 Then gravity=gravity-.1.  Then, if the jump key is hit, I say that gravity=.5, or something like that.  All these numbers are just off the top of my head, I don't remember what I realy used, but that is the basic idea.<br><br>Hope I was of some help! <br><br></td></tr></table><br>
<a name="656523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jams</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a quick code sample off the top of my head:<br><br><pre class=code>
Const GRAVITY# = 0.005

Local PlayerYVel# = 0 ;Players vertical velocity
Local PlayerYPos# = 0 ;Players vertical position

Repeat ;Begin looping

;Deduct gravity from the players vertical velocity.
PlayerYVel# = PlayerYVel# - GRAVITY#

;If the player is touching the ground, set vertical velocity
;to 0 (since upward force from the ground would equal
;downward force from gravity).
If (PlayerIsOnGround) then PlayerYVel# = 0.0

;If the player jumps, set the vertical velocity to a positive value.
If (PlayerJumps) then PlayerYVel# = 5.0

;Adjust the player vertical position based on the vertical velocity.
PlayerYPos# = PlayerYPos# + PlayerYVel#

Until KeyHit( 1 );End loop
</pre><br><br>That should give you a basic idea :) <br><br></td></tr></table><br>
<a name="656524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IKG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Blitznerd. You just gave me an idea! <br><br></td></tr></table><br>
<a name="656525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do a search for "jump" also,... this question seems to be asked once a month, so there will be a lot of answers.<br><br>Here is a link to one of them with a simple example<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=58265#648256" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=58265#648256</a> <br><br></td></tr></table><br>
<a name="656633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IKG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I already searched before posting this. I wanted help with my code, not someone else's. <br><br></td></tr></table><br>
<a name="656639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, let's start there then. I see a number of errors that will need to be fixed.<br><br>first, start with your jump function.<br><pre class=code>
Function jump()
If KeyHit(57) Then
	jump = True	
	For i=1 To 100
		TranslateEntity camera,0,0.01,0
	Next
	jump = False
EndIf
End Function
</pre><br><br>When you enter the function, you set the jump flag to true, then at the end you set it to false. There is no reason to do this in the code you provided, since you do not refer to this variable. You do have it in your main loop, but it will always be false because of the above code.<br><br>next, you move the camera 100 times in small steps, but there is nothing else going on (no frame updates, so this will appear as one movement when you do update the frame.<br><br>A much better way to do this is with a velocity and a gravity variable. Then all you need to do is add gravity to the value each loop through (even when jumping) When you wish to jump, you set the vertical velocity to an amount that will give you the proper jump height, and then let gravity do it's thing. (The gravity will slow the jump, and eventually return the player to the ground in a nice arc.) You will simply need to detect for a ground collision so you do not continue to fall once you hit the ground. <br><br></td></tr></table><br>
<a name="656649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IKG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> deleted <br><br></td></tr></table><br>
<a name="656763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You have failed to show how "force" affects the rest of your code, and how ycam is set.<br><br>Also, where have your tabs gone? <br><br></td></tr></table><br>
<a name="656829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, still not right yet.<br><br>without complete code it can be difficult to see what you are doing, but here goes.<br><br>first of all, since the jump function is only handling the jump, you should not have to check if updatejump = true. Instead, do that check first, and if it is true, then call the function, rather than calling the function and then checking.<br><br>Next, you are checking for if ycam &lt; 7 and applying different forces. What are you doing here? Are you trying to make the jump go up and then down? I assume that is what you are doing, but this is a very bad way to do it. Use velocities, and let gravity forces create the proper arc for you.<br><br>Let me try to explain better. <br>Lets say gravity force = 5. <br>Lets say Vertical velocity = 0. <br><br>Now, when you jump, you set the vertical velocity to 20. <br><br>Next, you need to add the velocity to the y position, and then subtract gravity (This will make the vertical velocity now 15)<br><br>loop through the last step and you will see that the velocity will eventually equal 0 and start to go into negative numbers. This will mean that you will begin the downward part of the jump.<br><br>Look at the example I linked above, it's quite short and should help you. <br><br></td></tr></table><br>
<a name="656907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jams</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Agreed with Pongo, my first post in this thread demonstrates this technique but seems to have been missed... <br><br></td></tr></table><br>
<a name="656953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IKG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, my way worked :P<br><br>All I had to do was move<br><pre class=code>
If ycam = 7 Then
force = -0.04
updatejump = False
EndIf
</pre><br>to the main loop.<br><br>Now I'm just tweaking some settings so that I don't hit the top too hard before coming back down. Thanks anyway. <br><br></td></tr></table><br>
<a name="656960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pongo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> *sigh* this is my last post in this thread.<br><br>USE VELOCITIES!<br><br>by using them you won't "hit the top too hard" it will be a nice snappy jump with proper slowdown at the top. <br><br></td></tr></table><br>
<a name="657081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jams</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's great when people appreciate your help... <br><br></td></tr></table><br>
<a name="657113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IKG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I said "thanks anyway" as in thank you for your time. It's not that I don't appreciate your help, it's that I am happy with my way and it works perfectly fine. I tweaked it much more and now it's perfect.<br><br>Don't get mad at me just because I figured out how to do it my way. I had already said I figured it out after Blitznerd gave me an idea. <br><br></td></tr></table><br>
<a name="657216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Velocities will work much much better, and is way easier to implement :) <br><br></td></tr></table><br>
<a name="657232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jams</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> it doesn't bother me that you figured out on your own - it bothers me a little that you completely ignored my post...<br><br>nevermind..<br><br>Also, in future there's no need to edit your posts to delete your old code when you fix it - this thread could have been a good resource for other beginners to learn about jumping. <br><br></td></tr></table><br>
<a name="657314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IKG</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't ignore you Jams. I just didn't understand your post. I know that sounds stupid, but I'm a beginner to this all and at the time my idea just seemed easier.<br><br>And about me deleting my code, I usually never do that. The reason for that this time, was because of how "wrong" it was. I completely tweaked and modified it after posting it. Last thing I want to do is confuse noobs like me ;)<br><br>But once again, I DO appreciate all of your help and I really want to thank you for that. I apologize if I gave the wrong impression.<br><br>Edit: Now that I think of it, my idea is similar to yours. I made it so that I slow down the gravity for a split second, after I hit the top and start to come down. After that split second is done, the regular negative gravity is put into place. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
