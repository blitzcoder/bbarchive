<!DOCTYPE html><html lang="en" ><head ><title >Nextfile/Filetype problem.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Nextfile/Filetype problem.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Nextfile/Filetype problem.</a><br><br>
<a name="481350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using nextfile to run through a list of files in a folder. Couple of problems.....<br><br>Most importantly, it's finding my file, which the program itself has just created, but then when I use 'Filetype' on it, it tells me the file doesn't exist... how can file not exist which Nextfile has just found?<br><br>Here's that bit of code.<br><br>file$=NextFile$(mydir)<br>If file$="" Then Exit<br>If FileType(file$)=1 Then....<br><br>But it's reporting a zero so it's not carrying on from there.<br><br>Secondly, Nextfile first finds two 'files' named '.' and '..'. Are these supposed to be there? It's a brand new created folder. <br><br></td></tr></table><br>
<a name="481372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the program has just created the file, why do you need NextFile() at all?<br><br>Why not just check the filename (that was just created) itself?<br><br>"." and ".." are 'folders' representing the "root" folder and the "parent" folder respectively. <br><br></td></tr></table><br>
<a name="481387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's the second part answered then - so they're always there?<br><br>The program created the file earlier in a previous function, but now I'm trying to scan through all the files in a folder. One file DEFINATELY exists (I'm looking at it in it's folder), so why does FileType(file$) say it doesn't? I need to do it this way as I need to scan through all the files. <br><br></td></tr></table><br>
<a name="481400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> As Beaker said, the "." and ".." files are actually directories. If you use FileType on these, it will return 2. This will cause the line "If FileType(file$)=1 Then..." to fail.<br><br>Could this be the cause of your problem? <br><br></td></tr></table><br>
<a name="481402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately not. I only noticed those files when I ran it through the debugger, and in the first two loops it finds them, and ignores them (as it should do). On the third pass, nextfile DOES find my file (which exists in the folder) which is a simple text file, but then Filetype returns a zero on it... :(<br><br>Quite an odd one, I can't see what's wrong. Probably just a typo but it's very odd that nextfile finds it, which means it's there, then filetype doesn't recognise it... ? <br><br></td></tr></table><br>
<a name="481406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I've solved it. Apparently filetype needs to know the whole path, so 'if filetype(file$)=1' should be 'if filetype(folder$+"\"+file$)=1' .... since my file was two folders down from the root. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
