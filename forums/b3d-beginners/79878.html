<!DOCTYPE html><html lang="en" ><head ><title >Dark basic to Blitz conversion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Dark basic to Blitz conversion</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Dark basic to Blitz conversion</a><br><br>
<a name="897142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just switched to Blitz3d and want to convert a card game I am working on.  I was wondering how I would convert this code snippet below where I am capturing card face images from a larger image and assigning them to an array variable.<br><br>load bitmap "spades.png",1<br>set current bitmap 1<br>imageNo=1<br>ctr=1<br>for y=0 to 3<br>  for x=0 to 3<br>    get image imageNo, x*94,y*145,((x+1)*94)-1,((y+1)*145)-1<br>    jcard(imageno)=ctr<br>    inc imageNo<br>    inc ctr<br>  next x<br>next y<br><br><br>Thanks for any help you can give me.<br><br>I can post the whole code if anyone wants it.  It deals five hands at a time and evaluates what thier value is.  It at least has the ability to evaluate poker hands.  I want to convert what I have in DP pro to blitz3d and make a real poker game out of it.  If someone wants my DB Pro code they will have to let me know how to upload a zip file with program and assets. <br><br></td></tr></table><br>
<a name="897144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz's loadanimimage command would do this fine,<br><br><pre class=code>
myimage = loadanimimage("spades.png",94,145,0,16)
</pre><br><br>then when you want to draw that:<br><pre class=code>
drawimage myimage,xpos,ypos,frame
;xpos and ypos are values you specify
;frame is a value you specify which would be from 0-15 in this case
</pre><br>have a look at the drawimage and loadanimimage commands in the command reference<br><br><br>if you would rather to it in an array then you would do something like this:<br><br>(note there are many ways of doing all of these)<br><br><pre class=code>
myimage=loadimage("spades.png")
Dim imagearray(15)
for y=0 to 3
for x=0 to 3
imagearray(frame)=createimage(94,145)
CopyRect x*94,y*145,94,145,0,0,imagebuffer(myimage),imagebuffer(imagearray(frame))

frame=frame+1
next
next
</pre> <br><br></td></tr></table><br>
<a name="897149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the quick reply.<br><br>Later in my program I assign the images to sprites so I can move them around easily.  The loadsprite command in Blitz3d seems to want to load an actual file from disk.  Is there a way to assign the image I captured from the large base image I captured the cards from to a sprite?.<br><br>Also sprites do not seem to have a number in blitz such as DB Pro<br>See below<br><br>displaycards:<br>set current bitmap 0<br>cls<br><br>sprite 1,50,7,deck(1) <br>sprite 2,150,7,deck(2)<br>sprite 3,250,7,deck(3)<br>sprite 4,350,7,deck(4)<br>sprite 5,450,7,deck(5)<br><br>sprite 6,50,159,deck(6)<br>sprite 7,150,159,deck(7)<br>sprite 8,250,159,deck(8)<br>sprite 9,350,159,deck(9)<br>sprite 10,450,159,deck(10)<br><br>how would i make a sprite array?<br>or assign a number to a sprite like DB Pro<br><br>sprite(2)=loadsprite("sp2.png")   ?<br><br><br>There always seems to be tons of samples around but none that actually relate to what you want to do. <br><br></td></tr></table><br>
<a name="897150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> These forums could use a keyword or phrase function.  There appears to be a tremendous amount of info on these forums but the problem is sifting through it to find the info you need.  <br><br>I haven't even looked at my card game code for a year and I even have trouble following it and I wrote it.  <br><br>Spending too much time on my day job doing Architectural renderings.  I eventually want to be able to bring stripped down models of our projects into blitz3d so clients can manouver around them in 3D. <br><br></td></tr></table><br>
<a name="897156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes - <br><br>use loadanimtexture in a similar way to the loadanimimage command.<br>Make sure that your textures are power of 2 in size, and preferably, though<br>not necessarily, square).<br><br>Create your sprites using 'createsprite' and then use the<br>entitytexture command with the frame parameter specifying which frame of the<br>animtexture to use.<br><br>Sprites in blitz are 3d entities and are used in 3d mode, <br>images in blitz are 2d and are used in either 2d or 3d mode, but for performance<br>and compatibility reasons are best used only in 2d mode.<br>Textures are similar to images except they are are used only in 3d mode.<br><br>Sprites/Images/Textures do have a number, called a handle. Unlike Darkbasic<br>which you allocate an image to a number which you specify, in blitz a number<br>(handle) is assigned to any entity/texture/image/sound/bank/music which is<br>created and by which you are then able to reference it.<br><br><br>Have you had a look at the samples in the blitz3d samples folder?<br>They cover much of this, as does the introductory help area. <br><br></td></tr></table><br>
<a name="897159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to be having a tough time figuring out the basics of Blitz3d.<br>When I got DB Pro I looked at some samples and was on my way.  I guess I have to free my mind and read as if i never saw DB Pro before.<br>All reports said Blitz was easier but I can't seem to figure out its structure. for example how would i assign an image to a sprite and then have it follow my mouse pointer on the screen or even just display the sprite like I have shown in the DB Pro snippet above<br><br>sprite 9,350,159,deck(9) <br>Simple and efffective in DB Pro it means display sprite number 9 at<br>position 350,159 and use image stored in deck(9) variable<br><br>SPRITE Sprite Number, XPos, YPos, Image Number<br><br>What would be the blitz equivalent?<br><br>There is a pile of sprite commands in DB Pro as seen below:<br><br>SPRITE : SPRITE Sprite Number, XPos, YPos, Image Number<br>SET SPRITE : SET SPRITE Sprite Number, Backsave, Transparency<br>DELETE SPRITE : DELETE SPRITE Sprite Number<br>CLONE SPRITE : CLONE SPRITE Sprite Number, Destination Sprite Number<br>SHOW SPRITE : SHOW SPRITE Sprite Number<br>HIDE SPRITE : HIDE SPRITE Sprite Number<br>HIDE ALL SPRITES : HIDE ALL SPRITES<br>SHOW ALL SPRITES : SHOW ALL SPRITES<br>MOVE SPRITE : MOVE SPRITE Sprite Number, Velocity<br>OFFSET SPRITE : OFFSET SPRITE Sprite Number, XOffset, YOffset<br>SCALE SPRITE : SCALE SPRITE Sprite Number, Scale<br>SIZE SPRITE : SIZE SPRITE Sprite Number, XSize, YSize<br>STRETCH SPRITE : STRETCH SPRITE Sprite Number, XScale, YScale<br>ROTATE SPRITE : ROTATE SPRITE Sprite Number, Angle<br>FLIP SPRITE : FLIP SPRITE Sprite Number<br>MIRROR SPRITE : MIRROR SPRITE Sprite Number<br>PASTE SPRITE : PASTE SPRITE Sprite Number, XPos, YPos<br>CREATE ANIMATED SPRITE : CREATE ANIMATED SPRITE Sprite Number, Filename, Frame Across, Frame Down, Image Number<br>PLAY SPRITE : PLAY SPRITE Sprite Number, Start Frame, End Frame, Delay Value<br>SET SPRITE FRAME : SET SPRITE FRAME Sprite Number, Frame Value<br>SET SPRITE PRIORITY : SET SPRITE PRIORITY Sprite Number, Priority<br>SET SPRITE IMAGE : SET SPRITE IMAGE Sprite Number, Image Number<br>SET SPRITE ALPHA : SET SPRITE ALPHA Sprite Number, Alpha Value<br>SET SPRITE DIFFUSE : SET SPRITE DIFFUSE Sprite Number, Red Value, Green Value, Blue Value<br>SET SPRITE TEXTURE COORD : SET SPRITE TEXTURE COORD Sprite Number, Vertex Index, UValue, VValue<br>SPRITE EXIST : Return Integer=SPRITE EXIST(Sprite Number)<br>SPRITE X : Return Integer=SPRITE X(Sprite Number)<br>SPRITE Y : Return Integer=SPRITE Y(Sprite Number)<br>SPRITE OFFSET X : Return Integer=SPRITE OFFSET X(Sprite Number)<br>SPRITE OFFSET Y : Return Integer=SPRITE OFFSET Y(Sprite Number)<br>SPRITE SCALE X : Return Integer=SPRITE SCALE X(Sprite Number)<br>SPRITE SCALE Y : Return Integer=SPRITE SCALE Y(Sprite Number)<br>SPRITE WIDTH : Return Integer=SPRITE WIDTH(Sprite Number)<br>SPRITE HEIGHT : Return Integer=SPRITE HEIGHT(Sprite Number)<br>SPRITE IMAGE : Return Integer=SPRITE IMAGE(Sprite Number)<br>SPRITE MIRRORED : Return Integer=SPRITE MIRRORED(Sprite Number)<br>SPRITE FLIPPED : Return Integer=SPRITE FLIPPED(Sprite Number)<br>SPRITE HIT : Return Integer=SPRITE HIT(Sprite Number, Target Sprite Number)<br>SPRITE COLLISION : Return Integer=SPRITE COLLISION(Sprite Number, Target Sprite Number)<br>SPRITE ANGLE : Return Float=SPRITE ANGLE(Sprite Number)<br>SPRITE FRAME : Return Integer=SPRITE FRAME(Sprite Number)<br>SPRITE ALPHA : Return Integer=SPRITE ALPHA(Sprite Number)<br>SPRITE RED : Return Integer=SPRITE RED(Sprite Number)<br>SPRITE GREEN : Return Integer=SPRITE GREEN(Sprite Number)<br>SPRITE BLUE : Return Integer=SPRITE BLUE(Sprite Number)<br>SPRITE VISIBLE : Return Integer=SPRITE VISIBLE(Sprite Number)<br><br>I can only find a handful of Sprite commands in Blitz.  Are they handled that much different in Blitz?<br><br>Can anyone recommend a good reference article or book where explanations of commands are grouped as to there purpose similar to the section on sprites shown in a snippet from DB Pro's command reference. <br><br></td></tr></table><br>
<a name="897161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Matty<br><br>I think I am just a little too impatient.  Obviously Blitz has a completely different Philosophy Than DP Pro.<br>Like I said there seems to be a gigantic amount of reference code samples but not a lot with headings like "how to assign sprites and move/manipulate them on screen"<br><br>I started out with Applebasic then Amiga basic then AMOS Basic ont he Amiga also.  I went to Delhpi on the PC (not great for games).<br>Then I tried DB Pro (I like it but it is very buggy).<br><br>I read reviews of Blitz3d and bought it today.  I'm sure after more experimentation I will start to understand but at the moment it is just pissing me off because I can't seem to find sample code that relates to what I want to do. It is very daunting when you go to the beginner area and there are something like 170 pages of topics and no search function so you can't search for the topic you want to find out about.<br><br>I truly appreciate the help you have given me so far.<br><br><br>I think I will post very short simple examples for doing things like:<br><br>- How to assign sprites and move/manipulate them on screen<br>- Have a sprite follow your mouse cursor<br>- How to capture images from a larger image and assign them to a sprite<br>- etc <br>- etc<br>- etc<br><br>Now i just have to find time to do it.<br><br>Thanks again <br><br></td></tr></table><br>
<a name="897164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Every group of forums has a search button above it, on the far right side of the screen. There's also a search all at the very top, but since you only want Blitz3D results, that's probably the one to use. <br><br></td></tr></table><br>
<a name="897166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok now I feel like a complete IDIOT.  Too much 3D rendering has fried my brain.  I guess I should just be happy my employees are not on these forums.<br><br>www.liquidlight3d.com <br><br></td></tr></table><br>
<a name="897194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Billp</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> sprites are entitys all non mesh specific entity commands work with sprites as well...hideentity sprite, showentity sprite etc. <br><br></td></tr></table><br>
<a name="897197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> In google, you can add "site:blitzbasic.com" (without quotes) or for example "site:http://www.blitzmax.com/codearcs" to your search term. <br><br></td></tr></table><br>
<a name="897238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Instead of using CreateSprite, LoadTexture and then EntityTexture, you could use LoadSprite and CopyEntity. Instead of this:<br><pre class=code>mySprite = CreateSprite()
myTexture = LoadTexture("myImage.png")
EntityTexture mySprite,myTexture</pre><br>use this instead (and into an array):<br><pre class=code>Local mySpriteArray[10]
mySprite = LoadSprite("myImage.png")
mySpriteArray[1] = CopyEntity(mySprite)</pre> <br><br></td></tr></table><br>
<a name="897249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pirate</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can anyone recommend a good reference article or book where explanations of commands are grouped as to there purpose similar to the section on sprites shown in a snippet from DB Pro's command reference. <br></div><br><br>hey robbyk,<br>welcome to blitz3d...i too came  over here from dbpro...for me it is the best decision made...it takes a little while to grasp b3d compared to dbpro but when you do you will see....more speed, less code and very few bugs if any at all....<br><br>most everything you put in blitz is an entity...study the entity commands carefully...these commands have something for almost everything....<br><br>the blitz3d programming manual can be ordered from the products page...this book has helped me a lot...i think it is $19.99U.S.<br><br>you can also look at the online manuals on the manuals page...<br><br>remember to be patient...starting any new language can be very frustrating....try just working with simple code for your sprites...a lot of good code can be found in the code archives forum... <br><br></td></tr></table><br>
<a name="897263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks everyone for your comments.  I am impressed with the willingness of the community to help out. I'm sure once I get settled in I won't be bugging you that much more and I hope to give back any information I learn.<br><br>I got a quick drawimage thingy to follow my mouse and then did some variations on it.  It works great but I think it was a destructive type drawing because there was a CLS command at the end of the loop.<br>That's why my interest in sprites so I can move objects around without  destroying the backround.  Oddly enough my backround is in 3d but I want to do a 2d game first and then move to 3d later.<br>You guys might want to look at a program a friend of mine wrote for converting 3D objects.  It will save out .3DS and .X file formats.  I have used it for years for converting my 3D Cad stuff over to my rendring program (Lightwave 3D by Newtek at the moment)<br>Here is the address of the Accutrans 3D program:<br><br><a href="http://www.micromouse.ca/" target="_blank">http://www.micromouse.ca/</a><br><br>It's graphic interface might not look very impressive but it works very well.  He has sold copies to car manufacteres, US army, Game studios and more.  The program is free to try out and only $20 to buy. <br><br></td></tr></table><br>
<a name="897342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> For 3D file conversion I use Unwrap3D (and sometimes Fragmotion). $20 sounds like a lot for something that only converts (static) meshes. Looks like it might have its uses tho. <br><br></td></tr></table><br>
<a name="897385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Beaker<br><br>I tried your code below and I get the message "entitiy does not exist"<br>when I tried to run it in my program and it highlights the third line of code "mySpriteArray[1] = CopyEntity(mySprite)"<br><br>Local mySpriteArray[10]<br>mySprite = LoadSprite("myImage.png")<br>mySpriteArray[1] = CopyEntity(mySprite)<br><br>Can you give me a a small program that creates a sprite and assigns a image to it and then positions the sprite somewhere on the screen?<br><br>Thanks <br><br></td></tr></table><br>
<a name="897387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> H RobbyK,<br><br>whenever you load something in blitz it is worthwhile checking it the resource was loaded correctly - you may have specified an incorrect path to the file - which is what may have happened. I'll try to put an example together here:<br><br><pre class=code>
graphics3d 800,600,0,2 ;sets the 3d graphics mode, and does so in windowed mode
Dim mySpriteArray(10) ;blitz begins counting array indices from 0 so in this case would be from 0 to 10)
mySprite = loadsprite("myimage.png")
if mySprite = 0 then runtimeerror("Something wrong with the file you've specified, check the path to the file most likely")
mySpriteArray(1) = CopyEntity(mySprite)
hideentity mySprite

showentity myspriteArray(1)

camera=createcamera()
positionentity mySpriteArray(1),0,0,8
setbuffer backbuffer()
repeat

updateworld ;not really needed here as no animation or collision checking being done
renderworld ;render the scene to the active cameras
flip	    ;flip the backbuffer to the frontbuffer

until keydown(1)

freeentity myspritearray(1)
freeentity mysprite
freeentity camera
end



</pre> <br><br></td></tr></table><br>
<a name="897390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks Matty<br><br>that got my sprite on the screen. Now refering back to one of your earlier posts that textures should be a power of two. My card faces are 84 wide by 145 tall.  So does that mean I have to create a my card as an 128x256 image with a area of my graphics that has to be masked? Can I use the scale entity to make a square sprite look rectangular like a playing card. then at least I could make my texture image 128x256 and then scale the entity so it displays at 84x145 on the screen.  Seem like a huge hassle to me<br><br>Seems like a lot of work! Sprite textures being a power of two are obviously sized for program execution speed but not for programming convienience. does this apply to all textures used in Blitz or just for sprites. <br><br></td></tr></table><br>
<a name="897392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used the line "ScaleEntity mySpriteArray(1),3,3,3" before the "positionentity mySpriteArray(1),0,0,8" line but it did not change the sprite size on the screen.  In the help file in Blitz it says this will triple the size of the entitiy but it dit not change it at all.  What gives? <br><br></td></tr></table><br>
<a name="897393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use scalesprite instead of scaleentity (an unusual exception to the blitz entity system)<br><br>Quick question - I remember you saying you were going to make a 2d game.  Sprites in blitz are 3d entities (much as they are in darkbasic I think too) which are just flat planar meshes with a texture painted on.  Because of limitations of graphics cards the textures are best to be power of 2.  However if you stick with 'pure' 2d (that means no hardware accelerated rotations, scalings or blendings) you can use your images exactly as you have with those unusual dimensions of 80x140 or similar.<br><br>Using 2d images, not 3d hardware accelerated sprites do this:<br><br><pre class=code>
graphics 800,600,0,2
image=loadimage("myimage.png")
setbuffer backbuffer()
repeat

cls
drawimage image,mousex(),mousey()
text 0,0,str(mousex()+","+mousey())
flip

until keydown(1)
</pre> <br><br></td></tr></table><br>
<a name="897394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to use drawimage instead of sprites without destroying backrounds or other screen graphics. Is there a layer system so I can draw the image partially behind other graphics?<br>Do sprite have a priority level (i.e. which sprite/entity will show in front of another sprite/entity?<br>Sorry for all these questions.  I can do all the sprite stuff easy in DB Pro and just wondered if it is possible in blitz. <br><br></td></tr></table><br>
<a name="897395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your sample above works fine.  I got a similar program working last night.  The problem with the drawimage command is if I want to drag an image of my card across the screen (like in a solitare game) without distroying the backround which the CLS command is doing in every repitition of the loop. Ideally if I could drag an image across the screen and press the left mouse button down and drop the image on the screen.  If I rem out the CLS command thr card just leaves a trail as would be expected.  This was the main reason for using Sprites in the first place. <br><br></td></tr></table><br>
<a name="897396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Images drawn with drawimage will by default be transparent where the RGB pixel value is 0,0,0.  This can be changed with the usage of "maskimage" which allows for different colors to be used as the masking color for a 2d image (although best not to use jpegs for this)<br><br>Images drawn with drawimage are simply drawn in the order you call the command, so you will have to perform sorting yourself.<br><br>Sprites are simply 3d entities so they will draw from back to front in order of their depth relative to the camera.  <br><br>DrawImage is part of the 2d command set and is best used only with other 2d commands.<br><br>Sprites are part of the 3d command set, and are not able to be used in 2d mode (same goes for 3d objects which seems fairly obvious). <br><br></td></tr></table><br>
<a name="897397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, you replied a bit quick for me:<br><br>Just draw your background image before you draw your cards.<br>There is nothing wrong with clearing the screen every frame, it has effectively no overhead performance wise. <br><br></td></tr></table><br>
<a name="897398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Matty<br><br>Got to go to sleep now.  I tried a few other things that didn't work out, but I will try to get a it tommorrow.  I had tried (using your sprite example above) putting your line "positionentity mySpriteArray(1),0,0,8" in the repeat loop except I changed it to <br>"positionentity mySpriteArray(1),mousex(),mousey(),8" so I could move the sprite to follow the mouse. But of course that didn't work.<br>The sprite just disappeared.  I am sure I will look back on this at a later date and say to myself. "What was I thinking" or i will just get frustrated even more and throw myself off a cliff.<br><br>Again, i appreciate all your help<br>Goodnight <br><br></td></tr></table><br>
<a name="897419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Procedure is usually as follows:<br><br>SETBUFFER BACKBUFFER()<br><br>BEGIN LOOP<br><br>   CLS<br><br>   DrawImage Background_image, 0,0<br><br>   DrawImage Card,20,20<br><br>   FLIP<br><br>REPEAT LOOP<br><br>Not real blitz code, but demonstrates the point.<br><br>You are constantly clearing the screen, drawing the background, then the cards, then flipping the backbuffer into view.<br><br>You will need to keep track of some aspects of an image though, so set up a type collection, or make array slots for the X,Y, animation length, current frame, frame time, frame timer... etc etc <br><br></td></tr></table><br>
<a name="897420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and the reason you wouldn't be able to see you sprite, is because your treating it like a 2d object. In 2d the viewpoint is set and cannot be moved so to speak, and the co-ords don't change because of that. You place an image at 30,30 pixels, it will stay there, and will always be displayed at that location<br><br><br>In 3d, you can move the camera, the object, have objects facing away from the camera. You place an object at 30,30,0, then the object will be placed at 30,30,0 which by default, will be outside the cameras viewport. By taking mouse input raw, your sprite will most definatly be out of view for most co-ords.<br><br>Basically, i'd start in 2d with this one :o)<br><br>2d in blitz, offers no quick way of doing transparency, or rotation in real time, without precalculating it first. There is a farily decent real time scaling function, using the copyrect command however. <br><br></td></tr></table><br>
<a name="897636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might find it easier to use some sprite library like SpriteCandy for example. I'm sure there are others. I'm sure this is all very confusing, but it will all be worth it. <br><br></td></tr></table><br>
<a name="897658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can youse the sprite2d function. It has worked well for my purposes.<br><br>This code was included with B3d so I would assume you would have it somewhere on you computer.<br><br><pre class=code>Function Sprite2D(cam,sprite,x#,y#,size#,ang#,alpha#)
	ent=CameraPick(cam,x,y)
	If ent Then 
		PositionEntity sprite,PickedX(),PickedY(),PickedZ()
		ScaleSprite sprite,size/2560,size/2560
		RotateSprite sprite,ang
		EntityAlpha sprite,alpha
	End If
End Function
</pre><br><br>This function requires some setup before the main loop though.<br>You put the code below right under the Graphics3d command.<br><br><pre class=code>cam=CreateCamera()
CameraRange cam,.1,1000
PositionEntity cam,0,0,-10
pl=CreatePlane(1,cam)
PositionEntity pl,0,0,.15
RotateEntity pl,-90,0,0
EntityAlpha pl,0
EntityPickMode pl,2
</pre><br><br><br>Or you may want to stick with the normal 2d commands. <br><br></td></tr></table><br>
<a name="898013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess another reason I get confused is sample code does not even work:<br>The code directly from blitz's help for "MouseZ ()" does not work on my machine<br><br>"Graphics 640, 480, 0, 2<br><br>SetBuffer BackBuffer ()<br><br>Repeat<br>Text 20, 20, "Mouse wheel position: " + MouseZ ()<br>Until KeyHit (1)<br><br>End "<br><br>Even if i use Mouse X () it will only give me a initial value if that. <br><br></td></tr></table><br>
<a name="898020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Graphics 640, 480, 0, 2
SetBuffer BackBuffer()
While Not KeyHit(1)
	Text 20, 20, "Mouse wheel position: " + MouseZ()
	Flip
	Cls
Wend</pre><br>Try that instead*. I think track-pads can cause a problem depending on how their drivers are geared (my laptop's doesn't get on with a number of programs, B3D stuff included) but a 'proper' mouse should work fine.<br><br>*Actually you may need to update your docs (Account-&gt;Product updates) because the example I get is different to yours and works. <br><br></td></tr></table><br>
<a name="898021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sledge<br><br>Thanks that code works fine.  I only bought Blitz 3D a few days ago I would think I would have the latest.  No?<br><br>Just the Flip and CLS line missing from the sample code.  Sloppy help file!<br>For a more experienced coder they would know you needed those two lines.  Help is not very helpful to a rookie when the help files are not correct. <br><br></td></tr></table><br>
<a name="898025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Thanks that code works fine. I only bought Blitz 3D a few days ago I would think I would have the latest. No? <br></div><br>If you press the little "Home" button at the top of the IDE then click "Command Reference" you'll get a page that should tell you the documentation version -- 1.88 is the latest. It's fair to say, though, that docs ain't BRL's forte (fortunately, making really rather nice languages is) so don't hesitate to ask questions here. <br><br></td></tr></table><br>
<a name="898033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sledge<br><br>It is 1.62 I guess I have to update.  Now I just have to figure out my login info since I bought Blitz when I was at work and have my Login info there. <br><br></td></tr></table><br>
<a name="898034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RobbyK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I don't use Sprites and just drawimage how do I paste down an image and have it stay on the screen. This clip from a help file which I have modified loads a backround image and then draws my card back at the mouse position.  So how do I past and image down and have it show uo whithout it being overwritten with each cycle of the loop. I set it up so I Gosub my routine to draw a card back at 100,100 when i press the left mouse button.  O course it disappers with the next execution of the loop. <br>I think I wil have to investige Nat the great's 2d sprite function which looks like he is just using 3d but he is creating a 2d enviroment within 3d space.  A hack at best.  Seems to me a simple implimentation of  sprites that can be easily used in 2d as in DB PRO would be better.<br>It is obviously awhole different mintset using Blitz3d.  maybe I should have purchased blitzmax instead.  I beleive it is 2d only. <br><br></td></tr></table><br>
<a name="898108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> 3d-as-2d sprites, as in Dark BASIC and Blitz3D, are persistent objects in a 3d simulation so once you create them they're 'just there' until you destroy them. Images, on the other hand, are just pictures that you can either opt to draw or not each frame -- if you want them to be persistent then you'll have to devise some sort of object system to manage them with. And that brings us to the realm of custom types -- if you do anything, read up on types because they're ace and let you do something like this...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Graphics 800,600,0,2
SetBuffer BackBuffer()

;First let's define the characteristics of our new type, namely what to draw and where to draw it.
Type TBob
	Field xPos%
	Field yPos%
	Field imageIndex%
End Type

;Now lets write a few functions for creating and manipulating our TBob instances.
Function TBob_Create.TBob(imageIndex_arg%)
	Local newImageObject.TBob = New TBob
	newImageObject\imageIndex = imageIndex_arg
	Return newImageObject
End Function

Function TBob_DrawAll()
	Local currentBob.TBob = Null
	For currentBob = Each TBob
		DrawImage TBob_ImageBank, currentBob\xPos, currentBob\yPos, currentBob\imageIndex
	Next
	Delete currentBob
End Function

Function TBob_Position(instace_arg.TBob, xPos_arg%, yPos_arg%)
	instace_arg\xPos = xPos_arg
	instace_arg\yPos = yPos_arg	
End Function

Function TBob_Set(instace_arg.TBob, imageIndex_arg%)
	instace_arg\imageIndex = imageIndex_arg
End Function

Function TBob_Get%(instace_arg.TBob)
	Return instace_arg\imageIndex
End Function

;Normally you would load your set of images as an animImage but we'll create a set on the fly.
Global TBob_ImageBank = CreateImage(64,64,3)
Color 100,200,100 : Rect 0,0,64,64,True : GrabImage TBob_ImageBank,0,0,0
Color 200,100,100 : Oval 64,64,64,64,True : GrabImage TBob_ImageBank,64,64,1
Color 100,100,200 : Oval 128,64,64,64,False : GrabImage TBob_ImageBank,128,64,2


;Now lets create a few instances of our TBob type, assigning each a different image from our shared image bank.
mySquare.TBob = TBob_Create(0)
TBob_Position(mySquare,400,300)

myCircle.TBob = TBob_Create(1)

myRing.TBob = TBob_Create(2)


;Our main loop...
While Not KeyHit(1)
	;Move myCircle leeeeeft to riiiiiight.
	tick = tick + 1
	TBob_Position(myCircle,400+(Cos(tick)*200),300)
	
	;Put myRing where the mouse is. F'nar.
	TBob_Position(myRing,MouseX()-32,MouseY()-32)
	
	;Click the right mouse button to change myRing's image. F'nar*LOL-a-tron.
	If MouseHit(2)
		TBob_Set(myRing,TBob_Get(myRing)+1)
		If TBob_Get(myRing) = 3 TBob_Set(myRing,0)
	EndIf
	
	;Draw every TBob instance in one fell swoop.	
	TBob_DrawAll()
	Flip
	Cls
Wend</textarea><br><br>...which is just a fledgeling 2d sprite system cobbled together in a couple of minutes, but it should give you the general idea.<br><br>Edit: Renamed the custom type to TBob -- it's a bit shorter and will please the Amigans.<br>Edit: Added a few comments. <br><br></td></tr></table><br>
<a name="898296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> As i said, you clear then redraw the entire screen every loop in 2d.<br><br>DrawImage 20,20,image<br><br><br>Can you paste your code here, and we can look through it? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
