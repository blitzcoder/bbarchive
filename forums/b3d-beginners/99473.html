<!DOCTYPE html><html lang="en" ><head ><title >Game modes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Game modes</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Game modes</a><br><br>
<a name="1167876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, i'm not very great on functions... what i'm attempting to do is essentially (make my own engine?) i assume that's the correct way to refer to it. If i want to write out code to tell blitz <br>-(Title_Screen)-(Main_Game)-(Ingame_Menu)-(Combat_Mode)- etc.. etc... the way i assumed it would be run is something to the effect of..<br><br>Function Title_Screen()<br>(Title info here)<br>End Function<br><br>Function Main_Game()<br>(Main code line here)<br>End Function<br><br>But for some reason or another I cant seem to get these to correlate, I don't entirely know what I'm doing wrong... or not doing is probably the case, but I believe I lack the code writing knowledge to relate these two to one another, any advice would be helpful <br><br></td></tr></table><br>
<a name="1167887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> normaly you have a main loop:<br>[bbcode]Repeat<br>    Cls<br>    ; Do all the things<br>    Flip <br>Until KeyHit(1)[/bbcode]<br><br>If you wish to change several screen, you would use a "flag" variable:<br>[bbcode]Global ScreenMode%<br>Repeat<br>    Cls<br>    If ScreenMode=0 <br>        Title_Screen()<br>    ElseIf ScreenMode=1<br>        Main_Game()<br>    Endif<br>    Flip <br>Until KeyHit(1)[/bbcode]<br><br>Now you can switch between the screens only by changing the variable ScreenMode% anywhere in your program.<br><br>f.e. time dependend:<br><pre class=code>Global ScreenMode%, TitelTime%
Repeat
    Cls
    If ScreenMode=0
        Title_Screen()
    ElseIf ScreenMode=1
        Main_Game()
    Endif
    Flip 
Until KeyHit(1)

Function Title_Screen()
     ;(Title info here)
     If TitelTime=0
          TitelTime=Millisecs()+3*1000
     ElseIf TitelTime &lt; Millisecs()
          ScreenMode=1
     Endif
End Function</pre> <br><br></td></tr></table><br>
<a name="1167970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Midimaster, that definately helped some writers block I was having, still experiencing a few bugs, but at least I have a heading now. Does this look right? The title screen text seems to be having difficulties saying it doesn't exist.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">;Opening Settings
Graphics3D 1200,800,32,2
light=CreateLight()
camera=CreateCamera()
SetBuffer BackBuffer()
WBuffer enable

;---------------------------------------------------
;Set Global
Global fntCambria,fntCambriaB,fntCambriaI,fntCambriaU 
fntCambria=LoadFont("Cambria",50,False,False,False)
fntCambria75=LoadFont("Cambria",75,False,False,False)
fntCambriaB=LoadFont("CambriaB",50,True,False,False)
fntCambriaI=LoadFont("CambriaI",50,False,True,False)
fntCambriaU=LoadFont("CambriaU",50,False,False,True)
Global ScreenMode%, TitleTime%
;title________________________________________________
Repeat
	Cls
	If ScreenMode=0
		Title_Screen()
	ElseIf ScreenMode=1
		Main_Game()
	EndIf
	Flip
Until KeyHit(1)

Function Title_screen()
;Image/Music
logo=LoadImage("Red-Sky-Texture.jpg") 
MidHandle logo 
Cls 
DrawBlock logo,GraphicsWidth()/2,GraphicsHeight()/2 
Flip 

music=LoadSound("FFX.mp3") 
If music 
LoopSound music 
mc=PlaySound(music) 
EndIf 
Delay 3000

Color 0,0,0
SetFont fntCambria75
Text 700,100,"Relics of Cilldrea",0,1
SetFont fntCambria
Text 20,350,"New Game",0,1
Text 20,400,"Continue",0,1
Text 20,450,"Multiplayer",0,1
Text 20,500,"Options",0,1
Text 20,550,"Quit",0,1
Text 1050,750,"Beta 0.1",0,0
Text 650,700,"2012 Eightball Entertainment",0,0

While Not KeyHit(1)
Flip
Wend
FreeFont Cambria
FreeFont Cambria75
FreeFont CambriaB
FreeFont CambriaI
FreeFont CambriaU
If TitleTime=0
	TitleTime=MilliSecs()+3*1000
ElseIf TitleTime &lt; MilliSecs()
	ScreenMode=1
	EndIf 
End Function 	
;______________________________________________________

Function Main_Game()
;Camera and Lighting
CameraRange camera,1,10000
CameraClsColor camera,0,0,255
AmbientLight 100,100,100

;Object Transparency/Collision Types
alpha#=1
type_player=2 
type_scenery=3 

;Player
sphere=CreateSphere()
ScaleEntity sphere,0.1,0.1,0.1
EntityColor sphere,255,0,0
PositionEntity sphere,3767.575684,173.597656,3840.225586
PositionEntity camera,3767.575684,174,3837
ScaleEntity sphere,0.1,0.1,0.1
cone=CreateCone()
PositionEntity cone,3767.575684,173.597656,3841
RotateEntity cone,90,0,0
EntityColor cone,0,255,0
ScaleEntity cone,0.1,0.1,0.1
EntityType sphere,type_player
EntityType camera,Type_player
EntityParent camera,sphere
EntityParent cone,sphere

;Global Maps
zone1=LoadMesh("zone1.3ds")
PositionEntity zone1,0,-1,0
ScaleEntity zone1,0.1,0.1,0.1
EntityType zone1,Type_scenery
EntityRadius zone1,2
EntityBox zone1,-2,-2,-2,4,4,4

;Locations
;Cilldrea
	Cilldrea=LoadMesh("Cilldrea.3ds")
	PositionEntity Cilldrea,4085,168,3470
	ScaleEntity Cilldrea,0.1,0.1,0.1
	RotateEntity Cilldrea,0,145,0
	EntityType Cilldrea,Type_scenery
	EntityRadius Cilldrea,2
	EntityBox Cilldrea,-2,-2,-2,4,4,4
	A=CreateCube()
	PositionEntity A,52.271523,0.826000,32.899349
	EntityColor A,255,0,0
	EntityType A,type_scenery
;Siria
	Siria=LoadMesh("Siria.3ds")
	PositionEntity Siria,1324.533203,172,3992.619385
	ScaleEntity Siria,0.1,0.1,0.1
	EntityType Siria,Type_scenery
	EntityRadius Siria,2
	EntityBox Siria,-2,-2,-2,4,4,4
;Inferenza

;Cities/Buildings
;Cilldrea Item Store
itemstore=LoadMesh ("item_store.3ds")
ScaleEntity itemstore,0.3,0.3,0.3
EntityType itemstore,type_scenery
HideEntity itemstore
AA=CreateCube()
PositionEntity AA,3838.277588,248.776001,3349.664307
ScaleEntity AA,0.5,0.5,0.5
EntityColor AA,255,0,0
EntityType AA,type_scenery
;Cilldrea Castle

;Player Object Keyboard and Mouse Controls
While Not KeyDown(1)
If KeyDown(32)=True Then MoveEntity sphere,1,0,0
If KeyDown(30)=True Then MoveEntity sphere,-1,0,0
If KeyDown(31)=True Then MoveEntity sphere,0,0,-0.05
If KeyDown(17)=True Then MoveEntity sphere,0,0,0.05
If KeyDown(207)=True Then MoveEntity camera,0,0,1
If KeyDown(199)=True Then MoveEntity camera,0,0,-1
If KeyDown(29)=True Then MoveEntity sphere,0,10,0
If KeyHit(57)=True Then MoveEntity sphere,0,10,0
If MouseDown(1) Then MoveEntity sphere,0,0,5
If MouseDown(3) Then MoveEntity sphere,0,0,0.5

	mxs# = mxs# + MouseXSpeed()
	mys# = mys# + MouseYSpeed()
	If msx# &gt; 90 Then mxs# = 0
	If msx# &lt; 0 Then Msx# = 90
	If Mys# &gt; 45 Then mys# = 45
	If mys# &lt; -45 Then mys# = -45
	
RotateEntity camera,mys#,0,0
RotateEntity sphere,0,-mxs#,0

;Gravity
MoveEntity sphere,0,-0.50,0


;Set Collision Method and Response Values
method=2 
method_info$="ellipsoid-to-polygon" 

;Enable collisions between type_character and type_scenery 
Collisions type_player,type_scenery,method,response 

;Enable collisions between world/buildings/player
For k = 1 To CountCollisions(sphere)

  If CollisionEntity(sphere,k) = A Then 
    FreeEntity Cilldrea
	FreeEntity zone1
	FreeEntity A
	ShowEntity itemstore
	ShowEntity AA
	PositionEntity itemstore,1,5000,1
	PositionEntity sphere,1,5001,1
	PositionEntity cone,1,5001,1
	PositionEntity camera,1,5002,-2
	UpdateWorld 
  EndIf
  
  If CollisionEntity(sphere,k) = AA Then
	HideEntity itemstore
	HideEntity AA
	ShowEntity zone1
	ShowEntity A   
	PositionEntity sphere,183.7,65,67
	PositionEntity camera,183.7,66,64
	UpdateWorld 
  EndIf
Next

Flip
UpdateWorld
RenderWorld 
Text 10,10, "x: " + EntityX(sphere) +"  y: " + EntityY(sphere) + "  z:  " + EntityZ(sphere)
Wend
If TitleTime=0
	TitleTime=MilliSecs()+3*1000
ElseIf TitleTime &lt; MilliSecs()
	ScreenMode=1
	EndIf 
End Function </textarea> <br><br></td></tr></table><br>
<a name="1167971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool I got it, the text was hanging out in global, and the function codes was blocking the text from reaching the titlescreen varibles. <br><br></td></tr></table><br>
<a name="1167998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, now I cant seem to figure out how to tell it to go from the title screen to the main loop :( <br><br></td></tr></table><br>
<a name="1168027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some heavy bugs found:<br>1.<br>you have to put the loading of images and sounds outside of your Repeat/Until-loop!!!<br><br>With the current position inside the function they are inside the loop and will be loaded 60 times a second!<br><br><pre class=code>GLOBAL logo=LoadImage("Red-Sky-Texture.jpg") 
GLOBAL music=LoadSound("FFX.mp3") 

Repeat
     ....

Until

Function Title_Screen()
.....
End Function

</pre><br><br><br>2.<br>Never use a second FLIP or a second CLS in your programm. Title_Screen will return to main loop and will do these commands here.<br><br><br>3.<br>Do not stop your code with a DELAY 3000, but with another Flag like for SCREE_MODE:<br><br><pre class=code>GLOBAL logo=LoadImage("Red-Sky-Texture.jpg") 
CONST SCREEN_TITLE%=0, SCREEN_GAME%=1
Global ScreenMode%, TitleTime%, TextTime%
Repeat
	Cls
	Select ScreenMode
		Case SCREEN_TITLE
			Title_Screen()
		Case SCREEN_GAME
			Main_Game()
	End Select
	Flip
Until



Function Title_Screen()
	DrawBlock logo,GraphicsWidth()/2,GraphicsHeight()/2 
	If TitleTime=0
		TitleTime=MilliSecs()+3*1000
	ElseIf TitleTime &lt; MilliSecs()
		ScreenMode=SCREEN_TEXT
	EndIf 
End Function



Function Text_Screen()
	DrawBlock logo,GraphicsWidth()/2,GraphicsHeight()/2 
	Color 0,0,0
	SetFont fntCambria75
	Text 700,100,"Relics of Cilldrea",0,1
	SetFont fntCambria
	Text 20,350,"New Game",0,1
.....
	If TitleTime=0
		If music 
			LoopSound music 
			mc=PlaySound(music) 
		EndIf 
		.....
		TitleTime=MilliSecs()+3*1000
	ElseIf TitleTime &lt; MilliSecs()
		FreeFont Cambria
		FreeFont Cambria75
		.....
		ScreenMode=SCREEN_TEXT
	EndIf 
End Function
</pre><br><br>If you have to do something only once in a function the best places is the "If TitleTime=0" at the start or the "ElseIf TitleTime &lt; MilliSecs()" if you need it at the end<br><br><br>4.<br>Use more CONST instead of 1 or 2 to name game states:<br><br><pre class=code>CONST SCREEN_TITLE%=0, SCREEN_GAME%=1
.....
Repeat
	Cls
	Select ScreenMode
		Case SCREEN_TITLE
.....
</pre><br><br>Use YES or NO, or ON and OFF, TRUE or FALSE and so on... <br><br></td></tr></table><br>
<a name="1168122"></a>

<a name="1168123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Appreciate the advice :) by no means am I very experienced. Would you be able to tell me how to integrate a mousepick into the title screen? For example, if I wanted to click one of the screen options and have it start the game loop or terminate the program? I had considered using a drawblock+mousepick but I cant seem to figure out how to phrase the code line correctly :(<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168129"></a>

<a name="1168130"></a>

<a name="1168131"></a>

<a name="1168132"></a>

<a name="1168133"></a>

<a name="1168134"></a>

<a name="1168135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a slight change you can make to better handle this state logic.<br>You should not change critical game-state variables like that "ScreenMode" inside the functions themselves, else it'll be hell to debug things when you have more complex code. <br>Rather have the functions return a state value that represents what that function thinks is the best state for the program to change to (even if it means to continue in the same state).<br><br>Pseudo code illustrating this:<br>[bbcode]<br>Const STATE_QUIT% = -1<br>Const STATE_INTRO% = 1<br>Const STATE_MENU% = 2   ;Main menu screen, with the basic "start, load, options" etc. combo.<br>Const STATE_MENU_OPTIONS% = 3   ;Separate screen for changing game options.<br>Const STATE_MENU_LOADSAVE% = 4   ;Separate screen for loading\saving a game.<br>Const STATE_START_GAME% = 5<br>Const STATE_PLAY_GAME% = 6<br>Const STATE_RETURN_TO_MENU% = 7<br><br>Local FPSTimer% = CreateTimer(60)<br><br>While Not LeaveApp()<br>	WaitTimer(FPSTimer)<br>	<br>	;Don't be afraid to use a huge-ass Select block. You'll only need a<br>	;single one of these for the entire game.<br><br>	Select CurrentState<br>		Case STATE_INTRO<br>			CurrentState = HandleIntro()<br><br>		Case STATE_MENU<br>			CurrentState = HandleMenu()<br><br>		Case STATE_MENU_OPTIONS<br>			CurrentState = HandleMenuOptions()<br><br>		Case STATE_MENU_LOADSAVE<br>			CurrentState = HandleMenuLoadSave()<br><br>		Case STATE_START_GAME<br>			CurrentState = HandleStartGame()<br><br>		Case STATE_PLAY_GAME<br>			CurrentState = HandlePlayGame()<br><br>		Case STATE_RETURN_TO_MENU<br>			CurrentState = HandleReturnMenu()<br><br>		Case STATE_QUIT<br>			End<br>	End Select<br>Wend<br>End<br><br>;Sample of one of these functions:<br>Function HandleMenu%()<br>	Local tempState% = STATE_MENU ;Set a default value first.<br><br>	;Logic code to update\poll relevant data for the menu, such as mouse clicks etc.<br>	<br>	;[...]<br><br>	;Let's say the user presses a menu button to start the game. You should<br>	;evolve the program's state to the game preparation state:<br>	If [...] Then tempState = STATE_START_GAME<br>	<br>	;If the user chose to go to the "options screen", change to the<br>	;appropriate state as well:<br>	If [...] Then tempState = STATE_MENU_OPTIONS<br><br><br>	;Function calls to render relevant graphics for this state, the menu, <br>	;such as an animated background, special effects, the mouse icon etc.<br>	RenderMenu()<br><br>	;At the end you return whatever state this function saw fit to proceed<br>	;to, based on its logic tests.<br>	;If all tests at the logic section above failed, this function will return the <br>	;default STATE_MENU and so it will keep on executing for the next <br>	;frame. This will keep going until this function returns a state that calls <br>	;for a different screen.<br>	Return tempState <br>End Function<br>[/bbcode]<br>It may be a bit intimidating at first, but this is actually a very clean method, and with this you can handle lots and lots of states and make your game\application very dynamic. <br>You can easily handle several unique screens or game modes with this, and more especially have 'state transition screens' that can enrich your visuals: instead of snapping from the menu directly to gameplay, you can fade the screen out, show some animation and then fade in to gameplay if you implement this as a small STATE_MENU_TO_GAME state to be added to that Select block.<br><br>EDIT: That Select is only necessary because B3D doesn't support function pointers or OOP, else you could have a single line invoking something like <br><b>CurrentState = CurrentState.Update()</b> <br>and be done with it.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, I really appreciate it <br><br></td></tr></table><br>
<a name="1168152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> responding to mouse clicks is not very complicated...<br><br>1. FIRST WAY (easy to understand)<br><br>In the main loop you store the current mouse state in global variables.<br>Inside the menu screen you fix an area and when the variables are inside it, the reaction is to change of the flag ScreenMode:<br><pre class=code>Graphics 800,600
SetBuffer BackBuffer()

Global MouseButton%, MouseXPos%, MouseYPos%
Const PRESSED%=1

Global ScreenMode%, TitleTime%, TextTime%
Const SCREEN_TITLE%=0, SCREEN_GAME%=1, SCREEN_OPTIONS%=3



Repeat
	Cls
	MouseButton=MouseHit(1)
	MouseXPos=MouseX()
	MouseYPos=MouseY()

    If ScreenMode=0
        Title_Screen()
    ElseIf ScreenMode=1
        Main_Game()
    EndIf
	
	Flip
Until KeyHit(1)



Function Title_Screen()
	; simulate one button at 100,400 with size 170,20
	If MouseButton=PRESSED
		DebugLog "click"
		If MouseXPos&gt;100 And MouseXPos&lt;270
			If MouseYPos&gt;400 And MouseYPos&lt;420
				DebugLog "inside"
				ScreenMode=1
			EndIf
		EndIf
	EndIf
	Color 255,255,255
	Text 105,405,"S T A R T   G A M E "
	Color 255,0,0
	Rect  100,400,170,20,0
End Function



Function Main_Game()
	Color 0,255,0
	Rect  0,0,800,600

End Function</pre><br>In this code you have inverstigated, that the text you want to malke clickable has the screen coordinates 100/400 to 270/420. (The red box only simulates the borders for demonstation).<br><br>First you ask, whether the mouse is clicked. Then check the mouse x value then the y value. If all three conditions are valid, change the ScreenMode.<br><br>If you need this for multiple buttons you can do it multiple:<br><pre class=code>Function Title_Screen()
	; simulate one button at 100,400 with size 170,20
	If MouseButton=PRESSED
			DebugLog "click"
			
			;button 1
			If MouseXPos&gt;100 And MouseXPos&lt;270
				If MouseYPos&gt;400 And MouseYPos&lt;420
					DebugLog "inside 1"
					;ScreenMode=1
				EndIf
			EndIf

			;button 2
			If MouseXPos&gt;300 And MouseXPos&lt;400
				If MouseYPos&gt;300 And MouseYPos&lt;420
					DebugLog "inside 2"
					;ScreenMode=3
				EndIf
			EndIf
	EndIf
	
	; button 1
	Color 255,255,255
	Text 105,405,"S T A R T   G A M E "
	Color 255,0,0
	Rect  100,400,170,20,0
	
		; button 2
	Color 255,255,255
	Text 305,305,"G A M E  O P T I O N S"
	Color 255,0,0
	Rect  300,300,200,20,0

End Function
</pre><br><br><br>2. WAY MORE ELEGANT, (but more complicated)<br><br>but with a lot of button this creates a lot of code difficult to keep the overview. so you could outsource it in a function:<br><pre class=code>Graphics 800,600
SetBuffer BackBuffer()

Global MouseButton%, MouseXPos%, MouseYPos%
Const PRESSED%=1

Global ScreenMode%, TitleTime%, TextTime%
Const SCREEN_TITLE%=0, SCREEN_GAME%=1, SCREEN_OPTIONS%=3



Repeat
	Cls
	MouseButton=MouseHit(1)
	MouseXPos=MouseX()
	MouseYPos=MouseY()

    If ScreenMode=0
        Title_Screen()
    ElseIf ScreenMode=1
        Main_Game()
    EndIf
	
	Flip
Until KeyHit(1)



Function Title_Screen()
	If Button ("S T A R T   G A M E     ",100,400)
		ScreenMode=SCREEN_GAME
	ElseIf	Button ("G A M E  O P T I O N S",300,200)
		ScreenMode=SCREEN_OPTIONS
	EndIf
End Function



Function Button%(ButtonText$,X%,Y%)
	; find out the dimensions of the text
	Local Width%=StringWidth(ButtonText)+10
	Local Height%=StringHeight(ButtonText)+10
	
	;draw the button
	Color 255,255,255
	Text X+5,Y+5,ButtonText
	Color 255,0,0
	Rect  X,Y,Width, Height,0

	;check the mouse
	If MouseButton=PRESSED
			If MouseXPos&gt;X And MouseXPos&lt;X+Width
				If MouseYPos&gt;Y And MouseYPos&lt;Y+Height
					DebugLog "inside"
					; result:mouse inside
					Return True
				EndIf
			EndIf
	EndIf

	; result: not inside
	Return False
End Function



Function Main_Game()
	Color 0,255,0
	Rect  0,0,800,600

End Function</pre><br><br><br>and this is not the end, you could use types to shrink and organize the code more and more..... <br><br></td></tr></table><br>
<a name="1168386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Outstanding! Thank you! <br><br></td></tr></table><br>
<a name="1168395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kryzon I attempted to use some of your code, but for some reason blitz doesn't recognize some of your keywords such as CurrentState, and LeaveApp.. do you have a particular outside program that influences these words? Could be that I'm using Blitz3d and BlitzMax and 3d have different terminologies XD <br><br></td></tr></table><br>
<a name="1168421"></a>

<a name="1168422"></a>

<a name="1168424"></a>

<a name="1168425"></a>

<a name="1168426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi.<br>Well, that being pseudo-code, it requires you to just take the "gist" of it and implement it in your own personal way. You don't necessarily need to reproduce it completely, you can just take whatever parts you find interesting and build something of your own.<br>I meant to use CurrentState as a global Integer variable for storing the current state.<br><br>[bbcode]Global CurrentState%[/bbcode]<br>It would be analogous to your 'ScreenMode' there, although 'CurrentState' is a more intuitive name in my opinion.<br><br>As for LeaveApp(), you can interpret it as a function to check game quitting events.<br>Instead of simply stating "While Not KeyHit(1)" as you normally would, you can assign more complex code to this condition by calling a function.<br><br>[bbcode]Function LeaveApp%() ;Returns 1 or 0.<br>	If (CurrentState = STATE_QUIT) Or KeyDown(1) Or (KeyDown(56) And KeyDown(62)) Then Return True<br>	<br>	Return False<br>End Function<br>[/bbcode]<br>(so this function not only checks for the standard ESC presses, but also checks if the current state is 'quit', or if the user is pressing the ALT+F4 combo.)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I apologize, still having difficulties grasping functions themselves... I actually finally interpreted what you intended a few minutes ago, I've been so buried in code writing that I hadn't got to posting my apologies yet. <br><br></td></tr></table><br>
<a name="1168428"></a>

<a name="1168429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Midimaster,<br><br>So, I've been toying around with your advice briefly and I encountered a couple hiccups on my end.<br><br>1) I cant seem to get my title graphic to show for some reason.<br>2) When the code was adapted to include my own information, pressing a button does not work. It seems to only work when I attempt to copy/paste and run in its own separate program.<br><br>Would you be able to tell me where I'm F***** up? lol<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> ;Opening Settings
AppTitle "Relics of Cilldrea
Graphics3D 1200,800,32,2
light=CreateLight()
camera=CreateCamera()
SetBuffer BackBuffer()
WBuffer enable

;---------------------------------------------------
;Set Global
Global ScreenMode%,TitleTime%,TextTime%
Global MouseBuntton%,MouseXPos%,MouseYPos%
Global Logo=LoadImage("Red-Sky-Texture.jpg")
Global music=LoadSound("FFX.mp3")
Const Pressed%=1
Const SCREEN_TITLE%=0,SCREEN_GAME%=1,SCREEN_CONTINUE%=2,SCREEN_MULTIPLAYER%=3
Const SCREEN_OPTIONS%=4,SCREEN_QUIT%=5

;Screen Mode__________________________________________
Repeat
		Cls
		MouseButton=MouseHit(1)
		MouseXPos=MouseX()
		MouseYPos=MouseY()
	If ScreenMode=0
		Title_Screen()
	ElseIf ScreenMode=1
		Main_Game()
	EndIf
	
		Flip
Until KeyHit(1)


;title________________________________________________
Function Title_Screen()
	If Button ("N E W  G A M E",20,350)
		ScreenMode=SCREEN_GAME
	ElseIf	Button ("C O N T I U E",20,400)
		ScreenMode=SCREEN_CONTINUE
	ElseIf Button ("M U L T I P L A Y E R", 20,450)
		ScreenMode=SCREEN_MULTIPLAYER
	ElseIf Button ("O P T I O N S",20,500)
		ScreenMode=SCREEN_OPTIONS
	ElseIf Button ("Q U I T",20,550)
		ScreenMode=SCREEN_QUIT
EndIf   
End Function 

Function Button%(ButtonText$,X%,Y%) 
	; find out the dimensions of the text 
	Local Width%=StringWidth(ButtonText)+10 
	Local Height%=StringHeight(ButtonText)+10
	
	;draw the button
	Color 255,255,255
	Text X+5,Y+5,ButtonText
	Color 255,0,0
	Rect  X,Y,Width, Height,0

	;check the mouse
	If MouseButton=PRESSED
			If MouseXPos&gt;X And MouseXPos&lt;X+Width
				If MouseYPos&gt;Y And MouseYPos&lt;Y+Height
					DebugLog "inside"
					; result:mouse inside
					Return True
				EndIf
			EndIf
	EndIf

	; result: not inside 
	Return False 
End Function 

Function Title_Cosmetics()
	DrawBlock logo,GraphicsWidth()/2,GraphicsHeight()/2
	If TitleTime=0
		TitleTime=MilliSecs()+3*1000
	ElseIf TitleTime&lt;MilliSecs()
		ScreenMode=SCREEN_TEXT
	EndIf 
End Function

Function Title_Text()
	Text 700,100,"Relics of Cilldrea",0,0
	Text 1050,750,"Beta 0.1",0,0
	Text 650,700,"2012 Eightball Entertainment",0,0
End Function 

Function Main_Game()
	Color 0,255,0
	Rect  0,0,800,600

End Function
</textarea><br><br><br>Nearly forgot, when I try to run the function of my current "main game" content blitz returns with the error -functions must be in the main program- or w/e....<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168430"></a>

<a name="1168431"></a>

<a name="1168432"></a>

<a name="1168433"></a>

<a name="1168435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> PRESSING A BUTTON<br><br>the problem seems to be in the button function. There is a nice DEBUG message in the code...<br><pre class=code>DebugLog "inside"</pre><br>..., but as you see in the debugger it will never happen....<br><br>so, what to do?<br><br>enter more debug messages to surround the bug:<br><br><pre class=code>Function Button%(ButtonText$,X%,Y%) 
			; find out the dimensions of the text 
			Local Width%=StringWidth(ButtonText)+10 
			Local Height%=StringHeight(ButtonText)+10
			
			;draw the button
			Color 255,255,255
			Text X+5,Y+5,ButtonText
			Color 255,0,0
			Rect  X,Y,Width, Height,0
		
			;check the mouse
		
	DebugLog "Button"
		
			If MouseButton=PRESSED
	DebugLog "Button pressed"
		
					If MouseXPos&gt;X And MouseXPos&lt;X+Width
	DebugLog "Button pressed Mouse X"
		
						If MouseYPos&gt;Y And MouseYPos&lt;Y+Height
	DebugLog "Button pressed Mouse X Mouse Y"
		
							; result:mouse inside
							Return True
						EndIf
					EndIf
			EndIf
		
			; result: not inside 
			Return False 
End Function 

</pre><br><br>now run the code and check, what (not) happen....<br><br><br>The result is, that already the debug message "Button pressed" dos not appear. So the problem must be in the code line:<br><pre class=code>If MouseButton=PRESSED</pre><br><br>Either MouseButton or PRESSED have a problem. So let us check MouseButton... Where is it else?  ah, here:<br><br><pre class=code>Global MouseBuntton%
.....
Repeat
		Cls
		MouseButton=MouseHit(1)
.......</pre><br><br>Because of the typo MouseBuntton the variable never got GLOBAL and so its value never reached the function<br><br><br><br>CONCLUSION<br><br>I recommend to you: use the debugger. It is a powerful help.<br><br>During development I have a lot of DEBUG statements in my code. If I think the code works I comment them out, but do not clear them. Maybe (=often) you will need them again...<br><br><br>YOUR TITLE GRAPHIC<br><br>Your title graphic is in the function Title_Cosmetics()? You nowhere call the function! Move the graphic to <br><pre class=code>;title________________________________________________
Function Title_Screen()

	DrawBlock logo,GraphicsWidth()/2,GraphicsHeight()/2
	Text 700,100,"Relics of Cilldrea",0,0
	Text 1050,750,"Beta 0.1",0,0
	Text 650,700,"2012 Eightball Entertainment",0,0


	If Button ("N E W  G A M E",20,350)
		ScreenMode=SCREEN_GAME
	ElseIf	Button ("C O N T I U E",20,400)
		ScreenMode=SCREEN_CONTINUE
	ElseIf Button ("M U L T I P L A Y E R", 20,450)
		ScreenMode=SCREEN_MULTIPLAYER
	ElseIf Button ("O P T I O N S",20,500)
		ScreenMode=SCREEN_OPTIONS
	ElseIf Button ("Q U I T",20,550)
		ScreenMode=SCREEN_QUIT
	EndIf   
End Function 
</pre><br><br><br>MAIN GAME PROBLEM<br><br>I cannot say anything without seeing the complete code...<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Newb&lt; lmao dude you're my hero, but now it seems that the image is centered in the lower right of the screen, and music is only played when program has ended. I have linked my complete code above, as well, this was updated:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> ;Opening Settings
AppTitle "Relics of Cilldrea
Graphics3D 1200,800,32,2
light=CreateLight()
camera=CreateCamera()
SetBuffer BackBuffer()
WBuffer enable

;---------------------------------------------------
;Set Global
Global ScreenMode%,TitleTime%,TextTime%
Global MouseButton%,MouseXPos%,MouseYPos%
Global Logo=LoadImage("Red-Sky-Texture.jpg")
Global music=LoadSound("FFX.mp3")
Const Pressed%=1
Const SCREEN_TITLE%=0,SCREEN_GAME%=1,SCREEN_CONTINUE%=2,SCREEN_MULTIPLAYER%=3
Const SCREEN_OPTIONS%=4,SCREEN_QUIT%=5

;Screen Mode__________________________________________
Repeat
		Cls
		MouseButton=MouseHit(1)
		MouseXPos=MouseX()
		MouseYPos=MouseY()
	If ScreenMode=0
		Title_Screen()
	ElseIf ScreenMode=1
		Main_Game()
	EndIf
	
		Flip
Until KeyHit(1)


;Title________________________________________________
Function Title_Screen()

	DrawBlock logo,GraphicsWidth(),GraphicsHeight()
	Text 700,100,"Relics of Cilldrea",0,0
	Text 1050,750,"Beta 0.1",0,0
	Text 650,700,"2012 Eightball Entertainment",0,0
	mc=PlaySound(music)
	LoopSound music

	If Button ("N E W  G A M E",20,350)
		ScreenMode=SCREEN_GAME
	ElseIf	Button ("C O N T I U E",20,400)
		ScreenMode=SCREEN_CONTINUE
	ElseIf Button ("M U L T I P L A Y E R", 20,450)
		ScreenMode=SCREEN_MULTIPLAYER
	ElseIf Button ("O P T I O N S",20,500)
		ScreenMode=SCREEN_OPTIONS
	ElseIf Button ("Q U I T",20,550)
		ScreenMode=SCREEN_QUIT
EndIf   
End Function </textarea> <br><br></td></tr></table><br>
<a name="1168691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Funny, I changed <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> DrawBlock logo,GraphicsWidth()/2,GraphicsHeight()/2 </textarea><br><br>to<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> DrawBlock logo,GraphicsWidth()1200,GraphicsHeight()/800 </textarea><br><br>worked like a charm <br><br></td></tr></table><br>
<a name="1168707"></a>

<a name="1168708"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> So using your code, and some teeth gritting time in paint, I've managed to create an in game menu, it's still a work in progress, but in the end I think it'll turn out ok. Eventually I'd like to see character portraits/health bars etc... / possibly a game map,location/currency counter/time... just to start. Problem I'm having right now is figuring out how to make each individual menu option to do something different.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> Graphics3D 1200,800,32,2
AppTitle "Ingame Menu Testing"
light=CreateLight()
camera=CreateCamera()
SetBuffer BackBuffer()
WBuffer enable

;---------------------------------------------------
;Set Global
Global ScreenMode%,TitleTime%,TextTime%
Global MouseButton%,MouseXPos%,MouseYPos%
Global gamemenu=LoadImage("gamemenu.png")
Global fntCambriaB
Const Pressed%=1
Const GAME_MENU%=0,MENU_ITEMS%=1,MENU_EQUIPMENT%=2,MENU_ABILITIES%=3,MENU_JOURNAL%=4
Const MENU_CONTROLS%=5,MENU_OPTIONS%=6,MENU_QUIT%=7

;Screen Mode__________________________________________
Repeat
		Cls
		MouseButton=MouseHit(1)
		MouseXPos=MouseX()
		MouseYPos=MouseY()
	If ScreenMode=0
		Game_Menu()
	EndIf
	
		Flip
Until KeyHit(1)


;Menu_______________________________________________________
Function Game_Menu()
	
	DrawBlock gamemenu,GraphicsWidth()/1200,GraphicsHeight()/800
	fntCambriaB=LoadFont("Cambria",75,True,False,False)
	fntCambria=LoadFont("Cambria",50,False,False,False)
	fntCambriaA=LoadFont("Cambria",24,False,False,False)
	
	SetFont fntCambriaA
	If Button ("I T E M S",800,150)
		ScreenMode=MENU_ITEMS
	ElseIf	Button ("E Q U I P M E N T",850,200)
		ScreenMode=MENU_EQUIPMENT
	ElseIf Button ("A B I L I T I E S",800,250)
		ScreenMode=MENU_ABILITIES
	ElseIf Button ("J O U R N A L",850,300)
		Screenmode=MENU_JOURNAL
	ElseIf Button ("C O N T R O L S",800,350)
		Screenmode=MENU_CONTROLS
	ElseIf Button ("O P T I O N S",850,400)
		Screenmode=MENU_OPTIONS
	ElseIf Button ("Q U I T",800,450)
		Screenmode=MENU_QUIT
	EndIf 
End Function 

Function Button%(ButtonText$,X%,Y%) 
	; find out the dimensions of the text 
	Local Width%=StringWidth(ButtonText)+10 
	Local Height%=StringHeight(ButtonText)+10
	
	;draw the button
	Color 0,0,0
	Text X+5,Y+5,ButtonText
	Color 255,0,0
	Rect  X,Y,Width, Height,0

	;check the mouse
	If MouseButton=PRESSED
			If MouseXPos&gt;X And MouseXPos&lt;X+Width
				If MouseYPos&gt;Y And MouseYPos&lt;Y+Height
					DebugLog "inside"
					; result:mouse inside
					Return True
				EndIf
			EndIf
	EndIf

	; result: not inside 
	Return False 
End Function 
</textarea><br><br>EDIT: Apologies, massive fail on the image link<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Figured it out, thanks again Midimaster, your help has been invaluable <br><br></td></tr></table><br>
<a name="1168716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> GRAPHICS3D?<br><br>are you planning to add 3d functionality?<br>Because if not, there is no reason for adding light and camera, etc...<br><br><br><br>IMAGE CENTERED?<br><br>If you have an image that is as big as your graphic screen, there is non need to center it: <pre class=code>DrawBlock gamemenu,0,0</pre><br><br>That is exactly what you are doing here: <pre class=code> DrawBlock logo,GraphicsWidth()/1200,GraphicsHeight()/800 </pre> GraphisWidth/1200=0!!! <br><br><br>The reason why this... <pre class=code>DrawBlock logo,GraphicsWidth()/2,GraphicsHeight()/2</pre> ...is not centered correct, is because the drawing origin of images is default at its top left corner. If you want to move the "Zero-point" towards the middle of an image, you can use this command:<br><br><pre class=code>MidHandle gamemenu</pre><br><br><br>PLAYSOUND()<br><br>The command is only necessary one time to start the music. So if you place it inside the REPEAT/UNTIL the code will (re-)start it over and over again. Effect:You just can hear it in the end, when nothing "disturbes" the playing any more.<br><br>If you want to hear it during the menu, plce it here:<br><pre class=code>....
Const SCREEN_OPTIONS%=4,SCREEN_QUIT%=5

	LoopSound music
	mc=PlaySound(music)

;Screen Mode__________________________________________
Repeat
		Cls
		MouseButton=MouseHit(1)
....</pre><br>and... first  LoadSound(), then LoopSound(), then PlaySound()!!!<br><br><br><br>MENU OPTIONS<br><br>As you set the variable ScreenMode correct, you only have to add IF-commands in the main loop to branch to the corresponding functions. I demonstrated this already with the branch MainGame() in a former post #10.<br><pre class=code>If ScreenMode=SCREEN_GAME
	Game_Menu()
ElseIf ScreenMode=SCREEN_CONTINUE
	MainGame()
ElseIf ScreenMode=SCREEN_MULTIPLAYER
	;??
ElseIf ScreenMode=SCREEN_OPTIONS
	GameOptions()
ElseIfScreenMode=SCREEN_QUIT
	End
EndIf   
</pre><br><br>Of course this must be followed by the corresponding functions:<br><pre class=code>Function Game_Menu()
   ; your code already exists
End

Function GameOptions()
    Color 255,0,0
    Rect 400,400,100,100
    If Button ("BACK",20,550)
        ScreenMode=SCREEN_GAME
    Endif
EndIf   

End

Function MainGame()
    Color 0,0,255
    Rect MouseX(),400,100,100
    If Button ("BACK",20,550)
        ScreenMode=SCREEN_GAME
    Endif
End

; and so on:
Function WhatEver()
.....
    If Button ("BACK",20,550)
        ScreenMode=SCREEN_GAME
    Endif
End
</pre><br>Inside this functions you write whatever you want to display. The functions will be called 60 times a second after each FLIP<br><br><br>Often you have to problem to do something only once when the function is called first. In this case you add a flag FIRSTTIME%<br><br><pre class=code>Global FirstTime%
Const OFF%=0, ON%=1
....
Function MainGame()
    If FirstTime=OFF Then
          FirstTime=ON
          PlayMusic InGameSong
          ; do more thing only once
    Endif
    Color 0,0,255
    Rect MouseX(),400,100,100
    If Button ("BACK",20,550)
        ScreenMode=SCREEN_GAME
        FirstTime=OFF
    Endif
End</pre> <br><br></td></tr></table><br>
<a name="1168786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, this may explain a small bug I've encountered, if the program is left up and running long enough, it encounters a text error, saying the text doesn't exist, would this have to do with it being loaded 60 times per second? <br><br>I've also created a loading screen background, and obtained some archive code to generate a loading bar when transferring between screen modes. I haven't attempted to implement it yet, simply because I feel that with my current understanding that this screen would just create more for the game to load and would be no benefit to the program. Is this how all loading screens are supposed to work? How would I go about inserting this between the title menu and the main game functions while it's loading?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> ; -----------------------------------------------------------------------------
; Loading Bar
; -----------------------------------------------------------------------------
Function ccLoadingBar(Percent#) ;Percent must be float from 0.0 to 1.0
	SetBuffer BackBuffer() ;precaution
	BarWidth = 400
	BarHeight# = 40 ;float so colour calc below returns float
	BarStartX = (ScreenWidth-BarWidth)/2 
	BarStartY = (ScreenHeight-BarHeight)/2 
	ccRectGradient(4, BarStartX-1, BarStartY-1, BarWidth+2, BarHeight+2)
	Color 0,0,0 ;draw a black one to cover up old percent text
	Rect BarStartX, BarStartY, BarWidth, BarHeight, 1 ;only need this line if no CLS was performed since last draw	
	Color 0,0,255 ;now a blue bar
	Local Max = 100
	For i = 0 To BarHeight-1
		;not full brightness
		If i &gt; BarHeight/2 Then
			Local Col = (((BarHeight-i)+1)/(BarHeight/2)) * Max
		Else
			Col = ((i+1)/(BarHeight/2)) * Max
		EndIf
		Col = 50 + (Col * 1.5) ;avoid totally black bits
		Color 0,0,Col
		Rect BarStartX, BarStartY+i, BarWidth*Percent, 1, 1	
	Next
	Color 255,255,255
	;this assumes that the default font is loaded not another one!
	Text(ScreenWidth/2, (ScreenHeight/2)-(FontHeight()/2), ccPercentToString(Percent) + "%", True)
	Flip
End Function

Function ccRectGradient(Depth#, x, y ,w, h) ;depth in pixels
	For i = 0 To Depth-1
		Local Col = 255 - (((i+1)/Depth) * 255) ;depth is float so that i/depth returns a float 
		Color Col, Col, Col
		Rect x-i, y-i, w+i*2, h+i*2, 0
	Next
End Function

; -----------------------------------------------------------------------------
; Percent To String
; -----------------------------------------------------------------------------
Function ccPercentToString(Per#)
	;simply times by 100 then look for decimal place and chop it and everything past it
	;warning no range checking is performed
	Local PerString$ = Per * 100
	Return Mid$(PerString, 1, Instr(PerString, ".", 1)-1)
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1168787"></a>

<a name="1168788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nearly forgot... As for the graphics mode, I didn't feel like calling graphics twice, as my game is 3D I just called it once, and it seems to work well enough, the title screen loads into the game itself very well, it just takes roughly 30 seconds to transfer between the two, which is why I'd like to put this loading bar into effect.<br><br>EDIT: As for centering the image, I thought the code required that I typed it that way. Changed it to <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> DrawBlock logo,0,0 </textarea><br><br>thanks a million<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1168793"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> normaly it is not necessary to add a progress bar, because loading is so fast nowadays.<br><br>It is also not the code you should focus on at such an early moment....<br><br>I would suggest to focus on the game itself! There is so much to do...<br><br><br>If you heartly want to do something like this, load one picture of your logo, show it <br><pre class=code>
LoadImage()
DrawImage()
Flip

;now loadAnything...
...
;Main Loop
Repeat
    Cls
    .....
    Flip
Until KeyHit()
</pre><br>then continue with loading other things. The picture will keep on the screen <br><br></td></tr></table><br>
<a name="1168804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a game I have been developing for 11 years, I just started working code since this October, story/items/abilities/equipment so on and so forth are very indepth. The reason I would like to impliment this is like i said, it takes roughly 30 seconds for the program to go from loading screen-to the main game. Initially I didn't think it was going to work but patience is a virtue. for the past two months I have been building cities/the main world/and rooms in 3d modeling programs and currently have a few of them in place. It is quite enjoyable watching all my work finally coming to life. The problem is that I'm doing this 100% by myself, so it is very time consuming, putting my imagination into blitz/sketchup/blender.<br><br>There are two GIANT hurdles in my future that I barely understand animation, attempting to animate a blank...white...3d model of a character to control in the game is incredibly difficult, i can get a model in there, but i cant get it to animate.<br><br>second... creating my combat system---(fighting/equipment/stats/abilities/and items) are all beyond my current level of understanding on coding. Not to seem like a mooch on the forums, but in the future expect many....posts here in the beginners section. <br><br></td></tr></table><br>
<a name="1168854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.. 30 seconds is a lot! this could make a progress bar necessary. At the other hand... perhaps you are able to load not all datas in the first moment...<br><br>I would suggest to load a company logo with some music. And you could switch the progress bar after each file loaded. You can use your ccLoadingBar() function, but remove the SETBUFFER() and FLIP commands and integrate it as a function in the existing main loop:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Graphics 800,600
SetBuffer BackBuffer()

Global MouseButton%, MouseXPos%, MouseYPos%
Const PRESSED%=1

Global ScreenMode%, TitleTime%, TextTime%
Const  SCREEN_LOAD%=10,SCREEN_TITLE%=0, SCREEN_GAME%=1, SCREEN_OPTIONS%=3

Global Loaded%, MaxLoads#=25
ScreenMode=SCREEN_LOAD
Repeat
	Cls
	MouseButton=MouseHit(1)
	MouseXPos=MouseX()
	MouseYPos=MouseY()

    If ScreenMode=0
        Title_Screen()
    ElseIf ScreenMode=1
        Main_Game()
    ElseIf ScreenMode=SCREEN_LOAD

        LoadingScreen()
    EndIf
	
	Flip
Until KeyHit(1)


Function LoadingScreen()
	Color 255,255,255
	Text 400,30," MY  C O M P A N Y 2"
	Loaded=Loaded+ 1
	Select Loaded
		Case 1
			;Enemy=LoadImage(...)
			Delay 400
		Case 12
			;Music=LoadSound(...)
			Delay 2000
		Case MaxLoads
			ScreenMode=SCREEN_TITLE
		Default
			Delay(Rnd(500))
	End Select
	f#=Loaded
	f=f/MaxLoads
	DebugLog loaded+ " " + f
	ProgressBar f
		
End Function




Function ProgressBar(percent#)
;DebugLog percent

	Color 255,255,0
	Rect 60,600,400,20
	Rect 60,400,600*percent,20
End Function




Function Title_Screen()
	If Button ("S T A R T   G A M E     ",100,400)
		ScreenMode=SCREEN_GAME
	ElseIf	Button ("G A M E  O P T I O N S",300,200)
		ScreenMode=SCREEN_OPTIONS
	EndIf
End Function



Function Button%(ButtonText$,X%,Y%)
	; find out the dimensions of the text
	Local Width%=StringWidth(ButtonText)+10
	Local Height%=StringHeight(ButtonText)+10
	
	;draw the button
	Color 255,255,255
	Text X+5,Y+5,ButtonText
	Color 255,0,0
	Rect  X,Y,Width, Height,0

	;check the mouse
	If MouseButton=PRESSED
			If MouseXPos&gt;X And MouseXPos&lt;X+Width
				If MouseYPos&gt;Y And MouseYPos&lt;Y+Height
					DebugLog "inside"
					; result:mouse inside
					Return True
				EndIf
			EndIf
	EndIf

	; result: not inside
	Return False
End Function



Function Main_Game()
	Color 0,255,0
	Rect  0,0,800,600

End Function
</textarea> <br><br></td></tr></table><br>
<a name="1168949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gonna give that a shot, and see what happens, Thanks again <br><br></td></tr></table><br>
<a name="1168967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I integrated this code, but for some reason I cant place it in between the title screen and the main game <br><br></td></tr></table><br>
<a name="1168975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> the order is set by the value of ScreenMode%. In my sample ScreenMode% is set on 10 at the beginning. So it starts with the loading...<br><br>Inside te loading screen a counter goes from 1 to 25 to simulate the 25 files to be loaded. In the last step ScreenMode% will be set to 0 to switch to the title screen.<br><br><br><br>If you want to place it between the title screen and the game screen you need to set the ScreenMode% on 0 at the beginning. Game starts with the title screen. Now the menu...<br><br> 	If Button ("S T A R T   G A M E     ",100,400)<br><br>... must set the ScreenMode% to 10. Effect: The loading screen starts, when user want to start the game.<br><br>Now the inside counter runs from 0 to 25. In step 25 ScreenMode% must be set to 1. Effect: game screen will be displayed.<br><br><br><br>What problem do you have? What effect do you see? Cannot help without code... <br><br></td></tr></table><br>
<a name="1169371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> that could possibly be the problem, I set the screen mode for the loading screen to 6. I didn't realize there was a purpose for it being 10? I continue to assume that since it's the last one in the sequence that it should work properly, however I will attempt to try it this way.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> ;Set Global
Global ScreenMode%,TitleTime%,TextTime%
Global MouseButton%,MouseXPos%,MouseYPos%
Global Logo=LoadImage("Red-Sky-Texture.jpg")
Global music=LoadSound("FFX.mp3")
Global fntCambriaB
Global Loaded%,MaxLoads#=25
Const Pressed%=1
Const SCREEN_TITLE%=0,SCREEN_GAME%=1,SCREEN_CONTINUE%=2,SCREEN_MULTIPLAYER%=3
Const SCREEN_OPTIONS%=4,SCREEN_QUIT%=5,SCREEN_LOAD%=6

	LoopSound music
	mc=PlaySound(music)

;Screen Mode__________________________________________
Repeat
		Cls
		MouseButton=MouseHit(1)
		MouseXPos=MouseX()
		MouseYPos=MouseY()
	If ScreenMode=0
		Title_Screen()
	ElseIf ScreenMode=1
		Main_Game()
	ElseIf ScreenMode=SCREEN_LOAD
		LoadingScreen()

	EndIf 
	
		Flip
Until ScreenMode=5 Or KeyHit(1)

;Loading Bar__________________________________________
Function LoadingScreen()
	Color 255,255,255
	Text 400,30," MY  C O M P A N Y 2"
	Loaded=Loaded+ 1
	Select Loaded
		Case 1
			;Enemy=LoadImage(...)
			Delay 400
		Case 12
			;Music=LoadSound(...)
			Delay 2000
		Case MaxLoads
			ScreenMode=SCREEN_TITLE
		Default
			Delay(Rnd(500))
	End Select
	f#=Loaded
	f=f/MaxLoads
	DebugLog loaded+ " " + f
	ProgressBar f
		
End Function




Function ProgressBar(percent#)
;DebugLog percent

	Color 255,255,0
	Rect 60,600,400,20
	Rect 60,400,600*percent,20
End Function

;Title________________________________________________
Function Title_Screen()
	
	DrawBlock logo,0,0
	fntCambriaB=LoadFont("Cambria",75,True,False,False)
	fntCambria=LoadFont("Cambria",50,False,False,False)
	fntCambriaA=LoadFont("Cambria",24,False,False,False)
	SetFont fntCambriaB
	Color 0,0,0
	Text 700,100,"Relics of Cilldrea",0,0
	SetFont fntCambria
	Text 1050,750,"Beta 0.1",0,0
	Text 650,700,"2012 Eightball Entertainment",0,0
	
	SetFont fntCambriaA
	If Button ("N E W  G A M E",20,350)
		ScreenMode=SCREEN_GAME
	ElseIf	Button ("C O N T I U E",20,400)
		ScreenMode=SCREEN_CONTINUE
	ElseIf Button ("M U L T I P L A Y E R", 20,450)
		ScreenMode=SCREEN_MULTIPLAYER
	ElseIf Button ("O P T I O N S",20,500)
		ScreenMode=SCREEN_OPTIONS
	ElseIf Button ("Q U I T",20,550)
		ScreenMode=SCREEN_QUIT
	EndIf   
End Function 

Function Button%(ButtonText$,X%,Y%) 
	; find out the dimensions of the text 
	Local Width%=StringWidth(ButtonText)+10 
	Local Height%=StringHeight(ButtonText)+10
	
	;draw the button
	Color 0,0,0
	Text X+5,Y+5,ButtonText
	Color 255,0,0
	Rect  X,Y,Width, Height,0

	;check the mouse
	If MouseButton=PRESSED
			If MouseXPos&gt;X And MouseXPos&lt;X+Width
				If MouseYPos&gt;Y And MouseYPos&lt;Y+Height
					DebugLog "inside"
					; result:mouse inside
					Return True
				EndIf
			EndIf
	EndIf

	; result: not inside 
	Return False 
End Function 



Function Main_Game()
camera=CreateCamera()
CameraRange camera,1,10000
CameraClsColor camera,0,0,255
AmbientLight 100,100,100

;Object Transparency/Collision Types
alpha#=1
type_player=2 
type_scenery=3 
etc....

</textarea> <br><br></td></tr></table><br>
<a name="1169435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> of course it does not matter if you use 6 or 10! <br><br>And if you send a sort of my code in your answer instead of your (problematic) code, I cannot help you...<br><br>What is the code, you are using at the moment? <br><br></td></tr></table><br>
<a name="1169508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> I refer you to comment #26 my friend <br><br></td></tr></table><br>
<a name="1169518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry, i do not understand...<br><br>you wrote:<br><div class="quote"> I integrated this code, ... <br></div><br>where to?<br><br>is it difficult to send me the current state of your version? <br><br></td></tr></table><br>
<a name="1169525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't realize you wanted the whole thing, <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80"> ;Opening Settings
AppTitle "Relics of Cilldrea
Graphics3D 1200,800,32,2
light=CreateLight()
camera=CreateCamera()
SetBuffer BackBuffer()
WBuffer enable

;---------------------------------------------------
;Set Global
Global ScreenMode%,TitleTime%,TextTime%
Global MouseButton%,MouseXPos%,MouseYPos%
Global Logo=LoadImage("Red-Sky-Texture.jpg")
Global music=LoadSound("FFX.mp3")
Global fntCambriaB
Global Loaded%,MaxLoads#=25
Const Pressed%=1
Const SCREEN_TITLE%=0,SCREEN_GAME%=1,SCREEN_CONTINUE%=2,SCREEN_MULTIPLAYER%=3
Const SCREEN_OPTIONS%=4,SCREEN_QUIT%=5,SCREEN_LOAD%=10

	LoopSound music
	mc=PlaySound(music)

;Screen Mode__________________________________________
Repeat
		Cls
		MouseButton=MouseHit(1)
		MouseXPos=MouseX()
		MouseYPos=MouseY()
	If ScreenMode=0
		Title_Screen()
	ElseIf ScreenMode=1
		Main_Game()
	ElseIf ScreenMode=10
		LoadingScreen()

	EndIf 
	
		Flip
Until ScreenMode=5 Or KeyHit(1)

;Loading Bar__________________________________________
Function LoadingScreen()
	Color 255,255,255
	Text 400,30," MY  C O M P A N Y 2"
	Loaded=Loaded+ 1
	Select Loaded
		Case 1
			;Enemy=LoadImage(...)
			Delay 400
		Case 12
			;Music=LoadSound(...)
			Delay 2000
		Case MaxLoads
			ScreenMode=SCREEN_TITLE
		Default
			Delay(Rnd(500))
	End Select
	f#=Loaded
	f=f/MaxLoads
	DebugLog loaded+ " " + f
	ProgressBar f
		
End Function




Function ProgressBar(percent#)
;DebugLog percent

	Color 255,255,0
	Rect 60,600,400,20
	Rect 60,400,600*percent,20
End Function

;Title________________________________________________
Function Title_Screen()
	
	DrawBlock logo,0,0
	fntCambriaB=LoadFont("Cambria",75,True,False,False)
	fntCambria=LoadFont("Cambria",50,False,False,False)
	fntCambriaA=LoadFont("Cambria",24,False,False,False)
	SetFont fntCambriaB
	Color 0,0,0
	Text 700,100,"Relics of Cilldrea",0,0
	SetFont fntCambria
	Text 1050,750,"Beta 0.1",0,0
	Text 650,700,"2012 Eightball Entertainment",0,0
	
	SetFont fntCambriaA
	If Button ("N E W  G A M E",20,350)
		ScreenMode=SCREEN_GAME
	ElseIf	Button ("C O N T I U E",20,400)
		ScreenMode=SCREEN_CONTINUE
	ElseIf Button ("M U L T I P L A Y E R", 20,450)
		ScreenMode=SCREEN_MULTIPLAYER
	ElseIf Button ("O P T I O N S",20,500)
		ScreenMode=SCREEN_OPTIONS
	ElseIf Button ("Q U I T",20,550)
		ScreenMode=SCREEN_QUIT
	EndIf   
End Function 

Function Button%(ButtonText$,X%,Y%) 
	; find out the dimensions of the text 
	Local Width%=StringWidth(ButtonText)+10 
	Local Height%=StringHeight(ButtonText)+10
	
	;draw the button
	Color 0,0,0
	Text X+5,Y+5,ButtonText
	Color 255,0,0
	Rect  X,Y,Width, Height,0

	;check the mouse
	If MouseButton=PRESSED
			If MouseXPos&gt;X And MouseXPos&lt;X+Width
				If MouseYPos&gt;Y And MouseYPos&lt;Y+Height
					DebugLog "inside"
					; result:mouse inside
					Return True
				EndIf
			EndIf
	EndIf

	; result: not inside 
	Return False 
End Function 



Function Main_Game()
camera=CreateCamera()
CameraRange camera,1,10000
CameraClsColor camera,0,0,255
AmbientLight 100,100,100

;Object Transparency/Collision Types
alpha#=1
type_player=2 
type_scenery=3 

;Player
sphere=CreateSphere()
ScaleEntity sphere,0.1,0.1,0.1
EntityColor sphere,255,0,0
PositionEntity sphere,3767.575684,173.597656,3840.225586
PositionEntity camera,3767.575684,174,3837
ScaleEntity sphere,0.1,0.1,0.1
EntityType sphere,type_player
EntityType camera,Type_player
EntityParent camera,sphere


;Global Maps
plane=CreatePlane()
EntityColor plane,255,255,255
EntityType plane,type_scenery
zone1=LoadMesh("zone1.3ds")
PositionEntity zone1,0,-1,0
ScaleEntity zone1,0.1,0.1,0.1
EntityType zone1,Type_scenery
EntityRadius zone1,2
EntityBox zone1,-2,-2,-2,4,4,4

;Locations
;Cilldrea
	Cilldrea=LoadMesh("Cilldrea.3ds")
	PositionEntity Cilldrea,4085,168,3470
	ScaleEntity Cilldrea,0.1,0.1,0.1
	RotateEntity Cilldrea,0,145,0
	EntityType Cilldrea,Type_scenery
	EntityRadius Cilldrea,2
	EntityBox Cilldrea,-2,-2,-2,4,4,4
	A=CreateCube()
	PositionEntity A,52.271523,0.826000,32.899349
	EntityColor A,255,0,0
	EntityType A,type_scenery
;Siria
	Siria=LoadMesh("Siria.3ds")
	PositionEntity Siria,1324.533203,172,3992.619385
	ScaleEntity Siria,0.1,0.1,0.1
	EntityType Siria,Type_scenery
	EntityRadius Siria,2
	EntityBox Siria,-2,-2,-2,4,4,4
;Inferenza

;Cities/Buildings
;Cilldrea Item Store
itemstore=LoadMesh ("item_store.3ds")
ScaleEntity itemstore,0.3,0.3,0.3
EntityType itemstore,type_scenery
HideEntity itemstore
AA=CreateCube()
PositionEntity AA,3838.277588,248.776001,3349.664307
ScaleEntity AA,0.5,0.5,0.5
EntityColor AA,255,0,0
EntityType AA,type_scenery
;Cilldrea Castle

;Player Object Keyboard and Mouse Controls
While Not KeyDown(1)
If KeyDown(32)=True Then MoveEntity sphere,1,0,0
If KeyDown(30)=True Then MoveEntity sphere,-1,0,0
If KeyDown(31)=True Then MoveEntity sphere,0,0,-0.05
If KeyDown(17)=True Then MoveEntity sphere,0,0,0.05
If KeyDown(207)=True Then MoveEntity camera,0,0,1
If KeyDown(199)=True Then MoveEntity camera,0,0,-1
If KeyDown(29)=True Then MoveEntity sphere,0,10,0
If KeyHit(57)=True Then MoveEntity sphere,0,10,0
If MouseDown(1) Then MoveEntity sphere,0,0,5
If MouseDown(3) Then MoveEntity sphere,0,0,0.5
;MOUSEPAN________________________________________
If MouseDown(2) And panstatus%=0 Then ;Check if right mouse button is pressed down
		panstatus%=1 ;Set the camera panning status to 1
		MoveMouse GraphicsWidth()/2,GraphicsHeight()/2 ;Reset the mouse to the center
	EndIf
	
	If panstatus%=1;When panstatus is 1, use the mouse to rotate the camera.
		
		mxs# = mxs# + MouseXSpeed()
		mys# = mys# + MouseYSpeed()
		RotateEntity sphere,0,-mxs#,0
		RotateEntity camera,mys#,0,0
		MoveMouse(GraphicsWidth()/2,GraphicsHeight()/2);Keep the mouse centered...
		If MouseDown(2)=False Then panstatus%=0;If right mouse button is released, free the mouse and stop panning the camera
	EndIf
	
	mxs# = mxs# + MouseXSpeed()
	mys# = mys# + MouseYSpeed()
	If msx# &gt; 90 Then mxs# = 0
	If msx# &lt; 0 Then Msx# = 90
	If Mys# &gt; 45 Then mys# = 45
	If mys# &lt; -45 Then mys# = -45
	


;Gravity
MoveEntity sphere,0,-0.50,0


;Set Collision Method and Response Values
method=2 
method_info$="ellipsoid-to-polygon" 

;Enable collisions between type_character and type_scenery 
Collisions type_player,type_scenery,method,response 

;Enable collisions between world/buildings/player
For k = 1 To CountCollisions(sphere)

  If CollisionEntity(sphere,k) = A Then 
	UpdateWorld 
    HideEntity Cilldrea
	HideEntity zone1
	HideEntity A
	HideEntity Siria
	ShowEntity itemstore
	ShowEntity AA
	PositionEntity itemstore,1,5000,1
	PositionEntity sphere,1,5001,1
	PositionEntity cone,1,5001,1
	PositionEntity camera,1,5002,-2
	UpdateWorld 
  EndIf
  
  If CollisionEntity(sphere,k) = AA Then
	HideEntity itemstore
	HideEntity AA
	ShowEntity zone1
	ShowEntity A   
	PositionEntity sphere,183.7,65,67
	PositionEntity camera,183.7,66,64
	UpdateWorld 
  EndIf
Next

Flip
UpdateWorld
RenderWorld 
Text 10,10, "x: " + EntityX(sphere) +"  y: " + EntityY(sphere) + "  z:  " + EntityZ(sphere)
Wend
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1169526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> I apologize if my responses are limited on this topic, I have shifted gears on integrating a 3d character model, traveling around as a red sphere is becoming taxing on my creative nature <br><br></td></tr></table><br>
<a name="1169564"></a>

<a name="1169570"></a>

<a name="1169571"></a>

<a name="1169572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you for the code. I will have a look on it and call back...<br><br>for 3d model questions I would open a new thread...<br><br><br>***EDIT**** <br><br>your code:<br><br>1.<br>If you want to start with the LoadingScreen you should set ScreenMode% to 10 before the REPEAT command<br><br>2.<br>Loading sound before REPEAT is OK, because you already will hear a music during loading the rest.<br><br>3.<br>instead of my "MY COMPANY" you should draw your company logo there<br><br>4.<br>Where I wrote ";Enemy=LoadImage..." of course you should add all your loading stuff, each stuff in one CASE statement, remove the DELAYs. I only entered it to simulate time consumption.<br><br>5.<br>You also should move all FONT loading in the LoadingScreen(). The function Title_Screen() is the wrong place.<br><br>6.<br>Also move all loading of *.3ds" files into the LoadingScreen() function. Do not forget to make all the mesh variables GLOBAL, if you need them later again<br><br>7.<br>Count all loading stuff and change the variable MaxLoads#=25 to the correct number.<br><br>8. <br>Your are creating two cameras. This is wrong!<br><br>9. <br>Divide the Main_Game() in two functions: one who does the stuff, which has to be done only once. And a second function which only contains the WHILE/WEND stuff. But without WHILE/WEND!<br><br>Call the first function Main_Prepair() and at its end switch ScreenMode% again.<br><br><pre class=code>Global SCREEN_RUN%=11
.....
Repeat
		Cls
		MouseButton=MouseHit(1)
		MouseXPos=MouseX()
		MouseYPos=MouseY()
	If ScreenMode=0
		Title_Screen()
	ElseIf ScreenMode=1
		Game_Prepair()
	ElseIf ScreenMode=SCREEN_RUN
		Main_Game()
	ElseIf ScreenMode=10
		LoadingScreen()
	EndIf 	
	Flip
Until ScreenMode=5 Or KeyHit(1)
.....


Function Main_Prepair()
	camera=CreateCamera()
	CameraRange camera,1,10000
	CameraClsColor camera,0,0,255
......
......
	ScaleEntity AA,0.5,0.5,0.5
	EntityColor AA,255,0,0
	EntityType AA,type_scenery
	;Cilldrea Castle

	ScreenMode=SCREEN_RUN%
End Function


Function MainGame()
	If KeyDown(32)=True Then MoveEntity sphere,1,0,0
	If KeyDown(30)=True Then MoveEntity sphere,-1,0,0
	If KeyDown(31)=True Then MoveEntity sphere,0,0,-0.05
.....
.....
	  EndIf
	Next
			
	UpdateWorld
	RenderWorld 
	Text 10,10, "x: " + EntityX(sphere) +"  y: " + EntityY(sphere) + "  z:  " + EntityZ(sphere)
End Function
</pre><br><br>You need no another FLIP in this Main_Game()!!!<br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1169595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >airborne</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will give this some thought, I didn't change those couple things while testing it just to see if it would do something, didn't do anything, but thanks for the tips. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
