<!DOCTYPE html><html lang="en" ><head ><title >computer ai</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >computer ai</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >computer ai</a><br><br>
<a name="489126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grindalf</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i was trying to make some decent oponents for a first person shooter but my ai is terrible i would like to be able to sneak up behind the opponent but if i use entity in view they see me (obviously). i also tried to make an invisible vision cone that if collided with ment they could see me but it dident work propely, there must be a simple solution<br><br>please can someone tell me what it is <br><br></td></tr></table><br>
<a name="489132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The cone sounds like a good idea, why didn't it work? of course, it would need some checks in case you were in the field of vision of the enemy, but behind a wall etc...<br><br>Entity-In-View would assume the enemy mesh would have 360-degree vision, so his needs combining withsome Entity-Facing checking.<br><br>Erm.. Im going away to think some more... 'Ohmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmmm' <br><br></td></tr></table><br>
<a name="489214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NewtSoup</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have tried using a cone as an invisible "sensor" and the problem is if the entity you are trying to detect resides entirely within the mesh of the sensor cone then meshesintersect() returns false because they are not intersecting.<br><br>One possible way around this is to define your own volume in front of your AI creature and manually work out if your player is within that volume.<br><br>another possible way is to detect collisions against the invisible mesh and use render tweening.  this reduces the number of program cycles needed for each animation frame and will detect if your player collided with the mesh during the last cycle. <br> <br>both of these combined with entityInView this will cope with obscuring objects such as walls, crates etc.<br><br>they still may not be the best ways of doing this :/ <br><br></td></tr></table><br>
<a name="489234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great idea Luke!<br>-RZ <br><br></td></tr></table><br>
<a name="489264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >doctorskully</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm... what's wrong with EntityInView or EntityVisible?  It doesn't seem to assume three hundred sixty degrees of vision.  There is some function, I think it is EntityPickMode, that will allow an entity to obscure other entities during an EntityVisible call, so objects in the way shouldn't be a problem if you set them up with that.  Try that out. <br><br></td></tr></table><br>
<a name="489924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Attach a pivot to the enemy to act as their eyes.<br><br>Pointentity this pivot to the target then do an entitypick.<br><br>If the pick can see your target then check the EntityYaw of the pivot for your field of view e.g. for a 90 degree field of view do<br><br>If abs(entityyaw(lookpivot))&lt;45 <br>;Turn toward player etc... <br><br></td></tr></table><br>
<a name="490119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> tformnormal / tformvector are another way to check if something is within a field of view.<br><br>Basically do this:<br><br>TargetEntity = handle of entity you wish to see if it is within view.<br>EyeEntity = handle of entity which is trying to see something<br><br><pre class=code>
ICanSeeYou=false
Tformnormal Entityx(TargetEntity)-Entityx(EyeEntity),Entityy(TargetEntity)-EntityY(EyeEntity),Entityz(TargetEntity)-Entityz(EyeEntity),0,EyeEntity
;assuming that in eyeentity's space z = forwards

;SomeFactor# is a value between 0 and 1.0, which you want to set the value close to 1.0 if you want a narrow field of view (1.0=dead ahead).  A value of 0.0 would make the field of view a hemispherical one.  As a suggestion try a value of about 0.7 to start with.
SomeFactor#=0.7
if TformedZ()&gt;SomeFactor# then 
;ie we are in the field of view....so alright to do a linepick now as they are quite slow...(there are other ways of doing it without a line pick depending on your geometry)
radiusoflinepick#=0.1 ;you set this value to what you feel is appropriate
Entity=linepick( Entityx(EyeEntity),EntityY(eyeentity),entityz(eyeentity),Entityx(TargetEntity)-Entityx(EyeEntity),Entityy(TargetEntity)-EntityY(EyeEntity),Entityz(TargetEntity)-Entityz(EyeEntity),radiusoflinepick#)
if entity=targetentity then ICanSeeYou=true 
endif 

</pre><br><br>This way you only do the linepick if the entity is within your cone of view.  I try to avoid the picking commands whereever I can as I have a slow Pc.<br><br>*Edit = forgot a pair of brackets around the linepick expression. <br><br></td></tr></table><br>
<a name="490135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jeppe did something like this some time ago:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=871" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=871</a><br><br>As well as fredborg who made another version:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=532" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=532</a> <br><br></td></tr></table><br>
<a name="490174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NewtSoup</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Matty thats exactly what I was thinking of when I suggested defining a volume in front of your AI bot. Tform the players point and see if it falls within the "sensor" rect.  could use a trapezoid for field of view but thats harder to code when youre just developing the basic AI :) get it working principaly, then polish it :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
