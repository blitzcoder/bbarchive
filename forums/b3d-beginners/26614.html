<!DOCTYPE html><html lang="en" ><head ><title >Rotation Script for Image in Real Time?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rotation Script for Image in Real Time?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Rotation Script for Image in Real Time?</a><br><br>
<a name="277673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Example if I take a Ship for example if U have one image of the ship facing up, as I read you cannot use the rotation command in real time, so I though maybe rotate, copy the image and assemble them to create a 360 degree rotation on KeyPress Left,Right.<br><br>This is just an Idea, but what I want is to see a code example of any kind, could someone show me how its done?<br>^__^ thanks [using blitzplus of course] <br><br></td></tr></table><br>
<a name="277699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Kaisuo,<br>the best way would be to produce pre-rendered images, store it in an array of images, and then use it in real time.<br><br>An example could be:<br><pre class=code>
dim arr_img(360) ;360 images
image = loadimage("ship.bmp")
for n = 1 to 360
rotateimage image,n
arr_img(n) = image
next

;now if you want to display the image ship at x,y, and rotated of 45 degree, you just need:
DrawImage arr_img(45),x,y
</pre><br><br>Hope this has sense for you,<br>Sergio. <br><br></td></tr></table><br>
<a name="277843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take note that 360 images is a LOT of video memory.  If each image was only 1K (32x32), you would consume 360K of video memory for just one sprite. Try 180, 90, 45, 22.5 or something. <br><br></td></tr></table><br>
<a name="277917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's a dll or userlib for this type of thing isn't there. Can't remember who wrote it but it allows real time rotation and scaling. Peter Scheltus(SP?) or something... <br><br></td></tr></table><br>
<a name="277938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe draw the ship in rotation put it in a tile image and make the animation with it cause i dont really need 360 images to make a 360 rotation effect do i?<br><br>dunno how i would exactly do it with an image of 32x32 ship image on it <br><br></td></tr></table><br>
<a name="278065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay I drew a ship for my game, I setted to bad quality so no one could really steal it.<br><br>So what I want is that it rotates on right,left arrow key of course on right it rotates right and on left it rotates left but on up arrow it moves but u need to keep ur finger on the up arrow on release it stops, how would I do that using this below:<br><br><img src="http://lexdark.com/shipro.png"><br>50k is better then 360k isnt it ^^<br><br>Make the code simple for stupid people, like me ;) <br><br></td></tr></table><br>
<a name="278137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Left and right are very simple.  Just advance to the next/previous frame depending on which way you want to turn and in/decrement a variable that holds the angle (looks like you chose angles of 10 degrees).<br><br>I'm at work and don't have the time right now to figure it out but you could use Sin and Cos to figure out which direction to move when you press the up button (how much in x plus or minus, how much in y plus or minus. <br><br></td></tr></table><br>
<a name="278178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there, i wrote this real fast using your image. I'll explain at the bottom of this code.<br><br><pre class=code>
Graphics 800, 600, 16
SetBuffer BackBuffer()
ship = LoadAnimImage ("shipro.png", 113,113,0,36)

startframe = 27
frame = 27

Repeat 

	If speed# &lt; 0 Then speed# = speed + .01
	If speed# &gt; 0 Then speed# = speed - .01

	If KeyDown(200) Then ;UP Arrow
		speed# = speed + .05
			If speed# &gt; 2 Then Speed# = 2
	End If 
	
	If KeyDown(208) Then ;Down Arrow
		speed# = speed - .05
			If speed# &lt; -2 Then Speed# = -2
	End If
	
	If timer+50 &lt; MilliSecs() Then
		
		timer = MilliSecs()

		If KeyDown(203) Then ;Left Arrow
			frame = frame - 1
			If frame &lt; 0 Then frame = 35
		End If
		
		If KeyDown(205) Then ;Right Arrow
			frame = frame + 1
			If frame &gt; 35 Then frame = 0
		End If
		
	End If 


	angle = (frame-startframe)*10

	x# = x# + Cos(angle)*speed#
	y# = y# + Sin(angle)*speed#
	
	DrawImage ship, x#, y#, frame

	Flip
	Cls
Until KeyHit(1)
</pre><br><br>Ok, first off there is a few problems with your image, you have it bordered with the white lines, best not to, have them equally spaced, if its a 113x113 image, then they should be spaced as so, you will see the white border in the little demo, and the ships are slightly offset because you can't grab and save to a animation correctly. Anyways, just fix your image, plug it in, and it will be perfect :D<br>if a 113x113 frame is layed out the same as you have it, 10x4, then it should be a 1130pixel By 452pixel Image.<br><br><br>Also your image starts off at the wrong frame, in this example, it goes like this<br>---/270\<br>180-----0/360<br>---\90 /<br><br>0 or 360, points right, and goes clockwise<br>thats why you see the Startframe varible, its just bascially a offset, so i get the correct image out of your image, it would not be needed if your first image started right and rotated clockwise.<br>	x# = x# + speed#*Cos((frame-startframe)*10)<br>	y# = y# + speed#*Sin((frame-startframe)*10)<br><br>none of it has to be floats, just works better for smoother effects, as you can have .1 .whatever<br><br>actually if you change the signs you can make it start and rotate in different directions, for example<br>	x# = x# - speed#*Cos((frame-startframe)*10)<br>	y# = y# - speed#*Sin((frame-startframe)*10)<br>starts Left and rotates clockwise as you increase 0 to 360<br><br>a mixed + - makes it rotated counterclock wise, anyways, just mess with it, you will see<br><br>basic formual is<br><br>x = x + Cos(ANGLE)*Offset<br>y = y + Sin(ANGLE)*Offset<br><br>Pretty simple, Give it a go, just copy and paste the code and with your image in the dir, and run it, you move with foward with the Up key, down with the down key, rotate left and right with the left/right arrow keys. Good Luck<br><br>p.s. this isn't perfect code, just something wiped up ;D <br><br></td></tr></table><br>
<a name="278180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh just wanted to say, the methods used to control speed, and the little slow down may not be the best, just did it real quick, some way better space physics out there somewhere :P<br><br>Also to explain that Timer i used, its just there to delay the check for pressing left or right, without it, your ship would spin really fast, rotate really fast, so i put that a delay of 50millsecs, was a nice speed for rotation. Its basically a Animation Timer. <br><br></td></tr></table><br>
<a name="278184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well its very hard to center the images if u dont have anything to separe them :(   if there was a good program for that, that would sure help with B+ <br><br></td></tr></table><br>
<a name="278190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here you go, Somebody else here on the forums posted this a long while back, I forgot where and who, but it works perfectly<br><br><pre class=code>
Function ExportRotatedImage(Image1,Frames,FileName$,MaskRed,MaskGreen,MaskBlue)
Local PreviousBuffer = GraphicsBuffer()
Local PreviousRed = ColorRed(),PreviousGreen = ColorGreen(),PreviousBlue = ColorBlue()
Local Image2
Local Angle#,AngleStep#
Local MaxWidth,MaxHeight
Color MaskRed,MaskGreen,MaskBlue
If Image1
	AngleStep# = 360.0 / Frames
	Angle# = 0
	For i = 1 To Frames
		Image2 = CopyImage(Image1)
		MidHandle Image2
		RotateImage(Image2,Angle#)
		If ImageWidth(Image2) &gt; MaxWidth Then MaxWidth = ImageWidth(Image2)
		If ImageHeight(Image2) &gt; MaxHeight Then MaxHeight = ImageHeight(Image2)	
		FreeImage(Image2)
		Angle# = Angle# + AngleStep#
	Next
	ImgResult = CreateImage(MaxWidth * Frames,MaxHeight)
	SetBuffer ImageBuffer(ImgResult)
	Rect 0,0,MaxWidth * Frames,MaxHeight
	Angle# = 0
	For i = 0 To Frames - 1
		Image2 = CopyImage(Image1)
		MaskImage Image2,MaskRed,MaskGreen,MaskBlue
		MidHandle Image2
		RotateImage(Image2,Angle#)

		CopyRect(0,0,ImageWidth(Image2) - 1,ImageHeight(Image2) - 1,MaxWidth * i + 0.5 * MaxWidth,0.5 * MaxHeight,ImageBuffer(Image2),ImageBuffer(ImgResult))

		FreeImage(Image2)
		Angle# = Angle# + AngleStep#		
	Next
	SaveImage(ImgResult,FileName$)
	FreeImage(ImgResult)
EndIf
SetBuffer PreviousBuffer
Color PreviousRed,PreviousGreen,PreviousBlue
Return MaxWidth
End Function

;Change this to your needs
Image = LoadImage("YOURIMAGE.png")
TFormFilter False 
Size = ExportRotatedImage(Image,36,"Result.bmp",255,0,255)

NewImage = LoadAnimImage("Result.bmp",Size,Size,0,36)
</pre><br><br>now the only thing you should change is YOURIMAGE.png, set it to your image, and then in the <br><br>Size = ExportRotatedImage(Image,36,"Result.bmp",255,0,255)<br><br>the 36 is how many frames you want, so 36 is correct, that'll give you a 10 degree rotation, the 255, 0, 255 is the images Mask, if you want a mask.<br><br>and thats it, basically plug in your picture, and run, window will pop up, and then close when its done, and look in your Directory, and you will have a perfectlly Created Animation frame to use for rotation, it'll be named Result.bmp :P<br><br>I suggest once its made, to open it in say paintshop, and resave it as a PNG, save some space.<br><br>This will create all your rotation frames for you, so just give it a SINGLE picture of your ship, of your ship pointing Right, just 1, it will take that 1, and create all the other rotated frames, and glue them together into one image. <br><br></td></tr></table><br>
<a name="278195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is to heavy, I'm not that advance yet, plus this looks weird to me, I don't like to use code I dont understand... Anyhow I'll figure a way if I have question Ill make a new post later... <br><br></td></tr></table><br>
<a name="278197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> who cares how the creation of the rotation image works, that wasn't the point, just Use it to make your IMAGE for you, i mean its like any other tool, i could make it a .exe, you open it, give it your image, and it'll output your new image for you, how hard is that? You wanted a tool to make the rotation image for you, basically the same thing you Posted above, but perfectly made without the whiteborders. Well THERE is the tool right there. I don't get whats to advance here :P Don't try to understand it, just use it as a tool, like it was meant to be.<br><br>But at any rate, good luck. <br><br></td></tr></table><br>
<a name="278208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not the point I need practice for ISOMETRIC Ship rotation, u cant just rotate the ship wont make it Isometric will it. <br><br></td></tr></table><br>
<a name="278211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ahhhh, ISOMETRIC, you said nothing of that. Yup that makes a difference, you'll have to make each frame yourself in that case. <br><br></td></tr></table><br>
<a name="278224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> The ship above is not isometric but Im practicing for future isometric ships :) <br><br></td></tr></table><br>
<a name="278225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Paradox7... unless it's a 3D model of a ship....;-) <br><br></td></tr></table><br>
<a name="278228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes true, then you could use Blitz3D to spin it and grab shots :D have it paste it together, and there ya go, a final isometric animation image, I remember seeing some code somebody posted that did exactly that, don't know exactly where at the moment. :P <br><br></td></tr></table><br>
<a name="278255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have Blitz 3D, why dont you just position 3D models to give an isometric perspective? Failing that, just load in individual models, position the camera correctly and save a screenshot. Bingo - one isometric frame. <br><br></td></tr></table><br>
<a name="278314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> didn't i just bascially say that? :P hehe, and to which tonyg was implying to also. If you have a 3D model of the object you want, you can use Blitz3D or actually any 3D Program, position it correctly, take snapshot and there you go, an Isometric frame, although i think that someone actually made a little program in blitz3D, that did the entire steps for you, just run, and it done, positions correctly, rotates snaps, rotates snaps, ect, ect, pastes it all together, and there you have a finished image strip when its done, of a isometic 3D object from all the angles you need :D <br><br></td></tr></table><br>
<a name="278387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I'm using 3D models for 2D project, since I don't have Blitz3D, I wish I did but I don't have the money for it right now so, Im using 3D with BlitzPlus.<br><br>So I have to save a billion image of the 3D sprite in Maya to get a rotation :|<br><br>However here is the sprite without the white lines!<br><img src="http://lexdark.com/shipro2.png"> <br><br></td></tr></table><br>
<a name="278830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> To correct my post, the real time rotation/scaling and transparency thingy was Turtles (Patrick Lesters) User Lib.<br><br>Get it here:<br><br><a href="http://www.blitzbasic.com/bbs/posts.php?topic=21685" target="_blank">http://www.blitzbasic.com/bbs/posts.php?topic=21685</a> <br><br></td></tr></table><br>
<a name="278893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice but I'm not searching for any dll. <br><br></td></tr></table><br>
<a name="278947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> what are you using to make your frames with? They are still not centered correctly, you can see this by putting the image into the demo i posted the very first time, and just pressing the right or left arrow key, they don't rotate that smoothly but jump just slightly off between rotation, thats because you don't have your images centered correctly. If i had somewhere to put up this picture i made of your ship, rotated correctly, you will see what its suppose to look like in the demo, it should be smooth rotation, and not all jerky because each frame isn't centered with the origin. <br><br></td></tr></table><br>
<a name="278949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know it doesnt look quite right lol.<br>I'm using PhotoShop,<br>I'm trying to fix it, should be good soon :). <br><br></td></tr></table><br>
<a name="279004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm, cant get perfect rotation with the time of image i showed u above &gt;.&gt;<br><br><a href="http://www.lexdark.com/movie1.swf" target="_blank">http://www.lexdark.com/movie1.swf</a> &lt; thats how its suppose to be done <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
