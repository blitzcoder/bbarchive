<!DOCTYPE html><html lang="en" ><head ><title >Save Files</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Save Files</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Save Files</a><br><br>
<a name="824678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I got this program Two days ago, but before this I was messing around with the demo version. I know some but what I do Is limited. I would like to know how you would save  game progress in blitz. <br><br></td></tr></table><br>
<a name="824693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chwaga</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm kinda noob to saving games also BUT:<br><br>depending on what kind of game it is, you can save a huge amount of variables into a .bb file, each telling the computer something about the current progress in the game.  The easiest way to save is a save-point system, located outside combat, etc. so you don't have to worry about saving the locations of each bullet in the air, the npc AI states, the npc locations, etc.  Leaving only some player information, and which save point it is located at to be loaded. <br><br></td></tr></table><br>
<a name="824709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Save game systems really need to be implemented from the start, also -- it's not a pleasant task to retrofit a save/load game system. 'Start Game' should really be 'Load Game' but with all vars set to their initial positions. <br><br></td></tr></table><br>
<a name="824716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Chwaga,<br><div class="quote"> The easiest way to save is a save-point system <br></div><br>How would you do that? <br><br></td></tr></table><br>
<a name="824733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chwaga</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, think like this:<br><br><br>every so often in a game, there is a floating "SAVE GAME" object, that if you walk up to it, and click on it, it saves the game.  If these SAVE GAME objects were located it secluded, isolated areas without NPC's etc. to track, you could load it by putting the player in the general area of that SAVE GAME "checkpoint", and load the general player attributes (health, inventory, etc.). <br><br></td></tr></table><br>
<a name="824757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No I meant, do you have a code example, I am sorry, I am really new. If it is to difficult to waste your time on then don't, but it would be nice. <br><br></td></tr></table><br>
<a name="824782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, for example, you will no doubt have variables to hold your players health, position (x,y,z), items carried.<br><br>Basically when you save, you create a small file on the hard disc, or if it's just a quick save, just use other variables.<br><br>File on Hard Disc:<br><br><pre class=code>
; Open a file to write to 
fileout = WriteFile("mysave.dat") 

; Write the information to the file 
WriteInt ( fileout, Health ) 
WriteInt ( fileout, Score ) 
WriteInt ( fileout, Level )
WriteInt ( fileout, x)
WriteInt ( fileout, y)
WriteInt ( fileout, z)

; Close the file 
CloseFile( fileout )
</pre><br><br>You have created a file, in the same folder as the code is saved to. This contains the information you wrote out. I lifted the Writefile stuff straight from the manual.<br><br>You will however will need to structure your game code properly. If it's a pacman game, you'd only need to save the level and players score. Then simply load the level variable and score variable in, overwriting the games current variables for them.<br><br>If it's an adventure game, you will have a whole host of other information to save, like which game events have been triggered, characters that are dead, story progression... etc Alot more complicated.<br><br>Btw, to load the save file back in...<br><br><pre class=code>
; Open the file to Read 
filein = ReadFile("mysave.dat") 

; Lets read the Greatest score from the file 
Health = ReadInt( filein)
Score = ReadInt( filein)
Level = ReadInt( filein )
x     = ReadInt( filein )
y     = ReadInt( filein )
z     = ReadInt( filein )

; Close the file once reading is finished 
CloseFile( filein )

</pre><br><br>**** Make sure you read exactly what you've written. I mean, if you wrote Int to the file, read back Int's, don't try and read back Bytes, or your info will get jumbled, and error's will crop up. <br><br></td></tr></table><br>
<a name="825026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> So If I wanted to save the xyz coords of a mesh, or something,  would I do:<br><pre class=code>

fileout = WriteFile("mysave.dat") 

cow=LoadMesh("Cow.3ds")

xyz=Entityx(cow) + Entityy(cow) + Entityz(cow)


; Write the information to the file 
WriteInt ( fileout, xyz ) 

CloseFile( fileout )
</pre><br>I am still learning so please bear with me. <br><br></td></tr></table><br>
<a name="825028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my example above, xyz is not an integer, what command would I use for that? <br><br></td></tr></table><br>
<a name="825046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Blitz3dCoder - the code you've posted above will not do anything. 'xyz' will simply be the sum of the 3 coordinate values and is useless information. You are better off doing something like this:<br><br><pre class=code>
cow=loadmesh("cow.3ds")
fileout=writefile("mysave.dat")
writefloat fileout,entityx(cow)
writefloat fileout,entityy(cow)
writefloat fileout,entityz(cow)
closefile fileout

</pre><br><br>or if you want the file to be easily readable by a human then you could replace writefloat with writeline, you may lose some accuracy but it can easily be edited in a text editor like notepad then. <br><br></td></tr></table><br>
<a name="825050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks.<br>If i am being a pain by asking 2 many q's tell me. <br><br></td></tr></table><br>
<a name="825071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chwaga</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> nah, check this one out by me...<br><br><a href="/posts.php?topic=72203" target="_blank">clicky</a> <br><br></td></tr></table><br>
<a name="825083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thnx guys! <br><br></td></tr></table><br>
<a name="825096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's ok. Your new to it, so ask as many questions as you want :o) There's no doubt someone else will learn something by reading this thread. <br><br></td></tr></table><br>
<a name="825114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitz3dCoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kinda off topic here, but after a brief moment of stupidity, My website is in motion.<br>If anybody cares, Here it is:<br><a href="http://blitz3dstuff.googlepages.com/" target="_blank">Click here</a> <br><br></td></tr></table><br>
<a name="825173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks nice and straightforward. Always like the free tools section :D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
