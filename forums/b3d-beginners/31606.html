<!DOCTYPE html><html lang="en" ><head ><title >problem with maskimage() outline</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >problem with maskimage() outline</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >problem with maskimage() outline</a><br><br>
<a name="337375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using a simple 32x32 bmp (tried this with a png too).<br><br>I made a very simple image with 2 colors (0,0,0 and 255,0,255), a solid black disc with magenta filling the rest of the image.<br><br>my code looks like this<br><br><pre class=code>
ball = LoadImage("ball.bmp")
MaskImage(ball,255,0,255)
</pre><br><br>Whenever I use DrawImage() to put it on the screen, I get a nice magenta border around the ball.<br><br>I originally created the image in photoshop, but figured that I might not be able to save the image without it doing some sort of anti-aliasing, so.... I created a new image from scratch in MSPaint.  So I'm pretty sure it's saving the image with only 2 colors.<br><br>Any ideas??? <br><br></td></tr></table><br>
<a name="337376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you're antialising it when you draw it without realising it.<br><br>Why not post a link to the BMP?  It's easy to confirm if that is the case or not. <br><br></td></tr></table><br>
<a name="337377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://wheee.org/blitzfiles/ball.bmp" target="_blank">ball.bmp</a> <br><br></td></tr></table><br>
<a name="337381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks fine.  and closer examination in photoshop reveals there are in fact, only 2 colors.<br><br>Are you trying to display this in Blitz3D, or BlitzPlus?  <br><br>Are you scaling the image up before you blit it, or blitting it at the original size?<br><br>Are you positive you're loading this BMP here, and not an earlier one that you have have saved, by mistake? <br><br></td></tr></table><br>
<a name="337383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Positive it's this image, well, this one and another one that's not quite as simple, but same problem.  :)<br><br>No scaling.<br><br>Blitz3D.<br><br>Let me put the bb file up there.  :)<br><br><a href="http://wheee.org/blitzfiles/topdown.zip" target="_blank">topdown.zip</a><br><br>... and yes, I know, this has a lot of "not the best way to do it" type things in it.  :)  Just started it tonight.<br><br>Gotta be just some dumb thing I'm not seeing.  :x <br><br></td></tr></table><br>
<a name="337384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, quickly...<br><br><pre class=code>
tempimage = LoadImage("playership.bmp")
MaskImage(tempimage, 255,0,255)
MidHandle(tempimage)
player\image = CopyImage(tempimage)
</pre><br><br>I did that because I thought maybe I was screwing it up by operating on the image in player\image.  I did initially try this by operating on the image in player\image itself. <br><br></td></tr></table><br>
<a name="337386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> heh, it's the RotateImage() function that's causing it.<br><br>Suppose I should have mentioned I was using that earlier.  *sheep*<br><br>Well, maybe I'll take a look at your 2D lib sswift.  :)  It has functions for doing rotations and such, right?  :p <br><br></td></tr></table><br>
<a name="337389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yup, definitely the problem.  <br><br>RotateImage() and MaskImage() are definitely not compatible.  :o  *sigh*  Guess I should at least see how other people are doing it if not just use someone elses lib.  :) <br><br></td></tr></table><br>
<a name="337414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> TFormFilter False<br>rotateimage( <br><br></td></tr></table><br>
<a name="337436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah w2hat Coorae said.  You're rotating the image with antialiasing turned on.  That screws it up.  But turn antialiasing off, with TFormFilter, and it should be fine.<br><br>Also, my 2D lib does not do rotation.  If you want a sprite to be rotated with my lib, you rotate it just like you would any other image.  My lib is for moving images around on the screen.  (And soon, for animating them automatically and moving them automatically.) <br><br></td></tr></table><br>
<a name="337764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, completely fixed. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
