<!DOCTYPE html><html lang="en" ><head ><title >Non-Uniform scale of an object?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Non-Uniform scale of an object?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Non-Uniform scale of an object?</a><br><br>
<a name="1157850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can someone please tell me the formula for how to get the NON-uniform scale of an object? <br><br></td></tr></table><br>
<a name="1157962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone? :( <br><br></td></tr></table><br>
<a name="1157980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I for one don't understand this question. What's a non-uniform scale? For that matter, what's a uniform scale? <br><br></td></tr></table><br>
<a name="1158060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://en.wikipedia.org/wiki/Scaling_%28geometry%29" target="_blank">http://en.wikipedia.org/wiki/Scaling_%28geometry%29</a> <br><br></td></tr></table><br>
<a name="1158083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's what I figured, but was confused because they're not distinct concepts in B3D.<br><br>The most <i>sensible</i> way to get the scale of an entity is to store it somewhere when it's set, and retrieve the value from there when you later need it. Yes there are ways to get it out of an entity using GetMatElement, but I can't think of a single reason (or even excuse) for why you should do that when there's a blindingly-obvious and extremely fast solution to be had by simply writing the numbers down. <br><br></td></tr></table><br>
<a name="1158086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also the functions MeshWidth(), MeshHeight(), MeshDepth(), FitMesh() may be useful for what you want to do. <br><br></td></tr></table><br>
<a name="1158093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's another possibility, using the TForm commands.<br><pre class=code>
Function GetScale( e )		; TFormedX() returns X-scale etc.
	Local p#, y#, r#
	p# = EntityPitch( e )
	y# = EntityYaw( e )
	r# = EntityRoll( e )
	RotateEntity e, 0,0,0		; 'unrotate' the entity
	TFormVector 1,1,1, e, 0
	RotateEntity e, p,y,r,  True	; put it back where it was
End Function</pre> <br><br></td></tr></table><br>
<a name="1158119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a neat function you got there.<br><br>For those not understanding how to use it:<br>- It calculates the scale of an entity (good for entities you have no clue what the current scale is). <br>After calling it, the pivot-scale of the entity you supplied is gonna be stored in the TFormedX(), Y() and Z() components, containing the entity's scale values corresponding to each world-axis.<br><br>This only works for entities scaled with ScaleEntity - for meshes scaled with ScaleMesh you can use MeshWidth() etc. <br><br></td></tr></table><br>
<a name="1158172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice function!<br><br>i got the following functions some time ago (don't remember the source.. sorry):<br><br><pre class=code>
; -------------------------------------------------------------------------------------------------------------------
; This function returns the X axis scale of an entity, as set by ScaleEntity().
; -------------------------------------------------------------------------------------------------------------------
Function EntityScaleX#(Entity)
	
	Local Scale#, X#, Y#, Z#

	X# = GetMatElement(Entity, 0, 0)
	Y# = GetMatElement(Entity, 0, 1)
	Z# = GetMatElement(Entity, 0, 2)	
	
	Scale# = Sqr(X#*X# + Y#*Y# + Z#*Z#)
	
	Return Scale#

End Function

; -------------------------------------------------------------------------------------------------------------------
; This function returns the Y axis scale of an entity, as set by ScaleEntity().
; -------------------------------------------------------------------------------------------------------------------
Function EntityScaleY#(Entity)
	
	Local Scale#, X#, Y#, Z#
	
	X# = GetMatElement(Entity, 1, 0)
	Y# = GetMatElement(Entity, 1, 1)
	Z# = GetMatElement(Entity, 1, 2)	
	
	Scale# = Sqr(X#*X# + Y#*Y# + Z#*Z#)
	
	Return Scale#

End Function

; -------------------------------------------------------------------------------------------------------------------
; This function returns the Z axis scale of an entity, as set by ScaleEntity().
; -------------------------------------------------------------------------------------------------------------------
Function EntityScaleZ#(Entity)
	
	Local Scale#, X#, Y#, Z#
	
	X# = GetMatElement(Entity, 2, 0)
	Y# = GetMatElement(Entity, 2, 1)
	Z# = GetMatElement(Entity, 2, 2)	
	
	Scale# = Sqr(X#*X# + Y#*Y# + Z#*Z#)
	
	Return Scale#

End Function
</pre><br><br>Juan <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
