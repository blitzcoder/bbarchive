<!DOCTYPE html><html lang="en" ><head ><title >lights</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >lights</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >lights</a><br><br>
<a name="893311"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> so i want to use just the l8 lights that dx7 can supply, and i have code on how to make them fade away so that no more than 8 are active at a time, but here is my question. how do i deactivate a light on just one entity? <br><br></td></tr></table><br>
<a name="893328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityFx Entity, 1 <br><br></td></tr></table><br>
<a name="893329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unless he wishes for only some lights and not others to affect an entity (of which I have no idea how to achieve with blitz hardware lights). <br><br></td></tr></table><br>
<a name="893342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Unless he wishes for only some lights and not others to affect an entity (of which I have no idea how to achieve with blitz hardware lights). <br></div>The only way you could do that is with multi pass rendering. <br><br></td></tr></table><br>
<a name="893425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> would that slow down my game all that much? The multi rendering <br><br></td></tr></table><br>
<a name="893437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, why do you need that effect? Maybe we can figure out another way to mimic the effect you want. <br><br></td></tr></table><br>
<a name="893482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want my characters to change thier lighting if they were to go under a bridge for example, but I have a onverhead light that is light type 1 basically a sunlight. i want it to not shine on units if they are not visible to its light <br><br></td></tr></table><br>
<a name="893484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> would that slow down my game all that much? The multi rendering <br></div>No it won't slow it down at all.  You're only rendering the same number of polygons - you're just doing it in two passes instead of one. <br><br></td></tr></table><br>
<a name="893496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you have a spare light then you can use a black light under the bridge or you can use black mesh-lighting: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2020" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2020</a> <br><br></td></tr></table><br>
<a name="893518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> are you the real puki? :D it's been a very long time. <br><br></td></tr></table><br>
<a name="893541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> that works really well, thanks! <br><br></td></tr></table><br>
<a name="893542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there a limit to how many fake lights i can use at once? <br><br></td></tr></table><br>
<a name="893671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just applied a million fake light calls on that little sucker.  Blitz didn't seem to care.  However, I am not sure whether or not it can keep up with blending that much.<br><br>I have further called 10 million fake lights.  Again, Blitz3D did not complain.<br><br>Play around with it.<br><br>Use a loop with LightMesh ent, rand(255), rand(255), rand(255), rand(-50,50), rand(-50,50), rand(-50,50)<br><br>That will throw random colour lights from random directions. <br><br></td></tr></table><br>
<a name="895054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have this function for my lighting right now and the lights are either on or off, can anyone suggest some way to make the lights have a smoother transition rather than being on or off?<br><br><br>Function lights(entity)<br>LightMesh entity,-255,-255,-255<br>For l.light=Each light<br>PointEntity l\entity,entity<br>If EntityDistance(entity,l\entity)&lt;=l\range#*2 And EntityVisible(l\entity,entity) Then<br>TFormPoint 0,0,0,l\entity,entity ; bypass the limits of LightMesh's fake light coordinates<br>LightMesh entity,l\r#,l\g#,l\b#,l\range#,TFormedX(),TFormedY(),TFormedZ(); re-apply fake lighting<br>EndIf<br>Next<br>End Function <br><br></td></tr></table><br>
<a name="895070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alter the LightColor. <br><br></td></tr></table><br>
<a name="895153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have further called 10 million fake lights. Again, Blitz3D did not complain. <br></div>Why should it?  You're only changing the vertex colours.  You can do that til you drop down dead of boredom and Blitz will continue happily. <br><br></td></tr></table><br>
<a name="896068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> what about tformpoint? does that use a lot of processing? <br><br></td></tr></table><br>
<a name="896070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> tformpoint and the other tform commands are very fast, they are just transforming between coordinate systems which is some simple matrix mathematics. <br><br></td></tr></table><br>
<a name="896075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> what about entity visible? <br><br></td></tr></table><br>
<a name="896076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityVisible is a slower command, as it is pretty much a line pick, and depends upon the complexity of the geometry involved. <br><br></td></tr></table><br>
<a name="896077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there a faster comand that does the same thing <br><br></td></tr></table><br>
<a name="896079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> odd, for some reason tformpoint slows down my computer but entityvisible does not. <br><br></td></tr></table><br>
<a name="896080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> actually i think its the way i utilize the code, here<br><br>Function lights(entity)<br>LightMesh entity,-255,-255,-255<br>LightMesh entity,64,64,64<br>For l.light=Each light<br>If EntityVisible(l\entity,entity)=True Then ;l\visible#=1<br><br>l\r#=l\r#+10<br>l\b#=l\b#+10<br>l\g#=l\g#+10<br><br>Else<br>l\r#=l\r#-10<br>l\b#=l\b#-10<br>l\g#=l\g#-10<br>EndIf<br><br>If l\r#&lt;0 Then l\r#=0<br>If l\g#&lt;0 Then l\g#=0<br>If l\b#&lt;0 Then l\b#=0<br><br>If l\r#&gt;l\fr# Then l\r#=l\fr#<br>If l\g#&gt;l\fg# Then l\g#=l\fg#<br>If l\b#&gt;l\fb# Then l\b#=l\fb#<br><br>If l\r#&gt;0 Or l\b#&gt;0 Or l\g#&gt;0 Then<br>TFormPoint 0,0,0,l\entity,entity<br>x#=TFormedX()<br>y#=TFormedY()<br>z#=TFormedZ()<br>LightMesh entity,l\r#,l\g#,l\b#,l\range#/10,x#,y#,z#<br>EndIf<br><br>Next<br>End Function <br><br></td></tr></table><br>
<a name="896081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> It will be the lightmesh command not the tformpoint that slows things down.  The lightmesh command has to, internally, set the vertex colors of each vertex of the mesh. The tformpoint command simply takes a vector and transforms it from one space into another - it is not slow. <br><br></td></tr></table><br>
<a name="896083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> any way to speed it up? <br><br></td></tr></table><br>
<a name="896094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use hardware lights, other than that I'm not sure. Although as you are already aware you are limited to 8 hardware lights. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
