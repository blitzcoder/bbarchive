<!DOCTYPE html><html lang="en" ><head ><title >How to make 1000 Cubes ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to make 1000 Cubes ?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >How to make 1000 Cubes ?</a><br><br>
<a name="1256898"></a>

<a name="1256899"></a>

<a name="1257487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ChaseHatesEggs</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In a Problem I have to make 1000 Cubes inside a sphere and have them explode out the only issue I have is making 1000 Cubes.Help? <br><br></td></tr></table><br>
<a name="1256905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> For i = 1 to 1000<br>  cube = CreateCube()<br>  PositionEntity cube,x,y,z<br>Next<br><br>Someone smarter than me can elaborate on the positioning. <br><br></td></tr></table><br>
<a name="1256906"></a>

<a name="1256907"></a>

<a name="1256908"></a>

<a name="1256909"></a>

<a name="1256910"></a>

<a name="1256911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Graphics3D(800, 600, 0, 2)

    SetBuffer BackBuffer()

    SeedRnd Millisecs()

    Global max_cubes = 1000

    Dim mycubes(max_cubes)

        For i = 1 to max_cubes

            mycubes(i) = CreateCube()

            PositionEntity mycubes(i), Rnd(-150, 50), 1.001, Rnd(50, 150)
            RotateEntity mycubes(i), Rnd(-359.0, 359.0), Rnd(-359.0, 359.0), Rnd(-359.0, 359.0)

            EntityColor(mycubes(i), Rnd(0, 255), Rnd(0, 255), Rnd(0, 255))
            EntityAlpha(mycubes(i), Rnd(0.25, 1.0))

        Next

    While Not KeyDown(1)

        UpdateWorld()
        RenderWorld()

        Flip 0
        Delay 1

    Wend

End
</textarea> <br><br></td></tr></table><br>
<a name="1256918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The answer depends on the details of the problem.<br><br>Size and position of the sphere, size restrictions on cubes, can cubes overlap...<br><br>In any case we shouldn't be doing your school work. <br><br></td></tr></table><br>
<a name="1256922"></a>

<a name="1256923"></a>

<a name="1256924"></a>

<a name="1256932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Guy Fawkes&gt;&gt;Some observations about your code :<br><br>-the variables "max_cubes" does not need to be a global<br><br>-you can rotate an entity from -180.0 to 180.0 not from -359.0 to 359.0<br><br>-updateworld() is useless in your code<br><br>-your indentation does not make sense, it should look more like this :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D(800, 600, 0, 2)

SeedRnd Millisecs()

For i = min to max

	;do stuff

Next

While( not KeyDown(1) )

	;do stuff

	Setbuffer(backbuffer())
        RenderWorld()

        Flip(1)

Wend

End()
</textarea><br>Do what you want with these advices...<br><br><br><br>@ChaseHatesEggs&gt;&gt;<br>you can use tformpoint() and rnd(min,max) to randomly position a cube inside a sphere.<br>or<br>randomly position the cube between rnd(minX,maxX),rnd(minY,maxY),rnd(minZ,maxZ), then check if the cube is inside the sphere with a distance check, if yes good, if no reposition this cube <br><br></td></tr></table><br>
<a name="1256927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering why he put all 1000 of them at 1.001 on the Y axis.<br><br>Anyway - I just tossed OP a bone to get him started. <br><br></td></tr></table><br>
<a name="1256934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now....do you have to also arrange the cubes in a spherical arrangement with no overlaps? <br><br>There are a number of methods of doing this...... <br><br></td></tr></table><br>
<a name="1256935"></a>

<a name="1256936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KronosUK</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Was feeling bored so threw this together<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D(1024, 768, 0, 2)

SeedRnd MilliSecs()

camera = CreateCamera() ; can't see anything without a camera!
MoveEntity camera, 0,0,-250

sphere = CreateSphere(32) ; our holding sphere
ScaleEntity sphere,50,50,50
EntityAlpha sphere,0.85

light = CreateLight()
MoveEntity light,0,100,-500

Global cubebase = CreateCube() ; our cube model
HideEntity cubebase

EntityParent camera,sphere

CreateCubes(1000)

Global explode=False

While Not KeyDown(1)
	
	If KeyHit(57) Then explode=True ; hit SPACE key To explode
	
	If explode = True Then MoveCubes()
	
	If KeyHit(19) Then ResetCubes() ; hit R key To reset cubes
	
	TurnEntity sphere,0,0.1,0
	
	UpdateWorld()
	RenderWorld()
	
	Flip 0
	
Wend

End


Type MyCube
	
	Field entity
	Field velx#
	Field vely#
	Field velz#
	Field speed#
	
End Type


Function CreateCubes(max_cubes)
	
		
	For i = 1 To max_cubes
		
		cube.mycube = New MyCube
		
		cube\entity = CopyEntity(cubebase)
		
		PositionCube(cube)
		EntityColor(cube\entity, Rnd(0, 255), Rnd(0, 255), Rnd(0, 255))
		
		;we want cubes to fly away from centre so calculate a vector, based on position from origin, and normalize it
		Local Hyp# =EntityDistance(cube\entity,cubebase) 
		cube\velx = EntityX(cube\entity)/Hyp
		cube\vely = EntityY(cube\entity)/Hyp
		cube\velz = EntityZ(cube\entity)/Hyp
		cube\speed = Rnd(5)
	Next
	
	
End Function	


Function MoveCubes()
	
	For c.MyCube = Each MyCube
		
		MoveEntity c\entity,c\speed*c\velx,c\speed*c\vely,c\speed*c\velz
		
	Next
	
End Function

Function ResetCubes()
	explode = False
	For c.mycube = Each MyCube
		PositionCube(c)	
	Next		
	
	
End Function	

Function PositionCube(c.MyCube) ; we want to create cube no more than 50 units from origin, to fit the sphere
	Local pivot=CreatePivot() ; create a pivot at the origin
	RotateEntity pivot,Rnd(360),Rnd(360),Rnd(360) ; make the pivot 'point' in a random direction
	MoveEntity pivot,0,0,50;Rnd(50) if you want cubes inside sphere
	PositionEntity c\entity, EntityX(pivot), EntityY(pivot), EntityZ(pivot)
	FreeEntity pivot
End Function	

</textarea> <br><br></td></tr></table><br>
<a name="1256937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RemiD: You can correct everything else, but do NOT tell ME how to space and / or tab my OWN CODE! You have absolutely NO right to do so! And if you do it again or smart off to me, I'm GOING to report it! <br><br></td></tr></table><br>
<a name="1256940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..to the Indent Police?  The Tab League?  The Spacing Institute? <br><br></td></tr></table><br>
<a name="1256942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> His little all caps stuff is cute. I still think it's Puki. <br><br></td></tr></table><br>
<a name="1256943"></a>

<a name="1256944"></a>

<a name="1256945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would use a goto Line to prevent different cubes from overlapping :<br><pre class=code>
.LineChooseCubePosition
;position the cube
;check if the cube is far enough from others cubes
;if yes
 ;good
;if no
 ;goto LineChooseCubePosition
</pre><br><br>but if you use this technique, be sure to not create too many cubes compared to the size of the empty space or it will be an endless loop ! <br><br></td></tr></table><br>
<a name="1256947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> RemiD - if I knew how many cubes I had, their initial size, the size I wanted to fit them in....I'd simply calculate their correct position with a bit of mathematics and place them....no need to enter a potentially endless loop! <br><br></td></tr></table><br>
<a name="1256955"></a>

<a name="1256956"></a>

<a name="1256957"></a>

<a name="1256958"></a>

<a name="1256959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you know the size of each cube and the size of the empty space, you can have an idea of approximately how many cubes you can fit in it so there will be no endless loop.<br>I often use this technique to position things randomly in a scene and there is no problem if you always underestimate the number of things that you can fit in a scene depending on the size of the thing and the size of the scene.<br>But i agree that this is not the best way. <br><br></td></tr></table><br>
<a name="1256976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ChaseHatesEggs</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks All!<br>@Floyd The problem is more than just making the cubes I just didn't know how to go about it, thanks anyway. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
