<!DOCTYPE html><html lang="en" ><head ><title >Passing variables into the RESTORE command</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Passing variables into the RESTORE command</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Passing variables into the RESTORE command</a><br><br>
<a name="255297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Verminaard</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi folks.<br>          can anyone tell me how to pass a variable into a restore command? heres waht i wan to do. I have several map levels stored as data:<br><br>.level 1<br>   *data here*<br>.level 2<br>   *data here*<br>        etc....<br>    and i have a function that reads the data and builds the level:<br><br>function Build_level(level$)<br><br>restore level$         &lt;------note this point here!!!<br>       *read data and build level here*<br><br>end function<br><br>and when i call the level i do:<br>currentlevel$ = "level1"<br>Build_Level(currentlevel$)<br><br><br>now, whenever i run the program, teh point where i have noted in the function, it gets and "expects 'end function'" error. How can i force blitz to recognise that 'level$' after the Restore command should be read as a variable? I have tried str(level$) but it makes no diff. Can anyone help? Thanks.... <br><br></td></tr></table><br>
<a name="255309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think you can do this.  I had to build a big select statement to handle the case of each levels label and restore them separately.<br><br><pre class=code>
select Level
  case 1
    restore level1
  case 2
    restore level2
  case 3
    restore level3
  etc
end select
</pre> <br><br></td></tr></table><br>
<a name="255313"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't do that.<br>I'm sure the reason why is because that would allow a variable with ANY VALUE to appear at runtime, which, if happened, would cause all sorts of garbage data to be read in or even cause the program to try to read memory outside of it's range (which would crash the program).<br><br>So, like EpicBoy stated, you have to use a SELECT statement or similar method. <br><br></td></tr></table><br>
<a name="255319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> and when i call the level i do: <br>currentlevel$ = "level1" <br>Build_Level(currentlevel$)<br> <br></div><br><br>BTW, here are some tips:<br>First of all, Integers are processed much faster than Strings so it would be better to change your currentlevel$ variable to just currentlevel (an integer variable) and then just assign it a value of 1 instead of the string "level1".  This speeds up the process of assigning the currentlevel variable AND it speeds up the process of passing it as a parameter in your function.<br><br>Secondly, if you are not reusing the currentlevel variable elsewhere in your code, then don't bother assigning it a value (this takes time too).  Just call your Build_Level function directly (i.e.  Build_Level(1)  )<br><br><br>Some may say that I'm wasting my time optimizing code that's infrequently executed, but there's no harm in forming a habit of thinking this way. <br><br></td></tr></table><br>
<a name="255340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Verminaard</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah thanks guys,<br>              , the reason i assigned "level 1 " to the variable was so that i could change the variable value when i wanted to change level. I never realised that ints were processed faster than strings, but now i think about it, it makes sense. thanks folks :D<br>                             ~V~ <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
