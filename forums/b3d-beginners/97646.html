<!DOCTYPE html><html lang="en" ><head ><title >Arrays as a type field</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Arrays as a type field</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Arrays as a type field</a><br><br>
<a name="1135785"></a>

<a name="1135787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tau_Aquilae</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's been a while...<br><br>Is it possible for a type to store an array as one of it's fields, I haven't really messed with arrays in blitz much (although I've done it quite often in Java)<br><br>Here's what I'm trying to do:<br><br>I have a custom type called "Class" Each class has a name as a string, an ability (as an ability type) and two "legal" slots, one as a weapon type and one as an equipment type. I want to have these two be arrays of each custom type.<br><br>Basically these arrays tells what weapons/equipment are legal for each class. So if a player tries to equip an infantryman with a magic staff, or a scout with power armor a function that will check these arrays will stop the player from doing such a thing.<br><br>So is there anything special i need to do to define the field as an array? or do I define it normally?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1135791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> As follows:<br><br><pre class=code>Type Class
    Field name$, ab.Ability
    Field legal1.Weapon[W_SIZE], legal2.Equip[E_SIZE]
End Type</pre><br><br>In other words, as normal but with the array size following the declaration. The size of the array <i>must</i> be a compile-time constant. <br><br></td></tr></table><br>
<a name="1135794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The documentation for this is hidden inside the description of <a href="/b3ddocs/command.php?name=dim&amp;ref=goto" target="_blank">Dim</a>.<br>Scroll down until you see *NEW* BLITZ ARRAYS *NEW*.<br><br>The main differences from regular arrays are that they must be one dimensional and size must be a constant.<br><br>There is one other quirk, which was probably not intentional. You can declare these arrays to be of various types, such as<br><br>Local a#[10]<br><br>for an array of floats. But afterward you must not use the type tag:<br><br>Print a[5]<br>Print a#[5]<br><br>The first example, with a[5] is correct, while the second is an error. <br><br></td></tr></table><br>
<a name="1135797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> TBH the second one <i>should</i> be an error. Appending type tags in the middle of expression statements is both ugly and actively unnecessary ("actively" as in "the only thing you can potentially achieve is get it wrong and cause an error"). <br><br></td></tr></table><br>
<a name="1135817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tau_Aquilae</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a HUGE help thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
