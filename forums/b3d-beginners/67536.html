<!DOCTYPE html><html lang="en" ><head ><title >How do you push an object?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do you push an object?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >How do you push an object?</a><br><br>
<a name="754440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pimpom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I played today with Elias_T coldet wrapper, and liked it. Once a collision occurs, how would I push away one of the objects? This is for a really simple racer,  wo. complex physics. Thanks for reading, and of course, for help. <br><br></td></tr></table><br>
<a name="754635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something simple would be to use the direction of the car and move the object B using this direction with MoveENtity. You could then implement some kind of inertia:<br><br>moving the car:<br><br>...<br>Moveentity car,0,0,speed<br>...<br><br>if crash:<br>rotateentity rock_pivot,0,entityyaw(car),0<br>rotateentity rock,0,0,0,1<br>rock_speed=speed<br>endif<br><br>somewhere else you'll update all objects that are in motion (other than cars):<br><br>if rock_speed&gt;0 then<br> moveentity rock_pivot,0,0,rock_speed<br>rock_speed=rock_speed *0.9<br>if rock_speed&lt; 0.05 then rock_speed=0<br>endif<br><br>Note rock_pivot is the parent of rock, You need it to be able to move the rock away from the car without to alter the rocks current rotation. Speed and rock_speed are floats. For simplicity you may use a type structure or arrays to hold all objects like rocks or things that may be pushed, So you'd have an array for all rock entities, their additional pivots, their speed, etc. so you could handle them in a FOR/NEXT loop by index easily. <br><br></td></tr></table><br>
<a name="754661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pimpom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jfk EO-11110, thank you for your code. I will play with the cars masses to determine which car moves which (all subjective). With inertia, it does look better and feels better.<br><br>Thanks again. <br><br></td></tr></table><br>
<a name="755076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> uh there was a "bug" in my "code", of course you need to MoveEntity rock_pivot,0,0,rock_speed, instead of rock. (Just fixed it) <br><br></td></tr></table><br>
<a name="755571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pimpom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> hehe, thanks for the fix :)<br><br>Unfortunately, seems coldet stores everything in original position, maybe I am missing something, because after push, even obect 2 does get pushed (and so represented visually), if  I leave my car where collision occured, it stills gets pushed. Anyhow, thanks. <br><br></td></tr></table><br>
<a name="760718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, I missed this.<br><br>What you say sounds like the friction factor isn't high enough. Try something like:<br><br>rock_speed=rock_speed *0.5<br>if rock_speed&lt; 0.05 then rock_speed=0<br><br>instead.<br><br>I don't know how coldet affects the entity position system, but I guess it shouldn't be a problem to move an entity. Just watch my source an see what it does:<br><br>When the camera touches a rock, it will give the rock a certain energy and move it in one direction as long as this decreasing energy is zero. No big deal, should be easy to implement.<br><br>Tho, if you want the rock to be able to push other rocks and so on then you maybe better use a physics library, such as one of the ODE interfaces, or tokamak. <br><br></td></tr></table><br>
<a name="760788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pimpom</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi jfk :)<br><br>Code actually does move the object out of its original place, but for some reason collisions aren't detected anymore in new place, but as if it wasn't never moved.<br><br>Maybe I'm using coldet badly, to me it seems the positions are stored where original mesh was placed. So pretty much I ended using one function found in the library (dynamic collisions). It isn't precisely what I wanted but for now it does it's thing, maybe with some modifications I will be able to calculate different reactions based on masses (500 &gt; 300, so move 300 a lot, not so much the 500 one). For now I'm stuck making models, so left this for somewhat later on. <br><br>Thanks for checking by. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
