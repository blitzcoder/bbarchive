<!DOCTYPE html><html lang="en" ><head ><title >EntityBox mode is driving me crazy!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >EntityBox mode is driving me crazy!!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >EntityBox mode is driving me crazy!!</a><br><br>
<a name="443174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kendo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry if this question is a pain to all you professionals out there but having spent last 3 hours on this and despite having searched the forums I can't get this right!<br><br>I have created a sprite as below and created an entitybox but although I can pick the sprite it only sort of works in that there are parts of the rectangle which don't register the pick.  Unfortunately the parts "not picked" appear to be random each time I run the programme.  I have tried all sorts of coordinates on the entity box but none work properly.  <br><br>Any guide as to what the cords should be please?<br><br>global help=CreateSprite(cam)<br>helptex=LoadTexture("helpparchment.jpg")<br>EntityTexture help,helptex<br>ScaleSprite help,15,10<br>PositionEntity help,0,8,30<br>entitypickmode help,3<br><br><br>entitybox help,-15,-10,0,30,20,1 <br><br>; the sprite help has cam as parent <br><br></td></tr></table><br>
<a name="443228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe the problem is when you create the entitybox?<br>Try moving the entitybox-line above the line where you move it (positionentity), to see if that solves the problem.<br><br><pre class=code>
global help=CreateSprite(cam)
helptex=LoadTexture("helpparchment.jpg")
EntityTexture help,helptex
ScaleSprite help,15,10
entitybox help,-15,-10,0,30,20,1
entitypickmode help,3

PositionEntity help,0,8,30
</pre><br><br>I don't know if Blitz uses the 3D-world's cordinates (gobal coords) for assigning the entitybox to your entity, or the entities' local coordinates, but it could help. <br><br></td></tr></table><br>
<a name="443295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edzup reported a while back in the bug reports forum that entitybox does not follow sprite orientation correctly.  If that is the case (I have not investigated it myself) you may be better of using a quad mesh (or as Edzup suggests try changing the spriteviewmode).  Test this assumption  by placing the sprite directly in front of the camera (when the camera is at world origin and aligned to the world axis).  Presumably the box will then work as it should because the sprite will not have changed its original orientation.<br><br><a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=35178" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=35178</a> <br><br></td></tr></table><br>
<a name="443355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't you just dump the box picking altogether if it's not working properly? Just use the polygon pick mode instead - shouldn't be slow as the sprite is only 2 tris. <br><br></td></tr></table><br>
<a name="443906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kendo</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks to all who responded. Apologies for not relaying results of your suggestions earlier.<br><br>PowerPC603 - your suggestion to move entitybox command above the positionentity command unfortunately did not make any difference but I am pleased you suggested it - I can't believe i hadn't thought to do it myself.<br><br>DJWoodgate - thanks to you I will remember to check the bug report forum next time.  Unfortunately, changing the spriteviewmode did not make any difference.  Neither did your sensible test suggestion.  i think your suggested test having failed pretty much proved to me that entitybox doesn't work properly (at least with sprites).<br><br>big10p - I thought you could not pick or collide with a sprite using poly detection but had to use sphere or box detection.  that's what the manual says and what, indeed, i have found in practice.  Have you been able to do it?<br><br>For any and all's information - I have tried using all the premutations I can think of re the coordinates to be input into the sprite's entitybox - global, internal, changing the sprites handle.  It will sort of work, but is just too hit and miss to be of any use. <br><br></td></tr></table><br>
<a name="444108"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> big10p - I thought you could not pick or collide with a sprite using poly detection but had to use sphere or box detection. that's what the manual says and what, indeed, i have found in practice. Have you been able to do it? <br></div><br><br>Ah, well if that's what the manual says, it must be the case. Sorry, I rarely use sprites myself and don't think I've ever tried to make one pickable. I just assumed it'd work.<br><br>I think your best bet is to use a textured quad instead (as has already been suggested), and make it poly pickable. If you need the quad to always face the camera, you can PointEntity it at the camera every update. If you do this, remember to construct the quad's triangles so they are facing the right way, otherwise PointEntity will cause the quad to always be facing away from the camera. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
