<!DOCTYPE html><html lang="en" ><head ><title >help: many objects</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >help: many objects</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >help: many objects</a><br><br>
<a name="560199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>Does anyone know articles (or places to be), where I can get some profund information about how the worlds are calculated on server side with MMORPG's ? <br><br>I am trying to get some understanding, how people cope with 10.000 of objects to be calculated permanently while they live and move around in the world. I mean, if I move one spaceship and there are 10.000 of them in my solar system, does every ship object communicate with all others ... certainly not. So, how do these MMORPG guys calulcate the ships, that go in sight and have to be coped with instead of calculating 10.000 x 10.000 possible sightings, missile firings and crossovers ? How do they reduce the number of comparisons (ship A is near to B and should react) ? Do they calculate it at every renderpoint or is it calculated only one time per second ?<br><br>Ho do these guys reduce the calculation on server side during runtime ? <br><br>Thanks for getting me in there <br>Bernd <br><br></td></tr></table><br>
<a name="560317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use 'zones' - keep a list of all the ships in a particular zone and only check for sightings of those within the same zone (or within the zone and any adjacent zones) <br><br></td></tr></table><br>
<a name="560373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I understand it, you mean, 10.000 ship positions are divided into zones (e.g. solar systems) and for each zone, all ships are compared to each other each ... frame rate !? No, I think not every frame rate, but how often then to achieve a seamless representation on the client ? When is this calulcation done on server side ? Is the position of the ships calulacted every minute or second or is the recalculation triggered by events ?<br><br>If you have 100 ships in one zone and they all move around, and let's say we need to use 10 bytes to tell the clients, where one of those ships is and where it is heading to, we have to send 100(ships) x 10(bytes) around every second to get the clients updated. Is this correct ?<br><br>Found this nice article about minimal network transfer: <a href="http://www.gamasutra.com/features/20050613/amir_pfv.htm" target="_blank">http://www.gamasutra.com/features/20050613/amir_pfv.htm</a><br><br>Bernd <br><br></td></tr></table><br>
<a name="560558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Space is full of a lot of... err... empty space.<br><br>This means that you can find ways to compress the 'decision space' down into much smaller units. In addition to solar system zones, you could implement something like sparse arrays (hashing) or an octtree (binary space partition) to ignore much of the empty bits and focus on the actual objects in each zone.<br><br>This will be less effective if you have some sort of sensors that give a 'radar' reading of where all ships are within the zone - but at least you would avoid having to consider laser fire, etc. for events offscreen. <br><br></td></tr></table><br>
<a name="560597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jumper,<br><br>the problem with radard sensors is, that every object has to calulcate whether the other objects are inside the radar. Even if you reduce the ships to the number inside the current zone of the ship, there is a huge calculation done this way that you suggest. If there are 10.000 ships in space and 100 ships in my ships zone, my ships radar has to check for the remaining 99 ships, whether they are in sight. And the 99 ships themselves have to check their radar again. So we easily get a factorial count of 100!  calculations even for only one zone.<br><br>So, there must be some more intelligent techniques.<br><br>Bernd <br><br></td></tr></table><br>
<a name="560615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would not be 100!, but 100^2, or 10,000.  When you have 100 objects, each doing 100 calcs, that's 100 x 100 = 10,000.  I'll take 10,000 over a factorial 100! anyday.<br><br>For enquiring minds that want to know, 100! = <br>9.332621544394415268169923885627e+157,<br>or roughly 9 followed by 157 zeroes.  Even Blitz would take a while to run through that many calculations.  In fact, at 1 million calculations per seconds, it would take<br>9.33e+151 seconds, or more seconds that the theoretical age of the known universe--by a factor of 1.479677439179733521716438972226e+134 times longer than the age of the universe.  IN still other words, it would take more than  1.47 million million million million million million million million million million million million million million million million million million million million million million times the age of the universe (i.e. that being supposed at 20 million million years).<br><br>Come to think of it, that's a number VASTLY larger than the sum total of all sub-atomic particles in the entire universe, including the theoretical dark matter and dark energy photons.<br><br>Conclusion: You DON'T want to count to 100! <br><br></td></tr></table><br>
<a name="560630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep, you are right 100^2 is the right formula. <br><br>Nevertheless it is a lot CPU cost to be done 30 or 40 times per second, especially if most of the ships are most of the time out of radar access. I guess there must be a better / faster calculation strategy.<br><br>So, how do these MMORTS and MMORPG's games keep track of the distances ? <br><br>Bernd <br><br></td></tr></table><br>
<a name="560634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dunno.  Might hazard a guess that you could further subdivide the zones, and keep track of what zones are themselves close enough to take a look-see at with radar.  If a zone were further subdivided, then maybe you only could put 10 per zone, and then you only need calculate 10 x 10 or 100 calcs.  If a zone isn't close enough, then all 10 in that zone don't have to be calculated. <br><br></td></tr></table><br>
<a name="560637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> this means, that the network communication is depending on the number of ships inside a zone area - with big fights, we will have x^2 calculations anyway; if the number of ships inside a zone is limited, it could sort out maybe.<br><br>another question is, how often the ship positions are recalculated. I dont thnik it must be every frame; it could also guessed on client side for some time and synchronized every 5 seconds or so. is this makeable ?<br><br>Bernd <br><br></td></tr></table><br>
<a name="560715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If there are 10.000 ships in space and 100 ships in my ships zone, my ships radar has to check for the remaining 99 ships, whether they are in sight. <br></div><br><div class="quote"> Might hazard a guess that you could further subdivide the zones <br></div><br><br>... this is what I was suggesting with the use of an octtree. (Google this !) Each solar system zone is treated as a cube that is split into 8 smaller cubes. In turn, each of these 8 cubelets is split into 8 even smaller cubes... etc. etc. click for <a href="http://hpcc.engin.umich.edu/CFD/users/charlton/Thesis/html/node29.html" target="_blank"> diagram</a><br><br>For weak radar (or screen view) you would go down quite a few levels. For a powerful radar you would show everything only a few (one ?) level down from the root.<br><br>How many ships are likely to be within combat or radar range of each other at any one time ?<br><br>[edit]<br>Of course any attempt to split the space into units may lead to 'popping' as ships cross the boundary between adjacent zones - something to consider in the early design stages.<br><br>It might be worth looking at splitting space into tracks and sectors in a way similar to how harddisks are formatted (assuming most action will take place in the 'plane' of the solar system.) You could then create 'cylinders' by recording the height above/below the solar system plane for ships.<br>[/edit] <br><br></td></tr></table><br>
<a name="560911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Jumper,<br><br>these are some very nice ideas. How do you find these kind of wonderfull documentations ? Simply by googling around ... !?<br><br>Thanks<br>Bernd <br><br></td></tr></table><br>
<a name="561117"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> {third go at this... the server ate my other two posts :-( }<br><br>I have some volumes from the "Game Programming Gems" series published by Charles River Media. These were real eye-openers about tricks and techniques used for game world representation.<br><br>Most of the articles in them are aimed at C++ coders, but the sheer variety of topics covered is invaluable. Most of the stuff is probably out there on the web - but until you know about its existence or what it is called you will be in the dark.<br><br>You may find GameDev.net or Gamasutra sites valuable, but I liked the option of reading books in bed :-) <br><br></td></tr></table><br>
<a name="561277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> and there you found that octree thing ?<br><br><br>Bernd <br><br></td></tr></table><br>
<a name="561473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a job interview with a Games Dev company a few years back. Completely out of the blue - saw an ad in the local paper for Science/Maths/Computing graduates with an interest in games. I was teaching IT in a high school at the time, but had a rich background in paper-based role-playing games.<br><br>At the first interview I was asked how I would model the wake of a boat... I had no clue, but was advised to look into "Binary Space Partition". By the second interview a week later I knew all about octrees, k-trees and BSPs. I had also managed to knock up a 2D demo of a boat wake using DX7 direct draw.<br><br>I didn't get the job (they were driving game specialists and I was waxing lyrical about RPGs), but I set my sights on game programming as a result of that interview and I bought Blitz3D a few months later.<br><br>Anyway... my point is that the "Game Programming Gems" books will throw whole new areas of creativity in your path (splines for interpolation, world generation using Rand(seed), neural nets for bot learning, flocking algorithms for emergent behaviour, etc., etc.) that will make you start to think outside the box when dealing with world-building problems. <br><br></td></tr></table><br>
<a name="563059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BerndWill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi BlackJumper,<br><br>thanks for that nice introduction. So, which of the gems (1...5) is the best / preferable ? Which ones would you buy first, which is last in the list ? And what you think about the "wisdom" gems ?<br><br>Regards<br>Bernd <br><br></td></tr></table><br>
<a name="563109"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> BerndWill<br><br>Get all 5!  Read them cover to cover (dont skip chapters).<br><br>With what your talking about (doing some sort of MMORPG), you will want a ton of tricks up your sleeve before you even beging a project of that nature, and alone at that.<br><br>BlackJumper is very correct, the Gems series is VERY informative.  I have 2 of them, and considered the tricks and tip creative and valuable.  Even if I don't actively use all the tricks and what not, at least their embedded in my brain for when I am brainstorming the engine structure for game &lt;insert title here&gt;.<br><br>To have no way to accomplish something is bad.<br><br>To have one way is good, but will limit you when the unforseen approaches<br><br>To have many ways to do something will give you options around many unforseens.<br><br>Attempting a MMORPG or something similar is a bad idea in my eyes, but everyone to their own I guess. <br><br></td></tr></table><br>
<a name="563399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @BerndWill:<br>(from memory) GPGs I is a very good introduction to techniques from a wide variety of game genres. GPGs II and onwards seemed to specialise on specific aspects of these - much more depth but less eclectic than the first one.<br><br>Amazon often do bundles and Charles River offer a package of the first three - both good ways to save on multiple volumes... but I would recommend that you get hold of Vol I to see whether the style suits you... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
