<!DOCTYPE html><html lang="en" ><head ><title >How do you make an entity follow a path?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do you make an entity follow a path?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >How do you make an entity follow a path?</a><br><br>
<a name="840981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nerdy_kid</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want to make a tower defence game, but I don't know how to make the enemys follow a path. Can someone help me out? <br><br></td></tr></table><br>
<a name="840993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pax</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi jessebugs, I think you need to look out for waypoints. There are some good goodies in the code archives. <br><br>Basic idea is recording positions (x,y,z if using 3D), orienting enemy to waypoint 1 and making him go into that direction, when it comes near to waypoint one, change its orientation to waypoint 2 and walk forwards to it, and so on. Good luck! <br><br></td></tr></table><br>
<a name="841003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Forgive me, I don't think I've ever played a Tower Defence game, although I have a vague idea what they are. Straight path or curved path? <br><br></td></tr></table><br>
<a name="841019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believed it used straight paths, but laid out to give the appearance of curving. <br><br></td></tr></table><br>
<a name="841043"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey there,<br>There's a really lazy way and a more elegant way. <br><br>First the elegant way:<br><br>Use TYPEs to create a load of pivots (invisible entities in B3d) which you then place to make the main WAYPOINTs in your game.<br><br>Then get your characters to point at the next waypoint in their sequence, until the character is within a short distance of the actual waypoint itself, at which point, increment the waypoint index so your character should head for the next one in the sequence.  Once the character reaches the end, well either do it all in reverse or make the last one and the first one near each other, and reset the index again.<br><br>Now the lazy way:<br>Make a physical entity in the shape of  your path, but make it a hollow corridor, kep it tight to the size of your entity who will patrol inside it.  Place your patrolling entity inside this corridor and set the collisions to slide.  <br>Ensure no other entity in the game collides with the corridor. Set your patrolling entity off and at certain co-ords, rotate him to face the new direction you need.<br><br>(This last idea is soooo bad - please ignore it! lol - I can't believe I even recalled it!!!)<br><br>Good luck.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="841138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldn't call that the lazy way.  That sounds considerably harder than using waypoints, both to set up in the first place and then to edit later if/when you tweak the path of the character. <br><br></td></tr></table><br>
<a name="841204"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Waypoints include some nasty problems. I would suggest not to interpolate the distances between the waypoints, but simply use the right speed for the characters. You may use some vector drawing algorithms to smooth the way. Basicly you need a straight point to point system as a basement anyway. Here's some guide on how to achieve it.<br><br>Let us assume you have a number of waypoints stored in an array, you've got x,y and z positions of each waypoint stored in the array. Furthermore each character has a waypoint track counter variable that defines what waypoint the character should cross next.<br><br>Simply point the character towards the next waypoint (using the counter as the index of the array). Then move the character one step towards this next waypoint. Now you have to check if the character PASSED BY this next waypoint. You can do this with relative ease:<br><br>Store the characters position before the step, then perform the step and then compare the new position to the old position. Now, if one of the following conditions is true then the character used to pass by the waypoint:<br><br>old x is lower than waypoint x and new x is higher than waypoint x.<br>or<br>old x is higher than waypoint x and new x is lower than waypoint x.<br>The same goes for Z.<br><br>If your world isn't entirely flat, but includes hills or stairs then you may also do the same with the Y axis.<br><br><br>So now you have determined if the charcter used to PASS BY. If so, all you have to do is incrementing the counter, so the character will point and walk towards the next waypoint next time. (of course make sure to check the array boundaries). <br><br><br>Saving waypoints is very easy. Personally I prefere to walk around in a map in first person persepctive and frequently save the camera xyz position to a list, there it is, the waypoint list. <br><br></td></tr></table><br>
<a name="842503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nerdy_kid</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I think I'll try jfk EO-11110's idea with the first person shooter walking in the map to store the waypoints.<br>I thought there were two ways of doing it and the hollow coridor must have been the other. Thanks again! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
