<!DOCTYPE html><html lang="en" ><head ><title >Global Error Trapping</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Global Error Trapping</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Global Error Trapping</a><br><br>
<a name="1314441"></a>

<a name="1314442"></a>

<a name="1314443"></a>

<a name="1314444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering instead of different messages or MAV just showing up, you can create all fatal errors or mavs with only one message or a global error message handler.<br><br>Maybe something similar like in PHP command here..<br><br><a href="http://php.net/manual/en/function.set-exception-handler.php" target="_blank">http://php.net/manual/en/function.set-exception-handler.php</a><br><br>or the  ON ERROR GOTO like in visual basic/powerbasic<br><br><a href="http://www.powerbasic.com/help/pbcc/error_trapping.htm" target="_blank">http://www.powerbasic.com/help/pbcc/error_trapping.htm</a><br><a href="https://msdn.microsoft.com/en-us/library/5hsw66as.aspx?f=255&amp;MSPPError=-2147217396" target="_blank">https://msdn.microsoft.com/en-us/library/5hsw66as.aspx?f=255&amp;MSPPError=-2147217396</a><br><br>maybe in combination with RuntimeError? <br><br></td></tr></table><br>
<a name="1314502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, ON ERROR GOTO... I missed that one too for a while.<br><br>But believe me, the lack of such a feature will teach you to write stable, clean Programs.<br><br>Tho, there is the bufferdirty group of commands that allow to reinit the gfx in case of memory loss due to eg. Screensaver, Hibernation/Standbye etc.<br><br>Also, whenever you tell Blitz to create a handle, eg. by loading an image, mesh, sound or opening a filehandle etc. you should check this handle whether it is &lt;&gt;zero. <br><br></td></tr></table><br>
<a name="1314518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks jfk. But this is more like an end user thing. I can see there's none so maybe I'd stick to zero handle check. <br><br></td></tr></table><br>
<a name="1314522"></a>

<a name="1314523"></a>

<a name="1314524"></a>

<a name="1314525"></a>

<a name="1314526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> A MAV is Blitz3D's terminology for a segfault (I don't know how nonstandard "MAV" is, but certainly Blitz3D, or games made in it, top the Google results).<br><br>You can usually catch a segfault by installing a signal handler for SIGSEGV. This is presumably what B3D already does in order to be able to give the error message rather than allowing the program to simply die.<br><br>You might be able to combine this with either setjmp or C++ exceptions to create an ad-hoc exception handling system, but it would always involve jumping "out" to a less-deeply nested part of the program. You can't really fix the error in-place and continue, because you'd need to detect exactly what variable had the invalid address <i>and</i> fix it up with valid memory to work with... if you can manage that kind of deep wizardry, it should be well within your ability to write a program that doesn't have simple mistakes in the first place. (An unexpected segfault is <i>always</i> a programmer error. You really shouldn't be catching them, you should be fixing them.)<br><br>I tried building something like this a while back: <a href="/codearcs/codearcs.php?code=3035" >Minimalist exceptions</a><br><br>I didn't experiment with installing signal handlers (SIGSEGV for MAV and presumably stack overflow, SIGFPE looks like the one for integer division errors), but the same principle would apply.<br><br>It has the major disadvantage that using a blind jump up the call stack will bypass any cleanup instructions that are supposed to run at the end of a function. Blitz3D uses simple reference counting for Type instances (and I think for strings), which means that in practice this code is likely to leak memory like a sieve.<br><br>There is definitely no way to do this without userlibs. Blitz3D already doesn't support function pointers, meaning that you need outside-the-language hackery just to get as far as putting an "action" (function pointer) into a variable in order to use it as a value. <br><br></td></tr></table><br>
<a name="1314541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Yasha! This is something really related to what I'm looking, will check it out asap. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
