<!DOCTYPE html><html lang="en" ><head ><title >spiral stuff</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >spiral stuff</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >spiral stuff</a><br><br>
<a name="661511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any equation to figure out what square is next on a spiral like path?  I have a grid, with an object in the center, and want to be able to look at the surrounding squares in a repeat...until loop to figure out which is the next open square (like this)<br><br><pre class=code>
0     1     2    3    4    5
     -------------------------------
1   | 19 | 18 | 17 | 16 | 15 |
     ------------------------------
2   | 20 | 05 | 04 | 03 | 14 |
     ------------------------------
3   | 21 | 06 | XX | 02 | 13 |
     ---------| XX |---------------
4   | 22 | 07 | XX | 01 | 12 |
     ------------------------------
5   | 23 | 08 | 09 | 10 | 11 |
     ------------------------------
</pre><br>where "x" is the center object (which I need to be a variable size), and the squares checked are in the order of the numbers, continuing forever unitl a square that is not occupied crops up.  Is there a way to do this?  I have only come up with a formula (that only works sometimes) that looks for the object if a square is ocuppied and moves according to if it is there or not.  <br><br>I am using a two dimensional array to store which squares are free and which are occupied. <br><br></td></tr></table><br>
<a name="661758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> A simple treatment would be to number the cells and then provide a list of offsets based on the shape in the middle... this will be different for each grid array that you have (so you will need a set of lists for a 5x5 that is different for a 10x10)<br><br>If you don't have too many different possible shapes in the middle it will probably be easier to create a bunch of lookup tables than it is to create a generic algorithm.<br><br>(Well, that's my view, but I don't know exactly what you are trying to achieve.)<br><br><img src="http://www.blackjumper.com/selling/spiral_grid.gif"><br><br>so the order of search is....<br><br>For a single cell<br>===========<br>X+1, X-grid+1, X-grid, X-grid-1, X-1, X+grid-1, X+grid, X+grid+1, ....<br><br>For a 2 high cell<br>============<br>X+1, X-grid+1, X-2*grid+1, X-2*grid, X-2*grid-1, X-grid-1, ....<br><br><br>There probably is an algorithm in there, and the treatment above obviosly ignores what happens at the edge of the array, but hopefully this is a step in the right direction... <br><br></td></tr></table><br>
<a name="661786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make an array of coordinate pairs the size of thee map, each pair points to the next one. <br><br></td></tr></table><br>
<a name="661847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is a building game where I need to create things around another, but I don't want the things to overlap each other if the player does not move them.  I also don't know where the "parent" object will be, as it is also placed by the player.  I have about 30 of these "parents".  Other games like mine do this, and I thought it would be reletively simple to implement it...I spent about an hour with a math teacher and it still does not work...There just has to be a better way <br><br></td></tr></table><br>
<a name="661886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would it work to use H&amp;K's suggestion of putting the sequence in an array and then placing the array "map" ontop of where it needs to be, then take the next available square.  It would require only one array, and seems to be what I want.  Would it work to put the whole sequence in and then decide if the building is taking up the slots as well? <br><br></td></tr></table><br>
<a name="661903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mind, there are a million ways to do what you want. For example a pointer from each map square saying (up,left,right or down)or my Array overlay suggestion, Blacks algorithm (to name but Three). <br><br>You need to pick one and program it. (I would go for Blacks if I had the time, but I would make XX 0,0 and have negatives) <br><br></td></tr></table><br>
<a name="661908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is Black's?  I can't seem to find a definition anywhere in the code archives and google... <br><br></td></tr></table><br>
<a name="661910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> blackJumper. Post one <br><br></td></tr></table><br>
<a name="661915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks everyone for helping!  I think I will go with Blacks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
