<!DOCTYPE html><html lang="en" ><head ><title >Fixed # of decimal places after the point</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fixed # of decimal places after the point</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Fixed # of decimal places after the point</a><br><br>
<a name="538778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir_LANs-a-lot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Probably a really simple answer but I'm a bit stuck on it:<br><br>I want to create a floating point number to 2 decimal places, but creating a value thus:<br><br>myvar# = 0.0<br><br>prints out to varying decimal places from 0-4:<br><br>25.0<br>12.3333<br><br>etc..<br><br>I even tried converting it to a string value and truncating the string like so:<br><br>stat$=Str$(saccuracy#)+"00"<br>stat$=Left$(stat$,Len(stat$)-2)<br><br>But it still wont print correctly.. =/<br><br>Any help appreciated.<br><br>Cheers <br><br></td></tr></table><br>
<a name="538785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, off the top of my head so dont grumble if its not right ;)<br><br>First add 0.005 to the var to round it to the nearest. Then convert to a string. Next find the decimal point (".") using the appriopiate command (there is one, but cant remember it) then see how many characters come after the decimal point. Then either truncate the string or pad out with zero's.<br><br>Hope that helps a bit,<br>Rhy :) <br><br></td></tr></table><br>
<a name="538792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Function f2s$(f#, decimals%)
	Local i = Floor(f)
	f = f - i
	Local e = (10^decimals)
	Local i2 = e*10+Int(f*e)
	Return i+"."+Right(i2, decimals)
End Function

Print f2s(12.0503, 1)</pre>You're welcome, I'm really bored today :) <br><br></td></tr></table><br>
<a name="538796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course Koriolis, thats a better way and probably quicker during runtime.<br><br>Rhy :) <br><br></td></tr></table><br>
<a name="538798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir_LANs-a-lot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Koriolis :)<br><br>Looks to be rather more complicated than I first thought it was going to be! <br><br></td></tr></table><br>
<a name="538803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> an easier way would be to use an integer <br>to represent the 2 floating points, <br>eg. 1234 would represent 12.34 <br><br></td></tr></table><br>
<a name="538835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> In what is it easier? If all he needs is to print the value with a fixed number of decimals, why going to the troubles of constantly converting from this integer representation to the float value, whenever he needs to access it? <br><br></td></tr></table><br>
<a name="538855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you use...<br><pre class=code>
variable#=25.111234
Print Int(variable*100)*.01
</pre><br>for 2 decimal places and adjust the values for others (i.e. *1000 * 0.001 <br><br></td></tr></table><br>
<a name="538867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you read carefully you'll see he wants 25 to print as 25.00, not 25.0. From what I understand anyway. <br><br></td></tr></table><br>
<a name="538879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, he is printing to check he gets 2 <br>decimal points but didn't say he needs <br>to print 2 decimal points.<br><br>i just suggested another way to maintain<br>a 2-decimal-point structure, but i think<br>your way is better, in most cases anyway,<br>maybe all. :) <br><br></td></tr></table><br>
<a name="538884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir_LANs-a-lot</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just a bit surprised that Blitz doesn't have such a function in it! - Something like:<br><br>fdp# = fval(myvar#,2)<br><br>or something..<br><br>;)<br><br>Anyhoo, thanks for the replies guys. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
