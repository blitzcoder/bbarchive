<!DOCTYPE html><html lang="en" ><head ><title >How do I make enemies navigate through a maze?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How do I make enemies navigate through a maze?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >How do I make enemies navigate through a maze?</a><br><br>
<a name="965838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I'm working on a 3D game right now(Called Robo Attack:)<br>and need my enemy robots to be able to navigate through a<br>maze, while still chasing the player.<br><br>I.e, if the player is on one end of the maze, and the robot is on<br>the other, he should take the quickest route to reach the player.<br><br><br>I believe this is achieved through creating several pivots, and <br>having the robot run back and forth to those depending on where<br>the player might be, but I have no idea what I'm doing, lol.<br><br>Could anyone help out with this?<br><br><br>Thanks,<br><br><b> WALNUT </b> <br><br></td></tr></table><br>
<a name="965847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> A* (Astar) pathfinding.  Probably at least a few examples in the code archives.<br><br>[edit]<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2069" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2069</a> <br><br></td></tr></table><br>
<a name="965857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>about A* a good tutorial with b3d code and nice links:<br><a href="http://www.policyalmanac.org/games/aStarTutorial.htm" target="_blank">http://www.policyalmanac.org/games/aStarTutorial.htm</a> <br><br>Juan <br><br></td></tr></table><br>
<a name="965859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. Thanks guys!<br><br>I'll check out the links in a bit.<br><br><b> WALNUT </b> <br><br></td></tr></table><br>
<a name="965867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KillerX</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is something I wrote.  3D is much harder, but you could still base it around a 2D grid.<br><br><a href="/codearcs/codearcs.php?code=2417" >WayPointer</a> <br><br></td></tr></table><br>
<a name="965869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oky doke. Ty killer!<br><br>I think Charrua's will work out nicely though. I took a quick look, and<br>it seems like something I can follow. If not, I'll take a look at yours and<br>GFK's.<br><br>Thanks again everyone!<br><br><b> WERDNA </b> <br><br></td></tr></table><br>
<a name="965887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your maze is divided up into a grid, then you can do the following:<br><br>Make an array the same size as your grid.<br>Make a list.<br>Add the robot's position to the list.<br>Set Counter to 0.<br><br>Repeat<br><br>Increment the counter.  <br><br>For each tile in the list, scan around it for tiles which are adjacent to it, reachable (not blocked by walls), and which do not have a number in them already. Set those tiles to the value of Counter.<br><br>Until you have reached the player.<br><br>Then, starting at the player:<br><br>Record the position.  Find the lowest number adjacent to that position which is reachable.  Move to that position.  Repeat until you have reached the robot.<br><br>This will give you the shortest path from player to robot.<br><br><br><br>If your game is not based on a grid, then you can still do something like the above, but you're on your own figuring out how to implement it.  There's many different ways you could go about it. <br><br></td></tr></table><br>
<a name="966008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> if I remember correctly werdna, in your game robo attack, walls can be pushed around and destroyed so I would suggest something like a* as apposed to a waypoint system. <br><br></td></tr></table><br>
<a name="966101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> He he he.<br><br>That was the old version of Robo Attack.<br>I only did that since I had no idea how to make them navigate the<br>maze.<br><br>For the new version, the maze is solid, and cannot be pushed or<br>destroyed by ANYONE.<br><br>Thanks though for pointing that out!<br><br>I'm using Charrua's suggestion right now by the way.<br>Trying to convert it to 3D sucks, simply because I don't yet have a clue<br>what I'm doing :)<br>I'll figure it out soon enough though.<br><br>As soon as I get the pathfinding done for the robots, I should be very<br>close to having the next Robo Attack demo ready!<br>(I'll post some screenshots as soon as I get a chance in the Blitz Showcase)<br><br>Thanks for your help everyone!<br><br>WERDNA <br><br></td></tr></table><br>
<a name="966174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found A* pathfinding very frustrating when I had a go. I gave up, and decided to get back into it. Second time around it made more sense. In was using only waypoints though, but the same idea is involved. Good luck with this! Stick at it. It will "click" <br><br></td></tr></table><br>
<a name="966604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Ross!<br><br>I'm finding it very confusing at the moment, but I'm sure I'll figure it<br>out in time. For now I'm just sticking to working on the new level models :) <br><br></td></tr></table><br>
<a name="966713"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Question:<br><br>Do these enemies instinctively KNOW where the player character is and attempt to home in/track him down?<br><br>or <br><br>Are they simply navigating the maze in what would appear to be a logiccal searching pattern<br><br>or <br><br>Are they actively attempting to search through the maze, ensuring that by "coordinating" with each other and their local region of the maze, they perfoem an effective and methodical sweep ? <br><br></td></tr></table><br>
<a name="966742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> They know where he is.<br><br>I think thats the best option for this kind of game. <br><br></td></tr></table><br>
<a name="966749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) Maybe make the walls transparent to make it seem as if the robots really do KNOW where you are.. hmmm? Perhaps... maybe? I still haven't figured out AI path finding. But! I did make a Match 3 (or 2, or 5, or 50 or any number) game and in order to do that, I had to see if blocks/tiles of the same type were near it. I just made a loop where you input one tile, and it checks up, down, left, and right and if there is the same block next to it, it selects the block and then performs the loop on it too. <br><br></td></tr></table><br>
<a name="968356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I once modded a 2D A* pathfinding routine to 3D it turned out the whole calculation part became rather slow - too slow for realtime calculation.<br><br>So today I would use something diffrent. EG. a Waypoint system with crossroads, combined with some kind of real word shipping address system, based on region, crossroad, street and number. The "postman" will then know the best way to the shipping address, probably not always the very best way, but all in all not completely wrong.<br><br>The routes are precalculated. each house has the best routes to the next crossroads, each crossroad to the surrounding region centers, each region center to all other region centers. Something like that.<br><br>But this still required to define a lot of waypoints and things.<br><br>An other approach would be to precalculate the A* stuff. If there are not too many grid points then it might be possible to store all the best ways to any other point for every single point. EG let's say we have 10*10*10 points. Lets say an approximate way consists of about 20 points. that's about 80 Megabyte of ram. When a bank is used, with 16 Bit values or 8 Bit values, then it takes only 40 or 20 megs. <br><br></td></tr></table><br>
<a name="969020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure I understand what your saying jfk.<br><br>The whole A* pathfinding thing is too complex for me right now.<br>I'll come back to it in a month or so though.<br>That usually works for me if I can't figure something out.<br><br>For now I'm just using a temporary movement system for my game,<br>where the enemies just move straight forward in whatever direction<br>they are facing, and then if they hit a wall, they rotate in a random<br>45 degree angle direction.<br><br>And if they are close to the player, they ignore their rotation code and<br>just chase him.<br>It seems to work out ok as a temporary fix until I figure the pathfinding<br>out.<br><br><br><br>Anyways,<br><br>Thanks again for your help everyone!<br><br>WERDNA <br><br></td></tr></table><br>
<a name="969025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could place a bunch of waypoints (pivots) around the world (not inside walls) and have the robots go to the nearest waypoint but when they get close enough to the player, they ignore the waypoints. <br><br></td></tr></table><br>
<a name="969691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I might not have need of the pathfinding after all, lol.<br><br>I just play tested my new maze in robo attack, and it is not nearly as<br>fun as the game used to be :(<br><br>Its funner if I go back to the old method where they can simply destroy<br>the maze walls.<br><br><br>So my pathfinding lessons shall be on hold for awhile until I get this<br>sorted out @.@<br><br>Thanks anyways though,<br><br>WERDNA <br><br></td></tr></table><br>
<a name="969707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a thought: Have some robots able to destroy walls and others that move faster which can't. <br><br></td></tr></table><br>
<a name="970114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> some one posted a link about the ins and outs of pacman a few months ago, until i read that i thought ghosts just moved randomly till they saw pac then hit chase mode, but infact they work almost how you described, you can see all the ghosts and all the ghosts can see you (pacman)<br><br>the thread might have been pacman naked (a disturbing image bested by ms pacman naked o.O) <br><br></td></tr></table><br>
<a name="970121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> use waypoint :)<br><br>although im not the best waypoint maker.<br><br>ull have to fix the code<br><br>because of this.<br><br>code: <br><br><pre class=code>
Graphics3D 800, 600, 0, 2
AmbientLight 255,255,255

Dim wp(10)

Global cam = CreateCamera()
CameraRange cam, 1, 5000

waypoint(cam, wp(0), wp(10))
Global player = CreateCube(cam)

Global sky = CreateSphere(100.5)
EntityColor sky,102,102,255
ScaleEntity sky, 1000, 1000, 1000
FlipMesh sky

Global land = CreatePlane()
EntityColor land, 127,127,127

While Not KeyHit(1)
If KeyDown(57) MoveEntity cam, 0, 1, 0
MoveEntity cam,0,0,(KeyDown(200)-KeyDown(205))*1
TurnEntity cam,0,(KeyDown(203)-KeyDown(205))*1,0
UpdateWorld
RenderWorld
Text 10, 10, EntityX(cam)
Text 10, 20, EntityY(cam)
Text 10, 30, EntityZ(cam)
Text 10, 40, EntityX(player)
Text 10, 50, EntityY(player)
Text 10, 60, EntityZ(player)
Flip
Wend

Function waypoint(entity, point, maxpoints)
wp1 = CreateSphere(100.5)
For way = 0 To maxpoints
wp2 = CopyEntity(wp1)
wpy# = 4
PositionEntity wp2, Rnd(1,2), wpy#, Rnd(4,8)
PositionEntity entity, EntityX(wp2), wpy#-3, EntityZ(wp2)
LabelEntity(cam, wp2, "waypoint"+way)
Next
End Function

Function LabelEntity (camera, entity, label$)
	If EntityInView (entity, camera)
		CameraProject camera, EntityX (entity), EntityY (entity), EntityZ (entity)
		w = StringWidth (label$)
		h = StringHeight (label$)
		x = ProjectedX () - (w / 2) - 1
		y = ProjectedY () - (h / 2) - 1
		Color 0, 0, 0
		Rect x, y-40, w + 2, h + 2, 1
		Color 255, 255, 255
		Text x, y-40, label$
	EndIf
End Function
</pre><br><br>~DS~ <br><br></td></tr></table><br>
<a name="970136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> forget what i said.<br><br>use this instead: <br><br><pre class=code>

;move w/ arrowkeys and wsad

AppTitle "Waypoint"

Graphics3D 800, 600, 0, 2
AmbientLight 255,255,255

Global wpx1#
Global wpy1#
Global wpz1#
Global wpx2#
Global wpy2#
Global wpz2#
Global maxpoints=9

Dim wp(maxpoints)

Global cam = CreateCamera()
PositionEntity cam, 0,1,0

CameraRange cam, 1, 5000

Global wp1
Global wp2
Global wp3

wp1 = CreateSphere(100.5)
wp2 = CreateCube()

For way = 0 To maxpoints-1
wp(way) = CopyEntity(wp1)
wp3 = CopyEntity(wp2)
wpx1# = EntityX(wp(way))
wpz1# = EntityZ(wp(way))
wpx2# = wpx1#+Rnd(10,200)
wpy2# = 1
wpz2# = wpz1#+Rnd(40,100)
ScaleEntity wp(way), 1,1,1
EntityColor wp(way),68,207,252
ScaleEntity wp3,1,1,1
EntityAlpha wp3,.4
EntityColor wp3,102,200,255
PositionEntity wp(way), wpx2#,wpy2#,wpz2#
PositionEntity wp3, EntityX(wp(way)), EntityY(wp(way)), EntityZ(wp(way))
Next

Global player = CreateCube(cam)

Global sky = CreateSphere(100.5)
EntityColor sky,102,102,255
ScaleEntity sky, 500, 500, 500
FlipMesh sky

Global land = CreatePlane()
EntityColor land, 127,127,127

While Not KeyHit(1)

MoveEntity cam,0,0,(KeyDown(200)-KeyDown(208) Or KeyDown(17)-KeyDown(31))*1
TurnEntity cam,0,(KeyDown(203)-KeyDown(205) Or KeyDown(30)-KeyDown(32))*1,0
UpdateWorld
RenderWorld
For way = 0 To maxpoints-1
LabelEntity2(cam, wp(way), "hi, i'm player "+way+" attached to waypoint"+way)
Next
If wp3 Then LabelEntity(cam, wp3, "hi, i'm the original player attached to waypoint"+wp3)
Text 10, 10, "Instructions: "
Text 10, 30, "Go up to the spheres to read what they say!"
Flip
Wend

;Function waypoint(point1, maxpoints)
;point2 = CopyEntity(point1)
;PositionEntity point2,wpx2#,wpy2#,wpz2#
;Return point2
;End Function

Function LabelEntity (camera, entity, label$)
	If EntityInView (entity, camera)
		CameraProject camera, EntityX (entity), EntityY (entity), EntityZ (entity)
		w = StringWidth (label$)
		h = StringHeight (label$)
		x = ProjectedX () - (w / 2) - 1
		y = ProjectedY () - (h / 2) - 1
		Color 0, 0, 0
		Rect x, y-40, w + 2, h + 2, 1
		Color 255, 255, 255
		Text x, y-40, label$
	EndIf
End Function

Function LabelEntity2 (camera, entity, label$)
	If EntityInView (entity, camera)
		CameraProject camera, EntityX (entity), EntityY (entity), EntityZ (entity)
		w = StringWidth (label$)
		h = StringHeight (label$)
		x = ProjectedX () - (w / 2) - 1
		y = ProjectedY () - (h / 2) - 40
		Color 0, 0, 0
		Rect x, y-40, w + 2, h + 2, 1
		Color 255, 255, 255
		Text x, y-40, label$
	EndIf
End Function</pre><br><br>~DS~ <br><br></td></tr></table><br>
<a name="971159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WERDNA</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Shadow Wing!<br><br>This should work out very nicely!<br><br>WERDNA <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
