<!DOCTYPE html><html lang="en" ><head ><title >Semi-transparent image?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Semi-transparent image?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Semi-transparent image?</a><br><br>
<a name="800981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Terry B.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How would you make part of an image semi-transparent in 2d?<br>Meaning like you can see the image(meaning maskimage wont work), but you can also see whats under it. I need to use it for a glow effect, because I have a glowing bullet, and  the glow outline around it shows, and blocks out the background(which looks weird) How would I make it so that you can see the glow but also the background? <br><br></td></tr></table><br>
<a name="800984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> In 3D, I suppose. I'm not sure if you can use 2D images with 'alpha'. However, using 3D to simulate 2D should work. <br><br></td></tr></table><br>
<a name="800992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Terry B.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, I really need it to be 2d. But thanks anyway.<br><br>I heard somwhere that one of the image formats support alpha. Anyone know if thats true and if so which one? <br><br></td></tr></table><br>
<a name="801003"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> PNG and TGA support alpha but the alpha bits are not used for 2d images.  You'll need to use textures unless there is a 3d party library out there. <br><br></td></tr></table><br>
<a name="801025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >elcoo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure, but i think, if you make a .bmp file, the black parts of the image are invisible. I made something like a glow effect to, and it worked fine. <br><br></td></tr></table><br>
<a name="801028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In 2d if you are trying to perform alpha blending (transparency) then you will need to use the writepixelfast/readpixelfast commands - first read the background image's pixel color components (it may be stored in a bank or array for a reasonable speed increase), read the pixel color of the pixel in the image you want to alpha blend, calculate the new red/green/blue components values based on these figures and the alpha value for the pixel (this could also be all stored in an array or bank for a reasonable speed increase) then you will need to draw the resulting pixel with writepixelfast.  <br><br>This obviously means you have to iterate through all the pixels in the image - however one way you can optimise it by not performing the calculation for pixels which are completely transparent or completely opaque.  <br><br>something like this :<br><br>(I may have taken some of this from the code archives a long time ago, it is very useful)<br><pre class=code>
RGB=readpixelfast(x,y,imagebuffer(your image handle goes here))
BRGB=readpixelfast(x,y,backbuffer()) ;background rgb value
Alpha#=0.5 ;for example 50% transparent.
;if you want each pixel to have its own Alpha value you will need to store this yourself as blitz3d/blitzplus in 2d cannot read the alpha values using the readpixel commands, however you can store them in a bank by either creating your own image format or by obtaining the alpha values from the image files directly when loading
		
bR = (BRGB Shr 16) And 255
bG = (BRGB Shr 8 ) And 255
bB = (BRGB       ) And 255
dR = Float(((RGB Shr 16) And 255) - bR)*Alpha#  
dG = Float(((RGB Shr 8 ) And 255) - bG)*Alpha#
dB = Float(((RGB       ) And 255) - bB)*Alpha#
RGB=((bR+dR) Shl 16) Or ((bG+dG) Shl 8) Or (bB+dB)
				
writepixelfast x,y,RGB,backbuffer()

</pre><br><br>Something like that should get you started.. <br><br></td></tr></table><br>
<a name="801415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jerome Squalor</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can also make some of the pixels black<br>(mask color) so that you can see through it <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
