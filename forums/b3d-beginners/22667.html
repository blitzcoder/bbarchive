<!DOCTYPE html><html lang="en" ><head ><title >PS2 Joypad problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >PS2 Joypad problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >PS2 Joypad problem</a><br><br>
<a name="232799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm hoping someone can help me here. I just got a PS2 to USB joystick converter.  It installed fine and all buttons etc.. seem to be working after checking in the control panel.  I'm trying to get Blitz to recognise any of the joypad buttons but if only seems to pick up that I'm pressing the button for a split second even though I'm holding it down!?  The analogue commands are working a treat but is there something I'm doing wrong.  I've tried joydown(), joyhit etc.. but getting nowhere. <br><br></td></tr></table><br>
<a name="232823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mearrin69</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm. Are you flushing it? That could be your problem...but it's just a guess. Can we see the test code you're using?<br>M <br><br></td></tr></table><br>
<a name="235049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oldefoxx</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> USB interfacing is not going to behave in the same manner that a hardwired gameport is going to behave.  You are faced with the fact that USB is a shared interface, and as such, the use of it prevents any one device from monopolizing it - which holding a specific position and keeping that input applied would do.<br><br>What you are possibly dealing with is that the converter is pulsing its input from the joystick out as a single event.  And that is what the system sees.  A different device driver or converter might send a series of such pulses to emulate a constant input.  It would still allow the joystick to be held down, but also permit other devices to work via the USB port, although possibly at a slower rate,<br><br>But the fact is, I don't believe that a joystick is a suitable device to try to attach via USB.  You need a dedicated port, and that just is not USB's nature.  I would look for an extention cable to attach your joystick to and go that route. <br><br></td></tr></table><br>
<a name="235055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stevie, it might be your driver has correct DirectInput support but is falling over on the system joystick support. You may want to try playing with the undocumented EnableDirectInput true/false command.<br><br>Also you are using JoyDown() yes? <br><br></td></tr></table><br>
<a name="235067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NeuralizR</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Oldefoxx:  you might not want to be so presumptuous....<br><br>Basically the way old game ports worked is that the joystick itself kept a constant signal going as you described, but hardware on the other side of the port (internal) made values available.  You just polled the hardware for new values.<br><br>Now with USB, there's hardware on the input device itself that sends out values across the USB connection.  So the USB port only recieves changes.  The hardware is powered by the USB connection itself.<br><br>Take your mouse for example, every time you move it, the change in value is sent over USB.  When you constantly move your mouse around in circles, you don't think of this as your mouse monopolizing your connection do you?  :)<br><br>Joypads only send data over USB when something changes, like your analog stick, it's the equivalent of sending mouse updates.  This is the reason you don't see joypads with old school joypad connection to usb adapters, different technology, where as keyboards always worked that way, key codes were sent when you pressed or released a key, so it was easy to make keyboard PS2-USB adapters.<br><br>@Stevie G: So you tried the simple example in the docs I assume?  :/  Not sure what the problem could be...<br><br><pre class=code>SetBuffer BackBuffer()
While Not KeyHit(1)
	Cls
	Locate 1, 1
	For t = 1 To 4
		If JoyDown(t)
			button$ = "ON"
		Else
			button$ = "OFF"
		EndIf
		Print "Button " + t + " is " + button$
	Next
	Flip
Wend</pre><br><br>That should quickly show you what buttons are being held down.<br><br>When you said the pad was working great itself, then you've checked in the game controller control panel and used the button tests there and made sure the lights stay lit when you hold the buttons down?<br><br>Sorry if I was no help at all, I was mainly replying to suggest a different point of view to Oldefoxx.  ;) <br><br></td></tr></table><br>
<a name="235587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the responses on this one.  Been busy so didn't get a chance to post before now.  I'm not sure what I did but both PS2 joypads which I have connected to the USB are working a treat now. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
