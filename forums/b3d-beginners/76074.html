<!DOCTYPE html><html lang="en" ><head ><title >Get Angle ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Get Angle ?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Get Angle ?</a><br><br>
<a name="850467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Everybody,<br><br> I looked in the code arc's and could not find what I was looking for, or my feeble little mind could not understand any of it :)<br><br>Here is what I need;<br><br>1. Get the Angle of the Tri/Vert/Poly that my player is standing on.<br>2. If the angle=&gt;60 degrees the stop my animation as in, he cannot climb that hill.<br><br>thats it, but I am confused on how to do this.<br><br>Any help would be greatly appreciated.<br><br>THX ! <br><br></td></tr></table><br>
<a name="850473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use Linepick vertical down and then pickedy<br>Thats will allow you to calculate the angle atan / atan2 <br><br></td></tr></table><br>
<a name="850475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you possibly provide a code sample for myself and others?<br><br>:) <br><br></td></tr></table><br>
<a name="850477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> LinePick entityx(player ), entityy(player ) + 10 , entityz( player ), 0,-100,0<br><br>If PickedNy &lt; .25 then<br>   { this is a pretty steep slope }<br>endif<br><br>You don't need atan2 etc.. that's just overkill.  Just use the pickedny() .. you'll need to play with the .25 value but 1 = flat , 0 = vertical.<br><br>Stevie <br><br></td></tr></table><br>
<a name="850490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> so do I need to make my player "pickable" or my terrain mesh?<br><br>and thx for your help :) <br><br></td></tr></table><br>
<a name="850512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The terrain mesh. <br><br></td></tr></table><br>
<a name="850514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did that and PickedNY has no value assigned to it. And I did assign entitypickmode 2 to my terrain.<br><br>In my Code I have "my_angle" as a global # to capture the value so I could see the proposed angle of the terrain vert, and why it was not working. And my "my_angle" variable shows no value for PickedNY:<br><br>your code:<br>LinePick EntityX(player ), EntityY(player ) + 10 , EntityZ( player ), 0,-100,0<br><br>my_angle=PickedNY<br><br>If PickedNY &lt; .25<br>;the .25 value but 1 = flat , 0 = vertical<br>EndIf <br><br></td></tr></table><br>
<a name="850524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to use brackets with PickedNY(), else the compiler thinks you're referencing a variable called PickedNY, not calling a function. <br><br></td></tr></table><br>
<a name="850530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT : sorry - you have the # there already.  My bad - forgot about the () part!! <br><br></td></tr></table><br>
<a name="850569"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, that works great on my terrain, allowing me to determine at what angles my actor can/cannot go up.<br><br>But, a new problems arose..I am using "EntityPickMode enemy,1" for my badguys so when they get into my crosshair it changes the crosshair color. <br>"pictentity=CameraPick(camera,MouseX(),MouseY())<br><br>   If PickedEntity()=enemy1 ShowEntity target122"<br><br>Well now that my terrain is pickable, it wont let the pickmode for my badguys function. It acts like it's being overran by something and is ignored. <br><br></td></tr></table><br>
<a name="850572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I may have found a temporary fix, I enable pickmode for the Terrain&gt;run the angle check&gt;then un-enable pickmode.<br><br>Will this be a performance hit ? <br><br></td></tr></table><br>
<a name="850730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It may be the way your code is structured. If you can paste the code you are using it might help. It shouldn't be any performance hit disabling pickmodes. <br><br></td></tr></table><br>
<a name="852245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i fixed it, I zigged instead of zagging...lol<br><br>Thx to all for helping, this is working great. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
