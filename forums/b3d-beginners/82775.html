<!DOCTYPE html><html lang="en" ><head ><title >LOD Methods.....</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LOD Methods.....</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >LOD Methods.....</a><br><br>
<a name="933727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi All....<br><br>I have run into a Frame Rate issue with my tree cover. <br><br>What I need to know and understand is how a LOD system works. Currently I am using 'entityautofade' which I would like to replace with a LOD routine.<br><br>Should sprites / quads be used as distant trees...and when you approach flick them to full models (3ds)?<br><br>Or....do I use lower poly trees at distance instead of quads / sprites?<br><br>How does Farcry do it? Loop through each tree (all the time) and calculate distances and apply the corrent LOD?<br><br>Anyone care to shed some light and discuss your approach? I'd really like to keep my tree count as is but need to know how. <br><br></td></tr></table><br>
<a name="933733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..how i do things is simply create small cubes on the edge of the bounding box of each entity, and convert them in to physics bodies(they are invisible) and simply do raypicking(physx, not B3D) and simply check is picking happen or not and based on that turn on/off corresponding entity on scene, eg. trees or whatever..thats how i manage to run smoothly 250K-270K polys level with no problems at all.. <br><br></td></tr></table><br>
<a name="933736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok....sounds interesting. However, I dont use physx nor do I plan to at this stage. But thanks for the imput. As I said, sounds interesting. <br><br></td></tr></table><br>
<a name="933762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jerome Squalor</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> im not completely sure, but my guess would be to have all the levels of detail for the tree and have certain ones hidden depending on their distance from the player. the only issue i can think of this causing is the lag from checking the distance of every single tree.<br><br>hope that helps! :) <br><br></td></tr></table><br>
<a name="933846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H. T. U.</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's an example of a LOD mesh in the samples. <br><br></td></tr></table><br>
<a name="933951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats what I thought...(LAG)....not from the command "Entitydistance" itself, but from the loop where each and every tree / object is checked for distance.<br><br>If I have 3 tree models representing Near Dist / Medium Dist / Far Dist....I could pop them in accordinly; but cant think of any other way to do this apart from looping through each tree.<br><br>Entityautofade does this automatically when you set this before the main loop. I am not sure what Blitz does behind the scenes (probably loops as well)<br><br>Will need to come up with a solution.....! <br><br></td></tr></table><br>
<a name="933990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Instead of testing each tree every time, group them into areas, and test the areas. then replace every tree in that area for a low poly  model or a sprite, and you should see a speed improvement.<br><br>Also, don't test it every frame. test it like every 2 or 3 frames, or on a fixed time interval. <br><br></td></tr></table><br>
<a name="934012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ SLotman: Yeah.....actually a good idea to limit the amount of distance calls. Perhaps it can be called each 100 cycles if I am on foot....and each 50 cycles when I am in a vehicle.<br><br>If I use a sprite for the low detail version, wont it approximate a different shape? I mean.....my 3d trees are bent banana palms etc.....yet a sprite would lean 1 way only. <br><br></td></tr></table><br>
<a name="934015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or update every frame, but only a few with the full cycle requiring more than a single frame to loop through all of them. <br><br></td></tr></table><br>
<a name="934524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd suggest to use entity position sorting. A 2-dimensional array has the entity handles stored. Their array index indicates the distance to the player/camera. So when you do a "for x/y" trough all of them, you will know from the current x and y value when you have to show the sprite version or the 3D version, and best of all, PositionEntity will also sort your alphas btw. The drawback is you will need to handle a lot of entities, can't collapse things much to save surface count. Then again, if the sprites are used in a smart way this may look like real dense vegetation. <br><br></td></tr></table><br>
<a name="935220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks fot all the ideas guys....will try and come up with a solution based on this feedback. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
