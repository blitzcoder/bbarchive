<!DOCTYPE html><html lang="en" ><head ><title >Include problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Include problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Include problem</a><br><br>
<a name="791176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've never used the include command much, but my game is becoming very bulky and the interpreter keeps crashing when I move blocks of text around, so I've decided to split the working parts into a couple of seperate include files. However, I have a problem....<br><br>I've split the functions into one include file, and data into another file. I include them at the start of my main file, but when I run it, the functions file stops and says that it can't find the data (from the data file). In other words, program 1 loads in programs 2 &amp; 3, but program 2 stops because it can't find some of the data from program 3.<br><br>I get the error, 'Function Shortratings$ not found', when Shortratings$ is actually an array created at the start of the main file, using data from the data file.<br><br>For now I'll just stick them all together again, but I'd like to solve this as the files are becoming too large. <br><br></td></tr></table><br>
<a name="791221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you declared variables as Global? Even if they are in function put Global VariableName at the top of the source file.<br><br>Like;<br><br><pre class=code>
Global VariableName

Function Test()
    VariableName = BlaBla
End Function
</pre> <br><br></td></tr></table><br>
<a name="791222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think that's the problem, because this is an array, which I believe is global anyway? It's declared at the top of the main file, it then reads it's information using restore / read (that information is now in the 2nd include file), but the other include file doesn't seem to know that the array even exists.<br><br>I've stuck the file back together and it works fine as a single file :( <br><br></td></tr></table><br>
<a name="791229"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Farflame,<br><br>I don't think an Array is global, you need to declare it, eg<br><br><pre class=code>
Global variable_name[2]
</pre> <br><br></td></tr></table><br>
<a name="791230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure you put the include command AFTER the Dim command for the array? <br><br></td></tr></table><br>
<a name="791234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I don't think an Array is global, you need to declare it <br></div><b>Dim Array(n)</b> makes a global array - they're global by default in Blitz3D.  As for <b>Array[n]</b> (i.e. Blitz arrays) - can't remember if they're global by default or not.  I don't *think* they are, so it depends how you're doing it.<br><br>Make sure you're trying to compile the right file; i.e. the main one that calls the Includes.  If you try to compile any of the others then yep, you'll get errors. <br><br></td></tr></table><br>
<a name="791474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bankie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, did a couple of tests and hope I can help. You have to make sure that when you put your include statements at the beginning of your main document, that you put them in the right order. The include file which contains the Dim statements must go first. For normal global variables it doesn't appear to matter, but for arrays, the Dim statement has to be encountered first so that the compiler knows that it exists. In short, the first include statement should be the one that points to your variable declarations. <br><br></td></tr></table><br>
<a name="794061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, thanks for the help guys, will try this out later and let you know. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
