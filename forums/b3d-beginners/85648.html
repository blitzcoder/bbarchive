<!DOCTYPE html><html lang="en" ><head ><title >Getting Wireframe to be both on and off</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Getting Wireframe to be both on and off</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Getting Wireframe to be both on and off</a><br><br>
<a name="969287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I know that's not possible. But does anyone know of someone ever trying to achieve the same effect? I was thinking maybe, with Wireframe off, draw a 2D line between the 3D screen positions of the different vertexes and continually update it with Cls and Line. I don't know quite where to start though, specifically what commands to use to get the coordinates to begin with, or how to convert them to 2D exactly.<br><br>I do have a good reason for this project, I'm going to make some Maya mode 5 type effects if that motivates anyone to help. <br><br></td></tr></table><br>
<a name="969301"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can create lines that would represent the edges of your model. There are some nice "3D lines" examples at the Code Archives:<br><br><a href="http://blitzbasic.com/codearcs/codearcs.php?code=839" target="_blank">http://blitzbasic.com/codearcs/codearcs.php?code=839</a><br><br><a href="http://blitzbasic.com/codearcs/codearcs.php?code=1184" target="_blank">http://blitzbasic.com/codearcs/codearcs.php?code=1184</a><br><br>Run the first one, it shows very easily how to use it.<br>Make sure to thank the authors of whatever code you might use! <br><br></td></tr></table><br>
<a name="969305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The FastExtension lib will allow you to actually have wireframe both on and off at the same time:<br><br><img src="http://fastlibs.com/images/fe/06.jpg"><br><br><a href="http://fastlibs.com" target="_blank">http://fastlibs.com</a> <br><br></td></tr></table><br>
<a name="969306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Okay, I know that's not possible. <br></div>Sure it is.  Do a 2-pass render.  The first 'normal' render, and the second render in wireframe mode with colour/z-buffer clearing disabled (ref: CameraClsMode). <br><br></td></tr></table><br>
<a name="969507"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Sure it is. Do a 2-pass render. The first 'normal' render, and the second render in wireframe mode with colour/z-buffer clearing disabled (ref: CameraClsMode). <br> <br></div><br>This is a technique I've used, it's nowhere near as slow as I imagined it would be, and gives a very pleasing result. <br><br></td></tr></table><br>
<a name="969508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow Malice that didn't sound right...<br><div class="quote"> gives a very pleasing result <br></div><br><div class="quote"> Handcuffed to a keyboard. <br></div><br><br>I just HAD to say something. <br><br></td></tr></table><br>
<a name="969617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will that fastlibs thing mess up my copy of Blitz3D or make it so I can't use Blitz media linker for final exes? <br><br></td></tr></table><br>
<a name="969638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your Blitz3D version is lower than V1.101 then you should be fine (certainly with recent versions, other than the most recent). Having said that, we expect the new version of FastExtension to work with Blitz3D V1.101.<br><br>I have no idea as to Blitz Media Linker - although, I would expect no problems at all with it. <br><br></td></tr></table><br>
<a name="969656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AJ00200</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Okay, I know that's not possible <br></div><br><br>It is on a quantum computer! <br><br></td></tr></table><br>
<a name="969700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Wow Malice that didn't sound right...<br><br>gives a very pleasing result <br><br><br><br>Handcuffed to a keyboard. <br><br><br><br>I just HAD to say something. <br> <br></div><br>HAhahah! <br><br>What can I say? I like programming :D <br><br></td></tr></table><br>
<a name="969733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Listen to GfK and ignore the 'noise' results in this thread. <br><br></td></tr></table><br>
<a name="970140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not having any luck with any of them. They're all floating code you have to paste together and hope it works, and then they don't. Thanks for trying to help, but could someone just make me a small complete program of a CreateMesh cube with solid polygons and lines please? I'm so busy! <br><br></td></tr></table><br>
<a name="970163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now ythat you mention it, I have tried doing what I know I've done before, and what Gfk suggested, and it doesn't seem to work now :S - strange. Unless Gfk (or someone else maybe) has a different method?<br><br>Anyway, how's trhis for memory? As I thought back to when I wanted something similar, there was  anotgher topic around at the time.<br><br>Skidracer posted this which I hope is helpful:<br><br><pre class=code>; wired2.bb

; 3d wire frame system
; wires are lines in 3D space with start and end widths
; CreateWireMesh creates single surface mesh with quad per wire type
; UpdateWireMesh positions wire quad so as to face the camera

Type wire
	Field x0#,y0#,z0#,w0#
	Field x1#,y1#,z1#,w1#
End Type

Function CreateWire.wire(x0#,y0#,z0#,w0#,x1#,y1#,z1#,w1#)
	w.wire=New wire
	w\x0=x0
	w\y0=y0
	w\z0=z0
	w\w0=w0
	w\x1=x1
	w\y1=y1
	w\z1=z1
	w\w1=w1
End Function

Function CreateWireMesh()
	m=CreateMesh()
	EntityFX m,16 ;double sided flag so no tricky flip testing required
	s=CreateSurface(m,b)	
	For w.wire=Each wire
		AddVertex s,0,0,0,0,0
		AddVertex s,0,0,0,1,0
		AddVertex s,0,0,0,1,1
		AddVertex s,0,0,0,0,1
		AddTriangle s,v+0,v+1,v+2
		AddTriangle s,v+0,v+2,v+3
		v=v+4
	Next
	Return m
End Function

Function UpdateWireMesh(cam,mesh)
	s=GetSurface(mesh,1)
	camx#=EntityX(cam)
	camy#=EntityY(cam)
	camz#=EntityZ(cam)
			
	For w.wire=Each wire

		px#=w\x1-w\x0
		py#=w\y1-w\y0
		pz#=w\z1-w\z0
		l#=1.0/Sqr(px*px+py*py+pz*pz)
		px=px*l
		py=py*l
		pz=pz*l

		cx#=w\x0-camx
		cy#=w\y0-camy
		cz#=w\z0-camz
		l#=1.0/Sqr(cx*cx+cy*cy+cz*cz)
		cx=cx*l
		cy=cy*l
		cz=cz*l
		
		l=w\w0
		ex#=l*(-py*cz+pz*cy)
		ey#=l*(+px*cz-pz*cx)
		ez#=l*(py*cx+px*cy)
	
		VertexCoords s,v+0,w\x0+ex,w\y0+ey,w\z0+ez
		VertexCoords s,v+3,w\x0-ex,w\y0-ey,w\z0-ez

		cx#=w\x1-camx
		cy#=w\y1-camy
		cz#=w\z1-camz
		l#=1.0/Sqr(cx*cx+cy*cy+cz*cz)
		cx=cx*l
		cy=cy*l
		cz=cz*l

		l=w\w1
		ex=l*(-py*cz+pz*cy)
		ey=l*(+px*cz-pz*cx)
		ez=l*(py*cx+px*cy)

		VertexCoords s,v+1,w\x1+ex,w\y1+ey,w\z1+ez
		VertexCoords s,v+2,w\x1-ex,w\y1-ey,w\z1-ez
		v=v+4
	Next
End Function

Graphics3D 1024,768



Function CreateBox(x#,y#,z#,w#,h#,d#)
; front square
	CreateWire(x-w,y+h,z+d,2, x+w,y+h,z+d,2)
	CreateWire(x-w,y-h,z+d,2, x+w,y-h,z+d,2)
	CreateWire(x-w,y-h,z+d,2, x-w,y+h,z+d,2)
	CreateWire(x+w,y+h,z+d,2, x+w,y-h,z+d,2)
; side lines
	CreateWire(x-w,y-h,z+d,2, x-w,y-h,z-d,2)
	CreateWire(x+w,y-h,z+d,2, x+w,y-h,z-d,2)
	CreateWire(x+w,y+h,z+d,2, x+w,y+h,z-d,2)
	CreateWire(x-w,y+h,z+d,2, x-w,y+h,z-d,2)
; back square
	CreateWire(x-w,y+h,z-d,2, x+w,y+h,z-d,2)
	CreateWire(x-w,y-h,z-d,2, x+w,y-h,z-d,2)
	CreateWire(x-w,y-h,z-d,2, x-w,y+h,z-d,2)
	CreateWire(x+w,y+h,z-d,2, x+w,y-h,z-d,2)
End Function

For i=1 To 1000
	CreateBox(Rnd(-1000,1000),Rnd(-1000,1000),Rnd(-1000,1000),Rnd(100),Rnd(100),Rnd(100))
Next

mesh=CreateWireMesh()
cam=CreateCamera()
;CameraClsColor cam,20,60,80
CameraRange cam,1,10000

tube=CreateTexture(1,4,4)
brush=CreateBrush()
BrushTexture brush,tube
t=TextureBuffer(tube)
WritePixel 0,0,0,t
WritePixel 0,1,-1,t
WritePixel 0,2,-1,t
WritePixel 0,3,0,t
PaintMesh mesh,brush

While Not KeyHit(1)
	RotateEntity cam,0,MouseX(),.3
	PositionEntity cam,0,0,0
	MoveEntity cam,0,0,-MouseY()*10.0
	UpdateWireMesh(cam,mesh)
	UpdateWorld
	RenderWorld
	Flip
Wend

End
</pre> <br><br></td></tr></table><br>
<a name="983668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fox95871</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just got around to trying all these. Gfk, your suggesion in post 4 is the one I ended up using. Seeing the lines go diagonally across the faces of the cube would be my one gripe, but it's better than it was, which was no lines at all! Thanks for the help. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
