<!DOCTYPE html><html lang="en" ><head ><title >Ambient Light?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Ambient Light?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Ambient Light?</a><br><br>
<a name="638119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> As noted <a href="/posts.php?topic=56878" target="_blank">here</a><br><br>My spaceship looks too dark. This is due to having a low AmbientLight. The only light is sourced by the sun and this is set as a type 1 lightsource which according to the docs has infinite range and position, so this cannot be made 'stronger' (aside from using brighter color values.<br><br>If I try to increase the AmbientLight, the 'dark-side' of planets etc. become too bright. Effectively, they should be close to black (just look at a crescent moon!)<br><br>What workarounds are there? I cannot use a separate Light for the spaceships as there will be far too many of these and I believe these HW lights are limited to about 8(?) <br><br></td></tr></table><br>
<a name="638186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Multipass rendering maybe.  Render the planets etc first with the existing light setup.  Do not clear the Zbuffer. Then render your ships with a different light setup. <br><br></td></tr></table><br>
<a name="638478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice idea there. Bit reluctant to attempt it as that's gonna entail a helluva lot of Hiding pivots and parent entities. Not to mention the slowdown, but thanks.<br><br>I have been wondering if there's a simpler way to effectively gauge the side of the planet that's AWAY from the sun and perhaps add a shadow texture to half of it? <br><br></td></tr></table><br>
<a name="638622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that would work well, particularly if you can figure out how to do it without altering the planet mesh uv's.  I think it should be possible to do it just using position and rotate texture functions  but I am not sure exactly how to transform a normalised direction vector into texture space like this. <br><br></td></tr></table><br>
<a name="638633"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about simply using vertex lighting on the sphere - set the color of the vertices to rgb 0,0,0 on the 'dark side' of the planet? <br><br></td></tr></table><br>
<a name="638638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Easier for sure, but not as fast.  Just use the dot product of the vertex normal and direction vector to determine if the vertex is facing the sun or not. You may want to grade the delineation a bit based on that to avoid a rather jagged appearance. <br><br></td></tr></table><br>
<a name="638663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mmm, but aren't spaceships supposed to look really dark in space?  What you have here is realism.<br><br>I assume you are using HUD markers to highlight them?<br><br>Just put lots of flashing lights on some of them - many spaceships will have these, unless they are pirate vessels etc. <br><br></td></tr></table><br>
<a name="638711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah puki, when I get round to the HUD and targetting systems etc, the game will play a lot more via systems than the visuals, and target crosshairs and reticules will highlight the ships etc. Not to mention the decals and lights still to be added.<br><br>I wanted this realism, but the feedback on the graphics link made me wonder at which point I should detract from the realism in favour of "what the people want" <br><br></td></tr></table><br>
<a name="639104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I'm prepared to give the Vertex-Lighting thing a try, anyone got any links to tutorials or anything that could help me with this? I'm using standard primitive spheres if that's any help? <br><br></td></tr></table><br>
<a name="639137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could give the lightmesh command a try.  It might fit the bill and I think will be faster than anything you could code yourself.  Just remember it is cumulative, so if you want to apply it every frame you will need two operations, one to clear the mesh colors. So use Lightmesh planet,-255,-255,-255 to clear the vertex colors then use Tformpoint 0,0,0,sun,planet to get the suns position in respect to the planet, then Lightmesh planet, red,green,blue,range,tformedx(), tformedy(),tformedz().  Just play with the range a bit.  From memory it is not quite the same as the lightrange equivalent.  Other than that just make sure you entityfx planet,1+2 <br><br></td></tr></table><br>
<a name="639880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh! Totally forgot about that command! I think it can come in EXTREMELY useful. Thanks a million, DJW!<br><br><br>------------------<br><br>Just did some tests! It solves all my lighting problems heh! <br><br></td></tr></table><br>
<a name="640011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should do like the movies and use three or four lights at different angles and intensities. Mix up the colour a bit too. Ambient Light is flat shading, losing gemoetry detail where there is no lightsource. Anything else is just being complicated! Plus if you use baked on lighting, it will look wrong when you turn away from the lightsource. <br><br></td></tr></table><br>
<a name="640093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> And if you simply use cubemaps? :-)<br>Gives full detail as with real lights but without using the costly hardware lights. <br><br></td></tr></table><br>
<a name="640134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shifty Geezer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on how your models' normals are set up cube mapping may not work as wanted.  A Blitz cube will show flat shading where other modelled objects will likely show mirror-like reflections of the cube map.<br><br>GPU hardware has been able to manage vertex lighting effectively for yonks. Unless you've got very detailed models or lots of objects on screen it shouldn't be a bottleneck, whilst being more compatible with older cards that don't support cube mapping or handle more than 2 textures. And if you're not aiming for cards that old, four lights on a few space ships won't tax any more capable card.<br><br>Perhaps I'm imagining the wrong scene here, but in something like Elite/Frontier with say a half dozen ships on screen, I'd go with 3 or 4 light sources, and a couple of textures per ship for colour deco's and maybe some cubemapped highlights. The lights are much easier to work with than cube maps if you want to change the lighting. <br><br></td></tr></table><br>
<a name="640205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem with the 3-4 is that you can only have 7 hardware lights active at the same time. (number 8 or better 0 is ambient light).<br><br>CubeMap with the command setcubemapmode can be used for various things and especially works on lowpoly ships. Hardware lights need vertices to have a light effect. <br><br></td></tr></table><br>
<a name="640355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not toosure about CubeMaps, I believe they may cause problems with implementation (and I really dont wanna re-structure the entire game so far heh)<br><br>Also, aren't they gonna be slow? The ships are kept low/mid-poly, but there's potentially going to be a lot of them, and the space stations are gonna have some pretty high polycounts.<br><br>Anyway, I'm getting on fine with LightMesh, so thanks again :) <br><br></td></tr></table><br>
<a name="640461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ice9</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried these commands<br><br>SetGamma<br>UpdateGamma<br><br>I've never used them but it may be worth playing with. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
