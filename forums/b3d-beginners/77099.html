<!DOCTYPE html><html lang="en" ><head ><title >How can I detect when any of my cubes collide?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How can I detect when any of my cubes collide?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >How can I detect when any of my cubes collide?</a><br><br>
<a name="862580"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to be able to move any cube and have it stop when it collides with another cube.  I want to be able to press the space bar along with an arrow key to allow a cube to pass over another.<br><br>Here is some sample code of what I have so far.  To use it, you select a colored box to tell the program what "tool" you want to move.  After selecting a tool, you can use the arrow keys to move the tool left and right.  The up arrow increases the length of the tool.  The down arrow decreases the length of the tool.<br><br>I don't know how to make the cubes stop when they run into any other cube.  I also need the collisions to be recognized after changing the size of any of the cubes or "tools".<br><br>Hopefully, someone will understand what I am having trouble with and can offer some help.<br><br>Thanks,<br><br>David<br><br>Here is some sample code so far...don't laugh at my novice coding.<br><br><br>Graphics3D 1280,1024, 0, 2<br>SetBuffer BackBuffer() <br><br>AppTitle "Z-Axis Simulation -- Uses 3DS files          R=Rotate Part, C=Capture Screen, F=Flip Part, S=Show Set Screws, H=Hide Set Screws"<br><br><br>camera=CreateCamera() <br>PositionEntity camera,0,0,-50<br><br>CameraClsColor camera,255,255,255<br><br>MovementAmount# = 0.500<br>FingerToMove$ = "tl1"<br><br><br>light=CreateLight() <br><br>;Let's drawing some tools now...<br>tl1_Length# = 12.00<br>tl2_Length# = 2.00<br>tl3_Length# = 2.00<br><br>tl1=CreateCube()<br>ScaleEntity tl1, tl1_Length#/2,.25,.001<br>EntityColor tl1, 255,0,0<br>TranslateEntity tl1, -6,0,.002<br>EntityType tl1, 1<br><br>tl2=CreateCube()<br>ScaleEntity tl2, tl2_Length#/2,.25,.001<br>EntityColor tl2, 0,255,0<br>TranslateEntity tl2, -15,0,.002<br>EntityType tl2, 2<br><br>tl3=CreateCube()<br>ScaleEntity tl3, tl3_Length#/2,.25,.001<br>EntityColor tl3, 0,0,255<br>TranslateEntity tl3, -24,0,.002<br>EntityType tl3, 3<br><br><br><br>While Not KeyDown( 1 )<br>	Cls<br><br>	ScaleEntity tl1, tl1_Length#/2,.312,.001<br>	ScaleEntity tl2, tl2_Length#/2,.312,.001<br>	ScaleEntity tl3, tl3_Length#/2,.312,.001<br><br><br>	If KeyDown(200) Or MouseDown(1) Then	;up<br>		<br>		;Let's check to see if the user is pressing one of the direction buttons instead of the arrow keys...<br>		myerror% = 0<br>		If MouseDown(1) Then<br>			If MouseX() &gt; 770 And MouseX() &lt; 820 Then<br>				If MouseY() &gt; 930 And MouseY() &lt; 955 Then<br>					myerror% = 0<br>				Else<br>					myerror% = 1<br>				End If<br>			Else<br>				myerror% = 1<br>			End If<br>		End If<br><br>		If myerror% = 0 Then<br>			Select FingerToMove<br>				Case "tl1"<br>					tl1_Length# = tl1_Length# + MovementAmount#<br>					TranslateEntity tl1, - MovementAmount#/2,0,0<br>				Case "tl2"<br>					tl2_Length# = tl2_Length# + MovementAmount#<br>					TranslateEntity tl2, - MovementAmount#/2,0,0<br>				Case "tl3"<br>					tl3_Length# = tl3_Length# + MovementAmount#<br>					TranslateEntity tl3, - MovementAmount#/2,0,0<br>			End Select<br>		End If<br>		<br>	End If<br><br>	<br>	If KeyDown(208) Or MouseDown(1) Then	;down<br>		<br>		;Let's check to see if the user is pressing one of the direction buttons instead of the arrow keys...<br>		myerror% = 0<br>		If MouseDown(1) Then<br>			If MouseX() &gt; 770 And MouseX() &lt; 820 Then<br>				If MouseY() &gt; 990 And MouseY() &lt; 1015 Then<br>					myerror% = 0<br>				Else<br>					myerror% = 1<br>				End If<br>			Else<br>				myerror% = 1<br>			End If<br>		End If<br><br>		If myerror% = 0 Then<br>			Select FingerToMove<br>				Case "tl1"<br>					tl1_Length# = tl1_Length# - MovementAmount#<br>					TranslateEntity tl1, + MovementAmount#/2,0,0<br>				Case "tl2"<br>					tl2_Length# = tl2_Length# - MovementAmount#<br>					TranslateEntity tl2, + MovementAmount#/2,0,0<br>				Case "tl3"<br>					tl3_Length# = tl3_Length# - MovementAmount#<br>					TranslateEntity tl3, + MovementAmount#/2,0,0<br>			<br>			End Select<br>		End If<br><br>	End If<br><br>	If KeyDown(203) Or MouseDown(1) Then	;left<br>		<br>		;Let's check to see if the user is pressing one of the direction buttons instead of the arrow keys...<br>		myerror% = 0<br>		If MouseDown(1) Then<br>			If MouseX() &gt; 740 And MouseX() &lt; 790 Then<br>				If MouseY() &gt; 960 And MouseY() &lt; 985 Then<br>					myerror% = 0<br>				Else<br>					myerror% = 1<br>				End If<br>			Else<br>				myerror% = 1<br>			End If<br>		End If<br><br>		If myerror% = 0 Then<br>			Select FingerToMove<br>				Case "tl1"<br>					TranslateEntity tl1, -MovementAmount#,0,0<br>				Case "tl2"<br>					TranslateEntity tl2, -MovementAmount#,0,0<br>				Case "tl3"<br>					TranslateEntity tl3, -MovementAmount#,0,0<br>			End Select<br>		End If<br><br>	End If<br><br>	If KeyDown(205) Or MouseDown(1) Then	;right<br><br>		;Let's check to see if the user is pressing one of the direction buttons instead of the arrow keys...<br>		myerror% = 0<br>		If MouseDown(1) Then<br>			If MouseX() &gt; 800 And MouseX() &lt; 850 Then<br>				If MouseY() &gt; 960 And MouseY() &lt; 985 Then<br>					myerror% = 0<br>				Else<br>					myerror% = 1<br>				End If<br>			Else<br>				myerror% = 1<br>			End If<br>		End If<br><br>		If myerror% = 0 Then<br>			Select FingerToMove<br>				Case "tl1"<br>					TranslateEntity tl1, MovementAmount#,0,0<br>				Case "tl2"<br>					TranslateEntity tl2, MovementAmount#,0,0<br>				Case "tl3"<br>					TranslateEntity tl3, MovementAmount#,0,0<br>			End Select<br>		End If<br>		<br>	End If<br><br><br>	If MouseDown(1) Then<br>		If MouseX() &gt; 10 And MouseX() &lt; 35 Then		;tl1<br>			If MouseY() &gt; 570 And MouseY() &lt; 595 Then<br>				FingerToMove = "tl1"<br>			End If<br>		End If<br>		If MouseX() &gt; 10 And MouseX() &lt; 35 Then<br>			If MouseY() &gt; 600 And MouseY() &lt; 625 Then<br>				FingerToMove = "tl2"<br>			End If<br>		End If<br>		If MouseX() &gt; 10 And MouseX() &lt; 35 Then<br>			If MouseY() &gt; 630 And MouseY() &lt; 655 Then<br>				FingerToMove = "tl3"<br>			End If<br>		End If<br>	End If<br><br>	<br>	<br>	UpdateWorld<br><br>	<br>	<br>	;Here is where I am trying to detect collisions between any "tools"<br>	For C% = 1 To 3<br>		For D% = 1 To 3<br>			Collisions C%,D%,2,1<br>		Next<br>	Next<br><br>	;This is so the user can press the spacebar to allow a "tool" to pass over another "tool"	<br>	If KeyDown(57) Then<br>		ClearCollisions<br>	End If<br>	<br>	<br>	RenderWorld<br>	<br><br><br><br>	;Let's print some column headings for the tooling information...<br>	Text 10,555, "TL#"<br>	Text 45,555, "LENGTH"<br>	Text 120,555, "LOCATION"<br>	<br>	<br><br>	;Let's draw the rectangles for the tool numbers...<br>	Color 255,0,0	;tl1<br>	Rect 10,570,25,25,1<br>	Color 0,0,0<br>	Text 45,575, tl1_Length#	;Length<br>	Text 120,575, EntityX#(tl1) + tl1_Length#/2<br><br>	Color 0,255,0	;tl2<br>	Rect 10,600,25,25,1<br>	Color 0,0,0<br>	Text 45,605, tl2_Length#	;Length<br>	Text 120,605, EntityX#(tl2) + tl2_Length#/2<br><br>	Color 0,0,255	;tl3<br>	Rect 10,630,25,25,1<br>	Color 0,0,0<br>	Text 45,635, tl3_Length#	;Length<br>	Text 120,635, EntityX#(tl3) + tl3_Length#/2<br>	<br>	<br><br><br>	;Let's draw some movement buttons now...<br>	Color 0,0,0<br>	Rect 740,960,50,25,0<br>	Text 747, 966, "LEFT"<br><br>	Color 0,0,0<br>	Rect 800,960,50,25,0<br>	Text 807, 966, "RIGHT"<br><br>	Color 0,0,0<br>	Rect 770,930,50,25,0<br>	Text 785, 936, "UP"<br><br>	Color 0,0,0<br>	Rect 770,990,50,25,0<br>	Text 777, 996, "DOWN"<br>	<br><br>	Flip<br><br>Wend<br>End <br><br></td></tr></table><br>
<a name="862584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I found a couple of typos in my code and corrected the version above.  It now almost works but does not work after changing the size of my cubes or "tools".  Before changing the length of the cubes, the collision checking seems to work.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="862600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hollifd</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nevermind,<br><br>I figured it out... or at least a way to make it work.  Each time I change the length of the cube or "tool", I calculate and set the entityradius.  Also, I changed from collision mode 2 to collision mode 1.<br><br>Thanks,<br><br>David <br><br></td></tr></table><br>
<a name="862635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad you got it sorted. Just noticed your post! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
