<!DOCTYPE html><html lang="en" ><head ><title >"line" causes a memory access violation?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >"line" causes a memory access violation?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >"line" causes a memory access violation?</a><br><br>
<a name="1064907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm testing this code:<br><br>Graphics 800,600,16<br>	<br>Repeat<br>SetBuffer BackBuffer()<br>Color 200,200,200<br>For t=0 To 100<br> Line  2,3,77,88<br>Next		<br>Flip True<br>Until KeyDown(1)<br><br>If a do a control-alt-delete and taskmanager,<br>I get a memory access violation.<br>This can't be a bug. (it's soooo basic)<br>or is it?<br>Anyone else get this? Or knows where to find the cause?<br>I have Windows xp and use Blitz3DSetup164 <br><br></td></tr></table><br>
<a name="1064920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3D 1.64 is beyond ancient.<br><br>Download 1.106 (Account&gt;&gt;Product Updates) and try with that. <br><br></td></tr></table><br>
<a name="1064924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did use an array of other versions including 1.164,<br>and every time the same reaction.<br>I wouldn't mind so much, since it only occurs if I use Taskmanager, but I want to do so in the GUI I'm developing, so I can look for memory-leakage.<br>@GFK: Did you try it out? and if so, no error? <br><br></td></tr></table><br>
<a name="1064925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, I don't have Blitz3D installed - haven't used it in years.<br><br>The only things I note from your code:<br><br>1. SetBuffer(BackBuffer()) should not be inside your main loop.<br><br>2. IIRC, Blitz3D apps are prone to crashing if you alt-tab out of them (or CTRL-ALT-DEL).  Probably down to DX7. <br><br></td></tr></table><br>
<a name="1064941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I remember there was a new function in one of the recent updates, allowing to catch surface-loss (what GfK mentioned under 2.), but AFAIK this is only required when Fullscreen is involved. Update to a recent version, then read the versions.txt that should be found in the install folder.<br>EDIT, it was added in Version 1.99, read more here:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=81943#923029" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=81943#923029</a> <br><br></td></tr></table><br>
<a name="1064945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see any problems in the code; it works fine here. Changing buffer in the loop is weird but shouldn't be a problem (you can change buffer whenever you want).<br><br><div class="quote"> Blitz3D apps are prone to crashing if you alt-tab out of them (or CTRL-ALT-DEL). Probably down to DX7. <br></div><br>I've never, ever had any problems with Alt+Tab or Ctrl+Alt+Del with Blitz3D (or any other DX7) apps at all. Works perfectly and is very useful.<br><br><div class="quote"> there was a new function in one of the recent updates, allowing to catch surface-loss <br></div><br><br>Pretty sure this isn't relevant; the graphics should only be lost in the case of something like (as suggested in the update log) a desktop resolution change, which destroys the DirectX context or something like that and is a bit of an edge case. Unless you were doing something more advanced that just looking at Task Manager, this shouldn't have happened.<br><br>Really the only thing I can see that could be a problem are the graphics settings. 800x600x16 may not be supported properly on your system, and changing back to a normal resolution+depth for the desktop might prove difficult for it? (and making this suggestion may reveal my cluelessness about such matters!) Low resolutions (and any colour depth other than 32) are definitely bad for compatibility. <br><br></td></tr></table><br>
<a name="1064956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks... Your suggestion helped me in finding some sort of solution.<br>As I understand it?! it has to do with changing resolution and even more with windowed programs.<br>If I run the code in fullscreen mode, I can access taskmanager without an interruption of an error.<br>But I rather not use fullscreen, because I want access to other programs at the same time.<br>Still. It's an improvement.<br><br>But if someone knows something more...solid? <br><br></td></tr></table><br>
<a name="1065278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics 800,600,16,3
SetBuffer BackBuffer()

Repeat
Color 200,200,200
For t=0 To 100
Line 2,3,77,88
Next 
Flip True
Until KeyDown(1)
</pre><br><br>Uses scaled window mode but it can produce unwelcome graphical artifacts. <br><br></td></tr></table><br>
<a name="1065342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> In "Mode 3" you still get a memory access violation.<br>  And it's rather slow and ugly and stinks if you hold it upsidedown ;P<br><br>I'm now flipflopping between windowed and fullscreen until I have the base<br>more stable.<br>If I have more confidence in my graphic-routines I dare spending more time in windowed testing.<br><br>Pfyoo, is it newyear already?  ;P <br><br></td></tr></table><br>
<a name="1065718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> A friend of mine said: Why don't you start Taskmanager beforehand?"<br>Well doh... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
