<!DOCTYPE html><html lang="en" ><head ><title >Problems with Rotating</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problems with Rotating</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Problems with Rotating</a><br><br>
<a name="433545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I created a badguy type, "badguytype", and I want to rotate each one every frame, or each time my "While...Wend" loop starts over. I did this:<br><pre class=code>
For spin.badguytype = Each badguytype
    RotateEntity spin\entityhandle
Next
</pre><br><br>Yet nothing happens. What should I do?<br><br>A second problem I have is with collisions. I have a couple of meshes that I want to disappear if the camera runs into them, yet this:<br><pre class=code>
If EntityCollided(camera,weapon)
    HideEntity weapon
    weapon\pickedup = True
EndIf
</pre><br><br>This doesn't work. Did I put this code in the wrong part of my main loop? <br><br></td></tr></table><br>
<a name="433556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xmlspy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> "RotateEntity spin\entityhandle"  - does not, and it will not work.<br>Rotateentity spin\entityhandle, Pitch, Yaw, Roll  - works<br><br>I ussually have something like this on the main loop:<br><pre class=code>
a=a+1
rotateentity MyEntity,a,a,a
</pre><br><br>You should have a Field called Entity or Ent<br>Type Weapon<br>    Field Ent<br>end type<br><br>Load the Mesh into weapon\ent<br>then on your function:<br><br>If EntityCollided(camera,weapon)<br>    HideEntity weapon\ent<br>    weapon\pickedup = True<br>EndIf <br><br></td></tr></table><br>
<a name="433674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe better use Turnentity badguy,0,1,0 to rotate it continously in small steps without an angle counter.<br><br>BTW EntityCollided does need the Type of the entity, not the handle (check the description!)! The type of the entity is defined by you and is used for Collisions declaration:<br><br><br><br>entitytype camera,1<br><br>entitytype weapon,2<br>collisions 1,2,2,2<br>...<br><br>Updateworld()<br>if entitycollided(camera,2)=weapon<br>...<br>endif<br><br>But this is pretty slow, just to get that pickup function. Maybe you better use <br><br>If entitydistance(camera, weapon)&lt;2.0 ; whatever distance<br>; pick it up etc.<br>endif<br>----------<br><br>After some time you'll find out that it's better to use a player pivot for the player and use it for such tasks, instead the camera. The camera will then be parented to the player pivot and only look up and down, while the player rotates left/right and moves.<br><br>player=createpivot()<br>camera=createcamera(player)<br>translateentity camera,0,2,0<br>....<br><br>camxsp#=mousexspeed()<br>camysp#=-mouseyspeed()<br>turnentity player,0,camxsp#/4.0,0<br>turnentity camera,camysp#/4.0,0,0,1<br>....<br><br>So then you would define Entityradius, Collisions and Stuff pickups etc. for the player. <br><br></td></tr></table><br>
<a name="433676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xmlspy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, what jfk says. <br><br></td></tr></table><br>
<a name="433682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks! <br><br></td></tr></table><br>
<a name="433862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok - I got the rotating to work - but for some reason the EntityDistance thing doesn't work. Should I put it before UpdateWorld, between UpdateWorld and RenderWorld, after RenderWorld and before Flip, or after Flip? <br><br></td></tr></table><br>
<a name="433879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd put it after updateworld() <br><br>;navigation<br>updateworld()<br>if entitydistance(camera,weapon)&lt;mindist#<br>;...<br>endif<br>renderworld()<br>flip<br><br>If it doesn't work, increase the mindist#. And if you are using EntityDistance, you won't need to set up Collision for the weapon. <br><br></td></tr></table><br>
<a name="433899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK....thanks... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
