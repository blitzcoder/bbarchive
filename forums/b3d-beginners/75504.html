<!DOCTYPE html><html lang="en" ><head ><title >Collision Detection for bullets</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collision Detection for bullets</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Collision Detection for bullets</a><br><br>
<a name="843617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xtremegamr</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm making a (VERY) simple FPS, and I just figured out how to make the player shoot bullets. Now, I want to be able to shoot a bullet at an enemy, and have that enemy die. The only problem is, I don't know how to do collision detection between the bullet and enemy. Could someone help me? <br><br></td></tr></table><br>
<a name="843622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ben(t)</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> try something like this<br><br><br>if entitycollided(enemy, bullets) then <br>enemyhealth#=enemyhealth#-(5?)<br>endif<br><br>I use a different collision type for my shots to make everything simpler <br><br></td></tr></table><br>
<a name="843626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xtremegamr</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried that already; the bullet passes through the enemy, but has no effect on the enemy. <br><br></td></tr></table><br>
<a name="843629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aoneweb</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use NGC for Blitz, saves a lot of programming, and works well. <br><br></td></tr></table><br>
<a name="843660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whats My Face</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might want to just line pick and see what the bullet hits and just not use the bullet for collision detection its what I usually do. <br><br></td></tr></table><br>
<a name="843664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xtremegamr</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea how to do entity picking. I tried the blitz help file things, but I still don't get it. Could you post some code or something? Thanks. <br><br></td></tr></table><br>
<a name="843668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use LinePick, correct.<br>Use the current position and the position from the frame before and use those for the linepick command. radius is the one of the bullet.<br><br>you just need to make the objects that can collide pickable, thats it. <br><br></td></tr></table><br>
<a name="843672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xtremegamr</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I would do this, right?<br>-------------------------<br>If LinePick(bulletx , bullety , bulletz , lastbulletx , lastbullety, lastbulletz , bulletradius) = enemymodelhandle  then<br><br>delete enemy<br>delete bullet<br><br>End If <br><br></td></tr></table><br>
<a name="843677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chwaga</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> i dont know how to use linepicks, but it sounds like the error in your current collision-detection system is that you bullet could be traveling too fast, and as a result, between frame 1 and frame 2, it goes right through the guy! <br><br></td></tr></table><br>
<a name="843699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz collisions prevent penetration to the bullet can travel as fas as you like.<br><br>For the linepick , you don't have to worry about last position.  Assuming your bullet is pointing in the direction it's firing, you can use something like ..<br><br><pre class=code>
tformvector 0,0,BulletSpeed, Bullet, 0

If LinePick(bulletx , bullety , bulletz , tformedx , tformedy , tformedz , bulletradius) = enemymodelhandle 
  delete enemy
  delete bullet
else
  moveentity bullet, 0,0,bulletspeed
endif
</pre> <br><br></td></tr></table><br>
<a name="843741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Terry B.</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you remember to put a collision command at the begining of the code? <br><br></td></tr></table><br>
<a name="843784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Remember, the second x,y,z co-ords in the linepick are NOT the end co-ords, they are distances from the start x,y,z co-ords. <br><br></td></tr></table><br>
<a name="844088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xtremegamr</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried that LinePick thing, and it still doesn't work. Is there anything else about linepicks I should know able. <br><br></td></tr></table><br>
<a name="844114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you don't like linepicks you could do a camerapick and check the z value to see if fits in your bullet range. <br><br></td></tr></table><br>
<a name="844115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> CameraPick cam,400,300<br>  p_e=pickedentity()<br>  p_x=PickedX()<br>  p_y=PickedY()<br>  p_z=PickedZ()<br>if p_z&lt;100 and p_e=enemyhandle then freeentity enemy <br><br></td></tr></table><br>
<a name="844244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Whats My Face</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> heres some an example thats completely done using camerapick<br><br><pre class=code>
Graphics3D 800,600,16,2 ;set up graphics

;create a box to shoot
Local box = CreateCube()
PositionEntity box,0,0,5
EntityPickMode box,2 ;set its pick geo

;create a camera
Local cam = CreateCamera() 

HidePointer(); hide the mouse
While Not KeyHit(1)
	
	If MouseHit(1) Then 
		If CameraPick(cam,MouseX(),MouseY()) = box Then ;check if the user shot the box
			Text 400,300,"YOU SHOT THE BOX"
			Flip
			Delay 1000
		Else
			Text 400,300,"YOU MISSED THE BOX"
			Flip
			Delay 1000
		EndIf
	EndIf 
	
	;update and render stuff
	UpdateWorld()
	RenderWorld()
	
	;draw a pointer
	Oval MouseX()-6,MouseY()-6,12,12,False
	Line MouseX(),MouseY()-7,MouseX(),MouseY()+7
	Line MouseX()-7,MouseY(),MouseX()+7,MouseY()
	
	Flip
Wend
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
