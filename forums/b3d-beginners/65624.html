<!DOCTYPE html><html lang="en" ><head ><title >Large Levels</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Large Levels</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Large Levels</a><br><br>
<a name="733148"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How does one go about creating large levels?  If I was to make a big, outdoor level, could I have the position of every tree in an array, and then load one tree and CopyEntity the other trees into their positions?  Does this take too much memory?  Should I instead check if the trees are within viewing range every loop and if so, put them there if they aren't there already and get rid of old ones?  Is there an efficient way to do all of this? <br><br></td></tr></table><br>
<a name="733166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >caff_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you could try distance culling like you say, i.e. check the distance from camera to objects, and use HideEntity and ShowEntity. Note that trees that are behind the camera will not be rendered, so its pointless to check those.<br><br>Also, use types instead of arrays, as types are very fast to loop round. I use a type even if it is just storing the mesh (tree in your case).<br><br>e.g.<br><br><pre class=code>
Type tree
   field mesh
End Type

tree_original = LoadMesh("tree.b3d")

for x = 1 to 10
   for z = 1 to 10
      newtree.tree = New tree
      newtree\mesh = CopyMesh(tree_original)
      y = 0 ;change this so it finds the height on the landscape at position x, z
      PositionEntity newtree\mesh, x, y, z
   next
next
</pre> <br><br></td></tr></table><br>
<a name="733195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> my suggestion is that after you done with your level, including lightening etc...load it in to game with LoadAnimMesh("My_Level.b3d) and blitz will do culling for you very nicely...when I did that for my large outdoor level, blitz use to render half of the poly count maximum...its really working nice..every additional check in is I think slower than actual procedure I just mentioned..and try to split your level in smaller chunks, so more chunks better will be culling.. <br><br></td></tr></table><br>
<a name="733205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> do a search for large levels or large world in the B3D forum or the Miscellaneous forum.<br><br>Andy <br><br></td></tr></table><br>
<a name="733233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys.<br><br>@SonicFactory: I use types for that too... I'm saying that I use arrays for the grid position of the trees.<br><br>I need the trees to be independent of the level.  Think of them as powerups of weapons. <br><br></td></tr></table><br>
<a name="733236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I saw a code in the archives that used pivots where the objects should be, then when in view the objects were copied onto the pivots and when not in view, the objects were deleted. The idea was that a large amount of entities slows the rendering down and it is better to delete entities than to hide them. The code used a starfield as an example, however I can't find it. <br><br></td></tr></table><br>
<a name="733309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I divide the level into chunks and for each chunk I have a list of which other chunks can be seen from this one, then I just update the hide/show of the chunks when the player enters a new chunk. This keeps the poly count low.<br><br>You could use portals too but for my money just using the simple method above ( its called a potentially visible set ) is enough. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
