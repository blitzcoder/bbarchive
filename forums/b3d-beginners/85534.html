<!DOCTYPE html><html lang="en" ><head ><title >error on exit</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >error on exit</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >error on exit</a><br><br>
<a name="967859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> high... like allways, i have some problems.. :p<br><br>i make a new game, works perfectly until i exit, and retunr MAV on exit.<br><br><br>in blitz, debut, the problem sometimes is in endgraphics(), or in end()<br><br>sometimes says, "abnormal program termination" runtime error visual c++ program : ...blitzc.exe<br><br>in the compied game, the MAV is when i exit..<br><br>someone have some tips for what reaons can appears this problem?<br><br>while not keyhit(1)<br>wend<br><br>endgraphics (posiblle error)<br>end  (error)<br><br>regards!.. <br><br></td></tr></table><br>
<a name="967910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had a similair problem in vc++, years ago. It turned out to be a memory handle that couldn't be freed because it got lost. Are you using only Blitz native code, or also .dll's/userlibs ? ODE for phsyics, right? It might be, that somehow something in memory is overwritten. Or maybe, you are trying to free something that is allready freed, but I more suspect the first one.<br>Have you tried putting a Google search on the error you got? <br><br></td></tr></table><br>
<a name="968016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rolow</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you performing a "FLIP" before the EndGraphics command to flush your buffers? <br><br></td></tr></table><br>
<a name="968029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks warner and rolow...<br><br>i work hard to found the problem of "abnormal program termination"<br><br>i remove all lines of sound, CreateListener , loadsound, emitsound, load3dsound, channelvolume, channelpitch...<br><br>i turn off all sounds in the game, and that appears to fix the problem..<br><br>if anyone have the same problem, try this and tell if that works...<br><br>maibe that is one reason for the error, don't know specificly in what command of file is the problem, only know that problem is in the sounds<br><br><br>i think there should be a list of errors and solutions in this forum...<br>i see to many post with this fail, and no body resolved that problems...<br><br>the same problem i have with some MAV when i load some files for my game..<br><br><br>regards... santiago or latatoy, is the same... <br><br></td></tr></table><br>
<a name="968059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIB3D</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If disabling the sounds stops the problem, then enable them one by one until you find the one that gives you an error and try to see WHY it gives you the error. <br><br></td></tr></table><br>
<a name="968115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've hnhad that recently too, but only recently . In circumstances that seem to match with Warner's description. Thatnks, Warner for the info. that helps narrow down the 'why' :) <br><br></td></tr></table><br>
<a name="968247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, i found a functions that give me problems..<br><br>this return MAV or error on exit end<br><br><pre class=code>
Function load_sound()
	
	If snd = 1 Then 
		
		sl = CreateListener (cam)  ; or (cam, .01,0.81,.3)
		filename$ = "sounds\motor4.wav"
		s_motor= Load3DSound (filename$)
		SoundVolume s_motor, 0
		LoopSound s_motor
		
		filename$ = "sounds\skid.wav"
		s_slide= Load3DSound (filename$)
		SoundVolume s_slide, 0
		LoopSound s_slide
		
		filename$ = "sounds\heli2.wav"
		s_crash = Load3DSound ("sounds\crash3.wav")
		SoundVolume s_crash,0  * sounds
		
	End If
	
	For car.car = Each car
		
		car\ch_motor  = EmitSound (s_motor,car\mesh)
		car\ch_slide  = EmitSound (s_slide,car\mesh)
		
	Next
	
End Function
</pre> <br><br></td></tr></table><br>
<a name="968253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I tried and I tried, but I couldn't get it to crash.. I think you need to give a better example.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Graphics3D 800, 600, 0, 2
SetBuffer BackBuffer()

Global cam = CreateCamera()

InitSound()
;InitSound() ;tried this to make it crash
;InitSound()

Function InitSound() ;and this
		
		sl = CreateListener (cam)  ; or (cam, .01,0.81,.3)

		filename$ = "boing2.wav"
		s_motor= Load3DSound (filename$)
		SoundVolume s_motor, 0.2
		LoopSound s_motor
		

		filename$ = "cash.wav"
		s_motor2= Load3DSound (filename$)
		SoundVolume s_motor2, 0.2
		LoopSound s_motor2
	
		For i = 0 To 10
	
			cube = CreateCube()
			EmitSound s_motor, cube
			EmitSound s_motor2, cube ;maybe two emitters crash? .. nope :/
			x# = Cos(i*36) * 90
			y# = Sin(i*36) * 90
			PositionEntity cube, x, 0, y
	
		Next

End Function

Repeat

	MoveEntity cam, KeyDown(205)-KeyDown(203), 0, KeyDown(200)-KeyDown(208)
	
	RenderWorld
	Flip
	
Until KeyHit(1)

End
</textarea> <br><br></td></tr></table><br>
<a name="968330"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> maibe is a sound file the problem? <br><br></td></tr></table><br>
<a name="968354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, this could be a strange advice, but try posting some code that crashes. I mean, a (small but complete) working example that crashes on exit. Else, the only way to solve this would be if someone else has experienced exactly the same problem. Also, it helps to give insight in what makes this routine crash. That is better than trying to guess what it could be. <br><br></td></tr></table><br>
<a name="968355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> if i use sounds, or i use fastlibs, have problems on the end, and MAV msg when i load the game... <br><br>:( <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
