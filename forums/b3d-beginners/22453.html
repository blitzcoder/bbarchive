<!DOCTYPE html><html lang="en" ><head ><title >gravity</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >gravity</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >gravity</a><br><br>
<a name="230221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gellyware</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I am trying to write a function that creates a simulated gravity on an object. I want this function to only apply IF the player is not colliding with the terrain. I can not seem to find the right command to check the players Y and the terrains Y and see if there is a collision. I assume that you could just check to see if they are colliding, and if not, then apply gravity..but I cannot figure out how. Any Suggestions? <br><br></td></tr></table><br>
<a name="230314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> the way i would do it is to always apply gravity to the object in question. just make sure that you use collision response 3.<br><br>well that is unless you want the object to slide down slopes. For player characters i wouldn't recommend that, unless the slopes are quite steep.<br><br>:D <br><br></td></tr></table><br>
<a name="230520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I have understood correctly, Providing the collisions are set up correctly (assigning EntityTypes to the player entity and the terrain, you can have gravity acting on the player constantly and it wont 'fall through' the terrain. <br><br><br>However EntityY#(player_entity_name) and TerrainY#(terrain_name) are the commands you're looking for. <br><br></td></tr></table><br>
<a name="230627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gellyware</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks malice. That is correct. I ended up using those two togeter in this function, and it works quite well. It only applies gravity if the player is greater than the entity radius ( i would imagine this speeds things up since gravity is not constantly applied).<br><br>Here is the function I used:<br><br>Function applyGravity (ent, ent2)<br>	If Abs(EntityY# (ent) - EntityY#(ent2)) &gt; camHeight# <br>		TranslateEntity ent, 0, gravity#, 0<br>	EndIf<br>End Function <br><br></td></tr></table><br>
<a name="230629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gellyware</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, I just realized after posting this, that the camHeight# is not portable, the function should have been:<br><br>Function applyGravity (ent, ent2, radius#)<br>	If Abs(EntityY# (ent) - EntityY#(ent2)) &gt; radius#<br>		TranslateEntity ent, 0, gravity#, 0<br>	EndIf<br>End Function <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
