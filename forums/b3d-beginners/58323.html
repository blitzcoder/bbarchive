<!DOCTYPE html><html lang="en" ><head ><title >Can't find my error in timer code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Can't find my error in timer code</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Can't find my error in timer code</a><br><br>
<a name="648597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gladen</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello All!  Funny how I can easily do complex things but cannot do simple things!<br>So plaes, go ahead and call me an idiot (because i am one hehehe) but please let me know wheremy error is.<br><br>I am trying to make a simple counter that counts down from 99 seconds to zero using sprites (64X64 pixels).  I have 10 sprites, each in JPG format named one, two,.....,zero.<br><br>My timer reads the current milliseconds and then counts down the 'ones of seconds' in an integer format each second until it reaches ZERO.  Once it reaches ZERO seconds it turns agin to 9 seocnds, subtracts 1 from the tens of seconds and proceeds to count down.  <br><br>This works for about 40 or seconds and then the program halts saying that it cannot find the sprite for the ones-of-seconds...which is odd because it found it the last three times around.<br><br>If anyone can tell me what I did wrong, please let me know so I can stop screaming IDIOT at myself.<br><br>Here's the code:<br><br><br>Graphics3D 640,480<br><br>;create camera so I can see<br>campivot = CreatePivot()<br>cam = CreateCamera(campivot)<br>MoveEntity cam,0,0,-5<br><br>;get feed time from CPU clock for starting point<br>stime=MilliSecs()<br><br>;set timer to 99 seconds<br>Global tens=9<br>Global ones=9<br><br><br><br><br><br>While Not KeyDown(1)<br><br>;this hsould make a 10 second timer <br>timeleft=ones-((MilliSecs()-stime)/1000)<br><br> <br>	<br>		;timeleft creates our ones place readout	<br>	<br>		Select timeleft<br>			Case 1 clock$="one"<br>			Case 2 clock$="two"<br>			Case 3 clock$="three"<br>			Case 4 clock$="four"<br>			Case 5 clock$="five"<br>			Case 6 clock$="six"<br>			Case 7 clock$="seven"<br>			Case 8 clock$="eight"<br>			Case 9 clock$="nine"<br>			;if the seonds are zero then lessen tens of seconds, restart the start time, and reset the ones<br>			Case 0 clock$="zero"  ones=9 tens=tens-1 stime=MilliSecs()<br>			<br>			<br>			End Select<br>			<br>			<br>			;change tens readout for tens of seconds<br>			Select tens<br>			Case 1 clock2$="one"<br>			Case 2 clock2$="two"<br>			Case 3 clock2$="three"<br>			Case 4 clock2$="four"<br>			Case 5 clock2$="five"<br>			Case 6 clock2$="six"<br>			Case 7 clock2$="seven"<br>			Case 8 clock2$="eight"<br>			Case 9 clock2$="nine"<br>			Case 0 clock2$="zero" <br>			End Select<br>			<br>;stop the program when timer reaches 0-0<br>If ones + tens=0 Then End<br><br><br>;show the seconds in the upper left			<br>		FreeEntity sp	<br>		sp = LoadSprite(clock$+".jpg")<br>SpriteViewMode sp,4<br>ScaleSprite sp, 0.1,0.1<br>PositionEntity sp,-3.5,3,0<br><br>;show the tens of seconds in the upper left<br>	FreeEntity sp2<br>	sp2 = LoadSprite(clock2$+".jpg")<br>SpriteViewMode sp2,4<br>ScaleSprite sp2, 0.1,0.1<br>PositionEntity sp2,-3.7,3,0<br><br><br>	<br>RenderWorld:Flip<br>UpdateWorld <br>Wend<br>End <br><br></td></tr></table><br>
<a name="648598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might try not loading the sprites each loop.  Load tham all at the begining and scale them, then only position them at the place where their supposed to be each loop.  You might have to hide them and show them too. <br><br></td></tr></table><br>
<a name="648664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> or you could use this: <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1646" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1646</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
