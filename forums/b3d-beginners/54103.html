<!DOCTYPE html><html lang="en" ><head ><title >END giving MAV?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >END giving MAV?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >END giving MAV?</a><br><br>
<a name="604118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pexe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was writing the NET engine for my game..  And..  I noticed that when you are the server..  and a player conects to you.. and leave..  and after that you leave the game..  the function END give a MAV. I think that it dosen't make sense.. because END should clean everything that are open..<br><br>What the hell is happening?? <br><br></td></tr></table><br>
<a name="604121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure it's end? Did you try<br><br>waitkey()<br>end<br><br>To make sure it doesn't happen somewhere else? <br><br></td></tr></table><br>
<a name="606028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're probrably accessing an array or bank out of bounds durnig your code. Sometimes this causes the above issue. <br><br></td></tr></table><br>
<a name="607044"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DH</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I was writing the NET engine for my game.. And.. I noticed that when you are the server.. and a player conects to you.. and leave.. and after that you leave the game.. the function END give a MAV. I think that it dosen't make sense.. because END should clean everything that are open.. <br></div><br><br>Had this happen alot myself on NET programming in Blitz...<br><br>Here is your answer:<br><br>You're not closing the streams and/or server before you exit the program.<br><br>Chances are, you close the stream on the client, but just let the stream fall off on the server (time it self out).  You cant do that.  You have to keep track of time (how long it has been since a client has ACTUALLY communicated through that stream) or send some sort of disconnect notice from the client.  When you END the program, Blitz attempts to go back and free up the sockets (or some other general clean up) and encounters an issue with that stream not being closed..<br><br>1st Keep track of the time between data coming in from clients.  If it gets to be about 8 sec and no data has been recieved, assume they timed out (or disconnected), and close the stream (I like to Nullify handles just in case).  Then, before you END the program, go through and close all open streams, and make sure you close the server as well.<br><br>You will find your problem with MAV on END goes away. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
