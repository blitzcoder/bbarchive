<!DOCTYPE html><html lang="en" ><head ><title >putting comments in text file</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >putting comments in text file</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >putting comments in text file</a><br><br>
<a name="414731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible to have comments or bookmarks in a text file?<br><br>so I dont have to open a new text file for each level data. <br><br></td></tr></table><br>
<a name="414760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes.<br>You will just have to allow for it in your code somehow.<br>Sorry I cannot be more specific but if you elaborate on what you want your text file to contain it would help. <br><br></td></tr></table><br>
<a name="414762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sure. You could do something simple with Left$(in$,1) to see if it's ";" and if it is, ignore it. Or you could go the whole hog and use XML for your levels. <br><br></td></tr></table><br>
<a name="414786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> To expand on what Sybixsus said;<br>He meant to check to see if the first character in the line is a semicolon (meaning a comment), and if so then to ignore it.<br><pre class=code>in$ = ReadLine("mydata.txt")
If Left$(in$, 1) &lt;&gt; ";"
  ;it's not a comment, do what you need to do
EndIf</pre> <br><br></td></tr></table><br>
<a name="414798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks thats very useful,<br><br>can I hold data for 10 levels in 1 text file of would it be easier to create 10 text files?<br><br>like for example <br>;level1<br>;resources<br>20<br><br>;level2<br>;resources<br>10<br><br>i need to create bookmarks<br>so i know where to read <br><br></td></tr></table><br>
<a name="414801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1 file is all you need.  Users will be less likely to mess up your program if there are fewer files to lose/corrupt.<br><br>You got the right idea. <br><br></td></tr></table><br>
<a name="414838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i need to create bookmarks <br>so i know where to read <br></div><br>This isn't really necessary if you write a half decent parser. For example, this could search through the file for a line that starts with "level = ", followed by the number of the level you want to read in. Then, from that point in the file, you read in all the other settings, like "resources = 20", or whatever.<br><br>However, for your situation, I think it would probably be best to simply read sequentially through the file at the start of the game and put all the values into an array of types. <br><br></td></tr></table><br>
<a name="414853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a look at jump around ( should be in the User Creations forum ) and you will see that uses XML for level data. I assume it's open source so you can also get the source code to see how the data is read. <br><br></td></tr></table><br>
<a name="414952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's an XML parser somewhere in the code archives, too, but it's not very well documented. <br><br></td></tr></table><br>
<a name="415067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=37405" target="_blank">JumpAround</a> <br><br></td></tr></table><br>
<a name="415167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a look at an XML page and it may be overkill to learn a whole new language,<br>I think Ill tell blitz to search for keywords <br><br></td></tr></table><br>
<a name="434191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Function Read_line(file)
.label1
ine$=ReadLine$(file)
If Left$(ine,1)&lt;&gt;";"
Return ine
Else
Goto label1
EndIf
</pre><br><br>I came up with this and it works but it doesnt read floats.<br><br>How do I have comments and the ability to read floats?<br><br>End Function <br><br></td></tr></table><br>
<a name="434197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Function Read_Line$(File)
	; Read a line from the given file
	LineFromFile$ = ReadLine$(File)

	; Keep reading lines until there's a line found that doesn't start with a semicolon
	While Left$(LineFromFile$, 1) &lt;&gt; ";"
		; Make sure the end of the file hasn't been reached yet
		If Not Eof(File)
			; Read a new line
			LineFromFile$ = ReadLine$(File)
		EndIf
	Wend

	; Return the first line without a semicolon
	Return LineFromFile$
End Function
</pre><br><br>This function reads all kind of data.<br>When the function returns something, it is always a string.<br>Just do this:<br><br><pre class=code>
FloatVar# = Read_Line$(file)
</pre><br><br>And Blitz converts it automatically into a float, if the line contained a float value. <br><br></td></tr></table><br>
<a name="434216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally, I use "datablocks" in my textfiles.<br><br>A textfile from my game:<br><pre class=code>
; This datablock containes all data about "Station01"
[Station]
Name              = Station01
FileName          = Station01.b3d
Texture           = Station01.bmp
PositionX         = -1000
PositionY         = 0
PositionZ         = -1000

; This datablock containes all data about "Jumpgate01"
[Jumpgate]
Name              = Sol system -&gt; Wolf 359
FileName          = Jumpgate.b3d
Texture           = Jumpgate.bmp
PositionX         = 2500
PositionY         = 0
PositionZ         = 2500
TargetSector      = Wolf 359
TargetJumpgate    = Wolf 359 -&gt; Sol system
</pre><br><br><br>Identifying datablocks isn't difficult.<br>Also splitting up lines in the textfile (the part before and after the "="-sign).<br><br>You can get my sample code here (for the above textfile):<br><a href="http://users.pandora.be/vge/Blitz/ReadingTextFiles.bb" target="_blank">http://users.pandora.be/vge/Blitz/ReadingTextFiles.bb</a><br><br>NOTE: This file only containes the required functions for reading the file.<br>The custom types do not exist in there.<br><br>Also, the function "ReadTextFile" automatically skips non-recognized lines (so also comments and other useless junk, you don't even need the ";") within the file, as it only scans for "known" datablocks: [Jumpgate] and [Station]<br><br>The Jumpgate-type-instance is a global one in my game, with all fields set as in the function ReadDataBlock_Jumpgate. <br><br></td></tr></table><br>
<a name="434341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks guys thats good advice <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
