<!DOCTYPE html><html lang="en" ><head ><title >I can see you!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >I can see you!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >I can see you!</a><br><br>
<a name="676286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://img468.imageshack.us/img468/8320/hello0pq.jpg"><br><br>what the best way to make the player see A but not B? <br><br></td></tr></table><br>
<a name="676293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what you mean.  Do you mean like, the camera is at that angle but the occluded character isn't rendered? <br><br></td></tr></table><br>
<a name="676295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> no sorry, what i mean is if A and B are enemy troops and the player is walking along, enemy B should not be able to see the player because there is a box in the way but enemy A has a clear line of sight. how do you check if the enemy troops have anything blocking their line of sight to the player.<br><br>like in metal gear when snake hides behind a box and the enemy dont see him.<br><br>Pete <br><br></td></tr></table><br>
<a name="676300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could just make the scenary 'pickable' and use the 'obscurer' value. <br><br></td></tr></table><br>
<a name="676304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are a few examples in the archives - including this one:<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=532" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=532</a> <br><br></td></tr></table><br>
<a name="676305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steven Noyce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are three main ways.  One is to use LinePick from the enemy to the player and see if the player was picked.  Another is to use the EntityVisible command.  Another way is to make a pivot that has collisions with the things that will obstruct the enemies veiw and stop as it's reaction.  Hide it, then position it at the enemies position, then show it, and position it at the players position.  Then check where it is.  If it is at the players position, then there is nothing in the way.  Otherwise, there is.<br><br>I hope that helped! <br><br></td></tr></table><br>
<a name="676328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> fredborg's funtion is very good but i just thought id get everyones view on the best way to do it. now ive just got to figuare out how to change the height of the player enities collision box when he ducks down.<br><br>thanks for your help everyone<br><br>Pete <br><br></td></tr></table><br>
<a name="676862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using this;<br>EntityBox entity,x#,y#,z#,width#,height#,depth#<br>Parameters<br>entity - entity handle# <br>x# - x position of entity's collision box <br>y# - y position of entity's collision box <br>z# - z position of entity's collision box <br>width# - width of entity's collision box <br>height# - height of entity's collision box <br>depth# - depth of entity's collision box  <br><br>Description<br>Sets the dimensions of an entity's collision box. <br><br></td></tr></table><br>
<a name="676882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This function simulates a 'line of sight' with whats actually a 140 degree field of view (-70/+70).  Any entities that an object can hide behind will need to have their 'obscurer' flag set with EntityPickMode before EntityVisible will work correctly.<br><pre class=code>Function CanSeeEntity(EntityA,EntityB)
  Local FOV = 70
  Local Result = False
  If Abs(DeltaYaw(EntityA,EntityB)) &lt; FOV
    If Abs(DeltaPitch(EntityA,EntityB)) &lt; FOV
      If EntityVisible(EntityA,EntityB))
        DebugLog "I can see you, Kirk.  Can you see me?"
        Result = True
      EndIf
    EndIf
  EndIf
  Return Result
End Function</pre> <br><br></td></tr></table><br>
<a name="677347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks ill give both a go. im going to have upto 4 enemy soldiers walking round any one scene is this going to give me a big performance hit using if the 4 npcs are checking for fov all the time. <br><br>Pete <br><br></td></tr></table><br>
<a name="677359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> 4 shouldn't be a big problem, but if you want to be safe then don't have them all checking every frame.  They shouldn't have lightning fast reaction time anyway, so staggering the checks over separate frames is no big deal. <br><br></td></tr></table><br>
<a name="677362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red Ocktober</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> my big question is... those shadows in the pic... real, or faked...<br><br>:)<br><br>--Mike <br><br></td></tr></table><br>
<a name="677364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> We could play 'Spot the light-source' <br><br></td></tr></table><br>
<a name="677528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> the pic was just to give an idea of what i want to talk about with out letting on what my game is about. i just did that quickly in 3d world studio. so yes its not a game and im not sure why i lightmapped the scene? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
