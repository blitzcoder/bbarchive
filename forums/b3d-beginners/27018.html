<!DOCTYPE html><html lang="en" ><head ><title >Editor Running Slow</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Editor Running Slow</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Editor Running Slow</a><br><br>
<a name="282571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Problem is this code is running really slow.. if someone could help me please... im only getting 9 fps<br><br>;Globals<br>Global FRAMELIMIT = CreateTimer(60)<br><br>Global Frame%,OneSecond#,StartFrame%,SecondTimerOn,FPS%<br><br>Global SectTile<br>Global Layer% = 1<br>Global TileDN# = 0<br>Global MapX% = 0<br>Global MapY% = 0<br>Global ShowAll# = 0<br>Global XTil = 8<br>Global YTil = 8<br><br>Global WorldTile = LoadAnimImage("gfx/worldtiles.png",8,8,0,1024)<br>MaskImage WorldTile,255,0,255<br><br>Dim MapTile(63,63,5)<br><br>;Types<br><br>;Graphics Setting<br>;Graphics 640,480,16,1<br>;SetBuffer BackBuffer()<br><br>;GUI Setup<br>winMain = CreateWindow("Zelda:Scroll of Ages",32,32,640,480,winMain,13)<br>canMap = CreateCanvas(32,16,256,224,winMain)<br>canTile = CreateCanvas(302,16,128,128,winMain)<br>canSect = CreateCanvas(382,160,32,32,winMain)<br>;Menu Setup<br>mnuFile=CreateMenu("File",1,WindowMenu(winMain))<br>Global mnuLoad=CreateMenu("Load Map",2,mnuFile)<br>Global mnuSave=CreateMenu("Save Map",3,mnuFile)<br>CreateMenu("",0,mnuFile)<br>Global mnuQuit=CreateMenu("Quit",99,mnuFile) <br>UpdateWindowMenu(winMain)<br>;Contorls<br>radLay1 = CreateButton("Layer 1",302,160,64,20,winMain,3)<br>radLay2 = CreateButton("Layer 2",302,184,64,20,winMain,3)<br>radLay3 = CreateButton("Layer 3",302,208,64,20,winMain,3)<br>chxLayA = CreateButton("ShowAll",382,208,64,20,winMain,2)<br>;butTilS = CreateButton("Set Size",446,16,64,20,winMain,1)<br>;Text Feilds<br>;txtXTil = CreateTextField(446,48,32,20,winMain)<br>;SetGadgetText txtXTil,"8"<br>;txtYTil = CreateTextField(478,48,32,20,winMain)<br>;SetGadgetText txtYTil,"8"<br>;Hidden GadGets<br>butTileDN# = CreateButton("",0,0,0,0,winMain,1)<br>HideGadget butTileDN#<br><br>butTileUP = CreateButton("",0,0,0,0,winMain,1)<br>HideGadget butTileUp<br><br>butMapUp = CreateButton("",0,0,0,0,winMain,1)<br>HideGadget butMapUp<br><br>butMapDn = CreateButton("",0,0,0,0,winMain,1)<br>HideGadget butMapDn<br><br>butMapLt = CreateButton("",0,0,0,0,winMain,1)<br>HideGadget butMapLt<br><br>butMapRt = CreateButton("",0,0,0,0,winMain,1)<br>HideGadget butMapRt<br><br>;HotKeys<br>HotKeyEvent 208,1,$401,0,0,0,0,butTileDN#<br>HotKeyEvent 200,1,$401,0,0,0,0,butTileUP<br>HotKeyEvent 200,0,$401,0,0,0,0,butMapUP<br>HotKeyEvent 208,0,$401,0,0,0,0,butMapDN<br>HotKeyEvent 205,0,$401,0,0,0,0,butMapLT<br>HotKeyEvent 203,0,$401,0,0,0,0,butMapRT<br><br>SetButtonState radLay1,1<br><br>;MainLoop<br>Repeat<br><br>id = WaitEvent()<br><br>If MouseDown(1) And EventSource()=canMap<br>	<br>	maptile(MapX%+MouseX(canMap)/8,MapY%+MouseY(canMap)/8,Layer%)=SectTile<br><br>Else If MouseDown(2) And EventSource()=canMap<br>	<br>	maptile(MapX%+MouseX(canMap)/8,MapY%+MouseY(canMap)/8,Layer%)=0<br><br>EndIf<br><br>Select id<br><br>	Case $201<br>	If EventData()=1 And EventSource()=canTile<br>	<br>		SectTile = (MouseX(canTile)/8)+((TileDN#+(MouseY(canTile)/8))*16)<br>	<br>	EndIf<br>		<br>	Case $401<br>	If EventSource()=radLay1 Then Layer% = 1<br>	If EventSource()=radLay2 Then Layer% = 2<br>	If EventSource()=radLay3 Then Layer% = 3<br>	If EventSource()=chxLayA <br>		If ShowAll# = 0<br>			ShowAll# = 1<br>		Else<br>			ShowAll# = 0<br>		EndIf<br>	EndIf<br>	<br>	If EventSource()=butTileDN# And TileDN# &lt; 48 Then TileDN# = TileDN# + 2<br>	If EventSource()=butTileUP And TileDN# &gt; 0 Then TileDN# = TileDN# - 2<br>	<br>	;Directions on the Map...<br>	If EventSource()=butMapUp <br>		If MapY% = 0 Then MapY% = 0 Else MapY%=MapY%-1<br>		;UpdatePos()<br>	EndIf<br>	<br>	If EventSource()=butMapDn <br>		If MapY% = 32 Then MapY% = 32 Else MapY%=MapY%+1<br>		;UpdatePos()<br>	EndIf<br>	<br>	If EventSource()=butMapLt<br>		If MapX% = 32 Then MapX% = 32 Else MapX%=MapX%+1<br>		;UpdatePos()<br>	EndIf<br>	<br>	If EventSource()=butMapRt<br>		If MapX% = 0 Then MapX% = 0 Else MapX%=MapX%-1<br>		;UpdatePos()<br>	EndIf<br>	<br>	Case $803<br>	If EventSource()=winMain Then Exit ; Press X and Exit Program<br>	<br>	Case $1001 ; File Menu Stuff<br>	If EventData()=2 Then LoadMap(RequestFile$("Load Game","zsm",False))<br>	If EventData()=3 Then SaveMap(RequestFile$("Save Game","zsm",True))<br>	If EventData()=99 Then End<br><br>End Select<br><br>SetBuffer CanvasBuffer(canMap)<br>Cls<br>MapRefresh()<br>FlipCanvas canMap<br><br>SetBuffer CanvasBuffer(canTile)<br>Cls<br>TilePallete()<br>FlipCanvas canTile<br><br>SetBuffer CanvasBuffer(canSect)<br>Cls<br>DrawImage worldtile,0,0,SectTile<br>FlipCanvas canSect<br><br>FPS_Counter()<br><br>WaitTimer(Framelimit)<br><br>SetStatusText(winMain,"FPS: "+FPS%+"- 60+ Great!  30- Bad!"+", "+"Layer "+Layer%+", "+AvailVidMem ()+", "+TotalVidMem())<br><br>Forever<br>FreeImage worldtiles<br>End<br><br>Function MapRefresh()<br><br>For x = 0 To 31<br>	For y = 0 To 27<br>		DrawImage worldtile,x*8,y*8,1<br>	Next<br>Next<br><br>If ShowAll# = 0<br>	For x = MapX% To MapX%+31<br>			For y = MapY% To MapY%+27<br>			DrawImage worldtile,(x-MapX%)*8,(y-MapY%)*8,maptile(x,y,Layer%)<br>		Next<br>	Next<br>EndIf<br><br>If ShowAll# = 1<br>	For x = MapX% To MapX%+31<br>		For y = MapY% To MapY%+27<br>			DrawImage worldtile,(x-MapX%)*8,(y-MapY%)*8,maptile(x,y,1)<br>			DrawImage worldtile,(x-MapX%)*8,(y-MapY%)*8,maptile(x,y,2)<br>			DrawImage worldtile,(x-MapX%)*8,(y-MapY%)*8,maptile(x,y,3)<br>		Next<br>	Next<br>EndIf<br><br>End Function<br><br>Function TilePallete()<br><br>	For y = 0 To 15<br>		For x = 0 To 15<br>			DrawImage worldtile,x*8,y*8,pallete+TileDN#*16<br>			pallete = pallete + 1<br>		Next<br>	Next<br>	<br>End Function<br><br>Function FPS_Counter()<br><br>	Frame% = Frame%+1 <br>	If SecondTimerOn = False Then <br>		OneSecond# = MilliSecs() + 1000 <br>		StartFrame% = Frame% <br>		SecondTimerOn = True <br>	Else <br>	If MilliSecs() &gt; OneSecond# Then <br>		SecondTimerOn = False <br>		FPS% = Frame%-StartFrame% <br>	EndIf <br>	EndIf<br><br>End Function<br><br>Function SaveMap(mapname$)<br><br>;If FileType("Maps\Str(loadmapnum)+".til")=0 Then Notify "Map"+Str(loadmapnum)+".map Not found." : Return<br><br>soaFile=WriteFile(Str(mapname$))<br>;WriteString(ffafile,head_title$)<br>;WriteString(ffafile,head_author$)<br>;WriteString(ffafile,head_pass$)<br>;WriteString(ffafile,head_desc$)<br>;WriteInt soaFile<br><br>;For m=1 To totalmapnum<br>For z=0 To 4<br>	For y=0 To 63<br>		For x=0 To 63<br>			WriteInt soaFile,MapTile(x,y,z)<br>			;WriteByte(soaFile,MapSolid(totalmapnum,x,y))<br>		Next<br>	Next<br>Next<br>;Next<br><br>CloseFile(ffafile)<br><br><br>Notify "Saved Map Sucessfully!"<br><br>End Function<br><br><br>Function LoadMap(mapname$)<br><br>soaFile=OpenFile(Str(mapname$))<br>;head_title$=ReadString(ffafile)<br>;head_author$=ReadString(ffafile)<br>;head_pass$=ReadString(ffafile)<br>;head_desc$=ReadString(ffafile)<br>;totalmapnum=ReadInt(ffafile)<br>;Notify Str$(totalmapnum)<br><br>;For m=1 To totalmapnum<br>For z=0 To 4<br>	For y=0 To 63<br>		For x=0 To 63<br>			MapTile(x,y,z) = ReadInt(soaFile)<br>			;MapSolid(1,x,y) = ReadByte(soaFile)<br>		Next<br>	Next<br>Next<br>;Next<br><br>CloseFile(soaFile)<br><br>Notify "Opened Map Sucessfully!"<br><br>End Function <br><br></td></tr></table><br>
<a name="282714"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darklordz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> HAVEEN'T TRIED IT CUS BY THE LOOKS OF IT ID NEED A TEST MAP....SRRY BOUT THE CAPS... <br><br></td></tr></table><br>
<a name="282783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using an Nvidia graphics card?  If so you may need to get the latest drivers.  There was an issue with DX7 and Nvidia a little while back. <br><br></td></tr></table><br>
<a name="282874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> no mines a radeon 7000 64mb <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
