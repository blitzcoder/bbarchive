<!DOCTYPE html><html lang="en" ><head ><title >This code "jitters" full-screen / steady in window</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >This code "jitters" full-screen / steady in window</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >This code "jitters" full-screen / steady in window</a><br><br>
<a name="527537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Orgull</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there. Again.<br><br>I'm running the following code and getting different results in fullscreen mode from windowed mode.<br><br>(P.S. How do I put my code in a snazzy box like I see others doing? Thanks!)<br><br>*****<br>Graphics 1024,768,32,1<br>SetBuffer BackBuffer()<br><br>SeedRnd MilliSecs()<br><br>While Not KeyHit(1)<br><br>count# = MilliSecs()<br>.pattern1<br>Color Rnd(0,255),Rnd(0,255),Rnd(0,255)<br>Plot Rnd(0,1023),Rnd(0,767)<br>If MilliSecs()-count# &lt; 1000/60 Then Goto pattern1<br><br>VWait: Flip False<br><br>Wend<br>*****<br><br>Okay, when I run it as is, I jet a jittery effect in fullscreen mode, but when I change the first line to:<br><br>Graphics 1024,768,32,0<br><br>the code works just fine, no jitters, nice and steady.<br><br>(note this is all with debug mode on of course)<br><br>Why the jitters in fullscreen and not in windowed mode? Any thoughts? <br><br></td></tr></table><br>
<a name="527586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> might be to do with the fact your doing:<br><br><pre class=code>
VWait: Flip False
</pre><br><br>If your wanting to sync the fps top the monitor rate, just use flip true :o)<br><br>oh, and for the snazzy code box:<br><br>[ code ]<br><br>code here!<br><br>[ /code ]<br><br>without the spaces tho between the brackets. <br><br></td></tr></table><br>
<a name="527588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use the code archives, there is a surprising amount of wonderful code.<br><br>Here's some frame limiting code for you. Frame tweening will allow your graphics to render as many frames per second as possible while running your game logic a fixed number of times a second.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=9" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=9</a><br><br>Andy <br><br></td></tr></table><br>
<a name="527702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your video card might be forcing vwait on?  Check the display config panel. <br><br></td></tr></table><br>
<a name="527838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Orgull</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I checked my display properties. Vsync is "application preference" as I thought. So that's not the problem.<br><br>I have tried Vwait: Flip False, Vwait: Flip True, Flip False, Flip True and finally just Flip. I get jitters in fullscreen using any of these, but not in windowed mode. So that's not the problem.<br><br>In fact I get jitters with EVERY program I write in BB3D that uses fullscreen mode instead of windowed mode. Whether I use frame-limiting, or no timing at all... So that's not the problem.<br><br>Since my code runs rock steady in windowed mode, I have to assume this is a display settings issue. BTW I have no problems with DBPro programs in fullscreen mode (but my god the sound problems) so this is specific to BB3D, I'm sure.<br><br>BTW, when setting fullscreen, is there a way to select fullscreen exclusive mode? I wonder if BB is using Windowed Fullscreen mode... <br><br></td></tr></table><br>
<a name="527842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Orgull</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well crap... I disabled debug mode and in mode 0 the problem goes away... must have been something in the debug mode causing my troubles.<br><br>Thanks for all the help! <br><br></td></tr></table><br>
<a name="527854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Debugging slows stuff down.<br><br>Running in windwed mode generally runs at a lower res and will run faster so have less ghosting. <br><br></td></tr></table><br>
<a name="527870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The flickering is due to the back buffer and front buffers having different images upon them. Basically you are drawing some pixels to one buffer, flipping the buffers, then drawing pixels to a different buffer. This creates two images that are not identical and hence appears to 'jitter'. The following code should do what you are trying to achieve without the jitters.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 1024,768,32,0

SetBuffer BackBuffer()

SeedRnd MilliSecs()

While Not KeyHit(1)

count# = MilliSecs()
.pattern1
Color Rnd(0,255),Rnd(0,255),Rnd(0,255)
Plot Rnd(0,1023),Rnd(0,767)
If MilliSecs()-count# &lt; 1000/60 Then Goto pattern1

CopyRect 0,0,1024,768,0,0,BackBuffer(),FrontBuffer() 

Wend
</textarea><br><br>Ideally this code should just draw straight to the front buffer, but I was just illustrating a point. <br><br></td></tr></table><br>
<a name="527910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try avoid using goto instead your code :o)<br><br>The above code with a loop in it instead.<br><br><pre class=code>
Graphics 1024,768,32,0

SetBuffer BackBuffer()

SeedRnd MilliSecs()

While Not KeyHit(1)

count# = MilliSecs()

Repeat
   Color Rnd(0,255),Rnd(0,255),Rnd(0,255)
   Plot Rnd(0,1023),Rnd(0,767)
Until (MilliSecs()-count#) &gt; (1000/60.0)

CopyRect 0,0,1024,768,0,0,BackBuffer(),FrontBuffer() 

Wend
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
