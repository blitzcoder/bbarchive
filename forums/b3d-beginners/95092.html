<!DOCTYPE html><html lang="en" ><head ><title >Type question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Type question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Type question</a><br><br>
<a name="1093875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MusicianKool</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ;so i have a type:<br>type Vector<br>field x,y,z<br>end type<br><br>;and some functions for addition and subtraction (just for addition for the question)<br><br>function add.vector(lhs.vector,rhs.vector)<br>local res.vector = new vector<br>res\x = lhs\x + rhs\x<br>res\y = lhs\y + rhs\y<br>res\z = lhs\z + rhs\z<br>return res<br>end function<br><br>;so if i were to<br>local v1.vector = new vector<br>v1\x = 10<br>local v2.vector = new vector<br>v2\y = 10<br>local v3.vector = new vector<br>v3\z = 10<br><br>v3 = add(v3,add(v1,v2))<br><br>print v3\x + "   " + v3\y + "   " + v3\z<br>;prints out: 10   10   10<br><br>;works fine right, but i think it creates a memory leak? <br><br></td></tr></table><br>
<a name="1093887"></a>

<a name="1093888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed it does. The result of adding v1 and v2 is currently "lost", as is the original value of v3.<br><br>Still, although you don't get a garbage collector, Blitz3D does have the convenient "Delete Each vector" command: if you only ever use type "vector" for mathematical operations, you could always ignore memory leaks and call "Delete Each vector" every now and again in periods when you aren't currently using any vector objects for anything. So there's no <i>true</i> memory leak - you can fix it after the calculation is complete.<br><br>It does require a clear separation between maths values and your other persistent objects though.<br><br>On the other hand, I don't think there are really any other solutions that would let you write mathematical code in that expressive style. Depends which is more important to you really - clear maths or efficient program.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
