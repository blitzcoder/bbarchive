<!DOCTYPE html><html lang="en" ><head ><title >Trouble reading KeyDown and KeyHit in BlitzPlus</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Trouble reading KeyDown and KeyHit in BlitzPlus</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Trouble reading KeyDown and KeyHit in BlitzPlus</a><br><br>
<a name="452230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I try to use a while loop until a key is pressed in BlitzPlus, it never seems to read the keyboard.  I tried adding the Flip command before Wend and also switched to a ps2 keyboard to see if my USB KVM was  cauing problems... Same thing.  It never breaks out of the loop.  I have also tried using KeyHit.<br><br>;demo03-04.bb - Waits for a key and then exits<br><br>Print "This program is worthless."<br>Print "Press escape to exit."<br><br>;Wait until user presses 1 to Escape<br><br>;While Loop<br><br>While Not KeyDown(1)<br>	;WaitKey<br>	Flip<br>Wend <br><br>End <br><br></td></tr></table><br>
<a name="452234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> KeyDown(1) is the ESC key<br>KeyDown(2) is the number 1 key<br>KeyDown(3) is the number 2 key<br>KeyDown(4) is the number 3 key<br>etc.<br><br>Are you sure you're pressing the correct key?<br><br>By the way, adding Flip has nothing to do with KeyDown()<br><br>Also by the way, if you just want to wait for a keypress you can just use WaitKey() and forget about the loop bit you have there(unless of course, you want something else to happen inside of the loop). <br><br></td></tr></table><br>
<a name="452240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I pressed the ESC key and it still does nothing.  I am just learning so I want to be able to read the KeyDown or KeyHit when necessary to read different keys.<br>The following code did not even work:<br><br>*****<br>Print "This program is worthless."<br>Print "Press escape to exit."<br>;Wait until user any key to escape<br>WaitKey<br>End<br>*****<br><br>I'm just trying to use simple examples to learn, but would think that the code above would work.  Am I missing something simple? <br><br></td></tr></table><br>
<a name="452245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> try putting:<br><pre class=code>
EnableDirectInput True
</pre><br>at the beginning and see if that solves it.<br><br>*EDIT*<br>Note: I have B3D not B+, but it may still have that command. <br><br></td></tr></table><br>
<a name="452252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried that but it said that that command does not exist. <br><br></td></tr></table><br>
<a name="452254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bum... ah well it was worth a try.<br><br>Do you have any special hardware or software installed?  <br>Did your keyboard come with it's own custom drivers?  (I realise a normal keyboard will work straight out the box, but some have special features). <br><br></td></tr></table><br>
<a name="452257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This machine is a Dell PowerEdge 600SC, P4 1.8 Ghz, 1GB RAM, nVidia GeForce4 440 MX, SoundBlaster Live!...  I have it hooked up to a USB KVM with Sound.  I thought that may be a problem so I plugged in a ps2 keyboard.  No dice...<br>It's strange because the functions seem to work except when used with the while loops. <br><br></td></tr></table><br>
<a name="452259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> (Also I'm running Windows Server 2003)<br><br>The "repeat" loop also acts the same...<br><br>Print "Why did you open this progam?"<br>Repeat <br>	Print "Press Esc to exit."<br>	;wait a sec<br>	Delay 1000 <br>;repeat until user hits esc<br>	Flip<br>Until KeyHit(1) <br>Print "Program is ending." <br><br></td></tr></table><br>
<a name="452262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> (P4 - 2.4GHz... In case someone let's me know that they don't make a 1.8)<br>:-) <br><br></td></tr></table><br>
<a name="452280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> BlitzPlus differs from Blitz3D by having a console mode.<br><br>If you don't use a Graphics statement then you are in console mode. In this case you get input with the Input statement and display output with Print and Write.<br><br>With a Graphics window you can use the various Key commands.<pre class=code>Graphics 400, 300, 0, 2

Text 130, 140, "Escape quits."

While Not KeyDown(1) 

	; nothing

Wend </pre> <br><br></td></tr></table><br>
<a name="452284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That make sense because the graphics examples work (as long as I insert "Flip" commands after drawing).  I believe the book I am learning from would have worked better with Blitz3D which must be closer to the BlitzBasic used in the examples. The book is called "Game Programming for Teens"<br>Does Blitz3D not have a console mode then?  And I suppose these examples would work fine in Blitz3D which then is always in graphics mode and wouldn't need the graphics comand unless changing or setting the resolution? <br><br></td></tr></table><br>
<a name="452337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3D starts in console mode as well. <br><br></td></tr></table><br>
<a name="452571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >keyboard</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> just remember to set the buffer to write to:<br><br><pre class=code>
Graphics 640,480,0,1
SetBuffer BackBuffer()
While Not KeyDown(1)
	Text 10,10,"This program is worthless."
	Text 10,30,"Press Esc to exit"
	Flip
Wend
End 
</pre> <br><br></td></tr></table><br>
<a name="452768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kaminari</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks that helps a lot.<br>I am trying to rewrite the example code from "Game Programming For Teens" to work with BlitzPlus. <br><br></td></tr></table><br>
<a name="452829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >keyboard</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool.<br>because it is a bit misleading to say B+ is compatible with B2D. Correct, but misleading, cos people expect the code will run, and it won't :)<br><br>Not without a bit of tweaking :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
