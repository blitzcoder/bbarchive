<!DOCTYPE html><html lang="en" ><head ><title >objects blinking on and off strangely...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >objects blinking on and off strangely...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >objects blinking on and off strangely...</a><br><br>
<a name="1039401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys. I've done lots of stuff with Blitz3d, and never had this problem before...<br><br>In my project, I load up a some 3D objects, and position them where I want them. My problem is, some of the objects flicker - they appear and disappear, then appear again, then disappear again, etc. I'm not sure what the problem could be! <br><br></td></tr></table><br>
<a name="1039403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xtremegamr</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you post some sample code? It'll help us help you :) <br><br></td></tr></table><br>
<a name="1039407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! Funnily enough, I just worked it out after hours of uneventful trial and error.<br><br>It's the distance the object is from coords 0,0,0.<br>If I go too far from the middle of the blitz 3d game environment, objects flicker and won't display. If I bring them closer to 0,0,0 then they display fine without an issue.<br><br>I'm doing a realistic solar system, for space simming, and while I can make the planets life-size, at a scale of 0.5 units = 1 kilometer, I need to massively adjust how far the gap is between them, to fit all of the planets within the 'boundary limits' of the blitz 3d engine.<br><br>At the moment, I'm runnig our solar system on an orbit distance scale of 150 km : 1 km, but Neptune and Pluto are still so far away if real measurements are used, and fall outside of the Blitz environment's drawing zone.<br><br>Does anyone know what the 'boundary' size is for a blitz 3d environment?<br>I need to work out how far away is the maximum I can place a planet and not cause glitches, then I can rescale my solar system to fit inside the size limit. <br><br></td></tr></table><br>
<a name="1039410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I should do more research before posting! Sorry to double post, but in case anyone else wants to know as well, I worked it out.<br><br>Blitz Integers only range from  -2,147,483,648 to +2,147,483,648<br><br>So, anything in a game that falls outside of those coordinates x/y/z will have problems. As long as objects are within those 'maximum' coordinates, they will display fine. <br><br></td></tr></table><br>
<a name="1040057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...are you sure this is a problem of appearing/disappearing, and not just appearing in the wrong place?<br><br>Blitz's 3D coordinates don't use integers, they use single-precision floats, with a range of something like 10^38 - so max range shouldn't be the problem. However, they only have an accuracy of about seven decimal places - in other words, the object will move in minimum increments of ten thousand or so once its position is measured in the billions, as the number lacks the precision to move more accurately than that.<br><br>Normal approaches to solving this problem include creating more than one scene at different levels of scale, and switching between them impreceptibly, so that each is being drawn within the limits of single-precision. Half-Life 2 provides a notable example of this with the Citadel background. <br><br></td></tr></table><br>
<a name="1040375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This type of problem can also occur when Blitz3D cannot determine the correct centre of a mesh and incorrectly culls the mesh which can cause it to flicker.  You can use the FitMesh command to centre any meshes within Blitz3D - assuming that this is what is causing the problem.  If these meshes are flickering from a distance, then it may not be the problem, as this would normally occur when the mesh is partly on screen and Blitz3D is culling it from what it thinks is the centre. <br><br></td></tr></table><br>
<a name="1041048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tsmpaul</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! Thanks for the suggestions guys. I tried them out to see if any would solve the problem. <br><br>Going to a distance from a world still caused objects to flicker - and also, teh further away, the more objects on the other side of a planet would appear and disappear briefly - seen through the planet. I assumed this was then a 'draw order' problem.<br><br>I tried assigning manual entityorder values to everything, and there was no more flickering, it drew them correctly on the screen. The problem is, with objects orbiting objects, and the player position constantly changing, the entityorder values for everything in the level would have to keep changing too! I couldn't work out a good way of doing that that worked.<br><br>I ended up trying the 'switching between different scales' that was suggested above.<br><br>Since within a certain range, there is never any flickering, I changed the game scale and made two scales of measurement. I have a kilometers value, which is used for measuring and sizing planets, moons, sun, etc. And I have a meters value, which is used for measuring ships, stations, character movement, etc. They don't equate to each other like in real life - so a 'kilometer' unit is not 1000 'meter' units. I've gone for a ratio of 4 game units is one meter, and 8 game units is one kilometer, and then I did this:<br><br>Instead of making planets bigger or smaller, they are all roughly the same size object - but when the player is at a planet, the meter variable is shrunk or enlarged instead, so the player, ships, stations, etc, are shrunk or enlarged, giving the illusion that each planet object is much bigger or smaller from world to world, and it takes longer to fly places when the planet is 'bigger', and faster to go places when the planet is 'smaller'.<br><br>This has worked out great, and resulted in no more flickering or draw order problems of any kind. <br><br>The only problem is, now when orbiting a gas giant, any objects near the camera have shivers, because the camera/player/ship is shrunk so much. So I've made the gas giants relatively smaller than they would be in real life, so there isn't such a size reduction on the meter variable, and that's made the object shaking very minimal now. They're still huge compared with places like Earth.<br><br>At the moment, I explain the shivers in the game by saying that the gas giants are so big, they cause turbulence with the ship's gravitic drive :)<br><br>Anyway, here's two pics from 'external camera' view, showing how planets appear to be bigger when it is the spaceship and camera that have actually shrunk.<br><br>'small' planet of Mercury<br><br><img src="http://i280.photobucket.com/albums/kk185/tsmpaul/SOL%20The%20Ninth%20Gate/out_ship_looking_mercury.jpg"><br><br>'big' planet of Jupiter<br><br><img src="http://i280.photobucket.com/albums/kk185/tsmpaul/SOL%20The%20Ninth%20Gate/out_ship_looking_jupiter.jpg"> <br><br></td></tr></table><br>
<a name="1164486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikorians</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> For everyone's info:<br>I had this problem years ago with my solar system simulator, and object occlusion errors were caused by using such a large scale that it confuses the z buffer. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
