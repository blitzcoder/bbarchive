<!DOCTYPE html><html lang="en" ><head ><title >Date Conversion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Date Conversion</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Date Conversion</a><br><br>
<a name="356423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to be able to convert a date in this format:<br><br>"04/10/05"     (YY/MM/DD)<br><br>to this format:<br><br>"Fri  02-13-2004"    (Day  MM/DD/YYYY)<br><br>I can do the string manipulation easily enough, but does anyone know of a simple way of working out what DAY something occured on based solely on the date? I could use a lookup table, I'm sure, but an algorithm taking account of leap years (and millenia!) would be nice!<br><br>Thanks,<br><br>Paul <br><br></td></tr></table><br>
<a name="356429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> To do any form of working out with dates, I would assume the best thing to do would be to convert it to an integer first.<br><br><a href="/codearcs.php?code=298" target="_blank"> This might help </a><br><br>It's a bit early and my brain hasn't been jumpstarted yet, but Ill have a think on it. <br><br></td></tr></table><br>
<a name="356506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would use GetDate (kernel32).  An example:<br><pre class=code>
;.lib "Kernel32.dll"
;GetDate%(iLocale%, iFlags%, iDate%, iFormat$, oDate$, iSizeBuf%):"GetDateFormatA"
;GetDateAny%(locale%, dwFlags%, lpDate*, lpFormat$, lpDateStr$, size%):"GetDateFormatA"

day$ = String(" ", 150)
GetDate(0, 0, 0, "d dd ddd dddd M MM MMM MMMM y yy yyyy gg", day, Len(day))
Print day

time = CreateBank(16)
PokeShort(time, 0, 2004) ; Year
PokeShort(time, 2, 4) ; Month
PokeShort(time, 6, 17) ; Day
GetDateAny(0, 0, time, "ddd MM-dd-yy", day, Len(day))
Print day
</pre> <br><br></td></tr></table><br>
<a name="356526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oryou can use userlibby things and get all technical and cheaat if ya know how unlike us poor thickos wot cant even spell propper :)<br><br>Is this like a BlitzPlus thing?<br>How do userlibs work?<br><br>Good stuff soja! <br><br></td></tr></table><br>
<a name="356549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> =)<br><br>Well, basically you define a line in a decls file (in your userlibs folder) which tells Blitz how to call an exported function from a DLL.  This one uses a DLL (kernel32.dll) that's part of Windows (from Win95 on).  Here, the commented lines at the top need to go in the decls file.<br><br>Then you can call the function according to the parameters it expects.  In this case, I found them out from msdn.microsoft.com -- I looked up GetDate.<br><br>It works in the latest version of Blitz3D and BlitzPlus. <br><br></td></tr></table><br>
<a name="356821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>fine a line in a decls file (in your userlibs folder) <br> <br></div><br>Lost me already but Il not worry about it now - this thread's been hijacked enough :/ <br><br></td></tr></table><br>
<a name="356825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys for all your help. <br><br></td></tr></table><br>
<a name="357276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oldefoxx</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many date routines have been written and should be available for copying or download.  Some people consider the<br>leapyear problem, but suprisingly, others do not.<br><br>However, there is also a 100-year and 400-year rule for handling leapyears (100-year dates like 1800 and 1900 are not leapyears, while 1600 and 2000, divisible by 400, are leapyears).<br><br>Going forward, even these adjustments are imprecise.  There is some reason to consider a 500-year and a 2000-year rule, and when you try to justify 20,000 year intervals, you begin having to think about the fact that the earth is slowing down in its rotation (longer days) and its orbit wobbles enough to make its orbit around the sun take different paths and lengths of time.<br><br>If that seems excessive, it likely is.  A lot of people only want to reason time over a few years or a few decades.  For that purpose, you may not need an elaborate algorythm to get a good count of days between two dates.  All dates from March 1, 1900 to February 28th, 2099 are only suseptable to the 4-year yeapyear rule, and you can go from year 1 to close to 20,000 with just the 4-year, 100-year, and 400-year rules.  That is probably far longer than today's civilizations will endure.  (which is good, since we've already missed four 500-year and one 2000-year adjustments, so at some date in the future, our calendars are going to be off by a few days, assuming we last that long). <br><br></td></tr></table><br>
<a name="357336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your last paragraph is very important, and you are right - I am certainly only looking at dates that go back a few years. However, wasn't there some controversy over whether the year 2000 was a leap year or not? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
