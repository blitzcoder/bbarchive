<!DOCTYPE html><html lang="en" ><head ><title >First Person Shooter help!!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >First Person Shooter help!!!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >First Person Shooter help!!!</a><br><br>
<a name="238018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIMPY73</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> does any body have some bullet code for a first person shooter<br><br>wot im after is the bullet to start from the end of the gun and shhot towards the gun sight here is my code sofar<br><br>Graphics3D 640,480,32,1<br>SetBuffer BackBuffer() <br><br>camera=CreateCamera() <br>PositionEntity camera,0,1,0 <br><br>light=CreateLight() <br>RotateEntity light,90,0,0 <br><br>gun=CreateCube(camera):ScaleEntity gun,5,5,15<br>;gun=LoadMesh("deagle.3ds")<br>PositionEntity gun,30,-40,50<br>RotateEntity gun,-1,3,-1<br>EntityType gun,2<br>EntityParent gun,camera<br>EntityRadius gun,1<br>EntityOrder gun,-1<br><br>; Create terrain <br>terrain=CreateTerrain(512) <br><br>; Texture terrain <br>tex=LoadTexture( "wall8.jpg" ) <br>EntityTexture terrain,tex <br>ScaleEntity terrain,100,100,100<br>MouseSensitivity# = 2<br>MoveMouse GraphicsWidth() / 2, GraphicsHeight() / 2<br>FlushMouse<br><br><br>While Not KeyDown( 1 ) <br><br>dx# = dx# + MouseYSpeed() / MouseSensitivity#<br>dy# = dy# - MouseXSpeed() / MouseSensitivity#<br>If dx# &gt; 85 Then dx# = 85 ElseIf dx# &lt; -85 dx# = -85<br>xang# = CurveValue#(xang#, dx#, 3.5)<br>yang# = CurveValue#(yang#, dy#, 3.5)<br>RotateEntity (Camera), xang#, yang#, 0<br>MoveMouse GraphicsWidth() / 2, GraphicsHeight() / 2<br><br>If MouseDown(1)=1 Then speed#=speed#+.2<br>speed#=speed#*.9 ; friction<br>If MouseDown(3)=1 <br>zoom#=zoom#+1<br>MouseSensitivity# = 6<br>EndIf<br>If MouseDown(3)=0 <br>zoom#=zoom#-1<br>MouseSensitivity# = 2<br>EndIf<br><br>If zoom#&lt;1 Then zoom#=1 <br>If zoom#&gt;10 Then zoom#=10<br><br>; Set camera zoom <br>CameraZoom camera,zoom#<br><br>MoveEntity camera,0,0,speed#<br><br>xpos#=EntityX(camera)<br>zpos#=EntityZ(camera)<br>ypos#=TerrainY(terrain,xpos,0,zpos)<br><br>PositionEntity camera,xpos,ypos+20,zpos<br><br>MoveMouse 320,240<br>RenderWorld <br>mx=MouseX()<br>my=MouseY()<br><br>Oval mx-10,my-10,20,20,0<br>Plot mx,my<br><br>Flip <br><br>Wend <br><br>End<br><br><br>Function CurveValue#(Current#, Destination#, Curve#)<br>Return Current# + ((Destination# - Current#) / Curve#)<br>End Function<br><br>any help?<br><br>Thanks<br><br>GIMPY :) <br><br></td></tr></table><br>
<a name="238030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1) Create an entity (ex a small sphere) at the wanted position - that is, where the bullet should go out from the weapon; use the CreateSphere command.<br><br>2) Point the bullet (the small sphere) toward the target, using PointEntity.<br><br>3) Move the bullet on Z axis, it will move toward the target; use Moveentity.<br><br>You may set the collisions between the bullet and the target, to check if the target has been hit. EntityType, Collisions and EntityCollides would be handy for this task.<br><br>Another hint: use a type structure to handle your bullets, so that in the main loop you can manage all the existant bullets - that is, each bullet will have its direction, speed, position, life, damage...<br><br>So when you shoot, create a bullet element - note that if you use keydown for shooting, you will create LOTS of bullet, so use keyhit or create a new bullet only every X millisecs:<br><br><pre class=code>
;type declaration and type pointer
type t_bullet ;the bullet structure
field sphere ;this will hold the entity
field speed# ;speed
end type
Global bullet.t_bullet ;pointer
.
.
If player_has_shooted then
bullet.t_bullet = new t_bullet ;create a new bullet
bullet\sphere = createsphere() ;a sphere as bullet
scaleentity bullet\sphere,0.1,0.1,0.1 ;scale it down unless you want shoot balloons ;-)
positionentity bullet\sphere,x#,y#,z# ;position the bullet at the desired place
resetentity bullet\sphere ;avoid collision when positioning
pointentity bullet\sphere, target ;point the bullet toward the target
endif

;in the main loop
handle_bullet()
.
.
function handle_bullet()
for bullet.t_bullet = each t_bullet ;loop through all the bullets
moveentity bullet\sphere,0,0,bullet\speed ;move the bullet
next
</pre><br><br>The rest is up to you... have fun !<br>Sergio. <br><br></td></tr></table><br>
<a name="238047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you really need an actual projectile? Despite Max Payne, they're still not generally expected and I wouldn't imagine that Blitz'z collision system could reliably determine whether or not fast moving bullets have hit moving targets... which leaves you an extra headache. Isn't this what Linepick is for (especially if you're a beginner)? <br><br></td></tr></table><br>
<a name="238141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GIMPY73</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks semar ill try ur code out :)<br><br>@sledge once i get my head round this ill hide the bullet its just there for visual checking at the mo :)<br><br>Thanks<br><br>GIMPY :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
