<!DOCTYPE html><html lang="en" ><head ><title >WaitTimer Comand</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >WaitTimer Comand</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >WaitTimer Comand</a><br><br>
<a name="231658"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >goatless</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,  <br><br>I've been fiddling with blitz for a couple of months on and off and decided to take apart one of the samples to see what made it tick.  <br><br>I chose Celestial Rift and promptly broke it down into modules (e.g. attractMode, player, enemy, bullets, stars, etc.) and then chucked in some tweaks (which programmer can resist?).  Aside from some niggly bugs (including breaking the hi-score counter) I've sat back and tried to list what I've learnt, and what I need to find out about.<br><br>One thing that does puzzle me is the WaitTimer command.  I understand it's purpose (wait n units of time and then return control back to the program), what I don't understand is the way it's used in Celestial Rift :-<br><br><pre class=code>
Local iFrames, i

iFrames = WaitTimer(g_tmr)

For i = 1 To iFrames
    ;do game stuff here, check keys, etc.
Next
</pre><br><br>g_tmr is a timer set with g_tmr = CreateTimer(50)<br><br>What puzzles me is why you'd want to loop?  Wouldn't this just execute the game loop multiple times, if so, why would you want to do that?<br><br>It's not a problem I'm stuck on, I'd just like to know the reasoning behind it so I can determine if it'll bite me in the ass in the future!<br><br>Thanks in advance <br><br></td></tr></table><br>
<a name="231665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically, when you create a timer like:<br>mytimer = createtimer(50)<br><br>you create a 'trigger' that will shoot 50 times in a second, that means, every 1000/50 = 20 millisecs.<br><br>So, when you write<br><br>k = WaitTimer(mytim)<br><br>is like you check if are already passed 20 millisecs since the last update.<br><br>If not, then K will be 0, and the for i = 1 to k loop is not executed.<br><br>If yes, then the loop for i = 1 to K will be executed at least one time.<br><br>This to 'force' fast pcs to run at a reasonable speed, and slow pc to run at that speed too.<br><br>Hope this has sense for you,<br>Sergio. <br><br></td></tr></table><br>
<a name="231679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >goatless</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sergio,<br><br>I did suspect that it was to act as some sort of throttle mechanism - many thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
