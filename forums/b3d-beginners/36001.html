<!DOCTYPE html><html lang="en" ><head ><title >2 Cameras and Drawing lines</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2 Cameras and Drawing lines</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >2 Cameras and Drawing lines</a><br><br>
<a name="393496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wondered if it was possible to draw lines on to seperate cameras and have them show up on the display. I played around with using sprites as a HUD in my game, but they jumped around too much. So I would like to use line method on on camera that is fixed on the horizon and use lines on the second camera that shows everything that would follow the roll of the camera..<br><br>Any help would be greatly appreciated<br><br>Thanks<br><br>Jamie <br><br></td></tr></table><br>
<a name="393500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way you use 2 cameras is:<br><br>Have the cameras a decent way apart, set your hud camera to no cls and set the camera range to bugger all.<br><br>hide hudcam<br>show camera<br>renderworld<br>show hudcam<br>hide camera<br>renderworld<br><br>The alternative to this is hide all your entities when rendering the hud cam then showing them all again, personally I think this is way too much like hard work.<br><br>Not sure what you're getting at with "I would like to use line method on camera" care to expand on that a touch? <br><br></td></tr></table><br>
<a name="393517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am drawing a hud for a combat sim and it needs to be rendered in 2 parts. 1 that truns with the main camera (plane's view) and one that stays level with the horizon. Below is a mock up of how the 2 pieces fit together:<br><br>      _            _<br>       | ___  ___ |<br>       | ___  ___ |<br>       | _ _  _ _ |<br>       | _ _  _ _ |<br>      _|          |_<br><br>The 2 outside lines follow the plane's camera and the lines on the inside need to stay even with the terrain asn the plan rolls. Again I tried using a sprite for the inside piece but it jumps around. So since I use line method to create the outside piece, I wondered if I could do that for the internal on also.<br><br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="393520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Explain Jumps around.<br><br>Are you just talking about how to get a line match the rotation of the cameraroll?<br><br>If that's the case:<br><br>x=graphicswidth()/2<br>y=graphicsheight()/2<br>line x+(sin(entityroll(camera)+180)*50),y+(cos(entityroll(camera)+180)*50),x+(sin(entityroll(camera))*50),y+(cos(entityroll(camera))*50)<br><br>That's totally untested so it probably won't work... <br><br></td></tr></table><br>
<a name="393525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rhyolite</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> As to your question about 2D lines, if I understand correctly, you can draw 2D commands 'on top' off your 3D world after you have rendered it. These 2D lines will be drawn to 2D screen co-ordinats NOT 3D world coordinates.<br><br>Renderworld() &lt;-- Draw 3D stuff<br>Draw2DHud &lt;-- Draw 2D stuff over the top<br>Flip &lt;-- Display both 3D and 2D on screen<br><br>However, not sure this is best method of drawing an aircraft HUD - just answering, hopefully, a bit of your question. Drawing 2D can be slow and lower your FPS (but probably insignificant for a simple HUD). Also, I think using a quad (or maybe a sprite) would work better for a HUD as you were originaly trying to implement.<br><br>Rhy Out <br><br></td></tr></table><br>
<a name="393564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I played around with using sprites as a HUD in my game, but they jumped around too much. <br></div>This happens when you position the sprites too close to the camera.  You'll get the same effect even if you use two cameras.<br><br>Move the sprites further away and scale them up accordingly to solve the problem.  I usually have them 180-200 units from the camera.<br><br>However, it *is* a good idea to render the HUD with a different camera.  If you haven't done that and you ever need to use CameraZoom etc, you've had it, because zooming will affect the HUD as well. <br><br></td></tr></table><br>
<a name="393613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all of the replies! I modified the code that Rob posted and everything seems to work as desired.<br><br>Gfk:  I tried moving the sprite further away and modifying its scale, but it still occurs. I am using this in a LARGE project that I discussed yesterday with Rob. It is a combat simulator that has a mesh-based infinite terrain system, etc. Because of the specs for the application my camera range is somewhat large. I have worked to reduce it greatly and have gotten it to a realistic range now. I wondered if the speed I am traveling and the number of polys &amp; surfaces I am rendering and the camera range, etc have anything to do with it. I cut my code and made a quick smaple app and it works like a champ all the time, but with the parameters of the combat sim, it jumps around too much.<br><br>Again, Thanks to All!<br><br>Jamie <br><br></td></tr></table><br>
<a name="393691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Odd.<br><br>Have you parented all the HUD elements/sprites to the camera, or are you repositioning the whole thing manually?<br><br><div class="quote"> hide hudcam <br>show camera <br>renderworld <br>show hudcam <br>hide camera <br>renderworld  <br></div>That really isn't necessary.  As long as the main camera was created before the HUD camera, you can render the whole lot in one go. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
