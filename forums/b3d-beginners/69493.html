<!DOCTYPE html><html lang="en" ><head ><title >How to check if two images are the same</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to check if two images are the same</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >How to check if two images are the same</a><br><br>
<a name="777510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I check that two images are the same?<br><br>If imgA = imgB  doesn't seem to work. <br><br></td></tr></table><br>
<a name="777511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, if only life was that simple! :)<br><br>You'll need to compare every pixel of both images. See: ReadPixelFast(). <br><br></td></tr></table><br>
<a name="777512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Really??<br><br>That seems like an awfully over the top method.<br><br>Could this be done in real time, such as simply checking the image handles? <br><br></td></tr></table><br>
<a name="777516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Really??<br><br>That seems like an awfully over the top method. <br></div>I don't see how else it could be done. There's no magic way of seeing if the pixels match, without actually looking at them all.<br><br><div class="quote"> Could this be done in real time, such as simply checking the image handles? <br></div>Image handles are simply the pointers to the struct in mem that's used by blitz to handle the images. Realtime? Depends on how often you want to compare images, how big they are etc.<br><br>P.S. What do you need to do this for, exactly? Are the images created in-code or loaded in? <br><br></td></tr></table><br>
<a name="777523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >OJay</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you really need it realtime and can live with a chance of 0.01% of failing (e.g. declaring 2 images equal although they arent) then it may be enough to check, e.g. 50 or 100 random pixels of each image... <br><br></td></tr></table><br>
<a name="777553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> As long as the images are pre-made, have a type field called "pic" or something.  If "pic" is 1, the image is a cow.  If "pic" is 2, the image is a horse.  Then just test whether the "pic" variables are the same. <br><br></td></tr></table><br>
<a name="778689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You may also use a checksum. After loading the image you'll create the checksum. In further comparations you only have to compare the checksums of the images.<br><br>; Create 32 bit checksum of an image:<br>ck=0<br>for y=0 to imageheight(img)-1<br>for x=0 to imagewidth(img)-1<br>ck=ck+readpixel(x,y)<br>next<br>next<br><br>That's highly reliable.<br><br><br>EDIT<br>you may even use a modified version to detect a SIMILAR image, eg: when an image was saved with slightly modified pixels (eg. jpg artefacts, brightness, smoothing):<br><br>ck=0<br>for y=0 to imageheight(img)-1<br>for x=0 to imagewidth(img)-1<br>;dropping 3 least significant bits of each rgb channel<br>rgb=readpixel(x,y) and %00000000111110001111100011111000<br>ck=ck+rgb<br>next<br>next<br><br>well, at least the theory works :) <br><br></td></tr></table><br>
<a name="778718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackJumper</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> JFKs checksum will not determine between rotated or flipped versions of the same image - if this is needed you will have to apply a weighting based on pixel position before adding to the checksum <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
