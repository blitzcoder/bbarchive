<!DOCTYPE html><html lang="en" ><head ><title >swimming</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >swimming</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >swimming</a><br><br>
<a name="941405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chrisnorris007</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> whats the most efficient way of handling swimming...<br><br>i want to ... change my character to his swimming animation and make the controls change so that a is still forward z is back still....but i can turn my dude up and down left and right and swim... <br><br></td></tr></table><br>
<a name="941415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simply switch to the swimming animation and continue to move the player forward if the a key is hit, or z key, or whatever.<br><br>Maybe something like this:<br><pre class=code>
If swimming = 1
	Animate player,1,1,treadsequence,10
	
	If KeyDown(17) = 1
		Animate player,1,1,swimsequence,10	;this overrides the previous animate call if the player is moving
		MoveEntity player, 0,0,1
	EndIf
EndIf  
</pre><br><br>You will of course, need to do the "If" statements for all the movement keys.  This is just a simple example. <br><br></td></tr></table><br>
<a name="941422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Swimming is tricky as you have to prevent the player from moving up past the water mesh.  Once under water, cancel gravity on the player until he reaches EntityY of your water mesh.  Start with something like...<br><br>If EntityY(player) &lt; EntityY(water) Then gravity = 0 Else gravity = -1 <br><br></td></tr></table><br>
<a name="941855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my project the player can look down, this will allow him to dive under water. Only when he is looking up, he will stay on the surface on the water, and be able to swim.<br><br>You may also add a further pivot to the head of the player, this way you can control the gravity in water: when the head if over the water and the rest under water then you may set gravity to zero, for swimming. <br><br></td></tr></table><br>
<a name="941869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >chrisnorris007</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> jfk, can you show me in code what you are talking about? i am intrigued about the concept your talking about. <br><br></td></tr></table><br>
<a name="943224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, maybe it's better for you when you write it by your own. It's not a big deal.<br>Just detect the position of the payer. You may use a box for the water, this simplyfies checking if (and how far) the player is within the water.<br><br>If the conditions fit for swimming, activate swim mode. The players motion should then be smoothed a lot, especially start and stop moving. You need a speed variable for that. When the player start swimming, the speed variable slowly increases up to a certain speed, when he stops pressing "W" (or whatever key) then the speed variable will decrease slowly until it reaches zero.<br><br>The player will then moveentity by the speed variable each frame, so he starts and stops smoothly, like in water. Everything else should work automaticly by collsion vs ground (eg. getting out of the pool).<br><br>In my case I had to add a further mode, the scuba dive mode. Testing the EntityPitch of the head tells me if the player (FPS) is looking down. If so, I add a little bit of gravity, so he may sink down slowly. Additionally I switch to an alternative movement system that is best described as Superman - freeflight mode, so you can move in every wanted direction under water (where the standard walking as well as swimming animation usualy pushes the player only forward, but never upward) <br><br></td></tr></table><br>
<a name="943233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The systems linked below may be useful in detecting if an entity has entered or exited a waterblock:-<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1901" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1901</a><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1920" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1920</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
