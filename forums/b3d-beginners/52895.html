<!DOCTYPE html><html lang="en" ><head ><title >3D Rotation?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3D Rotation?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >3D Rotation?</a><br><br>
<a name="591007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot2005</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hiya all<br>I have code the advance stuff but what I am trying to do is get Z rotation coming toward the screen and coming away from the screen...<br><br>Have I got right Z rotation?<br><br>p.s. I have done 2D rotation and now I am moving on 3D Rotation in 2D Program <br><br>here the code<br><br>I hope people understand what I am trying to do here<br><br>here the code<br><br>[code]<br>AppTitle "3D ROTATION"<br><br>Press_Esc=1<br>Const Speed=2<br><br>Graphics 640,480,16,2<br><br>bobImage = CreateImage( 32, 32 ) <br>MidHandle bobImage <br><br>SetBuffer ImageBuffer( bobImage ) <br>Color 255, 0, 0<br>Oval 10, 10, 320, 32<br>Color 200, 0, 200<br>Oval 6, 6, 20, 20<br><br>Dim bobx( 64 ), boby( 64 ) <br>For i = 0 To 63<br>    bobx( i ) = i * 5 Mod 360<br>    boby( i ) = i * 4 Mod 360 <br>Next<br><br>bobxadd = 2 <br>bobyadd = 2 <br><br>SetBuffer BackBuffer()<br><br>;-------------------------------------------------<br>; Set up sine tables;<br>;-------------------------------------------------<br><br>Dim sintable#(361)<br>Dim costable#(361)<br>        <br>For a=1 To 360<br>    sintable#(a) = Sin(Float(a))<br>    costable#(a) = Cos(Float(a))<br>Next<br><br>;-------------------------------------------------<br>;                                                 <br>;-------------------------------------------------<br><br><br>Bx=100<br>by=100<br><br><br>While Not KeyDown(Press_ESC)<br>     For value = 0 To 255<br>         red = 255 - value <br>      	green = 225 blue = value <br>    	Color red , green , blue<br>     	; Convert color position to vertical position <br>    	relative = value * GraphicsHeight () / 255 Rect 0 , lastheight , GraphicsWidth () , relative<br>    	; Remember previous vertical position <br>       	lastheight = relative <br>     Next <br><br>     ;  rx = bx * Sintable#(angle) - by * Costable#(angle) ; X ROTATION<br>     ;  ry = by * Sintable#(angle) + bx * Costable#(angle) ; Y ROTATION<br>     ;  rz = bx * Sintable#(angle) + by * Costable#(angle) ; Z ROTATION<br><br>     ; Rotation around the X-axis:<br>     ry  = Cos(angle_x) * by - Sin(angle_x)  * bz <br>     rz  = Sin(angle_x) * by + Cos(angle_x)  * bz <br><br>     ; Rotation around the Y-axis:<br>     rx  = Cos(angle_y) * bx + Sin(angle_y)  * rz <br>     rrz = -Sin(angle_y) * bx + Cos(angle_y) * rz <br><br>     ; Rotation around the Z-axis:<br>     rrx = Cos(angle_z) * rx - Sin(angle_z)  * ry <br>     rry = Sin(angle_z) * rx + Cos(angle_z)  * ry <br><br>     For i = 0 To 63<br>         ;draw the bobs onto the screen<br> 	DrawImage bobImage, 320 + Sin( bobx( i ) ) * rx+rrx ,240 + Sin( boby( i ) ) * ry+rry<br>     Next<br><br>     If MilliSecs() &gt; bobsUpdate + 15 Then ; here we find the next position of the bobs<br>        bobsUpdate = MilliSecs()<br>        For i = 0 To 63<br>	   bobx( i ) = bobx( i ) + bobxadd Mod 360<br>	   boby( i ) = boby( i ) + bobyadd Mod 360<br>        Next<br>     End If<br>     Flip:Cls<br><br>     Angle_x=Angle_x+Speed<br>     Angle_y=Angle_y+Speed<br>     Angle_z=Angle_z+Speed <br>Wend<br>[\code] <br><br></td></tr></table><br>
<a name="591445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know, to be very honest with you, I don't know what you are trying to achieve.<br><br>I see a 'snake' kinda slithering and bouncing around the screen.  What is it that you are trying to do with it?<br><br><div class="quote"> what I am trying to do is get Z rotation coming toward the screen and coming away from the screen... <br></div>Could you please elaborate on this? <br><br></td></tr></table><br>
<a name="591449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm. I think he want's the 'snake' segments to get bigger as they come closer to the screen, and smaller as the move away. i.e. simulate a 3rd dimesion. Kinda like the dragon in the original Space Harrier.<br><br>This is tricky in pure 2D as you'd need many different sized segment images to simulate the effect. Not worth the bother/resources. If you want 3 dimesions then use 3D! Go figure. :) <br><br></td></tr></table><br>
<a name="591455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I see.  By Z rotation, he must have meant Z scaling.  I guess you could get by with scaling the segments using ScaleImage, but it would be extremely slow. <br><br></td></tr></table><br>
<a name="591524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do 2D-in-3D.  That'll make scaling nice and simple. <br><br></td></tr></table><br>
<a name="591570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's also no need to really use sin and cos look up tables. There's no real speed gain to be had, and it can actually be slower on some computers, like mine. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
