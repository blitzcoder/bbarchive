<!DOCTYPE html><html lang="en" ><head ><title >Speed on a 60Hz or 85Hz monitor</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Speed on a 60Hz or 85Hz monitor</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Speed on a 60Hz or 85Hz monitor</a><br><br>
<a name="687064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Active03</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, <br><br>I want to make a 2d game. <br>But my game runs faster on a computer using 85Hz than on a 60Hz monitor. <br><br>Is there a way 2 make the game run at the same speed? <br><br></td></tr></table><br>
<a name="687096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> timer = CreateTimer(60)<br><br>While Not KeyDown(1)<br>     WaitTimer(timer)<br>     ; do your stuff<br>     flip<br>wend <br><br></td></tr></table><br>
<a name="687183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using CreateTimer is one method. You may combine this with tweening. Personally I'd rather suggest to use a simple and proper Delta timing.<br><br>Delta works like this: It doesn't matter how fast the monitor refreshes, all moves, animations etc. are multiplied by a "elapsed-time" factor. So the higher the monitor rate, the smaller the factor.<br><br>You would use a hypothetic rate of 60Hz for a factor of 1.0. with 30 Hz it would then be 2.0, at 85 Hz it's: (60/85)...<br>The factor can be calculated easily.<br><br>sample:<br><pre class=code>
mystep#= 0.7
t=millisecs()-17

while not keydown(1) ; mainloop
 ; determine elapsed ms / 16.667 ( is 1.0 at 60hz)
 old_t=t
 t=millisecs()
 delta#=float(t-old_t)/16.667
 ; controls, eg:
 if keydown(200) then moveentity player,0,0,mystep# * delta#
 ; ...
 updateword(delta#)
 renderworld()
 flip
wend
</pre><br><br>The good thing is you don't have to alter the animation speed of animated meshes,  Updateworld allows to use delta directly.<br><br>There is one exception where you don't have to use delta, that's when you're already working with realtime related values, returnd (example given) by MouseXSpeed etc. <br><br></td></tr></table><br>
<a name="687363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Active03</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thnx 4 your reply.<br><br>Can i use renderworld in a 2d game ? <br>I don't want to use 3d, its all 2d grafix.<br><br>I will try it when i get home. <br><br></td></tr></table><br>
<a name="687367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same logic applies in a 2d game, except you obviously don't need renderworld or updateworld, just flip. <br><br></td></tr></table><br>
<a name="687446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> For plain 2D there are some problems with both methods. you will get smooth movement of sprites only when you are using integer steps (eg. x=x +2). If you use the described correction codes, x would maybe incremented like this: x=x + 1.32. so the sprite would move only every so and so-th time, resulting in jerky motion. You may decide to staticly sync your game to 60 Hz and please the user in the readme to set the monitor to 60 Hz for ultimate fun. If he plays at 85 HZ, it will only run to fast. There has been some code to force a new frequency, but I think that's really unfriendly to the user, and even dangerous for the hardware.<br><br>a solution for this dilemma is to use virtual 2D using 3D Sprites. They can be moved by steps smaller than 1.0. This system also allows a lot of powerfull things like fast rotation and scaling, as well as semitransparent things and additive blend modes for pyro fx etc.<br><br>There are several libraries for virtual 2D, some of them offer a list of commands that are replacing their 2D counterparts. <br><br></td></tr></table><br>
<a name="688166"></a>

<a name="1273864"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's some delta-timing code:<br><a href="http://myweb.arvig.net/rwolbeck1/programmingtutorial/reference/framelimiter.htm" target="_blank">http://myweb.arvig.net/rwolbeck1/programmingtutorial/reference/framelimiter.htm</a><br><br>Check out the rest of the website too. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
