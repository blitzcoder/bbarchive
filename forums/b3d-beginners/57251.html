<!DOCTYPE html><html lang="en" ><head ><title >TCP? UDP?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TCP? UDP?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >TCP? UDP?</a><br><br>
<a name="636435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it better - for an online game - to use UDP, TCP, or that QuickPlay or whatever thing there is?  I've heard that WoW is in TCP, which doesn't seem possible with so many players... feedback, anyone? <br><br></td></tr></table><br>
<a name="636439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Short answer:  UDP<br><br>Long(er) answer:  Both [edit] (TCP and UDP) [/edit] <br><br></td></tr></table><br>
<a name="636441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Both what? <br><br></td></tr></table><br>
<a name="636444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> UDP is faster than TCP..so go with UDP.. <br><br></td></tr></table><br>
<a name="636445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> For things like 'lobby' areas TCP is fine, for most messages in the actual 'game' area UDP. <br><br></td></tr></table><br>
<a name="636451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Baystep Productions</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't really notice a difference but find it easier to use TCP <br><br></td></tr></table><br>
<a name="636461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not about 'faster' or not, as such...<br><br>TCP is inherently 'reliable' - it guarantees to deliver every packet it sends, and in the order they are sent.  If it needs to hold your game up for a few seconds while it repeatedly sends lost packets, then by God it will.  This may not be desirable in a fast-paced sorta game.<br><br>UDP does the same sorta thing, but it couldn't care less whether the packets actually get there or not.  It also doesn't care whether or not they get there in the right order.  It just sends them - that's it.  If you need to make sure at least some get there, or whatever, you need to code that sorta stuff yourself.<br><br>Now none or all of this may or may not matter.  If you're doing an online game of poker, or Monopoly, or chess, or some sorta turn-based strategy game or something, then a few extra seconds waiting for a TCP/IP packet to get there won't be the end of the world.  People probably won't even notice.  Have your game client pause for a few seconds during a multiplayer FPS tournament though and you might get some nasty feedback from your customers.<br><br>Typically (and I'm no authority), people tend to use 'reliable' messaging (whether that be TCP/IP or coding your own reliable UDP system) for super-important but not time-critical things (like initialising the game, or repawning someone, or moving between levels etc), and use 'unreliable' UDP for most of the guts of the game, with the occasional 'reliable' message just to pull things back into line in case the 'unreliable' stuff has let things go off the rails a bit.<br><br>Of course, if you just wanna get things done without having to learn all this stuff (to the nth degree, anyway), then you could go for a solution like <a href="http://www.blitzcoder.com/blitzplay/" target="_blank">BlitzPlay</a>.  There's a Lite version for free so you can work out if it does what you want it to do.  There's also RottNet in the code archives, which is a similar concept and is totally free (although arguably less mature).<br><br>Have fun! <br><br></td></tr></table><br>
<a name="636540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then if speed is such an issue, why does WoW use TCP?  That would mean that if just one person has a slow connection, the whole server is slow!  How does that work? <br><br></td></tr></table><br>
<a name="636542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> The server does not wait, thats multithreaded.<br>WoW is an MMO, thats not fast paced ... If you can afford latency of 200+, then TCP is the better choice as you're interpolation routines can be far stupider.<br><br>On the other side, WC3 for example is UDP. <br><br></td></tr></table><br>
<a name="636543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Naughty Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..TCP is fine, but my experiance telling me that UDP is the way to go...but its up to you guys anyway.. <br><br></td></tr></table><br>
<a name="636916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried a simple TCP program, but something always goes wrong... do I have to do OpenTCPStream each loop?<br><br>Here's the server code:<br><br><pre class=code>
game = CreateTCPServer(500)

If game &lt;&gt; 0

	Print "Server Started"
	
Else

	Print "An Error Has Occurred"
	
	WaitKey
	
	End
	
EndIf

While Not KeyDown(1)

	stream = AcceptTCPStream(game)
	
	If stream Then
	
		Print "Connection Established"
		
		Print "Message: " + ReadString$(stream)
		
		Delay 1000
		
	Else
	
		Print "No Connection"
		
		Delay 1000
		
	EndIf
	
Wend
</pre><br><br>...and here's the client-ish code (remember, I'm new at this)<br><br><pre class=code>
game = OpenTCPStream("127.0.0.1", 500)

If game &lt;&gt; 0

	Print "Connection!"
	
Else

	Print "Error!"
	
EndIf

While Not KeyDown(1)
	
	WriteString(game, n)
	
	WriteString(game, "Howdy!")
	
	n = n + 1
	
	Print n
	
	
	
Wend


End
</pre><br><br>Any help? <br><br></td></tr></table><br>
<a name="636918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> If OpenTCPStream only works for one message, then what's the point of CloseTCPStream?  I think I'm doing something wrong...<br><br>One more question... in OpenTCPStream and CreateServer, what do the 500 and the "127.0.0.1" mean?  The second one should be an IP address, but I got it off of a tutorial, so I don't see how it could "know" my IP... and the 500 I completely made up! <br><br></td></tr></table><br>
<a name="636922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, so I've figured out that the 500 is interchangeable, and the 127.0.0.1 isn't... but what do they mean?<br><br>And why is it that if I add an OpenTCPStream command before every WriteString command (I took out the "Howdy!" writestring, see above), the variable n gets to about 4 or 5 and then an error says, "Stream does not exist!"<br><br>Can someone kindly shove me in the right direction (a mere nudge won't do it)?  Thanks. <br><br></td></tr></table><br>
<a name="636926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> No time to read through your code, but I can tell you one thing:<br><br>127.0.0.1 (aka localhost) is the IP address of the machine you're running the program on, no matter what it is.<br><br>Check out RottNett in the Code Archives and run through the syntax function by function.  There's also an online multiplayer deathmatch thing there too, written using RottNett - both of these will together lead you well and truly down the path of enlightenment. <br><br></td></tr></table><br>
<a name="637027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> But I want to try to actually understand and create my own code! <br><br></td></tr></table><br>
<a name="637306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you see how someone else gets it to work, understand the basic concepts (knowing that they work), and adapt them to your own needs.<br><br>Y'know?  Like people do.<br><br>Anything anyone tells you here will be a subset of what someone's already implemented in Blitz syntax specifically for people like yourself to learn from.<br><br>If you want to start totally from scratch for some reason, then you'll have to hunt down a bunch of internet networking tutorials on the web and adapt them to be used in Blitz.  In that case, Google is your friend.<br><br>Either way, you're going to have to do some work. <br><br></td></tr></table><br>
<a name="637363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> A good programmer uses the tools available ;o) Not code his own. It depends though. I used a netlib. RottNet. It works great and you gain an understanding of whats happening by using it. BUT, you don't need to know the nitty gritty of it. Isn't that what Blitz3D is about? ;o) <br><br></td></tr></table><br>
<a name="637438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've always been of the mind that if I'm keen enough to just 'get on with it' such that I'm using Blitz instead of learning (say) C, then I'm keen enough to just 'get on with it' enough to use the helpful bits of stuff other people very kindly allow me to - whether that be networking libraries, map editors or whatever.<br><br>If I do something so comprehensive I exceed the capabilities of the already-done stuff, *then* I'll look to extend it and/or start again from scratch...<br><br>So yes Ross, I agree with you.  :o) <br><br></td></tr></table><br>
<a name="637643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Can someone kindly shove me in the right direction (a mere nudge won't do it)? Thanks.  <br></div><br><br>Because your server hangs up after 1000 milliseconds?<br><br>After verifying that AcceptTCPStream succeeded, your server should loop until you're ready to disconnect. <br><br></td></tr></table><br>
<a name="637837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry.. I didn't mean to anger or offend anyone here... ;)<br><br>I just want to understand how it works and what it's doing.  Anyway, can someone try out my code and see why it doesn't work? <br><br></td></tr></table><br>
<a name="638133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems that the command CloseTCPServer doesn't work correctly, and possibly some of the other TCP commands, too.  Is there an update for this? <br><br></td></tr></table><br>
<a name="638453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Will anyone answer me? <br><br></td></tr></table><br>
<a name="639024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't read this through thoroughly, but I'm working on a multi-player game and I'm using the Raknet library, and I would strongly recommend it. It uses UDP but has all the functionality of TCP if you require it. So it's fast but if you WANT it to wait for a message to arrive, or you WANT it to send packets in order, then you can ask it to do so. For those packets, it will be slightly slower. For the ones which don't need this kind of checking, it runs very quickly and I haven't encountered any bugs or problems with it. <br><br></td></tr></table><br>
<a name="639038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> ;For things like 'lobby' areas TCP is fine, for most messages in the actual 'game' area UDP. <br><br>cold be not be more wrong. UDP is good for searching for servers.. cause of the time out.. thats why udp is good for file sharing.. after a client finds server it will connect with tcp.<br><br>(like pc anywhere) <br><br></td></tr></table><br>
<a name="639062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just can't seem to get TCP to work... there's always something that goes wrong! <br><br></td></tr></table><br>
<a name="639211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seriously, try Raknet. Since it's a wrapper, it does most of the hard work for you. All you need to do is to learn the syntax and the basic concepts, after that it's just a case of 'connect', 'send packet' and so on. It has commands for disconnecting players, automatically checking connections, banning IP's.... all the usual stuff. <br><br></td></tr></table><br>
<a name="641024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is a working tcp engine..<br><br><a href="http://server.voidrpg.com/network" target="_blank">http://server.voidrpg.com/network</a> test2.rar<br><br>readyfor use. and its same speed as UDP ! <br><br></td></tr></table><br>
<a name="649153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pinete</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> broken link!!<br>:_( <br><br></td></tr></table><br>
<a name="649424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Steven Noyce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just copy and paste the whole thing into your browser and it works fine! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
