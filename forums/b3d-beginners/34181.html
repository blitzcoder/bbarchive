<!DOCTYPE html><html lang="en" ><head ><title >Physics of 2d object collisions using f=ma???</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Physics of 2d object collisions using f=ma???</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Physics of 2d object collisions using f=ma???</a><br><br>
<a name="368972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ralphy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>I need help. Does anyone know of any articles that describe how to calculate the velocities of 2 collided bodies taking account of their objects mass, etc?<br><br>I.e. similar to colliding asteroids in space.<br><br>Cheers,<br>Ralphy. <br><br></td></tr></table><br>
<a name="368975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://can-do.com/uci/ssi2001/newtonsphysicsnb.html" target="_blank">http://can-do.com/uci/ssi2001/newtonsphysicsnb.html</a><br><br><a href="http://www.myphysicslab.com/" target="_blank">http://www.myphysicslab.com/</a> <br><br></td></tr></table><br>
<a name="368979"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ralphy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Rob.<br><br>I think the bumper car section has all the info I need. <br><br></td></tr></table><br>
<a name="368989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a guess:<br><br>if a collide with b then:<br><br>vb=vb+( (va-vb) on (a to b) )*2*(mass a)/( (mass a)+(mass b) )<br>va=va+( (vb-va) on (b to a) )*2*(mass b)/( (mass b)+(mass a) )<br>va and vb is the movement vectors. I hope you know vector math<br><br>Anyway, just a wild guess ;)<br><br>Edit: Oh by the way, while I keep guessing, I guess this, if true, should only apply to completely hard balls, or circles in 2D. <br><br></td></tr></table><br>
<a name="368991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Velocities is usually best calculated with momentum and kinetic energy equations...<br><br>mv = momentum<br>(m(v^2))/2 = K.E.<br><br>In a system, the total energy will be preserved.<br><br>KE1a + KE1b = ( KE2a + KE2b ) <br><br></td></tr></table><br>
<a name="369387"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SwedishChef</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Malice... not really...<br><br>If the collision is elastic, both momentum and KE is conserved.<br><br>If the collision is inelastic, momentum is conserved whilst KE is not.<br><br>In other words, momentum is always conserved, KE is sometimes conserved.<br><br>I assume though that in a game-world you'll have all collisions be elastic. Therefore it'll be easy to calculate the resultant velocities as both KE and momentum is conserved. <br><br></td></tr></table><br>
<a name="370276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ralphy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using the conservation of momentum equation worked great (thanks Rob for the myphysicslab link).<br><br>If anyone is interested, this is the code I ended up with and it works perfectt: (debris is object1, others is object2)<br><br>vcmy = ( (debris\mass*debris\vy) + (others\mass*others\vy) ) / (debris\mass+others\mass)<br>debris\vy = -(debris\vy - vcmy) + vcmy<br>debris\vx = -(debris\vx - vcmx) + vcmx<br><br>vcmx = ( (debris\mass*debris\vx) + (others\mass*others\vx) ) / (debris\mass+others\mass)<br>others\vx = -(others\vx - vcmx) + vcmx<br>others\vy = -(others\vy - vcmy) + vcmy <br><br></td></tr></table><br>
<a name="370607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoa, you guys rock, I know nothing about physics.. pretty sad actually since 99% of games you create need physics.<br><br>Although I am thoroughly impressed with the brain power on this forum.<br><br>Kudos!<br><br>Ken <br><br></td></tr></table><br>
<a name="373308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using kinetic energy doesn't work - you have the *magnitude* of their velocities, but not their velocities themselves! <br><br></td></tr></table><br>
<a name="373403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ralphy,<br><br>debris\vx = -(debris\vx - vcmy) + vcmy <br><br>is just the same as <br><br>debris\vx = -debris\vx<br><br>Obviously, I haven't seen all your code here but all you seem to be acheiving is making the debris and the object bounce off each other with the reverse of their current velocity. The Mass of the debris or other should make no difference?<br><br>If it seems to work for you ..... <br><br></td></tr></table><br>
<a name="373584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Michael Reitzenstein</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Stevie, actually it's the same as <br><br>2 * vcmy - debris\vx <br><br></td></tr></table><br>
<a name="374453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ralphy, your method doesn't seem to be totally correct, here is an example where it is quite obvious that something is wrong:<textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">SeedRnd(1)
Graphics 1024,768
Const method=2
Const gravon=0
SetBuffer BackBuffer()
Const ballno=1;99
;Const gravg#=0.0001
Dim x#(ballno)
Dim y#(ballno)
Dim dx#(ballno)
Dim dy#(ballno)
Dim mass#(ballno)
Dim radius#(ballno)
For a=0 To ballno
	x(a)=Rand(512-50-50+25,512+50+50-25)
	y(a)=Rand(384-50-50+25,384+50+50-25)+250
	dx(a)=Rnd(-1,1)
	dy(a)=0;Rnd(-1,1)
	mass(a)=1
	radius(a)=20;mass(a)^(1/2.0)*1
Next
mass(0)=1
x(0)=200
dx(0)=.5
y(0)=339
x(1)=600
dx(1)=-.5
y(1)=300
mass(1)=1

While Not KeyHit(1)
	For c=0 To 3
	For a=0 To ballno
		x(a)=x(a)+dx(a)
		y(a)=y(a)+dy(a);+.0005
		dy(a)=dy(a);+.001
		If x(a)&lt;10 And dx(a)&lt;0 Then dx(a)=-dx(a)
;		If y(a)&lt;10 And dy(a)&lt;0 Then dy(a)=-dy(a)
		If x(a)&gt;1013 And dx(a)&gt;0 Then dx(a)=-dx(a)
		If y(a)&gt;757-50 And dy(a)&gt;0 Then dy(a)=-dy(a)
	Next
	For a=0 To ballno-1
		For b=a+1 To ballno
			dist#=(x(a)-x(b))^2+(y(a)-y(b))^2
			sqrdist#=Sqr(dist)*1000
			If gravon=1 Then
				dx(a)=dx(a)+(x(b)-x(a))*mass(b)/dist/sqrdist
				dy(a)=dy(a)+(y(b)-y(a))*mass(b)/dist/sqrdist
				dx(b)=dx(b)+(x(a)-x(b))*mass(a)/dist/sqrdist
				dy(b)=dy(b)+(y(a)-y(b))*mass(a)/dist/sqrdist
			End If
			distmin=(radius(a)+radius(b))^2
			If dist&lt;distmin Then
				If (x(a)+dx(a)-x(b)-dx(b))^2+(y(a)+dy(a)-y(b)-dy(b))^2&lt;dist Then
					If method=1 Then
					atobx#=x(b)-x(a)
					atoby#=y(b)-y(a)
					lenatob2#=atobx^2+atoby^2
					damdbx#=dx(a)-dx(b)
					damdby#=dy(a)-dy(b)
					factora#=-(damdbx*atobx+damdby*atoby)/lenatob2
					factorb#=(damdbx*atobx+damdby*atoby)/lenatob2
					aonatobx#=atobx*factora
					aonatoby#=atoby*factora
					bonatobx#=atobx*factorb
					bonatoby#=atoby*factorb
					dx(a)=dx(a)+aonatobx*mass(b)/(mass(a)+mass(b))*2
					dy(a)=dy(a)+aonatoby*mass(b)/(mass(a)+mass(b))*2
					dx(b)=dx(b)+bonatobx*mass(a)/(mass(a)+mass(b))*2
					dy(b)=dy(b)+bonatoby*mass(a)/(mass(a)+mass(b))*2
					Else
						vcmy# = ( (mass(a)*dy(a)) + (mass(b)*dy(b)) ) / (mass(a)+mass(b))
						vcmx# = ( (mass(a)*dx(a)) + (mass(b)*dx(b)) ) / (mass(a)+mass(b))
						dy(a) = -(dy(a)) + vcmy + vcmy
						dx(a) = -(dx(a)) + vcmx + vcmx
						
						dx(b) = -(dx(b)) + vcmx + vcmx
						dy(b) = -(dy(b)) + vcmy + vcmy 
					End If
;				While (x(a)+dx(a)-x(b)-dx(b))^2+(y(a)+dy(a)-y(b)-dy(b))^2&lt;dist
;		x(a)=x(a)+dx(a)/2
;		y(a)=y(a)+dy(a)/2+.0025
;		dy(a)=dy(a)+.005
;		x(b)=x(b)+dx(b)/2
;		y(b)=y(b)+dy(b)/2+.0025
;		dy(b)=dy(b)+.005
;				Wend
				End If
			End If
			If gravon=1 Then
			dx(a)=dx(a)+(x(b)-x(a))*mass(b)/dist/sqrdist
			dy(a)=dy(a)+(y(b)-y(a))*mass(b)/dist/sqrdist
			dx(b)=dx(b)+(x(a)-x(b))*mass(a)/dist/sqrdist
			dy(b)=dy(b)+(y(a)-y(b))*mass(a)/dist/sqrdist
			End If
		Next
	Next
	Next
	Cls
	For a=0 To ballno
		Oval x(a)-radius(a),y(a)-radius(a),radius(a)*2,radius(a)*2
	Next
	Flip
Wend</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
