<!DOCTYPE html><html lang="en" ><head ><title >3D Title Menu Problems.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >3D Title Menu Problems.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >3D Title Menu Problems.</a><br><br>
<a name="1115417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br>  I was wondering if it would be possible to write a title menu with a 3d background scene. Could someone please tell me how to do this?<br><br>Thanks and happy Thanksgiving!,<br>Cpt. Wicker <br><br></td></tr></table><br>
<a name="1115419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out Draw3D:<br><br><a href="/posts.php?topic=92270" target="_blank">Draw3D 2</a><br><a href="/posts.php?topic=78304" target="_blank">Draw3D, original</a><br><br>The original has a title menu with 3D background as one of the packaged examples, which is why I'm linking that too (I haven't used Draw3D 2 myself so I don't know what it packages, but I assume the library itself is better so you should probably use that one). <br><br></td></tr></table><br>
<a name="1115420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Yasha i will soon look into that. :) <br><br></td></tr></table><br>
<a name="1115639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> How can I make a transition from the title menu to the actual game? <br><br></td></tr></table><br>
<a name="1115647"></a>

<a name="1115649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank Yasha =).<br><br>Edit: I greatly appreciate that you are always to help, I very much appreciate your help on all your posts on these forums are really worth to me friend.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Cpt. Wicker,<br><br><div class="quote"> How can I make a transition from the title menu to the actual game? <br></div><br>Tell me what kind of transition you're looking for. If you can visualize how the menu should swap to the game that's half way walked. <br><br></td></tr></table><br>
<a name="1115751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any help with this paper on Draw3D 2??? <br><br></td></tr></table><br>
<a name="1115758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What help, with what paper? <br><br></td></tr></table><br>
<a name="1115761"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want help with Draw3D/Draw3D 2, you may want to check out the <a href="http://www.blitzforum.de/forum/index.php" target="_blank">German Blitz forums</a>. Hectic (the original author) is a German-speaker, so it has more of a presence over there - in fact, it even has its own documentation in the Help section ( <a href="http://www.blitzforum.de/help/?cat=8" target="_blank">http://www.blitzforum.de/help/?cat=8</a> ). <br><br></td></tr></table><br>
<a name="1115766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank Yasha!! =) <br><br></td></tr></table><br>
<a name="1115911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Captain Wicker:<br><br><div class="quote"> <br>How can I make a transition from the title menu to the actual game? <br> <br></div><br><br>As mentioned by Kryzon, you need to eplain your aim in a little more detail, as well as perhaps describing or providing some example code of what you already have. Otherwise, it's pretty much impossible to know how to offer any advice. <br><br></td></tr></table><br>
<a name="1115923"></a>

<a name="1115925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright here is what I have. Im trying to figure out how to jump to the main game after I click on play.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">;**********************
;*** BUCKY THE BOX  ***
;** Main Source File **
;**********************

AppTitle "Bucky the Box"
Graphics3D 800,600,32
SetBuffer BackBuffer()


;setting up
Global title_music
Local Timer=CreateTimer(60)
Local Camera=CreateCamera()
CameraClsColor Camera,0,117,187

Include "Includes\Draw3D.bb" ;load draw commands file
DrawInit3D(Camera)
Origin3D(800,600)




;mouse and title
cur=LoadImage("cursor.png")
title=LoadImage3D("title.png")

;load my own logo
my_logo=LoadImage3D("cw_logo.png")


music_title=PlayMusic("Media\Music\title_music.MID") ;title music


Local Channel
Local Piep=LoadSound("Data\Piep.ogg")
Local Native=LoadImage3D("Natives\Gauss.png",2,2,0)
Local Font=LoadFont3D("Fonts\Standard.png",2,2,0)
Local Main=LoadImage3D("Data\Glow.png",2,2,0)
Local Glow=GrabImage3D(Main,0,0,32,32)
Local Trash=GrabImage3D(Main,32,32,32,32)


SetFont3D(1,1,-6,0) ;set font for 3d




;loop time!
Repeat
    
    
    
    
	;main menu items
	Text3D(Font,0, -70,"PLAY",1,Glow)
	If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"start the game",0,0,-90)
	
	Text3D(Font,0,-120,"OPTIONS",1,Glow)
	If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"set gameoptions",0,0,-90)
	
	Text3D(Font,0,-170,"CREDITS",1,Glow)
	If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"see game credits",0,0,-90)
	
	Text3D(Font,0,-220,"QUIT",1,Glow)
	If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"exit to windows",0,0,-90)
	If MouseHit3D Then End
	
	       ;ColorN3D(0,0,255,1):Rect3D(Native,0,-0,80,300,1,0)
	ColorN3D(255,0,0,1):Rect3D(Native,0,0,400,300,0,16)
	
	
	WaitTimer(Timer)
	UpdateWorld
	RenderWorld
	Clear3D() ;all For my title menu
    
    
    
    
    HidePointer ;hide the windows mouse
    
    DrawImage cur,MouseX(),MouseY() ;glue ice cream to our mouse
    DrawImage3D title,100,-50 ;title logo
    DrawImage3D my_logo,310,-210,0,0,0.5
    
    
    
    Flip ;sync
    
    Cls
Forever ;loop game
</textarea><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115937"></a>

<a name="1115938"></a>

<a name="1115939"></a>

<a name="1115940"></a>

<a name="1115941"></a>

<a name="1115942"></a>

<a name="1115945"></a>

<a name="1115946"></a>

<a name="1115947"></a>

<a name="1115948"></a>

<a name="1115954"></a>

<a name="1115955"></a>

<a name="1115956"></a>

<a name="1115963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't need to call HidePointer every loop-cycle; it's a toggle feature, so call it once at the beginning and it should stay hidden until the app ends or you call ShowPointer.<br><br>In my opinion you're having trouble leaving that loop because you are leaving it out on the open. <br>If you encapsulate it inside a function you can show this menu state whenever you call the function that shows it, making it easier to establish the flow of your program. You can have several functions, each performing a different part of your game (a different state).<br><br>These kind of functions should be setup like this:<br><pre class=code>
Function SCENE_Menu%()

	-&gt; Block of code to setup the scene this function executes. 
	This means declaring local variables, positioning the camera etc.

	-&gt; Block of code with a loop to run the scene. In your case, 
	a 'menu screen with options'. Whenever the user selects an
	option, you can have a special animation\transition like a 
	fade-out, for instance, and as soon as the transition ends 
	(that's when the next scene should start), you 'store the chosen 
	option in a local variable' and exit the loop with the Exit command.

	-&gt; Block of code to free\clean anything this scene might have 
	loaded and that won't be used again, like a graphic\sound\font
	that is only used here.

	-&gt; Return the 'chosen option stored in that local variable' as an 
	integer. This represents the "ID" of the new state to be run.

End Function
</pre><br><br>So you can "script" your game like this:<br><pre class=code>
Global CurrentState ;The only global you should use in your entire program...

While Not CurrentState = STATE_Quit
	Select CurrentState
		Case STATE_Play
			CurrentState = SCENE_Play()
		Case STATE_Menu
			CurrentState = SCENE_Menu()
		Case STATE_Options
			CurrentState = SCENE_Options()
		Case STATE_Quit ;Redundancy check just for clearance.
			End
	End Select
Wend

End
</pre>It's very important that you <i>do not enter another state from an already running state</i>. If you do this, you would end up hanging a lot of unfinished state functions. I don't know if the program would eventually fail because of this, but in my eyes it's bad practice.<br>I prefer using an external loop like the above. This means that every SCENE_ function should return at its end an integer value corresponding to the next scene\state that should be run, so it's properly called once it ends and the program gets back to that root loop.<br><br>Be aware of the transitions between different states that may use the same assets, like the menu state and options state. Say they use the same background. <br>For this reason, you need to <i>conditionally</i> release assets before leaving the menu function: at that part at the end of the menu function, when you are releasing the assets that this game state used, check <i>the user's choice</i>. <br>If he's going to the options state, don't release any assets that it will use. If he's going to the 'play' state then you can release everything - next time the user goes back to the menu, the first part of the menu function will take care of loading whatever assets this state uses.<br><br>PS: I'm listening to <a href="http://www.youtube.com/watch?v=Cucs4HA8WYc" target="_blank">MediEvil 2</a> right now.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Kryzon that was really into depth on what I needed to know. :)<br>I really appreciate your help on the subject. :) <br><br></td></tr></table><br>
<a name="1115959"></a>

<a name="1115960"></a>

<a name="1115961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kudos Kryzon, that's a really nice breakdown.<br><br><div class="quote"> you would end up hanging a lot of unfinished state functions. I don't know if the program would eventually fail because of this <br></div><br><br>Functions need an "activation record" that includes things like the instruction pointer for whatever was happening beforehand, all the local variables for that function (otherwise, a recursive invocation of a function could mutate the first invocation's variables - that wouldn't make much sense!), etc. These are placed in a linear block of memory to form a "call stack". Each time you call a function, a new activation record is allocated along this stack; when the function returns, control returns to the previous function and the "current" position moves back "down" the stack again.<br><br>Since the stack requires memory to work, it is bounded by the limitations of your OS. Notably, on Windows, it has a fixed size determined at program start (usually one megabyte). This translates into potentially thousands of nested function calls, so you should be fine as long as you don't write anything that results in an infinite, or potentially infinite, chain of calls.<br><br>When the current activation record reaches or exceeds the size allocated by Windows, this <i>will</i> result in an error. In older systems this was potentially a security risk (as was any situation where you could end up writing data to memory outside of where it was supposed to go). When a B3D program overflows the stack, it will <i>immediately exit</i> without warning and without an error message, even in Debug mode (note that since the stack has been used up, it doesn't actually have any resources left to use to <i>call</i> the error message box!).<br><br>Note however that whether deep recursion is good practice varies tremendously from language to language. In Blitz3D, it's obviously not sensible, and anything you could do with recursion can be restructured as a loop (although recursion is still a much clearer way to structure algorithms that walk tree-shaped data structures, like 3D model hierarchies). However, some languages may offer "tail call elimination", where the final call from a function (e.g. "Return TailCall()") "replaces" the current activation record, resulting in infinite in-place recursion (functionally similar to a loop, but with parameters and locals); others may allocate activation records on the heap, allowing for vary large stacks, or even tree-shaped call structures with multiple resumable branches. So, tools and practices go together.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115964"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great post, thanks. <br><br></td></tr></table><br>
<a name="1115965"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I think I have figured this part out.<br><pre class=code>
Function Print_Hello%()
    
    
    Print "hello World"
    WaitKey()
    Repeat 
    Forever
    
End Function


Print_Hello()</pre><br><br>Is this how I am supposed to write a function?<br>Thanks,<br>Cpt. Wicker <br><br></td></tr></table><br>
<a name="1115975"></a>

<a name="1115976"></a>

<a name="1115977"></a>

<a name="1115978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes (assuming that infinite loop after the message is what you want...). There are however three (and a half) other features of functions that it's worth knowing about:<br><br>1) Functions may have parameters. These are variables that have to be supplied along with the function call; you will be familiar with this concept from the builtin commands:<br><br><pre class=code>Function Print_Hello%(msg$)    ;Now takes one argument
    
    
    Print msg
    WaitKey()
    Repeat 
    Forever
    
End Function


Print_Hello("Sup world")</pre><br><br>...in this modified version of your example, Print_Hello will now print the message that is passed to it, whatever that is. Note that you can compose calls to form more complex expressions (e.g. "Print_Hello(Get_Some_Message() + "!")"). You can also give parameters default values, which makes them optional (come back to this later when you're happy with the concept).<br><br>2) Functions may return a value, so that they can be used as value elements in expressions:<br><br><pre class=code>Function Add_Then_Double#(x#, y#)
    Return (x + y) * 2
End Function

;... can be used as part of an expression
Print Add_Then_Double(2, Ceil(Log(31) / Log(2))) + 5</pre><br><br>The type marker after the function name refers to the return type of the function, so that B3D knows what type the returned value will be when it's used as part of an expression. You can leave it off for ints or functions that don't return values (actually there is no distinction between these in B3D).<br><br>3) Functions may have "Local" variables. Parameters are a special kind of local variable - i.e. variable slots that are created when the function is called and disappear again when the function exits:<br><br><pre class=code>Local a = 1, b = 2, c = 3
Global g = 2, h = 4

Function Foo(a, b)    ;This a and b are completely unrelated to the outer ones
    Local c = a + b * g    ;The global variable g is visible from inside the function, and if we change it, it will change the global outside
    Print "My local c is " + c
    Local h = c * g    ;Local variables can however "shadow" globals - this h makes the global h outside invisible
    Return h
End Function

Print Foo(c, b + a)    ;Prints "My local c is 9", then 18
Print c        ;Prints 3</pre><br><br>If the function recursively calls itself (or indirectly calls other functions that call it), those invocations of the function will also have their own instances of the local variables that do not affect the "outer" function call.<br><br>3.5) You don;t need parentheses if you want to use a function as a command that spans the <i>whole</i> line; you only need them if you want it to return a value:<br><br><pre class=code>PositionEntity ent, 10, 20, 30    ;Standalone command - no () needed
Local xPos# = EntityX(ent)    ;Function as value expression</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1115981"></a>

<a name="1115982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now I have a problem. My code will not run correctly. I don't know what the problem is. Could you take a look at these for me?<br><br>Main Code \/<br><pre class=code>;*******************
;** Bucky the Box **
;** Practice File **
;*******************

AppTitle "Bucky the Box"
Graphics3D 800,600,32
SetBuffer BackBuffer()

HidePointer ;hide the windows mouse

Include "Includes\Draw3D.bb" ;load draw commands file
Include "Functions.bb" ;include game functions
</pre><br><br><br>Functions code \/<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Include "Includes\Draw3D.bb" ;load draw commands file
Include "Functions.bb" ;include game functions







;setting up
   ; CameraClsColor Camera,0,117,187

Local Timer=CreateTimer(60)
Local Camera=CreateCamera()

DrawInit3D(Camera)
Origin3D(800,600)




;mouse and title
cur=LoadImage("cursor.png")
title=LoadImage3D("title.png")

;load my own logo
my_logo=LoadImage3D("cw_logo.png")


music_title=PlayMusic("Media\Music\title_music.MID") ;title music


Local Channel
Local Piep=LoadSound("Data\Piep.ogg")
Local Native=LoadImage3D("Natives\Gauss.png",2,2,0)
Local Font=LoadFont3D("Fonts\Standard.png",2,2,0)
Local Main=LoadImage3D("Data\Glow.png",2,2,0)
Local Glow=GrabImage3D(Main,0,0,32,32)
Local Trash=GrabImage3D(Main,32,32,32,32)


SetFont3D(1,1,-6,0) ;set font for 3d



Function SCENE_Menu%()
    
    
    
    
    
    
    
    
;loop time!
    Repeat
        
        
        
        
	 ;main menu items
        Text3D(Font,0, -70,"PLAY",1,Glow)
        If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"start the game",0,0,-90)
        
        Text3D(Font,0,-120,"OPTIONS",1,Glow)
        If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"set gameoptions",0,0,-90)
        
        Text3D(Font,0,-170,"CREDITS",1,Glow)
        If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"see game credits",0,0,-90)
        
        Text3D(Font,0,-220,"QUIT",1,Glow)
        If MousePit3D Then Channel=PlaySound(Piep)
	       ;If MouseOver3D Then Text3D(Font,0,-20,"exit to windows",0,0,-90)
        If MouseHit3D Then End
        
	       ;ColorN3D(0,0,255,1):Rect3D(Native,0,-0,80,300,1,0)
        ColorN3D(255,0,0,1):Rect3D(Native,0,0,400,300,0,16)
        
        
        WaitTimer(Timer)
        UpdateWorld
        RenderWorld
        Clear3D() ;all For my title menu
        
        
        
        
        DrawImage cur,MouseX(),MouseY() ;glue ice cream to our mouse
        DrawImage3D title,100,-50 ;title logo
        DrawImage3D my_logo,310,-210,0,0,0.5
        
        
        
        Flip ;sync
        
        Cls
    Forever ;loop game
    


	;-&gt; Block of code To free\clean anything this scene might have 
	;loaded And that won't be used again, like a graphic\sound\font
	;that is only used here.



	;-&gt; Return the 'chosen option stored in that Local variable' as an 
	;   integer. This represents the "ID" of the New state To be run.

End Function




Function STATE_Play()
    
    
    
End Function




Function STATE_Quit()
    
    
    
End Function



Function STATE_Menu()
    
    
    
End Function




Function STATE_Options()
    
    
    
End Function


Function SCENE_Play()
    
    
    
End Function




Function SCENE_Options()
    
    
    
End Function
</textarea><br><br><br>And of course the Draw3D commands.<br><br>Could you please study this and help me fix my problem?<br>Thanks a bunch,<br>Cpt. Wicker<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you run in Debug mode the IDE tells you what's wrong. I'm sure it must be telling something about that 'Timer' variable.<br>It's local to your main scope, so the SCENE_Menu function can't "see" that variable, but it's still trying to use it with that 'WaitTimer(Timer)' call.<br><br>Create a local timer and release it when you're done with it (with FreeTimer()), all this inside the function.<br><br>Also those "STATE_Play" and "STATE_Quit" identifiers should be integer Constants, not functions. They are simply values.<br><pre class=code>
Const STATE_Play = 1
Const STATE_Menu = 2
Const STATE_Quit = 3</pre>You keep the value in a constant so you have something to name this value with. You know it represents the ID number for a certain game state. <br><br></td></tr></table><br>
<a name="1116052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  (Posted 15 hours ago) #19 <br> <br>Now I have a problem. My code will not run correctly. I don't know what the problem is. Could you take a look at these for me?<br><br> <br> <br></div><br>Again, "will not run correctly" isn't extremely helpful, can you clarify just WHAT isn't working right, what OUGHT to happen or where (if) you pereive the problem to originate?<br><br>_____________<br><br>For a start, you only need the include lines in ONCE (presumably in the main program NOT repeated in the functions code) otherwise, you will receive compilation errors regarding Duplicate Variable assignments or Function names.<br><br>Second: I don't see any call to SCENE_Menu function (which ideally might have the % removed, since it is a void funciton, but that's not entirely necessary right now)<br><br>Third: As Kryzon mentions, the STATE_Play, STATE_Menu and STATE_Quit should be constants and this will then give you errors on compilation unless you also DELETE THE EMPTY FUNCTION DEFINITIONS!<br><br>Otherwwise, aside from the localised Timer usage, I didn't see any real problems, so whatever your issue with the code is, you need to be more specific. <br><br></td></tr></table><br>
<a name="1116063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just ran it in debug mode and it specifically says "Handle Not Set".<br>What is Handle? How can I fix the error?<br>Thanks for your time guys. means a lot. :) <br><br></td></tr></table><br>
<a name="1116074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Paste the line that gives the error. <br><br></td></tr></table><br>
<a name="1116081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>If FDrawHandle=0 Then Runtime Error "Handle not set"</pre><br>This is very strange because this error is coming from the Draw3D command set! What should I do? I have been using the Draw3D commands throughout my program. <br><br></td></tr></table><br>
<a name="1116083"></a>

<a name="1116084"></a>

<a name="1116085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> FDrawHandle is the standard name Draw3D gives to images and drawing materials. So this means you passed 0 to the drawing function instead of a valid, loaded material/font/image.<br><br>1) What function is the line in?<br><br>2) Where are <i>you</i> calling that function?<br><br>3) What are the values you are passing to that function? Are they all valid? (If you're not using IDEal, it's possible a typo is causing this, by the way. Check your variable names are all spelled correctly.)<br><br>4) If a real variable, that you assigned a loaded material to, is causing this error, where is it being reset to zero?<br><br><br><br><br>(Answer:<br><br>The error, assuming you're using the same code pasted above, is the same one Kryzon pointed out with the timer - you're loading your font and images into variables local to the outer scope, but trying to use them from within the SCENE_Menu function, where they aren't visible. The names in the function refer to variables local to it - Blitz3D will, annoyingly, create a new local variable if you reference a new name, even without the "Local" declaration. A decent IDE like IDEal will highlight this error in red.)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116088"></a>

<a name="1116089"></a>

<a name="1116090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using IDEal from FGF. :)<br>Can this be fixed? How can I use FreeTimer to solve this problem?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116091"></a>

<a name="1116092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> How can I use FreeTimer to solve this problem? <br></div><br><br>...eh? No, I just meant it was a scoping issue, similar to whatever he meant about timers. You don't need FreeTimer to do anything with Draw3D.<br><br><div class="quote"> I'm using IDEal <br></div><br><br>At the right end of the top row of buttons there should be one labelled either "Strict On" or "Strict Off". Make sure it's set to "Strict On". This will highlight any undeclared names in red (it will also highlight all Draw3D commands, because they were declared in a separate file. To make it recognise declarations from other files, you have to add them all to the same project... I'm sure you can work out how to do that - start with the second button on the left, "New Project"). It will show you the undeclared variables in SCENE_Menu.<br><br><br>Now... do you understand the essentials of Blitz3D's "scope" rules? Refer to item 3 of my post about functions above for an example - make sure you understand it.<br><br>To recap, "local" variables are visible only in their own scope - either a function, or the outer program (henceforth "main scope"), and if you nest multiple calls to the same function, each invocation gets a new set of those locals so they don't interfere. "Global" variables are visible throughout the program at all times (assuming you don't shadow them). "Parameters" are a special kind of local that are set with external values when the function is called. Undeclared names - which should now be highlighted as errors in IDEal - default to local variables.<br><br>So, this means you have two main ways of getting the values from where you load the resources, in the main scope, to where you use them in the function scope. You can pass them into the function as parameters, which is essentially specifying to the function each time it's called which resources it can use; or you can assign them to global variables, and any function will be able to read from them at all times.<br><br>Assuming these resources are more or less constant "background" data that your program is going to use for all standard drawing calls (i.e. it assumes there is one "main" font that it always uses), putting them in globals, and then ignoring them, is probably easiest.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116093"></a>

<a name="1116094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you tell me how to get the program running? What do I need to do exactly?<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116095"></a>

<a name="1116096"></a>

<a name="1116097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What do I need to do exactly? <br></div><br>Look, this happened a lot to me. <br>The answer is to pick a challenge you can work it out yourself - make a pong game without a menu screen. What you're trying now requires a bit more of experience, so leave it as <b>the next challenge</b> after you have this pong game going on.<br><br>In any case, here's the answer:<br><pre class=code>Function SCENE_Menu()
	;"-&gt; Block of code to setup the scene [...]"	
	Local menuTimer = CreateTimer(60)
	Local menuMusic = PlayMusic( ... )
	Local menuTitle = LoadImage3D( ... )
	Local menuLogo = LoadImage3D( ... )	
	Local newState = 0

	;"-&gt; Block of code with a loop to run the scene [...]"
	;[...]

	;"-&gt; Block of code to free\clean [...]"
	FreeTimer menuTimer
	StopChannel menuMusic
	FreeImage3D menuTitle
	FreeImage3D menuLogo

	"-&gt; Return the ID of the new scene that the game will show."
	Return newState
End Function</pre><br>You also asked about how to use FreeTimer(). Nobody can give you a better answer than the documentation of the language you're using. It usually includes the description AND examples of the command in question. <br>Here is <a href="/b3ddocs/command.php?name=FreeTimer&amp;ref=2d_cat" target="_blank">FreeTimer's documentation</a>.<br><br>You can access the documentation lists online like with the previous link, or you can also find it in the IDE: you can surf to it or click on a command's highlighted name and press F1 twice.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with Kryzon. <br><br>It seems pretty clear you're trying to run before you can walk. You need to get a better grasp of p[rogramming in Blitz overall.<br>Check out some tutorials, read the Docs and check their example programs too. Understand the syntaxz and specifics of the jargon.<br><br>I sinerely suggest that you leave your current game for the moment and work on making soimething much simpler and less ambitious. Where you already have tried implementing Draw3D has already overcomplicated your program a great deal and it's clear that you aren't really 'ready' to add in such complications and so for now, they only make a difficult job much harder.<br><br>One you are more confident and understand the language better, then you will know how to use Draw3D and implementing it will make things easier not more difficult.<br><br>This probably isn't what you want to hear, but otherwise, I honestly feel you will just be running into more and more bugs and problems and getting even more confused - once you find every change you try leads to a new post here, you're getting in over your head and it ecomes harder for people to help since the more complicated your program becomes (through poor implementation/understanding) the deeper and more technical advice is needed to try to sort it back out again. <br><br></td></tr></table><br>
<a name="1116156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you mean I should write a 2D game instead of 3D for now? No problem there. I think I'll go and read on some of those tuts that I was looking into before. <a href="http://blitzbasic.com/Community/posts.php?topic=96427" target="_blank">http://blitzbasic.com/Community/posts.php?topic=96427</a><br>:) <br><br></td></tr></table><br>
<a name="1116164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can still work on 3D stuff, since the biggest issues are with the general syntax and struccture of the Blittz language overal, not necessarily related to the differences in graphics architecture.<br><br>Just limit your scope, try not to do anything too ambitious, like Kryzon suggested, something like Pong or a space-invaders game (yes, they are 2D games, but can be made with 3D graphics all the same) to get an idea of the way to structure your program 'flow' and such :) <br><br></td></tr></table><br>
<a name="1116166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Captain Wicker (crazy hillbilly)</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> How hard is it to make a 2d platformer? Is this a good place to start? (2D Platform game with 3D Scenes) <br><br></td></tr></table><br>
<a name="1116168"></a>

<a name="1116169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is this a good place to start? (2D Platform game with 3D Scenes) <br></div><br><br>In a word, no.<br><br>2D vs. 3D has <i>zero</i> relevance to complexity of the game or difficulty of coding it (largely because Blitz3D is already doing 100% of the difficult stuff behind the scenes in a 3D project).<br><br>The reason people are recommending that you consider 2D classics is because the <i>games themselves</i> are very simple - Breakout, Pong, Space Invaders, Tetris etc. are things that you can conceptually outline on a single sheet of paper and implement in a single code file. The point of these games is that they can be implemented without any media, you don't need to mess about with menus and GUIs and consoles and scripting systems and all that crap, but instead you have a <i>single</i>, coherent goal that you can work towards while learning the language and programming in general.<br><br>Any project that you're envisaging as a commercial-quality, Steam-ready, beautiful, long game with rich storytelling, is too difficult to recommend at this stage.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116180"></a>

<a name="1116181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, you definitely need the basics down solid before you try the more advanced stuff in programming.<br><br>When I started learning, it took me a full year to understand what people were talking about with scopes. I'm still learning new things every day, and speaking of which, I have a question about local function variables below if anyone knows the answer. But, back knowing scopes, here's a good way to think of it.<br><br>1. You have two ways to declare a variable in a program: Global and Local.<br>   a. Global means that the variable is always there, throughout the whole program, and any function can change it (as long as it isn't shadowed, but just ignore this for now.)<br>   b. Local means that the variable will only exist inside of the function that it is called in. If you create a local variable inside of a function, that variable cannot be changed, seen, ect., outside of that function. If you create a variable in the main loop or outside of any loop and function, then the variable is only available inside loops not contained in functions. You might be wondering why there would be any purpose in having Local variables, since Globals seem like they are easier to keep track of. But consider this: if you were on a team of 200 programmers, and they each needed to have their own variables to help design a very large game, then the variable list would become insanely large, to the point where nobody could keep track of the variables and nobody would know if someone else was changing/modifying their variables in another part of the game. Too confusing. So, this is where the beauty of Local variables comes into play. Using Locals, now all of the programmers could use variables just for themselves, you don't have a giant Global variable list, and on top of that, you don't have the confusion of sharing Global variables from one function to the next. This is why Global variables are often times looked down upon, especially in excess. As a rule of thumb, only use Global variables when you have information that is accessed throughout the game, e.g. Global lifeleft = 10, Global characterstateofbeing$ = "idle", Global magicleft# = 100.0, ect. Know the difference between Global and Local, and then choose the variable type accordingly.<br><br>2. Next, let's talk about scopes. Think of a scope as a block of code in your game.<br>   a. You have the "Outer Scope", which is usually the top-most lines of your game. The Outer Scope is not inside any loops or functions. Global variables can only be made in the Outer Scope, because Blitz needs to know before hand how much memory to reserved program-wide for any Global variables.<br>   b. Next, you have the "Main Scope". This is the main loop of your game. From here, you will usually call gameplay functions to help divide the flow of your game based on what's happening.<br>   c. After the main scope, you will have a bunch of "Function Scopes", sometimes called "Inner Scopes". Think of Function Scopes as miniature Blitz programs. Each Function Scope has it's own set of variables for that program (Local Variables), which cannot be accessed anywhere but from withing that "program" (the function, in this case). On top of that, you can also access Global variables, which you can use to change the game (such as taking life away, changing the current state of being, ect.).<br>   d. If you look at the bottom of IDEal, you will be able to see the name of the current scope you are in. This is usually a Function Name if you are current typing in a function, but can also be a main loop or the outer scope. IDEal will also show you which mini-scope you are in, and this takes into account any If's, For's, While's, Wend's, basically anything that needs indenting. I don't know if I consider these scopes or not, but this is useful in larger blocks to know exactly where you are at.<br><br>Take a look at this example below:<br><pre class=code>
;THIS IS ALL WITHIN THE OUTER SCOPE. ALL GLOBALS HAVE TO GO HERE
Graphics3D 800,600
SetBuffer BackBuffer()

Type enemy ;Types are useful for managing a bunch of data at once.
                    ;Types are Global in nature.
   Field body
End Type

Global camera = CreateCamera() ;Your camera is going to be
                                                     ;everywhere in your game!

Global hero = CreateSphere() ;This is your character's body, and needs
                                                ;to be accessible anywhere

Global lifeleft = 100 ;Your character has so much life, and it is going to be
                                ;everywhere

Local enemycount ;This variable is only used once, to make a certain
                              ;number of enemies. No need to have this available
                              ;throughout the whole program.
For enemycount = 1 To 100 ;Do this part 100 times, so we will have 100
                                             ;enemies total
   MakeNewEnemey() ;This will leave the Outer Scope and move into the
                                  ;"MakeNewEnemey() Scope", found below in the
                                  ;Function
Next

Function MakeNewEnemy() ;NOW WE HAVE MOVED INTO THE INNER
                                            ;SCOPE OF "MakeNewEnemy()"
   Local tempbody = CreateCube() ;"tempbody" is only going to exist
                                                       ;inside of this scope. Everywhere else,
                                                       ;it is non-existent.
   Local e.enemy ;Make a new Enemy Type, and the variable only needs
                           ;to exist in this scope. We can access all enemies later
                           ;in the "UpdateEnemies" function below the main loop.
   e\body = tempbody ;the enemy's body is now the temporary cube we
                                   ;created.
End Function ;WE ARE NOW LEAVING THE INNER SCOPE AND RETURNING
                      ;TO THE PREVIOUS SCOPE BEFORE WE CAME HERE.

;NOW LET'S MOVE INTO THE MAIN SCOPE
While Not KeyDown(1)

   UpdateEnemies() ;THIS WILL GO TO THE INNER SCOPE OF
                               ;"UpdateEnemies()" FOUND BELOW
   ;MoveEntity tempbody,0,1,0 ;Note that "tempbody" was local to the
                                                ;"MakeNewEnemy()" Scope, and will cause
                                                ;an error if you try to use it in the Main
                                                ;Scope. That's why it is commented out.
   UpdateWorld
   RenderWorld
   Flip

Wend

;NOTE THAT THIS SPACE IS OUTSIDE OF THE MAIN LOOP AND NOT INSIDE
;OF A FUNCTION, SO IT'S BACK IN THE OUTER SCOPE.

Function UpdateEnemies() ;THIS IS NOW IN THE "UpdateEnemies()"
                                           ;SCOPE
   Local e.enemy ;We are only going to use this variable in this function.
                           ;Even though we already used a variable with the same
                           ;name in the "MakeNewEnemy()" Scope, they are both
                           ;Local to the function they were created in, so they are
                           ;still completely different from each other.
   For e.enemy = Each enemy ;For every single enemy we've created
      If EntityDistance(hero,e\body) &lt; 10 ;Here's where we can access Global variables.
                                                               ;Remember that "hero" is Global,
                                                               ;and can be seen anywhere in
                                                               ;our game.
         lifeleft = lifeleft - 10 ;Change the Global variable of lifeleft, and take
                                         ;away 10 units of life
      EndIf
   Next
End Function ;NOW WE WILL RETURN TO THE PREVIOUS SCOPE BEFORE
                     ;THIS FUNCTION


;NOTE THAT THIS SPACE IS OUTSIDE OF THE MAIN LOOP AND NOT INSIDE
;OF A FUNCTION, SO IT'S BACK IN THE OUTER SCOPE.
End
</pre><br>This turned into a much lengthier post than I intended, but I hope this helps you understand program flow a little more. Just remember some key points:<br><br>1. Global means a variable that is available anywhere, and Local means it is contained within the scope it was created in.<br>2. You have three basic types of scopes: The Outer (not inside any functions or loops, Globals have to go here), The Main (inside loops, but not in functions), and the Inner (inside any function, and this includes loops within that function).<br><br>Now, back to my question about local variables in Functions, I saw somewhere a line talking about local variables being wiped clean at the start of the function, but now I can't find it. I thought it was Yasha who posted it, but I'm not sure. Anyway, my question is:<br><pre class=code>
Function BLAH()

   Local x
   x = x + 1
   If x &gt;= 100
      Print "This is what I want to happen after multiple passes"
   EndIf
   Return

End Function
</pre><br>No matter how many times this function is called, x will never go above 1 because x is reset to 0 when the function ends and is called again. Not that it's a huge problem, but is there some sort of way to let Blitz know to save certain variables WITHOUT making them Global? If not, it's all good. I find ways around the problem, but it would save a lot of time if there was an easy way to do this.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116190"></a>

<a name="1116191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is there some sort of way to let Blitz know to save certain variables WITHOUT making them Global? <br></div><br><br>Not without using heap-allocated objects (type instances, banks, etc.).<br><br>Assuming you mean "statics" (to use C terminology): BlitzMax lets you declare "globals inside functions", but all they are are regular globals that happen not to be visible to the rest of the program. Personally, if I want the equivalent in Blitz3D, I just use a naming convention that reflects the fact that they're supposed to be ignored (e.g. "Module_VarName_private_").<br><br>If you mean you want to be able to create multiple versions of a function each with its own stored variables... the term you're looking for is a "closure", and those are <i>waaay</i> off the Blitz3D or even BlitzMax radar.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1116197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, types is one way of getting around the problem, and that's what I've used in the past. I actually have a specific type set up just for storing values like these. I was thinking there might be an easy way to do this natively, but that was just wishful thinking. I've noticed that you can do this with a single variable, such as:<br><pre class=code>
Local x = BLAH(x)

Function BLAH(variable)

   variable = variable + 1
   If variable &gt;= 100
      ;Do something
   EndIf
   Return variable

End Function
</pre><br>This works, but the problem is that you're limited to storing only 1 variable per function, plus you've used up the return value to use for something else. I like the naming convention idea, though. That might be easier to use than what I do right now. <br><br></td></tr></table><br>
<a name="1116206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm looking at my post above (#35), and I need to correct some information.<br><br>The Outer Scope and the Main Scope do have access to the same local variables.<br><pre class=code>
Local camera = CreateCamera() ;the camera variable is local

While Not KeyDown(1)

   MoveEntity camera,0,0,1 ;even though camera is local to the Outer Scope, it is still visible in this loop

Wend
</pre><br>The only reason why I separate the two scopes is because if you try to declare a variable as Global inside of a loop, such as:<br><pre class=code>
While Not KeyDown(1)

   Global x = 0

Wend
</pre><br>You will get an error. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
