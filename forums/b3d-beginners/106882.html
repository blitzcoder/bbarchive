<!DOCTYPE html><html lang="en" ><head ><title >Texture seams visible from a distance</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texture seams visible from a distance</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Texture seams visible from a distance</a><br><br>
<a name="1318608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey guys probably you have encountered this before but what can I do to fix the texture seams when the model is at a distance from the camera? <br><br></td></tr></table><br>
<a name="1318612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is related to the mip maping.<br>It happens because mip maps create smaller and smaller textures thoose are replicants from the original but with serveral lower resolutions.<br>Once on the rendering, the depth of the texture (or the depth of the pixel the texture is applied on) will be used to choose the best mip map to render (it allows to create a low cost bilinear filter and is actually higher to render)<br><br>What happens with the seem is that lower resolution removes lots of pixels AND if you use at the same time a tilable texture (that does not clamp UV -&gt; flag 16 and 32 on the texture flag) the seems will bleed.<br><br>You can :<br>Method 1 : Disable the mip maping on load texture (will also requires the use of ClearTextureFilters  because by default a loaded texture adds the 1+8 flag to whatever flag you choose -&gt; and "8" is the mipmaping)<br>(But ! because there is always a "but" : If you remove the mipmaping flag, there won't be any filter anymore for the textures and it will looks very sharpy and probably ugly.)<br><br>Method 2 : Try to use textures with paddings on the edges so that lower resolutions will preserve the seems from bleeding.<br>This method is relevant but not always appliable (does this word exist ?)<br>And, anyway, there will always be a distance where the texture will use a resolution so small that the seems will bleed.<br><br>Method 3 : Clamp the texture on U and V (flag 16+32 on Load/Create Texture) it will prevent your texture from wraping the UV coords.<br>-&gt; this method works only for "non tiled" textures. (else it disables the tiling effect -&gt; on terrain for example) <br><br></td></tr></table><br>
<a name="1318639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the very informative methods on b3d here! I think I'd go with #3. So Clamp is not enabled by default? interesting<br><br><div class="quote">  not always appliable (does this word exist ?) <br></div> applicable <br><br></td></tr></table><br>
<a name="1318643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi:<br><br>The Collins dictionary reckons its a bit on the infrequent side, but here is their reference:<br><br><a href="http://www.collinsdictionary.com/dictionary/english/appliable" target="_blank">http://www.collinsdictionary.com/dictionary/english/appliable</a><br><br>Very interesting thread with respect to the 'blurring' of textures the further away you get - Method 3 does sound intriguing ;) <br><br></td></tr></table><br>
<a name="1318644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks ok I see. I'm still having problems with the clamping and now other materials that depends on it has its textures gone :/<br><br>checking with mipmapping. <br><br></td></tr></table><br>
<a name="1318649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Polarix</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had this just a second ago but I somehow fixed it <br><br></td></tr></table><br>
<a name="1318650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I had this just a second ago but I somehow fixed it  <br></div><br><br>How? <br><br></td></tr></table><br>
<a name="1318657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you disable the bilinear filtering of textures, it helps to have small texels visible even if they are far away, but then you may have a problem with "aliasing" <br><br></td></tr></table><br>
<a name="1318659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey RemiD, it seams like if I force textures to VRAM, it automatically disables bilinear filtering but have not tested this yet. <br><br></td></tr></table><br>
<a name="1318777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Polarix</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Before it was fixed it was<br><br><pre class=code>CameraRange cam,0.00001,10000000</pre><br>now it is fixed it is now<br><pre class=code>CameraRange cam,0.01,1000000</pre><br><br>must have something to do with the camera range? <br><br></td></tr></table><br>
<a name="1318785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks but did not work for me, same as before <br><br></td></tr></table><br>
<a name="1318792"></a>

<a name="1318793"></a>

<a name="1318794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the land of the blinds, the one eyed is king... :P <br><br></td></tr></table><br>
<a name="1318798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> The minimum camera  range should be as high as you can get away with while still fitting inside whatever collision volume you have for the camera. My limited understanding is that the detail level of the Z-buffer (depth buffer) is logarithmic and detail nearer the camera has much greater precision. If the near value is too close to the camera then issues can occur due to the amount of work and resources being used in managing all that  depth data. <br><br></td></tr></table><br>
<a name="1318827"></a>

<a name="1318828"></a>

<a name="1318829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/b3ddocs/command.php?name=CameraRange&amp;ref=3d_a-z" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=CameraRange&amp;ref=3d_a-z</a><br><div class="quote"> <br>Try and keep the ratio of far/near as small as possible for optimal z-buffer performance and to avoid flickering triangles/objects.<br> <br></div><br><br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=98868" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=98868</a><br><div class="quote"> <br>The other thing is that it depends on your camera range. Depending on how far away those building are, it may not have enough precision left for 0.01 to be a meaningful distance.<br> <br></div> <br><br></td></tr></table><br>
<a name="1318837"></a>

<a name="1318838"></a>

<a name="1318839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. I have now used 1,10000 to be the default camera distance and it did improve a lot! It still did not solve the texture seams problem but I got a lot of flickering and z-depth fighting gone! wow, lesson learned again!<br><br>When checking the model, I could see the seam is really in an awkward spot and is not done by properly. I might do some uv remapping to correct this problem.<br><br>@RemiD<br><br>I have read your older posts and would like to know how you do the skybox switch so I can significantly reduce my far clip to to below 5000 or something that range. <br><br></td></tr></table><br>
<a name="1318842"></a>

<a name="1318843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Skybox are most of the time virtual (fake)<br>-&gt; you don't scale them that large (something like ScaleEntity 5,5,5 is large enough -&gt; it's really just to prevent it does not intersect with the near or far range)<br><br>Then, you just set the EntityOrder to something big (like 1000) it will force the skybox to be rendered before anything else and remove the Z-Depth test on it (So everything drawn after will "cover" it, so it will look like it's far ... or at least beyond everything else)<br><br>For ex, using a cube as background :<br><pre class=code>
Local cam = CreateCamera()
Local skybox = CreateCube()
FlipMesh skybox ; so we see the inner faces
ScaleEntity skybox, 5,5,5
EntityOrder skybox, 1000 ; large order so it's drawn before everything
EntityFx skybox, 1+8 ; lighting and fog does not affect a skybox

...
Repeat

   ; set the skybox position on each frame, just before Renderworld (or after the last camera transform)
   ; so it doesn't move regarding camera position
   PositionEntity skybox, EntityX(cam,1), EntityY(cam,1), EntityZ(cam,1), 1
   
   RenderWorld()
   Flip True
Until KeyDown(1)
End
</pre><br><br><br>ps : for the seems problem, can you post a screenshot from what you're seeing ?<br>(and eventually a code that produices it) <br><br></td></tr></table><br>
<a name="1318848"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I have read your older posts and would like to know how you do the skybox switch so I can significantly reduce my far clip to to below 5000 or something that range. <br> <br></div><br>@Rustykristi&gt;&gt;i don't remember, please quote what i wrote...<br><br><br>Usually i use a camerarange of 0.1,100 or 0.1,1000 with "impostors" (textured rectangle meshes which represent big far away things) for shapes which are far from the camera. <br><br></td></tr></table><br>
<a name="1318857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @About UV Clamp :<br>it locks the texture to draw only UV on the range [0.0, 1.0] so you don't get the borders bleeding with far mip maps.<br>It can only work if your UVs are in this range, else it will stretch the pixels of the edge accordingly (if you have a vertex with V=2, you'll get the texture drawn until v=1, then everything after will be the pixels of the right edge (most of the time, we can actually see the lines built by the pixels)<br><br>So, if your other textures does not show, maybe your UV map is outside the 0.0,1.0 range.<br><br>As mentioned in previous post, this technic can only work for "non-repeating" textures. <br><br></td></tr></table><br>
<a name="1318860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look at the castle demo in the Blitz3D 3D samples (eg. C:\Program Files (x86)\Blitz3D\samples\mak\castle ). I think it has a good example of implementing a skybox. <br><br></td></tr></table><br>
<a name="1318871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys for the feedback<br><br>@RemiD<br><br>Here it is but just the steps:<br><a href="http://www.blitzbasic.com/Community/post.php?topic=98868&amp;post=1158099" target="_blank">http://www.blitzbasic.com/Community/post.php?topic=98868&amp;post=1158099</a><br><br>@BobySait<br><br>I have a typical model like biped characters, without repeating textures.<br><br>Thanks Zethrax, I got the skybox figured out and scaled good. <br><br></td></tr></table><br>
<a name="1318890"></a>

<a name="1318891"></a>

<a name="1318977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @RustyKristi&gt;&gt;What i wrote should work, try it...<br>Basically between 0.1 and 100 you would have high details meshes (for the things which are near the camera) and low details meshes (for the things which are far from the camera), between 100 and 10 000 you would have a low details terrain and "impostors" (textured flat meshes which represent big far away things, like buildings), and between 10 000 and 100 000 you would have the "fogbox" (the fog you see far away), the "terrainbox" (the mountains you see far away), the "cloudsbox" (the clouds), the sun, the blackskybox (for the night), the blueskybox (for the day).<br>That's what i remember... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
