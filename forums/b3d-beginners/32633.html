<!DOCTYPE html><html lang="en" ><head ><title >Closing Window Bug</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Closing Window Bug</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Closing Window Bug</a><br><br>
<a name="349999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sure this bug is just on my system, and it must be temporary cause I haven't run into anything like it before.<br>Basically, take the following code for example:<br><pre class=code>
	Graphics 800,600,32,2
	Repeat
	Until KeyHit(1)
	End
</pre><br>When DEBUG is turned on, it works fine, I can press ESC or hit the X to close the window. However, when DEBUG is turned off, the only way to close the program is to task-manager END TASK it, or hit escape - the X button does nothing. ALT-F4 does nothing. Any ideas whats causing this? I'm guessing a reboot would probably fix it, but if something else is an issue I'd like to explore it a little more.<br><br>Replacing the loop with "While not keyhit(1):wend" doesn't work either. However replacing the loop with WAITKEY() works fine. That leads me to the conclusion that program is hogging too many resources to let the GDI work.. but if that's the case, how does it even have enough cycles to let me press ESC, let alone running a movie and winamp in other windows..<br><br>And if that is a CPU usage issue, then how can I possibly create a loop with anything ELSE in it (ie, collision detection, etc) that isn't going to chew up even more resources?<br><br>My last question for tonight, I promise. :)<br><br>+BlackD <br><br></td></tr></table><br>
<a name="350015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That program's locked in a tight loop that doesn't give the OS time to respond to your 'close' message (clicking the close gadget, hitting Alt-F4, pressing ESC, etc).<br><br>If you stick just about any old command in there, it'll cause a slight delay (eg. many commands will internally read Windows events to be able to update the window), giving the OS enough time to do its 'close window' stuff.<br><br>If you're using Blitz 3D, it's always going to be a bit of a CPU hog, unless you add a 'Delay' command in the main loop, but if it's Blitz Plus, you can/should use the event commands to make your program play nicely with the OS. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
