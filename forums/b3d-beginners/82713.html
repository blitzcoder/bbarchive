<!DOCTYPE html><html lang="en" ><head ><title >screenshoot of second camera, texture to object</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >screenshoot of second camera, texture to object</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >screenshoot of second camera, texture to object</a><br><br>
<a name="932951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi... i have a 3d scene in blitz...<br>in this scene, i have a 3d object, a monitor, and i want to see in the 3d monitor the image from another camera.. can i do that?<br><br>in camera1, i have my scene<br>in camera2, i'm going to have another part of the scene, that i want to see from 3d monitor in the scene of camera1<br><br>this is like if i wanted to make a mirror on a car, or the monitor inside the copick of aircraft...<br><br>and i need to capture the image each frame.<br><br>thanks for your help.. :) <br><br></td></tr></table><br>
<a name="932957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Copyrect on the frontbuffer after a render and flip, to a texture. You can apply this texture to an entity and it will act as a mirror. Or, if the mirror is going to be flat and completely facing the camera, simply change the camera's viewport, so it fits into where you want the mirror. <br><br></td></tr></table><br>
<a name="933086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not sure, but would it be quicker just displaying the viewport with a second render before the flip?<br><br>It seems extraneous to copy to a texture too.<br><br>Or is it faster to render to a separate buffer that's not rendered to the backbuffer? <br><br></td></tr></table><br>
<a name="933189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends... if the "monitor" is just a flat square on the screen, he can get away just making a new viewport, but if it moves, if it's tilted somehow or can be viewed from more than one static pov, then there's no way other than rendering it to a texture and using that texture on a 3d model.<br><br>Too bad B3D doesn't have a direct render to texture, and we have to use this Copyrect trick... <br><br></td></tr></table><br>
<a name="933234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you can spare the cash for the fast extend, that comes with a speedy render to texture. If you do decide to copyrect to a texture, make sure you use the VRAM flag. <br><br></td></tr></table><br>
<a name="933272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks..<br><br>so, i have my 3d monitor in perspective, i have only one option, copyrect.<br><br>copyrect is no to fast?... maibe i should use a optimization, something like not copyrect each frame... or somethig like that.<br><br>i want to do something like this (the image) in simulators like this when you can turn the view direction.<br>how'd they do this? (see the monitors imagen)<br>i suppouse copyrect is my option.<br><img src="http://www.tudir.com/programas/imagenes/flight-simulator.jpg"><br><br><br><br>thanks.. <br><br></td></tr></table><br>
<a name="933320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure where the second camera, or viewport is supposed to be? Rotate the camera?<br><br>Is the interior merely a bitmap image? I'm not sure what your trying to achieve :o)<br><br>If you are copyrecting, you can stagger this across two frames, by copying the bottom half, then the top half alternately. Or, have a look at the fast extend lib, where render-to-texture is available. <br><br></td></tr></table><br>
<a name="933510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume you want something like this: Player is in room A with a surveillance monitor that is connetcted with a surveillance camera in room B.<br>IN fact you only have to create a camera at the camera-meshes position. Then you do it this way:<br><br>...<br>turn off camera a  (using cameraprojmode !)<br>turn on camera B<br>renderworld (only the 256 pixels)<br>copyrect to texturebuffer<br>turn off camera B<br>turn on camera A<br>renderworld as usual<br>flip<br><br>As Ross said: use the VRam flag for this texture. Also make sure the cameraviewport is only eg. 256*256, esp. if the user won't see the virtual monitor much larger onscreen. Then it may also be an option to update only about 12 times a second, this is about original walt disney cartoons framerate. Copy-to-texture is the main bottle neck. Hint: a very small texture size will look much better when you add some kind of interlace effect (eg. erase every 2nd line).<br><br>Note right after the first renderworld you may add some fx to the render, like snow storm, screen distortion or inconsistent transmission quality artefacts.<br><br>It is a nice feature to use a camera as a real camera in the world, I've seen this in many nice games, especially NOLF, where I hate the missions that force you to stay hidden trough the entire level... :) <br><br></td></tr></table><br>
<a name="933939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks :)..<br><br>i need the two options... and this information is very usefull.<br><br>i go to try now, to see if i can do it.<br><br>regards....<br>santiago<br><br>(sorry my english) <br><br></td></tr></table><br>
<a name="934099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It depends... if the "monitor" is just a flat square on the screen, he can get away just making a new viewport, but if it moves, if it's tilted somehow or can be viewed from more than one static pov, then there's no way other than rendering it to a texture and using that texture on a 3d model.<br><br>Too bad B3D doesn't have a direct render to texture, and we have to use this Copyrect trick... <br> <br></div><br><br>Ah yeah I didnt think of that. It sure would help having Render to Image or Texture functionality sure. <br><br></td></tr></table><br>
<a name="944744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi again, i working to improve the LCD screens of the inside car..<br>i post part of the code i use for my game, to made the screen data change in the realtime when you drive the car..<br><br>i use SpeedText Library for Blitz3D for my text..<br><br>the texture is created, but the fps of the game are reduce <br><br>how can i improve this code to increase the FPS...<br>i have something wrong in the code?<br> <br>thanks...<br><br><img src="http://www.blitzbasic.com/gallery/pics/1984.jpg"><br><br><br><pre class=code>

;start game


	
	graphics3d 1024,768,32,1
 	st_initialize(backbuffer())
	frametimer = CreateTimer(60)	
	If startlogomode = 1 Then startlogo()
	SetBuffer BackBuffer()

	global plan_cam	
	global t_lcd1=CreateTexture( 128,128,256,1 ) ;VRAM
        global lcd1 =  findchild(interior,"lcd1mesh")
	entitycolor lcd1,255,255,255
	entityfx lcd1,2
	EntityTexture lcd1,t_lcd1,0,1
	textureblend t_lcd1,5
	
	global t_lcd2=CreateTexture( 128,128,256,1 );VRAM
        global lcd2 =  findchild(interior,"lcd2mesh")
	entitycolor lcd2,255,255,255
	entityfx lcd2,2
	EntityTexture lcd2,t_lcd2,0,1
  textureblend t_lcd2,5
  
	create_plan_cam()

while not keyhit(1)

  ;game loop data
	
    WaitTimer(frametimer)
    updateworld()
    renderworld(twin)
  ;2d data

    Flip false

 
  if vista=2 then   ;if the camera is in the inside of the car
   redraw_lcd1()    ;go to draw lcd functions
   redraw_lcd2()
  endif 

wend  ;end game loop

function create_plan_cam()	
	plan_cam=CreateCamera()
	TurnEntity plan_cam,90,0,0
	PositionEntity plan_cam,0,20,0
	CameraViewport plan_cam,0,0,128,128
	CameraClsColor plan_cam,0,128,0
	cameraprojmode plan_cam,0
	end function


</pre><br><br>this is the function i use to draw the lcd2 data<br><br><br><pre class=code>
function redraw_lcd2()

	cameraprojmode cam,0
	cameraprojmode plan_cam,2
	color 100,100,100
	rect 0,0,128,128
	st_setfont font_lcd2
	st_textcolor 255,255,255
	st_drawtext 10,10, "Pos    : " +pos(1)+"/"+coches,st_left,st_top
	st_drawtext 10,30, "Laps  :" +laps(1)+"/"+vueltas,st_left,st_top
	st_drawtext 10,60, "Time  "+ t_hor(1)+":"+t_min(1)+":"+t_sec(1)+":"+t_cen(1),st_left,st_top
	st_drawtext 10,80, "Last  "+ tl_hor(1)+":"+tl_min(1)+":"+tl_sec(1)+":"+tl_cen(1),st_left,st_top
	st_drawtext 10,100,"Best  "+ tb_hor(1)+":"+tb_min(1)+":"+tb_sec(1)+":"+tb_cen(1),st_left,st_top
	
	
	CopyRect 0,0,128,128,0,0,0,TextureBuffer( t_lcd2 )
	cameraprojmode cam,1
	cameraprojmode plan_cam,0

	end function

</pre> <br><br></td></tr></table><br>
<a name="944801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea how fast text works so cannot comment on that.  Copyrect can be slow.  Suggest that you just update the LCD hud text every second or 3rd frame. <br><br></td></tr></table><br>
<a name="944808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you try the fast extend libs? They will do what you need and alot faster. <br><br></td></tr></table><br>
<a name="944837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, for the moment, i did what stevie said, i refresh the LCD every 10 frames.<br><br>i haven't seen the fast extend libs, i'm going to research about that library.<br><br>thanks !. <br><br></td></tr></table><br>
<a name="944858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried the FastExtend demo recently, but couldn't get it working. I put the correct DECLS in their respective places, and the commands were put in Blitz's compiler just fine, but every time I tried to run a program with the FE demo (including the samples it came with,) I kept getting an "Unknown Runtime Exception." Whuh??? Any idea what that was? <br><br></td></tr></table><br>
<a name="944861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm afraid i have no idea... :o( <br><br></td></tr></table><br>
<a name="944877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> i found a good product when i buy jv-ode, because vip3r allways answer very fast in this forum.. that is a very good thing.<br><br>the fasttext i use is a free lib, is simple and good...<br><br>who made the fast extend lib?..<br>FastExtend is a good option?, i mean, price, and support?<br><br>i go to find the demo to try it.. <br><br></td></tr></table><br>
<a name="945022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lo-tekk</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's the last Fast Extend library thread:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=81671" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=81671</a> <br><br></td></tr></table><br>
<a name="945092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ardee</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Adam Novagen<br><br>I get the "Unknown Runtime Exception" when compiling with Blitz3D v1.100 but it works fine if you downgrade to Blitz3D v1.99. <br><br></td></tr></table><br>
<a name="945131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh... Crud... I hate downgrades. T_T<br><br>Ah well, I'll look into it. Thanks ardee! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
