<!DOCTYPE html><html lang="en" ><head ><title >another newbie question...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >another newbie question...</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >another newbie question...</a><br><br>
<a name="367412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ngi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> well , ive been studying , and i finally made a program that i think is kinda good , but I have a problem , I want it to have a secondary weapon and what happens is that I cant get it to work!! )+== any help please???<br>everything works like I want it to , but the weapons dont work)+ ive been trying very hard by the way ....just so u dont think im some noobie idiot looking for help . +) well thx !<br><br><br>Graphics 600,800,0,2<br>Const LEFTKEY = 203 , RIGHTKEY = 205, SPACEBAR = 57 , ENTER = 156, DEL = 211<br><br>Global counter = 0<br>Type luis<br>Field x,y<br>Field image<br>Field dirx<br>Field diry<br>End Type<br><br>Type ship<br>Field x,y<br>Field image<br>Field life<br>End Type<br><br>Type bullets<br>Field x,y<br>Field image<br>End Type<br><br>Type pb<br>Field x,y<br>End Type<br><br>Type bullets2<br>Field x,y<br>End Type<br><br><br>Global change = 0<br>Global pinguilife = 100<br>Global a = LoadImage("stars.bmp")<br>Global bullet2image = LoadImage("bullet2.jpg")<br>Global pbimage = LoadImage("playerbullet.bmp")<br>Global explosion = LoadSound("tan.wav")<br>Global scream2 = LoadSound("scream2.wav")<br>Global player.luis = New luis<br>Global ship.ship = New ship<br>player\image = LoadImage ("pingui.bmp")<br>ship\image = LoadImage("felicidad.bmp")<br>Global bulletimage = LoadImage ("image1.jpg")<br>MaskImage (bulletimage,0,0,0)<br>Global jaja = LoadSound("jaja.wav")<br><br><br><br>ScaleImage ship\image,.1,.1<br><br>player\x = 100<br>player\y = 100<br>player\dirx = Rnd(-1,1)<br>player\diry = Rnd(-1,1)<br><br>If player\dirx = 0<br>player\dirx = Rnd(-1,1)<br>EndIf<br><br>If player\diry = 0<br>	player\diry = Rnd(-1,1)<br>EndIf<br><br><br>ScaleImage player\image,.1,.1<br>ship\x = 150<br>ship\y = 380<br><br>scrolly = 0<br>;main loop<br>;main loop<br>While Not KeyDown(1)<br>Cls<br>TileImage a,0,scrolly<br>scrolly = scrolly + 1<br>If scrolly &gt;= ImageHeight(a)<br>	scrolly = 0<br>EndIf<br>player\x = player\x + player\dirx<br>player\y = player\y + player\diry<br>DrawImage player\image,player\x,player\y<br>DrawImage ship\image,ship\x,ship\y<br>testpingui()<br>testbullets()<br>testkeys()<br>lifes()<br>pinguibullet()<br>secondaryweap()<br>pinguilife()<br>Delay 15<br>Flip <br>Wend<br><br>Function testpingui()<br>If player\x &lt; 0 Or player\x &gt;  300 - ImageWidth(player\image)<br>	player\dirx = -player\dirx <br>	EndIf<br><br>If player\y &lt; 0 Or player\y &gt; 400 - ImageHeight(player\image)<br>	player\diry = -player\diry <br>	EndIf<br>End Function <br><br><br><br>Function testkeys()<br>If KeyDown(LEFTKEY)<br>	ship\x = ship\x - 3<br>EndIf<br><br>If KeyDown(RIGHTKEY)	<br>	ship\x = ship\x + 3<br>EndIf<br><br>If KeyHit(SPACEBAR)<br>	If change = 0<br>	bullet.bullets = New bullets<br>	bullet\x = ship\x<br>	bullet\y = ship\y<br>	EndIf<br>	If change = 1<br>	bullet2.bullets2 = New bullets2<br>	bullet2\x = ship\x<br>	bullet2\y = ship\y<br>	EndIf<br>EndIf<br><br>End Function <br><br><br>Function testbullets()<br>;<br>If change = 1<br>;<br>For bullet.bullets = Each bullets<br>	bullet\y = bullet\y - 5<br>	DrawImage bulletimage,bullet\x,bullet\y<br>	;<br>	If ImagesOverlap(bulletimage,bullet\x,bullet\y,player\image,player\x,player\y)<br>		PlaySound scream2<br>		pinguilife = pinguilife - 2<br>		;<br>		EndIf<br>	If bullet\y &lt; 0<br>		Delete bullet<br>	;<br>	EndIf<br>	;<br>	Next<br>	;<br>	EndIf<br>;<br>If change = 0<br>;<br>For bullet2.bullets2 = Each bullets2<br>	bullet2\y = bullet2\y - 3<br>	DrawImage bullet2image , bullet2\x,bullet2\y<br>	If ImagesCollide(bullet2image,bullet2\x,bullet2\y,0,player\image,player\x,player\y,0)<br>	PlaySound Tan<br>	pinguilife = pinguilife - 3<br>	EndIf<br>	;<br>	;<br>Next<br>EndIf<br>End Function<br><br><br>Function pinguibullet()<br>For pbs.pb = Each pb<br>pbs\x = player\x + ImageWidth((player\image)/2)<br>pbs\y = player\y<br>pbs\y = pbs\y + 5<br>If pbs\y &gt; GraphicsHeight<br>	Delete pbs<br>Else DrawImage pbimage,pbs\x,pbs\y<br>EndIf<br>If ImagesCollide (pbimage,pbs\x,pbs\y,0,ship\image,ship\x,ship\y,0)<br>	lifes = lifes - 1<br>	PlaySound jaja<br>EndIf<br>Next<br>End Function<br><br>Function pinguilife()<br>If pinguilife &lt; 0<br>	Cls<br>	Delay 2000<br>	ClsColor 255,0,0<br>	Cls<br>	Delay 100<br>	Text 200,100,"YOU WON!!!"<br>	Delay 3000<br>	End<br>End If<br>End Function<br><br>Function lifes()<br>lifes = 3<br>If lifes &lt; 1<br>	End<br>EndIf<br>End Function<br><br>Function secondaryweap()<br>If KeyHit(ENTER) <br>change = change + 1<br>EndIf<br>If change &gt; 1 Or change &lt; 0<br>	Text 200,200,"What?"<br>	change = 0<br>EndIf<br><br>If KeyHit(DEL)<br>change = change - 1<br>EndIf<br>End Function <br><br></td></tr></table><br>
<a name="367497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're using the numpad enter key... is that right?<br>If not, you might want to add some text or debug messages to your code which output the current function and the values of certain variables (in this case 'change') plus the last keyhit. <br><br></td></tr></table><br>
<a name="367504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PetBom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not exactly sure what you are trying to achive, but my guess is that you want the global variable <b>change</b> to toggle between two values when pressing ENTER or DEL. Right now it toggles quite randomly between 0-2. The main reason for this is that the logic in the secandaryweap() function is somewhat messy. If you want a simple toggle function for the <b>change</b> variable, replace all your code in secaondaryweap() with this:<br><br><pre class=code>
If KeyHit(ENTER) Or KeyHit(DEL)
   change = Not change 
EndIf
</pre><br>This will toggle <b>change</b> between 0 and 1 with each keypress<br><br>If it is something else you want help with, you'll need to specify your question <br><br>//PetBom <br><br></td></tr></table><br>
<a name="367520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> "....just so u dont think im some noobie idiot looking for help"<br><br>Two out of three statements seems to fit, but it's not wrong being a noob, and neither it's wrong to look for help. Nobody here think you are dumb because you ask a (to some people) stupid question :)<br>You could be more exact though, is it the changeing of weapons that don't work, or can't you make it fire, or...<br><br>Anyway, "PlaySound Tan" will not give you any sort of sound, you forgot to alter, right?<br><br>Hope it will help, and try posting a codebox for your code, end it with a [/codebox], start it with [codebox] and have the code inbetween.<br><br>Edit:<br>No that does work, at least when you press enter, though I agree it's a bit messy <br><br></td></tr></table><br>
<a name="367782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ngi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay thx for the tips guys +) but I still have the same problem , I cant shoot more than 1 bullet at a time  and sometimes 3 or more of them go out. I also want it to shoot when I press the space bar, not when I shoot the del , intro keys like it actually happens <br><br>well thx a lot I really appreciate it// <br><br></td></tr></table><br>
<a name="367794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be a lot easier to debug if I could run the code. If you email me your content I can probably find what bugs might be there. <br><br></td></tr></table><br>
<a name="367846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ngi</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> OKay <br><br></td></tr></table><br>
<a name="368101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I hope it's not too much for my inbox, only got 700 kB left. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
