<!DOCTYPE html><html lang="en" ><head ><title >Fastlibs - shadows don't work</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fastlibs - shadows don't work</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Fastlibs - shadows don't work</a><br><br>
<a name="1018461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I went on fastlibs.com and downloaded the free trial and I want to learn everything about it before I buy it. I ran into a problem. I tried to create some noise blur shadows(seen in crisis,GTAIV etc) and the shadows won't show up or work at all. <br>Heres my code.<br>;Lego Island Rescue;<br><br>Include "include\FastExt.bb"<br>Include "include\ShadowsSimple.bb"<br><br>Graphics3D 1280,600,32,1<br><br>InitExt<br>TextureAnisotropy<br>TextureLodBias<br><br>CreateShadow 1									; &lt;&lt;&lt;&lt;&lt;   create shadows (with quality=1) and customize his characteristics<br>ShadowRange 70									; &lt;&lt;&lt;&lt;&lt;   set shadow range (70x70)<br>ShadowTexture = ShadowTexture()						; &lt;&lt;&lt;&lt;&lt;   get first shadow texture (shadow map) <br><br>Noise = LoadTexture("media\bump_noise.png")			; &lt;&lt;&lt;&lt;&lt;  load noise texture and set BUMP blend<br>TextureBlend Noise, FE_BUMP<br>ScaleTexture Noise, 0.15, 0.15<br><br><br>FadeOutTexture = LoadTexture("media\fade.png", 59)<br>ShadowFade FadeOutTexture<br><br><br>Const GRAVITY#=-2.5<br><br>		Global GlowAlpha# = 101.0<br>	Global GlowDarkPasses = 2<br>	Global GlowBlurPasses = 4<br>	Global GlowBlurRadius# = 0.35<br>	Global GlowQuality = 0<br>	Global GlowColorRed = 255<br>	Global GlowColorGreen = 255<br>	Global GlowColorBlue = 255<br>	Global GlowAlphaTexture = 0<br><br>Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3<br>Const TYPE_SCENERY=10,TYPE_TERRAIN=11<br><br>Collisions TYPE_PLAYER,TYPE_TERRAIN,2,2<br>Collisions TYPE_PLAYER,TYPE_SCENERY,2,2<br>Collisions TYPE_TARGET,TYPE_TERRAIN,2,3<br>Collisions TYPE_TARGET,TYPE_SCENERY,2,2<br><br>;Lego Island;<br>island=LoadMesh("media/tower.b3d")<br>islandtex=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island,0,-150,60<br>ScaleEntity island,4,4,4<br>EntityFX island,0<br>EntityType island,TYPE_TERRAIN<br><br>;Lego Island2;<br>island2=LoadMesh("media/tower.b3d")<br>islandtex2=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island2,0,-150,5360<br>ScaleEntity island2,4,4,4<br>EntityFX island2,0<br>EntityType island2,TYPE_TERRAIN<br><br>;player;<br>player=LoadAnimMesh ("racer.b3d")<br>PositionEntity player,0,100,40<br>ScaleEntity player,2,2,2<br>EntityShininess player,0<br>EntityType player,TYPE_PLAYER<br><br>;test (it's not going to work, I just know it)<br>m=CreateCube()<br>PositionEntity m,1200,100,90<br>ScaleEntity m,100,100,100<br>CreateShadowCaster  m<br><br>;water;<br>water = CreatePlane ()<br>h20 = LoadTexture ("media/water_tex.jpg",256)<br>EntityTexture water,h20<br>ScaleTexture h20, 200, 200<br>EntityAlpha water, 0.4<br>PositionEntity water,0,-140,60<br>EntityType water,TYPE_TERRAIN<br>EntityTexture water, Noise, 0, 1									; &lt;&lt;&lt;&lt;&lt;  place noise texture before shadow texture<br>EntityTexture water, ShadowTexture, 0, 2					; &lt;&lt;&lt;&lt;&lt;   place shadow texture to receiver<br><br>;camera (AKA the player);<br>camera=CreateCamera(target)<br>PositionEntity camera,0,100,-50<br>MoveEntity camera,0,3,-50 <br>EntityType camera,TYPE_TARGET<br><br>;light;<br>light=CreateLight()<br>LightColor light,255,60,0<br>PositionEntity light,0,100,40<br>ShadowLight light<br><br>;target;<br>target=CreatePivot( player )<br>MoveEntity Target,0,40,-200 <br>RotateEntity Target,0,80,0<br>EntityRadius Target,100,100<br><br>;crosshair;<br>CH = LoadImage ("media/crosshair.bmp")<br>MaskImage CH, 255, 0, 255<br>MidHandle CH<br>	<br>;sky/fog/range;<br>sky=CreateSphere(100)<br>skytex=LoadTexture("media/sky_RT.jpg")<br>EntityTexture sky,skytex<br>ScaleEntity sky,9000,9000,9000<br>CameraFogMode camera,10<br>CameraFogColor camera,200, 220, 255<br>CameraRange camera, 1,50000<br>CameraFogRange camera,1,2500-10<br>CameraClsColor camera,200,220,255<br>FlipMesh sky<br> <br>smooth=True<br>;move camera;<br>While Not KeyDown(1)<br>TurnEntity sky,0,.1,0<br><br>	If CountCollisions(island)&lt;&gt; 0 Then<br>		;my failed alignment code;<br>		islandx=CollisionNX( island,1 )<br>		islandy=CollisionNY( island,1 )<br>		islandz=CollisionNZ( island,1 )<br>		If smooth Then<br>			AlignToVector player,islandx,islandy,islandz,2,0.1	;last parameter = .1<br>			AlignToVector camera,islandx,islandy,islandz,2<br>		Else<br>			AlignToVector player,islandx,islandy,islandz,2	;last parameter ommited: Default=1 = no smooth<br>		End If<br>	Else<br>		;if not colliding, then align to a vertical vector: 0,1,0<br>		If smooth Then<br>			AlignToVector player, 0, 1, 0, 2, 0.1<br>		Else<br>			AlignToVector  player, 0, 1, 0, 2<br>		End If<br>	EndIf<br><br><br>TranslateEntity player,0,GRAVITY,0<br>TranslateEntity camera,0,GRAVITY,0<br>	<br>MoveEntity player,0,0,15<br><br>If KeyDown(208)<br>MoveEntity player,0,0,-15<br>EndIf<br>If KeyDown(203)<br>TurnEntity player,0,1,0<br>EndIf<br>If KeyDown(205)<br>TurnEntity player,0,-1,0<br>EndIf<br>If Not KeyDown(1)<br>dx#=EntityX( target,True )-EntityX( camera )<br>		dy#=EntityY( target,True )-EntityY( camera )<br>		dz#=EntityZ( target,True )-EntityZ( camera )<br>	    TranslateEntity camera,dx*.3,dy*.2,dz*.3<br>		EndIf<br>	    PointEntity camera,player<br>	<br>UpdateWorld<br>UpdateShadows camera<br>RenderWorld<br>;attach crosshair;	<br>x = (MouseX () - x) / 3 + x<br>y = (MouseY () - y) / 3 + y<br>		<br>DrawImage CH, x, y<br>CustomPostprocessGlow GlowAlpha, GlowDarkPasses, GlowBlurPasses, GlowBlurRadius, GlowQuality, GlowColorRed, GlowColorGreen, GlowColorBlue, GlowAlphaTexture<br>RenderPostprocess FE_GLOW	<br><br>Flip<br>Wend<br>End<br><br>please help. <br><br></td></tr></table><br>
<a name="1018487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all, you really need to use forum codes. I cant really find anything wrong with your code. Just making sure you know that you are putting shadows on the water and not the land. It would be much better if you could be more specific. <br><br></td></tr></table><br>
<a name="1018522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> well see, I created a cube called m, and I tried to make it so that it would cast a noise blur shadow, and I tried to make the water act as a plane( like in the noise blur example ) and have the cube's noise blur shadow cast onto it, but it did not work. I hope that more specific:) <br><br></td></tr></table><br>
<a name="1018535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well i just noticed that your cube is scaled to 100x100x100. There might be a problem because the shadow range is 70. When you are looking at a giant cube you are far away from it right? So you should shrink your level down a bit. Hope I'm right. <br><br></td></tr></table><br>
<a name="1018957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry for not replying in a while. I figured out the problem. thanks for trying to help anyway. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
