<!DOCTYPE html><html lang="en" ><head ><title >return type from function</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >return type from function</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >return type from function</a><br><br>
<a name="528448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> can you return a type from a function?<br>function makeabullet()<br>  b.bullet_type = new bullet_type<br>  return b.bullet_type  ?<br>end function<br><br>b2.bullet_type=makeabullet()<br><br>(this doesn't work)<br><br>i can't figure out how to do it, if its possible. <br><br></td></tr></table><br>
<a name="528466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> try this one, it should work:<br><br>function makeabullet.bullet_type()<br><br>you must declare what type of 'RETURN' you want. <br><br></td></tr></table><br>
<a name="528474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not as complex as it sounds.<br><br>The type identifier for the function is always declared between the function name and the parenthesis ().<br><br>Examples:<pre class=code>
funcname()             ;returns an integer (lack of an identifier defaults to integer)
funcname%()            ;returns an integer
funcname$()            ;returns a string
funcname#()            ;returns a float
funcname.mytype()      ;returns a mytype type
funcname.bullet_type() ;returns a bullet_type type
funcname.anytype()     ;returns an anytype type
</pre> <br><br></td></tr></table><br>
<a name="732227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, i couldn't find anything in the help on this, but i knew it would be in these forums somewhere. <br><br>also, here is a full example of how to return a type from a function.<br><br><pre class=code>
;return a type example

test.testtype=example()

Print "x="+test\x
Print "y="+test\y

WaitKey
End

Type testtype
 Field x,y
End Type

Function example.testtype()

 Local test.testtype
 test.testtype=New testtype
 test\x=42
 test\y=24
 Return test.testtype

End Function
</pre> <br><br></td></tr></table><br>
<a name="732240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I take it that local instance gets deleted automagically on program exit? I noticed in Mark's old skybox creation function that [EDIT: IGNORE ME, I'M AN IDIOT WHO REMEMBERS THINGS BACKWISE, BUT ANYWAY] I've always wondered if this is the "official" (ie a safe) way to manage local entities and type instances. <br><br></td></tr></table><br>
<a name="732266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> i don't know what skybox function you mean, but i assumed that is the correct way to do it. <br><br>afaik, when you declare a local in a function, that function will be able to use that variable even if there is a global variable of the same name. if you don't specify a local then a global of the same name will override it. so you may end up with a bug in your code if you don't use locals in functions. <br><br></td></tr></table><br>
<a name="732267"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just been avoiding creating things in functions, for no other reason than not being sure what happens (to the local object(s)) when you return either an entity or type. I guess there's no such thing as a local type instance and, when returning entities, you pass back the reference to the object's location and can free it by referring to whatever you called the function with (ie <i><b>mySkyBox.skyBox=createSkyBox()</b></i>).<br><br>I'm just being daft and worrying about nothing, but hoping somebody else would say "you're just being daft and worrying about nothing". :D <br><br></td></tr></table><br>
<a name="732319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, i think you're worry about nothing. :)<br><br>when you do "my.mytype=New mytype"<br>that's your instance of a new type.<br><br>by doing "function myfunction.mytype()"<br>you can then return a type created inside a function.<br><br>if you can do that then there is no reason why you can't delete the type. <br><br></td></tr></table><br>
<a name="732354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you create a local type within a variable, the handle of the type is not global but all types are automatically global. You can access the newly created type, just not by using the local handle but by either assigning a global handle or using for t.ThisType = each ThisType <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
