<!DOCTYPE html><html lang="en" ><head ><title >Next level</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Next level</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Next level</a><br><br>
<a name="214307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jigga619</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am working on a 3d game that has 5 levels in it. It is a FPS. Each level looks dramatically different. The levels are each made in maplet. My question is, how do I code it so that when a player get 5 points , the level he is on ends, and another one begins. I think, it may go something <br>like this.......<br><br><br><br>if playerpoints#&gt;4 and playerpoints#&lt;6<br>GOSUB leveltwo<br>endif<br><br>leveltwo.<br>loadmesh("level2.b3d")<br>return <br><br></td></tr></table><br>
<a name="214315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something like that but the specifics are a little odd.  For starters, "if playerpoints&gt;4 and playerpoints&lt;6" is the same as saying "if playerpoints=5"<br><br>Also, you need to unload the current level before/when loading a new level.  Look into ClearWorld and the various "FreeSomething" commands.<br><br>Usually you don't want a separate function for each level, you just want a generic LevelLoad function which decides which level to actually load based on the state of the game.  For example, have a global "currentLevel" variable which keeps track of the level the player is on, add one to it at the end of every level (before loading the next,) and then call LoadMesh with that variable:<br><br>Function LevelLoad()<br>levelMesh=LoadMesh("level"+currentLevel+".b3d")<br>&lt;various other level loading tasks&gt;<br>End Function <br><br></td></tr></table><br>
<a name="214316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would avoid the use of gosub; rather, I would consider this way:<br><br><pre class=code>
if playerpoints = 5 AND current_level = 1 then ;note that you don't need a float variable to store the player score
current_level = 2;set the new current level

;now I think you should load the new level as you did
;but first you should discard the previous one with
;freemesh or freentity command

the_level = loadmesh("level2.b3d")

;now you should warp the player at the x,y,z position where the new level should start from

endif
</pre><br><br>Consider, also, to show a briefing screen where to inform the player that a new level has been reached; show the score, and such, and give a 'press space to enter the new level' message. After that, then release the old mesh, load the new one, warp the player and... play !<br><br>Hope this has sense for you,<br>Sergio.<br><br>P.S.<br>jhocking you're so fast !! <br>;) <br><br></td></tr></table><br>
<a name="214352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i dont mean to doubt your abilities but maybe you should start with something a bit simpler... <br><br></td></tr></table><br>
<a name="214466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DarkEagle</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is simple :P<br><br>when the player gets 5 points, do some kind of fade out effect, free all entities, load new level, fade back in :) <br><br></td></tr></table><br>
<a name="214555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, that was remarkably useless advice.  His question was about how to code level changing (ie. all that stuff you listed.) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
