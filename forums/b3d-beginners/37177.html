<!DOCTYPE html><html lang="en" ><head ><title >Overhead for types?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Overhead for types?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Overhead for types?</a><br><br>
<a name="408256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BulletMagnet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am thinking of doing the following to support an editor for my gameobject parameters. <br><br><pre class=code>
Type GO_paramInt; There are also a STR and Float version of GO_Params.
  field name$; The parameter's readable name like RemainingArmor or BlastRadius.
  field docText$; Appears as tooltip or parameter help text in an editor.
  field value%; the parameter.
  Field defaultValue%; a default if any. May remove this and just have it stored in the script file to be accessed as needed.
end type
</pre><br>Questions:<br>1. What is the memory/performance overhead when creating thousands of types? <br><br>2. What overhead is there for unused or uninitialized type fields? i.e. Is field memory allocated when the type instance is created even if the fields are unused?<br><br>3. Got a better idea?<br><br>I arrived at this after reading about DungeonSiege development and Data-Driven game design.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="408270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Note: Much of this is speculation and not necessarily based on fact<br><br>1) If you're just talking *overhead*, it's probably not too much.  Maybe 20 bytes or something, if that (next pointer, previous pointer, some other sundry items)<br><br>Why don't you test it?  Create 1000 types, check out memory usage of the program, then repeat with 2000 types, take the difference, divide by 1000, subtract what's required for your own field(s), and see what you get.  It's an idea, anyway.<br><br>2) Yes, I think it would be allocated even if it's not "used" (otherwise you'd end up with a ton of fragmented memory).<br><br>I think that most of the perf hit comes on creation of the first set, becasue even if you delete them, Blitz does not release the memory, but keeps it around in case you want to create more types (and so it won't have to allocate more memory). <br><br></td></tr></table><br>
<a name="408321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BulletMagnet</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Soja.<br>Yeah, my next step was to build up a quick test but I was curious to see if anyone had some good data on it. <br><br></td></tr></table><br>
<a name="411194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ryan scott</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> types are basically linked lists, which are going to be a lot easier to manipulate than a collection of arrays that would do the same thing.<br><br>they are so useful, you should always use them.  <br><br>they are pretty ridiculously fast.  while you might get a little speed boost using arrays, but primarily only when you know which object you are after, it's not worth it.<br><br>most of the time you'll be iterating through all of a certain Type, and having them in an array wouldn't really get you much speed.<br><br>use them.  its somewhat unlikely you'll develop a game where the processor speed is what's holding you back, unless you write it really crappily.  saving anything by using something other than types won't be worth it.<br><br>ok, not very specific regarding numbers, but i'm telling you, it doesn't matter, types are the way to organize all the data in your program and as it gets larger you'll find it would have been more difficult to code without them. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
