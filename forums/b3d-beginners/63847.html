<!DOCTYPE html><html lang="en" ><head ><title >Image Collision</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Image Collision</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Image Collision</a><br><br>
<a name="712655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathaniel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm working on a Fighters 1945 remake this week. I've racked my brain on why this code doesn't work. (The whole code is probably about 10 pages so I'm not showing it unless absolutely nessessary.) This is only a collision test between missiles (gun\ ___ ) and the enemy ships (evil\ ___ ).<br><br><br><pre class=code>
If evil &lt;&gt; Null And gun &lt;&gt; Null             
For evil.enemy1 = Each enemy1
If ImagesCollide(gun\file,gun\x,gun\y,0,evil\file,evil\x,evil\y,evil\frame)
   End
   

End If
Next
End If
</pre><br><br>The problem is there is not collision detection. (Obviously because it should end the program.) <br>Thanks in advance <br><br></td></tr></table><br>
<a name="712657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzplotter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow... you have weekly plans ?  I struggle to have bi - yearlies... <br><br></td></tr></table><br>
<a name="712661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathaniel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not really... I could take me a LOT longer than a week to finish. I'm just starting (and taking a break from my 3D RPG) <br><br></td></tr></table><br>
<a name="712680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> is gun\file actually the image handle or the path to the file? because the later is useless. <br><br></td></tr></table><br>
<a name="712690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathaniel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>gun\file=LoadImage("art/bullet_red.bmp")</pre> <br><br></td></tr></table><br>
<a name="712736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe it is this: first you check if evil &lt;&gt; null, then you call For evil:<br><pre class=code>
If evil &lt;&gt; Null And gun &lt;&gt; Null             
For evil.enemy1 = Each enemy1
</pre> <br><br></td></tr></table><br>
<a name="712970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathaniel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ummm... I tried getting rid of the For... Next loop and it still doesn't work.<br>All of the images are valid. I'm playing around with the code... still no collisions. <br><br></td></tr></table><br>
<a name="713012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is strange, try this:<br><pre class=code>
For evil.enemy1 = Each enemy1
If ImagesCollide(gun\file,gun\x,gun\y,0,evil\file,evil\x,evil\y,evil\frame) then End   
Next
</pre><br>And if that doesn't work, try ImagesOverlap instead (only for testing). And if that doesn't work try RectsOverlap. <br>Check if the gun is drawn at gun\x, gun\y and the enemy at evil\x, evil\y or use a small program, such as this to test the images:<br><pre class=code>
Graphics 800, 600, 0, 2
SetBuffer BackBuffer()

im1 = LoadImage("c:\_xfiles\grass.bmp")
im2 = LoadImage("c:\_xfiles\grass.bmp")
ResizeImage im1, 25, 25
ResizeImage im2, 25, 25

x2 = 400
y2 = 300

Repeat

Cls

x = MouseX()
y = MouseY()

test = ImagesCollide(im1, x, y, 0, im2, x2, y2, 0)

DrawImage im1, x, y
DrawImage im2, x2, y2

Text 0, 0, test

Flip

Until KeyHit(1)
</pre> <br><br></td></tr></table><br>
<a name="714237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nathaniel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry it took me so long to get back.<br><br>Yup, that fixed it. Works great now. I would give you guys a beta, but I can't legally distribute the art.<br><br>Thanks so much! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
