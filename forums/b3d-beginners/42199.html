<!DOCTYPE html><html lang="en" ><head ><title >Simple collision question 2D</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Simple collision question 2D</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Simple collision question 2D</a><br><br>
<a name="472877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> how to handel 2D collsion like a rpg game ?<br><br>I use this <br>If ImagesCollide(sprite1,x%,y%,a%,berg1,200,200,0) <br><br>but than the moving object is hanging in a tree. <br>I thought mmm then I change the x and y -1 or +1 but that's not working because you can walk arround the tree. <br><br>There is no function to reset the Collision.<br><br><pre class=code>
;some code here
wend
;some code here

Collide()

	;move
	If KeyDown(205) Then ;right
		x%=x%+1
		a%=3
	End If
	If KeyDown(203) Then ;left
		x%=x%-1
		a%=9
	End If
	If KeyDown(200) Then ;up
		y%=y%-1
		a%=0
	End If
	If KeyDown(208) Then ;down
		y%=y%+1
		a%=6
	End If

	DrawImage sprite1,x%,y%,(sprite1_frm+a%)
	
	a% = "" ;idle
Flip
Wend
End

Function Collide()
	If ImagesCollide(sprite1,x%,y%,a%,berg1,200,200,0) Then
		Text 250,250,"Now i Stop walking :) and i can't move again stuck in a tree"
	;But I want to walk again 
	EndIf
End Function
</pre> <br><br></td></tr></table><br>
<a name="472928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You allow the player to move before checking for collision.<br>You should (pseudo)...<br>do<br>  Check input from player<br>  Check if this would cause a collision<br>  Collision = true then don't move player.<br>  Collision = false then move player.<br>  Display player<br>loop <br><br></td></tr></table><br>
<a name="472932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> damn yea, where is my fantasy.<br><br>Sorry for all these stupid questions. <br><br></td></tr></table><br>
<a name="473937"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where can I find some good 2D RPG source examples?<br><br>That's better then ask everything here.<br><br>Thanks, <br><br></td></tr></table><br>
<a name="473940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just keep asking your questions here. Good chance your probably helping out someone else reading these :o) <br><br></td></tr></table><br>
<a name="473946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> And when I post here again , my topic is first again ;)<br>----<br><br>But I understand that people will ignore my question's <br>if I ask many stupid questions.<br><br>So people:does someone have a super basic RPG source code.<br><br>I have found the design here:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=42222" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=42222</a><br>By WolRon<br><pre class=code>
/-------------------------------------------------------------------\
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                  +                                |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
|                                                                   |
\-------------------------------------------------------------------/
</pre><br><br>Thanks for helping <br><br></td></tr></table><br>
<a name="473969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That was a joke post, so don't take anything from it seroiusly ;) <br><br></td></tr></table><br>
<a name="473975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> yea haha I hope you understand that I know that :)<br>That design was a joke. <br><br></td></tr></table><br>
<a name="473982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol, good. With some ppl around here, u just don't know ;) <br><br></td></tr></table><br>
<a name="473983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> i know I think 50% is 12 years old and like me asking super super stupid questions. <br><br></td></tr></table><br>
<a name="474195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oke now its enough, I see some example on blitzcoder and blitzbasic , I asked here but I still don't have a super basic example :(  :( : (<br><br>I have made an easy picture so its easy to see what I mean.<br><br>[img <img src="http://www.zquare.nl/img/03012005-110243.jpg"> /img]<br><br>I only want a simple ImagesCollide() example with a moving player that's stop's moving when hit the rock.<br><br>As you can see on the picture I have that but when people press for example up and right then he goes through the rock.<br><br>And sometimes the players is acting strang because I use this:<br><pre class=code>
If coll = 208
    y%=y%-1
EndIf
....
</pre><br><br><br><pre class=code>
Graphics 800,600,32,2
SetBuffer BackBuffer()

Global x% = 400
Global y% = 400
Global a% = 0
Global coll,coll2
Global sprite1,berg1

;load tiles
backgrd = LoadImage("tiles/grass1.png")
berg1 	= LoadImage("tiles/berg1.png")

;load sprite
sprite1 	= LoadAnimImage("sprites/sprite1.png",24,32,0,12)
MaskImage sprite1,32,156,0


While Not KeyHit(1)
Cls
TileBlock backgrd
DrawImage berg1,500,500

If MilliSecs() &gt; tmrSprite + 200 Then 
	tmrSprite =MilliSecs()
	sprite1_frm=(sprite1_frm+1) Mod 3 
End If

DrawImage sprite1,0,0,sprite1_frm
DrawImage sprite1,30,0,(sprite1_frm+3)
DrawImage sprite1,60,0,(sprite1_frm+6)
DrawImage sprite1,90,0,(sprite1_frm+9)

Rect 30,30,660,560,0

	;move
	If KeyDown(205) Then ;right
		x%=x%+1
		a%=3
		coll=205
		If KeyDown(208) Or KeyDown(200) Then
			coll2 = True
		EndIf
	EndIf
	
	If KeyDown(203) Then ;left
		x%=x%-1
		a%=9
		coll=203
		If KeyDown(208) Or KeyDown(200) Then
			coll2 = True
		EndIf
	EndIf
	
	If KeyDown(200) Then ;up
		y%=y%-1
		a%=0
		coll=200
		If KeyDown(205) Or KeyDown(203) Then
			coll2 = True
		EndIf
	EndIf
	
	If KeyDown(208) Then ;down
		y%=y%+1
		a%=6
		coll=208
		If KeyDown(205) Or KeyDown(203) Then
			coll2 = True
		EndIf
	EndIf
	
	DrawImage sprite1,x%,y%,(sprite1_frm+a%)
	
	a% = "" ;idle

If CheckCollide() = True
	If coll2 = False
	If coll = 208
		y%=y%-1
	EndIf
	If coll = 200
		y%=y%+1
	EndIf
	If coll = 203
		x%=x%+1
	EndIf
	If coll = 205
		x%=x%-1
	EndIf
	EndIf
EndIf

	
	;debug
	Text 50,50,"x:"+x%
	Text 50,60,"y:"+y%
	Text 50,70,"coll:"+coll
	Text 50,80,"coll2:"+coll2
Flip
Wend
End

Function CheckCollide()
	If ImagesCollide(sprite1,x%,y%,a%,berg1,500,500,0) Then
		Return True		
	Else
		coll = 0
		coll2= False
		Return False
	EndIf
End Function
</pre> <br><br></td></tr></table><br>
<a name="474200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> flush keys after any movement <br><br></td></tr></table><br>
<a name="474265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Réno</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>

;28-11-2004, version 1.0

;////////////////////////////////////////////////////////////////////////
;nom de l'application
AppTitle "collision bloc 1"

;////////////////////////////////////////////////////////////////////////
;variable du mode graphique
Const Resolution00%=640;X
Const Resolution01%=480;Y
Const Resolution02%=16;profondeur des couleurs
Const Resolution03%=2;mode graphique

;////////////////////////////////////////////////////////////////////////
;initialisation du mode graphique
Graphics Resolution00,Resolution01,Resolution02,Resolution03

.VarCollision
;////////////////////////////////////////////////////////////////////////
;variable, collisions

;image 0, dimension
Const C00%=128;taille, X
Const C01%=128;taille, Y
;image 0, dimension collision [0]
Const C02%=64;taille, X
Const C03%=64;taille, Y
Const C04%=((C00-C02)/2);espace, X
Const C05%=((C01-C03)/2);espace, Y

;image 1, dimension
Const C10%=64;taille, X
Const C11%=64;taille, Y

.VarJoueur
;////////////////////////////////////////////////////////////////////////
;variable, joueur
J00#=100.0;position, X
J01#=100.0;position, Y
J02#=J00;position, X tampon
J03#=J01;position, Y tampon

.VarDecor
;////////////////////////////////////////////////////////////////////////
;variable, decor
D00%=288;position, X
D01%=208;position, Y


;*****************
;* boucle du jeu *
;*****************


;////////////////////////////////////////////////////////////////////////
;initialise le tampon secondaire
SetBuffer BackBuffer()

;////////////////////////////////////////////////////////////////////////
;tant que "echappe" n'a pas ete presse
While Not KeyDown(1)

;////////////////////////////////////////////////////////////////////////
;efface le tampon secondaire
Cls

.L00
;////////////////////////////////////////////////////////////////////////
;collision

If RectsOverlap (Floor#(J00+C04),Floor#(J01+C05),C02,C03,D00,D01,C10,C11)
	
	Text 0,00,"Collision !!!"
	
	;haut
	If Floor#((J03+C05)+C03)&lt;=D01
		
		;mise a jour
		J01=Floor#((D01-C05)-C03)
		
		;saute au pointeur
		Goto P_Collision00
	EndIf
	
	;bas
	If Floor#(J03+C05)&gt;=(D01+C11)
		
		;mise a jour
		J01=Floor#((D01+C11)-C05)
		
		;saute au pointeur
		Goto P_Collision00
	EndIf
	
	;gauche
	If Floor#(J02+C04+C02)&lt;=D00
		
		;mise a jour
		J00=Floor#((D00-C04)-C02)
		
		;saute au pointeur
		Goto P_Collision00
	EndIf
	
	;droite
	If Floor#(J02+C04)&gt;=(D00+C10)
		
		;mise a jour
		J00=Floor#((D00+C10)-C04)
		
		;saute au pointeur
		Goto P_Collision00
	EndIf
EndIf

;pointeur
.P_Collision00

.L01
;////////////////////////////////////////////////////////////////////////
;dessin
Color 0,255,255
Rect Floor#(J00+C04),Floor#(J01+C05),C02,C03,1

;dessin
Color 0,0,255
Rect D00,D01,C10,C11,1

.L02
;////////////////////////////////////////////////////////////////////////
;texte
Text 0,10,"J02 "+J02
Text 0,20,"D00 "+D00

.L03
;////////////////////////////////////////////////////////////////////////
;mise a jour
J02=J00;position, X tampon
J03=J01;position, Y tampon

;////////////////////////////////////////////////////////////////////////
;basculement des tampons
Flip

;////////////////////////////////////////////////////////////////////////
;haut
If KeyDown(200)
	J01=(J01-4.0);position, Y
EndIf

;bas
If KeyDown(208)
	J01=(J01+4.0);position, Y
EndIf

;gauche
If KeyDown(203)
	J00=(J00-4.0);position, X
EndIf

;droite
If KeyDown(205)
	J00=(J00+4.0);position, X
EndIf

;////////////////////////////////////////////////////////////////////////
;fin de la boucle
Wend

;////////////////////////////////////////////////////////////////////////
;fin du programme
End

</pre><br><br>&gt;the first square (player) has a second square inside for the collision. <br><br></td></tr></table><br>
<a name="474336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GC-Martijn</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Duckstab[o] &amp; Réno<br>-----------------------------<br>-Thank You Very Much-<br>-----------------------------<br><br>This is working :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
