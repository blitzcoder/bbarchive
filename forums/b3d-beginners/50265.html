<!DOCTYPE html><html lang="en" ><head ><title >Question about .X fileformat</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Question about .X fileformat</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Question about .X fileformat</a><br><br>
<a name="559013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I experimented with Blender to add a so-called sceneroot to my  spacestation.<br><br>That way, I thought I could load the .X with the LoadAnimMesh command and have a parent-children setup.<br>I wanted to have that scene-root as the uppermost parent, while the spacestation-mesh is a child of that uppermost parent, along with some other stuff.<br>The other stuff would be weapons that are attached to the station, so it can defend itself, in case it is attacked.<br>And of course, a door that would open when a ship would dock.<br><br>After exporting to .X, I noticed that I don't have any children in my scene.<br>I loaded the entire file with LoadAnimMesh and printed onto the scene the number of children in the scene, which is "0":<br>Station = LoadAnimMesh("Station.x")<br>Text 10, 10, "Children: " + CountChildren(Station)<br><br>All mesh-data (I placed cubes where the weapons would come) is visible, so I see the cubes and the station, but it seems that there is no parent-child support for .X files.<br><br>Is this true?<br><br>I modelled 1 station and placed 4 cubes onto it (which would later be exchanged by the weapons).<br>After studying the .X file, all meshes are just created seperately (which is correct, because they are all seperate meshes), but I cannot see any indication of parenting. <br><br></td></tr></table><br>
<a name="559026"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've found the problem, but not sure how to solve it.<br><br>It seems that Blender doesn't export "frames".<br>I opened the driver.x model that comes with Blitz3D in Notepad and there are Frames present.<br><br>I've modified my station.x file to include those and now I have 5 children, as needed.<br><br>So, now I guess I have to make a program to "import" those frame-sections into my model-files, so each Mesh-section has a Frame-section. <br><br></td></tr></table><br>
<a name="559097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John J.</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think if you connect them to bones, it may work. Take a look at the example at "samples\mak\anim\makbot\---.bb"; it uses an .X file and gets some of the bones (children) and attaches a light flare to them for the effect. <br><br></td></tr></table><br>
<a name="559385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've tested the "export .X as animation" option within Blender, and then the scene is exported with frame-sections.<br><br>I created a scene with one cube as parent, with 2 children (a sphere and another cube).<br><br>When I load that scene into B3D (loadanimmesh), only the parent is visible and the scene only has 1 child.<br>The other cube and sphere are not visible and don't appear to be children of that parent cube.<br>However, the meshes are present in the .X file.<br>I tried printing the number of children of that parent cube, but there are none.<br><br>Seems that Blender's .X export doesn't work perfectly.<br><br>But no problem, my game will use one big datafile, which declares all waretypes, missiletypes, shieldtypes, shiptypes, stationtypes, ... in the game.<br>I'll just add a section in those station-types which will declare the positions where the weapons should be mounted.<br>Then I can also add a few lines which state which weapons should be installed there.<br>Then I can add them via code.<br><br>It was easier to have pivots in the .X file, which would be used as coordinates for the weapons, but this is no real problem.<br><br>The use for one big datafile, is just for modding purposes.<br>This way, a modder can add a new file (with other prices, new stations, new ships, ..., let the game use that new file and the game adapts automatically to the mod, including those adaptations in the game.<br><br>The game is only in the very early stages and I'm still learning a lot about modelling, texturing, ...<br>So the game will not be ready for the next few months/years. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
