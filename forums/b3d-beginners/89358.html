<!DOCTYPE html><html lang="en" ><head ><title >Random Movement</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Random Movement</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Random Movement</a><br><br>
<a name="1014676"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't posted here in a while. That's because I gotten better (ever since I discovered how to make the rectangle and make it do various things, I've been doing pretty good). <br><br>Anyway, I was wondering how do I get random movement with my EATUM character in "BlitzPlus?" The simple code is below. I would like to know what do I add to the main loop to get EATUM to move randomly.<br><br>My second question relates to the first. I was wondering, what do I do if I also wanted EATUM to move randomly, stop, and change directions to a random spot, stop and move again to a random spot (like the soldiers do in the game "Metal Gear.)" <br><br>Thanks<br><br><pre class=code>


Graphics 900, 900
SetBuffer BackBuffer()
 


;Loads image

EATUM = LoadImage ("Eatum.png") 




;Sets image type

Type EATUM
Field x,y
End Type 	
		
	
;Changing EATUM into a variable name
e.EATUM = New EATUM
e\x = 70
e\y = 200





While Not KeyDown (1)  


     Cls


;here is where I'm trying to get EATUM to move around the screen randomly. Thus, what do I do? What do I add here?








;Draws Eatum onto screen
DrawImage (EATUM,e\x,e\y)




	
Flip

Wend 

</pre> <br><br></td></tr></table><br>
<a name="1014680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I would do is give the character a random destination x,y,z to get to and then once it has arrived change it again.  you can then control how long between direction changes it has... otherwise it would look crazy<br><br>Don't forget to allow for some slight deviation from the destination location when checking it has arrived... I believe 1/2 movement rate is generally assumed. <br><br></td></tr></table><br>
<a name="1014735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looking at what you have, it seems to be 2D rather than 3D, the word "EATUM" suggests something PacMan-like, leading me to assume that perhaps your random movement only needs to be fixed to UP, DOWN, LEFT or RIGHT.<br>Is this correct?<br><br>Either way, there are other consideratioons, such as - what happens if EATUM hits the edge of the screen? Wraparound or does it block them?<br><br>Im only asking so much so that I can get a better grasp of what you want, so I can write something that will be of more use for you. <br><br></td></tr></table><br>
<a name="1014751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >En929</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br><br>Looking at what you have, it seems to be 2D rather than 3D, the word "EATUM" suggests something PacMan-like, leading me to assume that perhaps your random movement only needs to be fixed to UP, DOWN, LEFT or RIGHT.<br>Is this correct?<br><br>Either way, there are other consideratioons, such as - what happens if EATUM hits the edge of the screen? Wraparound or does it block them?<br><br>Im only asking so much so that I can get a better grasp of what you want, so I can write something that will be of more use for you. <br><br> <br></div><br><br><br>Malice yes, you are correct. EATUM is a pac-man-like game.  But for now, EATUM is a ball. I shortened my code so that I can learn how to make EATUM do random movements. I shortened it so that there won't be as much to sift through if one could help me.<br><br>Also yes, I 'm working in BlitzPlus (it seems like not many people respond in the BlitzPlus forum so thus, I posted here). I was trying to get random movement for when EATUM bounces off of the walls or edge of the screen like a ball. Thus, I was wondering what do I put into my code to make that happen? I know for the wall it's probablly ImageRectCollide, but I don't know what to do after that (skully had an idea, and I will try that too). But, I've seen it done with one of the Random commands (RND or RAND I think).<br><br>By the way, if one could show me how to get random movement with just one wall and one edge of the screen, I'll figure out the rest. <br><br>I redeveloped my code below to include the walls and I included a screen shot to show what I'm trying to do. I hope this all makes sense. If not tell me.<br><br>Thanks<br><br>Here is the screenshot:<br><a href="http://authorhenryemphrey.tripod.com/gallery/" target="_blank">http://authorhenryemphrey.tripod.com/gallery/</a><br><br><br><pre class=code>


Graphics 900, 900 
SetBuffer BackBuffer() 
 


;Loads image 

EATUM = LoadImage ("Eatum.png")  




;Sets image type 

Type EATUM 
Field x,y 
End Type  

;
Type Rectangle 
	Field x,y,w,h
End Type  



Type Rectangle2 
	Field x,y,w,h
End Type  


		
	
;Changing EATUM into a variable name 
player.EATUM = New EATUM 
player\x = 70 
player\y = 200 


;here is the top wall that EATUM will bounce off of
Topwall.rectangle = New rectangle 
Topwall\x = 0
Topwall\y = 0
Topwall\w = 1000
Topwall\h = 50
 

;here is the bottom wall that EATUM will bounce off of
Bottomwall.rectangle2 = New rectangle2 
Bottomwall\x = 0
Bottomwall\y = 780
Bottomwall\w = 1000
Bottomwall\h = 500 




While Not KeyDown (1)   


     Cls 
 

;here is where I'm trying to get EATUM to move around the screen randomly. Thus, what do I do? What do I add here?



Rect Topwall\x,Topwall\y,Topwall\w,Topwall\h,1
Rect Bottomwall\x,Bottomwall\y,Bottomwall\w,Bottomwall\h,1







;what do I put here to get random movement if EATUM bounces off of the 1 wall

If ImageRectCollide (EATUM,player\x,player\y,0,Topwall\x,Topwall\y,Topwall\w,Topwall\h) Then







EndIf 




;same here, what do I put here to get random movement If EATUM bounces off of the 2 wall


If ImageRectCollide (EATUM,player\x,player\y,0,Bottomwall\x,Bottomwall\y,Bottomwall\w,Bottomwall\h) Then




EndIf 









;Draws Eatum onto screen
DrawImage (EATUM,player\x,player\y)




	
Flip

Wend 

</pre> <br><br></td></tr></table><br>
<a name="1014794"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Add some more Fields to the TYPE EATUM:<br><br><pre class=code>Type EATUM
   Field x,y
   Field DirX, DirY
   Field TargetX, TargetY
End Type</pre><br><br>Now you can give hime a "job", e.g. walk to a certain point. Choose a point TargetX, TargetY by Random and let him move to this point. When he reaches this point, find again a random new point. You could also choose a players or enemy position instead of a random point. Now the figure seems to have "ai".<br><br>You can calculate the Direction from Player\X towards Player\TargetX and store this in DirX, DirY. Now follow this plan until he cannot move any more. In this moment you give him a new direction.  <br><br><pre class=code>Function PlayerMoves()
     If ImageRectCollide (EATUM, Player\x+Player\DirX, Player\y....)=0 Then
          Player\X=Player\X + Player\DirX
          .... 
     Else
          Player\DirX=Rand(-1,1)
          Player\DirY=Rand(-1,1)
          ...</pre><br><br>In my games the figures always get light changes in DirX, DirY (calculated by sin/cos in a range of -5/+5 degrees.) This makes them move not so straight and look a bit individual. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
