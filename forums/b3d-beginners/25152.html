<!DOCTYPE html><html lang="en" ><head ><title >CameraPick, Terrain, and Heightmaps.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CameraPick, Terrain, and Heightmaps.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >CameraPick, Terrain, and Heightmaps.</a><br><br>
<a name="261161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wrath_of_Zeus</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I use camerapick to return a triangle from the terrain, does each triangle point correspond to a pixel in the heightmap?  If I use the scale of the texture, and the position of the terrain, and the position of the triangle corner, can I reverse enginere to find which pixel in the heightmap represent that triangle corner?<br><br>Is there a one to one ratio between the pixels in the heightmap and the points in the terrain? <br><br></td></tr></table><br>
<a name="261181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unless the camera is very far away from the terrain then no, a triangle will be made up of many pixels.<br><br>To see exactly the distribution of triangles in a terrain, use this command after you set the graphics mode<br><br><pre class=code>

WireFrame true

</pre><br><br>This will allow you to see the edges of the triangles which make up the terrain and give you an idea of what scale everything is at.<br><br>If you are stretching a texture over the whole terrain then yes it is a simple matter to reverse engineer from the pick and find out which pixel in the texture the pick corresponds to. <br><br></td></tr></table><br>
<a name="262587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You misunderstand his question, possibly because he mixes up his vocabulary in his post by referring to the "scale of the texture" when the relevant information is dimensions and not scale.  He was not asking about the texture on a terrain or about the rendered image of the terrain, he was asking about the heightmap image used to generate the terrain.  That said, I have no idea.  I doubt it (that is, I doubt each vertex corresponds to a pixel) but I'm not sure since I've never really used Blitz terrain.  Logically there can only be a 1 to 1 correlation if the number of vertices is the same as the number of pixels in the heightmap image, and you can set the number of polygons to anything you want with the TerrainDetail command.  It may be however that by default, before you use TerrainDetail, terrains are loaded with a number of vertices equal to the number of pixels in the image; I'm just don't know.<br><br>As for the second part of the question, whether one can determine the heightmap pixel based on knowing information like the vertex position and the heightmap image dimensions, well sure.  A terrain is just a regular grid of vertices on the X and Z axes; the shape of a terrain is determined by deflections of the vertices on the Y axis.  Thus you can use the X and Z coordinates of a vertex to find the corresponding position on the heightmap image. <br><br></td></tr></table><br>
<a name="263352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The answer is yes. If you use <br>ModifyTerrain terrain,1.5,1.5,0.9<br>or ModifyTerrain terrain,2.0,2.0,0.9<br> you will see the same triangular area of the terrain modified.<br>the ScaleEntity x,z values times the x,z pixel location <br>in the height map will corrispond to the terrain x,z coords. <br><br></td></tr></table><br>
<a name="263495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I need to refrase that. Each pixel in the height map corrisponds to the <br>vertex of 4 different triangles that make up a square. <br>Changing just 1 pixel with ModifyTerrain will make a <br>pointed square with 4 sides. I suggest you exparament <br>with ModifyTerrain. <br>ScaleEntity x,z times x,z coords in height map will <br>corrispond with the Terrain x,z coords of the closest <br>vertex. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
