<!DOCTYPE html><html lang="en" ><head ><title >Problem with executable file and full screen mode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with executable file and full screen mode</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Problem with executable file and full screen mode</a><br><br>
<a name="1286679"></a>

<a name="1286680"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have run in to a problem with the executable file the game I'm making when I run it in full screen. What happens is the game will run just fine except it flickers really bad, as in give you a seizure bad. It's just fine in windowed mode.<br><br>So does anyone know what might cause this? <br><br></td></tr></table><br>
<a name="1286685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you set the backbuffer()?<br><br>If it is rendering to the frontbuffer this will happen. <br><br></td></tr></table><br>
<a name="1286686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, it's set to backbuffer. <br><br></td></tr></table><br>
<a name="1286697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You will have to post some code that reproduces this problem then. <br><br></td></tr></table><br>
<a name="1286707"></a>

<a name="1286708"></a>

<a name="1286709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just tried to do that by copying the bb file and striping away all the unnecessary code.<br>But for some reason the executable from the copy wasn't flickering, even with out deleting anything. But then the next few executable I made started flickering again, and it keeps going back and forth.<br><br>So I'm starting to think it's not my code (which I don't believe I changed), and something to do with the way I'm converting it to a exe file. <br><br>Sorry if that was confusing. <br><br></td></tr></table><br>
<a name="1286718"></a>

<a name="1286722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So I'm starting to think it's not my code (which I don't believe I changed), and something to do with the way I'm converting it to a exe file. <br></div><br><br>In that case try one of the samples included with Blitz3D, such as \samples\mak\castle\castle.bb<br><br>You might have to change the Graphics3D command to full screen. I don't remember how it is set in the original example.<br><br>Then create an exe in whatever way seems to be causing you problems. Does that work properly? If yes then how does the code differ from yours. <br><br></td></tr></table><br>
<a name="1286720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> According to what I understand from your problem, use Flip (True) instead of Flip (False)<br>What you're seeing is the tearing screen effect. (and if it does not happen in windowed mode, it makes me feel you're under win 10/8)<br><br>This problem has been discussed a few times in the past days, you 'll maybe find what you're looking for in the last topics from &lt;Blitz3d Programming&gt; section. <br><br></td></tr></table><br>
<a name="1286734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In addition to what Bobysait just said, have you made sure you're not in debug mode? <br><br></td></tr></table><br>
<a name="1286797"></a>

<a name="1286798"></a>

<a name="1286800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I forgot to say that I'm using 2D graphics, so sorry for any confusion that may have caused.<br>I been playing around with the code a little more today, and I found that lowering the frame rate seems to fix it. But then that leaves my game running at 15/20 fps instead of 30.<br><br>I also made a smaller program that dose the almost the same thing(the flickering looks a little different) .<br><br><br><pre class=code>
Global img

Graphics 640,480,0,1

 img = LoadImage ("test1.png") 

 SetBuffer BackBuffer () 

 game_timer =CreateTimer (100)

While Not KeyDown (1)

 Cls 

 For t= 10 To 500 Step 10
  DrawImage img,t,240

 Next

 Flip (1)

 WaitTimer (game_timer)

Wend

End
</pre><br><br> This and my game run just fine from blitz3d but have flickering problems when running from a exe file.  <br><br>So is this a speed problem, and if so how would I about fixing it?<br><br>and thanks for all the help so far. :) <br><br></td></tr></table><br>
<a name="1286805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try swapping the following to lines around:<br><br>img = LoadImage ("test1.png") <br><br> SetBuffer BackBuffer () <br><br></td></tr></table><br>
<a name="1286807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Switching them didn't seem to help any. <br><br></td></tr></table><br>
<a name="1286829"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, try putting the graphics command above the img global. <br><br></td></tr></table><br>
<a name="1286830"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> This seems to work, if an image moving across the screen is what you were after.<br><br><br><pre class=code>
Global img

Graphics 640,480,0,1

img = LoadImage ("test1.png") 

SetBuffer BackBuffer () 

game_timer =CreateTimer (100)

While Not KeyDown (1)
	
	For t= 10 To 500 Step 10
		Cls
		DrawImage img,t,240
		Flip(1)
		
	Next
	
	WaitTimer (game_timer)
	
Wend

End
</pre> <br><br></td></tr></table><br>
<a name="1286846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, the for/next loop was for creating multiple images on the screen. But that made me think about why I was doing that, and after a little bit of testing I found that I could get the same results as with my game if I used bigger image(6272/2320 pixles).<br>Now the map for the game is 3000 by 450, so could it be the size of the images I'm using is causing the problem? If so then what is a safe size? <br><br></td></tr></table><br>
<a name="1286860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is 640x480 even supported properly by your graphics card/os these days? <br><br></td></tr></table><br>
<a name="1286863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it seems to run just fine for me. The actual game is 800x600 though. <br><br></td></tr></table><br>
<a name="1286883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @steve_ancell :<br>You can't debug with random order just to see what happens ...<br><br><pre class=code>
	For t= 10 To 500 Step 10
		Cls
		DrawImage img,t,240
		Flip(1)
		
	Next
</pre><br>This will just clear the screen after every image drawn.<br><br><div class="quote"> <br>Try swapping the following to lines around:<br><br>img = LoadImage ("test1.png") <br><br>SetBuffer BackBuffer () <br> <br></div><br>This won't do anything at all.<br>An image is loaded into memory, there is nothing related to the current buffer<br><br><div class="quote"> <br>OK, try putting the graphics command above the img global. <br> <br></div><br>A global declaration is just a global declaration, while there is no initialization, it won't change anything.<br><br>I'm sorry but, whatever you might want to help, you're just leading to a very wrong way.<br><br><br>@Rooster :<br>If you cumulate WaitTimer and Flip(true) it will be hard to get syncrhonization on your timer if its framerate is higher than your screen rate, and the next flip can even miss the screen blank on the loop  and will have to wait for a second vertical blank to draw on screen. <br><br></td></tr></table><br>
<a name="1286898"></a>

<a name="1286899"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Bobysait:<br>On the global and swapping around thing, I think I was getting mixed up with loading images before setting the Graphics command. I wasn't quite with it yesterday and haven't used Blitz3D for quite some time, I use Monkey-X most of the time now.<br><br>I was unclear about what Rooster was trying to achieve, hence what I did in the For/Next loop.<br><br>@Rooster:<br>Could you let us know are you trying to get this part of your program to do?, it might help us all get to the bottom of it if we knew what you're trying to achieve. ;) <br><br></td></tr></table><br>
<a name="1286901"></a>

<a name="1286902"></a>

<a name="1286903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Matty:<br>Is 640x480 even supported properly by your graphics card/os these days?  <br></div><br><br><div class="quote"> Rooster:<br>Well it seems to run just fine for me. The actual game is 800x600 though. <br></div><br><br>I always do something along the lines of this to get around the oversize/undersize issues, all you need to do is multiply your image widths and heights with scaleX and scaleY respectively and then resize your images bases on the resulting floats. Also multiply those same variables with your drawing positions, this should make them remain consistant across different screen sizes when you deploy any games you make.<br><br><br><pre class=code>
Global deviceWidth# = GraphicsWidth()
Global deviceHeight# = GraphicsHeight()
Global desiredWidth# = 800
Global desiredHeight# = 600
Global scaleX# = (deviceWidth# / desiredWidth#)
Global scaleY# = (deviceHeight# / desiredHeight#)

</pre><br><br><br>[edit]Also set a boundary. Use that to prohibit the drawing of an image when it is fully outside the drawable area, this will speed things up when there's a lot going on.[/edit] <br><br></td></tr></table><br>
<a name="1286981"></a>

<a name="1286982"></a>

<a name="1287006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Bobysait <br> I just tried commenting out WaitTimer to see if it had any effect on the problem, but that just made it worse. Not sure if that it what you meant in your last post. It also reminded me that the placement of Flip and Cls seemed to have some effect on the severity of the flickering. <br><br>@steve_ancell<br> The code I posted was supposed to reproduce the problem that I'm having(but using one big image works better[edit] reproduces the problem better[/edit]).<br> It is kind of like what the main loop for my game would be like with out all the extra code that doesn't effect the problem in it (the For/Next loop was just there to put multiple images out there, but as I said one big image works better). <br><br></td></tr></table><br>
<a name="1286984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could even draw those multiple images to one big image buffer and then draw that buffer to the screen, although I think it might be a bit slow on some machines. <br><br></td></tr></table><br>
<a name="1286985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Huh? I'm sorry that just went over my head. <br><br></td></tr></table><br>
<a name="1286994"></a>

<a name="1286995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> You said you get better results with drawing one image at render time. If you wanted to draw multiple images you can draw them to an image buffer after creating it with CreateImage then setting the drawing buffer to that buffer.<br><br>The idea would be, after drawing to the created image buffer, to switch drawing to the back buffer, drawing the image buffer and then flip the screen. That's kind of how stuff is done in Java but I'm not sure if Blitz3D would benefit from that same method.<br><br>Did that make it any clearer?. I'm better at doing things rather than explaining them, I guess that's why I never became a school teacher. LOL <br><br></td></tr></table><br>
<a name="1287000"></a>

<a name="1287001"></a>

<a name="1287002"></a>

<a name="1287003"></a>

<a name="1287004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might explain it better, it theoretically only spams an image once to the screen after it's had graffiti drawn to it.<br><br>Let us know if it works without flickering.<br><br><br><pre class=code>
Graphics 800, 600
SetBuffer BackBuffer()


Global canvas = CreateImage(GraphicsWidth(), GraphicsHeight())
Global squares = LoadImage("squares.png")


Repeat
	SetBuffer ImageBuffer(canvas)
	Cls
	DrawSquares()
	
	SetBuffer BackBuffer()
	DrawImage(canvas, 0, 0)
	
	Flip
	
Until KeyHit(1)
End




Function DrawSquares()
	Local column, row
	
	
	
	For row = 0 To 4
		For column = 0 To 4
			DrawImage(squares, ImageWidth(squares) * column, ImageHeight(squares) * row)
			
		Next
		
	Next
	
End Function

</pre><br><br>[edit] I just went back to change something, I hope this works. ;) [/edit]<br>[edit] I also forgot to mention, the image I used is a 100x100 pixel 4-coloured square. [/edit] <br><br></td></tr></table><br>
<a name="1287005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh! Now i see. Now what I was trying to say back there was that the bigger image replicated the issue better (same pateran of flickering, and working at a lower frame rate than the other example I gave), not that the flickering was reduced.<br><br>Sorry for the confusion. <br><br></td></tr></table><br>
<a name="1287009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> OKies, no problem, I'm sure you'll get there in the end. ;) <br><br></td></tr></table><br>
<a name="1287010"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do any of the Blitz3D examples produce a flicker on the operating system that you're using?. <br><br></td></tr></table><br>
<a name="1287011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rooster</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never mind my last post steve (I was working on that when you posted the code.), because it looks like your code stopped the problem. :D<br>It even works when I increased the For/Next loops up to 0 to 20.<br>So I think this case is closed. :) If not I'll be back here(given my luck).<br><br>  Many thanks to everyone for helping me with this! <br><br></td></tr></table><br>
<a name="1287012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >steve_ancell</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> OKies Rooster, no worries. ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
