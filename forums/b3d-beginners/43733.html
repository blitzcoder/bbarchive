<!DOCTYPE html><html lang="en" ><head ><title >Any command to restart your app</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Any command to restart your app</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Any command to restart your app</a><br><br>
<a name="488137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D_Town_Tony</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there any command or method if you want to completely restart a game from the beginning, or is that something that I have to code up? <br><br></td></tr></table><br>
<a name="488160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something you have to write code for. <br><br></td></tr></table><br>
<a name="488184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >daaan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> sure...<br><br>put a label at the very beggining of your code.<br>for instance,<br>.startigpoint<br><br>then just use a function like<br><br>Function Restart()<br><br>    freeentity camera<br>    freeentity light<br>    freeentity etc, etc, etc (free any entities that wont<br>    be cleared by clear world)<br>    clearworld<br>    goto startingpoint<br><br>End Function <br><br></td></tr></table><br>
<a name="488193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think this may cause some problems with globals being set 'outside' tyhe main program etc. <br><br></td></tr></table><br>
<a name="488994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >doctorskully</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Boy, I've run into this problem too.  Tank's idea seems to work okay, but it really is simpler just to use ClearWorld (it SHOULD clear everything out involving entites) and EndGraphics (for everything left over).  The main problem with tank's idea is the fact that going to a label in a function won't work unless the label is inside the function.  You'd have to do it in your main code, not call a function.<br><br>As for Globals, just pre-define variables before the label.  Instead of:<br><br>.start<br>Global camera = CreateCamera()<br>Global light = CreateLight()<br><br>Do this:<br><br>Global camera,light<br>.start<br>camera = CreateCamera()<br>light = CreateLight()<br><br>One other thing you could do is that once you have it compiled into an executable, just do this:<br><br>ExecFile "myapp.exe"<br>End<br><br>so it'll just restart the application &amp; close the old one.  Note: Before compiling, Include won't work because A. it causes major memory leaks and B. a file can only be included once.<br><br>Hope this helps you. <br><br></td></tr></table><br>
<a name="489147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This was in my wishlist too since it would make things much easier. However, now I have a function named "reinit_everyhting()". I was scrolling trough the code on a rainy day and copied every variable etc. to a list that would set them to their initial states. Of course, ClearWorld does wipe out the Graphics for me. Alhtough I don't remember exactly if it frees 3D Sounds as well. <br><br></td></tr></table><br>
<a name="491151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think ClearWorld does sounds, but that's just my hazy recollection.  And for variables, this is why you should use arrays (or better yet, types) as much as possible: to make it easy to loop through and set everything. <br><br></td></tr></table><br>
<a name="491181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you design your code right it shouldn't be too difficult at all to remove all resources.  <br><br>As an example in most of my games I have something similar to this:<br><br><pre class=code>
function Deinitialise()
ClearWorld

For mousepointer.cursorobj=Each cursorobj
Delete mousepointer
Next

For bullet.projectileobj=Each projectileobj
Delete bullet
Next
For order.marineorderobj=Each marineorderobj
Delete order
Next
For objective.objectiveobj=Each objectiveobj
Delete objective
Next


For Sound.SoundObj=Each Soundobj
If Sound\SndHandle&lt;&gt;0 And Sound\Category&lt;&gt;MenuMusic Then FreeSound Sound\SndHandle
Next
For Weapon.WeaponObj=Each WeaponObj
Delete Weapon
Next 

For LevelData.LevelDataObj=Each LevelDataObj
Delete LevelData
Next
For Level.LevelObj=Each LevelObj
Delete Level
Next

For Item.ItemObj=Each ItemObj
Delete Item
Next 

For Tex.TexObj=Each TexObj
Delete Tex
Next 

For Particle.ParticleObj=Each ParticleObj
Delete Particle
Next

For Emitter.ParticleEmitterObj=Each ParticleEmitterObj
Delete Emitter
Next 

For Mesh.MeshObj=Each meshObj
Delete Mesh
Next 


For Hud.HudObj=Each HudObj
Delete Hud
Next

For Creature.CreatureObj=Each CreatureObj
Delete Creature
Next  
 

End Function



</pre> <br><br></td></tr></table><br>
<a name="492210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just mentioned 3D sounds because when you do a Clearworld, it removes everything that is 3D Stuff, so I guess at least some information of 3D Sounds would be lost as well. But since you can play 3D-Sounds as normal sounds too, maybe they just remain there as Non-3D Sounds. <br><br></td></tr></table><br>
<a name="492231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings Puppies,<br><br>@Matty: You might want to try<br><pre class=code>
ClearWorld

Delete Each CursorObj
Delete Each projectileobj
Delete Each marineorderobj
Delete Each objectiveobj

For Sound.SoundObj=Each Soundobj
If Sound\SndHandle&lt;&gt;0 And Sound\Category&lt;&gt;MenuMusic Then FreeSound Sound\SndHandle
Next

Delete Each WeaponObj
Delete Each LevelDataObj
Delete Each LevelObj
Delete Each ItemObj
Delete Each TexObj
Delete Each ParticleObj
Delete Each ParticleEmitterObj
Delete Each meshObj
Delete Each HudObj
Delete Each CreatureObj
</pre><br><br>Peace,<br><br>Jes <br><br></td></tr></table><br>
<a name="492449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks SoggyP - that is a much better method that I hadn't seen before. <br><br></td></tr></table><br>
<a name="493551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You see, as an oldfashioned coder who never uses types, I don't have to delete them, but simply may recycle Vars and Arrays, by initializing them again :P <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
