<!DOCTYPE html><html lang="en" ><head ><title >Sorry Nother Problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sorry Nother Problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Sorry Nother Problem</a><br><br>
<a name="808809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperSonic7</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I run my game (debug off) it goes really slow. The processor in my computer isn't too bad (AMD Athlon 3700+) but I highly doubt it is because my proc. is too slow. Can anyone shead some light on this? It could always be a problem in my code that's making it slow, but I highly doubt... <br><br></td></tr></table><br>
<a name="808815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, thats a lot of informations to work with isnt it.<br><br>How many surfaces do you have?<br>What size textures are you using, and whats the max size for you GPU?<br>How many Entities do you have?<br>How many Lights do you have?<br><br>Im going to stick my neck out, and say it because you have too many surfaces. Lookup the code archive for code to make two things into one Surface, or how to make two surfces on one mesh into one surface <br><br></td></tr></table><br>
<a name="808817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mortiis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you load stuff in main loop?<br>Do you load oversized and non power of 2 textures like 4200x1100? <br><br></td></tr></table><br>
<a name="808818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperSonic7</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, It's really only a 2D game that i made w/B+ demo than executed it on my real version of B3d, so we can scratch off all of those and think a little more 2D. Sorry i didnt mention this earlier. Just to let you know, it's like a ripoff of Space Invaders. <br><br></td></tr></table><br>
<a name="808821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> B+ should be able to handle that without even breaking a sweat. We're going to need some source code to sort this. <br><br></td></tr></table><br>
<a name="808822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, then reason is probably, cos youve done something really stupid, like Delay inside a loop inside your game loop, or such. (And no offence, <b>Everyone</b> makes stupid mistakes, its the good programmers that remember the results for next time ;)<br><br>1) MAke sure All initialization happens in the initialization phase.<br>2) Make sure that anything that can be moved out of the Game loop, <b>is</b> moved out of the game loop<br>3) Look at any other loops that you have, and again move anything out of them, that doesnt  need to be in them.<br>4) Look for any Pause/Delay or waits and make sure they have the right value<br>5) GO back to your loops and make sure you have the correct conditions to leave the loop. A simple error is "While x&lt;&gt;10", when x has the range 1-10, but... youve made it a float, so instead of the loop finishing 1 in 10 times, it finishes 1 in 2^14 times (ish)<br>6) Post a flow description of your game <br><br></td></tr></table><br>
<a name="808824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperSonic7</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well... I do have it delay 500 when the game starts. My programming teacher (I took a class) said that helps the game in some sort of way. My Gameloop is before my func. and after the Globals (the types are behind the globals).<br>Do you want all of the code or just some of it? <br><br></td></tr></table><br>
<a name="808825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> A delay after initialization just let the OS catch up with the program, so as long as it not in a loop, Delay 500 is OK, (it just means wait 1/2 a second).<br><br>Im loath to say post all the code, because it bodes badly if you cannot at least see where the bottle neck might be.<br>Post the main game loop first, and probably well ask for other functions. <br><br></td></tr></table><br>
<a name="808832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperSonic7</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Function GameLoop()<br><br>CreateStars<br>createenemy 1<br>createenemy 2<br><br><br>Repeat<br>	Cls<br>	updatepause <br>	updatestars<br>	updateshots<br>	updateplayer<br>	updateenemies<br>	updatescreen<br>	updatedelete<br>	updateexp<br>	GameOver<br>	Flip<br>Until KeyHit(1)<br><br>End Function <br><br></td></tr></table><br>
<a name="808838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol<br><br>I suppose I asked for that. <br>Can you post UpdatePause(), UpdateDelete() and UpdateExp()<br><br>Also square bracket [ then code then ] no spaces, then at the end [/code] <br><br></td></tr></table><br>
<a name="808840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperSonic7</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Function UpdateDelete()<br>	For s.typshot = Each typshot<br>		If s\x &lt; 0 Or s\x &gt; screenx Or s\y &lt; 0 Or s\y &gt;  screeny<br>			Delete s<br>			updatedelete<br>			Exit<br>		End If<br>		If s\sType = 2<br>		If shields &gt; 0<br>		If ImagesCollide(imgshield, shieldx, shieldy, 0, s\img, s\x, s\y, 0)<br>			shields = shields - 10<br>			Delete s<br>			PlaySound sndexp<br>			updateDelete<br>			Exit<br>		End If<br>		End If<br>		End If<br>		If ImagesOverlap(imghero, x, y, s\img, s\x, s\y)<br>		If health &gt; 0<br>			health = health - 10<br>			Delete s<br>			PlaySound sndExp<br>			updateDelete<br>		    Exit<br>		End If<br>		End If<br>		If health &lt; 10<br>			PlaySound sndlowhlth <br>			Exit<br>		End If<br>		ecount = 0<br><br>		For e.typEnemy = Each typEnemy<br>				<br>				ecount = ecount + 1<br>				If s\sType &lt;&gt; 2<br>		<br>			If ImagesOverlap(s\img, s\x, s\y, e\img, e\x, e\y)<br>				score = score + 10<br>				createExp e<br>				Delete s<br>				Delete e<br>				updatedelete<br>				Exit<br>			End If<br>			 End If<br>		Next		<br><br>		If ecount = 0 <br>			createlevel<br>			updatedelete<br>			Exit<br>		End If	<br>	Next<br>End Function<br><br>Function UpdateExp()<br>	For e.typExp = Each typexp<br>		e\currentframe = e\currentframe + 0.1<br>		If e\currentframe =&gt; e\frames<br>			Delete e<br>			updateexp<br>			Exit<br>		End If<br>		DrawImage e\img, e\x, e\y, e\currentframe<br>	Next<br><br>End Function<br><br>Function UpdatePause()<br>	<br>	If KeyHit(25)<br>		Repeat <br>		Until KeyHit(25)<br>	End If<br>End Function<br><br>Sorry! I tried the bracket thing; it wouldn't work. <br><br></td></tr></table><br>
<a name="808842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> That code][/code] thing only works when you post it<br><br>Right.... Ok for example<br><pre class=code>Function UpdateDelete()
For s.typshot = Each typshot
If s\x &lt; 0 Or s\x &gt; screenx Or s\y &lt; 0 Or s\y &gt; screeny
Delete s
updatedelete
Exit
End If</pre><br>1) Makes a loop of all the TypShots<br>2) Looks to see if S should be deleted<br>3) If so Delete s<br>4) Restart at Number 1<br><br>Now the question is, WHY ARE YOU CALLING UNDATEDELETE everytime you delete something. Just delete it, thats it.<br><br>GO through your code, find all the times you do this<br><pre class=code>Delete somthing
Updatesomething
Exit</pre>and change them to<br><pre class=code>Delete Somthing</pre>That is remove the exit and the call back to the upadate<br><br>Then go and look where the Nexts should be, because at the moment it looks like the For each loops are nested, and they shouldnt be <br><br></td></tr></table><br>
<a name="808845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperSonic7</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It didn't seem like the game went any faster when I deleted all the 'updatedelete's. Should I loop everytime typshot is in the code? <br><br></td></tr></table><br>
<a name="808847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...add some print statements which checks the time on entry and exit of a function and stores the time in a 'TFuncTime' type and keep track of the number of times the function is called. <br>At the end of the program output the total, average and lognest time for each function.<br>Concentrate on the longest and those called often. <br><br></td></tr></table><br>
<a name="808849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Function UpdateDelete()
	For s.typshot = Each typshot
		If s\x &lt; 0 Or s\x &gt; screenx Or s\y &lt; 0 Or s\y &gt; screeny
			Delete s
		Else if s\sType = 2 and shields &gt; 0 and ImagesCollide(imgshield, shieldx, shieldy, 0, s\img, s\x, s\y, 0)
			shields = shields - 10
			Delete s
			PlaySound sndexp
		ELse if ImagesOverlap(imghero, x, y, s\img, s\x, s\y ) and health &gt; 0
			health = health - 10
			Delete s
			PlaySound sndExp
			If health &lt; 10
				PlaySound sndlowhlth 
			End If
		Else 
			ecount = 0
			For e.typEnemy = Each typEnemy
				ecount = ecount + 1
				If s\sType &lt;&gt; 2 and ImagesOverlap(s\img, s\x, s\y, e\img, e\x, e\y)
					score = score + 10
					createExp e
					Delete s
					Delete e
				End If
			Next 
			If ecount = 0 
				createlevel
			End If 
		End if
	Next
End Function</pre> <br><br></td></tr></table><br>
<a name="808859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SuperSonic7</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I have to stop for now. I got a jam-packed scedule. Promise i will fix tomorrow. <br><br></td></tr></table><br>
<a name="809154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've found in my programming (without reading much of the above), that often in my UpdateEnemies or UpdateBullets functions, when I test each enemy or bullet in a for-each loop, often after I delete one I use Return to prevent trying to do something with the deleted entity.  Don't do that.  It <i>seems</i> to slow down the game, because all of the entity checks [i]after[i/] the deleted one don't get done until the next game loop because of the Return command.<br><br>I hope that made some sort of sense, and I hope it helped, too. <br><br></td></tr></table><br>
<a name="809158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, what buggy said wasnt the problem that you had, but was similar. What you were/are doing is after you deleted an entity, starting the list again, rather than just continuing to the next. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
