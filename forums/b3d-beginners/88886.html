<!DOCTYPE html><html lang="en" ><head ><title >Texture collision?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texture collision?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Texture collision?</a><br><br>
<a name="1009232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need to know how to detect whether or not my player collides w/ the grass, ground, water, etc.<br><br>and please don't tell me to use a 2nd object because i already made my level. <br><br></td></tr></table><br>
<a name="1009283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your best for grass is to do some of texture or grid look up. it all depends on how your level is built. is it geometric grass or simply a texture. is your water a seperate entity? <br><br></td></tr></table><br>
<a name="1009293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I do is divide the completed terrain into sections; grass,rocks,sand, etc. Then use collisions to determine the surface type. But since you said you didn't want to mess with the level you could do what Ross C is saying and check for distance on grass entities or a water plane. Or have some kind of grid system. <br><br></td></tr></table><br>
<a name="1010557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> my grass is simply a texture <br><br></td></tr></table><br>
<a name="1010581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know how much the processor would like this but...you could create pivot types and lay them out on your terrain and check distance on them. The problem with this is you would have to individually tell which ones are grass,dirt,sand,etc. :) <br><br></td></tr></table><br>
<a name="1010585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is also a function in the archives, that will return the picked U and picked V of a pick opertion, so you can get where abouts on a texture, the pick hit. <br><br></td></tr></table><br>
<a name="1010753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would love to get my hands on that... <br><br></td></tr></table><br>
<a name="1010780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Search for: "pickedu site:blitzbasic.com" in Google. <br><br></td></tr></table><br>
<a name="1010786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's in the Misc Effects catagorie of the code archives, for 3d.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=515" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=515</a><br><br>Super handy piece of code. <br><br></td></tr></table><br>
<a name="1011268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I did for the footsteps procedure in my game engine is this:<br><br>first all surfaces of the level map mesh are investigated. See the SaveB3D Code in the archive on how to determine the texture filename of a certain surface (GetSurface,GetSurfaceBrush,GetBrushTexture, GetTextureName(?) etc. ). Once you have stored all the names of those textures together with the surface handles that are using them, it will be pretty simple to do a LinePick versus the ground (need that for many other things anyway) and then check the PickedSurface(), and, depending on the texture under your players feet, play a certain footstep sound, eg. Metal Floor: Klong Klong...<br>This allows to use various textures and assign an individual sound to each one on them. Not sure if this is what you need.<br><br>I have a file named "footsteps.info" or so, containing something like this:<br><br>grass.jpg<br>feet_on_grass.wav<br>woodenfloor.bmp<br>feet_on_wood.wav<br>gravel.jpg<br>feet_on_gravel.wav<br><br>There is also a default sound for the footsteps, used by all ground textures that are not defined in "footsteps.info". This way it's not so much work fot the level designer.<br><br>Colliding with water may be a bit more complicated, because you want to make a diffrence between touching the water with the players feet only, and when the player is completely under water. So this may be more a "is player inside a water xyz box? and if so, only his feet or the entire body?" thing. ALso because of exceptional gravity modes when in or under water.<br><br>BTW GetSurfaceBrush and GetBrushTexture will create a new copy of the examined Brush and Texture. You need them only until you have determined the texturefile that is used by the surface in question. After that you HAVE to free those again to prevent a Memory Leak. <br><br></td></tr></table><br>
<a name="1011403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D4NM4N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> use a second mesh surface and....<br><br>oh<br><br>use a downward render to a 10x10 pixel image buffer, find the average rgb from the visible and test its rgb alliegence. If its in the  green range then its grass, if its grey its stone, if its brown its wood etc. <br><br></td></tr></table><br>
<a name="1011412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ARRGH, I forget who it was that made a function for me that allowed me to get the texture of the surface I was colliding with. Worked wonders for my golf project. I'll see if I can find it. <br><br></td></tr></table><br>
<a name="1011459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> D4NM4N's solution is crazy awesome, did u just make that up or do you know that from experience? <br><br></td></tr></table><br>
<a name="1011480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MadJack</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Suggest you pause the programme periodically and ask the player what his avatar's standing on. A dropdown list should do the trick. <br>The player won't mind. <br><br></td></tr></table><br>
<a name="1011930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ^^HAHAHAHHAHHAHAHHAHAHHAAHAHA <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
