<!DOCTYPE html><html lang="en" ><head ><title >ram</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ram</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >ram</a><br><br>
<a name="317424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have a problem my game in memory is 30mb!!!! is very big and only have two rooms, if no read lightmap is 29mb, the b3d file is very big in memory, how resolve this problem? <br><br></td></tr></table><br>
<a name="317604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this V-RAM? If so remember that when you use the graphics command and use double buffering, your using V-RAM. Can't remember the maths, but it's something like:<br><br>res: 800x600x32, double buffering.<br><br>800x600*32 /8 to get to bytes = 1,920,000 B<br><br>= 1.83 Mb * 2 (double buffering)<br><br>= 3.66 Mb<br><br>That's just for the screen set-up. You also will have textures to. Check the size of them. If you have mip-mapping enabled, i believe it creates 3 versions of your textures, for less detail far away.<br><br>This can all add up. Also check for memory leaks. You might be creating entities and not freeing them when finished. <br><br></td></tr></table><br>
<a name="317612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> This test reckons a 800x600 16-bit graphics buffer (yes, my desktop is 16 bit also) uses 711k for both the front AND back buffers.  Using Ross's maths it would be 937k per buffer.  But as you said, maybe the maths are a bit off...<br><pre class=code>A% = AvailVidMem()/1024
Graphics 800,600,16,2
B% = AvailVidMem()/1024
Text 0,0,"VidMem usage: " + (A - B) + "k"
WaitKey
End</pre> <br><br></td></tr></table><br>
<a name="317616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Few formulas to calc VRAM usage (my old post)...<br><br><a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=24157" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=24157</a><br><br>Another blatant bump for DXTC! :) <br><br></td></tr></table><br>
<a name="317723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> i found the problem, i use b3d pipeline and the texture by default load in ram and not in video ram, i check the flag vidram and now only 18mb :) <br><br></td></tr></table><br>
<a name="317751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In 16 bit mode you are using 2 bytes per pixel.  <br>To display a full screen would be 800x600x2=960,000. <br>Duble buffering would be twice that or 1,920,000 <br>In 24 bit mode you are using 3 bytes per pixel<br>and in 32 bit mode you are using 4 bytes per pixel. <br>A 1024 x 768 32 bit full screen would use: 1024x768x4=3,145,728 bytes per screen and dubble buffering would use twice as much. <br>That's the math, for the display itself, impossible to be less.  Other video features could increase this though. <br><br>In answer to your question about the large memory used. <br>DirectX stores textures and 3D objects in video memory for quicker rendering.  It is much faster to move data from one area of video memory to another than from computer memory to video memory.  Some video memories run at 800 mhz while most computer memories still run at less then 200 mhz. <br>To lower your video memory useage you must lower the number of textures or objects you are loading at once.  Only load what you need when you need it. <br><br>When dealing with textures the same math as above applies. <br>A 512x512 32 bit texture uses 1,048,576 bytes, of your video memory to store it there for use.  <br>One common mistake people make is they look at a jpg that is 150k long and think it only uses 150k, but jpg's are highly compressed files, and are expanded by your computer when they are loaded. <br>So that 150k jpg could easily use 2 megs of memory when loaded. <br>To lower your memory useage you could use 256x256 16 bit textures which only use 131,072 bytes per texture when loaded. <br>That's only 1/8 as much. as the 512x512 32 bit. <br><br>I hope this helps explain the large memory useage question. <br><br></td></tr></table><br>
<a name="317874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ David, what size of texture are you using? <br><br></td></tr></table><br>
<a name="317934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Genexi2</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  i check the flag vidram and now only 18mb :)  <br></div><br><br>So I'm guessin we users will require a vid card of over 12mb to run yer program? <br><br></td></tr></table><br>
<a name="318130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> 256*256 for textures and 128*128 for lightmaps <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
