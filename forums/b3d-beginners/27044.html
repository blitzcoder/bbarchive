<!DOCTYPE html><html lang="en" ><head ><title >Monkey Island questioning control</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Monkey Island questioning control</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Monkey Island questioning control</a><br><br>
<a name="282889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Real</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there all, <br>I'm new to blitz, and want to create a monkey island type game, you know when you get near a person then the button "talk to" appears and when you press "enter" a few sentences appear where you can choose from, and you get different feedback on each sentences etc. etc. <br>Anybody knows a technique, esspecially about the sentence control<br>Rick <br><br></td></tr></table><br>
<a name="282926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using blitz plus or blitz3d? <br><br></td></tr></table><br>
<a name="282949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Real</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'm using blitz3d <br><br></td></tr></table><br>
<a name="283077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, i'll try something when i get in from college :) <br><br></td></tr></table><br>
<a name="283137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Real</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, Thanx a lot! . I tried something with putting the questions into 2 dimensional arrays, and use the dimensions as a parent,child handler for the questions.<br><br>like:<br>sentence(1,0) = "question 1"<br>sentence(2,0) = "question 2"<br>sentence(1,1) = "answer to question 1"<br><br>but i think i'm really completely off track here, because if i want to go deeper into questioning(like a question on an answer) it gives me troubles. <br><br></td></tr></table><br>
<a name="283199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ford escort</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe by adding a kind of header in each sentence you can get rid of the problem.<br><br>i'll use 4 digit values style to store the sentences headers<br>LEN  NQID NBR  R(1) R(2) R(3)<br>0000 0000 0000 0000 0000 0000 sentence<br><br>in LEN you store the length of the text<br>in NQID you store the question relative to this choice<br>in NBR you store the numlber of replys for this sentence if it's a question<br>in R(x) you store the number of the reply x<br>then you store the sentence itself<br><br>here an exemple:<br>of how you can store a simple dialog in a one sized array like dialog$(xx) i just show you the strings content at the start of the line in brackets i'll show the array position of each string<br>i use the character | in my example to separate the header parts but it's not used in the real string stored<br><br>ap len  nqid nbr  R(x)|sentence<br>[1]0017|0000|0003|0002|0003|0004|what's your name?<br>[2]0011|0005|0000|ford escort<br>[3]0022|0006|0000|it' not youre business<br>[4]0012|0007|0000|i don't know<br>[5]0024|0000|0000|nice name,ford escort!!!<br>[6]0015|0000|0002|0008|0009|are you fool ??<br>[7]0028|0000|0000|damn, another amnesic people<br>[8]0003|0000|0000|yes<br>[9]0002|0000|0000|no<br><br>now how use this ? <br>here a really not optimised code example!!!<br>you'll have to write an editor for the datas<br><br><pre class=code>
Graphics 800,600,32,2
Dim sentence$(100)
Repeat
	z=z+1
	Read sentence$(z)
Until sentence$(z)="END"
ret=1
Repeat
	If ret
		ret=quest(ret)
	EndIf
Until ret=0
End
Function quest(id)
	curent=id
	l=unformat(sentence$(curent),1) ; get the lenght of the curent sentence
	nbc=unformat(sentence$(curent),3); get the number of choices proposed as reply
	;
	;show the questions and replys
	;
	Color $ff,0,0
	Text 0,0,Right$(sentence$(curent),l)
	If nbc&lt;&gt;0
	Color 0,$ff,0
		For reply=1 To nbc
			Text 5,10+reply*12,"["+reply+"] "+Right$(sentence$(unformat(sentence(curent),3+reply)),unformat(sentence$(unformat(sentence(curent),3+reply)),1))
		Next
	EndIf
	Flip
	
	;---------------------here the keyboard test (in my example) but you can do whatever mouse or keyboard test you want
	Repeat
		key=GetKey()
		choice=0
		If key&gt;48 And key&lt;49+nbc
			choice=key-48
		EndIf				
	Until KeyDown(1) Or choice&lt;&gt;0
	newq=0
	If choice
		newq=unformat(sentence$(unformat(sentence$(curent),3+choice)),2)
	EndIf
	Return newq
End Function
Function unformat(strin$,pos)
	Return Mid(strin$,((pos-1)*4)+1,4)
End Function
Data "001700000003000200030004what's your name?"
Data "001100050000ford escort"
Data "002200060000it' Not youre business"
Data "001200070000i don't know"
Data "002400000000nice name,ford escort!!!"
Data "00150000000200080009are you fool ??"
Data "002800000000damn, another amnesic people"
Data "000300000000yes"
Data "000200000000no"
Data "END"
</pre><br><br>hope this help you :) <br><br>it's just an idea but i'm sure there's other way to do this <br><br></td></tr></table><br>
<a name="283423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Real</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanx!, i will experiment a little with it :), but is this a working code example, cause at a first look it doesn't do anything on my machine. But it's something to crack my mind on:) <br><br></td></tr></table><br>
<a name="284094"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ford escort</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> cause at a first look it doesn't do anything on my machine <br></div><br><br>does it don't work ?? this works fine on my machine... <br><br>oops, add a cls command after the flip command<br><pre class=code>
	Flip
	Cls
	;---------------------here the keyboard test (in my example) but you can do whatever mouse or keyboard test you want

</pre><br><br>the exemple is not too deep if you choose the [it' not your business] reply the program ask you if your fool with a yes/no reply choices. this is the deepest dialog i made in the exemple because i don't have the time to code a longer exemple .i'll try to make a deepest dialog and maybe an editor if i have the time to next week <br><br></td></tr></table><br>
<a name="287438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ford escort</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> so did you achieve something, or use a totaly different system ? i'm interested on your progress with tat stuff :) <br><br></td></tr></table><br>
<a name="287881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ford escort</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> i finnaly do it, a monkey island style dialog editor, with an exemple dialog and source code to load a dialog made with it.<br><br><a href="http://perso.wanadoo.Fr/case/texted.zip" target="_blank">http://perso.wanadoo.Fr/case/texted.zip</a><br><br>note that the editor is at a really early stage no tree view, no sorting, no link back to previous part of the dialog no delete function...<br><br>feel free to post your comments about it <br><br></td></tr></table><br>
<a name="287895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is one of the areas where a scripting engine is perfect. FYI, Lucas Art adventure games were using a scripting engine called SCUMM (revolutionary in its time), you can find plenty of sites on the net talking about it.<br>&lt;pimp&gt;So... I'm sure BVM is really ideal for this, because it will allow you to not only define the dialog scripts, but also the rest that goes with it, like making a character face another one, pick up an object, making complete cut scenes, and so on. All that in external scripts (that is, not hard coded in the main application. Just like with SCUMM :)&lt;/pimp&gt; <br><br></td></tr></table><br>
<a name="288059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeroen</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey,<br><br>Try www.dead-code.org for an ideal engine for Lucasarts type of games. It uses direct3D in "the background".<br><br>We use it for project Joe (http://projectjoe.synthetix-interactive.com <br><br></td></tr></table><br>
<a name="288252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ford escort</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @jeroen<br><br>thanks for the link, interesting stuff but i guess the point for Real is to make such an engine in blitz :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
