<!DOCTYPE html><html lang="en" ><head ><title >Text Editor</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Text Editor</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Text Editor</a><br><br>
<a name="458086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya!<br><br>Any ideas / snippets on how to do a text type writter please Ladies And Gents. I've tried using ScreenText$=Input$(), but this wont allow for other keys to be pressed like ESC, TAB, Function Keys etc and / or the mouse to function. It's going to have an Edit / Preview mode aswell.<br><br>If you could help that would be tremendous!!<br>And many many thanks in advance,<br>Mikey F :) <br><br></td></tr></table><br>
<a name="458111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >semar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/codearcs/codearcs.php?cat=5" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?cat=5</a> <br><br></td></tr></table><br>
<a name="458797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the link to the code archives mate, allready looked in there. And not much help, but thanks anyway buddy.<br><br>What I'd like to know how to do, is make a program like notepad / wordpad using Blitz2D commands. Where I can type and using the mouse insert / paste and copy etc, text. And have this stored into a single string$ like for example. Text$.<br><br>If anyone could help, it would be magic!<br>Cheers and many many thanks :)<br>-Mikey F :) <br><br></td></tr></table><br>
<a name="458895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have any code you can show what you have tried so far, then perhaps someone could help you adjust this into something that works. <br><br></td></tr></table><br>
<a name="458929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I felt imbarrassed to post my feeble attempt, and managed to hunt it down. :lol:<br><br><pre class=code>
;Text Editor
Const xres=800,yres=600
Graphics xres,yres
SetBuffer BackBuffer()

Global Limit=70
Global EditText$,Show$
Global Key

Global posx,posy

While Not KeyHit(1)
Cls
	Do_Ya_Thing()
Flip
Wend


Function Do_Ya_Thing()
Key=GetKey()
If Key&gt;31 And Key&lt;128

	EditText$ = EditText$ + Chr$(key)
	;posx=posx+8
End If

If Key=13
	
	EditText$=EditText$ +Chr$(key)
	
	posx=0
	posy=posy+8
End If

;Draw Border
Rect 50,50,Limit*8,400,0

End Function
</pre><br><br>Thanks for your time and help,<br>-Mikey F :) <br><br></td></tr></table><br>
<a name="460066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I take it that a text editor is impossible with Blitz then.<br>It's a shame that. O well.<br><br>Thanks for your time :) <br><br></td></tr></table><br>
<a name="460077"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not impossible, it'd just take a lot more code than that. You have to remember a LOT of information, to do the most basic operations.<br><br>For instance, because B3D has no built-in text multi-line handling capability, imagine the problems you'd run into when you wanted to do a click,drag,select. You have to know all the text that is on those lines, at those positions on the screen. You can't read the text off the screen - you'd have to see:<br>a) how many pixels down the screen the inital mouse click is<br>b) stringheight of each line<br>c) calculate based on stringheight which line of text is being clicked on, vertically<br>d) figure out which line that is, over the course of the file - if the top of the file is off the top of the screen then it's going to be offset by the number of lines up to the one displayed at the top<br>e) once you know what line of text that is, find the horizontal pixel click location<br>f) do a stringwidth check for every combination of letters in the line until it is equal or more than the location you've clicked on the screen<br>g) remember this location of starting the text select, based not on pixel location, but on text row and column from the text data for the entire document stored in memory.<br>h) and NOW - you've got to start handling the dragging to select....... So far I've covered less than half of the operation.<br><br>That is one of the most basic operations you'd need in a text editor - but programming it manually without multi-line editboxes.. insanely time-consuming.<br><br>To do a single-line edit box even, is quite consuming, just for entering in names, etc. It has to handle key presses, backspaces (find the stringwidth of the previous character, remove that character from the string, AND move the cursor back that far), make sure they don't type too far or backspace too far, handle extended ascii characters, error checking to make sure people don't crash the program by it trying to "TYPE" out an F8 or whatever when they press it, support arrow-keys moving the cursor, support pressing TAB, etc etc etc.<br><br>Don't give up, just make sure you're programming within your limits. Start with a simple routine like you've got above. Figure out what you want to do with it next, and work that into it. Find any bugs in the new additions and fix them. Rinse, repeat, ad nauseum.<br><br>+BlackD <br><br></td></tr></table><br>
<a name="460086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> To help you though (after reading the above post) ;) here is an example single-line text box. It utilises all the "legal" character inputs, both enter keys, and backspaces, and will work with any sized font.<br><br><pre class=code>	Graphics 800,600
	font=LoadFont("arial",17)
	SetFont font
	SetBuffer BackBuffer()
	Inputx = 14				;Spot to start drawing text - for calculation
	inputtxt$=""			;The empty string we're using
	exitloop=0

	While exitloop=0 		;use this rather than keyhit(28) as you 
							;also need To detect KeyHit(156) for
							;numpad ENTER
		Cls					
		Color 155,155,255
		Text 5,10,"&gt;"
		Color 200,200,200
		Text 14,10,inputtxt$
		Rect inputx,12,8,13
		
		a=GetKey()
		If a &gt; 31 And a &lt; 126 And a &lt;&gt; 96 And inputx &lt; 780 Then
							;make sure it's a legal character,
							;and that it's within the screen limit
			inputtxt$=inputtxt$+(Chr$(a))
			inputx=inputx+StringWidth(Chr$(a))
			End If

		If KeyHit(28) Or KeyHit(156) Then exitloop = 1	;check for ENTER
		
		If KeyDown(14) Then			;do backspace stuff :)
			If inputx &gt; 14 Then
				lastchar$=Right$(Inputtxt$,1)
				inputtxt$=Left$(inputtxt$,(Len(inputtxt$)-1))
				inputx=inputx-StringWidth(lastchar$)
				If KeyDown(14) Then Delay 80   
						;checks if backspace is still being held, to delay
						;deleting the next character a bit - obviously if
						;you're using animation etc elsewhere, you don't
						;want a delay statement so would need to do this
						;another way
				End If
			End If
		Flip
		Wend
		
	Cls
	Color 255,255,255
	Text 0,0,"You typed : "+inputtxt$
	Flip
	WaitKey()
	End</pre><br>+BlackD <br><br></td></tr></table><br>
<a name="460160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you ever so much matey for all of that top advice!!<br><br>Cheers and take care,<br>Mikey F :) <br><br></td></tr></table><br>
<a name="460234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure the codearchives aren't of use?<br>I thought this was a very nice example (includes mouse-clicks as well):<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=895" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=895</a> <br><br></td></tr></table><br>
<a name="460451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DNielsen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Mikey F<br>Mikey, I assume you are using Blitz3D? Why not purchase the BlitzPlus, which has support for Windows, Gadgets, Requestors and stuff like that? Perhaps that (BlitzPlus) with those features would make life easier for you?<br><br>Just an idea <br><br></td></tr></table><br>
<a name="461711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all the top advice and help pointers!<br>Really appreciate it all! And will look into the possibilities,<br><br>Thanks ever so much,<br>Mikey F :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
