<!DOCTYPE html><html lang="en" ><head ><title >types and functions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >types and functions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >types and functions</a><br><br>
<a name="357496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> is there any way to pass any object\variable to a function ?<br>eg.<br><br>;-define type---------------<br><br>type car<br> field accelerate_timer<br> field decelerate_timer<br>end type<br><br>global blue.car = new car<br><br>;-main-program--------------<br><br>set_timer(blue\accelerate_timer)<br>set_timer(blue\decelerate_timer)<br>end<br><br>;-function------------------<br><br>function set_timer (object\variable)<br> object\variable = milliecs()<br>end function<br><br>;--------------------------- <br><br></td></tr></table><br>
<a name="357499"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you need to pass across<br><br>set_timer(blue.car)<br><br>I'm sure. <br><br></td></tr></table><br>
<a name="357501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you're just passing in an integer (accelerate_timer or decelerate_timer), so in order to pass that in you would have to define the function like this:<br><pre class=code>function set_timer (thetimer%)</pre> (The % is optional.)<br><br>But I see that you want to change the field value of the type, so this is not the way to do it.  (The value would be forgotten once you returned from the function.)  What you should do is this:<br><br><pre class=code>
Function set_timer(c.car, decelerate)
    If decelerate then 
        c\decelerate_timer = Millisecs()
    Else
        c\accelerate_timer = Millisecs()
    Endif
End Function
</pre><br>...and to call it:<br><pre class=code>
set_timer(blue, 0) ; Accelerate
set_timer(blue, 1) ; Decelerate
</pre><br><br>Something like that.  There are numerous ways to end up doing what you want.  This is the one closest (probably) to what you were thinking. <br><br></td></tr></table><br>
<a name="357510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks all<br><br>Incidentally, I'm reaching a stage in my program where its probably best I make a decision NOW as to how I'm going to reference my type object. eg. in my main loops is it best to do this method...<br><br><br>For loop.car = Each car (I have 4 different types of car)<br>  loop.car\field = whatever<br>Next<br><br><br><br>or, is it better to put them into an array like this:<br><br><br><br>car(1)\field = whatever<br>car(2)\field = whatever<br><br><br><br>I'm sure everyone of you have been in this position before, so your experience would be invaluable <br><br></td></tr></table><br>
<a name="357517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you're going to be doing the same thing to each one, by all means, do it the first way.<br><br>Generally you would put custom type pointers into an array if you wanted them indexed, so that you could reference a single, particular one in O(1) time.  But if you're doing something to all of them, then both ways are O(n).<br><br>And in fact, 4 cars is virtually nothing.  Even if you wanted to reference a single car, to loop through 4 to find that car is practically the same.  <br><br>So in this case, I would say to make it easy on yourself, the programmer. <br><br></td></tr></table><br>
<a name="357519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I started with for next<br><br>but now, I'm tempted to use arrays as I've reached the sprite to sprite collision routine I have to write, so I find myself with a problem<br><br>using the for next loop method, I can't compare blue.car\xpos to red.car\xpos (I just have loop.car\xpos)<br><br>if I switched to an array I could easily do this:<br><br>if car(1)\xpos = car(2)\xpos<br><br>so I think I'll switch <br><br></td></tr></table><br>
<a name="357564"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> or,<br><br>if blue\xpos = red\xpos <br><br></td></tr></table><br>
<a name="357590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> bear in mind I need to sort the sprites draw order based on their y position on the screen (a sort of faux 3D)<br><br>so being able to sort an array would be helpful<br><br>I can't see any downsides to using an array in fact ? <br><br></td></tr></table><br>
<a name="357597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, it's just another level of abstraction.  There's nothing wrong with it.  You could do the same thing with the type instances (since they're in a linked list, and swapping order would be quite fast) using Before, After, Insert, etc.<br><br>Whatever is easiest for you as the programmer. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
