<!DOCTYPE html><html lang="en" ><head ><title >TCP vs UDP</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TCP vs UDP</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >TCP vs UDP</a><br><br>
<a name="1177480"></a>

<a name="1177481"></a>

<a name="1177482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What are your thoughts?<br><a href="http://www.diffen.com/difference/TCP_vs_UDP" target="_blank">http://www.diffen.com/difference/TCP_vs_UDP</a><br><br>How much slower is TCP with today's broadband connections? For a multiplayer game involving no more than 8 people, TCP on an outgoing connection of at least 846 Kbps (which is 106 kB/s) should be fine for a average game. Would you agree or disagree?<br><br>I'm looking over the "CreateTCPServer (port) " in the Blitz help file, where can I find out more about using UDP with Blitz? Is this easier or harder than TCP or is the principles basically same? <br><br></td></tr></table><br>
<a name="1177483"></a>

<a name="1177484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> People have made successful TCP-based games in the past, so it can be done if you really want to.<br><br>But why bother? By building your own reliability and ordering layers on top of UDP instead, you can have all of the advantages of TCP while being able to "dial down" the effects in a gradual fashion depending on your usage scenario, e.g. ditch reliability for action gameplay while keeping both around for the chat client. The fact is, most of the time for gaming purposes TCP's features are still more of a hindrance than a help... and just because the hardware can compensate for them is not by itself a reason to put up with them when you don't need to.<br><br>Use a library like Rottnet and the hard work (that is, making UDP both ordered and reliable, to the extent that is realistically required) is done for you already. <br><br></td></tr></table><br>
<a name="1177546"></a>

<a name="1177547"></a>

<a name="1177548"></a>

<a name="1177549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I just downloaded Rottnet the other day.<br>I agree that using TCP just because the hardware can compensate is poor logic. Seems like UDP is the way to go.<br><br>More on TCP vs. UDP.<br><a href="http://gafferongames.com/networking-for-game-programmers/udp-vs-tcp/" target="_blank">http://gafferongames.com/networking-for-game-programmers/udp-vs-tcp/</a><br><br>In defense of TCP let's say you had a really good server and your game was a action packed FPS. Would TCP still be a poor choice? According to the link above the answer would still be "NO".<br><br>But they do raise a interesting point:<br>"I note runescape uses TCP and our warehouse staff are always playing the bloody game. That’s a perfect example, no doubt the creators want it to work anywhere ANYONE can get the internet."<br><br>Could using UDP potentially limit how many users could play my game? <br><br></td></tr></table><br>
<a name="1177597"></a>

<a name="1177600"></a>

<a name="1177601"></a>

<a name="1177602"></a>

<a name="1177603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> From my understanding :<br>UDP is a protocol to send a packet from one emitter to a receiver, that's it. The packet may be lost, the packet may be corrupted, the packet may arrive in the wrong order (a previously sent packet may arrive after a recently sent packet)<br><br>TCP is a protocol to send a packet from an emitter to a receiver but with some added checks so that it makes sure the packet always arrives, integraly, in the right order.<br>This means that if a packet is lost or using a long path, the latency will be greater and the client program will have to wait.<br> <br>But with UDP, you can add your own routines to check the packet size (in bytes), the packet Id (to determine its order), and to decide when to keep waiting for a traveling packet or when to discard a traveling packet.<br><br>The packets may use different paths depending on the network state (some ISP modems may be damaged or full, some phone lines may be damaged), so sometimes i think it is better to discard a traveling packet and to wait for the next packet, or to send a request to the sender for a copy of the packet (which may use a shorter path this time, depending on the network state)<br><br>This is why UDP is better for video games which require several packets sent each second. <br>Now how to manage the update of the world on the server if one or several packets of a client do not arrive in time is another story (i mean a challenge).<br><br>I think that instead of trying to code the perfect system to make sure the game runs with computers all over the world connected to only one international server (an thus with a high ping for many users), a better approach is to have several national servers so that the ping is always low for the users (or at least lower).<br><br>That's what i have understood so far, but i may be wrong on some points. <br><br></td></tr></table><br>
<a name="1178044"></a>

<a name="1178046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BIG BUG</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are some games out there which use TCP instead of UDP. <br>However the TCP implementation in Blitz3D is a special case. A lag in a TCP connection will not hold only the data back, but your whole game will be stopped until the data has arrived (or a timeout occured).<br>So anything other than a simple card game should use UDP (or an external library) instead of TCP. You shouldn't use TCP not even as "additional" protocol for chats or something. Simple as that. <br><br></td></tr></table><br>
<a name="1178123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've used UDP with B3d, for the following reasons:<br><br>1. Unlike TCP UDP is connectionless protocol. So if your using winxp, or win7 the max number of inbound connections is limited to 10, UDP has no limit.<br><br>2. UDP is non blocking, and this is ideal as B3D is running on single thread.<br><br>3. Using UDP I send position data about 10/sec and it works nicely. <br><br></td></tr></table><br>
<a name="1178184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Imperium</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can actually change the number of connections in XP to 100 if you know where to look.<br><br>UDP wins. <br><br>@Wayne do you have an example you could share? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
