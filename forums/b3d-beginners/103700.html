<!DOCTYPE html><html lang="en" ><head ><title >[Solved] FastExt Shadow Receiver Mesh Issue</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >[Solved] FastExt Shadow Receiver Mesh Issue</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >[Solved] FastExt Shadow Receiver Mesh Issue</a><br><br>
<a name="1250921"></a>

<a name="1251096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I was trying out the Fastext library trial with shadows and I was wondering how I can properly use a shadow receiver on my mesh or primitive.<br><br>It is always dark and flickering on meshes when I set them as shadow receivers and move. Shadow casting seems to work ok though.<br><br>Does anyone have a similar experience or have a solution to fix this?<br><br>What shadow system do you recommend? <br><br></td></tr></table><br>
<a name="1250922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds like you're getting <a href="https://en.wikipedia.org/wiki/Z-fighting" target="_blank">Z-fighting</a>. This is a particular problem for shadow systems that work like FastExt since they usually involve building an exact clone of the receiver and overlaying it on the original.<br><br>Normally such engines allow you to workaround this with an "offset" parameter or something similar, that determines how closely the clone's polygons sit to those of the original. Moving them further away lets you fine-tune for bigger scenes with less Z-precision (at the cost of "floating" if you get too close). You should probably investigate the mesh building calls for a parameter named something like that, and increase it in small increments until the effect reduces. It'll probably be something very small by default. <br><br></td></tr></table><br>
<a name="1250923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Yasha, thanks for this explanation and info. I'm really new to this offset thing and mesh calls with Blitz.<br><br>Can you provide a simple example so I could have a reference to play around? <br><br></td></tr></table><br>
<a name="1250939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This problem seems to happen more or less depending on the graphics card, it may help if you use a "smaller" camerarange (0.1,100 or 1,1000) or if you increase the space between the receivers and the shadows. There is also the same problem with stencil shadows... <br><br></td></tr></table><br>
<a name="1251086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Took me a while to find my copy of FastExt...<br><br>The function I'd recommend trying is ShadowOffset (there are two versions of this depending on whether you're using the simple or multiple shadow engine).<br><br>It allows you to offset the position of the shadow mesh by an X/Y/Z displacement. It's only demonstrated in ShadowsMultiple_TrickForPlatformers.bb (which showcases the "multiple" version; the difference is that the "single" version doesn't require you to specify the first parameter shade entity). It looks to me like it moves the shadow object by a vector specified in camera space, so normally you'd want to use 0, 0, Z (but other values might be more appropriate? play around). That demo uses 0, 0, 1.5.<br><br>Unfortunately this isn't a normal-based offset so it might not work for all camera angles even if it does address the basic problem. You'll have to test and see, and maybe tailor the offsets to your scene. <br><br></td></tr></table><br>
<a name="1251094"></a>

<a name="1251095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Yasha, I did see that example and now I know where I can get more reference. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
