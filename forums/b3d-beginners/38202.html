<!DOCTYPE html><html lang="en" ><head ><title >force / detect resolution hertz</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >force / detect resolution hertz</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >force / detect resolution hertz</a><br><br>
<a name="422438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi from France,<br><br>I'm not expert in programming especially in special extern code, like DLLs...<br><br>Please, can you tell me the "most easy way" to force a monitor frequency (in Hertz) ?<br><br>I notice that the demo called &lt;&lt;Aerial Antics&gt;&gt; use DLLs .. made with PureBasic I presume ?! ( systemblitz.dll and blitzcpu.dll ) and this demo force a 800 x 600 in 75Hz<br><br>For example, I need a 640 x 480 x 16   .. in 75Hz<br><br>We can only do this with DLLs ??<br>Thanks a lot to everybody !!<br><br>Ralph <br><br></td></tr></table><br>
<a name="422443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most people here will tell you not to mess with the users monitors refresh rate.  If set incorrectly, it can actually damage some monitors.<br><br>Also, many users may get upset if you change their monitors refresh rate.  My wife, for example, complained that our monitor flickered too much for her and hurt her eyes, so I bumped the freq. up from 60 Hz to 72 Hz to help.  She and I want it to stay that way.  We don't want programs tampering with that setting. <br><br></td></tr></table><br>
<a name="422448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I understand that 60Hz hurt eyes..<br><br>In fact, LCD monitors use 60Hz, but it is not comparable to CRT monitors, however, some games need to adapt frequency to run at the same speed on every computers, isn't it ?<br><br>Well, on TV, it is 50Hz or 60Hz and many people play on !!<br><br>I Think that "all" monitors are able to display 75Hz.<br><br>Thanks to answer. <br><br></td></tr></table><br>
<a name="422451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> however, some games need to adapt frequency to run at the same speed on every computers, isn't it ? <br></div><br>No.  Use a <a href="http://www.blitzbasic.co.nz/b3ddocs/command.php?name=CreateTimer&amp;ref=2d_cat" target="_blank">Timer</a> or use the <a href="/codearcs.php?code=193" target="_blank">DeltaTime method</a> to frame-limit your game.<br><br>Changing refresh rates to make the game run at the desired speed is a bad idea.  For instance, what if (as you say "I Think that "all" monitors are able to display 75Hz.") 75Hz isn't available to someone playing your game?  What do you do then?  Don't let them play at all or let them play it at an incorrect speed? <br><br></td></tr></table><br>
<a name="422455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >joncom2000</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> "some games need to adapt frequency to run at the same speed on every computers, isn't it ?"<br><br>No that is incorrect, you should scale your movements based on the speed of the PC it's playing on not based on how fast the screen is drawn. There are some examples on www.blitzcoder.com that give different methods for keeping the gamespeed more constant across a wider selection of computers, I would use on of them as tampering with the refresh rate is the worst thing you could do. <br><br>"I Think that "all" monitors are able to display 75Hz<br><br>Well no as LCD's almost always only do 60Hz so setting it to 75Mhz wouldn't do much good there would it ;) <br><br></td></tr></table><br>
<a name="422481"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will personally come and shoot you if you try to force my monitors refresh rate - nothing good comes out of it and worse case is that you owe me one big &amp; expensive (fried) monitor.<br><br>I also heard that ppl jump up when you stick electronic cattleprod in their rear end - can I try this with you? ;P <br><br></td></tr></table><br>
<a name="422485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> compared to console programming (or atari ST or Amiga 500 etc) we pc games programmers are doomed to make our games run on a wide range of diffrent hardware. It is true, this is not very easy and we waste some time and energy to do this correctly, compared to, say, XBox Coders.<br><br>Nevertheless, even when there are DLLs that can force a frequency, I think this is a bad style that people don't like.<br><br>BTW if you really want to use the physical Frequency, you need to use this:<br><br>vwait<br>flip 0<br><br>instead of a simple<br><br>flip true<br><br>because flip true runs with 50 HZ (AFAIK) on all machines<br>and ignores the true frequency.<br><br>So use the currenty vsync frequency to prevent the pics become cut-off halfway with anything other than synchronisation with the hardware vsync.<br><br>Then use Delta Time to multiply all motion and movement, as well as parameter for UpdateWorld() (that will delta-t-coorect the 3D animations)<br><br>eg:<br><br>ft#=t-t2<br>delta#=ft# / 16.67<br>t2=t<br>t=millisecs()<br>...<br>moveentity player,0,0,playerspeed# * delta#<br>...<br>updateworld(delta#)<br>renderworld()<br>...<br><br>of course you need to initialize t and t2 before you start the mainloop. <br><br></td></tr></table><br>
<a name="422496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keep in mind that the<br><br>VWait<br>Flip 0<br><br>method is incompatible on some older cards and causes horrendous flickering -- Flip True is the only surefire method I've seen that will stop flickering across the board. <br><br></td></tr></table><br>
<a name="422498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I Think that "all" monitors are able to display 75Hz. <br></div><br><br>I only have two monitors, and neither of them will do that. My CRT only does 72 and my TFT only does 60. <br><br></td></tr></table><br>
<a name="422517"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks to all for informations but please don't be "aggressive" ;)<br><br>Well, perhaps the DLLs detect if monitor is able to display frequency ?? (have you tried the "AerialAntics" demo ??)<br>(...)<br><br>In fact, the "CreateTimer()" solution cause jerks if the current frequency isn't proportionnal to "forced" frequency (example: CreateTimer(50) will run properly on 50Hz and 100Hz but jerk between 50 and 100...).<br><br>I thought about several solutions and JFK mentionned ones who is certainly the best way !<br><br>It's true that PC developer must adapt many many parameters ;)<br><br>Go well everybody !<br><br>Ralph <br><br></td></tr></table><br>
<a name="422570"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mustang:<br>&lt;&lt;<br>I will personally come and shoot you if you try to force my monitors refresh rate<br>&gt;&gt;<br><br><br>I have visited your web site and you force visitor to change resolution for viewing your pages<br>(...)<br><br>LOL<br><br>LOL<br><br>LOL<br><br>;) <br><br></td></tr></table><br>
<a name="422666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I have visited your web site and you force visitor to change resolution for viewing your pages <br> <br></div><br><br>:) I had forgotten that I do that check... not really forcing or anything, just suggesting. Funny thing here is that the (current site version) site was designed to fit even 800* wide browser screen but my nag-screen suggests 1152x864 rez... it's been years when I last had a monitor that was capable of only 800*600 so I have not seen the nag-screen myself for a very long time... have to fix that someday! <br><br></td></tr></table><br>
<a name="422754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> morduun - my tft screen runs with 60 Hz physical sync, and when I use Flip true, it will use 50 Hz instead and completely ignore synchronisation, resulting in ugly cut off frames.<br><br>THe only solution I see atm is to initially perform a test, somethin like this:<br><br><pre class=code>
vwait
t1=millisecs()
delay 1
vwait
t2=millisecs()

hz=1000.0/(t2-t1)
if (hz&gt;= 45) and (hz&lt;=300) then ; assuming monitor has 45 to 300 Hz
 can_handle_vwait=1
else
 can_handle_vwait=0
endif
...
while  game
 ...
 if can_handle_vwait=1
  vwait
  flip 0
 else
  flip
 endif
wend
</pre><br><br>tho I used vwait:flip 0 in my latest demo and nobody mentioned any flickering... <br><br></td></tr></table><br>
<a name="422805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Raul</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> to Mustang:<br>Yes, it's a little ironic but I work on 800x600 and I can't slide your web pages. For correctly viewing, we are "forced" to change resolution ;)<br>Your site looks great !<br>(...)<br><br>Thanks JFK for your vision of solution.<br><br>I'll try to work without DLLs and without forcing monitor's frequency...<br>...I'm happy to see that users help others :)<br><br>Merci beaucoup a tout le monde et bonne continuation a tous les utilisateurs de Blitz !<br><br>Ralph <br><br></td></tr></table><br>
<a name="422951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >morduun</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> jfk -- my sony vaio laptop flickers madly with that code, making the display completely unviewable.  :/  If flip true fails on your TFT then there's just no way to ensure a smooth display without just taking as good a guess as you can and giving the user options to change things around. <br><br></td></tr></table><br>
<a name="422990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mustang</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was about to suggest the same thing Morduun said, giving users ability to choose. Most games out there have an option to enable or disable Vsync, and so should we. Of course you then have to do the gamelogic so that you don't use fixed sync... but this is how you should do PC games anyway (meaning DeltaTime). <br><br></td></tr></table><br>
<a name="424867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> hehe.. i just avoid the issue by forcing a lower frame rate, vwaiting on it, and working in some nice tweening for animations. Then again, I'm writing 2D games where 30 FPS is very playable.. I guess with 3D its a bigger issue. <br><br></td></tr></table><br>
<a name="624417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have found that using frame tweening and delta timing works very well together.  The tweening gets rid of any sharp movements that delta timing creates <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
