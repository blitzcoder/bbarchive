<!DOCTYPE html><html lang="en" ><head ><title >Why is Global considered bad?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why is Global considered bad?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Why is Global considered bad?</a><br><br>
<a name="1076335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey all,<br><br>I've seen multiple posts where experienced programmers have mentioned that using Global variables isn't good practice and should be avoided if possible.<br><br>Is there a specific reason why? I don't overkill the Global variables in my programming, but I certainly use a lot of them only because it seems that there's no other way to share those variables throughout the whole program, including more than one function and whatnot (e.g. a Global variable for the amount of life remaining which is accessed many times throughout the game.)<br><br>As a self-taught programmer, I've always done things my own way, but if I ever considered working with a team, I would want them to be able to read and understand my code easily. <br><br></td></tr></table><br>
<a name="1076353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've seen multiple posts where experienced programmers have mentioned that using Global variables isn't good practice and should be avoided if possible. <br></div><br><br>You sure it's not just me doing that?<br><br>The reason is to do with side effects and referential transparency. In other words, what effects can a function have on the program as a whole that aren't completely described by the parameters and return value? Any such effects can't immediately be determined <i>at the call site</i>, and therefore it makes it harder to reason about that function's behaviour. The other thing is that functions exist to encapsulate operations; if the variables being used are shared, the operation isn't properly separated from the rest of the code logic. Not so bad when the procedure is doing something with a world-state thing like a global list or the main camera, but when minor temp variables are shared between procedures, there's no clear division of logic. It may make it impossible to express some structures altogether (e.g. recursion doesn't work if each invocation of the function can mutate the same variables).<br><br>It's basically the same as the argument against Goto. However, it's a lot less important, and a bit harder to follow. There are certainly a lot of good reasons to use Global variables in Blitz3D, not least because it doesn't support most of the alternatives (you need OOP or FP for that).<br><br>This is also definitely a minority opinion in Blitz, because of the language's focus. In games, there are plenty of places where it may be sensible for things to be global, such as the main camera, the "world" (however you define that), the sun, etc. <br><br></td></tr></table><br>
<a name="1076380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol, yeah, I did see your name a lot with those comments.<br><br>I see what you mean, though. I honestly hate going back to my Global list and making a new variable, so whenever I can, I use Local variables in the function, things that just get thrown away after the function ends. <br><br></td></tr></table><br>
<a name="1076417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would agree, that in a general overall "industrial-standard-world" globals can be a "bad thing", but in B3D, there's at least 3 main reasons why they're necessary (actually thwese are very closely related):<br><br>1) Blitz doesn't support Static vars, and Constants must be declared as they are defined, and with other constants or literals, no constant function returns are supported either.<br><br>2) Globals save time and memory from repeating functions to retrieve certain values, such as millisecs() or longer, more intensive functions such as dealing with registry values<br><br>3) When dealing with entities, such as cameras or terrains or maybe images such as a backdropor HUD overlay, that are consistent and must be accessed by various parts of the program separately, it can be overkill I think, to send the handles of these if there's only ever one instance of them in your game for example. <br><br></td></tr></table><br>
<a name="1076443"></a>

<a name="1076445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are situations to use Globals and others for Locals, it's only a matter of a rational decision by the coder.<br><br>As long as a variable is used only by one function, it should be local. Nothing's wrong with Globals IMHO, if you use Globals only when it makes sense for some reason. There are a few things you should do when using globals:<br><br>-Use good, descripting names. In a Coproduction with other people you may use a personal prefix for your globals, constants and function names, eg.: RtG_ms%<br>-Always declare locals explicitely as locals (if you create a local only by using it, it may interefere with a global of the same name): Local i%=0<br><br><div class="quote">  functions exist to encapsulate operations  <br></div><br>I agree to some degree :) but I see the main (traditional) reason in: if your program is doing a certain thing more than once (if it's socalled redundant) during your main loop then you can save ram and work if you call a function instead.<br><br>In Speed-Optimized Assembler Code the programmers sometimes "unencapsulate" functions and put them back into the main loop code, even if it was called many times, only to prevent the overhead of jumping, stack handling etc. caused by the function call, eg given:<br><br>c=a<br>if a&gt;b then c=b<br><br>is the same as<br>c=min(a,b)<br><br>but for such a simple action a function call may be considered an overhead, especially in speed critical sections.<br><br>My Conclusion: Globals are ok, but sometimes less is more.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1076446"></a>

<a name="1076448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I agree to some degree :) but I see the main (traditional) reason in: if your program is doing a certain thing more than once (if it's socalled redundant) during your main loop then you can save ram and work if you call a function instead <br></div><br><br>That's not the only reason, bear in mind.<br><br>The name function comes from the mathematical term. In that sense, a function is an expression that takes some values and does something with them to produce a result value (this is why some languages distinguish between "functions" and "subroutines"). If you're writing a program in this sort of style (related to Functional programming), global variables can throw things off because the result value is no longer completely determined by the input values. Note that this doesn't apply to global <i>constants</i>, because if they can't be mutated by whatever happens within the function body then they also can't change the result from one call to another.<br><br>As a fan of functional programming, I tend to take this point of view. Blitz3D is most definitely not a functional programming language, and it's also more likely that your functions will actually be subroutines, that do something "to" something in order to change the state of the world - this is the most natural way to understand a game's main loop, after all, and games are what B3D is normally for. So Blitz3D has a lot of good reasons for using globals, yes (in fact, don't tell anyone I said this, but there are a few places where even Goto has its uses in B3D, due to the lack of certain other features like "continue").<br><br>I tend to adopt an extreme position simply to try to act as a counterbalance against the kind of sloppy code in the official examples, and that beginners often produce, where everything is global for no reason, the use of functions isn't fully understood, nobody declares variables etc. My hope is to influence people slightly into adopting a happy medium position where they write code that is still appropriate for B3D, but also cleanly structured and easy to read.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1076549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I suppoose, really, that understanding the deeper implications and effects of what you're doing when it comes to declaring globals etc. is the impoortant aspect.<br>What separates the "beginner" in Yasha's comment, is not so much a tendency for bad programming, but more the lack of understanding of the reasoning when and where to apply certain implementation according to the situation.<br><br>At the end of the day, I suppose, that so long as you (and presumably whoever else may be looking at or working with your code) understand fully what effect doing things in a certain way has, and that it's generally agreed to be the "best" (most memory efficient, fastest, easiest to follow - whatever's important) way to do so, and that's clearly your intent, then it should be fine.<br><br>Naturally, if you're working within a ffrramework where there are protocols and requirements, these can have a profound effect ion the decision.<br><br>Yeah, this could really be applied to any situation or environment, which each have their own limitations and requirements, so is quite generalised. <br><br></td></tr></table><br>
<a name="1076557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @jfk<br>Wait, you can have a Global and a Local variable with the same name? I never knew that, but why on earth would anyone want to confuse the two? That sounds like a programming nightmare. And I'm a little confused as to how Blitz would know the difference. The only way I could see that working is if, say, Global x = 1 is declared early in the program, but later in a function, Local x = 2 is declared and Blitz disregards the Global x for the whole function. Is that accurate? Sounds like Namespace and Strict commands, which I've never liked. Still, I can't see a purpose for that, as I would much rather name the Local variable something different than the Global, like tempx or something.<br><br>I feel a lot better about my Global variables now. Mostly, I was just concerned that using Globals would cause problems with my game or something, but from what I've gathered from this topic, I seem to be on the right track with how/when to use Globals. <br><br></td></tr></table><br>
<a name="1076561"></a>

<a name="1076562"></a>

<a name="1076563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Local x = 2 is declared and Blitz disregards the Global x for the whole function. <br></div><br><br>Yep, that's what happens. Note that it only applies within defined functions; you can't have a local shadow a global in the outermost scope, because globals are declared there too and it would count as a duplicate declaration. The issue jfk mentions about interfering names is unlikely but possible, especially in large projects with code written by many people. (One more reason why I recommend IDEal to all: it highlights declared locals, globals, functions, types, and undeclared names all in different colours, so you can quickly see what names do.)<br><br>Just for fun, look what Blitz3D's namespace rules let you do if you want to really upset other people:<br><pre class=code>Type Rocket
	Field x, y, z
	Field rocket.Rocket
End Type

Global Rocket.Rocket = New Rocket

Function Rocket.Rocket(Rocket.Rocket)
	If Rocket\rocket&lt;&gt;Null
		Return Rocket\rocket
	Else
		Return Rocket
	EndIf
End Function

Rocket = Rocket(Rocket)</pre><br><br>Functions, types, globals, locals and fields all inhabit separate namespaces (actually there are good reasons why one might want to take advantage of this... but that's advanced stuff).<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1076578"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Type Rocket
	Field x, y, z
	Field rocket.Rocket
End Type

Global Rocket.Rocket = New Rocket

Function Rocket.Rocket(Rocket.Rocket)
	If Rocket\rocket&lt;&gt;Null
		Return Rocket\rocket
	Else
		Return Rocket
	EndIf
End Function

Rocket = Rocket(Rocket)
</pre><br>Hehe, I have to admit, that's awesome to look at. Confusing, but fun to try and decipher all the same. <br><br></td></tr></table><br>
<a name="1077325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  The issue jfk mentions about interfering names is unlikely but possible <br></div><br>It usually happens when you are introducing a new local variable in a function, but you're too lazy to declare it (when you just start using it inside a function, it will be local), then later on you introduce a global of the same name - the one that was local before will become global now, altering the state of your global when the function is executed, probably causing problems. <br><br></td></tr></table><br>
<a name="1077328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I just add a 'G_' header to all my global variable identifiers. No problem with global-local conflicts then, and I can see right away that I'm dealing with a global and not a local with the same name. <br><br></td></tr></table><br>
<a name="1077447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Personally I just add a... <br></div><br><br>It's most likely to be a problem when more than one person's code is in the project, usually because you're including someone's premade library.<br><br>Anyway, if the functionality <i>wasn't</i> there to let locals shadow globals, it would be pretty hard to include someone else's code without a huge risk of either it not working as expected, due to invisibile interference, or errors with declaration (sure you can still inadvertently name a top-level function or global thingy the same, but that's going to be a lot easier to correct than either going through every single temp var, or them <i>putting a namespace tag</i> on every single temp var). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
