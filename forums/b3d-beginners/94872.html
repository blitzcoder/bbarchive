<!DOCTYPE html><html lang="en" ><head ><title >PNG Mask Problem ( Weird )</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >PNG Mask Problem ( Weird )</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >PNG Mask Problem ( Weird )</a><br><br>
<a name="1090150"></a>

<a name="1090158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jack Dawson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I used a program that generated a tree. It made the B3D file and I import it in. Here is the Code to bring it in.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 800,600,32,2
SetBuffer BackBuffer() 
camera=CreateCamera() 
PositionEntity camera,0,10,-40 ; position camera so that robot will be in view when loaded 
light=CreateLight() 
RotateEntity light,90,0,0 
; Load anim mesh 
tree=LoadAnimMesh("tree_1.b3d") 
; Animate mesh - this will begin an animation sequence which is updated when UpdateWorld is called 
Animate tree,2 
While Not KeyDown(1) 
UpdateWorld ; Update anim - without this our anim mesh will freeze 
RenderWorld ; Render everything 
Flip ; Show everything 
Wend 
End 
</textarea><br><br>the b3d file you can get here<br><a href="http://www.youdidwhattowho.com/tree_1.b3d" target="_blank">http://www.youdidwhattowho.com/tree_1.b3d</a><br><br>here is the image of what it looks like in the tree generator<br><img src="http://www.youdidwhattowho.com/treegen.jpg"><br><br>Here is what it looks like with the above code. I did this both in an NVidia and an ATI card, with similar results.<br><br>NVidia<br><img src="http://www.youdidwhattowho.com/tree.jpg"><br><br>ATI<br><img src="http://www.youdidwhattowho.com/tree2.jpg"><br><br>I just cannot seem to get this. I DID a search, but it didn't find anything on this problem. The PNG forum threads I read all were talking about static PNG files, and none of the OBJ or B3D threads I could find would talking about this problem. So If I missed a topic somewhere, sorry about this double post.<br><br>EDIT : I didn't realize my other post was in BlitzMax, it gets confusing here sometimes. I moved the other post on the Max forum to here.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1090151"></a>

<a name="1090159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jack Dawson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also have a simular problem with PNG files, another one I did a search on and it seems no one got an answer to this, so I thought I would post pictures and the code to see if this helps.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global gfxPlayer 

Graphics3D 800,600,32,2 

SetBuffer BackBuffer() 

cam = CreateCamera()
PositionEntity cam,0,0,0

gfxPlayer=LoadImage("testtransparency.png") 
MaskImage gfxPlayer,255,255,255
sphere=CreateSphere( 64 ) 
PositionEntity sphere,0,0,4 
FlipMesh sphere 

ScaleEntity sphere,10,10,10
light=CreateLight()

AmbientLight 255,255,255

RenderWorld
DrawImage gfxPlayer,0,200 

While Not KeyHit(1) 

Wend
</textarea><br><br><br>PNG file itself<br><img src="http://www.youdidwhattowho.com/testtransparency.png"><br><br>This is what its supposed to look like<br><img src="http://www.youdidwhattowho.com/nametransproblem_1.jpg"><br><br>This is what it looks like in Blitz3D<br><img src="http://www.youdidwhattowho.com/nametransproblem_2.jpg"><br><br>Anyone have any ideas here ?<br><br>EDIT : I didn't realize my other post was in BlitzMax, it gets confusing here sometimes. I moved the other post on the Max forum to here.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1090162"></a>

<a name="1090163"></a>

<a name="1090164"></a>

<a name="1090166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Concerning your first post, the tree model, it seems to have a texture called Cross04.png that is loaded using flag 4 instead of flag 2.<br>That means that all black pixels will be transparent. In Photoshop (and maybe other programs as well), transparent pixels are saved as white pixels with an alpha value of 0.0. This means Blitz3d will render them white.<br>You could either change Cross04.png so that it's background is black, or you should save the model again, with flag 2 enabled on any brush that uses this texture.<br><br>Edit: about your second post: 2D images in Blitz use only 1 bit alpha. That means alpha is either on or off (100% or 0%). An alpha gradient (smooth transition from 1.0 to 0.0) is not supported. You could either use a 3D object with that image as a texture, or use dithering in your image editor to simulate the alpha gradient:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 800, 600, 0, 2
SetBuffer BackBuffer()

cam = CreateCamera()
CameraProjMode cam, 2
MoveEntity cam, 0, 0, -2
CameraClsColor cam, 120, 180, 255

cube = CreateCube()
ScaleEntity cube, 0.4, 0.1, 0.1
EntityFX cube, 1

tex = LoadTexture("testtransparency.png", 1+2)
EntityTexture cube, tex

Repeat

	RenderWorld
	Flip
	
Until KeyHit(1)</textarea><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1090176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jack Dawson</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is brilliant. Didn't realize all I had to do was put the PNG file on an object like a cube. GREAT JOB !!<br><br>And here is a picture of the animated tree. ( Still frame )<br><br>Thanks to your showing What the problem was, I am now able to import B3D files with no problems. :-)<br><br><br><img src="http://www.youdidwhattowho.com/tree3.jpg"> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
