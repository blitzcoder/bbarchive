<!DOCTYPE html><html lang="en" ><head ><title >Jumping?( please help, i'm desperate)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Jumping?( please help, i'm desperate)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Jumping?( please help, i'm desperate)</a><br><br>
<a name="1040878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> For 4 months, I have desperately tried to add jumping to my game.<br><br>Every time I have tried, the jumping is whether horribly executed or just doesn't work. <br><br>I just most recently watched a video on a game called Anubis 2, and now I am terrified of adding bad jumping into my game. <br><br>This forum is my last fallback, so I hope that I learn something from it. <br><br>So can someone please teach me how to add reliable jumping in my game. <br><br>I would EXTREMELY appreciate it. So can someone please help? <br><br>Please Reply.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1040883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a simple 2d example.  Fairly simple, play around with the numbers to experiment with it.<br><br><pre class=code>
Graphics 500,500,0,2

Const gravity#=-0.05,groundheight#=400.0

Type actor

Field x#,y#,vy#,vx#

End Type

player.actor = New actor
player\x = Rand(200,300)
player\y=Rand(0,50)
player\vx=0
player\vy=0


Repeat

	Cls
	Color 255,255,255
	Line 0,groundheight,500,groundheight

	If player\y &gt;= groundheight
		;on ground
		player\vy=0
		player\vx=0
		player\y=groundheight
		If KeyDown(203) Then player\vx = -0.5	;left arrow pressed while on ground, so generate velocity in negative x direction
		If KeyDown(205) Then player\vx = 0.5	;right arrow pressed while on ground so generate velocity in x direction
		If KeyHit(57) Then ;jump
			player\vy = 2.0
		EndIf 
	Else
		;in air
		player\vy=player\vy + gravity
	EndIf
	
	player\x=player\x+player\vx
	player\y=player\y-player\vy ;minus sign used because 2d coordinates are from low to high down the screen whereas 3d is from low to high up the axis.
	
               ;draw the player's avatar
	Color 255,0,255
	Oval player\x-1,player\y-20,2,2,1
	Line player\x,player\y-18,player\x,player\y-10
	Line player\x-3,player\y-16,player\x+3,player\y-16
	Line player\x,player\y-10,player\x-3,player\y
	Line player\x,player\y-10,player\x+3,player\y
	


	Flip

Until KeyDown(1)
Delete Each actor
End
</pre> <br><br></td></tr></table><br>
<a name="1040890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stanrol</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> g = 9 ? newton <br><br></td></tr></table><br>
<a name="1040930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Serpent</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The key to simple jumping is acceleration.  Matty has already posted an example of this.  When the player 'jumps', their Y velocity is set to 2 in his example.  Then, in each frame gravity is applied - the Y velocity is reduced according to gravity.  In each frame, the Y velocity is added to the Y position, and you have jumping. <br><br></td></tr></table><br>
<a name="1040977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/Community/posts.php?topic=89265" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=89265</a><br><br>from the tutorial forums <br><br></td></tr></table><br>
<a name="1040993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Matty <br>Your example was good, but since it's in 2d, it's sort of difficult for me to understand it and translate it into 3d. <br><br>Is there any 3d example that and can have a look at? <br><br>Your example is very good, but I think that I would understand a 3d example much better.<br><br>please reply <br><br></td></tr></table><br>
<a name="1041004"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> My advice is to forget 3D and forget your game for now. If anyone gives you what you are asking for, you will just plug the code into your game and gain no understanding.<br><br>Play about with Matty's code and try to understand it. Come back here with any questions. Once you have it figured, you will find it easy to extrapolate to 3D. <br><br>There is also Mark's Castle demo that comes with B3D if you <i>really</i> need a 3D example. <br><br></td></tr></table><br>
<a name="1041012"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> i extracted the jumping part of the castle demo in another post for you, explaining that types has nothing to do with jumping, if you want a 3d example you only have to read your own posts!<br><br><a href="http://blitzbasic.com/Community/posts.php?topic=91477#1040858" target="_blank">http://blitzbasic.com/Community/posts.php?topic=91477#1040858</a><br><br>as john said, play with the code sugested and try to figure out what is happening and then come back with a new or more advanced question, not just "please give me some code to do that", normally i found that there are no code to do that, only ideas that must be translated to our particular case, in advance we have to understand the technique (some one else helped with if posible)<br><br>(sorry if my bad english sound weird, hope you understood what i'm trying to say)<br><br>Juan <br><br></td></tr></table><br>
<a name="1041015"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Galt <br>Although it did sound like you were judging me, I suppose you are right.<br><br>I'm not going to forget about 3d and my game, I'll just try to understand it better.<br><br>P.S I'm not a copy and paster coder, I just want to make that clear;) <br><br></td></tr></table><br>
<a name="1041017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not saying forget it forever, just don't try to run before you can walk. <br><br></td></tr></table><br>
<a name="1041030"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Galt <br>I understand. <br><br>It's just that I do understand jumping, it's just that whenever I try to add jumping to my game (add, not copy and paste) it never seems to work. <br><br>I feel like i've been chasing my own tail for these 4 months. I've had about 4 post asking the same question on how to jump. <br><br>All of the posts have taught me of how to do it, but whenever I try to do it, it never works. <br><br>I'm sorry if i'm sounding whiny and bitchy (pardon my english) it's just such a important part in my game, that I can't help but to stress it. <br><br></td></tr></table><br>
<a name="1041033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't sound bitchy; no apology required, however, the fact that you are not coming back and asking targeted questions hints to me that you are not thinking about the problem enough. I mean, did you even read Juan's post in the other thread where he pulled out all the relevant 3D code for you? Have you tried playing with the Castle demo?<br><br>If you come back with a targeted question based on the code that has been provided, even if you are concerned it is a 'dumb' question, people will respect it and want to help. If you post another thread asking 'how to jump' in a slightly different way, people will lose interest.<br><br>Help us to help you. <br><br></td></tr></table><br>
<a name="1041037"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Galt <br>I completely understand what your talking about. <br><br>I've actually been thinking not to long ago that if I did keep on posting the same thread, people would lose interest, and then there would be no hope. <br><br>I actually do have an issue with the jumping codes that I add (not copy and paste) in my game. <br><br>They just never seem to work correctly. <br><br>Should I put up the code? <br><br></td></tr></table><br>
<a name="1041040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps post your own code and someone may have a look at what is going wrong? <br><br></td></tr></table><br>
<a name="1041041"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Give us some code. Over the years, I've become better and better about troubleshooting the bugs in my game (40+ pages, that can be a scary thing), and if I'm unable to help, there is a vast ocean of very experience programmers here who could certainly figure out the problem. If you're on to something with the jumping code, we might be able to point you in the right direction.<br><br>If your game requires media, maybe you can upload the whole game somewhere and we can take a look at it. That way, you won't have to write up a demo for the forums which probably won't tell us what's going wrong anyways. <br><br></td></tr></table><br>
<a name="1041045"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well here's the game.<br><br>The jumping was from charrua, so credit goes to him.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Include "include\FastExt.bb"
Include "include\ShadowsSimple.bb"

Graphics3D 1280,600,32,1

InitExt
TextureAnisotropy
TextureLodBias

CreateShadow 0,1									; &lt;&lt;&lt;&lt;&lt;   create shadows (with quality=1) and customize his characteristics
ShadowRange 50
ShadowPower .7
ShadowFade 100										; &lt;&lt;&lt;&lt;&lt;   set shadow range (70x70)
ShadowTexture = ShadowTexture()						; &lt;&lt;&lt;&lt;&lt;   get first shadow texture (shadow map)

Noise = LoadTexture("media\bump_noise.png")			; &lt;&lt;&lt;&lt;&lt;  load noise texture and set BUMP blend
TextureBlend Noise, FE_BUMP
ScaleTexture Noise, 0.15, 0.15

FadeOutTexture = LoadTexture("media\fade.png", 59)
ShadowFade FadeOutTexture

    Global GlowAlpha# = 101.0
	Global GlowDarkPasses = 2
	Global GlowBlurPasses = 4
	Global GlowBlurRadius# = 0.35
	Global GlowQuality = 0
	Global GlowColorRed = 255
	Global GlowColorGreen = 255
	Global GlowColorBlue = 255
	Global GlowAlphaTexture = 0
	; Variables for adjusting the effect
	Global DofNear# = 750
	Global DofFar# = 14000
	Global DofDirection = 1
	Global DofBlurPasses = 4
	Global DofBlurRadius# = 0.35
	Global DofQuality = 100
	
Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3
Const TYPE_SCENERY=10,TYPE_TERRAIN=11

Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3
Collisions TYPE_PLAYER,TYPE_SCENERY,2,3
Collisions TYPE_TARGET,TYPE_TERRAIN,2,2
Collisions TYPE_TARGET,TYPE_SCENERY,2,2
Collisions 1,2,2,2

Global player_y#,y_vel#

Global LightPivot = CreatePivot()
TurnEntity LightPivot, 0, 1800, 0

Light=CreateLight(1, LightPivot)
TurnEntity Light, 60, 0, 0
LightColor Light,255,150,0

ShadowLight Light

Global PLANE = CreatePlane()
Global place = LoadMesh("terrian2.b3d")
EntityRadius place,800
tex=LoadTexture("patch.png")
EntityTexture PLANE,tex
ScaleTexture tex,50,50
ScaleEntity place,20,20,20
EntityType PLANE,TYPE_TERRAIN
EntityType place,TYPE_TERRAIN

Global CUBE = LoadAnimMesh("Syracuse3.b3d")
createshadowcaster CUBE
ExtractAnimSeq CUBE,1,10
Animate CUBE,1,1,seq,10
ScaleEntity CUBE,.1,.1,.1
EntityRadius CUBE,7
EntityTexture PLANE, Noise, 0, 1										
EntityTexture PLANE, ShadowTexture, 0, 2
EntityTexture place, Noise, 0, 1										
EntityTexture place, ShadowTexture, 0, 2
EntityType CUBE,TYPE_PLAYER
player_y=EntityY(CUBE)

Tmp = CreateCube()  AddMesh Tmp, CUBE : FreeEntity Tmp

Global TARGET = CreatePivot()

Global CAMERApivot = CreatePivot()
Global CAMERA = CreateCamera( CAMERApivot )
PositionEntity CAMERA, 0,15,-130
PointEntity CAMERA , CAMERApivot

;sky/fog/range;
sky=CreateSphere(100)
skytex=LoadTexture("media/sky_RT.jpg")
EntityTexture sky,skytex
ScaleEntity sky,90000,90000,90000
CameraFogMode CAMERA, 1
CameraFogColor CAMERA, 200, 220, 255
range = 30000
CameraRange CAMERA, 1, range
CameraFogRange CAMERA, 1, range - 1000
CameraClsColor CAMERA, 200, 220, 255
FlipMesh sky

speed#=0
camspeed#=0
gravity#=-1

TranslateEntity CUBE,0,260,0
TranslateEntity place,300,-300,0

While Not KeyDown(1)
AntiAlias True
TurnEntity sky,0,.01,0
	PositionEntity CAMERApivot , EntityX( CUBE ) , EntityY ( CUBE ) , EntityZ( CUBE )
	TurnEntity CAMERApivot, 0 , camspeed , 0
		If KeyDown(200)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(208)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(205)
			speed=speed+.4
			If speed&gt;3 speed=3
        Else If KeyDown(203)
			speed=speed+.4
			If speed&gt;3 speed=3
			Else If KeyDown(30)
			camspeed=camspeed+.1
			If camspeed&gt;-1.5 camspeed=-1.5
			Else If KeyDown(31)
			camspeed=camspeed+.1
			If camspeed&gt;1.5 camspeed=1.5
			
		Else
			speed=speed*.6
			camspeed=camspeed*.9

		EndIf	
		MoveEntity CUBE,0,0,speed
		
		ty#=EntityY(CUBE)
		y_vel# = ty - player_y
		player_y = ty
		
		If KeyHit(57)	;jump?
		y_vel=20
	Else
		y_vel=y_vel-.01
	EndIf
	
	TranslateEntity CUBE, 0, y_vel, 0

		
	;move relative to camera
	Mx# = KeyDown(205) - KeyDown(203)
	Mz# = KeyDown(200) - KeyDown(208)

	If Mx &lt;&gt; 0 Or Mz &lt;&gt; 0
		;move relative to camera
		TFormVector Mx, 0, Mz , CAMERApivot , 0
		TurnEntity CAMERApivot, 0 , KeyDown(203)*.5 - KeyDown(205)*.5 , 0

		;turn relative to movement
		PositionEntity TARGET, EntityX( CUBE )  + TFormedX() ,0, EntityZ( CUBE ) + TFormedZ()
		TurnEntity CUBE, 0 , DeltaYaw( CUBE, TARGET ) * .26, 0
	EndIf
	If Not KeyHit(1)
	PointEntity CAMERA,CUBE
    EndIf
	TranslateEntity CUBE,0,gravity,0

	
	UpdateWorld()
	UpdateShadows CUBE
	RenderWorld()
CustomPostprocessGlow GlowAlpha, GlowDarkPasses, GlowBlurPasses, GlowBlurRadius, GlowQuality, GlowColorRed, GlowColorGreen, GlowColorBlue, GlowAlphaTexture
RenderPostprocess FE_GLOW
CustomPostprocessDOF DofNear, DofFar, DofDirection, DofBlurPasses, DofBlurRadius, DofQuality
RenderPostprocess FE_DOF

	Flip
Wend
End
</textarea><br><br>That's the whole game itself.<br><br>This code sets up the global variables for y_vel and player_y<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global player_y#,y_vel#
</textarea><br><br>This code assigns player_y to the EntityY of the player(CUBE)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
player_y=EntityY(CUBE)
</textarea><br><br>This code sets up the jumping.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	cube#=EntityY(CUBE)
		y_vel# = cube - player_y
		player_y = cube
		
		If KeyHit(57)	;jump?
		y_vel=20
	Else
		y_vel=y_vel-.01
	EndIf
	
	TranslateEntity CUBE, 0, y_vel, 0
</textarea><br><br>Whenever you start it up, the player goes flying up into the air, then you have to press space(which is also the jump key) to make him stop and fall and land. <br><br>When you land , whenever you jump, the camera gets very choppy and has trouble keeping up and when you land, the camera fidgets in a very ugly way.<br><br>Is there any way to fix this?<br><br>I apologize if the code is long, but I just want the game to be as professional as it can be.<br><br>I appreciate the help from you guys.<br><br>So is there any way of fixing this issue?<br><br>please reply. <br><br></td></tr></table><br>
<a name="1041060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow...Reading someone else's code is worse than driving someone else's car.<br><br>I've never used the TForm commands, and I haven't the slighest idea what their purpose is, but I can tell from the way your code is arranged that the camera problems are probably forming in that chunk of code somewhere.<br><br>When I see camera problems like this, I normally try to shuffle the order in which I move the entities and cameras around. Sometimes, you could mistakenly be telling the camera to continue to point downward, even after the player has hit the ground.<br><br>As far as jumping when the program first starts, it's not doing that on rough version that I cut from your code, so I can't answer that either. I am not for sure on this, but I think there is a problem with the If statements for keyboard checking. I've never seen If statements used like that, but it seems to work for the most part, so if it makes sense to you, keep it that way. Just be sure that Blitz doesn't assume that the spacebar is being pressed by default when the program starts. Also, you may want to set the "y_vel#" = 0.0 starting off. That might fix the problem?<br><br>Sorry I couldn't be more help. I'll give it another shot tomorrow and see if I'm missing something. I haven't programmed in a couple of months, and on top of being rusty right now, I'm exhausted from not enough sleep last night. Hopefully, someone can help you out. <br><br></td></tr></table><br>
<a name="1041079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> First off, the indentation on your code is all wrong. This makes it a nightmare to read. Fix that and post it back. It will also provide you another opportunity to think through your code.<br><br>I can't make head nor tail of what you are trying to achieve with all those nested if statements around the keydown commands. Stick some comments in there so we can see what you are intending them to do.<br><br>Also, if you prefer us all to work with your code rather than working with, say, Matty's simple code to discuss the problem, you need to provide something that runs. We don't have access to your media. <br><br></td></tr></table><br>
<a name="1041128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, let me fix my code up. <br><br></td></tr></table><br>
<a name="1041139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it was tedious, but I think that now my game should be readable.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;alright then, here is my ingame code;

;This sets up  fastextension functions;
Include "include\FastExt.bb"
Include "include\ShadowsSimple.bb"

Graphics3D 1280,600,32,1


InitExt
TextureAnisotropy
TextureLodBias


CreateShadow 0,1									
ShadowRange 50
ShadowPower .7
ShadowFade 100										
ShadowTexture = ShadowTexture()						   
Noise = LoadTexture("media\bump_noise.png")			
TextureBlend Noise, FE_BUMP
ScaleTexture Noise, 0.15, 0.15


FadeOutTexture = LoadTexture("media\fade.png", 59)
ShadowFade FadeOutTexture

    Global GlowAlpha# = 101.0
	Global GlowDarkPasses = 2
	Global GlowBlurPasses = 4
	Global GlowBlurRadius# = 0.35
	Global GlowQuality = 0
	Global GlowColorRed = 255
	Global GlowColorGreen = 255
	Global GlowColorBlue = 255
	Global GlowAlphaTexture = 0
	Global DofNear# = 750
	Global DofFar# = 14000
	Global DofDirection = 1
	Global DofBlurPasses = 4
	Global DofBlurRadius# = 0.35
	Global DofQuality = 100


;player_y and y_vel variables (for jumping)
Global player_y#,y_vel#


;here are the collision constents;
Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3
Const TYPE_SCENERY=10,TYPE_TERRAIN=11


;here are the collisions;
Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3
Collisions TYPE_PLAYER,TYPE_SCENERY,2,3
Collisions TYPE_TARGET,TYPE_TERRAIN,2,2
Collisions TYPE_TARGET,TYPE_SCENERY,2,2
Collisions 1,2,2,2


;heres the lighting(shadowlight is a fastextension function);
Global LightPivot = CreatePivot()
TurnEntity LightPivot, 0, 1800, 0

Light=CreateLight(1, LightPivot)
TurnEntity Light, 60, 0, 0
LightColor Light,255,150,0

ShadowLight Light


;here is the terrian (contains fastextension functions);
Global place = LoadMesh("terrian2.b3d")
EntityRadius place,800
ScaleEntity place,20,20,20
TranslateEntity place,300,-300,0
EntityType place,TYPE_TERRAIN
EntityTexture place, Noise, 0, 1										
EntityTexture place, ShadowTexture, 0, 2


;here is the player (createshadowcaster is a fastextension function);
Global CUBE = LoadAnimMesh("Syracuse3.b3d")
ScaleEntity CUBE,.1,.1,.1
EntityRadius CUBE,7
TranslateEntity CUBE,0,260,0
EntityType CUBE,TYPE_PLAYER
createshadowcaster CUBE


;TARGET is the pivot that turns the player when moving;
Global TARGET = CreatePivot()


;this is the camera + camerapivot (note that camera is parented to camerapivot;
Global CAMERApivot = CreatePivot()
Global CAMERA = CreateCamera( CAMERApivot)
PositionEntity CAMERA, 0,15,-130
PointEntity CAMERA , CAMERApivot


;this is the sky (not a skybox, just a large sphere);
sky=CreateSphere(100)
ScaleEntity sky,90000,90000,90000
skytex=LoadTexture("media/sky_RT.jpg")
EntityTexture sky,skytex


;this is the fog and camerarange;
CameraFogMode CAMERA, 1
CameraFogColor CAMERA, 200, 220, 255
range = 30000
CameraRange CAMERA, 1, range
CameraFogRange CAMERA, 1, range - 1000
CameraClsColor CAMERA, 200, 220, 255


;these are the variable for the players speed, the cameraspeed and gravity;
speed#=0
camspeed#=0
gravity#=-1


;anti aliasing (doesn't work anyway);
AntiAlias True


;this is the game's main loop (keeps things active and looping for as long as the game goes, such as turning the sky);
While Not KeyDown(1)
TurnEntity sky,0,.01,0


;positions the camerapivot to always follow the player( I think this is why the jumping is so faulty);
	PositionEntity CAMERApivot , EntityX( CUBE ) , EntityY ( CUBE ) , EntityZ( CUBE )

	
;turns the camerapivot with the cameraspeed for smooth rotating(press the A and S key to rotate the camera);
	TurnEntity CAMERApivot, 0 , camspeed , 0
	
;controls the player's speed;
		If KeyDown(200)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(208)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(205)
			speed=speed+.4
			If speed&gt;3 speed=3
        Else If KeyDown(203)
			speed=speed+.4
			If speed&gt;3 speed=3
			Else If KeyDown(30)
			camspeed=camspeed+.1
			If camspeed&gt;-1.5 camspeed=-1.5
			Else If KeyDown(31)
			camspeed=camspeed+.1
			If camspeed&gt;1.5 camspeed=1.5
			
		Else
			speed=speed*.6
			camspeed=camspeed*.9

		EndIf	
		MoveEntity CUBE,0,0,speed


;translates jumping to the player (which is named CUBE by the way);		
		ty#=EntityY(CUBE)
		y_vel# = ty - player_y
		player_y = ty
		
		If KeyHit(57)	;jump?
		y_vel=20
	Else
		y_vel=y_vel-.01
	EndIf
	
	TranslateEntity CUBE, 0, y_vel, 0

		
;controls player's direction turning( the controls are like the ones in Super Mario 64, Ratchet and Clank, Psychonauts...);
	Mx# = KeyDown(205) - KeyDown(203)
	Mz# = KeyDown(200) - KeyDown(208)

	If Mx &lt;&gt; 0 Or Mz &lt;&gt; 0

		TFormVector Mx, 0, Mz , CAMERApivot , 0
		TurnEntity CAMERApivot, 0 , KeyDown(203)*.5 - KeyDown(205)*.5 , 0


;actually turns the players directions according to what arrow key you press;
		PositionEntity TARGET, EntityX( CUBE )  + TFormedX() ,0, EntityZ( CUBE ) + TFormedZ()
		TurnEntity CUBE, 0 , DeltaYaw( CUBE, TARGET ) * .26, 0
	EndIf

	
;points camera at player and adds gravity to player;
	If Not KeyHit(1)
	PointEntity CAMERA,CUBE
    EndIf
	TranslateEntity CUBE,0,gravity,0


;updates and renders world (contains fastextension functions);
	UpdateWorld()
	UpdateShadows CUBE
	RenderWorld()
CustomPostprocessGlow GlowAlpha, GlowDarkPasses, GlowBlurPasses, GlowBlurRadius, GlowQuality, GlowColorRed, GlowColorGreen, GlowColorBlue, GlowAlphaTexture
RenderPostprocess FE_GLOW
CustomPostprocessDOF DofNear, DofFar, DofDirection, DofBlurPasses, DofBlurRadius, DofQuality
RenderPostprocess FE_DOF

	Flip
Wend
End
</textarea><br><br>I hope that now someone can help me out with my problem. <br><br></td></tr></table><br>
<a name="1041189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, you couldn't be bothered to post a version people can run without your media. That would have helped. You didn't bother to comment the piece of code a couple of us have mentioned... the keydown section. Like, why do you have a bunch of different key events doing the same thing? If you want multiple keys performing the same action, it is a lot cleaner to say:<br><br><pre class=code>if ((keydown(100)) or (keydown(101))
   'do the action here
endif</pre><br><br>The indenting is still wrong in some places, like that keydown area, which suggests you didn't follow the logic through. Why do you have a comment like 'Jump?' The ? suggests a cut and paste job rather than understanding the principle.<br><br>Anyway, as it's not runnable and I can't be bothered to re-engineer what you posted to run with my media, I'll give you my best guess to the phantom jump. Try putting "player_y=EntityY(cube)" right after you declare player_y a global.<br><br>The camera search me without runnable code.<br><br>Rez2? <br><br></td></tr></table><br>
<a name="1041193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Galt<br>I remove all fastextensions, textures and 3d models. Now anyone can run the game.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;alright then, here is my ingame code;


Graphics3D 1280,600,32,1


;player_y and y_vel variables (for jumping)
Global player_y#,y_vel#


;here are the collision constents;
Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3
Const TYPE_SCENERY=10,TYPE_TERRAIN=11


;here are the collisions;
Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3
Collisions TYPE_PLAYER,TYPE_SCENERY,2,3
Collisions TYPE_TARGET,TYPE_TERRAIN,2,2
Collisions TYPE_TARGET,TYPE_SCENERY,2,2
Collisions 1,2,2,2


;heres the lighting(shadowlight is a fastextension function);
Global LightPivot = CreatePivot()
TurnEntity LightPivot, 0, 1800, 0

Light=CreateLight(1, LightPivot)
TurnEntity Light, 60, 0, 0
LightColor Light,255,150,0


;here is the terrian (contains fastextension functions);
Global place = CreatePlane()
EntityRadius place,800
ScaleEntity place,20,20,20
TranslateEntity place,300,-300,0
EntityType place,TYPE_TERRAIN


;here is the player (createshadowcaster is a fastextension function);
Global CUBE = CreateCube()
ScaleEntity CUBE,5,5,5
EntityRadius CUBE,7
TranslateEntity CUBE,0,260,0
EntityType CUBE,TYPE_PLAYER


;TARGET is the pivot that turns the player when moving;
Global TARGET = CreatePivot()


;this is the camera + camerapivot (note that camera is parented to camerapivot;
Global CAMERApivot = CreatePivot()
Global CAMERA = CreateCamera( CAMERApivot)
PositionEntity CAMERA, 0,15,-130
PointEntity CAMERA , CAMERApivot


;this is the sky (not a skybox, just a large sphere);
sky=CreateSphere(100)
ScaleEntity sky,90000,90000,90000


;this is the fog and camerarange;
CameraFogMode CAMERA, 1
CameraFogColor CAMERA, 200, 220, 255
range = 30000
CameraRange CAMERA, 1, range
CameraFogRange CAMERA, 1, range - 1000
CameraClsColor CAMERA, 200, 220, 255


;these are the variable for the players speed, the cameraspeed and gravity;
speed#=0
camspeed#=0
gravity#=-1


;anti aliasing (doesn't work anyway);
AntiAlias True


;this is the game's main loop (keeps things active and looping for as long as the game goes, such as turning the sky);
While Not KeyDown(1)
TurnEntity sky,0,.01,0


;positions the camerapivot to always follow the player( I think this is why the jumping is so faulty);
	PositionEntity CAMERApivot , EntityX( CUBE ) , EntityY ( CUBE ) , EntityZ( CUBE )

	
;turns the camerapivot with the cameraspeed for smooth rotating(press the A and S key to rotate the camera);
	TurnEntity CAMERApivot, 0 , camspeed , 0
	

	;controls the player's speed;
		If KeyDown(200)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(208)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(205)
			speed=speed+.4
			If speed&gt;3 speed=3
        Else If KeyDown(203)
			speed=speed+.4
			If speed&gt;3 speed=3
			Else If KeyDown(30)
			camspeed=camspeed+.1
			If camspeed&gt;-1.5 camspeed=-1.5
			Else If KeyDown(31)
			camspeed=camspeed+.1
			If camspeed&gt;1.5 camspeed=1.5
			
		Else
			speed=speed*.6
			camspeed=camspeed*.9

		EndIf	
		MoveEntity CUBE,0,0,speed
		
		
;translates jumping to the player (which is named CUBE by the way);		
		ty#=EntityY(CUBE)
		y_vel# = ty - player_y
		player_y = ty
		
		If KeyHit(57)
		y_vel=20
	Else
		y_vel=y_vel-.01
	EndIf
	
	TranslateEntity CUBE, 0, y_vel, 0

		
;controls player's direction turning( the controls are like the ones in Super Mario 64, Ratchet and Clank, Psychonauts...);
	Mx# = KeyDown(205) - KeyDown(203)
	Mz# = KeyDown(200) - KeyDown(208)

	If Mx &lt;&gt; 0 Or Mz &lt;&gt; 0

		TFormVector Mx, 0, Mz , CAMERApivot , 0
		TurnEntity CAMERApivot, 0 , KeyDown(203)*.5 - KeyDown(205)*.5 , 0


;actually turns the players directions according to what arrow key you press;
		PositionEntity TARGET, EntityX( CUBE )  + TFormedX() ,0, EntityZ( CUBE ) + TFormedZ()
		TurnEntity CUBE, 0 , DeltaYaw( CUBE, TARGET ) * .26, 0
	EndIf

	
;points camera at player and adds gravity to player;
	If Not KeyHit(1)
	PointEntity CAMERA,CUBE
    EndIf
	TranslateEntity CUBE,0,gravity,0


;updates and renders world (contains fastextension functions);
	UpdateWorld()
	RenderWorld()

	Flip
Wend
End
</textarea><br><br>The reason why I added so much if statements was becuase I just found it better than way. I'm sorry if that's my opinion.<br><br>There is no and I mean absolutly no media in the game.<br><br>So now can you please help me with my problem?<br><br>please reply. <br><br></td></tr></table><br>
<a name="1041202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not disappointed, but you have to put the effort in to learn. TBH, I don't even have B3D here, but I guarantee you will get more help from the other guys if you remove the media.<br><br>I thought you were going to end up like Rez, but you are starting to listen, so fair play to you.<br><br>Meanwhile, do you understand what Matty's code is doing? Any questions about that? <br><br></td></tr></table><br>
<a name="1041213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, good stuff. What I need now is feedback to show you are reading people's suggested fixes and implementing them.<br><br>Does the suggested fix for the ghost jump work or not? What are you seeing now?<br><br>Does Rob's idea for sorting the camera work? <br><br></td></tr></table><br>
<a name="1041214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The reason why I added so much if statements was becuase I just found it better than way. I'm sorry if that's my opinion. <br></div>Better how? Do you want multiple keys to perform the same action? <br><br></td></tr></table><br>
<a name="1041215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> whoa, so many question:)<br>Let me look through them first:) <br><br></td></tr></table><br>
<a name="1041227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Galt<br>Ok, i've got some good news and some bad news.<br>Good news first.<br><br>From the help of you and rob, I was able to fix the problem where the player flies up into the air whenever I start the game.<br><br>Now for the bad news.<br>The bad news is that whenever the player jumps, the camera still fidges and still has trouble keeping up. Also, when ever you land, the camera fidges upwards.<br><br>Here's how the game is like now(theres no media, so anyone can run it)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;alright then, here is my ingame code;


Graphics3D 1280,600,32,1


;player_y and y_vel variables (for jumping)
Global player_y#,y_vel#


;here are the collision constents;
Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3
Const TYPE_SCENERY=10,TYPE_TERRAIN=11


;here are the collisions;
Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3
Collisions TYPE_PLAYER,TYPE_SCENERY,2,3
Collisions TYPE_TARGET,TYPE_TERRAIN,2,2
Collisions TYPE_TARGET,TYPE_SCENERY,2,2
Collisions 1,2,2,2


;heres the lighting;
Global LightPivot = CreatePivot()
TurnEntity LightPivot, 0, 1800, 0

Light=CreateLight(1, LightPivot)
TurnEntity Light, 60, 0, 0
LightColor Light,255,150,0


;here is the terrian ;
Global place = CreatePlane()
EntityRadius place,800
ScaleEntity place,20,20,20
TranslateEntity place,300,-300,0
EntityType place,TYPE_TERRAIN


;here is the player ;
Global CUBE = CreateCube()
ScaleEntity CUBE,5,5,5
EntityRadius CUBE,7
TranslateEntity CUBE,0,260,0
EntityType CUBE,TYPE_PLAYER
player_y=EntityY(cube)


;TARGET is the pivot that turns the player when moving;
Global TARGET = CreatePivot()


;this is the camera + camerapivot (note that camera is parented to camerapivot;
Global CAMERApivot = CreatePivot()
Global CAMERA = CreateCamera( CAMERApivot)
PositionEntity CAMERA, 0,15,-130
PointEntity CAMERA , CAMERApivot


;this is the sky (not a skybox, just a large sphere);
sky=CreateSphere(100)
ScaleEntity sky,90000,90000,90000


;this is the fog and camerarange;
CameraFogMode CAMERA, 1
CameraFogColor CAMERA, 200, 220, 255
range = 30000
CameraRange CAMERA, 1, range
CameraFogRange CAMERA, 1, range - 1000
CameraClsColor CAMERA, 200, 220, 255


;these are the variable for the players speed, the cameraspeed and gravity;
speed#=0
camspeed#=0
gravity#=-1


;anti aliasing (doesn't work anyway);
AntiAlias True


;this is the game's main loop (keeps things active and looping for as long as the game goes, such as turning the sky);
While Not KeyDown(1)
TurnEntity sky,0,.01,0


;positions the camerapivot to always follow the player( I think this is why the jumping is so faulty);
	PositionEntity CAMERApivot , EntityX( CUBE ) , EntityY ( CUBE ) , EntityZ( CUBE )

	
;turns the camerapivot with the cameraspeed for smooth rotating(press the A and S key to rotate the camera);
	TurnEntity CAMERApivot, 0 , camspeed , 0
	

	;controls the player's speed;
		If KeyDown(200)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(208)
			speed=speed+.4
			If speed&gt;3 speed=3
		Else If KeyDown(205)
			speed=speed+.4
			If speed&gt;3 speed=3
        Else If KeyDown(203)
			speed=speed+.4
			If speed&gt;3 speed=3
			Else If KeyDown(30)
			camspeed=camspeed+.1
			If camspeed&gt;-1.5 camspeed=-1.5
			Else If KeyDown(31)
			camspeed=camspeed+.1
			If camspeed&gt;1.5 camspeed=1.5
			
		Else
			speed=speed*.6
			camspeed=camspeed*.9

		EndIf	
		MoveEntity CUBE,0,0,speed
		
		
;translates jumping to the player (which is named CUBE by the way);		
		ty#=EntityY(CUBE)
		y_vel# = ty - player_y
		player_y = ty
		
		If KeyHit(57)
		y_vel=20
	Else
		y_vel=y_vel-.01
	EndIf
	
	TranslateEntity CUBE, 0, y_vel, 0

		
;controls player's direction turning( the controls are like the ones in Super Mario 64, Ratchet and Clank, Psychonauts...);
	Mx# = KeyDown(205) - KeyDown(203)
	Mz# = KeyDown(200) - KeyDown(208)

	If Mx &lt;&gt; 0 Or Mz &lt;&gt; 0

		TFormVector Mx, 0, Mz , CAMERApivot , 0
		TurnEntity CAMERApivot, 0 , KeyDown(203)*.5 - KeyDown(205)*.5 , 0


;actually turns the players directions according to what arrow key you press;
		PositionEntity TARGET, EntityX( CUBE )  + TFormedX() ,0, EntityZ( CUBE ) + TFormedZ()
		TurnEntity CUBE, 0 , DeltaYaw( CUBE, TARGET ) * .26, 0
	EndIf

	
;points camera at player and adds gravity to player;
	If Not KeyHit(1)
	PointEntity CAMERA,CUBE
    EndIf
	TranslateEntity CUBE,0,gravity,0


;updates and renders world;
	UpdateWorld()
	RenderWorld()

	Flip
Wend
End
</textarea><br><br>The problem isn't solved, but we are making progress.<br><br>please reply <br><br></td></tr></table><br>
<a name="1041252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi again<br><br>i found so many things:<br><br>you declare some constants that never use (even in the long version first posted) like TYPE_WATER, then you define many Collisions and only two are relvant and if you ask me, probably only one.<br><br>you create a sky based on a sphere of: 39600 triangles! but never see it, because: is scaled 90.000 times and the camera range is 30.000 and you flip the mesh as if you wish to see it, and you Turn the sky each loop as if you want to see the sky rotating...<br><br>but only has a big and hig detailed sphere that no one sees!<br><br>also, you have a gravity that pulls your player down all the time. and so on..<br><br>first, i think that to have a so much scaled player, scenary, sky, camera range etc is not a good thing.<br><br>i do some tests and using small scales it works fine for me. Another thing is that if the camera movement isn't as smooth as you like, you can try to smooth it using something like a funtion called CurveValue , let me find it...<br><br><pre class=code>
Function CurveValue#(newvalue#,oldvalue#,increments# )

	If increments&gt;1 Then oldvalue#=oldvalue#-(oldvalue#-newvalue#)/increments
	If increments&lt;=1 Then oldvalue=newvalue
	Return oldvalue#

End Function

</pre><br><br><br>and, AntiAlias mus be inside the main loop : mus be called each loop to work (see the blitz3d help example!)<br><br>hope that help!<br><br>Juan <br><br></td></tr></table><br>
<a name="1041254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua <br>You solved all of my other problems, but my fidgety jumping problem still remains. I'm still vey grateful. The game looks much better with a sky.<br><br>Can the curvevalue function that you listed above fix the fidgety camera while jumping? <br><br>If so, than can you explain it?<br><br>Please reply <br><br></td></tr></table><br>
<a name="1041256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> i really dont know it it should solve the problem but you can give it a try<br><br>basically you have in each loop code for repositioning the camera and to mantain it pointing to the CUBE/player entity. CurveValue is a function to smooth transition from an old value to a new one in some steps.<br><br>you can use it for smooth the x,y,z position of the camera<br><br>Juan <br><br></td></tr></table><br>
<a name="1041260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's good to know you are seen the sky now.<br><br>it seems to me that the Y position of the camera is what is going wrong so, try to smooth the y position with something like that:<br><br><br><pre class=code>
Const SmoothFactor = 10
CubeY# = EntityY(cube)

While Not KeyDown(1)

	
	PositionEntity CAMERApivot , EntityX( CUBE ) , CubeY, EntityZ( CUBE )
	CubeY = CurveValue(EntityY(CUBE), CubeY, SmoothFactor)
	
</pre><br><br>play with the SmoothFactor, 1 is no smooth at all<br><br>Juan <br><br></td></tr></table><br>
<a name="1041261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is my scaled down version:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Graphics3D 800,600,0,2

Global player_y#,y_vel#

Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_TERRAIN=11

Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3
Collisions TYPE_TARGET,TYPE_TERRAIN,2,2

Global LightPivot = CreatePivot()
Light=CreateLight(1, LightPivot)
TurnEntity Light, 60, 0, 0
LightColor Light,255,150,0

Global place = CreatePlane()
EntityType place,TYPE_TERRAIN
EntityTexture place,CreateTex(255,150,0,50)

Global CUBE = CreateCube()
PositionEntity cube,0,10,0
EntityType CUBE,TYPE_PLAYER
player_y=EntityY(cube)

Global shadow = CreateCube()
EntityColor shadow,128,128,128
ScaleEntity shadow,1,.2,1

Global TARGET = CreatePivot()

Global CAMERApivot = CreatePivot()
Global CAMERA = CreateCamera( CAMERApivot)
PositionEntity CAMERA, 0,10,-20


CameraFogMode CAMERA, 1
CameraFogColor CAMERA, 200, 220, 255
range = 3000
CameraRange CAMERA, 1, range
CameraFogRange CAMERA, 1, range - 1000
CameraClsColor CAMERA, 200, 220, 255


speed#=0
camspeed#=0

Const SmoothFactor = 10
CubeY# = EntityY(cube)

While Not KeyDown(1)

	
	PositionEntity CAMERApivot , EntityX( CUBE ) , CubeY, EntityZ( CUBE )
	CubeY = CurveValue(EntityY(CUBE), CubeY, SmoothFactor)
	
	TurnEntity CAMERApivot, 0 , camspeed , 0
	

	If KeyDown(200)
		speed=speed+.1
		If speed&gt;3 speed=3
	Else If KeyDown(208)
		speed=speed+.1
		If speed&gt;3 speed=3
	Else If KeyDown(205)
		speed=speed+.1
		If speed&gt;3 speed=3
    Else If KeyDown(203)
		speed=speed+.1
		If speed&gt;3 speed=3
	Else If KeyDown(30)
		camspeed=camspeed+.1
		If camspeed&gt;-1.5 camspeed=-1.5
	Else If KeyDown(31)
		camspeed=camspeed+.1
		If camspeed&gt;1.5 camspeed=1.5
	Else
		speed=speed*.6
		camspeed=camspeed*.9
	EndIf	
		
	MoveEntity CUBE,0,0,speed
		
	ty#=EntityY(CUBE)
	y_vel# = ty - player_y
	player_y = ty
		

	If KeyHit(57)
		y_vel=0.4
	Else
		y_vel=y_vel-.01
	EndIf
	
	TranslateEntity CUBE, 0, y_vel, 0

		
	Mx# = KeyDown(205) - KeyDown(203)
	Mz# = KeyDown(200) - KeyDown(208)

	If Mx &lt;&gt; 0 Or Mz &lt;&gt; 0

		TFormVector Mx, 0, Mz , CAMERApivot , 0
		TurnEntity CAMERApivot, 0 , KeyDown(203)*.5 - KeyDown(205)*.5 , 0

		PositionEntity Target, EntityX( CUBE ) + TFormedX(), 0, EntityZ( CUBE ) + TFormedZ()
		
		TurnEntity CUBE, 0 , DeltaYaw( CUBE, TARGET ) * .26, 0
		
	EndIf
		
	PointEntity CAMERA,CUBE
    
	PositionEntity shadow,EntityX(cube),0,EntityZ(cube)
	RotateEntity shadow,0,EntityYaw(cube),0

	UpdateWorld()
	AntiAlias True
	RenderWorld()
	
	Text 10,10,TrisRendered()
	If KeyHit(2) Then CreateSphere(100)
	
	Flip
Wend

End

Function CurveValue#(newvalue#,oldvalue#,increments# )

	If increments&gt;1 Then oldvalue#=oldvalue#-(oldvalue#-newvalue#)/increments
	If increments&lt;=1 Then oldvalue=newvalue
	Return oldvalue#

End Function


Function CreateTex(r,g,b, Scale=1)
	Tex=CreateTexture(64,64)
	SetBuffer TextureBuffer(Tex)
	ClsColor r,g,b
	Cls
	Color 0,0,0
	Line 0,0,TextureWidth(Tex),0
	Line 0,0,0,TextureHeight(Tex)
	ScaleTexture tex,scale,scale
	SetBuffer BackBuffer()
	Return Tex
End Function

</textarea><br><br>Juan <br><br></td></tr></table><br>
<a name="1041268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua <br>I tried your method. Jumpings alot smoother, but the player still fidgets for about a very ugly second when he lands (I inserted you method in the version of the game with media).<br><br>I need to find out why the camera fidgets when the player lands<br><br>please reply. <br><br></td></tr></table><br>
<a name="1041287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi<br><br>i can't reproduce your problem, i'm working with a plane and if you test the code i posted, nothing wrong seems to be happen.<br><br>i think that you may have some unbalanced values: to much gravity or player speed with some other variables not matched. There are many points in the code with some "scale factors" i think sugested in other posts and the problem you have now is how to melt all these pieces of code.<br><br>First you must understand what does each separately and how interacts with each other.<br><br>An small y_vel decrease will make the player fly when he reach the top of a hill, as an example, but an strong y_vel decrease will make the player go down fast, both behaves are unnatural!<br><br>I don't know how smooth is your terrain and the problem could be there, and so.<br><br>please try to match your scales,ratios, values. I think the key of the problem is there. <br><br>try to load your terrain in my example, be careful with scale, yStart position of the Cube and Camera and modify the value asigned to y_vel<br>if SPACE is pressed and the value that decreases y_vel.<br>The first one say how much impuse it has when jump and the second dictates how much it accelerates down. <br><br><br><br>Juan <br><br></td></tr></table><br>
<a name="1041288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i found so many things:<br><br>you declare some constants that never use (even in the long version first posted) like TYPE_WATER, then you define many Collisions and only two are relvant and if you ask me, probably only one.<br><br>you create a sky based on a sphere of: 39600 triangles! but never see it, because: is scaled 90.000 times and the camera range is 30.000 and you flip the mesh as if you wish to see it, and you Turn the sky each loop as if you want to see the sky rotating...<br><br>but only has a big and hig detailed sphere that no one sees!<br><br>also, you have a gravity that pulls your player down all the time. and so on.. <br></div>This, plus the fact that you make no attempt to enquire why the fixes work, tell me that you are indeed a cut and paster merchant. You will never learn jack that way. GIMME DA CODEZ!!!!!! <br><br></td></tr></table><br>
<a name="1041334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Galt <br>Funny you reply to me that way, becuase I have actually found out the reason why the camera fidgets. The reason why is becuase the camera is pointed at the player, so landing fidgets. The problem for me is that the camera needs to be pointed at the player or else the camera problem will not improve. I'm thinking of creating a pivot titled "pointpivot" and parenting the pivot to the player. Afterwards, I would point the camera at that pivot. <br><br>Since your obviously more experienced with blitz3d (despite not even owning the program anymore), do you think that this would solve my issue?<br><br>I am learning and becoming more realized with my code, and your judging is seriously discouraging that.<br><br>Despite this, you are teaching me something for the better, so that's good enough for me. <br><br>So what's your opinion on my idea, teacher:) <br><br></td></tr></table><br>
<a name="1041337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> The best way to fight the discouragement is to prove me wrong. The camera thing would be tough to for me to diagnose without B3D.<br><br>I will keep my disparaging comments out of the thread now. I hope you get your game working, and more importantly, understand why it works. Good luck! <br><br></td></tr></table><br>
<a name="1041340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Galt<br>I'm gonna need it. <br><br></td></tr></table><br>
<a name="1041381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all, I would break up the world into 3 parts:<br>1. ceilings<br>2. walls<br>3. floors<br><br>Then, each part could have it's own collision id:<br><pre class=code>
Collisions player, floor, 2, 3
Collisions player, walls, 2, 3
Collisions player, ceilings, 2, 3
</pre><br><br>Then, you could maybe make a function that moves the player, and checks if a collision occurs. Although it is not absolutely neccesary.<br><br>Anyway, pseudocode for jumping would be this:<br><pre class=code>
if jump &gt; 0 then

   if move(player, up, jumpspeed#) = collided_with_ceiling then 
          jump = 0 
   else 
          jump = jump - 1
          jumpspeed = jumpspeed * 0.98
   end if

else

   if move(player, down, fallspeed#) &lt;&gt; collided_with_floor then

          fallspeed# = fallspeed# * 1.02

   else
  
          fallspeed# = 0
          if keydown(space)
               jump = 128
               jumpspeed# = 5.0
          endif

   end if

end if
</pre><br><br>An example of this can be found here:<br><a href="http://www.blitzmax.com/codearcs/codearcs.php?code=2583" target="_blank">http://www.blitzmax.com/codearcs/codearcs.php?code=2583</a> <br><br></td></tr></table><br>
<a name="1041582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow...I leave for a couple of days and the forum exploded! lol.<br><br>TAGames, DO NOT create another pivot to point the camera at, unless there is a specific reason why.<br><br>Even if the pivot is a couple of units away from the player, it will only create what's called a jump cut when you point to it, and will only make the camera shaking worse.<br><br>I'm going to try and tackle the camera issue again with some of the cleaner code and see what I can come up with. It may be another couple of days before I respond again, so in the meantime, try texting some of the jumping variables to the screen (y_vel,EntityY(player), ect). This is a great first step in the debugging process, and helps you visually see what's happening internally in Blitz. Also, if the program is moving too quickly to see exactly what the wrong movements are, try using the "Delay" command to slow down execution. This will allow you to pinpoint where the problem is occurring. <br><br></td></tr></table><br>
<a name="1041584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua's version works flawlessly. Is there something I'm missing? <br><br></td></tr></table><br>
<a name="1041605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most jumping routines allow you to climb up walls or stick to the ceiling. Splitting up the environment in walls/ceilings/floors could help to prevent that.<br>When you point a camera towards a player involved in collisions, you should to that between UpdateWorld and RenderWorld. Else, the camera is pointed towards the player, then the player is moved backwards a bit (by UpdateWorld), and then the world is rendered, resulting in the camera pointing in the wrong direction. <br><br></td></tr></table><br>
<a name="1041705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> No kidding? I never knew that before, but it makes complete sense. I'm going to try a sample and see what you're talking about.<br><br>I never knew that a lot of camera problems were as simple as calling the PointEntity command between UpdateWorld and Renderworld. <br><br></td></tr></table><br>
<a name="1041710"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow<br>For all these days I have been trying to fix this issue when all I had to do was that? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
