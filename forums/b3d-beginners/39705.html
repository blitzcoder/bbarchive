<!DOCTYPE html><html lang="en" ><head ><title >Types problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Types problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Types problem</a><br><br>
<a name="443119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, having a little problem with types here. I'm getting an "Illegal Type Conversion Error" when i am trying to return a type from a function.<br><br><pre class=code>
Type car
	Field x
End Type

c.car = New car
c\x = 10
c.car = New car
c\x = 60
c.car = New car
c\x = 50
c.car = New car
c\x = 40
c.car = New car
c\x = 30
c.car = New car
c\x = 20

c.car = findcar()
Print c\x




Function findcar()

	For t.car = Each car
		If t\x = 10 Then
			Return t.car
		End If
	Next

End Function
</pre><br><br>I know i could use the Handle and Object method, but i thought that would work above... Am i doing anything wrong? Thanks for any help you can give :o) <br><br></td></tr></table><br>
<a name="443121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> in your function it sould be c.car not t.car<br><br>:) <br><br></td></tr></table><br>
<a name="443122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GitTech</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Function findcar.car()

For t.car = Each car
If t\x = 10 Then
Return t.car
End If
Next

End Function
</pre> <br><br></td></tr></table><br>
<a name="443124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Function findcar()<br><br>	For c.car = Each car<br>		If c\x = 10 Then<br>			Return c.car<br>		End If<br>	Next<br><br>End Function <br><br></td></tr></table><br>
<a name="443125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> you never assigned t. as a type diddnt need to maybe<br>give your types a good name so you remmder then <br><br></td></tr></table><br>
<a name="443127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> / <br><br></td></tr></table><br>
<a name="443130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> the name of the variable does not matter, it could be flobbynorglebob.car as GitTech has posted, the function did not have a return type. <br><br></td></tr></table><br>
<a name="443131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> depend what the rest ov his code was mate <br><br></td></tr></table><br>
<a name="443133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice one GitTech :o) Thanks! <br><br></td></tr></table><br>
<a name="443134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  depend what the rest ov his code was mate  <br></div><br>Nope, doesn't matter, the variable used in the function is local, not global.  <br>It is destroyed when the function has exited. <br><br></td></tr></table><br>
<a name="443136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> car has to be global to work in a function <br><br></td></tr></table><br>
<a name="443137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cermit</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isnt types always global? <br><br></td></tr></table><br>
<a name="443138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> if it not global no recognisd outside the main loop <br><br></td></tr></table><br>
<a name="443145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Orca</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Types are always global, but the references to them are not. <br><br></td></tr></table><br>
<a name="443146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always use different variable names for type in function, so as not to be confused with the ones in the main program. I don't use Global type references at all really :o) <br><br></td></tr></table><br>
<a name="443147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> car is the TYPE of the variable c, t, whatever, the TYPE is global as is the type list, but the variable which refers to that type (in this instance) is local it's just being used to point to each type in the type list.<br><br>a quick demo:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Type car
	Field x
End Type

c.car = New car
	c\x = 1

;Global flobby.car = New car &lt;- uncomment this line and flobby becomes global

MakeNewCar(43)

Print flobby\x ;if above line is not uncommented, this will cause an error 
			   ;since flobby is Not of Type car except locally inside the Function below

WaitKey()
End

	
Function MakeNewCar(CarNum)
	Flobby.car = New car
		Flobby\x = CarNum
End Function
</textarea> <br><br></td></tr></table><br>
<a name="443149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> nice but is a way to get lost with your types<br><br>better of checking each eg a.car b.car c.car <br><br></td></tr></table><br>
<a name="443150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> this can create more code yet save on cpu<br><br>only check for relativw states <br><br></td></tr></table><br>
<a name="443152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br> nice but is a way to get lost with your types<br><br>better of checking each eg a.car b.car c.car<br><br> <br></div><br>It's not a suggestion of how to handle types, it's a demonstration of LOCAL variables and GLOBAL variables, nothing more than that.<br><br>besides which referring to each type by an individual variable is inefficient, since they are all of the same type, looping through them is quicker, more memory efficient and less error prone.<br><br>i.e.<br><pre class=code>
for n = 1 to 5
   a.car = new car
   a\x = n*10 ;or whatever
next

for a.car = each car
   print a\x
next
</pre><br><br>instead of:<br><pre class=code>
a.car = new car
   a\x = 10
b.car = new car
   b\x = 20
c.car = new car
   c\x = 30
d.car = new car
   d\x = 40
e.car = new car
   e\x = 50

print a\x
print b\x
print c\x
print d\x
print e\x
</pre> <br><br></td></tr></table><br>
<a name="443153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> To try and give all of your types a Global reference each is a bit unrealistic i think. Sort of defeats the flexiblity of type. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
