<!DOCTYPE html><html lang="en" ><head ><title >LinePick for Dummies?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LinePick for Dummies?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >LinePick for Dummies?</a><br><br>
<a name="602232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please help, I want to get the hang of LinePick in my program. I am trying to use it for seeing whether or not the Lens Flares should appear.<br><br>I have a Camera (cam) - Camera<br>a Spaceship (ship) - mesh<br>and the star(star) - sprite<br>plus some Lens Flares (Flare1, Flare2 etc) - Sprites.<br><br>I have set the ship to be EntityPickMode 2<br><br>now I just neeed to understand the use of the coordinates. The second set of values to be precise, do they respond to a vector, outlining the direction of the imaginary 'line' used for picking? How can I just check for a straight line from the centre of the camera viewport?<br><br>Sorry, but Im having a complete mind-blank today (got a cold *sniff*!) <br><br></td></tr></table><br>
<a name="602240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The second set of coords for linepick do indeed relate to a vector rather than a position.  Something like this should work ..<br><br><br><pre class=code>
tformvector 0,0,100, Camera, 0

linepick entityx(camera), entityy(camera), entityz( camera ) , tformedx(), tformedy(), tformedz()
</pre><br><br>Stevie <br><br></td></tr></table><br>
<a name="602263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that, I can understand the principle, but in practice, it still eludes me. Du to the way the camera woirks, the ship will always be in front of the camera, but not necesarily in line with the star as well.<br><br>I tried this, but it doesn't work.<br><br><pre class=code>
TFormVector 0,0,1000,Cam,star
picked=LinePick (EntityX(cam), EntityY(cam), EntityZ( cam ) , TFormedX(), TFormedY(), TFormedZ() )
If picked=ship And EntityPick(ship,100)=star
	HideEntity corona
	HideEntity Flare1
	HideEntity Flare2
	HideEntity Flare3
EndIf
</pre> <br><br></td></tr></table><br>
<a name="602264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Best not to use linepick for this i say. Why not, entity in view and a entity visible call? <br><br></td></tr></table><br>
<a name="602273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> :)<br><br>EntityVisible works much better! Thanks, Ross.<br><br>Just one more quick question, considering I am using Sprites, how can I affect the size of the 'Star' for purposes of determining whether it is obscured or not? <br><br></td></tr></table><br>
<a name="602389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> but if an object is hidden by another object, entityvisible won't work. at least it doesn't for me. <br><br></td></tr></table><br>
<a name="602553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to set pickmodes for the other entities ;o) <br><br></td></tr></table><br>
<a name="602554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Entityvisible i believe uses a bounding box, so you would need to scale the sprite. <br><br></td></tr></table><br>
<a name="602605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >t3K|Mac</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> entityvisible uses bounding box if entity is a mesh, but if you have another entity in front of it (and big enough to cover the other entity and its mesh) entityvisible returns true.  but this is wrong, it is NOT visible at that moment. thats why fredborg did a nice routine for this case. <br><br></td></tr></table><br>
<a name="602702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the other entity has an entitypickmode obsurer though, it shouldn't. I used this for my sun glow code and it works <br><br></td></tr></table><br>
<a name="602704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzbasic.com/b3ddocs/command.php?name=EntityPickMode&amp;ref=3d_a-z" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=EntityPickMode&amp;ref=3d_a-z</a><br><br>The optional parameter in EntityPickMode. <br><br></td></tr></table><br>
<a name="602808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Please note that only Sphere and Box picking will work with Blitz3D sprites. For polygon picking, you will need a valid mesh <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
