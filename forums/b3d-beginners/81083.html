<!DOCTYPE html><html lang="en" ><head ><title >entity tracking (sort of a radar)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >entity tracking (sort of a radar)</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >entity tracking (sort of a radar)</a><br><br>
<a name="913167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a hud and want to have the ability to track selected entities via a small arrow that always points to it.  The tricky part is that the arrow needs to rotate...around the center of the screen.  Sort of like a compass, with an arrow at the outside edge, in the center of the screen.  For example, you select an asteroid and fly away from it.  The "compass" rotates and always points to the direction the asteroid is in, even if it is behind the ship.  Make sense?  I have no idea how to do this, just hoping someone can drum up some code or an idea for me to start with! <br><br></td></tr></table><br>
<a name="913180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Angle# = DeltaYaw( Player , Target )
RotateEntity Arrow, 0,0, Angle
</pre> <br><br></td></tr></table><br>
<a name="913184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Stevie! Remember it's a hud...2D. <br><br></td></tr></table><br>
<a name="913185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> He's still correct.<br><br>Your HUD should use 3D sprites and iirc, there's a RotateSprite command which will be perfect for this.<br><br>Mixing 2D and 3D is never a good idea. <br><br></td></tr></table><br>
<a name="913199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree GfK, I never mix text or anything else 2d with 3d unless it's a quickie debug type thing.  I was just referring to 2d commands.  I'm using Draw3D with...<br><br>If this\selected = True<br>    Angle# = DeltaYaw( camera , this\mesh )<br>    DrawImage3D(arrow,0,0,0,angle)<br>EndIf<br><br>Not really working. Barely moving, but not as intended I'm sure.  Still pluggin. <br><br></td></tr></table><br>
<a name="913203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a shot of my little space world :).  As you can see the arrow barely turns... I took a shot with it above left and below right.<br><br><img src="http://www.headpile.com/stuff/s1.jpg"><br><br><img src="http://www.headpile.com/stuff/s2.jpg"> <br><br></td></tr></table><br>
<a name="913212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> a lot of games place the arrow at the side of the screen and it moves around the edges till the object its pointing at is in view, then it zeros in on the target and turns into a "locked on" symbol around the target. <br><br></td></tr></table><br>
<a name="913218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now that I've seen the screenshot and it's clear your using a sprite library you should probably be using DeltaRoll instead of Deltayaw.  All your sprites are likely on the x/y plane , rather than the x/z plane which I originally thought.  <br><br>It does help to give alot more information - no one is a mind reader here.<br><br>Anyway, see function below:<br><br><pre class=code>
Function DELTAroll#( Source , Target )

	TFormPoint 0,0,0 , Target, Source
	Return VectorYaw ( TFormedX() , 0 , TFormedY() )

End Function
</pre> <br><br></td></tr></table><br>
<a name="913340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Stevie G this works perfectly.  My apologies for not explaining fully...<br><br>If as\selected = True<br>	angle = DELTAroll#(camera,as\mesh)<br>	drawimage3d(arrow,0,0,0,-angle)<br>EndIf <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
