<!DOCTYPE html><html lang="en" ><head ><title >First Person Shooter Gun Troubles</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >First Person Shooter Gun Troubles</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >First Person Shooter Gun Troubles</a><br><br>
<a name="585693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright here's the low down...I have a first person shooter, and everything is working great except for the loaded in weapon. When I get it to the appropriate place on screeen, it interacts with the enviroment. I know the gun shouldn't go through walls, or stop you from getting close to them. I have tried a few things and it is becoming very frustrating. Does anyone have a good hint or tip for me??<br><br>Here's some of my coding...<br>;-------------------------------------------------------<br>Type weapon<br>	Field kind<br>	Field x,y,z<br>	Field model<br>End Type<br><br>Global pistol.weapon = New weapon<br>	pistol\kind = 1<br>	pistol\x = .10<br>	pistol\y = -.15<br>	pistol\z = 1.15<br>	pistol\model = LoadMesh("gun.3ds,(user\cam))<br><br>PositionEntity pistol\model,pistol\x,pistol\y,pistol\z<br>ScaleEntity pistol\model,.50,.50,.50<br>;---------------------------------------------------------<br><br>To sum it up the gun is colliding with walls, and if I bring it closer to the camera then the gun no longer looks appropriate. Plz Help?? <br><br></td></tr></table><br>
<a name="585694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nothing collides unless you purposely turn on collisions for it.  So just don't set EntityType for the weapon. <br><br></td></tr></table><br>
<a name="585695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks I got that, but now the gun still goes through walls when I get close to them, and goes through the ground if I look down?? <br><br></td></tr></table><br>
<a name="585706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I see.  Well, there are two approaches to the problem.  The simpler one is to use EntityOrder to make sure the gun always draws last (and thus on top of the rest of your scenery.  If it works this solution is @#!* easy, but the problem is that EntityOrder turns of z-buffering for that entity, so the rendering may look weird in terms of overlapping polygons.  If that is the case, you can either re-design your weapon to solve the problem, or you can render the weapon as a separate pass on top of the main render. <br><br></td></tr></table><br>
<a name="585843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> there 's a third, simpler method, simply scale the weapon to something very small and stick it clsely to the camera. Now make sure the weapon is inside the Players collsion elipsoid. Maybe you need to additionally shrink the gun a bit in its depth because when it's so closed to the lense, it may look stretched. <br><br></td></tr></table><br>
<a name="586683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The entityorder command worked it's magic perfectly in my program much thanks to all!!!!! <br><br></td></tr></table><br>
<a name="586890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll probably get problems with animated gun meshes. Probably this can be solved when you set entityorder for the children recursively, in the order of their distance to the camera. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
