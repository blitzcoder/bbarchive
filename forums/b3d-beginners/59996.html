<!DOCTYPE html><html lang="en" ><head ><title >Openfile problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Openfile problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Openfile problem</a><br><br>
<a name="669105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is Openfile bugged? I need to open a file which has 7 strings in it. I need to ignore the first two strings, and replace the remaining five. My plan was to use openfile, use readline to read off the first two strings and put the pointer to the correct position, and then use writeline to replace the remaining 5. But the writeline command just seems to do nothing.<br><br>The only other way around it I can see it to open the file with readfile, read and store the 2 strings, close the file, open it again with writefile and then put all 7 strings back in and close it again. Seems like a very long-winded way around it.<br><br>Am I doing something wrong, or is openfile just bugged? <br><br></td></tr></table><br>
<a name="669254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't use ReadLine() to read strings (unless they aren't actually strings, but lines :).  Try ReadString() instead.<br><br>Also, strings (and lines) aren't a fixed length, so trying to replace them with WriteLine (or WriteString) will probably overwrite more (or less than) one line/string.  You are better off creating a new file (or overwriting the old one) and copying the parts you still want and your new parts to it.<br><br>Confused?<br><br>PS. OpenFile() isn't bugged, but you should use ReadFile() if all you want to do is read it.  OpenFile lets you read and write to a file (without closing it). <br><br></td></tr></table><br>
<a name="669320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's odd, I've been using Readline and Writeline to read and write strings to my files for ages, seems to work fine.<br><br>I guess in this case I will just replace the whole file, at least it works. :) <br><br></td></tr></table><br>
<a name="669686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Generally, I don't use OpenFile, because ReadFile and WriteFile give me all the functionality I need.  Are you using the FilePos and SeekFile commands in conjunction with OpenFile, to find your way around in the file?  If not, then from what I understand from the Help docs on the command, your use of OpenFile is incorrect.  <br><br><div class="quote"> This command opens the designated file and prepares it to be updated. The file must exists since this function will not create a new file. <br><br>By using FilePos and SeekFile the position within the file that is being read or written can be determined and also changed. This allows a file to be read and updated without having to make a new copy of the file or working through the whole file sequentially. This could be useful if you have created a database file and you want to find and update just a few records within it.  <br></div><br><br>I hope this helps. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
