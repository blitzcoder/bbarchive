<!DOCTYPE html><html lang="en" ><head ><title >Issues with playing movies</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Issues with playing movies</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Issues with playing movies</a><br><br>
<a name="920227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zortzblatz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whenever I try to get my code to play a movie it plays the audio but does not show any of the frames of the movie, does anyone know why or have a fix?<br><br><pre class=code>

Include "cwint.bb"
Cls

movie = OpenMovie("cut\teaser.wmv")
If movie=0 Then RuntimeError "Error - Movie not loaded!" 
If Not(MoviePlaying(movie)) Then RuntimeError "Error - Movie not playing!" 
w=MovieWidth(movie) 
h=MovieHeight(movie) 
x=(WIDTH-w)/2 y=(HEIGHT-h-100)/2 
Repeat 

DrawMovie movie,x,y,w,h
Cls
Flip
Until KeyHit(1)

CloseMovie movie

</pre> <br><br></td></tr></table><br>
<a name="920235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> codecs?<br>even if wmp or your movie player of choice has oodles of codecs installed blitz might only like the default wma and mpg codecs and throw a hissy at things like divx and other wma's <br><br></td></tr></table><br>
<a name="920236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zortzblatz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not sure what the codec is, do you see any errors in my code which could be causing my problem? <br><br></td></tr></table><br>
<a name="920237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> a codec is a separate file that handles audio visual data and is separate from this and other programming languages<br><br>windows media player can play default wmv/wma and mpg/mp3's but without a codec it cannot do divx movies or 'custom' wmv (sound will play on most)<br><br>so if your movie has been saved with a custom codec that blitz doesnt understand or have access to then just audio is probably all it can access<br><br>try re-saving the movie under default conditions <br><br></td></tr></table><br>
<a name="920239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zortzblatz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> My movie was made by Windows Movie Maker if that helps. I've tried it as both a wmv and an mpg. Both times I get the same result, the sound plays, but I see nothing. Every other program on my computer is fine with the movie.<br><br>The second video file is mpeg-2.<br><br>I have installed FFDshow, which claims to be a directshow codec for mpg files. It did not solve my problem. <br><br></td></tr></table><br>
<a name="920242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um...... forget Codecs.  That's not the problem.<br><br>You're drawing the screen, then clearing it with CLS before you FLIP buffers.  Put the CLS after the FLIP and it'll work. <br><br></td></tr></table><br>
<a name="920251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> i just offered cocecs as ive way too many (non porn) movie clips that are just sound on my box yet not on others <br><br></td></tr></table><br>
<a name="920276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zortzblatz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I put cls after flip and the end result was the same. To try to eliminate as many issues as possible I used the example code included in the blitz documentation for Directshow changing only the file it selects as the movie to my movie clip. It did the same thing as my code, played the sound but showed no images. <br><br></td></tr></table><br>
<a name="920332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, whatever else you did, that needed fixing.  As does this line:<br><pre class=code>x=(WIDTH-w)/2 y=(HEIGHT-h-100)/2</pre><br>First, you've got two declarations in one line, so you must either separate them with a colon, or put them on separate lines.  Also, I don't see where you've declared WIDTH and HEIGHT so I assume them both to be zero, which would probably mean your movie is being drawn off screen.<br><br>Try drawing the movie at a fixed screen position with fixed width and height before you worry about getting the position and scale right.<br><br>One other thing - to ensure maximum compatibility on other systems you need to encode your video with MPEG1. <br><br></td></tr></table><br>
<a name="920341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zortzblatz</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, HEIGHT and WIDTH being undefined made a big difference =P<br><br>THe code works fine now. <br><br></td></tr></table><br>
<a name="920344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeotrope</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another happy customer...<br><br>Leave the money on the fridge on your way out! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
