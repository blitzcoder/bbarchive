<!DOCTYPE html><html lang="en" ><head ><title >Just wondering, about making 2D map using tiles.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Just wondering, about making 2D map using tiles.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Just wondering, about making 2D map using tiles.</a><br><br>
<a name="283373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well you know when you make levels with Blitz+, you do the read data thing when using tiles like,<br>0,1,22,15,1,1,1,1,0,0<br>0,0,0,1,1,21,11,22,0,0<br><br>If you make a very very very big level, doesnt it make your line very very very long?<br>data 0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0<br>isnt there a command like:<br>data 0,0,0,0,<br>+ 0,0,0,0,0,0,0, ...<br><br>Just wondering. :) <br><br></td></tr></table><br>
<a name="283377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ford escort</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> datas are read in order so you can have multiple data line for the same datas<br><br>data 1,2,3,4,5<br><br>is the same as<br><br>data 1<br>data 2<br>data 3<br>data 4<br>data 5<br><br>or <br><br>data 1,2<br>data 3,4<br>data 5 <br><br></td></tr></table><br>
<a name="283641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If your levels are getting to be huge, you might want to design a level editor so you don't have to type in all those data statements. <br><br></td></tr></table><br>
<a name="283731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> dont know how to make a good lvl editor im still just a newb :)<br><br>Hell since my virus i had to reformat i dont remember how to make the maps with the data &gt;.&lt; <br><br></td></tr></table><br>
<a name="283751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eventually you'll use a map-editor, which saves a big bunch of mem. After that you load that map in BB in a bank (or a 2-dimensional array..), and there'll be no DATA commands at all.<br><br>The simple map editor is made out of the following parts:<br><br>- the map screen, where you can point 'n click to put a tile on a x/y coordinate<br>- the tile-list, where you can pick a tile (or a macro) to draw with.<br><br>Additionally you can add:<br>- a data-layer on the map screen, to add triggers etc.<br>- special walk/wall tiles (so that -for example- grass can act as a wall and vice versa) <br><br></td></tr></table><br>
<a name="284142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> When Blitzcoder is back online, I highly recomend Krylar's tutorial on tilemaps, which can be found in the articles section over there. <br><br></td></tr></table><br>
<a name="284211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GameCoder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sybixsus, Dont I know you from somewhere <br><br></td></tr></table><br>
<a name="284226"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Folks,<br><br>Data is already plural; you don't need to add an 's'.  Datum is the singular.<br><br>Sorry ;0)<br><br>Jes <br><br></td></tr></table><br>
<a name="284319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyberPackRat</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jes,<br><br>P is already soggy.<br><br>Very sorry, just having a little fun before I start a bit of coding.  Actually, I never knew the little factoid.  OW!<br>I got a new wrinkle on my brain from learning something new.<br><br>-DDT! <br><br></td></tr></table><br>
<a name="284379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paradox7</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> or check out MAPPY, probably the best map editor + playback library you going to find. <br><br><a href="http://www.tilemap.co.uk/mappy.php" target="_blank">http://www.tilemap.co.uk/mappy.php</a><br><br>Blitz Basic Play Back Library + it has examples, you can use that editor from above to make maps.<br><a href="http://www.tilemap.co.uk/zipfiles/mapbbr6.zip" target="_blank">http://www.tilemap.co.uk/zipfiles/mapbbr6.zip</a> <br><br></td></tr></table><br>
<a name="284444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BobR3D</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kaisuo-<br><br>To answer your original question,  no...  there is no native way to "compress" the DATA statements like you suggested.<br><br>You need to put a number in the DATA statement for each tile.<br><br>But-  like was mentioned,  you  DON'T  have to put all the DATA for each level on the same line.<br><br>You can break the lines up to make them easier to handle, just keep the numbers in the same order.<br><br>(As an aside, yes... you COULD write a routine to "compress" the data in the DATA statements, and then "uncompress" it when you READ the data, but it would be more trouble than it would be worth, and since it's not "native" to Blitz you'd have to write it yourself.) <br><br></td></tr></table><br>
<a name="284453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Sybixsus, Dont I know you from somewhere <br></div><br><br>Do you? Neither your nick or your email address ring any bells. Where do you think you know me from? <br><br></td></tr></table><br>
<a name="284471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mappy is really really really nice, but i cant understand mappybb.bb the source to read the files, and I dont wana use anything i dont understand fully in my little project :| <br><br></td></tr></table><br>
<a name="284856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cbmeeks</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would highly suggest making your own map editor.<br><br>It will help you a lot more.  Mappy is awesome, don't get me wrong, but learning it on your own is much better.<br><br>cb <br><br></td></tr></table><br>
<a name="284877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kaisuo: If you want a little help getting started on your map editor, take a look <a href="http://neogenesis.50free.net/files/2DEditor.zip" target="_blank">here</a>. This is my old editor (minus script inclusion) for 2D Shadow of Fear. It has a nice user interface (I think) but more importantly, should help you in designing your own. Full source and graphics supplied. <br><br></td></tr></table><br>
<a name="284931"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alternately use a .BMP file, just give each tiletype a colour, then your map is quite easy to edit. The only thing you need to know in order to load a .BMP file like a map is that the wideness of the map is stored as a SHORT on position 18, the height at position 22, and from position 54 and forwards the pixels are stored, 3 bytes make a pixel, where the first byte is blue, the second green, the third red. The first pixel is the lower left corner, and then the rest follows as horisontal lines.<br><br>This code can be used to load a BMP file, up to 16777216 different tiles.<br><pre class=code>
;this CANNOT be a function
Themap=ReadFile("Mymap.bmp")
SeekFile (Themap,18)
xofmap=ReadShort(Themap)
ReadShort(Themap)
yofmap=ReadShort(Themap)
SeekFile (Themap,54)
Dim maparray(xofmap-1,yofmap-1)
Thisworks=xofmap/4
Thisworks=xofmap-Thisworks*4
For Countervar1=0 To yofmap-1
	For Countervar2=0 To xofmap-1
		maparray(Countervar2,Countervar1)=ReadShort(Themap)+65536*ReadByte(Themap)
	Next
	For Countervar2=1 To Thisworks
		ReadByte(Themap)
	Next
Next
CloseFile(Themap)
</pre> <br><br></td></tr></table><br>
<a name="284940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even if you're only average with B+, then you can make an mapeditor with ampel functionality in a day.. <br><br></td></tr></table><br>
<a name="284956"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Neo I cant access your file :( <br><br></td></tr></table><br>
<a name="284958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> CS im not even average im sunk XD <br><br></td></tr></table><br>
<a name="285031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then why do you try to do high-end things all the time? Why don't you build-up your skills easily and steady with small simple applications? It's only since half a year that I make sources between 500 and 4000 lines. For years and years the only things that I did was doing stupid small useless apps, like sine-plotters, simple menus, pictureloaders/scrollers etc. I don't know about the other coders here, but I can't imagine that they learnt coding a different way.<br>It isn't B+ itself, once you get the grips on it -which should only take days- you can run all the way with it. <br><br></td></tr></table><br>
<a name="285119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cause I have a super high IQ and this pisses me off that I'm having problems to grasp this stuff. <br><br></td></tr></table><br>
<a name="285177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I learnt most of my coding skills in Blitz by designing a map editor (which became a major kludge due to the extra features added to aid my learning). Anyway, back to the problem in hand.<br><br>Kaisuo: The webserver seems to be having difficulties at the mo, as any new files uploaded seem to be protected. I am currently trying to resolve it. In the meantime, have a look at the code below. This uses 32x32 size tiles, loaded as an animation, stores map info in an array and displays it with offsets.<pre class=code>Graphics 640, 480
SetBuffer BackBuffer()

; Width and height of map in TILES not pixels
; Remember, each tile is 32x32 pixel size
Const max_width = 1024
Const max_height = 1024

; The all important MAP setup
Dim map(max_width, max_height)

; Replace these with your own graphics
Global tiles = LoadAnimImage("bitmaps\tiles.bmp", 32, 32, 0, 1024)
Global backdrop = LoadImage("bitmaps\mountains.bmp")

LoadMap()

Xoffset = 0
Yoffset = 0

Repeat
	; The offset parameters allow you to scroll the screen
	DrawMap(Xoffset, Yoffset)
	Text 0, 0, "Scrolling map demo"

	; Arrow keys scroll map
	If KeyDown(200) Yoffset = Yoffset - 4
	If KeyDown(208) Yoffset = Yoffset + 4
	If KeyDown(203) Xoffset = Xoffset - 4
	If KeyDown(205) Xoffset = Xoffset + 4

	If Xoffset &lt; 0 Xoffset = 0
	If Yoffset &lt; 0 Yoffset = 0
	If Xoffset &gt; (32*(max_width-1)) Xoffset = (32*(max_width-1))
	If Yoffset &gt; (32*(max_height-1)) Yoffset = (32*(max_height-1))

Until KeyHit(1)		; Escape to exit

Function DrawMap(Xoff, Yoff)

	startX = Floor(Xoff / 32)
	startY = Floor(Yoff / 32)
	endX = (GraphicsWidth() / 32) + startX
	endY = (GraphicsHeight() / 32) + startY

	For x = startX To endX
		For y = startY To endY
			; Here we use the position in the array
			; and the offset to calculate draw position
			Dx = (x * 32) - Xoff
			Dy = (y * 32) - Yoff

			; And here we draw it. Map(x,y) refers to a
			; frame of animation.
			DrawImage tiles, Dx, Dy, map(x,y)
		Next
	Next

End Function</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
