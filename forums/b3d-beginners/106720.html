<!DOCTYPE html><html lang="en" ><head ><title >Replicating Plane Thickness and position w/ Cube</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Replicating Plane Thickness and position w/ Cube</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Replicating Plane Thickness and position w/ Cube</a><br><br>
<a name="1315319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to switch to cube and not using plane anymore. I'm getting some jittering effect when I used a flattened cube with a defined width and length along with primitives on top, say another cube (not flattened)<br><br>Any ideas on how you can create the same with cube at position 0,0,0 and the same thickness as CreatePlane(). <br><br></td></tr></table><br>
<a name="1315327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure what you mean.  A plane is infinitely broad and of zero thickness. A cube has finite non zero dimensions.   You can of course svale a cube so it is broad but thin....is that what you mean? <br><br></td></tr></table><br>
<a name="1315329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Matty, Ok so nevermind the thickness. Any size will do, as long as it won't jitter when I put primitives on top. Kinda like floor (plane) and structure (cube,meshes)<br><br>Maybe start something like 100x100 in scale, I can't really line up the flattened cube and other meshes on top without experiencing any jittering. Is this still possible? <br><br></td></tr></table><br>
<a name="1315337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could simply create a big flat rectangle mesh (like 1000units*1000units), 4 vertices, 2 triangles. Also, make sure to define appropriate u,v coords so that the texture will be applied the same way than on the plane. <br><br></td></tr></table><br>
<a name="1315356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that could work RemiD, will try it thanks! <br><br></td></tr></table><br>
<a name="1315359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm getting some jittering effect when I used a flattened cube <br></div><br>That's called Z-fighting, it's caused by geometry from different objects occupying the same location in space, so in certain frames some pixels of an object go in front of pixels of the other, and vice versa. They have equal values in the depth buffer.<br><br><a href="https://en.wikipedia.org/wiki/Z-fighting" target="_blank">https://en.wikipedia.org/wiki/Z-fighting</a> <br><br></td></tr></table><br>
<a name="1315360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, that seems to be the case Kryzon. Do you have any example solution? thanks <br><br></td></tr></table><br>
<a name="1315361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use a flat rectangle mesh like RemiD suggested, or use EntityOrder to render the ground first, before everything. <br><br></td></tr></table><br>
<a name="1315363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you problem is z-fighting, the solution is to move/position your meshes a bit higher so that they do not cross the plane... or to move their bottom vertices a bit higher in your modeling tool... <br><br></td></tr></table><br>
<a name="1315380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry guys, I'm not good at calculating blitz3d units so maybe a simple example 1 cube flattened and 1 cube on top is all I need to see. It looks like I just need to create the plane from blender. <br><br></td></tr></table><br>
<a name="1315394"></a>

<a name="1315396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> using Fragmotion, i model everything with 1 fragmotionunit = 1 centimeter, then when i load the mesh inside Blitz3d, i scale down by 0.01.<br>This gives me perfectly sized meshes that i can then position/oriente precisely in the scene (essential if one day you want to procedurally build a scene with parts)<br><br>Firstly you want to decide at which size you want to model your meshes in Blender (preferably by using 1blenderunit = 1meter or 1decimeter or 1centimeter or 1millimeter), then export a 1w1h1d cube and load it inside Blitz3d. Then do some tests by scaling up or down to find the precise scale factor.<br>Then always use the same modeling size/grid and always use the same scale factor to load the mesh and all will work well. <br><br></td></tr></table><br>
<a name="1315395"></a>

<a name="1315405"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Btw, a Blitz3d cube, with default size, has a radius of 1 !<br>So in order to have a 1w1h1d cube inside Blitz3d, use this code :<br><pre class=code>
1w1h1dCube = createcube()
scalemesh(1w1h1dCube,1.0/2,1.0/2,1.0/2)
</pre> <br><br></td></tr></table><br>
<a name="1315406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, is that supposed to work in conjunction with the fakeplane? <br><br>btw you forgot about var name starts with 1 or num throws an error ;-) <br><br></td></tr></table><br>
<a name="1315410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>is that supposed to work in conjunction with the fakeplane? <br> <br></div><br>it is supposed to help you modelize, export, load, scale, your meshes precisely so that the vertices/edges do not go through the plane/ground/floor. <br><br></td></tr></table><br>
<a name="1315411"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm getting some jittering effect when I used a flattened cube with a defined width and length along with primitives on top, say another cube (not flattened) <br></div><br>We could use an example of this to demonstrate the problem. Without it we are just guessing what needs to be fixed. <br><br></td></tr></table><br>
<a name="1315412"></a>

<a name="1315413"></a>

<a name="1315414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. I know I can achieve this by just generating models in Blender and export it in B3D.<br><br>What I'm trying to do is replicate it without the use of any tool or through CreateCube() method. I'm curious if it is possible and without the z-fighting.<br><br>So far I'm failing and don't know the exact scale and position of the 2 objects to achieve this, that's why I'm asking this particular problem. <br><br></td></tr></table><br>
<a name="1315428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> What do you want exactly ?<br>A scene made in code with a plane and a 1w1h1d cube ? <br><br></td></tr></table><br>
<a name="1315436"></a>

<a name="1315437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes please, without the z-fighting. If it's not possible then it's ok, I guess I have to do it in Blender. <br><br></td></tr></table><br>
<a name="1315463"></a>

<a name="1315464"></a>

<a name="1315465"></a>

<a name="1315466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> here :<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D(640,480,32,2)

Global Origine = CreateCube()
ScaleMesh(Origine,0.01/2,0.01/2,0.01/2)
EntityColor(Origine,255,000,255)
EntityFX(Origine,1)

Global Camera = CreateCamera()
CameraRange(Camera,0.1,100)
CameraClsColor(Camera,000,000,000)

Global Plane = CreateMesh()
Surface = CreateSurface(Plane)
AddVertex(Surface,-100.0,0.0,100.0)
AddVertex(Surface,100.0,0.0,100.0)
AddVertex(Surface,-100.0,0.0,-100.0)
AddVertex(Surface,100.0,0.0,-100.0)
AddTriangle(Surface,0,1,2)
AddTriangle(Surface,2,1,3)
UpdateNormals(Plane)
EntityColor(Plane,100,100,100)

Global Cube1w1h1d = CreateCube()
ScaleMesh(Cube1w1h1d,1.0/2,1.0/2,1.0/2)
PositionMesh(Cube1w1h1d,0,1.0/2,0)
EntityColor(Cube1w1h1d,200,200,200)

Global DLight = CreateLight(1)
LightColor(DLight,224,224,224)
PositionEntity(DLight,-1000,1000,-1000,True)
RotateEntity(DLight,45,-45,0,True)

AmbientLight(022,022,022)

;stand up view, considering ellipsoid/collidable radiuses
PositionEntity(Camera,0,1.75-0.1,-0.5-0.25,True)
PointEntity(Camera,Cube1w1h1d)

;crouch down view, considering ellipsoid/collidable radiuses
;PositionEntity(Camera,0,0.875-0.1,-0.5-0.25,True)
;PointEntity(Camera,Cube1w1h1d)

;lay down view, considering ellipsoid/collidable radiuses
;PositionEntity(Camera,0,0.25-0.1,-0.5-0.25,True)
;PointEntity(Camera,Cube1w1h1d)

Main()

End()

Function Main()

 Repeat

  TurnEntity(Cube1w1h1d,0,-1,0)

  WireFrame(False)
  If( KeyDown(2)=1 )
   WireFrame(True)
  EndIf
  
  SetBuffer(BackBuffer())
  RenderWorld()

  Flip(1)

 Until( KeyDown(1)=1 )

End Function
</textarea><br><br>Also note that to prevent z-fighting you want to have a factor of 1000 maximum between the near camerarange and the far camerarange (in this example 0.1,100) <br><br></td></tr></table><br>
<a name="1315504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks RemiD. Looks like it works but I have not fully tested it yet. be back on this. <br><br></td></tr></table><br>
<a name="1315506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are 3 views from a humanoid pov in this scene : <br>-stand up view<br>-crouch down view<br>-lay down view<br><br>And as you can see, no z-fighting problem. <br><br></td></tr></table><br>
<a name="1315507"></a>

<a name="1315508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> got it, thanks. I'll be adding a freelook camera and some textures to check it out.<br><br>The z-fighting usually shows up when you move the camera. <br><br></td></tr></table><br>
<a name="1315509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure that what you describe as z-fighting is not the min value of the camerarange which is too high ? <br><br></td></tr></table><br>
<a name="1315513"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure but when I use plane at 0,0,0 there's no z-fighting when I place a cube on top. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
