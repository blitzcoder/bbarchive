<!DOCTYPE html><html lang="en" ><head ><title >How to clear the 3d environment and start another</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to clear the 3d environment and start another</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >How to clear the 3d environment and start another</a><br><br>
<a name="662876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hockings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm new to 3d and struggling with how to handle the logic for the next step past the most basic 3d stuff. <br>An example - say I'm creating a racing game :<br>I create a racing track mesh in some 3d program. In blitz3d I load my track mesh and my buildings, my cars, signposts etc,give them x,y,z coordinates and position the entities.<br><br>Question 1) If you're modelling a large track, and there's lots of scenery changes etc, how do you handle loading the objects? I could create an array of types with coordinates and pointers to meshes etc but if I draw them straight away, the game will try to draw lots of objects simultaneously taking up heaps of memory, and trying to draw lots of things far out of visual range.<br>My guess is that you'd do something similar to evaluating the distance from the player to every object each game loop, and if  distance &lt; certain value then draw it somehow.<br>Assuming you take that approach, once you've drawn the object once, blitz will draw it automatically without you explicitly redrawing it every game loop - how do you then get rid of it?<br><br>Question 2) There's the track and objects etc on the screen and the player is driving their car around. Now they're sick of it and want to go back to the menu. How would you do a rapid deletion of all the objects so UpdateWorld doesn't show them anymore? When you have a cube or two like the examples, you can easily have global pointers for each object and delete them by name - once you have tens or hundreds of objects, that approach won't work anymore (unless you want 5000000 unique global variables- and that's not sensible)<br><br>Question 3) If your type (as described above) has fields like<br>ObjectType (Car/boat/sign/plane etc)<br>X <br>Y<br>Z<br>Pointer_to_mesh<br>How do you implement the pointer to mesh part of the type? I don't want individual meshes for each object of the same type, but if I copy the mesh it appears (from the doco) that changes to one entity will affect all the copies too.<br><br>Thanks for your time<br>Shane <br><br></td></tr></table><br>
<a name="662910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> question 1.?<br><br>question 2. you would use clearworld i think? then reload you menu. <br><br>question 3 ?<br><br>i have almost the same problems with my game. i would like to know if anyone can answer these questions too.<br><br>Pete <br><br></td></tr></table><br>
<a name="662940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1. blitz handles drawing of entities, anything out of view is not drawn, anything out of camera range is not drawn etc<br>2.You canhave types which hold your 3d data eg<br><br>type TCar<br> field name$, id$ etc<br> field mesh.TEntity<br>end type<br><br>type TEntity<br> field ent<br> field scaleX,scaleY,scaleZ etc<br>end type<br><br>then do a simple <br><br>for ThisCar.TCar = each TCar<br> if not ThisCar\mesh = null<br>  if ThisCar\mesh\ent<br>    freeentity ThisCar\mesh\ent<br>  endif<br><br>  delete ThisCar\mesh<br><br> endif<br>next<br><br>This allows simple management of large amounts of objects.<br><br>3. You could have base entities and then copy them to the meshpointer<br><br>eg<br><br>type TBaseEntity<br> field name$<br> field mesh%<br>end type<br><br>function Copy_BaseEntity(name$)<br> for ThisBase.TBaseEntity = each TBaseEntity<br>  if ThisBase\name = name<br>   return copyentity(ThisBase\mesh)<br>  endif<br> next<br>end function<br><br>You would create the base entities on startup of a map\level and then copy as needed. <br><br></td></tr></table><br>
<a name="663021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hockings</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! Thanks very much people!!!! <br><br></td></tr></table><br>
<a name="663709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> EntityAutoFade may also be useful for hiding distant objects. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
