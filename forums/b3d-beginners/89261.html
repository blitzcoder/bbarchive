<!DOCTYPE html><html lang="en" ><head ><title >Waypoints not working right..</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Waypoints not working right..</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Waypoints not working right..</a><br><br>
<a name="1013672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> For each robot that is created, I want to copy a sphere, place it at the robot's OLD X,Y,Z position BEFORE he is set to chase my player and such. For some reason THIS code KEEPS copying the entity as he moves. I ONLY want it to copy the entity ONE time where EACH robot is AT BEFORE it moves.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Global RobotPivot = CreateSphere()
HideEntity RobotPivot

Function WayPoint()
	
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
	
	;Bot AI
			If o\ObjType = OBJTYPE_ROBOT
			AllPivs=CopyEntity(Robot_Pivot)
				PositionEntity AllPivs, EntityX(o\Entity),EntityY(o\Entity),EntityZ(o\Entity)
				If EntityDistance(p\Objects\Entity,o\Entity) &lt;= 70 And p\Motion\Ground = True
					IsAI = 1
					If IsAI = 1
					PointEntity o\Entity,p\Objects\Entity
					MoveEntity o\Entity,0,0,3
					Else
					IsAI=0
					EndIf
					If EntityDistance(o\Entity,p\Objects\Entity) &lt;= 10 And p\Motion\Ground = True
						IsAI = 0
					EndIf
					
					If EntityDistance(o\Entity,p\Objects\Entity) &lt;= 20 Or EntityDistance(p\Objects\Entity,o\Entity) &gt;= 10 And (IsAI = 0)
					
					PointEntity o\Entity,Robot_Pivot
					MoveEntity o\Entity,0,0,3
					
					EndIf
					
				EndIf
			EndIf
		Next
	Next
	
	End Function</textarea> <br><br></td></tr></table><br>
<a name="1013762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> for some reason, its creating a chain of waypoints at the old x,y,z. i only want one. o.o <br><br></td></tr></table><br>
<a name="1013878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Last four posts...<br><br>Waypoints not working right.. By Rez<br>bounce not working....  By Rez<br>character home attack not working? By Rez<br>how to make enemy go FLYING on the y and z axis? By Rez <br><br></td></tr></table><br>
<a name="1013882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> rez, have you tried coding your own waypoint system? If not, i encourage you to do so. It will let you have it work the exact way you need it. I fear you have no grasp of how this is coded , therefore little chance of modifying it to suit your needs. <br><br></td></tr></table><br>
<a name="1013892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Last four posts...<br><br>Waypoints not working right.. By Rez<br>bounce not working.... By Rez<br>character home attack not working? By Rez<br>how to make enemy go FLYING on the y and z axis? By Rez  <br></div><br>Anticipating the next thread,<br><br>"How to code a waypoint system the exact way u need it?" By Rez <br><br></td></tr></table><br>
<a name="1013895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Last four posts...<br><br>Waypoints not working right.. By Rez<br>bounce not working.... By Rez<br>character home attack not working? By Rez<br>how to make enemy go FLYING on the y and z axis? By Rez <br></div><br>"Game not working! Can you make it for me?" By Rez <br><br></td></tr></table><br>
<a name="1013926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunelty, rez, these are the responses from a growing number of members on this board. Most folk are losing patience with you... Not in a nasty way i don't imagine, just through frustration. It's hard to watch someone who asks for help, not try to code his own stuff, then ask for help if it doesn't work.<br><br>You will never get any better at coding if your always going to take someone else code, then simply ask for help to get it working the way you want. That's really not the point of the whole exercise.<br><br>Usually when you help someone with a problem, they learn from that, and you see them, improve. Anyway, thought i'd just drop that in again, before you get all worked up again. <br><br></td></tr></table><br>
<a name="1013944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I dont see u jerks yelling at vivaigiochi. I dont even know why I bother with u jerks anymore.<br><br>He posted twice in 1 day. <br><br></td></tr></table><br>
<a name="1013947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross has the virtue of a little more patience than me and makes a good, constructive post. If you show that you are actually trying to learn, Rez, you will find the members of this board more than helpful. <br><br></td></tr></table><br>
<a name="1013951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm. Rez, did you look at his post though?<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=89290" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=89290</a><br><br>He has a problem, solves it, then uploads it to the code archives. What i'm getting at, is, do you code your own stuff at all? I'm saying this to HELP you, not to have a laugh at your expense. You will NEVER get better at coding, unless you start coding your own stuff from stratch, and learn how it works.<br><br>Now, you can sit there and call people names (again), or, try coding something very simple.<br><br>For instance, i set you a challenge of coding a very small program, that will let you move a box around the screen (in 2D), using the arrow keys. Are you able to code that from scratch? <br><br></td></tr></table><br>
<a name="1013957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes i code my own stuff. where the HELL do u think i got homing attack from?<br><br>it took me weeks to figure that code out...<br><br>and yes.<br><br>i can AND did<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Graphics 640,480,0,2

Global title$ = "Box Demo"
AppTitle title$

Global boxx1
Global boxy1

SetBuffer BackBuffer() 

While Not KeyHit(1) 

Cls

If Not KeyDown(42) Or KeyDown(54)

If KeyDown(200)
boxy1 = boxy1-1
EndIf

If KeyDown(208)
boxy1 = boxy1+1
EndIf

If KeyDown(203)
boxx1 = boxx1-1
EndIf

If KeyDown(205)
boxx1 = boxx1+1
EndIf

EndIf

If KeyDown(42) Or KeyDown(54)

If KeyDown(200)
boxy1 = boxy1-4
EndIf

If KeyDown(208)
boxy1 = boxy1+4
EndIf

If KeyDown(203)
boxx1 = boxx1-4
EndIf

If KeyDown(205)
boxx1 = boxx1+4
EndIf

EndIf

If boxy1 &lt; 0 Then boxy1 = 0
If boxy1 &gt; GraphicsHeight()-20 Then boxy1 = GraphicsHeight()-20
If boxx1 &lt; 0 Then boxx1 = 0
If boxx1 &gt; GraphicsWidth()-20 Then boxx1 = GraphicsWidth()-20

Rect boxx1,boxy1,20,20,1

Text GraphicsWidth()/2, GraphicsHeight()/2, "Hold shift / arrow keys to move fast", 1, 1
Text GraphicsWidth()/2, GraphicsHeight()/2+20, "Hold arrow keys to move", 1, 1
Text GraphicsWidth()/2, GraphicsHeight()/2+40, "x:"+boxx1, 1, 1
Text GraphicsWidth()/2, GraphicsHeight()/2+60, "y:"+boxy1, 1, 1

Flip
Wend</textarea> <br><br></td></tr></table><br>
<a name="1013972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good. The point i'm making here is, if you code it yourself, making additions is far far easier. You could probably get that box to follow waypoints, very easily.<br><br>First you must consider how you will store your waypoints?<br><br>Personally, i like arrays:<br><br><pre class=code>

Dim waypoint(10,2)

</pre><br><br>Then, simple, in order of each waypoint. Point the entity (i'm talking 3d here) in the direction of the waypoint and move it, till you get within a certain distance of ther waypoint. Upon coming to that distance, move to the next waypoint. <br><br></td></tr></table><br>
<a name="1013973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> its not that i cant make waypoints. its that i cant get it to STOP making waypoints &gt;&lt;<br><br>i need it to make ONE waypoint PER robot. that is IT <br><br></td></tr></table><br>
<a name="1013988"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> REading the first post in this forum, I'm trying to understand what you want to do exactly.  From what I can gather, you want to place a waypoint in space where the robot started from, have the robot follow and attack the player, then return back to that waypoint after attacking?  To help at all we need to know exactly what it is you're asking.<br><br>Waypoints would probably not be created on the fly, unless it's something like above where it's just something to return to, or whatever.<br><br>This would not really be a waypoint system, but would serve the function of giving the robot something to travel to. <br><br></td></tr></table><br>
<a name="1013990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes. that is EXACTLY it. EXCEPT i want the waypoint to stay at the robot's old x,y,z WHILE chasing / attacking the player and i only want ONE of them at EACH robot that is created's x,y,z (old), i don't want it to keep copying every time the robot moves. <br><br></td></tr></table><br>
<a name="1014036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you calling the function WayPoint() every game-loop?<br>That might be the reason your code adds a new waypoint every move the robot makes.<br>Because the line<br><pre class=code>
AllPivs=CopyEntity(Robot_Pivot)
</pre><br>adds a new waypoint  every time the function is called for each robot.<br><br>You should use a CreateRobot() function when you want to create a new robot and add the waypoint (a sphere in your case) inside that function.<br><br>Then there is no possibility that your code makes additional waypoints throughout the game for every move it makes.<br><br>I've created an example how I use Createxxx() functions throughout my projects:<br><pre class=code>
Graphics3D 800, 600, 0, 2
SetBuffer BackBuffer()

Type TPlayer
	Field Entity
End Type

Type TRobot
	Field X, Y, Z
	Field Entity
	Field Waypoint
End Type

; Create one player
Global Player.TPlayer = CreatePlayer()

; Create the ground floor
Global plane = CreatePlane()

; Create a camera and point it towards the floor
Global camera = CreateCamera()
PositionEntity camera, 0, 20, -50
PointEntity camera, plane



; Main loop
While Not KeyHit(1)
	; If spacebar is hit, create a new robot at some random coordinate
	If KeyHit(57) Then
		X = Rand(-20, 20)
		Y = 0
		Z = Rand(-20, 20)
		CreateRobot(X, Y, Z)
	EndIf

	; Allow the player to move
	MovePlayer()
	; Move all robots
	MoveAllRobots()

	RenderWorld
	Flip
Wend

End



; This function creates one player instance
Function CreatePlayer.TPlayer()
	; Create a new player instance
	Local P.TPlayer = New TPlayer
	; Give the player instance a visible mesh
	P\Entity = CreateCone()
	; Make the cone a bit bigger
	ScaleEntity P\Entity, 5, 5, 5
	; Color the player mesh green
	EntityColor P\Entity, 0, 255, 0

	; Return the player instance to the calling routine
	Return P
End Function

; This function is used to create a new robot instance
Function CreateRobot.TRobot(X, Y, Z)
	; Create a new robot instance
	Local Robot.TRobot = New TRobot
	; Store the starting position for further use somewhere (if needed)
	Robot\X = X : Robot\Y = Y : Robot\Z = Z
	; Create the robot mesh
	Robot\Entity = CreateCube()
	; Create the waypoint
	Robot\Waypoint = CreateSphere()
	; Position the robot and the waypoint to the robot's starting coordinates
	PositionEntity Robot\Entity, X, Y, Z
	PositionEntity Robot\Waypoint, X, Y, Z
	; Color the meshes (robot = blue, waypoint = red)
	EntityColor Robot\Entity, 0, 0, 255
	EntityColor Robot\Waypoint, 255, 0, 0

	; Return the robot instance to the calling routine
	Return Robot
End Function

Function MovePlayer()
	If KeyDown(203) Then ; Left
		TurnEntity Player\Entity, 0, 2, 0
	EndIf
	If KeyDown(205) Then ; Right
		TurnEntity Player\Entity, 0, -2, 0
	EndIf
	If KeyDown(200) Then ; Forward
		MoveEntity Player\Entity, 0, 0, 0.2
	EndIf
	If KeyDown(208) Then ; Backward
		MoveEntity Player\Entity, 0, 0, -0.2
	EndIf
End Function

; This function let's all robot within 10.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots()
	; Process all robots
	For Robot.TRobot = Each TRobot
		; If the distance between the robot and the player is smaller than 10.0 units
		If EntityDistance(Robot\Entity, Player\Entity) &lt; 10.0 Then
			; If the robot hasn't reached the player yet
			If EntityDistance(Robot\Entity, Player\Entity) &gt; 0.1 Then
				; Point the robot towards the player
				PointEntity Robot\Entity, Player\Entity
				; And move towards the player
				MoveEntity Robot\Entity, 0, 0, 0.1
			EndIf
		Else
		; The robot was further away from the player than 10.0 units
			; If the robot hasn't reached his waypoint yet
			If EntityDistance(Robot\Entity, Robot\Waypoint) &gt; 0.1 Then
				; Point the robot towards it's own waypoint (it's starting position)
				PointEntity Robot\Entity, Robot\Waypoint
				; Move the robot towards it's waypoint
				MoveEntity Robot\Entity, 0, 0, 0.1
			EndIf
		EndIf
	Next
End Function
</pre><br><br>You'll see that the CreateRobot() function creates both the robot entity and the waypoint.<br>When you hit the spacebar, a new robot (along with it's waypoint) is created. There is no need to check elsewhere in the program if his waypoint is already created (and create a new one if it hasn't), because you know it has been created when you created the robot.<br><br>Move the player with the arrow keys.<br>If a robot is within 10.0 units of the player, he will chase the player.<br>If the robot is not within this range (too far away from the player), he moves back to his waypoint. <br><br></td></tr></table><br>
<a name="1014053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, i followed ur guide and came up with this.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; This function let's all robot within 70.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots()
	; Process all robots
For p.tPlayer = Each tPlayer
	For o.tObject = Each tObject
	 If o\ObjType = OBJTYPE_ROBOT
		; If the distance between the robot and the player is smaller than or = 70.0 units
		If EntityDistance(o\Entity, p\Objects\Entity) &lt;= 70.0 Then
			; If the robot hasn't reached the player yet
			If EntityDistance(o\Entity, p\Objects\Entity) &gt; 3 Then
				; Point the robot towards the player
				PointEntity o\Entity, p\Objects\Entity
				; And move towards the player
				MoveEntity o\Entity, 0, 0, 3
			EndIf
		Else
		; The robot was further away from the player than 0.1 units
			; If the robot hasn't reached his waypoint yet
			If EntityDistance(o\Entity, Robot_Piv) &gt; 0.1 Then
				; Point the robot towards it's own waypoint (it's starting position)
				PointEntity o\Entity, Robot_Piv
				; Move the robot towards it's waypoint
				MoveEntity o\Entity, 0, 0, o\speedZ#
				EndIf
		   EndIf
	   EndIf
  	EndIf
  Next
Next
End Function</textarea><br><br>the waypoints were created in the right places. only problem is, the robot kept moving and moving and moving on the z axis, and did not go back to the waypoint. is this function correct? if not, how can i fix it?<br><br>MoveAllRobots() also goes into the main loop <br><br></td></tr></table><br>
<a name="1014061"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is a super easy way to do this, and I'll explain without using actual code, as my dinner is about ready.<br><br>Give your robots a field called "status".  This will simply hold a variable that will instruct the robot on what to do.<br><br>This is not real code:<br><pre class=code>
Type robot
    Field mesh
    Field status
    Field return_waypoint
End Type
</pre><br><br>You can, of course edit that to suit your needs.  Each game loop you'll check to see what each robot it doing ONE time.<br><br><pre class=code>
For r.robot = Each robot
    Select r\status
       Case 1 ;this could be idle, or look for player
           ;Here you can have it look for player, check distances, whatever
           ;Then, if the robot sees the player....
           r\status = 2    ;change status to 2, which can be drop a waypoint

       Case 2  ;drop a waypoint
           ;here you'll get r\mesh's coordinates
           ;then create an actual waypoint and store it in r\return_waypoint, and place it at the r\mesh's coords
           ;after that, set it to status 3
           r\status = 3
       Case 3
           ;Case 3 can be the code to follow and attack the player
           ;after attacking or whatever it's supposed to do...
           ;set status to 4
           r\status = 4
       Case 4
           ;Case 4 can be return to waypoint
           ;so you'll point r\mesh at r\return_waypoint
           ;then move it towards the waypoint...
           ;You'll check distance of the r\mesh to r\waypoint
           ;if you're say within 1 entitydistance of the waypoint...
           ;set the status back to 1 and delete the r\return_waypoint
           r\status = 1
           delete r\return_waypoint
       End select
Next

</pre><br><br><br>Using status is a VERY easy way to control exactly what your entities are doing...  Each robot will stay in each state until it meets the criteria to switch to a different state.  Just remember to SET the status to 1 when the robot is created. <br><br></td></tr></table><br>
<a name="1014063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Rez: You have one "EndIf" too many just before the function ends.<br><br>I don't know how you created the Robot_Piv, so I cannot tell what's the problem.<br>If you use the code you've used in your first post, you created it as RobotPiv (without the underscore).<br><br>Are you using one global pivot or do you create one pivot for each robot?<br>In case of one pivot for every robot, do you attach it to the robot's instance (like in my CreateRobot() function)? <br><br></td></tr></table><br>
<a name="1014101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I global it, and then create the pivot with each robot.<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	o\SpeedZ# = 3
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	

	Robot_Piv = CreateSphere()
	PositionEntity Robot_Piv, x#, y#, z#
	
	Return o
	
End Function</textarea><br><br>here: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; This function let's all robot within 70.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots()
	; Process all robots
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
		; If the distance between the robot and the player is smaller than or = 70.0 units
				If EntityDistance(o\Entity, p\Objects\Entity) &lt;= 70.0 Then
			; If the robot hasn't reached the player yet
					If EntityDistance(o\Entity, p\Objects\Entity) &gt; 3 Then
				; Point the robot towards the player
						PointEntity o\Entity, p\Objects\Entity
				; And move towards the player
						MoveEntity o\Entity, 0, 0, 3
					EndIf
				Else
		; The robot was further away from the player than 0.1 units
			; If the robot hasn't reached his waypoint yet
					If EntityDistance(o\Entity, Robot_Piv) &gt; 0.1 Then
				; Point the robot towards it's own waypoint (it's starting position)
						PointEntity o\Entity, Robot_Piv
				; Move the robot towards it's waypoint
						MoveEntity o\Entity, 0, 0, o\speedZ#
					EndIf
				EndIf
			EndIf
		Next
Next
End Function</textarea> <br><br></td></tr></table><br>
<a name="1014122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wmaass</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take Drak's advice. I have a status field for almost all types that I use. <br><br></td></tr></table><br>
<a name="1014168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> it is the waypoint that's doing it. i think. here's my code, and im STILL having problems w/ the robot 'running away from the waypoint'<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; This function let's all robot within 70.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots()
	; Process all robots
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
		; If the distance between the robot and the player is smaller than or = 70.0 units
				If EntityDistance(o\Entity, p\Objects\Entity) &lt;= 70.0 Then
			; If the robot hasn't reached the player yet
					If EntityDistance(o\Entity, p\Objects\Entity) &gt; 3 Then
				; Point the robot towards the player
						PointEntity o\Entity, p\Objects\Entity
				; And move towards the player
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
				Else
		; The robot was further away from the player than 0.1 units
			; If the robot hasn't reached his waypoint yet
					If EntityDistance(o\Entity, Robot_Piv) &gt; 0.1 Then
				; Point the robot towards it's own waypoint (it's starting position)
						PointEntity o\Entity, Robot_Piv
				; Move the robot towards it's waypoint
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
				EndIf
			EndIf
		Next
Next
End Function</textarea><br><br>MoveAllRobots() i put above updateworld() <br><br></td></tr></table><br>
<a name="1014172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> i found the problem. they all think that one waypoint WAY in to the 2nd half of the level is the central waypoint so they're all going to it at the same time. how can i fix this with the code listed above? <br><br></td></tr></table><br>
<a name="1014214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can fix it by removing that global Robot_Piv.<br><br>I've given you the example that holds the waypoint for each robot inside the robot's instance. See the CreateRobot() function.<br><br>You've modified it so that all waypoints are linked to Robot_Piv.<br><br>What you're actually doing, is creating spheres (that represent the robot's waypoint) and store the reference into Robot_Piv every time.<br>Doing so overwrites the reference to the previous waypoint.<br><br>Let's assume you're creating 20 robots.<br><br>You create 20 tObject instances, each with their own reference to the robot's mesh (o\Entity), but you link the robot's waypoint to the global Robot_Piv. Why don't you use the extra field in the tObject's type instance to hold the reference to that robot's waypoint, like shown in my example?<br><br>You've in fact created 20 waypoints, but the Robot_Piv will only reference the last created waypoint, and you've de-referenced the 19 previous waypoints.<br>This is problem number 1: a massive memory-leak.<br>Because the first 19 waypoints do exist (the meshes), but you cannot interact with them anymore, as you've overwritten that reference 20 times.<br>If you want to delete a robot (using your code), you can only delete the robot's mesh (o\Entity) and the tObject instance that represents your robot, but there is no way you can delete it's waypoint, as you lost it by overwriting the waypoint each time. The waypoint is de-referenced and you cannot retrieve it anymore, whatever you do.<br><br>The second problem is that you only keep the reference to the last waypoint.<br>That way, your robots will all move to this last waypoint when they lose the player.<br>So you've created a programming bug.<br><br>Keep your coding simple, step by step. And build your code logically.<br><br>If every robot needs it's own waypoint, there is no need to hold that reference in a global variable that you overwrite every time.<br>This creates: 1) a massive memory-leak, 2) a bug with unexpected behaviour of all your robots.<br>If every robot needs it's own waypoint, then include a field in the robot's instance to hold a reference to it's own waypoint, like I showed you. <br><br></td></tr></table><br>
<a name="1014263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks powerpc, that worked! <br><br></td></tr></table><br>
<a name="1014283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok the CODE works. but for some reason when u have more than 1 robot next to each other, the speed of the robot speeds up by nearly double its given amount. how can i fix it so that ALL robot speeds near/far are equal?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function MoveAllRobots()
	; Process all robots
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT And (p\Motion\Ground = True)
				o\Motion\Speed\Z# = .4
		; If the distance between the robot and the player is smaller than or = 70.0 units
				If EntityDistance(o\Entity, p\Objects\Entity) &lt;= 70.0 Then
			; If the robot hasn't reached the player yet
					If EntityDistance(o\Entity, p\Objects\Entity) &gt; 3 Then
				; Point the robot towards the player
						PointEntity o\Entity, p\Objects\Entity
				; And move towards the player
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
				Else
		; The robot was further away from the player than 0.1 units
			; If the robot hasn't reached his waypoint yet
					If EntityDistance(o\Entity, o\Robot_Piv) &gt; 0.1 Then
				; Point the robot towards it's own waypoint (it's starting position)
						PointEntity o\Entity, o\Robot_Piv
				; Move the robot towards it's waypoint
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
				EndIf
			EndIf
		Next
	Next
End Function</textarea><br><br>and for some reason the robot when he gets back to his waypoint keeps wanting to move, which makes him look like hes glitched. how can i fix both? <br><br></td></tr></table><br>
<a name="1014528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
If o\ObjType = OBJTYPE_ROBOT And (p\Motion\Ground = True)
				o\Motion\Speed\Z# = .4
</pre><br><br><pre class=code>
If EntityDistance(o\Entity, o\Robot_Piv) &gt; 0.1 Then
				; Point the robot towards it's own waypoint (it's starting position)
						PointEntity o\Entity, o\Robot_Piv
				; Move the robot towards it's waypoint
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf</pre><br><br>Can you spot the problem?<br><br>You might consider HOW FAST the thing is moving, and HOW LARGE the radius of detection is... <br><br></td></tr></table><br>
<a name="1014538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> .4 is NOT very fast.<br><br>and im not sure how big the radius is <br><br></td></tr></table><br>
<a name="1014653"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> the radius is 2.20 <br><br></td></tr></table><br>
<a name="1014667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> .4 can actually be fast if something is moving .4 every frame.  Even at 40 frames per second thats 16 "units" per second. <br><br></td></tr></table><br>
<a name="1014683"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> well still, how can i stop the robots from acting like they're all high when they go back to their waypoints? <br><br></td></tr></table><br>
<a name="1014715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rez...<br><br>note I specidfied 'Radius of detection'<br><br>Since you are using EntitityDistance, rather than rely on standard collisions, your detection radius is:<br><br><pre class=code>
EntityDistance(o\Entity, o\Robot_Piv) &gt; 0.1 Then
</pre><br><br>Now, the speed is, as you say, .4 <br><pre class=code>o\Motion\Speed\Z# = .4</pre><br><br>You claimed it isn't very fast, but I think if you stufdy the lines of code here (or rather, those I quoted earlier), the RELATIVE MAGNITUDE of the speed is quite significant.<br><br>Once again, these should be enough clues to figure out the problem.<br><br>This is YOUR program, your code (should be), so YOU OUGHT TO KNOW WHAT IT IS DOING!<br>Don't get defensive, I am hoping you will actually look at the code you have written, and THINK about what it is ACTUALLY DOING.<br>This is the only way you will understand why certain bugs appear, and how to solve them! <br><br></td></tr></table><br>
<a name="1014720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> the enemy basically jitters. i thought about it, and idk why he... wait. it's 0.1 isnt it? it should be = 0.0.... <br><br></td></tr></table><br>
<a name="1014726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> should it? <br><br></td></tr></table><br>
<a name="1014732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>it's 0.1 isnt it? it should be = 0.0.... <br> <br></div><br><br>Wrong.<br><br>-------------------<br><br>Currently, your robots head to their waypoints.<br>They are considered to be AT the waypoint when they are within 0.1 units away.<br><br>However, each update, your robots MOVE by 0.4<br><br>So if a Robot is say, 1 unit away, he moves 0.4 towards the waypoint.<br>This puts him at 0.6 Away, still not close enough, so he moves again...<br>He moves again 0.4 units, and arrives at 0.2 units from the Waypoint.<br>This is STILL outside the 0.1 boundary, so once more, he moves...<br><br>However, he will move THROUGH The waypoint, since he is moving 0.4 units, when he only needs to move 0.2<br><br>This puts him the other side of the waypoint ( 0.2 units away again)<br><br>Since he will never REACH the waypoint boundary of 0.1, he will continue to jump through the Waypoint between 0.2 and -0.2 units away. Giving the jittery appearance.<br><br><br><br><br><br><br><br><br>*Checks of &lt;=0.0 when dealing with floats are BAD (uunless you just need to check for negatives) since tiny inaccuracies will mean you never get the result you want :) ) <br><br></td></tr></table><br>
<a name="1014734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> so how would i stop the robot from acting like he's had 50 cups of coffee? <br><br></td></tr></table><br>
<a name="1014737"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="1014738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> ? <br><br></td></tr></table><br>
<a name="1014741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you understand WHY the robot is 'jittering' ? <br><br></td></tr></table><br>
<a name="1014743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, he keeps trying to move to a &lt; 0 point.. which is driving both him AND me mad.... <br><br></td></tr></table><br>
<a name="1014745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> No.<br><br>He keeps trying to move to within 0.1 of a point when he moves at 0.4 each time<br><br>This way, it's impossible for him EVER to be within 0.1<br><br>IF<br><br>the robot moved at a speed less than 0.1 then he will end up within the boundary and stay there<br><br>OR<br><br>IF<br><br>the boundary was  larger than 0.4 the robot would end up within it and stay there <br><br></td></tr></table><br>
<a name="1014747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> So ur saying this will fix it?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function MoveAllRobots()
	; Process all robots
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT And (p\Motion\Ground = True)
				o\Motion\Speed\Z# = .4
		; If the distance between the robot and the player is smaller than or = 70.0 units
				If EntityDistance(o\Entity, p\Objects\Entity) &lt;= 70.0 Then
			; If the robot hasn't reached the player yet
					If EntityDistance(o\Entity, p\Objects\Entity) &gt; 3 Then
				; Point the robot towards the player
						PointEntity o\Entity, p\Objects\Entity
				; And move towards the player
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
				Else
		; The robot was further away from the player than 0.1 units
			; If the robot hasn't reached his waypoint yet
					If EntityDistance(o\Entity, o\Robot_Piv) &gt; 0.4 Then
				; Point the robot towards it's own waypoint (it's starting position)
						PointEntity o\Entity, o\Robot_Piv
				; Move the robot towards it's waypoint
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
				EndIf
			EndIf
		Next
	Next
End Function</textarea> <br><br></td></tr></table><br>
<a name="1014748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> also, explain to me this. why when there's more than one robot next to each other. why even though i set a constant speed for the robots, are they faster than the 1s in different parts of the level that are by themselves? <br><br></td></tr></table><br>
<a name="1014754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> You must be changing the speed somewhere in your code if you're getting different speeds when they're set the same. You should be able to set it at startup and leave it.  I see that every frame you reset o\motion\speed\z# to .4, and then again the next frame set it to .4, and then the next frame set it to .4 again, and then on the next frame you set it to .4 instead of .4.  Is there any other functions you're running that also control the speed of the robots? <br><br></td></tr></table><br>
<a name="1014756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another thing to de-clutter your code:  Instead of calling this line of code 3 times:<br><br><pre class=code>
If EntityDistance(o\Entity, p\Objects\Entity) ;then check it ....
</pre><br><br>Do yourself a favor and store the distance in a variable.  Do this instead:<br><pre class=code>
distance# = EntityDistance(o\Entity, p\Objects\Entity)
</pre><br><br>This declutters your code and makes it easier to follow.<br>Then just check the variable against the argument.<br><br>Edit: Get rid of all those Then statements too.  Try this: ok I just noticed an error in your code gimme a few minutes to work it out<br><br>Edit2:<br>This code is decluttered and readable, but still won't work right for you.<br>That's because it has no way of telling whether the robot is trying to attack the player or go to the waypoint.  First it checks to see if it's less than 70 units from the player but more than 3.  If it is, it points and moves towards the player.  Then right after that, it checks to see if its further than .41 away from it's waypoint.  If it is, it points itself back at the waypoint then moves towards it.  You need to find a way to seperate these two functions so they don't both exocute in the same frame.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function MoveAllRobots()
	; Process all robots
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT And (p\Motion\Ground = True)
				o\Motion\Speed\Z# = .4
				
				;here you check distance from o\entity to p\object\entity
				Local dist_to_entity# = EntityDistance(o\Entity, p\Objects\Entity)
					If dist_to_entity# &lt;= 70.0 And dist_to_entity# &gt; 3
						;Point the robot towards the player
						PointEntity o\Entity, p\Objects\Entity
						;And move towards the player
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
				
				
			; The robot was further away from the player than 0.1 units
				Local dist_to_waypoint# = EntityDistance(o\Entity, o\Robot_Piv)
					If dist_to_waypoint# &gt; 0.41 Then
						; Point the robot towards it's own waypoint (it's starting position)
						PointEntity o\Entity, o\Robot_Piv
						; Move the robot towards it's waypoint
						MoveEntity o\Entity, 0, 0, o\Motion\Speed\Z#
					EndIf
					
			EndIf
		Next
	Next
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1014757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> JUST 1...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
		; Create objects
	o\Motion = New tObject_Motion
	
	o\Motion\Speed    = Vector(0, 0, 0)
	;o\Motion\Align 	  = Vector(0, 1, 0)
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	
	
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	
	
	o\Robot_Piv = CreatePivot()
	PositionEntity o\Robot_Piv, x#, y#, z#
	
	Return o
	
End Function</textarea> But i don't think that has ANYTHING to do w/ it. <br><br></td></tr></table><br>
<a name="1014759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> cant i just do if entitydistance(robot(blah),p\Objects\Entity) &lt;= 0.1 then attackplayer ? <br><br></td></tr></table><br>
<a name="1014762"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can do it however you want, I'm just showing you an easier, simpler, cleaner way instead of calling the same thing twice. <br><br></td></tr></table><br>
<a name="1014763"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> im not calling the o\motion\speed twice, im initializing it, then changing it <br><br></td></tr></table><br>
<a name="1014771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Every frame you're resetting it to .4. <br><br></td></tr></table><br>
<a name="1014813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> then where do i put the .4? o.o <br><br></td></tr></table><br>
<a name="1014814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: whoops double post. <br><br></td></tr></table><br>
<a name="1014815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you create the robot.  <br><br><pre class=code>
o.tObject = new tObject
o\Motion\Speed\z# = .4
</pre><br><br>Then to move it just call this:<br><pre class=code>
for o.tObject = each tObject
MoveEntity o\entity, 0,0,o\Motion\Speed\z#
next
</pre> <br><br></td></tr></table><br>
<a name="1014816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> i should've known..... thanks drak!<br><br>now what do i do about attacking? if robot comes within 0.1 feet of player, then activate attack mode? <br><br></td></tr></table><br>
<a name="1014817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> also, just for future reference, how would i put a health bar above each robot's head? that is made of 2 rectangles? <br><br></td></tr></table><br>
<a name="1014818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah that will work just fine.  Although you might want to make it .4 instead of .1.  That way, even if the robot ends up .41 one frame, the next he will be .01 away.  <br><br>If the robot happens to accidentally pass the player in one step, say he goes from .2, moves .4, he ends up .2 away on the OTHER side of the player.  There is no negative EntityDistance().  So, just to be safe, keep the number just a tad larger than your movement step. <br><br></td></tr></table><br>
<a name="1014819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> well apparently, w/ the # 3, he's actually quite medium speed for some reason in terms of speed. he's extremely slow now for some reason w/ .4... <br><br></td></tr></table><br>
<a name="1014820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> also, how can i tell it, if one waypoint is chasing my player, then make the other robots go back to their waypoints? <br><br></td></tr></table><br>
<a name="1014863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> I told you that many posts ago.  Use a status field in your Types to control each one individually.<br><br>See post #18 in this thread. <br><br></td></tr></table><br>
<a name="1014871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, i know to use it in a type. but like how would i initialize it in moveallrobots() ? <br><br></td></tr></table><br>
<a name="1014875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> "drop a waypoint"? i dont understand.....<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">For r.robot = Each robot
    Select r\status
       Case 1 ;this could be idle, or look for player
           ;Here you can have it look for player, check distances, whatever
           ;Then, if the robot sees the player....
           r\status = 2    ;change status to 2, which can be drop a waypoint

       Case 2  ;drop a waypoint
           ;here you'll get r\mesh's coordinates
           ;then create an actual waypoint and store it in r\return_waypoint, and place it at the r\mesh's coords
           ;after that, set it to status 3
           r\status = 3
       Case 3
           ;Case 3 can be the code to follow and attack the player
           ;after attacking or whatever it's supposed to do...
           ;set status to 4
           r\status = 4
       Case 4
           ;Case 4 can be return to waypoint
           ;so you'll point r\mesh at r\return_waypoint
           ;then move it towards the waypoint...
           ;You'll check distance of the r\mesh to r\waypoint
           ;if you're say within 1 entitydistance of the waypoint...
           ;set the status back to 1 and delete the r\return_waypoint
           r\status = 1
           delete r\return_waypoint
       End select
Next</textarea> <br><br></td></tr></table><br>
<a name="1014915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> It simply means place a point, which in this case is a pivot.  <br>Here is what you'd do:<br><br>Now, remember when you create your robots you'll have to specify that the status field MUST = 1 to start to work correctly.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
For r.robot = Each robot
Select r\status	;this will choose which chunk of code to exocute!!!

Case 1  ;ON WATCh
	;this will exocute so long as r\status = 1
	
	Local distance# = EntityDistance(r\mesh, p\mesh)	;distance from robot to player
		If distance# &lt; 70
			r\status = 2	;change to pursue status
		End If

Case 2  ;DROP A WAYPOINT
	;Here you will gather the robot's coordinates FIRST
	Local robot_x# = EntityX(r\mesh)	;this stores the robot's current X position.
	Local robot_y# = EntityY(r\mesh)	;and then the Y coordinate...
	Local robot_z# = EntityZ(r\mesh)	;and finally the Z coordinate.
	
	;Now that we have those coordinates, we need to place a pivot at that location.
	r\return_waypoint = CreatePivot()	;Here is our waypoint.  A pivot.  Right now it's at 0,0,0.
	PositionEntity r\return_waypoint, robot_x#, robot_y#, robot_z#	;Here we position it where the robot is at.
	
	;Now, we have placed a waypoint in space and positioned it at the robot's original position.
	;We only want r\status 2 to be exocuted ONCE, so we now set r\status to 3.
	
	r\status = 3	;this tells the robot to use case 3 next frame.
	
Case 3  ;PURSUE PLAYER
	;This set of code is now exocuted until the status changes into another number.
	;In this case, r\status 3 will be point at, and move towards the player.
	
	Local distance# = EntityDistance(r\mesh, p\mesh)	;get distance from robot to player (note these type names probably wont work in your program)
		If distance# &lt; 70
			PointEntity r\mesh, p\mesh	;point the robot at the player
			MoveEntity r\mesh, 0,0,r\speed#	;&lt;--- you'll need to change this for your code, but you get the idea
			
			If distance &lt; 3		;if the distance is less than 3
				r\status = 5	;status 5 can be attack player
			End If
		End If
	
Case 4  ;RETURN TO WAYPOINT	;After attacking in case 5, remember to tell the robot to return to it's waypoint.
	Local distance# = EntityDistance(r\mesh, r\return_waypoint)
		If distance# &gt;= .41
			PointEntity r\robot, r\return_waypoint	;point it at the waypoint
			MoveEntity r\robot, 0,0,r\speed
		Else If
			distance# &lt; .41
			r\status = 1	;r\status 1 can be look for player
		End If

Case 5  ;ATTACK
	;this chunk of code will exocute ONE time, then change the r\status to 4!
	;Attack code goes here!
	r\status = 4 ;return to waypoint

End Select

Next
</textarea> <br><br></td></tr></table><br>
<a name="1014921"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> um, ok. it SORTA worked. the robots follow the player when he is close. the problem now is they won't return to their individual waypoints or waypoints AT ALL for that matter. what am i doing wrong now?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; This function let's all robot within 70.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots()
	
	
	For r.robot = Each Robot
		For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
		Select r\status	;this will choose which chunk of code to exocute!!!
				
			Case 1  ;ON WATCH
	;this will execute so long as r\status = 1
				
				Local dist# = EntityDistance(o\Entity, p\Objects\Entity)	;distance from robot to player
				If dist# &lt; 70
					r\status = 2	;change to pursue status
				End If
				
			Case 2  ;DROP A WAYPOINT
	;Here you will gather the robot's coordinates FIRST
				Local robot_x# = EntityX(o\Entity)	;this stores the robot's current X position.
				Local robot_y# = EntityY(o\Entity)	;and then the Y coordinate...
				Local robot_z# = EntityZ(o\Entity)	;and finally the Z coordinate.
				
	;Now that we have those coordinates, we need to place a pivot at that location.
				r\return_waypoint = CreatePivot()	;Here is our waypoint.  A pivot.  Right now it's at 0,0,0.
				PositionEntity r\return_waypoint, robot_x#, robot_y#, robot_z#	;Here we position it where the robot is at.
				
	;Now, we have placed a waypoint in space and positioned it at the robot's original position.
	;We only want r\status 2 to be exocuted ONCE, so we now set r\status to 3.
				
				r\status = 3	;this tells the robot to use case 3 next frame.
				
			Case 3  ;PURSUE PLAYER
	;This set of code is now executed until the status changes into another number.
	;In this case, r\status 3 will be point at, and move towards the player.
				
				dist# = EntityDistance(o\Entity, p\Objects\Entity)	;get distance from robot to player (note these type names probably wont work in your program)
				If dist# &lt; 70
					PointEntity o\Entity, p\Objects\Entity	;point the robot at the player
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#	;&lt;--- you'll need to change this for your code, but you get the idea
					
					If dist &lt; 3		;if the distance is less than 3
						r\status = 5	;status 5 can be attack player
					End If
				End If
				
			Case 4  ;RETURN TO WAYPOINT	;After attacking in case 5, remember to tell the robot to return to it's waypoint.
				dist# = EntityDistance(o\Entity, r\return_waypoint)
				If dist# &gt;= .41
					PointEntity o\Entity, r\return_waypoint	;point it at the waypoint
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#
				Else If dist# &lt; .41
					r\status = 1	;r\status 1 can be look for player
				End If
				
			Case 5  ;ATTACK
	;this chunk of code will exocute ONE time, then change the r\status to 4!
	;Attack code goes here!
				r\status = 4 ;return to waypoint
				
		End Select
	EndIf
Next
Next
Next

End Function</textarea><br><br>create robot: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	; Creates a New Robot Object	

Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
		; Create objects
	o\Motion = New tObject_Motion
	
	o\Motion\Speed    = Vector(0, 0, 0)
	o\Motion\Speed\Z# = .1
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	r.robot = New Robot
	
	r\status = 1 ;set robot's status to 1
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	
	
	o\Robot_Piv = CreatePivot()
	PositionEntity o\Robot_Piv, x#, y#, z#
	
	Return o
	
End Function</textarea><br><br>type: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	Type Robot
		Field status
		Field return_waypoint
	End Type</textarea><br><br>also, how can i make a robot detect if another robot is both chasing and / or attacking my player and to go back to his waypoint using this new code? <br><br></td></tr></table><br>
<a name="1014930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to change type robot to whatever type you're using for your code.<br>The code I posted was just there to get you started, and you'll have to change the type fields to the ones you're using.<br><br>So, you'll add a Field status and a Field return_waypoint to YOUR robot type that you're already using.<br><br>You won't actually create or need to create type r.robot.  Type r.robot is actually YOUR o.tObject I think.  When I say r\mesh what you should have there is o\entity.  So when I say r\status, it should actually be o\status, and so on.  Your code will not have any robot type in it at all.  Your robot type is tObject, not robot.  The code wasn't meant to be actually used in your code, just get you started. r\return_waypoint will be o\return_waypoint.... <br><br></td></tr></table><br>
<a name="1014935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> so THATS why the waypoint wont work. testing now.. <br><br></td></tr></table><br>
<a name="1014938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#66">[#66]</a></td></tr></table></td></tr><tr ><td class="posttext"> um yea. didnt work. now not only are the robots not moving back to their respective waypoints, .1 is now EXTREMELY slow again, and it wasnt earlier.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	; =========================================================================================================
	; Object_Robot_Create
	; =========================================================================================================
	; Creates a New Robot Object	
	
; This function let's all robot within 70.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots()
	
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
				Select o\status	;this will choose which chunk of code to exocute!!!
				
			Case 1  ;ON WATCH
	;this will execute so long as r\status = 1
				
				Local dist# = EntityDistance(o\Entity, p\Objects\Entity)	;distance from robot to player
				If dist# &lt; 70
					o\status = 2	;change to pursue status
				End If
				
			Case 2  ;DROP A WAYPOINT
	;Here you will gather the robot's coordinates FIRST
				Local robot_x# = EntityX(o\Entity)	;this stores the robot's current X position.
				Local robot_y# = EntityY(o\Entity)	;and then the Y coordinate...
				Local robot_z# = EntityZ(o\Entity)	;and finally the Z coordinate.
				
	;Now that we have those coordinates, we need to place a pivot at that location.
				o\return_waypoint = CreatePivot()	;Here is our waypoint.  A pivot.  Right now it's at 0,0,0.
				PositionEntity o\return_waypoint, robot_x#, robot_y#, robot_z#	;Here we position it where the robot is at.
				
	;Now, we have placed a waypoint in space and positioned it at the robot's original position.
	;We only want r\status 2 to be exocuted ONCE, so we now set r\status to 3.
				
				o\status = 3	;this tells the robot to use case 3 next frame.
				
			Case 3  ;PURSUE PLAYER
	;This set of code is now executed until the status changes into another number.
	;In this case, r\status 3 will be point at, and move towards the player.
				
				dist# = EntityDistance(o\Entity, p\Objects\Entity)	;get distance from robot to player (note these type names probably wont work in your program)
				If dist# &lt; 70
					PointEntity o\Entity, p\Objects\Entity	;point the robot at the player
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#	;&lt;--- you'll need to change this for your code, but you get the idea
					
					If dist &lt; 3		;if the distance is less than 3
						o\status = 5	;status 5 can be attack player
					End If
				End If
				
			Case 4  ;RETURN TO WAYPOINT	;After attacking in case 5, remember to tell the robot to return to it's waypoint.
				dist# = EntityDistance(o\Entity, o\return_waypoint)
				If dist# &gt;= .41
					PointEntity o\Entity, o\return_waypoint	;point it at the waypoint
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#
				Else If dist# &lt; .41
					o\status = 1	;r\status 1 can be look for player
				End If
				
			Case 5  ;ATTACK
	;this chunk of code will exocute ONE time, then change the r\status to 4!
	;Attack code goes here!
				o\status = 4 ;return to waypoint
				
		End Select
	EndIf
Next
Next

End Function
	
; /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/
;   ROBOTS
; /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/

	; =========================================================================================================
	; Object_Robot_Create
	; =========================================================================================================
	; Creates a New Robot Object	

Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
		; Create objects
	o\Motion = New tObject_Motion
	
	o\Motion\Speed    = Vector(0, 0, 0)
	o\Motion\Speed\Z# = 3
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	o\status = 1 ;set robot's status to 1
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	
	
	;o\Robot_Piv = CreatePivot()
	;PositionEntity o\Robot_Piv, x#, y#, z#
	
	Return o
	
End Function</textarea><br><br>and yes i changed all the r\'s to o\'s and put the waypoint and status in the right type <br><br></td></tr></table><br>
<a name="1014939"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#67">[#67]</a></td></tr></table></td></tr><tr ><td class="posttext"> unless, is moveallrobots() supposed to go in the loop or the robot_create()? <br><br></td></tr></table><br>
<a name="1014944"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#68">[#68]</a></td></tr></table></td></tr><tr ><td class="posttext"> didnt work by putting it in create. whats going on as stated above? <br><br></td></tr></table><br>
<a name="1014946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#69">[#69]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, we need to narrow the problem down.  First, do the robots follow and pursue the player?  If so, status 1,2,and 3 work.  We need to figure out what happens in state 5, to be able to tell if state 4 is getting called.<br>Try changing the color of the robot in state 5. Add Entitycolor o\entity, 255,0,255. If it changes, then state 5 works.  Your problem is then in state 4 if that works.  Let me know. <br><br></td></tr></table><br>
<a name="1014948"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#70">[#70]</a></td></tr></table></td></tr><tr ><td class="posttext"> state 1,2,3 work. color did NOT work. idk about 4/5... <br><br></td></tr></table><br>
<a name="1014949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#71">[#71]</a></td></tr></table></td></tr><tr ><td class="posttext"> he gets chased. the problem is the robots dont return to their respective waypoints after the player loses the robot. <br><br></td></tr></table><br>
<a name="1014953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#72">[#72]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah I see.  We are checking in state 3 for this:<br><br>distance &gt; 70 <br><br>and<br><br>distance &lt; 3<br><br>What this means is that if distance is &gt; 70, nothing will happen.  Try inserting this right after you get dist# in state 3:<br><br><pre class=code>
If dist &gt; 70
     o\status = 4
End If 
</pre><br><br>That will make the robot return to state 4 if the distance exceeds 70. <br><br></td></tr></table><br>
<a name="1014960"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#73">[#73]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok. it worked. but theres another problem. the robots act like they're on coffee again. and also, it can't detect whether or not another robot is attacking or chasing player<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; This function let's all robot within 70.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots()
	
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
				Select o\status	;this will choose which chunk of code to exocute!!!
				
			Case 1  ;ON WATCH
	;this will execute so long as r\status = 1
				
				Local dist# = EntityDistance(o\Entity, p\Objects\Entity)	;distance from robot to player
				If dist# &lt; 70
					o\status = 2	;change to pursue status
				End If
				
			Case 2  ;DROP A WAYPOINT
	;Here you will gather the robot's coordinates FIRST
				Local robot_x# = EntityX(o\Entity)	;this stores the robot's current X position.
				Local robot_y# = EntityY(o\Entity)	;and then the Y coordinate...
				Local robot_z# = EntityZ(o\Entity)	;and finally the Z coordinate.
				
	;Now that we have those coordinates, we need to place a pivot at that location.
				o\return_waypoint = CreatePivot()	;Here is our waypoint.  A pivot.  Right now it's at 0,0,0.
				PositionEntity o\return_waypoint, robot_x#, robot_y#, robot_z#	;Here we position it where the robot is at.
				
	;Now, we have placed a waypoint in space and positioned it at the robot's original position.
	;We only want r\status 2 to be exocuted ONCE, so we now set r\status to 3.
				
				o\status = 3	;this tells the robot to use case 3 next frame.
				
			Case 3  ;PURSUE PLAYER
	;This set of code is now executed until the status changes into another number.
	;In this case, r\status 3 will be point at, and move towards the player.
				
				dist# = EntityDistance(o\Entity, p\Objects\Entity)	;get distance from robot to player (note these type names probably wont work in your program)
				If dist &gt; 70
					o\status = 4
				End If
				If dist# &lt; 70
					PointEntity o\Entity, p\Objects\Entity	;point the robot at the player
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#	;&lt;--- you'll need to change this for your code, but you get the idea
					
					If dist &lt; 3		;if the distance is less than 3
						o\status = 5	;status 5 can be attack player
					End If
				End If
				
			Case 4  ;RETURN TO WAYPOINT	;After attacking in case 5, remember to tell the robot to return to it's waypoint.
				dist# = EntityDistance(o\Entity, o\return_waypoint)
				If dist# &gt;= .41
					PointEntity o\Entity, o\return_waypoint	;point it at the waypoint
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#
				Else If dist# &lt; .41
					o\status = 1	;r\status 1 can be look for player
				End If
				
			Case 5  ;ATTACK
	;this chunk of code will exocute ONE time, then change the r\status to 4!
	;Attack code goes here!
				
				o\status = 4 ;return to waypoint
				
		End Select
	EndIf
Next
Next

End Function

Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
		; Create objects
	o\Motion = New tObject_Motion
	
	o\Motion\Speed    = Vector(0, 0, 0)
	o\Motion\Speed\Z# = 3
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	o\status = 1 ;set robot's status to 1
	
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	
	
	;o\Robot_Piv = CreatePivot()
	;PositionEntity o\Robot_Piv, x#, y#, z#
	
	Return o
	
End Function</textarea> <br><br></td></tr></table><br>
<a name="1014970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#74">[#74]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, as of right now, the robot will pass from o\status 5 right to o\status 4, because you don't have any attack code.  So, what that means is we're not meeting the requirements under o\status 4 to change it back to o\status 1.  So, each step your o\motion\speed\z# moves the robot 3 units.  We can never reach the minimum of .41 stated in status 4.  <br><br>Do this: <br>Under case 4, you'll need to change the distance checks to a larger number.<br>Change BOTH of the .41 to 3.1.  This should fix the jittery problem. <br><br></td></tr></table><br>
<a name="1014999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ginger Tea</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#75">[#75]</a></td></tr></table></td></tr><tr ><td class="posttext"> changing the colour of the cube to represent the state is a very good idea in the preliminary stages<br>also why not when a robot spawns give it a number and have that number also be left on the ground where the way point is, that way you can tell which ones arnt returning home and can work out why from there <br><br></td></tr></table><br>
<a name="1015021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#76">[#76]</a></td></tr></table></td></tr><tr ><td class="posttext"> that's a good idea, ginger tea. drak, how would i do what ginger tea just described? <br><br></td></tr></table><br>
<a name="1015038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#77">[#77]</a></td></tr></table></td></tr><tr ><td class="posttext"> If state = 1 then entitycolor 255,0,255<br>If state = 2 then entitycolor 255,0,155<br>If state = 3 then entitycolor 255,0,55<br>If state = 4 then entitycolor 255,0,5<br>If state = 5 then entitycolor 55,0,255 <br><br></td></tr></table><br>
<a name="1015039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#78">[#78]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, as I said in post #69 in this thread, the color can be changed with the entitycolor command. Just add EntityColor o\Entity, number, number, number at the beginning of each status.  Give each status a different color.<br><br>Another thing you can do for testing purposes is change the o\return_waypoint = createpivot() to o\return_waypoint = createsphere().  You can see a sphere, but not a pivot.  This will be useful to you to see if the waypoint is actually getting placed.<br><br>Oh, and I forgot something in case 4.  You'll need to free the waypoint when the robot reaches it, otherwise there will be a memory leak there.<br><br>For further information see my *short* tutorial on this here:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=89386" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=89386</a><br><br>It shows you how to control different enemies with the status field.  It also changes the colors of the enemies to identify the state they are in.  Reading the code and understanding why things happen will be beneficial. <br><br></td></tr></table><br>
<a name="1015046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#79">[#79]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok. so i tried the color thing. it DOES work. he turns red in state 1, green in state 2, blue in state 3, and yellow in state 4. he's supposed to turn purple in state 5, but either that doesn't work, or i need to make the robot attack the player.<br><br>now, how can i make it so if 1 robot sees another robot chasing/attacking the player, then the other robots go back to their waypoints? <br><br></td></tr></table><br>
<a name="1015049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#80">[#80]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to attack the player.  State 5 is only 1 frame, so you probably will Not see him turn purple. <br><br></td></tr></table><br>
<a name="1015050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#81">[#81]</a></td></tr></table></td></tr><tr ><td class="posttext"> so, how can i make it so the robot can see if another robot is attacking and/or chasing the player and point him back to his waypoint?<br><br>i added Field id to the robot, and assigned the robot a random # from 1 to 10, but i don't know how to obtain that number, and use it to tell whether or not there is a robot attacking the player. <br><br></td></tr></table><br>
<a name="1015052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#82">[#82]</a></td></tr></table></td></tr><tr ><td class="posttext"> Before you try to implement this next step, is everything working correctly so far? As in the robots follow, chase, attack, return, and then go back to idle?  This is paramount that this works NOW before you try to add more choices. <br><br></td></tr></table><br>
<a name="1015055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#83">[#83]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, all 5 states are working i believe. when he's at his waypoint, he's red. when he's chased, he goes from green to blue. and when the player gets hit, he turns purple. <br><br></td></tr></table><br>
<a name="1015056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#84">[#84]</a></td></tr></table></td></tr><tr ><td class="posttext"> so. now. how can i make it so if a robot sees the player being attacked/chased, he'll go back to his waypoint? also, how can i stop the robot from moving once he's close enough to the player? <br><br></td></tr></table><br>
<a name="1015072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#85">[#85]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're not comprehending the logic of the o\status field.<br><br>Each program loop, the program cycles through each enemy ONE time.  It then chooses how to control that particular enemy ONE time each loop depending on what o\status is SET to.<br><br><div class="quote"> <br>how can i stop the robot from moving once he's close enough to the player? <br><br> <br></div><br><br>The robot will continue to follow the player so long as it is set to o\status 3.  So, to get it to quit following the player, you must change o\status to something other than 3.  When the robot gets to &lt; 3 distance from the player he should switch to o\status 5, which causes him to switch to o\status 4. and so on.. and so on... <br><br>I'm going to work. <br><br></td></tr></table><br>
<a name="1015073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#86">[#86]</a></td></tr></table></td></tr><tr ><td class="posttext"> how can i make all OTHER robots go back to their waypoints if they see one attacking / chasing the player?<br><br>that's all i need to know. <br><br></td></tr></table><br>
<a name="1015118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#87">[#87]</a></td></tr></table></td></tr><tr ><td class="posttext"> how would this be possible? <br><br></td></tr></table><br>
<a name="1015123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#88">[#88]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have a reset status, whereby on one robot attacking would set all others to "return home". <br><br></td></tr></table><br>
<a name="1015124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#89">[#89]</a></td></tr></table></td></tr><tr ><td class="posttext"> um, i already implemented a "status" for robots. I just don't know what to do to tell all others to "go home" if u know what i mean <br><br></td></tr></table><br>
<a name="1015136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#90">[#90]</a></td></tr></table></td></tr><tr ><td class="posttext"> What he means is that for the first robot that enters o\status = 3 and is chasing the player, in that chunk of code, check all other robots, and if their o\status is 3, change it to 4, which is return to waypoint.<br><br>Here is an example of how this would work:<br><br>Check robot 1, robot 1 is in state 1 and 80 units away, so he stays in o\status 1.<br><br>Check robot 2, robot 2 is in state 1 and is 69 units away from the player.<br>This robot does nothing this frame but change it's o\status to 2.<br><br>Next Frame:<br><br>robot 1 is now 74 units away from the player, so he is still staying in state 1.<br><br>robot 2 this frame writes down his XYZ coords and places a waypoint where he's standing.  Upon placing the waypoint, his o\status is set to 3.<br><br>Next Frame:<br><br>robot 1 is now 68 units away from the player, so he does nothing more this frame then switch his status to o\status = 2.<br><br>robot 2 now is in state 3 so he first gets the distance to the player.  Upon realizing he is 60 units from the player, he then points himself at the player, and moves 1 o\tObject\speed\z# towards the player.  <br><br>Now here's where he tells his buddies to go back to their waypoints. He is the FIRST robot this frame to enter o\status 3, so he tells every OTHER robot in state 3 to enter state 4, which 4 is return home.  How?<br><br>First you must store the robot ID# in a variable:<br>this_robot = o\Entity.<br><br>Then loop through all the o\tObjects<br>For o.tObject = Each o\tObject<br> if o\entity &lt;&gt; this_robot<br>     if o\status = 3 then o\status = 4<br> end if<br>next<br><br>That will change all other bots in pursuit back to state 4. <br><br></td></tr></table><br>
<a name="1015139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#91">[#91]</a></td></tr></table></td></tr><tr ><td class="posttext"> here's what i have, i did as u said, but it's not working, and if i put 2 of the same for o.tObject = each tObject, it crashes.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; This function let's all robot within 70.0 units of the player chase the player, and sends the robots outside this range to their waypoint
Function MoveAllRobots(maxdist#)
	
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
				Select o\status	;this will choose which chunk of code to exocute!!!
				
					Case 1  ;ON WATCH
						
						EntityColor o\Entity,255,0,0
						
	;this will execute so long as r\status = 1
				
				Local dist# = EntityDistance(o\Entity, p\Objects\Entity)	;distance from robot to player
				If dist# &lt; maxdist#
					o\status = 2	;change to pursue status
				End If
				
			Case 2  ;DROP A WAYPOINT
				
				EntityColor o\Entity,0,255,0
				
;Here you will gather the robot's coordinates FIRST
				Local robot_x# = EntityX(o\Entity)	;this stores the robot's current X position.
				Local robot_y# = EntityY(o\Entity)	;and then the Y coordinate...
				Local robot_z# = EntityZ(o\Entity)	;and finally the Z coordinate.
				
	;Now that we have those coordinates, we need to place a pivot at that location.
				o\return_waypoint = CreatePivot()	;Here is our waypoint.  A pivot.  Right now it's at 0,0,0.
				PositionEntity o\return_waypoint, robot_x#, robot_y#, robot_z#	;Here we position it where the robot is at.
				
	;Now, we have placed a waypoint in space and positioned it at the robot's original position.
	;We only want r\status 2 to be exocuted ONCE, so we now set r\status to 3.
				
				o\status = 3	;this tells the robot to use case 3 next frame.
				
			Case 3  ;PURSUE PLAYER
				
				EntityColor o\Entity,0,255,255
				
                                ;TELL HIS FRIENDS TO GO BACK FROM WHENCE THEY CAME!

				If o\entity &lt;&gt; o\id
					If o\status = 3 Then o\status = 4
					EndIf
					
;This set of code is now executed until the status changes into another number.
	;In this case, r\status 3 will be point at, and move towards the player.
				
				dist# = EntityDistance(o\Entity, p\Objects\Entity)	;get distance from robot to player (note these type names probably wont work in your program)
				If dist &gt; maxdist#
					o\status = 4
				End If
				
				If dist# &lt; maxdist#
					PointEntity o\Entity, p\Objects\Entity	;point the robot at the player
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#	;&lt;--- you'll need to change this for your code, but you get the idea
					
					If dist &lt; 70		;if the distance is less than 3
						o\status = 5	;status 5 can be attack player
					End If
				End If
				
			Case 4  ;RETURN TO WAYPOINT	;After attacking in case 5, remember to tell the robot to return to it's waypoint.
				
				EntityColor o\Entity,255,255,0
				
				dist# = EntityDistance(o\Entity, o\return_waypoint)
				dist2# = EntityDistance(o\Entity,p\Objects\Entity)
				
				;if find players again, then re-pursue
				
				If dist2# &lt; maxdist#
				o\status = 3	
				EndIf
				
				If dist# &gt;= o\Motion\Speed\Z#+.1
					PointEntity o\Entity, o\return_waypoint	;point it at the waypoint
					MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#
				Else If dist# &lt; o\Motion\Speed\Z#+.1
					o\status = 1	;r\status 1 can be look for player
				End If
				
			Case 5  ;ATTACK
				
				EntityColor o\Entity,255,128,255
				
;this chunk of code will execute ONE time, then change the r\status to 4!
	;Attack code goes here!
				
				o\status = 4 ;return to waypoint
				
		End Select
	EndIf
Next
Next

End Function</textarea><br><br>type: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	Type tObject
		Field ObjType
		
		Field Position.tVector
		
		Field id
		
		Field IValues[16]
		Field FValues#[16]
		Field Mode
		Field State	
		
		; Player motion values
		Field Motion.tObject_Motion
		
		Field Entity
		Field Shield
		Field FireShield
		Field ElectricShield
		Field BubbleShield
		Field Invincible
		
		Field status
		Field return_waypoint
		
	End Type</textarea><br><br>and in robot_create: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
		; Create objects
	o\Motion = New tObject_Motion
	
	o\Motion\Speed    = Vector(0, 0, 0)
	o\Motion\Speed\Z# = 3
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	o\status = 1 ;set robot's status to 1
	
	o\id = o\Entity ;assign id to robot
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	
	
	Return o
	
End Function</textarea><br><br>i also have 11 robots, not 2. a few of which are by each other. i need to be able to do this for ALL robots within the range given <br><br></td></tr></table><br>
<a name="1015141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#92">[#92]</a></td></tr></table></td></tr><tr ><td class="posttext"> Surely when one robot is flagged as attacking, you will have to iterate through all the other robots setting their status to return home.<br><br>As Drak said...<br><br>For o.tObject = Each o\tObject<br>if o\entity &lt;&gt; this_robot<br>if o\status = 3 then o\status = 4<br>end if<br>next <br><br></td></tr></table><br>
<a name="1015142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#93">[#93]</a></td></tr></table></td></tr><tr ><td class="posttext"> No you didn't do as I suggested.  Go back and re-read my last post.<br><br>You're not storing the robot ID# in a variable.  The robot ID# is NOT o\id. It's a reference to the entity that blitz uses.  That number has to be stored in a variable to use it.  I suggested you store it in a variable named this_entity.  <br><br>The second time you loop through your tObjects, you must check to see if the new entity you're checking (o\entity) is not the old entity (this_entity).<br><br>Change the second loop to read: <br>For this.tObject = each tObject as well.<br><br>Note: This loops through ALL robots.  It doesn't matter if you have 1 or 18 billion robots, or 11.  The code won't differ. <br><br></td></tr></table><br>
<a name="1015143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#94">[#94]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: Didn't see that last post. testing. <br><br></td></tr></table><br>
<a name="1015144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#95">[#95]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here do this:  <br>This shows the ID number blitz uses for reference:<br><br><pre class=code>
Graphics3D 800,600
a = CreateCube()
Print a
</pre><br><br>This is the number you must store in a variable <br><br></td></tr></table><br>
<a name="1015145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#96">[#96]</a></td></tr></table></td></tr><tr ><td class="posttext"> I understand that it's looped, Rez.  You can loop through all the robots WHILE looping through all your robots, effectively looping through them twice in the same frame.<br><br>Lets get this figured out in the next couple of posts, eh? Keep it under 100 posts... <br><br></td></tr></table><br>
<a name="1015147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#97">[#97]</a></td></tr></table></td></tr><tr ><td class="posttext"> right, idc how many posts it takes, but i'll try. im taking this step-by-step.<br><br>ok, so, here's what i have so far: <br><br>robot_create: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/
;   ROBOTS
; /\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/\/

	; =========================================================================================================
	; Object_Robot_Create
	; =========================================================================================================
	; Creates a New Robot Object	

Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
		; Create objects
	o\Motion = New tObject_Motion
	
	o\Motion\Speed    = Vector(0, 0, 0)
	o\Motion\Speed\Z# = 3
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	o\status = 1 ;set robot's status to 1
	
	o\id = o\Entity ;assign id to robot
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	
	
	Return o
	
End Function</textarea><br><br>type: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	Type tObject
		Field ObjType
		
		Field Position.tVector
		
		Field id
		Field this_entity
		
		Field IValues[16]
		Field FValues#[16]
		Field Mode
		Field State	
		
		; Player motion values
		Field Motion.tObject_Motion
		
		Field Entity
		Field Shield
		Field FireShield
		Field ElectricShield
		Field BubbleShield
		Field Invincible
		
		Field status
		Field return_waypoint
		
	End Type</textarea><br><br>moveallrobots():<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function MoveAllRobots(mindist#, maxdist#)
	
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
				Select o\status	;this will choose which chunk of code to exocute!!!
						
					Case 1  ;ON WATCH
	;this will execute so long as r\status = 1
						
						Local dist# = EntityDistance(o\Entity, p\Objects\Entity)	;distance from robot to player
						If dist# &lt; maxdist
							o\status = 2	;change to pursue status
						End If
						
					Case 2  ;DROP A WAYPOINT
	;Here you will gather the robot's coordinates FIRST
						Local robot_x# = EntityX(o\Entity)	;this stores the robot's current X position.
						Local robot_y# = EntityY(o\Entity)	;and then the Y coordinate...
						Local robot_z# = EntityZ(o\Entity)	;and finally the Z coordinate.
						
	;Now that we have those coordinates, we need to place a pivot at that location.
						o\return_waypoint = CreatePivot()	;Here is our waypoint.  A pivot.  Right now it's at 0,0,0.
						PositionEntity o\return_waypoint, robot_x#, robot_y#, robot_z#	;Here we position it where the robot is at.
						
	;Now, we have placed a waypoint in space and positioned it at the robot's original position.
	;We only want r\status 2 to be exocuted ONCE, so we now set r\status to 3.
						
						o\status = 3	;this tells the robot to use case 3 next frame.
						
					Case 3  ;PURSUE PLAYER
	;This set of code is now executed until the status changes into another number.
	;In this case, r\status 3 will be point at, and move towards the player.
						
						dist# = EntityDistance(o\Entity, p\Objects\Entity)	;get distance from robot to player (note these type names probably wont work in your program)
						If dist &gt; maxdist
							o\status = 4
						End If
						If dist# &lt; maxdist
							PointEntity o\Entity, p\Objects\Entity	;point the robot at the player
							MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#	;&lt;--- you'll need to change this for your code, but you get the idea
							
							If dist &lt; mindist#		;if the distance is less than 3
								o\status = 5	;status 5 can be attack player
							End If
						End If
						
						For this.tObject = Each tObject
							If o\entity &lt;&gt; this_robot
								If o\status = 3 Then o\status = 4
							End If
						Next
						
					Case 4  ;RETURN TO WAYPOINT	;After attacking in case 5, remember to tell the robot to return to it's waypoint.
						dist# = EntityDistance(o\Entity, o\return_waypoint)
						dist2# = EntityDistance(o\Entity,p\Objects\Entity)
						
				;if find players again, then re-pursue
						
						If dist2# &lt; maxdist#
							o\status = 3	
						EndIf
						
						If dist# &gt;= o\Motion\Speed\Z#+.1
							PointEntity o\Entity, o\return_waypoint	;point it at the waypoint
							MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#
						Else If dist# &lt; o\Motion\Speed\Z#+.1
							o\status = 1	;r\status 1 can be look for player
						End If
						
					Case 5  ;ATTACK
	;this chunk of code will exocute ONE time, then change the r\status to 4!
	;Attack code goes here!
						
						o\status = 4 ;return to waypoint
						
				End Select
			EndIf
		Next
	Next
	
End Function</textarea><br><br>moveallrobots() is called in object robot update like this: <br><br>moveallrobots(3,70) ;min, max dist <br><br></td></tr></table><br>
<a name="1015155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#98">[#98]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, you're very close it looks like.  You're doing it right by looking at it, but you're still not storing the originating mesh into a variable.<br><br>Add this line right before for this.tobject = each tobject<br><br>this_robot = o\entity <br><br></td></tr></table><br>
<a name="1015156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#99">[#99]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, tried it. it's still not working..<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function MoveAllRobots(mindist#, maxdist#)
	
	For p.tPlayer = Each tPlayer
		For o.tObject = Each tObject
			If o\ObjType = OBJTYPE_ROBOT
				Select o\status	;this will choose which chunk of code to exocute!!!
						
					Case 1  ;ON WATCH
	;this will execute so long as r\status = 1
						
						Local dist# = EntityDistance(o\Entity, p\Objects\Entity)	;distance from robot to player
						If dist# &lt; maxdist
							o\status = 2	;change to pursue status
						End If
						
					Case 2  ;DROP A WAYPOINT
	;Here you will gather the robot's coordinates FIRST
						Local robot_x# = EntityX(o\Entity)	;this stores the robot's current X position.
						Local robot_y# = EntityY(o\Entity)	;and then the Y coordinate...
						Local robot_z# = EntityZ(o\Entity)	;and finally the Z coordinate.
						
	;Now that we have those coordinates, we need to place a pivot at that location.
						o\return_waypoint = CreatePivot()	;Here is our waypoint.  A pivot.  Right now it's at 0,0,0.
						PositionEntity o\return_waypoint, robot_x#, robot_y#, robot_z#	;Here we position it where the robot is at.
						
	;Now, we have placed a waypoint in space and positioned it at the robot's original position.
	;We only want r\status 2 to be exocuted ONCE, so we now set r\status to 3.
						
						o\status = 3	;this tells the robot to use case 3 next frame.
						
					Case 3  ;PURSUE PLAYER
	;This set of code is now executed until the status changes into another number.
	;In this case, r\status 3 will be point at, and move towards the player.
						
						dist# = EntityDistance(o\Entity, p\Objects\Entity)	;get distance from robot to player (note these type names probably wont work in your program)
						If dist &gt; maxdist
							o\status = 4
						End If
						If dist# &lt; maxdist
							PointEntity o\Entity, p\Objects\Entity	;point the robot at the player
							MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#	;&lt;--- you'll need to change this for your code, but you get the idea
							
							If dist &lt; mindist#		;if the distance is less than 3
								o\status = 5	;status 5 can be attack player
							End If
						End If
						
						this_robot = o\entity 
						For this.tObject = Each tObject
							If o\entity &lt;&gt; this_robot
								If o\status = 3 Then o\status = 4
							End If
						Next
						
					Case 4  ;RETURN TO WAYPOINT	;After attacking in case 5, remember to tell the robot to return to it's waypoint.
						dist# = EntityDistance(o\Entity, o\return_waypoint)
						dist2# = EntityDistance(o\Entity,p\Objects\Entity)
						
				;if find players again, then re-pursue
						
						If dist2# &lt; maxdist#
							o\status = 3	
						EndIf
						
						If dist# &gt;= o\Motion\Speed\Z#+.1
							PointEntity o\Entity, o\return_waypoint	;point it at the waypoint
							MoveEntity o\Entity, 0,0,o\Motion\Speed\Z#
						Else If dist# &lt; o\Motion\Speed\Z#+.1
							o\status = 1	;r\status 1 can be look for player
						End If
						
					Case 5  ;ATTACK
	;this chunk of code will exocute ONE time, then change the r\status to 4!
	;Attack code goes here!
						
						o\status = 4 ;return to waypoint
						
				End Select
			EndIf
		Next
	Next
	
End Function</textarea><br><br>robot_create: <br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function Object_Robot_Create.tObject(x#, y#, z#, rx#=0, ry#=0, rz#=0)
	
	o.tObject = New tObject
	
		; Create objects
	o\Motion = New tObject_Motion
	
	o\Motion\Speed    = Vector(0, 0, 0)
	o\Motion\Speed\Z# = 3
	
	o\ObjType = OBJTYPE_ROBOT
	
	o\Position = New tVector	
	o\Position\x# = x#
	o\Position\y# = y#
	o\Position\z# = z#
	
	
	o\Entity = LoadAnimMesh("Objects\Robot\Robot.b3d")
	
	o\status = 1 ;set robot's status to 1
	
	o\id = o\Entity ;assign id to robot
	
	EntityAutoFade(o\Entity, OBJECT_VIEWDISTANCE_MIN#, OBJECT_VIEWDISTANCE_MAX#)
	EntityPickMode o\Entity,2,True
	ScaleEntity o\Entity, 1.1, 1.1, 1.1
	TranslateEntity o\Entity, x#, y#, z#
	TurnEntity o\Entity, rx#, ry#, rz#
	Animate o\Entity, 1, 1, 0, 0	
	
	Return o
	
End Function</textarea> <br><br></td></tr></table><br>
<a name="1015176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#100">[#100]</a></td></tr></table></td></tr><tr ><td class="posttext"> What isn't working? Gotta be more specific. <br><br></td></tr></table><br>
<a name="1015182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#101">[#101]</a></td></tr></table></td></tr><tr ><td class="posttext"> Had a quick glance at it but shouldn't it be...<br><br><pre class=code>

For this.tObject = Each tObject
    If this\entity &lt;&gt; this_robot Then
        If this\status = 3 Then this\status = 4
    End If
Next

</pre><br><br>As far as I can tell your iterating the type list using "this" then making a comparison using "o" <br><br></td></tr></table><br>
<a name="1015183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#102">[#102]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes that would be correct I believe. <br><br></td></tr></table><br>
<a name="1015189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#103">[#103]</a></td></tr></table></td></tr><tr ><td class="posttext"> so what, do i put this\status above the if statement or what? <br><br></td></tr></table><br>
<a name="1015194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#104">[#104]</a></td></tr></table></td></tr><tr ><td class="posttext"> No.<br><br>Under case 3 you have the following:<br><pre class=code>
this_robot = o\entity 
	For this.tObject = Each tObject
		If o\entity &lt;&gt; this_robot
			If o\status = 3 Then o\status = 4
		End If
	Next
</pre><br><br><br>Just for this tiny, tiny chunk of code, you need to change o\entity to this\entity and the o\status to  this\status<br><br>Like this:<br><pre class=code>
this_robot = o\entity 
	For this.tObject = Each tObject
		If this\entity &lt;&gt; this_robot
				If this\status = 3 Then this\status = 4
		End If
	Next
</pre> <br><br></td></tr></table><br>
<a name="1015198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#105">[#105]</a></td></tr></table></td></tr><tr ><td class="posttext"> THANK U! this fixed it. i think. if there's anymore problems i will let u know! THANKS drak! :) <br><br></td></tr></table><br>
<a name="1015199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#106">[#106]</a></td></tr></table></td></tr><tr ><td class="posttext"> there IS still ONE small problem. the speed of the robotS chasing u varies when there's alot of robots around. even though I set o\Motion\Speed\Y# to .4, some robots are still faster than others. and i set it in robot_create() not in the moveallrobots() function. how can i fix this? <br><br></td></tr></table><br>
<a name="1015201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drak</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#107">[#107]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rez there's one more thing you need to do.  You probably won't notice it either way but you need to delete the waypoint when the robot reaches it.<br><br>Otherwise, you'll have a huge memory leak because you won't be able to access the old waypoint when a new one is created.  Anyway you need to do this here:<br><br>This is under status 4<br><pre class=code>
Else If dist# &lt; o\Motion\Speed\Z#+.1
	o\status = 1	;r\status 1 can be look for player
End If
</pre><br><br>You must free the pivot we're using for the waypoint here.<br>Change it to this:<br><br><pre class=code>
Else If dist# &lt; o\Motion\Speed\Z#+.1
	o\status = 1	;r\status 1 can be look for player
        FreeEntity o\return_waypoint
End If
</pre><br><br>Edit: This may have something to do with the varying speed, as some robots were probably creating pivots over and over when they were told to cancel their pursuit every other frame. <br><br></td></tr></table><br>
<a name="1015202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#108">[#108]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> if there's anymore problems i will let u know! <br></div><br><br>I'll bet. <br><br></td></tr></table><br>
<a name="1015205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#109">[#109]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Res...<br><br>Don't bother thanking me, its ok... <br><br></td></tr></table><br>
<a name="1015207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#110">[#110]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, yeshu. sorry. i spaced. ive been up since 5 am. im literally going to sleep now. <br><br></td></tr></table><br>
<a name="1015212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#111">[#111]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, know the feeling, same here.<br><br>No rest for a programmer. <br><br></td></tr></table><br>
<a name="1015254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#112">[#112]</a></td></tr></table></td></tr><tr ><td class="posttext"> ditto to that bro.... <br><br></td></tr></table><br>
<a name="1015256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#113">[#113]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> No rest for a programmer. <br></div>LOL... what would Rez know about that? He's just a requirements manager. <br><br></td></tr></table><br>
<a name="1015260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#114">[#114]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="1015265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Guy Fawkes</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#115">[#115]</a></td></tr></table></td></tr><tr ><td class="posttext"> the same way u dont know anything, jerk. now leave me alone john! just because i ask questions DOESNT GIVE U THE RIGHT TO MESS W/ ME! And idc WHAT u have to say! <br><br></td></tr></table><br>
<a name="1015270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#116">[#116]</a></td></tr></table></td></tr><tr ><td class="posttext"> ...then don't respond to me.<br><br>It's not because you ask questions.. it's because you are lazy and expect people to write the entire thing for you, which you have achieved very well.<br><br>[Edit]In case of any misunderstanding, none of this is directed at Ross C. <br><br></td></tr></table><br>
<a name="1015742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#117">[#117]</a></td></tr></table></td></tr><tr ><td class="posttext"> We all ened to ask for help from time to time, and sometimes, the questions we ask, even when solved lead to further problems.<br>What frustrates em, though, is that the underlying understanding of how the code works isn't sinking in.<br><br>I've sugegsterd ebfore a few times, that Rez should work on something simple  and straightforward first, so that he can gert to grips with the language better.<br>Typically, though, this has been ignored. <br>Ambitious projects will always lead to problems when one tries to attempt something beyond their capacity  and therefore, even the help is over their head.<br><br>Looking back through the vast number of recent "help" threads started by Rez I notice  a familiar pattern:<br><br>1) Question asked<br>2) Advice given<br>3) Response indicates not fully understanding (whether this is due to the advice or base level of understanding is unspecific)<br>4) Advice re-presented as code sample fix.<br>5) Response of "Thanks" when it works.<br>6) New problem arises.<br><br>The points show that just having working code isn't enough, Rez, unless you can truly understand WHY the code works. This also implies that on receiving the working solution, you can then understand WHY the code DIDNT work before.<br><br>Only when you can honsestly say "Yes, I Understand why" to the statements above,will you be learning and opreventing continuous problems at every step of your program. <br><br></td></tr></table><br>
<a name="1015768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >stayne</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#118">[#118]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well put Malice. <br><br></td></tr></table><br>
<a name="1015770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#119">[#119]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's good adivce, but been given many times. Your talking to a brick wall. Just let him continue the way he's going. He's not going to change his ways, so you might as well let it be. <br><br></td></tr></table><br>
<a name="1015776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#120">[#120]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That's good adivce, but been given many times. Your talking to a brick wall. Just let him continue the way he's going. He's not going to change his ways, so you might as well let it be. <br> <br></div><br>I know, Ross. I've seen you and many others really trying too, this is something of a last resort from me... <br><br></td></tr></table><br>
<a name="1015784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#121">[#121]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bottom line, he won't change because he doesn't need to. There are too many good samaritans here that are more than happy to code the entire thing for him, in spite of the fact that he is rude and shows no interest whatsoever in what the code is doing. I really do think he's a wind-up merchant. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
