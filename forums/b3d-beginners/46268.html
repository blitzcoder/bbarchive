<!DOCTYPE html><html lang="en" ><head ><title >Anim8or Animation Question</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Anim8or Animation Question</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Anim8or Animation Question</a><br><br>
<a name="514638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made a walking sequence with Anim8or. I first saved it as an anim8or (.an8) file and then exported it as a 3ds file. When I did: LoadAnimMesh("Player.3ds") and then did Animate player\entity,1,1,0,60 It said that this entity had no animation. I also tried LoadAnimSeq(player\entity,"Player.3ds") and that didn't work either. What am I doing wrong?<br><br>I don't know whether the 3ds has the animation in it, even though I exported it in the animation mode. I also assume blitz can't read an8 files can it? <br><br></td></tr></table><br>
<a name="514712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Answered <a href="/posts.php?topic=40151" target="_blank">here</a>.<br><br><br><div class="quote"> <br>[jfk EO-11110]<br>You should mention that Anim8or does not allow to export animated 3DS and therefor its animation features are useless for Blitz Coders.<br><br>Instead you can use PaceMaker to create Bones Animations for .B3D Files. the light Version is also Free:<br>www.freewebs.com/smiff/pacemaker.htm<br>(Download URL at the page bottom)<br><br>PaceMaker is one of the very few free Animation Tools. <br><br> <br></div> <br><br></td></tr></table><br>
<a name="515069"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everyone told me I should use Anim8or. ARRRR!!! Well, I'll download PaceMaker. <br><br></td></tr></table><br>
<a name="515071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apparently, the download link has been temporarily removed so that they can make updates to PaceMaker. ARRR!!! Why can't they leave it up there? <br><br></td></tr></table><br>
<a name="515086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grantyt3: Have you tried An8tob3d tool for this? <br><br></td></tr></table><br>
<a name="515087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's that? I downloade gameSpaceLight anyways. Oh... Is that a conversion tool? Where do I get it? <br><br></td></tr></table><br>
<a name="515093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I downloaded An8tob3d and it worked for one file, but It won't work with the file I'm trying to convert. WHY!!! <br><br></td></tr></table><br>
<a name="515172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know. I have not tested it myself yet. Its still early in development, beta. You should email the author and see if he can help. I think that Anim8tor could be a great tool for blitz if this is resolved. <br><br></td></tr></table><br>
<a name="515235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just remade the file and it worked. <br><br></td></tr></table><br>
<a name="516002"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I finally tried the B3D file I got out of An8tob3d and it doesn't say that it has no animation, but it just doesn't do the animation. I have Animate player\entity,1,1,0,60,  and LoadAnimMesh but it doesn't work. <br><br></td></tr></table><br>
<a name="516103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only thing I can think of is to make sure you have both the model and the animation files in the folder with your game, but you probly did that already. <br><br>Oh ya also try using ExtractAnimSeq. I do it like this.<br><br><pre class=code>
;globals
;ninja animation sequences
Global  Walk
Global	Stealth
Global	PunchSwipe
Global	Overhead
Global	Block
Global	ForwardKick
Global	Pickup
Global	Jump
Global	JumpNoHeight
Global	HightKill
Global	SideKick
Global	SpinAttack
Global	BackFlip
Global	Climb
Global	Death1
Global	Death2
Global	Idle1
Global	Idle2
Global	Idle3

player_mesh=Get_NinjaAnima(player_mesh)

;in the main loop
If (Animating(player_mesh) &lt;&gt; True) Or (AnimSeq (player_mesh) &lt;&gt; PunchSwipe )
			Animate player_mesh,3,.5,PunchSwipe
		EndIf 


Function Get_NinjaAnima(anim)
	anim=LoadAnimMesh("bot/PMKninja.b3d")
	
    Walk=ExtractAnimSeq(anim,1,14)
	Stealth=ExtractAnimSeq(anim,15,30)
	PunchSwipe=ExtractAnimSeq(anim,32,44)
	Overhead=ExtractAnimSeq(anim,60,68)
	Block=ExtractAnimSeq(anim,69,72)
	ForwardKick=ExtractAnimSeq(anim,73,85)
	Pickup=ExtractAnimSeq(anim,84,93)
	Jump=ExtractAnimSeq(anim,96,102)
	;Jump2=AddAnimSeq(anim,98,100)
	JumpNoHeight=ExtractAnimSeq(anim,103,111)
	HightKill=ExtractAnimSeq(anim,112,125)
	SideKick=ExtractAnimSeq(anim,126,133)
	SpinAttack=ExtractAnimSeq(anim,134,145)
	BackFlip=ExtractAnimSeq(anim,146,158)
	Climb=ExtractAnimSeq(anim,159,165)
	Death1=ExtractAnimSeq(anim,166,173)
	Death2=ExtractAnimSeq(anim,174,182)
	Idle1=ExtractAnimSeq(anim,184,205)
	Idle2=ExtractAnimSeq(anim,206,250)
	Idle3=ExtractAnimSeq(anim,251,300)
	
	Return anim
End Function


</pre><br><br>Also make sure you are not stuck on the first frame of the animation. If you are in the main loop you do something like this...<br>if mymodel is not animating already then <br>animate him<br>end if <br><br></td></tr></table><br>
<a name="516113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried the "if my model is not animation already then" thing, but it still doesn't work. I know the file has animation, because I opened it in another program and it animated. Hmmm... Could I have done something wrong in the Animate player\entity command? <br><br>I had it say whether it was animating or not, and it returned 1, so it must be animating.<br><br>Except that if I use AnimTime#(player\entity) it says it's not animating, so I don't know which one it is.<br><br>Also, AnimLength says the proper amount of frames <br><br></td></tr></table><br>
<a name="516127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very strange. I fixed it. I changed the sequence number from 0 to 1. It didn't work before, but now it does. <br><br></td></tr></table><br>
<a name="516141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uh oh, more problems. I made a second sequence in the player file. I have the walking sequence, and the attack sequence. Right now, it treats them like one and does it at the same time. How do I seperate the two and do them at different times? <br><br></td></tr></table><br>
<a name="516163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make them one long sequence, remember the start and finish frames of the sequence and use something like the function above.<br><br>Stealth=ExtractAnimSeq(anim,15,30)<br>PunchSwipe=ExtractAnimSeq(anim,32,44)<br><br>Then you can do something like this...<br>if keyhit(57)=true then <br>If (Animating(player_mesh) &lt;&gt; True) Or (AnimSeq (player_mesh) &lt;&gt; PunchSwipe )<br> Animate player_mesh,3,.5,PunchSwipe<br>endif<br>else <br>If (Animating(player_mesh) &lt;&gt; True) then<br>Animate player_mesh,3,.5,Stealth<br>endif<br>endif<br>If you have lots of diferent animations you should use a case select, and you could use trigers rather than keyhits of course.<br><br>For your problem I think you could also use LoadAnimSeq ( entity,filename$ ). But you would do this before animating and give it a handle, and use it the same. <br><br></td></tr></table><br>
<a name="516265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did what RiverRatt said, but it's doing what it did before where it only does the first frame of the animation while the key is down instead of cycling through the whole thing. How do I fix this? <br><br></td></tr></table><br>
<a name="516268"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay. I fixed the one frame thing. This is what's going on: 1.He animates only when you push the key <br><br>2.He has two animation sequences : <br>Global walkseq = ExtractAnimSeq(player\entity,0,60) ;Walk Sequence<br>Global attackseq = ExtractAnimSeq(player\entity,61,80) ;Attack Sequence<br><br>3. I told him to only do the walk sequence (These are the two ways I tried : 1.Animate player\entity,1,1,0,60 2.Animate player\entity,1,1,walkseq<br><br>4. BUT, it does the entire animation with both the walk and attack put together. Must have done something wrong. Does anyone know my mistake? <br><br></td></tr></table><br>
<a name="516269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, nevermind. I figured it out. I don't know what I did, but it works now. I gotta stop writing these posts because I always figure it out before anyone can write back. Sorry. <br><br></td></tr></table><br>
<a name="516346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now this one I can't figure out. When I walk forward, it works, but when I walk backwards (and I have the exact same code) it only goes to the first frame of animation. Same with spacebar when you attack. <br><br></td></tr></table><br>
<a name="516437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds like you are using keydown(). Try using keyhit() for your atack.<br><br>I will be able to help better if you show the code. <br><br></td></tr></table><br>
<a name="516448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Very odd. I fixed the backwards walk, again I don't know how I fixed it, but I did. The attack is still doing the same thing. It is the same code as the walk sequences too. I think what it is doing is animating when you push the button, but it's all written in such a way that when I told it to stop animating if no button was being pushed, that it's stoping each frame and messing up the animation. <br><br></td></tr></table><br>
<a name="516510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well what you need mabye is an idle animation, so its always animating, and when you do something go forward, back or attack, and when those are done return to idle. <br><br></td></tr></table><br>
<a name="516635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was going to add that later once I got this working, but I guess that would fix the problems. <br><br></td></tr></table><br>
<a name="516655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a function that tests if no keys are being pushed? <br><br></td></tr></table><br>
<a name="516657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Is there a function that tests if no keys are being pushed? <br> <br></div><br><br>Just maintain a flag that turns True if any key has been pressed, allowing you to manage idle animation. <br><br></td></tr></table><br>
<a name="516675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> But when would I make it false. It would just stay true until I told it to be false, but I would have to make it false if no key was being pressed, which brings me back to my original problem of testing if no key is being pressed. <br><br></td></tr></table><br>
<a name="516681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>But when would I make it false.<br> <br></div><br>Just before you test for any keyboard input. That way you don't have to "test for nothing" because "nothing" becomes normative.<br><br>EDIT:<br>Like this - see how you can do things based on no key having been pressed <i>after</i> the input routines.<br><br><pre class=code>
Graphics 640,480,0,2
SetBuffer BackBuffer()

keyPress=False
output$="Blah"
x=320

While Not KeyDown(1)

keyPress=False
If KeyDown(203)
	keyPress=True
	x=x-1
	If x&lt;-150 Then x=639
	output$="Coo, I'm going left!"
EndIf

If KeyDown(205)
	keyPress=True
	x=x+1
	If x&gt;639 Then x=-150
	output$="Coo, I'm going right"
EndIf

If keyPress=False Then output$="Awww, I am idle :/"

Text x,240,output$

Flip
Cls
Wend
</pre> <br><br></td></tr></table><br>
<a name="516950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Crazy4Code</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh duh, I'm an idiot... :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
