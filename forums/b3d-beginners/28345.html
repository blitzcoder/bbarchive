<!DOCTYPE html><html lang="en" ><head ><title >Minimizing full screen game</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Minimizing full screen game</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Minimizing full screen game</a><br><br>
<a name="297972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been trying to minimize a full screen game by calling ShowWindow(hwnd, SW_MINIMIZE) but the app doesn't minimize it just disappears. I also tried it using SetWindowPlacement and got the same result.<br><br>I have to then hit Ctrl-Alt-Del and terminate the app from there.<br><br>Is it not possible to programmically minimize a Blitz app?<br>I've done it in my C directX games so I know these functions work. <br><br></td></tr></table><br>
<a name="298051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Problem is when it runs in Fullscreen and you simply minimize it, DirectX is running windows still in Fullscreen Mode, say no taskbar, no desktop. If you minimze it now, the next window will become visible, which is usually the IDE and not the Desktop.<br><br>Since the minimized BLitz app is still running in the Fullscreenmode, only minimized, it is also in a single Task Mode and will pause and give the focus to the ide, in other words you need to kill this process manually.<br><br>When you are in windowed Mode you can easily minimize the window correctly, eg by using:<br><br>PostMessage(hWnd,WM_SYSCOMMAND,SC_MINIMIZE,0)<br>Delay 2000<br>PostMessage(hWnd,WM_SYSCOMMAND,SC_RESTORE,0)<br><br>Are you shure you used to minimize a Fullscreen in C?<br><br>There is a dirty trick to minimize a Fullscreen app: simply run any other program, eg: execfile "command /c" . this will minimize the app, but unfortunately the app seems to be frozen after maximizing it again. <br><br></td></tr></table><br>
<a name="298341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I've definately done it in C by simply calling ShowWindow() and it always worked. By the way I've also got the neccessary code in my C apps to handle Alt-Tabbing out so maybe that makes the difference. I've never tested them under anything but Win 98SE so maybe I just got lucky. I've never released any of my games because I never finished any of them :)<br><br>I tried the dirty trick you mentioned and it worked fine.<br>The app didn't freeze at all after I maximized it again. I'm using BlitzPlus but as Blitz2D but again, maybe it only works under 98SE.<br><br>In leu of minimizing the app, how do Blitz shareware authors handle the need to launch a web browser when their user's click the register link in their games? <br><br></td></tr></table><br>
<a name="298367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is always a good Idea to switch to windowed Mode before an other exe is called, because only the windowed mode will allow cross-app multithreading. Only system-hooking tasks like antivirus apps or firewalls or any other low level interrupt-driven TSRs can run in the background of a fullscreen Blitz App AFAIK.<br>The problem with switching to windowed Mode is all Graphics and Fonts get "lost" because Blitz performs an Endgraphics automaticly. So if you want to continue the App/Game after switching back to Fullscreen then you might have to reload everything. If you have a nice LoadAll() Function, or maxbe a Save- and Load-Game Function that can save any Stage of a Game then it isn't a problem.<br><br>BTW: If you want to start an external Exe and then End the running App, the only way is to switch to Windowed Mode, then ExecFile the File, then End. It is a good idea to ask windows what resolution the Desktop is running, then use this Size for the window size, so there will only the Borders popup. Many commercial Games do this as well. <br><br></td></tr></table><br>
<a name="298469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If BlitzPlus apps can handle being Alt-Tabbed out of, I would think they can also be minimized without any problems, after all minimization is what happens when you alt-tab a full screen game.<br><br>Go to this page: <a href="http://www.freewebs.com/cgv/temp.htm" target="_blank"> (Click here)</a> and download the small file there if you want to see my DirectX app in C that minimizes by calling ShowWindow().<br><br>This is the very first DirectX app I wrote to learn how to use DirectDraw. It requires DirectX 7. 800x600x16<br><br>It's not a game so there's nothing to do but watch as it flies a little plane across the screen (poorly :)).<br><br>If you press the space key the fullscreen app will minimize, then just click the taskbar icon to maxmize it again and you'll see the app resumes right where it left off with no problems.<br><br>Hit the escape key to exit.<br><br>But as I said, I've only tested it on Win 98SE so perhaps it doesn't work universally. Try it at your own risk.<br><br>(The link is temporary, I'm going to take it down in about a week.) <br><br></td></tr></table><br>
<a name="298519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I believe this anyway :) <br><br></td></tr></table><br>
<a name="298781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I'm just gonna make my game windowed and that settles the matter :) <br><br></td></tr></table><br>
<a name="298799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darklordz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check this<br><pre class=code>Graphics3D 640,480,32,1
SetBuffer BackBuffer()

App=GetActiveWindow()

Delay 2000
ShowWindow(App,0) ; hide teh window and activate another
; Launch other app here
; Send this windows hwnd parameter as cmdline par to the other app. then use winapi to Show the window again (ShowWindow(Hwnd,5))

While Not KeyHit(1)
	RenderWorld
	UpdateWorld
	Flip
Wend</pre> <br><br></td></tr></table><br>
<a name="298858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent, thanks darklordz,<br><br>That second ShowWindow call was what I was missing, although i'm passing a 6 for the nCmdShow parameter to just force the task bar icon to appear.<br><br>One question though, what's the point to passing the window's handle to the external app which in my case would be a web browser? I can't imagine it would be able to put it to any use, and I find it works without it.<br><br>Regards, <br><br></td></tr></table><br>
<a name="298870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darklordz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aaah, Well for nistance lets say you wanted to launch a windows config app. You could let that app "show" the game windows when you're done with it.... <br><br></td></tr></table><br>
<a name="298926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey - darklordz example uses SW_HIDE - doesn't this hide the App? I mean, is it minimized or hidden after the call? <br><br></td></tr></table><br>
<a name="298963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darklordz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> using minimize the screen doesnt return to normal mode. So yes i hide it. that why you could possibly launch another app to show the window again... <br><br></td></tr></table><br>
<a name="299065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CGV</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> using minimize the screen doesnt return to normal mode. <br></div><br><br>Is this also true of Blitz+ or just Blitz3D? If i'm not mistaken I think I saw some post's in these forums suggesting that Blitz+ does a better job of handling Alt-Tabbing than Blitz3D does.<br><br>After seeing your code I realized what my original error had been. I was passing the nCmdShow parameter as SW_MINIMIZE (literally) but I had failed to define it in my app so I was effectively passing a SW_HIDE so that's what my app was doing, hiding.<br><br>I tried doing this:<br><pre class=code>ShowWindow(app, 6)
ExecFile("register.htm")
</pre><br>and it works, it minimizes my full screen game and launches the web browser. Once I click the taskbar icon it maximizes the game and everthing's restored. <br><br></td></tr></table><br>
<a name="299197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, ok. But now please tell me does this also work from the Fullscreen Mode? This would be very useful. <br><br></td></tr></table><br>
<a name="299216"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >darklordz</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes it does... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
