<!DOCTYPE html><html lang="en" ><head ><title >Walking up stairs</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Walking up stairs</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Walking up stairs</a><br><br>
<a name="846600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rtk</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you make an entity walk up stairs? <br><br></td></tr></table><br>
<a name="846611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KillerX</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> First you move the entity up when it walks.  Then you move it forwards.  Then you move it down.  You must  call UpdateWorld() after moving it up. Example:<br><pre class=code>
If Keydown(208)
MoveEntity Person,0,10,0
UpdateWorld()
MoveEntity Person,0,0,10
UpdateWorld()
MoveEntity Person,0,-10,0
endif
</pre> <br><br></td></tr></table><br>
<a name="846621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mtnhome3d</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> if its 3d set collision responce to 2 and the radius to a value that makes it "float" sorta off the ground. then when you hit stairs you slide over them but you can animate your caracter in such a way as to make it look like he's walking up the stairs. <br><br></td></tr></table><br>
<a name="846632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This has been discussed to death in the past - use the search function. <br><br></td></tr></table><br>
<a name="846657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can also create an invisible quad as a ramp just above your stairs and give that quad collisions (response-type 3 prevents your character to slide down this ramp when not moving).<br>Then your character will use this ramp to "slide" it's way to the top of the stairs, just moving your character forwards will do the trick. <br><br></td></tr></table><br>
<a name="846870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The quad idea is the best one tbh. <br><br></td></tr></table><br>
<a name="846876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rtk</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the function that checks the controls for your character (its a FPS). I've also included the function that checks the physics. You can walk up stairs normally when you are going sideways but not when you are going forward. Please tell me if you find anything in here that I could change to fix it. <br>;--------------------------------------------------------------<br><br>;CONTROLS<br><br>Function controls()<br> <br>  If rifleselected=1<br>   DrawImage aimer,355,255<br>  EndIf<br><br>  If pistolselected=1<br>   DrawImage aimer2,355,255<br>  EndIf<br><br>  If KeyDown( 54 ) =1 							<br>		WalkSpeed# = .05<br>  Else<br>		WalkSpeed# = .5<br>  EndIf<br>  <br>  If KeyDown( 57 ) =1 And Jumped =0<br>    Jumped =1<br>  EndIf<br>	<br>  If KeyHit(2)<br>    Animate rifle,3,.2,1<br>    HideEntity rifle<br>    ShowEntity pistol<br>    Animate pistol,3,-.2,1<br>    pistolselected=1<br>    rifleselected=0<br>    weaponout=1	<br>  End If<br> <br>  If KeyHit(3)<br>    Animate pistol,3,.2,1<br>    HideEntity pistol<br>    ShowEntity rifle<br>    Animate rifle,3,-.2,1<br>    pistolselected=0<br>    rifleselected=1<br>    weaponout=1	<br>  End If 	<br>	<br>; Keys for movement<br>  If FlyMode=0<br>	If KeyDown(17) =1 Then MoveEntity CamPivot, 0, 0, WalkSpeed# Animate rifle,3,.2,2 UpdateWorld() <br>    If KeyDown(31) =1 Then MoveEntity CamPivot, 0, 0, 0-WalkSpeed#<br>    PositionEntity Camera, EntityX#( CamPivot ), EntityY#( CamPivot )+8, EntityZ#( CamPivot )<br>  EndIf<br><br>  If KeyDown(30) =1 Then MoveEntity CamPivot, -1, 0, 0<br>  If KeyDown(32) =1 Then MoveEntity CamPivot, 1, 0, 0  <br><br>  If EntityCollided(CamPivot,2)<br>    Jumped=0<br>	 Gravity#=0 <br>  EndIf<br>	<br>TranslateEntity CamPivot, 0, Gravity#, 0<br>	<br>TurnEntity CamPivot, 0, 0 -MouseXSpeed(), 0	<br>	<br>TurnEntity Camera, MouseYSpeed(), 0, 0<br>			 <br>RotateEntity CamPivot, EntityPitch#( CamPivot ), EntityYaw#( CamPivot ), 0<br>	<br>MoveMouse GraphicsWidth()/2, GraphicsHeight()/2<br>   <br>RotateEntity Camera, EntityPitch#( Camera ), EntityYaw#( CamPivot ), 0		<br><br>physics()<br>   <br> If KeyHit(20)<br>   Lazer=1<br> EndIf<br> <br> If KeyHit(20)And Lazer=1<br>   Lazer=0<br> EndIf <br>  	<br> If ammo=0 Or ammo&lt;0 And KeyHit(19)And machineguncartriges&gt;0  <br>   Animate rifle,3,-.2,3<br>   ammo=100<br>   machineguncartriges=machineguncartriges-1<br> EndIf <br><br> If MouseHit(1)And pistolselected=1 And pistolammo&gt;0<br>    createbullet(Camera)<br> EndIf<br>  <br> If MouseDown(1) And rifleselected=1 And ammo&gt;0<br>   If MilliSecs()&gt;delaytime Then<br>	  delaytime=MilliSecs()+800<br>	  createbullet(Camera)<br>	  ammo=ammo-1<br>    EndIf<br> EndIf <br>   <br>updatesparks(sparks)<br>    <br> <br>  <br>Flip<br><br>UpdateWorld()<br><br>RenderWorld<br><br>HideEntity muzzle<br><br>HideEntity muzzleglow<br><br>HideEntity muzzleglow2 <br><br>Return<br>End Function<br>;--------------------------------------------------------------<br>Function physics()<br>Collisions 1,2,2,2<br>UpdateWorld()<br>ClearCollisions<br>End Function  <br>;--------------------------------------------------------------<br>;Load Player<br>Global CamPivot = CreatePivot( )					<br>Global Camera = CreateCamera( )<br>CameraRange Camera,.2,1000<br>CameraFogMode Camera,1<br>CameraFogRange Camera,.2,999<br>CameraFogColor Camera,19,164,149<br>PositionEntity CamPivot,1010,50,1010 <br>EntityType CamPivot, 1<br>EntityRadius CamPivot, 6<br>EntityType Camera, 1<br>EntityRadius Camera, 2 <br><br></td></tr></table><br>
<a name="846877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's alot easier to place a quad :o)<br><br>Also, don't use the collisions command every loop, unless your disabling it every loop too. <br><br></td></tr></table><br>
<a name="846880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rtk</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, it works now! <br><br></td></tr></table><br>
<a name="846881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rtk</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and feel free to use the code, if you want to, just enter me in the credits of your game. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
