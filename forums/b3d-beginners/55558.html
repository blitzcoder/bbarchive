<!DOCTYPE html><html lang="en" ><head ><title >Best way to "move my character"</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Best way to "move my character"</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Best way to "move my character"</a><br><br>
<a name="618348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys I was just wondering what the best\most effective way to move my animated object throughout my level. I have been studying the blitz example and it uses nodes, that were part of an array, but is there a more effective way of doing so without a huge array?? <br><br></td></tr></table><br>
<a name="618437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pineapple</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you use banks.. They are faster than arrays! <br><br></td></tr></table><br>
<a name="618447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you have an example of how to use banks?? <br><br></td></tr></table><br>
<a name="618479"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Linked lists would probably make more sense.<br><br>Umm.. banks are faster than arrays?  I highly doubt that.  Regardless, you should probably be more concerned with clean code and expandability than microoptimizations. <br><br></td></tr></table><br>
<a name="618484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you show me how to use lists, and link them in such a way that I could use them to move my character? <br><br></td></tr></table><br>
<a name="618511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Types ARE linked lists.  Just use First, Before, After, and Last. <br><br></td></tr></table><br>
<a name="618520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey Wolron, I haven't really heard of First,Before,After, and last. I am very farmiliar with types though. Soo, could you kinda demonstrate what you mean buddy?? <br><br></td></tr></table><br>
<a name="618563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Type variable<br>Parameters<br>variable = any legal variable name  <br><br>Description<br>If you know C prgramming, a TYPE is basically a STRUCT in Blitz Basic<br>.<br>.<br>.<br><br>See also: Field, End Type, New, Before, After, First, Last, Each, Insert, Delete.  <br></div><br>Example code usage:<pre class=code>; Define a crafts Type 

Type crafts 
Field x 
Field y 
Field dead 
Field graphic 
End Type 

; Create 100 crafts, with the unique name of alien 
For t = 1 To 100 
alien.crafts = New crafts 
alien\x = Rnd(0,640) 
alien\y = Rnd(0,480) 
alien\dead = 0 
alien\graphic = 1 
Next 

; Move to the first object 
alien.crafts = First crafts 

Print alien\x 
Print alien\y 
Print alien\dead 
Print alien\graphic 

; move to the next alien object 
alien = After alien 

Print alien\x 
Print alien\y 
Print alien\dead 
Print alien\graphic 

; move to the last alien object 
alien.crafts = Last crafts 

Print alien\x 
Print alien\y 
Print alien\dead 
Print alien\graphic 

; move to the second to the last alien object 
alien = Before alien 

Print alien\x 
Print alien\y 
Print alien\dead 
Print alien\graphic  
</pre><br><br>So, in your case:<br><pre class=code>Graphics3D 800, 600

Type Node
	Field entity
	Field x#, y#, z#
End Type

For iter = 1 To 10
	thisNode.Node = New Node
	thisNode\entity = CreateCube() ;CreatePivot() ;normally just an invisible pivot
	thisNode\x# = Rnd(-100, 100)
	thisNode\y# = 0
	thisNode\z# = Rnd(-100, 100)
	PositionEntity thisNode\entity, thisNode\x#, thisNode\y#, thisNode\z#
	EntityColor thisNode\entity, iter * 20, 150, 150 ;note:  can't be used with pivots
Next

myGuy = CreateCamera()

grid_tex=CreateTexture( 32,32,8 )
ScaleTexture grid_tex,10,10
SetBuffer TextureBuffer( grid_tex )
Color 0,0,64:Rect 0,0,32,32
Color 0,0,255:Rect 0,0,32,32,False
SetBuffer BackBuffer()
grid_plane=CreatePlane()
EntityTexture grid_plane,grid_tex
MoveEntity grid_plane, 0, -1, 0

thisNode = First Node

While Not KeyHit(1)
	If EntityDistance(myGuy, thisNode\entity) &lt; 10
		turnrate = 5
	Else
		turnrate = 20
	EndIf
	TurnEntity myGuy, 0, DeltaYaw(myGuy, thisNode\entity)/turnrate, 0
	MoveEntity myGuy, 0, 0, .5
	
	If EntityDistance(myGuy, thisNode\entity) &lt; 2
		If thisNode = Last Node Then thisNode = First Node
		thisNode = After thisNode
	EndIf
	
	RenderWorld()
	Flip
Wend

End</pre> <br><br></td></tr></table><br>
<a name="618581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Types ARE linked lists. Just use First, Before, After, and Last. <br></div><br><br>Subtly incorrect.  Blitz automatically creates a single, partially-accessible linked list for each defined type.  If you implement your own linked lists, you can have the benefits of customizable linked lists, such as multiple lists per type and objects belonging to multiple lists.<br><br><div class="quote"> thisNode = First Node <br></div><br><br>See?  Only one list per type.  If you want your animated objects to follow more than one path, you'll need a different solution.<br><br>The conventional approach to "custom" linked lists is to add <i>next</i> (and usually <i>prev</i>) pointer fields to your type so that you can chain objects into lists, setting the pointers at ends of lists to NULL.  You need only store a pointer to the first object to be able to access all the elements in its associated list.<br><br><pre class=code>
Type node
	Field x#, y#, z#
	Field nextNode.node
End Type

Function new_node.node(prevNode.node, x#, y#, z#)
	n.node = New node
	n\x = x : n\y = y : n\z = z
	If prevNode &lt;&gt; Null Then prevNode\nextNode = n ; update the node before us
	Return n
End Function

a1.node = new_node(Null, 1, 1, 1) ; new list
a2.node = new_node(a1,   2, 2, 2) ; chain a1 to this node
a3.node = new_node(a2,   2, 3, 3) ; ...
b1.node = new_node(Null, 3, 2, 3) ; new list
b2.node = new_node(b1,   2, 1, 2) ; chain b1 to this node
b3.node = new_node(b2,   0, 0, 1) ; ...

a.node = a1
b.node = b1

display_node_list(b)

Function display_node_list(firstNode.node)
	currentNode.node = firstNode
	While currentNode &lt;&gt; Null
		Print currentNode\x + ", " + currentNode\y + ", " + currentNode\z
		currentNode = currentNode\nextNode ; advance to the next node
	Wend
End Function
</pre><br><br>You'll need a function to remove a node without breaking the list.  You may end up adding functions to rearrange elements, treat your list as a queue or a stack, and other fun things.<br><br>Although this is a fantastic solution, some of us are prone to over-engingeering.  The next step is to separate the linked list logic from your type so you can reuse it with other types.  Since there's no polymorphism in Blitz Basic, you'll need to copy your linked list functions anytime you need lists of a new type.  I got tired of this and devised <a href="/posts.php?topic=53352" target="_blank">a different solution</a>. <br><br></td></tr></table><br>
<a name="618712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >W</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> OHHHH...my head is going 2 explode!!, well...maybe not, but this topic is really bewildering me, soo can you break the explanation of how to use linked lists for a beginner programmer?? <br><br></td></tr></table><br>
<a name="618718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> A beginner programmer shan't be using linked lists.  Stick to arrays until you get up to learning how to use Type. <br><br></td></tr></table><br>
<a name="618750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think there's also a linked list approach using Banks.  Since a Bank is a bit o' memory reserved of such-and-such size, you could create a linked lists with Banks.  It probably would also need a function or two to manage, but I believe it could be done.  (Whether it's a BETTER way of doing, I haven't checked).  Start with a new Bank, specifying sufficient memory for the info you need to store in the Bank, and 4 additional bytes (ie an integer) at the end.  The last 4 bytes are essentially reserved for storing the handle of the next Bank.  Initially, the last 4 bytes will be Null (zero).  Then, when you need to add another node in the list, you create a new Bank, and put its handle in that last reserved 4 bytes of the first Bank.  <br><br>Then, when it's time to go through the list, after getting the initial info from the first Bank, you check the last 4 bytes.  If they are other than zero, then those bytes (the second/following Bank's handle) are used to access the info in the following Bank you created.  This can be added to indefinitely, as long as you have enough memory.  <br><br>When you run through the list, if a node is no longer needed, you grab the last 4 bytes of that node's following Bank, and copy them to the last 4 bytes of the previous node, effectively "skipping over" the no-longer-needed node.  The Bank thus no longer needed, can be Free'd.  Because the handle of the folowing Bank was copied to the previous Bank, the list is maintained.   You can always add to the node by adding more Banks.  <br><br>As an additional sophitication, you could also allocate an initial 4 bytes, to be used to store the Handle of a previous Bank (zero, of course, for the first node).  With the handle of the previous Bank in the first 4 bytes of a given Bank, and the handle of a following Bank node (if any) in the last 4 bytes, you can navigate forward and backward through the node list as you please, deleting defunct nodes or inserting new ones.<br><br>This is what can be done with Banks.  To those who use Types, this procedure using Banks is parallel to what the family of "Type" commands do for you, in taking care of some of the adding/deleting/navigating functions for you, so you don't have to keep track of them.<br><br>I think Types are perhaps more versatile than the Banks approach, in that you can have fields that can be any kind of variable, ie floating point, integer, strings, simple arrays, other Types, etc., whereas the Banks are pretty much integer-based (unless you get into using Chr$() functions, which, while possible, would probably be pretty hairy to implement).  <br><br>But, I just wanted to point out that linked lists CAN be done without using Types. <br><br></td></tr></table><br>
<a name="618767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now <i>my</i> head's going to explode.  Why on earth would someone want to reinvent Types with Banks?<br><br><div class="quote"> can you break the explanation of how to use linked lists for a beginner programmer? <br></div><br><br>A (type) object is a collection of variables in memory.  A pointer is a variable which describes another position in memory - that is, the location of another variable or object.  In a linked list, one of the variables in your object acts as a pointer to another object - specifically the next object in the list.<br><br><pre class=code>
Type node
	Field nextNode.node
End Type

a1.node = New node
a2.node = New node
a3.node = New node

; chain them together
a1\nextNode = a2
a2\nextNode = a3

; now we only need to know about the first node to find the rest
first_node.node  = a1
second_node.node = a1\nextNode
third_node.node  = a1\nextNode\nextNode
</pre><br><br>I hope this example is simple enough to showcase the general principle.  When you understand it, look up at my previous example.  If you still don't understand, let me know what it is you're having trouble with and I'll do my best to explain it.<br><br>For reference, here are some explanitory articles on linked lists:<br><br><a href="http://en.wikipedia.org/wiki/Linked_list" target="_blank">http://en.wikipedia.org/wiki/Linked_list</a><br><a href="http://www.codeproject.com/cpp/linkedlist.asp" target="_blank">http://www.codeproject.com/cpp/linkedlist.asp</a> <br><br></td></tr></table><br>
<a name="619786"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't say anyone would *want* to reinvent Types with Banks, just saying it's technically possible (and, with more overhead, to boot)  <br><br>Might be interesting to tackle the problem, just to see how practical it might be (or not be, as the case may turn out). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
