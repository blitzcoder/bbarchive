<!DOCTYPE html><html lang="en" ><head ><title >.B3D ANIMATION</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >.B3D ANIMATION</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >.B3D ANIMATION</a><br><br>
<a name="284967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having a problem animating meshes saved in .b3d format.<br>I use LoadAnimMesh and if I load each sequencs one at a time they all work perfectly. However when I use LoadAnimSeq to put the whole animation together I have a problem changing sequences. I seem to end up with half of sequence 0 and half of sequence 1.  I dont have this problem if I load the animation in .x format it all works ok. Problem is I've just completed a boned animation and need the .b3d format to load into Blitz<br>  Can anybody help<br>  &gt;Carpman <br><br></td></tr></table><br>
<a name="285101"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think somebody reported this Problem before, you might use a search in the Bug report Forum, maybe you find the Person and maybe that guy found a solution.<br><br>What app did you use to save the animated Mesh? <br><br></td></tr></table><br>
<a name="285161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I've been through the Bug reports but can't find anything relevant. I used 3DCanvas to create the models exported in .x format and used Stickmans' DX8 to B3D to convert the file. The only way I can think of to work round the problem would be to load each animation into a seperate player entity ie. one for walking,one for running etc. Seems crazy.<br>thanks anyway<br> &gt;Carpman <br><br></td></tr></table><br>
<a name="285318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >David819</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want the .b3d animations to work use this into it:<br>Graphics3D 640,480,0,2<br><br>Cam= CreateCamera()<br>MoveEntity cam,0,20,-50<br><br>Man=LoadAnimMesh ("jart dant.b3d")<br>Animate man<br><br>Repeat<br><br>	UpdateWorld<br>	RenderWorld<br>	Flip<br>	<br>	Until KeyHit(1)<br>	<br>	End<br><br>i got this from the creators of blitz. <br><br></td></tr></table><br>
<a name="285359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks but the animations do work. It's changing the sequence thats the problem.<br><br>If KeyDown(200) ; move forward<br><br>   If AnimSeq(player)=0 Animate player,1,.7,1,5 ;Change anim sequence<br><br><br>   MoveEntity player,0,0,-.7        ;move the player<br>PositionEntity campivot,px,py+14,pz+15 ;move the camera<br> <br>Else<br>	If AnimSeq(player)=1 Animate player,1,.3,0;change anim sequence<br><br>EndIf<br><br>Sequence 0 player in idle mode legs not moving but torso rotates as if looking around.<br>Sequence 1 player walking<br>When you leave go of the forward arrow key the player returns to sequence 0, which it does but the legs are still in a walking position, which is part of sequence 1.<br>Hope this makes sense. HELP ANYBODY<br>&gt;Thanks Carpman <br><br></td></tr></table><br>
<a name="285437"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you post the model? Or should I send you a mail, so yo can return it to me? <br><br></td></tr></table><br>
<a name="285442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I post the model?<br>If you send a mail I'll return the model and skin<br>Thanks Carpman <br><br></td></tr></table><br>
<a name="285456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> sent. expect my answer (no bugfix-guaranty given) not before tomorrow evening - lots of work... <br><br></td></tr></table><br>
<a name="285626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> your code looks wrong, your telling it to animate the player if the animseq = 0 but then when it does = 1 your telling it to animate 0.<br><br>try<br><br>if keydown(200)<br>if not animseq(player) = 1<br><br>Animate player,1,.7,1,5 ;Change anim sequence <br><br>endif<br><br>elseif not keydown(200)<br>if not animseq(player) = 0<br><br>Animate player,1,.3,0;change anim sequence <br><br>endif<br>endif<br><br>if animseq(player)=1<br><br>MoveEntity player,0,0,-.7 ;move the player <br>PositionEntity campivot,px,py+14,pz+15 ;move the camera <br><br>endif <br><br></td></tr></table><br>
<a name="285758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Sinu, I tried your code but get the same results. I'm sure this is a problem with the .b3d file format. As a test loaded an old jointed model with seperate arms,legs etc. It worked perfectly in .x format but not with the .b3d format.<br>Thanks anyway<br>&gt;Carpman <br><br></td></tr></table><br>
<a name="285791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> send me the model and i'll see what i can do, i do alot of complex animation stuff with my blitz3d project.<br><br>zen27149"at"zen.co.uk <br><br></td></tr></table><br>
<a name="285833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sinu<br>Thanks, it's on its way<br>&gt;carpman <br><br></td></tr></table><br>
<a name="285840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> carpman - I tried it, it shows the same behaviour here, legs "don't find initial position". Q: Did you set any keys for the legs bones in the idle animation? Because I think even when there is no animaton in the legs it needs some keys which have been set right on the first frame.<br><br>I usually do this: select all bones/joints and set the first frame as a global keyframe (in CharacterFX). All following keys can be set individually for each joint (per Sequence). <br><br></td></tr></table><br>
<a name="285877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> jfk-Thanks you seem to have found the answer.I re-animated the idle animation but now get the opposite with sequence 1.<br>The legs from the walking anim. and torso from the idle anim!!!! but at least I now know what the problem is so need to work on it. This is my first attempt at a boned animation.It's taken me ages to get this far but it seems I still have a lot to learn.<br>        Thanks again<br>             &gt;Carpman <br><br></td></tr></table><br>
<a name="285883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is one more Tip:<br><br>First I select all joints and set a keyframe for all of them on the first frame. Then I decide the number of frames of the sequence, eg. 30. Then I set a keyframe on the last frame for all joints as well. <br><br>Now I can set individual keys between start and end and I have a fully working inverse kineamtic that will loop pretty good. If I have finished the animation work I set the second-last Frame as a Keframe for all Bones as well, then I cut the very last frame off, simply by reducing the animation lengt by 1 frame. At least in CharacterFX this can be done. Cutting off the last frame will make the looping smoother since the last frame was the same as the first...<br><br>Hope you'll be successful with this. <br><br></td></tr></table><br>
<a name="286082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >carpman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've done it! I've done it! I've done it!  After weeks of work everything now works ok. Thanks to everyone for thier response especially jfk who finally solved the problem. I would never have thought of putting key frames on parts of the model that don't move. I was about to give up, three cheers for Blitz Forums<br>&gt;Carpman <br><br></td></tr></table><br>
<a name="286124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Congratulation! :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
