<!DOCTYPE html><html lang="en" ><head ><title >Height Above Mesh Terrain</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Height Above Mesh Terrain</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Height Above Mesh Terrain</a><br><br>
<a name="403123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I have a mesh Terrain (Not Blitz's Native Terrain), Centered at 0,0 And a Ship above it. Can I tell The Height of the Mesh (The y Component) to compare it with the ship to determine Altitude?<br><br>If so, Can someone give me an Idea. <br><br>Thanks,<br>Eric <br><br></td></tr></table><br>
<a name="403126"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can do this in quite a few ways.  <br><br>You could take a pivot way above the terrain, with collisions set up to test the pivot colliding with the terrain, then move it down until it hits the terrain. At that point, get it's Y value.   <br><br>You could use camera picking, and point the camera down the Y axis at the X/Z location you want to check the height of, and then get the pickedy() value from it.<br><br>You could easily use linepicking.  AKA:  <br>LinePick(X, 500, Z, X, -500, Z), and again get the Y with PickedY().<br><br>I would personally use the third method, but there are a few options for ya. <br><br></td></tr></table><br>
<a name="403151"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried the LinePick Method, Before I Wrote this Question.. And Couldn't get it to work, So now that you suggested it, It now works&gt;&gt; Go figure.....<br><br>Thanks for the Advice.<br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="403152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or simply calculate it based on the data you uset to build the terrain. <br><br></td></tr></table><br>
<a name="403157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >poopla</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That would be the faster method, which I managed to leave out.  Sleepy time :). <br><br></td></tr></table><br>
<a name="403271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ebusiness,<br><br>Please Explain a Little More.<br><br>My Terrain is a .X Format File From TrueSpace<br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="403341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wayne</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your code might look something like what follows:<br><br><pre class=code>
; Make mesh pickable 
EntityPickMode mesh%(j,k),2

; Calculate height of ship entity above terrain mesh
h1#=GetmeshHgt(Ship,1024,-4096)+MeshHeight(ship)/2+100

Function GetMeshHgt(ent, PosOffset, NegOffset)
Pick=LinePick(EntityX(ent),EntityY(ent)+PosOffset,EntityZ(ent),0,NegOffset,0)
Return PickedY#()
End Function
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
