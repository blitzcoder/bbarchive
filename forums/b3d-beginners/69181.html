<!DOCTYPE html><html lang="en" ><head ><title >input "fields"</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >input "fields"</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >input "fields"</a><br><br>
<a name="773426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, what are other methods of retrieving input and storing it besides "Input()"?<br><br>like a simple input box like i'm typing in now for example? any ways to retrive input in a more eye catching way and not like simple type/enter?<br><br>how do you create these "input fields" ? <br><br></td></tr></table><br>
<a name="773430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out the <a href="/codearcs.php?cat=5" target="_blank">CodeArchives - Input section</a>.<br><br>Start at the bottom and you will find several entries to do with such things. <br><br></td></tr></table><br>
<a name="773449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> interesting... so to make this possible, you would have to check when a key is pressed, find out what key was pressed and type out on the screen a letter depending on what key is pressed?<br><br>whats the easyest way to pull this off? (somthing i can some-what understand) <br><br></td></tr></table><br>
<a name="773509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> In particular I've always found this code archive entry a great help:<br><br><a href="http://blitzbasic.com/codearcs/codearcs.php?code=207" target="_blank">http://blitzbasic.com/codearcs/codearcs.php?code=207</a><br><br>Yes you would have to either poll or the keys with keydown() for each key scancode OR use getkeys() if you are only expecting standard keys to be pressed - like letters numbers etc.  <br><br>What it would usually involve is having a variable, a string variable, which you add characters to each time a key is pressed - as long as you are wanting to detect key presses for that purpose - and then draw/text/write the string variable to the screen.  You can even manipulate the string so that it wraps and crosses multiple lines by writing your code so that it parses the string variable appropriately. <br><br></td></tr></table><br>
<a name="773782"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Lordon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still learning myself, here's what I did for the login screen on my game:<br><br>Hope it helps :]<br><br>SetBuffer BackBuffer()<br>curRow  = 1<br>done = False<br><br>While Not done<br><br>	Color 255,255,255<br>	If curRow = 1 Color 200,200,0	<br>	Rect 90,5,100,20,0<br>	Text 95,10,myAccount$<br><br>	Color 255,255,255<br>	Text 10,10,"Account:"<br><br>	If curRow = 2 Color 200,200,0<br>	Rect 90,45,100,20,0<br>	<br>	hidden$ = ""<br>	<br>	For i = 1 To Len(myPassword$)<br>		hidden$ = hidden$+"*"<br>	Next<br>	<br>	Text 95,50,hidden$<br>	Color 255,255,255<br>	Text 10,50,"Password:"<br><br>	If curRow = 3 Color 200,200,0<br>	Text 10,90,"Submit"<br><br>	If KeyHit(200) curRow = curRow - 1<br>	If KeyHit(208) curRow = curRow + 1<br>	<br>	If curRow &gt; 3 curRow = 3<br>	If curRow &lt; 1 curRow = 1<br>	<br>	Flip<br>	Cls<br>	<br>	keyVal = GetKey()<br>	<br>	If (keyVal&gt;=48 And keyVal&lt;=57) Or (keyVal&gt;=65 And keyVal&lt;=90) Or (keyVal&gt;=97 And keyVal&lt;=122)<br>		Select curRow<br>			Case 1: If Len(myAccount$) &lt; 8 myAccount$ = myAccount$ + Chr(keyVal)<br>			Case 2: If Len(myPassword$) &lt; 12 myPassword$ = myPassword$ + Chr(keyVal)<br>		End Select<br>	End If<br>	<br>	If KeyHit(14)<br>		Select curRow<br>			Case 1: If Len(myAccount$) &gt; 0 myAccount$ = Left(myAccount$,Len(myAccount$)-1)<br>			Case 2: If Len(myPassword$) &gt; 0 myPassword$ = Left(myPassword$,Len(myPassword$)-1)<br>		End Select<br>	End If<br>	<br>	If KeyHit(28) And curRow = 3 RuntimeError myAccount + "/" + myPassword<br>Wend <br><br></td></tr></table><br>
<a name="774099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm why doesnt this work? just testing this, <br><br><pre class=code>
AppTitle "Fitting Calculator","Exit Fitting calculator?"

;Include "FunctionLibary.bb"

Graphics 400,300,16,2


POWER=Input("How much powergrid on your ship? ")
Print
CPU=Input("How much CPU on your ship? ")

C_POWER=0
C_CPU=0

ADD_CPU=0
ADD_POWER$=""

While Not KeyHit(1)
Cls


  Text 0,0,"PG: ("+C_POWER+"/"+POWER+")"
  Text 0,15,"CPU: ("+C_CPU+"/"+CPU+")"

  Text 180,80,"Add module:"

Text 0,120,"Power of mod:"
   Rect 180,120,100,20,False

Text 0,150,"CPU of mod:"
   Rect 180,150,100,20,False

Text 0,180,"How many of these?:"
   Rect 180,180,100,20,False

key=GetKey()

If key=&gt;2 And key=&lt;11 ADD_POWER$=ADD_POWER$+Chr(key)

Text 50,50,ADD_POWER$



 Delay 5
Flip
Wend
End
</pre><br><br>its suppost to output numbers you hit at 50,50... <br><br></td></tr></table><br>
<a name="774116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weird if i get rid of the conditional part of it "If key=&gt;2 And key=&lt;11" it works, but screams out "|"'s and registers all keys (i only want numbers)<br><br>so i screwed up the condition ... looks alright to me? anyone got any ideas? <br><br></td></tr></table><br>
<a name="774124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> GRRR SO CLOSE..<br><br>Why does yours work but mine doesnt?<br><br>this works:<br><br><pre class=code>
If (key&gt;=48 And key&lt;=57) Or (key&gt;=65 And key&lt;=90) Or (key&gt;=97 And key&lt;=122)
</pre><br><br>this doesnt:<br><br><pre class=code>
If (key&gt;=2 And key&lt;=11)
</pre><br><br><br>what am i doing wrong? <br><br></td></tr></table><br>
<a name="774137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Problem is with your use of the value returned by GetKey().<br><br>GetKey returns the ascii value.<br><br>[edit]<br><br>Look at next post.... <br><br></td></tr></table><br>
<a name="774138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adding to that....<br><br>GetKey() returns the following<br><br>1 = Home Key<br>2 = End<br>3 = Insert<br>4 = Delete<br>5 = Page Up<br>6 = Page Down<br><br>Are these the keys you intend on using?<br><br>Ascii 49 is number 1, upto 57 which is 9.<br><br>Try this...<br><br><pre class=code>
	key=GetKey()
	
	If(key=&gt;49 And key=&lt;57) Then
		ADD_POWER$=Chr(key)
	EndIf

	Text 50,50, ADD_POWER$

	Delay 5
	key = 0;
	
	
	Flip
</pre> <br><br></td></tr></table><br>
<a name="774337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Huh? this works but:<br><br>Keys "1" thru "0" on the top have the scan codes of "2" thru "11"<br><br>i'm confused... <br><br></td></tr></table><br>
<a name="774339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> oh i think i see, ASCII codes not scancodes, well whats the "ASCII" code for the number pad? i want to enable this as well. <br><br></td></tr></table><br>
<a name="774351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think the numpad has scancodes. At least, I couldn't find them.<br>For my program, I used GetKey to make input boxes. Later on, I replace all GetKey's with a custom function (iGetKey) that uses scancodes (keydown) to read the keys.<br>Here is the code, maybe it helps:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;-----------------------------------------------------------------------------------------------------
;										  **** EXAMPLE ****
;-----------------------------------------------------------------------------------------------------

	;!!call this before using iGetKey()!!
	InitGetKey()
	
	;example loop	
	Repeat
		
		;replaced GetKey() with iGetKey()
		ok = iGetKey()
		If ok &lt;&gt; 0 Then Print ok

	;esc = exit		
	Until KeyHit(1)
	
	End


;-----------------------------------------------------------------------------------------------------
;											ScanCode Type
;-----------------------------------------------------------------------------------------------------
	
;type to hold scancodes
Type ScanCode
	Field code
	Field key$
	Field upkey$
End Type

;-----------------------------------------------------------------------------------------------------
;											InitGetKey()
;-----------------------------------------------------------------------------------------------------
;reads all scancodes into ScanCode type
Function InitGetKey()

	;read scancodes
	tel = 1
	Restore scancodez
	Repeat
		Read scanc
		If scanc = -1 Then Exit
		s.ScanCode = New ScanCode
		s\code = scanc
		s\key$ = Lower$(Mid$("1234567890-=QWERTYUIOP[]ASDFGHJKL;'\ZXCVBNM,./* 789-456+1230.,/", tel, 1))
		s\upkey$ = Mid$("!@#$%^&amp;*()_+QWERTYUIOP{}ASDFGHJKL:" + Chr$(34) + "|ZXCVBNM&lt;&gt;?* 789-456+1230.,/", tel, 1)
		tel = tel + 1
	Forever

End Function

Global oldkdown
;-----------------------------------------------------------------------------------------------------
;											iGetKey()
;-----------------------------------------------------------------------------------------------------
;imitates GetKey() using scancodes
Function iGetKey()

	;backspace
	If KeyDown(14) Then 
		If oldkdown &lt;&gt; 8 Then oldkdown = 8: Return 8
		oldkdown = 8: Return
	End If

	;enter
	If KeyDown(28) Or KeyDown(156) Then 
		If oldkdown &lt;&gt; 13 Then oldkdown = 13: Return 13
		oldkdown = 13: Return
	End If
	
	;check what key is down
	sel.ScanCode = Null
	down = -1
	For s.ScanCode = Each ScanCode
		If KeyDown(s\code) Then down = s\code: sel = s: Exit
	Next
	If down = oldkdown Then Return
	oldkdown = down

	;if no valid key is selected, exit	
	If sel = Null Then Return 0

	;shift for uppercase	
	If KeyDown(42) Or KeyDown(54) Then
		sc$ = sel\upkey$
	Else
		sc$ = sel\key$
	End If

	;return ascii value of key	
	Return Asc(sc$)

End Function

;"1234567890-=QWERTYUIOP[]ASDFGHJKL;'\ZXCVBNM,./* 789-456+7890.,/" (no shift)
;"!@#$%^&amp;*()_+QWERTYUIOP{}ASDFGHJKL:"|ZXCVBNM&lt;&gt;?* 789-456+7890.,/" (shift)
.scancodez
Data 2, 3, 4, 5, 6, 7, 8, 9, 10, 11
Data 12, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25
Data 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38
Data 39, 40, 43, 44, 45, 46, 47, 48, 49, 50, 51
Data 52, 53, 55, 57, 71, 72, 73, 74, 75, 76, 77
Data 78, 79, 80, 81, 82, 83, 179, 181, -1
</textarea> <br><br></td></tr></table><br>
<a name="774376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> so i copy the functions over and use Igetkey() and not Getkey()?<br><br>Edit: Yes it works! thanks for the functions B23 helpful as always :) and thanks lordon and everyone else that helped <br><br></td></tr></table><br>
<a name="774408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: scratch that for now, how do i pull off that flashing cursor effect?<br><br>this is what i tried, i thought if you say "Timer=millisecs()" it resets the timer?<br><br>why does this not work?<br><br><pre class=code>
If MilliSecs() &lt; blinky+1000
Select c_textbox
  Case 1 Rect 183+Len(ADD_POWER$)*9,122,1,17,1
  Case 2 Rect 183+Len(ADD_CPU$)*9,152,1,17,1
  Case 3 Rect 183+Len(NO_OFMODS$)*9,182,1,17,1
blinky=MilliSecs()
End Select
End If
</pre><br><br>should flicker on and off every second? <br><br></td></tr></table><br>
<a name="774474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is no time defined when the cursor should be 'off'.<br>The 'on'-time is defined by:<br>If Millisecs() &lt; blinky+1000<br><br>The 'off' time could be defined like this:<br>If Millisecs() &gt; blinky+2000 then blinky=Millisecs()<br><br>Also, the line that resets the timer is in the Select..Case. I think it should be placed after 'End Select'.<br>When using Millisecs(), I believe it is best to read it at the start of the program's main loop and store it in a variable, because it may have changed between two reads. <br><br></td></tr></table><br>
<a name="774477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awsome, another quick question, how is it possible to enable the Number pad while prompting with Input()? <br><br></td></tr></table><br>
<a name="774489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yo! Wazzup?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think you can, but here is a nice input command that someone made:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=68736" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=68736</a> <br><br></td></tr></table><br>
<a name="774491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> k, I'll try to develop a function that makes a input field like i have now, but more easy to manage ect. and hides the ugly code <br><br></td></tr></table><br>
<a name="774495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i'm stumped, why does this not work? its suppost to work like a input box... but for some reason (i think) the string is erasing itself every frame, i cant find where its doing that.. <br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;-----------------------------------------------------------------------------------------------------
;											   Types
;-----------------------------------------------------------------------------------------------------
	
;type to hold scancodes
Type ScanCode
	Field code
	Field key$
	Field upkey$
End Type

;-----------------------------------------------------------------------------------------------------
;											InitGetKey()
;-----------------------------------------------------------------------------------------------------
;reads all scancodes into ScanCode type
Function InitGetKey()

	;read scancodes
	tel = 1
	Restore scancodez
	Repeat
		Read scanc
		If scanc = -1 Then Exit
		s.ScanCode = New ScanCode
		s\code = scanc
		s\key$ = Lower$(Mid$("1234567890-=QWERTYUIOP[]ASDFGHJKL;'\ZXCVBNM,./* 789-456+1230.,/", tel, 1))
		s\upkey$ = Mid$("!@#$%^&amp;*()_+QWERTYUIOP{}ASDFGHJKL:" + Chr$(34) + "|ZXCVBNM&lt;&gt;?* 789-456+1230.,/", tel, 1)
		tel = tel + 1
	Forever

End Function

Global oldkdown
;-----------------------------------------------------------------------------------------------------
;											iGetKey()
;-----------------------------------------------------------------------------------------------------
;imitates GetKey() using scancodes
Function iGetKey()

	;backspace
	If KeyDown(14) Then 
		If oldkdown &lt;&gt; 8 Then oldkdown = 8: Return 8
		oldkdown = 8: Return
	End If

	;enter
	If KeyDown(28) Or KeyDown(156) Then 
		If oldkdown &lt;&gt; 13 Then oldkdown = 13: Return 13
		oldkdown = 13: Return
	End If
	
	;check what key is down
	sel.ScanCode = Null
	down = -1
	For s.ScanCode = Each ScanCode
		If KeyDown(s\code) Then down = s\code: sel = s: Exit
	Next
	If down = oldkdown Then Return
	oldkdown = down

	;if no valid key is selected, exit	
	If sel = Null Then Return 0

	;shift for uppercase	
	If KeyDown(42) Or KeyDown(54) Then
		sc$ = sel\upkey$
	Else
		sc$ = sel\key$
	End If

	;return ascii value of key	
	Return Asc(sc$)

End Function

;-------------------------------------------------------------------------------------------------------
;                                          CreateInputBox()
;-------------------------------------------------------------------------------------------------------
Function CreateInputBox(box_x,box_y,box_w,box_h,useable,returnstr$)


Rect box_x,box_y,box_w,box_h,False

If useable=True
   key=iGetKey()
   Rect box_x+3+Len(returnstr$)*9,box_y+2,1,box_h-3,1
If (key=&gt;48 And key=&lt;57) Or (key&gt;=65 And key&lt;=90) Or (key&gt;=97 And key&lt;=122)
   Len(returnstr$)&lt;11 returnstr$=returnstr$+Chr(key)
End If
End If

Text box_x+3,box_y,returnstr$

End Function

;-------------------------------------------------------------------------------------------------------
                                       ;Data stuff
;-------------------------------------------------------------------------------------------------------
.scancodez
Data 2, 3, 4, 5, 6, 7, 8, 9, 10, 11
Data 12, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25
Data 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38
Data 39, 40, 43, 44, 45, 46, 47, 48, 49, 50, 51
Data 52, 53, 55, 57, 71, 72, 73, 74, 75, 76, 77
Data 78, 79, 80, 81, 82, 83, 179, 181, -1


;----------------------------------------------------------
;                              Example
;----------------------------------------------------------

;Include "FunctionLibary.bb"

Graphics 400,300,16,2
SetBuffer BackBuffer()

InitGetKey()

mystring$=""

While Not KeyHit(1)
Cls

;CreateInputBox(box_x,box_y,box_w,box_h,useable,strng$)
CreateInputBox(0,0,100,20,True,mystring)

Delay 5
Flip
Wend
End
</textarea><br><br>do i have the right idea or am i doing it all wrong? (my first useful function!)<br><br>PS. i just put in the Igetkey() ect functions so it works those have nothing to do with the problem (i tested with normal getkey() to make sure!)<br><br>the problem lies in the Example, or the "CreateInputBox()" function <br><br></td></tr></table><br>
<a name="774509"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is getting annoying, the reason why its constantly erasing itself is because i'm putting the string i want returned into the function  and because its in the function its in the main loop, and it keeps sending that string in empty.. therefore erasing itself.<br><br><br>how on earth do i fix this, this is how i want it to work:<br><br><br>you throw a string veriable in... and when the function is done it throws the string out with the added letters/numbers, these can be used for maths ect, the actal typing onscreen of the userinput is done in the function, but because it keeps sending a empty veriable in...<br><br><br>it breifly shows it (its in the function) then it vanishes (exiting the function, going to the next loop, throwing a empty veriable in it)<br><br><br>I'm confused... what do i do to fix it!! <br><br></td></tr></table><br>
<a name="774510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> one way i guess i could fix it is declare a global string before the main loop then use that inside of the function, but then that gets rid of its ability for the user to give it more then one function a Input string name.<br><br>limiting them to only using one input field...<br><br>Dang i love this function stuff, yet i hate it at the same time, this will be a good learning experince once i figure this out.<br><br>Any ideas? <br><br></td></tr></table><br>
<a name="774523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Post some code and I'll take a look. <br><br></td></tr></table><br>
<a name="774525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> look 3 posts above yours <br><br></td></tr></table><br>
<a name="774567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this...<br><br><pre class=code>
Function CreateInputBox$(box_x,box_y,box_w,box_h,useable,returnstr$)
	
	Rect box_x, box_y, box_w, box_h, False

	If useable=True
	
		key=iGetKey()
	
		Rect box_x+3+Len(returnstr$)*9,box_y+2,1,box_h-3,1
	
		If (key=&gt;48 And key=&lt;57) Or (key&gt;=65 And key&lt;=90) Or (key&gt;=97 And key&lt;=122)

			If(Len(returnstr$)&lt;11)

				returnstr$ = returnstr$ + Chr(key)
				
			End If

		End If
		
	End If

	Text box_x+3,box_y, returnstr$

	Return(returnstr$); This bit updates your string
		
End Function
</pre><br><br>And then change your main loop to...<br><br><pre class=code>
mystring$=""

While Not KeyHit(1)

	Cls

	mystring$ = CreateInputBox(0,0,100,20,True,mystring$)
	
	Delay 5

	Flip

	Wend
End
</pre> <br><br></td></tr></table><br>
<a name="774626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> :) THANKS!!! that was interesting to say the least...<br><br>i'll release the function in the code archives once i'm done putting the finishing touchs on it <br><br></td></tr></table><br>
<a name="774631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> grr... this is wierd i'm trying to control what inputbox is active with a case select thingy:<br><br><pre class=code>
;-----------------------------------------------------------------------------------------------------
;											   Types
;-----------------------------------------------------------------------------------------------------
	
;type to hold scancodes
Type ScanCode
	Field code
	Field key$
	Field upkey$
End Type

;-----------------------------------------------------------------------------------------------------
;											InitGetKey()
;-----------------------------------------------------------------------------------------------------
;reads all scancodes into ScanCode type
Function InitGetKey()

	;read scancodes
	tel = 1
	Restore scancodez
	Repeat
		Read scanc
		If scanc = -1 Then Exit
		s.ScanCode = New ScanCode
		s\code = scanc
		s\key$ = Lower$(Mid$("1234567890-=QWERTYUIOP[]ASDFGHJKL;'\ZXCVBNM,./* 789-456+1230.,/", tel, 1))
		s\upkey$ = Mid$("!@#$%^&amp;*()_+QWERTYUIOP{}ASDFGHJKL:" + Chr$(34) + "|ZXCVBNM&lt;&gt;?* 789-456+1230.,/", tel, 1)
		tel = tel + 1
	Forever

End Function

Global oldkdown
;-----------------------------------------------------------------------------------------------------
;											iGetKey()
;-----------------------------------------------------------------------------------------------------
;imitates GetKey() using scancodes
Function iGetKey()

	;backspace
	If KeyDown(14) Then 
		If oldkdown &lt;&gt; 8 Then oldkdown = 8: Return 8
		oldkdown = 8: Return
	End If

	;enter
	If KeyDown(28) Or KeyDown(156) Then 
		If oldkdown &lt;&gt; 13 Then oldkdown = 13: Return 13
		oldkdown = 13: Return
	End If
	
	;check what key is down
	sel.ScanCode = Null
	down = -1
	For s.ScanCode = Each ScanCode
		If KeyDown(s\code) Then down = s\code: sel = s: Exit
	Next
	If down = oldkdown Then Return
	oldkdown = down

	;if no valid key is selected, exit	
	If sel = Null Then Return 0

	;shift for uppercase	
	If KeyDown(42) Or KeyDown(54) Then
		sc$ = sel\upkey$
	Else
		sc$ = sel\key$
	End If

	;return ascii value of key	
	Return Asc(sc$)

End Function


;-------------------------------------------------------------------------------------------------------
;                                          CreateInputBox()
;-------------------------------------------------------------------------------------------------------
;Function CreateInputBox(box_x,box_y,box_w,useable)


;Rect box_x,box_y,box_w,20,False

;If useable=True
 ;  key=iGetKey()
 ;  Rect box_x+3+Len(returnstr$)*9,box_y+2,1,17,1
 ; If (key=&gt;48 And key=&lt;57) Or (key&gt;=65 And key&lt;=90) Or (key&gt;=97 And key&lt;=122)
 ;    If Len(returnstr$)&lt;box_w/10 returnstr$=returnstr$+Chr(key)     
;End If
;  End If

;If useable=True
;  If KeyHit(14)
;     If Len(returnstr$) &gt; 0 returnstr$ = Left(returnstr$,Len(returnstr$)-1)  
;End If
 ; End If


;Text box_x+3,box_y,returnstr$


;Return returnstr$

;End Function


Function CreateInputBox$(box_x,box_y,box_w,useable,returnstr$)
	
	Rect box_x, box_y, box_w,20, False

	While useable=True
	
		key=iGetKey()
	
      Rect box_x+3+Len(returnstr$)*9,box_y+2,1,17,1
		
	
		If (key=&gt;48 And key=&lt;57) Or (key&gt;=65 And key&lt;=90) Or (key&gt;=97 And key&lt;=122)

			If(Len(returnstr$)&lt;11)

				returnstr$ = returnstr$ + Chr(key)
				
				
				End If
			End If


		If KeyHit(14) 
				 If Len(returnstr$)&gt;0 Left(returnstr,Len(returnstr)-1)

End If
	Text box_x+3,box_y, returnstr$

	Return(returnstr$)
	
	Wend
		
End Function



;-------------------------------------------------------------------------------------------------------
                                       ;Data stuff
;-------------------------------------------------------------------------------------------------------
.scancodez
Data 2, 3, 4, 5, 6, 7, 8, 9, 10, 11
Data 12, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25
Data 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38
Data 39, 40, 43, 44, 45, 46, 47, 48, 49, 50, 51
Data 52, 53, 55, 57, 71, 72, 73, 74, 75, 76, 77
Data 78, 79, 80, 81, 82, 83, 179, 181, -1


;----------------------------------------------
;                    demo
;----------------------------------------------

;Include "FunctionLibary.bb"

Graphics 400,300,16,2
SetBuffer BackBuffer()

InitGetKey()

mystring$=""
mystring2$=""
mystring3$=""

tf=False
tf2=False
tf3=False

controller=1

Global blinky=MilliSecs()

While Not KeyHit(1)
Cls

;CreateInputBox(box_x,box_y,box_w,box_h,useable,letters,strng$)
mystring = CreateInputBox(0,0,300,True,mystring$)
mystring2=CreateInputBox(0,30,300,False,mystring2$)
mystring3=CreateInputBox(0,60,300,False,mystring3$)


Select controller
Case 1 tf=True
Case 2 tf2=False
Case 3 tf3=False

Default tf=False tf2=False tf3=False 

End Select


If KeyHit(200) controller=controller+1
If KeyHit(208) controller=controller-1

If controller &gt; 3 controller=1
If controller &lt; 1 controller=3


Text 0,350,controller



Delay 5
Flip
Wend
End
</pre><br><br><br>why doesnt that work? it looks perfectly fine to me <br><br></td></tr></table><br>
<a name="774664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> got it to work, stupid me lol<br><br>what the input archive i'll be adding this shortly. <br><br></td></tr></table><br>
<a name="775428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I've updated the routine, since I noticed that it sometimes had trouble handling the right order of the keys if people type too fast. So I thought, I'd post it:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;-----------------------------------------------------------------------------------------------------
;										  **** EXAMPLE ****
;-----------------------------------------------------------------------------------------------------

	;!!call this before using iGetKey()!!
	InitGetKey()
	
	;example loop	
	Repeat
		
		;replaced GetKey() with iGetKey()
		ok = iGetKey()
		If ok &lt;&gt; 0 Then Print ok
		
	;esc = exit		
	Until KeyHit(1)
	
	End


;-----------------------------------------------------------------------------------------------------
;											ScanCode Type
;-----------------------------------------------------------------------------------------------------
Type TKeyDown
	Field s.ScanCode
End Type
	
;type to hold scancodes
Type ScanCode
	Field code
	Field key$
	Field upkey$
	Field isdown
End Type

;-----------------------------------------------------------------------------------------------------
;											InitGetKey()
;-----------------------------------------------------------------------------------------------------
;reads all scancodes into ScanCode type
Function InitGetKey()

	;read scancodes
	tel = 1
	Restore scancodez
	Repeat
		Read scanc
		If scanc = -1 Then Exit
		s.ScanCode = New ScanCode
		s\code = scanc
		s\key$ = Lower$(Mid$("1234567890-=QWERTYUIOP[]ASDFGHJKL;'\ZXCVBNM,./* 789-456+1230.,/" + Chr$(8) + Chr$(13) + Chr$(13), tel, 1))
		s\upkey$ = Mid$("!@#$%^&amp;*()_+QWERTYUIOP{}ASDFGHJKL:" + Chr$(34) + "|ZXCVBNM&lt;&gt;?* 789-456+1230.,/" + Chr$(8) + Chr$(13) + Chr$(13), tel, 1)
		tel = tel + 1
	Forever

End Function

Global oldkdown
;-----------------------------------------------------------------------------------------------------
;											iGetKey()
;-----------------------------------------------------------------------------------------------------
;imitates GetKey() using scancodes
Function iGetKey()

	;read scancodes
	For s.ScanCode = Each ScanCode
		down = KeyDown(s\code)
		If down And (Not s\isdown) Then 
			tk.TKeyDown = New TKeyDown
			tk\s = s
		End If
		s\isdown = down
	Next

	tk.TKeyDown = First TKeyDown
	If tk = Null Then Return
	
	sel.ScanCode = tk\s
	If sel = Null Then Return
	
	oldkdown = sel\code
	
	Delete tk
			
	;shift for uppercase	
	If KeyDown(42) Or KeyDown(54) Then
		sc$ = sel\upkey$
	Else
		sc$ = sel\key$
	End If

	;return ascii value of key	
	Return Asc(sc$)

End Function

;"1234567890-=QWERTYUIOP[]ASDFGHJKL;'\ZXCVBNM,./* 789-456+7890.,/" (no shift)
;"!@#$%^&amp;*()_+QWERTYUIOP{}ASDFGHJKL:"|ZXCVBNM&lt;&gt;?* 789-456+7890.,/" (shift)
.scancodez
Data 2, 3, 4, 5, 6, 7, 8, 9, 10, 11
Data 12, 13, 16, 17, 18, 19, 20, 21, 22, 23, 24, 25
Data 26, 27, 30, 31, 32, 33, 34, 35, 36, 37, 38
Data 39, 40, 43, 44, 45, 46, 47, 48, 49, 50, 51
Data 52, 53, 55, 57, 71, 72, 73, 74, 75, 76, 77
Data 78, 79, 80, 81, 82, 83, 179, 181
Data 14, 28, 156
Data -1
</textarea> <br><br></td></tr></table><br>
<a name="775447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yahfree</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> edit nvm i read wrong..<br><br><br>Nice thanks for that <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
