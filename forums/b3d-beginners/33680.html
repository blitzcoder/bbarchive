<!DOCTYPE html><html lang="en" ><head ><title >Return value from a function</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Return value from a function</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Return value from a function</a><br><br>
<a name="362588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Valgar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo to all.<br>I have a problem....<br>I'm writing a bunch of function that made some calculation (mainly for object movements....)but Blitz return only one value from a function.<br>I have read the book written by Krylar and at some point he tell that the function CAN return more than one value from a function with a "bit" of trickery......but he don't tell what trick he use.<br>Do you know what he talk about?<br>Because i really need to return two value from my function....<br>Else i don't know how to make generic function for moving object similar to blitz command (the other way is to print the commands all the time...but it a lot of time!).<br>Thanks <br><br></td></tr></table><br>
<a name="362593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know what Krylar was talking about since I've never read his book but...<br><br>You could try storing the values in an Array (which are global).  That way you could store/read info to/from the array whether you are within a function or not.<br><br>Just one idea. <br><br></td></tr></table><br>
<a name="362599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or just use globals:<textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Global value1
Global value2
return_two_vars()
print value1 +" "+ value2
WaitKey()
End
Function return_two_vars()
  value1=Millisecs()
  value2=77
End Function








The brand new [codebox], smart right?</textarea> <br><br></td></tr></table><br>
<a name="362608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >soja</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's true that a function can only return one value, so it requires one more layer of abstraction in order to "return" multiple values.  This is probably what he meant by "trickery".<br><br>The first thing I can think of is that you can return a custom type with two fields for each value.  Or, if you're returning two ints that are less than 2^16, you can use bit shifting\masking techniques to pack the shorts into one int and return that (and then unpack them afterwards).  You could also use a bank.<br><br>Anyway, I prefer the custom type method.  No matter what you do, though, another layer of abstraction means more processing/muddling. <br><br></td></tr></table><br>
<a name="362628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Valgar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey!I never imagine the use of globals or types!<br>You give me a greath idea!<br>Now i can modify my function to output what i want....the only back is that i can declare many global because if i use the same name when i use a movement other object move the same!<br>I think that i use the array mode and use global only for some function.<br>About the "more processing" thing....do you think that if i use this tecnique for moving object i have a decrease in performance?<br>Or it's only smaller performance loss?<br>Thanks for the hint! <br><br></td></tr></table><br>
<a name="362657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Huh, that's certainly Italian English ;)<br><br>@ soja, don't get him rolled into that type stuff from the beginning, at least not until there is a task complicated enough to justify it. <br><br></td></tr></table><br>
<a name="362664"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz performs math very quickly. It can do several million calculations per second.. :) You won't take a performance hit by using a calculation as often as u want. For example:<br><pre class=code>
For I = 1 To 1000000
A=12*10
Next
Print "DONE"
</pre><br>This should take less than half a second to complete. And changing it do a division (a slightly longer CPU process) only takes about 4 hundreths of a second longer. Thats a million divisions in half a second. You aren't going to have any problems. :)<br><br>+BlackD <br><br></td></tr></table><br>
<a name="362669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackD</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't get him rolled into TYPE stuff? :D I avoided using types for years over a decade and now that I figured them out I can't stop using them. So useful. :) <br><br></td></tr></table><br>
<a name="362679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Addicted to his misuse <br><br></td></tr></table><br>
<a name="362697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Valgar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haha sorry for my italian english!<br>I hope to learn better english as i hope to learn better blitz (and i think that i just made another italianished typo...o_O ) <br><br></td></tr></table><br>
<a name="362827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reference vars.. anyone ? I keep asking for it in 'suggest ideas' topics .. :) QBasic already had this.. basicly every var in a function call was a reference, unless you put a () around it ..  so: bla((a),b,c)  meant that b and c were references while a is not.<br><br>this update for blitz would be cool:<br><pre class=code>
x=4
y=5
z=3
convert3d(x,y,z)

end

function convert3d(&amp;x,&amp;y,z)
  x=x/z
  y=y/z
end function
</pre> <br><br></td></tr></table><br>
<a name="362835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CyberHeater</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd prefer that the language keep to the simpler form.<br><br>From the official discription of Blitz3D on this website.<br><br>"Blitz3D provides a simple yet powerful environment for game creation - simple, because its based around the popular and easy to use BASIC programming language; and powerful, thanks to a highly optimized underlying 2D/3D engine." <br><br></td></tr></table><br>
<a name="362842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> do you really think that a reference var makes blitz-life more miserable ?? <br><br></td></tr></table><br>
<a name="363307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AbbaRue</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use an array in your function you can have it return as many values as you want. <br>And once the values are passed, you can use the same array over and over again.  <br>The array can be a lot larger then you need, and then you just use as much of it as you need.  <br>I would leave the 'Function Return' for a flag to let you know that the function worked OK. <br><br></td></tr></table><br>
<a name="364062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey question.. what would be the best way to return a mesh from a function ?  I have a function that modifies a mesh passed in, and then I do an addmesh to put the two different meshes together, I want to be able to return the newly created mesh.. how would I specify that, that function returns a mesh ? <br><br></td></tr></table><br>
<a name="364068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tiger</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not use a bank to return multi-values? <br><br></td></tr></table><br>
<a name="364072"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> explain banks... I want to learn how to use them.. and what they are. <br><br></td></tr></table><br>
<a name="364076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> A bank is just a chunk of memory, you can write all kind of stuff. Every position is 1 byte large, so if you write an integer to position 0, it will take up position 0 to 3. Pretty much like a file. <br><br></td></tr></table><br>
<a name="364089"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> okay, then could I use this to return a mesh from a function ?  Like a newly combined mesh from 2 different meshes I used addmesh on..  What I did, was change teh Cel-Shaded function so that instead of parenting the entity to the other one, I made it addmesh the lines one to the shaded one, then freed the lines one, and am attempting to return the newly created mesh, can't I just use return mesh ?  and if so, what identifier do I put at the end of the function name to identify the return type as a mesh ? <br><br></td></tr></table><br>
<a name="364092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, would using a bank be faster than using an array ?  Like instead of an array of integers, like for my grid layout info, because aren't banks supposed to be really fast ?  Poking values, and Peeking values to read from them ? <br><br></td></tr></table><br>
<a name="364106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, just use 'return mesh' to pass the mesh handle back to the caller. You don't need to specify a return type in the function name as blitz functions return integers by default, and mesh handles are integers. <br><br></td></tr></table><br>
<a name="364111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks big10p, do I denote some sinisism in your voice ?  That is what I thought I was returning was a handle, but wasn't sure that was what I wanted.  So the handle to that mesh will be fine for using the saveB3D functions...  Okay, just wondered, if I should use the object and handle functions etc..  Sorry, my brain is fried though big10p, I only have 900+ lines of code in so far, in a total of 4 functions....<br><br>Give me a break.. even Carmack needs to ask a stupid question every now and then. <br><br></td></tr></table><br>
<a name="364114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>do I denote some sinisism in your voice ? <br> <br></div><br><br>*confused* Not at all. I'm not sure why you think that, I was just trying to answer your question. ;) <br><br></td></tr></table><br>
<a name="364119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Valgar</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't noticed any sinisism also :)<br>Excuse but for me most fo the people around blitz are very greath people indeed!<br>I have modified ALL mi routines to use multiple array to pass value out function,and works greath!<br>But i have noticed that if i use many complex calculation (like sin,cos,arc and similar...)into a type......well with 20 object on screen my speed come down to a crawl.....maybe i can build look-up tables?? <br><br></td></tr></table><br>
<a name="364132"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know, was just kidding, everyone on these forums are great.  I have been to bad forums, meaning on 3dRad forums, and gotten no response, or smart remarks, or bad advice, or too many questions back to justify even asking a question, I love blitz3D compared to 3DRad, I have used both extensively, and Blitz3D is alot more powerful, the users are more friendly and willing to help out, without the responses I have gotten here in the forums, I might have finished my games, but it would have taken months longer. ;')<br><br>Thanks again to everyone, I really appreciate the help. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
