<!DOCTYPE html><html lang="en" ><head ><title >RectsOverlap  problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >RectsOverlap  problem</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >RectsOverlap  problem</a><br><br>
<a name="280357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >crash_master25</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!!<br><br>I'm working in a Snake like game in 2D... This is my first game in Blitz and I'm learning the language... <br>I have <br>Type worm<br>  Field X, Y, H, W<br>end type<br>and the same for Walls, and food<br>now.. the localization for the walls is readed from Data wich have Level, #of walls, #of food, and the coods for each wall<br>thats ok, and works fine... I can draw each wall without problem, but the problem is that in the food the X, Y cords are Random and sometimes the food is behind the walls... then I use this:<br><br>For I = 1 To TotalC ;which is the total of food<br>  F.Food = New Food ;Create a Food<br>  Repeat<br>    Ok = False<br>    XF = Rnd(530)  ;X cord of the food<br>    YF = Rnd(470)  ;Y Cord of the food<br>    HF = 10  ;constant<br>    WF = 10  ;Constant<br>    For W.Wall = Each Wall  ;all wall coords are here<br>      XW = W\X  ;X coord of wall<br>      YW = W\Y  ;Y coord of wall<br>      HW = W\A  ;Height of wall<br>      WW = W\G  ;Width coord of wall<br>      If RectsOverlap(XF,YF,HF,WF,XP,YP,AP,GP) Then <br>        OK = False<br>      else<br>	OK = True<br>      End If		<br>    Next<br>  Until OK = True<br>  F\X = XF ; new coord without wall<br>  F\Y = YF<br>Next<br><br>But the problem is that the food still behind the wall... <br><br>and really I don't know why<br><br>Can you help me???<br><br>Thanks <br>Bruno Chavez <br><br></td></tr></table><br>
<a name="280446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem might be you do not bail out of your For loop if not OK.  Try OK=False : Exit <br><br></td></tr></table><br>
<a name="280475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Neo Genesis10</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You dont state what the arguments are in RectsOverlap. The variables YP, AP and GP arent mentioned in your code. Try replacing this line:<pre class=code>If RectsOverlap(XF,YF,HF,WF,XP,YP,AP,GP)</pre>With this one:<pre class=code>If RectsOverlap(XF,YF,HF,WF,XW,YW,WW,HW)</pre>If I've read your code correctly, you're checking to see if there is an overlap between the food item and the current wall in the loop, but you dont check the wall variables. <br><br></td></tr></table><br>
<a name="280527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >crash_master25</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry... Was an error while posting the code here, I'm useing <br><br>If RectsOverlap(XF,YF,HF,WF,XW,YW,WW,HW) <br><br>Thanks <br>Bruno Chavez <br><br></td></tr></table><br>
<a name="280528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >crash_master25</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I update with the <br><br>OK=False : Exit <br><br>but still the problem...<br><br>That is strange...<br><br>Thanks<br>Bruno chavez <br><br></td></tr></table><br>
<a name="280554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rottbott</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: Nevermind. <br><br></td></tr></table><br>
<a name="280561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >crash_master25</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep... <br><br>Thanks a lot...<br><br>was OK : False : exit<br><br>Thanks <br>Bruno Chavez <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
