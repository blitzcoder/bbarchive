<!DOCTYPE html><html lang="en" ><head ><title >Program isn't updating a variable that changes?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Program isn't updating a variable that changes?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Program isn't updating a variable that changes?</a><br><br>
<a name="1264361"></a>

<a name="1264362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Liimbix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all, I know I've been posting a lot and I hope I'm not annoying, but I think I'm having a problem again. I have this code:<br><br><pre class=code>
If KeyHit(35)=True And helm=1 Then
helm=0
EndIf

If KeyHit(35)=True And helm=0 Then
helm=1
EndIf

If helm=1 Then
ShowEntity helmet
Else
HideEntity helmet
EndIf 

</pre><br><br>in my main "while" loop. But it only works once. The game starts with the helmet on, but then if you press "H", it goes off, like it should. But if you press "H" again to put it on, nothing happens.. I put this code before my Update world / Render world, and after it, but it doesn't seem like it's registering the variable change. Help? Thanks (:<br><br>EDIT: I just put some debug text on the screen to track the variable "helm" and once you press "H", and it switches to 0, then if you press it again, it doesnt go back to 1. So the show/hide entity isnt the problem. It's 'helm" updating (or lack thereof) <br><br></td></tr></table><br>
<a name="1264375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are using keyhit incorrectly.<br><br>Key hit counts the number of times the key has been pressed since the last time the function was called.<br><br>Therefore the value will always be zero for keyhit in your second if statement.<br><br>Instead store the value of keyhit in a variable once per loop and check the variable instead. <br><br></td></tr></table><br>
<a name="1264395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As above.  You could also just simplfy the code to the following ...<br><br><pre class=code>
If Keyhit(35)
  Helm = 1 - Helm
  If Helm = 1
    Showentity Helmet
  else
    Hideentity Helmet
Endif
</pre> <br><br></td></tr></table><br>
<a name="1264432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Liimbix</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Stevie G and Matty, both were insightful :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
