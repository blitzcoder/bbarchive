<!DOCTYPE html><html lang="en" ><head ><title >align an entity to a terrian?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >align an entity to a terrian?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >align an entity to a terrian?</a><br><br>
<a name="1017589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> For my little game, I'm trying to make it so that character "aligns"  to the terrian. It sounds kind of confusing,but think of a racing game, when the car is on a bumpy terrain. The car "bumps" with the terrain, rather than just staying still. can someone help me out with this? please reply.later. <br><br></td></tr></table><br>
<a name="1017621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, try something like:<br>(this is a fragment of code)<br><br><pre class=code>
;set graphics mode, camera, light, etc..
;load a terrain.. Terr = loadterrain(....)
;give it a pickmode 

EntityPickMode Terr,2


Temp=CreateCube()


While Not(KeyHit(1))

	RenderWorld
	
	x=MouseX()
	y=MouseY()
	Line x-5,y-5,x+5,y+5
	Line x-5,y+5,x+5,y-5
	
	CameraPick(Camera,MouseX(),MouseY())
	If PickedEntity() Then
		PositionEntity Temp,PickedX#(),PickedY#(),PickedZ#(),1
		AlignToVector Temp,PickedNX#(),PickedNY#(),PickedNZ#(),2
	End If
		
	Flip

Wend
</pre><br><br>there are other picking commands you may use.<br><br>hope that help<br><br>Juan <br><br></td></tr></table><br>
<a name="1017626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oiduts Studios</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well if your talking about aligning with blitz terrains (height-map terrains) then you can use the TerrainY command. Or if you are using mesh terrains then you can use the Linepick command and point the pick downwards so you can get y-coordinate under the players feat and position the player there. <br><br></td></tr></table><br>
<a name="1017627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The "driver" sample in the "mak" folder of your samples directory that came with blitz3d should help with this, there are also some code archives such as:<br><br><a href="http://blitzbasic.com/codearcs/codearcs.php?code=67" target="_blank">http://blitzbasic.com/codearcs/codearcs.php?code=67</a> <br><br></td></tr></table><br>
<a name="1017631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua<br>It's a nice code, put the alignment works with the mouse and it gets VERY glitchy. <br>Here's the code if you want to know what I mean better.<br>;Lego Island Rescue;<br>Graphics3D 1366,768,32,1<br>SetBuffer BackBuffer ()<br><br>Const GRAVITY#=-1.5<br><br>Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3<br>Const TYPE_SCENERY=10,TYPE_TERRAIN=11<br><br>Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3<br>Collisions TYPE_PLAYER,TYPE_SCENERY,2,2<br>Collisions TYPE_TARGET,TYPE_TERRAIN,2,2<br>Collisions TYPE_TARGET,TYPE_SCENERY,2,2<br><br>;Lego Island;<br>island=LoadMesh("media/tower.b3d")<br>islandtex=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island,0,-150,60<br>ScaleEntity island,4,4,4<br>EntityFX island,0<br>EntityType island,TYPE_TERRAIN<br><br>;Lego Island;<br>island2=LoadMesh("media/tower.b3d")<br>islandtex2=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island2,0,-150,5360<br>ScaleEntity island2,4,4,4<br>EntityFX island2,0<br>EntityType island2,TYPE_TERRAIN<br><br>;player;<br>player=CreateCube()<br>PositionEntity player,0,100,0<br>ScaleEntity player,4,4,4<br>EntityType player,TYPE_PLAYER<br><br>;water;<br>water = CreatePlane ()<br>h20 = LoadTexture ("media/water_tex.jpg",256)<br>ScaleTexture h20, 200, 200<br>EntityTexture water, h20<br>EntityAlpha water, 0.4<br>PositionEntity water,0,-140,60<br>EntityFX water,1<br>EntityType water,TYPE_TERRAIN<br><br>;light;<br>light=CreateLight()<br><br>;camera (AKA the player);<br>camera=CreateCamera(target)<br>EntityRadius camera,30<br>PositionEntity camera,0,100,-50<br>MoveEntity camera,0,3,-50 <br>EntityType camera,TYPE_TARGET<br><br>;target;<br>target=CreatePivot( player )<br>MoveEntity Target,0,3,-50 <br><br>;sky/fog/range;<br>CameraFogMode camera,1<br>CameraFogColor camera,200, 220, 255<br>CameraRange camera, 1,5500<br>CameraFogRange camera,1,2500-10<br>CameraClsColor camera,200,220,255<br><br>EntityPickMode island,2<br><br><br>;move camera;<br>While Not KeyDown(1)<br><br>	x=MouseX()<br>	y=MouseY()<br>	Line x-5,y-5,x+5,y+5<br>	Line x-5,y+5,x+5,y-5<br>	<br><br>	If PickedEntity() Then<br>		PositionEntity player,PickedX#(),PickedY#(),PickedZ#(),1<br>		AlignToVector player,PickedNX#(),PickedNY#(),PickedNZ#(),2<br>	End If<br>		<br><br>TranslateEntity player,0,GRAVITY,0<br>TranslateEntity camera,0,GRAVITY,0<br>If KeyDown(200)<br>MoveEntity player,0,0,2<br>EndIf<br>If KeyDown(208)<br>MoveEntity player,0,0,-2<br>EndIf<br>If KeyDown(203)<br>TurnEntity player,0,3,0<br>EndIf<br>If KeyDown(205)<br>TurnEntity player,0,-3,0<br>EndIf<br>If Not KeyDown(1)<br>dx#=EntityX( target,True )-EntityX( camera )<br>		dy#=EntityY( target,True )-EntityY( camera )<br>		dz#=EntityZ( target,True )-EntityZ( camera )<br>		TranslateEntity camera,dx*.2,dy*.1,dz*.2<br>		EndIf<br>	    PointEntity camera,player<br><br><br><br>UpdateWorld<br>RenderWorld<br>Flip<br>Wend<br>End <br><br></td></tr></table><br>
<a name="1017636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> as other sugested, you can do a line pick, the thing is, that if you do some pick (mouse with camera pick is easy to implement) then you get the x,y,z and the normal of the surface picked on that point. The yaw should be corrected, because a normal is that, a perpendicular to the surface but, probably not correctly oriented. I sugest the driver demo pointed above too, i dont remembered that one. <br><br>btw, enclose the code with: (code) .... (/code)<br>wiht square brackets  (see forum codes)<br><br>Juan <br><br></td></tr></table><br>
<a name="1017745"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I actually am trying to make my own code. This is it so far, but it says that the index is out of range! I know that it probably won't do anything to help my problem, but can someone help me out with my code?<br><br>;Lego Island Rescue;<br>Graphics3D 1366,768,32,1<br>SetBuffer BackBuffer ()<br><br>Const GRAVITY#=-1.5<br><br>Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3<br>Const TYPE_SCENERY=10,TYPE_TERRAIN=11<br><br>Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3<br>Collisions TYPE_PLAYER,TYPE_SCENERY,2,2<br>Collisions TYPE_TARGET,TYPE_TERRAIN,2,2<br>Collisions TYPE_TARGET,TYPE_SCENERY,2,2<br><br>;Lego Island;<br>island=LoadMesh("media/tower.b3d")<br>islandtex=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island,0,-150,60<br>ScaleEntity island,4,4,4<br>EntityFX island,0<br>EntityType island,TYPE_TERRAIN<br><br>;Lego Island;<br>island2=LoadMesh("media/tower.b3d")<br>islandtex2=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island2,0,-150,5360<br>ScaleEntity island2,4,4,4<br>EntityFX island2,0<br>EntityType island2,TYPE_TERRAIN<br><br>;player;<br>player=CreateCube()<br>PositionEntity player,0,100,0<br>ScaleEntity player,4,4,4<br>EntityType player,TYPE_PLAYER<br><br>;water;<br>water = CreatePlane ()<br>h20 = LoadTexture ("media/water_tex.jpg",256)<br>ScaleTexture h20, 200, 200<br>EntityTexture water, h20<br>EntityAlpha water, 0.4<br>PositionEntity water,0,-140,60<br>EntityFX water,1<br>EntityType water,TYPE_TERRAIN<br><br>;light;<br>light=CreateLight()<br><br>;camera (AKA the player);<br>camera=CreateCamera(target)<br>EntityRadius camera,30<br>PositionEntity camera,0,100,-50<br>MoveEntity camera,0,3,-50 <br>EntityType camera,TYPE_TARGET<br><br>;target;<br>target=CreatePivot( player )<br>MoveEntity Target,0,3,-50 <br><br>;sky/fog/range;<br>CameraFogMode camera,1<br>CameraFogColor camera,200, 220, 255<br>CameraRange camera, 1,5500<br>CameraFogRange camera,1,2500-10<br>CameraClsColor camera,200,220,255<br><br>;my failed alignment code;<br>islandx=CollisionX( island,1 )<br>islandy=CollisionY( island,1 )<br>islandz=CollisionZ( island,1 )<br><br><br><br>;move camera;<br>While Not KeyDown(1)<br>;====where the failed alignment happens=======;<br>AlignToVector player,islandx,islandy,islandz,2<br>;=============================================;<br>TranslateEntity player,0,GRAVITY,0<br><br>TranslateEntity camera,0,GRAVITY,0<br>If KeyDown(200)<br>MoveEntity player,0,0,2<br>EndIf<br>If KeyDown(208)<br>MoveEntity player,0,0,-2<br>EndIf<br>If KeyDown(203)<br>TurnEntity player,0,3,0<br>EndIf<br>If KeyDown(205)<br>TurnEntity player,0,-3,0<br>EndIf<br>If Not KeyDown(1)<br>dx#=EntityX( target,True )-EntityX( camera )<br>		dy#=EntityY( target,True )-EntityY( camera )<br>		dz#=EntityZ( target,True )-EntityZ( camera )<br>		TranslateEntity camera,dx*.2,dy*.1,dz*.2<br>		EndIf<br>	    PointEntity camera,player<br><br><br><br>UpdateWorld<br>RenderWorld<br>Flip<br>Wend<br>End <br><br></td></tr></table><br>
<a name="1017751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi<br><br>CollisionX, Y and Z are 3d cords, and should be used to position an entity.<br>If you want to align to a vector, you should use CollisionNX, NY, NZ, these are quantities from 0.. to 1 and they are used for vetors.<br><br>CollisisonX, Y and Z tells the world coords of the collision.<br>CollisisonNX, NY and NZ tells the normal (a perpendicular to) the surface collided. They are different thigs.<br><br>The normal may be used to know the direction for a bouncing ball or in your case the direction of a stand up player in the terrain.<br><br>Remember that, the terrain seems to be smooth but it isn't and from one Surface (triangle) to the next, the diference in orientation should be noticeable if you align to the normal. I supose you may have to smooth the transitions from one vector to the next in some way.<br><br>Juan <br><br></td></tr></table><br>
<a name="1017764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua<br>Thanks for the explaination, it really cleared things up, but when I try to run my code, no matter what integer or floating integer I use, it says that the index was out of range. I checked the Blitz3d manual ( both on the website and in real life )and it never really me anything. Can you help me out? <br><br></td></tr></table><br>
<a name="1017777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi<br><br>you place your player and your terrain, but you don't know if their collided. You asume that and call CollisionX(entity,index) if there are no collisions, index surely will be out of range. You have to CountCollisions <br><br>say, let Gravity do their job, Count for collisions (one day the player will land) and in this moment you can get CollisionX, Y and Z<br>from the help!: <br><br>"CollisionX# ( entity,index )<br>Parameters<br>entity - entity handle <br>index - index of collision  <br><br>Description<br>Returns the world x coordinate of a particular collision. <br><br>Index should be in the range 1...CountCollisions( entity ) inclusive. <br>"<br><br>in your mai loop test: if CountCollisions(island)&lt;&gt; 0 then<br><br>and if it's true, get CollisionX, Y, Z, do whatever, but remember that x,y,z are for position, use CollisionNX, NY, NZ for vetor alignement.<br><br><br>Juan <br><br></td></tr></table><br>
<a name="1017884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua<br>The code doesn't get that annoying out of range message anymore, but the player still doesn't align with the island. Do you think that my code was pretty much useless from the start? Heres the fixed but still failed version of my code:<br>;Lego Island Rescue;<br>Graphics3D 1366,768,32,1<br>SetBuffer BackBuffer ()<br><br>Const GRAVITY#=-1.5<br><br>Const TYPE_PLAYER=1,TYPE_TARGET=3,TYPE_WATER=3<br>Const TYPE_SCENERY=10,TYPE_TERRAIN=11<br><br>Collisions TYPE_PLAYER,TYPE_TERRAIN,2,3<br>Collisions TYPE_PLAYER,TYPE_SCENERY,2,2<br>Collisions TYPE_TARGET,TYPE_TERRAIN,2,2<br>Collisions TYPE_TARGET,TYPE_SCENERY,2,2<br><br>;Lego Island;<br>island=LoadMesh("media/tower.b3d")<br>islandtex=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island,0,-150,60<br>ScaleEntity island,4,4,4<br>EntityFX island,0<br>EntityType island,TYPE_TERRAIN<br><br>;Lego Island;<br>island2=LoadMesh("media/tower.b3d")<br>islandtex2=LoadTexture("media/Untitled2.png",256)<br>PositionEntity island2,0,-150,5360<br>ScaleEntity island2,4,4,4<br>EntityFX island2,0<br>EntityType island2,TYPE_TERRAIN<br><br>;player;<br>player=CreateCube()<br>PositionEntity player,0,100,0<br>ScaleEntity player,4,4,4<br>EntityType player,TYPE_PLAYER<br><br>;water;<br>water = CreatePlane ()<br>h20 = LoadTexture ("media/water_tex.jpg",256)<br>ScaleTexture h20, 200, 200<br>EntityTexture water, h20<br>EntityAlpha water, 0.4<br>PositionEntity water,0,-140,60<br>EntityFX water,1<br>EntityType water,TYPE_TERRAIN<br><br>;light;<br>light=CreateLight()<br><br>;camera (AKA the player);<br>camera=CreateCamera(target)<br>EntityRadius camera,30<br>PositionEntity camera,0,100,-50<br>MoveEntity camera,0,3,-50 <br>EntityType camera,TYPE_TARGET<br><br>;target;<br>target=CreatePivot( player )<br>MoveEntity Target,0,3,-50 <br><br>;sky/fog/range;<br>CameraFogMode camera,1<br>CameraFogColor camera,200, 220, 255<br>CameraRange camera, 1,5500<br>CameraFogRange camera,1,2500-10<br>CameraClsColor camera,200,220,255<br> <br> If CountCollisions(island)&lt;&gt; 0 Then<br>;my failed alignment code;<br>islandx=CollisionNX( island,1 )<br>islandy=CollisionNY( island,1 )<br>islandz=CollisionNZ( island,1 )<br>EndIf<br><br>;move camera;<br>While Not KeyDown(1)<br>;====where the failed alignment happens=======;<br>AlignToVector player,islandx,islandy,islandz,2<br>;=============================================;<br><br>TranslateEntity player,0,GRAVITY,0<br>TranslateEntity camera,0,GRAVITY,0<br>If KeyDown(200)<br>MoveEntity player,0,0,2<br>EndIf<br>If KeyDown(208)<br>MoveEntity player,0,0,-2<br>EndIf<br>If KeyDown(203)<br>TurnEntity player,0,3,0<br>EndIf<br>If KeyDown(205)<br>TurnEntity player,0,-3,0<br>EndIf<br>If Not KeyDown(1)<br>dx#=EntityX( target,True )-EntityX( camera )<br>		dy#=EntityY( target,True )-EntityY( camera )<br>		dz#=EntityZ( target,True )-EntityZ( camera )<br>		TranslateEntity camera,dx*.2,dy*.1,dz*.2<br>		EndIf<br>	    PointEntity camera,player<br><br><br><br>UpdateWorld<br>RenderWorld<br>Flip<br>Wend<br>End <br><br></td></tr></table><br>
<a name="1017893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> i didn't test it, but, let me explain better.<br><br>Gravity pull's the player down a little each While... EnWhile main loop.<br><br>before entering, there will be no collisions (if the player is high enough from the terrain). Inside the main loop, some day ( many frames ahead in time) the player will land.<br>You have to test, each loop for Player - Island collision, and use the collision information: CollisionNX, NY, NZ to do the allignement part.<br><br>i don't thing that it's uselees, we start from an idea, test it and if it works, it's OK. Its better a small idea working that some better ones not coded, isn't it?<br><br>Juan <br><br></td></tr></table><br>
<a name="1017903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> again<br><br>first, you define the camera as child of target, but you define target before.<br><br>try this in the main loop, and be carefull wiht the player-pivot-camera relationships. I think you have to start with a non moveable camera seen the centre, till you are sure that the cube alignement work.<br><br><pre class=code>
While Not KeyDown(1)
	If CountCollisions(island)&lt;&gt; 0 Then
		islandx=CollisionNX( island,1 )
		islandy=CollisionNY( island,1 )
		islandz=CollisionNZ( island,1 )
		AlignToVector player,islandx,islandy,islandz,2
	EndIf
	
	;rest of you code
	UpdateWorld

	RenderWorld

	Flip

Wend
</pre><br><br>juan <br><br></td></tr></table><br>
<a name="1017914"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua<br>well, I guess it is a good start, but I don't think that I know enough about this kind of stuff to actually make satisfactional results. You seem to know more about this than I do. In your opinion, what would be the easiest way of doing this alignment tecniuque? <br><br></td></tr></table><br>
<a name="1017943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua<br>Ignore what I wrote above this. I guess that we posted at the same time and my post got on the forums before your's did:) It actually works! But I have just one last question. How do I make it so that when the player isn't colliding with the island, it stays flat? <br><br></td></tr></table><br>
<a name="1017954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Charrua</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> last?<br>don't belive you, are you planning to stop programming?<br><br>align the player with a fixed vector, pointing to where you want.<br>Do as if it where colliding wiht a horizontalplane. <br>AlingnToVector Player, 0, 1, 0, 2<br><br>try the last and ommited parameter of this alignment command, to smooth transitions.<br><br><br>something like:<br><pre class=code>
smooth=True

While Not( KeyHit(1))
	
	If KeyHit(57) Then smooth = Not(smooth)	;press space to turn on/off smooth
	
	If CountCollisions(island)&lt;&gt; 0 Then
		;my failed alignment code;
		islandx=CollisionNX( island,1 )
		islandy=CollisionNY( island,1 )
		islandz=CollisionNZ( island,1 )
		If smooth Then
			AlignToVector player,islandx,islandy,islandz,2,0.1	;last parameter = .1
		Else
			AlignToVector player,islandx,islandy,islandz,2	;last parameter ommited: Default=1 = no smooth
		End If
	Else
		;if not colliding, then align to a vertical vector: 0,1,0
		If smooth Then
			AlignToVector player, 0, 1, 0, 2, 0.1
		Else
			AlignToVector  player, 0, 1, 0, 2
		End If
	EndIf

	;rest of your code

	RenderWorld

	Flip

Wend
</pre><br><br>Juan <br><br></td></tr></table><br>
<a name="1018063"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cubed Inc.</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Charrua<br>Stop programming? I just started programming! Why would I stop? This is my last post on THIS topic:) The code works like a charm. thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
