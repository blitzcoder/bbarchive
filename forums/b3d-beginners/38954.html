<!DOCTYPE html><html lang="en" ><head ><title >animation affecting game code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >animation affecting game code</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >animation affecting game code</a><br><br>
<a name="433495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sec05</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there,<br><br>I used biped animation in max and following a tutorial I found on the net, I exported it as a SMD format, and exported it out as a b3d format in milkshape.<br><br>The problem is my code no longer works. Here's a snip of my code:<br><br>Global gravity#<br><br>; loads the environment and my animated character<br>scene = LoadAnimMesh("env.b3d")<br>player = LoadAnimMesh("player.b3d")<br><br>ScaleEntity player, 0.5, 0.5, 0.5<br>PositionEntity player, 0, -77, 0<br>EntityType player, type_player<br>EntityRadius player, 2, 7.5<br><br>; ground is a plane in my scene<br>ground = FindChild(scene, "ground")<br>EntityType ground, type_ground<br><br>; setups collision<br>Collisions type_player, type_ground, 2, 3<br><br>While Not KeyHit(1)<br>gravity# = gravity# - .08<br><br>If EntityCollided(player, type_ground) Then<br>   gravity# = 0<br>EndIf<br>	<br>TranslateEntity player, 0, gravity#, 0<br><br>UpdateWorld<br>RenderWorld<br>	<br>Flip<br><br>Wend<br><br>End<br><br>I try applying simple gravity to my player but the problem is when the game loads, the character just fell through the ground. <br><br>I also tried using the FindChild command to refer to my player (works for bones animation though if I use the  FindChild command, but it doesn't seem to work for biped) but when the game loads, it returns with a memory access violation.<br><br>Anyone knows why? <br><br></td></tr></table><br>
<a name="433512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I assume somewhere near the beginning of your program you define what values type_ground and type_player are?<br><br>I haven't messed much with 3D animation as of yet, but on a couple of projects I found it easiest to create a pivot, then parent the animated entity to the pivot, then do all my movement, collisions, etc... on the pivot. <br><br></td></tr></table><br>
<a name="433723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CodeOrc</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In addition to what TomToad said, I do not see the;<br><br>ExtractAnimSeq(player_model,x,x)<br>or the <br>Animate player_model,x<br><br>I have to use both of those in my code or my anim's do not work. I export my models from MAX as B3D using the MAX&gt;B3D Pipeline.<br><br>Hope that helps. <br><br></td></tr></table><br>
<a name="435110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> you need to assign a value above zero to entity types<br><br>try adding<br>global type_player=1<br>global type_ground=2<br><br>each entity group needs it own entitytype eg different value<br><br>btw collisions is only relative to the moving entity<br><br>Collisions type_player, type_ground, 2, 3 <br>will only check if entity player hit entity ground<br>and not vice verser<br><br>add a reversed set if checking 2 entitys for collision<br>eg Collisions type_player2, type_player1, 2, 3 <br>eg Collisions type_player1, type_player2, 2, 3 <br>not forgetting to do globals at start of code :)<br><br>this also lets you work out who hit who o/ <br><br></td></tr></table><br>
<a name="436319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sec05</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, thanks for the reply.<br><br>The problem is when I use a 3ds file (using bones in max to animate) there is collision happening.<br><br>When I change the file format to b3d (using biped) it never have collision. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
