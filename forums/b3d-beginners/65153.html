<!DOCTYPE html><html lang="en" ><head ><title >Sneaking past guards</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sneaking past guards</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Sneaking past guards</a><br><br>
<a name="727176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kinkobal</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all<br><br>I'm making a small fps shooter game and I want to have guards patrolling at different places in the level. How can I make guards detect the player when he is within the view of the guard? <br>I can imagine something like checking angles (if the guards view is 45 deg for example) but I can't for the life of me figure out how to check if the player is within the guards view...<br><br>It would be great if the solution took occlusions into account (so you could hide behind a wall)<br><br>Thanks in advance <br><br></td></tr></table><br>
<a name="727201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> On this link I found a nice example for using EntityVisible:<br><a href="http://www.blitzbase.de/befehle3d/entityvisible.htm" target="_blank">http://www.blitzbase.de/befehle3d/entityvisible.htm</a> <br><br></td></tr></table><br>
<a name="727225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could create a mesh shaped like a cone, hide it and place it at the guard's eyeline. Finally, parent it to the guard's head bone. Now  you have a real cone of vision, which even follows the animation of the guard moving his head.<br><br>Then you can just create a sphere which approximates the size of the player and see if that sphere intersects your cone of vision, the player can be seen. If not, he can't. Should be plenty fast and accurate. <br><br></td></tr></table><br>
<a name="727273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should be able to find a few posts on the matter with included mesh cone object in one of the forums. <br><br></td></tr></table><br>
<a name="727276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could place a pivot at the enemies eyes and then point it at the player.<br><br>Do a linepick from this pivot to the player and if the line pick succeeds compare the yaw of the pivot to the yaw of the enemy mesh.<br><br>Finally test if the yaw angle is below a certain value and that would mean the player is within the enemies lateral field of vision.<br><br>That is the simplest, if maybe not most efficient way I can think of. <br><br></td></tr></table><br>
<a name="727389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> try this link:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=59805#667611" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=59805#667611</a> <br><br></td></tr></table><br>
<a name="727976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kinkobal</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Guys, the problem is solved <br><br></td></tr></table><br>
<a name="728688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sir Gak</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just curious, but what was the solution that worked for you? <br><br></td></tr></table><br>
<a name="729929"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kinkobal</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used the canSeeEntity() function from www.blitzbasic.com/Community/posts.php?topic=59805#667611 <br><br>Worked porfectly <br><br></td></tr></table><br>
<a name="730135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nebula</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> A loud footstep would be hearable, while a soft or unhearable sneak walk would not hearable. We have ears. Volume and distance are important as is light level and clock nose angle.<br>You could also the harddisk to see if the player is quiet. The hardisk is a recorder and a sound box as well. It records vibrations and stores this. So if a player is frustrated he would get caught. However this is profesional programming(book C++). <br><br></td></tr></table><br>
<a name="730140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could set distance sound checks based on a radius, if the player is within a few metres and walking the guard will hear his presence even if behind depending on the surface ie hard floor, if he is running it can be a larger distance. <br><br></td></tr></table><br>
<a name="730635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> One more thing: you may consider to implement a light detector as seen in splinter cell. It's kind of a single sensor for global illumination, gathering how bright the players location is lit. So if he's sneaking in the dark, the guards should ignore him. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
