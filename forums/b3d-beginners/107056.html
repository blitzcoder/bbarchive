<!DOCTYPE html><html lang="en" ><head ><title >Include file path [SOLVED]</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Include file path [SOLVED]</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Include file path [SOLVED]</a><br><br>
<a name="1323174"></a>

<a name="1323175"></a>

<a name="1323251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikorians</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Am I STUCK with:<br><br>Include "D:\Program Files\Blitz3D\Include\FastExt.bb"<br><br>Because<br><br>Include (GetEnv$("BlitzPath")+...)<br><br>Doesn't work of course...<br>Anything in the parser for replacing text?<br>I have a lot of includes and dll's<br><br>I'm not forgetting something fundamental am I? <br><br></td></tr></table><br>
<a name="1323179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Consider the FastExt.bb file relative to your main file or the source file that calls it. No need to use GetEnv for that. <br><br></td></tr></table><br>
<a name="1323188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikorians</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> "..\..\folder" ?<br>My program's on another 3 machines on different drives...<br>Sigh.  Not in the Blitz folder on any. <br><br></td></tr></table><br>
<a name="1323189"></a>

<a name="1323190"></a>

<a name="1323191"></a>

<a name="1323192"></a>

<a name="1323194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, just copy it beside it. What's the problem??? I was using FastExt.bb or any other lib with include.<br><br><div class="quote"> I'm not forgetting something fundamental am I?  <br></div><br><br>The fundamental thing to do is make your setup easy, cause you're the one who is using it. :-)<br><br><div class="quote"> My program's on another 3 machines on different drives... <br></div><br><br>This is not a fundamental thing to do. Are you kidding me? You are giving yourself a hard time. <br><br></td></tr></table><br>
<a name="1323205"></a>

<a name="1323206"></a>

<a name="1323207"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikorians</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some have C: as the install drive, some are D:<br>Some are XP, some are W10.<br>The folders and HDD's are just arranged differently.<br>So... You'd have me reorder the whole systems?<br><br>I know, I know. It all sounds dumb.<br>I guess I'll just put the includes with my program and bag it.<br><br>But what I'm ASKING is- Relative path. Ok.<br>No OTHER command options, directives, #Defines or<br>Anything else I should know/remember that I forgot<br>with regards to the Blitz Parser? <br><br></td></tr></table><br>
<a name="1323208"></a>

<a name="1323209"></a>

<a name="1323210"></a>

<a name="1323211"></a>

<a name="1323212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, if you're into programming, it is unusual to use absolute paths. It should be all relative paths.<br><br>But if you're persistent with the GETENV question, Blitz does not allow to use arbitrary or variable string in Include command, that is why it is either you hard code the full absolute path or use relative path which is the commonly used method.<br><br>See online manual, under splinux comment, that will answer your question. :-)<br><br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=include&amp;ref=goto" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=include&amp;ref=goto</a><br><br><div class="quote"> <br>Anything else I should know/remember that I forgot<br>with regards to the Blitz Parser?  <br></div><br><br>No clue what you still missed regarding blitz3d parser, but you can always ask and post your question here. <br><br></td></tr></table><br>
<a name="1323213"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> As a follow up note, since Blitz3D is now open source, there's no one stopping you at what you're trying to do with getenv and include.<br><br>If you're familiar with C++ then perhaps just modify the commands at your own disposal and make it your own version. <br><br></td></tr></table><br>
<a name="1323217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Include are preprocessor stuff, you can't use "runtime" expression with "compiled" expression (in other words, a Constant can't be modified ... which makes sense), so GetEnv won't work, and there is probably no real way to do it even by modifying the blitz3d sources unless you hard code the system environment variables to your code ... and whatever, "Include" command won't let you "add" an expression to another with or without constant expressions because strings are computed at "runtime", not at "compile" time.<br><br>Then, you're running a blitz source from your local network ?<br><br>Well, I did it all the time without further problem, all you need is to set the static pathes to the computer that holds the include file. (but remember decls need to be in the running blitz3d userlibs folder, eventually, the dll (if any) can be in the folder of your application)<br>-&gt; So, if you have a shared source folder in your local network, go at its location with your browser and copy the adress, then paste it in your blitz code<br>For example, in my network, I've got a PC called "MOON" which contains a source folder "SOURCES" in the "SharedFolder" path and a blitz file in it "temp.bb"<br>(for the purpose, let's keep its content very simple)<br><pre class=code>
Function Do()
 Print "Booh !"
End Function
</pre><br><br>Now the "local" file you run (the main source -&gt; this one can be anywhere on the network, blitz will compile it in the same folder, but you need to take care about rights of writing and execution to this folder, especially on local network)<br><pre class=code>
Include "\\MOON\SharedFolders\SOURCES\Temp.bb"

Do()
WaitKey()
End
</pre><br><br><br><br><br>@RustyKristi : Maybe you only consider blitz for standalone stuff, but it can be usefull for tools and many other things, like remote stuff (I remember a program I did to list and update video and musique on all my network, each machines could update the list and run the server if required, all made in blitz3d). <br>And by the way, as it's compile time stuff, once a file is included into the executable, it is useless to the execution, so there is in the end no static path to file, it's only required for compilation. <br><br></td></tr></table><br>
<a name="1323218"></a>

<a name="1323235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  there is probably no real way to do it even by modifying the blitz3d sources unless you hard code the system environment variables to your code ... <br> <br></div><br>A ridiculously kludged together switch/case of nested if within the blitzcc.exe source code that checks the location of what's being compiled against the path provided in the "include" directive and intercepts and modifies it at compilation time for the compilation procedure.<br><br>Really, I agree that Mikorians is making it hard for himself.<br>_____________________________________________<br>I suggest the following:<br><br>In EACH of the computers' hard drives at a suitably relative location to the source of EACH program, create a sample "FastLib Include.bb" wrapper<br><br>this code will then contain the FULL path to the relative FastLib.bb file for that machine, whilst Include "Fast Lib Include.bb" is all that's required for the program itself regardless of where it is. <br><br></td></tr></table><br>
<a name="1323220"></a>

<a name="1323221"></a>

<a name="1323222"></a>

<a name="1323223"></a>

<a name="1323224"></a>

<a name="1323228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>A ridiculously kludged together switch/case of nested if within the blitzcc.exe source code that checks the location of what's being compiled against the path provided in the "include" directive and intercepts and modifies it at compilation time for the compilation procedure.<br> <br></div><br><br>Recompile blitz sources is not that easy, but if you want to give it a try, it's probably here (/compiler/parser.cpp at line 93 -&gt; <a href="https://github.com/blitz-research/blitz3d/blob/master/compiler/parser.cpp)" target="_blank">https://github.com/blitz-research/blitz3d/blob/master/compiler/parser.cpp)</a><br>I suppose that we can unlink all the projects and only compile blitzcc, so it should be easier than recompile the whole package with its dependancies.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
		case INCLUDE:
			{
// -----&gt; this line will make the code fail as it expects a constant string
// it needs to be replaced as the next lines that get the include content as a single constant string token or only use string constant with specific syntax in it and happens sub expression to the string.
				if( toker-&gt;next()!=STRINGCONST ) exp( "include filename" );
				string inc=toker-&gt;text();toker-&gt;next();
				inc=inc.substr( 1,inc.size()-2 );
// -----&gt; so you probably need to modify -inc- here in order to translate included sub expressions before commiting it

				//WIN32 KLUDGE//
				char buff[MAX_PATH],*p;
				if( GetFullPathName( inc.c_str(),MAX_PATH,buff,&amp;p ) ) inc=buff;
				inc=tolower(inc);

				if( included.find( inc )!=included.end() ) break;

				ifstream i_stream( inc.c_str() );
				if( !i_stream.good() ) ex( "Unable to open include file" );

				Toker i_toker( i_stream );

				string t_inc=incfile;incfile=inc;
				Toker *t_toker=toker;toker=&amp;i_toker;

				included.insert( incfile );

				a_ptr&lt;StmtSeqNode&gt; ss( parseStmtSeq( scope ) );
				if( toker-&gt;curr()!=EOF ) exp( "end-of-file" );

				result=d_new IncludeNode( incfile,ss.release() );

				toker=t_toker;
				incfile=t_inc;
			}
			break;
</textarea> <br><br></td></tr></table><br>
<a name="1323229"></a>

<a name="1323232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Bobysait<br><br>I'm not saying that. Well it depends on your knowledge which is out of the scope of a normal blitz installation. If you're willing to elaborate on those then please do.<br><br>I'm stating that it's not normal to use absolute path in includes let alone variable paths on the vanilla version, it's not allowed (variable) and bad practice (absolute) but as I have said he's welcome to modify the source.<br><br>For other compilers/ide it's not a problem, I'm sure you already know what &lt;&gt; in<br><br>#include &lt;window.h&gt; <br><br>means. Not gonna happen in blitz unless you make it to be via source.<br><br>PJ suggestion is also good, no hassle and if you don't want to have any more trouble or stick with the license free vanilla version. <br><br></td></tr></table><br>
<a name="1323230"></a>

<a name="1323231"></a>

<a name="1323233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RustyKristi</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you already provided the solution, problem solved I guess.<br><br>The next step is get Visual C++ 6.0 (which is outdated) or use Ploppy's VS2010/VS2013 version. <br><br></td></tr></table><br>
<a name="1323250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mikorians</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks to all!<br><br>In short-<br>So I could include in an 'local system' include as a hoaky solution?<br>That might work. Bad practices are unavoidable right now.<br><br>I won't explain why my systems are a mess. Ugh.<br><br>Now... Undocumented features/commands/expressions are what I am curious about.<br>Relevant to 1.106.<br>Link? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
