<!DOCTYPE html><html lang="en" ><head ><title >Delay</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Delay</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Delay</a><br><br>
<a name="496357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do anyone know if i can use a floating point number with the delay function?<br>example:<br><br><div class="quote"> Delay 1.5 <br></div> <br><br></td></tr></table><br>
<a name="496361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Delay expects an integer. Whatever value you use will be converted, if needed, to an integer. You could use:<br><br>Delay 1.5<br><br>but the 1.5 will be converted to an integer.<pre class=code>Print Int( 1.5 )

WaitKey
</pre>This means that Delay 1.5 is really the same as Delay 2. <br><br></td></tr></table><br>
<a name="496362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> And what can I do if I need a 1.5 milliseconds delay?<br>Are there any library, dll,...? <br><br></td></tr></table><br>
<a name="496738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't use 'Delay'.<br><br>I would be uncertain of the accuracy of such a time-split, especially dependent of the processor.<br><br>Im curious... why would you need 0.5ms division? <br><br></td></tr></table><br>
<a name="496843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could have a loop, and increment a variable until the timer equals one millisecond. Get the variable number, and use this to work out how many times you need to increment the variable to get to half of a millisecond. I imagine this might be very inaccurate though, and heavy dependant on windows and other processes being used. <br><br></td></tr></table><br>
<a name="497176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm doing an electronic project connected with the parallel port and i need an 1.5 millisecond delay to use servo motors.<br><br>I'll try your method, Ross C. <br><br></td></tr></table><br>
<a name="497200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Timer=millisecs()
For F=1 TO 999999
If xxx=0
If (Millisecs()-Timer)=&gt;1500
xxx=F
Print F
End If
End If
Next
</textarea><br><br>How about, run this code first to find out how many FOR/NEXT iterations are equivalent to 1500 ms<br>then divide this figure by 1000 (should be most accurate).<br><br>Unfortunately calls to millisecs() take a fair bit of comparitive time too.<br><br>Instead of delay, then use<br><br><pre class=code>
For F=1 to xxx
Next xxx
</pre> <br><br></td></tr></table><br>
<a name="497265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's incorrect, the correct program is:<br><div class="quote"> <br>Timer=MilliSecs()<br>For F=1 To 9999999<br>If xxx=0<br>If (MilliSecs()-Timer)=&gt;1500<br>xxx=F<br>Print F<br>End If<br>End If<br>Next<br> <br></div><br><br>The value is 4726, so:<br><div class="quote"> <br>for xxx=4276<br>next<br> <br></div><br>is 1.5 milliseconds.<br>I tried this program:<br><div class="quote"> <br>a=millisecs()<br>for xxx=0 To 4726<br>next<br>b=millisecs()<br>print b-a<br> <br></div><br>and return 0 or 1, this mean the value is 0.5 milliseconds, and not 1.5, but i'll make 4276*3.<br><br>Thanks <br><br></td></tr></table><br>
<a name="497300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>It's incorrect, the correct program is: <br> <br></div> - What's the difference?<br><br><br>It's possible the result was 0.5<br>The difference is going to vary a lot between computers and current running processes. Chances are, the 2nd routine is MUCH quicker, because it doesn't have to check for IF's and call to Millisecs() which would slow the thing down.<br><br>Instead of just<br><br><pre class=code>
For F=1 To xxx
Next
</pre><br><br>use<br><br><pre class=code>
Timer=MilliSecs() 
For F=1 To xxx
If 1=1
If (MilliSecs()-Timer)=&gt;1500 
Print
End If 
End If
Next 
</pre><br><br>This should slow it down to match the initial test a little. <br><br></td></tr></table><br>
<a name="497589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >splinux</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The difference is here:<br><div class="quote"> <br>For F=1 To 9999999 <br> <br></div> <br><br></td></tr></table><br>
<a name="497592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh.<br><br>You need that many???<br><br>:) <br><br></td></tr></table><br>
<a name="497699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rook Zimbabwe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah... I got 467300 for xxx<br>in 1 second.<br>RZ <br><br></td></tr></table><br>
<a name="497726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's a tad inaccurate though, that's the only thing. It probably won't return the same result all the time. <br><br></td></tr></table><br>
<a name="498388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Then run it 100 times, ensuring the cpu isn't doing anything else or whatever and take an average.<br><br>multiple testing in this manner is the best way to get the most accurate result. <br><br></td></tr></table><br>
<a name="498408"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> um, Why can't you use repeat/until time&gt;3ms? does it make all that difference? <br><br></td></tr></table><br>
<a name="498422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thjat'd be good, probably quicker in fact... <br><br></td></tr></table><br>
<a name="498429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, with all the dropouts with the guessing code, this is probrably going to function more acurately too.<br><br>besides, all the motors ive played with? you can be anywhere &gt;1.5ms. This must be a picky motor :P <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
