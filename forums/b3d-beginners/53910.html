<!DOCTYPE html><html lang="en" ><head ><title >Blending 'PointEntity'?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blending 'PointEntity'?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Blending 'PointEntity'?</a><br><br>
<a name="602160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dock</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can anyone think of any way to blend in 'PointEntity' over a number of frames, so that it doesn't 'click' immediately to the new position? I want the character to turn to face, but not snap to face the new direction. <br><br></td></tr></table><br>
<a name="602179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something like this should do the job ... where the rate# is between 0.0 and 1.0.<br><br><pre class=code>

Function EntityPoint( Source , Target, Rate# )

  dy# = deltayaw( Source , Target ) * Rate
  dp# = deltapitch( Source , Target ) * Rate
  turnentity Source , dp , dy , 0

end function

</pre><br><br>You could also use aligntovector on the z-axis. <br><br></td></tr></table><br>
<a name="602180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a nice function man :D <br><br></td></tr></table><br>
<a name="602307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dock</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh wow, I had no idea that DeltaYaw and DeltaPitch even existed! That's definitely what I need. Thanks Stevie! <br><br>Unfortunately it's still not quite working for me, I think I need to fix it. My character is twitching but snapping back to the original position. It's strange, as I have a manual 'turnentity' command just before it which works fine and retains its position. <br><br>Is the online Blitz3D manual the only version available anymore btw? [EDIT] nope, I found it! sorry! <br><br></td></tr></table><br>
<a name="602344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Baystep Productions</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I think looking in the Code Archives theres a set of functions that will do this same thing, but with different variations, I forgot where though. Has to deal with AI and all. <br><br></td></tr></table><br>
<a name="602380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using the global param for Turnentity ... this may be your issue.<br><br>Stevie <br><br></td></tr></table><br>
<a name="602430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Calculate the vector from the source entity to the dest entity and then use AlignToVector - it has a 'rate' parameter that lets you gradually turn the entity to point at the other. <br><br></td></tr></table><br>
<a name="602505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use TFormPoint (or do you want TFormVector?  I can't remember off the top of my head) for big10's suggestion. <br><br></td></tr></table><br>
<a name="602512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't think you even need to TFormVector, just get the world vector with:<br><pre class=code>
vx# = EntityX(dest_ent,1) - EntityX(source_ent,1)
vy# = EntityY(dest_ent,1) - EntityY(source_ent,1)
vz# = EntityZ(dest_ent,1) - EntityZ(source_ent,1)
</pre> <br><br></td></tr></table><br>
<a name="602551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or, have a pivot. Place it the way the camera is facing. When you want to turn and face something, move the pivot towards the entity you want to face, and point the camera at the pivot :o) <br><br></td></tr></table><br>
<a name="602576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dock</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ross C - wouldn't your suggestion only work in first-person? I don't intend to move my camera much in my game. :)<br><br>Everyone else, I'm trying these techniques but I'm always getting the same problem. The character 'snaps'... but I'm starting to think that's something to do with the animation. <br><br>As for the rotation code, still having trouble applying this too, as my object seems to always tilt in completely wrong dimensions. <br><br></td></tr></table><br>
<a name="602579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> First person? Not really, i worded that badly :o). Just replace camera with the entity you want to turn :o) <br><br></td></tr></table><br>
<a name="602632"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>As for the rotation code, still having trouble applying this too, as my object seems to always tilt in completely wrong dimensions. <br> <br></div><br><br>The rotation code works fine for me .. Is your model pointing along the z-axis? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
