<!DOCTYPE html><html lang="en" ><head ><title >Help with some hard stuff!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help with some hard stuff!</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Help with some hard stuff!</a><br><br>
<a name="898530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Christer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I need help with this:<br><br>My player is on x = 0 and y = 0 if i push down the arrow up button my player shall walk against my mouse. How fast should be able to walk agaist it need to be configurable. Anyone help please? <br><br></td></tr></table><br>
<a name="898539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't really understand what you mean by 'walk against my mouse' but the answer is to express the distance as a (configurable) percentage of a notional norm. So if you wanted to configure something to move at half speed you would say configuredSpeed# = normalSpeed#*modifier# where 'modifier' would have been set to 0.5 by the user or program itself (whichever you have in mind). <br><br></td></tr></table><br>
<a name="898540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, but that makes no sense to me whatsoever. <br><br></td></tr></table><br>
<a name="898541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Me or him?! :P <br><br></td></tr></table><br>
<a name="898542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is as clear as mud.  Can you give more detail, in particular the 'my player shall walk against my mouse'.<br><br>Do you mean you want the player to walk towards the mouse cursor once you press the UP ARROW key?<br><br>Stevie <br><br></td></tr></table><br>
<a name="898546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Him Sledge, you must have posted just before me. :P <br><br></td></tr></table><br>
<a name="898552"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> LOL - I think we all posted at the same time!! <br><br></td></tr></table><br>
<a name="898553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Christer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look...<br><br>I have a player or something lets say a picture. When i PRESS UP KEY the picture or player or whatever will be moving towards my mouse pointer on the screan. Anyone know how to do this? <br><br></td></tr></table><br>
<a name="898568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jsoren</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this what your looking for? It wouldn't work with an image though because you would need to roate the image or use frames, unless you wanted to emulate 2d images with sprites, in which case its just pointentity().<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 640,480
SetBuffer BackBuffer()

;W,A,S,D keys to move around
;the players ship always points at the mouse

Type player
	Field x,y
	Field xv#=0,yv#
	Field a,s#
	Field strafe#
End Type

p.player=New player
p\x=200
p\y=200



;;MAIN LOOP;;
While Not KeyDown(1)
Cls

GetInput()
UpdatePlayer()

Flip
Wend
End




Function GetInput()
	For p.player=Each player

		If KeyDown(17)=True Then p\s=p\s+.2
		If KeyDown(31)=True Then p\s=p\s-.2
		
		If KeyDown(30)=True Then p\strafe=p\strafe+.2
		If KeyDown(32)=True Then p\strafe=p\strafe-.2
		
		If p\s&gt;0 Then p\s=p\s-.1
		If p\s&lt;0 Then p\s=p\s+.1
		If p\s&gt;4 Then p\s=4
		If p\s&lt;-4 Then p\s=-4
		
		If p\strafe&gt;0 Then p\strafe=p\strafe-.1
		If p\strafe&lt;0 Then p\strafe=p\strafe+.1
		If p\strafe&gt;3 Then p\strafe=3
		If p\strafe&lt;-3 Then p\strafe=-3
	
	Next
End Function



Function UpdatePlayer()
	For p.player=Each player
		p\a=angledif(p\x,p\y,MouseX(),MouseY())

		p\xv=-(Sin(p\a)*p\s)
		p\yv=-(Cos(p\a)*p\s)
		
		p\xv=p\xv-(Sin(p\a+90)*p\strafe)
		p\yv=p\yv-(Cos(p\a+90)*p\strafe)
		
		p\x=p\x+p\xv
		p\y=p\y+p\yv
		
		drawship(p\x,p\y,p\a)
	Next
End Function



Function DrawShip(x,y,ang)
	Local x1=x-(Sin(ang)*8)
	Local y1=y-(Cos(ang)*8)
	Local x2=x-(Sin(ang+140)*6)
	Local y2=y-(Cos(ang+140)*6)
	Local x3=x-(Sin(ang-140)*6)
	Local y3=y-(Cos(ang-140)*6)
	
	
	Line x1,y1,x2,y2
	Line x2,y2,x3,y3
	Line x3,y3,x1,y1
End Function



Function angledif#(x1,y1,x2,y2) ; x2 y2 naar
	Local angle = 0
	Local lowest = 1024
	
	For i=0 To 360
		x3 = x1-Sin(angle) * 211
		y3 = y1-Cos(angle) * 211
		angle = angle + 1
		NewA = Sqr((x3-x2)^2+(y3-y2)^2)
		If NewA &lt; lowest Then lowest = NewA : uitgraad = i
	Next
	
	Return uitgraad
End Function
</textarea><br>I pulled AngleDif#() out of the code archives a while ago, not sure who posted it though sry. (oh yeah, if some1 could tell me what uitgraad and naar mean so i can put the rest of it into english that would be nice) <br><br></td></tr></table><br>
<a name="898675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Christer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
