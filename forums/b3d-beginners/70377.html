<!DOCTYPE html><html lang="en" ><head ><title >Logic of Player movement</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Logic of Player movement</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Logic of Player movement</a><br><br>
<a name="787008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there, I've been looking at Imagepacker - <a href="http://homepage.ntlworld.com/config/imagepacker/" target="_blank">http://homepage.ntlworld.com/config/imagepacker/</a> and it is really good. I got a small character who has 2 image in a 'pack'. He has a standing animation and a running animation, I'm getting stuck on the logic behind this, and wondered if anyone could help.<br><br>Here is my bit of code<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
	If count Mod 6=0
		PositionSprite hero_sprite,hero_x,hero_y,hero_sprite\frame+1
	EndIf
	
	If KeyDown(205) Then 
		hero_x=hero_x+1 
		hero_change=hero_change+1 
		hero_walk=hero_walk+1
	EndIf
		
	Select hero_change
		Case 1
			If hero_walk=1 Then ChangeSprite hero_sprite,"hero_walking_frame_final" 
			
		Default
			If hero_walk=1 Then ChangeSprite hero_sprite,"hero_standing_frame_final"
			hero_change=0
			hero_walk=0
	End Select
</textarea><br><br>My logic is flawed here with the changesprite, and I wondered what many people do when they want to change the character animation, when clicking on the right cursor.<br><br>Any help would greatly be appreciated<br><br>Many thanks <br><br></td></tr></table><br>
<a name="787016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wouldn't it be easier to have both the animation sequences in one sequence.. eg:<br><br>1 - 6 walking animation<br>7 - 12 running animation<br><br>When you want him to run you just bump the frame index by 6 so it then indexes the running animation (7 to 12) and return it to the default when he's walking (1 to 6). <br><br></td></tr></table><br>
<a name="787018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Yeshu777, Wow freaky, that was my line of thinking just right at this moment, this may be the easiest way of doing it<br><br>Just wondered if there was another way using ChangeSprite commands.<br><br>Thanks :) <br><br></td></tr></table><br>
<a name="787020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're welcome. <br><br></td></tr></table><br>
<a name="787027"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mmm I have tried this, the problem with this, is that the hero animation are all in different sizes, so the imagepacker was a godsend in this part. <br><br></td></tr></table><br>
<a name="787034"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> So does it work? <br><br></td></tr></table><br>
<a name="787631"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there, I have been checking over the weekend regarding this, for the walking animation, yes it did work, as there was all the same height and length, however the standing animation isn't. The width is bit different, which is why I thought about using imagepacker instead. <br><br></td></tr></table><br>
<a name="787661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh I think I have figured this out, rather than having one long strip, I broken it up, so I have <br><br><pre class=code>
global hero
global hero_standing=LoadAnimImage("standing.png",8,10,10,10)
global hero_walking=LoadAnimImage("walking.png",10,10,10,10)

While Not KeyHit(1)

		Select hero_change
			Case 1:	
				hero=hero_standing
			Case 2:
				hero=hero_running
		End Select	

                If KeyDown(205) Then  hero=2



wend
</pre><br><br>That works out, but is there a function to say, if not keydown or keypressed, then hero_standing. <br><br></td></tr></table><br>
<a name="787667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something like this?..<br><br><pre class=code>

If( KeyDown(205) ) Then
    hero_change = 2;
Else
    hero_change = 1;
End If

</pre> <br><br></td></tr></table><br>
<a name="787670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doh!! Yeshu777, that is soo simple, of course :) :)<br><br>Nice one :) <br><br></td></tr></table><br>
<a name="787678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yeshu777</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alternatively (and if you still want to use seperate animation sequences) you could try this...<br><br><pre class=code>

Dim hero[5]

global hero[1]=LoadAnimImage("standing.png",8,10,10,10)
global hero[2]=LoadAnimImage("walking.png",10,10,10,10)
global hero[3]=LoadAnimImage("shooting.png",10,10,10,10)

global hero_idx=1;

While Not KeyHit(1)

    If( KeyDown(205) ) Then
        hero_idx = 2;
    Else
        hero_idx = 1;
    End If
 

    PositionSprite(hero[hero_idx], x, y) ; Your sprite function etc...

Wend
</pre><br><br>Well, you get the basic idea... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
