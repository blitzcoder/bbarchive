<!DOCTYPE html><html lang="en" ><head ><title >Switching Camera to different Placeholders</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Switching Camera to different Placeholders</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Switching Camera to different Placeholders</a><br><br>
<a name="776625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3DMan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings,<br><br>I would appreciate some help with the following few questions:<br><br>I want to set up a few fixed camera "pivots or placeholders" in different areas of a map in 3DS Max, and I would like to use them to switch the camera to those "placeholders"<br><br>a) when the player would come to a certain distance of a certain placeholder<br><br>b) when the player would come to a certain position (trigger), which would then switch to the corresponding camera<br><br>c) some cameras would turn with the player (always facing the player)<br><br>How could that be done?<br><br>Thank you :) <br><br></td></tr></table><br>
<a name="776638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can use EntityDistance() to check the distance between 2 entities. So for example;<br><br>if EntityDistance(player,camera4) &lt; 5.0 then 'switch to camera 4'<br><br>you can use PointEntity to keep the camera (or any other entity) 'pointed' or 'facing in the direction of' another entity, like so: PointEntity(camera3, player) will point camera3 to the player (keeping it in center frame).<br><br>create pivots at the location where you want the camera to switch to, ie. your 'place holders'. Then simply place the camera at the pivot position, or parent the camera to the pivot.<br><br>hope that helps,<br><br>d. <br><br></td></tr></table><br>
<a name="776646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3DMan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for your reply Danny.<br><br>['switch to camera 4']<br><br>[Then simply place the camera at the pivot position, or parent the camera to the pivot.]<br><br>Could I see a code example of how to do that please? <br><br></td></tr></table><br>
<a name="776739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This will set the camera's positon to the xyz coordinates of 'pivot4':<br><br>positionEntity camera, entityx(pivot4), entityy(pivot4), entityZ(pivot4)<br><br>Check Blitz's examples to see how to place entities and cameras.. <br><br></td></tr></table><br>
<a name="776935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3DMan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Danny.<br><br>It says Entity doesn't exist if I do "PositionEntity camera, EntityX(cam_loc_1), EntityY(cam_loc_1), EntityZ(cam_loc_1)"  <br>cam_loc_1 is a pivot inside the main map.<br>How can I make that work and could i use a cube inside the main map instead of pivot?<br><br>By the way - how many methods are there to trigger events -  you mentioned checking for distance between the player and the trigger, are there any other? <br><br></td></tr></table><br>
<a name="776993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do these:<br>   print camera<br>   print cam_loc_1<br><br>if either one of them gives a zero '0' then it's not an entity. Also not sure if you can name a variable with _1 at the end. Try renaming that variable to CamLoc1 instead.<br><br>Check the code archives for many samples on intersections, etc. Here's one called 'Triggerplate system for detecting intrusion events':<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1901" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1901</a> <br><br></td></tr></table><br>
<a name="776999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3DMan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> CamLoc1 ( and cam_loc_1 ) both return 0 in the debugger - I get the "Entity doesn't exist" before I could print anything out.<br><br>How can they not exist when they are included in the map and named before exporting, both from 3DSMax, and Gile[s].<br>Am I doing anything wrong? <br><br>Thank you again <br><br></td></tr></table><br>
<a name="777113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Danny</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> you should create your camera's and pivots in blitz, not try to import them from external files.<br><br>camera = createcamera()<br>camLoc1 = createpivot()<br><br>d. <br><br></td></tr></table><br>
<a name="777159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3DMan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does that mean that I can't use -in 3d editor- prepositioned objects? <br><br></td></tr></table><br>
<a name="777834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cermit</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on the format you're using Blitz3D with, but mostly the answer would be no i think.<br><br>However, you could use FindChild( "Name of joint/bone" ) in Blitz3D with the b3d format and then get the coords with EntityX() etc to create a pivot at that position.<br><pre class=code>CamCoords[ 4 ] = FindChild( "Camera 4" )
CamPivot[ 4 ] = CreatePivot(  )
PositionEntity CamPivot[ 4 ], EntityX( CamCoords[ 4 ] ), EntityY( CamCoords[ 4 ] ), EntityZ( CamCoords[ 4 ] )</pre><br>That's what i would do or create some simple editor. <br><br></td></tr></table><br>
<a name="777859"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to load your map as an animated mesh, that way Blitz will keep the hierarchical structure of your map, otherwise all entities are merged together as one big mesh.<br><pre class=code>
map=LoadAnimMesh("YourMap.b3d")
</pre><br>Then to find the camera locations (the pivots you have placed in 3DSMax):<br><pre class=code>
CamLoc1=FindChild(map, "cam_loc_1")
</pre><br><br>Now you should be able to use CamLoc1 to position your camera to that location, as you now have the entityhandle towards that location.<br><pre class=code>
PositionEntity camera, EntityX(CamLoc1), EntityY(CamLoc1), EntityZ(CamLoc1)
</pre> <br><br></td></tr></table><br>
<a name="777935"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >3DMan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for helping guys.<br><br>And thank you very much PowerPC603 - it's exactly what I've been looking for - that works perfectly! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
