<!DOCTYPE html><html lang="en" ><head ><title >Is it possible to put a varible in a handle.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Is it possible to put a varible in a handle.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Is it possible to put a varible in a handle.</a><br><br>
<a name="1156893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having problems with checking if images exist, I have been trying to check if and image is loaded and drawn. but I get getting an error that the image doesn't exist.<br><br>this is what I have:<br>[bbcode]<br>Global image_sub1=LoadImage(image_1.png")<br>Global image_sub2=LoadImage(image_2.png")<br>Global image_sub3=LoadImage(image_3.png")<br>Global image_sub4=LoadImage(image_4.png")<br>Global image_sub5=LoadImage(image_5.png")<br><br>draw image_sub2,x,y<br>[/bbcode]<br><br>And this what I want<br>[bbcode]<br>t=2<br><br>Global image_sub1=LoadImage(image_1.png")<br>Global image_sub2=LoadImage(image_2.png")<br>Global image_sub3=LoadImage(image_3.png")<br>Global image_sub4=LoadImage(image_4.png")<br>Global image_sub5=LoadImage(image_5.png")<br><br>draw "image_sub+t",x,y<br>[/bbcode]<br><br>Is something like this possible? <br><br></td></tr></table><br>
<a name="1156894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well for a start your quote signs are unbalanced, as the syntax colouring shows...<br><br>If I understand correctly, what you're asking for is an array or something similar: being given several slots and accessing different ones by numeric index?<br><br>You definitely cannot however do anything that looks like the second code example. Variable names only exist at compile-time: any code that tries to manipulate variable <i>names</i> will not work, and has no way of possibly working, because that information has been stripped from the program (in fact, it never existed) at runtime.<br><br>You can create an array in two ways, using <a href="/b3ddocs/command.php?name=Dim&amp;ref=2d_cat" target="_blank">the Dim command</a>, or using a subscript when declaring a variable. For more information about the different approaches, see here: <a href="http://www.blitzbasic.com/Community/posts.php?topic=98674#1154877" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=98674#1154877</a> <br><br></td></tr></table><br>
<a name="1157011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> yasha thanks for the reply, I'll have alook at dims but just to be sure I 'll post my code so you can see what I'm trying to do,<br><br>[bbcode]<br>Include "MainMenu.bb"<br><br>;Set 2d Graphics<br>Graphics 1280,1000,32,0;640,480,32,2<br>SetBuffer BackBuffer() <br><br><br>;-------------------------------------------------------------------------------------------------------------------<br>;---------------------------------------------- SET GLOBAL CONSTRAINTS ---------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br><br><br>;Set Global Constraints<br>Global posizionex <br>Global posizioney<br>Global	jetmovX=400<br>Global	jetmovY=300<br>Global rate_of_fire = 10 ; number of milliseconds between each shot.<br>Global timer<br><br><br>;SET Health Globals<br>;[wall1]<br>Global wall1_main_health#=1<br>Global wall1_sub1_health#=50<br>Global wall1_sub2_health#=50<br>Global wall1_sub3_health#=50<br>Global wall1_sub4_health#=50<br>Global wall1_sub5_health#=50<br>Global wall1_sub6_health#=50<br>Global wall1_sub7_health#=50<br>Global wall1_sub8_health#=50<br>Global wall1_sub9_health#=50<br>Global wall1_sub10_health#=50<br><br><br><br>;Global Background Image Position And Scales<br>Global imX=-0<br>Global imY=-0<br><br>Global ippX=-0<br>Global ippY=-0<br><br>	;Load Global Images<br>		Global fighterjet=LoadImage("_Ships\fighter2.png") ;a simple sprite <br>		Global missil=LoadImage("_Other\blast1a.png") ;a simple sprite <br>		<br>		;Load Global Background Images<br>		Global gfx_bg=LoadImage(level_name$+"\"+level_name$+"_001.jpg") ;Background<br><br>	<br>	;Load Global Destructible Bricks<br>	<br>		Global wall1_main=LoadImage(level_name$+"\wallpieces\wall1_0.png") ;Destructible Barrier Image wall1 BASE<br>		Global wall1_sub1=LoadImage(level_name$+"\wallpieces\wall1_1.png") ;Destructible Barrier Image wall1 PIECE1<br>		Global wall1_sub2=LoadImage(level_name$+"\wallpieces\wall1_2.png") ;Destructible Barrier Image wall1 PIECE2<br>		Global wall1_sub3=LoadImage(level_name$+"\wallpieces\wall1_3.png") ;Destructible Barrier Image wall1 PIECE3<br>		Global wall1_sub4=LoadImage(level_name$+"\wallpieces\wall1_4.png") ;Destructible Barrier Image wall1 PIECE4<br>		Global wall1_sub5=LoadImage(level_name$+"\wallpieces\wall1_5.png") ;Destructible Barrier Image wall1 PIECE5<br>		Global wall1_sub6=LoadImage(level_name$+"\wallpieces\wall1_6.png") ;Destructible Barrier Image wall1 PIECE6<br>		Global wall1_sub7=LoadImage(level_name$+"\wallpieces\wall1_7.png") ;Destructible Barrier Image wall1 PIECE7<br>		Global wall1_sub8=LoadImage(level_name$+"\wallpieces\wall1_8.png") ;Destructible Barrier Image wall1 PIECE8<br>		Global wall1_sub9=LoadImage(level_name$+"\wallpieces\wall1_9.png") ;Destructible Barrier Image wall1 PIECE9<br>		Global wall1_sub10=LoadImage(level_name$+"\wallpieces\wall1_10.png") ;Destructible Barrier Image wall1 PIECE10<br><br><br><br>	;Set Handles<br>		MidHandle fighterjet<br>		MidHandle missil <br>		<br>	;Hide Pointer<br>		;HidePointer <br><br>	;Set Global Constants<br>		Const limite_sx=100 <br>		Const limite_dx=540 <br><br>		<br>	;Load GLOBAL FONTS<br>		fntArial=LoadFont("Arial",24,False,False,False)<br>		fntMSS=LoadFont("microsoft sans serif",16,True,False,False)<br>		fntblitz=LoadFont("blitz",12,False,False,False)<br><br>;-------------------------------------------------------------------------------------------------------------------<br>;----------------------------------------- OPEN READ AND CLOSE FILES -----------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br><br>; Open the file to Read <br>	filein = ReadFile("_Data"+"\"+level_name$+"_Data.txt") <br>	;select lines to read from<br>	Read1$ = ReadLine( filein ) ;Image Width<br>	Read2$ = ReadLine( filein ) ;Image Height<br>	Read3$ = ReadLine( filein ) ;wall1 Pieces<br>	Read4$ = ReadLine( filein ) ;wall2 Pieces<br>	Read5$ = ReadLine( filein ) ;<br>	Read6$ = ReadLine( filein ) ;<br>	Read7$ = ReadLine( filein ) ;<br>	Read8$ = ReadLine( filein ) ;<br>	Read9$ = ReadLine( filein ) ;<br>	Read10$ = ReadLine( filein ) ;<br>	Read11$ = ReadLine( filein ) ;<br>	Read12$ = ReadLine( filein ) ;<br>	Read13$ = ReadLine( filein ) ;<br>	Read14$ = ReadLine( filein ) ;<br>	Read15$ = ReadLine( filein ) ;<br>	Read16$ = ReadLine( filein ) ;<br>	Read17$ = ReadLine( filein ) ;<br>	Read18$ = ReadLine( filein ) ;<br>	Read19$ = ReadLine( filein ) ;<br>	Read20$ = ReadLine( filein ) ;<br>	Read21$ = ReadLine( filein ) ;<br>	Read22$ = ReadLine( filein ) ;<br>	Read23$ = ReadLine( filein ) ;<br>	Read24$ = ReadLine( filein ) ;<br>	Read25$ = ReadLine( filein ) ;<br>	Read26$ = ReadLine( filein ) ;<br>	Read27$ = ReadLine( filein ) ;<br>	Read28$ = ReadLine( filein ) ;<br>	Read29$ = ReadLine( filein ) ;<br>	Read30$ = ReadLine( filein ) ;<br>	Read31$ = ReadLine( filein ) ;<br>	Read32$ = ReadLine( filein ) ;<br>	Read33$ = ReadLine( filein ) ;<br>	Read34$ = ReadLine( filein ) ;<br>	Read35$ = ReadLine( filein ) ;<br>	Read36$ = ReadLine( filein ) ;<br>	Read37$ = ReadLine( filein ) ;<br>	Read38$ = ReadLine( filein ) ;<br>	Read39$ = ReadLine( filein ) ;<br>	Read40$ = ReadLine( filein ) ;<br>	Read41$ = ReadLine( filein ) ;<br>	Read42$ = ReadLine( filein ) ;<br>	Read42$ = ReadLine( filein ) ;<br>	Read43$ = ReadLine( filein ) ;<br>	Read44$ = ReadLine( filein ) ;<br>	Read45$ = ReadLine( filein ) ;<br>	Read46$ = ReadLine( filein ) ;<br>	Read47$ = ReadLine( filein ) ;<br>	Read48$ = ReadLine( filein ) ;<br>	Read49$ = ReadLine( filein ) ;<br>	Read50$ = ReadLine( filein ) ;<br>	Read51$ = ReadLine( filein ) ;<br>	Read52$ = ReadLine( filein ) ;<br>	Read53$ = ReadLine( filein ) ;<br>	Read54$ = ReadLine( filein ) ;<br>				<br>; Close the file once reading is finished <br>	CloseFile( filein ) <br>	;Rename the information<br>	wall1pieces%=Right(read3,2)<br>	wall2pieces%=Right(read4,2)<br>	wall1main_xpos%=Right(Read5,4)<br>	wall1main_ypos%=Right(Read6,4)<br>	wall2main_xpos%=Right(Read7,4)<br>	wall2main_ypos%=Right(Read8,4)<br>	wall1sub1_xpos%=Right(Read10,4)<br>	wall1sub1_ypos%=Right(Read11,4)<br>	wall1sub2_xpos%=Right(Read12,4)<br>	wall1sub2_ypos%=Right(Read13,4)<br>	wall1sub3_xpos%=Right(Read14,4)<br>	wall1sub3_ypos%=Right(Read15,4)<br>	wall1sub4_xpos%=Right(Read16,4)<br>	wall1sub4_ypos%=Right(Read17,4)<br>	wall1sub5_xpos%=Right(Read18,4)<br>	wall1sub5_ypos%=Right(Read19,4)<br>	wall1sub6_xpos%=Right(Read20,4)<br>	wall1sub6_ypos%=Right(Read21,4)<br>	wall1sub7_xpos%=Right(Read22,4)<br>	wall1sub7_ypos%=Right(Read23,4)<br>	wall1sub8_xpos%=Right(Read24,4)<br>	wall1sub8_ypos%=Right(Read25,4)<br>	wall1sub9_xpos%=Right(Read26,4)<br>	wall1sub9_ypos%=Right(Read27,4)<br>	wall1sub10_xpos%=Right(Read28,4)<br>	wall1sub10_ypos%=Right(Read29,4)<br>	<br><br><br>;-------------------------------------------------------------------------------------------------------------------<br>;------------------------------------------------- CREATE TYPES ----------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br><br>;Create Missile Type<br>	Type missile ;an object called missile <br>		Field posx Field posy Field avanzamento Field contatore <br>		Field image<br>		Field missile_life_time<br>		Field missile_life_timer<br>	End Type <br><br>;Set Image Alpha Masks<br>	MaskImage fighterjet,255,255,255 				;White Is Transparent<br>	MaskImage missil,255,255,255					;White Is Transparent<br><br>	<br><br><br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; MAIN GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br><br>Repeat<br><br>	Cls <br>	<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;------------------------------------------------- DRAW IMAGES -----------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br><br><br>	;Draw Background Image<br>	DrawImage gfx_bg,imX,imY<br><br>;_____________________________________________________________________________<br>;_____________________________________________________________________________<br>		<br>	;############################################<br>	;############################################<br>	;Draw Destructible Image Barriers<br><br>	If wall1_sub1_health#&gt;0 And wall1pieces%&gt;=1<br>		DrawImage wall1_sub1,imX+wall1sub1_xpos%,imY+wall1sub1_ypos%<br>	EndIf<br>	If wall1_sub2_health#&gt;0 And wall1pieces%&gt;=2<br>		DrawImage wall1_sub2,imX+wall1sub2_xpos%,imY+wall1sub2_ypos%<br>	EndIf<br>	If wall1_sub3_health#&gt;0 And wall1pieces%&gt;=3<br>		DrawImage wall1_sub3,imX+wall1sub3_xpos%,imY+wall1sub3_ypos%<br>	EndIf<br>	If wall1_sub4_health#&gt;0 And wall1pieces%&gt;=4<br>		DrawImage wall1_sub4,imX+wall1sub4_xpos%,imY+wall1sub4_ypos%<br>	EndIf<br>	If wall1_sub5_health#&gt;0 And wall1pieces%&gt;=5<br>		DrawImage wall1_sub5,imX+wall1sub5_xpos%,imY+wall1sub5_ypos%<br>	EndIf<br>	If wall1_sub6_health#&gt;0 And wall1pieces%&gt;=6<br>		DrawImage wall1_sub6,imX+wall1sub6_xpos%,imY+wall1sub6_ypos%<br>	EndIf<br>	If wall1_sub7_health#&gt;0 And wall1pieces%&gt;=7<br>		DrawImage wall1_sub7,imX+wall1sub7_xpos%,imY+wall1sub7_ypos%<br>	EndIf<br>	If wall1_sub8_health#&gt;0 And wall1pieces%&gt;=8<br>		DrawImage wall1_sub8,imX+wall1sub8_xpos%,imY+wall1sub8_ypos%<br>	EndIf<br>	If wall1_sub9_health#&gt;0 And wall1pieces%&gt;=9<br>		DrawImage wall1_sub9,imX+wall1sub9_xpos%,imY+wall1sub9_ypos%<br>	EndIf<br>	If wall1_sub10_health#&gt;0 And wall1pieces%&gt;=10<br>		DrawImage wall1_sub10,imX+wall1sub10_xpos%,imY+wall1sub10_ypos%<br>	EndIf<br><br><br>	<br>	;############################################<br>	;############################################<br>	<br>	;Draw Player Image<br>	DrawImage fighterjet,MouseX(),MouseY()<br>						<br><br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;------------------------------------ SET KEYBOARD AND MOUSE FUNCTIONS ---------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>		<br><br>	<br>	;Create Movement Keys And Align Image Movement<br><br><br><br>		If KeyDown( 205 )<br>			If imX&gt;= -ImageWidth(gfx_bg) + GraphicsWidth()+5<br>				imX=imX-5 ;Right Arrow<br>			EndIf<br>		<br>		ElseIf KeyDown( 203 )<br>			If imX&lt;= -1<br>				imX=imX+5 ;Left Arrow<br>			EndIf<br>	<br>		ElseIf KeyDown( 208 )<br>			If imY&gt;= -ImageHeight(gfx_bg) + GraphicsHeight()+5<br>				imY=imY-5 ;Up Arrow<br>			EndIf<br>	<br>		ElseIf KeyDown( 200 )<br>			If imY&lt;= -1 <br>				imY=imY+5 ;Down Arrow<br>			EndIf<br>		EndIf<br>		<br>	<br>;Set Keys for Image Position Tuning<br><br>;Determines the speed of the tuning varibles IPPX and IPPY<br>Color 0,0,0<br>If KeyHit(2) Then imspd#=0;<br>If KeyHit(3) Then imspd#=1;<br>If KeyHit(4) Then imspd#=2;<br>If imspd# = 0<br>	moveslow()<br>	Text 10,10,"Image movement : Fast " + imspd#<br>ElseIf imspd#=1<br>	movefast()<br>	Text 10,10,"Image movement : Slow " + imspd#<br>ElseIf imspd#=2<br>	moverealfast()<br>	Text 10,10,"Image movement : REAL FAST " + imspd#<br>EndIf<br><br><br>	;Create Player Weapon Fire <br>	If MouseDown(1)=1 ;if i hit the mouse button i create a missile <br>		If MilliSecs() &gt; timer + rate_of_fire Then	;set weapon firerate<br>			create_missile()	;create bullets<br>			<br>			;create_badfire()	;create alien fire ******* TESTING *******<br>			<br>			timer = MilliSecs() ; reset the timer to the current millisecs value.<br>		EndIf<br>	EndIf <br>	<br>	;This Updates The Weapon Fire<br>	play_missile(wall1pieces%,wall1sub1_xpos%,wall1sub1_ypos%,wall1sub2_xpos%,wall1sub2_ypos%,wall1sub3_xpos%,wall1sub3_ypos%,wall1sub4_xpos%,wall1sub4_ypos%,wall1sub5_xpos%,wall1sub5_ypos%,wall1sub6_xpos%,wall1sub6_ypos%,wall1sub7_xpos%,wall1sub7_ypos%,wall1sub8_xpos%,wall1sub8_ypos%,wall1sub9_xpos%,wall1sub9_ypos%,wall1sub10_xpos%,wall1sub10_ypos%) ;this starts the missil anim<br><br>	<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------- ONSCREEN TEXT AND HUD ------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br><br>	SetFont fntblitz<br>	Color 0,0,0<br>	<br>	Text 0,40,"Number Of Destructible bricks: " + wall1pieces%<br>	<br>	<br>	;Display My Testing Text<br>	Text 0,80,"X Position (ippX): " +ippx<br>	Text 0,100,"Y Position (ippY): " +ippY<br>	<br>	Text 200,80,"X Position (imX): " +imX<br>	Text 200,100,"Y Position (imY): " +imY<br>	<br>	<br>	Text 0,120,"Mouse X Pos: " + MouseX() + " Mouse Y Pos: " + MouseY()<br><br><br>;show health test<br>	Text 400,10,"wall1 sub 1 health : " +wall1_sub1_health#<br>	Text 400,20,"wall1 sub 2 health : " +wall1_sub2_health#<br>	Text 400,30,"wall1 sub 3 health : " +wall1_sub3_health#<br>	Text 400,40,"wall1 sub 4 health : " +wall1_sub4_health#<br>	Text 400,50,"wall1 sub 5 health : " +wall1_sub5_health#<br>	Text 400,60,"wall1 sub 6 health : " +wall1_sub6_health#<br>	Text 400,70,"wall1 sub 7 health : " +wall1_sub7_health#<br>	Text 400,80,"wall1 sub 8 health : " +wall1_sub8_health#<br>	Text 400,90,"wall1 sub 9 health : " +wall1_sub9_health#<br>	Text 400,100,"wall1 sub 10 health : " +wall1_sub10_health#<br><br>	<br>	Flip <br>	Until KeyDown(1)=1 ;End program when ESC is pressed<br>End <br><br><br><br><br>; Clear all the fonts from memory! <br>FreeFont fntArial<br>FreeFont fntMSS <br>FreeFont fntblitz<br><br>;_______________________________________________________________________<br><br>	<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; END OF GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br><br><br><br><br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------- CREATE GAME FUNCTIONS ------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br><br><br><br><br>;-------------------------------------------------------------------------------------------------------------------<br>;--------------------------------------------- Create Player Missiles ----------------------------------------------<br>;-------------------------------------------------------------------------------------------------------------------<br><br>;Create Missiles Function<br>	Function create_missile() <br>		a.missile=New missile<br>		a\image=missil<br>		a\missile_life_time = 1500 ; bullet last 2 seconds (2000 milliseconds)<br>		a\missile_life_timer = MilliSecs() ; set the timer to the same value as milliseconds,<br>	;Keys<br>		;a\posx=jetmovX ;the x position of missile creation is the mouse coords(the same coords of my jet of course) <br>		;a\posy=a\posy+jetmovY-45;the missile creation start a bit up to the jet(for simulating the launch-bay hehe)<br>	;Mouse<br>		a\posx=MouseX();the x position of missile creation<br>		a\posy=a\posy+MouseY()-35;the missile creation start a bit up To the jet<br>	<br>		a\avanzamento=4 ;the speed of the missile <br>		a\contatore=0 ;the starting value of the animation <br>	End Function <br><br>;Update Missiles Function<br>Function play_missile(wall1pieces%,wall1sub1_xpos%,wall1sub1_ypos%,wall1sub2_xpos%,wall1sub2_ypos%,wall1sub3_xpos%,wall1sub3_ypos%,wall1sub4_xpos%,wall1sub4_ypos%,wall1sub5_xpos%,wall1sub5_ypos%,wall1sub6_xpos%,wall1sub6_ypos%,wall1sub7_xpos%,wall1sub7_ypos%,wall1sub8_xpos%,wall1sub8_ypos%,wall1sub9_xpos%,wall1sub9_ypos%,wall1sub10_xpos%,wall1sub10_ypos%) <br>	For a.missile=Each missile <br>			posizionex=a\posx <br>			posizioney=a\posy <br>			DrawImage a\image,a\posx,a\posy ;draw the missile image.<br>			a\posy=a\posy-a\avanzamento ;this move the missile up <br>			If posizioney=0	;If missile is off screen delete it.<br>				Delete a<br>				Exit	;exit loop if missile is dead. will cause error as they's no missile to check<br>			End If<br>		;----------------------------------------------------------------------------------------------<br><br>		;----------------------------------------------------------------------------------------------<br>		<br>		;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage<br>		<br>		;THIS Caculates If All other Image Collidible Images are destroyed<br>		;--------------------------------------------------------------------------------------------------------------------------------------------------------------------------<br><br>		;--------------------------------------------------------------------------------------------------------------------------------------------------------------------------<br><br>			If ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub1,imX+wall1sub1_xpos%,imY+wall1sub1_ypos%,0) And wall1_sub1_health# &gt; 0<br>				wall1_sub1_health#=wall1_sub1_health#-1<br>				Text 0,220,"wall1 Sub 1 Collision "<br>				Delete a	<br>	;wall1 Sub2<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub2,imX+wall1sub2_xpos%,imY+wall1sub2_ypos%,0) And wall1_sub2_health# &gt; 0<br>				wall1_sub2_health#=wall1_sub2_health#-1<br>				Text 0,240,"wall1 Sub 2 Collision "<br>				Delete a	<br>	;wall1 Sub3<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub3,imX+wall1sub3_xpos%,imY+wall1sub3_ypos%,0) And wall1_sub3_health# &gt; 0<br>				wall1_sub3_health#=wall1_sub3_health#-1<br>				Text 0,260,"wall1 Sub 3 Collision "<br>				Delete a	<br>	;wall1 Sub4<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub4,imX+wall1sub4_xpos%,imY+wall1sub4_ypos%,0) And wall1_sub4_health# &gt; 0<br>				wall1_sub4_health#=wall1_sub4_health#-1<br>				Text 0,280,"wall1 Sub 4 Collision "<br>				Delete a			<br>	;wall1 Sub5<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub5,imX+wall1sub5_xpos%,imY+wall1sub5_ypos%,0) And wall1_sub5_health# &gt; 0<br>				wall1_sub5_health#=wall1_sub5_health#-1<br>				Text 0,300,"wall1 Sub 5 Collision "<br>				Delete a	<br>	;wall1 Sub6<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub6,imX+wall1sub6_xpos%,imY+wall1sub6_ypos%,0) And wall1_sub6_health# &gt; 0<br>				wall1_sub6_health#=wall1_sub6_health#-1<br>				Text 0,320,"wall1 Sub 6 Collision "<br>				Delete a	<br>	;wall1 Sub7<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub7,imX+wall1sub7_xpos%,imY+wall1sub7_ypos%,0) And wall1_sub7_health# &gt; 0<br>				wall1_sub7_health#=wall1_sub7_health#-1<br>				Text 0,320,"wall1 Sub 7 Collision "<br>				Delete a	<br>	;wall1 Sub8<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub7,imX+wall1sub8_xpos%,imY+wall1sub8_ypos%,0) And wall1_sub8_health# &gt; 0<br>				wall1_sub8_health#=wall1_sub8_health#-1<br>				Text 0,320,"wall1 Sub 8 Collision "<br>				Delete a<br>	;wall1 Sub9<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub7,imX+wall1sub9_xpos%,imY+wall1sub9_ypos%,0) And wall1_sub9_health# &gt; 0<br>				wall1_sub9_health#=wall1_sub9_health#-1<br>				Text 0,320,"wall1 Sub 9 Collision "<br>				Delete a	<br>	;wall1 Sub10<br>			ElseIf ImagesCollide(a\image,a\posx,a\posy,0,wall1_sub7,imX+wall1sub10_xpos%,imY+wall1sub10_ypos%,0) And wall1_sub10_health# &gt; 0<br>				wall1_sub10_health#=wall1_sub10_health#-1<br>				Text 0,320,"wall1 Sub 10 Collision "<br>				Delete a<br>			EndIf		<br>Next <br>End Function <br><br>;__________________________________________________________________________________________________________________________________________<br>;IPPX and IPPY Speed Functions<br><br>Function moverealfast()	<br>	If KeyDown( 77 ) <br>		ippX=ippX+10 ;Number Pad 6<br>	ElseIf KeyDown( 75 ) <br>		ippX=ippX-10 ;Number Pad 4<br>	ElseIf KeyDown( 72 )<br>		ippY=ippY-10 ;Number Pad 8<br>	ElseIf KeyDown( 80 )<br>		ippY=ippY+10 ;Number Pad 2<br>	EndIf<br>End Function<br>Function movefast()	<br>	If KeyDown( 77 ) <br>		ippX=ippX+1 ;Number Pad 6<br>	ElseIf KeyDown( 75 ) <br>		ippX=ippX-1 ;Number Pad 4<br>	ElseIf KeyDown( 72 )<br>		ippY=ippY-1 ;Number Pad 8<br>	ElseIf KeyDown( 80 )<br>		ippY=ippY+1 ;Number Pad 2<br>	EndIf<br>End Function<br>Function moveslow()<br>	If KeyHit( 77 ) <br>		ippX=ippX+1 ;Number Pad 6<br>	ElseIf KeyHit( 75 ) <br>		ippX=ippX-1 ;Number Pad 4<br>	ElseIf KeyHit( 72 )<br>		ippY=ippY-1 ;Number Pad 8<br>	ElseIf KeyHit( 80 )<br>		ippY=ippY+1 ;Number Pad 2<br>	EndIf<br>End Function<br><br><br><br><br>;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;<br><br>;THE FOLLOWING FUNCTIONS ARE NOT IN THE GAME AT ALL[/bbcode]<br><br>code + images link:<br><br><a href="http://d01.megashares.com/dl/wAbnDEM/Wall_Bricks_V_0.1.rar" target="_blank">http://d01.megashares.com/dl/wAbnDEM/Wall_Bricks_V_0.1.rar</a><br><br>basically the game reads a textfile depending on the level selected and loads a diffirent amount of destructible images at diffirent positions(the  positions and amount of images are in the text file)<br>then draws them if the image health varible is greater then zero, then checks to see if the weapon fire and the destructible images collide, if they do than the health varible decreases.<br><br>example: level "wall" has 10 destructible pieces and level "wall2" only has 5<br><br><br>the problem I'm having is that its trying to draw images that don't exist and than checking them for collisions(I tried adding a If wall1pieces%&gt;=5.ect. but it still tries to draw nonexistant images). I think could make it work right if I use Select and Case and make a case for each amount of images, but I think that it would play slower?<br><br>So I was seeing if I could draw images based off a specific varible? <br><br></td></tr></table><br>
<a name="1157023"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> First thing, for very long pieces of code, please use the codebox markup option (there's also currently a bug in the bbcode markup option that causes it to display the wrong thing, so the code you posted is different from what appears in your post above, which never helps).<br><br>As for the answer... Select is unlikely to help you with this. Instead of having a global for each wall segment (globals are bad, keep their use to a minimum), and trying to manually write the code for execution of each draw call, you should be using a loop with an indexed container of some kind.<br><br>Short example with an array:<br><br><pre class=code>Const MAX_WALL_SEGMENTS = 1000

Local wallSub[MAX_WALL_SEGMENTS], wallSubHealth#[MAX_WALL_SEGMENTS]
Local wallSubCount = ;... get the number of wall segments from somewhere

Local i : For i = 0 to wallSubCount - 1
    wallSub[i] = LoadImage(level_name$+"\wallpieces\wall1_" + i + ".png"

Next

; ... later

For i = 0 to wallSubCount - 1
    If wallSubHealth[i] &gt; 0 then DrawImage wallSub[i], x, y   ;.etc for X and Y
Next
</pre><br><br>All wall pieces under one name, and accessed by strictly controlled indices, with a measured cap. i.e.<br><br><div class="quote"> So I was seeing if I could draw images based off a specific varible? <br></div><br><br>...yes. Like that.<br><br>Once you get this done, you'll also want to investigate custom types so you can define "a wall segment" as a single "thing" with image, health, x and y as properties belonging to it, and just store the one array containing those segments-as-things. This will simplify your life enormously. <br><br></td></tr></table><br>
<a name="1157119"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heyo, Me again. I changed my code as you suggested, and created an array to load the "wall1sub_xpos" and "wall1sub_ypos" but I when I select a level without 10 wallpieces I get the error "Array index out of bounds". I know that the error is because in the array I specify 10 indexes, but if there are only 5 images then it doesn't know what to do with the rest. I still don't understand how I can load a varible into a handle.<br><br>Example: What Ihave.<br>[bbcode]<br>Dim	xpos(i)<br>	xpos(1) = wall1sub1_xpos%<br>	xpos(2) = wall1sub2_xpos%<br>	xpos(3) = wall1sub3_xpos%<br>	xpos(4) = wall1sub4_xpos%<br>	xpos(5) = wall1sub5_xpos%<br>	xpos(6) = wall1sub6_xpos%<br>	xpos(7) = wall1sub7_xpos%<br>	xpos(8) = wall1sub8_xpos%<br>	xpos(9) = wall1sub9_xpos%<br>	xpos(10) = wall1sub10_xpos%<br>	<br>Dim	ypos(i)	<br>	ypos(1) = wall1sub1_ypos%;<br>	ypos(2) = wall1sub2_ypos%<br>	ypos(3) = wall1sub3_ypos%<br>	ypos(4) = wall1sub4_ypos%<br>	ypos(5) = wall1sub5_ypos%<br>	ypos(6) = wall1sub6_ypos%<br>	ypos(7) = wall1sub7_ypos%<br>	ypos(8) = wall1sub8_ypos%<br>	ypos(9) = wall1sub9_ypos%<br>	ypos(10) = wall1sub10_ypos%<br><br><br>;later......<br><br>DrawImage wallSub[i],imX+xpos(i),imY+ypos(i)<br>[/bbcode]<br><br>Example: What I want.<br>[bbcode]<br>Dim	xpos(i)<br>	xpos(i) =  "wall1sub"+i+"_xpos%"<br>	<br>Dim	ypos(i)	<br>	ypos(i) = "wall1sub"+i+"_ypos%"<br><br>;later......<br><br>DrawImage wallSub[i],imX+xpos(i),imY+ypos(i)<br>[/bbcode]<br><br>Now my code looks like this.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">


Include "MainMenu.bb"

;Set 2d Graphics
Graphics 1280,1000,32,0;640,480,32,2
SetBuffer BackBuffer() 


;-------------------------------------------------------------------------------------------------------------------
;---------------------------------------------- SET GLOBAL CONSTRAINTS ---------------------------------------------
;-------------------------------------------------------------------------------------------------------------------


;Set Global Constraints
Global posizionex 
Global posizioney
Global	jetmovX=400
Global	jetmovY=300
Global rate_of_fire = 10 ; number of milliseconds between each shot.
Global timer



;Global Background Image Position And Scales
Global imX=-0
Global imY=-0

Global ippX=-0
Global ippY=-0

	;Load Global Images
		Global fighterjet=LoadImage("_Ships\fighter2.png") ;a simple sprite 
		Global missil=LoadImage("_Other\blast1a.png") ;a simple sprite 
		
		;Load Global Background Images
		Global gfx_bg=LoadImage(level_name$+"\"+level_name$+"_001.jpg") ;Background

	;Set Handles
		MidHandle fighterjet
		MidHandle missil 
		
	;Hide Pointer
		;HidePointer 

		
	;Load GLOBAL FONTS
		fntArial=LoadFont("Arial",24,False,False,False)
		fntMSS=LoadFont("microsoft sans serif",16,True,False,False)
		fntblitz=LoadFont("blitz",12,False,False,False)

;-------------------------------------------------------------------------------------------------------------------
;----------------------------------------- OPEN READ AND CLOSE FILES -----------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

; Open the file to Read 
	filein = ReadFile("_Data"+"\"+level_name$+"_Data.txt") 
	;select lines to read from
	Read1$ = ReadLine( filein ) ;Image Width
	Read2$ = ReadLine( filein ) ;Image Height
	Read3$ = ReadLine( filein ) ;wall1 Pieces
	Read4$ = ReadLine( filein ) ;wall2 Pieces
	Read5$ = ReadLine( filein ) ;
	Read6$ = ReadLine( filein ) ;
	Read7$ = ReadLine( filein ) ;
	Read8$ = ReadLine( filein ) ;
	Read9$ = ReadLine( filein ) ;
	Read10$ = ReadLine( filein ) ;
	Read11$ = ReadLine( filein ) ;
	Read12$ = ReadLine( filein ) ;
	Read13$ = ReadLine( filein ) ;
	Read14$ = ReadLine( filein ) ;
	Read15$ = ReadLine( filein ) ;
	Read16$ = ReadLine( filein ) ;
	Read17$ = ReadLine( filein ) ;
	Read18$ = ReadLine( filein ) ;
	Read19$ = ReadLine( filein ) ;
	Read20$ = ReadLine( filein ) ;
	Read21$ = ReadLine( filein ) ;
	Read22$ = ReadLine( filein ) ;
	Read23$ = ReadLine( filein ) ;
	Read24$ = ReadLine( filein ) ;
	Read25$ = ReadLine( filein ) ;
	Read26$ = ReadLine( filein ) ;
	Read27$ = ReadLine( filein ) ;
	Read28$ = ReadLine( filein ) ;
	Read29$ = ReadLine( filein ) ;

; Close the file once reading is finished 
	CloseFile( filein ) 
	;Rename the information
	wall1pieces%=Right(read3,2)
	wall2pieces%=Right(read4,1)
	wall1main_xpos%=Right(Read5,4)
	wall1main_ypos%=Right(Read6,4)
	wall2main_xpos%=Right(Read7,4)
	wall2main_ypos%=Right(Read8,4)
	wall1sub1_xpos%=Right(Read10,4)
	wall1sub1_ypos%=Right(Read11,4)
	wall1sub2_xpos%=Right(Read12,4)
	wall1sub2_ypos%=Right(Read13,4)
	wall1sub3_xpos%=Right(Read14,4)
	wall1sub3_ypos%=Right(Read15,4)
	wall1sub4_xpos%=Right(Read16,4)
	wall1sub4_ypos%=Right(Read17,4)
	wall1sub5_xpos%=Right(Read18,4)
	wall1sub5_ypos%=Right(Read19,4)
	wall1sub6_xpos%=Right(Read20,4)
	wall1sub6_ypos%=Right(Read21,4)
	wall1sub7_xpos%=Right(Read22,4)
	wall1sub7_ypos%=Right(Read23,4)
	wall1sub8_xpos%=Right(Read24,4)
	wall1sub8_ypos%=Right(Read25,4)
	wall1sub9_xpos%=Right(Read26,4)
	wall1sub9_ypos%=Right(Read27,4)
	wall1sub10_xpos%=Right(Read28,4)
	wall1sub10_ypos%=Right(Read29,4)



;-------------------------------------------------------------------------------------------------------------------
;------------------------------------------------- CREATE TYPES ----------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

;Create Missile Type
	Type missile ;an object called missile 
		Field posx Field posy Field avanzamento Field contatore 
		Field image
		Field missile_life_time
		Field missile_life_timer
	End Type 


	Const MAX_WALL_PIECES = 15
	Local wallSub[MAX_WALL_PIECES], wallSubHealth#[MAX_WALL_PIECES]
	Local wallSubCount =wall1pieces% ;... get the number of wall segments from somewhere 

	Local i : For i = 0 To wallSubCount
	wallSub[i] = LoadImage(level_name$+"\wallpieces\wall1_" + i + ".png")
	
	Next 

Dim	xpos(i)
	xpos(1) = wall1sub1_xpos%
	xpos(2) = wall1sub2_xpos%
	xpos(3) = wall1sub3_xpos%
	xpos(4) = wall1sub4_xpos%
	xpos(5) = wall1sub5_xpos%
	xpos(6) = wall1sub6_xpos%
	xpos(7) = wall1sub7_xpos%
	xpos(8) = wall1sub8_xpos%
	xpos(9) = wall1sub9_xpos%
	xpos(10) = wall1sub10_xpos%
	
Dim	ypos(i)	
	ypos(1) = wall1sub1_ypos%;
	ypos(2) = wall1sub2_ypos%
	ypos(3) = wall1sub3_ypos%
	ypos(4) = wall1sub4_ypos%
	ypos(5) = wall1sub5_ypos%
	ypos(6) = wall1sub6_ypos%
	ypos(7) = wall1sub7_ypos%
	ypos(8) = wall1sub8_ypos%
	ypos(9) = wall1sub9_ypos%
	ypos(10) = wall1sub10_ypos%

		
;Set Image Alpha Masks
	MaskImage fighterjet,255,255,255 				;White Is Transparent
	MaskImage missil,255,255,255					;White Is Transparent


;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; MAIN GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

Repeat

	Cls 
	
;-------------------------------------------------------------------------------------------------------------------
;------------------------------------------------- DRAW IMAGES -----------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

	;Draw Background Image
	DrawImage gfx_bg,imX,imY

;_____________________________________________________________________________
;_____________________________________________________________________________
		
	;############################################
	;Draw Destructible Image Barriers

		For i = 0 To wallSubCount 
;			If wallSubHealth[i] &gt; 0 Then 
			DrawImage wallSub[i],imX+xpos(i),imY+ypos(i)
		Next 

	;############################################
	
	;Draw Player Image
	DrawImage fighterjet,MouseX(),MouseY()
						

;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;------------------------------------ SET KEYBOARD AND MOUSE FUNCTIONS ---------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
		

	
	;Create Movement Keys And Align Image Movement

		If KeyDown( 205 )
			If imX&gt;= -ImageWidth(gfx_bg) + GraphicsWidth()+5
				imX=imX-10 ;Right Arrow
			EndIf
		ElseIf KeyDown( 203 )
			If imX&lt;= -1
				imX=imX+10 ;Left Arrow
			EndIf
		ElseIf KeyDown( 208 )
			If imY&gt;= -ImageHeight(gfx_bg) + GraphicsHeight()+5
				imY=imY-10 ;Up Arrow
			EndIf
		ElseIf KeyDown( 200 )
			If imY&lt;= -1 
				imY=imY+10 ;Down Arrow
			EndIf
		EndIf
		
	
;Set Keys for Image Position Tuning

;Determines the speed of the tuning varibles IPPX and IPPY
Color 0,0,0
If KeyHit(2) Then imspd#=0;
If KeyHit(3) Then imspd#=1;
If KeyHit(4) Then imspd#=2;
If imspd# = 0
	moveslow()
	Text 10,10,"Image movement : Fast " + imspd#
ElseIf imspd#=1
	movefast()
	Text 10,10,"Image movement : Slow " + imspd#
ElseIf imspd#=2
	moverealfast()
	Text 10,10,"Image movement : REAL FAST " + imspd#
EndIf


	;Create Player Weapon Fire 
	If MouseDown(1)=1 ;if i hit the mouse button i create a missile 
		If MilliSecs() &gt; timer + rate_of_fire Then	;set weapon firerate
			create_missile()	;create bullets
			
			;create_badfire()	;create alien fire ******* TESTING *******
			
			timer = MilliSecs() ; reset the timer to the current millisecs value.
		EndIf
	EndIf 
	
	;This Updates The Weapon Fire
	play_missile() ;this starts the missil anim

	
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------- ONSCREEN TEXT AND HUD ------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

	SetFont fntblitz
	Color 0,0,0	
	Text 0,40,"Number Of Destructible bricks: " + wallSubCount	
	;Display My Testing Text
	Text 0,80,"X Position (ippX): " +ippx
	Text 0,100,"Y Position (ippY): " +ippY	
	Text 200,80,"X Position (imX): " +imX
	Text 200,100,"Y Position (imY): " +imY
	Text 0,120,"Mouse X Pos: " + MouseX() + " Mouse Y Pos: " + MouseY()
	;show health test
	Text 400,10,"t varible : "

	
	Flip 
	Until KeyDown(1)=1 ;End program when ESC is pressed
End 




; Clear all the fonts from memory! 
FreeFont fntArial
FreeFont fntMSS 
FreeFont fntblitz



;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; END OF GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;




;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------- CREATE GAME FUNCTIONS ------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------




;-------------------------------------------------------------------------------------------------------------------
;--------------------------------------------- Create Player Missiles ----------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

;Create Missiles Function
	Function create_missile() 
		a.missile=New missile
		a\image=missil
		a\missile_life_time = 1500 ; bullet last 2 seconds (2000 milliseconds)
		a\missile_life_timer = MilliSecs() ; set the timer to the same value as milliseconds,
	;Keys
		;a\posx=jetmovX ;the x position of missile creation is the mouse coords(the same coords of my jet of course) 
		;a\posy=a\posy+jetmovY-45;the missile creation start a bit up to the jet(for simulating the launch-bay hehe)
	;Mouse
		a\posx=MouseX();the x position of missile creation
		a\posy=a\posy+MouseY()-35;the missile creation start a bit up To the jet
	
		a\avanzamento=4 ;the speed of the missile 
		a\contatore=0 ;the starting value of the animation 
	End Function 

;Update Missiles Function
Function play_missile() 
	For a.missile=Each missile 
			posizionex=a\posx 
			posizioney=a\posy 
			DrawImage a\image,a\posx,a\posy ;draw the missile image.
			a\posy=a\posy-a\avanzamento ;this move the missile up 
			If posizioney=0	;If missile is off screen delete it.
				Delete a
				Exit	;exit loop if missile is dead. will cause error as they's no missile to check
			End If
		;----------------------------------------------------------------------------------------------

		;----------------------------------------------------------------------------------------------
		
		;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage
		
		;THIS Caculates If All other Image Collidible Images are destroyed
		;--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

		;--------------------------------------------------------------------------------------------------------------------------------------------------------------------------


Next 
End Function 

;__________________________________________________________________________________________________________________________________________
;IPPX and IPPY Speed Functions

Function moverealfast()	
	If KeyDown( 77 ) 
		ippX=ippX+10 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippX=ippX-10 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippY=ippY-10 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippY=ippY+10 ;Number Pad 2
	EndIf
End Function
Function movefast()	
	If KeyDown( 77 ) 
		ippX=ippX+1 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippX=ippX-1 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippY=ippY-1 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippY=ippY+1 ;Number Pad 2
	EndIf
End Function
Function moveslow()
	If KeyHit( 77 ) 
		ippX=ippX+1 ;Number Pad 6
	ElseIf KeyHit( 75 ) 
		ippX=ippX-1 ;Number Pad 4
	ElseIf KeyHit( 72 )
		ippY=ippY-1 ;Number Pad 8
	ElseIf KeyHit( 80 )
		ippY=ippY+1 ;Number Pad 2
	EndIf
End Function




;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

;THE FOLLOWING FUNCTIONS ARE NOT IN THE GAME AT ALL
</textarea> <br><br></td></tr></table><br>
<a name="1157133"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are two visible problems in your code:<br><br>1) Why did you remove the "- 1" from the loops (should be after "wallSubCount")? If you have five objects, and you iterate through 0 - 5, you cover six things and one of them is there in error; the "- 1" wasn't a typo, it ensures that you only iterate through 0 - 4 for a total of five. If you want to count from 1 (as you are doing with the other array), then remove the "- 1", but also start the loop at 1 or whatever you put into slot 0 will be some nonexistent error thing.<br><br>2) You've correctly identified the location of the error. However, I don't think you're fully understanding the point of arrays here: by manually loading each value from a static variable into an array variable, you are negating half the point of having an array there in the first place. You're not doing any check to see that there are ten elements before lining up ten array offsets and sticking things in them. While a loop would conceptually help, it doesn't help you get at the static variables by index because that can't be done.<br><br>The point is, having the "wall1sub<b>N</b>_xpos%" variables <i>at all</i> is causing your bug. If you have ten variables and use them that way, then you have no choice but to have ten elements in that wall. You need to completely get rid of the "static" parts of this program for the arrays to work as intended (e.g. you're even still reading ten position lines from a file that you've decided has only five wall segments).<br><br>In other words, it is right not to know what to do with the rest, because "the rest" shouldn't exist: you just told it there were five, and now there are ten anyway all of a sudden?<br><br>Instead, try this:<br><br><pre class=code>filein = ReadFile("_Data"+"\"+level_name$+"_Data.txt") 
	;select lines to read from
wall1pieces = Right(ReadLine( filein ),  2) ;wall1 Pieces
wall2pieces = Right(ReadLine( filein ), 1) ;wall2 Pieces

Dim xpos(wall1pieces), ypos(wall1pieces)

For i = 1 to wall1pieces
    xpos(i) = Right(ReadLine(filein), 4)
    ypos(i) = Right(ReadLine(filein), 4)
Next

CloseFile filein</pre><br><br>There was no reason for any of those intermediate variables to exist at all. They were artificially constraining the valid shape of your data.<br><br>(A minor bug also in your above was to size the array with "Dim(i)" after a loop over i just finished: never rely on a loop iterator to have any specific value after a loop ends. Technically it's undefined: in practice it's predictable but it would have been the wrong number for your purposes anyway.)<br><br><br>Something that will cause you some grief in the future, that I should point out now, is that your program as it stands is making a lot of hardcoded assumptions about the shape of the config file. Not only the number of lines to read being fixed, but also the particular positions to the right or left in the text..? You might want to consider replacing this with a file parser from the code archives that can read more loosely-formatted data (there are several, to suit your choice of config file format). <br><br></td></tr></table><br>
<a name="1157193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made the changes and it works now, yay.. I made changes to the datafile to try and make it neater, I prefer to save and load .txt files for my data because I can make alterations quickly in notepad. I haven't looked at file parsing yet but its on my to do list. I also altered where I get the wall1pieces varible to "MainMenu.bb".<br><br>This it what it looks like now: <br>:MainMenu.bb<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
;Create Positon Markers to determine if the mouse is above a button.
;START BUTTON
st_bu_beginx#=280
st_bu_endx#=380

st_bu_beginy#=280
st_bu_endy#=330

;OPTIONS BUTTON
op_bu_beginx#=280
op_bu_endx#=380

op_bu_beginy#=280
op_bu_endy#=390

;EXIT BUTTON
ex_bu_beginx#=280
ex_bu_endx#=380

ex_bu_beginy#=400
ex_bu_endy#=450

;Mouse Position
Global m_posx#=MouseX()
Global m_posy#=MouseY()

Global opt_var=0
Global level_name$=""

; Declare a variable to hold the graphic file handle 
Global StartButton_img 
Global OptionsButton_img
Global ExitButton_img




; Set a graphics mode 
Graphics 640,480,16,2

; Set drawing operations for double buffering 
SetBuffer BackBuffer() 


Global wall_button_img=LoadImage("_buttons/wall_button.jpg")
Global wall2_button_img=LoadImage("_buttons/wall2_button.jpg")

; Load the image and assign its file handle to the variable 
; - This assumes you have a graphic called player.bmp in the 
; same folder as this source code 
	StartButton_img=LoadImage("_buttons/Start_button.jpg") 
	OptionsButton_img=LoadImage("_buttons/Options_button.jpg") 
	ExitButton_img=LoadImage("_buttons/Exit_button.jpg") 



; Let's do a loop where the graphic is drawn wherever the 
; mouse is pointing. ESC will exit. 
While Not KeyHit(1) 


	Cls ; clear the screen 
	
	;Draw Button Images
	DrawImage StartButton_img,280,280 ; Draw the image! 
	DrawImage OptionsButton_img,280,340 ; Draw the image! 
	DrawImage ExitButton_img,280,400 ; Draw the image! 
	

	DrawImage wall_button_img,50,50 ; Draw the image! 
	DrawImage wall2_button_img,100,50 ; Draw the image! 
	
If MouseHit(1)=1
	
	If MouseX()=&gt;50 And MouseX()=&lt;100 And MouseY()=&gt;50 And MouseY()=&lt;100
	
		level_name$="wall"
		wall1pieces=10
		wall2pieces=10
		
	ElseIf MouseX()=&gt;100 And MouseX()=&lt;150 And MouseY()=&gt;50 And MouseY()=&lt;100
	
		level_name$="wall2"
		wall1pieces=5
		wall2pieces=5
	EndIf
EndIf
	
;Write Text on Screen when Mouse moves over button

;Start Button
If MouseX()=&gt;280 And MouseX()=&lt;380 And MouseY()=&gt;280 And MouseY()=&lt;330
	Text MouseX(),MouseY(),"Start"
	If MouseDown(1)=1 Then EndGraphics:Exit
End If

;Options Button
If MouseX()=&gt;280 And MouseX()=&lt;380 And MouseY()=&gt;340 And MouseY()=&lt;390
	Text MouseX(),MouseY(),"Options"
	If MouseHit(1)=1 And opt_var=&gt;0
		opt_var=1-opt_var

	EndIf
End If

;Exit Button
If MouseX()=&gt;280 And MouseX()=&lt;380 And MouseY()=&gt;400 And MouseY()=&lt;450
	Text MouseX(),MouseY(),"Exit"
	If MouseDown(1)=1 Then End
End If



If KeyHit(28)=1 And Len(level_name$)&gt;0
	EndGraphics:Exit
EndIf

;****************************************************************************

;								TESTING ZONE

;****************************************************************************




;****************************************************************************

;							TESTING ZONE ENDS

;****************************************************************************

If opt_var=1 
	Rect 390,280,150,150,0
	Text 420,300,"EASY"
	Text 420,350,"NORMAL"
	Text 420,400,"HARD"
EndIf
 
Text 10,10,"Level Selected : '" + level_name$ + "'"
Text 10,25,"wall1pieces : " + wall1pieces 
Text 150,25,"wall2pieces : " + wall2pieces




Flip ; flip the image into view and clear the back buffer 


Wend 
</textarea><br> <br>wallbricks_V.0.2<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Include "MainMenu.bb"

;Set 2d Graphics
Graphics 800,600,32,0;640,480,32,2
SetBuffer BackBuffer() 


;-------------------------------------------------------------------------------------------------------------------
;---------------------------------------------- SET GLOBAL CONSTRAINTS ---------------------------------------------
;-------------------------------------------------------------------------------------------------------------------


;Set Global Constraints
Global posizionex 
Global posizioney
Global	jetmovX=400
Global	jetmovY=300
Global rate_of_fire = 10 ; number of milliseconds between each shot.
Global timer



;Global Background Image Position And Scales
Global imX=-0
Global imY=-0

Global ippX=-0
Global ippY=-0

	Global t=0

	;Load Global Images
		Global fighterjet=LoadImage("_Ships\fighter2.png") ;a simple sprite 
		Global missil=LoadImage("_Other\blast1a.png") ;a simple sprite 
		
		;Load Global Background Images
		Global gfx_bg=LoadImage(level_name$+"\"+level_name$+"_001.jpg") ;Background

	;Set Handles
		MidHandle fighterjet
		MidHandle missil 
		
	;Hide Pointer
		;HidePointer 

		
	;Load GLOBAL FONTS
		fntArial=LoadFont("Arial",24,False,False,False)
		fntMSS=LoadFont("microsoft sans serif",16,True,False,False)
		fntblitz=LoadFont("blitz",12,False,False,False)

;-------------------------------------------------------------------------------------------------------------------
;----------------------------------------- OPEN READ AND CLOSE FILES -----------------------------------------------
;-------------------------------------------------------------------------------------------------------------------




;-------------------------------------------------------------------------------------------------------------------
;------------------------------------------------- CREATE TYPES ----------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

;Create Missile Type
	Type missile ;an object called missile 
		Field posx Field posy Field avanzamento Field contatore 
		Field image
		Field missile_life_time
		Field missile_life_timer
	End Type 


	Const MAX_WALL_PIECES = 15
	Local wallSub[MAX_WALL_PIECES], wallSubHealth#[MAX_WALL_PIECES]
	Local wallSubCount =wall1pieces ;... get the number of wall segments from somewhere 

	Local i : For i = 0 To wallSubCount - 1
	wallSub[i] = LoadImage(level_name$+"\wallpieces\wall1_" + i + ".png")
	
	Next 

; Open the file to Read 
filein = ReadFile("_Data"+"\"+level_name$+"_Data.txt") 


Dim xpos(wall1pieces),ypos(wall1pieces)

For i = 0 To wall1pieces - 1
    xpos(i) = Right(ReadLine(filein), 4)
	ypos(i) = Right(ReadLine(filein), 4)

Next

CloseFile filein

		
;Set Image Alpha Masks
	MaskImage fighterjet,255,255,255 				;White Is Transparent
	MaskImage missil,255,255,255					;White Is Transparent


;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; MAIN GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

Repeat

	Cls 
	
;-------------------------------------------------------------------------------------------------------------------
;------------------------------------------------- DRAW IMAGES -----------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

	;Draw Background Image
	DrawImage gfx_bg,imX,imY

;_____________________________________________________________________________
;_____________________________________________________________________________
		
	;############################################
	;Draw Destructible Image Barriers

		For i = 0 To wallSubCount - 1
;			If wallSubHealth[i] &gt; 0 Then 
			DrawImage wallSub[i],imX+xpos(i),imY+ypos(i)
		Next 

	;############################################
	
	;Draw Player Image
	DrawImage fighterjet,MouseX(),MouseY()
						

;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;------------------------------------ SET KEYBOARD AND MOUSE FUNCTIONS ---------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
		

	
	;Create Movement Keys And Align Image Movement
	
	
	If KeyHit( 11 ) = True And t&lt;wall1pieces
		t=t+1
	EndIf
	If KeyHit( 10 ) = True And t&gt;0
		t=t-1
	EndIf

		If KeyDown( 205 )
			If imX&gt;= -ImageWidth(gfx_bg) + GraphicsWidth()+5
				imX=imX-10 ;Right Arrow
			EndIf
		ElseIf KeyDown( 203 )
			If imX&lt;= -1
				imX=imX+10 ;Left Arrow
			EndIf
		ElseIf KeyDown( 208 )
			If imY&gt;= -ImageHeight(gfx_bg) + GraphicsHeight()+5
				imY=imY-10 ;Up Arrow
			EndIf
		ElseIf KeyDown( 200 )
			If imY&lt;= -1 
				imY=imY+10 ;Down Arrow
			EndIf
		EndIf
		
	
;Set Keys for Image Position Tuning

;Determines the speed of the tuning varibles IPPX and IPPY
Color 0,0,0
If KeyHit(2) Then imspd#=0;
If KeyHit(3) Then imspd#=1;
If KeyHit(4) Then imspd#=2;
If imspd# = 0
	moveslow()
	Text 10,10,"Image movement : Fast " + imspd#
ElseIf imspd#=1
	movefast()
	Text 10,10,"Image movement : Slow " + imspd#
ElseIf imspd#=2
	moverealfast()
	Text 10,10,"Image movement : REAL FAST " + imspd#
EndIf


	;Create Player Weapon Fire 
	If MouseDown(1)=1 ;if i hit the mouse button i create a missile 
		If MilliSecs() &gt; timer + rate_of_fire Then	;set weapon firerate
			create_missile()	;create bullets
			
			;create_badfire()	;create alien fire ******* TESTING *******
			
			timer = MilliSecs() ; reset the timer to the current millisecs value.
		EndIf
	EndIf 
	
	;This Updates The Weapon Fire
	play_missile() ;this starts the missil anim


;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------- ONSCREEN TEXT AND HUD ------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

	SetFont fntblitz
	Color 0,0,0	
	Text 0,40,"Number Of Destructible bricks: " + wallSubCount	
	;Display My Testing Text
	Text 0,80,"X Position (ippX): " +ippx
	Text 0,100,"Y Position (ippY): " +ippY	
	Text 200,80,"X Position (imX): " +imX
	Text 200,100,"Y Position (imY): " +imY
	Text 0,120,"Mouse X Pos: " + MouseX() + " Mouse Y Pos: " + MouseY()
	Text 400,0,"Use [9] and [0] key to cycle image positions.
	Text 400,15,"Image Sub "+ t +" : xpos : " + xpos(t) + "  : ypos : " + ypos(t)

	
	Flip 
	Until KeyDown(1)=1 ;End program when ESC is pressed
End 




; Clear all the fonts from memory! 
FreeFont fntArial
FreeFont fntMSS 
FreeFont fntblitz



;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; END OF GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;




;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------- CREATE GAME FUNCTIONS ------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------




;-------------------------------------------------------------------------------------------------------------------
;--------------------------------------------- Create Player Missiles ----------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

;Create Missiles Function
	Function create_missile() 
		a.missile=New missile
		a\image=missil
		a\missile_life_time = 1500 ; bullet last 2 seconds (2000 milliseconds)
		a\missile_life_timer = MilliSecs() ; set the timer to the same value as milliseconds,
	;Keys
		;a\posx=jetmovX ;the x position of missile creation is the mouse coords(the same coords of my jet of course) 
		;a\posy=a\posy+jetmovY-45;the missile creation start a bit up to the jet(for simulating the launch-bay hehe)
	;Mouse
		a\posx=MouseX();the x position of missile creation
		a\posy=a\posy+MouseY()-35;the missile creation start a bit up To the jet
	
		a\avanzamento=4 ;the speed of the missile 
		a\contatore=0 ;the starting value of the animation 
	End Function 

;Update Missiles Function
Function play_missile()
	For a.missile=Each missile 
			posizionex=a\posx 
			posizioney=a\posy 
			DrawImage a\image,a\posx,a\posy ;draw the missile image.
			a\posy=a\posy-a\avanzamento ;this move the missile up 
			If posizioney=0	;If missile is off screen delete it.
				Delete a
				Exit	;exit loop if missile is dead. will cause error as they's no missile to check
			End If
		;----------------------------------------------------------------------------------------------

		;----------------------------------------------------------------------------------------------
		
		;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage
		
		;THIS Caculates If All other Image Collidible Images are destroyed
		;--------------------------------------------------------------------------------------------------------------------------------------------------------------------------

		;	If ImagesCollide(a\image,a\posx,a\posy,0,wallSub[i],imX+xpos(i),imY+ypos(i),0)
		;		Text 0,220,"Collision"
		;		Delete a
		;	EndIf
Next 
End Function 

;__________________________________________________________________________________________________________________________________________
;IPPX and IPPY Speed Functions

Function moverealfast()	
	If KeyDown( 77 ) 
		ippX=ippX+10 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippX=ippX-10 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippY=ippY-10 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippY=ippY+10 ;Number Pad 2
	EndIf
End Function
Function movefast()	
	If KeyDown( 77 ) 
		ippX=ippX+1 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippX=ippX-1 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippY=ippY-1 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippY=ippY+1 ;Number Pad 2
	EndIf
End Function
Function moveslow()
	If KeyHit( 77 ) 
		ippX=ippX+1 ;Number Pad 6
	ElseIf KeyHit( 75 ) 
		ippX=ippX-1 ;Number Pad 4
	ElseIf KeyHit( 72 )
		ippY=ippY-1 ;Number Pad 8
	ElseIf KeyHit( 80 )
		ippY=ippY+1 ;Number Pad 2
	EndIf
End Function




;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

;THE FOLLOWING FUNCTIONS ARE NOT IN THE GAME AT ALL
</textarea><br><br>Megashares Link: <a href="http://d01.megashares.com/dl/Oy1Danf/Wall_Bricks_V_0.2.rar" target="_blank">http://d01.megashares.com/dl/Oy1Danf/Wall_Bricks_V_0.2.rar</a><br><br>I'm not sure what you meant about the loop iterator being undefined after the loop ends?<br><br>Also I have question about the image collisions, in my code I use a function to update the weapon fire and check for collisions, a type within a function, but in the command reference under the Dim command it says that they must be used in the main program, does that mean that to access them in the function I have to reference them in the function brackets or create a new "for" loop within the function? <br><br></td></tr></table><br>
<a name="1157196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dim arrays must be <i>defined</i> in the main program; that is, they have to be first declared with Dim somewhere outside a function. This is just so that the compiler can see the name of the array in the global scope. You can access the array to set and get values anywhere you like, and you can resize it by calling Dim again within a function, just so long as it was defined once in the global area.<br><br>Dim arrays don't play very well with functions though, and there are some obscure bugs in the compiler (basically, make sure your initial declaration comes higher up in the source code than the function definitions that use it, or it may decide it doesn't recognise the array name). The other kind of arrays work much better with functions, but have their own limitations (as mentioned above).<br><br><br><div class="quote"> I'm not sure what you meant about the loop iterator being undefined after the loop ends? <br></div><br><br>I mean that if you do this:<br><br><pre class=code>Local i : For i = 0 to 4
    ; ... stuff
Next
Print i</pre><br><br>...technically you shouldn't make any assumptions about what number is printed there. In practice it will usually be 5 (but if you break out of the loop with Exit it may be something else), and much existing code relies on this, but it's a bad habit because <i>in theory</i> we don't know exactly what the loop does to i when it ends; the value of i is therefore only well-defined within the bounds of the loop structure, or after we give it a new value. The compiler would be within its rights to insert code that sets i to 10000000 there, for no reason at all; we're done with i after the loop.<br><br>(This doesn't matter very much in B3D, since as I mentioned above the loop actually is predictable in practice, and B3D is a stable implementation, and much code relies on these quirks; but it's a useful kind of thing to remember - "don't rely on undefined behaviour" - if you want to move on to other languages that aren't all so friendly, like C.) <br><br></td></tr></table><br>
<a name="1157211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm back again....and with a new problem.<br>I'm trying to get the images to check for collisions but I keep getting one of 3 diffirent errors.<br><br>If I have:<br>[bbcode]<br>play_missile(wallSub[i],xpos(i),ypos(i))<br>;,,,,<br>;Update Missiles Function<br>Function play_missile(wallSub[i],xpos(i),ypos(i))<br>	For a.missile=Each missile <br>			posizionex=a\posx <br>			posizioney=a\posy<br>			DrawImage a\image,a\posx,a\posy ;draw the missile image.<br>			a\posy=a\posy-a\avanzamento ;this move the missile up <br>			If posizioney=0	;If missile is off screen delete it.<br>				Delete a<br>				Exit	;exit loop if missile is dead. will cause error as they's no missile to check<br>			End If<br>			;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage<br>			If ImagesCollide(a\image,a\posx,a\posy,0,wallSub[i],imX+xpos(i),imY+ypos(i),0)<br>				Text 0,220,"Collision"<br>				Delete a<br>			EndIf<br>Next <br>End Function <br>[/bbcode]<br>I get the error : "Expecting ')'"<br><br>And if I have:<br>[bbcode]<br><br>play_missile(wallSub[i],imY,imY) ;this starts the missil anim<br>;,,,,,<br>;Update Missiles Function<br>Function play_missile(wallSub[i],imY,imY)<br>	For a.missile=Each missile <br>			posizionex=a\posx <br>			posizioney=a\posy<br>			DrawImage a\image,a\posx,a\posy ;draw the missile image.<br>			a\posy=a\posy-a\avanzamento ;this move the missile up <br>			If posizioney=0	;If missile is off screen delete it.<br>				Delete a<br>				Exit	;exit loop if missile is dead. will cause error as they's no missile to check<br>			End If<br>			;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage<br>			If ImagesCollide(a\image,a\posx,a\posy,0,wallSub[i],imX+xpos(i),imY+ypos(i),0)<br>				Text 0,220,"Collision"<br>				Delete a<br>			EndIf<br>Next <br>End Function<br>[/bbcode]<br>I get the Error:"Blitz Array sizes must be constant"<br><br>And If I have:<br>[bbcode]<br>play_missile()<br>;,,,,,<br>Function play_missile()<br>	For a.missile=Each missile <br>			posizionex=a\posx <br>			posizioney=a\posy<br>			DrawImage a\image,a\posx,a\posy ;draw the missile image.<br>			a\posy=a\posy-a\avanzamento ;this move the missile up <br>			If posizioney=0	;If missile is off screen delete it.<br>				Delete a<br>				Exit	;exit loop if missile is dead. will cause error as they's no missile to check<br>			End If<br>			;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage<br>			If ImagesCollide(a\image,a\posx,a\posy,0,wallSub[i],imX+xpos(i),imY+ypos(i),0)<br>				Text 0,220,"Collision"<br>				Delete a<br>			EndIf<br>Next <br>End Function<br>[/bbcode]<br>I get the Error: "Variable must be a Blitz array"<br><br>I'm not sure what the last one means, I thought that whenever I put wallSub[i] it would reference the array created at the top of the code?<br><br>Full Code:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Include "MainMenu.bb"

;Set 2d Graphics
Graphics 800,600,32,0;640,480,32,2
SetBuffer BackBuffer() 


;-------------------------------------------------------------------------------------------------------------------
;---------------------------------------------- SET GLOBAL CONSTRAINTS ---------------------------------------------
;-------------------------------------------------------------------------------------------------------------------


;Set Global Constraints
Global posizionex 
Global posizioney
Global	jetmovX=400
Global	jetmovY=300
Global rate_of_fire = 10 ; number of milliseconds between each shot.
Global timer



;Global Background Image Position And Scales
Global imX=-0
Global imY=-0

Global ippX=-0
Global ippY=-0

Global t=0

Global imagehealth%=50
	;Load Global Images
		Global fighterjet=LoadImage("_Ships\fighter2.png") ;a simple sprite 
		Global missil=LoadImage("_Other\blast1a.png") ;a simple sprite 
		
		;Load Global Background Images
		Global gfx_bg=LoadImage(level_name$+"\"+level_name$+"_001.jpg") ;Background

	;Set Handles
		MidHandle fighterjet
		MidHandle missil 
		
	;Hide Pointer
		;HidePointer 

		
	;Load GLOBAL FONTS
		fntArial=LoadFont("Arial",24,False,False,False)
		fntMSS=LoadFont("microsoft sans serif",16,True,False,False)
		fntblitz=LoadFont("blitz",12,False,False,False)

;-------------------------------------------------------------------------------------------------------------------
;----------------------------------------- OPEN READ AND CLOSE FILES -----------------------------------------------
;-------------------------------------------------------------------------------------------------------------------




;-------------------------------------------------------------------------------------------------------------------
;------------------------------------------------- CREATE TYPES ----------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

;Create Missile Type
	Type missile ;an object called missile 
		Field posx Field posy Field avanzamento Field contatore 
		Field image
		Field missile_life_time
		Field missile_life_timer
	End Type 


	Const MAX_WALL_PIECES = 15
	Local wallSub[MAX_WALL_PIECES], wallSubHealth#[MAX_WALL_PIECES]
	Local wallSubCount =wall1pieces ;... get the number of wall segments from somewhere 

	Local i : For i = 0 To wallSubCount - 1
	wallSub[i] = LoadImage(level_name$+"\wallpieces\wall1_" + i + ".png")
	wallSubHealth[i] = 50
	Next 

; Open the file to Read 
filein = ReadFile("_Data"+"\"+level_name$+"_Data.txt") 


Dim xpos(wall1pieces),ypos(wall1pieces)


For i = 0 To wall1pieces - 1
    xpos(i) = Right(ReadLine(filein), 4)
	ypos(i) = Right(ReadLine(filein), 4)

Next

CloseFile filein

;Dim wallSubHealth#(wall1pieces)
;	wallSubHealth#(3) = 50

;For h = 0 To wallpieces - 1
;	wallSubHealth#(h) = imagehealth%
;Next
		
;Set Image Alpha Masks
	MaskImage fighterjet,255,255,255 				;White Is Transparent
	MaskImage missil,255,255,255					;White Is Transparent


;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; MAIN GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

Repeat

	Cls 
	
;-------------------------------------------------------------------------------------------------------------------
;------------------------------------------------- DRAW IMAGES -----------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

	;Draw Background Image
	DrawImage gfx_bg,imX,imY

;_____________________________________________________________________________
;_____________________________________________________________________________
		
	;############################################
	;Draw Destructible Image Barriers

		For i = 0 To wallSubCount - 1
			If wallSubHealth[i] &gt; 0 Then DrawImage wallSub[i],imX+xpos(i),imY+ypos(i)
		Next 

	;############################################
	
	;Draw Player Image
	DrawImage fighterjet,MouseX(),MouseY()
						

;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;------------------------------------ SET KEYBOARD AND MOUSE FUNCTIONS ---------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
		

	
	;Create Movement Keys And Align Image Movement
	
	
	If KeyHit( 11 ) = True And t&lt;wall1pieces
		t=t+1
	EndIf
	If KeyHit( 10 ) = True And t&gt;0
		t=t-1
	EndIf

		If KeyDown( 205 )
			If imX&gt;= -ImageWidth(gfx_bg) + GraphicsWidth()+5
				imX=imX-10 ;Right Arrow
			EndIf
		ElseIf KeyDown( 203 )
			If imX&lt;= -1
				imX=imX+10 ;Left Arrow
			EndIf
		ElseIf KeyDown( 208 )
			If imY&gt;= -ImageHeight(gfx_bg) + GraphicsHeight()+5
				imY=imY-10 ;Up Arrow
			EndIf
		ElseIf KeyDown( 200 )
			If imY&lt;= -1 
				imY=imY+10 ;Down Arrow
			EndIf
		EndIf
		
	
;Set Keys for Image Position Tuning

;Determines the speed of the tuning varibles IPPX and IPPY
Color 0,0,0
If KeyHit(2) Then imspd#=0;
If KeyHit(3) Then imspd#=1;
If KeyHit(4) Then imspd#=2;
If imspd# = 0
	moveslow()
	Text 10,10,"Image movement : Fast " + imspd#
ElseIf imspd#=1
	movefast()
	Text 10,10,"Image movement : Slow " + imspd#
ElseIf imspd#=2
	moverealfast()
	Text 10,10,"Image movement : REAL FAST " + imspd#
EndIf


	;Create Player Weapon Fire 
	If MouseDown(1)=1 ;if i hit the mouse button i create a missile 
		If MilliSecs() &gt; timer + rate_of_fire Then	;set weapon firerate
			create_missile()	;create bullets
			
			;create_badfire()	;create alien fire ******* TESTING *******
			
			timer = MilliSecs() ; reset the timer to the current millisecs value.
		EndIf
	EndIf 
	
	;This Updates The Weapon Fire
	
	
	play_missile() ;this starts the missil anim


;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------- ONSCREEN TEXT AND HUD ------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

	SetFont fntblitz
	Color 0,0,0	
	Text 0,40,"Number Of Destructible bricks: " + wallSubCount	
	;Display My Testing Text
	Text 0,80,"X Position (ippX): " +ippx
	Text 0,100,"Y Position (ippY): " +ippY	
	Text 200,80,"X Position (imX): " +imX
	Text 200,100,"Y Position (imY): " +imY
	Text 0,120,"Mouse X Pos: " + MouseX() + " Mouse Y Pos: " + MouseY()
	Text 400,0,"Use [9] and [0] key to cycle image positions.
	Text 400,15,"Image Sub "+ t +" : xpos : " + xpos(t) + "  : ypos : " + ypos(t)
	;Text 400,30,"wall sub health 6 = " + wallSubHealth#[6]
	Flip 
	Until KeyDown(1)=1 ;End program when ESC is pressed
End 




; Clear all the fonts from memory! 
FreeFont fntArial
FreeFont fntMSS 
FreeFont fntblitz



;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; END OF GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;




;-------------------------------------------------------------------------------------------------------------------
;-------------------------------------------- CREATE GAME FUNCTIONS ------------------------------------------------
;-------------------------------------------------------------------------------------------------------------------




;-------------------------------------------------------------------------------------------------------------------
;--------------------------------------------- Create Player Missiles ----------------------------------------------
;-------------------------------------------------------------------------------------------------------------------

;Create Missiles Function
	Function create_missile() 
		a.missile=New missile
		a\image=missil
		a\missile_life_time = 1500 ; bullet last 2 seconds (2000 milliseconds)
		a\missile_life_timer = MilliSecs() ; set the timer to the same value as milliseconds,
	;Keys
		;a\posx=jetmovX ;the x position of missile creation is the mouse coords(the same coords of my jet of course) 
		;a\posy=a\posy+jetmovY-45;the missile creation start a bit up to the jet(for simulating the launch-bay hehe)
	;Mouse
		a\posx=MouseX();the x position of missile creation
		a\posy=a\posy+MouseY()-35;the missile creation start a bit up To the jet
	
		a\avanzamento=4 ;the speed of the missile 
		a\contatore=0 ;the starting value of the animation 
	End Function 

;Update Missiles Function
Function play_missile()
	For a.missile=Each missile 
			posizionex=a\posx 
			posizioney=a\posy
			DrawImage a\image,a\posx,a\posy ;draw the missile image.
			a\posy=a\posy-a\avanzamento ;this move the missile up 
			If posizioney=0	;If missile is off screen delete it.
				Delete a
				Exit	;exit loop if missile is dead. will cause error as they's no missile to check
			End If
			;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage
			If ImagesCollide(a\image,a\posx,a\posy,0,wallSub[i],imX+xpos(i),imY+ypos(i),0)
				Text 0,220,"Collision"
				Delete a
			EndIf
Next 
End Function 

;__________________________________________________________________________________________________________________________________________
;IPPX and IPPY Speed Functions

Function moverealfast()	
	If KeyDown( 77 ) 
		ippX=ippX+10 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippX=ippX-10 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippY=ippY-10 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippY=ippY+10 ;Number Pad 2
	EndIf
End Function
Function movefast()	
	If KeyDown( 77 ) 
		ippX=ippX+1 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippX=ippX-1 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippY=ippY-1 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippY=ippY+1 ;Number Pad 2
	EndIf
End Function
Function moveslow()
	If KeyHit( 77 ) 
		ippX=ippX+1 ;Number Pad 6
	ElseIf KeyHit( 75 ) 
		ippX=ippX-1 ;Number Pad 4
	ElseIf KeyHit( 72 )
		ippY=ippY-1 ;Number Pad 8
	ElseIf KeyHit( 80 )
		ippY=ippY+1 ;Number Pad 2
	EndIf
End Function




;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

;THE FOLLOWING FUNCTIONS ARE NOT IN THE GAME AT ALL
</textarea> <br><br></td></tr></table><br>
<a name="1157233"></a>

<a name="1157234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK... you need to decide what you want the functions to do. In all three cases, you're doing some combination of trying to pass in whole arrays - collections of wall segments - when in each case they only actually operate on the one piece of wall. So really there's no need to have the array involved at all.<br><br>So in the first code example, the function call is what I would say is the correct version: you are accessing <i>elements</i> of the three arrays, and thus what you are actually passing to the function is three <i>integers</i>. Not three arrays: the values have been extracted. To make this version work, all you have to do is take the subscripts off your parameter declarations so that the function knows it is expecting three <i>values which are not in any way arrays</i>, like this:<br><br><pre class=code>Function play_missile(wallSub,xpos,ypos)
    ; ...
End Function</pre><br><br>These three <i>local integers</i> now happen to have the same names as three arrays from the surrounding scope, so you may want to rename them for the sake of clarity (but it's not a problem for the compiler).<br><br><br>Your other two examples have a couple of errors of their own:<br><br>-- In the second example, the parameter "wallSub[ i ]" is telling the function to expect a <i>whole array</i> as argument, not just one element. Unfortunately "i" is not a constant, and the size of Blitz arrays must be constant, so this is not allowed. It also won't work with the calling line, since you're only passing it element i of the array, not the whole array.<br><br>-- In the third example, the array wallSub is not visible from inside the function because it is <i>local to the main program</i>. The Dim arrays are fine because Dim arrays are always also global, but Blitz arrays must be declared with global, or passed in as parameters.<br><br>(If you don't fully understand the implications of "local scope" yet, <i>please read up on this</i> before continuing. Scope is one of the most important and fundamental concepts in all of programming, and you <i>must</i> understand it in order to do well.)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1157269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, I tried writing it like that early on.<br>[bbcode]<br>Function play_missile(wallSub,xpos,ypos)<br>;,,,,,<br>End Function <br>[/bbcode]<br><br>but I kept getting the error "Identifier 'xpos' may not be used like this". I assumed that the 'xpos' required the (i) after it to determine which array index it was using.<br><br>Also with the [i] array needing to be declared globally is it better than using Dim 'something'(i) array. Should all my arrays use [] brackets? <br><br></td></tr></table><br>
<a name="1157271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I kept getting the error "Identifier 'xpos' may not be used like this". <br></div><br><br>Weird, I didn't get that. To be on the safe side you may as well give the parameter a different name. It'll be less confusing as well since the name won't overlap with the array name.<br><br><br><div class="quote"> with the [i] array needing to be declared globally <br></div><br><br>There is no need for the array to be global (at least, not for this reason). You don't use the array in that function, only one element from it. Passing the element itself in, and forgetting all about the existence of the array while within the function, is a far better way to design that one.<br><br>As for whether you should use () or [] arrays, I would refer you to the link originally in my second post: <a href="http://www.blitzbasic.com/Community/posts.php?topic=98674#1154877" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=98674#1154877</a><br><br>...i.e. They have different advantages and disadvantages, so the better option depends on the situation. (For my own part I like to think anything you can do with a Dim array, you can do better in other ways, but that requires more advanced techniques so don't worry about it right now.) <br><br></td></tr></table><br>
<a name="1157278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've spent the last hour trying to rename the parameter, but I keep getting either "Identifier '????' may not be used like this" or "Illegal type conversion". I did have the collisions working for one image earlier but I stupidly changed something without backing up first, and now I just get those to errors. It makes me want to snap my computer. <br><br></td></tr></table><br>
<a name="1157280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> This may be a stupid question on my part, but how are you going about renaming the parameter? I obviously don't know how well you understand functions and it's a bit hard to guess from your posts.<br><br>But if you:<br><br>1) rename all three parameters in the function declaration line<br><br>2) make sure all references that <i>were</i> to the array value within the function are now to the <i>renamed</i> parameter, and<br><br>3) pass array elements, not whole arrays<br><br>... then you should avoid that error.<br><br><br>i.e. like this:<br><br><pre class=code>;Update Missiles Function
Function play_missile(wallSeg ,xp, yp)
	For a.missile=Each missile
		posizionex=a\posx
		posizioney=a\posy
		DrawImage a\image,a\posx,a\posy ;draw the missile image.
		a\posy=a\posy-a\avanzamento ;this move the missile up
		If posizioney=0 ;If missile is off screen delete it.
			Delete a
			Exit    ;exit loop if missile is dead. will cause error as they's no missile to check
		End If
                        ;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage
		If ImagesCollide(a\image,a\posx,a\posy,0,wallSeg,imX+xp,imY+yp,0)
			Text 0,220,"Collision"
			Delete a
		EndIf
	Next
End Function

;Call thusly
play_missile(wallSub[i], xpos(i), ypos(i))</pre><br><br>With no references to arrays at all, or attempting to shadow array names with locals (which may not work for xpos and ypos, because Dim arrays are bugged that way), there is no reason for it to object to your use of identifiers. <br><br></td></tr></table><br>
<a name="1157312"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok that works, kind of. Think my mistake was leaving the (i) in the function play_missile(subWall,xpos(i),ypos(i)). When I take it out any rename works, kind of..<br><br>What happens now is the game loads fine and displays the wallsubs in the right position but when a missle is fired I get "Image does not exist" this is the same error I was getting a couple of days ago with the old code, which I attributed to the function trying to check collisions for an image that doesn't exist, so I tried removing the -1 from the for loop at the start.<br><br>[bbcode]<br>	Const MAX_WALL_PIECES = 15<br>	Global wallSub[MAX_WALL_PIECES], wallSubHealth#[MAX_WALL_PIECES]<br>	Local wallSubCount =wall1pieces ;... get the number of wall segments from somewhere <br><br>	Local i : For i = 0 To wallSubCount ;- 1<br>	wallSub[i] = LoadImage(level_name$+"\wallpieces\wall1_" + i + ".png")<br>	wallSubHealth[i] = 50<br>	Next <br><br>; Open the file to Read <br>filein = ReadFile("_Data"+"\"+level_name$+"_Data.txt") <br><br><br>Dim xpos(wall1pieces),ypos(wall1pieces)<br><br><br>For i = 0 To wall1pieces ;- 1<br>    xpos(i) = Right(ReadLine(filein), 4)<br>	ypos(i) = Right(ReadLine(filein), 4)<br><br>Next<br><br>CloseFile filein<br>[/bbcode]<br>and then I don't get the error.........or any collisions. but anyway I will keep trying to find whats going wrong. <br><br></td></tr></table><br>
<a name="1157315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Turns out there are collisions are collisions there just not in the right place.(it wouldn't let me edit my previous post) <br><br></td></tr></table><br>
<a name="1157316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Turns out there are collisions there just not in the right place.(it wouldn't let me edit my previous post) <br><br></td></tr></table><br>
<a name="1157375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think at this point it might be sensible to take what you've learned about arrays, references, parameters, etc., and rewrite that loading and collision code from scratch, applying a few simplifications where you can see they would fit (e.g. you don't need two variables "wallSubCount" and "wall1pieces" to hold the same value). Trying to patch little fixes onto something you write before fully understanding the principle you;re now trying to use will result in very confusing code.<br><br><br>I would also like to take a moment to recommend you use the wonderful replacement editor <a href="http://www.fungamesfactory.com/" target="_blank">IDEal</a>. It'll auto-indent your code, syntax colour variables and functions, and point out undeclared variables and potential errors for you (plus many other features that will become more useful as you become more confident). Not to mention having an undo feature, so the next time you make a breaking change and don't know what it was, you don't have to worry about it! <br><br></td></tr></table><br>
<a name="1157936"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heyo, I'm back again. I finished retyping my code in IDEal, it came out pretty much the same. Anyway I'm still working on image collision, and I've incountered somthing strange(It doesn't really make sense to me).<br><br>I call my function like you suggested:<br>[bbcode]play_missile(wallSub[i],xpos(i),ypos(i),wallSubHealth[i])<br>;,,,,Later<br>Function play_missile(wallSub,xp,yp,heal)<br>	For a.missile=Each missile <br>		posizioneX=a\posx <br>		posizioneY=a\posx<br>		DrawImage a\image,a\posx,a\posy ;Draw the missile image.<br>		a\posy=a\posy-a\misp 			;This move the missile up <br>		If posizioneY=0					;If missile is off screen delete it.<br>			Delete a<br>			Exit						;Exit loop if missile is dead. will cause error as they's no missile to check<br>		End If<br>		<br>		;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage<br>		If ImagesCollide(a\image,a\posx,a\posy,0,wallSub,imX+xp,imY+yp,0) And heal&gt;0<br>			Rect imX+xp,imY+yp,ImageWidth(wallSub),ImageHeight(wallSub),0<br>			wallSubHealth[i] = wallSubHealth[i] - 1<br>			Text 0,220,"Collision " + wallSub<br>			Delete a<br>		EndIf<br>	Next <br>End Function<br>[/bbcode]<br><br>I always asumed that the words in the function() were place holders for whatever was placed in the brackets when the function was called.<br><br> I thought that what my code above was the same as:<br><br><br>[bbcode]<br>play_missile(wallSub[i],xpos(i),ypos(i),wallSubHealth[i])<br>;,,,,Later<br>Function play_missile(wallSub,xp,yp,heal)<br>	For a.missile=Each missile <br>		posizioneX=a\posx <br>		posizioneY=a\posx<br>		DrawImage a\image,a\posx,a\posy ;Draw the missile image.<br>		a\posy=a\posy-a\misp 			;This move the missile up <br>		If posizioneY=0					;If missile is off screen delete it.<br>			Delete a<br>			Exit						;Exit loop if missile is dead. will cause error as they's no missile to check<br>		End If<br>		<br>		;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage<br>		If ImagesCollide(a\image,a\posx,a\posy,0,wallSub,imX+xpos(i),imY+ypos(i),0) And heal&gt;0<br>			Rect imX+xp,imY+yp,ImageWidth(wallSub),ImageHeight(wallSub),0<br>			wallSubHealth[i] = wallSubHealth[i] - 1<br>			Text 0,220,"Collision " + wallSub<br>			Delete a<br>		EndIf<br>	Next <br>End Function<br>[/bbcode]<br>[I copied the code from IDEal, its making the indents look a little wacky its also adding a semicolon to "heal&gt;0"]<br><br>but when I compile it the collisions occur at 2 diffirent positions.<br>Shouldn't the 2 pieces of code have the same effect? <br><br></td></tr></table><br>
<a name="1157946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> its also adding a semicolon to "heal&gt;0" <br></div><br><br>That's a bug in the forum markup codes when you use the coloured code boxes. I prefer to use the uncoloured ones for this reason.<br><br><br>The code looks like it does the same thing to me, but perhaps I'm not seeing something.<br><br>In any case, you really need to decide how you want your design to work. Are you passing values into a function as parameters, or does the function have access to globals? You'll really find it <i>so</i> much easier if you stop mixing the two different methods of passing data.<br><br>Passing in the health as a value is obviously not going to work by itself because you can't modify the source of the value, which you've obviously noticed and are still using the global access point for wallSubHealth. What you can do to avoid this however is define a type describing wall segments, and pass in wall segments as single unified objects containing the x, y, and health properties - and which most importantly, are mutable in-place. You obviously already have some handle on this since you're using it for missiles, so... why not ditch the mess that is arrays altogether and group your data by use? You can still have the one array that just holds WallSub objects outside if you need a container for them, but you can ignore all of this trying to make different scopes work together and set values outside the function and all of that: within the function, just operate on the WallSub object. <br><br></td></tr></table><br>
<a name="1157994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> I did think about making the wall segments into a TYPE when I started, but wasn't sure if it would work if my wallsegments were diffirent sizes(currently all the images are the same size). I thought that Types were best when drawing lots of one object, like weapon fire or enermy ships,etc.<br><br><div class="quote"> <br>. why not ditch the mess that is arrays altogether and group your data by use? You can still have the one array that just holds WallSub objects outside if you need a container for them, but you can ignore all of this trying to make different scopes work together and set values outside the function and all of that: within the function, just operate on the WallSub object. <br> <br></div><br><br>I'm actually only a beginner and my use of types is really from the most basic tutorial I could find, as I use more functions and codes I do see alot of where I can shorten my code or do diffirent things, I'm still don't know to much about this. <br><br></td></tr></table><br>
<a name="1158022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> wasn't sure if it would work if my wallsegments were diffirent sizes(currently all the images are the same size). I thought that Types were best when drawing lots of one object, like weapon fire or enermy ships,etc. <br></div><br><br>Yes, it will work fine.<br><br>A field (as specified in a type) is exactly the same as a variable. It's merely a variable located in a dynamically created object, instead of a variable located in the main program stack. You can put <i>anything</i> into a field that you could put into a regular variable. So anything you could do with images normally, you can also do by storing them in an object. If you need extra data to manipulate the image, you can store that in the object too. <br><br></td></tr></table><br>
<a name="1158457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, I've been busy for a couple of days, and only had a quick look at types but I figured I'd try to load my wallSubs into a TYPE, and have not been having much luck. I know how to make then work like a bullet, loading 1 image and updating it repeatedly. But I can't get the diffirent images to be positioned in there right spots, I think that all the images are there but they're being piled one ontop the other. I been calling the data from the array "wallSub[i]", within a FOR loop(I think...I'm not very good with types yet)<br><br>[bbcode]<br>Type wallchunk	;Create a TYPE called "wallchunk".<br>	Field ch_xpos Field ch_ypos<br>	Field theimage<br>End Type<br>;later,,,,,<br>	;Draw Destructible Image Barriers<br>	For i = 0 To wallSubCount - 1<br>		wallbitdraw()<br>		If wallSubHealth[i] &gt; 0 And wallSubHealth[i] &lt; 50	;Checks If health is between 0 and 50<br>			Rect imX+xpos(i)-10,imY+ypos(i)-10,ImageWidth(wallSub[i])+20,ImageHeight(wallSub[i])+20,0	;draws a rectangle around the collidible image<br>		EndIf<br>	Next<br>;Later,,,,,,,<br>Function wallbitdraw(); Function that reads from my array and draws the wall pieces;<br>	b.wallchunk = New wallchunk<br>	b\ch_xpos = xpos(i)<br>	b\ch_ypos = ypos(i)<br>	b\theimage = wallSub[i]<br>	DrawImage b\theimage,imX+b\ch_xpos,imY+b\ch_ypos<br>End Function<br>[/bbcode]<br><br>I tried creating a function to load images and then one to update there position but I kept getting that error about "Variable needs to be a blitz array" and I couldn't figure out how fix it so I went to this simpler version where the images are loaded and positioned in one function.<br><br>Could you recommend any tutorials about TYPES and arrays that would help me better understand? <br><br></td></tr></table><br>
<a name="1158621"></a>

<a name="1158622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, here's something that helped me understand it. Types are individual things; each Type is a thing unto itself that has a bunch of variables, all of which have the same <i>name</i> as the other Types, but contain something unique. For instance:<br><br>[bbcode]Type thing<br>    Field name$<br>End Type[/bbcode]<br>Now, if you make three of those <b>thing</b> Types, all three of them will have a field (variable) which is named "<b>name$</b>" in your code, but each one will be whatever you set it to. Could be "thing 1," "thing 2," and so on. The name of the variable is the same, but it's not actually the same variable.<br><br>Now, here's the deal: all of those Types exist in a list, or stack, which is hidden from your view entirely. You don't need to think about it. What you <i>do</i> need to think about is that the list has a specific order, which generally goes from first-created Type to last-created, and every time you make a <b>New</b> Type, the list gets one entry bigger. In your code above, you're making new Types all the time, but they're never being deleted; this is called a "memory leak," because your program will gradually use more and more memory over time as it adds more and more Types to the list.<br><br>Let's try a sample program, to demonstrate Types with three balls (you can copy this into a new bb file and run it):<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">; First, we'll declare a Type named "ball."
Type ball
	
	Field id ; So that we can see which ball is which.
	
	Field x,y ; These two will hold the ball's X and Y position.
	
	Field ySpeed ; The ball's vertical (Y-axis) movement, naturally.
	
End Type


; Now we'll create three balls. Note that the use of "Local" isn't technically required by
; Blitz - it's just good practice, and has become a habit.
Local i

SeedRnd MilliSecs()

For i = 1 To 3
	
	Local b.ball = New ball
		b\id = i
		
		b\x = Rand(100,700)
		b\y = Rand(100,500)
		
		b\ySpeed = 1 ; Start them moving down
	
Next
; Alright, we now have three Types of the "ball" variety. These exist in their invisible,
; floaty space within Blitz. The ball we created first, #1, is the first one in the list,
; and the last ball, #3, is at the end of the list.


; Now that we've got our balls, we'll have to DO things with them. We'll use a function.
Function updateBalls()
	
	; Here's how this goes. Blitz is now holding a list of "ball" Types. There are three
	; items in that list. To GET to them, though, we need a variable. This is a lot like
	; handles - when you load an image, you use a variable to store its handle, so that
	; you can later tell Blitz "I want you do draw such-and-such an image here." Same deal
	; with Types - the important difference is that the variable can contain the handle
	; for each of the Types in the list, in turn, one at a time. Just watch.
	
	
	; "b" is the variable that will act as the handle. ".ball" tells Blitz that b is now to
	; be used as the handle for "ball" Types. In other words, b now contains the handle for
	; whichever ball we choose.
	Local b.ball
	
	
	; This loop here, the FOR...EACH loop, does exactly what you think it does: it loops
	; through EACH ball Type, one at a time. It starts at the first Type in the list, #1,
	; and stores its handle in b. When the loop reaches "Next," it loops back around, takes
	; the next Type in the list - #2 - and stores THAT handle in b. In this way, b ends up
	; temporarily acting as a handle for every ball Type in the list, one at a time.
	For b.ball = Each ball
		
		b\y = b\y + b\ySpeed ; Move the ball
		
		If b\y &lt; 0 Or b\y &gt; 600 Then b\ySpeed = -b\ySpeed ; Keep the ball onscreen
		
		Color 0,0,255
		Oval b\x - 10,b\y - 10,21,21 ; Draw the ball itself
		Color 255,255,255
		Text b\x,b\y,b\id,True,True ; Also, show its ID number
		
	Next ; Loop around again, go to the next ball Type in the list, and pass its handle to b
	
End Function


; And finally, a simple main loop to run it all.

Graphics 800,600,0,2

SetBuffer BackBuffer()

While Not KeyHit(1)
	
	Cls
	
	updateBalls
	
	Flip
	
Wend

End</textarea><br><br>Hopefully this will clear some things up for you about Types and handles. A Type will <i>remain in existence until it is deleted by you</i>, so you should now be able to see how your <b>wallbitdraw()</b> function is causing a problem by creating Types endlessly and never deleting them. The power of Types is in creating many different things (but all of the same TYPE) that stick around as long as you want them, like bullets or spaceships or anything you need to persist for more than one frame.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1158695"></a>

<a name="1158698"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adam&gt;&gt; I find some of your explanations very confusing, my understanding is not the same as yours, but maybe i am wrong. If so can you please explain with more details what you mean.<br><br><div class="quote"> <br>; Here's how this goes. Blitz is now holding a list of "ball" Types. There are three<br>	; items in that list. <br> <br></div><br>No. Blitz is now holding a list of objects of the type "ball". There are three objects of this type.<br><br><br><br><div class="quote"> <br>To GET to them, though, we need a variable. This is a lot like<br>	; handles - when you load an image, you use a variable to store its handle, so that<br>	; you can later tell Blitz "I want you do draw such-and-such an image here." Same deal<br>	; with Types - the important difference is that the variable can contain the handle<br>	; for each of the Types in the list, in turn, one at a time.<br> <br></div><br>No, in Blitz there are pointers and handles but they are not the same thing.<br>The handles are used only with types and it is the objects count of all objects of all types.<br><br>See the difference :<br><pre class=code>
Graphics3D(800,600,32,2)
HidePointer()
SetBuffer(BackBuffer())

Type TCharacter
 Field Name$
 Field Age%
 Field Energy#
 Field Mesh
End Type

Type TFood
 Field Name$
 Field EnergyValue#
 Field Mesh
End Type

C.TCharacter = New TCharacter
 C\Name = "Ashley"
 C\Age = 25
 C\Energy = 100.0
 C\Mesh = CreateCube()
 ;DebugLog("C = "+C)
 DebugLog("Handle(C) = "+Handle(C))
 DebugLog("Mesh pointer = "+C\Mesh)

C.TCharacter = New TCharacter
 C\Name = "Sydney"
 C\Age = 30
 C\Energy = 150.0
 C\Mesh = CreateCube()
 ;DebugLog("C = "+C)
 DebugLog("Handle(C) = "+Handle(C))
 DebugLog("Mesh pointer = "+C\Mesh)

C.TCharacter = New TCharacter
 C\Name = "Romeo"
 C\Age = 35
 C\Energy = 200.0
 C\Mesh = CreateCube()
 ;DebugLog("C = "+C)
 DebugLog("Handle(C) = "+Handle(C))
 DebugLog("Mesh pointer = "+C\Mesh)

F.TFood = New TFood 
 F\Name = "Apple"
 F\EnergyValue = 10.0
 F\Mesh = CreateCube()
 ;DebugLog("F = "+F)
 DebugLog("Handle(F) = "+Handle(F))
 DebugLog("Mesh pointer = "+F\Mesh)

F.TFood = New TFood 
 F\Name = "Banana"
 F\EnergyValue = 15.0
 F\Mesh = CreateCube()
 ;DebugLog("F = "+F)
 DebugLog("Handle(F) = "+Handle(F))
 DebugLog("Mesh pointer = "+F\Mesh)

F.TFood = New TFood 
 F\Name = "Raisin"
 F\EnergyValue = 12.5
 F\Mesh = CreateCube()
 ;DebugLog("F = "+F)
 DebugLog("Handle(F) = "+Handle(F))
 DebugLog("Mesh pointer = "+F\Mesh)

FlushKeys()
WaitKey()
End()
</pre><br>You can see the difference between a handle and a pointer here.<br>A handle for a Type in Blitz3d is like an index for a Dim array except the handle count is shared with all Type lists.<br><br><br><div class="quote"> <br>"b" is the variable that will act as the handle. ".ball" tells Blitz that b is now to<br>	; be used as the handle for "ball" Types. In other words, b now contains the handle for<br>	; whichever ball we choose.<br> <br></div><br>Again no, see the example above, you can't see what "b" is because it is not the handle, it is the object of a type.<br><br><br><div class="quote"> <br>; This loop here, the FOR...EACH loop, does exactly what you think it does: it loops<br>	; through EACH ball Type, one at a time. It starts at the first Type in the list, #1,<br>	; and stores its handle in b. When the loop reaches "Next," it loops back around, takes<br>	; the next Type in the list - #2 - and stores THAT handle in b. In this way, b ends up<br>	; temporarily acting as a handle for every ball Type in the list, one at a time.<br> <br></div><br>No, it loops through each object of the type "ball". Again b is not an handle, b represents the object of a type (the thing that holds all the variables and pointers)<br><br>Add this to the other code:<br><pre class=code>
I% = 1

C.TCharacter = Object.TCharacter(I) 
 DebugLog("C\Name = "+C\Name)
 DebugLog("C\Age = "+C\Age)
 DebugLog("C\Energy = "+C\Energy) 

F.TFood = Object.TFood(I) 
 DebugLog("F\Name = "+F\Name)
 DebugLog("F\EnergyValue = "+F\EnergyValue)
</pre><br>If I% is equal to 1 or 2 or 3, it is possible to retrieve an object in the TCharacter list, else it porvokes an error.<br>If I% is equal to 4 or 5 or 6, it is possible to retrieve an object in the TFood list, else it porvokes an error.<br><br>This is why when working with several type lists, you need to name your colliders with their type and handle. Else, after you retrieve the infos of a collision or of a linepick, you will not be able to know in which list to search. <br>For example :<br>NameEntity(C\Mesh,Handle(C))<br>vs<br>NameEntity(C\Mesh,"CHA"+Handle(C))<br>(it is possible to do the same thing when working with objects stored in Dim arrays)<br><br>Please let me know what you think is true or false. I want to understand it correctly.<br><br>Thanks,<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1158712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> RemiD, your post is right for the most part. There's a bit of a clash of terminologies here though: you're using the "correct" terminology as established by BlitzMax and every other language in the universe; Adam is using the Blitz3D Manual's terminology, which... is confusing and ambiguous because it refers to objects as "types", and intentionally avoids talking about pointers, and all of that sort of thing.<br><br>Personally I think using the universal convention, as you've been doing, is better, as the B3D convention is... ambiguous even within the context of B3D (if you use "Type" and "Handle" to refer to object and pointer... what are a syntactic type and handle? Don't even suggest dragging "kind" and "reference" into this - those mean different things yet again in general CS!).<br><br><br>You are wrong on one minor point though:<br><br><div class="quote"> If I% is equal to 1 or 2 or 3, it is possible to retrieve an object in the TCharacter list, else it porvokes an error.<br>If I% is equal to 4 or 5 or 6, it is possible to retrieve an object in the TFood list, else it porvokes an error. <br></div><br><br>The Object command never raises an error, it just returns Null for invalid objects of the requested type. So you can actually test for the stored type of an int handle like this:<br><br><pre class=code>Select True
    Case Object.MyType1 hdl &lt;&gt; Null : Return "MyType1"
    Case Object.MyType2 hdl &lt;&gt; Null : Return "MyType2"
    Case Object.MyType3 hdl &lt;&gt; Null : Return "MyType3"
End Select</pre><br><br>...or, more usefully, actually do something with it, but anyway you get the idea. This is how you're intended to implement polymorphic methods in B3D (otherwise, what would be the point of having Handle at all?). <br><br></td></tr></table><br>
<a name="1158716"></a>

<a name="1158717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>RemiD, your post is right for the most part. There's a bit of a clash of terminologies here though: you're using the "correct" terminology as established by BlitzMax and every other language in the universe; Adam is using the Blitz3D Manual's terminology, which... is confusing and ambiguous because it refers to objects as "types", and intentionally avoids talking about pointers, and all of that sort of thing.<br> <br></div><br>Good for me. <br><br><br><br><div class="quote"> <br>(otherwise, what would be the point of having Handle at all?). <br> <br></div><br>I don't know if this is a question or a statement so :<br><br>I often associate the handle (for types) or the index (for Dim arrays) of an object (the thing that holds all the variables and pointers) to a collider, also with its List name so that when i retrieve the EntityName() of the collider which has been collided or picked, i can retrieve its List name and its index (or handle). <br>With this, there is no need to use a For Next loop, i can use the index to search in the appropriate Dim array or the command Object.TType(Handle) to search in the appropriate Type and retrieve directly the object parameters.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1158726"></a>

<a name="1158727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do understand that most of the terminology is wrong there. Since Newbie31 had no experience of Types whatsoever, though, I figured it'd be best to approach him as I wish I had been approached when I first started out, by keeping terms as simple and familiar as possible. He'll discover the details later on the road; back when I was at his level, explanations of pointers and objects and the <b>Handle()</b> command versus actual variable handles proved utterly unhelpful, and simply confused me even more.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1158767"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heyo, <br><br>I'm back again, I went back over my code and found the error that was making the images not appear in there correct places('I had forgot to declare a varible as global in my include file.'). Anyway I'm still having problems with detecting collisions between images with TYPES.<br><br>This is how I draw the images(this one works):<br>[bbcode]<br>Type wallchunk	;Create a TYPE called "wallchunk".<br>	Field ch_xpos Field ch_ypos<br>	Field theimage<br>	Field imagehealth<br>End Type<br>;,,,,later<br>	;Draw Destructible Image Barriers<br>	wallbitdraw()	;this function draws the destructible image barrier<br><br>	If wallSubHealth[i] &gt; 0 And wallSubHealth[i] &lt; 50	;Checks If health is between 0 and 50<br>		Rect imX+xpos(i)-10,imY+ypos(i)-10,ImageWidth(wallSub[i])+20,ImageHeight(wallSub[i])+20,0	;draws a rectanlge around the collidible image<br>	EndIf<br>;,,,,,later<br>Function wallbitdraw(); Function that reads from my array and draws the wall pieces;<br>	For i = 0 To wall1pieces% - 1<br>		b.wallchunk = New wallchunk<br>		b\ch_xpos = xpos(i)<br>		b\ch_ypos = ypos(i)<br>		b\theimage = wallSub[i]<br>		If wallSubHealth[i] &gt; 0 <br>			DrawImage b\theimage,imX+b\ch_xpos,imY+b\ch_ypos<br>		EndIf<br>		If wallSubHealth[i] &lt; 1<br>			Delete b<br>		EndIf<br>	Next<br>End Function<br>[/bbcode]<br>I've put it in one function, I'm not sure if I need a second to update because the images don't move. The aim is to have them disappear when their health is depleted.<br><br>This is the code I'm trying to get working for collisions(doesn't work yet).<br>[bbcode]<br>Type wallchunk	;Create a TYPE called "wallchunk".<br>	Field ch_xpos Field ch_ypos<br>	Field theimage<br>	Field imagehealth<br>End Type<br>;,,,,later<br>	;Draw Destructible Image Barriers<br>	wallbitdrawandcol()	;this function draws the destructible image barrier and checks for collisions.<br>	<br>	If wallSubHealth[i] &gt; 0 And wallSubHealth[i] &lt; 50	;Checks If health is between 0 and 50<br>		Rect imX+xpos(i)-10,imY+ypos(i)-10,ImageWidth(wallSub[i])+20,ImageHeight(wallSub[i])+20,0	;draws a rectanlge around the collidible image<br>	EndIf<br>;,,,,,later<br>Function wallbitdrawandcol(); Function that reads from my array and draws the wall pieces and Checks for collisions<br>For i = 0 To wall1pieces% - 1<br>	b.wallchunk = New wallchunk<br>	b\ch_xpos = xpos(i)<br>	b\ch_ypos = ypos(i)<br>	b\theimage = wallSub[i]<br>	b\imagehealth = wallSubHealth[i]<br>	DrawImage b\theimage,imX+b\ch_xpos,imY+b\ch_ypos<br>	If wallSubHealth[i] &lt; 1<br>		For b.wallchunk = Each wallchunk<br>			If ImagesCollide(a\image,a\posx,a\posy,0,b\theimage,imX+b\ch_xpos,imY+b\ch_ypos,0)<br>				b\imagehealth = b\imagehealth - 1<br>				Text 0,220,"Collision "<br>				Delete a<br>			EndIf<br>		Next<br>		Delete b<br>	EndIf<br>Next<br>End Function<br>[/bbcode]<br>I keep getting the error "Varible must be a type. Line: 290, Column: 4". Thats the line with "ImagesCollide"<br><br><br>My Full Code:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Include"MainMenu.bb"

;Set 2d Graphics
Graphics 800,600,32,2
SetBuffer BackBuffer()

;_________________________________________________
;______________Set Global Constraints_____________
;_________________________________________________

Global posizioneX = 0
Global posizioneY = 0
Global jetmovX = 300
Global jetmovY = 400
Global rate_of_fire = 10	;The Number of Milliseconds between each shot.

;Global Background Image Position And Scales
Global imX = 0	;Set X position for Background Images
Global imY = 0	;Set Y position for Background Images
Global ippx = 0	;Set X position for Image Tuning
Global ippy = 0	;Set Y position for Image Tuning

Global t = 0	;Set global t variable

;Load Global Images
Global fighterjet = LoadImage("_Ships\fighter2.png")	;Load JetFighter Sprite
Global jetfire = LoadImage("_Other\blast1a.png")	;Load JetFighter Fire Sprite

;Global Load Background Image
gfx_bg=LoadImage(level_name$+"\"+level_name$+"_001.jpg");Load the Background Image

;Set Handles [Where the Image is drawn from]
MidHandle fighterjet
MidHandle jetfire

;Hide Pointer
;HidePointer

;Load GLOBAL FONTS
fntArial=LoadFont("Arial",24,False,False,False)
fntMSS=LoadFont("microsoft sans serif",16,True,False,False)
fntblitz=LoadFont("blitz",12,False,False,False)

;_________________________________________________
;__________________ Create TYPES _________________
;_________________________________________________

;Create Missile Type
Type missile ;Create A TYPE called "missle"
	Field posx Field posy Field misp Field animstrt 
	Field image
	Field missile_life_time
	Field missile_life_timer
End Type 


Type wallchunk	;Create a TYPE called "wallchunk".
	Field ch_xpos Field ch_ypos
	Field theimage
	Field imagehealth
End Type

;_________________________________________________
;_________________________________________________
;_________________________________________________

;Image Loading and Drawing Loops
Const MAX_WALL_BITS = 15
Global wallSub[MAX_WALL_BITS], wallSubHealth[MAX_WALL_BITS]	;Create an array to hold WallSub pieces and Health
Local wallSubCount = wall1pieces%

Local i : For i = 0 To wallSubCount ;- 1
	wallSub[i] = LoadImage(level_name$+"\wallpieces\wall1_" + i + ".png")
	wallSubHealth[i] = 50
Next

;Open File To Read Data From
level_data = ReadFile("_Data"+"\"+level_name$+"_Data.txt")

Dim xpos(wall1pieces%),ypos(wall1pieces%)


For i = 0 To wall1pieces% ;- 1
    xpos(i) = Right(ReadLine(level_data), 4)
	ypos(i) = Right(ReadLine(level_data), 4)
	
Next

;Close The Data File
CloseFile level_data

;_________________________________________________
;___________________ Set Image Masks _____________
;_________________________________________________

;Set image Alpha Channels
MaskImage fighterjet,255,255,255	;White Is Transparent
MaskImage jetfire,255,255,255		;White Is Transparent


;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; MAIN GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

Repeat
	Cls
	
	If KeyHit( 19 ) = True
		End
	EndIf	
	
	;DRAW IMAGES
	DrawImage gfx_bg,imX,imY	;Draws The Background Image
	
	;Draw Destructible Image Barriers
	;wallbitdraw()	;this function draws the destructible image barrier
	
	wallbitdrawandcol()	;this function draws the destructible image barrier and checks for collisions.
	
	If wallSubHealth[i] &gt; 0 And wallSubHealth[i] &lt; 50	;Checks If health is between 0 and 50
		Rect imX+xpos(i)-10,imY+ypos(i)-10,ImageWidth(wallSub[i])+20,ImageHeight(wallSub[i])+20,0	;draws a rectanlge around the collidible image
	EndIf
	
	
	;Draw Player Image
	DrawImage fighterjet,MouseX(),MouseY()
	
;-----------------------------------------------------------------
;-------------- SET KEYBOARD AND MOUSE FUNCTIONS -----------------
;-----------------------------------------------------------------
	
	If KeyHit( 11 ) = True And t&lt;wall1pieces%
		t=t+1
	EndIf
	If KeyHit( 10 ) = True And t&gt;0
		t=t-1
	EndIf
	
	
	If KeyDown( 6 ) = True And wallSubHealth[6] &gt; 0 Then wallSubHealth[6] = wallSubHealth[6] - 1
	;EndIf
	
	If KeyDown( 205 )
		If imX&gt;= -ImageWidth(gfx_bg) + GraphicsWidth()+5
			imX=imX-10 ;Right Arrow
		EndIf
	ElseIf KeyDown( 203 )
		If imX&lt;= -1
			imX=imX+10 ;Left Arrow
		EndIf
	ElseIf KeyDown( 208 )
		If imY&gt;= -ImageHeight(gfx_bg) + GraphicsHeight()+5
			imY=imY-10 ;Up Arrow
		EndIf
	ElseIf KeyDown( 200 )
		If imY&lt;= -1 
			imY=imY+10 ;Down Arrow
		EndIf
	EndIf
	
	;Set Keys for Image Position Tuning
	
	;Determines the speed of the tuning varibles IPPX and IPPY
	Color 0,0,0
	If KeyHit(2) Then imspd#=0;
	If KeyHit(3) Then imspd#=1;
	If KeyHit(4) Then imspd#=2;
	If imspd# = 0
		moveslow()
		Text 10,10,"Image movement : Fast " + imspd#
	ElseIf imspd#=1
		movefast()
		Text 10,10,"Image movement : Slow " + imspd#
	ElseIf imspd#=2
		moverealfast()
		Text 10,10,"Image movement : REAL FAST " + imspd#
	EndIf
	
		;Create Player Weapon Fire 
	If MouseDown(1)=1 								;If I hit the mouse button, Create a missile 
		If MilliSecs() &gt; timer + rate_of_fire Then	;Set weapon firerate
			create_missile()						;Create bullets
			timer = MilliSecs() 					;Reset the timer to the current millisecs value.
		EndIf
	EndIf
	
	;Update thhe Weapon Fire
	play_missile();wallSub[i],xpos(i),ypos(i)) ;This starts the missil anim
	
	
;--------------------------------------------------------
;---------------- ONSCREEN TEXT AND HUD -----------------
;--------------------------------------------------------
	
	SetFont fntblitz
	Color 0,0,0	
	Text 0,40,"Number Of Destructible bricks: " + wallSubCount	
	;Display My Testing Text
	Text 0,80,"X Position (ippX): " +ippx
	Text 0,100,"Y Position (ippY): " +ippy	
	Text 200,80,"X Position (imX): " +imX
	Text 200,100,"Y Position (imY): " +imY
	Text 0,120,"Mouse X Pos: " + MouseX() + " Mouse Y Pos: " + MouseY()
	Text 400,0,"Use [9] and [0] key to cycle image positions.
	Text 400,15,"Image Sub "+ t +" : xpos : " + xpos(t) + "  : ypos : " + ypos(t)
	Text 0,240,"wallSubHealth[i] : " + wallSubHealth[6]
	Flip 
Until KeyDown(1)=1 ;End program when ESC is pressed
End 

; Clear all the fonts from memory! 
FreeFont fntArial
FreeFont fntMSS 
FreeFont fntblitz



;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp; END OF GAME AREA &amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;
;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;&amp;

;------------- CREATE GAME FUNCTIONS -----------------

;--------- Create Player Missiles -------

;Create Missiles Function
Function create_missile() 
	a.missile=New missile
	a\image=jetfire
	a\missile_life_time = 1500 			;Bullet last 2 seconds (2000 milliseconds)
	a\missile_life_timer = MilliSecs()	;Set the timer to the same value as milliseconds,
	a\posx=MouseX()						;The x position of missile creation
	a\posy=a\posy+MouseY()-35			;The missile creation starts a bit up from the jet
	a\misp=4 							;The speed of the missile 
	a\animstrt=0 						;The starting value of the animation 
End Function 

;Update Missiles Function
Function play_missile();wallSub,xp,yp)
	For a.missile=Each missile 
		posizioneX=a\posx 
		posizioneY=a\posx
		DrawImage a\image,a\posx,a\posy ;Draw the missile image.
		a\posy=a\posy-a\misp 			;This move the missile up 
		If posizioneY=0					;If missile is off screen delete it.
			Delete a
			Exit						;Exit loop if missile is dead. will cause error as they's no missile to check
		End If
		
		;NON_MOVING IMAGES THAT COLLIDE WITH MISSILES , Detect collisions and determine damage
	;	If wallSubHealth[i] &gt; 0
	;		If ImagesCollide(a\image,a\posx,a\posy,0,wallSub,imX+xpos(i),imY+ypos(i),0)
	;			wallSubHealth[i] = wallSubHealth[i] - 1
	;			Text 0,220,"Collision " + wallSub
	;			Delete a
	;		EndIf
	;	EndIf
	Next 
End Function 



Function wallbitdraw(); Function that reads from my array and draws the wall pieces;
	For i = 0 To wall1pieces% - 1
		b.wallchunk = New wallchunk
		b\ch_xpos = xpos(i)
		b\ch_ypos = ypos(i)
		b\theimage = wallSub[i]
		If wallSubHealth[i] &gt; 0 
			DrawImage b\theimage,imX+b\ch_xpos,imY+b\ch_ypos
		EndIf
		If wallSubHealth[i] &lt; 1
			Delete b
		EndIf
	Next
End Function


Function wallbitdrawandcol(); Function that reads from my array and draws the wall pieces and Checks for collisions
For i = 0 To wall1pieces% - 1
	b.wallchunk = New wallchunk
	b\ch_xpos = xpos(i)
	b\ch_ypos = ypos(i)
	b\theimage = wallSub[i]
	b\imagehealth = wallSubHealth[i]
	DrawImage b\theimage,imX+b\ch_xpos,imY+b\ch_ypos
	If wallSubHealth[i] &lt; 1
		For b.wallchunk = Each wallchunk
			If ImagesCollide(a\image,a\posx,a\posy,0,b\theimage,imX+b\ch_xpos,imY+b\ch_ypos,0)
				b\imagehealth = b\imagehealth - 1
				Text 0,220,"Collision "
				Delete a
			EndIf
		Next
		Delete b
	EndIf
Next
End Function


;__________________________________________________________________________________________________________________________________________
;IPPX and IPPY Speed Functions

Function moverealfast()	
	If KeyDown( 77 ) 
		ippx=ippx+10 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippx=ippx-10 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippy=ippy-10 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippy=ippy+10 ;Number Pad 2
	EndIf
End Function
Function movefast()	
	If KeyDown( 77 ) 
		ippx=ippx+1 ;Number Pad 6
	ElseIf KeyDown( 75 ) 
		ippx=ippx-1 ;Number Pad 4
	ElseIf KeyDown( 72 )
		ippy=ippy-1 ;Number Pad 8
	ElseIf KeyDown( 80 )
		ippy=ippy+1 ;Number Pad 2
	EndIf
End Function
Function moveslow()
	If KeyHit( 77 ) 
		ippx=ippx+1 ;Number Pad 6
	ElseIf KeyHit( 75 ) 
		ippx=ippx-1 ;Number Pad 4
	ElseIf KeyHit( 72 )
		ippy=ippy-1 ;Number Pad 8
	ElseIf KeyHit( 80 )
		ippy=ippy+1 ;Number Pad 2
	EndIf
End Function
</textarea><br><br>Code and Images Megashares link:<br>http://d01.megashares.com/dl/2k0jckt/Wall_Bricks_V_0.1%20-%20[IDEal].rar<br><br>Could you guys please have look and see what I've done wrong this time? <br><br></td></tr></table><br>
<a name="1158856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I keep getting the error "Varible must be a type. Line: 290, Column: 4". Thats the line with "ImagesCollide" <br></div>Well of course you're getting an error, silly. Look at your code:<br><br>[bbcode]If ImagesCollide(a\image[/bbcode]<br>Where'd the a\ come from? :o <br><br></td></tr></table><br>
<a name="1158882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie31</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> I create a\image in the previous function(the one that creates the weapon fire).<br><br>[bbcode]<br>;Create Missiles Function<br>Function create_missile() <br>	a.missile=New missile<br>	a\image=jetfire<br>	a\missile_life_time = 1500 			;Bullet last 2 seconds (2000 milliseconds)<br>	a\missile_life_timer = MilliSecs()	;Set the timer to the same value as milliseconds,<br>	a\posx=MouseX()						;The x position of missile creation<br>	a\posy=a\posy+MouseY()-35			;The missile creation starts a bit up from the jet<br>	a\misp=4 							;The speed of the missile <br>	a\animstrt=0 						;The starting value of the animation <br>End Function <br><br>;Update Missiles Function<br>Function play_missile(wallSub,xp,yp)<br>	For a.missile=Each missile <br>		posizioneX=a\posx <br>		posizioneY=a\posx<br>		DrawImage a\image,a\posx,a\posy ;Draw the missile image.<br>		a\posy=a\posy-a\misp 			;This move the missile up <br>		If posizioneY=0					;If missile is off screen delete it.<br>			Delete a<br>			Exit						;Exit loop if missile is dead. will cause error as they's no missile to check<br>		End If<br>	Next <br>End Function <br>[/bbcode]<br><br>I thought that I could use the handle "a\image" in any function after I created it, It won't let me make it global so I assumed it already was? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
