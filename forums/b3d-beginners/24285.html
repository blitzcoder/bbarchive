<!DOCTYPE html><html lang="en" ><head ><title >Rotating images and max() function</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rotating images and max() function</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Rotating images and max() function</a><br><br>
<a name="251584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Verminaard</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi folks,<br>         i am writing a 2d top down game and am having trouble rotation my main sprite. i know most people make, say 36 frames with the sprite rotaed by 10 degreees each time, then they just play the frame closest to the sprites orientation, but, the sprite i have made is a man, and has 20 frames for walking. So the only way i could do this is to make a frame for each walk step at each rotation, and this would give me 36 * 20 frames!<br>Whenever i the rotateImage functon, it kills the framerate. Is there a fast, clean way to do this? I have posted the code below for clarity:<br>Global player<br><br>Global rootx<br>Global rooty<br>Global frame<br>Global rotate<br><br><br>Graphics 600,800,0<br>rootx = 400<br>rooty = 300<br>rotate = 0<br><br><br>While KeyDown(1) = False<br><br>If KeyDown(17) = True<br>frame = frame + 1<br>rooty = rooty + 7<br>If frame &gt; 19 Then<br>frame = 0<br>EndIf<br><br>Else If KeyDown(31) = True Then<br><br>frame = frame - 1<br>rooty = rooty - 7<br>If frame &lt; 0  Then<br>frame = 19<br>EndIf<br>Else <br>frame = 0<br><br>EndIf<br><br>SetBuffer BackBuffer()<br><br>Cls<br>draw_player()<br>Flip<br><br><br><br><br><br><br>Wend<br><br>End<br><br><br>Function draw_player()<br>player = LoadAnimImage("basicWalk.bmp",100,80,0,20)<br>MaskImage player,0,255,0<br> <br>RotateImage player,rotate<br><br>DrawImage player,rootx,rooty,frame<br><br>End Function<br><br><br>i know there is no code in there for incrementing 'rotate' in accordance with the key's pressed, but the rest should work.<br><br>Also, in VB, there is a max() function. IE: you put in <br>max(a,b)<br>and it will retur the larger value. What is the equivelent code in blitz as i cant seem to find one. I know it would be easy to write a function to do it, but i was wondering if there is a built-in command. Thanks for any help folks.<br>            ~V~ <br><br></td></tr></table><br>
<a name="251593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't tried it yet but I think the Extended Blitz 2D dll allows real-time rotation of sprites.  Unfortunately Blitzcoder is down right now and that's the place to download the plugin.<br><br>As for using RotateImage, use it once BEFORE you start your game (ie. while loading resources at the beginning) to generate all the rotated animation frames and then use those pre-rendered images in your game.  For the most part you shouldn't even be using LoadAnimImage during your game; load the image and use RotateImage before you start your main game loop (ie. before "While etc.") <br><br></td></tr></table><br>
<a name="251596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Verminaard</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah, good idea! i'll give it a go now and let u know how it goes....thanks <br><br></td></tr></table><br>
<a name="251599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm.. rotateimage does anti aliasing for angles that aren't 0,90,180 or 270, right?<br><br>Once I made a small army truck (only 32x32 pixels orso) rotate in a topview game.. I didn't like the change between original and antialiased while rotating.. <br><br></td></tr></table><br>
<a name="251620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can turn off the antialising.  I forget the command but somebody will come up with it in a post or two. <br><br></td></tr></table><br>
<a name="251655"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  I forget the command but somebody will come up with it in a post or two.  <br></div><a href="http://www.blitzbasic.co.nz/b3ddocs/command.php?name=TFormFilter&amp;ref=2d_a-z" target="_blank">TFormFilter()</a>.<br>In addition to what Mr. Joe Hocking said, I would like to add that when generating these rotated images, you should always do so from the original. You know how it goes with a copy of a copy and all that.<br>I generally agree that it would be better to pre-render your graphics, rotated (no big deal if using a 3D package, might not be worth the trouble if using a 2D tool). The graphics will use up the same ammount of RAM anyway, and the pre-rendered graphics will look better.<br><br>Or you could use some variant of the "2D in 3D". I hear Mr. John Pickford has some particularilly nice code to acheive this easily, and it's fast too! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
