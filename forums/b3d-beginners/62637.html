<!DOCTYPE html><html lang="en" ><head ><title >holding items</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >holding items</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >holding items</a><br><br>
<a name="699837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jsoren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hello everyone, I just signed up for the forums, and this is my first post.<br><br>currently, i am working on creating an RPG, and i have managed to overcome most problems in my path but i cant figure this one out: how do you create a character mesh, that (depending on what weapon u equip) holds different things. the character mesh is moveing (and being animated) so how do i have the weapon move with his hand?  like, if he runs his arm moves, and his sword has to stay in it...<br><br>by the way, if i wasnt clear, im talking about 3d<br><br>thanks <br><br></td></tr></table><br>
<a name="699843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bobysait</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you have to parent the weapon to the Hand bone of your mesh. <br><br></td></tr></table><br>
<a name="700075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on what kind of mesh the character is.  If it's skeletal animated (ie. a b3d file) then yeah what he said.  If not, um, switch to skeletal animation with b3d file format. <br><br></td></tr></table><br>
<a name="700625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jsoren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, the the 3D mesh editing program im useing isn't so good, and the only B3d compatable file format i can save as is .X<br><br>anyway, if i did manage a b3d file, how would i get blitz to recognize the hand bone and be abled to parent the weapon to it?<br><br>sorry for all the questions... im really bad with the graphics side of programming :(<br><br>JS <br><br></td></tr></table><br>
<a name="700643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could use FindChild(parent_mesh, child_name$) to get a handle to the bone:<br>mesh = LoadAnimMesh("something.b3d")<br>bone = FindChild(mesh, "handbone")<br>There is also GetChild, which requires an index.<br><br>Then, assign this bone as a parent to the object:<br>EntityParent pickobject, bone<br><br>Finally, probably you should move it a bit using MoveEntity.<br><br>If you don't know the name of the hand's bone, try this program to enlist all children:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Graphics3D 800, 600, 0, 2

mesh=LoadAnimMesh("mak_robotic.x")

printoutchildren(mesh)

Function printoutchildren(mesh)

	Print EntityName$(mesh)

	For i = 1 To CountChildren(mesh)
		g=GetChild(mesh, i)
		printoutchildren g
	Next
	
End Function
</textarea> <br><br></td></tr></table><br>
<a name="700764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something to bear in mind is that bones in a model loaded with Blitz3D are actually blitz3d pivot entities.<br><br>I'd suggest experimenting with some of the free models available at <a href="http://www.psionic3d.co.uk/cgi-bin/imageFolio.cgi?direct=Free%20Stuff/3D%20Models" target="_blank">http://www.psionic3d.co.uk/cgi-bin/imageFolio.cgi?direct=Free%20Stuff/3D%20Models</a> . I think some of these models have issues with fustrum culling due to where the center is placed, so you may encounter some visibility issues with them. <br><br></td></tr></table><br>
<a name="700783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jsoren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow, that helps alot, thanks!<br><br>one more thing (i hope), bill: u said that the bones in a model are actually B3D pivot points, so say that you have an anim of the mesh swinging a sword, will the sword change the direction its pointed (depending how the hand moves) in aswell, because, i thought if it was parented to the pivot point it would move with it, but not change direction ?<br><br>thanks,<br>JS <br><br></td></tr></table><br>
<a name="700898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The sword will rotate with the hand. If you parent one item to another item then the child item's position, rotation, and scale are all relative to the parent item. <br><br></td></tr></table><br>
<a name="702341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jsoren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, i finally got back to the computer with blitz3d installed on it, and i tryed out what u guys said...2 wierd things happened:<br><br>1. blitz3d will not recognize any .b3d files i have.<br>it will load them fine, this command will not return any errors:<br><br>ninja_mesh=LoadAnimMesh("ninja.b3d")<br><br>however, if i try to do anything involving that mesh's handle (ninja_mesh) i will get a runtime error saying "entity does not exist"<br><br><br>2. the animate command is not working, when i try to use it, a runtime error occurs saying "illegal memory adress" i have not used any "loadanimseq" or "setanimseq" commands before it, i am just using the animation built into the mesh (and yes, i know the animation is there, because its the "mario" mesh from the castle demo, which btw, works fine with its animation, so its not blitz)<br><br><br>could u tell me what im doing wrong here?<br><br>JS <br><br></td></tr></table><br>
<a name="702457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mindstorms</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is the b3d file in the same directory as the main code file?  If not you need to specify the exact place where it is. <br><br></td></tr></table><br>
<a name="702516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you sure the file is in the blitz b3d format? because there are other b3d formats. <br><br></td></tr></table><br>
<a name="702636"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jsoren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> mindstorms: yeah, ive tryd it in the same directory, and ive also tryd specifying the exact file where it is.<br><br>bram32: i got the b3d files that im using from the site that bill stanbrook mentioned, and also when i go to "loadanimmesh" under the command reference section, it says it can only use .3ds and .X, it says nothing about .b3d, is it supposed to? <br><br></td></tr></table><br>
<a name="702644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> &lt;&lt;Loads a mesh from an .X, .3DS or .B3D file and returns a mesh handle. &gt;&gt; Have you downloaded the doc update ? It is in the account section<br>There is another 3d format that is called b3d.<br><a href="http://bcchang.com/immersive/b3d.html" target="_blank">http://bcchang.com/immersive/b3d.html</a><br>To see if it is a blitzbasic b3d file, open it in notepad (or hexedit) and see if the first 4 characters are BB3D.<br>If they are, you could try and use a 3d editor/viewer that imports b3d. Such a program might give a better feedback on loading the file. <br><br></td></tr></table><br>
<a name="702815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jeepster</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can also just try out a Milkshape 3D free trial. Milkshape is actually quite powerful and can export skeletal animation to a .b3d file and can import several different files as well. <br><br></td></tr></table><br>
<a name="702945"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jsoren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, i just updated blitz3d (everything), and now everything is working fine! animation, .b3d files...its all fixed.<br><br>thanks for all your help!<br><br>JS <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
