<!DOCTYPE html><html lang="en" ><head ><title >2d animations</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2d animations</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >2d animations</a><br><br>
<a name="599153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Q</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What would you guys recommend doing to animate a image with LoadAnimImage()?  Like a running animation for example. <br><br></td></tr></table><br>
<a name="599159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nrasool</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there<br><br>You would simply load a big image which has all the character animation inside using this command. Please could you put a bit more information on what you need?<br><br>Kind Regards <br><br></td></tr></table><br>
<a name="599171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Q</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I know how to set up the frames.  I just don't know how to go about animating them.<br><br>For example:<br><br>What would I do to loop through the frames with the skeleton in this image:  <img src="http://www.molotov.nu/Graphics/Angband/Monsters/dg_undead32.gif"> <br><br></td></tr></table><br>
<a name="599200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You would need to have variables stating the starting frame of the skeleton and the end frame. Then, just use these to animate between :o) <br><br></td></tr></table><br>
<a name="599219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This should get you going...<br><br><pre class=code>
Graphics 640,480,0,2
SetBuffer BackBuffer()


frames=LoadAnimImage("dg_undead32.png",32,32,0,63)
MaskImage frames,255,255,255
i%=28

While Not KeyHit(1)

DrawImage frames,10,10,i
Delay 150
i=i+1
If i&gt;34 Then i=28

Flip True
Cls
Wend
</pre> <br><br></td></tr></table><br>
<a name="599236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Q</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I plan to make this game have online gameplay some day.  Would delay be the right command to use for the animation? <br><br></td></tr></table><br>
<a name="599240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope - you wouldn't halt the execution of an actual game to animate one element... all the other issues nowithstanding, how would you animate two objects at differing and altering speeds? Delay is just there because it's expedient in the context of an example.<br><br>The same goes for the iterator (i%) - in a real game you'd probably want to wrap the starting and ending animation frames  for various movements within a custom type to aid organisation and readability. <br><br></td></tr></table><br>
<a name="599489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LineOf7s</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Personally I'd use types for each of the objects you want to animate, and as well as other fields like their co-ordinates and movement speeds and whatnot I'd have a field for their last animation time, and their current animation frame.  Add to that a constant (for each different kind of object) that defines how quickly they animate (how many milliseconds delay between frames, that is).<br><br>Then, when you update your objects in the main loop, you would (for each of them) subtract the last anim time (set with Millisecs() the last time it advanced a frame) from the current Millisecs(), and if the difference is equal-to-or-greater-than the animspeed constant you set, then tell it to <br>1) advance to the next frame, (probably) looping back to the first if need be (use the mod command for that)<br>2) set the last anim time to be the current Millisecs()<br><br>That should do it. <br><br></td></tr></table><br>
<a name="599528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >octothorpe</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I go one step further by keeping a linked list of "cells" for each "animation".  Each cell describes how many frames to display an image for and where to find the image (I'm using quads so I store texture_id and uv co-ordinates, but anim image handle and frame index would work too.)  Whenever I want a "sprite" (a game object, not a "Blitz Sprite") to start a new animation, I set the its animation cell pointer to the first node of the animation and reset its frame counter.  My game loop automatically increments all sprites' frame counters by 1 and advances them to the next animation cell when required. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
