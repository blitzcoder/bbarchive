<!DOCTYPE html><html lang="en" ><head ><title >Tilting a spaceship without altering it's height</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Tilting a spaceship without altering it's height</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Tilting a spaceship without altering it's height</a><br><br>
<a name="883407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just fiddling around with some basic 3D and to get me started I'm doing a simple overhead shooter with spaceships. Since it's overhead, I want them to maintain a certain height but when they turn, I want them to tilt from side to side. Unfortunately, when I do that, they also change their height. I'm using.......<br><br>TurnEntity SpaceShip\Entity,0,Tilt#,0<br><br>To tilt them.<br><br>And......<br><br>MoveEntity SpaceShip\Entity,0,0,SpaceShip\Speed#<br><br>To move them forwards.<br><br>I've tried simply resetting their height after the movement, but then they start tilting forwards or backwards on strange angles.<br><br>What am I doing wrong? <br><br></td></tr></table><br>
<a name="883410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Santiworld</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> the enitityship is parent to other object? <br><br></td></tr></table><br>
<a name="883420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Parent the ship to a pivot.<br><br>When the ship rolls left/right, apply the rotation to the ship.  When you want to turn left/right, apply the rotation to the pivot. <br><br></td></tr></table><br>
<a name="883471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make sure you change the roll angle rather than yaw angle for titling.  Also, apply the forward movement to the pivot, rather than the ship. <br><br></td></tr></table><br>
<a name="883551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, still not quite got it. Been tinkering away with pivots for a while but I'm still getting some odd results. I'm moving/tilting the ships like this.....<br><br><pre class=code>
		MoveEntity SpaceShip\Pivot,0,0,SpaceShip\Speed#
		
		RotateEntity SpaceShip\Ship,0,0,SpaceShip\Bank
		
		TurnAmount#=SpaceShip\Bank
		TurnAmount#=TurnAmount#/100
		TurnEntity SpaceShip\Pivot,0,TurnAmount#,0
</pre><br><br>But they're not turning correctly. Is there a tutorial on pivots anywhere? <br><br></td></tr></table><br>
<a name="883556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks right to me.<br><br>Have you placed the pivot and the spaceship at the exact same location?  For debugging, I used to change CreatePivot() to CreateSphere().  That way you can see exactly where the pivot is at.  In your case you might need to EntityAlpha ship,0.5 in order to see the pivot (as it will probably be inside the ship if its in the right place). <br><br></td></tr></table><br>
<a name="883568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just use <a href="/b3ddocs/command.php?name=TranslateEntity&amp;ref=3d_cat" target="_blank"><b><u>TranslateEntity</u></b></a>. <br><br></td></tr></table><br>
<a name="883709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't use turnentity.<br><br>Use:<br><br><pre class=code>
RotateEntity entity, EntityPitch(entity,true),EntityYaw(entity,true), EntityRoll(entity,true)
</pre><br><br>And just add on what you need to turn. If you want to add one to the x axis rotation, then:<br><br><pre class=code>
RotateEntity entity, EntityPitch(entity,true)+1,EntityYaw(entity,true), EntityRoll(entity,true)
</pre><br><br>Turnentity is usually the wrong command to use when rotating on multiple axis.<br><br>You could wrap the above in a function:<br><br><pre class=code>
Function Turn_Entity(entity,x#,y#,z#,global = false)
   RotateEntity entity, EntityPitch(entity,true)+x,EntityYaw(entity,true)+y, EntityRoll(entity,true)+z,global
End Function
</pre><br><br>Then just call:<br><br><pre class=code>
Turn_Entity(entity,10,0,0)
</pre> <br><br></td></tr></table><br>
<a name="883722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't agree.  If he's only turning on the pivot on yaw axis there is nothing wrong with using turnentity.  Turn entity uses quarternions internally, whereas rotateentity does not so introduces the dreaded gimbal lock. <br><br></td></tr></table><br>
<a name="883728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, sorted this problem at least and they're turning and banking correctly now. The problem seemed to be when I used the Entityparent command - if I did it before positioning the pivot and ship they weren't stuck together correctly. I had to create both, position them and align them correctly and then use the EntityParent command - I wasn't aware that it was that complicated and assumed originally that using the command would stick them together itself. I've run into another problem but will open a new thread as it's not related to this. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
