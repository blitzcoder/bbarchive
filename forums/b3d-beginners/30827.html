<!DOCTYPE html><html lang="en" ><head ><title >Absolute rotation and movement ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Absolute rotation and movement ?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Absolute rotation and movement ?</a><br><br>
<a name="328622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I need some help, I got my random model placement and dropping routine to assign the correct locations and stuff, now I have the player in the game as well, but what I am having a problem with is rotating the player on keypresses, I want the player to rotate 90 degree increments like 0, 90, 180, 270 based on the cursor key pressed.  Like if they press up rotate to 0, left rotate to position 90, down to 180 and right to 270.  I tried it myself, but something is wrong when you press up or down I get Right, and Right and Left arrows are giving me Left facing. ??  No up or Down is working.  I am using rotateentity entity, 0, and 0,90,180,270 here for rotation, 0 am I doing this right, I know there is a bug in the logic somewhere, or I don't understand blitzes rotation function.  I use the arrow keys to rotate the model, then when the user presses space it moves in the direction it is facing.<br><br>Someone please help me, so example code on how to do this would be great.  Thanks<br><br>I appreciate any and all help you guys could provide, NOTE the initial player direction is being set to 0 on setup. <br><br></td></tr></table><br>
<a name="328624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You tried turnentity? I'm not too sure what your meaning.. <br><br></td></tr></table><br>
<a name="328625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> use turnentity instead of rotateentity ? I'll try that. <br><br></td></tr></table><br>
<a name="328628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> turnentity didn't work either, it almost is working, but now it turns the entity the amount specified like 90 degrees each time you press left, I don't want this, I want it to face left at 90 degrees no matter how many times you press left.  A code example showing how to ensure the rotation is 90 degree increments would be great.<br><br>Thanks <br><br></td></tr></table><br>
<a name="328630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You mean like this?<br><br><pre class=code>
Graphics3D 800,600
SetBuffer BackBuffer()


camera=CreateCamera()
PositionEntity camera,0,10,0
RotateEntity camera,90,0,0


cube=CreateCube()
cone=CreateCone()
EntityParent cone,cube
TurnEntity cone,90,0,0
ScaleEntity cone,1,3,1


While Not KeyHit(1)




	If KeyHit(203) Then RotateEntity cube,0,90,0
	If KeyHit(205) Then RotateEntity cube,0,270,0
	If KeyHit(200) Then RotateEntity cube,0,0,0
	If KeyHit(208) Then RotateEntity cube,0,180,0	
	
	UpdateWorld
	RenderWorld
	Flip
Wend
End
</pre> <br><br></td></tr></table><br>
<a name="328715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >(tu) sinu</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> post your code, your doing something wrong. <br><br></td></tr></table><br>
<a name="328808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jhocking</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds like you want RotateEntity with the optional global flag set to True.  Something like RotateEntity cube,0,90,0,True<br><br>Unless I'm misunderstanding you (which is rather likely actually.) <br><br></td></tr></table><br>
<a name="328951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >StOrM3</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> okay, here is the type of movement I want to achieve, have you ever seen the online game cubis ?  where you use the mouse to move different colored blocks areound the screen ?  This is what I want for my puzzle type game, I got the keyboard version working, turning right etc.. had to use if statements inside each direction 1-4, to verify where we currently facing before moving then moving the correct amount to face the dir you wanted to face.  Now I tried playing it using the keyboard, and I think the controls would be better with the mouse like cubis to rotate around the items in the center of the screen, if anyone could post some example code of this type of movement controlled by the mouse, at 50 pixel increments like top right and bottom and top of the items which are in the center of the screen at 50 pixel increment rows etc.. I want the bubble controlled by the player to rotate around the items outside the rows, using the mouse etc.. and move to the items in that row when you hit the mouse button.  I will post my code when I get home, I am at work today, so you can see what I have so far.<br><br>Thanks for all the help!<br><br>Ken <br><br></td></tr></table><br>
<a name="329741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It came to a full stop there for me since I've never seen the cubis game lol<br><br>Smurfing the net for it now... <br><br></td></tr></table><br>
<a name="329826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy_A</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It sounds like you want something like this:<br><pre class=code>
;Lt = 180 degrees
;Rt = 0 degrees
;Up = 270
;Dn = 90

currentDir = (whatever)
inc = 90   ;(use appropriate increment for your game)
If KeyHit(Left) Then
    Repeat
        currentDir = (currentDir + inc) Mod 360
    Until currentDir = 180  ;will always point left
    ;Rotate entity to currentDir
End If
</pre><br><br>Do the same for the other key directions. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
