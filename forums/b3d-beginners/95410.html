<!DOCTYPE html><html lang="en" ><head ><title >Is there an EraseByte() like function?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Is there an EraseByte() like function?</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Is there an EraseByte() like function?</a><br><br>
<a name="1098592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm playing around with save files right now, and I'm within inches of having some really usable code for myself. BUT, I'm stuck with a problem where I can't erase data from an already created save file. I can modify it with no problems, but what tends to happen is that my save file continues to get larger and larger with empty space at the end.<br><br>What's the best way around this problem? I've thought of using banks, but I'm still not sure that it's going to fix anything. <br><br></td></tr></table><br>
<a name="1098601"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MCP</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends how big the file is Rob. If it's a small file i would just load the whole thing into a memory bank, make the necessary changes, then save the whole thing back making sure the original is overwritten with the WriteFile command. (I think you use the WriteFile command. It's been a while since I've used Blitz3D.)<br><br>Hope that helps. <br><br></td></tr></table><br>
<a name="1098603"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, so you can replace the file with WriteFile...Got it. That's all I needed. <br><br></td></tr></table><br>
<a name="1098675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zethrax</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look at the SeekFile and FilePos commands too. In combination with the file writing commands they allow you to edit parts of a file without replacing the whole file. This can be useful if the file is some sort of large database.<br><br>In most cases you're going to want to just replace the entire file though, as MCP mentioned above<br><br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=SeekFile&amp;ref=2d_cat" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=SeekFile&amp;ref=2d_cat</a><br><a href="http://www.blitzbasic.com/b3ddocs/command.php?name=FilePos&amp;ref=2d_cat" target="_blank">http://www.blitzbasic.com/b3ddocs/command.php?name=FilePos&amp;ref=2d_cat</a> <br><br></td></tr></table><br>
<a name="1098749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I've been using both of those commands like crazy. Actually, my save file system is done now, but I'm curious if there's a work-around to a problem I came across while designing it.<br><br>The FilPos() and SeekPos() are great and do exactly what I need them to do, but there's one problem I had with them: If I write data that is less bytes than the original data, the original data still remains in the file to the end of the line. I'm using the WriteLine() command for my data, so it's more like an INI file than anything, and I'm breaking it into sections so that I can write save information to a single section and then read back data from that specific section (again, much like an INI file, but specific to my own purposes).<br><br>Long story short, replacing the string with a shorter string leaves the end of the longer string behind. Thus, I was wondering if there was a function to erase the remaining data on that line. A backspace, so to speak.<br><br>But, I came up with a system using types that was able to resolve this problem. I just didn't realize that you could use WriteFile() to replace a file already made, so it's all good. <br><br></td></tr></table><br>
<a name="1098876"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my experience it is easiest to simply read the whole file into a bank, make changes then write it all out again. Simply use "readbytes" and "writebytes" to do so. <br><br></td></tr></table><br>
<a name="1098908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wings</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aggre with matty. to erase a byte you need to load the whole file into a bank, make a new bank copy new data to new bank. and last save it to file again as new file. <br><br></td></tr></table><br>
<a name="1098922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> it's more like an INI file than anything <br></div><br><br>*cough*<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2863" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2863</a><br><br>Load and save data from/to standard-format INI files. Accessor functions let you add fields and whole sections to the loaded structure without needing to think about the individual bytes of the file. Just hit INI_Write when done. <br><br></td></tr></table><br>
<a name="1098972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Yasha,<br>I actually looked at your INI creator before posting this topic. It works wonders, and it also gave me some great ideas on how to approach my system. However, whereas this is something I've never done before, rather than copy-paste someone else's code, I prefer to write my own. People often ask, "why re-invent the wheel", and my response has always been that nothing can help you understand the full complexity of the wheel more than designing it yourself. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
