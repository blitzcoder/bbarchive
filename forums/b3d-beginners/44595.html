<!DOCTYPE html><html lang="en" ><head ><title >Position/Scale/Rotate Entity</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Position/Scale/Rotate Entity</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Position/Scale/Rotate Entity</a><br><br>
<a name="496272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What order are these commands are applied in "under the hood"?  It seems to produce the same result no matter what order they are called... <br><br></td></tr></table><br>
<a name="496350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The result would be the same because Blitz always uses its internal unit size, irrespective of mesh scaling.<br><br>Imagine 2 spheres, each the same size.<br><br>One sphere gets scaled to twice the size.<br><br>Both spheres move forward 1 unit<br><br>The enlarged sphere is reduced again to its normal size.<br><br>Both spheres move backwards 1 unit<br><br>-&gt; The spheres would be in their initial start positions. <br><br></td></tr></table><br>
<a name="496404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Let me give an example to illustrate my question:<br><br>If I code something like:<br><br>e = CreateCube()<br>RotateEntity e, 0,90,0<br>PositionEntity e, 1,0,0<br><br>I get a cube facing along the positive X axis, that is located at x=1.<br><br>If I code the following:<br><br>e = CreateCube()<br>PositionEntity e, 1,0,0<br>RotateEntity e, 0,90,0<br>&lt;***fixed typo ^^^^^^^^ supposed to be 90 degrees yaw ***&gt;<br><br>I *don't* get a cube facing along the positive X axis but located at x=0, z=-1 like you would think if you applied these transformations one at a time to their logical outcome... I get the same result as the previous block of code.<br><br>So, there is an inherent *ordering* to these 3 calls when used together, PositionEntity, RotateEntity and ScaleEntity, that is independent of what order you call them in...<br><br>Hence, my question, what is the order they are applied in "under the hood"?<br><br>I realize that the TurnEntity, MoveEntity, etc., can be used to programmatically build up a sequence of operations on an entity, and that using the Mesh functions can "destructively" alter the coords in the mesh vertices relative to the entity's local coord system... but this one detail doesn't seem to be describe in the docs.  It seems that the "fixed" and "automatic" order of these commands for an entity is either:<br><br>Scale -&gt; Rotate -&gt; Translate<br><br>or<br><br>Rotate -&gt; Scale -&gt; Translate<br><br>... no matter what order you call these 3 particular commands in.<br><br>Am I missing something?<br><br>Thanks and DIA (DOH! In Advance)...<br><br>Ed <br><br></td></tr></table><br>
<a name="496409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rotation is relative to the entity's local coordinates, which is really the intuitive way to do it.<br><br>For example, suppose you are an entity. I tell you to walk forward mile, then turn right 90 degrees. You make the turn 'in place' at your new location. You don't move quarter of the way around a one mile radius circle. <br><br></td></tr></table><br>
<a name="496432"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Suppose I tell you to turn 90 degress right, and walk forward a mile... you will end up one mile east, facing east.  If I tell you to walk one mile, then turn 90 degrees right, you end up one mile north, facing east.  It all depends on the *order* you do these things.  However, with these commands, you end up at the same place despite the ordering.  To know which place you'll end up, you need to know what order these commands are processed in... right? <br><br></td></tr></table><br>
<a name="496476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If I code the following: <br><br>e = CreateCube() <br>PositionEntity e, 1,0,0 <br>RotateEntity e, 90,0,0 <br><br>I *don't* get a cube facing along the positive X axis but located at x=0, z=-1 like you would think if you applied these transformations one at a time to their logical outcome... I get the same result as the previous block of code. <br></div><br>The cube won't be located at z=-1 - not sure where you got that from. :) And you won't get the same result as the first block of code as that rotates the cube around the Y axis (yaw), whereas this code rotates around the X axis (pitch)<br><br>The commands are simply executed in the order you call them. <br><br></td></tr></table><br>
<a name="496489"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was a typo (I fixed it above). <br><br></td></tr></table><br>
<a name="496493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DQ</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> positionentity uses global coords doesn't it. it would be like, "'teleport' one mile north, then turn 90 degrees" versus "turn 90 degrees, then 'teleport' north 1 mile". same thing.<br><br>its moveentity thats local right? or am i wrong? even then wouldn't it be the same? <br><br></td></tr></table><br>
<a name="496499"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahhhh... that's the key.  PositionEntity is not a normal "transformation" like RotateEntity is.  It's being handled outside of the normal chain of multiplied transformations matrices.  In my example, if you treat the RotateEntity like a ApplyAnAbsoluteRotationToWorld, then you can see what I was thinking.  Once the cube is moved, a rotation would move the cube instead of just rotating it about it's center no matter where it is (rotating an object at x,y,z about it's center is actually a combination of transformation matrices together: translate entity center to world origin - rotate about the about the world origin - translate entity back to original position). <br><br></td></tr></table><br>
<a name="496501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Moveentity moves your entity the way it's facing.<br>If you're facing East, then tell your entity to move forward 100 units, then you'll end up 100 units Eastwards.<br><br>If you want to move your entity north, while facing East, use TranslateEntity.<br>This moves your entity in a global scape (doesn't care which direction your entity is facing).<br><br>RotateEntity turns your entity "on the spot", around it's own axis (for a sphere, this would be the centre of that sphere).<br><br>PositionEntity just takes your entity and plants it down at the given coordinates, no matter how big the entity is, or where it's facing. <br><br></td></tr></table><br>
<a name="496531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> My example with 'moving around a one-mile circle' was meant to illustrate how unnatural that type of system would be. It seems more reasonable to have the Entity commands be local to the entity.<br><br>I find it easier to think of these transformations as operating on the local coordinate system, which is firmly attached to the entity. <br><br></td></tr></table><br>
<a name="496736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> You may find MoveEntity and handy for relative (local) movement.<br><br>All these commands have an optional Global Parameter that can be set to true/false.<br><br>i.e. MoveEntity entity,x,y,z,GLOBAL_PARAMETER <br><br></td></tr></table><br>
<a name="496769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Er, not all the commands have a global param. MoveEntity doesn't because it implicitly uses local coords - that's what distinguishes it from TranslateEntity. :) <br><br></td></tr></table><br>
<a name="496789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EddieRay</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys! <br><br></td></tr></table><br>
<a name="496831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Big10p -<br>I meant PositionEntity there :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
