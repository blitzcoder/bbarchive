<!DOCTYPE html><html lang="en" ><head ><title >Bullet Detection</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bullet Detection</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Bullet Detection</a><br><br>
<a name="1149851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Happy Llama</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm about ready to start making a top down shooter and I have a quick question. How would you check if a bullet hit a target? I know that you  would check if the gun was facing the thing your shooting at but I don't know how you would achieve this effect. Any help would be greatly appreciated! :) <br><br></td></tr></table><br>
<a name="1149859"></a>

<a name="1149860"></a>

<a name="1149863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can set low tris colliders as childs of your high tris meshes that can be targets.<br><br>Then,<br>You can use LinePick() from the barrel of your gun to forward, and then check if a collider target has been hit.<br>Or<br>You can create a projectile with a collider sphere around it and move it from the barrel of your gun to forward, and then check if a there was a collision between the collider sphere and a collider target.<br><br>From my tests, with the same low tris colliders, with collisions it is 4 times faster. (on my current pc)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1149901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and if you use one of these techniques, you want to hide the colliders meshes with EntityAlpha(Mesh,0). <br><br></td></tr></table><br>
<a name="1149959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you specify if you want 2D or 3D top-down shooter? <br><br></td></tr></table><br>
<a name="1150018"></a>

<a name="1150020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> -oops, RemiD said the same thing, I just didn't read it &gt;.&lt;<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1150187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Happy Llama</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 3D top down preferably, but I guess 2D would work too. Which is easier? <br><br></td></tr></table><br>
<a name="1150205"></a>

<a name="1150206"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yue</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2D commands to work "imageRectOverlap" and "ImageRectCollide"<br><br>Sample blitz3d<br><pre class=code>

; Create new empty graphic to store our circle in
gfxCircle=CreateImage(50,50)

; Draw the circle image
; Set drawing operations to point to our new empty graphic
SetBuffer ImageBuffer(gfxCircle)
Color 255,0,0
; Note the extra space between the circle and the edge of the graphic
Oval 10,10,30,30,1

; Let's not forget to put the drawing buffer back!
SetBuffer BackBuffer()
Color 0,0,255

; Locate our box to a random, visible screen location
hotX=Rnd(50,610)
hotY=Rnd(50,430)
hotW=Rnd(20,100)
hotH=Rnd(20,100)

; Repeat the loop until we've had a collision
Repeat 
; Attach our mouse to the circle to move it
circleX=MouseX()
circleY=MouseY()
; Standard double buffer technique; clear screen first
Cls
; Draw our rectangle
Rect hotX,hotY,hotW,hotH,0
DrawImage gfxCircle,circleX,circleY
; Standard double buffer technique; flip after all drawing is done
Flip
; We test the locations of our rectangle area and circle to see if they have  pixel collided
Until ImageRectCollide (gfxCircle,circleX,circleY,0,hotX,hotY,hotW,hotH)

; Loop is over, we must've collided!
Text 0,0, "WE'VE HAD A COLLISION! PRESS A MOUSE BUTTON"
; Can't see the text until we flip ..
Flip
; Wait for a mouse click
WaitMouse()
; End our graphics mode
EndGraphics
</pre><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1150210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 3D top down preferably, but I guess 2D would work too. Which is easier? <br></div><br>You're gonna have difficulties\learning curve with either, so pick the one which suits your original game concept best. <br>It's your call on this one. <br><br></td></tr></table><br>
<a name="1150602"></a>

<a name="1150607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Happy Llama</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just another quick question. Do market FPS games actually have a "bullet" shoot out of the gun when fired to detect the collision (I assume not) or do they just check if a target is in front of the gun when it is shot?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1150609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> That depends on the type of gun...I'd guess a rocket or grenade would most likely use a point object of some sort to represent its location since it can bounce around all over the place,,,I'd say a sniper rifle wouldn't...but there are lots of different ways of doing things... <br><br></td></tr></table><br>
<a name="1150619"></a>

<a name="1150620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess that in a game where we can see the projectile moving, the bullet has a collider (for example some weapons in Unreal Tournament or Quake 3) whereas for weapons where we can't see the bullet (for example in rainbow six) the bullet hit or lack of hit is calculated with linepick.<br><br>What is interesting is that in some games (as in UT or Quake 3) you can guess where the bot is going and shoot the bullet not directly at him but when he continues to move, it will hit him. You can't do that with linepick, you need a collider.<br><br>I'd say it is more appropriate to use a collider when the bullet is slow enough that you can see it, and to use linepick when the bullet is too fast to be seen.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1151725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Just another quick question. Do market FPS games actually have a "bullet" shoot out of the gun when fired to detect the collision (I assume not) or do they just check if a target is in front of the gun when it is shot?<br> <br></div><br><br>For ballistic weapons with extremely fast projectiles then the bullet speed is way too fast for reliably simulating with code, and bullet objects typically way too small. Most marketed games will use techniques such as LinePick or CameraPick to identify the actual target, then add a randomisation factor dependant on the distance to the actual location hit.<br><br>If slower moving projectiles or parabolic trajectories etc. are considered, then a 3D sprite or mesh can be made to follow approximate newtonian paths. For 3D games, these objects will move according to gravity and inertia as well as any self-propellant motive forces.<br><br>Generally, speaking I would consider the speed of motion, the duration of 'lifetime' and number of potential objects that may be needed and use this information toi decide whether it's too much CPU/GPU workload compared to what's actually gooing to be seen.<br><br>In 2D, the approach is different, but theory the same. The trajectory will need to be figured out depending on the facing of the 'gun'. <br>For fast projectiles, since there's no camerapick or linepicks in 2D, some form of iteration may be necessary to know what is actually hit. For slower projectiles, sprites (read 2D images), can be used, and as Yue says , the "ImageRectOverlap" and "ImageRectCollide" commands will help with this. <br><br></td></tr></table><br>
<a name="1152029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mv333</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yue, you need to edit your code, because the rectangle is off screen. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
