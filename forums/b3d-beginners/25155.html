<!DOCTYPE html><html lang="en" ><head ><title >A little help with health meters.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >A little help with health meters.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >A little help with health meters.</a><br><br>
<a name="261201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >D_Town_Tony</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been using the follwing code which I believe I found here for a health bar.  The problem I'm having is that the bar goes from right(full life) to left(no life).  I've been trying to get it work the other way, left to right, but all my attempts have failed.  Can anyone help me solve this badboy?<br><br>here's the code-<br><br><br>Full=LoadImage("Life_Bar.png")<br>ResizeImage Full,247,13<br>Empty=LoadImage("Life_Bar_2.png")<br>ResizeImage Empty,247,13<br>SetBuffer BackBuffer()<br><br>dn=1<br>Repeat<br>Cls<br>Text 1,1,"Health = "+n<br>n=n+dn<br>If n=100 Then dn=0-1<br>If n=0 Then dn=1<br>DoPowerBar(100,100,n,11,86,empty,full)<br>Flip<br>Delay 5<br>Until KeyDown(1)<br><br>Function DoPowerBar(Xpos,Ypos,Percent_Filled,StartX,EndX,emptyimage,fullimage)<br>;X + Y Pos - where on screen you want the bar<br>;Percent Filled  (0-100%)<br>;StartX - Where on the image you want 0% to be<br>;EndX - Where on the image you want the 100% to be<br>;Empty + Full image - the two images<br>DrawImage emptyimage,xpos,ypos<br>from=ImageBuffer(fullimage)<br>high=ImageHeight(fullimage)<br>If percent_filled&lt;&gt;0 Then wide=(((endx-startx)*Percent_Filled)/100)+StartX<br>If percent_Filled=0 Then wide=startX<br>CopyRect 0,0,wide,high,XPos,YPos,from,BackBuffer()<br>End Function <br><br></td></tr></table><br>
<a name="261209"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Couldn't you just change the start (0) to the end (endx)?<br>Your copyrect would look something like:<br>CopyRect (endx-wide),0,wide,high,XPos,YPos,from,BackBuffer() <br><br>I just looked over it quickly and didn't test anything so... <br><br></td></tr></table><br>
<a name="262460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> the way i did my health bars is to use drawimagerect. it take an image and draw a rectangular section. very quick and very easy to use<br><br><pre class=code>
DrawImageRect image,x,y,rect_start_x,rect_start_y,rect_width,rect_height,[frame]
</pre><br><br>i did<br><br><pre class=code>
DrawImageRect img_hbar,hx,hy,0,0,imagewidth(img_hbar)*(remain_health/full_health),imageheight(img_hbar)
</pre><br><br>did the trick for me. divides the remaining health by what the full health number should be, and muliples the image rectangle by it, so it reduces more as the health variable goes down. hope that helps some more!<br><br>And also, isn't copyrect a wee bit slow? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
