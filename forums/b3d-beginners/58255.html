<!DOCTYPE html><html lang="en" ><head ><title >Racing Game AI develpoment opnions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Racing Game AI develpoment opnions</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Racing Game AI develpoment opnions</a><br><br>
<a name="647881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gladen</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello All!<br><br>Firstly, I'm not wanting code...just advice.  My median-term goal is to creat a sci-fi racing game (imagine flying motorcycles).  I am doing very well at it and am amazed at how powerful BLitz3D can be when used properly.<br><br>What I need is the opinions of others that have gone this route before me.  <br><br>For this racing game I am in the process of planning how the CPU controlled racers will act, move, and react in the game.<br><br>Here's what I want to acheive:<br>1) No preset and predictable paths<br>2) Each racing entity makes its own decisions(limited number of CPU controlled racers...maybe 4-6)<br>3) A dynamic reaction based upon the real-time factors in the game<br>4) A distinct personality for each CPU racer<br><br>Here's how I think I should do it (and have been experimenting with):<br><br>I defined each and every CPU racer personality as a subset of a type CPUracer.  Each subset is called by name (Inky, BLinky, Clyde...etc [yes, i'm old and that's a Pac Man reference]).  The type contains a preset 'personality' of variables that hold such things as how aggressive they are against opponents, how far off the center of the track they are willing to go, how much over/under the maximum safe speed of a turn they'll go, whether they like to race past an oppponent or push them off the track, etc.<br><br>The race track is loosely defined as it is a 3D world and the speeders (my flying motorcycles) can fly over objects.  So instead of making waypoints, or importing in a pre-described path of racing, I made a 'median' line for the track.  Depending on the 'personality' of the CPUracer, they will adhere to the median (more or less) or go off-path to meet their desires.<br><br>When the CPUracer is in the proximity of a hurdle to overcome, or a power up, they check their relative position and decide (based upon their judgement, reaction, and aggression values) whether or not to 'go for it' or avoid it.<br><br>When a CPUracer is near an opponent, they calculate whether or not they 'think' they should pass them, bump them off the track area, or take another action.<br><br>Another function generates how the 'think' they should pass (left, right, over, under) <br><br>I have created a bell-curve decision loop function that defines (in percent) the chance of them taking any particular course of action.  this decision is modified by their personality variables.  So if I have Inky, a peaceful CPUracer that just wants to race, his decisions will be mostly within the 'Let's just race' idealogy.....but with Clyde, his aggression makes him more prone to knocking other players into cliff walls.<br><br>Now each and every CPUracer also has a variable that tells them how far off course they are.  When they reach a certain point off of the median of the track(predefined by their personality) they determine whether they should get themselves back on-course, or try to short-cut it to the track before the next checkpoint.<br><br>Likewise, when they get close to the player entity, they make similar decisions.<br><br>When no obstacles are around the CPU controlled racers guess the shortest path to the median of the track (based upon their personality) and go to it, plus or minus some personality-colored variances.<br><br>Overall, this gives, I think, a pretty definitive illusion of thought, decision making, and personality; as BLinky will go straight down the middle in a straight section of track, but hug the inner curve on a turn, and pass his opponents on whatever side he thinks is the shortest when he gets near an opponent.<br><br>Thus far, my experiments and tests have been decently cool and work, but I am wondering if anyone else has gone this route before and would like to give me advice on my strategy development.<br><br><br>Thanks <br><br></td></tr></table><br>
<a name="647998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Buggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That sounds amazing and comprehensive, and the only advice I can give you is to start thinking about a selling price for the game! ;)<br><br>Keep it up! <br><br></td></tr></table><br>
<a name="648084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have implemented AI similar to this, it's alot of work, but the best route to take is the shortest- As in, I re-wrote my code, did things in the least amount of code, and the Ai was mroe believable.<br><br>When you get this working, post us a demo, We'd love to see :) <br><br></td></tr></table><br>
<a name="648105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nicstt</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great post imo, working on the AI for a board based word game.<br><br>Might have helped me some by saving on thinking time if I'd seen your ideas first.<br><br>Maybe someone will sticky this as is best breakdown I've seen for planning an AI.:D <br><br></td></tr></table><br>
<a name="648135"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, in honesty, I would have done it with waypoints - even if it meant just using critical ones.<br><br>I've not gone your route before and my only thought is the track design.  You may come up with a nice system that *breaks* when you start designing new fancy tracks - or, then again, it may not *break*. <br><br></td></tr></table><br>
<a name="648144"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stevie G</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Good idea.  This IS actually a waypoint system already.  No matter how you look at it you would have to store points to represent the center of the track.<br><br>An important thing to note is that while the median may give you a clear route around the track it will not necessarily be the quickest racing line so your AI may be easily beaten by cutting corners etc... <br><br>For racing AI I generally precompute the best line / approach speed for each waypoint based on the length of the previous straight / the sharpness of the current turn and the vehicles max yaw rate.  Once you have that you can adjust each vehicle so that it picks a point which is offset from this waypoint by a random amount and with a target speed slightly higher or lower than the baseline speed.  Factor in different braking / acceleration etc.. an overtaking routine and you have some very smart / realistic vehicles which will never take exactly the same line around each corner and at their best will be very difficult to beat.<br><br>Good luck with it BTW!<br><br>Stevie <br><br></td></tr></table><br>
<a name="648447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_PJ_</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> inky blinky pinky clyde and sue? <br><br></td></tr></table><br>
<a name="648503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> On Sphere Racer (my first ever blitz game) I used a waypoint system.<br><br><img src="http://www.mentalillusion.co.uk/Games/Sphere%20Racer/1.jpg"><br><br>Very basic AI that looked pretty real as the opponents made mistakes. Also the computer couldn't do anything the player couldn't do. ie the player could only steer left/right, accelerate and brake. Computer players cheat and be able to go faster or anything.<br><br>Basically:<br>Which direction is the next waypoint?<br>Is +/- x degrees off the direction I'm moving?<br>If it's over a certain threshold then steer<br>If it's over a bigger threshold then stop accelerating<br>If it's over an even bigger threshold then hit the brakes<br><br>And that was the entire AI!<br><br>So you had 3 numbers to give each sphere a 'personality'<br><br>1. How far off direction before you start steering<br>2. How far off direction before you stop accelerating<br>3. How far off direction before you start braking<br><br>Very very simple, but worked really well.<br><br>I was going to complicate it so they'd try and get pick ups and avoid the other racers... but quite frankly... it wasn't worth the effort and seeing them smash past other racers looked cool, and because it threw them off course when they did it made the AI even more believable. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
