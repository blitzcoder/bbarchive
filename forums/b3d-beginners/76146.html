<!DOCTYPE html><html lang="en" ><head ><title >Bullet Help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Bullet Help</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Bullet Help</a><br><br>
<a name="851238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mintybreath</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I feel kind of funny asking what i think is a simple question. Ive been away from coding for a little while, and cant seem to remember the answer.<br><br>So, how do i make a simple bullet system using types?<br>I have a gun, and the bullets types. I got it to move when i press space, but it only moves while space is down, and instead of making a new bullet when repressed, it moves the old one back.<br>I heard using types was more efficient than using arrays, but if it isnt, then please tell me. <br><br><br>If arrays is better, then how do you make a working gun system using arrays?<br><br>Again, i feel silly, like i should surely know how to do this, but some help would be really great. <br><br></td></tr></table><br>
<a name="851257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If arrays or types are better depends on the requirements and the implementation. Types tend to be much slower when not used properly. It doesn't make sense to use For Each loops, only to seek a certain index, what a lot of people yet seem to do. So for a bullet system you'll need for sure not only types, but arrays of types!<br><br>Bullet system implementations have been discussed many times and I suspect you didn't use the forum search so far.<br><br>I would however suggest to learn about types and/or arrays, as well as the needs of a bullet system.<br><br>Here's a good sample about arrays of types.<br><pre class=code>
Type dataT        ; 'data' is a reserved word.
  Field x%, y%
End Type

Dim ship.dataT(9) ; 0 to 9, inclusive in blitz.

For i = 0 To 9
  ship(i) = New dataT
  ship(i)\x = 1
  ship(i)\y = 1
Next
</pre><br>While this code allows to access your types by index directly, it lacks of a feature that normally is a positive<br>Attribute of types: you can create new ones and delete them, without to manually manage indicies, low- and high-marks etc.<br><br>As a teaching project I'd recommend to code it with plain arrays, just to understand every aspect of what's going on and what has to be done.<br><br><br>So, there is a number of bullets that should act independently and parallely. This means, each bullet requires some variables:<br><br>bullet handle<br>bullet speed<br>bullet state maybe<br><br>So these would be 3 Arrays<br><br>there will be two functions, shoot_bullet and update_bullets.<br><br>shoot_bullet creates a bullet mesh by the hit of the firebutton at the players position, stores the handle in an array, rotates it to the aiming direction and sets the speed value in the speed array<br>to the max. It will then increase the number of active bullets variable.<br><br>UpdateBullets will be called in the main loop. It will use a FOR loop with the active bullet counter and iterate trough all bullets. It will MoveENtity every bullet by the value taken from the speed array. Collision is detected. THe speed value is decreased (eg. speed=speed*0.95). Now if there was a collision, or if the speed reaches a minimum, then we want to remove this bullet from the list of active bullets: simply FreeENtity the bullet handle and then remove the array entry from the arrays. While types would make this easier, it still isn't rocket science with arrays:<br><br>let's say the array-index of the to-be-removed bullet is 10, and there are 30 active bullets in total, we would do something like this:<br><pre class=code>
remove_this=10
max_index=30

for i= remove_this to max_index
  bullet(i)=bullet(i+1)
  speed(i)=speed(i+1)
  ;...
next
max_index=max_index-1
</pre><br><br>Then you still have to limit things in order to stay between zero and the dimension of the arrays, that may be the max number of simultanous bullets in the air. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
