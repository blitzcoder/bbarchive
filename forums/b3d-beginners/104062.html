<!DOCTYPE html><html lang="en" ><head ><title >Explain DX Lighting, Dynamic Shadows and Lightmap</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Explain DX Lighting, Dynamic Shadows and Lightmap</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Explain DX Lighting, Dynamic Shadows and Lightmap</a><br><br>
<a name="1258093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi forumers:)<br><br>I am currently nuclearbasic purchaser. Not user yet since i dont have time to learn it yet. Hihihi.<br><br>But suddenly friends said Blitz3D is also a good alternative and now free so i found that Blitz3D together with FastExt is quite a good engine.<br><br>But that not my question. Im read through the tutorial and some info about dx light, dynamic light&amp;shadows and lightmapping<br>So what is the difference between them and when to use it. Since to my understanding, lightmap is ready drawn shadows and light but funny if later it is use with real light.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1258116"></a>

<a name="1258117"></a>

<a name="1258118"></a>

<a name="1258119"></a>

<a name="1258120"></a>

<a name="1258121"></a>

<a name="1258123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow ok. You purchased a full solution and you're now into Blitz3D?? I think that would be going backwards.. and a negative review for them<br><br>Honestly from what I know, you're good with that Nuclear Basic stuff, you bought and already invested on it. I like B3D though don't get me wrong here.<br><br>BUT if you're into Blitz products now, you can also try Blitzmax or the other opensource version of it.. BMX NG or something. It's free and it's here.. somewhere.. in pieces.. you just need to build it.. ask Bruce ;)<br><br>In the end try it as well, it's all free. The FastExt has a 5min limit though then a popup to buy the full version. it's rather cheap around $25 for the whole FastLib shebang!<br><br>there I've said it. BTW welcome to this site, i guess.. <br><br></td></tr></table><br>
<a name="1258173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks. Not saying nuclear basic is bad product. first thing,  my friends have this fastext, mean reduce graphical effect programming( iguess).  Beside im frustrated nuclear studio( 3d editor) is canceled(delayed?). So its look like b3d and fastext can make a quick prototype.<br><br>Ok. either b3d or nuclearbasic i still need to understand the concept of real time light and lightmap. Lightmapped level can still receive light? but i think i will look funny. Can someone help me with the concept. <br><br></td></tr></table><br>
<a name="1258179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes you can definitely make a quick prototype w/ b3d and fastext. just look at them demos.<br><br>lightmapped levels is highly supported in B3D, just find some recent discussions here.<br><br>It can receive light but there's a lack of shaders in fastext so you cannot manipulate this, only by default blending which ruins the original texture.<br><br>You can also try Ploppy's HardWired/Hybrid B3D library which supports DX9/DX11 and shaders but is still in experimental stage. <br><br></td></tr></table><br>
<a name="1258190"></a>

<a name="1258191"></a>

<a name="1258192"></a>

<a name="1258194"></a>

<a name="1258195"></a>

<a name="1258196"></a>

<a name="1258197"></a>

<a name="1258206"></a>

<a name="1258207"></a>

<a name="1258219"></a>

<a name="1258267"></a>

<a name="1259539"></a>

<a name="1259657"></a>

<a name="1259659"></a>

<a name="1270634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> From what i understand :<br><br>Lighting :<br><br>per vertex lighting (precalculated or realtime) : the lighting is calculated according to the normal of each vertex or of each triangle (your choice) with your custom formula or with the one of directx 7 lights. You can use vertexcolor to color each vertex.<br>If the surface has many triangles, the shades of the lighting will look nice and progressive, but if the surface has only a few triangles, the shades of the lighting will look weird in some cases. (for omnilights, directlights, spotlights)<br>see : <a href="http://en.wikipedia.org/wiki/Gouraud_shading" target="_blank">http://en.wikipedia.org/wiki/Gouraud_shading</a><br><br>per texel lighting (=lightmapping, precalculated) : the lighting is calculated according to the normal of each triangle and according to the position of the texel on the triangle, to do this kind of lighting you need a tool or a routine to autounweld (so that each triangle has its own vertices), then autotexelsfill (determine how many texels will be used in the triangle depending on the triangle pwidth pheight in 2D), then autouvmap (define the uv coords of each vertex on the lightmap texture) the triangles and then you need to calculate the lighting of each texel with your custom formula or with a premade formula (as you want) (for omnilights, directlights, spotlights)<br>see : <a href="http://en.wikipedia.org/wiki/Lightmap" target="_blank">http://en.wikipedia.org/wiki/Lightmap</a><br><br>per pixel lighting (realtime, impossible with blitz3d because it requires shaders) : (for omnilights, directlights, spotlights)<br><br>ambient lighting : this is the default color added to each surface (which is not fullbright) on all triangles of the surface (even those who are not lighted by any light) <br><br><br><br>Shadows :<br><br>per vertex shadows (precalculated) : if the surface has small enough triangles (doable on indoor/small scenes) you can precalculate the shadows of static obstacles. Each vertex which has been lighted with vertex lighting is simply shadowed depending on the obstacles between the light and the vertex. (for omnilights, directlights, spotlights)<br>see : <a href="http://en.wikipedia.org/wiki/Gouraud_shading" target="_blank">http://en.wikipedia.org/wiki/Gouraud_shading</a><br><br>per texel shadows (=lightmapping, precalculated) : if the texel size is small enough (in each unwelded, texelsfilled, uvmapped, triangle), you can precalculate the shadows of static obstacles. Each texel of each triangle which has been lighted with texel lighting is simply shadowed depending on the obstacles between the light and the texel. (for omnilights, directlights, spotlights)<br>see : <a href="http://en.wikipedia.org/wiki/Lightmap" target="_blank">http://en.wikipedia.org/wiki/Lightmap</a><br><br>stencil shadows (devil shadow system) (realtime) : creates shadow volumes and then depending on if the pixel is inside a shadow volume or outside a shadow volume, it is either lighted or shadowed. (for omnilights, directlights, spotlights)<br>see : <a href="http://en.wikipedia.org/wiki/Shadow_volume" target="_blank">http://en.wikipedia.org/wiki/Shadow_volume</a><br><br>shadowmapping ? (fastext / swift shadow system) (realtime) : "takes a snapshot from the light's point of view and use it to map a shadow texture over the objects who receive it" (only for directlights, spotlights) <br>see : <a href="http://en.wikipedia.org/wiki/Shadow_mapping" target="_blank">http://en.wikipedia.org/wiki/Shadow_mapping</a><br><br>per pixel shadows (realtime, impossible with blitz3d because it requires shaders) : (for omnilights, directlights, spotlights) <br><br></td></tr></table><br>
<a name="1258279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Per pixel shadows are possible  with stock standard b3d ...see sswifts shadow engine .... they are just hugely inefficient. ... <br><br></td></tr></table><br>
<a name="1258292"></a>

<a name="1258293"></a>

<a name="1258294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Per pixel lighting (on the pixel of the image of the render) is not the same than per texel lighting (on the texel of the texture)... <br><br></td></tr></table><br>
<a name="1258723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for input forumers.<br><br>Actually i read on how to lightmap from this forum. It stated that lightmapped level need to be fullbright and it will not react to light anymore. So how about effect such as torchlight ..or more advance like blended specular using fast ext.<br><br>Thanks <br><br></td></tr></table><br>
<a name="1258752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>So how about effect such as torchlight<br> <br></div><br>You can probably use this :<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1000" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1000</a><br><br>or this :<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=72399" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=72399</a> (post #16) <br><br></td></tr></table><br>
<a name="1258780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wowowow...code archives. Although blitz3d is quite dated but the community and archive is more mature than other engine. Ok thanks <br><br></td></tr></table><br>
<a name="1259540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> for a nice spotlight effect you can also use a dx7 spotlight (vertex lighting) on subdivided floors/walls/ceilings/columns <br><br></td></tr></table><br>
<a name="1260674"></a>

<a name="1260677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, a while since i post this. How do games use light and shadow system actually? Do game use lightmap or dynamic lighting?(before this and current gen). I manage to bake my shadow and load it on blitz3d but it of course the mesh dont react to the moving object when going to the area with shadow? Do i need to use dynamic shadow as in FastExt?(But i notice some levels look good if the lightmap is baked)<br><br>ADDED: or do we can mix lightmap for static thing and make all moving object as shadow receiver?<br><br>Thanks <br><br></td></tr></table><br>
<a name="1260679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same problem as I and others have with mixing static and dynamic shadows. dead end, fastext cannot handle this cause its only a hack.<br><br>If you know shader coding, then Ploppy's Hybrid library is a more plausible solution because it supports DX9 shaders.<br><br>there you go.. <br><br></td></tr></table><br>
<a name="1260725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm. i have no idea on shader programming. That going on with Nuclearbasic. Shader remain unused if u dont know how to program it. Hahaha <br><br></td></tr></table><br>
<a name="1260727"></a>

<a name="1260728"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >videz</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep anyone who has a thing with mixing shadows should be going for UE3/4, Unity or GoDot. it has dynamic and lightmap solution already built-in.<br><br>It all comes down to shaders, just like what I've been saying.. <br><br></td></tr></table><br>
<a name="1260729"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> They're not the only solutions....depending on what you want to do....if it is a simple enough game then coding natively for your target platform is always an option too. <br><br></td></tr></table><br>
<a name="1260736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im aware that programming can achieve a lot of things. but i have very limited knowledge and always look for built-in thing:) <br><br></td></tr></table><br>
<a name="1260766"></a>

<a name="1260767"></a>

<a name="1260768"></a>

<a name="1260769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RemiD</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> To blend the shadows of fastext/swift/dss with the shadows of a lightmap, maybe there is a way in Blitz3d :<br>Instead of blending the shadows fastext/swift/dss over the shadows of a lightmap with a mesh/texture blend, capture the render of the shadows of fastext/swift/dss on an image (with the non shadows areas colored in 0,0,0), then capture the whole scene with the lightmap, then draw the image with the shadows of fastext/swift/dss over the render of the whole scene, and the shadows of the lightmap should not be visible below the shadows of fastext/swift/dss.<br>But there will not be a progressive shading from one to another... <br><br></td></tr></table><br>
<a name="1260905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hoyoyo80</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also have trouble applying shadow texture to "animmesh".<br>If not i can get all the child as caster since exporting combined mesh have no access to child. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
