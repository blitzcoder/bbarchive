<!DOCTYPE html><html lang="en" ><head ><title >Lotus Particle System</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lotus Particle System</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Lotus Particle System</a><br><br>
<a name="446983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings All,<br><br><br> I am using the Lotus particle system and I am getting a weird error periodically. The error is "Runtime Error - Entity does not exist". I realize that this stems back to deleting an entity and then referencing later. The odd thing is the location of this error:<br><br>File:  c_vector.bb<br>Function:  LotusVec_Entity_Position.LotusVector(Entity,G=False)<br><br>Here is the code for the function:<br><br>Function LotusVec_Entity_Position.LotusVector(Entity,G=False)<br><br>   If Entity=0 then Return Null<br>   V.LotusVector = New LotusVector<br>   V\X = EntityX(Entity,G)<br>   V\Y = EntityY(Entity,G)<br>   V\Z = EntityZ(Entity,G)<br>   Return V<br>End Function<br><br>The error occurs on the EntityX line which leads me to believe that somewhere within the Lotus particle system the entity is being freed but is not being set to 0. I have checked my code a number of times (and will check it again) and could not find a place that I freed and entity without setting the entity to 0. Any insight would be helpful.<br><br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="446986"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you using Lotus R1 or R2 and are you remembering to initialize the system? <br><br></td></tr></table><br>
<a name="446989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Noel,<br><br>Thank you for the reply. I am not sure which version of Lotus I am using. Is there an easy way to tell which version (a specific funciton that only exists in one of the versions or a comment blcok in one of the bb file)? I am definately initializing the system. The particle system works great except when this weird error pops up. It seems to happen periodically when I shoot one of the enemy helicopters at VERY close range. If the enemy if further away, it seems to work fine.<br><br>Any help would be greatly appreciated!!<br><br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="447128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> To tell which version you have, see if there's a c_particle.bb or if there's a c_particle_lite.bb (or something similar).  The latter of the two is only included in R2 (Lite, which is the only available version, so there's no confusing full and lite at the moment).<br><br>Anyhow, I can't attempt to recreate the situation until I know which version, and Lotus R1 isn't being supported anymore so if you're using that version then it's something you're going to have to deal with yourself. <br><br></td></tr></table><br>
<a name="447156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> And if you can't work out Lotus, try Particle Candy. But Lotus is free and is probably the better choice. <br><br></td></tr></table><br>
<a name="447159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or you could send me cash and get a copy of Lotus R2 full version (cheaper than Particle Candy), but it's unfinished so you'd be working with software that's still in-progress (I've not gotten around to finishing some bits of it up).  You'd, of course, get free updates to any newer versions. <br><br></td></tr></table><br>
<a name="447294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings...<br><br> The version I am using has a file called c_Particle.bb therefore I guess I am using R2 (Lite) I would be interested in using the full version, but would like to resolve the issue I am having first. <br><br>  I finished going through my code and have been unable to finf anywhere that I delete an entity without setting it equal to 0. Any help would be greatly appreciated!<br><br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="447454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, that means you're using R1.<br><br>I'm not sure why this is occurring (and I honestly don't think it should be).  What I'm going to suggest is pretty much backtrace from the error and see if you can find anything.  In the mean time, I will try to reproduce this error, even if I've previously said I would not be supporting R1 anymore. <br><br></td></tr></table><br>
<a name="447457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Noel,<br><br>I appreciate your efforts. Out of curiousity how much "work" would it be start using R2 in my current application? I would be happy to change if it would make things easier.<br><br>Thanks <br><br></td></tr></table><br>
<a name="447652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not that much, actually.  You'd just have to make sure you weren't using LPS scripts to load emitters (which, it turns out, isn't all that great- R2 will use XML for loading emitters instead).<br><br>The functions are pretty much the same between the two systems. <br><br></td></tr></table><br>
<a name="447926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will start the process of converting over to R2. I will let you know how I progress and if I can reproduce the problem after switching from R1 to R2<br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="447957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Noel,<br><br> I have begun the process of converting and have a few questions. My implementation of Lotus R1 was totally based upon the "LotusTest.bb" file that came with R1. In this example your "fired" rockets ant a landscape. THe easiest way I could see to convert my app would be to get that example to work with the R2 files and then transfer the changes into my application. Well as soon as I started I ran into a function that I could not find. I am now looking through the code to find an an equivalent to SetEntityTrail from R1. I will let you know how I fair. Out of curiousity, do you have a version of the "rocket" demo that works with R2? If so that would help me greatly!!<br><br><br>Thanks<br><br>Jamie <br><br></td></tr></table><br>
<a name="448426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd suggest just parenting an emitter to an entity to simulate SetEntityTrail (since that's pretty much the same thing).  I'll try to port the rocket demo to R2 later. <br><br></td></tr></table><br>
<a name="458057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Noel, I wondered if you had a chance to convert the rocket demo over to R2 yet? I have kludged something together in the meantime but would really like to see "how it should be done"<br><br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="465984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jamie</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Noel,<br><br>I am just now getting back to this project...work is killing me with the long hours! I was wondering if you had made any head-way with porting the rocket demo over to R2. As I mentioned earlier, I have thrown something together...but I am not entirely thrilled with it. <br><br>Thanks,<br><br>Jamie <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
