<!DOCTYPE html><html lang="en" ><head ><title >Need help with this code please.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Need help with this code please.</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Need help with this code please.</a><br><br>
<a name="293826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CnfuzedCoder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is driving me nuts.  When my game switches levels (after the last enemy on the screen is gone) the explosion animation carries over into the next level. I think a laser shot from the player blips on there as well.<br><br>I would like the game to show the complete explosion of the last enemy dying rather than go to the next level immediately.  Here is some code, let me know if you need to see more of it.<br><br>This part is in the main loop<br><pre class=code> 	;If there are no enemies left on screen, player has beaten level. Begin next level.
	If numofenemies = 0 Then
	
		;Make the player's level increment by one
		level = level + 1
		
		;Initalize the new level
		InitializeLevel(level)
	EndIf </pre><br><br>And here is the InitializeLevel() function<br><br><pre class=code> Function InitializeLevel(level)

;Delete every bullet
For i.bullet = Each bullet
	Delete i
Next

;Display intro text
Text screenwidth / 2,screenheight / 2,"NOW ENTERING Level " + level,True,True
Flip

;Delay for a few seconds
Delay 2000

;Reset player's hitcounter
player\hits = 3

;reset player's frame
player\frame = 7   ;(7 is the middle frame)

;Make the total number of enemies a value between 3 and 5 + the current level
numofenemies = level + Rand(3 , 5)    ;Level 1 will have 4-6 enemies, 2 will have 5-7, etc.

;reset health boxes' frame
healthframe = 0

;create the required number of enemies
For e=1 To numofenemies

	CreateNewEnemy(level) 
Next
	
End Function 
</pre> <br><br></td></tr></table><br>
<a name="293828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe you shoulf decrement numofenemies AFTER the Explosions? Or use a second, parallel variable, numofenemiesOnscreen or something? <br><br></td></tr></table><br>
<a name="293846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CnfuzedCoder</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought the decrementing after the explosions would have done it.  I'm lost in my own code!  I'll move on to something else and come back to it with a fresh brain.<br><br>Thanks for the suggestions. <br><br></td></tr></table><br>
<a name="293849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure how you are implementing your explosions but basically just check to make sure none of them are left.<br><br>If numofenemies = 0 AND NUMOFEXPLOSIONS = 0 Then ... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
