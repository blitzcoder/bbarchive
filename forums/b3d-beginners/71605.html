<!DOCTYPE html><html lang="en" ><head ><title >Your going to hate me</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Your going to hate me</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Your going to hate me</a><br><br>
<a name="800328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm going to bring up that timing issue again.<br><br>Ok i know there is a crazy amount of posts about delta timing and tweening. but thats the point, ive looked though most of the posts and had coments from all angles about which is best and problems etc. <br><br>now if there is anyone out there that has a dead simple example of rock solid timing code, please could you post it here and in the archive! <br><br>I get the tweening example in the code archive by mark but in many of the posts people seem to think that delta timing is best.<br><br>if someone posts a newbie proof example we can put this subject to rest. <br><br></td></tr></table><br>
<a name="800342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you can live with the minor niggles involved with tweening, it really is the superior ,ethod, from the perspective of ease of coding and quality of results. <br><br></td></tr></table><br>
<a name="800346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> so marks example is best? <br><br></td></tr></table><br>
<a name="800347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use locked game logic code (usually 90 updates per second or so) and then render whenever it can. This is blitz3D not bmax. <br><br></td></tr></table><br>
<a name="800350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> .Rob: thats gone right over my head? <br><br></td></tr></table><br>
<a name="800354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >b32</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe that tweening is not only a solution for time-based movement, but also a method to reduce the strain that is put on the pc.<br>You calculate two frames, and then render the steps in between using CaptureWorld and RenderWorld tween#.<br>With this method, you don't need to calculate frames as often.<br><br>And as far as I got it, delta-timing is based on the amount of time passed. Every frame, you check Millisecs() to see how much time has passed/elapsed. The movement is multiplied with this number of milliseconds passed:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics3D 800, 600, 0, 2
SetBuffer BackBuffer()

camera = CreateCamera()
MoveEntity camera, 0, 0, -15

cube = CreateCube()
MoveEntity cube, -10, 0, 0

now = -1

Repeat

	old = now
	now = MilliSecs()
	If old = -1 Then old = now

	;time passed	
	elaps# = (now - old)
	
	MoveEntity cube, 0.01 * elaps, 0, 0
	
	RenderWorld
	
	Flip	

Until KeyHit(1)

End
</textarea> <br><br></td></tr></table><br>
<a name="800355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll post code when I get home! It'll make more sense as code! <br><br></td></tr></table><br>
<a name="800357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks to you both im hoping to choose a way of doing this and stick to it. <br><br></td></tr></table><br>
<a name="800367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pete...<br><br>Long time since I used B3D, but Mark's code, ripped from the Castle Demo was what I used (no idea if this is the same as the code in the archives), and it ran perfectly for me. I also tried delta time on the same project. Problems included:<br><br>1) 'Lurching' - the assumption that this frame will take the same length of time as the last is not always a good one<br>2) Physics is a no-no. I was writing a crazy golf game, and with different time-steps using it on different machines, the distance travelled up a slope by the ball varied wildly. You would need to have a fixed time steps for the physics, giving extra complication.<br>3) The pain of adding all those *dt's <br><br></td></tr></table><br>
<a name="800390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nomen luni : Ive heard alot of coments like thoughs but it must work well for some. i think ill go for whatever gives me the most consitant performance on my 2 machines. <br><br>id still like to see what code people are using? <br><br></td></tr></table><br>
<a name="800414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Graphics3D 640,480,32,2

camera = CreateCamera()
MoveEntity camera,0,0,-5
cube = CreateCube()
light = CreateLight()
TurnEntity light,45,45,0

; Set the game speed to 90 updates per second.
; Change this to make the game run faster or slower
; this is also the max fps
ups=90
period=1000/ups
time=MilliSecs()-period

Repeat
	; Timing code
	Repeat
	elapsed=MilliSecs()-time
	Until elapsed
	tic=elapsed/period
	For k=1 To tic
		time=time+period
		ticks=ticks+1

		; =========================================
		; Game logic loop
		
		TurnEntity cube,.5,1,.6
		

		
		UpdateWorld	; if you're using collisions or animation
		
		; End of game logic loop
		; =========================================
		
	Next
	
	RenderWorld
	VWait
	Flip False
	
Until KeyHit(1)</pre> <br><br></td></tr></table><br>
<a name="800420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's so true that vwait() is not something people use much...  But it's really effective in this case.<br><br>But what's really dumb about vwait() is that your game / program will still take 100% of CPU even if it's waiting for a vblank, which is incredibly inefficient.  I'm surprized that it hasn't been made greener than this, as it's wasting watts and heating up the core at 100% usage. <br><br></td></tr></table><br>
<a name="800422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks rob. i will give your code a go. didnt think about doing it like that. <br><br></td></tr></table><br>
<a name="801796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jfk EO-11110</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with _33 about the waste of energy. But probably this is caused by the 86 design that had a bad VSync implementation since the dawn of PCs. Unlike the hardware-Vsync-interrupt of eg. a motorola 68K, the vsync on a Intel chip must be polled by the kernel  -  as far as I know. (?) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
