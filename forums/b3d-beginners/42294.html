<!DOCTYPE html><html lang="en" ><head ><title >this jumping crap is starting to make me mad</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >this jumping crap is starting to make me mad</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >this jumping crap is starting to make me mad</a><br><br>
<a name="473892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rubiks14</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok here is my code for when i hit spacebar..... <br><pre class=code>
If KeyHit(57) MoveEntity camera_pivot,0,2,0
</pre><br>...can u please tell me why it makes me move foward instead of up <br><br></td></tr></table><br>
<a name="473898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rob Farley</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because you're rotated.<br><br>Use translateentity if you want to move in a definitive direction regardless of orientation. <br><br></td></tr></table><br>
<a name="473926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Or, if your setting up your mesh by rotating it to it's correct orientation, use RotateMesh. <br><br></td></tr></table><br>
<a name="474189"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Or, if your setting up your mesh by rotating it to it's correct orientation, use RotateMesh.  <br></div>Or, if your setting up your mesh by rotating it to it's correct orientation, use RotateMesh, NOT ROTATEENTITY. <br><br></td></tr></table><br>
<a name="474190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rubiks14</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> but what is wierd is when i use these right here to move foward and sideways it works fine<br><pre class=code>
If KeyDown(17) Or KeyDown(200) MoveEntity camera_pivot,0,0,0.10
If KeyDown(31) Or KeyDown(208) MoveEntity camera_pivot,0,0,-0.10
If KeyDown(30) Or KeyDown(203) MoveEntity camera_pivot,-0.10,0,0
If KeyDown(32) Or KeyDown(205) MoveEntity camera_pivot,0.10,0,0
</pre> <br><br></td></tr></table><br>
<a name="474191"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rubiks14</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> and also i don't have any meshes <br><br></td></tr></table><br>
<a name="474514"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WolRon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> and also i don't have any meshes  <br></div>Really, then what are you using? Sprites?<br><br>Even primitives (cubes, cones, spheres, etc.) are meshes.<br><br>---------------------------<br><br>You should show more of your code, if you expect any solution <br><br></td></tr></table><br>
<a name="474527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wizzlefish</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> He's using a camera and a pivot. <br><br></td></tr></table><br>
<a name="474574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Because you're rotated."<br><br>Now now, no need to be insulting! :-) <br><br></td></tr></table><br>
<a name="474624"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rubiks14, <br>The move comand moves an object (mesh,camera,pivot,whatever) by its local coordinets. So watever direction it is facing is its z direction.<br><br>Translate moves an object by its global position so it will move the object the direction you give it regardles of the direction it is facing.<br><br>So like Rob said use translate rather than move. <br><br></td></tr></table><br>
<a name="474711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rubiks14</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> i tried but it didn't do anything <br><br></td></tr></table><br>
<a name="474743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiverRatt</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> How did you try it? Lets see the code. <br><br></td></tr></table><br>
<a name="474769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rubiks14</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> i've tried many but this is the last 1 i tried, and i don't really care about coming down yet because i know how to get that to work once i get the camera moving in the right way<br><pre class=code>
;graphics 
Graphics3D 800,600
SetBuffer BackBuffer()

;GLOBALS
Global x#,y#,z#,terra_y#

;collision groups
Global SCENERY = 1
Global PLAYER = 2

;light
Global light = CreateLight()
RotateEntity light, 90,0,0

;CAMERA PIVOT
camera_pivot= CreatePivot()
EntityRadius camera_pivot,1.4
EntityType camera_pivot,PLAYER

;CAMERA
Global camera = CreateCamera(camera_pivot)
CameraRange camera,1,1000
CameraFogMode camera,1
CameraFogRange camera,160,200

;SKY
Global sky = CreateSphere(16,camera_pivot)
FlipMesh sky
ScaleEntity sky,100,100,100
PositionEntity sky, 0,50,0
sky_tex = LoadTexture("sky.bmp")
EntityTexture sky,sky_tex

;TERRAIN
Global terrain = LoadTerrain("height2.jpg")
TerrainDetail terrain,2500,True
ScaleEntity terrain, 3,100,3
PositionEntity terrain,-1000,0,-530
ter_tex = LoadTexture("mossyground.bmp")
EntityTexture terrain,ter_tex
EntityRadius terrain,0.2
EntityType terrain,SCENERY

;main loop
While Not KeyHit(1)
; use the mouse to look around
TurnEntity camera_pivot, 0, 0 -MouseXSpeed(), 0
TurnEntity camera_pivot, MouseYSpeed(), 0, 0 
RotateEntity camera_pivot, EntityPitch#(camera_pivot),EntityYaw#(camera_pivot),0
RotateEntity camera_pivot,EntityPitch#(camera_pivot),EntityYaw#(camera_pivot),0
MoveMouse GraphicsWidth()/2, GraphicsHeight()/2
; use the w,a,s,d or arrow keys for walking and strafing
If KeyDown(17) Or KeyDown(200) MoveEntity camera_pivot,0,0,0.10
If KeyDown(31) Or KeyDown(208) MoveEntity camera_pivot,0,0,-0.10
If KeyDown(30) Or KeyDown(203) MoveEntity camera_pivot,-0.10,0,0
If KeyDown(32) Or KeyDown(205) MoveEntity camera_pivot,0.10,0,0
If KeyHit(57) TranslateEntity camera_pivot,0,2,0
x#=EntityX(camera_pivot)
y#=EntityY(camera_pivot)
z#=EntityZ(camera_pivot)

UpdateWorld

terra_y#=TerrainY(terrain,x#,y#,z#)+2.0
PositionEntity camera_pivot,x#,terra_y#,z#

RenderWorld
Flip
Wend
End
</pre> <br><br></td></tr></table><br>
<a name="474776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DJWoodgate</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yaw the pivot, Pitch the <b>camera</b>, ditch the rotations. <br><br></td></tr></table><br>
<a name="474779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rubiks14</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, can u do that so i can just put it in my code bc i just tried and i must have done it wrong bc my camera screws up now <br><br></td></tr></table><br>
<a name="474799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gauge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well i think I know what your doing:<br><br>at the end of the code you are aligning your pivot to the terrain, so do this:<br><br>at the begging of your loop I reset the valus of:<br><br>align=0 <br>;changed jumpkey to this<br><br>If keyhit(57)=true align=2<br>then at the end<br>positionentity camera_pivot,x#,terr_y#+align,z#<br><br>Here I'll adjust your code:<br><pre class=code>
;graphics 
Graphics3D 800,600
SetBuffer BackBuffer()

;GLOBALS+added align
Global x#,y#,z#,terra_y#,align 

;collision groups
Global SCENERY = 1
Global PLAYER = 2

;light
Global light = CreateLight()
RotateEntity light, 90,0,0

;CAMERA PIVOT
camera_pivot= CreatePivot()
EntityRadius camera_pivot,1.4
EntityType camera_pivot,PLAYER

;CAMERA
Global camera = CreateCamera(camera_pivot)
CameraRange camera,1,1000
CameraFogMode camera,1
CameraFogRange camera,160,200

;SKY
Global sky = CreateSphere(16,camera_pivot)
FlipMesh sky
ScaleEntity sky,100,100,100
PositionEntity sky, 0,50,0
sky_tex = LoadTexture("sky.bmp")
EntityTexture sky,sky_tex

;TERRAIN
Global terrain = LoadTerrain("height2.jpg")
TerrainDetail terrain,2500,True
ScaleEntity terrain, 3,100,3
PositionEntity terrain,-1000,0,-530
ter_tex = LoadTexture("mossyground.bmp")
EntityTexture terrain,ter_tex
EntityRadius terrain,0.2
EntityType terrain,SCENERY

;main loop
While Not KeyHit(1)
align=0 ;added align set to 0 every loop
; use the mouse to look around
TurnEntity camera_pivot, 0, 0 -MouseXSpeed(), 0
TurnEntity camera_pivot, MouseYSpeed(), 0, 0 
RotateEntity camera_pivot, EntityPitch#(camera_pivot),EntityYaw#(camera_pivot),0
RotateEntity camera_pivot,EntityPitch#(camera_pivot),EntityYaw#(camera_pivot),0
MoveMouse GraphicsWidth()/2, GraphicsHeight()/2
; use the w,a,s,d or arrow keys for walking and strafing
If KeyDown(17) Or KeyDown(200) MoveEntity camera_pivot,0,0,0.10
If KeyDown(31) Or KeyDown(208) MoveEntity camera_pivot,0,0,-0.10
If KeyDown(30) Or KeyDown(203) MoveEntity camera_pivot,-0.10,0,0
If KeyDown(32) Or KeyDown(205) MoveEntity camera_pivot,0.10,0,0
If KeyHit(57) align=2
x#=EntityX(camera_pivot)
y#=EntityY(camera_pivot)
z#=EntityZ(camera_pivot)

UpdateWorld

terra_y#=TerrainY(terrain,x#,y#,z#)+2.0
PositionEntity camera_pivot,x#,terra_y#+align,z#

RenderWorld
Flip
Wend
End
</pre><br><br>furthermore I would use:<br><br>If keyhit(57)=true or keydown(57)=true align=2 <br><br>I seem to have trouble reading a keyhit each time, sometimes it reads as key down, and i've even tried enabling directinput.  Maybe theres a better way then resetting the value each loop, but i'm not sure. <br><br></td></tr></table><br>
<a name="474801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br> can u do that so i can just put it in my code bc i just tried and i must have done it wrong bc my camera screws up now <br> <br></div><br><br>Here's a "bare bones" effort that should illustrate most of the stuff you need (with simple placeholder objects and textures).<br><br><pre class=code>
;system
Graphics3D 640,480,0,1
SetBuffer BackBuffer()
HidePointer

;player
player=CreateCube()

;camera
cam=CreateCamera(player)
CameraRange cam,.1,50
CameraFogMode cam,1
CameraFogRange cam,20,30

;level
level=CreatePlane();SHUTIT!
PositionEntity level,0,-2,0
levelTex=CreateTexture(64,64)
SetBuffer TextureBuffer(levelTex) 
Color 0,255,0 : Rect 0,0,64,64
Color 0,0,255 : Rect 0,0,32,32 : Rect 32,32,32,32
ScaleTexture leveltex,2,2
EntityTexture level,levelTex

;sky
sky=CreateSphere(32,player)
FlipMesh sky
EntityOrder sky,1
skyTex=CreateTexture(512,512)
SetBuffer TextureBuffer(skyTex)
For i=0 To 400
Color Rnd(0,255),Rnd(0,255),Rnd(0,255)
Plot Rnd(0,511),Rnd(0,511) 
Next 
EntityTexture sky,skyTex
SetBuffer BackBuffer()

;collisions
EntityType player,1
EntityType level,2
Collisions 1,2,2,2

;vars
yVel#=0


RotateEntity player,0,0,0
RotateEntity cam,0,0,0,True


While Not KeyDown(1)

;mouselook
my#=MouseYSpeed()*.5
If my#&gt;3 Then my#=3
If my#&lt;-3 Then my#=-3

TurnEntity player,0,-MouseXSpeed()*.3,0
TurnEntity cam,-my#,0,0

If EntityPitch(cam)&gt;0 And EntityPitch(cam)&gt;60 Then RotateEntity cam,60,EntityYaw(cam),EntityRoll(cam)
If EntityPitch(cam)&lt;0 And EntityPitch(cam)&lt;-40 Then RotateEntity cam,-40,EntityYaw(cam),EntityRoll(cam)

MoveMouse 320,240

;jumping
For i=0 To CountCollisions(player)
	If i&gt;0
		If CollisionEntity(player,i)=level
			yVel=0
			If KeyDown(57) Then yVel=.1
		EndIf
	EndIf
Next

;movement
If KeyDown(30) Then MoveEntity player,-.05,0,0 
If KeyDown(32) Then MoveEntity player,.05,0,0
If KeyDown(17) Then MoveEntity player,0,0,.05
If KeyDown(31) Then MoveEntity player,0,0,-.05


;simple gravity
TranslateEntity player,0,yVel,0
yVel=yVel-.004


;sky
RotateEntity sky,EntityPitch(sky),-EntityYaw(player),EntityRoll(sky)


UpdateWorld
RenderWorld
Flip

Wend
</pre><br><br>Hopefully you should be able to apply the jumping stuff to your code without too much trouble. The mouselook is hardly exemplary but gives you an idea about how to constrain the "head" a bit. <br><br></td></tr></table><br>
<a name="474819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rubiks14</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks u guys it finaly works...now i am not so stressed out over it anymore <br><br></td></tr></table><br>
<a name="475230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gpete</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> That terra_y# stuff comes from an example program that comes with Blitz.  A not very understandable one for beginers to use,  I know because it messed me up at first also! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
