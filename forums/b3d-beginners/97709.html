<!DOCTYPE html><html lang="en" ><head ><title >Texturing A hexagon</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Texturing A hexagon</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Texturing A hexagon</a><br><br>
<a name="1136734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Juoni</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I'm working with RealmCrafter engine.  I'm new to blitz3d and I've created a hexagon mesh for the ability buttons on the interface.  <br><br>My first problem is.  I'm having problems with the U, and V Texture options on Addvertex. and getting the texture to actually fit.  <br><br>Any help would be appreciated, if you need more info I can do that.<br>~Juoni <br><br></td></tr></table><br>
<a name="1136764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, two things would help greatly if you could possibly post them:<br><br>1) A description of <i>how</i> you'd like your texture to fit the hexagon. A picture of the texture itself with the hexagon outline drawn over it would help a lot, actually.<br><br>2) A wireframe shot of the hexagon itself, so we can see just how the polygons are arranged.<br><br>If you can get these then I'll bet we can fix your problem in no time! <br><br></td></tr></table><br>
<a name="1136772"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's actually very easy to do, if your hexagon is orientated along an axis. You just find the width and height of the hexagon, and use the actual vertex co-ords to make the UV's. More info would help! <br><br></td></tr></table><br>
<a name="1136787"></a>

<a name="1136788"></a>

<a name="1136790"></a>

<a name="1136791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Juoni</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://www.image.siroro.co.uk/images/90867670067313671359.png"><br><br>Okay here is our prototype interface.  The design is ours but the character pictures aren't.<br><br>Here is what I have so far(lol) a long way to go<br><img src="http://www.image.siroro.co.uk/images/77512658772597503197.png"><br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">     v0 = AddVertex(s, 0, 0, 0, 0.25, 0.25)
	
	v2 = AddVertex(s, .5, .86, 0, .5, .75)
	v3 = AddVertex(s,-.5, .86, 0, 1, 0)
	v4 = AddVertex(s,-1,  0.0, 0,  0., 0)
	v5 = AddVertex(s,-.5,-.86, 0,  0, 0)
	v6 = AddVertex(s, .5,-.86, 0,  0, 0)
	
	
	
	AddTriangle(s,v2,v1,v0);North East
	AddTriangle(s,v3,v2,v0);North
	AddTriangle(s,v4,v3,v0);North West
	AddTriangle(s,v5,v4,v0);South West
	AddTriangle(s,v6,v5,v0);South
	AddTriangle(s,v1,v6,v0);South East</textarea><br><br>Thank you hope this helps<br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Writing a reply now; could take a half-hour or so because I'm multitasking, so stay tuned. <br><br></td></tr></table><br>
<a name="1136839"></a>

<a name="1136840"></a>

<a name="1136841"></a>

<a name="1136842"></a>

<a name="1136843"></a>

<a name="1136844"></a>

<a name="1136851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Those hexagons are not regular, they're kinda stretched. <br>Any square texture you apply to these stretched hexagons will be distorted.<br>The ones in your prototype interface are regular, so let's keep them that way.<br><br>The benefits of using regular hexagons: it'll be easier to <i>find the right UV values</i>, and you can scale it later on in case you really want it the way it's in the screenshot.<br><br>This hexagon will be inscribed in a circle of radius 0.5. This means this circle is inscribed in a square of 1.0 x 1.0, which is analogous to the UV space. <br>This will make it easier for your artist to paint a texture for this hexagon - all he needs is a square texture with a regular hexagon inscribed on it.<br><br>We'll start creating the leftmost vertex and then proceed in a clockwise fashion. The hexagon will be centered at [0,0,0].<br><pre class=code>
v0 = AddVertex(s, -0.5, 0, 0, 0, 0.5) ;Extreme left vertex.
v1 = AddVertex(s, -0.25, 0.44, 0, 0.25, 0)
v2 = AddVertex(s, 0.25, 0.44, 0, 0.75, 0)
v3 = AddVertex(s, 0.5, 0, 0, 1.0, 0.5) ;Extreme right vertex.
v4 = AddVertex(s, 0.25, -0.44, 0, 0.75, 1.0)
v5 = AddVertex(s, -0.25, -0.44, 0, 0.25, 1.0) ;Bottom-left vertex. 

;Vertex orders for creating triangles (each trio is a triangle, 4 triangles total): 
;v0,v1,v2
;v0,v2,v3
;v0,v3,v4
;v0,v4,v5
</pre>Try this and tell me what happens.<br><br>The value of '0.44' is obtained from Sin(60) * 0.5 (0.5 being the radius of the circle). It's used as vertical distance for the diagonal vertices; the horizontal distance for these vertices is half the radius, so 0.25.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136845"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Juoni</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, getting work now. Thank you :) <br><br></td></tr></table><br>
<a name="1136850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Juoni</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a demo that I use to see what I'm creating with out having to recompile the RC source every time.  The red hexagon is a screen shot from that.<br><br>Below is the code you provided with the trinagles(i'm about 70% sure they're correct)<br><br>After I got the hexagon to show on the demo I pasted the code to the source and recompiled.  My result is on the left side of the screen shot. <br><br>~juoni<br><br><img src="http://www.image.siroro.co.uk/images/13955606765114506743.png"><br><pre class=code>Hexa = CreateMesh()
s = CreateSurface(Hexa)

v0 = AddVertex(s, -0.5, 0, 0, 0.5) ;Extreme left vertex.
v1 = AddVertex(s, -0.25, 0.44, 0.25, 0)
v2 = AddVertex(s, 0.25, 0.44, 0.75, 0)
v3 = AddVertex(s, 0.5, 0, 1.0, 0.5) ;Extreme right vertex.
v4 = AddVertex(s, 0.25, -0.44, 0.75, 1.0)
v5 = AddVertex(s, -0.25, -0.44, 0.25, 1.0) ;Bottom-left vertex. 



AddTriangle(s,v0,v1,0)
AddTriangle(s,v1,v2,0)
AddTriangle(s,v2,v3,0)
AddTriangle(s,v3,v4,0)
AddTriangle(s,v4,v5,0)
AddTriangle(s,v5,v0,0)</pre> <br><br></td></tr></table><br>
<a name="1136854"></a>

<a name="1136855"></a>

<a name="1136856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright, here we go. Sorry for the wait. First off, your hexagon meshes are easily fixed with some really simple (thanks to Blitz) trig. Take a look at this picture, showing the positions of the seven vertices:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/Hexagon.png"><br><br>With that, you can see that each vertex lies at a specific "angle" around the hexagon. Since you know the angle of each vertex, here's where the trig happens: you can use <b>Cos()</b> and <b>Sin()</b> to get the X and Y positions for each vertex, respectively. It'll look like this:<br><br><pre class=code>v0 (centrepoint):         0,0
v1 (far left)   :   -Cos(0),Sin(0)
v2 (upper left) :  -Cos(60),Sin(60)
v3 (upper right): -Cos(120),Sin(120)
v4 (far right)  : -Cos(180),Sin(180)
v5 (lower right): -Cos(240),Sin(240)
v6 (lower left) : -Cos(300),Sin(300)</pre><br><br>With that in mind, it's a fairly simple matter to actually use that in code. After you create the central vertex at 0,0, you can slap the remaining six in like this:<br><br><pre class=code>AddVertex HexagonSurface,0,0,0

For angle = 0 to 300 Step 60
    AddVertex HexagonSurf,-Cos(angle),Sin(angle),0
Next</pre><br><br>That'll create a perfect hexagon just like this one, easy as pie:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/HexagonMesh.png"><br><br>Alright, so now we've got ourselves a perfect hexagon mesh, but how to texture it? Well, you may already know some of this, but here's a nutshell version of how UV works. As you already know, when you're making a mesh (or at least a flat one like these polygons), 0,0 X,Y is at the very centre, with X and Y radiating outwards, usually within the range of -1 to 1, like this:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/3Dcoords.png"><br><br>A texture, on the other hand, is a 2D image, so 0,0 is at the top left, with X and Y radiating to the right and down, respectively:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/UVcoords.png"><br><br>Now, imagine that you put your newly perfected hexagon over that image, like this. That's how the UV mapping will work, albeit in reverse by putting the <i>image</i> over the <i>hexagon</i>:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/HexOverlay.png"><br><br>So, we have two sets of coords that don't match up. The hexagon goes from -1,1 to 1,-1, while the texture goes from 0,0 to 1,1. So, how to solve this? Well, texture-wise, the central vertex on the hexagon is at 0.5,0.5, so that gives us something to work with. Cutting a very long story short, the XY to UV formula is:<br><br><pre class=code>U = (-Cos(angle) / 2.0) + .5
V = -(Sin(angle) / 2.0) + .5</pre><br><br>Put it all together and you finally get this nifty little function!<br><br><pre class=code>Function CreateHexagon()
	
	
	Local Angle#
	
	Local HexMesh = CreateMesh() ; Make the mesh
	
	Local HexSurf = CreateSurface(HexMesh) ; Add the surface
		
		AddVertex HexSurf,0,0,0,.5,.5 ; Add the centrepoint centrepoint
		
		For Angle = 0 To 300 Step 60 ; Add the six outer vertices, including UV mapping
			AddVertex HexSurf,-Cos(Angle),Sin(Angle),0,(-Cos(Angle) / 2.0) + .5,-(Sin(Angle) / 2.0) + .5
		Next
		
		; Now define the actual triangles
		AddTriangle HexSurf,0,1,2
		AddTriangle HexSurf,0,2,3
		AddTriangle HexSurf,0,3,4
		AddTriangle HexSurf,0,4,5
		AddTriangle HexSurf,0,5,6
		AddTriangle HexSurf,0,6,1
	
	; And finally, return the hexagon itself!
	Return HexMesh

	
End Function</pre><br><br>I realize that may have gone a little fast; hopefully it'll help. Feel free to ask more questions! :D<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136858"></a>

<a name="1136859"></a>

<a name="1136860"></a>

<a name="1136861"></a>

<a name="1136862"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The red hexagon looks fine, so the problem is in the positioning code.<br><br>What are you using to position the hexagons on screen?<br><br>@Adam: nice guide! <br>I don't think the center vertex is necessary, you can get away with just six.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136867"></a>

<a name="1136869"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Juoni</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well Thanks a lot everyone it puts everything in perspective.  <br><br>@Adam,  I never though of actually using a formula to build the hexagons it makes a lot more sense now, especially since you expressed that you know all of Vertices and Degrees.<br><br>@Kryzon You helped me understand how the actually building of the meshes go, in the docs it talks clockwise/counter however I never fully grasped it. Now, if I'm correct I believe that if is clockwise you must start with the shared vertex(if there is one) and then go from there.<br><br>They're all positioned on the screen right now based on a for next loop I created because the stock one was for small quads.  the stretching occurred because I didn't actually place them proportionally except for the center hexagon<br><br>Adam after reading your guide here are the results.  Thanks for clearing up the UV cords, vs the actually mesh.<br><br><img src="http://www.image.siroro.co.uk/images/93881889913174710377.png"><br><br>Now to have the artists redo the textures slightly, then reset the boarders(which shouldn't be much Just turnentity(0,0,Roll) and the degrees are in this guide.<br><br>Once again thanks for the knowledge, and speedy replies :D<br><br>~Juoni<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136871"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> No problem, Juoni; glad it helped so much!<br><br><div class="quote"> I never though of actually using a formula to build the hexagons <br></div>You've spotted a <i>very</i> important principle of programming here: any repetitive task should be reduced to a formula of some sort. Always make your code do the work for you. If you keep an open mind like that, you'll go a long way! :D <br><br></td></tr></table><br>
<a name="1136874"></a>

<a name="1136877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> in the docs it talks clockwise/counter however I never fully grasped it. Now, if I'm correct I believe that if is clockwise you must start with the shared vertex(if there is one) and then go from there. <br></div>I just noticed this bit of your post, and I think I may be able to illuminate the subject. As you probably know, clockwise is this:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/Clockblank.png"><br><br>So, with that in mind, let's take a triangle, like from this Blitz sphere:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/wireframe.png"><br><br>Look at the three vertices. For the triangle to be "clockwise," they just have to be counted in one of the following ways:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/clockwise.png"><br><br>See the connection now? Now, here's the kicker. When a triangle is clockwise, the 3D renderer knows that it's "facing" the camera. However, if the sphere turns around so that the triangle is facing AWAY from the camera, the triangle faces the other way. Look what happens to the vertices:<br><br><img src="http://i913.photobucket.com/albums/ac333/AdamNovagen/counterclockwise.png"><br><br>As you can see, they're now going counter-clockwise. This is how the renderer knows that the triangle is facing <i>away</i> from the camera; it's now called a "backface," and isn't rendered unless the mesh has special instructions (<b>EntityFX</b> 16, to be specific).<br><br><div class="quote"> I don't think the center vertex is necessary, you can get away with just six. <br></div>Very true, but once I drew out the hexagon diagram, I realized that a central vertex would make the whole thing a lot easier to understand visually. Since he only needs this for buttons and icons, an extra vertex and triangle won't hurt much, although if I was doing this for my own benefit I'd definitely only use six vertices.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
