<!DOCTYPE html><html lang="en" ><head ><title >rotate,animimage and handleimage</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >rotate,animimage and handleimage</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >rotate,animimage and handleimage</a><br><br>
<a name="331389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mudcat</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> my bmp is here <a href="http://www.geocities.com/robhydro1/" target="_blank">http://www.geocities.com/robhydro1/</a><br>My problem is using the handleimage command and rotating my anim strip.If I set handleimage it at 0,0 or don't use it,it does fine,but if I move handleimage anywhere on the bmp,some of my rotations blink out.<br><br>here's my preload code<br><br><br>;*************************************<br>;<br>; rotate 90 degrees one at a time<br>;<br>;**************************************<br><br>tmp_image=LoadAnimImage("gunL.bmp",55,11,0,4)<br>;HandleImage tmp_image,1,0<br>;MidHandle tmp_image <br><br>Dim gunL(90)<br><br>For i=0 To 90<br>gunL(i)=CopyImage(tmp_image)<br>;HandleImage gunL(i),7,0<br>RotateImage(gunL(i),-i)<br>Next<br><br>And Here's how I'm rotating it<br><br>If showgunfire=1<br><br>If MilliSecs()&gt;gunfiretimer+100<br>gunframe=gunframe+1<br>gunfiretimer=MilliSecs()<br>EndIf<br><br>If gunframe=4<br>gunframe=0<br>showgunfire=0<br>EndIf<br>EndIf<br>;HandleImage gunL(angle),0,0<br>DrawImage gunL(angle),x,y,gunframe<br><br><br><br>End Function<br><br><br>As u can see I've tryied putting the handleimage everywhere and still got the same results.<br><br>and cure for this?<br>Thanks,<br>Rob <br><br></td></tr></table><br>
<a name="331396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gauge</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not too familiar with handle image, but i assumed your drawing a gun with up to 90 degrees of fire, and then need the flash effect for the gun for 90 degrees, perhaps this code will work for ya?  Oh i think the use of your handle image is wrong, not sure.<br><br>Your going to go with either image memory or rotatemage lag<br>the helpfiles says rotateimage is slow, but i've never used it.So theres two ways to do this that I know of:<br><br>1. Load an anim image with 180 frames 1 to 90 with the gun not firing, and 91 to 180 with the gun firing.  <br>ie<br>gunl=LoadAnimImage("gunl.bmp",55,11,1,180)<br><br>If its not preloaded try this:<br><br>tmpimage=Loadimage("gunl.bmp")<br><br>gunl=createimage(55,55,180) ;yes 55 by 55 cause when you rotate it you'll have to read 55 by 55 i think<br><br>then to load the first 90 shots(non firing try)<br><br>for x=1 to 90<br>drawimage gunl,100,100<br>rotateimage gunl,x<br>grabimage gunl,100,100,x<br>next<br><br>then either load a new bmp with the gun firing, or add and capture a new image with the gun firing and use this loop to add 91 to 180:<br><br>for x=91 to 180 step 1<br>drawimage gunl,100,100 ;make sure this is the gun firing<br>rotateimage gunl,x<br>grabimage gunl,100,100,x<br>next<br><br>keep a current rotation of the degrees say<br><br>rot=??<br>fr=rot<br><br>;rot# should be 1 to 90, so if shogunfire=1 double it same ;rotation for the gunfiring<br><br>If showgunfire=1 fr=fr*2 <br>;timer stuff<br>drawimage gunl,x,y,fr<br><br>Got it?<br><br>or you can use two images and use rotateimage every flip<br>;one firing, one not firing<br><br>gunl=loadanimimage("gunl.bmp",55,11,1,2) <br><br>fr=1 ;gunframe not firing<br>If showgunfire=1 fr=2 ;gunframe firing<br>drawimage gunl,x,y,fr<br>rotateimage gunl,rot<br><br>;also keep in mind<br>If rot&lt;0 then rot=0<br>If rot&gt;90 then rot=90<br><br>I hope that helps, If your still having problems send me your code and help ya fix it, its better if i know what exactly i'm doing. good luck <br><br></td></tr></table><br>
<a name="331769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mudcat</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> here's what I've done to solve my problem.<br>i seperated my anim into 3 different bmps.Then I prerotated each one at the handleimage I needed,then just called up the drawimage I needed.(I needed the gun to rotate towards the back so it looked like it was attached to a tripod base)I didn't want to make a 320 picture anim.Yeah the help files say rotateimage is slow "IF" u try to do it real time.Just wish I knew why handleimage is screwing up for this,cause I will be using it in the future. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
