<!DOCTYPE html><html lang="en" ><head ><title >Fastest Bitmap Font character positioning</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fastest Bitmap Font character positioning</h1><a href="forums.php" >Blitz3D Forums</a>/<a href="topics.php?forum=5" >Blitz3D Beginners Area</a>/<a href="#bottom" >Fastest Bitmap Font character positioning</a><br><br>
<a name="302705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hansie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> all,<br><br>what's your input here. say having a bitmap font - and use it to center X and Y the string "test" on the screen ...<br><br>whats the fatest logic/commands to achieve this? <br><br></td></tr></table><br>
<a name="302738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eBusiness</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> (Hmmm can't understand a word, better say something meaningfull anyway)<br><br>Just figure out yourself where to put it, that's probably fastest on runtime! <br><br></td></tr></table><br>
<a name="302754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends. Is it a fixed width font, or a variable width font? Are we talking 2D 'tiles' or 3D 'quads'? BTW, whatever happened to BlitzCon DK? <br><br></td></tr></table><br>
<a name="302801"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hansie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Flameduck<br><br>a fixed font 64x64. 2D strictly<br><br>BlitzCon Denmark is still VERY high on my priority list. will post a new thread about it later today<br><br>H <br><br></td></tr></table><br>
<a name="302860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, i do it by converting the integer into a string, then cycling through each digit of the string. Tehn converting the digit into a number and using it as frame number for my bitmap font image. eg 222.<br><br>Set up a loop, 1 to stringlength of integer<br><br>get loop digit<br><br>convert to integer<br><br>use integer as framenumber, and drawimage to screen. Again use the loop variable to position it.<br><br>Here's some stuff i did for it. Basic function. pass across the X,Y and the integer you want drawn.<br><br>www.rosscrooks.pwp.blueyonder.co.uk/Blitz/bitmapfont.zip <br><br></td></tr></table><br>
<a name="302861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> NOTE: This is only for number, but can be easily modified :) <br><br></td></tr></table><br>
<a name="302924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, get the width of the screen. Subtract the width of the "test" string (64*4 in this case). Divide this number by 2. This is your starting x position.<br><br>Get the height of the screen. Subtract the height of the string (64 in this case). Divide this number by 2. This is your starting y position.<br><br>Draw all four letters from the starting x and y positions. Remember to add 64 to the x position afterwsards.<br><br>If your letters on the bitmap are layed out in Fontext style (that is an ASCII table, starting with space) then all you have to do is get the ASCII value if the first letter, and subtract 32.<br><br>Then to get the x position of the letter, you need to do a modulus width test. That is the x position will be at ASCII value modulus the number of characters per row, multiplied by the width of each characters, so say you have 10 chars per line, the starting x position will be at (((asc("t")-32) Mod 10) *64).<br><br>The y position of the letter, is the same deal except you need to use integer division instead of modulus, so it'll be at (((asc("t")-32) / 10) *64).<br><br>Hope this helps. If not, send over the bitmap font and I'll write a small routine to demonstrate. <br><br></td></tr></table><br>
<a name="303335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hansie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Ross C<br>Thanx a lot for your sample code<br><br>@FlameDuck <br>Excellent input!!<br><br>Thanx all! <br><br></td></tr></table><br>
<a name="303341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why not load the font as an animate image with the number of frames equal to the number of letters in the font. This way you just take your ascii value of the letter minus 32 and you have the frame number for the correct character. <br><br></td></tr></table><br>
<a name="303657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hansie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Zawran,<br><br>good idea, but so far I have never used a bitmap font which included the entire alphabet <br><br></td></tr></table><br>
<a name="303692"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's what my code example does. Unfortunetly, it only has the numbers 0 to 9 :S <br><br></td></tr></table><br>
<a name="303709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Why not load the font as an animate image with the number of frames equal to the number of letters in the font. <br></div>I'd wager this is (noticably) slower than manually cutting them out. At least it used to be. <br><br></td></tr></table><br>
<a name="303717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, you'd have 26 different images, loaded into an array? I was gonna do mine that way. Can't remember why i changed my mind. It's not any harder :) <br><br></td></tr></table><br>
<a name="303766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hansie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> guys, look at this function and code:<br><br><pre class=code>
vh_fadeintro_print("abcd")
</pre><br><br>just to call the function<br><br>now the function code:<br><br><pre class=code>
Function vh_fadeintro_print(FadeText$)
		numchars%=0
		currentchar%=0
		tempx%=0
		tempy%=0
		Upper(FadeText$)
		numchars = Len(FadeText$)
		tempy = (vh_scrheight/2-vh_fadeintro_fntheight)
		tempx = ((vh_scrwidth-numchars*vh_fadeintro_fntwidth)/2)
		While numchars &lt;&gt; 0
		DrawImage (vh_fadeintro_fnt,tempx,tempy,currentchar)
		tempx = (tempx+vh_fadeintro_fntwidth)
		numchars = numchars - 1
		Wend
End Function
</pre><br><br>Problem? well, I loade my font using LoadAnim, and the font begins with "A" then "B" etc. my problem consists of using the "currentchar" in the DRAWIMAGE command ... How do I get "A"=0 for currentchar, "B"=1 etc?<br><br>PS - its a 64 x 64 fixed sized font <br><br></td></tr></table><br>
<a name="303813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MutteringGoblin</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, Hansie it's the middle of the night here and I only very quickly looked at your post so forgive me if this is wrong...<br><br>You want to cycle through a string and extract characters one at a time... as integers in the range 0 - 25? Okay, you should be able to adapt this code to work in your function.<br><br><br><pre class=code>
Local MyString$,Length,Char

MyString$ = "ABCD"
Length = Len(MyString$)

For i = 1 To Length
    Char = Asc(Mid(MyString$,i,1)) - 65
    Print Char
Next

WaitKey

End
</pre><br><br>Also, I think you are using the 'Upper' function wrongly. You need to reassign the new string to the old one, like this:<br><br><pre class=code>
a$ = Upper(a$)
</pre> <br><br></td></tr></table><br>
<a name="303820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So, you'd have 26 different images, loaded into an array? <br></div>No. I'd have a single image loaded with LoadImage and use DrawImageRect or whatever it's called. <br><br></td></tr></table><br>
<a name="303874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hansie</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MutteringGoblin<br><br>Thanx, mate <br><br></td></tr></table><br>
<a name="303972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ross C</td><td align="right"><font class=tiny>(Posted 2003)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, that's an idea to. Thanks :) (sorry for mini hi-jack ^_^) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
