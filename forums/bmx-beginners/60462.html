<!DOCTYPE html><html lang="en" ><head ><title >Collisions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collisions</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Collisions</a><br><br>
<a name="674235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How is everyone correctly handling Collisions.<br><br>I might be thinking wrong here.. But the steps I am taking are the following.. When I am drawing an Object I also write it to a collision Layer.<br><br>When I am updating an Object I am checking it against Each collision layer. Then Process the Array of Objects returned. Then I reset the Collisions and start over. <br><br>Is this the correct and most efficient way to handle this?<br><br>It seems to be bogging down when I get 30 or more objects. Is this normal? Or is the slowdown most likely somewhere else in my code.<br><br>I have been toying around with checking the distance to an object but then the collisions don't look accurate.<br><br>What is everyone else doing?<br><br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="674238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Move the objects at only one pixel per loop. If it needs to move faster, run the one-per-pixel loop more than once. For crude collision I just use basic rectangle if statements (if ball.x &gt; brick.x+brick.width/2) etc. Then it's on to imagescollide. Works really well and runs very fast with a lot of objects at the same time (5000+, running at 8x pixel-loop speed), plus you always get correct collisions, nothing with overlapping or that kind of crap.<br><br>I have no idea if this is the "correct" way to do it, or what it's called, but it works VERY well for me. <br><br></td></tr></table><br>
<a name="674253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No thats not the correct way:<br><br>1. Write all your static objects to a collision layer where only static objects reside in.<br><br>2. write all dynamic objects to the dynamic layer that shall send collisions, without reading their collision.<br><br>3. process all objects that shall receive collisions (not that are normally only a very very few) by writting it to the dynamic layer with the correctly applied read flag (dynamic layer | static layer), without writting it.<br><br>4. Most important step: Only clear the layer where the dynamic objects are in. DON'T clear the one of the static objects. That way you don't have to rewrite them to the layer ... To do so, you have to explicitely define the layer to delete within the clear collision call.<br><br>I'm using a similar approach in my simplified (for the user) collision routines in my entity system ... Due to the fact that normally only a few objects need to receive collisions it is an enormemous amount of speed gain.<br><br>[EDITED]<br>Edited out some inconsistencies that could lead to "faulty" structure <br><br></td></tr></table><br>
<a name="674888"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive been wondering about that as well, seemed very wasteful having to redraw a scenery collision mask every frame. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
