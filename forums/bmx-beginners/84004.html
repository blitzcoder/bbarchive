<!DOCTYPE html><html lang="en" ><head ><title >Ideal Thread Count</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Ideal Thread Count</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Ideal Thread Count</a><br><br>
<a name="948528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lukehedman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another question to help me rebuild my framework threaded.<br><br>What is the ideal number of threads for a computer. I'd imagine the number of CPU cores a computer has would affect that.<br><br>I'm figuring the number of child threads should be about double or triple the core count. So if one thread running on a core stops because the data it needs is blocked, the other one or two can hopefully continue to run. I mean, assuming the program is built to take advantage of threads.<br><br>Still, I'm very inexperienced with this stuff. Any advice or suggestions? <br><br></td></tr></table><br>
<a name="948536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on what you're trying to accomplish: If you have a need for several very processor intensive tasks, then one per core would probably be optimal. <br>If you have multiple low-CPU tasks then it really doesn't matter -- however many tasks are needed to accomplish your goal without them being in each other's way. <br><br></td></tr></table><br>
<a name="948541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I always try to use 2 or 4 threads for dual and quad core cpus respectively.  I put all of the low cpu tasks in the same thread and the high cpu tasks in their own thread. <br><br></td></tr></table><br>
<a name="948566"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on the operations, you might better calculate with 2-3 threads per core unless they are fully eating up the cpu time with pure math.<br>Because all memory fetching will introduce waiting times which you otherwise can waste a lot of potential power if your threads do a lot of work with memory. <br><br></td></tr></table><br>
<a name="948589"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is no way to know this.  It really depends on how CPU intensive your threads are.  But, you do not get to choose which core/cpu the thread is run on.  So, even if you spawned 4 threads on a duo core CPU, it is possible all 4 of your threads ended up on the same core. <br><br></td></tr></table><br>
<a name="948591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No its not, XP+ will move them between the cpus as needed. Naturally unless you set the cpu affinity to one / several specific cores only<br><br>Same goes for both *nix OS <br><br></td></tr></table><br>
<a name="948604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing to keep in mind is that even if you have multiple cores in your computer, you still only have one memory and it has to be shared amongst all of the cores. So even if each core can do stuff in parallel with each other, they still are going to clash with each other when you try to access memory. <br><br></td></tr></table><br>
<a name="948912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lukehedman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alright. Thanks everyone!<br><br>Ugh... Designing a program to take advantage of threading is complex. It seems to me the architecture is a lot like programing a UDP networking app. Data doesn't come in order so a robust task manager helps. At least there's no packet loss :-D<br><br>Well, it's fun to figure these things out. Thanks again! <br><br></td></tr></table><br>
<a name="948975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't forget about those corrupt packets? ;-D <br><br></td></tr></table><br>
<a name="949176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> stupid question :<br><br>is it possible to set the thread on one core and the rest to the other(s) ? <br><br></td></tr></table><br>
<a name="949184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it is if you call o/s specific API functions. The o/s does an okay job of distributing the workload amongst the cores, though. <br><br></td></tr></table><br>
<a name="949466"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes you can, at least on Windows through the API<br>As you can set the Processor Affinity for the process, the same is possible for threads too. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
