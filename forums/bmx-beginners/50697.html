<!DOCTYPE html><html lang="en" ><head ><title >Too dumb to do the maths</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Too dumb to do the maths</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Too dumb to do the maths</a><br><br>
<a name="564634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apologies as I am sure this is simple, but I have been thinking about it for too long, and now I have a total blank.<br><br>I have 2 angles and I just need to know how close they are to being at right angles to each other. The angles could be positive or negative, but I am just need to return a value between 0 and 90.<br><br>Any help would be much appreciated <br><br></td></tr></table><br>
<a name="564722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> subtract one from the other? <br><br></td></tr></table><br>
<a name="564747"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> No - I can't really just do that.  For example if the angle between two objects is 170 and the angle that object one is travelling along is 20 then simply subtracting one from the other gives 150.  But in this example I would want to return 30.<br><br>I guess from this I could maybe get the absolute difference between the two angles and then look at which 90 degree quadrant the resultant angle is in and depending on which one it falls in do the following:<br><br>RESULTANT ANGLE    ACTION<br>&lt; 90             : do nothing<br>&gt; 90 and &lt;= 180  : 180 - result<br>&gt; 180 and &lt;= 270 : result - 180<br>&gt; 270 and &lt;= 360 : 360 - result<br><br>I think this will always give me how close the object paths are to being at right angles to each other.  Does this look right to anyone else (or even make sense to anyone)? <br><br></td></tr></table><br>
<a name="564748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tibit</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> 0 to 90? But what if they are 180 degrees apart? <br><br>A# = Abs( V1 - V2 ) Mod 90 ' Is this what you want?<br><br>btw What are you doing? <br><br></td></tr></table><br>
<a name="564779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi wave,<br><br>Thanks, I had tried that actually but it doesn't seem to work in all scenarios - I think because the modulus gives the same result for angles that are 90 degrees apart as it does for 180 (your example), when in fact these are opposites.  <br><br>This is to do with collisions and elasticity really, so maybe it will be clearer with an example:<br><br>If a moving ball (cue ball for example) collides with a static one, and the cue ball has backspin applied, then depending on how full the impact depends on how much the backspin will affect the subequent motion of the cue ball.  <br><br>What I mean is that if the balls strike head on then the cue ball would move backwards after the collision.  However if it were to just strike a glancing blow, the effect of backpin would be minimal and the ball would continue to move forwards.<br><br>Looking at things in this way the moving ball can effectively strike the other ball at an angle between 0 and 90(+/-) degrees - with 0 being a head on collision and 90 being the faintest of glancing contacts.<br><br>But obviously the angle between the balls on contact and the angle the moving ball is travelling at can both be any angle so I need a way to convert the difference into a 0-90 range.<br><br>Hopefully this makes it a bit clearer.  As you may guess this relates to a pool game.  I have all the effects of sidespin and top and backspin working (albeit in a 'fake' physics way), except for taking into account how the speed of the cue ball is altered by the fullness of the contact. <br><br></td></tr></table><br>
<a name="564784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you can use this<br><pre class=code>
'angles must be between 0 and anglemax
Function AngleDifference#(angle1#,angle2#,anglemax=360)
	Local temp#

	temp#=angle2-angle1
	If temp&gt;+anglemax/2 Then Return temp-anglemax
	If temp&lt;-anglemax/2 Then Return temp+anglemax
	Return temp
EndFunction

howclosetorightangle=abs(90-abs(angledifference(a1,a2)))
</pre> <br><br></td></tr></table><br>
<a name="564815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys for all the help.  <br><br>Coorrae - top notch stuff!  This seems to work for me.  Thanks loads. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
