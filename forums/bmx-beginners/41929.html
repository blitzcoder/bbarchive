<!DOCTYPE html><html lang="en" ><head ><title >Using 16-bit graphics</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Using 16-bit graphics</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Using 16-bit graphics</a><br><br>
<a name="470492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi folks. I was wondering about how to go about using 16-bit graphics with BlitzMax, or at least with OpenGL.<br><br>So far all I've done is open 32-bit images and render them on a Graphics screen or window. Obviously if I change the color depth of the screen or the desktop to 16-bit, everything renders automatically in 16-bit. In fact, same goes for 256-colors even though that's not entirely supported with BlitzMax.<br><br>Now, I take it that this is wasting time, for 16-bit mode, because either the RGBA8888 data for the image has to be filtered down (and dithered if switched on) to less bits, either at the time of reading or writing to the backbuffer or at the time of Flipping the double-buffer.<br><br>I would like to know, if I purposefully detected that 16-bit color was needed, and open a 16-bit display, can I just load in some 16-bit image data (or produce it somehow), and if I do that, will rendering it be faster than if I just use 32-bit images outputting to a 16-bit display?<br><br>Or more to the point, what's the best way to make things most efficient for 16-bit graphics rendering? Either with BlitzMax's own commands or OpenGL directly. ??????? <br><br></td></tr></table><br>
<a name="470607"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone? <br><br></td></tr></table><br>
<a name="470629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As I understand it Max keeps images internally as 32 bit so loading a 16bit image will only be degrading picture quality.  Maybe.  Don't know about the direct OpenGL approach... <br><br></td></tr></table><br>
<a name="470699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you bind a texture to OpenGL (which LoadImage/DrawImage do for you) it's automatically converted to the same colour depth as the OpenGL context you created (using Graphics or bglCreateContext).<br><br>"Binding" a texture means copying it to a format that OpenGL can use. Your original TImage/TPixmap might be 32-bit, but the bound copy that is actually used by OpenGL might be 24-bit or 16-bit or 15-bit or 8-bit.<br><br>In other words, it's not any slower using a 32-bit .PNG than it is using a 16-bit image. The only problem is that 32-bit images take up more disk space. <br><br></td></tr></table><br>
<a name="470769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok sounds good, thanks. But what about, then, if you want to render straight from a pixmap to the backbuffer, and the pixmap is 32-bit and the backbuffer is 16-bit? It seems that BlitzMax converts the format each time, which is obviously slow? Better to store the pixmap at 16-bit?<br><br>ie separate versions of images, 32-bit and 16-bit? <br><br></td></tr></table><br>
<a name="470783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> DrawPixmap works differently. It draws the individual pixels to the OpenGL buffer in the correct format. I don't think there should be any speed difference if you store it in a different format.<br><br>If you can use TImage instead of TPixmap, do it as it will be much faster. If you need your image to change a lot, I think you'd be better off writing directly to texture memory instead of to a pixmap. <br><br></td></tr></table><br>
<a name="471246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If the pixmap image is in 16-bit format with 2 bytes for each pixel obviously there are a lot less memory reads needed to get the image through the CPU. That has to be slower. What I want to know is, if I load a 16-bit image into a 16-bit pixmap, is it faster than 32-bit. And I'm guessing it is. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
