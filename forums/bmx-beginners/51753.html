<!DOCTYPE html><html lang="en" ><head ><title >Rounding</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Rounding</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Rounding</a><br><br>
<a name="577803"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ghost Dancer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, now I know the topic of roundnig has cropped up a few times but I could not find the answer to my question! Fom what I can tell, max has 3 rounding functions:<br><br>Int - removes decimal part<br>Floor - rounds down (same as Int?)<br>Ceil - rounds up<br><br>That's all well and good, but is there a function that rounds down if less than .5, and up if .5 or greater? In previous incarnations of Blitz, the Int function worked this way.  Is there an equivilent function for this in Max? I've never used a language before that couldn't do this! <br><br></td></tr></table><br>
<a name="577815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >HappyCat</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a bit weird not having a round function at all.<br><br>Anyway, note that Int in Blitz 3D doesn't actually do what you describe either. From the docs:<br><br><i>What about numbers exactly halfway between integers? <br>The rounding is to the nearest even integer: <br><br>Int( 2.5 ) ... produces 2 <br>Int( 3.5 ) ... produces 4</i><br><br>This seems to be some kind of standard. The .Net Math.Round function does the same and describes it as:<br><br><i>The behavior of this method follows IEEE Standard 754, section 4. This kind of rounding is sometimes called rounding to nearest, or banker's rounding.</i><br><br>Anyway, short story is that it looks like you'll have to write something yourself.<br><br><br>Edit: Suddently I feel really geeky for knowing this - I only know about it 'cos I had to write my own rounding function to do what you describe for a .Net app I wrote recently - honest!  :-) <br><br></td></tr></table><br>
<a name="577833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Int (2.9) gives 2? What's wrong with rounding to nearest? <br><br></td></tr></table><br>
<a name="577950"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well... for the lazy here is some code that'll do it<br><pre class=code>
Function Round(number:Double)
	dPart:Double = number-Int(number)
	If dPart&gt;=0.5
		Return Int(number)+1
	Else
		Return Int(number)
	EndIf
End Function
</pre> <br><br></td></tr></table><br>
<a name="577955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Most programming languages I've worked with just drop the fractional part when converting a Float to Int.  BlitzBasic is the first I've used that doesn't work that way.  If you want to round to the nearest number, just add .5<br><pre class=code>NumberInt = Int(NumberFloat + .5)</pre><br>All numbers below x.5 will return x and all numkbers equal to or greater than x.5 will return x+1 <br><br></td></tr></table><br>
<a name="577957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ooh nice! i hadnt thought of that :P <br><br></td></tr></table><br>
<a name="577972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ghost Dancer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I meant to say was that other langauges I've used either had an Int function that behaved like older Blitz versions, or they had other functions that provided that functionality.<br><br>TomToad, nice solution, I didn't think of that,  thanks :-) <br><br></td></tr></table><br>
<a name="577997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you want to round to the nearest number, just add .5 <br></div><br>Unfortunately that doesn't work for negative numbers.  -2.6 should round to -3, but -2.6 + 0.5 = -2.1, and Int( -2.1 ) = -2. <br><br></td></tr></table><br>
<a name="578007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Function Round:Double(x:Double)
	Return Int(x + (Sgn(x) * 0.5))
End Function</pre> <br><br></td></tr></table><br>
<a name="578110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice. <br><br></td></tr></table><br>
<a name="578116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
d:Double = 123.456
Print Round(d, 1)	'Rounds d to nearest whole number
Print Round(d, .01)	'Rounds d to nearest hundreth
Print Round(d, 10)	'Rounds d to nearest ten
Print Round(d, 25)	'Rounds d to nearest twentiy five

Function Round:Double(value:Double, place:Double)
	Local d:Double = value / place
	Return Int(d + Sgn(d) * 0.5) * place
EndFunction
</pre><br>Rounds a number to the nearest of any number. I figured this out when I needed a similar thing on my TI-83+ graphing calculator. I had a math problem that wanted me to find some length to the nearest 25 units. So I figured this out. It uses TwoEyedPete's round function to do the actual rounding in place of the calculator's function.<br><br>Only problem is encountered with the second one, I think it is just messiness with floating point arithmetic. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
