<!DOCTYPE html><html lang="en" ><head ><title >For-Next Loops</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >For-Next Loops</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >For-Next Loops</a><br><br>
<a name="621681"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
For x=0 To 10
	Print "x =" + x
Next

Print "Final x value is " + x
</pre><br><br>Why is x 11? Why does it get incremented after the loop? Does my head in, this............ :-) <br><br></td></tr></table><br>
<a name="621684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> this works:<br><pre class=code>
For x=0 Until 10
	Print "x =" + x
Next

Print "Final x value is " + x
</pre><br><br>(not entirely sure why To increments one further)<br><br>*EDIT*<br>the To appears to be doing the same as this:<br><pre class=code>
Local x:Int
While x &lt;= 10
	Print "x = " + x
	x:+1
Wend

Print "Final x value is " + x
</pre> <br><br></td></tr></table><br>
<a name="621686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Incrementation border is defined as "as long as x smaller-equal "to value"" (while x&lt;=10) which means the same as "while x between 0 and 10 to execute the code within the For - Next block".<br><br>This is why it comes out one step larger than the to, which is the first x that step outside the allowed "max" of 10. <br><br></td></tr></table><br>
<a name="621700"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a pain in the neck.<br><br>If I have an array dimensioned to maxsize, I should be able to go:<br><br><pre class=code>
for x=0 to maxsize
    array[x]=something
next
</pre><br><br>without getting an error because I am referencing outside the array. I have never encountered this in anything other than Blitz, but now I know I can work around it. <br><br></td></tr></table><br>
<a name="621703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
local maxsize:int = 10
Local array:int[maxsize] 'create an array of 10 ints numbered 0-9
for x=0 to maxsize-1 'goes from 0-9
    array[x]=something
next
</pre> <br><br></td></tr></table><br>
<a name="621704"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diablo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>local maxsize:int = 10
Local array:int[maxsize] 'create an array of 10 ints numbered 0-9
for x=0 to array.length-1 'goes from 0 to arrays length -1
    array[x]=something
next
</pre> <br><br></td></tr></table><br>
<a name="621705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> um... isn't that what I just said? <br><br></td></tr></table><br>
<a name="621709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use Until instead of To and you don't need to add '-1'...<br><br><pre class=code>
Local maxsize:Int=10
Local array:Int[maxsize]
For x:Int=0 Until maxsize
    array[x]=something
Next
</pre><br>As for the value always being higher than what you put after To, it's always been like that in every BASIC since the dawn of time ;o) <br><br></td></tr></table><br>
<a name="621711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It's a pain in the neck. <br></div><br><br>Your issues are completely unrelated. Your referencing outside the array because arrays stretch from 0 to size-1, as Perturbatio demonstrated.<br><br>I'd love to know what languages you've used that don't do this because every basic variant I've ever used sure as hell does. PureBasic does, IBasic does. It has absolutely no effect on the loop contents whatsoever because the counter is not incremented until the Next command is issued, by which time your loop is complete. <br><br></td></tr></table><br>
<a name="621712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can actually see a use for this functionality as well.<br><br>if you were iterating through a collection of values and processing them, but wanted to do something different with the last one.<br><br>(i.e. you were appending a "," to each string in an array of strings but didn't want the last string to have one). <br><br></td></tr></table><br>
<a name="621715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diablo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> um... isn't that what I just said?  <br></div><br>the method i used just means the array can be any size i.e once hes created the array he can re-size it and it will still work. <br><br></td></tr></table><br>
<a name="621721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> |oD<br><br><a href="/posts.php?topic=31922#341203" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=31922#341203</a> <br><br></td></tr></table><br>
<a name="621722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> My issues are *NOT* unrelated. I know perfectly well how to reference arrays, and used that as a quick example that didn't really show what I meant.<br><br>My point was, and is, that in a loop of x=0 to 10, I would not expect x to ever equal 11, which it does in Blitz when using for x=? TO.. I don't recall ever seeing that in any of the many languages I have programmed in over the years.<br><br>The relevance to the arrays is completely misleading, and was just a bad example by me.<br><br>Thanks guys, anyway, I shall be using for-until from now on....... <br><br></td></tr></table><br>
<a name="621723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Indeed, Malcolm, and it shows that I still don't like it :-) <br><br></td></tr></table><br>
<a name="621724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  My issues are *NOT* unrelated. I know perfectly well how to reference arrays, and used that as a quick example that didn't really show what I meant. <br></div><br><br>Then I'm confused as to why you wrote :<br><br><div class="quote"> I should be able to go: .. without getting an error because I am referencing outside the array. <br></div><br><br>Because this behaviour can never cause a loop to go out of bounds in an array within it.<br><br><div class="quote">  My point was, and is, that in a loop of x=0 to 10, I would not expect x to ever equal 11 <br></div><br><br>And my point is that since it never equals 11 inside the loop, it never matters. Do you plan to go on and do something with x, expecting it to still be 10? If so, I can't read minds, because you don't do that in any of your examples, nor did you describe any intention to so do. <br><br></td></tr></table><br>
<a name="621727"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because, as I have already said, I used a bad example. What I was actually trying to do was read in some data and then set an end marker as follows:<br><br><pre class=code>
	alien_path=alien_path[..ALIENPOINTS+1]	'ALIENPOINTS is the maximum number of points
                'array dimensioned to two above max for endmarkers
			
	file=OpenStream(FileName$) 
	If Not file RuntimeError "failed to open alien data file"
	
	For x=0 To ALIENPOINTS-1
		alien_path[x]=ReadInt(File)		'read the path data
	Next
	
	alien_path[x+1]=ENDMARKER			'write the two end markers
	alien_path[x+2]=ENDMARKER
</pre><br><br>So, basically I was reading in the data from the file, and then manually writing the end marker. Because I expected x to be the maximum value I had set in the loop, it seemed reasonable to write the two markers to x+1 and x+2, but the latter was outside the bounds of my array.<br><br>I accept that you can't read minds, and my example was bad, but this is why I have a problem with the loop increment, and how it is relative to an array. I had forgotten that I had the same problem with BlitzPlus. <br><br>Thanks for your help. <br><br></td></tr></table><br>
<a name="621731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitz3D or better all old Blitz created an array of 0 to maxsize when you initialized them with size maxsize ... its about the only language that has this wrong behavior (c derivates have 0 to maxsize - 1, basics/pascal derivates have 1 to maxsize normally) <br><br></td></tr></table><br>
<a name="621736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mental Image</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't know that about 3D. But that wasn't really the issue as explained in my post above. My array was dimensioned to ALIENPOINTS + 1 which, in effect, is ALIENPOINTS -1 (which is the standard maxsize -1) plus another two slots for the end markers.<br><br>The problem arose because of the x increment outside the loop. In fact this whole thread would have been sorted if I had just posted the code in the beginning and not sent everyone off on a wild goose chase!<br><br>So, thanks to all for the replies, and the help, now I know what it does, I will work around it in future similar situations. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
