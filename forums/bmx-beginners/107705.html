<!DOCTYPE html><html lang="en" ><head ><title >"cannot find -lwinpthread" error at linking time</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >"cannot find -lwinpthread" error at linking time</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >"cannot find -lwinpthread" error at linking time</a><br><br>
<a name="1335350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ralighón</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I am exactly in the same situation that Yue in another post. At linking time I get...<br><br>[100%] Linking:MalangSwara v1.02 - x86.exe<br>C:/BlitzMax/MinGW32/bin/ld.exe: cannot find -lunicows<br>C:/BlitzMax/MinGW32/bin/ld.exe: cannot find -lwinpthread<br>Build Error: Failed to link F:/MalangSwara/MalangSwara v1.02 - develop/MalangSwara v1.02 - x86.exe<br>process complete<br><br>As you can see, the linker doesn't found something called "unicows" and "winpthread"... and is fully right: these files do not exist neither in my hard drive nor in the MinGW site, it seems (with oe without the leading "l" -- I assume that the linker has placed it somehow).<br><br>Things I have done before asking for your help? A lot:<br><br>- I have upgraded bmk.exe<br><br>- I have reinstalled MinGW (basic installation, version 5.3.0) inside c:\BlitzMax, in a folder named MinGW32.<br><br>- I have checked the environment variables (I have created a user one, and I have appended the path to MinGW32 and MinGW32\bin to PATH)<br><br>- I have recompiled all modules with bmk makemods -a -r (the modules are: brl.mod, maxGUI.mod, pub.mod, wx.mod) with no errors.<br><br>- I have tried compiling my program both threaded and non threaded mode.<br><br>And, of course, I have followed the indications you give to Yue. No avail :(<br><br>--<br><br>BTW, all this play began when I tried to install wx.mod. I just placed the pre-compiled version inside the mod folder but It didn't work. I could not recompile because I haven't MinGW installed. THIS is the closest point I have reached to get wx.mod working, what is my ultimate goal.<br><br>If I roll back the bmk.exe to the old version and recompile the modules, everything goes fine... except wx.mod. The compiler just "doesn't find the interface" -- neither wx.mod nor any other mod outside the BlitzMax installation (version 1.50). Not even the sample files work :O<br><br>I hope you have some advice for me.<br><br>Thank you! <br><br></td></tr></table><br>
<a name="1335357"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't really help, but -l means library, and -lunicows is looking for a library named unicows.<br><br>It is for WinMe and earlier to facilitate the use of Unicode. I remember that being an issue when trying to get the Max IDE working with older versions of Windows. That was probably ten years ago. <br><br></td></tr></table><br>
<a name="1335427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ralighón</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Floyd,<br><br>I am using IndevIDE over W7, but MaxIDE throws the same errors. Looks like they are not system-related... but go know! I have reached the limit of my knowledge. Any idea will be welcomed.<br><br>Please, note that there is an underlying problem here: make wx.mod work (in my particular case, of course :).<br><br>Thanks for answer! <br><br></td></tr></table><br>
<a name="1335437"></a>

<a name="1335439"></a>

<a name="1335442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ralighón</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Henri,<br><br>I've just tried it. I have recompiled all modules with bmk makemods -a -r (got an error in wxrarinputstream.mod so I have compressed it to keep it safe, deleted the folder and recompile).<br><br>I have tried to compile 'wxAboutBox sample'. No luck:<br><br>C:/BlitzMax/MinGW32/bin/ld.exe: cannot find -lwinpthread<br><br>It was a good guess, anyway. Thank you! <br><br></td></tr></table><br>
<a name="1335444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ralighón</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi again,<br><br>Just for the sake of trying, I have tried to compile 'wxAboutBox sample' with the old bmk (and the new and freshly compiled wx.mod). I have got a <i>lot</i> of:<br><br><pre class=code>
C:/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_adv.a(advlib_hyperlinkg.o):hyperlinkg.cpp:(.text+0xaae): undefined reference to `__gxx_personality_sj0'
C:/BlitzMax/mod/wx.mod/wx.mod/../lib/win32/libwxmsw31u_adv.a(advlib_hyperlinkg.o):hyperlinkg.cpp:(.text+0xad6): undefined reference to `_Unwind_SjLj_Register'
</pre><br><br>Maybe this is an additional clue...<br><br>Greetings, <br><br></td></tr></table><br>
<a name="1335445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is a MinGW issue.<br><br>Here are some instructions for setting up MinGW:<a href="/post.php?topic=107311&amp;post=1328178" target="_blank">http://www.blitzmax.com/Community/post.php?topic=107311&amp;post=1328178</a><br><br>-Henri <br><br></td></tr></table><br>
<a name="1335446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ralighón</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi again, Henri.<br><br>Yes, I had have tried this before, but nevertheless I have made a clean start. I have reinstalled BlitzMax and followed the instructions until Step 3, when I try to build the new bmk and I get the following error:<br><br><pre class=code>error: CPU you selected does not support x86-64 instruction set
Build Error: failed to compile D:/Users/···/···/bmk-master/bmk_cores_win32.c</pre><br><br>The CPU is an Intel core I5 vPro, it should support this instruction set, so I guess the error message actually refers to a different thing.<br><br>BTW, bmk compiles with no error if I install TDM MinGW 32 bits only... but the final result after Step 8 is BlitzMax unable to compile anything.<br><br>Nobody said that this would going to be easy :) <br><br>Maybe it would be easier and faster if someone passes me (or points me to) a pre-compiled zipped BlitzMax with a working wx.mod, but if you want to diagnose this particular issue, count on me, please!<br><br>Thanks a lot! <br><br></td></tr></table><br>
<a name="1335447"></a>

<a name="1335448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hallo,<br><br>You could try the latest release of BlitzMax NG from here : <a href="https://github.com/bmx-ng/bmx-ng/releases" target="_blank">https://github.com/bmx-ng/bmx-ng/releases</a><br>And the latest wx.mod zip download from here : <a href="https://github.com/maxmods/wx.mod" target="_blank">https://github.com/maxmods/wx.mod</a><br><br>Extracting the zip into the mods folder and renaming it wx.mod, should be everything you need to use wxMax.<br><br>&lt;EDIT&gt; I just tried it on Windows 10, and built one of the samples, which worked okay. <br><br></td></tr></table><br>
<a name="1335449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey,<br><br>does the wxFlatNotebook-example work also ? I'll do some testing after work.<br><br><br>@Ralighon<br><br>Brucey's suggestion is valid if you like to try. The error that you are getting points to invalid Blitzmax installation (perhaps multiple setups ?) or invalid deployment of bmk. I'll check.<br><br>-Henri <br><br></td></tr></table><br>
<a name="1335454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okei, I did try the NG setup, which seems to run great. I did get crash in flatnotebook.bmx example though when toying with notebook widgets titlebar. Almost like a rendering failure. I believe this is not NG related, but MinGW related as well, because with older MinGW it works.<br><br>@Ralighon<br><br>I tried compiling bmk.bmx (step 3) with NG from the link Brucey provided &amp; Vanilla BMX downloaded from Blitzmax.com and got no errors. Perhaps you are using a different build version of bmk already ? Try the original. Also check where MaxIDE thinks the MinGW location is.<br><br>-Henri <br><br></td></tr></table><br>
<a name="1335476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ralighón</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>OK, you did it!<br><br>At all the tests, I allways uninstall the sw using the system tools and delete all the previous folders to have a clean install. I have done it with the latest release of BlitzMax NG and the latest wx.mod zip, and it works.<br><br>Moreover, I have successfully recompiled all the modules and the documentation. Also, I have recompiled my program successfully (with a lot of type mismatch errors, just as SuperStrict is meant to be).<br><br>Anyway, I have kept a compressed copy of my previous BlitzMax installation, just in case you want to do the troubleshooting. If it is the case, let me know and tell me what do you want me to try.<br><br>Thank you Floyd, Henri and Brucey! <br><br></td></tr></table><br>
<a name="1335524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a similar, but not exact problem.  BlitzMax wasn't finding files I knew were there.  Turns out some program (still never figured out which) installed its own version of MinGW, and bmx kept using that version.  This was kind of weird because bmx-ng uses MinGW in its own folder, and even that was giving me problems.  I guess that gcc will pull some of the files it needs from the %path% environment anyway regardles of how it is initially called.<br><br>Solution was simple, remove the path of the unwanted MinGW from the %path% environment and everything worked fine.  You might want to try opening a command prompt and type <b>where gcc</b> to see if it is being run from the correct version of MinGW. <br><br></td></tr></table><br>
<a name="1335613"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ralighón</td><td align="right"><font class=tiny>(Posted 2017)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi TomToad,<br><br>MinGW seems to be in the correct place, C:\BlitzMax\MinGW32\bin\gcc.exe. I have installed and reinstalled it several times, sometimes inside the C:\BlitzMax folder, sometimes in its own C:\MinGW32 folder. <br><br>The releases at  <a href="https://github.com/bmx-ng/bmx-ng/releases" target="_blank">https://github.com/bmx-ng/bmx-ng/releases</a> and <a href="https://github.com/maxmods/wx.mod" target="_blank">https://github.com/maxmods/wx.mod</a> (see above) work, although I have not tested them yet on MacOS or Linux.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
