<!DOCTYPE html><html lang="en" ><head ><title >x,y  position variable type?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >x,y  position variable type?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >x,y  position variable type?</a><br><br>
<a name="1037453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jaydubeww</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So, my x and y position variables...should they be kept as integers or floats? I'm assuming the answer would be integers considering its quite hard to notice .1 of a pixel movement let alone know how it would affect pixel perfect collision detection.<br><br>Thanks! <br><br></td></tr></table><br>
<a name="1037455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll certainly notice the difference when rendering.<br>Unless you're emulating 8-bit graphics, use floats. <br><br></td></tr></table><br>
<a name="1037490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >orgos</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You must use Float to get some smooth move<br><br>For example, a planet orbiting, the x and y as float get a smoothed movement.<br><br>You can get another rare situation with particles effects if you use integer. <br><br></td></tr></table><br>
<a name="1037492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So, my x and y position variables...should they be kept as integers or floats? I'm assuming the answer would be integers considering its quite hard to notice .1 of a pixel movement let alone know how it would affect pixel perfect collision detection. <br></div><br><br>Your right, it is hard to notice .1 of a pixel movement which is why you need to use floats. Its easy to notice a full pixel movement! <br><br></td></tr></table><br>
<a name="1037494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Foppy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> To keep track of the position of an object that is moving at a speed of 1.5 you need to store that position in floats, otherwise you lose the .5 part.<br><br>Apart from that, Blitz Max actually draws images at non-whole positions, using anti-aliasing.<br><br>(As explained here <a href="http://www.2dgamecreators.com/tutorials/gameprogramming/images/T1_Images.html" target="_blank">http://www.2dgamecreators.com/tutorials/gameprogramming/images/T1_Images.html</a> under "Fractional positions")<br><br>You could also store the position as floats to get movement at the correct speed, but use the integer (rounded) values of those floats in drawing, in order to avoid the anti-aliasing, if that is what you want. <br><br></td></tr></table><br>
<a name="1037894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on what you're doing to/with the positions. As mentioned motion will be smoothed dramatically by using floats. However for something that doesn't move, or doesn't need to move smoothly (a piece of scenery you recycle) an int would theoretically be an option... however DrawImage() takes floats as it's input values for positions, so the calculation savings of using ints would be lost as they would then be converted to floats every draw anyway...<br><br>So unless you know you need an into for position information for a specific reason (never say never...) then I would side with the group as well and say floats should be your default. You don't have to use the space between the whole numbers, just pretend they're ints if you like, but at the very least it will prevent int-&gt;float conversion when you draw. You'll also be ready if/when you want to smooth out your animations etc. <br><br></td></tr></table><br>
<a name="1037928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jaydubeww</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, it makes perfect sense now. This was a question that was sitting in the back of my mind for about a month now...I did create a test program a while ago to find out whether or not you had to use whole numbers. Really I just asked because I wanted your expert advice ;) <br><br></td></tr></table><br>
<a name="1038116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Although it's been mentioned above about using floats for positions, I recommend rounding X/Y values when passing them to DrawImage and <i>especially</i> DrawText, otherwise you're pretty likely to end up with images being blurry thanks to filtering. <br><br></td></tr></table><br>
<a name="1038128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I prefer the slight blur of filtering to the judder of rounding pixel values when using fractional positions. It may be worth investigating the use of super-resolution images with fractional positioning, i.e. try making your image twice the screen resolution. <br><br></td></tr></table><br>
<a name="1038165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> IMO it depends on the application how blurry you get if you don't round, and also how juddery you get if you do. Never a 1 size fits all solution :0)<br><br>I will say I never really notice the blurring except on text, but I also don't do a lot of stuff in 2D at the moment, and when it do it tends to move pretty quickly, and I tend to force it to opengl for more consistency between mac and PC.<br><br>Everyone's milage will vary. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
