<!DOCTYPE html><html lang="en" ><head ><title >Testing Speed...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Testing Speed...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Testing Speed...</a><br><br>
<a name="795467"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >po</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I want to compare how fast two chunks of code are (say two methods), what would be the best way to do this? <br><br></td></tr></table><br>
<a name="795473"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That depends what the code does, when you call it, how often you call it, and probably several other factors. However, in general,the best way to compare it is to call them how you use them. If you don't call them a million times in a loop, don't be misled into testing that way. If the methods are too quick to test accurately in one loop, keep a total of the time taken each call and keep adding to it over a period of time. If you call them while other things are happening, don't forget to make sure those same things are happening in your test too. And use something more accurate than Millisecs() like QueryPerformanceCounter.<br><br>Frankly, if the project isn't finished, I'd code around them, leave both in, and test when the project is finished because that's always the best time to optimize if you're unsure which is going to be faster. The only time I ever optimize early is when I know (a) is slow and I know (b) is always going to be faster, and also that (b) isn't going to be any less readable or maintainable than (a). <br><br></td></tr></table><br>
<a name="795491"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If it's a straight 2 methods compare use ms although you might have to test it in a loop. Gab is right about 'silly' tests but take a good guess how often you're likely to call a method.<br>It's easy to keep adding 0s to a loop and be happy when there's a couple of ms difference when you get up to millions. <br>Alternatively, use/create a profiler like <a href="/codearcs.php?code=1685" target="_blank"> this </a>.<br>Finally, taken into account things like readability, maintainability, portability and robustness. Unless you're REALLY looking for speed doing something a nice way can be worth a couple of ms when compared with doing something a quick but horribly complex way. <br><br></td></tr></table><br>
<a name="795495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >po</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, ok. In that case quick question: Which is faster?<br><br>x1=32000<br>x2=32000<br>y1=32000<br>y2=32000<br><br>d=Sqr((x2-x1)^2+(y2-y1)^2)<br><br>Return d/32<br><br>OR<br><br>x1=32000/32<br>x2=32000/32<br>y1=32000/32<br>y2=32000/32<br><br>d=Sqr((x2-x1)^2+(y2-y1)^2)<br><br>Return d <br><br></td></tr></table><br>
<a name="795498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> How many times are you expecting to call them?<br>Basically, in this case, it doesn't matter unless your doing millions of calls.<br>If you're desperate to save time try this :<br>d=Sqr((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1))<br>Quicker but more readable? <br>&lt;edit&gt; and still only saves over millions of repetitions. <br><br></td></tr></table><br>
<a name="795502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The second one. (without testing). Because it has less operations of a similar nature. They are not really two differnt functions. <br><br>They are the same function that has then been optimised. <br><br></td></tr></table><br>
<a name="795503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >po</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wait, so 5*5*5 is faster than 5^3? <br><br></td></tr></table><br>
<a name="795510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> By about 1ms over a million loops. <br><br></td></tr></table><br>
<a name="795515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >po</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. I only call the method a few times every click. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
