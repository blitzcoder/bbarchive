<!DOCTYPE html><html lang="en" ><head ><title >DrawPoly and Concave</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >DrawPoly and Concave</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >DrawPoly and Concave</a><br><br>
<a name="726905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there a way to draw a concave shape?<br><br>Here is the code I am using:<br><pre class=code>
Graphics 400,400,0,0

Global point#[20]

For p=0 To 9
	WaitMouse()
	SetColor(255,255,255)
	Plot MouseX(),MouseY()
	point[p*2]=MouseX()
	point[p*2+1]=MouseY()
	Flip
Next

DrawPoly(point)
Flip

While Not KeyHit(KEY_ESCAPE)
Wend
</pre> <br><br></td></tr></table><br>
<a name="727702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Um... correct me if I'm wrong, but the code you posted already does allow concave polys. <br><br></td></tr></table><br>
<a name="727709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Did you try it?<br>Whenever I run it and tryu and make a "C" shape with the points I end up with an "O" shape or a backward "D" shape.<br>FYI: I want it filled <br><br></td></tr></table><br>
<a name="727740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Did you try it? <br></div><br><br>yes, that's why I said what I said. <br><br></td></tr></table><br>
<a name="727744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to make a C, make a C.<br><br>If you only do the part of C and assume that this then gives a C and no D, its just your wrong understanding of what you actually do.<br><br>You have to do ALL the needed points to form a C, not only the outer side of the "C Curve", but as well the inner curve! <br><br></td></tr></table><br>
<a name="727828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CASO</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do make the make the inner curve. I FIGURED IT OUT. It does draw a concave polygon as long as you don't start at on of the endpoints of the "C". I don't know why. <br><br></td></tr></table><br>
<a name="727889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems to ignore some of the points and instead of a smooth edge its jagged. <br><br></td></tr></table><br>
<a name="728413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The open gl driver uses the GL_POLYGON drawing mode to render the polygon. (ie. BM does not triangulate the polygon for you).<br><br>From the opengl redbook :-<br><br>"GL_POLYGON<br>Draws a polygon using the points v0, ... , vn-1 as vertices. n must be at least 3, or nothing is drawn. In addition, the polygon specified must not intersect itself and must be convex. If the vertices don't satisfy these conditions, the results are unpredictable. "<br><br>The d3d7 version draws the polygon as a triangle fan - which obviously doesn't supoprt concave shapes.<br><br>As you can see DrawPolygon only supports convex shapes. You will either have to find or write your own triangulator if you want concave polys. <br><br>Documentation update? (holds breath...) <br><br></td></tr></table><br>
<a name="728429"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> .. but you can draw a concave shape with the code Cal posted. It just depends on which points are posted first. Can't explain it but it *is* possible. <br><br></td></tr></table><br>
<a name="728440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's purely an accident of chance for such a simple C shape and is easily explainable if you imagine a triangle fan. I challenge you to make a letter H though.<br><br>Neither the gl nor the d3d version work the same way and neither are made to support concave polys - it should be documented. <br><br></td></tr></table><br>
<a name="728443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ... wasn't disagreeing as I don't know any better. Just pointing out that you *can* make a concave shape and that I couldn't explain it.<br>p.s. You *can* make an 'H'ish shape. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
