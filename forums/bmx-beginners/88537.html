<!DOCTYPE html><html lang="en" ><head ><title >"Black Screen" Problem with Graphics</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >"Black Screen" Problem with Graphics</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >"Black Screen" Problem with Graphics</a><br><br>
<a name="1005441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I am new to blitzmax. Looking at the examples I am experiencing a problem when setting the display mode, that I also had with DarkBasic before.<br><br>using for example:<br><br>Graphics 1024,768,32<br><br>the screen(s) will just go black and i have no option left except hitting the reset button on my computer. No ALT+F4, No Windows Key, No Alt+Tab can bring me back.<br><br>The Resolution and Depth is Supported by my graphics card and my primary and secondary screen. even tho the secondary screen should not matter anyways.<br><br>The Graphics Card is an ATI Radeon 4800 Series (i dont have the actual model # at hand)<br><br>In DB, the resolution to the problem i believe was to switch a setting from "fullscreen" to "Full desktop" through the IDE. After that i could change the resolution in code without the bug happening.<br><br>The Operation System is Windows 7 64 Bit Pro, even to (at least in DB) the problem also occoured under Windows Vista 64 Home Premium.<br><br><br>It is also noteworthy that i am an avid video game player and thus run alot of directx applications that all run fine. <br><br>Any ideas ? Thanks. <br><br></td></tr></table><br>
<a name="1005442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not sure if I'm going to make you sound like a total beginner, maybe I'm misunderstanding the problem... but basically when you call Graphics and you include a depth (32) it DOES and IS MEANT TO open a black screen. Depth of 0 opens in a desktop window. When in fullscreen mode it probably will disable certain keys/functionality of the operating system. On my Mac for example, fullscreen mode disables pretty much everything except perhaps volume and brightness keys. Things like alt-tab and such stop working. It's not a bug, in that sense. It's just that in fullscreen you can't expect to be able to play nice along with the operating system. If you want to your game to operate like a desktop application, open it in a desktop window ie Graphics 1024,768,0<br><br>A `bug` is something that is not working the way it is supposed to, or IS doing what you told it to do but you were mistaken. Sometimes bugs are in the mind ;-D <br><br></td></tr></table><br>
<a name="1005447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lol, yes sorry you misunderstood. What i meant is that it will go to a black screen and then dismiss the rest of the application, e.g. "Hangs up" or whatever you wanna call it. <br><br></td></tr></table><br>
<a name="1005449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> For Example when i run the "AStar"-Example that by default sets the display mode to 1024x768x32, i will JUST get a black screen and then nothing happens after that, and i cannot return "back".<br><br>if i change that to open it in a window, it runs normal.<br><br>i hope that makes it more clear. <br><br></td></tr></table><br>
<a name="1005469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you got the latest graphics driver for your card?<br><br>Have you tried changing the default graphics driver with...<br><pre class=code>SetGraphicsDriver GLMax2DDriver()
'SetGraphicsDriver D3D7Max2DDriver()
'SetGraphicsDriver D3D9Max2DDriver()</pre><br><br>It could be a DirectX driver issue? <br><br></td></tr></table><br>
<a name="1005475"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, i dont think its a directx or graphics driver issue per se, because all of my directx games and what not works fine. <br><br>i am guessing that the method darkbasic and blitzmax use to set the display mode in direct x is propably the same and that something in my setup conflicts with how they do that and that it is either related to the color depth or the refresh rate. <br><br></td></tr></table><br>
<a name="1005477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does your graphics card support that resolution in fullscreen? do you have enough video ram? Can you open a 640x480 fullscreen? Do you have a widescreen monitor and does it support the resolution you want? <br><br></td></tr></table><br>
<a name="1005487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is my Primary Monitor:<br>------------------------------------<br><a href="http://www.lge.com/de/it-produkte/tft-lcd-monitore/LG-W2600HP.jsp" target="_blank">http://www.lge.com/de/it-produkte/tft-lcd-monitore/LG-W2600HP.jsp</a><br><br>This is my Graphics Card Details:<br>------------------------------------<br>Primary Adapter<br><br>Graphics Card Manufacturer<br>Powered by ATI	<br><br>Graphics Chipset:<br> ATI Radeon HD 4800 Series   	<br><br>Device ID<br> 9460	<br><br>Vendor<br> 1002	<br>	<br>Subsystem ID<br> 2700	<br><br>Subsystem Vendor ID<br> 1682	<br>	<br>Graphics Bus Capability<br> PCI Express 2.0	<br><br>Maximum Bus Setting<br> PCI Express 2.0 x16	<br>	<br>BIOS Version<br> 011.022.001.000	<br><br>BIOS Part Number<br> 113-HD489AZD10-002	<br><br>BIOS Date	<br> 2009/04/24	<br>	<br>Memory Size<br> 1024 MB	<br><br>Memory Type<br> GDDR5	<br>	<br>Core Clock in MHz<br> 900 MHz	<br><br>Memory Clock in MHz<br> 975 MHz	<br><br>Total Memory Bandwidth in GByte/s<br> 124,8 GByte/s	<br><br><br>Theese are my supported display modes as reported by <br>BlitzMax's "GraphicsModes()"-Command:<br>------------------------------------<br><br>Available graphics modes:<br>640,480,32,59<br>640,480,32,60<br>640,480,32,75<br>720,480,32,60<br>720,480,32,75<br>720,576,32,60<br>720,576,32,75<br>800,600,32,60<br>800,600,32,75<br>848,480,32,60<br>848,480,32,75<br>1024,768,32,60<br>1024,768,32,75<br>1152,648,32,60<br>1152,864,32,60<br>1152,864,32,75<br>1280,720,32,60<br>1280,720,32,75<br>1280,768,32,60<br>1280,768,32,75<br>1280,800,32,60<br>1280,800,32,75<br>1280,960,32,60<br>1280,960,32,75<br>1280,1024,32,60<br>1280,1024,32,75<br>1360,768,32,60<br>1360,1024,32,60<br>1400,1050,32,60<br>1440,900,32,60<br>1600,1200,32,60<br>1680,1050,32,59<br>1680,1050,32,60<br>1920,1080,32,59<br>1920,1080,32,60<br>1920,1200,32,59<br>1920,1200,32,60<br><br>------------------------------------<br><br>I now know that it has something todo with the refresh rate indeed. If i tell BlitzMax to use 59hz, the bug does not appear and the application runs as expected.<br>However in that mode the mouse cursor behaves very jittery.<br>Also I should be able to run in 60hz fine. <br><br></td></tr></table><br>
<a name="1005490"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually my above statement is not entirely correct. in 59hz, it works but only in theese resolutions listed with 59hz support in the above list. <br><br></td></tr></table><br>
<a name="1005508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually now thats also not entirely correct. For Example 640,480,32,59<br>also does not work.<br><br>This is a bit bad to test because i get to restart my computer every time and i am bit nervous about getting some memmory or hdd corruption out of all theese reboots.<br><br>i guess the question for me now is: on the directx level, what does say "Mass Effect" do different for setting the display mode compared to how blitzmax does it? <br><br></td></tr></table><br>
<a name="1005512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> it might also be your monitor not supporting certain frequency or resoution. In my pc when resolution can not be matched by my monitor  it just shuts down. <br><br></td></tr></table><br>
<a name="1005515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apparently the monitor gets a problem with whatever happens on the directx level once blitzmax sets the display mode. <br>However this is not the issue.<br>It is not like i am trying to set a specifig resolution/frequency that will cause this bug. In effect i cannot set any fullscreen resolution using the Graphics-Method. <br><br>Even tho i admit i have not tried all of them (for reasons of trying to avoid issues from all the rebooting). I am however not trying to set any "stupid" resolutions. i know my monitor can display 800x600x32 at 60hz and 1920x1200x32 at 60hz. i can set theese manually in windows and they work, and off course they work in every game i currently have installed too. <br><br>this is really not the issue of my trying to set a resolution of ... 289x333 or something weired.<br><br>as posted above to me the question remains, what does a game like "mass effect" do differently when it tells directx to switch display mode to 1920x1200x32 compared to what blitzmax does. <br><br></td></tr></table><br>
<a name="1005523"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried changing the graphics driver blitzmax uses to DX7 and OpenGL? <br><br></td></tr></table><br>
<a name="1005568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes. Using DX7 and OpenGL results in the same effect.<br><br>This is what I used to test:<br><br>'SetGraphicsDriver GLMax2DDriver() <br>SetGraphicsDriver D3D7Max2DDriver()<br><br>Graphics 1920,1200,32,60<br>While (Not KeyDown(KEY_ESCAPE))<br>	Cls<br>	DrawText "test",10,10<br>	Flip<br>Wend<br>EndGraphics<br><br>This also helps determining that not only the screen gets unresposnive, but also one of two things also happen:<br>1) User input is not being recognized (Cannot quit with ESC)<br>2) User input is being recognized but quitting does not trigger the screen to revert back.<br><br>Also setting "Disable Composition Mode" and "Disable Visual Styles" on the compiled exe doesnt solve this either. <br><br></td></tr></table><br>
<a name="1005640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you try the demo version of Qbix or mmjChallenge, linked in my sig, both games have a toggle full screen mode (800x600x32 res).<br><br>Both of these games were made with older versions of BlitzMax pre 1.36, so it might be worth trying an older version of BlitzMax e.g. 1.35 to see if it is just the current version of BlitzMax that has the issue. <br><br></td></tr></table><br>
<a name="1005650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi,<br>i have downloaded qbix. it started windowed, but then i set it to fullscreen through the options and it worked. <br><br></td></tr></table><br>
<a name="1005652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Qbix was made with about a year ago so was probably pre 1.3 and uses the Dx7 and opengl drivers.<br><br>Excellent try downloading version 1.34 or earlier of BlitzMax from the accounts page, after backing up/renaming your 1.36 installation and try building that?<br><br>There have been a lot of changes to 1.35+ Dx9/Virutal Resoultions ect <br><br></td></tr></table><br>
<a name="1005656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, <br>with 1.34 the problem also occours. <br>(using the same code from above) <br><br></td></tr></table><br>
<a name="1005671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK try 1.30<br><br>If that still doesn't work try going back to 1.18 <br>   <br>If that works try patching forward to find the best vesion <br><br></td></tr></table><br>
<a name="1005743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kenshin</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you uninstalled/reinstalled the latest GFX card drivers and updated to the latest DirectX yet?  Make sure you're using the reference drivers for your card too.   Does your monitor have drivers available?  Maybe they're needed.  Have you tried using DriverCleaner?<br><br>It smells like drivers to me.  Even though your other games are working fine, this is still the number one most likely cause of all your problems. <br><br></td></tr></table><br>
<a name="1005760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> It looks to me like an incompatible refresh rate. At 59 Hz it works... Are you using a CRT monitor? The card my be reporting it supports 60Hz but that does not mean the screen is able to show images at this rate. <br><br></td></tr></table><br>
<a name="1005765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't mention using Ctrl-Alt-Delete as a way of shutting down your task.<br><br>Does DXdiag run all tests ok? <br><br>If you have followed these rules-<br><br><a href="http://ati.amd.com/products/catalyst/top10-9.html" target="_blank">http://ati.amd.com/products/catalyst/top10-9.html</a><br><br>then God help you. I would consider an upgrade to nVidia - avid video game players tend to consider their cards superior from such experiences as yours.<br><br>For more pain, I would investigate badly configured IRQ in BIOS, testing with alternative monitor, uninstalling everything in your toolbar, and looking into vial-ware such as net-meeting that is known to cause hideous issues due to "innovative" virtual video graphics drivers.<br><br>Another serious third party problem encountered by Blitz users was Wacom tablet drivers that have only recently updated versions that do not introduce serious problems.<br><br>I would also consider testing your apps in release mode run from the desktop and not the IDE. <br><br></td></tr></table><br>
<a name="1005920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> -the drivers are the latest version.<br><br>-also i have the latest directx + the directx development pack or how you call it, that has all the directx versions<br><br>-i think it has todo with refresh rate too, but it does not work at 59hz, that was a misunderstandment<br><br>-i have not tested the earlier blitzmax versions yet, because "testing" does involve an inproper shutdown with every test and i'd like to avoid to keep doing that so i dont get hardware failures.<br>however aparantly something has changed since the earlier version in how the display mode is being engaged. also i must repeat that i play alot(!) of games, that ALL work fine ! so it is not a general error of my setup.<br><br>-regarding the "upgrade" to nvidia, i actually "upgraded" to ati a few months back, because nvidia didnt have a card that could do hdr and antialias at the same time, and actually i think ati is fine now.<br><br>if a developer could tell me how blitzmax engages the display mode change (e.g. what api call or dll call and with what parameters, i might then write an email to ati and ask them why that provokes the described behaviour? or if a developer could look back in the patch notes and find the entry where the display mode changing code was changed, so i dont have to damage my hardware <br><br></td></tr></table><br>
<a name="1005958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> @GuntiNDDS have you had any progress with older builds?<br><br>If we can work out which version work then we can check for differences in the source.<br><br>Or you can raise the issue with ATI regarding the driver problem! <br><br></td></tr></table><br>
<a name="1006196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> i am currently discussing the issue with ati support. <br><br>i will try not having to go through the older builds to avoid hardware damage from doing all the restarts, unless ati or someone else provides me with a "safe" test method.<br><br>still i'd be interested in the native function that blitzmax calls in order to set the display mode, and what parameters it provides to that function. might help the discussion with ati.<br><br>thanks for the input thus far. <br><br></td></tr></table><br>
<a name="1006254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could try <a href="http://www.virtualbox.org/" target="_blank">VirtualBox</a>, but you would have to install your operating system "again" (it's a virtual computer).  It is not slow because it can run code directly on the CPU just like the operating system already on your computer <strike> , but it might be weird with the ATI drivers (worked fine for me though, and I have an ATI card in mine)</strike> .  When I change the display resolution in the Catalyst control center, the size of the VirtualBox window changes to reflect that.<br>VirtualBox is developed and supported by Sun Microsystems, the same people who develop Java.<br>It's worth a shot, and if it 'hangs' like before, you just restart the virtual machine, without having to touch your physical power/reset switch.<br>It's definitely worth a shot, it's free, and you have nothing to lose.<br><br>Also, I'm sorry for your woes, but thus is the life of a developer. T_T<br><br><br>Edit: <div class="quote">  still i'd be interested in the native function that blitzmax calls in order to set the display mode  <br></div><br>You're very likely going to have to get your hands dirty with <a href="http://en.wikipedia.org/wiki/C_%28programming_language%29" target="_blank">C</a> and become familiar with <a href="http://developer.amd.com/gpu/radeon/Pages/default.aspx" target="_blank">this</a> if you want to make "native" calls to the display. <br><br></td></tr></table><br>
<a name="1006277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>interesting idea but i dont see me going through this.<br>(VirtualBox)<br><br>As for the native call, i dont want to do it - i want to know what blitzmax does internal, so i can tell the ati guy something like "the application that provokes the error does &lt;this&gt; and then the issue appears".<br><br>The problem is that other applications and games work fine and thus the conversation with ati will propably end with them telling me its the fault of the application (Blitzmax). Therefore i would like being able to tell them more technical details. <br><br></td></tr></table><br>
<a name="1006288"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even if the problem lies with BlitzMax, the problem could be any number of things.<br>You would have to walk through hundreds of lines of code and know what they mean (I know what you're talking about (<a href="http://en.wikipedia.org/wiki/Device_driver" target="_blank">drivers</a>)), because there are so many things that the problem could be, that the conflict(s) between the driver(s) BlitzMax uses and what your system has and how your system is set up could be.  Mass Effect's method(s) of outputting graphics to the screen is buried within thousands and thousands of lines of code that is not accessible to non-employees of BioWare.<br><br>Also note that installing VirtualBox (or your operating system "again" (on VirtualBox)) will <b>not</b> install over what you have now, it will only take up additional hard drive space.  Such a virtual machine is the only "safe" test method for things like this.  It runs in a window, but the virtual machine is set up so that the VirtualBox operating system sees the display that is allocated to the VirtualBox program window as the entire display (thus making it easily manageable); that is any program running in fullscreen in the VirtualBox environment will take up just that window.  It is a "separate" machine, in so far as operating systems are concerned (they're on the same hard drive of course, except you don't have to boot into it from poweroff, and in fact must run it from another OS).  I hope this makes sense.<br><br><br><br><br><div class="quote"> If you have followed these rules-<br><br><a href="http://ati.amd.com/products/catalyst/top10-9.html" target="_blank">http://ati.amd.com/products/catalyst/top10-9.html</a><br><br>then God help you. I would consider an upgrade to nVidia <br></div><br>If you can't solve this, GuntiNDDS, then I believe you may have, as they say, slipped between the raindrops. <br><br></td></tr></table><br>
<a name="1006457"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arowx</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi GuntilNDDS,<br><br>You could try the latest BlitzMax update 1.37 to see how if it works? <br><br></td></tr></table><br>
<a name="1006666"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry about the bump.  I just wanted to say that I made several edits to my last two posts in this thread. <br><br></td></tr></table><br>
<a name="1024712"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey,<br><br>i been away for a while. Sorry for letting the topic slip, but i had other things in my head.<br><br>Latest Version 1.39 produces the same effect. <br><br>I have decided to just make windowed programs now since it doesnt seem that there is a solution or even explanation to the problem in sight and further testing comes along with risk of damages to my hardware. <br><br></td></tr></table><br>
<a name="1025388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have never had a problem with using the cntrl-alt-delete, comand-option-esc for mac, and <br>going to processes and ending the blitzmax program.<br><br>i would think it was your code that was not properly working, but from other posts<br>i would ascertain that your coding prowess is fine.<br><br><br>sounds like a very annoying problem.<br><br>hope you get it fixed <br><br></td></tr></table><br>
<a name="1025391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> its not a problem of ctrl-alt-del not working. i am very certain that the problem is the monitor gets into an invalid display mode. i am also pretty certain it has todo with the refresh rate.<br>Unfortunitly i dont know enough of what happens behind the curtain when blitzmax tells directx to change the display mode and then what directx technically does. I suppose so there are different options of how this can be set in directx. For example using darkbasic, i can set a fullscreen display mode. So there must be someting db does differently from blitzmax when it tells dx to change the mode. <br><br></td></tr></table><br>
<a name="1025397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> i used to program in darkbasic too actually.<br><br>i havent had any problem with either builds of darkbasic or blitzmax.<br><br>i am using the most recent build of blitzmax on both my:<br>macbook 2.4Ghz Intel Core 2 Duo<br>4 GB MHz DDR2 SDRAM<br>basic hardware accelerated graphics card<br>    Intel GMA X3100<br><br>and my very old IBM T40<br>1.6 Ghz<br>1 GB Ram<br>basic crappy graphics card<br><br>and they both work fine.<br><br>i wonder if your monitor is just a lemon or something<br><br>i know that both darkbasic and blitzmax use directX in the same way.<br><br>they talk to directx and directx talks to the graphics card.<br>ever since directx 9 (i think) directx will check the capabilities of your computer to see<br>if it is able to to what you are asking of it (hardware wise) which makes it easier since<br>you dont have to do it yourself in your code.<br>if your hardware is unable to do what you are asking of it directx will emulate it via<br>software so that you can still do it. this will drop your fps rate and works better with<br>lower resolutions and depth but still allows you to do it.<br><br>there could be a problem with the way blitzmax is talking to directx compared to mass effect as you stated above.<br>i dont know how they differ in that aspect, but im sure that mass effect stream lined the<br>way in which it talks to directx. altho at this point im just speculating.<br><br>if anyone could clarify anymore than i have, (which is not much i assume) that would be<br>great.<br><br>now i am really interested in this problem.<br><br>hope i helped, even just a little bit <br><br></td></tr></table><br>
<a name="1025402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi.<br><br>Well you can see my graphic card and monitor above in the thread. Both are not very exotic in my oppinion :D<br><br>What i mean with how blitz and db may talk to directx differently is:<br>(this is all speculation)<br>possibly the method that initializes the display mode in directx has overloads or optional parameters. for example it might be possible to tell it only width and height and colordepth, and optionally it could be told the frequency/refresh rate too. Maybe DB passes only the optional parameter to it if it is specified in the DB program, whilest maybe blitz allways  passes that parameter based on a default value it retrieves via some windows api or vice versa.<br>this is kind of the difference there could be, that i mean and that could cause the problem. <br><br></td></tr></table><br>
<a name="1025413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> i think that in both blitzmax and db if you do not specify refresh rate it will attempt <br>the highest that your system can support.<br><br>but ya there are probly many more things that are happening that could cause<br>problems that i am not aware of.<br><br>good luck with solving your problem.<br><br>if i find anything that might be of use i will be sure to post it here <br><br></td></tr></table><br>
<a name="1025435"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried something like:<br><br><pre class=code>
Graphics(DesktopWidth(),DesktopHeight(),DesktopDepth(),DesktopHertz(0),GRAPHICS_BACKBUFFER)
</pre>(you may need to use chaos.desktopext on some versions of blitzmax for that to work)<br><br>If that doesn't work, then for sure there's a problem in your system, be it the monitor, the drivers or whatever.<br><br>As for seeing 'the calls' done by blitzmax, you can check out the source yourself, it's included on every bmax copy. Look under /mod/brl.mod/ and see specially d3d7max2d.mod/dxgraphics.mod and glmax2d.mod/glgraphics.mod.<br><br>But I really don't think this is a problem with the way bmax calls DX or OGL - it's pretty standard. What bugs me the most is this 59hz thing. That's not usual refresh rate - usually you get 50hz, 60hz, 75hz... but 59? <br><br>Have you installed the drivers for your monitor? Maybe if you didn't, Windows could be not detecting refresh rates correctly... <br><br></td></tr></table><br>
<a name="1025439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> the 59hz things has todo with how it is mathematically rounded. my monitor is 60hz, but technically it is like 59.9xx hz. Windows rounds this down to 59hz instead of up to 60hz.<br>(yes i have the monitor drivers installed)<br><br>what bugs me is that i run alot of directx applications/games and i only have this problem with blitzmax. <br><br></td></tr></table><br>
<a name="1025442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could try reinstalling the latest version of directx and then reinstalling blitzmax and rebuilding all the modules. <br><br></td></tr></table><br>
<a name="1025443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got latest version of directx and also just a few days ago reinstalled blitzmax.<br><br>I wrote another test program today with an interesting result. (Also updated to lastest ATI driver again)<br><br>This is the test program i wrote:<br><br><pre class=code>
Graphics 800, 600, 0
SetClsColor(255, 0, 0)
Cls
Flip(0) 
DrawOval(0, 0, 500, 500)
Flip(0)
WaitKey()

Graphics(DesktopWidth(), DesktopHeight(), DesktopDepth(), DesktopHertz(), GRAPHICS_BACKBUFFER)
SetClsColor(0, 255, 0)
Cls
Flip(0)
DrawOval(0, 0, 500, 500)
Flip(0)
WaitKey()

Graphics 800, 600, 0
SetClsColor(255, 0, 0)
Cls
Flip(0)
WaitKey()
End
</pre><br><br>the expected behavior on a machine not affected by my problem is:<br><br>1) 800x600 sized window, screen goes red with white oval on it<br>After Keypress:<br>2) Screen goes fullscreen to desktop-specification, screen goes green with white oval on it<br>After Keypress:<br>3) Goes back to 800x600 window with red screen<br>After Keypress:<br>4) Quits<br><br>the expected behavior on my machine is:<br><br>1) 800x600 sized window, screen goes red with white oval on it<br>After Keypress:<br>2) Screen goes and stays black - Computer needs restart<br><br>however, the actual behavior now is this:<br><br>1) 800x600 sized window, screen goes red with white oval on it<br>After Keypress:<br>2) Screen goes fullscreen to desktop-specification, screen goes green with white oval on it<br>After Keypress:<br>3) Screen goes and stays black - Computer needs restart<br><br>So the issue is now more similiar to the issue with DarkBasic, where the screen "freezes black" at the END or so to say "when the program tries to revert BACK from the fullscreen mode". <br><br></td></tr></table><br>
<a name="1026894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry for the late reply, college is kicking my butt.<br><br>that is quite an interesting result, you could try refreshing the memory in between<br>Graphics width,height,etc... cmd usage.<br>there was a command for it in DB, but i do not know its counter part in blitz.<br><br>I would not know why you are having that problem.<br><br>I never need to use that many graphics calls in 1 program tho.<br><br>I am going to run that code right now.<br><br>EDIT: ran fine on my macbook and my ibm<br>      tho i changed the DesktopWidth() cmd to the actual res of my desktop<br>      because that cmd was not found for me.<br><br>have you tried using the  Endgraphics cmd after each graphics call? <br><br></td></tr></table><br>
<a name="1026908"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SLotman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try calling EndGraphics after each waitkey and see if it helps...  and be sure to test it with opengl, dx7 and dx9 - if all of them fails the same, you can be sure the problem isn't with bmax :P<br><br>and why are you doing a flip after cls, and another after drawing the circle? Just do it like this: <br><br><pre class=code>
Graphics 800, 600, 0
SetClsColor(255, 0, 0)
Cls
DrawOval(0, 0, 500, 500)
Flip
WaitKey
EndGraphics

Graphics(DesktopWidth(), DesktopHeight(), DesktopDepth(), DesktopHertz(), GRAPHICS_BACKBUFFER)
SetClsColor(0, 255, 0)
Cls
DrawOval(0, 0, 500, 500)
Flip
WaitKey
EndGraphics

Graphics 800, 600, 0
SetClsColor(255, 0, 0)
Cls
Flip
WaitKey
EndGraphics
End
</pre> <br><br></td></tr></table><br>
<a name="1027085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GuntiNDDS</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm. It seems that calling EndGraphics does the trick. <br><br>Thanks !<br><br>I hadn't thought I would ever get this solved. <br><br></td></tr></table><br>
<a name="1027123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> no prob.<br><br>glad you did. <br><br></td></tr></table><br>
<a name="1030097"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >coffeedotbean</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a realy late reply but OP is using an ATI card, is he running the "D3dOverider" tool/hack to force v-sync on some games? there will be a system tray icon for it.  Most gamers will have this.<br><br>I cannot run any blitzmax game in full screen with this enabled, I get a black screen and its almost like it has hung.  Ctrl+alt+del works after a few tries though. (windows 7) <br><br></td></tr></table><br>
<a name="1033703"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chugs40</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also a late reply, and someone's probably already mentioned this ...<br><br>Are you drawing and then capturing images? Sometimes it's as simple as setting the blend mode and colors to 255,255,255, and alpha to 1. I've had problems with this before. Also, enabling a graphics driver in your code will do the trick - sometimes on your machine but not everyone else's.<br><br>I'm not sure what your doing, but if capturing images make sure to include DYNAMICIMAGE in your image flags.<br><br>Also maybe try different flipping policies, like FLIP(1) - Just  a thought. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
