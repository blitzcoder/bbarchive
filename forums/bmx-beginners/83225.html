<!DOCTYPE html><html lang="en" ><head ><title >Problems with Variables, sort of... ;0)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problems with Variables, sort of... ;0)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Problems with Variables, sort of... ;0)</a><br><br>
<a name="939190"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matt Vinyl</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>My game is coming along nicely (thanks for guidance in at least one other thread!) but I notice I have a huge amount of global variables at the top of my code, as I don't know how to use local variables effectively.<br><br>Say I want to do a quick 'fade' loop (using alpha):<br><br><pre class=code>If var_coinalpha&lt;1 And var_coinalphadir=0 Then
	var_coinalpha:+0.02
End If

If var_coinalpha&gt;=1 Then var_coinalphadir=1

If var_coinalpha&gt;0 And var_coinalphadir=1 Then
	var_coinalpha:-0.02
End If

If var_coinalpha&lt;=0 Then var_coinalphadir=0</pre><br><br>This is a minimal part of code inside my main loop. Where do I define the local variables? If I do them inside the loop, they initialise each iteration and of course, the values from the previous iteration are lost.<br><br>Would someone just be able to advise me with a simple example, maybe? I've looked through various other code but can't immediately work it out.<br><br>Cheers! <br><br></td></tr></table><br>
<a name="939200"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way to do it is to declare them  just outside of the main loop as local and pass them as parameters to functions.<br>my prefered way is to declare them as a fields in types. <br><br></td></tr></table><br>
<a name="939227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Written off the bat so who knows if there are typos..<br><pre class=code>
Type TFadeThing

Field col=255
Field rate=1

Method updatefade()
  col = col + rate
  if col &gt; 255
    rate = -rate
    col = 255
  elseif col &lt; 0
    rate = -rate
    col = 0
  endif
end method

Method drawthething()
  .......................
End method
End type</pre><br><br>The advantage of this way is each thing can fade at its own rate, but if you don't want or need that you can change the fields to globals. However, globals stored inside a type are considered more tidy than globals in main code...<br><br>var_coinalpha is a terrible name for a variabe :) <br><br></td></tr></table><br>
<a name="939733"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matt Vinyl</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers. Yeah, I've 'over-egged' my variable names I guess, but I'm more of a VB man, so tend to be used to it. ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
