<!DOCTYPE html><html lang="en" ><head ><title >Save Pixmap as BMP?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Save Pixmap as BMP?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Save Pixmap as BMP?</a><br><br>
<a name="728318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK I must be pretty dumb here, but I can load a Pixmap from BMP, JPG or PNG, and save to JPG or PNG, *BUT* I can't find a command to save the PixMap as BMP.  How do I do it please or do I need to convert it to a TImage first?  Thanks :-) <br><br></td></tr></table><br>
<a name="728323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> No idea, but all the code is there for loading a BMP file in the BMPLoader module.  It wouldn't be massively difficult to write a SavePixmapBMP function based on the same code.<br><br>What do you want to use BMP format for anyway?? <br><br></td></tr></table><br>
<a name="728344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=46036#603668" target="_blank"> Saving Images/Pixmap </a>? <br><br></td></tr></table><br>
<a name="728386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> SavePixmapBMP() ? <br><br></td></tr></table><br>
<a name="728406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> SavePixmapBMP() ?  <br></div>There's no such command. <br><br></td></tr></table><br>
<a name="728407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> SavePixmapBMP() ?  <br></div><br>Have you got a native Bmax function called that? <br><br></td></tr></table><br>
<a name="728540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> tonyg: thanks for the link.<br><br>I need it because my game has some jpg backgrounds that I want to let the user set as the desktop wallpaper BUT the API command to do that only accepts jpgs!  So I need to load in a JPG bitmap and save as BMP.  I was *MOST* surprised to find there is no options to save as BMP, I know it's bloaty but it's a fundamental data type! <br><br></td></tr></table><br>
<a name="728600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isnt the bmp format really really easy, like a raw uncompressed file dump? BMP is a pretty basic crappy format. <br><br></td></tr></table><br>
<a name="728617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://en.wikipedia.org/wiki/Windows_bitmap#Typical_file_format" target="_blank"> your wiki friend is </a><br>Bmx version in the link posted previously. <br><br></td></tr></table><br>
<a name="728638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah I'm not reinventing the wheel here, I'm gonna use that code ... *except that it doesn't work* I've just found out.  <br><br>Masks[0] gives Compile Error: Identifier 'masks' not found<br><br>oh dear. <br><br></td></tr></table><br>
<a name="730033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> BMP is indeed one of the most basic graphic formats that are there, although there are several sub-formats as well. You have the <i>option</i> of using RLE compression (Run-Length Encoding) which can shave off a little size, but it's nowhere near as complex as the compression used for JPEG or GIF.<br><br>I wrote a PCX saver for PowerBASIC years ago, and didn't find it that difficult to implement the PCX RLE compression. Just looking at the GIF compression made my head explode, though. If you aren't too concerned about the compression thing, plain non-compressed BMP's are a very simple format, pretty much just a specified header with a raw data dump at the end. If you take a look at the BMP specifications at <a href="http://www.wotsit.org" target="_blank">http://www.wotsit.org</a> , you'll find it pretty straightforward. <br><br></td></tr></table><br>
<a name="730042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackSp1der</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Grey Alien:<br>yeah I'm not reinventing the wheel here, I'm gonna use that code ... *except that it doesn't work* I've just found out. <br><br>Masks[0] gives Compile Error: Identifier 'masks' not found<br><br>oh dear. <br> <br></div><br><br>because Masks is not part of TImage. Change all masks[] with pixmaps[] <br><br></td></tr></table><br>
<a name="730143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's OK I got the answer a few days ago here:<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=46036" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=46036</a><br><br>Xlsior: Yeah I have loaded and saved BMP and PCX in DOS in C++ and assembly about 10 years ago.  I just didn't want to code it again when I knew code for BMax must already be written. <br><br></td></tr></table><br>
<a name="730242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why would one want to save an image as bloated ugly uncompressed bmp? <br><br></td></tr></table><br>
<a name="730346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sure I said in one of the threads...anyway basically the API code to set the windows desktop wallpaper doesn't work with non-bmps (i.e. jpgs or pngs!) so I have to save a copy of the jpg as a bmp and set that as the wallpaper.  See I had a good reason ;-) <br><br></td></tr></table><br>
<a name="730398"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alessandro</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look to this library:<br><br><a href="http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=snarty09252003024804&amp;comments=no" target="_blank">http://www.blitzcoder.com/cgi-bin/showcase/showcase_showentry.pl?id=snarty09252003024804&amp;comments=no</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
