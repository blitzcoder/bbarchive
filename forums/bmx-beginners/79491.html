<!DOCTYPE html><html lang="en" ><head ><title >advice on TLink please</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >advice on TLink please</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >advice on TLink please</a><br><br>
<a name="892541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a space invaders clone, you'll be aware only one invader moves per frame. I'm having a problem whereby in my mainloop I check all invaders and remove those in collision from the alienObjectList<br><br>In addition, in order to move one invader per frame, I set a variable before my main loop:<br><br>Link:TLink = AlienObjectList.FirstLink()<br><br>Then inside the main loop I do this:<br><br>for each<br>  alien.draw() ' draw all aliens<br>  alien.collisionCheck() ' remove from AlienObjectList if collision<br>next<br><br>finally I use the Link variable to update the position of one invader per frame...<br><br>If Link &lt;&gt; Null<br>  Local MyObject:TAlien1 = TAlien1(Link.Value()) 'cast object<br>  MyObject.updatestate() ' update the onscreen position<br>  Link = Link.NextLink() <br>						<br>Else			<br>  Link = AlienObjectList.FirstLink()<br>														EndIf<br><br>I'm getting crashes during play because I think when doing checkCollision() and removing an alien from the list, its messing up the Link variable. Is there a better way ?<br><br>Error: Attempt to access field or method of Null Object <br><br></td></tr></table><br>
<a name="892557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't use a link to keep track of which alien you are at, but use an index variable instead. Something like<br><br><pre class=code>Local i:Int = 0
...
'Mainloop:

i :+ 1
If i&gt;list.Count() Then i = 0
Local j:Int

For alien = EachIn list
alien.draw() ' draw all aliens
alien.collisionCheck() ' remove from AlienObjectList if collision
If i=j Then alien.UpdateState()
j :+ 1
Next</pre> <br><br></td></tr></table><br>
<a name="892662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> As a personal opinion I wouldnt bother storing the invaders in a list. I went down that same route when I wrote mine and eventually I found it far easier to treat the invaders as a single InvaderWave object. It would store the individual invaders in a 2d array and keep track of what direction they should be moving, what individual should be moving next, and which invader should be dropping a bomb.<br><br>I used TLists for storing the falling bombs and the explosions which I upgraded to a simple particle effect explosion. <br><br></td></tr></table><br>
<a name="892691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> OTUS<br>thanks - will give it a try<br>EDITED: Otus, I implemented your change and it's working perfectly. Thanks<br><br>QuietBloke<br>Yes, I thought about an array which would certainly be much easier as there's a known quantity of invaders and each could be given a display flag based on whether they've been hit or not. But this was meant to be an exercise for me to get my head around types and lists and OO, so I ignored that route. Might get a separate version running like this. <br><br></td></tr></table><br>
<a name="892897"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats fine.. no better way to learn than to get stuck in. Good luck. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
