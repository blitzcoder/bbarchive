<!DOCTYPE html><html lang="en" ><head ><title >When to Extend?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >When to Extend?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >When to Extend?</a><br><br>
<a name="499693"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a baseunit type with common fields x,y etc.<br>There are 2 kinds of units which use exactly the same fields but will be use slightly different functions/methods and be in seperate lists.<br>Is it better to use extend for these units or to use a single type function with an 'If unittype=1' clause?<br>This might be obvious as I continue but I don't want to go down the wrong path early on. <br><br></td></tr></table><br>
<a name="499695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Extend is the easier way as you can extend the program with further unit types later without any problems.<br><br>just define all needed functions in the basetype as abstract. <br><br></td></tr></table><br>
<a name="499699"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>My personal opinion is to use extends as seldom as possible - save it for when it actually gives you some functional advantage. Just because 2 objects have an x,y field does not necessarily mean they should share a common base type.<br><br>That said, if you're having to use a 'select/case' inside a method, this may be a sign that you should indeed be extending. <br><br></td></tr></table><br>
<a name="499827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skn3</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another time you may want to extends, is if you need to make a more advanced version of one of the blitzmax types. For example I have extended the TList object, to TListEx .. which has some more functions that my program needed. <br><br></td></tr></table><br>
<a name="499870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hard to say without knowing exactly what you are coding for. I find a good way to figure how to define your types is to describe how they link to each other. for example I define a type called engine that defines details for a petrol engine. Now I want to define a car. Do I extend the engine to make a car which has wheels ect ?.. or do I create a new type of car that contains an engine ?.. well.. in this case is is fairly simple.. a car contains an engine but does a whole lot of other stuff.<br>If I then want a diesal engine.. well.. i would extend the engine because it does the same thing but with a different power source.<br>I want a truck ?.. well.. it does pretty much all the things a car does... it is just a variation of a car. <br>A speedboat ?.. OK.. that uses an engine but doesnt really have many features a car has so in this case it is a new type which contains an engine.<br><br>Does that make sense ? <br><br></td></tr></table><br>
<a name="499930"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is it better to use extend for these units or to use a single type function with an 'If unittype=1' clause? <br></div>It depends, but generally it is better to use extends and let the compiler worry about which unittype you've got.<br><br>However if they are in seperate lists, (and thus being traversed seperately) I'm not entirely sure what the problem is exactly. <br><br></td></tr></table><br>
<a name="499971"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the responses so far. <br>For a bit more explanation. <br>I have a type called shadow_makers.<br>This type has, for example, X,Y,Image and (will have) a list of points which make a convex hull.<br>There will be 2 types of shadow_makers: Blockers and Casters. Blockers will block light while Casters will block light AND cast a shadow. They both belong to a main list of 'game objects' and seperate lists of casters and blockers. If I create 2 'extends' type then the only difference is the method(s) to cast a shadow.<br>On the other hand I can have the single type and simply use either the lists or a simple field (set to 'caster' or 'blocker') to determine those objects which need a shadow. <br>Hope that makes sense.<br>P.S. You might have guessed I'm trying to write a light/shadow system. ;) Getting 'stuck' this early doesn't bode well. <br><br></td></tr></table><br>
<a name="500007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PGF</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another approach that sounds good for your application is to have just one type with one or more fields that control the behaviour.<br><br>Thus Casters and Blockers could be collapsed into say Shape which has CastsLight and BlocksLight flags.<br><br>If the attributes and behaviours of Casters and Blockers are so similar then I would recommend this approach.  It is a bit like your 'if unittype=1' approach but it makes the reasons for the different behaviour clearer.  Every method/function where the light interaction is not important does not have to worry about the difference.<br><br>Alternative is to have Shape as the base and then extend it for both Caster and Blocker.  BTW commonly recommended naming standard is not to use the plural form in naming objects.  So Caster rather than Casters.<br><br>The issue of lists is a good example of where BlitzMax opens up whole new possibilities.  You can for example maintain three lists in the type.  Always add a new object to the main list but then add it to CasterList or BlockerList depending upon the attribute when it is created.  This works well unless there needs to be a lot of list maintenance such as deleting objects and switching them between Caster and Blocker lists.<br><br>Which is best ?  Look at the alternatives, even rough out the code for each and see which is more flexible and results in the least/clearest/cleanest code.  Efficiency will probably no be much differnt and is really not that important in almost all situations unless you do something crazy.<br><br>Let us know how it turns out. <br><br></td></tr></table><br>
<a name="500013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi PGF, Your first approach is exactly what I've got at the moment. It seems in situations where there isn't a wide difference in the 'types' that extending or 'IFing'<br>is personal preference.<br>I'll keep going (slowly).<br>Cheers <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
