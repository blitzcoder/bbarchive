<!DOCTYPE html><html lang="en" ><head ><title >Vectorballs Part One</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Vectorballs Part One</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Vectorballs Part One</a><br><br>
<a name="549682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MacSven</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have found a Vectorball routine and i have it rewritten for BlitzMax.<br>But something is wrong!<br>The sort routine does not work correctly!<br>Need help!<br><br>Here is the Code<br><br>Strict<br><br>Graphics 800,600,32,hardsync<br>HideMouse<br><br>Incbin "media/bubblew2.png"<br><br>Global bob = LoadImage("incbin::media/bubblew2.png")<br><br>Global maxpoints<br>Global screenxcenter:Float<br>Global screenycenter:Float<br>Global distance:Float<br><br>maxpoints=125<br>screenxcenter=400<br>screenycenter=300<br>distance=30<br><br><br>Global points	[maxpoints , 3]<br>Global tpoints	[maxpoints , 3]<br>Global opoints	[maxpoints]<br><br>Global i<br>Global j<br><br>Global z<br>Global y<br>Global x<br><br>Global ang1:Float<br>Global ang2:Float<br>Global ang3:Float<br><br>Global sx:Float<br>Global cx:Float<br>Global sy:Float<br>Global cy:Float<br>Global sz:Float<br>Global cz:Float<br>Global xy:Float<br>Global xz:Float<br>Global yz:Float<br>Global yx:Float<br>Global zx:Float<br>Global zy:Float<br><br>Global temp<br><br>i=0<br>For z = -2 To 2<br>	For y = -2 To 2<br>		For x = -2 To 2<br>			points [i,0] = x<br>			points [i,1] = y<br>			points [i,2] = z<br>			opoints [i] =i<br>			i:+1<br>			Print i<br>		Next<br>	Next<br>Next<br>HideMouse<br><br>maxpoints=i<br><br>While Not KeyHit(KEY_ESCAPE)<br>Cls<br><br>rotate3dpoints (ang1,ang2,ang3)<br>draw3dbobs()<br>sort3dbobs()<br><br>ang1=ang1+1<br>ang2=ang2+.21<br>ang3=ang3+.3<br>distance=30+Sin(ang1)*22<br>Flip<br><br>End While <br>ShowMouse<br>End<br><br>Function draw3dbobs()<br>SetColor 255,0,0<br>For i=0 To maxpoints-1<br>DrawImage bob,tpoints[i,0],tpoints[opoints[i],1]<br>'Plot tpoints[opoints[i],0],tpoints[opoints[i],1]<br>Next<br>End Function<br><br>Function sort3dbobs()<br>For i=0 To maxpoints<br>	For j=0 To maxpoints-2<br>		If tpoints[opoints[j],1] &lt; tpoints[opoints[j+1],2] Then<br>		temp=opoints[j+1]<br>		opoints[j+1]=opoints[j]<br>		opoints[j]=temp<br>		EndIf<br>	Next<br>Next<br>End Function<br><br>Function rotate3dpoints(xrot,yrot,zrot)<br>sx = Sin(xrot)<br>cx = Cos(xrot)<br>sy = Sin(yrot)<br>cy = Cos(yrot)<br>sz = Sin(zrot)<br>cz = Cos(zrot)<br>For i=0 To maxpoints-1<br>	x=points[i,0]<br>	y=points[i,1]<br>	z=points[i,2]<br><br>	'rotation x<br>	xy=cx*y-sx*z<br>	xz=sx*y+cx*z<br>	<br>	'rotation y<br>	yz=cy*xz-sy*x<br>	yx=sy*xz+cy*x<br>	<br>	'rotation z<br>	zx=cz*yx-sz*xy<br>	zy=sz*yx+cz*xy<br>	<br>	'perspective correction<br>	tpoints [i,0]=zx/(distance+yz)*512+screenxcenter<br>	tpoints [i,1]=zy/(distance+yz)*512+screenycenter<br>	tpoints [i,2]=yz<br>Next<br>End Function <br><br></td></tr></table><br>
<a name="549788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello.<br><br>I hope you've paid the required license for the above.<br><br>Goodbye. <br><br></td></tr></table><br>
<a name="549820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doesn't use marching cubes - no license required. If you put some basic commenting in the code I will take a look at it. What are tpoints, opoints? <br><br></td></tr></table><br>
<a name="549827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SoggyP</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello.<br><br>Okey-dokey, just thought it might be worth mentioning.<br><br>Goodbye. <br><br></td></tr></table><br>
<a name="549865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're comparing different axes in sort3dbobs()...<br><pre class=code>Function sort3dbobs()
  Local noSwap, temp
  Repeat
    noSwap = True
    For j=0 Until maxpoints - 1
      If tpoints[opoints[j],2] &lt; tpoints[opoints[j+1],2]
        temp=opoints[j+1]
        opoints[j+1]=opoints[j]
        opoints[j]=temp
        noSwap = False
      EndIf
    Next
  Until noSwap
End Function</pre> <br><br></td></tr></table><br>
<a name="549961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MacSven</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, thanx for all help, i've got it, i have forgotten one pointer. Next week i will make a Homepage, if i have time, with some blitzmax source! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
