<!DOCTYPE html><html lang="en" ><head ><title >A question for someone familiar with TimelineFX</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >A question for someone familiar with TimelineFX</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >A question for someone familiar with TimelineFX</a><br><br>
<a name="1219011"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying out thier "A simple program in Blitzmax with TimelineFX" found here : <a href="http://www.rigzsoft.co.uk/a-simple-program-in-blitzmax-with-timelinefx/" target="_blank">http://www.rigzsoft.co.uk/a-simple-program-in-blitzmax-with-timelinefx/</a><br><br><br>When it gets to this line,<br><br><pre class=code> Local tempeffect:tlEffect = CopyEffect(MyEffect, MyParticleManager) </pre><br><br>i’m getting a “Attempt to access field or method of Null object”<br><br>The only changes i made to thier example program are the path and the effect.<br><br><pre class=code> Local MyEffectsLib:tlEffectsLibrary = LoadEffects(“C:\Users\Tim Knapp\Downloads\TimelineFX\FireandSmoke.eff”) </pre><br><br>and<br><br><pre class=code> Local MyEffect:tlEffect = MyEffectsLib.GetEffect(“Torch”)</pre> <br><br></td></tr></table><br>
<a name="1219020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the mod folder in timelinefx.mod/doc you'll find tlParticleManager.bmx which is an example program you can run as is. Try that and see if it works ok to verify the module is all installed ok. <br><br></td></tr></table><br>
<a name="1219021"></a>

<a name="1219022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes the tlParticleManager.bmx worked. I noticed a couple of different lines at the start of it.<br><br>The  tlParticleManager.bmx has<br><br><pre class=code>Framework brl.max2d
Import rigz.timelinefx
Import rigz.tweener
Import brl.glmax2d 

SetGraphicsDriver GLMax2DDriver()</pre><br><br>This is not in your example on the website.<br><br>where as i have this prior to loading the effects library.<br><pre class=code>
Import koriolis.bufferedstream
Import koriolis.zipstream
Import bah.libxml
Import gman.zipengine
Import rigz.timelinefx
Import rigz.Tweener 
</pre><br><br>I added the ones I was missing from your tlParticleManager.bmx example  and it still isn't working. Your website says that these  modules are needed. <br><br>Import koriolis.bufferedstream<br>Import koriolis.zipstream<br>Import bah.libxml<br>Import gman.zipengine <br><br></td></tr></table><br>
<a name="1219023"></a>

<a name="1219024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok i took the tlParticleManager.bmx example and I pasted over my path and effect name "Torch" and it did not work. Must be a problem with my path?<br><br><pre class=code> Local MyEffectsLib:tlEffectsLibrary = LoadEffects("C:\Users\Tim Knapp\Downloads\TimelineFX\FireandSmoke.eff", False)</pre><br><br><br>Still getting null object. <br><br></td></tr></table><br>
<a name="1219033"></a>

<a name="1219049"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> So now I tried not even changing that path, but putting FireandSmoke.eff  in the same folder as examples.eff which works.   I get an "Error loading effects file". It will load example.eff and work, but not FireandSmoke.eff. <br><br><pre class=code> MyEffectsLib:tlEffectsLibrary = LoadEffects("effects/FireandSmoke.eff", False)
'Create an effect and assign it an effect from the library
Local MyEffect:tlEffect = MyEffectsLib.GetEffect("Torch")</pre> <br><br></td></tr></table><br>
<a name="1219066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the fireandsmoke.eff file load into the editor ok? <br><br></td></tr></table><br>
<a name="1219079"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe it's a file permissions problem.<br><br>Program tlParticleManager.bmx can load effects.eff successfully, but your test program fails on FireandSmoke.eff.<br><br>Try putting your program in the same place as tlParticleManager.bmx and put FireandSmoke.eff in the same location as effects.eff. <br><br></td></tr></table><br>
<a name="1219084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pete Rigz,The file loads into the editor no problem. I tried aurasandhalos.eff and they wont load into tlParticleManager.bmx either.   Baffling, when the examples.eff will load in tlParticleManager.bmx.  <br><br>Floyd, That is what i did. I put the Fireandsmoke.eff in the same folder as the "Example.eff."   "Effects/" is the folder containing the example.eff not the effect itself. Man i'd really like to try these particles out for my game if possible, but i can't even get out of the batters box. lol. <br><br></td></tr></table><br>
<a name="1219086"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is interesting when I put my own path C:\Users\Tim Knapp\Downloads\TimelineFX\FireandSmoke.eff in tlParticleManager.bmx, it appears to load, but i get a null object error when it get to the copy function. <br><br></td></tr></table><br>
<a name="1219087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Floyd may have the answer there if your Blitzmax is installed in the program files folder. On windows any programs run from there access a virtual store in your users folder instead of use files that are actually in the installation folder, so it might be something to do with that. I would try moving the example into your documents folder and running it from there.<br><br>I wouldn't have thought it'd affect something you're compiling and running from Blitmax though... <br><br></td></tr></table><br>
<a name="1219088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitzmax is not stored in the programs folder. C:\BlitzMax <br><br></td></tr></table><br>
<a name="1219091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Update. it appears to load the FireandSmoke.eff from the same folder as example.eff or my own path. So the path is not the issue. I must not have actually pasted fireandsmoke.eff to the effects/" folder. I must have been dingy late last night. <br>  Never the less, i still have the very original problem then. I get a null object in the copy effect function. <br><br></td></tr></table><br>
<a name="1219095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Don't know if this will help, but regarding the null object error, Blide debug mode directs the problem to the copy effect function and specifically highlights the line  "eff.amount = CopyAttributeNodes(e.amount)"<br><br><pre class=code>Function CopyEffect:tlEffect(e:tlEffect, ParticleManager:tlParticleManager, copydirectory:Int = False)
	Local eff:tlEffect = New tlEffect
	Local ec:tlEmitter
	eff.amount = CopyAttributeNodes(e.amount)
	eff.life = CopyAttributeNodes(e.life)
	eff.sizex = CopyAttributeNodes(e.sizex)
	eff.sizey = CopyAttributeNodes(e.sizey)
	eff.velocity = CopyAttributeNodes(e.velocity)
	eff.weight = CopyAttributeNodes(e.weight)</pre> <br><br></td></tr></table><br>
<a name="1219102"></a>

<a name="1219103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> ooooh, sorry I should have looked at your code more closely, I just loaded the fire and smoke library and knew straight away what it was :)<br><br>You need to specify the path to the effect as it is in the editor. So for example torch is in Torch and candles folder so you need to do:<br><br><pre class=code>
Local MyEffect:tlEffect = MyEffectsLib.GetEffect("torch and candles/Torch")
</pre> <br><br></td></tr></table><br>
<a name="1219107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didn't work at first, but is now.  Apparently the path for the effects library MUST BE in bloody C:\BlitzMax\mod\rigz.mod\timelinefx.mod\doc\Effects\ I take it. <br><br>Plus it appears that the tlParticleManager.bmx MUST Be in C:\BlitzMax\mod\rigz.mod\timelinefx.mod\doc\<br><br>So any .bmx I wish to call these effects from better be in there uh? <br><br></td></tr></table><br>
<a name="1219136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, you can load them from wherever you want, the path should be relative to where the .bmx file is stored, for example here is the code from my test that loads the effects from the same folder as the code sits in:<br><br><pre class=code>
'Load the effects library
Local MyEffectsLib:tlEffectsLibrary = LoadEffects("fireandsmoke.eff", False)
'Create an effect and assign it an effect from the library
Local MyEffect:tlEffect = MyEffectsLib.GetEffect("Torch and candles/candle")
</pre><br><br>The important thing was that you specify the "Torch and Candle" folder when you get the effect. <br><br></td></tr></table><br>
<a name="1219174"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rigz, thanks for answering all these newb questions Sir. I might have a couple more before I get the full jist of your module commands, but I should be able to play with it now and try integrating it into my game. Thanks. <br><br></td></tr></table><br>
<a name="1219342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I create 40 Torch's, will they all be rendering if I use <br><pre class=code> Myeffect.setvisible(True/False)</pre> to make only the ones I want visible? I don't want to over tax the system if i don't have to.<br><br>Also, is there a way to draw the "torch" effect so that it is in full bloom? Reason i ask is if I create a new effect every time i need a torch drawn somewhere, it's going to draw it like it's being lit up for the first time. Starting at zero particles. I need the flame already blazing away. Hence the question above about having them already created and making them visible or not. <br><br></td></tr></table><br>
<a name="1219415"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think SetVisible will work as you need, but any particles not within the screen view won't be drawn either.<br><br>You can start an effect a few frames into the simulation by using:<br><br><pre class=code>
AddPreLoadedEffect(e:tlEffect, frames:Int, Layer:Int = 0)
</pre><br><br>Use that instead of AddEffect, and specify the number frames into the effect you want to start from. Most most effects 30 should be enough but it depends on the effect, you can experiment :) <br><br></td></tr></table><br>
<a name="1219418"></a>

<a name="1219419"></a>

<a name="1219420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the reply Pete. I was able to accomplish what I needed with multiple particle managers with one torch effect in each.   I had to do this because when I add multiple effects into one particle manager, it wants to draw them all at once when the ParticleManager.DrawParticles(Tweener.Tween) is called. So I  made an array of particle managers loaded with a Torch and it's related (x,y ,z)  values. So there is a particle manger for each Torch location. This is the only way I differentiate each one.  Also, this way no more particles are being drawn than what is necessary at a time. I'm not sure this is the best way to do it, but it is what i'm trying right now and seems to work. Except for the following problem.....<br><br><br>When I run my game without the drawing any Torch effects everything is normal. See pic.<br><img src="http://i1207.photobucket.com/albums/bb474/Galdy/particleeffects1.png"><br><br><br><br><br><br>However, as soon as I invoke ParticleManager.DrawParticles(Tweener.Tween) in my code I get this weird effect.<br><img src="http://i1207.photobucket.com/albums/bb474/Galdy/particleeffects2.png"><br>You can see a Torch particle effect in operation on the left most torch. Looks great except for this weird issue.I should add that I shouldn't able to see that torch in operation though.<br><br><br><br>I adapted your example code inside my own Torch function that draws the torch&amp; sconce and lit wall, then  draws the torch particle effect. <br><br><pre class=code> For Local Ticks:Int = 1 To Tweener.FrameTicks
                 Tweener.UpdateExecutionTime()					
	    TorchParticleManagerNS[D_Pointer].Update()
          Next
     TorchParticleManagerNS[D_Pointer].DrawParticles(Tweener.Tween) </pre><br><br> <br><br>Any thoughts what I could be doing wrong Pete? <br><br></td></tr></table><br>
<a name="1219444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> My initial guess would be that for some reason the alpha isn't being set back to what it should be. When the particles are drawn by the particle manager, before it starts it makes a note of the current SetAlpha, SetColor, SetRotation etc. values, so that once it's finished drawing the particles it sets them back to what they were before it started drawing them. <br><br>I just looked at the code however and it doesn't seem to restore the value of the current Blendmode. Not sure why, maybe it's not possible to get the current blendmode so I left it out... So I would try setting the blendmode that you want before you start drawing your own graphics and see if that helps. <br><br></td></tr></table><br>
<a name="1219476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had to put<br><pre class=code> SetBlend SOLIDBLEND
       SetBlend ALPHABLEND
       SetAlpha 1  </pre><br><br>After each call of <pre class=code> TorchParticleManagerNS[D_Pointer].DrawParticles(Tweener.Tween)</pre> <br><br>Thanks for pointing me in the right direction. I still got some lingering glitches with implementing the torches. Close though. lol. <br><br></td></tr></table><br>
<a name="1219482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Pete, I have multiple particle managers with one effect in each.  I can't figure out how to get the z,y handle of an "effect" that's in a particle manager. I'm trying to track down why some of the torches are getting drawn at 0,0 instead of the coordinates I assigned them at the start of the program. <br><br></td></tr></table><br>
<a name="1219528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you need to track an effect the best this is to just store that effect somewhere so you can get to it again, and use effect.GetX(), GetY() or effect.SetPosition() to position it. <br><br></td></tr></table><br>
<a name="1220128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to be having a problem with the timing now. I use the function below to update my particle managers that are visible, but the timing is only allowing me to properly draw the first torch it encounters in the loop. If I remove <br><pre class=code> 
Tweener.UpdateExecutionTime()
</pre><br><br>it will draw all the torches that are visible, but of course way to fast. I tried to adapt your example code to what I'm doing, but  I guess I don't fully understand how to use the tweener mod. Perhaps you/someone can identify what I'm doing wrong. <br><br><br><br><pre class=code>
Function Torch_Update()
Tweener.Update()
For Local Ticks:Int = 1 To Tweener.FrameTicks
    Tweener.UpdateExecutionTime()
  	Select D.Layer4
		Case 9  'North facing Torch 
		    Select Player.Heading
			    Case 1 'looking north
			    Case 2 'looking east
				    Select D_Pointer 'Right side
				      	Case 3, 5, 7, 10, 12, 14, 19, 21, 24, 26, 31, 34
							TorchParticleManagerEW[D_Pointer].Update
		             End Select
				Case 3 'Looking South  Straight ahead						 	
					Select D_Pointer
					Case 4, 5, 6, 7, 8, 11, 12, 13, 14, 15, 20, 21, 22, 25, 26, 27, 32, 35
						TorchParticleManagerNS[D_Pointer].Update
					End Select
				Case 4 'Looking west
				    Select D_Pointer 'Left side				
						Case 2, 4, 6, 9, 11, 13, 18, 20, 23, 25, 30, 33
							TorchParticleManagerEW[D_Pointer].Update
					End Select
			EndSelect		
		Case 10 'East facing Torch	
		 	Select Player.Heading
			    Case 1 'looking north
				    Select D_Pointer 'Left side
						Case 2, 4, 6, 9, 11, 13, 18, 20, 23, 25, 30, 33
							TorchParticleManagerEW[D_Pointer].Update
					End Select
				Case 2 'Looking east
							
				Case 3
				    Select D_Pointer 'Right side
				      	Case 3, 5, 7, 10, 12, 14, 19, 21, 24, 26, 29, 31, 34
							TorchParticleManagerEW[D_Pointer].Update
		            End Select
				Case 4 'looking west								 	
					Select D_Pointer
						Case 4, 5, 6, 7, 8, 11, 12, 13, 14, 15, 20, 21, 22, 25, 26, 27, 32, 35
					    	TorchParticleManagerNS[D_Pointer].Update
					End Select
			End Select
			
		Case 11 'South facing torch
			Select Player.Heading
				Case 1
					Select D_Pointer
						Case 4, 5, 6, 7, 8, 11, 12, 13, 14, 15, 20, 21, 22, 25, 26, 27, 32, 35
							TorchParticleManagerNS[D_Pointer].Update
					Default
					
					End Select
				Case 2
					Select D_Pointer 'Left side
						Case 2, 4, 6, 9, 11, 13, 18, 20, 23, 25, 30, 33
							TorchParticleManagerEW[D_Pointer].Update
					End Select
				Case 3
				Case 4
				 	Select D_Pointer 'Right side
				      	Case 3, 5, 7, 10, 12, 14, 19, 21, 24, 26, 29, 31, 34
							TorchParticleManagerEW[D_Pointer].Update
		            End Select
			End Select
		Case 12 'West Facing Torch
		   	Select Player.Heading
		    	Case 1 'Looking north
				 	Select D_Pointer 'Right side
				      	Case 3, 5, 7, 10, 12, 14, 19, 21, 24, 26, 29, 31, 34
							TorchParticleManagerEW[D_Pointer].Update
		            End Select
				Case 2 'Looking east		    
					Select D_Pointer
						Case 4, 5, 6, 7, 8, 11, 12, 13, 14, 15, 20, 21, 22, 25, 26, 27, 32, 35
							TorchParticleManagerNS[D_Pointer].Update
					End Select
																	
				Case 3 'looking east
					Select D_Pointer 'Left side
						Case 2, 4, 6, 9, 11, 13, 18, 20, 23, 25, 30, 33
							TorchParticleManagerEW[D_Pointer].Update
					End Select
				Case 4
			End Select
	End Select
Next
End Function 
</pre> <br><br></td></tr></table><br>
<a name="1220184"></a>

<a name="1220185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi Galdy,<br><br>Hmm it's hard to say, I'm not sure I'd structure it like that by putting the timer loop inside the torch update function, rather I'd do something in your main loop along the lines of:<br><br><pre class=code>
Tweener.Update()
For Local Ticks:Int = 1 To Tweener.FrameTicks
    Tweener.UpdateExecutionTime()
    Torch_Update()
    ...all your other updates
Next

ParticleManager.DrawParticles(Tweener.Tween)
</pre><br><br>Let me know how you get on. <br><br></td></tr></table><br>
<a name="1220232"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, figured it out. I had to change the function above to select the "viewable" particle managers, a.k.a torches, and put them in a list. Then in the main loop cycle through and update them (code below). WEW. Took some hours to struggle through and figure it out. Looks quite cool.<br> <br><pre class=code> 
Local Number_of_Torches:tlParticleManager
Tweener.Update()
For Local Ticks:Int = 1 To Tweener.FrameTicks
Tweener.UpdateExecutionTime()
For Number_of_Torches = EachIn TorchList	  	
	Number_of_Torches.update		
	   	  
Next
Next </pre> <br><br></td></tr></table><br>
<a name="1220255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great, glad you figured it out :) <br><br></td></tr></table><br>
<a name="1220765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the help Pete. For the heck of it, here's a test vid of the torch in action. :) <br><br><a href="https://www.youtube.com/watch?v=JT38Ne2sbaI&amp;feature=em-upload_owner" target="_blank">https://www.youtube.com/watch?v=JT38Ne2sbaI&amp;feature=em-upload_owner</a> <br><br></td></tr></table><br>
<a name="1220815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Rigz</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks great. I love those old style dungeon crawlers, I played many hours on the likes of dungeon master, eye of the beholder, black crypt, Bane of the cosmic forge and god knows what else! Looking forward to seeing your game progress :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
