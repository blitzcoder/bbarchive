<!DOCTYPE html><html lang="en" ><head ><title >display state management</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >display state management</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >display state management</a><br><br>
<a name="554539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RktMan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi all,<br><br>new guy here.<br><br>i've done very little game development.<br><br>this is likely a far too general kind of question, but i will ask anyway.<br><br>i'm currently developing some framework for the display of a game i'm working on.<br><br>this framework is all 2D code so far.<br><br>i do some image drawing.<br>i do some line drawing.<br>i do some masking of images/textures to get "shaped" textures "dynamically"<br>i use viewports.<br>i rely on the use of "Origin" heavily to get things to draw from "offsets"<br><br>as i am writing this code, and as it gets more complex, i'm getting more wary of how i am managing the "state" of the display, so that i can link functions together to get the display results i want.<br><br>how do people normally manage things like "origin", colors, global image handle states, masks etc.<br><br>i'm starting to find that many of my functions are storing/restoring color/origin minimally because otherwise, i might have problems with other functions in my render pipeline starting off from an unknown state.<br><br>i don't know if i'm making sense ...<br><br>it just seems like there are a number of ways to skin the cat so to speak when building a number of routines in your code that are reusable during "draw()" phases of your application, but where colors and origins and masks and things of that nature might very well be different given what is happening at render time.<br><br>it is almost like it would be nice if Blitz had some sort of "push/pop" mechanism for a bunch of the important display attributes.<br><br>so as a developer, whenever i use a routine that changes things, i could "push" the display config, change a bunch of stuff, and then "pop" and return.<br><br>also, can anyone comment on whether redundant/ineffecient calls to routines like "setcolor" or "setorigin" ... or any of the set/get display state calls have any signigicant overhead in them ?<br><br>if i am being really anal about doing my own "push"/"pop" code around all of my routines, even if i don't need to ... is this going to become a performance problem for me ?<br><br>thanks for any advice ...<br>Tony <br><br></td></tr></table><br>
<a name="554582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> i'm starting to find that many of my functions are storing/restoring color/origin minimally because otherwise, i might have problems with other functions in my render pipeline starting off from an unknown state. <br></div>I've come across this problem to. the solution I'm currently going with is assuming an unknown state and enforcing a known state at entry and not doing any cleaning up afterwards. Since I rely heavilly on inheritance to provide rendering functions (ie. everything that needs to be drawn must extend an Abstract "sprite" class). It doesn't often give any problems.<br><br>Besides if I remember correctly BlitzMAX checks for redundant state changes before actually changing anything.<br><br><div class="quote"> is this going to become a performance problem for me ? <br></div>Probably not - in either case I wouldn't worry about it until you're done, then if you have performance issues, optimize reactively. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
