<!DOCTYPE html><html lang="en" ><head ><title >Enemy movement problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Enemy movement problem</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Enemy movement problem</a><br><br>
<a name="1065506"></a>

<a name="1065511"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ScottFromCanada</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit:  Solved it!  Thanks anyway.<br><br>Hi all.<br><br>I am just dipping my toes into Blitzmax and am creating a very simple game to start.  Basically there will be an "enemy car" that will be moving around the screen.  The "player" will use their mouse to try to avoid the enemy car.  <br><br>Problem being that I want the enemy car, once it hits either edge of the screen to reverse and go the other way.  I can get the car to stop once it reaches the edge but not reverse it's field.  Here is my code.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Type TEnemycar		'Defining the enemy object
Field X:Int	=100		'Variable for the X axis location of the enemy object as Integer
Field Y:Int =100		'Variable for the Y axis location of the enemy object as Integer
Field Image2:TImage	'New field to hold the image for the enemy object
Field Speed:Int = 3	'New Field For the enemy object which holds a variable called Speed as an integer

Method DrawSelf()		'Draw the enemy object on the screen
DrawImage Image2,X,Y	'Draw the object from the image2 field at the X and Y coordinates
End Method			'end the DrawSelf method

Method updatestate()
X:+speed

If x=400 Then 
X:-3 
EndIf    'Collision with Left Or Right boundary         'simply reverses direction

End Method

End Type			'End the Type that defines the enemy object

</textarea><br><br>And here is my main loop.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Repeat				'Execute this block of code until a condition is met
Cls					'Clear the screen
Racecar.DrawSelf()
Racecar.X=MouseX()
Racecar.y=MouseY()
EnemyCar.updatestate()		
EnemyCar.Drawself			'Draw the EnemyCar object at X and Y (100 and 100)
Flip					
Until MouseHit(1)			'Repeat until mouse button is clicked
End					'End program
</textarea><br><br>Many thanks in advance.<br><br>Scott<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1065538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm glad you've solved it! Solutions I would use for this situation are: make the speed = -speed when you reach the edge, or have a direction field and assign an id number to left and right eg 1 and 2, and adjust the speed depending on that.<br><br>Maybe it's the way you pasted it, but you should consider indenting your code to make it more readable.<br><br>Happy new year! <br><br></td></tr></table><br>
<a name="1065579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ScottFromCanada</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Happy New Year and thanks for the advice!  I will begin indenting my code for readability purposes.  The way I solved it was to make the speed =-speed.  Glad to see I am on the right track! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
