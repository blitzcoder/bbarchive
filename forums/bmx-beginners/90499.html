<!DOCTYPE html><html lang="en" ><head ><title >Is "Mod" fastest method?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Is "Mod" fastest method?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Is "Mod" fastest method?</a><br><br>
<a name="1028942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Simple question here:  In the following code snippet:<br><br><pre class=code>
Strict

Local a:Int=233

If (a Mod 5)=0 Print "Yes!"

</pre><br><br>The BlitzMax Compiler produces the following simple ASM code:<br><br>mov	eax,233<br>	mov	ecx,5<br>	cdq<br>	idiv	ecx<br>	cmp	edx,0<br>	jne	_27<br><br>Is using "Mod" the fastest method in BlitzMax for testing if some given number is a factor of another?<br><br>Thanks :D <br><br></td></tr></table><br>
<a name="1028955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> it seems to be as fast as possible for integers any way. floats might be a different story. I doubt anyone here knows how many ticks do idiv take to execute. You might want to do your research in the MinGW site, Might have better luck there. <br><br></td></tr></table><br>
<a name="1028962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I expect that `idiv` command has to do a division before it can tell you the answer and probably is quite a slow instruction.<br><br>If your mod value is a power of 2 you can use masking to make it faster.<br><br><pre class=code>
If (a &amp; $00000004)=a then Print "Yes"     'test if a is an exact multiple of 16
</pre><br><br>There might be some kind of trick to do faster modulo's for other numbers. Check the bit twiddling hacks page for example: <a href="http://graphics.stanford.edu/~seander/bithacks.html" target="_blank">http://graphics.stanford.edu/~seander/bithacks.html</a><br><br>see "Modulus division (aka computing remainders)" <br><br></td></tr></table><br>
<a name="1029007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you are worried about the performance of math code, alter bmk and add the -ffast-math flag to the compilation and recompile all modules.<br><br>Will give you a nice boost but cost you float precision (but if you go for bit twiddling and similar "opt for precision sacrifice" optimizations you will likely not worry about that :) <br><br></td></tr></table><br>
<a name="1029021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> you should complete a game first and do your research based on that. You will find out that the little things you have been most concern about generally will be the least of your problems and will not make much difference. That is why most good programmers merely concern with profiling and optimizing the most stressful parts of their games only. <br><br></td></tr></table><br>
<a name="1029098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all the feedback, it's much appreciated. :D<br><br>It will probably seem inherantly silly to some, but I don't do any actual game programming in BlitzMax... At least not yet.  I am primarily using BlitzMax to test ideas, and hone my amature programming knowledge.<br><br>Jesse, in the past you've been instrumental in helping me overcome some initial brain farts, and in helping me understand how to better organize some of my coding practices.  In that I am very gratefull! :D<br><br>Over-all I've been very pleased with the responses I've recieved from some of my silly (and sometimes serious) questions and problems.  I believe, in general, this is the reason why I like BlitzMax and the community.  The community actually makes the programming language more tolerable.  So many other programming forums I've tried to use are filled with egotistical, pompus blowhards intent on only one thing, making you feel supremely inferrior, worthless, and just plain to stupid to ever be able to program in "their real" programming language.<br><br>It certainly won't appear this way to most, but I actually started programming back in the first part of 1982 on an Apple II.  I've also worked on the old TI-99/4a.  But my first real work, and where I actually learned the most, was on the old Commodore 64.  With the help of a school mate, and a highschool teacher, I did extensive work in basic, and most importantly (to me anyway), 6502/10 ASM programming.  Back in those days, memory was slim, and the concern over super compact, and optimized coding was the highest priority.  I suppose this is where I get too bogged down in worrying about optimization. Back then it was fun, and good learning, to compete with classmates, and the teacher, on finding the fastest, most effiecent method for programming some routine or function.<br><br>As far as higher level languages go, I actually loved Turbo Pascal 3, mixed with some simple 8088 asm routines.  That was challenging and fun.  As we all should know, BASIC itself has been taking a bad rap ever since it was first invented.  This has always basically annoyed me to no end.  For years I could never figure out why all these so called great programmers could not get their act together and create a "real" compiler for basic that would rival all the higher level languages (pascal, c, fortran, etc.)  It always seemed like they were all being lazy, and simply did not want this so called "toy" language to ever be a real threat to its' bigger, and not necessarily, better brothers.<br><br>To this day, I'd say that as far as basic dialects and compilers go, BlitzMax is probably the fastest (at what it does best.)  But it still is beaten out by C... Why?  My knowledge of compiler construction is very limited, but I still can not figure out why this obfiscated language of C is still beating the pants off anything else out there...  I wish I was super smart and could pour over the c libs and compiler code to understand what went wrong. :D  But alas, I'll never be that smart, or intuitive enough to write my own compiler to put C to shame. LOL<br><br>Basically I am greatful to all who have helped me, and you can be assured I'll be posting more silly and serious questions to the forums.<br><br>Thanks,<br>:D <br><br></td></tr></table><br>
<a name="1029110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> the problems you mentioned are not unique to BMax. it's clearly visible in c and pascal and every other high level language is missing simple instructions like those. I used to program the 8086 processor so I know a lot of optimization binary hack code to make my program run faster but most of the time it is not as important and does tend to make it hard for others to understand.<br><br>I too have been programing sense 1982. Funny but my first experience was with Apple II also. My first personal computer was that commodore vic20. later the Trs80, and the Tandy 1000 was my first real PC. I have experience in Masm, Cobol, Fortran, Pascal, c, qbasic and Bmax. I have learned what I know of OO programming on my own with Bmax. <br><br>based on all of these experiences, all that I can tell is that if you want to produce the fastest code is to stick with Assembler. even then, I am sure you know that no matter how good you think your code is, there is always going to be someone who can do it with fewer instructions and faster. <br>The era of creative computers is just a shadow of what it once was. all that is left is a bunch of lazy programmers that rely on someone else's lazy code to get anywhere. That was directed to me as well. Not that it's a bad thing anyway. The reason is that there is so much technology out there that  most of us could not catch up to it even if we were the smartest programmers in the world.<br><br>So, if those little things are what drives you, do stick wit what you are doing. After all, most of us here are just hobbyist programmers anyway. We are doing what we want not what some greedy corporation is telling us to do which is where the fun ends.<br>But if your goal is to make a game or an application for commercial purpose then do follow the "efficiency model" and soon you will see that all those little details will stop becoming important, most of the time anyway. <br><br></td></tr></table><br>
<a name="1029197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think a lot of people using Blitzmax came from the 8 bit school of programming. Blitz was originally an Amiga product that Mr Sibly came up with as well as writing some pretty good games back in the early 90's. Of course the Amiga was a 16 bit machine but I reckon 90% of C64 users back then upgraded to them because they were such wonderful machines and had the Commodore branding.<br><br>I cut my teeth writing basic programs on the Vic 20 and C64 where I was forced to use assembly for some parts in game that required fast moving characters and scrolling routines for example. I wasn't much good at it as there wasn't a compiler system back then and most assemblers were pretty basic to say the least as well.<br><br>Using Blitz is a luxury if you still think of programming in the same way you did back then but, like it's been illustrated already, you really don't have to so much now. It's always a good idea to have readable, tidy code which isn't sloppy in how it does things because you're not worried about it running too slow, sure. But mostly you're not going to run out of juice on any kind of indie game you write because it's probably quite tricky to write code that bad with an OOP system like Blitz.<br><br>Programming has kind of evolved - and it really had to. Nobody wants to write code like<br><br>LDA #255<br>STA 53280<br>NOP<br>NOP<br>RTS<br><br>Or Poke 53280,255 but that's all we had at the time. If we were still trying to work using a language like that then most of us would have long gone to move onto a more sane hobby. <br><br></td></tr></table><br>
<a name="1029210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> STA $D020, but I forgive you! <br><br></td></tr></table><br>
<a name="1029227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hahah oh yeah, it was all hex in those days :) <br><br></td></tr></table><br>
<a name="1029343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but I forgive you! <br> <br></div><br><br>unfortunately computers do not have a soul and therefore do not have the ability to forgive <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
