<!DOCTYPE html><html lang="en" ><head ><title >Importing code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Importing code</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Importing code</a><br><br>
<a name="579416"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just a quick question on importing code.<br><br>Let's say I have three files, called A, B and C.<br><br>A is the "main" file. B and C are additional functions and data. B uses some of the functions of C, while C is standalone. A uses functions of both B and C.<br><br>Where should the "import" commands go?<br><br>I tried putting the two commands in A, like so:<br><br><pre class=code>
import "File B"
import "File C"
</pre><br><br>But to no avail. During compilation, Max replied (using Strict mode) that it couldn't find a Type that was accessed in B, but declared in C. So I swapped the files, but that had no effect.<br><br>I got a working solution by importing file B from file A (if you follow), and importing C from B. <br><br>However I'm concerned. I plan to have many future files - D, E, F and so forth, each corresponding to different areas of the game. Each will want to access the other. Do I simply include the import code in each file? So, for example, File B will have:<br><br><pre class=code>
import "File C"
</pre><br><br>Whilst file E may have<br><pre class=code>
import "File B"
import "File C"
import "File D"
</pre><br><br>This won't cause any bloating of the exe file will it? Will BlitzMax recognise that File C has already been compiled?<br><br>Is there a better way of managing the imports, or is this correct?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="579458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PGF</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I take it that the files are actually named A.bmx, B.bmx and C.bmx.  If so then the correct thing to do would be to put the following into your main file A.bmx:<br><pre class=code>
Import "B.bmx"
Import "C.bmx"
</pre><br>That's how I do it.  There doesn't appear to be a problem with the order of definitions in the respective files. <br><br></td></tr></table><br>
<a name="579468"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You might need to import C into B and A, Import is different from include.<br><br>*EDIT*<br>Think of Import as local to the file you use it in and include being global. <br><br></td></tr></table><br>
<a name="579488"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Fry Crayola</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. Yeah, the files are named correctly (not that they're actually A, B, and C, of course).<br><br>Import as local. Now it makes sense. I'm used to the old Includes from Blitz3D.<br><br>Ta! <br><br></td></tr></table><br>
<a name="579663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PGF</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Whoops.  I mistook Import for Include.<br><br>My example should have been:<br><pre class=code>
Include "B.bmx"
Include "C.bmx"
</pre><br>I started out attempting to use Import for a project but found a major problem.  Types defined in different included modules can't refer to each other - that is B contain a reference to C and C contain a reference to B.<br><br>There are workarounds such as deriving B and C from the same parent but I found this impractical due to the large object hierarchy in my project.  The other alternative is to put them in one file which leads back to what you want to avoid.<br><br>Also I was disappointed to find that project build time became much longer with Import.  I had expected it to be shorter since modules are only rebuilt if necessary.  However any change to a type further up the hierarchy caused every descendent to rebuild.  Seemed like every build involves overhead that ends up costing more than the simpler way.<br><br>So now I just have a main file that uses Include to pull in about 20 separate files.  One per type.  The whole thing builds in about 5 seconds which is fast enough that it hardly matters. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
