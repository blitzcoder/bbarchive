<!DOCTYPE html><html lang="en" ><head ><title >Projectile Motion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Projectile Motion</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Projectile Motion</a><br><br>
<a name="1064581"></a>

<a name="1064584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Baystep Productions</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm trying to figure out my trig.<br><br>I'm deciphering this function...<br><img src="http://upload.wikimedia.org/math/c/1/4/c14d095c7d480ca398e25c01a53ed7be.png"><br>for BlitzMAX.<br><br>Essentially I need to do 2D Projectile Motion. I need to be able to Graph the points of a projectile based on velocity and angle of launch. Figure out how high it goes, how far, and for how long would be nice too. For graphing purposes I was looking for a function on getting the Y based on X and vise-versa. Even the X,Y by time (frames) would be great.<br><br>This site was useful <a href="http://zonalandeducation.com/mstm/physics/mechanics/curvedMotion/projectileMotion/generalSolution/generalSolution.html" target="_blank">http://zonalandeducation.com/mstm/physics/mechanics/curvedMotion/projectileMotion/generalSolution/generalSolution.html</a><br>But I don't seem to be able to translate it well for Blitz. Because the only values that seem like they might be right is the maximum height, and possibly the distance. But any attempts to make a graphing function fail.<br><br>I dunno. Any help, or code snippets would be GREAT.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1064587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im not sure if this will directly help, but have you checked Warpy's math code blog?<br><br><a href="http://warpycode.wordpress.com/" target="_blank">http://warpycode.wordpress.com/</a> <br><br></td></tr></table><br>
<a name="1064599"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could be getting this completely wrong, but from the page you posted and what I understand you are asking... the most important part of the link you posted is:<br><br>Example:<br>In the x direction:<br>vox = vocos(theta)<br>vox = (40.0 m/s)(cos(35 degrees))<br>vox = (40.0)(0.8191)<br>vox = 32.76<br>vox = 32.8 m/s<br><br>In the y direction:<br>voy = vosin(theta)<br>voy = (40.0 m/s)(sin(35 degrees))<br>voy = (40.0)(0.5735)<br>voy = 22.94<br>voy = 22.9 m/s<br><br>So buy knowing the initial speed and angle (40 m/s @ 35 degrees) you get an x velocity of 32.8 m/s and a Y velocity of 22.9 m/s.<br><br>So to work out how far is has gone in the x direction, it's just a matter of multiplying time (seconds) by 32.8 = metres traveled.<br><br>This is assuming the x speed is constant - i.e. no wind resistances etc.  You will need to mess around with wind resistance etc, and it will be different in the real world.  e.g. is there a head wind? a tail win?  what is the projectile (golf ball? different to a football?)<br><br>To work out the y distance.  Well assuming you are starting from 0 (ground), then after 1 second it will be 22.9 metres in the air minus any resistance (i.e. gravity which is approx 9.8 metres a second).  <br><br>I've tried to do something similar to what you are doing, but I didn't need this to be exact as what you want.  I might have another look at this page tomorrow if the rain continues like it is :D  <br><br>Sorry if this is wrong, I've been drinking and my brain hurts :D <br><br></td></tr></table><br>
<a name="1064639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, I've done a few posts on <a href="http://warpycode.wordpress.com/2010/03/08/aiming-a-projectile-over-a-wall/" target="_blank">more advanced</a> projectile motion <a href="http://warpycode.wordpress.com/2009/10/10/aiming-a-projectile-uphill/" target="_blank">topics</a>, but nothing on the basics.<br><br><br>So, the important equations are these:<br><br>(1) v_t = v_0 + a*t<br><br>(2) d = v_0 * t + 0.5*a*t^2<br><br>The first one gives you the velocity (v_t) after a certain amount of time, and the second one gives you the distance travelled after a certain time. v_0 is the initial velocity. a is the acceleration. There is no acceleration in the x-axis, and the acceleration in the y-axis is equal to the force of gravity (-9.8 m/s^2).<br><br>Note: the <u>speed</u> of a projectile is a number, like 10 m/s. The <u>velocity</u> is a <i>vector</i> which describes both the speed and the direction the projectile is travelling.<br><br>Because you're working in 2d, you can break up the velocity into horizontal and vertical bits, and look at them separately.<br><br>I won't describe the method too much because that page you linked says exactly what I would, and Arabia has helped, so here's some code:<br><br><pre class=code>

Graphics 800,600,0

Const a# = 1	'vertical acceleration. It's positive because screen co-ordinates are the opposite way up to Cartesian graphs, which are what you are taught to use
			'on the screen, down is positive and up is negative
			'in a Cartesian grid, up is positive and down is negative

While Not KeyHit(KEY_ESCAPE)

	SetColor 0,255,0
	DrawLine 0,550,800,550		'draw the ground


	mx# = MouseX()			'get mouse co-ordinates relative to starting point
	my# = (550-MouseY())		
	
	mx = mx/10		'divide by a constant so this can be used to define the initial velocity (don't want the projectile whizzing off the screen!)
	my = my/10

	
	an# = ATan2(my,mx)	'work out launch angle
	
	speed# = Sqr(mx*mx+my*my)	'work out initial speed
	
	SetColor 255,255,255
	DrawText "Launch Angle: "+an,0,0		'show the user the launch angle and speed
	DrawText "Launch Speed: "+speed,0,15
	
	
	vx0# = speed*Cos(an)		'calculate launch velocity in x and y directions
	vy0# = -speed*Sin(an)		'we could have just used mx and my, but I'm including this so you can see how to calculate just from an angle and a speed
							'we need to flip vy0 because of the screen co-ordinates being the wrong way up
	
	tt# = -2*vy0/a		'calculate the total time that the projectile travels
	
	dxt# = vx0 * tt		'calculate distance on x-axis that the projectile travels
	
	SetColor 0,0,255
	DrawText "Total time: "+tt,0,60			'show the user the totals
	DrawText "Total x-distance: "+dxt,0,75
	
	DrawLine dxt,500,dxt,550			'draw a line showing the landing point
	
	topt# = -vy0/a					'might as well work out the maximum height as well. Here's the time the projectile reaches its highest point
	topy# = vy0*topt + 0.5*a*topt^2		'and here's the maximum height itself.
	topx# = vx0*topt					'and the corresponding x-distance
	
	SetColor 255,255,0
	DrawLine topx-50,topy+550,topx+50,topy+550	'draw a line showingthe maximum height
	DrawText "Maximum height: "+(-topy),0,90	'and show the user the height in pixels
	
	'now plot the path of the projectile. 
	'We do this by working out, for each point on the x-axis between the launch and the landing, the corresponding height of the projectile
	
	SetColor 255,255,255
	oy#=0	'oy will keep track of the height of the point before the current point, so we can draw a line between them
	For dx#=0 To dxt
		t# = dx/vx0		'calculate the time that the projectile reaches this point
		dy# = vy0*t + 0.5*a*t^2	'calculate the height of the projectile
		
		DrawLine dx,oy+550,dx,dy+550	'draw a line from the old point to the new point
		
		oy = dy
	Next
	
	Flip
	Cls
Wend
</pre> <br><br></td></tr></table><br>
<a name="1064691"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Baystep Productions</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow! That bit of code worked perfectly.<br><br>I'll try and dissect it to get x,y based on given time. <br><br></td></tr></table><br>
<a name="1064734"></a>

<a name="1064735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a quick and messy way of doing just what you are after (the x,y location at time)<br><br><pre class=code>
SuperStrict

Const gravity:Float = -9.8

Local theta:Float 		' Angle at which projectile is "projected"
Local initialVelocity:Float	' Inital speed at which projectile is "projected" 
Local velocityX:Float		' The x (Horizontal) velocity of the projectile
Local velocityY:Float		' The y (Verticle) velocity of the projectile

theta = 35.0
initialVelocity = 40.0

velocityX = initialVelocity * Cos(theta)
velocityY = initialVelocity * Sin(theta)

Print "Theta:"+theta
Print "Initial Velocity:"+initialVelocity
Print "x Velocity:"+velocityX
Print "y Velocity:"+velocityY

Local time : Float

' Print the first 10 seconds of the projectile in increments of approximately one tenth of a second
For time = 0 To 10 Step .1
	Print "Time:"+time + " X Location:" + velocityX * time + " Y Location:" + (velocityY * time + .5 * gravity * time^2)
	
Next

</pre><br><br>As I said, messy - it doesn't stop showing the location and will actually give you negative results for the y value (i.e. projectile is under ground) if the flight time is less than 10 seconds.<br><br>You can use the other formula's in Warpy's code to clean it up (by working the total time of flight etc.) or by coding it yourself using the formulas and examples in the original link you posted.<br><br>p.s. thanks for posting that link, I was actually after these equations - I chucked out my high school math books years ago :D<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
