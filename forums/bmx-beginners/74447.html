<!DOCTYPE html><html lang="en" ><head ><title >Fraction function</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fraction function</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Fraction function</a><br><br>
<a name="831577"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kistjes</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>I need to know the fraction of a float (or double). So I tried<br><pre class=code>Function fraction:Double(f:Double) 
	Return f - Int(f) 
End Function</pre><br>and I tried:<pre class=code>Function fraction:Double(f:Double) 
	Return f - Floor(f) 
End Function</pre><br><br>This is what happens:<pre class=code>print fraction(1.2)
output &gt; 0.20000004768371582</pre><br>or this:<pre class=code>print fraction(1.93)
output &gt; 0.92999994754791260</pre><br><br>This is wrong (of course) and <b>not</b> accurate enough. Anyone an idea?<br><br>[edit]<br>Whoaah? What's this? <br>Just for a test I tried<br>Print 1.2 - 1.0<br>Print 1.2<br>output:<br>0.200000048<br>1.20000005<br>It looks like it's a rounding thing for the print-function, isn't it?<br>So, in that case, there is nothing wrong with the function. Whew! <br><br></td></tr></table><br>
<a name="831660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nope, it's not print specific, and it's not a problem with your functions. Floating point values are only accurate to a certain number of decimal places. This is because it is not possible to store all decimal fractions exactly in binary format. (Trying to express 1/3 or 2/3 in decimal is similar - you can't do it exactly for infinite decimal places).<br><br>For most purposes I'd say 0.93 being represented as 0.9299999 is accurate enough for even important calculations, unless you are doing something which is needs to be extremely accurate. In that case you will need to find an alternate method. For example, store the fraction part as an integer along with an (inverse) exponent.<br><br>For example, 1.2 would be stored as 2 with an exponent 10, meaing you must divide 2 by 10 to get the desired .2 . This will represent the value accurately for display or storage, but when you use it into a calcuation it will just be used as the floating point value again.<br><br>But I think you'll find the inaccuracy is negligible. Try it ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
