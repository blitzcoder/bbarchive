<!DOCTYPE html><html lang="en" ><head ><title >What's the difference between this code?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >What's the difference between this code?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >What's the difference between this code?</a><br><br>
<a name="801062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was wondering the difference between Function and Method when used in the following specific manner.  I can't really see a difference because they both work the same when used like this.<br><br><pre class=code>
Type Blah
   Field a:Int

   Function Add(this:Blah)
      self.a :+ this.a
   End Function
end type
</pre><br>and<br><br><pre class=code>
Type Blah
   Field a:Int

   Method Add(this:Blah)
      self.a :+ this.a
   End Method
end type
</pre> <br><br></td></tr></table><br>
<a name="801065"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the first one run?<br><br>The second example makes sense to me, but in the first one, what would 'self' refer to?<br><br>'method<br>blah1.add(blah2)    &lt;- 'self' in add refers to blah1<br><br>'function<br>Blah.add(blah2)      &lt;-Blah is type, not instance. <br><br></td></tr></table><br>
<a name="801073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chroma</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep you're right.  You can't use self in a Function.  I was only asking because I was poking about in the TQuaternion.bmx file from MiniB3D.  I saw that simon was using Function in the Type and I guess I didn't look close enough at what the function was doing. <br><br></td></tr></table><br>
<a name="801096"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>You can't use self in a Function</pre>Yes you can.<br>You can use self to call any type specific functions and globals. <br>What the problem is with the first example, is that you are using self in a function trying to access an INSTACE specific field. And Functions dont have INSTANCE specification.<br><br><br>(Also , probably doesnt matter, but using "this" in "self" examples is a bit confusing) <br><br></td></tr></table><br>
<a name="801104"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can often (always?) get away without using self, in type methods (and probably functions)<br>e.g:<br><br>a:+this.a<br><br>is shorthand for<br><br>self.a:+this.a <br><br></td></tr></table><br>
<a name="801106"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree that you can nearly always not use it, but if you are using BLIDE (for examle), a "self." is really useful cos then you get a list of all the members of the type.<br>Quite early in using BLIDE I did a speed test, and posted a few questions, and it doesnt slow down the code.<br><br>However several ppl said it made it harder to read, although now that I do it all the time, it seems easier to read to me <br><br></td></tr></table><br>
<a name="801134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> right now, you can use self in functions, its a bug in the compiler.<br><br>With 1.26 an onward you won't be able anymore. There is no instance that the function is called from, therefor self is always 0 and will bomb.<br>Don't use self and just call the function name (unless you have different scopes with the same, then use Typename.Functionname) if you don't want to rewrite your code in the future. <br><br></td></tr></table><br>
<a name="801145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I dont think it should be removed.<br><br>Self in a function does at present, and still should in future represent the type name when called from an function.<br><br>That is<br><pre class=code>Function MemberofAType()
    self.AGlobalMember
EndFunction</pre><br>Should be the same as<br><pre class=code>Function MemberofAType()
    AType.AGlobalMember
EndFunction</pre><br><br>That is the way Bmax uses Self <b>IS BETTER</b> than "This" and only ppl who think it should work like "This" consider it a Bug.<br><br>I see no reason at all why it should be changed<br><div class="quote"> unless you have different scopes with the same, then use Typename.Functionname) if you don't want to rewrite your code in the future <br></div>But why change self at all, if all its going to mean, is that some people are going to have to change there code?<br><br>Fair enough there might be a good reason for it not to be the way it is. But if the only reason is "It wasnt supposed to work like that", then that isnt a good enough reason <br><br></td></tr></table><br>
<a name="801168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> now, right now, self represents in a function the same as in a method and thats an error.<br><br>with self within a function you can actually call METHODS on that object as well as fields, if you call it like object.someFunction.<br><br>Function are clearly specified as "global and existing on type level". On type level there is no self in a function (self is the calling object, a function does exist on class level not on object, so there is no calling object just a calling class) and there never should be. <br><br></td></tr></table><br>
<a name="801176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Function are clearly specified as "global and existing on type level". On type level there is no self in a function (self is the calling object, a function does exist on class level not on object, so there is no calling object just a calling class) and there never should be. <br></div>So why can we not simply redifine "SELF", so that at Instance level ie Methods it works as its seems it was intedned, but at Type Level (Ie Not Methods), it works as it does now.<br><br><div class="quote"> with self within a function you can actually call METHODS <br></div>No you cannot. You will get a "Identifier not found"<br><br>I agree that there is a difference between the way SELF works, and the way SELF its documented to work. What I want to know is why not just change the documentaion, rather than the implimentaion, which in no way make programming or using self harder, and does in fact make some things easier <br><br></td></tr></table><br>
<a name="801254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with H&amp;K, allowing Self to continue allowing access to type globals and type functions is much preferable to having it bomb for no good reason. <br><br></td></tr></table><br>
<a name="801296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree with Gabriel and H&amp;K. Besides which, semantically "Self" doesn't imply an instance (as opposed to This for instance). <br><br></td></tr></table><br>
<a name="801303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Self is the "this" of C++ ...<br>Its a handle to the current object, which assumes that there is a current object which quite clearly prevents it from existing in Functions.<br><br>I would prefer a class keyboard, which is used to access global, const and functions (as there is the keyword super to access the superclass) and make self bugfree in the meaning of a pure "this" like reference to the current object a method is executed on.<br>Because right now it is a very bugged intermix sadly. Casting of Self for example is not possible but if you return self from a method, you can cast it, which just implies a core problem with handling of self. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
