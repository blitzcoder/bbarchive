<!DOCTYPE html><html lang="en" ><head ><title >CLS problem - Null object</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CLS problem - Null object</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >CLS problem - Null object</a><br><br>
<a name="1110214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all! I was surprised when I had got this kind of CLS()-problem. After CLS() I had an error (Null object). Moreover I can't read the name of the driver!<br>Does  anybody  know how to make this code works properly? Thank you.<br><br>' ----------------------------------------------------<br>SuperStrict<br><br>Global width:Short=800, height:Short=600, depth:Short=0, freq:Short=60 <br><br><br> If GLGraphicsDriver()&lt;&gt;Null					<br>	SetGraphicsDriver GLGraphicsDriver()<br>	Print("&lt;OpenGL&gt; graphic driver can be used! It's name is " + GetGraphicsDriver().ToString())		'CAN'T READ THE NAME!<br> Else<br> 	Print("* &lt;OpenGL&gt; graphics driver can't be used!")	<br>	End<br> EndIf 	<br><br> If GraphicsModeExists(width,height,depth,freq)<br>	Print("&lt;OpenGL&gt; graphic mode is ... Ok!")<br> Else<br> 	Print("* &lt;OpenGL&gt; graphic mode not supported!")	<br>	End If <br><br> Graphics(width,height,depth,freq,GRAPHICS_BACKBUFFER)<br> <br> Repeat<br> 	Cls							' UNHANDLED EXCEPTION: ... NULL OBJECT!<br>	DrawText("Test",10,20) <br><br>	Flip(-1)<br><br> Until KeyHit(KEY_ESCAPE) Or AppTerminate()<br><br>' ---------------------------------------------------- <br><br></td></tr></table><br>
<a name="1110222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The GlGraphicsDriver() is not supposed to be used that way, if you want to use the GLGraphicsDriver I suggest you look at the Nehe tutorials in the tutorials section.<br>the one you should be using for that example is the GLMax2DDriver(). <br><br></td></tr></table><br>
<a name="1110228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Jesse,<br><br>However, what about GetGraphicsDriver().ToString()?<br><br>Could you run the code:<br><br>' -------------------<br> SetGraphicsDriver D3D7Max2DDriver()<br> Print("The driver name is " + GetGraphicsDriver().ToString())		<br><br> SetGraphicsDriver GLMax2DDriver()<br> Print("The driver name is " + GetGraphicsDriver().ToString())		<br><br> SetGraphicsDriver GLGraphicsDriver()<br> Print("The driver name is " + GetGraphicsDriver().ToString())		'CAN'T READ THE NAME!<br>'  ------------------ <br><br></td></tr></table><br>
<a name="1110246"></a>

<a name="1110248"></a>

<a name="1110249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> since GLGraphicsDriver doesn't follow the Max2D standard, it also doesn't provide a "ToString" override. I would suggest you stay away from it unless you are trying to implement your own Max2D integration of it which is quite a bit of work. GLMax2DDriver is the GLGraphicsDriver implementation for  Max2D.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110255"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately, the help says nothing about it. It says "GetGraphicsDriver() returns the current graphics driver as selected by SetGraphicsDriver". In turn SetGraphicsDriver mentions GLGraphicsDriver() as normal to use.<br><br>Thank you a lot! <br><br></td></tr></table><br>
<a name="1110304"></a>

<a name="1110305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitzmax Documentation is really bad, best thing to do is to look at the actual module source which can easily be accessible from the side bar home Tab of the IDE under module source. Careful not to try to compile(execute) any of them as you might start to get some weird performance from your executables if you do.<br><br><br>by the way, Welcome to the Forums!<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why do yo uwant to use GLGraphicsDriver instead of GLMax2DDriver? <br><br></td></tr></table><br>
<a name="1110371"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The matter is each driver gives different performance of my program. So my algorithm was:<br>1. Find out how many drivers are available in computer of the customer.<br>2. Test each one by measuring, for example, the speed DrawText() function.<br>3. Choose the best one.<br><br>In my case D3D7Max2DDriver() was better than GLMax2DDriver() and I just tried to check GLGraphicsDriver()! <br><br></td></tr></table><br>
<a name="1110374"></a>

<a name="1110375"></a>

<a name="1110377"></a>

<a name="1110378"></a>

<a name="1110379"></a>

<a name="1110380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1 the odds that one windows computer does not have either of the driver is almost none existing and I wouldn't worry about it. I highly believe that that is pointless.<br><br>2. don't worry about the speed unless your know for sure your program will not perform good on any of the  drivers.  Instead I wold worry about compatibility with certain computers. OGL is know to have incompatibility issues that cause the program to crash. Some portals even refuse to accept GL  games.  Keep that in mind.<br><br>3 if you are coding for windows, stick with the dx drivers. If you are coding for Mac or Linux your best and probably your  only option is OGL.<br><br>if you know how to code in OGL than using the GLGraphicsDriver will be the faster because you can optimize it to your needs. the Max2DDrivers are not too well optimized for performance but for 99% of the uses the Max2dDrivers will be more than sufficient.<br><br><font class="tiny">Last edited 2011</font><br><br>may I ask what kind of game/application are you working on that you need to determine the speed up to the millisecond of DrawText. That is odd to me as I doubt anyone can read that fast.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Jesse,<br><br>Thank you for your explanation.<br><br>About "millisecond of DrawText". I have to put a big stuff at the screen between two flips(-1). So, I have just 16 msec to do it.<br><br>And I still have no idea how to do it with Cls function (see my post Cls-speed measuring) <br><br></td></tr></table><br>
<a name="1110443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, I seen it. yet, it doesn't illustrate real world use.<br>can you provide a minimized example of what you are actually doing? <br>maybe I can help you work something out. <br><br></td></tr></table><br>
<a name="1110447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> 16 milliseconds is a very long time for a computer. You should write your program first, and then time it, and then optimize the slowest bits, until you are under 16 milliseconds. Otherwise you will never manage to finish your game.<br><br>GLGraphicsDriver is for advanced use for custom opengl. If you don't know how to code opengl directly, it's useless for you.<br><br>In my experience the performance of the 3 main drivers (dx7, dx9, glmax2d) varies across computers, so what you measure on your computer might not hold for other computers. I just give the option in my games for the user to select the one they want, with a note to try a different one if they have perfomance issues. <br><br></td></tr></table><br>
<a name="1110451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Jesse,<br><br>I see you point, I have to refuse to use  GlGraphicsDriver()  by common way. Ok.<br><br>You wrote "...99% of the uses the Max2dDrivers will be more than sufficient", but I afraid I have to refuse to use Max2dDriver() as well, because ..., it sounds unbelievable,  but flip(-1) doesn't work in Max2dDriver() in Vista! <br><br>See a code below:<br><br>'-------------------------------------------<br>SuperStrict <br><br>Global width:Int=800, height:Int=600, depth:Int=16, freq:Int=60 <br><br> Print"OpenGL:"<br> If  OpenGL()=0<br>	Print "Can't install OPENGL driver!"<br> 	End<br> EndIf <br><br> My()<br><br> Print"DirectX:"<br> If Directx()=0 <br>	Print "Can't install DirectX driver!"<br> 	End<br> EndIf <br><br> My()<br><br>End<br><br>'=============================================<br>Function My()<br>'=============================================<br> Local time:Long=0<br> Local n:Long=0<br><br> Graphics(width,height,depth,freq,GRAPHICS_BACKBUFFER)<br> <br> time=MilliSecs()<br> Repeat           			<br>	Cls()<br>	DrawText("TEST...", 10, 10)<br><br>	Flip(-1)                          <br>	n=n+1<br>	If n&gt;=60 Exit<br> Until KeyHit(KEY_ESCAPE)<br> Print " Time=" + (MilliSecs() - time)<br><br> EndGraphics<br>End Function <br><br>'=============================================<br>Function DirectX:Byte()<br>'=============================================<br> If D3D7Max2DDriver()&lt;&gt;Null					<br>		SetGraphicsDriver D3D7Max2DDriver()<br> Else<br>	Print("* F001: DirectX(): Couldn't set &lt;DirectX&gt; Driver!")	<br>		Return(0)<br> EndIf 	<br><br> If Not GraphicsModeExists(width,height,depth,freq)<br>	Print("* F002: DirectX(): &lt;DirectX&gt; graphic mode not supported!")<br>	Return (0)<br> End If <br><br> Return(1)	<br><br>End Function<br><br><br>'=============================================<br>Function OpenGl:Byte()<br>'=============================================<br> If GLMax2DDriver()&lt;&gt;Null					<br>	SetGraphicsDriver GLMax2DDriver()<br> Else<br>	Print("* F003: OpenGl(): Couldn't set &lt;OPENGL&gt; Driver!")	<br>		Return(0)<br> EndIf 	<br><br> If Not GraphicsModeExists(width,height,depth,freq)<br>	Print("* F004: OpenGl(): &lt;OpenGL&gt; graphic mode not supported!")<br>	Return (0)<br> End If <br><br> Return(1)	<br><br>End Function<br><br>'-------------------------------------------<br><br>The result in this test should be very close to 1000 msec.   <br><br>My Windows Vista result is:<br>- OpenGl time = 114    here flip(-1) doesn't work<br>- DirectX time =  1007<br><br>My Windows7 result is:<br>- OpenGl time = 951<br>- DirectX time =  979<br><br>Question is how to make flip(-1) to work properly in Vista? <br><br></td></tr></table><br>
<a name="1110455"></a>

<a name="1110456"></a>

<a name="1110457"></a>

<a name="1110458"></a>

<a name="1110460"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br> it sounds unbelievable, but flip(-1) doesn't work in Max2dDriver() in Vista! <br> <br></div><br><br>not really! It's a common issue with graphic card settings and with the fact that direct x7 is only emulated from DX9 and above.<br><br>some graphics cards can be set to ignore refresh rate for certain applications so if you set to refresh your game at certain refresh rate it will completely be ignored if certain settings are not modified in your graphic card driver Settings. it has nothing to do with either of the dx modules and there is nothing that can really be done about it with in the game/application. an alternative and recommended way of handling all of your application speed issues is to use some kind of timing such as delta timing, interpolation etc...<br><br>have you tried the D3D9Max2DDriver. see if you get better performance.<br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110459"></a>

<a name="1110461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Question is how to make flip(-1) to work properly in Vista?  <br></div><br><br>By using DirectX.<br><br>When Vista was new the support for OpenGL was notoriously bad. Over time this improved, but not with all hardware. Be sure you have the most recent driver for your graphics card. If that doesn't fix the problem then give up on OpenGL for your Vista PC.<br><br>Note: If you do not specify a Max2D driver then BlitzMax will choose one by default. Originally this was OpenGL for all platforms. But experience showed that on Windows it made more sense to default to DirectX, which was much more reliable. So now the default is DirectX for Windows, OpenGL otherwise.  <br><br>In fact, I just tried Graphics, without setting a driver, on my Windows 7 PC. The driver is then DirectX9.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks a lot, Czar,<br><br>You wrote "16 milliseconds is a very long time for a computer". On the one hand, you are right! <br><br>On the other hand, let's remember that Windows isn't a real time system. There are lots of background services, priorities and queues and ..., so we haven't got 16 msec at all, but 10msec or may be 5 ???!<br><br>Then, the program has to work properly in any modern computers and old computer as well.  After that we hardly ever have 5 msec, but may be 1?<br><br>So, we have to be very attentive about the time!<br><br>We, probably, have to answer a number of questions (to yourself) BEFORE programming:<br>- Which function should I use to measure the time: Millisecs() or QueryPerformanceCounter(),<br>- How is quicker to output any messages at the screen: by Drawtext() or DrawImage(),<br>- What is better to use Cls(), ViewPort or DrawRect to clean a part of the screen,<br>- Which driver do I have to use,<br>- and many others...<br><br>May be are there any ideas (hints) how to come closer to a real time program (as a game is a real time task)? Could you share, pls? <br><br></td></tr></table><br>
<a name="1110469"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is a really important information! Thank you.<br><br>However, now I can't imagine how to prepare my program for any customer's computer!<br><br>What else should I put in the code below for it?  <br><br>'=============================================<br>Function OpenGl:Byte()<br>'=============================================<br>If GLMax2DDriver()&lt;&gt;Null	<br>SetGraphicsDriver GLMax2DDriver()<br>Else<br>Print("* F003: OpenGl(): Couldn't set &lt;OPENGL&gt; Driver!")	<br>Return(0)<br>EndIf <br><br>If Not GraphicsModeExists(width,height,depth,freq)<br>Print("* F004: OpenGl(): &lt;OpenGL&gt; graphic mode not supported!")<br>Return (0)<br>End If <br><br>Return(1)	<br><br>End Function<br><br>'---------------------<br><br>And the next a very critical question!<br>How to find out using BlitzMax in advance whether the flip(-1) will work properly or not (as "some graphics cards can be set to ignore refresh rate for certain applications")?<br><br>Thank you. <br><br></td></tr></table><br>
<a name="1110485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What is better to use Cls(), ViewPort of DrawRect to clean a part of the screen, <br></div><br><br>Given that Viewports supposedly don't work properly on some of the craptacular low-end graphics cards, I'd skip that option if you're going to maximum compatibility. <br><br></td></tr></table><br>
<a name="1110490"></a>

<a name="1110492"></a>

<a name="1110493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> here are my suggestions:<br><br>make your game with with DX as your default with the option for OpenGL. <br><br>use flip(1) as default to prevent tearing and benefit with computer where the refresh rate works properly.<br><br>use a timing method to control the speed of the game regardless if the refresh rate works or not.<br><br>write your game/application then worry about anything else afterwords. profiling is your best friend but only after you have made your application. Only then will you be able to determine what works and what doesn't. Until then, you are just wasting time and no one will really be able to help you. Everything  will all just be speculative talk.<br><br>everybody that has commented here have made at least a game or an application that works or at lest been here long enough to know what works or what doesn't so take these comments serious.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110497"></a>

<a name="1110498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't really second guess your target computer like that. 16 millisecs is a totally meaningless unit. What if the computer has half the processing speed, now it's only 8. But what was the 16 from anyway? You are basing assumptions on assumptions.<br><br>Who exactly are your customers? What are you doing that is going to take so long? 16 milliseconds is enough time to draw a very complex scene.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 16 millisecs is a totally meaningless unit. What i fthe computer has half the processing speed, now it's only 8. <br></div><br><br>1000 milliseconds in a second, 60 frames a second, is 16.666 millisecond per frame. Regardless of how fast or slow your computer may be, that value won't change. <br><br></td></tr></table><br>
<a name="1110508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> It was in reference to this, to show it doesn't make sense.<br><div class="quote"> On the other hand, let's remember that Windows isn't a real time system. There are lots of background services, priorities and queues and ..., so we haven't got 16 msec at all, but 10msec or may be 5 ???! <br></div> <br><br></td></tr></table><br>
<a name="1110648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you, all!<br><br>I'm a little bit upset about Blitz. You see:<br><br><div class="quote"> Viewports supposedly don't work properly on some of the craptacular low-end graphics cards, I'd skip that option if you're going to maximum compatibility <br></div><br><br><div class="quote"> some graphics cards can be set to ignore refresh rate for certain applications so if you set to refresh your game at certain refresh rate it will completely be ignored  <br></div><br>That is Flip(1) doesn't work!<br><br>I come up with thought I have to make an universal graphics test before any main code beginning.  I believe, that everyone did it in your own program. Could you share your experience, pls, what else should I do in the such test in order to choose the right driver, which is the most compatible with other computers? Here the code:<br><br><pre class=code>

 If OpenGl()=1
   ElseIf DirectX9()=1
   ElseIf DirectX7()=1
   Else
   Print("* FATAL ERROR! There is no avaiable drivers! Couldn't continue...!")	
 EndIf 	

'=============================================
Function OpenGl:Byte()
'=============================================
If GLMax2DDriver()&lt;&gt;Null	
SetGraphicsDriver GLMax2DDriver()
Else
Print("* OpenGl(): Couldn't set &lt;OPENGL&gt; Driver!")	
Return(0)
EndIf 

If Not GraphicsModeExists(width,height,depth,freq)
Print("* OpenGl(): &lt;OpenGL&gt; graphic mode not supported!")
Return (0)
End If 

Return(1)	

End Function
</pre><br><br>Thank you <br><br></td></tr></table><br>
<a name="1110656"></a>

<a name="1110661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> We have a very lot of customers where our BMax software is running. And a lot of them have very old computers. <br><br>My experience is, that BMax runs without performance problems on min. 99% of the computers. <br><br>Of course it depents on what you are doing, f.e. if you add a modern 3D-Module in your BMax-Code you will get more problems. But if you only use the build in commands it will run! We also never thought about using a certain driver, but let decide always the programm which driver to use.<br><br>As a minimum requirement today I would say the graphic card should have 32MB RAM. We had users with onboard 2MB Cards and they had problems with our 3D games but not with our 2D's.<br><br>The computer should have 256 MB RAM and 1000MHz and Windows XP or higher. We had customers running it perfect on 128MB and 800MHz.<br><br>With this minimum requirements you close out 1% of the customers, but  you will have no performance problems.<br><br>As a last solution you always have the opportunity to shrink down the FPS rate. On a lot of the 1% very old systems a 10FPS rate was a solution. But it depents on the game you are doing, if this still make fun or not...<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110659"></a>

<a name="1110667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br>Welcome to BlitzMax and the forums.<br><br>That process you are trying to achieve is already taken care of for you simply by the way the driver code is loaded and setup even before your very first line of code. There's a lot going on behind the scenes in your final executable code before it even reaches your 'If OpenGL()=1' statement.<br><br>Behind the scenes, the graphics drivers works like this (before your code even starts ) :-<br><br>if opengl is supported create and set opengl driver, if windows system and dx7 is supported create and set dx7 driver, if windows system and dx9 is supported create and set dx9 driver<br><br>This way if you are developing code on a Mac or Linux setup then OpenGL is default, otherwise if its windows and you have Dx9 its Dx9, otherwise if its windows and no Dx9 then its Dx7, otherwise if windows and no Dx9 and no Dx7 then its opengl . This covers pretty much every pc config that BMax caters. If that order of configuration doesnt work on someones pc then forget it, BMax does not cater for them.<br><br>Then in your code, if you want to, you can choose what graphics driver to use. Theres really no need, until IF someone plays your game and tells you that they have a graphics glitch. 99% of the time you won't get that, but it occasionally does happen for some people.<br><br>Some people are referencing very old hardware that have issues. You'll be lucky in any programming language if you can write a game that supports 100% every single graphics card available ever!<br><br>You don't need to worry so much about the 'hidden magic' that happens. Its there to make it easier for you to write your games without you needing to worry about what you're worrying about right now :D<br><br>Have fun.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> You don't need to worry so much about the 'hidden magic' that happens. Its there to make it easier for you to write your games without you needing to worry about what you're worrying about right now :D <br></div>Good advice. And this includes mods or addons. Worry about IF it works not how or why. <br><br></td></tr></table><br>
<a name="1110898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LuckyBargee</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks you for your advices! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
