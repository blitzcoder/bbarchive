<!DOCTYPE html><html lang="en" ><head ><title >LoadSound &amp; Ram</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LoadSound &amp; Ram</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >LoadSound &amp; Ram</a><br><br>
<a name="687980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br>I have a little problem (and maybe the solution too...):<br>in the game I'm writing I have a problem 'Error: out of memory' when I CHANGE the music track.<br>The music track is loaded ONCE at the start of the game, it plays perfectly but when I change the level I change track and I get the error...<br><br>Cause (perhaps..)<br><br>The tracks have a different duration so I think they take different amount of ram (right?) and while the first loading is OK the second rises the error because there are not enough free ram to expand the .ogg file.<br><br>PS: I'm writing the game to run on 128 Mb (and this is the ONLY - at the moment! - problem that I must resolve).<br><br>Solution:<br>make ALL the tracks of the same duration means same amount of RAM when 'decompressed'?<br>In the program I use<br><br>sound_background:tsound=LoadSound(...)<br>...<br>at the change of level<br><br>sound_background=NULL ' &lt;--- it is useful?<br>sound_background=LoadSound(Next track...)<br><br>Thanks in advance for any answers/solution! <br><br></td></tr></table><br>
<a name="687996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ghost Dancer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It shouldn't matter if your tracks are different lengths, but just make sure you free up the old track before loading the new one.<br><br>after your line "sound_background=NULL", it is best to run the garbage collector to make sure the memory is freed up (setting it to NULL just means it will be cleared the next time the collector runs) - you can manually run the garbage collector with the GCCollect() function.<br><br>Once that memory has been freed up, you should be able to load in your next track without any problems <br><br></td></tr></table><br>
<a name="688001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok - thanks - I was already programmed a 'test with GCcollect()'... <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
