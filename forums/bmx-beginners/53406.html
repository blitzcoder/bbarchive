<!DOCTYPE html><html lang="en" ><head ><title >Modifyer Keys</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Modifyer Keys</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Modifyer Keys</a><br><br>
<a name="596592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I can't seem to get my keyboard to register any of the modifyer keys. (Eg shift, command, control etc.) I have a generic Apple Extended USB Keyboard, and am using the "GetChar()" command.<br><br>Help Anyone?<br><br>Thanks,<br>KrayzBlu <br><br></td></tr></table><br>
<a name="596597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> GetChar() returns ASCII codes only, is there a reason you are using that over Keydown() or KeyHit()? <br><br></td></tr></table><br>
<a name="596615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am using keyhit and keydown, however they don't seem to return anything for those keys. I was just using GetChar to see if the keys were registering <br><br></td></tr></table><br>
<a name="596618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> does this work?<br><br><pre class=code>
Graphics 640,480,0,0

While Not KeyDown(KEY_ESCAPE)
	Cls
	
	If KeyDown(KEY_LSHIFT) Then DrawText("Left Shift Pressed",0,0)
	
	Flip
Wend
End

</pre> <br><br></td></tr></table><br>
<a name="596627"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah lshift and rshift works, but the modifier doesnt, neither do any other modifiers :/ <br><br></td></tr></table><br>
<a name="596644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the MODIFIER consts are only for GUI events. <br><br></td></tr></table><br>
<a name="596844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ?<br>Does that mean there's no way to use them in my game?<br>:( <br><br></td></tr></table><br>
<a name="596977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you need to if you can use Keydown? <br><br></td></tr></table><br>
<a name="597091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be kinda nice to have command/control - q to quit :) <br><br></td></tr></table><br>
<a name="597350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>if Keydown(KEY_CTRL) and Keydown(KEY_Q) then end</pre> <br><br></td></tr></table><br>
<a name="597758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, but like I was saying... My system dosnt recognize KEY_CTRL <br><br></td></tr></table><br>
<a name="597760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah right, yep, ok.<br>in which case, you could do:<br><pre class=code>
SuperStrict

Graphics 640,480,0,0

Global Quit:Int = False


While Not Quit
	Cls
		UpdateEvents()
	Flip
Wend

End

Function UpdateEvents()
	PollEvent()
	Select EventID()
		Case EVENT_KEYDOWN
			If EventData() = KEY_Q And EventMods() = MODIFIER_CONTROL Then 'MODIFIER_OPTION 
				Quit = True
			EndIf
	End Select
End Function


</pre> <br><br></td></tr></table><br>
<a name="597764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Erm...KEY_LCONTROL / KEY_RCONTROL (162/163)...Surely?<br><br>Try this...<pre class=code>Graphics 400, 300, 0

Repeat
	For c=1 To 192
		If KeyHit(c)
			If c = 27 Then End
			Cls
			DrawText "Keyhit = " + c, 10, 10
			Flip
		EndIf 
	Next
Forever</pre> <br><br></td></tr></table><br>
<a name="597912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >KrayzBlu</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> :D<br>Thanks for all your help Perturbatio, but your stuff didn't work :/<br>YanCanCode's idea worked, thanks man! I can't beleive I didn't think of that.<br><br>Thanks again,<br>KrayzBlu <br><br></td></tr></table><br>
<a name="598644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Graphics 640,480

While Not AppTerminate() Or Not Confirm( "Quit?" )
	Cls
	DrawText "Quit me!",0,0
	Flip
Wend
</pre> <br><br></td></tr></table><br>
<a name="687788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bubbz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> This appears to be the closest thread to my current problem. I'm using maxgui and want a gui button to behave differently if shift or ctrl is held down. Perturbatio's code above appears to have the same problem, here's a slightly modified one to try:<br><br><pre class=code>
SuperStrict

Graphics 640,480,0,0

Global Quit:Int = False


While Not Quit
		UpdateEvents()
Wend

End

Function UpdateEvents()
	WaitEvent()
	Select EventID()
		Case EVENT_KEYDOWN
			Cls
			DrawText("Eventdata="+EventData()+", EventMods()="+EventMods(),0,0)
			Flip
			If EventData() = KEY_Q And EventMods() = MODIFIER_CONTROL Then 'MODIFIER_OPTION 
				Quit = True
			EndIf
	End Select
End Function
</pre><br><br>Pressing ctrl or shift triggers it's own event, but then pressing another key whilst still holding ctrl or shift only shows the new keypress, and EventMods() remains zero. Unless i've badly interpreted the doc's, surely EventMods() should display another value depending on which modifier key is held?<br><br>I'm sure somebody can solve this easily... Thanks.... <br><br></td></tr></table><br>
<a name="687976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bubbz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still having issues with this, is it possible there is a bug related to EVENT_GADGETACTION and EventMods()? Here's some basic MaxGUI code I tested:<br><br><pre class=code>
'quick gui test of eventmods()
'displays the eventmods() value each time the gui button is pressed
'but always displays zero, even with control or shift held down

Strict

Global window:tgadget=CreateWindow("test window",10,10,320,240)
Global button:tgadget=CreateButton("press me",20,20,280,50,window)
Global label:tgadget=CreateLabel("EVENT_GADGETACTION EventMods()=?",20,80,280,30,window)

Repeat

	WaitEvent()
	
	Select EventID()
	
		Case EVENT_GADGETACTION
		
				SetGadgetText(label,"EVENT_GADGETACTION EventMods()="+EventMods())
			
        Case EVENT_WINDOWCLOSE

            End

        Case EVENT_APPTERMINATE

            End
	
	EndSelect
	
Forever
</pre><br><br>Could somebody else test this and/or get it working? Thank you. <br><br></td></tr></table><br>
<a name="688007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> No<br>EventMods, from what I remember, is only filled on EVENT_HOTKEYHIT with modifier keys, where it is used for modifier + someKey input handling.<br><br>If you want to use it otherwise, you have to check if KEY_LCONTROL, KEY_RCONTROL, KEYLALT etc are down when clicking it. <br><br></td></tr></table><br>
<a name="688016"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bubbz</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora: thanks for the reply.<br><br>Next question: how can I check if KEY_LCONTROL (or any other) is down when the gui button is pressed? Didn't I read somewhere that KeyDown() and KeyHit() don't work in gui mode, as events are preferred? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
