<!DOCTYPE html><html lang="en" ><head ><title >put the list in the type</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >put the list in the type</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >put the list in the type</a><br><br>
<a name="834582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im trying to put the list in the actual type like this:<br><br><pre class=code>
Type warrior extends character
Global list:TList
function create()
If list=Null
list:TList = CreateList()
EndIf
end function
end type
</pre><br><br>but it always says the object is null when I try to use the list <br><br></td></tr></table><br>
<a name="834583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use:<br><pre class=code>Field list:TList</pre><br><br>[edit]Based on the bit of code you posted above you might as well just do this:<br><pre class=code>Field list:TList = New TList</pre> <br><br></td></tr></table><br>
<a name="834584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks,<br><br>If I put it in a field then every type instance will have its own list.<br>on the asteroids in an hour tutorial they make it a global to stop this. <br><br></td></tr></table><br>
<a name="834585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well whether your list is global or a field depends what it's a list of. If you're trying to emulate B3D's list of all objects of that type then having it global is the correct way. From the question, I'm not entirely sure which it is you're after.<br><br><br>I'm also not sure if you're expecting Create to be called automatically, but just to point out that it won't be. The only thing which is called automatically is the New() method. So either put it there or have it automatically create upon initialization of the type, eg:<br><br><pre class=code>
Global List:TList=New TList
</pre><br><br>Or if you want a list in each object, as in GFK's reply<br><br><pre class=code>
Field List:TList=New TList
</pre> <br><br></td></tr></table><br>
<a name="834590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks, how would I access the list (global)<br>when I want to iterate through it with the eachin command<br><br>(in the main program outside of the type) <br><br></td></tr></table><br>
<a name="834595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Through the 'namespace' ie warrior.list <br><br></td></tr></table><br>
<a name="834596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well personally I wouldn't access it from outside the type. I'd write whatever code needed to handle the list inside the type. But if it's global you just address it as <br><br><pre class=code>
Warrior.List
</pre><br><br>Although it can actually be addressed via an instance of the warrior type too.<br><br>Eg:<br><br><pre class=code>
MyWarrior:Warrior=New Warrior
MyWarrior.List
</pre><br><br>But the former is more correct. <br><br></td></tr></table><br>
<a name="834598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You wouldn't do that.<br><br>Breaks any clean OO design rule.<br><br>If you have a functionality that needs to iterate through that list, implement it within the type and call that function that iterates through it and does a special thing.<br><br>Examples for that are Update, Draw, CheckCollision <br><br></td></tr></table><br>
<a name="834602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like what Dreamora says :-)<br><br>The reason being, that because the nitty-gritty code is hidden away inside the Type, you can, at a later date, completely re-write that part of it without having to change code outside of the Type.<br>Otherwise, can you imagine the chaos of having to change, say, 7 areas of your program, because your List is now implemented in a different way?<br>You want to make your life as easy as possible, after all :-) <br><br></td></tr></table><br>
<a name="834791"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> got it working now, thanks all,<br>I will put all iterations in the type <br><br></td></tr></table><br>
<a name="836287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shouldn't you have the list in the  character type, to store all your characters including warriors in one place rather than a seperate list for each type of character? A character list could store anything that inherits from character. <br><br></td></tr></table><br>
<a name="836294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Shouldn't you have the list in the character type, to store all your characters including warriors in one place rather than a seperate list for each type of character? <br></div><br>You should probably have both. You'll normally have operations you want to carry out on all characters, but at the same time, you might well have operations you only want to carry out on warriors. While you can iterate through a list of all characters, it's inevitably slower to say<br><br><pre class=code>
For Local W:Warrior=EachIn Character.List
Next
</pre><br><br>Than it is to say<br><br><pre class=code>
For Local W:Warrior=EachIn Warrior.List
Next
</pre><br><br>Object Oriented Programming can be very useful for games, but for me it's much more of a double-edged sword than it is for application programming. Application programming rarely has to worry about milliseconds. A good solid algorithm more than makes up for a few milliseconds here and there because of OOP. With games, it's a constant battle between doing things the best way and doing things the fastest way. If you potentially have a lot of characters and need to process something on warriors every frame, you have to decide if you can afford to lose those precious CPU cycles iterating through a list with many objects you don't want. <br><br></td></tr></table><br>
<a name="836367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> the only problem is that you have to remove the instance from all lists, maybe that isnt too much to remember for most people. <br><br></td></tr></table><br>
<a name="836498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If these are player charectors which won't change in number too oftend, I'd consider an array. <br><br></td></tr></table><br>
<a name="836521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the only problem is that you have to remove the instance from all lists, maybe that isnt too much to remember for most people.  <br></div><br>easy... from your extended type's custom Remove method call the base type's Remove method.  each method cleans up it's own list by deleting the link in it's own list directly. <br><br></td></tr></table><br>
<a name="837211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tut tut dmaz<br><br><a href="http://englishplus.com/grammar/00000227.htm" target="_blank">http://englishplus.com/grammar/00000227.htm</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
