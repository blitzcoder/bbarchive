<!DOCTYPE html><html lang="en" ><head ><title >Reading level data from a .txt file...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Reading level data from a .txt file...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Reading level data from a .txt file...</a><br><br>
<a name="989128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> As the topic, I would like to read the level data for my game from a text file. I knocked up this little bit of code to do it internally using DefData, but I would like to be able to expand on this and be able to use different characters in the text file to represent different tiles.<br><br>Can anyone help with the code to read it from the txt file stream, store it in a grid array and then differentiate the different characters to draw the corresponding tile? <br><br>I've written this kind of code in C# before but porting it to BMax is doing my head in with no sleep :P<br><br><br><pre class=code>Function readGrid()
	
	For Local y:Int = 0 Until gridH
		
		For Local x:Int = 0 Until gridW
		
			Local data:Int
			ReadData data
			
			grid[ x, y ] = data
			
		Next
		
	Next

End Function


Function drawGrid()
	
	For Local x:Int = 0 Until gridW
	
		For Local y:Int = 0 Until gridH

			Tile.Create( x * gridSize, y * gridSize )
			
		Next
		
	Next

End Function



DefData 0,0,0,0,0
DefData 0,0,0,0,0
DefData 0,0,0,0,0
DefData 0,0,0,0,0
DefData 0,0,0,0,0
</pre> <br><br></td></tr></table><br>
<a name="989138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well I have just got up so brain not fully engaged yet :P However I will give you this bit of advice: it is much easier to create a level editor first, which can then save the level data, rather than trying to manually create the level data using notepad first time round. <br><br></td></tr></table><br>
<a name="989153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> However I will give you this bit of advice: it is much easier to create a level editor first, which can then save the level data, rather than trying to manually create the level data using notepad first time round. <br></div>I disagree entirely.  If you have a sound level structure you can easily store and edit it in readable format in a text file.<br><br>There is no point whatsoever in wasting time reinventing tools to do a job, that can already be done with existing tools.<br><br>My entire game's scripting was done in notepad and I can change pretty much everything without having to recompile.<br><br>Without any further ado, sample code (typed straight into reply box, so untested):<br><pre class=code>Strict

Global file:tStream
Global array:String[] 'This is used with the S var below when we chop it up
Global s:String

Global x:Int
Global y:Int

Global grid:int[5,5]

file = ReadFile("datafile.txt")
If Not File
  RuntimeError "File not found!"
EndIf
y = 0
Repeat
  s = ReadLine(file) 'read the next line
  If Len(s) &gt; 0
    array = s.Split(",") 'split it up into elements separated by a comma
 
    For x = 0 to array.length - 1 '(array.length returns 5, but the elements are numbered 0-4)
      grid[x,y] = array[x].ToInt() 'convert value to int and put into array
    Next
    y:+1
  EndIf
Until Eof(file)
CloseFile file
</pre><br><br>datafile.txt:<br><pre class=code>0,0,0,0,0
0,0,0,0,0
0,0,0,0,0
0,0,0,0,0
0,0,0,0,0</pre> <br><br></td></tr></table><br>
<a name="989154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> or this way:<br><pre class=code>
Function readGrid()
	local file:TStream = OpenStream("game.dat")
	For Local y:Int = 0 Until gridH
		
		For Local x:Int = 0 Until gridW
		
			grid[x,y] = ReadInt(file)   'Or ReadShort(file), ReadByte(file), ReadString(file,n), ReadLine(file)
			
		Next
		
	Next
	CloseStream(file)
End Function</pre> <br><br></td></tr></table><br>
<a name="989159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> There is no point whatsoever in wasting time reinventing tools to do a job, that can already be done with existing tools.<br><br>My entire game's scripting was done in notepad and I can change pretty much everything without having to recompile. <br></div><br> I wasn't talking about scripting, but 'physical' level structure, which is probably a big 2d grid of tiles. Especially if it is a complex game (doors which can only be opened by particular keys, etc) it can become very tedious and confusing directly editing a giant mass of numbers with arbitrary meanings. By creating an in-game level editor, not only can you see exactly what the level will look like what-you-see-is-what-you-get style, with a bit of polish there's no reason you can't ship it with your game too so the players can make their own levels easy peasy :D (and I don't see why you'd need to recompile to edit a level)<br><br>Case in point: here is the content of one of the map files from one of my own tile based games, with goodies, maps, doors, teleporters.. Don't ask what the numbers mean because I couldn't tell you! The ones near the bottom seem to be coordinates, probably for items. Try adding a key in the middle of one of the rooms to this level please, using only notepad. While you're doing that, I'll load my editor and visually inspect the map looking for a suitable room ;)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">100
0
2
32
1
0
0
0
0
0
3
1
0
0
0
3
0
0
0
0
3
2
0
0
0
3
1
0
0
0
3
0
0
0
0
3
0
0
0
0
3
3
0
0
0
3
2
0
0
0
3
2
0
0
0
3
0
0
0
0
3
1
0
0
0
3
1
0
0
0
3
1
0
0
0
3
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
1
4
0
0
0
3
2
0
0
0
1
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
3
1
0
0
0
3
3
0
0
0
3
0
0
0
0
1
3
0
0
0
1
2
0
0
0
1
4
0
0
0
1
1
0
0
0
1
0
0
0
0
3
3
0
0
0
2
0
0
0
0
1
4
0
0
0
1
3
0
0
0
1
4
0
0
0
1
4
0
0
0
1
3
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
1
1
0
0
0
1
2
3
39
0
1
2
0
0
0
1
4
0
0
0
1
0
0
0
0
1
3
0
0
0
1
3
0
0
0
1
5
0
0
0
1
5
0
0
0
1
4
0
0
0
1
0
0
0
0
2
2
0
0
0
1
1
0
0
0
3
2
0
0
0
1
1
0
0
0
1
1
0
0
0
1
0
0
0
0
1
5
0
0
0
1
5
0
0
0
1
0
0
0
0
1
2
0
0
0
1
5
0
0
0
3
2
0
0
0
1
3
0
0
0
1
4
1
53
0
3
2
0
0
0
3
3
0
0
0
2
2
0
0
0
1
3
0
0
0
1
2
0
0
0
1
1
0
0
0
1
2
0
0
0
1
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
2
0
0
0
1
5
0
0
0
2
2
0
0
0
2
0
0
0
0
1
0
3
40
1
2
0
0
0
0
2
0
0
0
0
1
2
0
0
0
1
1
0
0
0
1
2
0
0
0
1
1
0
0
0
1
2
0
0
0
2
1
0
0
0
1
4
0
0
0
3
0
0
0
0
1
1
0
0
0
2
1
0
0
0
2
0
0
0
0
1
3
0
0
0
2
2
0
0
0
1
0
0
0
0
1
5
0
0
0
1
3
0
0
0
3
3
0
0
0
3
1
0
0
0
3
0
0
0
0
3
3
0
0
0
3
3
0
0
0
2
2
0
0
0
1
0
0
0
0
1
5
2
104
5
1
3
2
105
1
1
2
2
106
4
1
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
1
4
0
0
0
2
2
0
0
0
1
2
4
42
0
1
5
4
41
1
2
0
0
0
0
2
0
0
0
0
1
0
0
0
0
1
4
0
0
0
1
4
0
0
0
1
1
0
0
0
1
1
0
0
0
2
2
0
0
0
1
4
0
0
0
3
3
0
0
0
1
0
0
0
0
2
0
0
0
0
1
5
5
139
0
1
5
0
0
0
1
3
0
0
0
1
3
0
0
0
1
0
0
0
0
1
0
0
0
0
3
3
0
0
0
3
3
0
0
0
1
4
4
43
2
3
0
0
0
0
3
0
0
0
0
2
2
0
0
0
1
5
0
0
0
1
5
0
0
0
1
1
5
155
0
1
5
0
0
0
1
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
1
4
0
0
0
2
0
0
0
0
1
3
0
0
0
2
0
0
0
0
2
1
0
0
0
2
2
0
0
0
1
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
1
2
0
0
0
3
3
0
0
0
1
1
0
0
0
1
0
0
0
0
1
1
0
0
0
1
2
0
0
0
1
2
0
0
0
3
2
0
0
0
3
3
0
0
0
1
4
0
0
0
1
2
0
0
0
1
2
0
0
0
1
4
0
0
0
1
5
0
0
0
3
0
0
0
0
2
1
0
0
0
1
5
0
0
0
1
0
4
107
0
1
4
4
108
1
1
5
4
109
2
1
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
1
1
5
138
0
2
0
0
0
0
1
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
1
5
0
0
0
2
0
0
0
0
1
5
5
157
0
1
5
0
0
0
1
4
6
114
0
2
2
0
0
0
1
4
0
0
0
3
0
0
0
0
3
3
0
0
0
3
1
0
0
0
2
1
0
0
0
3
0
0
0
0
3
3
0
0
0
3
2
0
0
0
3
1
0
0
0
3
2
0
0
0
3
0
0
0
0
3
3
0
0
0
3
3
0
0
0
3
2
0
0
0
3
1
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
1
4
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
1
5
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
1
5
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
1
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
1
5
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
1
5
0
0
0
2
2
0
0
0
1
2
0
0
0
1
3
0
0
0
1
0
0
0
0
1
1
0
0
0
1
0
0
0
0
2
0
0
0
0
2
0
0
0
0
1
5
0
0
0
1
1
0
0
0
1
2
0
0
0
1
5
0
0
0
1
2
0
0
0
2
2
0
0
0
2
1
0
0
0
1
2
2
47
2
1
4
2
48
3
1
3
2
49
5
1
0
0
0
0
1
5
0
0
0
2
2
0
0
0
2
0
0
0
0
1
4
0
0
0
1
5
0
0
0
1
1
0
0
0
1
2
0
0
0
2
1
0
0
0
1
2
0
0
0
1
2
0
0
0
1
1
0
0
0
2
2
0
0
0
1
3
0
0
0
1
0
2
111
3
1
2
0
0
0
2
2
0
0
0
1
2
0
0
0
2
2
0
0
0
1
4
0
0
0
1
4
0
0
0
1
1
0
0
0
1
2
0
0
0
1
4
0
0
0
2
1
0
0
0
2
0
0
0
0
1
0
0
0
0
1
2
0
0
0
1
5
0
0
0
1
1
0
0
0
1
0
0
0
0
2
1
0
0
0
2
1
0
0
0
1
4
0
0
0
1
3
0
0
0
1
4
0
0
0
1
5
0
0
0
1
5
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
1
2
0
0
0
2
1
0
0
0
1
4
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
1
4
0
0
0
2
0
0
0
0
2
0
0
0
0
1
4
0
0
0
2
1
0
0
0
2
1
0
0
0
1
4
0
0
0
2
2
0
0
0
1
3
0
0
0
1
1
0
0
0
1
1
0
0
0
1
5
0
0
0
1
0
0
0
0
1
3
0
0
0
1
1
0
0
0
1
0
0
0
0
1
1
0
0
0
1
1
0
0
0
1
3
0
0
0
1
1
0
0
0
1
0
0
0
0
1
0
0
0
0
1
4
0
0
0
1
0
0
0
0
1
4
0
0
0
1
3
0
0
0
1
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
1
2
0
0
0
2
0
0
0
0
1
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
1
1
0
0
0
1
5
0
0
0
1
3
0
0
0
1
0
0
0
0
2
2
0
0
0
2
0
0
0
0
1
2
0
0
0
2
1
0
0
0
1
1
0
0
0
1
0
0
0
0
1
3
0
0
0
1
0
0
0
0
1
3
0
0
0
2
2
0
0
0
2
0
0
0
0
1
5
0
0
0
1
2
0
0
0
1
4
0
0
0
1
2
0
0
0
1
4
0
0
0
2
2
0
0
0
2
2
0
0
0
1
0
0
0
0
1
4
0
0
0
1
3
0
0
0
1
4
0
0
0
1
1
0
0
0
1
4
0
0
0
1
5
3
46
2
1
1
0
0
0
1
3
0
0
0
2
0
0
0
0
1
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
1
3
0
0
0
2
1
0
0
0
2
2
0
0
0
2
2
0
0
0
1
2
0
0
0
2
0
0
0
0
1
4
0
0
0
1
5
0
0
0
1
3
0
0
0
1
1
0
0
0
1
1
0
0
0
2
0
0
0
0
2
0
0
0
0
1
2
0
0
0
1
0
0
0
0
1
3
0
0
0
1
0
0
0
0
1
4
0
0
0
2
0
0
0
0
2
0
0
0
0
1
3
2
50
5
1
5
2
51
2
1
1
2
52
1
1
5
0
0
0
1
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
1
5
0
0
0
2
2
0
0
0
1
1
0
0
0
1
0
0
0
0
1
4
0
0
0
1
0
0
0
0
1
4
2
112
2
2
2
0
0
0
1
1
0
0
0
1
5
0
0
0
1
3
0
0
0
2
2
0
0
0
1
0
0
0
0
2
1
0
0
0
2
2
0
0
0
2
2
0
0
0
1
2
3
55
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
1
5
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
1
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
1
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
1
5
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
1
4
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
1
5
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
1
4
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
1
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
1
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
1
4
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
1
0
0
0
0
2
1
0
0
0
1
5
0
0
0
1
5
0
0
0
1
4
0
0
0
1
1
0
0
0
1
1
0
0
0
2
0
0
0
0
2
0
0
0
0
1
0
0
0
0
1
2
0
0
0
1
4
0
0
0
1
1
0
0
0
1
3
0
0
0
2
2
0
0
0
2
2
0
0
0
1
1
0
0
0
1
5
0
0
0
1
0
0
0
0
1
2
0
0
0
1
5
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
1
4
0
0
0
1
1
0
0
0
1
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
1
0
0
0
0
1
3
0
0
0
2
0
0
0
0
1
3
2
113
4
2
2
0
0
0
1
5
0
0
0
2
1
0
0
0
1
4
4
58
3
1
5
0
0
0
1
3
0
0
0
1
1
0
0
0
1
3
0
0
0
2
1
0
0
0
2
0
0
0
0
1
2
0
0
0
1
0
0
0
0
1
4
0
0
0
1
2
0
0
0
1
2
0
0
0
2
1
0
0
0
2
2
0
0
0
1
0
0
0
0
1
2
0
0
0
1
2
0
0
0
1
2
0
0
0
1
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
1
5
0
0
0
2
0
0
0
0
1
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
1
5
0
0
0
2
1
0
0
0
2
0
0
0
0
1
2
0
0
0
2
2
0
0
0
1
1
0
0
0
2
0
0
0
0
1
2
4
160
0
1
5
2
61
0
1
3
2
60
0
1
4
0
0
0
1
1
0
0
0
1
4
0
0
0
1
1
3
56
0
1
2
0
0
0
1
3
0
0
0
1
2
0
0
0
1
0
0
0
0
1
1
0
0
0
1
5
0
0
0
1
4
0
0
0
1
4
0
0
0
1
3
0
0
0
1
1
0
0
0
1
3
0
0
0
1
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
1
0
0
0
0
2
0
0
0
0
1
0
0
0
0
1
2
0
0
0
1
0
0
0
0
1
3
0
0
0
1
3
0
0
0
1
4
0
0
0
1
5
0
0
0
1
2
0
0
0
1
2
0
0
0
2
1
0
0
0
1
0
0
0
0
2
0
0
0
0
1
3
4
59
4
1
2
0
0
0
1
5
0
0
0
1
2
0
0
0
1
2
0
0
0
2
1
0
0
0
2
2
0
0
0
1
5
0
0
0
1
5
0
0
0
1
2
0
0
0
1
1
0
0
0
1
1
0
0
0
2
0
0
0
0
2
1
0
0
0
1
0
0
0
0
1
0
0
0
0
1
1
4
57
0
1
1
0
0
0
1
4
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
1
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
1
5
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
1
3
0
0
0
2
1
0
0
0
1
2
0
0
0
2
2
0
0
0
1
1
0
0
0
1
4
0
0
0
1
2
0
0
0
1
0
0
0
0
1
3
0
0
0
2
1
0
0
0
2
1
0
0
0
1
2
0
0
0
1
4
0
0
0
1
0
0
0
0
1
3
0
0
0
1
4
0
0
0
2
2
0
0
0
2
1
0
0
0
1
4
0
0
0
1
4
0
0
0
1
5
0
0
0
1
1
0
0
0
1
4
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
1
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
1
5
0
0
0
1
0
0
0
0
1
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
1
3
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
1
0
0
0
2
2
0
0
0
1
3
3
54
3
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
1
2
0
0
0
2
0
0
0
0
1
3
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
1
4
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
1
0
0
0
0
2
1
0
0
0
1
5
0
0
0
2
2
0
0
0
1
4
0
0
0
1
2
0
0
0
1
5
0
0
0
1
4
0
0
0
1
0
0
0
0
2
2
0
0
0
2
1
0
0
0
1
0
0
0
0
1
1
0
0
0
1
1
0
0
0
1
0
0
0
0
1
3
0
0
0
2
1
0
0
0
2
1
0
0
0
1
3
0
0
0
1
0
0
0
0
1
5
1
88
0
1
4
0
0
0
1
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
1
5
0
0
0
1
4
0
0
0
1
2
0
0
0
1
0
0
0
0
2
1
0
0
0
2
1
0
0
0
1
2
0
0
0
1
3
0
0
0
1
3
0
0
0
2
0
0
0
0
1
5
0
0
0
2
0
0
0
0
1
1
0
0
0
2
2
0
0
0
1
1
0
0
0
1
5
0
0
0
1
0
0
0
0
1
0
0
0
0
1
0
0
0
0
2
1
0
0
0
2
2
0
0
0
1
4
0
0
0
1
3
0
0
0
1
1
0
0
0
1
1
0
0
0
1
3
0
0
0
2
1
0
0
0
2
0
0
0
0
1
0
0
0
0
1
4
0
0
0
1
4
0
0
0
1
5
0
0
0
1
3
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
1
2
0
0
0
2
0
0
0
0
2
0
0
0
0
1
5
0
0
0
2
0
0
0
0
2
2
0
0
0
1
4
0
0
0
2
2
0
0
0
1
3
0
0
0
2
0
0
0
0
1
5
0
0
0
2
0
0
0
0
1
4
0
0
0
2
0
0
0
0
1
1
0
0
0
1
1
0
0
0
1
3
5
141
0
1
4
0
0
0
1
1
0
0
0
2
0
0
0
0
2
2
0
0
0
1
1
0
0
0
1
0
1
158
0
1
1
0
0
0
1
5
1
159
0
1
4
0
0
0
2
0
0
0
0
2
1
0
0
0
1
3
0
0
0
1
5
0
0
0
1
2
5
153
0
1
3
0
0
0
1
1
0
0
0
2
0
0
0
0
2
2
0
0
0
1
4
0
0
0
1
1
0
0
0
1
2
5
151
0
2
0
0
0
0
1
4
0
0
0
2
0
0
0
0
2
0
0
0
0
1
0
0
0
0
2
0
0
0
0
1
1
0
0
0
2
0
0
0
0
1
1
0
0
0
2
2
0
0
0
1
1
0
0
0
2
2
0
0
0
1
1
0
0
0
1
4
2
62
0
1
1
2
63
5
1
1
2
64
3
1
3
0
0
0
2
1
0
0
0
2
0
0
0
0
2
1
0
0
0
1
3
3
74
4
2
1
0
0
0
1
1
3
71
4
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
1
2
0
0
0
1
0
0
0
0
1
3
0
0
0
1
2
0
0
0
1
5
0
0
0
2
0
0
0
0
2
2
0
0
0
1
2
0
0
0
1
2
0
0
0
1
2
0
0
0
2
2
0
0
0
1
5
0
0
0
2
0
0
0
0
2
1
0
0
0
1
5
0
0
0
2
1
0
0
0
1
4
0
0
0
2
0
0
0
0
1
0
0
0
0
2
2
0
0
0
1
2
0
0
0
2
2
0
0
0
1
0
0
0
0
1
3
0
0
0
1
4
4
65
4
1
3
0
0
0
1
3
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
1
5
5
140
0
2
1
0
0
0
1
0
5
142
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
1
3
0
0
0
1
5
0
0
0
1
1
1
89
0
1
0
0
0
0
1
5
0
0
0
2
2
0
0
0
2
0
0
0
0
1
4
0
0
0
1
3
0
0
0
1
5
0
0
0
2
0
0
0
0
1
5
0
0
0
1
3
0
0
0
1
5
0
0
0
1
3
0
0
0
2
2
0
0
0
1
1
0
0
0
1
0
0
0
0
1
2
0
0
0
2
0
0
0
0
1
3
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
1
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
1
5
0
0
0
3
1
0
0
0
3
1
0
0
0
3
2
0
0
0
3
0
0
0
0
3
0
0
0
0
3
0
0
0
0
3
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
1
0
0
0
1
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
1
3
0
0
0
3
2
0
0
0
3
1
0
0
0
3
0
0
0
0
3
2
0
0
0
3
2
0
0
0
3
2
0
0
0
3
0
0
0
0
2
2
0
0
0
1
2
5
146
0
2
1
0
0
0
1
5
5
148
0
2
2
0
0
0
1
4
5
150
0
2
2
0
0
0
2
2
0
0
0
3
3
0
0
0
3
2
0
0
0
3
1
0
0
0
3
3
0
0
0
3
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
1
3
4
93
1
1
5
4
94
2
1
5
0
0
0
2
2
0
0
0
2
2
0
0
0
1
5
0
0
0
1
5
0
0
0
1
2
0
0
0
1
5
0
0
0
1
3
0
0
0
2
1
0
0
0
1
5
0
0
0
3
2
0
0
0
3
1
0
0
0
3
0
0
0
0
3
1
0
0
0
3
1
0
0
0
1
2
5
152
0
3
2
0
0
0
2
1
0
0
0
1
2
0
0
0
2
1
0
0
0
1
1
0
0
0
2
1
0
0
0
1
5
0
0
0
2
2
0
0
0
2
2
0
0
0
3
2
0
0
0
1
1
0
0
0
1
3
0
0
0
1
2
0
0
0
1
4
0
0
0
1
0
0
0
0
1
3
3
95
0
1
5
3
96
1
1
3
3
97
2
1
3
4
98
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
0
0
0
0
1
2
0
0
0
1
2
0
0
0
1
0
0
0
0
1
0
0
0
0
1
2
0
0
0
2
1
0
0
0
1
2
0
0
0
3
2
0
0
0
3
3
0
0
0
3
0
0
0
0
1
2
5
143
0
1
0
0
0
0
1
3
0
0
0
3
3
0
0
0
2
2
0
0
0
1
0
2
84
3
2
2
0
0
0
1
5
2
85
0
2
2
0
0
0
1
4
2
86
2
2
1
0
0
0
2
2
0
0
0
3
1
0
0
0
1
0
0
0
0
3
3
0
0
0
3
3
0
0
0
3
0
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
1
4
0
0
0
1
4
3
99
2
1
1
3
100
1
1
1
3
101
0
1
0
0
0
0
1
1
0
0
0
1
2
0
0
0
1
1
5
154
0
1
0
0
0
0
1
0
0
0
0
2
1
0
0
0
1
1
0
0
0
3
3
0
0
0
3
0
0
0
0
3
0
0
0
0
3
1
0
0
0
3
2
0
0
0
1
4
5
144
0
3
0
0
0
0
2
2
0
0
0
1
1
0
0
0
2
1
0
0
0
1
1
0
0
0
2
0
0
0
0
1
0
0
0
0
2
0
0
0
0
2
1
0
0
0
3
3
0
0
0
1
2
0
0
0
3
3
0
0
0
3
3
0
0
0
3
1
0
0
0
2
1
0
0
0
2
2
0
0
0
1
5
0
0
0
1
5
0
0
0
1
4
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
1
2
0
0
0
1
4
0
0
0
1
5
0
0
0
1
2
0
0
0
1
0
0
0
0
2
1
0
0
0
1
4
0
0
0
3
3
0
0
0
3
1
0
0
0
3
3
0
0
0
3
3
0
0
0
3
1
0
0
0
3
3
0
0
0
3
3
0
0
0
2
1
0
0
0
1
4
5
145
0
2
1
0
0
0
1
4
5
147
0
2
1
0
0
0
1
2
5
149
0
2
2
0
0
0
2
1
0
0
0
3
1
0
16
0
1
0
0
0
0
1
1
0
0
0
1
0
0
0
0
1
3
5
156
0
2
1
0
0
0
2
1
0
0
0
1
0
0
0
0
1
0
0
0
0
1
5
1
90
0
1
2
1
91
0
1
0
0
0
0
2
2
0
0
0
2
1
0
0
0
1
3
0
0
0
1
4
0
0
0
1
2
0
0
0
1
2
0
0
0
1
0
0
0
0
2
0
0
0
0
1
4
0
0
0
3
1
0
0
0
3
1
0
0
0
3
0
0
0
0
3
1
0
0
0
3
0
0
0
0
3
3
0
0
0
3
3
0
0
0
2
2
0
0
0
2
2
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
2
0
0
0
2
1
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
2
0
0
0
2
1
0
0
0
2
1
0
0
0
2
0
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
0
0
0
0
2
0
0
0
0
2
1
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
2
0
0
0
2
0
0
0
0
2
2
0
0
0
1
3
0
0
0
1
4
0
0
0
1
1
0
0
0
1
2
0
0
0
1
4
0
0
0
1
5
0
0
0
1
4
0
0
0
1
5
0
0
0
1
0
0
0
0
1
3
0
0
0
1
5
0
0
0
1
0
0
0
0
1
4
0
0
0
1
1
0
0
0
1
2
0
0
0
1
4
0
0
0
1
4
0
0
0
1
1
0
0
0
1
5
0
0
0
1
1
0
0
0
1
2
0
0
0
1
2
0
0
0
1
4
0
0
0
1
5
0
0
0
1
2
0
0
0
1
1
0
0
0
1
1
0
0
0
1
4
0
0
0
1
2
0
0
0
1
0
0
0
0
1
1
0
0
0
1
0
0
0
0
1
0
0
0
0
1
3
0
0
0
1
0
0
0
0
1
5
0
0
0
1
0
0
0
0
0
0
0
0
1
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
0
160
39
3

40
3

41
4

42
4

43
4

46
3

47
2

48
2

50
2

51
2

52
2

49
2

53
1
1,2
54
3

55
3

56
3

57
4

58
4

59
4

60
2

61
2

62
2

63
2

64
2

65
4

71
3

74
3

84
2

85
2

86
2

88
1
4,3
89
1
3,4
90
1
4,4
91
1
0,2
93
4

94
4

95
3

96
3

97
3

98
4

99
3

100
3

101
3

104
2

105
2

106
2

107
4

108
4

109
4

111
2

112
2

113
2

114
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

138
5
4:3
139
5
5:23
140
5
24:3
141
5
26:9
142
5
31:3
143
5
26:11
144
5
33:8
145
5
32:5
146
5
33:10
147
5
29:8
148
5
33:12
149
5
29:10
150
5
24:24
151
5
29:12
152
5
24:17
153
5
30:5
154
5
4:17
155
5
31:31
156
5
5:31
157
5
33:19
0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

0
0

158
1
3,0
159
1
4,0
160
4

</textarea> <br><br></td></tr></table><br>
<a name="989161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the replies :)<br>Thanks GfK, that's put me more on the right track... I was (and still am a bit :P ) a little unfamiliar with how BMax reads streams.<br><br>To go into more depth, my level file looks something like this...<br><br><pre class=code>
.....
.---.
.....
.....
-----
</pre><br><br>...where the '-' represents a block, '.' thin air, etc (and notice it's not comma delimited)<br><br>Sooo, what I need to do is be able to distinguish between the character types within the array to create the corresponding tile. I've been playing with it for a while, but no luck. <br><br></td></tr></table><br>
<a name="989170"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way I approach this is to create a save/load method/function within each type involved in the map and each cell may have several different types associated.  When saving the map I just have to call the associated save method, when loading I just call the load function.<br><br>If you're making a fairly simple game, then what you are doing above may work for you.<br><br>You could have constants that represent the different tiles<br><br><pre class=code>
const Tile_Block:int=1
const Tile_Air:int=2
</pre><br><br>Then save those values.  When loading you can use a Select<br><br><pre class=code>
Select LoadedTile
case Tile_Block
   ...
case Tile_Air
   ...
End Select
</pre> <br><br></td></tr></table><br>
<a name="989270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> this would work just how you want it Although I wouldn't do it that way.<br><pre class=code>
Function readGrid()
	Local file:TStream = OpenStream("game.txt")
	Local s:String
	For Local y:Int = 0 Until gridH
		
		For Local x:Int = 0 Until gridW
			s = ReadString(file,1)
			If s= Chr(13) s = ReadString(file,1)  'end of line
			If s= Chr(10) s = ReadString(file,1)  'carriage return
			If s ="." Then grid[x,y] = 0
			If s ="-" Then grid[x,y] = 1
		Next
		
	Next
	CloseStream(file)
	
End Function
</pre> <br><br></td></tr></table><br>
<a name="989285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to be able to edit/re-edit with notepad your data-level, you should save the map-data as a text file. Of course you need to know exactly how is its data structures.<br>Assuming this, you can load the entire level with LoadText(url) that is a little faster than openfile - readline loop - close file.<br><br><pre class=code>
Local txt:string=LoadText("gametext.txt")
for local line:string=Eachin txt.split("~n")
'every line 
next
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
