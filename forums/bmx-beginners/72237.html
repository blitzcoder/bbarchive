<!DOCTYPE html><html lang="en" ><head ><title >Get a Random Type</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Get a Random Type</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Get a Random Type</a><br><br>
<a name="807253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AD</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having trouble getting a random type member, I'm not sure how to do it, and the code I've got below doesn't work -- it keeps complaining that it can't convert to a string.<br><br>Ideally I want to pick a random type member and return the pointer to my game so I can use it.<br><br>ie;<br>i = Get_Random_Name<br>Print i.name$<br><br><pre class=code>
Rem
##############################################################

Global Name data

##############################################################
End Rem


Global global_name_list:TList=CreateList() 'To Store all the names

Type TNames
	Field name:String
	Field gender:String

	Function create(_name:String, _gender:String="male" )
		Local p:TNames = New TNames
		p.name$		= _name$
		p.gender$ 	= _gender$
		ListAddLast global_name_list, p
	End Function	
End Type

Function Get_Random_Name:TNames()
	Local member%=Rand(1,CountList(global_name_list))
	Local counter%=0
	For Local i:TNames=EachIn(global_name_list)
	 counter:+1
		If counter=member
			Return i
			Exit
		End If
	Next
End Function

Print Get_Random_Name:TNames()

' LOAD MALE NAMES -------------------------------------
RestoreData lbl_male_names

Repeat
	Local m_name:String 

	ReadData m_name
	If m_name = "end" Then 
		Exit
	Else
		ReadData m_name
		TNames.Create(m_name, "male")
	End If
Forever


' LOAD FEMALE NAMES ----------------------------------

RestoreData lbl_female_names

Repeat
	Local f_name:String 

	ReadData f_name
	If f_name = "end" Then 
		Exit
	Else
		ReadData f_name
		TNames.Create(f_name, "female")
	End If
Forever

' --------------------------------------

#lbl_male_names
DefData	"John"
DefData	"Francisco"
DefData	"Walter"
DefData	"Mike"
DefData	"Sanchez"
DefData	"Franz"
DefData	"Hector"
DefData	"Yuri"
DefData	"Jan"
DefData	"Jakob"
DefData	"Phelps"
DefData	"Carlos"
DefData	"Williams"
DefData	"Bolo"
DefData	"Mark"
DefData	"Bob"
DefData	"Fred"
DefData	"Bruce"
DefData	"Lee"
DefData	"Denis"
DefData	"Pablo"
DefData	"Escobar"
DefData	"Gray"
DefData	"Warren"
DefData	"Richard"
DefData	"Screwface"
DefData	"Hans"
DefData	"Roger"
DefData	"Gomez"
DefData	"Donald"
DefData	"Alan"
DefData	"Charlie"
DefData	"Ortega"
DefData	"Bush"
DefData	"Woo"
DefData	"Hill"
DefData	"Cortez"
DefData	"Forelli"
DefData	"Walters"
DefData	"Banner"
DefData	"Smith"
DefData	"Diaz"
DefData	"Chris"
DefData	"Lopez"
DefData	"Fedrov"
DefData	"Ben"
DefData	"White"
DefData	"Sosa"
DefData	"Paul"
DefData	"Mike"
DefData	"Ryan"
DefData	"Edu"
DefData	"Johnny"
DefData	"Jack"
DefData	"Liu"
DefData	"Zack"
DefData	"Chuck"
DefData	"Leong"
DefData	"Ying"
DefData	"Li"
DefData	"Adam"
DefData	"Bryan"
DefData	"Chin"
DefData	"Greg"
DefData	"Tim"
DefData	"Pete"
DefData	"Owen"
DefData	"Nick"
DefData	"George"
DefData	"Tyrone"
DefData	"Santana"
DefData	"Chan"
DefData	"Tommy"
DefData	"Montana"
DefData	"Rodriguez"
DefData	"Curtis"
DefData	"Warren"
DefData	"Tanaka"
DefData	"Benny"
DefData	"Demetri"
DefData	"Harrison"
DefData	"Chris"
DefData	"Hall"
DefData	"Stuart"
DefData	"Benedict"
DefData	"Arnold"
DefData	"Escobedo"
DefData	"Cory"
DefData	"James"
DefData	"Imran"
DefData	"Conners"
DefData	"Fernando"
DefData	"Kanaga"
DefData	"Charles"
DefData	"Fleming"
DefData	"Sean"
DefData	"Rodriguez"
DefData	"Orejuela"
DefData	"Cesar"
DefData	"Enrico"
DefData	"end"

#lbl_female_names
DefData	"Anna"
DefData	"Bianca"
DefData	"Camilla"
DefData	"Carina"
DefData	"Clarissa"
DefData	"Daniela"
DefData	"Donna"
DefData	"Emilia"
DefData	"Francesca"
DefData	"Gabriela"
DefData	"Gema"
DefData	"Gianna"
DefData	"Gina"
DefData	"Giovanna"
DefData	"Isabella"
DefData	"Jovanna"
DefData	"Lucia"
DefData	"Maria"
DefData	"Michele"
DefData	"Mila"
DefData	"Paola"
DefData	"Pia"
DefData	"Rosa"
DefData	"Rosetta"
DefData	"Speranza"
DefData	"Venecia"
DefData	"Eliza"
DefData	"Peggie"
DefData	"Ann"
DefData	"Natasha"
DefData	"Alice"
DefData	"Louise"
DefData	"Georgie"
DefData	"Annett"
DefData	"Teresa"
DefData	"Marisha"
DefData	"Katie"
DefData	"Yvette"
DefData	"Kandy"
DefData	"Blossom"
DefData	"Jenny"
DefData	"Tara"
DefData	"Emily"
DefData	"Emma"
DefData	"Madison"
DefData	"Abigail"
DefData	"Olivia"
DefData	"Isabella"
DefData	"Hannah"
DefData	"Samantha"
DefData	"Ava"
DefData	"Ashley"
DefData	"Lydia"
DefData	"Chloe"
DefData	"Donna"
DefData	"Dawn"
DefData	"Julie"
DefData	"Candy"
DefData	"Holly"
DefData	"Grace"
DefData	"Cassie"
DefData	"Jennifer"
DefData	"Ginger"
DefData	"Cassie"
DefData	"Tamara"
DefData	"Gloria"
DefData	"Lois"
DefData	"Jane"
DefData	"Cassandra"
DefData	"Maud"
DefData	"Felicia "
DefData	"Eleanor"
DefData	"Vanessa "
DefData	"Natasha "
DefData	"Jaclyn"
DefData	"Jade"
DefData	"Jax"
DefData	"Josie"
DefData	"Jodie"
DefData	"Lark"
DefData	"Lauren"
DefData	"Lyn"
DefData	"Abigail"
DefData	"Aiko"
DefData	"Audrey"
DefData	"Alex"
DefData	"Ally"
DefData	"Angelina"
DefData	"Angelica"
DefData	"Annie"
DefData	"Antoinette"
DefData	"Ashby"
DefData	"Azure"
DefData	"Haley"
DefData	"Harley"
DefData	"Hiroko"
DefData	"Hoshiko"
DefData	"Huong"
DefData	"Hilary"
DefData	"Harriet"
DefData	"end"
</pre> <br><br></td></tr></table><br>
<a name="807258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This line:<br><pre class=code>
Print Get_Random_Name:TNames()
</pre><br>shoud be:<br><pre class=code>
Print Get_Random_Name().Name
</pre><br><br>and to do this:<br>i = Get_Random_Name<br>Print i.name$<br><br>You should:<br><pre class=code>
Global i:TNames    'This can be changed to Local i:Tnames or whatever needed
I = Get_Random_Name()
Print I.Name
</pre><br><br>I highly recomend you to use SuperStrict always in your code, this will help you with this kind of issues <br><br></td></tr></table><br>
<a name="807300"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AD</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, its been months since I actually coded with Blitz Max , but I'm slowly making the transition...<br><br>Thank you very much for your help! <br><br></td></tr></table><br>
<a name="807303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AD</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your code worked fine -- I just had to ensure that the randomisation of a type member happened after it was initialised.<br><br>Thanks a lot! <br><br></td></tr></table><br>
<a name="807346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shouldn't gender be integer or boolean instead of string?<br><br>And going through the list looking for a random name is going to be slow with lots of names. An array <i>might</i> be better, depending upon what you want to do. <br><br></td></tr></table><br>
<a name="807544"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AD</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I only use the name once in initialisation. The names aren't randomised again.  <br><br>I tried gender:boolean, but it came up with an error. An integer would be better, yes.  <br><br>Yes, I thought an array would be better, as I'm using a similar method of getting data into the game a lot. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
