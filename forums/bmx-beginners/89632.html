<!DOCTYPE html><html lang="en" ><head ><title >Immutable vs. Other</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Immutable vs. Other</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Immutable vs. Other</a><br><br>
<a name="1018253"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can some of you smarter, younger,  programmers explain the rational behind having Immutable types?  Specifically, "Strings", or the new .NET BigInt type, or anything else?<br><br>Second, In BlitzMAX, does it use Immutable types?  Integer, Floats, Strings, custom, etc?<br><br>Third, as it relates to mathematical functions like the new .NET BigInt type, my old brain just can't get around why someone would waste months of programming effort, money, research, etc, on a type that is supposedly intended for use as a type that is going to be used multiple times, with values changing rapidly, and often, but it makes a completely new copy of itself everytime anything happens to it, as in add +1 to the value, you get a new copy of the old variable??? what????<br><br>Please help an old man!  LOL.  What is the reasoning behind this? <br><br></td></tr></table><br>
<a name="1018260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> All/most primitive types are immutable (in a sense, I suppose - I'm hesitant to categorize pointers or references as immutable).  Strings aren't exactly primitives, but we'll consider them as such.  Strings in BlitzMax are immutable, you cannot change them at runtime without doing things you're not supposed to be doing.<br><br>One particularly good reason for having immutable types is simply that they do not change.  What you put in will always be what you get out.  If you pass a string to a function, the function can't change that string.  It could create a new string that is a concatenation of the input string and something else or it could create an array with substrings of the input string, but it will never change the string you give it.  It's a guarantee that your data isn't going to change.<br><br>All types below Object other than String are mutable.  Arrays can have their elements changed, any field of any type you pass around can be changed, etc.  You can certainly treat a type as immutable, but there's no good way to implement this without access qualifiers, which BlitzMax does not (and probably never will) have.  Basically, a half-assed test for mutability is this: if you pass it to a function, will the value you passed in be different when the function returns?  Not the return value of the function, just what you gave it.  Saying an Int is mutable because you can use Int Var or Int Ptr doesn't make an Int mutable, by the way.<br><br>I don't know anything about the .NET BigInt type, so I'm going to ignore anything you've said about it, but I'm guessing it's immutable, which would be perfectly reasonable.  It's likely a number, and numbers never change, so it's obviously going to be immutable.  The sum of two numbers is a different number, it isn't "take the first number and change its value to be the sum."<br><br>Also, the other you're looking for is 'mutable.' <br><br></td></tr></table><br>
<a name="1018289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nilium, thanks for the response.  I do understand what your saying.<br><br>But...<br><br>As far as I'm aware the following data types are all mutable (other. :D) in possibly all languages (C, Basic, Pascal, etc.)<br><br>Byte, Integer, Float, Double, Char, Short, Long, basically any mathematical type.<br><br>If you have a integer A that equals 5 and you say a=a+1, it changes the original memory location of A, quick, painless, and effecient.<br><br>Also, your paragraph about functions... Functions already protect the original value of a variable.  If you don't specifically pass a argument (variable) ByReference, it will not, can not change.  (I'm sure there are exceptions, haha)<br><br>It is possible to do a BigNumber type that is mutable.  I guess I'm just confused as to why .NET (and probably others) decided to go the immutable route?  Is it easier in object oriented languages, or is it just the nature of Object Oriented languages?  The .NET version seems to be a continuation/restructuring of the failed Decimal type (which was immutable). <br><br></td></tr></table><br>
<a name="1018295"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Byte, Integer, Float, Double, Char, Short, Long, basically any mathematical type. <br></div><br>If these are immutable, then explain to me what is changing in this example:<br><br><pre class=code>Local temp:Int = 5
temp = temp + 5
</pre><br><br>Is the value changing or is the content of 'temp' changing?  You don't pass around 'temp' when you pass an integer to a function, you pass the value.  Can the value change?  No.  The integer is immutable.  The variable is mutable, it's a variable, the name alone should make it obvious.  But the value the variable contains can't change, it can only be replaced by another value.  Compare it to an object, when you set the value of a field.  The field has changed, meaning the object has changed.  The object is mutable.<br><br>Basically, you're wrong.  I already explained a decent enough reason for using immutable types in something like .NET, so that's all I can offer you.  If you can't comprehend the reason, simple as it is, I don't really know what to tell you (well, I do, but you won't like it). <br><br></td></tr></table><br>
<a name="1018308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, completely my fault, you are of course correct.  This is a case of symantecs and my not explaining myself very well.<br><br>Let me try to put this another way.<br><br>Internally, to the compiler and output code, in BlitzMax and C, if I have a variable X that is an integer, then the compiler creates one memory location for this variable.<br><br>Now if you do any math on that variable and it gets assigned a new value, (ie a=a+1), then the new value gets put into the original memory location.<br><br>No new memallocs are performed, no clean-up, etc.<br><br>This is what I was trying to explain as my definition of a mutable variable type.  The memory storage of that variable always exists as long as that variable is in scope.<br><br>Does that help everyone understand where I'm coming from.<br><br>On the contrary a immutable type variable is created and recreated over and over again each time the value changes.<br><br>Here is example lay-man code (from the compilers perspective) to illustrate fully what I'm trying to figure out, this first is mutable variables:<br><br>First some basic code:<br><br>1. X:int=0<br>2. X=X+1<br><br>Now the compilers intrepretation of this code as it is run:<br><br>1. I'm being told that I have to allocate a memory location of size Integer for a variable called X.  I call the system and tell it to give me a memory location, it tells me it's location is 1024.  I assign this memory location to equal 0.<br><br>2.  Now the user wants me to take variable X and add 1 to the current value.  I retrieve the current value from address location 1024, add 1 to that value and put the answer back into address location 1024.<br><br>Now the compilers intrepretation of a immutable variable.<br><br>1.  Same as before.<br><br>2.  First I get the value of the current memory location of variable X.  Internally I add 1 to this value.<br><br>   NOW I must create a new memory location for the new value.  I request a memory allocation from the system and assign that memory allocation to the new value and assign this to the NEW x.<br><br>  NOW I deallocate the OLD X.<br><br>  End of program.<br><br>See all the extra steps?<br><br>:) <br><br></td></tr></table><br>
<a name="1018322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> This is what I was trying to explain as my definition of a mutable variable type. <br></div>I think the problem is you're mistaken about what mutability in these sorts of discussions applies to.  Nobody cares about variables, variables are mutable.  Said, done, no discussion to be had, it's just not possible to have a variable that isn't variable.  An immutable variable would be a constant, if anything.<br><br>So what the compiler does about how the value is stored is entirely irrelevant, you're over-thinking it and definitely missing the point.  The mutability of data types is what you ought to be concerned with.<br><br><div class="quote"> Now the compilers intrepretation of a immutable variable. <br></div><br>The compiler has no concept of an immutable variable, it's illogical and impossible to have a variable that cannot be variable.  If you have something that looks like a variable, but it's not variable, then it's a constant.<br><br><div class="quote"> See all the extra steps? <br></div>The only thing I really see here is that you don't know what you're actually talking about, which is an impressive thing by itself.  Most people shut up when they don't know what they're talking about, but I don't, and you don't, so it's interesting in that respect.  My advice is that you let me be the idiot and you not make an idiot of yourself. <br><br></td></tr></table><br>
<a name="1018458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shortwind</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;+&lt;+[&gt;&gt;&gt;[-]&lt;[-]&lt;[&gt;+&gt;+&lt;&lt;-]&gt;&gt;[&lt;&lt;+&gt;&gt;-]&lt;[&gt;+++++++++++[&gt;++++++++&gt;++++++++++&gt;+++&gt;+++++++&gt;+++++++++&lt;&lt;&lt;&lt;&lt;-]&gt;+.&gt;+.++++++.---.&gt;-.&gt;.&gt;++.----.&lt;&lt;&lt;----.&gt;+.&gt;&gt;[-]&lt;[-]&lt;[-]&lt;[-]&lt;[-]&lt;+++++++++++++.---.[-]&lt;&lt;&lt;[-]&gt;[-]&gt;[-]]&lt;&lt;] <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
