<!DOCTYPE html><html lang="en" ><head ><title >Smooth tiled scrolling possible ?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Smooth tiled scrolling possible ?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Smooth tiled scrolling possible ?</a><br><br>
<a name="1038556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi !<br><br>i've discontinued my project long time ago. i never found a method to code a smooth vertical tiled 32x32 scrolling with bmax for my classic space vertical shooter game.<br><br>But today, do you know if somebody coded a bmax project with a nice tiled scrolling ? Just to know if it was possible !<br><br>i've stopped the project, in fact just for this design error... Lot of code for nothing !<br><br>Thanks ! <br><br></td></tr></table><br>
<a name="1038573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not really a waste, you can give me the the source code and I bet I can fix it. :)<br>Don't really know what the problem is but I bet I can find the solution but I need to look at the source code for that to run some tests of course. <br><br></td></tr></table><br>
<a name="1038634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> you can give me the the source code and I bet I can fix it <br></div><br>This is a huge project and difficult now to extract only the scrolling code. (Full game engine and editor with maxgui, also lot of graphics). <br><br>I've already do that :<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=84277#952979" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=84277#952979</a><br><br>and here :<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=71484#811003" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=71484#811003</a><br><br>so i want only know if somebody coded a bmax project with a nice tiled scrolling here... <br><br></td></tr></table><br>
<a name="1038645"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Smooth vertical scrolling is entirely possible in BlitzMax. <br><br></td></tr></table><br>
<a name="1038648"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> with 32x32 tiles (DirectX and OpenGL) ? Never see here. (except grey alien code, but his code isn't perfect). <br><br></td></tr></table><br>
<a name="1038661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What do you mean by smooth scrolling? How are you using the tile map exactly (backgrounds, animated tiles, etc.)? How is it not smooth (stuttering when you try to scroll, spacing between tiles, etc.)? If you can't share the code can you share a paired down visual example in screen capture movie?<br><br>Are you trying to load stuff on the fly to fill the map? are you recycling old tiles, and or old graphics? <br><br></td></tr></table><br>
<a name="1038665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> with 32x32 tiles (DirectX and OpenGL) ? Never see here.  <br></div><br>Well, I have a multi-threaded example running here using 256x256 tiles streaming direct from the internet into a disk cache, then being loaded into RAM by FreeImage and displaying when ready. The tiles are map data from openstreetmap, and the mouse scrolling is smooth as you like. No stutter... silky smooth :-) <br><br></td></tr></table><br>
<a name="1038674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's so difficult about:<br><br><pre class=code>
For local y:int=0 until height step 32
   For local x:int=0 until width step 32
      drawimage tile[x/32,y/32],x,y
   Next
Next
</pre><br>? <br><br></td></tr></table><br>
<a name="1038695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>What's so difficult about:<br> <br></div><br>there are different factors that affect the smoothness of a game as I have discovered. It is not the same to have a set of tiles and move them around than to have all the bells and whistles of a game in action. Being able to move objects, add and remove memory segments, fill the video buffer and clean it while the garbage collector is trying to do it's thing and while processes are running in the back ground, and the way graphics are loaded are some of the reasons why games stutter. smooth running "Shmups" are not that easy to create. they require a certain level of programming discipline that is not obviously noticeable. <br>One of the biggest obstacle to deal with are the random  access of the garbage collector. while not noticeable at first, as more and more holes are crated in ram by the garbage collector(by creating and removing explosions and bullets etc.), the more randomly longer it will take to allocate memory for in game use and will affect game performance. This is a problem of all languages with an automatic garbage collector. Just about all of this obstacles can be overcome d. the one I found impossible to deal with are the processes running in the back ground as no delta timing or any other timing process can absolutely solve it all of the time and is a problem related to all computer languages. <br><br>@hub<br>BlitzMax might be slightly less efficient at optimizing some code performance than some other computer languages but not enough to be so different that this language can be useless for your game. A rewrite of some of the game processes might be necessary before this problem can be resolved. It might also be as simple as loading the graphics with different flags settings. <br><br></td></tr></table><br>
<a name="1038706"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have one running with no smoothness problems.  Its entirely possible.<br><br>Caching particle/sprite type instances will help significantly with any GC issues. <br><br></td></tr></table><br>
<a name="1038715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I have one running with no smoothness problems. Its entirely possible.<br> <br></div><br><br>@skully.<br>Could i have your sample (.exe if you want) to test it on my computer ?<br>you can send it at (hubert.bayre@...)<br><br><div class="quote"> <br>It might also be as simple as loading the graphics with different flags settings <br></div><br>??? <br><br></td></tr></table><br>
<a name="1038732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It might also be as simple as loading the graphics with different flags settings  <br></div><br>I assume he refers to the DYNAMICIMAGE|MASKEDIMAGE flags but I'm not sure that would make any difference.<br><br>Hub,<br>I'll see if I get some time to do that for you.  Busy night ahead of me though so you might not see it until tomorrrow if I can today. <br><br></td></tr></table><br>
<a name="1038738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> i'm not sure too that these flags would make big difference...<br><br>Many thanks Skully. It's not very urgent. I've also a lot of work this week. (and the project is stopped for one year). <br><br></td></tr></table><br>
<a name="1038785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> they do make a lot of difference when moving a lot of images in and out of use. it may not be noticeable for a few images but for large quantity of images it is quite usefull. It also keeps the frame rate a bit more steady. <br><br></td></tr></table><br>
<a name="1038817"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> i've already do that. <br><br></td></tr></table><br>
<a name="1038865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> One way to avoid the garbage collector problem is to try not to keep allocating/freeing stuff. Just preallocate as much stuff as you can, use arrays instead of linked lists, and don't trash stuff when it's no longer needed, ie for a particle/sprite system just mark the sprites as dormant instead of deleting them. And recycle ;-D <br><br></td></tr></table><br>
<a name="1038872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Using a proper delta timing helps a lot too <br><br></td></tr></table><br>
<a name="1038902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> it is true that i use a lot of linked list into my game (for enemies movements, bullets, ...).. But this seems not to be the problem.<br><br>In game capture :<br><img src="http://www.bayre.com/retourzig/zig1.png"><br><br>The game editor : <br><img src="http://www.bayre.com/retourzig/zig2.png"> <br><br></td></tr></table><br>
<a name="1039853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> @skully.<br>Do you have a scrolling example as you work on your tileset editor ? <br><br></td></tr></table><br>
<a name="1039905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> hub,<br><br>I'm currently battling a white texture bug in TileMax so I can't show you anything recent... but I do have the <a href="http://sites.google.com/site/skullyproductions/Home/downloads/TileMaxPlusED.zip" target="_blank">TileMaxPlusEd</a> demo I put out ages ago<br><br>run fullscreen2<br>click the lower window to add atomatons<br><br>the other file is the editor.. <br>Its not a great editor but if you run it and do the following:<br>File - Load<br>Then click mouse mode to "Move"<br>click and drag the map<br><br>I wish I could give you something more recent. <br><br></td></tr></table><br>
<a name="1041001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for your démo. Have you also a fullscreen exemple ? <br><br>My screen resolution is 1440x900 px. I use 1024x768 screen resolution for graphics into my game. On my monitor, I play my game at 1440x900 px using the setvirtualresolution command. <br><br></td></tr></table><br>
<a name="1041348"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> it's all my project with sources and gfx. But huge archive, 37 mo. <br>- delete all the file inside the 'conf' folder to change resolution settings.<br>- lauch zigwigwi.exe to try the game.<br>- There is also the editor and a program transition to add cutt-scenes.<br><br>Link here : <a href="http://www.bayre.com/2010/zig2010.zip" target="_blank">http://www.bayre.com/2010/zig2010.zip</a><br><br>During game you can press 'g' to god mode. 'd' or 'm' for other infos. 'w' to win the level and pass to another level. <br><br>Edit editor.ini and set lang=0 to have english text inside the editor.<br><br>This version not finished ! So don't blame me about bugs and strange gfx ! <br><br></td></tr></table><br>
<a name="1041390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> if you are getting gaps in between your tiles you can set the scale to 1.05 or 1.1 or something unnoticable depending on your game.  other than that, I have never seen a problem with tile scrolling in bmax. <br><br></td></tr></table><br>
<a name="1041399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> what the... it's working fine here. moving smooth throughout the whole level. Nothing noticeable visible.<br>Moves between 62 and 63 fps and very seldom does it go below 62.<br><br>my laptop: Intel core 2 duo 2GHz with Intel 945 graphics. <br><br>if it works as smooth in your computer as it does here then you'll never be happy. I did change the flip to 1 to avoid tearing other than that it's working perfect as far as movement. I did notice artifacts in the tiles but that has to do with scaling and virtual graphics. I doubt there is a workable solution for that in any language and will be a problem scrolling in any direction. A possible solution would be if there was a way to paste all of the images in an actual size buffer then scale the finished buffer to fit the screen that would be ideal. Other than that, you are out of luck. <br><br></td></tr></table><br>
<a name="1041409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> Many thanks for your test ! So i can continue to work on this project (lot of gfx to produce and code to debug !) The game force the fps to 60. (There are some delta timing code inside but 'not' activated in this demo. it was too hard to fix problems for me). <br><br></td></tr></table><br>
<a name="1041413"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> I could be interesting for me if someone could try to compile zigwigwi.bmx and editor.bmx on Macintosh or Linux. Just to know if it works also on these OS. i'm just curious about this. <br><br></td></tr></table><br>
<a name="1041451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> re: Artifacting, tile gaps, etc, etc. The only solution is to run the game in a resolution that does not stretch or scale the game to the screen. This usually involves picking a resolution = or &gt; to the game's resolution and then centering the game on it.<br><br>Another thing I've done in the past, is take your original 32x32 tile map and render to (before each level, etc) larger tiles such as 256x256, etc, etc. This way the gaps/artifacting, etc, are much less visible. If you're doing realtime tile animation it can be tricky because you have to update the 32x32 tile inside the larger tile, but it all can be done. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
