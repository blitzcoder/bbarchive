<!DOCTYPE html><html lang="en" ><head ><title >I'm making an RPG, need help with collisions.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >I'm making an RPG, need help with collisions.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >I'm making an RPG, need help with collisions.</a><br><br>
<a name="887985"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zcbeaton</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey, I'm pretty new to BlitzMAX here. I started working on a simple "game" recently, a simple yellow rectangle that could be controlled using the arrow keys.<br><br>I've been learning BlitzMAX a bit more, and now I have it using sprites instead of a rectangle, and I added a tree.<br><br>I would like it so my character can walk around, but not THROUGH the tree. In pseudo-code I was expecting something like this:<br><br>If KeyDown(KEY_RIGHT)<br>   If !(TheTreeIsAt(x+1)) x:+1<br>EndIf<br><br>I'll post my BMX file if needed. <br><br></td></tr></table><br>
<a name="887993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll probably want to take a look at ImagesCollide. <br><br></td></tr></table><br>
<a name="888137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xMicky</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> still one of my favorites for collission checking topics:<br><br><a href="/posts.php?topic=66728#749817" target="_blank">Looking for rotated, scaled box collisions</a> <br><br></td></tr></table><br>
<a name="888238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zcbeaton</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> ImagesCollide looked like I wanted, but I want it so that rather than stopping you from moving further into the tree when you collide with it, but rather preventing you from walking any closer to a tree if that would cause a collision.<br><br>In other words, rather than smacking into a wall and unable to go any further, I'd like to stop before the wall because otherwise I will smack into it. <br><br></td></tr></table><br>
<a name="888254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this a grid-based game? <br><br></td></tr></table><br>
<a name="888279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Is this a grid-based game?  <br></div>Or in other words, a tile-based game.<br><br>If it is tile-based you need to add a 'walkable' variable to each tile, and a bounding area for each tile.<br><br>If the player tries to move onto a tile that is not walkable move him back to the last tile before flipping the changes to the screen. <br><br></td></tr></table><br>
<a name="888316"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Or in other words, a tile-based game. <br></div> It was on the tip of my tongue, but the word just alluded me :) <br><br></td></tr></table><br>
<a name="888522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't do this:<br><pre class=code>
If KeyDown(KEY_RIGHT)
If !(TheTreeIsAt(x+1)) x:+1
EndIf
</pre><br><br>do this:<br><pre class=code>
If KeyDown(KEY_RIGHT)
  MoveRight
EndIf

..

Method MoveRight() ' or a 'Function' if you're not using types
  ..
EndMethod
</pre><br>One well known programming style is to separate (G)UI from implementation. The advantage here is that some script can also move the player right by calling that Method or Function.<br><br>Btw, if this is your first game, first experience, first code, first whatever: know that probably all ppl here have zillions of RPG's/tilemapscrollers projects in their blitz directories. An RPG is not difficult because of its code (a raycasting engine requires more math skills than a classic/retro Zelda), but because of its vastness. <br><br></td></tr></table><br>
<a name="891006"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >zcbeaton</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all the help, and I apologise for this late reply. The game is not based on a grid, it is a free roaming game. I think I now see how I can make this work, so no problem there.<br><br>I'll use a method for moving right and design it so that if moving right caused the player to collide with the tree, it will simply move him back before refreshing the screen, and therefore he will not pass through the tree.<br><br>I'll try to code it later today. <br><br></td></tr></table><br>
<a name="891818"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Link</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> id have to say something like imagerectcollide.<br>try the example<br><a href="http://blitzbasic.com/b3ddocs/command.php?name=ImageRectCollide&amp;ref=goto" target="_blank">http://blitzbasic.com/b3ddocs/command.php?name=ImageRectCollide&amp;ref=goto</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
