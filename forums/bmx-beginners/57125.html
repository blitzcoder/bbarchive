<!DOCTYPE html><html lang="en" ><head ><title >Newbie questions!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Newbie questions!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Newbie questions!</a><br><br>
<a name="635113"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey all, I've got a couple, probably easy, questions. I'd be really happy if someone could help me answer them! :)<br><br><br>1) Getting one item from a list:<br>Say I have a list (balllist) with a lot of ball types (tball) in it. How can I, instead of looping through the entire list, get data from one item in the list? For instance getting ball.speed from one of the balls in balllist.<br><br>2) Scope within functions:<br>I have a lot of classes (types) for stuff such as ball, paddle, powerup etc. When I want to make a new ball for instance, I do 'Global ball:tball = New tball'. If I do this in a function though, for instance 'Function createball()', the ball variable is not seen anywhere outside the function. I realize this is working as intended, but how do I deal with it? <br><br></td></tr></table><br>
<a name="635116"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2)<br><br><pre class=code>
Function Createball:TBall(args)
  local a:TBall=new TBall
  ' initialize fields
  ' ..
  ' ..
  ' ..
  Return a
End Function

Local bla:TBall=Createball(args)
</pre> <br><br></td></tr></table><br>
<a name="635118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow, thanks CS_TBL, just what I was looking for :D<br><br>Any ideas on #1? <br><br></td></tr></table><br>
<a name="635120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I just tested your suggestions and it's not what I was looking for. You're still kind of creating the ball outside a function. I wish to create a ball inside a function, but want it's data and fields, eg. ball.fieldname, accessible everywhere outside the function. I want it truly global.<br><br>To paint a clearer picture:<br><br>2) I wish to have a function called gamestart() which does the following: creates a ball, creates a paddle and creates a powerup - which are accessible outside the function.<br>3) How do I check if a variable is set? <br><br></td></tr></table><br>
<a name="635121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> just make the variables global.<br><br>Global player:TBall = Createball()<br><br><br>as for the list thing<br><br>x:TBall = TBall(mylist.ValueAtIndex(23)) <br><br></td></tr></table><br>
<a name="635122"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diablo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2)<br>global ball:tball<br>global paddel:tpaddel<br>global powerups:tpowerup[]<br><br><br>function gamestart()<br><br>ball = tball.create()<br>paddel = tpaddel.create()<br>powerups = createpowerups() ' return an array<br><br>end function<br><br>1) look up LINKS(TLINK) and type casting.<br><br>i cant help much i'm not at MY computer. <br><br></td></tr></table><br>
<a name="635136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> kronholm: Maybe this next suggestion is way ahead your current interests yet, but why everything global?<br><br>If ball, paddle, power etc. need to be global "within your game", I'd rather put them all in a type, a "gametype" and make that single instance a 'global' then, actually a Local in the mainloop is enough.. I'm as usual a bit worried about too many globals.. :P<br><br><pre class=code>
Type TGame
  Field Ball:TBall
  Field Paddle:TPaddle
  Field Powerup:TPowerup

  Method New()
    Ball=CreateBall()
    Paddle=CreatePaddle()
    Powerup=CreatePowerup()
  End Method

  Method CreateBall:TBall()
  End Method

  Method CreatePaddle:TPaddle()
  End Method

  Method CreatePowerup:TPowerup()
  End Method

  Method GameAI()
  End Method

  Method UpdateGame()
  End Method

..

..

..

etc.

End Type

local MyGame:TGame=New TGame
</pre><br><br>Sofar you might think 'hey, that's 1000x more code than just typing "Global". The benefits will come when you'd do a 2-player game with 2 seperate windows orso.<br><br><pre class=code>
Local player:TGame[2]
player[0]=New TGame
player[1]=New TGame
</pre><br><br>tadaaa.. 2 games at the same time!<br><br>Ahwell, let's not rush things.. ignore it ^_^ <br><br></td></tr></table><br>
<a name="635285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks TBL but it's still not what I'm looking for :)<br><br>I want to be able to create a ball within a function called newgame(), and have that ball be referenced anywhere outside of the scope of that function.<br><br>Can anyone help me with my other questions? How to check if a variable is set/defined, and how to get a reference to an item in a list assigned to a variable, but without having to loop through the list. The example above with the list worked, but once that item was removed from the list, the game would crash. <br><br></td></tr></table><br>
<a name="635286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can not get data from a linked list without looping.<br>Use TMap instead and unique names for the object, then you can get the object by name.<br><br>On the "reference outside everywhere": Set the ball global to the type instead of field. now you can use type.ball to reference it after you used the newgame function/method (within the type) <br><br></td></tr></table><br>
<a name="635296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >VP</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> #1) if you need to access one item from a linked list, you've done something wrong at the design stage.<br><br>Take 5 steps back, drink a hot beverage of your choice, stare out of the window for 10 minutes and then start again, but with pencil and paper first!<br><br>I fell into the same problem myself and couldn't see a way past it, until I did the above. <br><br></td></tr></table><br>
<a name="635327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora:<br>Can you perhaps elaborate with an example? I don't understand what you mean by setting the ball global to the type instead of field..<br><br>Vinylpusher: <br>When I'm making all my balls, I'm putting them in a balllist. At some point in time I need to get some data, e.g. ball.speed and ball.x and ball.y from a ball in the list, it doesn't really matter which. This is where I wish to avoid looping through everything. I've looked at it plenty from afar and I can't really think of a solution :( <br><br></td></tr></table><br>
<a name="635335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Type Instance<br>  global ball:TBall<br>  ...<br>end type<br><br>You can access it from anywhere using Instance.ball<br>This ball is the same to all object of type Instance (so even with 10 objects, you have only 1 ball) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
