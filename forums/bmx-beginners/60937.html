<!DOCTYPE html><html lang="en" ><head ><title >Wrapper needed for SIDplay2</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Wrapper needed for SIDplay2</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Wrapper needed for SIDplay2</a><br><br>
<a name="680157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would someone please write a wrapper for the libsidplay2.dll included in the package that can be downloaded from the following page:<br><br><a href="http://www.gsldata.se/c64/spw/" target="_blank">http://www.gsldata.se/c64/spw/</a><br><br>It would really be nice to be able to use some of the many tunes written for the old SID chip.<br><br>I have no idea about how to go about it or I would have tried myself. <br><br></td></tr></table><br>
<a name="680193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wasn't it Tracer who made a SIDplayer for B3D but<br>never released the source due to some minor bugs ?<br>Maybe it's time for another go ?<br><br>I'd love to see this one too, gotta love old SID's ! :o) <br><br></td></tr></table><br>
<a name="680208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Zawran,<br><br>I asked a while ago but no one was really interested in helping (and my c/c++ are not the best).<br><br>Personally I would be willing to pay (or offer other incentives) for some kind person to take a look!! <br><br></td></tr></table><br>
<a name="680247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, Tracer started on that a long time ago.<br><br>We need SID support! <br><br></td></tr></table><br>
<a name="680260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Personally I would be willing to pay (or offer other incentives) for some kind person to take a look!! <br></div>Other incentives eh? Sounds rather dodgey to me.<br><br>Without having given either a particularly close look, I would imagine the biggest challenge being getting Sidplay to play well (no pun intended) with freeaudio. <br><br></td></tr></table><br>
<a name="680265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TartanTangerine (was Indiepath)</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> $$ How much? <br><br></td></tr></table><br>
<a name="680292"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Other incentives eh? Sounds rather dodgey to me. <br></div><br>I'd be willing to offer a free copy of my IDE once it's finished<br><br>or<br><br><div class="quote"> $$ How much? <br></div><br>up to about 20$US<br><br><br>If anyone wishes to start - here is the source and homepage:<br><br><a href="http://www.projectstudioide.com/files/sidplay-libs-2.1.1.zip" target="_blank">http://www.projectstudioide.com/files/sidplay-libs-2.1.1.zip</a><br><br><a href="http://sourceforge.net/project/showfiles.php?group_id=9266" target="_blank">http://sourceforge.net/project/showfiles.php?group_id=9266</a> <br><br></td></tr></table><br>
<a name="680355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldn't mind paying US$20 as well. I only need it for commercial use only small free projects which is written for the fun of it. But I really like the sound of the SID tunes, so I am willing to pay up :) <br><br></td></tr></table><br>
<a name="681217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> No one game to take a crack??? <br><br></td></tr></table><br>
<a name="681245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive taken a look into this.  i think the big problem with people attempting this is just getting libsidplay compiled to work with gcc.  i was able to finally get a lib and DLL compiled via Dev-CPP by getting the current CVS snapshot and then tweaking a few files.  the way the source is setup though, im having a problem creating an instance of the sidplay2 class.  ill take a few more shots and call it quits. <br><br></td></tr></table><br>
<a name="681406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> gman - out of everyone here, you were probably the one I was really hoping!!!  thanks for taking a look! <br><br></td></tr></table><br>
<a name="681418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx for the kind words :)  dont get your hopes up but im making some progress...  i now have an instance of the player.  working on getting an instance of SidTune.  if i cant work it all out i think i can just write a C interface and wrap it similar to how i did Irrlicht. <br><br></td></tr></table><br>
<a name="681450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> quick update:  i have instances of both sidplay2 and SidTune.  i also have most of the important methods wrapped for each.  i can successfully load a SID and set the different songs in it, but i cant get it to play yet.  i think i need to do some things with something called the ReSIDBuilder.  still not sure i can get this running.  stopping for the night and will look again tomorrow evening. <br><br></td></tr></table><br>
<a name="681452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> excellent stuff gman!<br><br>The forums here: <a href="http://sourceforge.net/forum/?group_id=9266" target="_blank">http://sourceforge.net/forum/?group_id=9266</a> may help you work it out.<br><br>I would imagine the hardest part would be hooking it into the blitz sound system - perhaps a seperate hook into DirectX might be required.<br><br><br>Edit: Check your email gman. <br><br></td></tr></table><br>
<a name="681493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you for looking into this gman, I really appreciate it. If you have a paypal account I will donate some money to it, if you get it to work. <br><br></td></tr></table><br>
<a name="681504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> GMan, your're great! <br><br></td></tr></table><br>
<a name="683458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> thought id give a little update.  i have most of the pieces working.  unfortunately i need one more class to make it all work called ReSIDBuilder.  unfortunately i have not been able to compile it after several attempts.  im pretty confident that if i could just get that compiled i could get it in another night.  bah!  grrrrr :/ <br><br></td></tr></table><br>
<a name="683560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you a lot for trying, I really appreciate it greatly. <br><br></td></tr></table><br>
<a name="683769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> i have posted my compile problem to the libsidplay forum.  if i dont get a response in a few days i will try to contact the author directly.  i was looking at the code for the module i cant compile and noticed that there were several recent changes (ie end of june).  this is good meaning it is still in active development, but i think that not all files have been submitted.  this explains the missing class templates that is currently preventing me from compiling.  the author seems very helpful in other posts so im pretty confident he will be able/willing to assist.  i will keep you updated. <br><br></td></tr></table><br>
<a name="685164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok kids...  i can tell you that i have successfully played back a SID file in BlitzMax.  i need some time to take what i have and mold it into a real mod, but it looks like at least in windows, this mod is going to get done.  not sure about Mac/Linux yet. <br><br></td></tr></table><br>
<a name="685179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeeeppeeeeeeeee !<br>Love SID, and love gman too right now :oD<br><br>:)<br>:)<br>:) <br><br></td></tr></table><br>
<a name="685182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds great, thanks for your work on this. I am looking forward to trying it out. You work is appreciated. <br><br></td></tr></table><br>
<a name="685184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> gman - well done!  you rock fella! <br><br></td></tr></table><br>
<a name="685481"></a>

<a name="1187891"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> here we go:<br><br><a href="http://www.gprogs.com/viewforum.php?id=15" target="_blank">http://www.gprogs.com/viewforum.php?id=15</a><br><br>there is no source yet.  im trying to figure out how i need to do that.  one very, very, very important thing to note is that this mod is forced to be GPL since libsidplay2 is GPL.  this means that any project including it has to be GPL also and thus opensource.<br><br>there is an install.txt file with the distro.  probably not as detailed as it needs to be.  will work on that later.  there will also soon be a section on my forum for this as well.<br><br>download a SID and have fun!<br><br>EDIT: i have updated with a new version that uses BlitzMax streams for file loading.  this allows loading a SID from anywhere BlitzMax can open a stream including incbin and URLs. <br><br></td></tr></table><br>
<a name="685485"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> gman,<br><br>Awesome stuff - it works great!!! <br><br>One question - can we incbin the sids? <br><br></td></tr></table><br>
<a name="685496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx matt :)  its not in this version but i do have loading from an incbin working now. <br><br></td></tr></table><br>
<a name="685505"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Alienforce</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow! Gman, You are the man! <br><br></td></tr></table><br>
<a name="685541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow, I am really looking forward to get home and try this out. Thanks once again for your work. Do you have a paypal account where I could make a donation for the work done? <br><br></td></tr></table><br>
<a name="685555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> thx for the kinds words all :)  hopefully it works out for everyone.  im still trying to figure out how i need to package the source since this is my first GPL mod...  not sure right now if i need to include all the source for the libs too (since i had to make a couple of minor changes) or what.  anyways, it doesnt affect the ability to use it so its not a terribly high priority.<br><br>an FYI...  i uploaded a new version this morning.  this version uses BlitzMax for SID file loading so the mod now has the benefit of the very flexible BlitzMax stream system.<br><br><a href="http://www.gprogs.com/forum/viewforum.php?id=15" target="_blank">http://www.gprogs.com/forum/viewforum.php?id=15</a><br><br>as for donations, i really dont advertise it but due to high demand i did finally add a donate link to the menu on my forums. <br><br></td></tr></table><br>
<a name="685665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah it works :)<br><br>One question so far, how come the libsidplay.dll that is in the package is 1.2mb, then the libsidplay2.dll is only 136kb ? I have no knowledge about dll files, but was there a reason why libsidplay2.dll couldn't be used instead of libsidplay.dll? <br><br></td></tr></table><br>
<a name="685672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> glad to hear :)<br><br>as for the size, i would assume its due to how Dev-CPP is compiling the DLL.  it may be linking in some uneeded libraries so i will see if i can check the project and trim anything.  libsidplay2.dll definately will not work as the current codebase from CVS which the new Dev-CPP DLL is built from is different that the of the current VC build of the DLL.   i may see if i can compile the DLL under VC and get the proper exports needed.  one last thing that will probably work is a simple EXE packer on the DLL.  that would probably chop it down to roughly the same size if it doesnt break it. <br><br></td></tr></table><br>
<a name="685867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#32">[#32]</a></td></tr></table></td></tr><tr ><td class="posttext"> Woah ! It works yes :o)<br><br>Now we need a way to autodetect the lenght of the tune<br>and some way to do a fast forward...<br><br>Is it in any way possible to do loops the same way<br>sid's are played originally ?<br><br>Your work so far is highly apreciated :D <br><br></td></tr></table><br>
<a name="685892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#33">[#33]</a></td></tr></table></td></tr><tr ><td class="posttext"> @wedoe - currently there is no way for libsidplay to detect the length of a song inside the SID.  there is a utility addon that creates a sort of SID database with lengths, but you still have to create the database by typing in the tune and its length.  there is an interface there for song length, so hopefully the author will at some point put that in.  as for looping, i assume you just mean looping the sample endlessly?  LoadSIDSample returns a standard BlitzMax TAudioSample.  you pass that into LoadSound which has a looping parameter.  pass true to that and it will loop endlessly.  dont have the sample i put into the doc with me, but i believe it has the looping parameter passed in.  same goes for pause and fastforward.  if the BMAX audio features contain those, you should be able to use them on the sound returned by loadsound or the channel returned by playsound.<br><br>@zawran - donation was much appreciated :)  i tried compressing the DLL and it kills it unfortunately.  im working on putting something into the VC build of the DLL that will give the proper exports for MingW.  im hopefull that i will have a much smaller library for you soon.<br><br>@everyone - in addition to smaller DLL size, im also working a bit on streaming the song instead of loading the sample first and then playing it.  this should heavily decrease load times if i can get it to work. <br><br></td></tr></table><br>
<a name="685900"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#34">[#34]</a></td></tr></table></td></tr><tr ><td class="posttext"> HVSC comes with a database of SID lengths.<br><br>Ah, i was going to ask what was with the long pause at the start, so it has to create a load of samples in memory at the start? <br><br></td></tr></table><br>
<a name="685903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#35">[#35]</a></td></tr></table></td></tr><tr ><td class="posttext"> @smilertoo - yes the sidplayer has to process the SID information before BMAX can use it. as it processes, it writes the bytes to a BMAX audio sample.  i did not see a way i could get streaming to work until i saw a possibility right before i went to bed last night.  if i can get the streaming to work, as bytes are requested from the stream the sidplayer will process on the fly and send back the bytes.<br><br>didnt know about HVSC:<br><br><a href="http://www.hvsc.c64.org" target="_blank">http://www.hvsc.c64.org</a> <br><br></td></tr></table><br>
<a name="685904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#36">[#36]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for explaining answer :o)<br><br>I was just thinking of making my own SID-player with<br>my favourite tunes. Then it would be possible to add a<br>lot of cool stuff if I could play it the same way that<br>the C64 did in it's time (one loop pr/60th of a second)<br><br>It would require the chip itself emulated, not the sounds.<br><br>I have no idea how the original Sidplayer does emulate<br>the SID-sound so I might be gullible about the possibilities<br>here.... ;) <br><br></td></tr></table><br>
<a name="686099"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#37">[#37]</a></td></tr></table></td></tr><tr ><td class="posttext"> i give on the reduced DLL size.  UPX didnt work for compression and when using the exports from the VC-built DLL i can call the C functions, but i get weird crashes and return values.<br><br>i also give on the streaming.  i was misreading and the stock BMAX audio does not stream.  from what ive read the FMOD module does.  for now though, im calling this mod good.  im going to clean up the release and put all the source out.<br><br>enjoy :) <br><br></td></tr></table><br>
<a name="686107"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#38">[#38]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could do the streaming with maxmod :)<br><br>As custom streams aren't documented yet heres a lil example of how to do it... (done in linux, so excuse the tabbing)<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict 
Framework BRL.GLMax2D 
Import MaxMod.Common

Graphics 800,600,0 

MaxMod_Init()

Type SIDStream Extends MaxMod_Stream

	Function Load:SIDStream(File:Object)
	
		Local This:SIDStream = New SIDStream
		Local channels = 2
		'This.samples 		= NumOfSamples		' size of the stream if known
		This.Sample_Rate 	= 44100						' set sample rate
		'This.Stream_Size	= NumOfSamples*2*channels	' set size of stream in bytes if known
		If channels=1 This.STREAM_FORMAT=AL_FORMAT_MONO16 Else This.STREAM_FORMAT=AL_FORMAT_STEREO16

		Return This
		
	EndFunction

	' this method gets called when the buffer needs filling
	Method FillBuffer(BufferIndex) 
		' example of a Stereo16 routine
		Global count
		Local n1,p
		Local sampleptr:Short Ptr = Short Ptr(bufptr[BufferIndex])	' (note: use a byte ptr if in 8 bit mode)
		For n1=0 Until STREAM_BUFFER_SIZE/4	' do each sample (/4 for stereo16, /2 for mono16)
			sampleptr[p] = Cos(count)*32767			' Feed left channel
			sampleptr[p+1] = Cos(count)*32767	' Feed right channel
			count:+1
			p:+2
		Next
	EndMethod

EndType

Local Music:SIDStream = SIDStream.Load("")

Music.Play()

Local Pitch# = 1
Repeat 

	Cls 
	DrawText "  ESCAPE = Exit",5,5
	DrawText "   SPACE = Play",5,20
	DrawText "       S = Stop",5,35
	DrawText "       P = Pause",5,50
	DrawText " UP/DOWN = Pitch",5,65
	
	DrawText "POSITION = "+Music.Geti(MM_POSITION),5,95
	DrawText "  LENGTH = "+Music.Geti(MM_LENGTH),5,110
	DrawText "   PITCH = "+Pitch,5,125
	DrawText "   HERTZ = "+Music.Geti(MM_SAMPLERATE),5,140

	If KeyHit(KEY_S) 	 Then Music.Stop
	If KeyHit(KEY_SPACE) Then Music.Play
	If KeyHit(KEY_P) 	 Then Music.Pause
	If KeyDown(KEY_UP)	 Then Pitch:+0.001 ; Music.Setf(MM_PITCH, Pitch)
	If KeyDown(KEY_DOWN) Then Pitch:-0.001 ; Music.Setf(MM_PITCH, Pitch)

	Flip True
	
Until KeyDown(KEY_ESCAPE) 
Music.Free
End
</textarea><br><br>(BTW, if you want access to the source code, it can be arranged ;) ) <br><br></td></tr></table><br>
<a name="686162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#39">[#39]</a></td></tr></table></td></tr><tr ><td class="posttext"> greetings REDi :)  i have downloaded the MaxMod um mod, and will take a look tonight.  if i cant get it working based on your sample code i will hit you up for more info.<br><br>on a side note, code for the SIDPlay mod should be released sometime tonight.  will probably be pretty late. <br><br></td></tr></table><br>
<a name="686844"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#40">[#40]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anything new gman ? <br><br></td></tr></table><br>
<a name="686861"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#41">[#41]</a></td></tr></table></td></tr><tr ><td class="posttext"> i havent been able to get MaxMod to work for me at all unfortunately.  i cant get sound from the sample the distribution comes with.  i have yet to contact REDi about what might be wrong.<br><br>EDIT: i found the fix on his forums.  i removed the OpenAL DLL distributed with the demo and downloaded/installed an OpenAL distribution from REDi's website.  i can now try to get SID going. <br><br></td></tr></table><br>
<a name="686863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#42">[#42]</a></td></tr></table></td></tr><tr ><td class="posttext"> huh.  that was quick :)  i now have a streaming SID through MaxMod!  nice interface REDi :)  ill see if i can get around to packaging this up. <br><br></td></tr></table><br>
<a name="686872"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#43">[#43]</a></td></tr></table></td></tr><tr ><td class="posttext"> Excellent work gman, cant wait to listen to some sids :)<br><br>I'll remove the dll from the download next update.<br><br>would you be interested in adding it to maxmod as a player module? fully credited of course :) <br><br></td></tr></table><br>
<a name="686880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#44">[#44]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm guessing the streaming version will also use a lot less ram? <br><br></td></tr></table><br>
<a name="686887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#45">[#45]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.  the full download is now at:<br><br><a href="http://www.gprogs.com/forum/viewforum.php?id=15" target="_blank">http://www.gprogs.com/forum/viewforum.php?id=15</a><br><br>there are a few noted differences:<br><br>first, i liked the design of the maxmod distro so i redisgned the layout of the SID mods.  there are now 3 mods all under the parent SID mod.  i broke out the FreeAudio sample loader, the MaxMod stream loader, and the libsidplay2 wrapper into their own mods.  <br><br>NOTE: please remove the gg.mod/sidplay.mod folder!<br><br>second, the streaming version has a few features the sample version doesnt.  the streaming version can switch the track its playing.  you can get a total track count and see what track is currently being played.  check the docs for more info.<br><br>enjoy folks :)  this has been a lot of fun.  boy do i love playing the ultima 3 SID :)<br><br>@REDi - first, thx for MaxMod!  very cool.  second, i thought of that distro method (i even had an email in progress to you about it), but then i would be splitting where the SID mods come from.  at this point, id like to keep it all together.<br><br>@smilertoo - in theory yes.  i havent tested it.  if you use the stream it doesnt require processing the full track into memory first.  this should save a lot of memory and also it allows you to start playing a track almost immediately...  low load times since only the SID file itself has be be loaded into memory. <br><br></td></tr></table><br>
<a name="686890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#46">[#46]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds great gman, plays thing_on_a_spring.sid perfect!<br><br>*EDIT*<br>To make things a bit simpler, you could move the *.a files from the LIBS folder and put them in sidplay.mod, and change the import to...<br><pre class=code>Import "libsidplay.a"
Import "libresid_builder.a"</pre><br>I dont really like putting things in BlitzMax/lib folder.<br><br>I've tried about 6 sids so far and all have played very well! <br><br></td></tr></table><br>
<a name="686992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#47">[#47]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everything compiles fine here - but no sound for the streaming version.  Tested on two PCs <br><br></td></tr></table><br>
<a name="686997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#48">[#48]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Matt - did you use the OpenAL DLL from the original maxmod download or did you use the installer?<br><br><a href="http://redi.me.uk/downloads/openalweax.rar" target="_blank">http://redi.me.uk/downloads/openalweax.rar</a><br><br>the DLL that comes with MaxMod has issues.  remove it, and install the above.  hopefully that will resolve your issue (it did me). <br><br></td></tr></table><br>
<a name="687054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#49">[#49]</a></td></tr></table></td></tr><tr ><td class="posttext"> gman,<br><br>Thanks - that did the trick!  You've done a great job! <br><br></td></tr></table><br>
<a name="687059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#50">[#50]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works great. <br><br></td></tr></table><br>
<a name="687067"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#51">[#51]</a></td></tr></table></td></tr><tr ><td class="posttext"> glad its working out for everyone :)  thx to all for the support to make it happen!<br><br>EDIT: i now have a forum for the SID mods with the downloads available:<br><br><a href="http://www.gprogs.com/forum/viewforum.php?id=15" target="_blank">http://www.gprogs.com/forum/viewforum.php?id=15</a> <br><br></td></tr></table><br>
<a name="687520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#52">[#52]</a></td></tr></table></td></tr><tr ><td class="posttext"> Big smile :D <br><br></td></tr></table><br>
<a name="693279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#53">[#53]</a></td></tr></table></td></tr><tr ><td class="posttext"> FYI, i learned a new trick with DevCPP today that allowed me to half the DLL size so i repackaged the distro with a new DLL:<br><br><a href="http://www.gprogs.com/forum/viewforum.php?id=15" target="_blank">http://www.gprogs.com/forum/viewforum.php?id=15</a><br><br>enjoy :)<br><br>NOTE: i am getting into RSS feeds to keep people updated.  you will need to have an RSS reader in order to get the updates.  Opera has one built-in.  FireFox has an extension available.  there is a link in the SID forum description you can use to subscribe.  once subscribed, you will receive notifications via the RSS reader when i update stuff.  this means you dont have to keep checking the website :) <br><br></td></tr></table><br>
<a name="693327"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#54">[#54]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks GMan! <br><br></td></tr></table><br>
<a name="693363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DannyD</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#55">[#55]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is Windows only right ? <br><br></td></tr></table><br>
<a name="693364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >smilertoo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#56">[#56]</a></td></tr></table></td></tr><tr ><td class="posttext"> meep <br><br></td></tr></table><br>
<a name="693390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#57">[#57]</a></td></tr></table></td></tr><tr ><td class="posttext"> @DannyD - correct.  windows only right now.  at some point in the future i may give the other OS a whirl. <br><br></td></tr></table><br>
<a name="693442"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#58">[#58]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> FYI, i learned a new trick with DevCPP today that allowed me to half the DLL size so i repackaged the distro with a new DLL: <br></div><br><br>Another trick: Since a DLL really isn't much more than a fancy .EXE, you can reduce their size even further by using UPX to compress them as well.<br><br>For example:<br><br>libsidplay.dll: 523,776 -&gt; 165,376  (31.57% of original size)<br>resid_builder.dll: 605,988 -&gt; 173,348 (28.61% of original size)<br>libsidplay.dll (2nd version in your package) 1,209,550 -&gt; 568,526 (47% of original size)<br><br>As you can see, a significant difference. <br><br></td></tr></table><br>
<a name="693478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#59">[#59]</a></td></tr></table></td></tr><tr ><td class="posttext"> @xlsior - i tried UPX but could not get it to compress without the DLL crashing with a c0000005 at runtime.  what options are you using on UPX?<br><br>EDIT: i just tried it again on the latest release with the same result.  this is the june 6th UPX release.  tried with and without --compress-exports=0. <br><br></td></tr></table><br>
<a name="705060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#60">[#60]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everyone,<br><br>gman has updated the sidplay mod for REDi's 1.12 version of MaxMod for streaming - get it at his site.  The benefit of this version is you don't need the openal installer anymore.<br><br><a href="http://www.gprogs.com/forum/index.php" target="_blank">http://www.gprogs.com/forum/index.php</a><br><br>Thanks gman! <br><br></td></tr></table><br>
<a name="705118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >deps</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#61">[#61]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works great! <br><br></td></tr></table><br>
<a name="720306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#62">[#62]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a fantastic mod. I've been after something like this for years as I love the old C64 music and I've wanted to write my own sid player interface that does what I want for ages but I'm not at the level to do stuff like this as yet.<br><br>Thanks, gman <br><br></td></tr></table><br>
<a name="751143"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jp22</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#63">[#63]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi everyone<br>This is SID related, but on a slight tangent..<br><br>Just wondering - Is the libresid_builder.a the file i'd need to "play" the emulator myself? So, instead of calling SidPlay to play/stop, I could call resid, to set waveforms/channel volumes?<br><br>I'm interested in putting a better front end on GoatTracker (SID music writing package), with Blitz, but just want to know what i'd be letting myself in for!<br><br>Thanks! <br><br></td></tr></table><br>
<a name="753846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matthew Smith</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#64">[#64]</a></td></tr></table></td></tr><tr ><td class="posttext"> Everyone,<br><br>Redi has released a new MaxMod module (1.16) for Mark's new audio stuff.  He also kindly updated the sidstream module for us as I was a little unsure how.  To simplify it's use, I have created a wrapper to make it easier to use.<br><br>Go here for further info:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=67464" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=67464</a> <br><br></td></tr></table><br>
<a name="754215"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#65">[#65]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahm Gman, could u start a new topic and post the newest version in the first post. It's difficult to keep track here. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
