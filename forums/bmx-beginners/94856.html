<!DOCTYPE html><html lang="en" ><head ><title >Re: Help please</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Re: Help please</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Re: Help please</a><br><br>
<a name="1090032"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Joe90bigrat90</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there. Im pretty new to programming and im writing a game.<br>This is my problem (using blitzmax)<br><br>I want to create several blocks on a screen at random positions.<br><br>ive declared 3 variables like this<br><br>Global numberofbuildings<br>Global buildingx<br>Global buildingy<br>number of buildings=rnd(50) 'sets a random number of buildings<br><br>later on in my code I have this:<br><br>For a=1 To numberofbuildings<br><br>buildingx=Rnd(1870) 'store random number in x upto 1870<br>buildingy=Rnd(970) 'store a random number in y upto 970<br>Cls 'clear the screen<br>SetBlend(lightblend) 'set the blend<br>DrawImage (building,buildingx,buildingy,0) 'draw the block to the screen<br>Next<br><br>However when i run the program its not keeping the block on the screen. Im getting about 40 blocks depending on the number of buildings set all over the screen.<br><br>How can i get several random blocks to actually stay on the screen.<br><br>Im not that confident about arrays but if you could post some code on maybe how i create an array or how i can do this that would be great. Thanks lot<br><br>PS im very new to programming. <br><br></td></tr></table><br>
<a name="1090033"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Joe90bigrat90</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I figure i need to create an array and store the random number in the first element of array and then increase the array by 1 and store the next random number in the array but im not sure how to do this.  Any help much appreciated. <br><br></td></tr></table><br>
<a name="1090038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>1. welcome<br>2. get a look to the 'forum codes' to post code... it's handy when you have many source<br>3. You need arrays (look at the BMax documentation)<br><br><pre class=code>
Global numberofbuildings:int=20'
Global buildingx:int[numberofbuildings]
Global buildingy:int[numberofbuildings]

For a=0 to numberofbuildings-1 'see help for array

buildingx[a]=Rnd(1870) 'store random number in x upto 1870
buildingy[a]=Rnd(970) 'store a random number in y upto 970
Cls 'clear the screen
SetBlend(lightblend) 'set the blend
DrawImage (building,buildingx[a],buildingy[a],0) 'draw the block to the screen
Next
</pre> <br><br></td></tr></table><br>
<a name="1090039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> To be more precise you should separate Initialization (where you create x &amp; y position) and Drawing (Cls, SetBlend and all the coords). This speed up things a lot<br><pre class=code>
Global numberofbuildings:int=20'
Global buildingx:int[numberofbuildings]
Global buildingy:int[numberofbuildings]

For a=0 to numberofbuildings-1 'see help for array
buildingx[a]=Rnd(1870) 'store random number in x upto 1870
buildingy[a]=Rnd(970) 'store a random number in y upto 970
Next

Cls
SetBlend(lightblend)

For a=0 to numberofbuildings-1 'see help for array
DrawImage (building,buildingx[a],buildingy[a],0) 'draw the block to the screen
Next
</pre> <br><br></td></tr></table><br>
<a name="1090040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> an alternative in case you decide to explore:<br><pre class=code>Strict

Type Tbuilding
	Field x:Float
	Field y:Float
End Type

Global list:TList = CreateList()					' create the list to store buildings
Global numberOfBuildings:Int = 50					' variable to store the number of buildings

For Local i:Int = 0 Until numberOfBuildings
	Local building:Tbuilding = New Tbuilding			' create building
	building.x = Rand(1870) 						' fill variables
	building.y = Rand(970)	
	list.addlast(building) 						' add it to the list 
Next

Graphics 1024,768

Repeat
	Cls ' clear the back buffer
	For Local building:Tbuilding = EachIn list  		' grab a building at a time from the list
		DrawRect building.x,building.y,10,10    		' draw the building as a rectangle of 10x10 to the back buffer
	Next 										' next building in the list
	Flip() 										' display the back buffer
Until KeyDown(KEY_ESCAPE)
</pre> <br><br></td></tr></table><br>
<a name="1090051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Joe90bigrat90</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> thankyou degac and jesse<br><br>this is a strange situation. Ok ive copied the code and tested it and its working fine if i start a program afresh.<br><br>Thing is ive got a title screen and a while loop. Ill post some code here.<br><pre class=code>
Variables and arrays go here.
SetGraphicsDriver GLMax2DDriver()
Graphics 1920,1080

while not keyhit(key_1)
cls
draw text to the screen using drawtext commands

flip
wend

load all my animimages

setclscolor 204,204,204

While Not KeyHit(KEY_ESCAPE)
	'SetAlpha 1
	'SetScale 0.5,0.5

Cls
SetBlend(shadeblend)
draw my images if certain keys pressed

flip
wend
endgraphics
waitkey
</pre><br>thing is when i put the code into a new program it works fine.<br>But for some reason when i put this code into my program i can sort of see the blocks randomly but everythings flashing. Ive tried an extra flip and cls but i cant actually see the blocks. I just get flashing whilte things.  Do i put this code in a while loop???<br>You see my main game is in a while loop and until you press esc it allows you to play the game. Im not sure where i need t put this code in order for it to work.<br><br>But thanks a lot for your help guys. Really great!!! Cheers!! <br><br></td></tr></table><br>
<a name="1090053"></a>

<a name="1090054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >shinkiro1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> This doesn't answer your question, anyway: <a href="http://www.2dgamecreators.com/tutorials/gameprogramming/index.html" target="_blank">http://www.2dgamecreators.com/tutorials/gameprogramming/index.html</a><br>In my opinion the best way to start with BlitzMax.<br><br>Also read other peoples code (the examples which come with bmax). There is nothing bad with 'stealing' other peoples ideas ... o_O<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1090055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Joe90bigrat90</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> ive typed this code into blitz<br><br><pre class=code>
SetGraphicsDriver GLMax2DDriver()
Graphics 1920,1080
building=LoadImage("d:\vendetta\sprites\building.png",0)
SeedRnd MilliSecs()
Global numberofbuildings:Int=10
Global buildingx:Int[numberofbuildings]
Global buildingy:Int[numberofbuildings]
  
SetClsColor 240,240,240 

	For a=1 To numberofbuildings-1
		buildingx[a]=Rnd(1870) 'store random number in x upto 1870	
		buildingy[a]=Rnd(970) 'store a random number in y upto 970
		Flip
		SetClsColor 204,204,204
		DrawImage (building,buildingx[a],buildingy[a],0)
	Next


WaitKey
'EndIf
</pre><br><br>Anyone know why this is drawing only 4 blocks rather than 10???<br><br>I cant work it out <br><br></td></tr></table><br>
<a name="1090058"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >shinkiro1</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reduce the Rnd() values.<br>And also move the flip out of the loop. It only has to be called once after you draw everything. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
