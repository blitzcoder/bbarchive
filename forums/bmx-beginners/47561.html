<!DOCTYPE html><html lang="en" ><head ><title >Pixmaps and banks</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pixmaps and banks</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Pixmaps and banks</a><br><br>
<a name="528534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm writing a pixmap to bank function to get super quick access to the pixels without lockimage.<br><br>But I'm a bit worried by all that pixmap format business, does it relate to the mac platorm? readpixel returns the usual AARRGGBB format, but is blitz doing handy translations? or will the copybank stuff still have the bits in the AARRGGBB format regardless of platform?<br><br>I don't have access to Mac or Linux, does anyone know the situation here?<br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="528617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It should be cross platform.<br><br>Why not use a static bank, that way you don't have to copy the data? Or does it have to be copied? If you are trying to access the pixels in a pixmap, using a static bank would be a lot faster - no copying needed. You can always use ConvertPixmap() to turn it into the format you want, as a catch-all.<br><br>You can also grab the backbuffer directly into a bank by using glReadPixels() <br><br></td></tr></table><br>
<a name="528639"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Static bank? Not heard of that. Is that the CreateStaticPixmap thing? It does sound like a bank from it's description. Well if it's as fast a bank and the readpixel is as fast as a peek, I'd be happy enough.<br><br>I'll give it a go tommorrow.<br><br>Also that glReadpixels() thing is a great tip which I've no doubt I can use for something else. <br><br></td></tr></table><br>
<a name="528660"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Be warned that glReadPixels is very slow! You're probably on a better path with the Pixmaps stuff... <br><br></td></tr></table><br>
<a name="529103"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess I just mentioned the glReadPixels for use if they wanted to just grab the image once-off to put it into a bank or pixmap, I agree it is not very practical for doing it every frame. <br><br></td></tr></table><br>
<a name="529455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh, got about 3 small projects on the go and I've ground to a halt on each one. That's what I get for taking a huge break from coding. Still I appreciate the advice so far.<br><br>AngelDaniel, I need a bit of clarification from when you mentioned "No copy needed". I assumed when Createstaticpixmap refers to "object that references an existing block of memory" it meant a pre-defined createbank(), which I'd need to copy the pixels into manually (I want to put the pixel data from an image and/or backbuffer into a bank for the fastest possible reading at a later point)<br><br>Is there something more immediate you were referring to? I couldn't find any examples of createstaticpixmap on the forum search. <br><br></td></tr></table><br>
<a name="529462"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't say create static pixmap. I said create a static bank. A static bank is an empty bank which just `wraps around` an existing block of memory. So you can wrap it onto the PixmapPixelBuf() address in memory. It then doesn't have content of its own, it is sharing the content with the pixmap object. So you don't have to copy the data from the pixmap to the bank, they are basically one and the same - two object types looking at the same block of memory.<br><br>Use CreateStaticBank() and give it the address of your pixmap's buffer.<br><br>No, I did not mean to create a bank first and then do a static bank on top of it, that is pointless. <br><br></td></tr></table><br>
<a name="529502"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Simon S</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah that makes a lot more sense. I had no idea about the CreateStaticBank() command, hence my total misunderstanding.<br><br>That's great, Thanks for your help. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
