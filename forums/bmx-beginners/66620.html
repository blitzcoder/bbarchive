<!DOCTYPE html><html lang="en" ><head ><title >Array elements and making sure only 1 exists?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Array elements and making sure only 1 exists?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Array elements and making sure only 1 exists?</a><br><br>
<a name="744110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok Here goes.<br><br>This draws the corresponding image to screen dependant on what it stored in the array.<br><br><pre class=code>
Function DrawFactoryMap()
	For Local yiter:Int = 0 To MapHeight - 1
		For Local xiter:Int = 0 To MapWidth - 1
			If FactoryMap[xiter,yiter] = 0
				DrawImage BlackTile,xiter*32,yiter*32,0
			End If
			If FactoryMap[xiter,yiter] = 1
				For Local r:RedTile = EachIn RedTileList
					DrawImage r.image, xiter*32, yiter*32,0
				Next
			End If
			If FactoryMap[xiter , yiter] = 50
				DrawImage g, xiter*32, yiter*32, 0
				GCount = 1
			EndIf
		Next
	Next
End Function
</pre><br><br>How do i check if Just one entry in to the array is missing?<br><br>For instance, if I loop through the array and do this: <br><br>if Map[xiter,yiter] &lt;&gt; blah<br>print Yay<br><br>it will print yay anyway because it loops through the array and finds elements not equal to blah. <br>I want to check if it's been overwritten and if it has been over written to set a global var to 1 <br><br></td></tr></table><br>
<a name="744195"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> overwritten with what?  If it's an array of integers, there will always be an array slot there with an integer value in that you can test.  If it's an array of objects (e.g. TTile) then initally it will be full of null pointers until you create a tile and attach it to each array slot.  Then you could check to see if an array slot hasn't got a type attached to it yet because it would have a value of null. e.g. If Map[x,y] = Null then print yay <br><br></td></tr></table><br>
<a name="744203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well...,<br><br>You could strore what you think each element is supposed to bt pointing to, in <i>another</i> array. But then how would you know if that array had changed.<br><br>I dont think youve asked the question you ment to ask. <br><br></td></tr></table><br>
<a name="744242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah I'm a teeny bit confused :-) <br><br></td></tr></table><br>
<a name="744430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If all you are trying to do is find out if "Blah" isn't in the array (which is what I gathered from reading your post) just loop through the array trying to find blah and return true if you find it, otherwise if the loop terminates, return false<br><br><br><pre class=code>
Function TestLoop( blah:int )
for xiter = 0 to mapwidth
 for yiter = 0 to mapheight
   if map[xiter,yiter] = blah
      return true
   endif
 next
next
return false   'wasn't found in the loop so return false
EndFunction
</pre><br><br>alternately you can return false if it's found and true if it isn't if you want. It doesn't really matter, it just changes the test from being "is blah in the array" (if so return true) to "is blah not in the array" (if so return true)<br><br>So the above code is the "is blah in the array" test. <br><br></td></tr></table><br>
<a name="744436"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I have code that detects if blah is in the array but not if blah has been removed from the array.<br><br>I place a certain tile in my array and I only want for there to be one in the array. If there is one then I don't want anymore being put in. This I can do. But, if blah is removed from the array, looping through the array to test if blah doesn't exist would always return true.<br><br>If I looped through the array and checked if xiter,yiter &lt;&gt; blah, it would be true because every element in the array except for one does not have blah in it. Because jst one element doesn't have blah it would throw that blah didn't exist. :/<br><br>I hope that makes sense. :) <br><br></td></tr></table><br>
<a name="744439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yeah, I have code that detects if blah is in the array but not if blah has been removed from the array.<br> <br></div><br><br>Your main mistake is in using the "&lt;&gt;" operator in your tests. <br><br>See, if you have code that will return TRUE if blah is in the array, you use that same piece of code to test if blah isn't in the array. If the function returns false, then blah isn't in the array. <br><br>So just call your "IsBlahInTheArrayFunction" and test its result for false to handle when blah isn't in the array. <br><br></td></tr></table><br>
<a name="744440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I test if Blah is in the array by drawing an image.<br><br>I have this.<br><br>for local xiter = 0 to mapwidth<br>   for local yiter = 0 to mapheight<br>      if map[xiter,yiter] = blah<br>         drawimage mytile, xiter*32,yiter*32,0<br>      endif<br>   next<br>next<br><br>I have a tile graphic that is used to place in the map array which will corrspond to the Players start position when the game loads.<br><br>I have a temp variable called count that counts how many blahs are in the array. As soon as a user places the player tile in the array 'count' becomes 1 and stops the user from being able to place anymore. Now if they overite that tile with a different tile I want to detect that the player tile (blah) is gone and for count to become 0.<br><br>Thanks for your help by the way. It's appreciated :) <br><br></td></tr></table><br>
<a name="744446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I see what you are trying to do. What you could do is - whenever a player places a tile, test to see if that tile is of type "blah" and if it is, decrease Count to zero. <br><br>Now, whenever they want to place a start tile you can just check Count and see if it is zero or not. I'd still let them attempt to place a start tile if one already exists though. Why? Well, it would prevent them from having to find (and delete) the old tile first. I'd run a test whenever they attempt to lay a start tile, and if count = 1 then you could pop up a menu box that says something like "A start point already exists at (X:32, Y:57). Would you like to replace that with the tile you are attempting to place?" and if they select yes, then you let them place it and delete the old one, and if not do nothing. <br><br></td></tr></table><br>
<a name="744450"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eek, I wasn't real clear with that. What I meant with my first sentence is, whenever a player places a tile, check the array at that spot and see if the tile already in the array at that spot is of type "blah" and if so, then decrease count to zero.<br><br>So lets say you have a 50x50 array, and the user already placed a start tile at 25,25.<br><br>Now, they select a "grass tile" and place it at 5,10. So your game checks the array at [5,10] and sees that it is not a start tile, and so it doesn't touch count. Now, if the user tries to place that grass tile at [25,25] you check the map array and see that that spot currently IS the start tile, and so you decrease your count to zero. <br><br></td></tr></table><br>
<a name="744667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah or just had a completely separate flag called STartTilePlaced and don't even bother searching the array. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
