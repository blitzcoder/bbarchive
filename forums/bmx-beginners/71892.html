<!DOCTYPE html><html lang="en" ><head ><title >Using PHP sessions with BlitzMax</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Using PHP sessions with BlitzMax</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Using PHP sessions with BlitzMax</a><br><br>
<a name="803535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does anyone know how to make use of PHP sessions with BlitzMax? I have a function that uses ConnectSocket() to send information to the server, so would assume that there is a parameter in the header that I can use to store the session ID that was returned from the server during a previous information call.<br><br>Headers that I'm currently sending include:<br><br><pre class=code>
Host: "+host)
Content-type: application/x-www-form-urlencoded
User-agent: MyApp
Content-length: 100
Pragma: no-cache
Connection: keep-alive
</pre><br><br>Header settings that are being returned from the sign in call to the PHP script:<br><br><pre class=code>
HTTP/1.1 200 OK
Date: Sat, 18 Aug 2007 20:07:57 GMT
Server: Apache/1.3.33 (Darwin) PHP/4.4.1
X-Powered-By: PHP/4.4.1
Set-Cookie: PHPSESSID=bf466c8240e4beabe8f18f46d8a49b56; path=/
Expires: Thu, 19 Nov 1981 08:52:00 GMT
Cache-Control: no-store, no-cache, must-revalidate, post-check=0, pre-check=0
Pragma: no-cache
Connection: close
Content-Type: text/html
</pre> <br><br></td></tr></table><br>
<a name="803543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SebHoll</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Although I'm not entirely sure, I believe Brucey's latest <a href="/posts.php?topic=71783" target="_blank">libcurl module</a> should make BlitzMax internet communication a lot easier. Try downloading it - I think it should allow you to make requests for web pages (including PHP) without having to manually code all the header handling yourself for the HTTP stream youself. <br><br></td></tr></table><br>
<a name="803548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, libcurl can handle cookies and things for you, if you want it to.<br>One of the included examples shows how to get and view cookies retrieved from google. The included documentation also touches on the subject of handling cookies.<br><br><a href="http://brucey.net/programming/blitz/index.php#bahlibcurl" target="_blank">A link to the standard libcurl module</a>.<br><br><a href="http://brucey.net/programming/blitz/index.php#bahlibcurlssl" target="_blank">A link to the SSL-enabled libcurl module</a>.<br><br><br>Of course, you can always work it out yourself. (A session is just a cookie with an id that you need to pass back and forth in order to let the server know that you are the same person as before.)<br>...whichever suits :-) <br><br></td></tr></table><br>
<a name="803554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just add:<br><pre class=code>Cookie: PHPSESSID=bf466c8240e4beabe8f18f46d8a49b56</pre>back. Or do what Brucey said. <br><br></td></tr></table><br>
<a name="803575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. Brucey's work sounds promising and I will look at it the next time I need to transfer information from my app to the server, but because I have the code pretty much working, it may be quicker to find out what information mation needs to be in the heading, as I wouldn't have to worry about installing anything or writing new code.<br><br>I tried using Cookie: PHPSESSID=bf466c8240e4beabe8f18f46d8a49b56 , but that didn't work either. I've also used Session-Id: , but that doesn't work. <br><br></td></tr></table><br>
<a name="803606"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I tried using Cookie: PHPSESSID=bf466c8240e4beabe8f18f46d8a49b56 , but that didn't work either. <br></div>You have to return the same ID (hash) as you get from the server. It does work. It's how your browser does it. You can look through your browser cache for the specific cookie. It'll be named something like PHPSESSID@.... Also, if using Firefox, install the LiveHTTPheaders plug in, and you can see exactly what's going on, and perhaps more importantly, what's not going on. <br><br></td></tr></table><br>
<a name="803657"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Brown</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for you help FlameDuck. I checked the cookies in my browser and it would make sense, but BlitzMax doesn't seem to be activating the session cookie when I write it. I used the LiveHTTPheaders plug in to copy all of the header information from when I sign into the web app from my HTML interface, but BlitzMax still doesn't sign in.<br><br>The better way to solve the problem will probably be for me to write a custom interface in PHP that will collect the information required by BlitzMax.<br><br>Thanks for all your help, it's certainly been handy to find out how to see all of the header information being sent to and from the server. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
