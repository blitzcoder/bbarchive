<!DOCTYPE html><html lang="en" ><head ><title >Advanced RANDOM functions/techniques</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Advanced RANDOM functions/techniques</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Advanced RANDOM functions/techniques</a><br><br>
<a name="770943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jasonmiceli</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> 'lo all!  Got a couple specific scenarios I need to plan for.  I have already built fully working code in both of these cases, but fully expect I did NOT go about it the right way!  Here are the scenarios:<br><br>1. I have a series of items/objects and I need to select *some* of them at random.  So a simple, real world example would be I have the numbers 1 to 100, and I need to randomly select 13 of those numbers.  Right now the way I'm doing this is by choosing a normal random number between 1 and 100 and then seeing if it's a random number that has already been picked - if so, I re-randomly select a number and start the check again, and so on.  The problem is this could theoretically cause an infinite loop, and I further suspect it's bad programming etiquette to build it this way.<br><br>2. This is a somewhat similar scenario, just with screen coordinates this time.  I need to generate N number of random boxes on the screen (random sizes, colors, locations, etc.), but need to be sure none of them overlap.  Once again, the way I'm doing this now is to create one box and then test for collision against every other box already built - if overlap then re-randomly generate the box.  Again, this could theoretically cause an infinite loop and I'm sure it's a bad approach to solving this problem.<br><br>Thusly, I open the table to suggestions!  Thanks all, Jason <br><br></td></tr></table><br>
<a name="770952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://en.wikipedia.org/wiki/Mersenne_Twister" target="_blank">Mersenne Twister</a>? I believe there's a BlitzMAX version in the code archives somewhere.<br><br>1. Alternatively, have an array with all numbers in it. Select a random position. Swap that with the last element. Slice the Array to be one smaller. Rinse / Repeat for as many numbers as you need. This has a worst case time complexity O(n).<br><br>2. One approach would be to make the boxes in serial progression. Start in one corner, and then work your way across, then down the screen, using semi random offsets. It kinda depends on exactly what you're looking for (i.e. should the boxes cover the entire screen, or have arbitrary spaces between them, and how should they be distributed). <br><br></td></tr></table><br>
<a name="770963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jasonmiceli</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like your solution to #1, and actually thought about something like this after my original post - was remembering how I did my shuffle cards function years ago, and that the same logic could apply here (shuffle deck of cards, then select the first 3 - same effect that I'm looking for now).<br><br>With #2, I basically don't want any restrictions - boxes COULD be all in one corner of the screen, COULD be in logical "rows", or COULD be spaced evenly around the screen - just that they cannot overlap...  I was toying around with the idea that after each box is added to the screen, the pixels it covers are no longer "available" (thusly I would have needed to previously create a array of available pixels) - then when I go to create a new box I simply check to see if it intends on consuming any unavailable pixels.  If so, re-randomize.  This prevents the need to enumerate the checks amongst all previously created objects, but still could end in an infinite loop - I guess to tackle this I could simply count the number of attempts - if over 100 then break and consider the fact that we cannot create any further boxes...  seems like a viable compromise... <br><br></td></tr></table><br>
<a name="771173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the first one I'd just Rand() numbers and check if they're picked. Faster than creating arrays I think (you could check, of course).<br><br>In the second one you shouldn't just start drawing and test for collision. Depending on your size limits some of the boxes could fill the whole screen before all boxes are created - an infinite loop. If it's possible to have a screen sized box, this isn't even that unlikely.<br><br>One solution is to have a list or array of empty spaces. Randomly select one of them to generate the box to. Then divide the space to 5 areas: 4 new empty areas and the box. Store the empty areas to the space list and the box to another list.<br><br>Something like this:<br>123<br>1b3<br>143 <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
