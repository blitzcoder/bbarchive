<!DOCTYPE html><html lang="en" ><head ><title >Blitzbasic -&gt; blitzmax</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitzbasic -&gt; blitzmax</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Blitzbasic -&gt; blitzmax</a><br><br>
<a name="690066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Olla</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I got experience with Blitzbasic, but I'm a Blitzmax  noob :-) ... I'm using an older version (1.09) because I can't get the newer updates to work together with the unofficial Mappy libs, for whatever reason. Anyway, everything is basically working fine with 1.09, but I have a problem getting following like to work under Max:<br><br><br>blks[n].bg = blks[aniseq[anis[a].ancur]].bg <br><br>Where n is the tile/block number and a is the animation number...<br>I get a compile error: Expression of type 'int' cannot be indexed... This question is probably only for people with experience with BM + the title editor: Mappy...<br><br>Any help on this is much appreciated. <br><br></td></tr></table><br>
<a name="690068"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> This means that one of the 3 arrays you use there isn't an array and most likely would return one (-&gt; change [..] to ()[..]).<br><br>And I would strongly suggest that you use 1.20 as 1.09 has some serious issues. Its far easier to get mappy to work with it than getting the problems out you have (DX etc) <br><br></td></tr></table><br>
<a name="690080"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Olla</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Dreamora, thanks for you prompt feedback.. I have tried to change what you suggested, but still not working... Maybe by posting following code snippet from Mappy pub.lib, you can help me figuring out how the line should be:<br><br>Type BLKSTR<br>	Field bg:Int, fg:Int, fg2:Int, fg3:Int<br>	Field user1:Int, user2:Int, user3:Int, user4:Int, user5:Int, user6:Int, user7:Int<br>	Field tl:Int, tr:Int, bl:Int, br:Int<br>	Field trigger:Int, unused1:Int, unused2:Int, unused3:Int<br>EndType<br><br>Type ANISTR<br>	Field antype:Int, andelay:Int, ancount:Int, anuser:Int<br>	Field ancur:Int, anstart:Int, anend:Int<br>EndType<br><br>Type MappyMap<br>	Field mapmaxlayers:Int=2<br>	Field maperror:Int<br>	Field mapislsb:Int, maptype:Int<br>	Field mapchunkdone:Int<br>	Field maptrans8:Int, maptransr:Int, maptransg:Int, maptransb:Int, maptransval:Int<br>	Field mapwidth:Int, mapheight:Int<br>	Field mapblockwidth:Int, mapblockheight:Int, mapdepth:Int<br>	Field mapblockstrsize:Int, mapnumblockstr:Int, mapnumblockgfx:Int<br>	Field mapblockgapx:Int, mapblockgapy:Int<br>	Field mapblockstaggerx:Int, mapblockstaggery:Int, mapclickmask_fld:Int<br>	Field mapcurlyr:Int, mapnumanims:Int<br><br>	Field mappt:Int[][][]<br>	Field aniseq:Int[]<br>	Field tilegfx:TImage[]<br>	Field cmappt:Int[]<br>	Field blks:BLKSTR[]<br>	Field anis:ANISTR[]<br>		<br>	Method MapFreeMem()<br>		Local n:Int<br>	<br>		For n = 0 To (mapnumblockstr-1)<br>			blks[n]=Null<br>		Next<br>		For n = 1 To (mapnumanims)<br>			anis[n]=Null<br>		Next<br>		For n = 0 To (mapnumblockgfx-1)<br>			tilegfx[n]=Null<br>		Next<br>		<br>		anis=anis:ANISTR[..0]<br>		blks=blks:BLKSTR[..0]<br>		tilegfx=tilegfx[..0]<br>		<br>	EndMethod<br><br>__________________________________________<br><br>Regarding upgrade to 1.20, you are so right .. I tried to upgrade to 1.20 but it resulted in nothing worked anymore, which scared me off and I went back to 1.09... I guess I just need to do some more research into how to get this working..<br><br>Thanks in advance.... <br><br></td></tr></table><br>
<a name="690085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> greetings Olla :)  the current version of the mappy lib will not work on a version of BMAX that old.  there were extensive changes to how the images were read from the mappy file back when BMAX v1.16 or v1.18 came out which causes it to be incompatible with anything earlier.  the best option i think is to first get assistance in getting your BMAX v1.20 up and running and then work on getting mappy going (which should be pretty easy at that point). <br><br></td></tr></table><br>
<a name="690087"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Olla</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Greetings Gman ... Thanks for your input .. the v1.20 worked, but it was just everything related to Mappy that didn't ... And as I said, that was kind of frustrating to me .. I will try to upgrate to 1.20 again and then take it from there ... <br><br></td></tr></table><br>
<a name="690090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> sounds good.  get upgraded and we will get you going after that.  mappy works fine with 1.20 so when you get it upgraded we can get you going based on any error messages and what not. <br><br></td></tr></table><br>
<a name="690091"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also had problems installing the Mappy.mod. I had to do several different runs and i'm afraid I can't remember what sequence did the "trick".<br>But once I had it working I found it to be rather slow and the examples were running "jittery" espacialy when scrolling by the keyboard.<br>Something in my setup? Or is this more common? <br><br></td></tr></table><br>
<a name="690092"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Abomination - there are two timing methods in the examples.  if you hit the spacebar (i think its spacebar) the jitter will probably go away. <br><br></td></tr></table><br>
<a name="690127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Olla</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> @gman, so here is what I did:<br><br>1) Deinstalled Blitzmax v1.09 .. <br>2) Installed version v1.18<br>3) Then updated it to 1.20<br>4) copied the mappy.mod dir into the pub.mod folder.. <br>5) Started blitzmax 1.20, loaded my program and compiled it...<br><br>Got following compile error: Compile Error: Can't find interface for module 'pub.mappy'<br><br>In my program have following:<br><br>Import Pub.Mappy<br>Global map:MappyMap=New MappyMap<br><br>Any idea as to why this error appears?<br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="690134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> that i do.  i hadnt put out a new distro compiled for BMAX 1.20+.<br><br>please download:<br><br><a href="http://www.gprogs.com/pub.mappy/2006_07_27_mappy.zip" target="_blank">http://www.gprogs.com/pub.mappy/2006_07_27_mappy.zip</a><br><br>and replace with your current one. <br><br></td></tr></table><br>
<a name="690136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Olla</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, copied the new "mappy.mod" folder into following location:<br><br>C:\Programs\BlitzMax\mod\brl.mod<br><br>changed "import Pub.Mappy" to "import Mappy" in my program.<br><br>Now I tried to compile it, but got following error message:<br><br>Compile Error: Can't find interface for module 'pub.stdc'<br>[C:/Programs/BlitzMax/mod/brl.mod/stream.mod/stream.debug.win32.x86.i;21;1] <br><br></td></tr></table><br>
<a name="690137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> almost :)  move mappy.mod into pub.mod.  the directory structure should look something like:<br><br>c:\programs\blitzmax\mod\pub.mod\mappy.mod<br><br>leave the "import pub.mappy" as is.  also, i have some samples available for download as well to see if it works.<br><br><a href="http://www.gprogs.com/pub.mappy/mappysamples.zip" target="_blank">http://www.gprogs.com/pub.mappy/mappysamples.zip</a><br><br>for the stdc issue, i would say run sync modules from the programs menu in blitzmax to see if you can resolve that. <br><br></td></tr></table><br>
<a name="690140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Abomination</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah.<br>That version installed without trouble.<br>But the scrolling jitters so much its almost bouncing.<br>(with or without spacebar)<br>It could be something in my windows/hardware-config. but I didn't notice something like this before. <br><br></td></tr></table><br>
<a name="690146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use the 'old' Mappy mod at 1.20. When I got the <br>   Can't find interface for module 'pub.mappy'<br>message I rebuild modules and it then works OK. <br><br></td></tr></table><br>
<a name="690154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Olla</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> @gman, it works!!! Thank you very much for your help... There were a few issues but they were easy to fix.<br><br>Now maybe you can also help me with one more thing? ;-)<br><br>With mappy You can change the graphic used for a block with: <br><br>blks[n].bg = newgraphicnumber <br><br>n is the block number, newgraphicnumber is the number of the graphic to replace the bg with. Now every block 'n' in the map will have the new graphic. This all works just fine, but what I'm really trying to do is to replace 'n' block with an animation instead. So if I make an anim 'a' (the first anim is 1) I want to use, I should be able to update block 'n' manually by using following line in each loop:<br> <br>blks[n].bg = blks[aniseq[anis[a].ancur]].bg <br><br>The problem is that this line won't compile in Max. I get following error: Expression of type 'int' cannot be indexed<br><br>Dreamora comment on this issue:<br>"This means that one of the 3 arrays you use there isn't an array and most likely would return one (-&gt; change [..] to ()[..])."<br><br>I have tried to change what Dreamora suggested, but can't get it to work.. Do you have an idea of how this line should be in Max to work?<br><br>Thanks in advance.. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
