<!DOCTYPE html><html lang="en" ><head ><title >2D animation strip - drawing lots of instances</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2D animation strip - drawing lots of instances</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >2D animation strip - drawing lots of instances</a><br><br>
<a name="800667"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> With this being my first game, and having no object-oriented experience whatsoever, I've come across a small problem I'd like an opinion on...<br><br>When one of the 4 players hits a wall, I draw an explosion - LoadAnimImage strip of 32 frames<br><br>I have a type, Texplosion containing fields such as<br><br>x,y,frame,flag_active<br><br>I create an array to hold the 4 player explosions then in my main loop I loop thru each player and check if explosion[x]flag_active is true. If it is I draw the eplosion.<br><br>Trouble is, each player can trigger an unknown quantity of eplosions<br><br>So my question is, instead of using an array (which is fine for a KNOWN quantity of explosions) is there an alternative way to draw as many explosions as I need ? <br><br></td></tr></table><br>
<a name="800669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've some across this example:<br><a href="http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F5%20-%20Adding%20Missiles.html" target="_blank">http://www.2dgamecreators.com/tutorials/gameprogramming/basics/F5%20-%20Adding%20Missiles.html</a><br><br>Should I be using a LIST of "game objects" from which I LISTADD and LISTREMOVE ?<br><br>That way every time I need to draw an explosion is gets added the list of "game objects" to draw ?<br><br>Its the first time I've actually come across METHODS and LISTS before! D'oH! <br><br></td></tr></table><br>
<a name="800672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lists are pretty good for being able to add and remove stuff efficiently, so yes. <br><br></td></tr></table><br>
<a name="800679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep. Use a for eachin loop to go through every explosion in the list. Draw it and update its frame. If it's reached the end of its animation then remove it from the list. <br><br></td></tr></table><br>
<a name="800695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah great - thanks for that confirmation<br><br>I'll get on it<br><br>Now I've discovered methods and lists, they seem pretty cool - I think I'll have to go back through my code and make the appropriate adjustments! <br><br></td></tr></table><br>
<a name="800705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have been doing extensive testing the past few weeks, trying to decide which avenue to take. I'm used to using arrays for all of my game objects, and based on my tests arrays are indeed faster. Especially if you don't have to remove anything, just initialize the array with as many objects as you'll need, and then "re-use" objects as needed. Works fine and is probably the fastest way you can do it, at least with my own tests compared to using a TList.<br><br>However.... with that said I am using TList's for pretty much all of my game objects now. The ease of use, on a broad, general scale, was the deciding factor for me. The only thing I've noticed that happens is a slight performance stutter, once in a great while. I "think" this is the internal garbage collection due to removed items. ? <br><br></td></tr></table><br>
<a name="800717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks MGE<br><br>I was happy with arrays, but you must admit, its not as ELEGANT as TLists, now I've seen the sample code I mentioned in my link.<br><br>For my game, the slight performance hit you mention won't be an issue - I'm only running 800x600 fullscreen with a max of 8 sprites (although I'm planning to increase this!). Its just a simple retro-remake of an 80's game. <br><br></td></tr></table><br>
<a name="800775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Its just a simple retro-remake of an 80's game." Ok, now you've peaked my interest. :) 800x600 for an arcade game is still actually a fairly high resolution. Considering some of those retro classics were 320x200 or less. lol.. <br><br></td></tr></table><br>
<a name="800776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> For tight (performance) loops, arrays will always be better than TLists.<br><br>The trick is to find the right balance :-) <br><br></td></tr></table><br>
<a name="801095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> MGE,<br><br>You're right, 800x600 is higher than the original game's 512x384, but hey, that's what's so appealing about a 2D retro remake - you can let loose with tons of sprites , sounds and effects, alpha transparencies, etc... I'm loving it, but not having programmed games before, its pretty new.<br><br>Next on the list TO DO is collision detection between the spries. I want to have 4 collision boxes PER SPRITE - so the sprite can react accordingly, so I'll be checking through the code archives for any scraps. <br><br></td></tr></table><br>
<a name="803840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used to use arrays, a pool of the correct size.  But now I use lists for ease of coding. <br><br></td></tr></table><br>
<a name="805070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dax Trajero</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Grey <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
