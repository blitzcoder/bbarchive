<!DOCTYPE html><html lang="en" ><head ><title >Optimal way to place objects/tiles in right order?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Optimal way to place objects/tiles in right order?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Optimal way to place objects/tiles in right order?</a><br><br>
<a name="1171423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nest</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have all of my game entities in EntityList<br><br>I have my level stored in a 2D array (0 = nothing, 1 = solid).<br><br>I know how to order my sprites by their Y value to draw them so they don't overlap each other.<br><br>What I want to know is an optimal way to draw my sprites and tiles such that the sprites appear behind walls where appropriate.<br><br>The only way I can think of it at the moment is to cycle through all of the sprites to see if they are within a tile for every tile I render, but this doesn't seem that efficient.<br><br>The other way I can think of is to group up my sprites into their Y-tile value, so that I can do the same as above but only check the ones that are known to be in the current row - slightly more efficient but there has to be a better way.<br><br>How about sticking my tiles (that aren't empty) into the same list as the entities and order/draw them all that way?<br><br>Thanks for any help you can provide.<br><br><img src="http://i.imgur.com/1j0DD.png"> <br><br></td></tr></table><br>
<a name="1171427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would probably have an entity list associated with each tile, stick my 'actors' in the correct list and have the renderer draw the contents of the associated entity list along with each tile. Similar to your last idea.<br><br>Love the retro graphics, BTW. Brings to mind 'Mad Doctor' on the C64 if you ever heard of that. <br><br></td></tr></table><br>
<a name="1171428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nest</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, I'll give it a go - yeah I love the pixelated style, I just cracked isometric transformation so I'm on a mad programming spree now! <br><br></td></tr></table><br>
<a name="1171430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reminds me of D/Generation (which was a cracking game!) <br><br></td></tr></table><br>
<a name="1171431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nest</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a demo of that from a copy of Amiga Format! <br><br></td></tr></table><br>
<a name="1171449"></a>

<a name="1171453"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nest</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorted it!<br><br>I gave each entity a "current tile" variable, then on drawing the map I loop through the EntityList to see if their x/y matches, then draw them if so. Not sure if optimal but works perfectly for now!<br><br>Cheers all.<br><br>edit: added some textures and managed to add a transparency effect to see yourself behind the wall. Did this by a second pass on drawing all entities with a 0.3 alpha.<br><br><img src="http://i.imgur.com/BpZa1.png"><br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1171455"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nest</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> My next challenge :|<br><br><img src="http://i.imgur.com/H2IOU.png"> <br><br></td></tr></table><br>
<a name="1171474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The bottom of the "clipping" tile is ending "later" than the figure but this tile is on a level+1 so this is not allowed.<br><br>For your problems you will find dozens of tutorials on the net...just binggooglealtavista for it.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1171510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nest</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers Ron, I'm aware of what's causing it and inadvertently came across a few articles regarding it before I encountered the problem myself. In my enthusiasm I wanted to give the helpful people an update; I really didn't intend to come across as someone who is incapable of using the endless resources available to solve a common problem. <br><br></td></tr></table><br>
<a name="1171522"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> For people whose mother tongue isn't English it isn't as easy to find suitable information for all their problems... - and this includes me too.<br><br>And as you updated for a new problem it didn't let me think of "he used a ressource having all algorithms ready to use" but an "he tries to do it by himself".<br><br>Glad you get it fixed.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1171529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nest</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, while I can't get to my PC until later, I think if I move the "what tile is my sprite in" check to the closest point of the image to the camera (in this instance the lower left corner), it should fix it. I am looking forward to trying it later. :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
