<!DOCTYPE html><html lang="en" ><head ><title >Fragment shader demo!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Fragment shader demo!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Fragment shader demo!</a><br><br>
<a name="470759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>Just a little test showing a fragment shader in action (it's the first thing I dived into after getting max!)<br><br>Source:<br><a href="http://www.tomspeed.com/frag_shader1.zip" target="_blank">http://www.tomspeed.com/frag_shader1.zip</a><br><br>It's a very simple demo, but it's nice to see shaders working in B'Max! :)<br><br>Shaders can be loaded from a file or from a string$ internaly, change 'FileShaderSource' to False to load from a string.<br><br><br>Happy holidays everyone!<br>And Thanks to BRL for an exciting program!!!<br><br>Tom Speed<br>'Scouse' @ irc.blitzed.org #blitzbasic<br><br>p.s<br>Some useful links:<br><a href="http://developer.3dlabs.com/openGL2/specs/index.htm" target="_blank">http://developer.3dlabs.com/openGL2/specs/index.htm</a><br><a href="http://www.typhoonlabs.com" target="_blank">http://www.typhoonlabs.com</a> (cool shader editor!)<br><a href="http://www.clockworkcoders.com/oglsl/tutorials.html" target="_blank">http://www.clockworkcoders.com/oglsl/tutorials.html</a> <br><br></td></tr></table><br>
<a name="470764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kanati</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nice...  <br><br>I find it very odd that I get 1580fps average with a debug build.  And 1200-1300 variable average on a non-debug build. <br><br></td></tr></table><br>
<a name="470806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So you got it working? Nice! <br><br></td></tr></table><br>
<a name="470810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Kanati - if you haven't done it already - stick this as a bug report. <br><br></td></tr></table><br>
<a name="470846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Panno</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> shader not supportet here !<br>i need a better gfx card ;)<br><br>hmm tom shaders ;) <br><br></td></tr></table><br>
<a name="470880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> my gf4ti4200 claims to support vertex/pixel shaders- but nothing that uses them works... any ideas peeps!? :S <br><br></td></tr></table><br>
<a name="470893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Damien: try this<br><br><pre class=code>
fo:TStream=WriteFile("c:\GL_EXTENSIONS.txt")
bglCreateContext ScreenWidth,ScreenHeight,ScreenDepth,0
r:string= String.FromCString$(Byte Ptr(glGetString( GL_EXTENSIONS )))
WriteString(fo,r)
CloseFile(fo)</pre><br><br>Can you paste the text file it writes out online for me to see, thanks.<br><br>Tom<br><br>While GotBeer=True<br>  Drink(Beer)<br>Wend<br>Weeeeeeeeeeeeee() <br><br></td></tr></table><br>
<a name="470906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Checking the extensions shows i have shader support (i think)<br><div class="quote"> <br>GL_ARB_depth_texture GL_ARB_imaging GL_ARB_multisample GL_ARB_multitexture GL_ARB_occlusion_query GL_ARB_point_parameters GL_ARB_point_sprite GL_ARB_shadow GL_ARB_shader_objects GL_ARB_shading_language_100 GL_ARB_texture_border_clamp GL_ARB_texture_compression GL_ARB_texture_cube_map GL_ARB_texture_env_add GL_ARB_texture_env_combine GL_ARB_texture_env_dot3 GL_ARB_texture_mirrored_repeat GL_ARB_transpose_matrix GL_ARB_vertex_buffer_object GL_ARB_vertex_program GL_ARB_vertex_shader GL_ARB_window_pos GL_S3_s3tc GL_EXT_texture_env_add GL_EXT_abgr GL_EXT_bgra GL_EXT_blend_color GL_EXT_blend_minmax GL_EXT_blend_subtract GL_EXT_compiled_vertex_array GL_EXT_Cg_shader GL_EXT_draw_range_elements GL_EXT_fog_coord GL_EXT_multi_draw_arrays GL_EXT_packed_pixels GL_EXT_paletted_texture GL_EXT_pixel_buffer_object GL_EXT_point_parameters GL_EXT_rescale_normal GL_EXT_secondary_color GL_EXT_separate_specular_color GL_EXT_shadow_funcs GL_EXT_shared_texture_palette GL_EXT_stencil_wrap GL_EXT_texture3D GL_EXT_texture_compression_s3tc GL_EXT_texture_cube_map GL_EXT_texture_edge_clamp GL_EXT_texture_env_combine GL_EXT_texture_env_dot3 GL_EXT_texture_filter_anisotropic GL_EXT_texture_lod GL_EXT_texture_lod_bias GL_EXT_texture_object GL_EXT_vertex_array GL_HP_occlusion_test GL_IBM_rasterpos_clip GL_IBM_texture_mirrored_repeat GL_KTX_buffer_region GL_NV_blend_square GL_NV_copy_depth_to_color GL_NV_depth_clamp GL_NV_fence GL_NV_fog_distance GL_NV_light_max_exponent GL_NV_multisample_filter_hint GL_NV_occlusion_query GL_NV_packed_depth_stencil GL_NV_pixel_data_range GL_NV_point_sprite GL_NV_register_combiners GL_NV_register_combiners2 GL_NV_texgen_reflection GL_NV_texture_compression_vtc GL_NV_texture_env_combine4 GL_NV_texture_rectangle GL_NV_texture_shader GL_NV_texture_shader2 GL_NV_texture_shader3 GL_NV_vertex_array_range GL_NV_vertex_array_range2 GL_NV_vertex_program GL_NV_vertex_program1_1 GL_SGIS_generate_mipmap GL_SGIS_multitexture GL_SGIS_texture_lod GL_SGIX_depth_texture GL_SGIX_shadow GL_SUN_slice_accum GL_WIN_swap_hint WGL_EXT_swap_control  <br></div><br><br>whatever it is ive never been able to use shaders. and my box says both vertex and pixel shaders supported...<br><br>i thought ti4200s didnt do them to begin with!? :S <br><br></td></tr></table><br>
<a name="470910"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> depends on the shader version used ...<br>Your card only supports the low end Shaders, while most actual games need Shader 2 <br><br></td></tr></table><br>
<a name="470912"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's Vertex shader suport, but no Fragment/Pixel extension. What drivers you using?<br><br>Here's an old Creative GF4ti4200 review:<br><a href="http://www.ocworkbench.com/2002/creative/GF4Ti4200/3dblasterti4200pg1.htm" target="_blank">http://www.ocworkbench.com/2002/creative/GF4Ti4200/3dblasterti4200pg1.htm</a><br><br>It says the card supports Pixel Shaders<br><div class="quote"> Hardware Features <br>NVIDIA® nfiniteFX™ II Engine <br>Programmable Vertex Shaders <br>Programmable Pixel Shaders <br>Lightspeed Memory Architecture™ II <br>Accuview Antialiasing™ <br>nView™ Display Technology <br>Transform and Lighting (T&amp;L) engines <br></div><br><br>I wonder if it's an OpenGL thing? Maybe pixel shaders are only supported in GL1.4+ ?<br><br>Try this:<br><pre class=code>
Print String.FromCString$(Byte Ptr(glGetString( GL_VERSION )))
Print String.FromCString$(Byte Ptr(glGetString( GL_RENDERER )))
</pre><br><br>Tom <br><br></td></tr></table><br>
<a name="470913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Extron</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> GeForce4 Ti4600 report :<br>"GL_ARB_fragment_shader not supported!"<br>GeForce6 6800 Ultra report OK.<br><br>Geforce4 Ti 4600 have no "GL_ARB_fragment_program", no "GL_ARB_fragment_shader" and no "GL_ARB_shader_objects", result don't pass test.<br><br>GeForce6 have "GL_ARB_fragment_shader, GL_ARB_fragment_program and GL_ARB_shader_objects", result pass all tests.<br><br>Beware whith vertex and shader program, recent card have this, but old card none.<br><br>And Tom tested whith Geforce FX. ;) <br><br></td></tr></table><br>
<a name="470915"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Extron</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> And to respond to Tom :<br>GeForce4 Ti 4600 report "1.4.0" "GeForce4 Ti 4600/AGP/SSE2"<br>GeForce6 6800 Ultra "1.5.1" "GeForce 6800 Ultra/AGP/SSE2"<br><br>And after driver upgrade 66.93<br>GeForce4 Ti 4600 "1.5.2"<br>GeForce 6800 Ultra "1.5.2"<br>And same result : GeForce4 out, GeForce 6800 Ultra ok. <br><br></td></tr></table><br>
<a name="470926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Difference</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool. Works like a charm on my Asus Radeon 9600XT. <br><br></td></tr></table><br>
<a name="470933"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok.. its doing 'something' to the quad, but Im not sure its the desired effect..? you call it fragment shader, but to me it looks like an ordinary gradient with anti-alias on the edges..<br><br>Ati Radeon 9800 XT <br><br></td></tr></table><br>
<a name="470942"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's a 'very' simple shader, it changes the pixel color based on it's screen Y coordinate :)<br><br>Support for pixel shaders does look bad, I thought at least GF4 cards could do them :S <br><br></td></tr></table><br>
<a name="470947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> IM using the newest drivers- whatever they are (im usually one step ahead of the official releases but when bugs appear i revert and play) <br><br></td></tr></table><br>
<a name="470949"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drago</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> gf4 can do pixel shaders below version 2, so if you are using a shader that says FX_20 then gf4 can't use it. <br><br></td></tr></table><br>
<a name="470954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  It's a 'very' simple shader, it changes the pixel color based on it's screen Y coordinate :)<br><br>Support for pixel shaders does look bad, I thought at least GF4 cards could do them :S  <br></div><br><br>ok, then its working just fine ^^ <br><br></td></tr></table><br>
<a name="471243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> The shader programs are not supported on my humble iBook. I know that the shader commands are part of an extension which is not a standard part of OpenGL 1.2. Do we need to be installing some kind of opengl extension modules? <br><br></td></tr></table><br>
<a name="471249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> glsl requires 60+ drivers. i.e gl1.4/1.5 <br><br></td></tr></table><br>
<a name="471774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdrianT</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doesn't work on the Geforce3 either, tried the latest 7x.xx drivers so I guess it's not a 1.1 shader.<br><br>get the error: Unhandled Exception: GL_ARB_fragment_shader not supported!<br><br>GL doesn't seem to be that great for shaders really compared to DX since there isn't much 3rd party support for them. Hopefully we will eventually end up with a nice basic set of features like masking 2 textures, 2 textures and specular, reflectin maps etc. <br><br>since most shader cards should be able to do most of what the xbox has been doing the last 3 years. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
