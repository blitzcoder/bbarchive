<!DOCTYPE html><html lang="en" ><head ><title >Torque datablock equivalent?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Torque datablock equivalent?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Torque datablock equivalent?</a><br><br>
<a name="845333"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >amaranth</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just made the switch from Torque to BlitzMax, and I'm trying to familiarize myself with the new language...<br><br>In Torque, there is a thing called a datablock that you can use to put things into groups (classes?). I'm trying to figure out how to recreate my datablocks in BlitzMax. <br><br>For example, here are two of my Torque datablocks. The second one, "Grain" belongs to the first one, "Item":<br><br>//Item<br>datablock t2dSceneObjectDatablock(ItemDatablock) <br>{<br>    Class = "Item";<br>    Layer = "18";<br>    UseMouseEvents = "1";<br>    Size = "5 5";<br>};<br><br><br>//Grain<br>datablock t2dSceneObjectDatablock(i0Datablock:ItemDatablock) <br>{<br>    //Grain<br>    type = "0";                                             <br>    attack = "0";<br>    price = "2";<br>};<br><br>Any help would be much appreciated! <br><br></td></tr></table><br>
<a name="845336"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Type Item<br>    Field Class:String="Item"<br>    Field Layer:Int=18<br>    Field UseMouseEvents:Int=1<br>    Field Size:Int=5<br>End Type<br><br>Local MyItem:Item = New Item<br>Item.Class="Item"<br>Item.Layer=24<br>Item.UseMouseEvents=0<br>Item.Size=11 <br><br></td></tr></table><br>
<a name="845347"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >amaranth</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great! I'm still not sure how I would create the Grain datablock. I would have it inherit the default values assigned to the Item datablock. Maybe the types would look like this:<br><br>Type Item<br>Field Class:String="Item"<br>Field Layer:Int=18<br>Field UseMouseEvents:Int=1<br>Field Size:Int=5<br>End Type<br><br>Type Grain:Item <br>Field ItemType:Int=0<br>Field Attack:Int=0<br>Field Price:Int=2<br>End Type<br><br>Local Grain = New Item <br><br></td></tr></table><br>
<a name="845349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Amaranth<br>Nice to see you over here :)<br><br><br>What you are looking for does not exist in that way in BM.<br>There is nothing that defines an "arbitary" object like a sprite or the like as BM only has a 2D through 3D based drawing system as a module to its programming and no 2d engine on top of it like TGB.<br>Nor does most of the other things you are used to exist unless you implement it in your own 2D engine.<br><br>The only thing that is even slightly similar to Datablocks are Types.<br>To replicate the behavior of your part above, you would have:<br><pre class=code>

' Item
Type TItemDatablock

 field Class:String = "Item"
 field Layer:int = 18
 field UseMouseEvents:int = true
 field Size:float[] = [5 5]
end type


' Grain
type Ti0Datablock extends TItemDatablock

 field type:int = 0
 field attack:int = 0
 field price:float = 2
end type

Local Grain = Ti0Datablock  </pre><br><br>If you want the datablock based approach with "dynamic classes" this will be a fair amount of work. There is no such mechanism or system available.<br>Above shows you thought how to work with the classes directly.<br>You can still create Template Classes (like the datablocks in TGB) and implement functionality into them ( methods ).<br><br>What you do in BM is the same what Torque does on the C++ side ...<br><br>PS: How did your teams last game work out? :) <br><br></td></tr></table><br>
<a name="845358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >amaranth</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah drats, I was worried about that. No matter, I'll re-learn... I've been working my way down the coding tree backwards. <br><br>The last game is doing great! I'm ready to move on and try something new. Cartman suggested Blitz. So far, I've really enjoyed learning how to work with it. I'll probably have a flood of questions in the next couple of weeks as I get off the ground. Luckily, I'm starting with Grey Alien's Framework, so that should help a lot.<br><br>:D <br><br></td></tr></table><br>
<a name="845362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well that is right, targetting getting a game ready in less time, Grey Alien's Framework is actually of a lot of help :)<br><br>I'm sure you will enjoy learning it, thought you first will have to get "unused" to some of the stuff you learned in Torque as there are things that can not be replicated unless you implement an own scripting backend (MicroC from Binary Phoenix might be the simplest solution or BriskVM 2) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
