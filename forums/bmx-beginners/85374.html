<!DOCTYPE html><html lang="en" ><head ><title >Types... classes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Types... classes</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Types... classes</a><br><br>
<a name="965561"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it just me or has the identifier "Field" become moot?<br><br>Since you can't declare local/global variables within a type, its functions or methods, a declaration for a variable becomes assumed.<br><br>Field A:int=0 becomes<br><br>A:Int=0<br><br>Am I off base here? <br><br></td></tr></table><br>
<a name="965563"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> A "Field" is an instance variable for the class/Type. i.e. it has local-scope to an object instance of a type.<br><br>You can also have Globals declared in the Type, which are "class variables", or "static". That is they have global scope for all references to the type.<br><br>You can of course declare variables both locally and globally within a Method or Function, within a Type. Just as you would elsewhere. <br><br></td></tr></table><br>
<a name="965574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey,<br><br>Thanks...  for some reason I was getting an error when I tried to declare global/local variables in my project... I just tried again in a new file and it works... not sure where I've gone wrong in my main project... A nice little learning curve with Max ;)<br><br>Cheers. <br><br></td></tr></table><br>
<a name="965575"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> One more thing, if you don't mind my asking, which IDE are you using? <br><br></td></tr></table><br>
<a name="965581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm currently using the default IDE (on all three platforms). <br><br></td></tr></table><br>
<a name="965592"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The community edition or the standard one that comes with it?<br><br>Oh ok, I've been trying out Blide... its pretty nice but missing some features I like... IDEal was really nice (for B3D) but the developer is unfortunately incognito and there are a few bugs. <br><br></td></tr></table><br>
<a name="965718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this supposed to work like this?<br><pre class=code>
Type a
	Field b=1

	Method c()
		Print b
		Self.b=2
		Print b
		yes()
		Print b
	End Method

	Function yes()
		b=3
		Print b
	End Function
End Type

aa:a=New a
aa.c()
WaitKey()
End
</pre><br><br>I get...<br><br>1<br>2<br>3<br>2<br><br>should it not be..<br><br>1<br>2<br>3<br>3?<br><br>Can the function not access the Type fields? I know the function does not like a self declaration... <br><br></td></tr></table><br>
<a name="965719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the function yes(), "b" is a local variable.<br><br>You may find it useful to add Strict or SuperStrict to the top of your source file. You'll find it will help you with some of your questions.<br><br>Strict (and SuperStrict) require you to define the scope of the variables you create.<br>So this line :<br><pre class=code>
aa:a=New a
</pre><br><br>might change to :<br><pre class=code>
Local aa:a=New a
</pre><br><br>:-) <br><br></td></tr></table><br>
<a name="965732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warpy</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> A quick explanation of scope:<br><br>'scope' means the set of variables that your code can access at any point in time. The way it works in blitzmax is that there's a 'hierarchy' of scope, starting at variables defined in the local environment, then moving down through object fields if you're in a method, to global variables declared in a type, and finally to global variables declared in the main program. The compiler starts at the top of the hierarchy and moves down until it finds the name it's looking for, and uses the value stored in that scope.<br><br>In a Type, you can define Fields, for which every instance of the type has its own value, and globals, which have only one value for the whole type.<br><br>Types can contain Methods and Functions. In a Function, the scope includes only global variables and local variables declared inside the function, and there is no 'Self' - defining a function inside a type is just a way of saying it does something relevant to that type.<br><br>In a method, there is a 'Self' object which corresponds to the object whose method you called. All of that object's fields become local variables inside the method, so you can access them just by their names and without putting 'Self.' in front of them.<br><br>Here are a couple of examples, which might help you to see what's going on:<br><pre class=code>
'variable scope example
'by cp

Global n=1

Function whatisN()
	Print n	'the only 'n' accessible in this scope is the one declared outside the types
End Function

Function whatisLocalN()
	Local n=2	'you can also declare a new local variable called 'n' which overrides the global one.
			'the global 'n' is not changed at all and can still be accessed by other functions
	Print n
End Function

Type a
	Global n=3	' global here means that it is accessible by all functions and methods declared in a
	
	Function whatisN()
		Print n	'in this scope, 'n' refers to the variable declared inside this type
	End Function
End Type

Type b
	Field n
	
	Method whatisN()
		Print n	'in this scope, 'n' refers to the field of the object whose whatisN method we called
	End Method
	
	Method whatisLocalN()
		Local n=6	'again, you can declare a local variable which overrides any other references to 'n'
				'no other n variable is changed by this declaration, and this value disappears when the function finishes
		Print n
	End Method
End Type

b1:b=New b	'create an instance of the type 'b'
b1.n=4

b2:b=New b	'and another one
b2.n=5


'each of these functions will print the value of 'n' in their local scope
whatisN()
whatisLocalN()
a.whatisN()
b1.whatisN()
b2.whatisN()
b1.whatisLocalN()
b2.whatisLocalN()


'you can also access a global variable in a type by using the dot syntax
Print a.n

'Print b.n		'but you can't get b.n because each instance of b has a different value of n
</pre><br><br>function names also obey scope rules:<br><pre class=code>
'function scope example
'by cp


Type a
	Function yes()
		Print "A says yes"
		
		no()	'this will call the no function belonging to a, because it is local in a's scope
	End Function
	
	Function no()
		Print "A says no"
	End Function
End Type

Type b
	Function yes()
		Print "B says yes"
		
		no()	'this will call the no function belonging to b, because it is local in b's scope
	End Function
	
	Function no()
		Print "B says no"
	End Function
End Type

Function yes()
	Print "yes"
	no()	'this will call the global no function
End Function

Function no()
	Print "no"
End Function

'call the yes function belonging to a
a.yes()

'call the yes function belonging to b
b.yes()

'call the global yes function 
yes()
</pre> <br><br></td></tr></table><br>
<a name="965798"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Warpy and Brucy,<br><br>So are functions part of the type schema and not the instance then...ahhhh that would make sense to me, since I would then have to pass the type instance to the function to use the instance fields because it wouldn't know where the instance data is. <br><br>Cheers <br><br></td></tr></table><br>
<a name="965858"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Functions are static, methods are instance.<br>Same deal as in C# (read somewhre you've bene using C#, so that should make things clearer). <br><br></td></tr></table><br>
<a name="965879"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ya got it Jim... thanks muchly<br><br>As soon as I realized that I've been slamming away at the code.. should be back where I was (but with enhancements) in a few days. <br><br></td></tr></table><br>
<a name="973941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kistjes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> If we look at the Warpy's sample code you see Type b has a whatIsN() method and there is a global whatIsN() function. <br>How can I call the global whatIsN() function from within a b-instance?<br><pre class=code>
'variable scope example
'by cp

Global n=1

Function whatisN()
	Print n	'the only 'n' accessible in this scope is the one declared outside the types
End Function

Type b
	Field n
	
	Method whatisN()
		Print n	'in this scope, 'n' refers to the field of the object whose whatisN method we called
	End Method
	
	Method whatisLocalN()
		Local n=6	'again, you can declare a local variable which overrides any other references to 'n'
				'no other n variable is changed by this declaration, and this value disappears when the function finishes
		Print n
	End Method

	'***********************
	Method whatisGlobalN()
		'how do I call the global whatIsN() function here?
	End Method
	'***********************

End Type


b1:b=New b	'create an instance of the type 'b'
b1.n=4

b1.whatisN()  'will print 4

b1.whatisGlobalN()  'should print 1
</pre> <br><br></td></tr></table><br>
<a name="973946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> IIRC try:<br><pre class=code>
	Method whatisGlobalN()
		'how do I call the global whatIsN() function here?
		.whatisN()
	End Method
</pre> <br><br></td></tr></table><br>
<a name="973958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Although a very bad practice to name both a function and method the same (he was just trying to illustrate scope), the difference would be in how you call it:<br><br><pre class=code>
b.WhatIsN()  'calls the function as it is from the base type (non-instance)

local b1:b=new b
b1.WhatIsN() 'calls the method (as it is instance based) over-riding the function (polymorphism)
</pre><br><br>Cheers <br><br></td></tr></table><br>
<a name="973961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think he wanted to call the global function which stays outside the type and not a base type function. <br><br></td></tr></table><br>
<a name="973966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh.. I'd have to test that but I believe there is a 'super' keyword that is used to call functions from the next level up... <br><br></td></tr></table><br>
<a name="973983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I dont think you can... super only works within class instances to access the base type of extended types...<br><br><pre class=code>
'variable scope example
'by cp mod by _skully

Global n=1

Function whatisN()
	Print "Global N: "+n	'the only 'n' accessible in this scope is the one declared outside the types
End Function

Type b
	Field n:Int=6
	
	Method whatisN()
		Print "Type b N: "+Self.n	'in this scope, 'n' refers to the field of the object whose whatisN method we called
	End Method
	
	Method whatisLocalN()
		Local n=7	'again, you can declare a local variable which overrides any other references to 'n'
				'no other n variable is changed by this declaration, and this value disappears when the function finishes
		Print "Type b L N: "+n
	End Method
End Type

Type c Extends b
	Field n:Int=9
	
	Method whatisN()
		Print "Type c N: "+Self.n
	End Method
	
	Method WhatisSuperN()
		Print Super.whatisN()
	End Method
End Type



b1:b=New b	'create an instance of the type 'b'
c1:c=New c	' now type c

Print "Global N"
whatisN()

Print "From B"
b1.whatisN()
b1.whatisLocalN()

Print "From C"
c1.whatisN()
c1.WhatisSuperN()
</pre> <br><br></td></tr></table><br>
<a name="973984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Actually I dont think you can...<br> <br></div><br><br>Did the solution i my first post not work?<br>Maybe you overlooked the small dot? <br><pre class=code>
	Method whatisGlobalN()
		'how do I call the global whatIsN() function here?
		<b>.whatisN()</b>
	End Method
</pre> <br><br></td></tr></table><br>
<a name="974001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, yes I did overlook the small dot LOL  Me needs glasses ;)<br><br>Thanks for that! and yes it works. <br><br></td></tr></table><br>
<a name="974175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kistjes</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Although a very bad practice to name both a function and method the same (he was just trying to illustrate scope), ... <br></div><br>I agree, but I was curious if there was some kind of syntax available. <br>And as jsp showed us, it seems there is.<br>Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
