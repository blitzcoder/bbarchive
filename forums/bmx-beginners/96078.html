<!DOCTYPE html><html lang="en" ><head ><title >Arrays of Objects</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Arrays of Objects</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Arrays of Objects</a><br><br>
<a name="1110354"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armorproof</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I have tried to create is a Field of an Array of Objects.<br>So far, I believe I have got the basics of it working, but I am having lots of troubles with accessing a field of one of the objects in the array.<br>What I have for trying to access it is as follows:<br><br>DrawText level.levelArray[1,1].value,cntx*14,cnty*14<br><br>I am taking a wild guess and saying that this is the problem. Is there a way to bring up the object, and then access one of its values, instead of doing it in one line? Or am I looking at it from the wrong angle all together. <br><br>Would greatly appreciate someones help, thank you. <br><br></td></tr></table><br>
<a name="1110369"></a>

<a name="1110444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That line of code doesn't really explain much about your problem.<br>are you storing different type of objects in the array?<br>one way or the other, you have to cast it back to the object class it was originally  before you can access the object fields.<br>if you are just putting one kind of object in the array than create the array as the object type you want to refer to, that way you can do as your sample code above.<br><br>if you are storing multiple objects types in the array, the best way to handle it is trough  polymorphying by creating the array type as the base type.<br><br>Don't create the array as type object, that will complicate things quite a bit.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1110388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> but this line would work!<br><br>Did you care about CREATING the objects with the NEW commands?<br><br><pre class=code>SuperStrict

Type TLevel
	Field Value%	
End Type

Type TypB
	Field C:TLevel[9,9]
End Type

Global A:TLevel[9,9]

' example one:
A[0,0]=New TLevel
A[0,0].Value=123
Print A[0,0].Value

'Example two:
Global B:TypB = New TypB
B.C[1,1]=New TLevel
B.C[1,1].Value=456
Print B.C[1,1].Value
</pre> <br><br></td></tr></table><br>
<a name="1110394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> What kind of error are you getting?  Try putting Strict or Superstrict at the top of your code and see if you get better info on what the problem is. <br><br></td></tr></table><br>
<a name="1110448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> We need to see the definition of the type with the array. <br><br></td></tr></table><br>
<a name="1110494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it a casting issue maybe?<br>Are you converting the objects to their types before trying to access the fields? <br><br></td></tr></table><br>
<a name="1110545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't know for sure since we don't have the code here, but I'm guessing it is a Field/Global problem.<br><br>I'm betting he has a field in type TLevel intended to hold a list of TLevels.  He creates one TLevel and adds it to the array.  Then he creates another TLevel and adds that to the array.  Problem is, if you have the array as a field, then each instance of the TLevel will have it's own individual array.  My guess is he is doing something like this<br><br><pre class=code>Type TLevel
	Field LevelArray:TLevel[10,10]
	Field value:Int
End Type

Local Level:TLevel

For Local x:Int = 0 To 9
	For Local y:Int = 0 To 9
		Level = New TLevel
		Level.Value = 10
		Level.LevelArray[x,y] = Level
	Next
Next

Print Level.LevelArray[1,1].value

</pre><br>Problem is that this would not work since the LevelArray within the current Level has only one element set.  What I think he wants to accomplish is this<br><pre class=code>Type TLevel
	Global LevelArray:TLevel[10,10]
	Field value:Int
End Type

Local Level:TLevel

For Local x:Int = 0 To 9
	For Local y:Int = 0 To 9
		Level = New TLevel
		Level.Value = 10
		Level.LevelArray[x,y] = Level
	Next
Next

Print TLevel.LevelArray[1,1].value
</pre><br>Now all instances share the same global array and can be accessed with TLevel.Levelarray[n,n]<br><br>A second possible problem would be something like<br>[code]<br>Global LevelArray:TLevel[9,9]<br>LevelArray[9,9] = new TLevel<br><br>Which won't work since the array would be indexed with [0,0]-[8,8] <br><br></td></tr></table><br>
<a name="1110587"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now it's getting ridiculous. How can you guess all that from one vague description? <br><br></td></tr></table><br>
<a name="1111084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armorproof</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Even with my vague description though, you guys helped me get closer to the solution of my problem :D<br>Thanks, even if you guys didn't know what you were helping with lol <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
