<!DOCTYPE html><html lang="en" ><head ><title >object moves every x millisecs</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >object moves every x millisecs</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >object moves every x millisecs</a><br><br>
<a name="948130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i would like to know how to make an object move every x number of milliseconds.<br><br>I have this game where you can adventure around, and as soon as you get in range of the enemies they chase after you, however the enemies get to you the instant you get within range.<br><br>so i need to have them move only x number of milliseconds.<br><br>ive tried converting some code that someone shared with me to have a key pressed every x milliseconds, however I was unable to change it to my purpose.<br><br>Thanks!<br><br>B <br><br></td></tr></table><br>
<a name="948158"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BladeRunner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>type test
   field lastmoved:int
   
   method move()
      if millisecs() &gt; lastmoved then
           lastmoved = millisecs()+500' 2 times a second.
           'your moving stuff here
           print "hello moving world" 'for testing purposes only
      endif
   end method
end type

local t:test = new test
while not keyhit(key_escape)
   t.move()
wend</pre> <br><br></td></tr></table><br>
<a name="948186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> you are making your game programming too complicated. The way you are doing it will require to make a trigger for every object you want to move. <br>Try moving everything a fraction of a pixel.<br><br>lets say you have an object with x and y both have to be floats).<br>first you know that flip() flips sixty times a second so if you want it to move 2 pixels per second  you do:<br>dx:float = 2.0/60.0<br>dy:float = 2.0/60.0<br>so if you want to move your character to the right you do this:<br>x:float = x+dx<br>for down:<br>y:float = y+dy<br>and to draw it all you have to do is:<br>drawimage image,x,y or drawtext text$,x,y<br>that should work for any character you want to move even your player. <br><br></td></tr></table><br>
<a name="948240"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Pete Carter</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doesnt blitzmax default the refresh to your desktops refresh rate unless you set it? <br><br></td></tr></table><br>
<a name="948308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Peter Carter:<br>if look up the graphics command,it shows this:<br>Function Graphics:TGraphics( width,height,depth=0,hertz=60,flags=0 )<br>if you don't specify the hertz it will default to 60. and is what you use when you do a flip() or flip(-1). <br><br></td></tr></table><br>
<a name="948497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameproducer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This thread might be helpful:<br><a href="http://www.blitzmax.com/Community/posts.php?topic=83511" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=83511</a> <br><br></td></tr></table><br>
<a name="948535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I didn't want to mention it yet as I thought it might be a bit too much for him. <br><br></td></tr></table><br>
<a name="948615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ya all that stuff is pretty complicated to me.<br><br>I can sorta understand what they are talking about, but putting those ideas down to code is a whole other ballgame for me.<br><br>I put bladerunners code in my game and it seems to work fine.  Jesse's idea worked but it didnt quite capture the feel of the game that I wanted.<br><br>I was wondering could I use Jesse's idea, and then just change how often I update the graphics to make it seems like its moving on a 10x10 grid? like squares? <br><br></td></tr></table><br>
<a name="948617"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> then in that case do this<br>if you did it like I said, then<br>what ever result you get out of x and y do this: <br><br>px:float = floor(x/10.0)*10.0 'this will make the movement only every ten pixels<br>py:float = floor(y/10.0)*10.0<br><br>drawtext text$,px,py<br>drawimage image,px,py <br><br></td></tr></table><br>
<a name="949024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >B</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok cool!<br><br>it took me a while to get it working in my code, but now I understand it!<br>that floor command is cool!<br><br>thanks alot Jesse!<br><br>ill use this code as it gives it the feel of of moving every 10 pixels but doesnt actually do that. it also cuts way back on code and I think it's better than creating a flag every single time.<br><br>does this way not slow down the program as much as making flags?<br><br>what exactly are the pros and cons of this way over Bladerunner's way? <br><br></td></tr></table><br>
<a name="949051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>does this way not slow down the program as much as making flags?<br> <br></div><br>True, less code to process.<br><div class="quote"> <br>what exactly are the pros and cons of this way over Bladerunner's way?<br> <br></div><br>blade runner way has its use. Such as writting text while your program is running. I don't think he generally codes that way either(I coud be wrong). We are all just trying to work with you to get your code working. <br><br>I personaly don't think anybody uses his way to move objects or process key presses for object movement but I can only speak for myself. <br><br></td></tr></table><br>
<a name="949182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BladeRunner</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually I would use such a code for moving purposes of enemies.<br>As they are in a seperate Class they can just be updated in a single loop and all movement woud be done for each instance. I don'tsee where this way is to complicated?<br>If all Instances of an class had to be updated/moved/whatever at once, i would add a class-global timer for this use.<br>This way there can be individual movement and also grouped movement with jus one line of code called.<br>The overhead of this operations shouldn't be a problem at all.<br><br>Maybe my code was misinterpreted because it was a very simplified example? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
