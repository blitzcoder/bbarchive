<!DOCTYPE html><html lang="en" ><head ><title >Pointer types! Help!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Pointer types! Help!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Pointer types! Help!</a><br><br>
<a name="794156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i decided to work on blitzmax because Blitzplus cannot handle pointers. But its not without troubles =O<br><br>This is mainly to display some values stored in my computer, out of my program. (I hope you will understand, i am not speaking english very well)<br><br><pre class=code>
Local MyPointer:Int Ptr = 1500
</pre><br><br>The error is : Unable to convert from 'Int' to 'Int Ptr'<br><br>What should i do?<br><br>EDIT : solved, the new problem is to find a way to retrieve a value stored out of the BMX process ... check the lasts posts for details.<br>Impossible? could htmlview bypass that problem, seeing the game i play is a java online game? <br><br></td></tr></table><br>
<a name="794157"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the doc :<br><div class="quote"> <br>Pointers<br>Pointers are intended for use by code that must perform low level interaction with the operating system and/or speed sensitive code. Pointers are not recommended for general use, as misuse of pointers can easily result in memory corruption causing all sorts of bugs and headaches!<br><br>Pointers are declared by appending Ptr to the type of a variable or function parameter declaration: <br>Local int_ptr:Int Ptr<br><br>The VarPtr operator allows you to find the address of a variable, yielding a pointer: <br>Local an_int=10<br>int_ptr=VarPtr an_int<br><br>Array style indexing is used to dereference pointers: <br>Print int_ptr[0]<br><br>BlitzMax also supports pointer arithmetic, using the standard + and - operators. <br> <br></div><br>Is this what you're after?<br>If not you can cast the int to an int ptr..<br><pre class=code>
Local pointer:int ptr = int ptr(1500)
</pre> <br><br></td></tr></table><br>
<a name="794161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes i found that part of the doc, but actually you just have been more helpful than it :)<br><br>wow, pretty simple, thanks!<br><br>And by the way what is the simplest way to convert an hexadecimal value to a decimal value?<br>[Edit] found the '$' symbol for coding, is there any simple way to convert a hex in a string to a decimal value? <br><br></td></tr></table><br>
<a name="794162"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Canardian</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> n = "$FF".ToInt() <br><br></td></tr></table><br>
<a name="794163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow! This is awesome! thanks again :D<br><br>[EDIT]<br>Sometime i get the message :<br>"Unhandled Exception:Unhandled Memory Exception Error"<br><br>Does this mean i am unable to read everything i want? <br><br></td></tr></table><br>
<a name="794166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes. If you are using my casting example then, effectively, you are trying to find the value pointed to by 1500 which does not exist. <br><br></td></tr></table><br>
<a name="794169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have proven the existence of a certain value using another software ( Artmoney )<br><br>i can see the actual value changing in this software as well as seeing it changing it in my game.<br><br>but i still get that Unhandled Memory Exception Error in blitzmax. <br><br></td></tr></table><br>
<a name="794171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, this is getting confusing. <br>Post the code you are using and what you're trying to do. <br><br></td></tr></table><br>
<a name="794173"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is pretty simple<br>Sometimes when playing a mmorpg game an important value must be watched on critical situations.<br>If it falls to 0 you are more likely to die before attempting to raise it back.<br><br>The problem is : i oftenly forget to watch this value!<br><br>the aim is : create a program which beep when this value get close to 0!<br><br>and to be started, i only need to retrieve this value into my program<br><br>using Artmoney, i can easily find the adress of that value. i then use it into my program (very short and simple, for a start)<br><br><pre class=code>
Strict

Local pointer:Int Ptr = Int Ptr(284079592)

Print pointer[0]
</pre><br><br>i get the message : "Unhandled Exception:Unhandled Memory Exception Error". <br><br></td></tr></table><br>
<a name="794183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Local pointer:Int Ptr = Int Ptr(284079592)<br> <br></div><br><br>Aren't you trying to cast an int as an int ptr here rather than a pointer to an int?<br><br><pre class=code>
SuperStrict
Global value:Int = 284079592
Local pointer:Int Ptr = Varptr(value)

Print pointer[0]
</pre> <br><br></td></tr></table><br>
<a name="794186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> So the address you have is not the address of a Bmax variable in your Bmax program and your Bmax addressable area? <br>Is the address an Int? <br>I don't even think Bmax can address memory outside it's own address space. <br><br></td></tr></table><br>
<a name="794187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> 284079592 is the current pointer to the value which should return 70 when my ingame bonus is full.<br><br>284079592 is $10EEB5E8 which i believe is the same thing. they are both the adress to the value i wish to retrieve from my game.<br><br>Edit : you may be right, its writen to be a 4 octet var. let me check the doc...<br>Its not a Blitzmax variable indeed. =(<br><br>Edit : if Bmax can't do it, can C do it? and in this case, can i import a C function to bypass the problem?<br><br>Edit3: My brother yelled me to play with him, i will take a break for now ;) thanks for your help. <br><br></td></tr></table><br>
<a name="794210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to have proper access to be able to read/write to memory outside your own process.<br><br>If your on windows, check out these:<br><a href="http://msdn2.microsoft.com/en-us/library/aa366907.aspx" target="_blank">VirtualQueryEx</a><br><a href="http://msdn2.microsoft.com/en-us/library/ms680553.aspx" target="_blank">ReadProcessMemory</a> <br><br></td></tr></table><br>
<a name="794247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> "out of process" hum?<br><br>what if the game is played using htmlview like i did with B+? (Its a java game) <br><br></td></tr></table><br>
<a name="794260"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> What makes you certain the address will never change? <br><br></td></tr></table><br>
<a name="794284"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I previously studied carfully with Artmoney how everything is going. <br><br></td></tr></table><br>
<a name="794294"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> what if the game is played using htmlview like i did with B+? (Its a java game) <br></div><br>Java programs runs inside the JVM, so still another process.<br><br>You should be extra careful when doing this to Java programs, as the JVM can move memory around at any time to make room for other stuff, so there is no guarantee the variable will stay at the same place. <br><br></td></tr></table><br>
<a name="794298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Studied on every computer? The operating system decides where programs are run in the memory, you're just asking for trouble by using absolute addressing. <br><br></td></tr></table><br>
<a name="794303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzProg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> grable &gt; I selected my own bmax process to search the value for and found it :/<br>I am absolutly sure its the right adress i find, because Artmoney refresh its finds and the value found exactly match the real one. <br><br>Azathoth &gt; Its ok, i am searching the value each time i log in the game.<br><br>I do not wish to give it away, its only a personal feature i would like to use beside the game. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
