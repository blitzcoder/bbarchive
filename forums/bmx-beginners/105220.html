<!DOCTYPE html><html lang="en" ><head ><title >Virtual?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Virtual?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Virtual?</a><br><br>
<a name="1280496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi folks!<br><br>I have a game here that is hard-coded to run at 800x600.<br>I'd like to be able to run it against different resolutions, for example 1024x768, and have everything just scale to fit the screen, and have the mouse work as if it was still 800x600.<br><br>Would this be a load of work, or is it quite simple to implement? (like a couple of magic lines in the right place).<br><br>Thanks ;-) <br><br></td></tr></table><br>
<a name="1280500"></a>

<a name="1280501"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> SetVirtualResolution will map an 800x600 screen to the graphics size, automatically scaling everything properly.  You do have to use VirtualMouseX() and VirtualMouseY() to map the mouse clicks properly.  Only real caveat is that pixmaps will not be scaled to the virtual resolution.  You will have to load them into Timages before drawing if you want them the correct size.<br><br>On other words, Call SetVertualResolution 800,600 right after the graphics command.  Change all MouseX() and MouseY() to VirtualMouseX() and VirtualMouseY(). All DrawPixmap pixmap,x,y needs to be changed to image = LoadImage(pixmap); DrawImage image,x,y.  Shouldn't need to do anything else. <br><br></td></tr></table><br>
<a name="1280516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Of course this means you should import the virtualResolution-file, else you wont have the required functions.<br><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2879" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2879</a><br><br><br>Also think about the letterboxes you might get (if you scale 800x600 - which is 4:3 to eg. 1920x1080, which is 16:9).<br><br><br>As you know my Dig-Framework, you might know some parts of it:<br>GetGraphicsManager().SetVsync(FALSE)<br>GetGraphicsManager().SetResolution(840,480)<br>GetGraphicsManager().SetDesignedResolution(800,600)<br>GetGraphicsManager().SetFullscreen(True)<br>GetGraphicsManager().InitGraphics()	<br><br>Similar it should be done with the virtual graphics setup.<br><br>Please make sure to have a look at the "throw"s the TVirtualGFX-Class has, as some of them disable "ingame windowed/fullscreen switching" (if I remember correctly...).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1280525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool. That worked well :-)<br><br>I added SetVirtualResolution(800, 600), and converted the mouse stuff to use the virtual mouse functions, and it all just works! Yay!<br><br>Thanks :o) <br><br></td></tr></table><br>
<a name="1280526"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, Brucey<br><br>You can take a look at my framework, and example code, to see how I do it using James Boyd's code.  My ScrambleRND code is online, you can check out the setup of that. It is running at a low resolution, buy toy can play it full-screen.<br><br><a href="https://github.com/wiebow/scramblernd.game2d" target="_blank">https://github.com/wiebow/scramblernd.game2d</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
