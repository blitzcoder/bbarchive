<!DOCTYPE html><html lang="en" ><head ><title >Being naughty</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Being naughty</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Being naughty</a><br><br>
<a name="1075349"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>I have an integer variable which is an address in memory.<br><br>I'd like to write values to this area of memory.<br><br>i.e. like an array but not using an array<br><br>Jim <br><br></td></tr></table><br>
<a name="1075350"></a>

<a name="1075351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use a bank?<br><br><a href="http://www.blitzbasic.com/bmdocs/command_list_2d_cat.php?show=Banks" target="_blank">http://www.blitzbasic.com/bmdocs/command_list_2d_cat.php?show=Banks</a><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1075352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Get the other program that is sending you this to send it as a Byte Ptr? <br><br></td></tr></table><br>
<a name="1075354"></a>

<a name="1075355"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can simply cast it to a byte pointer, can't you? I'm sure I do that with the window handle between the Windows API and TV3D. And, of course, you can address pointer just like arrays.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1075356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure how to use ptr.<br><br><br>Global data = 'address'<br><br>then what?<br><br>I'd like to write at address, address+1, address+2, etc<br><br>Jim <br><br></td></tr></table><br>
<a name="1075359"></a>

<a name="1075361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some info on what you are doing could be helpful. Where is this address coming from?? If it's from an external source, it should send it to you in a better format than just an integer. Casting between integers and pointer types is not really a good idea, as the size of the pointer depends upon the architecture and might be &lt;&gt; 32-bit int. Not a big deal for BM which will probably always be 32-bit, but it's the principle. (I've read of people doing this in serious business projects and causing headaches for people who need to fix it after them!)<br><br><pre class=code>SuperStrict

Local address:Int = 23432 'danger, will access arbitrary memory
Local smallpointer:Byte Ptr = Byte Ptr(address)
Local bigpointer:Int Ptr = Int Ptr(address)

'each element is 1 byte of memory
smallpointer[0] = 5
smallpointer[1] = 5
smallpointer[2] = 5
smallpointer[3] = 5

'each element is 4 bytes of memory
bigpointer[0] = 5
bigpointer[1] = 5
bigpointer[2] = 5
bigpointer[3] = 5
</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1075364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JBR</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, was trying to access a texture but it is not working. I'd like to create textures on the fly but normal methods are so slow.<br><br>Thanks again<br>Jim <br><br></td></tr></table><br>
<a name="1075367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Like pixmaps and stuff? I don't think operations on them can ever be fast, as the updated pixmap must be reloaded to graphics memory after each operation. <br><br></td></tr></table><br>
<a name="1075368"></a>

<a name="1075369"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, if you're retrieving the address in video memory, you'll probably do nothing at all, unless the drivers are a bit gung-ho in which case you might well crash the driver and bring the OS down with it. If you're retrieving the address in system memory, you would still need a way to upload it back to the card again.<br><br>Perhaps that a look at the normal methods and see if they can't be sped up by (for instance) not using mip maps or something. I was going to suggest compression, but I don't think compressed textures *can* be modified so that's probably out.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1075370"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could draw to the screen, and then grabimage <br><br></td></tr></table><br>
<a name="1075393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warner</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure if this helps, but maybe you can look into using shaders? <a href="http://www.blitzmax.com/Community/posts.php?topic=85263" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=85263</a> <br><br></td></tr></table><br>
<a name="1075409"></a>

<a name="1075410"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>mypointer:int ptr=int ptr (address)
address[0]=value</pre>Assuming 'address' is the variable you are receiving with the address, something like this should work. No blitz here, so untested. As you can see, you just use the pointer with array indexing like a plain old array.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1075418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> The gotcha here is accessing a texture. This lives (typically) in vram, not system memory. This puts it out of reach for any standard operation. The down side to modern architectures with all their graphically accelerated voodoo is that we no longer actually draw pixel by pixel, even when we think we do, it's all obfuscated behind the GPU interface which is generally accessed through opengl or directx (for the same reasons we use blitz on top of opengl/directx, talking at a lower level is "annoying" and every level down you get it's that much more annoying).<br><br>There are plenty of ways to update a texture, but they all have drawbacks (which is why there isn't one "best" way). If you can provide details on what you actually want to do perhaps someone can suggest an appropriate method. <br><br></td></tr></table><br>
<a name="1078586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you want to do manipulate textures etc then shaders are the better modern way to go - Its one the fundamental principles of programming the graphics card - to manipulate the vertices, and in your case, the textures on the fly.<br>After all, this is one the many reasons modern graphics cards were made programmable.<br>Its the future and definately a programming shift thats going to stay - at least until realtime ray tracing becomes realistic in the mainstream. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
