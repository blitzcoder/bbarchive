<!DOCTYPE html><html lang="en" ><head ><title >Improve My Code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Improve My Code</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Improve My Code</a><br><br>
<a name="536500"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If anyone wants to help, what I have so far is at: <br>(Open Test.bmx)<br><a href="http://www45.brinkster.com/QuickSetup/default.htm" target="_blank">http://www45.brinkster.com/QuickSetup/default.htm</a><br>(Open Test.bmx)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import "SAM.bmx" ' SAM inlcudes bobs and images and SAM
' set some local vars for use
Local RVal:Int=0
Local A:Int=0
' setup the graphics
Graphics 800,600,,0 | HARDSYNC

HideMouse
' Load images
RVal=IMGs_Add("3232.png",32,32)
' create 10 sprites that just bounce around
For A=1 To 10
	' #ToAdd,X,Y,ImgNum,SX,SY
	RVal=BOB_Add(1,32*A,32*A,A,.5,.5)
	BOB[A-1].WrapBehaviour=1
Next
' now Create a sprite that moves in a square using SAM
RVal=BOB_Add(1,100,100,20,0,0)
SAM_add()
' This is SAM (Simple Anim &amp; Movement)
' L=Label M=Move X,Y,SX,SY J=Jump to Label 
SAM_calc("L 1:M 150,0,.5,0:M 0,150,0,.5:M 150,0,-.5,0:M 0,150,0,-.5:J 1",0,RVAL)

' loop
Repeat
	Cls
	SAM_Update()
	BOB_Update()
	BOB_Draw()
	Flip
Until KeyHit (KEY_ESCAPE)

SAM[0].Bank=Null
</textarea><br><br>Let me know of any improvements...<br>It may also help other beginners to see it. Oh, and I noticed my images skip from 9 to 11, but thats the image not the program. I realize it's very small and simple, but I figured best to improve before it gets too big and too hard to look over.<br><br>WHAT IS IT?<br>It's a 2D Sprite Engine with Basic animation and movement scripting. <br><br></td></tr></table><br>
<a name="536560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Be gentle, this is only my third day with BlitzMax. <br><br></td></tr></table><br>
<a name="536621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sort of struggling to understand what your trying to accomplish here? Can you give me any insight as to what you want to use this for. There may be a simpler way. <br><br></td></tr></table><br>
<a name="536628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Altitudems:<br>Firstly, Does the code work on your PC?<br>I'm really just looking to improve what I already have (Sprite engine with scripting for movement and animation). I'm trying to make a shorthand way of controlling images. Like this:<br><pre class=code>
L 1:M 150,0,.5,0:M 0,150,0,.5:M 150,0,-.5,0:M 0,150,0,-.5:J 1
</pre><br>That defines a path of a square, then jumps back. <br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
L means label
M Means Move
J Means Jump (Like Goto)
And I'm going to add alot more like A for Anim that would be like this:
A (Frame#,Delay#)(Frame#,Delay#)(Frame#,Delay#)(Frame#,Delay#)
</textarea><br>Hopefully you get the idea, some may not like this style for creating games, But I do.<br>Keep in mind not just one SAM object would be going as in the Example, but hundreds for all the game images. <br><br></td></tr></table><br>
<a name="536637"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your code works fine as is. But I'm curious too see how it will perform with the hundreds of objects you mentioned. Don't get me wrong every programmer needs to do things their own way, but it seems to me that using your current method, there is a lot of required code to produce a simple result. Are you trying to create some kind of scriptible AI? I still think there is a simpler way to achieve the same effect. If I get some time I'll post some code.<br><br>-- For some reason your code reminds me of ZZT's OOP :) <br><br></td></tr></table><br>
<a name="536778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> 20 lines of code is alot to have those sprites moving like that? And it's not even cleaned up. I can cleanup how the types work and get it down to 10 lines. I can see how some would find this style not their style,But I think you'd see the benefits when you have lots of objects following different paths made in SAM. <br><br></td></tr></table><br>
<a name="537028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rambo_Bill</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> want to see how well it works with lots of sprites? Try this replace the for loop with this one:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
For A=1 To 999
	' #ToAdd,X,Y,ImgNum,SX,SY
	RVal=BOB_Add(1,Rnd()*GraphicsWidth(),Rnd()*GraphicsHeight(),Rnd()*20,Rnd()+.1,.Rnd()+.1)
	BOB[A-1].WrapBehaviour=1
Next
</textarea><br><br>Starting a worklog, instead of spamming here. should have done that from the start :)<br><br>Still smooth as butter on my system.<br><br>or to see more replace all the code in test.bmx with this:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
mport "SAM.bmx" ' SAM  S.imple A.nimation &amp; M.ovement
' set some local vars for use
Local RVal:Int=0
Local A:Int=0
Local Square:String="L 1:M 150,0,.5,0:M 0,150,0,.5:M 150,0,-.5,0:M 0,150,0,-.5:J 1"
Local Triangle:String="L 1:M 150,150,.5,.5:M 150,0,-.5,0:M 150,150,.5,-.5:J 1"
' setup the graphics
Graphics 800,600,,0 | HARDSYNC

HideMouse
' Load images
RVal=IMGs_Add("3232.png",32,32)
' create 10 sprites that just bounce around
For A=1 To 100
	' #ToAdd,X,Y,ImgNum,SX,SY
	RVal=BOB_Add(1,Rnd()*GraphicsWidth(),Rnd()*GraphicsHeight(),Rnd()*20,Rnd()+.1,.Rnd()+.1)
	BOB[RVal].WrapBehaviour=1
Next
' now Create a sprite that moves in a square using SAM
For A=0 To 199
	RVal=BOB_Add(1,Rnd()*GraphicsWidth(),Rnd()*GraphicsHeight(),Rnd()*20,Rnd()+.1,.Rnd()+.1)
	SAM_add()
	If A&gt;99 Then
		SAM_calc(Triangle,A,RVAL)
	Else
		SAM_calc(Square,A,RVAL)
	End If
Next 
' loop
Repeat
	Cls
	SAM_Update()
	BOB_Update()
	BOB_Draw()
	Flip
Until KeyHit (KEY_ESCAPE)
</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
