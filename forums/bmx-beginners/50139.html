<!DOCTYPE html><html lang="en" ><head ><title >Collision Layers</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Collision Layers</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Collision Layers</a><br><br>
<a name="557443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topdecker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have some code where I've been using collision layers for about 200 objects, however I has thus far been using the all-layers mode.<br><br>I just turned on collision layer masks which resulted in a huge delay (like longer than a second) in screen updates.  For instance, changing this:<br><br>CollideImage hex_water,xpos,ypos,0,0,1<br> <br>to this:<br><br>CollideImage hex_water,xpos,ypos,0,1,1<br><br>Is when I start having problems.<br><br>Once I get about 20 images that are masked, the slow down starts to get noticable on a 2.4ghz machine with a solid video card.<br><br>Anyhow, I wanted to make sure that this was normal behavior.  I had not anticipated such a noticable slow-down in performance.  I can hash it out pretty easily, I think, but I just wanted to make sure that this would be normal given the number of images that I am checking at a pixel level.<br><br>Tim <br><br></td></tr></table><br>
<a name="557448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats not normal. Did you put a flushmem in your mainloop and the collision layer clear command? <br><br></td></tr></table><br>
<a name="557452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Topdecker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora:<br><br>flushmem was the trouble maker :)<br><br>I really appreciate the accurate response!  I'm new to BlitzMax and it would have been a long while before I found the solution on my own.<br><br>Tim <br><br></td></tr></table><br>
<a name="557456"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> :-)<br><br>Flushmem will be needed at least in the mainloop anyway as most commands of BlitzMax create copies when you modify anything on them. <br><br>If you use it in OO way (using :Type in declaration), flushmem will clean all unneeded instances (that aren't used anywhere anymore) for you.<br><br>if you use it in procedural way (using int handles instead of type), you will have to "delete variablename" to tell the memory management, that you want to remove it, which is done on the next flushmem call as well.<br><br><br>I always put my flushmem just after flip in the mainloop. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
