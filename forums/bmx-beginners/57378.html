<!DOCTYPE html><html lang="en" ><head ><title >UDP Send and Recieve</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >UDP Send and Recieve</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >UDP Send and Recieve</a><br><br>
<a name="638085"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, Im new here. Although I've been using blitzmax for a bit. :)<br>I tried to connect to a server and send a string through UDP and recieve the string the server sends. I see in my packet analyzer program the server responds, but i cannot seem to get the string recieved in BlitzMax.<br><br>Heres my code<br><pre class=code>
Framework BRL.Socket
Import BRL.SocketStream
Import BRL.StandardIO

Global serverIP = HostIp("83.149.87.203")
Global port = 7778
Local socket:TSocket=CreateUDPSocket()
ConnectSocket(socket,serverIP,port)
Local stream:TStream=CreateSocketStream(socket,autoclose=False)
WriteLine(stream,"\info\")
Repeat
Print ReadLine(stream)
Until Eof(stream)
CloseSocket(socket)
</pre><br><br>Is there anything Im doing wrong? <br><br></td></tr></table><br>
<a name="638992"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bump! Doesnt anyone bother to help around here? The docs are bad enough but shouldnt the community give some help? <br><br></td></tr></table><br>
<a name="639005"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't know the exact answer but what happens if you get rid of the networking stuff and use simple streams. <br>As I got the same problem as yourself I did the following...<br><pre class=code>
stream:TStream=OpenStream("TEST.txt")
'stream1:TStream=OpenStream("TEST.txt")
For x = 0 To 10
	WriteLine(stream,"Hello")
Next
Print StreamSize(stream)
'CloseStream(stream)
For x = 0 To 10
	Print ReadLine(stream)
	Flip
Next
CloseStream(stream)
</pre><br>From this it seems you can not write and read to/from the same stream even with openstream. <br>If you use a different stream for the same url then it works OK. Not sure how this would equate to your socket example but might help. <br><br></td></tr></table><br>
<a name="639009"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmmm. well ill try what your suggesting. but i read that openstream is for an url:Object only. thats the problem. ill try getting it working. your the only one replying to me and helping. thanks :). do you think this is a bug? shouldnt mark or the other BRL show us the correct code? <br><br></td></tr></table><br>
<a name="639013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's examples of this working in seperate client/server code so it's possibly the same problem as the 'normal' stream. <br>Not sure why it lets you use Createsocketstream with tstream as it should return a tsocketstream.<br>Anyway, I'll try a bit more later.<br>P.S. Generally, this is a very quick, very helpful community. I'm guessing, in this case, nobody has much advice or are busy with other things.<br>P.P.S Possibly a bug because Dirk Krause did something very similar <a href="/posts.php?topic=42311&amp;hl=tsocketstream" target="_blank"> here </a> successfully. <br><br></td></tr></table><br>
<a name="639243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> nevermind now. i was "told" i'd have to make my own module to make it work properly. the one supplied with blitzmax doesnt work so i have to find a new way of doing it. oh well. <br><br></td></tr></table><br>
<a name="639277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not so much that it doesn't work, so much as it's not designed for it. <br><br></td></tr></table><br>
<a name="639338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> designed for what? basic UDP communication? i dont see how something simple as recieving text from a server can be so hard to implement. I've been trying to read the modules and understand the functions now. maybe ill try modifying mine. :@ <br><br></td></tr></table><br>
<a name="639343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> designed for what? basic UDP communication? <br></div>The User Datagram Protocol is designed to send a datagram from one IP to another, and thus is not immediately suited for streaming purposes. There is no guarantee that data will arrive in the same sequence it was sent, if at all. There is no traffic, or congestion control, to ensure that the sender does not overwhelm the host. Additionally, since it's a connection-less protocol, there is no way for the Network Interface to determine which datagrams are related, and which aren't.<br><br><div class="quote"> i dont see how something simple as recieving text from a server can be so hard to implement. <br></div>It isn't. You just chose the wrong tool for the job. <br><br></td></tr></table><br>
<a name="639368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> The User Datagram Protocol is designed to send a datagram from one IP to another, and thus is not immediately suited for streaming purposes. There is no guarantee that data will arrive in the same sequence it was sent, if at all. There is no traffic, or congestion control, to ensure that the sender does not overwhelm the host. Additionally, since it's a connection-less protocol, there is no way for the Network Interface to determine which datagrams are related, and which aren't. <br></div><br>Its not streaming. Its just recieving.<br>sending 5 bytes of data and recieving less than 200 bytes back is streaming anything.<br>And yet In my packet monitor I see the exact data being recieved. And in order.<br>'http://img472.imageshack.us/my.php?image=whatthe0qh.png'<br>Look there.<br><br><div class="quote"> It isn't. You just chose the wrong tool for the job.  <br></div><br><br>if blitzmax cant recieve a text line or string properly. what can it do? why is the udp module included? I paid for something that doesnt work. i know that blitzmax is designed for games and x-platform but all im saying why cant it do such simple things. Someone show me a UDP example that works. i just think that they cant be bothered to fix it.<br><br>If i could get a refund on blitzmax. id delete my account and files straight away. the access to the forums are ok. and there are nice people like assari making websites for new people like me to understand. as for the program itself. its just a DIY job. IF THERE was a post<br>or document showing how to build your own module using C++ files I would attempt it. but there isnt. I chose blitzmax to not have to go through the long process of C++.  This UDP thing doesnt work so Im told to write my own custom streams. pff. <br><br></td></tr></table><br>
<a name="639528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Its not streaming. Its just recieving. <br></div>You're using CreateSocketStream.<br><br><div class="quote"> if blitzmax cant recieve a text line or string properly. what can it do? <br></div>It can. Try picking a connection oriented protocol. Like TCP. Streams rely on an 'end-of-stream' mechanism to work. With UDP there is simply no way to reliably provide such a mechanism.<br><br><div class="quote"> why is the udp module included? <br></div>So people can send UDP datagrams accross a network.<br><br><div class="quote"> Someone show me a UDP example that works. <br></div>Okay. I'll post one when I get home.<br><br><div class="quote"> If i could get a refund on blitzmax. id delete my account and files straight away. <br></div>Try e-mailing BRL. I know they've offered refunds in the past (ask Noel).<br><br><div class="quote"> IF THERE was a post or document showing how to build your own module using C++ files I would attempt it. <br></div><a href="/posts.php?topic=42128" target="_blank">Here</a> you go. <br><br></td></tr></table><br>
<a name="639594"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Id be interested in a simple example of how to use UDP in BlitzMax. Ive searched through the online help but cant find any help or command that will send / receive data with it.<br>Im sure years ago in one of the old blitz's it was as easy as createUDP and then just using something like writestring and readstring... though it was a long time ago and I dont have it installed anymore. <br><br></td></tr></table><br>
<a name="639687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks FlameDuck. Ill try this Mod Writing. Still need to find me a working UDP example :)<br>Sorry for being angry. i just wished this could work. <br><br></td></tr></table><br>
<a name="639739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Still need to find me a working UDP example :) <br></div>True. Unfortunately the code I have is part of a much larger project, and has several semi-serious dependancy issues (I wasn't previously aware of). I'd send the whole source package to you, but it's about 600KB of sourcecode, which you'd have to sift through, most of which will probably only be marginally interesting to you.<br><br>Maybe I'll get some time at work tomorrow to write a shorter example of working UDP communication - right after I finish on the non-linear diff tool.<br><br><div class="quote">  i just wished this could work. <br></div>Don't we all. BTW you might want to try your luck with that 3rd party network library thing Mark recently added to BlitzMAX. ENet or something? Might be less frustrating. <br><br></td></tr></table><br>
<a name="639744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="639746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll throw <a href="/posts.php?topic=49975&amp;hl=connectsocket" target="_blank"> this </a> in as well but disregard if it's irrelevant. <br>It mentions <a href="http://www.truplo.com" target="_blank"> TNet </a> but the webpage still lists Bmax 1.12 so not sure whether it's being developed. <br><br></td></tr></table><br>
<a name="639757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Moogles</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> actually its not irrelevant. its some help. ill see if tnet can recieve any info from that server. i dont know about enet though because doesnt it only allow connection to other enet servers?. im now waiting for the C++ compiler to finish downloading so i guess ill keep learning how to use types. :0 <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
