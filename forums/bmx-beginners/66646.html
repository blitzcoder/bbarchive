<!DOCTYPE html><html lang="en" ><head ><title >Reading Maps back in to game array?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Reading Maps back in to game array?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Reading Maps back in to game array?</a><br><br>
<a name="744433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi! I know how to read files and have succesfully read my saved map back in to my game array. The question is, I need to be able to have the user select what map to load from a directory where many maps are saved. each maps name is given by the user so I would need to be able to select a map to load from a directory and load it.<br><br>I'm not using MaxGUI just th standard graphics 800,600 mode.<br><br>Any help would be appreciated. :) <br><br></td></tr></table><br>
<a name="744441"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Global mappath:String = RequestFile( "Please select a map to load")

Print mappath
</pre><br><br>Take a look at the ouput. It would be wise to check the extension type of the provided file to make sure they selected one of your map objects. To do this you can go<br><br><pre class=code>
If Not (ExtractExt( mappath ) = "map")
   'insert code here to handle the bad file entry
EndIf
</pre><br><br>You could, for instance, just reopen the file selector dialog with a new informative message when the user selects the wrong file like so <br><pre class=code>
If Not (ExtractExt( mappath ) = "map")
   mappath = RequestFile( "Please be sure the map file ends with a .map extension.")
EndIf
</pre><br><br>You may want/need to parse the path string further for whatever reason (if you wanted to extract the name of the file and display it on a menu or something). Look in the module documents under "File System" for a list of file path parsing functions.<br><br>Hope this helps! :) <br><br></td></tr></table><br>
<a name="744444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perfect. Thanks :) <br><br></td></tr></table><br>
<a name="744447"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just so you know, you might want to take a look at the additional parameters to "RequestFile". You can set default extensions to open, and also set a starting directory (which is definitely convenient for the end user.)<br><br>Here's an example from the doc's of using the extension filter:<br><br><pre class=code>
filter$="Image Files:png,jpg,bmp;Text Files:txt;All Files:*"
filename$=RequestFile( "Select graphic file to open",filter$ )

Print filename
</pre> <br><br></td></tr></table><br>
<a name="744449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh and one more thing - even if you use the extension filter you should test the extension of hte file they've chosen. Why? Well, even if your filter is set up only for .MAP files, a user can still manually enter the name of a file or do something like type *.* in the file selector and get access to all of the files. Really, the filter is there as a convenience to the end user and although it's unlikely that they'd go through the trouble to select an invalid file with the filter in place, it's still not good programming practice to rely on getting a good result.<br><br>So use the filter so the end user can more easily find the files they want, but still test the extension of the file you're getting (or test the file itself for the correct kind of header - if your map files have headers -) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
