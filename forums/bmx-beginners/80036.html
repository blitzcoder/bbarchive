<!DOCTYPE html><html lang="en" ><head ><title >Creating a bank of sprites?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Creating a bank of sprites?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Creating a bank of sprites?</a><br><br>
<a name="899192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello. I wrote a program which automatically grabs sprites from a .png file. It takes a while to run so I don't want to do this in my main game. I need to save the sprites somehow, and then load them in my game.<br>       In the 'grabber' program it puts them into an array called image. e.g. image[0]=spaceship, image[2]=spaceship2. <br>I'd like to save this array to a file. Is this possible?<br><br>Thank you very much.<br><br>Rico <br><br></td></tr></table><br>
<a name="899197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >deps</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something like this maybe?<br><pre class=code>
local pm:TPixmap = Lockimage( image[0] )
SavePixmapPNG( pm, "myfile.png" )
UnlockImage( image[0] )
</pre><br>Will of course only save the first one, so you need to save the others as well. <br><br></td></tr></table><br>
<a name="899270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can take a look at Brucey's Persistence mod.<br>With it you can save nearly all objects, arrays too (1 dimensional only).<br>Very helpfull.<br>Perhaps the files get very large, buts it' worth trying.<br><br>I cant find the exact link at the moment, got lost in Brucey's websites.<br>Start here:<br><a href="http://blitzbasic.com/Community/posts.php?topic=75695" target="_blank">http://blitzbasic.com/Community/posts.php?topic=75695</a> <br><br></td></tr></table><br>
<a name="899582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks deps - I could do that with a different number at the end of each filename. Then I could easily load them in to my program using a loop. Only problem is that I could have a lot of files.<br><br>Volker -  Yes that does sound useful. Do you think it would be possible to save an array of images?<br><br>Thank you both - Rico. <br><br></td></tr></table><br>
<a name="899837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've tested it and was not able to save an image.<br>There is a way but its a bit complicated, by using<br>metadata to not store the fields which make problems<br>(TImage in this case) and use methods to prepare the<br>fields in the array befor saving and to restore them after saving.<br>I'll post code if you wish, but you need to know the persistence mod first.<br><br>By the way, I found brucey has a mod freeimage:<br>"The FreeImage module adds BlitzMax support for loading and saving of a large number of different formats, using the open source FreeImage library.<br>And save : BMP, EXR, GIF, HDR, ICO, JPEG, JPEG-2000, PBM, PGM, PNG, PPM, TARGA, TIFF, WBMP and XPM."<br><br><a href="http://brucey.net/programming/blitz/#bahfreeimage" target="_blank">http://brucey.net/programming/blitz/#bahfreeimage</a> <br><br></td></tr></table><br>
<a name="899880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Volker</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just found this:<br><br>BlitzMax pacimage mod:<br><a href="http://www.ooeyug.com/texpac/" target="_blank">http://www.ooeyug.com/texpac/</a><br><br>"Texpac is an application written by David Maziarka that will pack gfx files up into one image. It can be used for sprites, textures, animation strips and bitmap fonts. There are 2 resulting in files, one .png and one .pac file that contains the coordinates of each packed image. " <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
