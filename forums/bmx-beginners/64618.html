<!DOCTYPE html><html lang="en" ><head ><title >two projectiles</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >two projectiles</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >two projectiles</a><br><br>
<a name="721374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey everyone. Currently I have a ship able to fire one projectile at a time. Which is drawn, updated, deleted when neccessary and collision is checked for..<br><br>what I'd like to try is have two instances in the same projectile fire when you fire. So say the ship has missile launchers on the left wing and the right wing... when I fire i want two separate and distinct objects to come out. The problem is that so far how ive been trying it, ive been duplicating the previous code, except this time referencing the second instance, it just seems unneccessary and i was wonder what would be a better way to go about it.<br><br>so far when you fire, missle:tmissle = new tmissle is created. I went about putting in missle2:tmissle = new t missle would that be the right way to go about it? <br><br></td></tr></table><br>
<a name="721378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> no<br><br>What you would do would place all created missiles in a missile list and update all missiles on that list in the "update projectile" function you have. <br><br></td></tr></table><br>
<a name="721382"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> currently i place all in a list. but if i only have one missle object instanced when I fire, i only have one missle.x and missle.y to work with, so i cant affect the launch location of the first missile, without affecting, the position of the second one... without a separate instance <br><br></td></tr></table><br>
<a name="721384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> in my update projectile function i am using<br><br>for missile = eachin tmissile.list<br><br>where the missile object is the actual reference to my missile object right now.<br><br>and the update function updates that specific missle, draws it moves it, by refering to each field that I need to like this, missle.x, missle.y, missle,frame, missile.age<br><br>etcetc... maybe there is a way to let it update each missles fields in that list, but its going over my head.. LOL <br><br></td></tr></table><br>
<a name="721388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> currently i place all in a list. but if i only have one missle object instanced when I fire, i only have one missle.x and missle.y to work with <br></div><br>Don't create with new then. Add a Create() function to your missile type, which takes the x and y coordinates as parameters and creates a new missile and adds it to the list. It's much neater that way. <br><br></td></tr></table><br>
<a name="721390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> in my update projectile function i am using<br><br>for missile = eachin tmissile.list<br><br>where the missile object is the actual reference to my missile object right now.<br><br>and the update function updates that specific missle, draws it moves it, by refering to each field that I need to like this, missle.x, missle.y, missle,frame, missile.age<br><br>etcetc... maybe there is a way to let it update each missles fields in that list, but its going over my head.. LOL<br><br>so how would I go about updating the new missiles values as stated above.. gotta change the update function some how, so it only doesnt refer to the first missile object only, but all the objects. <br><br></td></tr></table><br>
<a name="721399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What?<br><br><div class="quote"> for missile = eachin tmissile.list <br></div><br><br><div class="quote"> where the missile object is the actual reference to my missile object right now. <br></div><br>No, that goes through every missile in the list. If it's not doing every missile, you're not putting them all in the list.<br><br><div class="quote"> so how would I go about updating the new missiles values as stated above.. gotta change the update function some how, so it only doesnt refer to the first missile object only, but all the objects. <br></div><br>It *isn't* just doing the first missile object. That's why it's called EachIn and not FirstIn. <br><br></td></tr></table><br>
<a name="721402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> what if the update function is only refering to the first missiles fields? <br><br><pre class=code>For missile = EachIn missile.List

missile.age :+ 1
			
			If missile.age &gt; 150 
				PlaySound(missileExplosionFx:TSound)
				RemoveLink missile.link
			End If
						
			SetRotation missile.angle
			SetBlend ALPHABLEND
			SetAlpha 1.0
			SetColor(255,255,255)
			MidHandleImage (missile.Image)
			SetScale 2,2
			DrawImage(missile.Image,missile.x,missile.y,missile.frame)
			missile.frame:+ 1
	
			If missile.frame = 30 Then missile.frame = 0
						
			missile.vx:+ Sin(missile.angle) * missile.speed
			missile.vy:+ Cos(missile.angle) * missile.speed
			
			missile.x :+ missile.vx 
			missile.y :- missile.vy 
</pre> <br><br></td></tr></table><br>
<a name="721404"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Small Sample:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Type TCannon
	Global Missiles:TList = CreateList()
	
	Field Parent:TShip
	Field RelX:Int
	Field RelY:Int
	
	Function Create:TCannon(Parent:TShip , RelX:Int , RelY:Int)
		Local C:TCannon = New TCannon
		C.Parent = Parent
		C.RelX = RelX
		C.RelY = RelY
		Parent.AddCannon(C)
		Return C
	End Function
	
	Method Draw()
		SetColor 255,0,0
		DrawRect (Parent.X-5)-RelX, (Parent.Y-5) , 10 , 10
		SetColor 255 , 255 , 255
		
		
	End Method
	
	Method Shoot()
		Local M:TMissile = New TMissile
		M.X = (Parent.X - 5) - RelX
		M.Y = (Parent.Y - 5)
		Missiles.Addlast(M)
	End Method
		
End Type

Type TMissile
	Field X:Int
	Field Y:Float
End Type

Type TShip
	
	Field Cannons:Tlist = CreateList()
	Field X:Int
	Field Y:Int
	
	Function Create:TShip(X:Int , Y:Int)
		Local S:TShip = New Tship
		S.X = X
		S.Y = Y
		Return S
	End Function
	
	Method AddCannon(C:TCannon)
		Cannons.Addlast(C)
	End Method
	
	Method Draw()
		SetColor 0 , 255 , 0
		DrawRect x-5 , y-5 , 20 , 20
		SetColor 255 , 255 , 255
		For Local C:TCannon = EachIn Cannons
			C.Draw()
		Next
		
		DrawOval x,y,10,10

For Local M:TMissile = EachIn TCannon.Missiles
			M.Y:- .2
			DrawOval M.X , M.Y , 3 , 3
			If M.Y &lt; 0 Then TCannon.Missiles.Remove(M)
		Next

	End Method
	
	Method Shoot()
		For Local C:TCannon = EachIn Cannons
			C.Shoot()
		Next
	End Method	
End Type

Graphics 800 , 600 , 0 , - 1

Local Ship:TShip = TShip.Create(400 , 300)
TCannon.Create(Ship , 10 , 10)
TCannon.Create(Ship , - 20 , 10)


While Not KeyHit(Key_Escape)
	Cls
	
	Ship.X = MouseX()
	Ship.Y = MouseY()
	If MouseHit(1) Then Ship.Shoot()
	Ship.Draw()
	Flip
Wend
</textarea><br><br>Maybe it helps. <br><br></td></tr></table><br>
<a name="721407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> very nice klepto! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
