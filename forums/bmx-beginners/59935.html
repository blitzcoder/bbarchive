<!DOCTYPE html><html lang="en" ><head ><title >Object Delete</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Object Delete</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Object Delete</a><br><br>
<a name="668495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> When do I need to create a destroy/Free Method for Types<br><br>I realize the Good OOP answer is every time I have a Type definition<br><br>But Come on really, when do I need to explicitly destroy fields of the object <br><br></td></tr></table><br>
<a name="668497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> When they reference something cyclic, then for sure. otherwise you will have phantom objects in ram that won't be freed but that can't be deleted.<br><br>So -&gt; normally always as TList is a cyclic structure for example <br><br></td></tr></table><br>
<a name="668534"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So in the case of a field Tlist, the field is a pointer to the list, so when the object is destroyed, only the pointer is detroyed?<br><br>What about an array?<br><br>On A related but differnet Topic. <br><br>What function is called when an object is internaly deleted. (i.e. What function of "TObject" do I need to override to automaticaly delete TList and stuff? <br><br></td></tr></table><br>
<a name="668556"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Method Delete is called or should be called we should better say. But TList is the best proof that is not always called and if clear is not called, the list will remain in RAM.<br><br><br>No, not only the pointer is destroyed but the TList object as well ... sadly, this does not mean that all TLinks are freed which is not the case if method delete does not get called which seems to happen ... <br><br></td></tr></table><br>
<a name="668588"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> So it would be as complicated as I thought, if it worked properly :) <br><br></td></tr></table><br>
<a name="668753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> The smart-ass answer is "If you don't know, you don't need it".<br><br>The slightly more useful answer is "Whenever you're doing something that isn't managed. Like MemAlloc, or interfacing with other langauges". Also in the old days (not sure whether this has been addressed or not) Streams where notorisly bad at remembering to 'close' themselves, and would often leave 'locked' files on the filesystem or open TCP connections.<br><br><div class="quote"> What function is called when an object is internaly deleted. <br></div>The Delete() method.<br><br>Cyclical references is really a bad example, as objects in a cyclic datastructure, never get garbage collected, and thus their Delete() method is never invoked, unless you do so explicitly, in which case it would probably be better to call it something other than Delete(), as changes are it'll crash when invoked a second time by the garbage collector. <br><br></td></tr></table><br>
<a name="668847"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ "If you dont know, you dont need it"<br><br>Surly that could be an answer to every question in the forums?<br><br>Windows Hooks. <br>If I realease an object that has invoked a windows hook, do I need to release the Hook explicitly <br><br></td></tr></table><br>
<a name="668854"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yepp<br>And in some cases its really the answer ... there are topics that are advanced to pro level and it makes about no sense trying to explain them to beginners that do not even understand OO so far for example ... :-) <br><br></td></tr></table><br>
<a name="668962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically I pretty much pretend there is no garbage collection and clear everything old-style and if I miss anything, I hope that the GC will collect it.  I have the allocated memory showing on some debug stats and keep and eye on that too. <br><br></td></tr></table><br>
<a name="669014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> from time to time its a good idea to keep an eye on memory allocations from the windows side of things with a decent process explorer like the one from sysinternals(.com?) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
