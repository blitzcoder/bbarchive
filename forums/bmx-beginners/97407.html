<!DOCTYPE html><html lang="en" ><head ><title >collision refactoring questions</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >collision refactoring questions</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >collision refactoring questions</a><br><br>
<a name="1131679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello blitzmax folks,<br><br>I have recently been unentangling an old beast of a pet project.<br><br>From this process I have learned many things, but still I have a thorny problem to solve.<br><br>I am mindful of the idea that there is often various approaches which can work, but I'm interested in the patterns involved, the oop ness and whether I am doing things the right way around.<br><br>So I have tentity.bmx, with my entity type.  Like everyone, I expect?<br><br>I handle the collisions of all the derived class objects in the tentity type, and I was trying to put a collision(_other:Tentity) nto every derived entity type to handle the collisions in wat I thought was a more oo-way, unfortunately this causes me to hit circular references as you can imagine.<br><br><br>Anyway, if there is any hints or anyone wants to pile in with opinions and ideas I would be very grateful. <br><br></td></tr></table><br>
<a name="1131685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>I'd personally separate the collision code from your TEntity code and only store collision bounding data with the TEntity. Each frame build a list of possible colliders ( which is whole topic in its own right ;-) ) using the bounding data, then send the list into the collision detection code from which you can either retrieve the results so you can then update accordingly or have the collision code do the updating for you.<br><br>BTW... Bmax does have some kind of collision detection builtin that you can use with images. I'm not sure on the performance of it, but it is there to be used :<br><br>ImagesCollide<br>ImagesCollide2<br>CollideImage<br>CollideRect<br>ResetCollisions <br><br></td></tr></table><br>
<a name="1131688"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> So a sort of collision manager?<br><br>I was thinking about this kind of approach, handling things via a type completely detached - the collision manager type can import all the entity types and do all the collision management stuff.<br><br>I will go imlement this and report back!  Thanks for the tip.  :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
