<!DOCTYPE html><html lang="en" ><head ><title >WHy was my post deleted.... Scanning Directory</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >WHy was my post deleted.... Scanning Directory</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >WHy was my post deleted.... Scanning Directory</a><br><br>
<a name="708651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am not sure why it was deleted but I'll post it again....<br><br>I am trying to get a list of a directory and all its sub directories and get the files in each sub directory.  I am using<br><br><pre class=code>
dir=ReadDir(CurrentDir())

If Not dir RuntimeError "failed to read current directory"

Repeat

	t$=NextFile( dir )

	If FileType(t) = 2 Then
	
		Print t
		
	ElseIf FileType(t) = 1 Then
	
		Print t
		
	ElseIf FileType(t) = 0 Then
		Exit	
		
	EndIf
	
	
	
Forever

CloseDir dir

End
</pre> <br><br>But for some reason it isnt giving me the sub directories any help is appreciated thanks. <br><br></td></tr></table><br>
<a name="708662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it gives the subdirectories on mine. It doesnt "scan" the subdirectories, but the you havent any code to do that, so you probably know that already.<br><br>You want to make it a function containing your repeat loop, that accepts a "dir handle" as its paramater (dir in you example), (Or just pass the path). <br>Then when you find a subdirectory, (pass the path or), Make it current, and pass that handle to itself. If you keep a Global in the function which keeps a track of how "deep" you are, you can print a tab indent as well <br><br></td></tr></table><br>
<a name="708675"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >puki</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>LOOKS LIKE THERE WAS A PROBLEM LAST NIGHT - LOOKS LIKE A FEW HOURS OF POSTS HAVE BEEN LOST.</b> <br><br></td></tr></table><br>
<a name="708738"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Retro</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, I noticed that too.<br>Or maybe we're experiencing some weird temporal anomaly. <br><br></td></tr></table><br>
<a name="708739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Aliens! <br><br></td></tr></table><br>
<a name="708886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mordax_Praetorian</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Damnit, it actualy comes to a problem that I can help someone fix, and the post is deleted, grr<br><br>Basicly, you never tell it to scan sub directories, this is what makes a Programming Language a Programming Language, rather than a Scripting Language, there is no automatic, you do everything yourself<br><br>Think about what would happen if this code did scan sub directories, where would that leave people who only did want the first layer? Automatic creates limitations, so get used to doing it yourself<br><br>Now then, what you would need to make this automaticly scan sub directories would be a list containing all the names you found in the folder, once you finish scanning layer1, you go back through the list and scan every name in the list as well, and so on and so forth until there are no layers left to scan <br><br></td></tr></table><br>
<a name="708951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why was it deleted?<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=63502" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=63502</a> <br><br></td></tr></table><br>
<a name="708953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ckob</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry didnt see that. <br><br></td></tr></table><br>
<a name="709046"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nurgle</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>FileList("C:\windows",True)

Function FileList(Folder:String,Recurse:Int)

	Local ThisFolder:Int = ReadDir(Folder)
	
	If ThisFolder
	
		Repeat
	
			Local File:String = NextFile(ThisFolder)
	
			If Len(File)
	
				Select FileType(Folder + "\" + File)
	
					Case 1
	
						Print Folder + "\" + File
	
					Case 2
	
						Select File
							
							Case ".",".."

							Default
								If Recurse Then FileList(Folder + "\" + File,Recurse)
						End Select
		
				End Select
			
			Else
			
				Exit
				
			End If
			
		
		Forever
	
		CloseDir ThisFolder
	
	End If

End Function</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
