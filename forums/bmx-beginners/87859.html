<!DOCTYPE html><html lang="en" ><head ><title >Stretching an image between 2 points at an angle.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Stretching an image between 2 points at an angle.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Stretching an image between 2 points at an angle.</a><br><br>
<a name="996731"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I recently created a little project that looks like glowing lines like on the old vector based arcade games. I noticed that my lines were not being drawn at the correct position after further investigation.<br><br>I have a 16x16 pixel texture that must be stretched between two points to give the impression of a beam of light. It gets more complex however, the two points may be at an angle from each other. It turns out that the drawimagerect() command acts odd when you add rotation into the mix. By default the texture is "automidhandled". I would be willing to change this if necessary but the 2 points must touch the very center of their respective edges on the texture.<br><br><br>This is the effect I need given a 16x16 pixel texture being stretched between 2 points of varying distance.<br><img src="http://img4.imageshack.us/img4/8307/rotato.png"><br><br>Here is the thread, you can see how I assumed it was working but another user mentions that it is indeed drawing a bit off. You can see my source there too with the line textures.<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=87785" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=87785</a> <br><br></td></tr></table><br>
<a name="996740"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why are you using drawimagerect?  I use setscale and setrotation and then drawimage. <br><br></td></tr></table><br>
<a name="996770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Get rid of the automidhandle by doing AutoMidHandle False when you load the image. Then set the image's handle to the middle left side of the image. This can then anchor at point 1, then just rotate by the angle direction of point 2 and draw it. ? <br><br></td></tr></table><br>
<a name="996837"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, I was not able to figure out how to set the image handle to the middle left side as ImaginaryHuman said. I was able to get it done with sswift's method however. (It cost an extra operation to find the center of the line) <br><br></td></tr></table><br>
<a name="996850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I was not able to figure out how to set the image handle to the middle left side as ImaginaryHuman said <br></div>You almost typed the answer in the above sentence - <b>SetImageHandle myImage,0,8</b>.<br><br>ImaginaryHuman's method is what I'm using and its plenty fast enough.  Also I use DrawImageRect so I don't have to fanny about with the scale although I guess it comes down to preference.<br><br>After finding the vector and using SetRotation, I can use <b>DrawImageRect myImage,X,Y,W,H</b>, where X and Y are the coords of the first point, W is the distance, in pixels, between the two points, and H should be 1 if you want the image to be 100% of its original height. <br><br></td></tr></table><br>
<a name="997134"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting idea to use a long image with drawimagerect instead of trying to scale it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
