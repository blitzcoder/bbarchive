<!DOCTYPE html><html lang="en" ><head ><title >Super Strict</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Super Strict</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Super Strict</a><br><br>
<a name="793943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I try to use SuperStrict all the time, It helps, but for some reason.<br><pre class=code>
Local B:Int=1
Local Ent:Object=HandleToObject(B) </pre><br><br>That code compiles and runs in my program as expected, but with superstrict is says unable to convert INT to OBJECT.<br><br>I'm confused because I thought HandletoObject takes an INT Handle and Converts it to an Object.<br><br>Help. <br><br></td></tr></table><br>
<a name="793946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, B isnt an Handle to an Object is it?<br><br>Basicly, (From my understanding) you need you use Handlefromobject, with an object, assign that to (b for eample), then convert it back when you want with HandletoObject <br><br></td></tr></table><br>
<a name="793981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
SuperStrict

Type TTest
	Field x:Int
End Type

Global A:TTest = New TTest
	A.x = 100

Global B:Int = HandleFromObject(A)
Global C:TTest = TTest(HandleToObject(B))

Print C.x
</pre><br><br>What H&amp;K said <br><br></td></tr></table><br>
<a name="793982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jake L.</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> An Integer is not an object, so could can't get a handle for it.<br><br>Objects (in this meaning) are String,Object,Type. (Did I forget one?). <br><br></td></tr></table><br>
<a name="794008"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Type is Object (or implicitely extends from it)<br>But Array is missing <br><br></td></tr></table><br>
<a name="794017"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought HandleToObject Took an integer handle and converted it to it's equivalent Object. <br><br></td></tr></table><br>
<a name="794020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It does, but thats not what you posted<br><br>You posted the paramater as being a simple INT, which by shear luck might be a handle or might not, Like say if you picked 28097.<br><br>What you have do, as perts code showed, was <b>first</b> make sure that the INT you are passing is a valid handle number, by using HandleFromObject(TheObject) <br><br></td></tr></table><br>
<a name="794047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK ok I got you now, sorry... I put B=1 as a sample... Because The Integer handle is not known at compile time therefore the value of the integer seemed arbirtary.<br><br>My problem is that my program compiles and runs properly, but when I use superstrict it complains during compilation.<br>Regards,<br>Eric <br><br></td></tr></table><br>
<a name="794056"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahhh, right I see. (But I am speculating on the answer)<br><br>Normaly the compiler would, when not told to cast the Object, instead pass an int handle of the object. So<br><pre class=code>HandleToObject(B)</pre>Converts the handle b into the object its the handle of, but then because of the lack of cast, turns it back into a handle. (It maybe that HandleToObject(B) just returns an internal handle, but the point is the same)<br>SuperStrict would pick this up, and stop the compilation saying that it cannot convert INT to Object<pre class=code>AType(HandleToObject(B))</pre>would cast whatever the result is into an AType<br><br><pre class=code>Function _HandleToType:TbbEntity (Comparisonhandle:Int)
		
		Select bbEntityClass (Comparisonhandle)
			Case "Pivot"
				Return TbbPivot (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Light"
				Return TbbLight (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Camera"
				Return TbbCamera (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Mirror"
				Return TbbMirror (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Listener"
				Return TbbListener (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Sprite"
				Return TbbSprite(HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Terrain"
				Return TbbTerrain (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Plane"
				Return TbbPlane (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "Mesh"
				Return TbbMesh (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "MD2"
				Return TbbMD2 (HandleToObject(bbEntityID(Comparisonhandle)))
			Case "BSP"
				Return TbbBSP (HandleToObject(bbEntityID(Comparisonhandle)))
		End Select
		
	End Function</pre>This is just a snippet that I grabed quickly, but as you can see each HandleToObject return is imediatly Cast to the type it is. <br><br>(For ppl with the SDK. It doesnt work, cos bbEntityClass in the SDK hasnt been implemented properly yet, it was just the most relevent example I had at hand :-) <br><br></td></tr></table><br>
<a name="794059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Local Ent:Object=HandleToObject(pxGetBodyUserData(Body))
</pre><br><br>Here is the code.... Ugh! I'm not sure how to fix it other that to not use SuperStrict. <br><br></td></tr></table><br>
<a name="794168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does<pre class=code>Local Ent:Object=Object (HandleToObject(pxGetBodyUserData(Body)))</pre>Work?<br><br>Generaly turning anything into "Object" is pointless, unless you have overridded "toString()", which you then look at, decide which specific Type Object is, and cast it into that. <br><br></td></tr></table><br>
<a name="794218"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I will try that... <br><br>The actual Type I use is TPhysicsObject.. <br><br>So I think I have tried.<br><br><pre class=code>Local Ent:TPhysicsObject=TPhysicsObject(HandleToObject(pxGetBodyUserData(Body)))</pre><br><br>But I will try when I get home.<br><br>I guess my underlying questions is without superstrict...the program runs correctly. Meaning to me that the code is "Good" in a not strict sense..... Why? <br><br></td></tr></table><br>
<a name="794222"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> because non strict allows all unclean, instable and especially seriously slower B3D hacks ...<br><br>running in non strict results in code slow and highly undesired (and if intend for others: inacceptable) code <br><br></td></tr></table><br>
<a name="794238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> delete <br><br></td></tr></table><br>
<a name="794251"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eric,<br>Ive had the same problem before, I was trying to cast (but without the cast), for my create methods. And it ran in normal mode, but not in SuperStrict.<br>And someone pointed out that it was running, but not giving the right answer.<br>Normaly I would say always use superstrict. <br><br></td></tr></table><br>
<a name="794256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blueapples</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> The sample code in OP compiles just fine under SuperStrict.<br><br>The problem is that HandleToObject() returns Null if the handle number doesn't exist. Try to use the object returned in your sample, it will give you an error.<br><br>All HandleFromObject() does is hash the pointer of the BB object, store that in an array, and return the position in the array of the hash. If that hasn't been done, HandleToObject() has nothing to return from the array, so it just gives you Null. <br><br></td></tr></table><br>
<a name="794262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah<br><pre class=code>
SuperStrict
Local B:Int  
Local Ent:Object=HandleToObject(B)</pre><br><br>Compiles firn  but with the Method I have it in it does not.<br><br>This is not a Run time problem currently Blueapples, it's a compile time problem. But since the code above compiles and the same code inside a my type method does not, that means there are more problems, so I REM it out and the program compiles fine in SuperStrict.<br><br>Hmm.....<br><br>OH crap!!<br><br>I had <pre class=code>Import "blitz3d.bmx"</pre> at the top of my program.<br><br>This is for those of us that are using the B3dSDK it was at the top of a sample program and I did not delete it.<br><br>The Include has this at the bottom.<br><br><pre class=code>Function HandleToObject:Object(obj:Object)
	Return obj
End Function

Function HandleFromObject(obj:Object)
	Local h=HandleToObject(obj)
	Return h
End Function
</pre><br><br>I suppose this will screw you up because there are no type declarations and they don't make any sense..They both take an Object as the input parameter.<br>AHHHH!!!!! <br><br></td></tr></table><br>
<a name="794350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzmax.com/Community/posts.php?topic=70163" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=70163</a> <br><br></td></tr></table><br>
<a name="794381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Eric</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gosh ... I did a search for HandletoObject and that post didn't show up. I wish I had found that to begin with. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
