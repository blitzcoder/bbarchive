<!DOCTYPE html><html lang="en" ><head ><title >Import dependency problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Import dependency problem</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Import dependency problem</a><br><br>
<a name="714531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is this possible?<br><br>What I want to do is have a Type TConnection that owns a type TProtocol object. Of course, this requires TConnection to know about TProtocol, and so I have to import the TProtocol.bmx file.<br><br>I'd also like the protocol itself to have a 'pointer' (well a TConnection object that is set to its owner) back to it's owner TConnection object so that it can transfer data back to it without invoking any functions from the TConnection itself. This requires that TProtocol knows about TConnection, though.<br><br>To summarize<br>TConnection owns a TProtocol object<br>Each TProtocol needs to know about it's owner TConnection object.<br><br>Is there any way to do this while keeping the files separate? I wish I could just "Declare" TConnection within the TProtocol file, but it doesn't seem there is a way. I tried using <br><br>extern Type TConnection<br>EndType<br>endextern<br><br>at the top of the file, just to see, but no luck. Everything else has understandably resulted in a duplicate identifier error.<br><br>I realize I can alter the design to have the TConnection object handle everything related to it's TProtocol object, but really, the TProtocol object needs to be as autonomous as possible. Given that, I'd prefer not to have to alter the design.<br><br>Hopefully there's a simple fix that I'm missing. <br><br></td></tr></table><br>
<a name="714533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, and I suppose I could just combine the two types into a single file if I must, but I'd like to keep my source as modular as possible. <br><br></td></tr></table><br>
<a name="714536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> good old Include will do the trick. <br><br></td></tr></table><br>
<a name="714538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> N/M<br><br>brainfart. <br><br></td></tr></table><br>
<a name="714539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> all include does is insert the code in the included file at that point, so basically its creating one big source file.<br><br>;) <br><br></td></tr></table><br>
<a name="714540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> [shamed]<br>Darn, I didn't get my edit in fast enough to hide the fact that I didnt' figure that out right away.<br><br>Thanks much REDi. :) <br>[/shamed] <br><br></td></tr></table><br>
<a name="714549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> One drawback to include is that it requires you to strip "strict" out of any file that is being included. It's not a problem yet, but I could see going back and making changes to a non-strict file without realizing that strict isn't there and then getting some mysterious bugs.<br><br>Is there any way to conditionally include strict that would allow it to remain when the file is being compiled independently? <br><br></td></tr></table><br>
<a name="714550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >REDi</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> one call to strict at the top of your main file covers all included files also ;) <br><br></td></tr></table><br>
<a name="714551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> And how would you go back to a non script and implement non strict bugs? compilation is done on the large scale and thus the non strict will be found ... if you compile subfiles thought you should think about the "package approach"<br><br>include all "interlinked" files into 1 bmx and include that bmx into your project ... and never build sources that are part of that package on their own, always only the page. <br><br></td></tr></table><br>
<a name="714555"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>include all "interlinked" files into 1 bmx and include that bmx into your project ... and never build sources that are part of that package on their own, always only the page. <br></div><br><br>Yeah, that's what I decided to do - make a 'framework' .bmx file and package it all together.<br><br>It's just, some of the files that are included have no other dependencies - and while not necessary it would be ideal to be able to conditionally (somehow) make them 'strict' when I just want to test some new added code quick. Compiling the whole framework seems like a clunky fix - but it works so meh. <br><br>All in all, I still much prefer the small taste of blitz that I've had compared to the small taste of C++.  :) <br><br></td></tr></table><br>
<a name="714828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> How's about :<br><br>superconnection.bmx<br><pre class=code>
Type TSuperConnection Abstract
End Type
</pre><br><br>connection.bmx<br><pre class=code>
Import "superconnection.bmx"
Import "protocol.bmx"

Type TConnection Extends TSuperConnection

    Field protocol:TProtocol
End Type
</pre><br><br>protocol.bmx<br><pre class=code>
Import "superconnection.bmx"

Type TProtocol

    Field connection:TSuperConnection
End Type
</pre><br><br>In TSuperConnection you can set up abstract methods etc if you need protocol to call them.<br><br>This way allows you to remove the need for includes, and makes the code modular, and more importantly, you will only be recompiling the code that changes, rather than recompiling *everything* everytime....<br><br>Try to remove "include" from your vocabulary ;-) <br><br></td></tr></table><br>
<a name="714831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, I'll have to try that. I don't see why it won't work!<br><br>Thanks Brucey! My source files are still quite small and already the extended compiling was getting on my nerves. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
