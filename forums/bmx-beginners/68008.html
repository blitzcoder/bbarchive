<!DOCTYPE html><html lang="en" ><head ><title >TList doesn't support Integer?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >TList doesn't support Integer?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >TList doesn't support Integer?</a><br><br>
<a name="759777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> so then<br><br><pre class=code>
Strict

Local test:TList = New TList
test.AddLast(1)
</pre><br><br>gives "Compile Error: Unable to convert from 'Int' to 'Object'"<br><br>I know I could use an array but I want to use a list for ease of use.<br><br>Am I missing something here or does a list simply not support Integers because they are not "objects" like string?  I know I could make a Type called MyInteger with one Integer field but hey, that's lame :-) <br><br></td></tr></table><br>
<a name="759779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You've pretty much answered your own question here. You're not missing anything and yeah wrapping it into an object is a solution, or if speed doesn't matter you may simply store strings and use int &lt;-&gt; string collections.<br><br>Ideally, BRL should implement standard TInt, TFloat (etc) wrapper types, and even better implement specialized types for integer lists. That's easily doable by yourself, but a standard implemenmentation would be nicer. <br><br></td></tr></table><br>
<a name="759784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> TUnsignedLong etc wouldnt come a miss either... <br><br></td></tr></table><br>
<a name="759790"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> A TList has various TLink objects and the TLink contains an "Object" as a field. That means the only things you can store in it are things that inherit from the `Object` type. That would be any custom types, like arrays, but the basic variable formats - Bytes, Ints, Longs, Floats etc are not objects because you operate directly on them as if CPU registers. So you can't store them as `Objects`. You have to make your own `IntWrapper` type containing an Int field, then store the IntWrapper in the list. <br><br></td></tr></table><br>
<a name="759799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Didnt we have this disscustion a few months ago?<br>The basic types dont inheret from Object.<br><br>And Im sure you joined in Grey. <br>(Mind you I did a search for something the other day, and found the answer, which had been posted by me) <br><br></td></tr></table><br>
<a name="759810"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah we did have the discussion I think but I couldn't remember the details.  Wonder if anyone has made a TIntList type, wouldn't be too hard?<br><br>I suspect a may be post a bit more now as I've started my new game this week, and it's scheduled to take 3 months. <br><br></td></tr></table><br>
<a name="759814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your a self employed full time programmer arnt you Grey?<br>How do you find the dedication/self control to actualy work. or have you always been of the work ethic inclination?<br><br>I find that without a boss/suppervisor on my back all the time my work rate is abismal. And without someone to say enough is enough I "Optimise" continualy.<br>(Ive rewritten My "IntPair" type eight times. And its only an IntPair) <br><br></td></tr></table><br>
<a name="759815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> H&amp;K, and I normally end up rewriting a product 3 times at least before i consider it efficient enough. <br><br></td></tr></table><br>
<a name="759816"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Take a look:<br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1585" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1585</a><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1584" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1584</a><br><br>An Intlist and a Stringlist type for BMAx. <br><br></td></tr></table><br>
<a name="759821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Ideally, BRL should implement standard TInt, TFloat (etc) wrapper types, and even better implement specialized types for integer lists. <br></div>Actually <i>ideally</i> everything including simple data types would be objects instead of having to put up with wrappers.<br><br>Once Mark gets a little more into Python, I'm sure he'll see the error of his ways. <br><br></td></tr></table><br>
<a name="759827"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sure he won't. He's certainly not going to pay the price for primitive types such as integer being full blown types. In particular given that BlitzMax types are not espacially lightweight.<br>If he'd do that, legions of users would complain about the speed issue, and frankly I'd be in the ranks. Remember BlitzMax may *also* be used for very heavy computations.<br>The only sensible way to not be forced to pay a (too) big price with that feature would be to use just in time compilation, with advanced optimization.<br>Or to drop runtime polymorphism all along, and do that "optimization" at compile time.<br>In short that's asking for a completly different product. <br><br></td></tr></table><br>
<a name="759841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't think we want ints and stuff to be wrapped in an object, it would slow things down. <br><br></td></tr></table><br>
<a name="759868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> He's certainly not going to pay the price for primitive types such as integer being full blown types. <br></div>What "price" is that then?<br><br><div class="quote"> I don't think we want ints and stuff to be wrapped in an object, it would slow things down. <br></div>That's not what I was asking for. I was asking that ints <i>be</i> objects - not wrapped in one. <br><br></td></tr></table><br>
<a name="759873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Type UInt extends Int....<br><br>Ummmmm, wouldnt we then need to be able to write + and * functions (Sorry cannot remember what its called Operator overriding I think)<br><br>Mind you Ive nothing against operator overriding. <br><br></td></tr></table><br>
<a name="759882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> H&amp;K: It's pretty simple, I need to earn money to keep my house and feed my family so I need to do proper work.  Also, whereas I find the optimisation discussions interesting (I've coded 8-bit and 16-bit assembly) I don't bother with tons of optimisation in my own code.  I write something that works and is reasonably efficient and is also easy to understand, reuse and modify.  I'm a big fan of ready fire aim, as in get going and tweak as you go along if you need to otherwise you never finish anything, you just have a well optimised tech demo - sound familiar?  I also teach Aikido so am reasonably self-disciplined but I need to be as I have a lazy streak a mile wide that needs to be kept under control.<br><br>klepto2: thanks!<br><br>for now I'm using a string list of integers but it's fine as it's not holding many values and is not time critical thus doesn't need optimising.  So I'm optimising my optimisation! cool. <br><br></td></tr></table><br>
<a name="759905"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koriolis</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What "price" is that then? <br></div>The sad thing here is you're not even kidding.<br>What price? dunno, let's say dynamic dispatch for a start. If you want an integer to act like an object, you have to pay for the additional memory and runtime support for it. Putting an integer in a list that expects an object means at the very least the "integer" to carry the virtual table pointer with it. And it's the same in every single place where you receive an object you don't know the type at all (and may be an integer).<br>That's a price. You may be prepared to swallow it, but the point is that few people will enclined to do so here.<br>Granted, most programs wouldn't see the least noticeable difference in speed. But Mark does know its audience and he probably understands what BlitzMax users won't accept at all.<br>C# more or less resolved the problem by NOT having integers be internall a real object, but wrapping (boxing/unboxing) them only when needed. I guess that would be a good alternative solution. And In fact I'd put my vote on it. But certainly not having integers *always* be implemented as full blown objects.<br>Some precision though about boxing/unboxing : at the semantic level, it is "just as if" integers are *always* full objects. But with an important efficiency difference. It *can* be slower if you constanlty do operations that rely on boxing, but on the other hand if you don't it will necessarily be as fast as with standard raw integers (because that's what they are internally). <br><br></td></tr></table><br>
<a name="759922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> We came across this issue last night and damn did it cause problems....<br><br>Now we are in need of actually creating a blitz-type C side, which I assume isn't possible (in any sort of easy, non-hacky way....) <br><br></td></tr></table><br>
<a name="759943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Koriolis: Yes that's what I was thinking.  Don't make Integers into objects by default but treat them that way if the programmers tries to use them as an object e.g. in an Integer List.  Best of both worlds. <br><br></td></tr></table><br>
<a name="759952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> @cygnus it might actually be possible to something similar to what you sugest, remind me next time you're on yim or msn will ya <br><br>@Koriolis don't be taken in by frameducks ignorance act (at least I think its an act) he just trying to to bate people again... <br><br></td></tr></table><br>
<a name="760374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the Lisp way is nicer - it treats ints, floats, whatever, as objects, but you can make specific declarations to the compiler to treat them as ints. This way, you only do this when and only when you need to optimize (and are 100% sure that you'll be dealing with an int and not some other type of object - since Lisp has &amp; allows dynamic typing) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
