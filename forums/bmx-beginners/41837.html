<!DOCTYPE html><html lang="en" ><head ><title >Quick tips</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Quick tips</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Quick tips</a><br><br>
<a name="469542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Flip an image by using negative values in SetScale:<br><pre class=code>SetScale -1,1  ' next drawn image is flipped horizontally
DrawImage character,23,40</pre>Your turn .. <br><br></td></tr></table><br>
<a name="469546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Access parts of strings with slices. Beats using Left(),Right() and Mid():<pre class=code>t:String = "Hello"
Print Mid(t,4,2)
Print t[3..5]</pre>Don't know how big your array is? No worries, you can step through it using length or with EachIn:<pre class=code>Local yo:Int[Rand(100)]

For j = 0 To yo.length-1
	yo[j] = j
Next

For j:Int = EachIn yo
	Print j
next</pre> <br><br></td></tr></table><br>
<a name="469820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> For those new to Max coming from previous Blitz's, "Global"s are now much slower than "Local"s.<br><br>Technically speaking though, the reverse is true - Global's are slightly faster than in older versions of Blitz, but Locals are lightning fast now. <br><br></td></tr></table><br>
<a name="469856"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >flying willy</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Locals get pushed onto the CPU registers, while globals are always stored in system ram. You can still use globals, but I think you should design tight loops that use all-locals.<br><br>Another tip: render your objects in order of image for a mild speed boost (ie. all image A then all image B). Although this isn't essential at all.<br><br>LoadAnimImage currently splits the image strip into different textures: I think that it should use a single texture -if the programmer specifies- because sometimes people will be using large anim images. <br><br></td></tr></table><br>
<a name="469865"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drago</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> some more info to do with globals, and consts<br><br>a global in a function.<br><pre class=code>
function keeptrackofsomething()
   global tracker:int
  traker:+1
  print tracker
end function
</pre><br>is global to that function, ie if you call the function 5 times you will get<br>1<br>2<br>3<br>4<br>5<br>printed out.<br>but any code outside the function can't change that varible.<br><br><pre class=code>
function coolfeature()
 const coolfactor = 1000
 print coolfactor
end function

coolfeature()
print coolfactor
</pre><br><br>this will result in the <br>1000 and 0 being printed.<br><br>this lets you have vars that are only constant to a function, not the whole code.<br><br>cool eh? <br><br></td></tr></table><br>
<a name="469878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shagwana</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Where possible, replace SetRotation() and SetScale() with SetTransform() - will compile to less code and execute a tiny amount faster! <br><br></td></tr></table><br>
<a name="470882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do shorthand coding by using ':'<br><pre class=code>from   MyRedAlien.XPos=MyRedAlien.XPos+225
to     MyRedAlien.XPos:+225</pre><br>For line continuation use '..'<pre class=code>DrawImageRect MyBigAlien.image,MyBigAlien.X,MyBigAlien.Y,..
              MyBigAlien.Width,MyBigAlien.Height</pre><br>To reduce the headache of syncing your mods create a *.bat file in your main BlitMax folder which looks like this:<br><i>Credits: BotBuilder</i><pre class=code>cd bin
bmk syncmods -u MyUserName -p MYPASSWORD</pre><br><br>Turn frame limting on/off by using bglsetswapinterval:<br><i>Credits: Dreamora</i><pre class=code>bglSetSwapInterval 0  'OFF
bglSetSwapInterval 1  'ON</pre><br><br>Use 'Framework' and <a href="http://upx.sourceforge.net" target="_blank">UPX</a> for small *.exe sizes.<br>This example comes out at 16.5K (Win32) after the above treatments:<br><pre class=code>framework BRL.StandardIO
Print "Hello world"</pre> <br><br></td></tr></table><br>
<a name="478620"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> EDIT: Added to <a href="http://www.blitzwiki.org/index.php/Performance_Tips" target="_blank">BlitzWiki - Performance Tips</a><br><br><br>Faster plotting ..<br><br>This method will speed up rendering of starfields etc ...<br><br>Instead of:<br><pre class=code>
For s:star=Eachin starlist
 Plot s.x,s.y
Next</pre><br>Try this:<br><pre class=code>glDisable GL_TEXTURE_2D
glBegin GL_POINTS
For s:star=EachIn starlist
  glVertex2f s.x+0.5,s.y+0.5 
Next
glEnd
glEnable GL_TEXTURE_2D</pre>(I managed to gain an extra 7000 plots per frame for instance!)<br><br>Give it a whirl:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Framework BRL.GLMax2D
Import BRL.Random
Import BRL.System


Const TESTTIME = 1000   ' (1000 = one second)

Const width=640 , height=480
Graphics width,height,0


Cls
DrawText "Normal / Fast plot test.   PRESS ANY KEY ..." , 10,10
Flip
WaitKey ; Cls ; Flip

' normal plot
Cls ; SetColor 80,50,50
t=MilliSecs() ; ncount=0
Repeat
	Plot Rand(width),Rand(height)
	ncount:+1
Until MilliSecs()&gt;=t+TESTTIME
Flip

' fast plot
Cls ; SetColor 50,50,80
t=MilliSecs() ; fcount=0
glDisable GL_TEXTURE_2D	
glBegin GL_POINTS
Repeat
	glVertex2f Rand(width),Rand(height)
	fcount:+1
Until MilliSecs()&gt;=t+TESTTIME
glEnd
glEnable GL_TEXTURE_2D
Flip

' results
SetColor $ff,$ff,$ff
DrawText "Number of plots achieved in "+TESTTIME+" m/secs:" , 10,40
DrawText "Normal = "+ncount ,20,70
DrawText "Faster = "+fcount ,20,90
DrawText "Gain   = "+(fcount-ncount) ,20,110
DrawText "Any key to end ..." ,10,200
Flip
FlushMem
WaitKey

End</textarea> <br><br></td></tr></table><br>
<a name="478621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh, never mind then...When jb changes his code I remove mine :D <br><br></td></tr></table><br>
<a name="478622"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> (blunder corrected- thanks fb)<br><br>Not tested but I suspect DrawLine, DrawRect, etc can benefit from the same technique. <br><br></td></tr></table><br>
<a name="478878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> JB: That certainly makes a difference!<br><br>On my computer:<br><br>Normal: 1944455<br>Faster: 2543586<br>Gain:  599131 <br><br>That's a difference of 9985 plots per frame. <br><br></td></tr></table><br>
<a name="505922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FBEpyon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was trying to do the setscale trick and it doesn't work for me am i doing something wrong its being put in just like you had it. Also this image is a created image if that makes any diff <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
