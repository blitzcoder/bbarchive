<!DOCTYPE html><html lang="en" ><head ><title >Stupid. What are returns for, ie functions ect.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Stupid. What are returns for, ie functions ect.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Stupid. What are returns for, ie functions ect.</a><br><br>
<a name="801235"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've seen many function in the code archives that have return blah in them.<br><br>In all the code I've ever written where I've used functions, I never thought of using the return statement. Maybe I'm not understanding fully what I'm doing, which is most probably the case.<br><br>Can somebody explain why returns are used and why having a function without it works anyway?<br><br>I know what you're all gonna say. I've been here 5 years and I still don't know how to program. :) <br><br>I don't think I have the aptitude for coding. It's not gonna stop me though. I can code well to an extent but some things just refuse to make sense.<br><br>Please don't make fun or start taking the p**s. :) <br><br></td></tr></table><br>
<a name="801238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Return is used to return the result of a function (where the function has a result).<br><br>i.e.<br><pre class=code>
Function add:Int(num1:Int, num2:Int)
return num1+num2
End Function
print add(10, 200)
</pre><br><br>As soon as the return command is issued, the function exits, passing the value provided.<br>You can also call return on it's own to simply exit the function. <br><br></td></tr></table><br>
<a name="801239"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Function Cos:Double( x ) <br></div>What does COS do?<br>It returns a value.<br>HOw does it do this?<br>At some point in the Function COS there is a "Return"<br>What does it return?<br>Well in this case A Double<br><br>Whenever you want a function to return a value, even if this value is TRUE of FALSE for fail and success, the you use "Return"<br><br>I fyou dont have a return, then the Function, simply jumps back to where it was called from when it reaches "End Function"<br><br>Its the difference in old specrum talk between DEFFn which returns a value, and Gosub, which doesnt <br><br></td></tr></table><br>
<a name="801241"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That makes sense.<br><br>But this:<br><br><div class="quote"> I fyou dont have a return, then the Function, simply jumps back to where it was called from when it reaches "End Function" <br></div><br><br>So using return doesn't make the function return to where it was called? If it doesn't then where does it go? <br><br></td></tr></table><br>
<a name="801242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Return does return back to where the function was called from. <br><br></td></tr></table><br>
<a name="801244"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Return <b>also</b> return back to where the function was called from, but also returns a value <br><br></td></tr></table><br>
<a name="801259"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I can't believe you've been programming for five years and have never used return!<br><br>Half the point of functions are that they allow you to return a value...<br><br><br><br>Here is simple example of how to use return:<br><br><pre class=code>
Function Add#(A#, B#)
   Return A#+B#
End Function

X# = Add#(10, 2)
</pre><br><br><br>Here is another example.  Note that you can use Return anywhere in the function and it will exit the function immeidatley and return that value.  Specifying no return value with return will return false or 0.  You can even use Return in functions that have no return type specified after the function name.  Just don't put anything after the Return.<br><br><pre class=code>
Function GreaterThan%(A%, B%)
   
   If A &gt; B Then Return True
   If A &lt; B Then Return          ' This returns 0 or False, which is the default value returned by Return.

   ' All functions behave as if the last line is Return, so if we get here because A = B, the function will still return False.

End Function
</pre><br><br><br>Note that if a function returns a value, you can choose to use it like a function that does not return a value and simply not assign it to anything.  Ie, you could put:<br><br>GreaterThan(10, 5)<br><br>In your code, and there would be no error, even though GreaterThan is returning a value, and you're not passing that on to anything.<br><br>A lot of times people make functions that do something like load a background image and instead of returning the image handle they might store that in some preprogrammed location and instead have the function return an error code... a boolean value... to tell them if the operation was successful.  They might then choose to ignore that return value, or use it if failure is not an option.  Ie:<br><br><pre class=code>
Function LoadLevel%(LevelName$)
    If the level loaded Then Return True
End Function

If Not LoadLevel("ep1lv1.wad") 
   RuntimeError("Level failed to load!")
   End
EndIf
</pre><br><br><br>Hefully that makes it all clear.  I'm still in shock over the return thing.  I thought you coded a game or two.  You did that without returning any values from functions?<br><br>How long have you been coding? :-)<br><br>I didn't use function returns in my first five years of coding either, but that's because I started coding in the 1980's and I don't think they even had C back then, or if they did it was only available on mainframes not home PC's.   Basic back then had a line number on every line and gosub and goto statements instead of functions so if you wanted to return a value from anything you had to use a global variable... which was the only kind of variable back then. :-)  Hey, I bet that's what you've been doing...  Using globals to return the results of functions?  I still do that sometimes because unless you return arrays you can only return one variable when you return something from a function with return. <br><br></td></tr></table><br>
<a name="801331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hefully that makes it all clear. I'm still in shock over the return thing. I thought you coded a game or two. You did that without returning any values from functions?<br> <br></div><br><br>Yeah it's allclear now, thanks. I've been coding on and off for 5 years and I have never used returns in functions. :) <br><br><div class="quote"> so if you wanted to return a value from anything you had to use a global variable...  <br></div><br><br>That's what I do now. :) My code has globals all over the place.<br><br>Thanks for all the help. :) <br><br></td></tr></table><br>
<a name="801342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "It is better to ask and appear ignorant than to remain ignorant" <br><br></td></tr></table><br>
<a name="801343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> "It is better to ask and appear ignorant than to remain ignorant" <br></div><br><br>I like this phrase. :)<br><br>Newbie forum spamathon will begin soon. :) <br><br></td></tr></table><br>
<a name="801368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can imagine that every function automatically has a Return on its last line anyway. For example,<br><pre class=code>Function f()
   something
   {{{return}}}
End Function</pre><br><br>It's always been there, you just never realised it ;) <br><br></td></tr></table><br>
<a name="801374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Apart from the obvious math'ish "return a+b" examples, another often used situation is returning true/false. If you have a player being able to move left and right until he bumps onto a wall, then you need to check that. You could write a function that checks the given xy pos from the player, and see if you can go there.<br><br>What you get is something like:<br><br>Function Check:Int(player:TPlayer,x:int,y:int)<br>  If MyMap[player.x+x,player.y+y]&lt;10 Return true ' assuming &lt;10 means walkable<br>End Function<br><br>And in your code:<br><br>If Check(player,-1,0) GoLeft()<br>If Check(player,1,0) GoRight() <br><br></td></tr></table><br>
<a name="801384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can shorten the returns of boolean (true/false) functions futher. For example, instead of<br><br><pre class=code>Function f():Int
  If condition
    Return True
  Else
    Return False
  End If
End Function</pre><br><br>You can simply put<br><br><pre class=code>Function f():Int
  Return condition
End Function</pre><br><br>Or for CS_TBL's example,<br><br><pre class=code>Function Check:Int(player:TPlayer, x:Int, y:Int)
  Return MyMap[player.x+x,player.y+y]&lt;10
End Function</pre><br><br>Of course this will only work if nothing else happens if the section is not walkable. Remember that Return will stop the function there and then. So if you had code after the Return (perhaps a blocking sound or something) it would never get ran. In CS_TBL's example, if the condition is False the function will continue. There is nothing left so it would return False by default, but you could put code after the If statement that would run. <br><br></td></tr></table><br>
<a name="801390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Building on what CS_TBL said, if you notice, a lot of libraries, and particularly WinAPI stuff always return either True or False, indicating whether they were able to do what you asked or not. This can be very handy, and it's something I've done a bit in my own game engine.<br><br>Czar Flavius' suggestion of shortening code with retutns can be useful too. EG:<br><br><pre class=code>
Function IsXLessThanTen(X:Int)
   Return X&lt;10
End Function
</pre><br><br>You just have to be careful to use it in situations where readability is not sacrificed for a few extra lines of code. IMO, the example I gave here does not compromise readability, indeed it probably aids it. So I tend to do that quite a bit too. <br><br></td></tr></table><br>
<a name="801397"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Interesting, most cases have been mentioned but one not:<br><br>Return will end the function immediately.<br>This means if you check for a condition that needs to be met for further processing and it is not met, you can simply call return to leave the function.<br><br>In those cases you normally return false or another special value to signalize the other code waiting for the function result, that the calculation failed. (depending on the function, you even return error codes) <br><br></td></tr></table><br>
<a name="801401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I never use Assert.<br><br>If I have method to update the screen, if that update requires a map being present then:<br><pre class=code>
Method Update()
  If map=Null return
  ' draw map
  '
  '
End Method
</pre><br><br>which looks -to me- more logical than:<br><pre class=code>
Method Update()
  If map&lt;&gt;Null
    ' draw map
    '
    '
  End If
End Method
</pre><br>..which saves you an indent!<br><br>I wonder why Assert was made in the first place.. :P <br><br></td></tr></table><br>
<a name="801409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>Interesting, most cases have been mentioned but one not:<br><br>Return will end the function immediately.<br> <br></div><br><br>I said that already. <br><br></td></tr></table><br>
<a name="801424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this<br><br><pre class=code>Function f:Int()
   Return f()
End Function</pre><br><br><br><br><br>You'll need Task Manager to kill it. <br><br></td></tr></table><br>
<a name="801430"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Now that you mention it, recursion hasn't been explained yet :P <br><br></td></tr></table><br>
<a name="801431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Now that you mention it, recursion hasn't been explained yet :P<br> <br></div><br>Haha, don't do that to him. Recursion used to make my head hurt. <br><br></td></tr></table><br>
<a name="801434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> recursion is here:<br><a href="http://www.blitzbasic.co.nz/Community/posts.php?topic=69705" target="_blank">http://www.blitzbasic.co.nz/Community/posts.php?topic=69705</a><br><br>The tree is nice enough to toy with ^_^ <br><br></td></tr></table><br>
<a name="801464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >deps</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Recursion is easy. :)<br><br><pre class=code>
function floodfill( x:int, y:int, color:int )
    thiscolor = getpixel( x,y ) ' Save color under this pixel
    putpixel( x,y,color ) ' Paint over it

    ' Jump to pixels around this one if they have the same
    ' color this one used to have.
    if getpixel( x,y-1 ) = thiscolor then floodfill(x,y-1,color)
    if getpixel( x,y+1 ) = thiscolor then floodfill(x,y+1,color)
    if getpixel( x-1,y ) = thiscolor then floodfill(x-1,y,color)
    if getpixel( x+1,y ) = thiscolor then floodfill(x+1,y,color)
endfunction
</pre><br><br>Untested and written from memory using pseudo code. <br><br></td></tr></table><br>
<a name="801520"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> re·cur·sion –noun: See recursion <br><br></td></tr></table><br>
<a name="802303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool thread...here's one for another bmax noob regarding Return...<br><br>Function blah()<br> for local A = 1 to 100<br>  if a = 50 ; return True<br> next<br>end function<br><br>Will the loop go through all 100 or stop at 50, and if it does stop at 50 and immediately exits, is it ok to code in this manner? <br><br></td></tr></table><br>
<a name="802314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >deps</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> it stops at 50. It is ok to code things that way <br><br></td></tr></table><br>
<a name="802350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks deps! <br><br></td></tr></table><br>
<a name="802352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's "ok" in that it won't be dangerous or unpredictable... but it is a bit pointless in your example lol. A return in the middle of a For loop isn't bad, and I have done it before. For example, say you were checking to make sure there was at least one type of element in a TList (similar to the other thread). The function returns true in the For loop as soon as it finds an instance, as there is no point carrying on the search. Or at the end of the For loop, it returns false. <br><br></td></tr></table><br>
<a name="802471"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm using it to check for a collision, no need to carry on once the collision is found, this works great! ;) Thanks. <br><br></td></tr></table><br>
<a name="803834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> OMG ;-) missed this one.<br><br>I use Return sometimes mid function to abort out early.  Really I should be setting some variable and returning that at the end for "clarity".  I also use Return mid for loop quite often too.  OR if I have more processing to do after the loop I set a variable and the use Exit. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
