<!DOCTYPE html><html lang="en" ><head ><title >"Print" to console not UTF-8 friendly?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >"Print" to console not UTF-8 friendly?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >"Print" to console not UTF-8 friendly?</a><br><br>
<a name="733662"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there something I'm missing or doesn't Print work when writing UTF-8 text to the console?<br>Here's a short example :<br><pre class=code>
SuperStrict
Print "&amp;#1086;&amp;#1076;&amp;#1080;&amp;#1085;"
</pre><br><b>EDIT :Yes... very funny.. that should be the Russian text for "one", but it's been converted by the forum-engine. You can try <a href="http://www.google.com/translate_t" target="_blank">google translate</a> for your own text... </b><br><br>On Windows, it prints :<br><pre class=code>один</pre><br>which is, if I read correctly, the 4 UTF-8 characters separated out into it's 8-byte parts.<br><br>I expect I'll get the same results on Mac and Linux.<br>Perhaps it's a bug with the Stream of StandardIO ?<br><br>Ho hum.. <br><br></td></tr></table><br>
<a name="734202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay... so now I seem know what I'm doing with UTF-8, I've got it working on Linux GTK (that is, Printing to the "Output" tab).<br>Seems that win32 must be buggy... :-) <br><br></td></tr></table><br>
<a name="734273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >pappavis</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've had a similair question sometime ago and was informed that Blitz can't output cyrrilic.<br>The advise from forum members was to output the russian text as consequetive (images/bitmaps) pictures.  Its a solution, though not elegant. <br><br></td></tr></table><br>
<a name="734276"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem is that some of the controls used by MaxGUI on windows are not very compatible with unicode chars (and the BlitzMax IDE is written in MaxGUI). You can redirect the print command un windows, or use another IDE. <br><br></td></tr></table><br>
<a name="734281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've got it outputting cyrillic in Graphics mode (through DrawText, with a supporting font), but as you say, some of the Windows components don't seem very happy with it.<br><br>Also, I tried editing a file (in the IDE) on Windows which showed the proper text, but when I tried to load that file on Linux, gEdit said it wasn't UTF-8 (I thought Max saved as UTF-8 by default?).<br>Any hoo, I ended up having to load the file in the IDE on Linux, and save it from there, so that I could open it in gEdit.<br>But I can confirm that the Linux GTK IDE prints all non-ascii text as it should (assuming you have all the required fonts available). <br><br></td></tr></table><br>
<a name="734299"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would it have anything to do with Windows using UCS-2? <br><br></td></tr></table><br>
<a name="734528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I briefly looked into this "bug" a while back.  I'm pretty sure it is Win32 only, and was something to do with the stdio not supporting UTF8.  I think skid knew a bit about this one, and you might be able dredge something up from one of his posts?  It's certainly not the GUI controls, as the following spews rubbish when run from the command line, not just in the IDE.<br><pre class=code>
For i = 0 To 255
Print Chr(i)
Next
</pre> <br><br></td></tr></table><br>
<a name="735602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's curious that if you use the Notify function, the UTF-8 is well supported... also, the UTF-8 output on the windows console is well output by C++ programs, but not by BlitzMax ones, so I supouse it is, in fact, not really a windows bug, but a BlitzMax one. I think a UTF-8 flag has to be initialized on windows, not sure how to do it.<br><br>here's an article:<br><a href="http://www.microsoft.com/globaldev/getwr/steps/wrg_unicode.mspx#EWE" target="_blank">http://www.microsoft.com/globaldev/getwr/steps/wrg_unicode.mspx#EWE</a><br><br>note that the only way to warranty unicode support on a windows application is making it Windows 2000, NT, XP or Vista compatible (marking the unicode flag in the compiled binary). Windows 95 and 98 are not unicode compatible, and doesn't display well this kind of applications. blitzMax is outputing unicode chars but seems to not have this flag set. <br>there's also a Microsoft utility for developers, that solves this unicode-ansi compatibility issue, enabling the binaries to be compatible with windows 98 and NT based windows. this tool is called Microsoft Layer for Unicode (MSLU), and can be downloaded for free. The bad news is that this utility is a DLL that has to be deployed with your final application, but it solves all the unicode issues on applications that have the unicode flag set to true, and are run under Windows 95 or 98. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
