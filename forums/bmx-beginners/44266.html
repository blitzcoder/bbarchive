<!DOCTYPE html><html lang="en" ><head ><title >Is there a way to check pixel color?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Is there a way to check pixel color?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Is there a way to check pixel color?</a><br><br>
<a name="493052"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey guys, Im a total Blitzmax newb so bear with me. Is there a way to check the color of a pixel? Here's a link of my screenshot (17k, small):<br><img src="http://www.interstellarwarfare.com/gallery/images/abductor.jpg"><br><br>I wanted to figure out how to have the guys run ALONG the terrain, and I was thinking of basically checking the color of the terrain beneath him (the orange stuff). Any clues? I saw the collideimage functions, but wasnt sure if it was overkill. <br><br>Oh and can someone point me to the FAQs on how to submit code in a code window? I've seen the link before but naturally I cant find it now! Thaaanks!<br><br><br>-Mario <br><br></td></tr></table><br>
<a name="493054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think that doing pixel checks might be a little processor intensive since you would presumably need to convert it to a pixmap first.<br><br>But since you appear to be drawing the lines manually, why not simply move a point along each line and use that as a handle to offset the drawing of the image from?<br><br><a href="/faq/faq.php" target="_blank">faq</a><br><b>see what are the forum codes?</b> <br><br></td></tr></table><br>
<a name="493070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cool. Is there a ridiculously easy way to do that? I already have a formula to find the "heading" of a dot from another dot. I can make it move like that by using the sample code from the asteroids game, etc......or am I over-complicating things again?<br><br>And thanks for the FAQ link!!! <br><br></td></tr></table><br>
<a name="493071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I guess I should clarify this is a little rip off of the Atari ST game OIDS (Yes I know its been remade!) But I'm doing this as a break from my other project. :) Im aiming to have the guys running around pell-mell on the terrain randomly changing directions from left to right, trying to escape the UFO (you) before you beam 'em up. :) <br><br></td></tr></table><br>
<a name="493076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Robert</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The trouble with pixel colour checking is that you would have to update the code if you make the terrain more pretty.  What I do is to maintain a series of images which make up the 'visual' terrain, and a series of pixmaps which make up the 'collision' terrain, which has white in solid areas and black in non-solid areas. <br><br></td></tr></table><br>
<a name="493078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Robert would you have any source examples to share? I'm doing it with math for now, just to see how it works. For my way, its kinda complex...my terrain points have x,y coords, I pick a random one to start my people on, then I have my people select a random destination terrain coord, and then make em run to that by moving them from terrain coord to terrain coord....well...ugh! You get the point :) You can see I LOVE to complicate things. But in the end, it works. Just hate reinventing the wheel when someone knows an easier way. <br><br></td></tr></table><br>
<a name="493090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I just knocked this little example up, it plots points along the length of a line, should be easy enough to modify for movement along a line.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 640,480,0

Type TPoint
	Field X
	Field Y
End Type

Global PointA:TPoint = New TPoint
	PointA.X = 0
	PointA.Y = 0

Global PointB:TPoint = New TPoint
	PointB.X = 640
	PointB.Y = 480
	
Global LineLength:Int
Global Pos:TPoint = New TPoint
Global DCount:Int
Global DMod = 1

While Not KeyDown(KEY_ESCAPE)

DistX = PointB.X - PointA.X
DistY = PointB.Y - PointA.Y

LineLength = Sqr( (DistX*DistX)+(DistY*DistY) )

DCount:+DMod

If DCount &gt; LineLength Then DMod = -1
If DCount &lt; 1 Then DMod = 1

Pos.X = (PointA.X + (DCount/(LineLength*1.0)) * DistX)
Pos.Y = (PointA.Y + (DCount/(LineLength*1.0)) * DistY)

DrawOval Pos.X, Pos.Y, 10,10

For t = 0 To LineLength
	Plot (PointA.X + (t/(LineLength*1.0)) * DistX), (PointA.Y + (t/(LineLength*1.0)) * DistY)
Next
'DrawLine(PointA.X, PointA.Y, PointB.X, PointB.Y+50)

PointB.X = MouseX()
PointB.Y = MouseY()

Flip
Cls
Wend
</textarea><br><br>*EDIT*<br>Changed <br><br></td></tr></table><br>
<a name="493161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DredPirateRoberts</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> To read a pixel from screen use code below<br><br>Local pix:Byte[4]<br><br>glReadPixels ( screenx, screeny-1, 1, 1, GL_RGB, GL_UNSIGNED_BYTE, byte ptr pix )<br><br>pix then will have r,g,b in pix[0] pix[1] and pix[2]<br><br>Or just make an array the width of the terrain and keep the heights in it for each verticle scanline then just use the x position in array to read in height. <br><br></td></tr></table><br>
<a name="493279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks all of you! I'll give it a try  and let you know how it works out! You guys are the best! <br><br></td></tr></table><br>
<a name="493320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Booticus</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well guys it works! I used the array idea by DredPirateRoberts<br><br>"<br>Or just make an array the width of the terrain and keep the heights in it for each verticle scanline then just use the x position in array to read in height."<br><br>The lin code provided is also great for stuff too!! AND so did the glReadPixels ( screenx, screeny-1, 1, 1, GL_RGB, GL_UNSIGNED_BYTE, byte ptr pix ) too! I just had to invert the Y axis! Thank you all guys! I'll be sure to post the game when I got somn workin. Again you guys rule!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
