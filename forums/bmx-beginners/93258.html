<!DOCTYPE html><html lang="en" ><head ><title >Screen resolution? What to do?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Screen resolution? What to do?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Screen resolution? What to do?</a><br><br>
<a name="1065766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What should I do about screen resolution when my program is run on a widescreen monitor?  I would like to run it in full screen.  The backdrop of the game is 1024x768 which is think is absolute minimum for any monitor/video card these days.<br><br>My native resolution on my laptop (widescreen) is 1366x768.  I don't want to run in this resolution as I believe plenty of people are still using standard monitors.<br><br>If I run the game in 1024x768 mode, full screen on my laptop then the image is stretched to fill the screen - which would be okay but it doesn't maintain the aspect ratio and this stuffs up isometric graphics.<br><br>I know this has probably been asked, can you get the current desktop resolution when a game starts?  <br><br>What I'm thinking is:<br>1. Get resolution (returns 1366x768) in my case<br>2. Set origin of (1366-1024/2, 0)<br><br>This will leave two black areas on either side of the game 'screen' which I think is acceptable.  <br><br>Any ideas? <br><br></td></tr></table><br>
<a name="1065768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeke</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Print DesktopWidth() + "x" + DesktopHeight() <br><br></td></tr></table><br>
<a name="1065769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Zeke.<br><br>Is the way I'm proposing on doing this (with the blank area's down the left &amp; right on widescreen) the way I should be doing it?<br><br>Another question (don't want to flood the forum with simple questions)<br><br>I want to overlay my normal screen with a "tinted" looking rectangle to show information, and then put the screen back to normal.<br><br>I get a nice effect using SetBlend(SHADEBLEND) but when I try to redraw my graphics to get rid of this rectangle, everything is drawn darker?  What do I need to set my blend back to? i.e. what is the BM default value for Blend?<br><br>This is the code I have which doesn't work:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	Local currentBlend:Int
	
	currentBlend = GetBlend()
	SetColor (128, 128, 128)
	SetBlend (SHADEBLEND)
	DrawRect (256, 200, 512, 568)
	SetBlend (currentBlend)
	Flip
	
	' Wait for ESC Key
	Repeat
	Until KeyHit(KEY_ESCAPE)
</textarea> <br><br></td></tr></table><br>
<a name="1065770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ignore my last question, forgot to set the colors back after changing them to (128,128,128)<br><br>Code in case any other newbie wants to do this sort of effect:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">	Local currentBlend:Int
	Local currentRed:Int
	Local currentGreen:Int
	Local currentBlue:Int
	
	currentBlend = GetBlend()
	GetColor (currentRed, currentGreen, currentBlue)
		
	SetColor (128, 128, 128)
	SetBlend (SHADEBLEND)
	DrawRect (256, 200, 512, 568)
	SetBlend (1)
	Flip
	
	' Wait for ESC Key
	Repeat
	Until KeyHit(KEY_ESCAPE)
	SetColor (currentRed, currentGreen, currentBlue)
</textarea> <br><br></td></tr></table><br>
<a name="1065772"></a>

<a name="1065773"></a>

<a name="1065774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> setViewPort used to be a problem with some older intel graphics cards. Use at your own risk. <br><pre class=code>
Local dw:Int = DesktopWidth()
Local dh:Int = DesktopHeight()
Local cx:Int = (dw-1024)/2
Local cy:Int = (dh-768)/2

Graphics dw,dh,32
SetClsColor 100,100,100
SetViewport cx,cy,1024,768

SetOrigin cx,cy
Cls
DrawText "screen centered",0,0

Flip()
WaitKey()

</pre><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1065783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Check out my Odd2D module which has aspect correction with several modes and you can also set the border colour. It's listed in my sig, but here are the relevant links in case you have sigs turned off.<br><br><a href="/posts.php?topic=90436" target="_blank">Discussion thread</a><br><a href="http://www.gooeyblob.com/mods/odd2dmodule.zip" target="_blank">Direct download</a><br><br>Enjoy. <br><br></td></tr></table><br>
<a name="1065796"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Oddball, will have a look in the morning. <br><br></td></tr></table><br>
<a name="1065797"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks also Jesse.  I have heard about SetViewPort and the caution about using it - I think I'll avoid it for now :) <br><br></td></tr></table><br>
<a name="1065802"></a>

<a name="1065803"></a>

<a name="1065804"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I generate a list of detected screen resolutions, and allow a player to choose one (above a minimum, naturally), rather than mandate a specific resolution. If you are using a fixed backdrop, then that is more tricky. My main menu uses a fixed 1024x768 backdrop and it is (at the moment) fixed at 1024x768, but when you enter the game it jumps into full-screen of the desired resolution.<br><br>One solution is to pad the sides of your backdrop with extra decorative image and centre it. Widescreen monitors will get to see the extra padding, but the main image won't appear stretched. Normal monitors will strech the image so that the padding is drawn off the edge of the screen, and the main image won't appear squashed.<br><br>I hope the suggestion makes sense for you.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1065839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, makes perfect sense Czar.   I will have a look at the module that Oddball has posted and if I can't get my head around it then what you are suggesting is my next option. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
