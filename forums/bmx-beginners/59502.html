<!DOCTYPE html><html lang="en" ><head ><title >Convert TIconStrip to Image or Pixmap?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Convert TIconStrip to Image or Pixmap?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Convert TIconStrip to Image or Pixmap?</a><br><br>
<a name="663167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br>I have loaded a very large Iconstrip and assigned it to a Listbox via "SetGadgetIconStrip(ListBox, IconStrip)".<br><br>I need the same images in another section of the app as well. So I really would hate to reload them again and keep them in system ram.<br><br>1. Can I directly "access" the images stored for the Listbox and draw them in another canvas as image or pixmap? <br>This way I would not need to hold another copy of the strip inside the system ram.<br><br>2. Is there a way to convert the Iconstrip to an image or pixmap. So I at least don't need to reload it again from hdd. I would convert it and it would stay in memory for later usage.<br><br>Don't know if these are truly beginner questions... ;)<br><br>Thanks as usual,<br>Grisu <br><br></td></tr></table><br>
<a name="663172"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> The icon strip already contains a pixmap, but if it's for another  gadget you can reuse the icon strip without problems.<br><br>To get the pixmap:<pre class=code>Local pixmap:TPixmap = IconStrip.pixmap</pre>Or reuse it like this:<pre class=code>SetGadgetIconStrip(AnotherGadget,IconStrip)</pre> <br><br></td></tr></table><br>
<a name="663179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ahh, thanks for these informations.<br><br>Again to my 1. question:<br><br>Global ListBox=CreateListBox(...)<br>Local IconStrip:TIconStrip=LoadIconStrip(..)<br>SetGadgetIconStrip(ListBox, IconStrip)<br>IconStrip=Null<br>GCCollect()<br><br>In this example above I have no IconStrip image stored in memory. But the ListBox itself has the items stored in some handle.<br><br>Can I directly access this handle?<br>So I can draw/display one icon to another Canvas?<br><br>See my point? <br><br></td></tr></table><br>
<a name="663482"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> In this example above I have no IconStrip image stored in memory. <br></div>Yes you do. GCCollect does not free the iconstrip, as the listbox also has a reference to it. You freeing your reference just means you no longer have a reference to it for your use, not that its reference count is zero.<br><br>I wish people would stop trying to intentionally work against the garbage collector. <br><br></td></tr></table><br>
<a name="663535"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's because I dislike having no control about when stuff is cleared from memory. <br><br></td></tr></table><br>
<a name="663571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why would you care? It is not removed from memory until it's safe to do so, anyway. It eliminates 90% of all the errors you get in unmanaged languages (the dreaded rogue pointer error, where a pointer is pointing at what is effectively random data).<br><br>Besides which, you do have control over it. It is cleared from memory, when you stop using it.<br><br>If you had done what you're trying to do above, in an unmanaged language, you would have frequently experienced spectacular random crashes, that would probably have taken an inexperienced programmer (here I'm talking about the kind of person who would know what color the sky is from person experience) forever to track down. <br><br></td></tr></table><br>
<a name="663572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I dislike having no control about when stuff is cleared from memory.  <br></div><br>I believe that you can have control over garbage collection if you prefer with GCSetMode 2 and GCCollect.  I personally didn't like having to remember to call the old FlushMem and I happily use the default automatic garbage collection, but it seems possible to do it "by hand" for control over timing. Though, as FlameDuck mentions, you'll still have to eliminate <i>all</i> references to objects for them to be collected (but since GCCollect() returns the number of bytes collected, you can test to see if it's doing anything after you attempt to free an item for collection). <br><br></td></tr></table><br>
<a name="663616"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I grew up with "freeing" stuff from hand and I like it.<br><br>Sure, you can have your own opinion about it. :) <br><br></td></tr></table><br>
<a name="663841"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I grew up with "freeing" stuff from hand and I like it. <br></div>So did I. That's why managed programming languages are such a godsend. I can focus on programming game logic, rather than fussing about with memory and resource managers. <br><br></td></tr></table><br>
<a name="664024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I grew up with "freeing" stuff from hand and I like it.<br><br>Sure, you can have your own opinion about it. :) <br></div>Especially as we're not the ones shooting ourselves in the foot. ;op <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
