<!DOCTYPE html><html lang="en" ><head ><title >Play SID files in the simplest way.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Play SID files in the simplest way.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Play SID files in the simplest way.</a><br><br>
<a name="1183627"></a>

<a name="1184093"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys.<br><br>I'd like to be able to play Commodore 64-style SID files in a bmx project.<br><br>The forums revealed that MaxMod2 is the only way to do this - is that still correct?<br><br>After several hours, finally managed to install and get MaxMod2 to compile, so that step is under my belt. I found GMan's old wrapper, which looks out of date since it still refers to an older version of MaxMod - can't use it.<br><br>I assume MaxMod2 is still the way to do this, but most of the references I find seem to be years old and I can't get so much as a sample SID file to play.<br><br>Please help.<br><br>EDIT:<br>-----<br>Solved in post 8 below: <a href="http://www.blitzmax.com/Community/post.php?topic=100331&amp;post=1184088" target="_blank">http://www.blitzmax.com/Community/post.php?topic=100331&amp;post=1184088</a> <br><br></td></tr></table><br>
<a name="1183628"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ole JR</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey has a SID player mod thingy in his googlecode svn repository.<br>No idea if it (still) works, or how.<br><br><a href="http://maxmods.googlecode.com/svn/trunk/" target="_blank">http://maxmods.googlecode.com/svn/trunk/</a> <br><br></td></tr></table><br>
<a name="1183630"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also gman did something in the past:<br><a href="http://www.blitzmax.com/Community/post.php?topic=60937&amp;post=685481" target="_blank">http://www.blitzmax.com/Community/post.php?topic=60937&amp;post=685481</a> <br><br></td></tr></table><br>
<a name="1184076"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys. Brucey's code seems to refer to bah.mod - if I'm not mistaken, this is something that was in the old and now unsupported MaxMod, and is therefore not usable?<br><br>The link to Gman's solution is also broken. Will try to do more research when there's time. <br><br></td></tr></table><br>
<a name="1184081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> My SID player module plays fine with its related BASS audio module. <br><br></td></tr></table><br>
<a name="1184082"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers Brucey, please check that my setup is correct:<br><br>-Created new folder under Blitzmax\mod called BaH.mod.<br> Path is now Blitzmax\mod\BaH.mod<br><br>-Added 2 subfolders. Paths are:<br> BlitzMax\mod\BaH.mod\bass.mod<br> BlitzMax\mod\BaH.mod\sid.mod<br><br>-Copied the contents of <a href="http://maxmods.googlecode.com/svn/trunk/bass.mod/" target="_blank">http://maxmods.googlecode.com/svn/trunk/bass.mod/</a> and <a href="http://maxmods.googlecode.com/svn/trunk/sid.mod/" target="_blank">http://maxmods.googlecode.com/svn/trunk/sid.mod/</a> into these subfolders, respectively.<br><br>-Fired up Blide's module compiler and received no errors.<br><br>When I try to compile your provided SID player example_base.bmx file, the error message is "Compile Error: Can't find interface for module 'bah.sid'".<br><br>Blide recognizes that path though, not sure why the compiler doesn't. I'm not very experienced with Blitzmax's folder structure, sorry. Can you spot what the problem is? <br><br></td></tr></table><br>
<a name="1184083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll also need sidbass.mod<br><br>And probably name BaH.mod as bah.mod (in case gcc wants to be case sensitive)<br><br><br>The example_base.bmx is just some base code for different drivers.<br><br>If you look in sidbass.mod/examples you'll find the real example there.<br><br><br>Don't forget to build modules too, which you'll need to do.<br>You'll probably also need a copy of bass.dll (from the bass.mod/lib/win32 folder) in the same folder as your exe.<br><br>Plenty to do :-) <br><br></td></tr></table><br>
<a name="1184088"></a>

<a name="1184220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Success! Thanks Brucey, the example works and everything sounds wicked cool!<br><br><br>To save future users some headaches, here's the full process to follow getting SID files to play in the simplest (?) way possible:<br><br>1. In your BlitzMax\mod folder, create a new folder called "bah.mod".<br><br>2. Added 3 subfolders inside bah.mod as follows:<br>   -BlitzMax\mod\bah.mod\bass.mod\<br>   -BlitzMax\mod\bah.mod\sid.mod\<br>   -BlitzMax\mod\bah.mod\sidbass.mod\<br><br>3. Download the respective mods into these new folders:<br>&gt; bass.mod = <a href="https://code.google.com/p/maxmods/downloads/detail?name=bass_1_01_src.zip&amp;can=2&amp;q=" target="_blank">https://code.google.com/p/maxmods/downloads/detail?name=bass_1_01_src.zip&amp;can=2&amp;q=</a><br>&gt; sid.mod = <a href="http://maxmods.googlecode.com/svn/trunk/sid.mod/" target="_blank">http://maxmods.googlecode.com/svn/trunk/sid.mod/</a><br>&gt; sidbass.mod = <a href="http://maxmods.googlecode.com/svn/trunk/sidbass.mod/" target="_blank">http://maxmods.googlecode.com/svn/trunk/sidbass.mod/</a><br><br>4. Compile these mods and build their documentation (use Blide's built-in Advanced Module builder using MinGW or search the forums how if you've not done it before).<br><br>5. Copy bass.mod/lib/win32/bass.dll to the folder your exe will be in (in this case, copy it to the folder below, in step 6).<br><br>6. Open sidbass.mod/examples/example.bmx, compile &amp; run to verify that it's all working.<br><br>You're now able to play SID files! Now just refer to the .bmx files from the other mod folders to learn how to integrate SID files into your own projects using Brucey's library. <br><br></td></tr></table><br>
<a name="1184124"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're <strike>not</strike> now able to play SID files! (corrected) <br><br></td></tr></table><br>
<a name="1184221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> :O<br><br>Thanks Kryzon. Reeeally unfortunate typo there haha <br><br></td></tr></table><br>
<a name="1184231"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot2005</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> this should be sticky topic because in the future...people will be asking the same questions as this! <br><br></td></tr></table><br>
<a name="1184246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I ever get around to making other audio drivers for it, I might release it as a download proper... but it's a bit of work to do that (as you'll see if you look at the sidbass source)<br><br>Sticky? I shouldn't think so. <br><br></td></tr></table><br>
<a name="1184573"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all the comments in this thread. I've been tinkering with Blitzmax and using sid files for years on and off. I even found some source code for a gui sid player I was working on about six years ago that I can now get working with Brucey's mod.<br><br>Very much appreciated, guys. <br><br></td></tr></table><br>
<a name="1184702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Glad you found this useful Xerra. All my previous attempts at getting this to work has failed, as all the threads about SIDs are very outdated and many of the links point to pages that don't exist, a real pain.<br><br>It'll just be up to us, the community, to keep try and keep our experiences up to date on these forums since they're the only real place to share info &amp; knowledge. <br><br></td></tr></table><br>
<a name="1184825"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tinkered around some more with it but I'm definitely rusty these days as I couldn't incorporate it into a gui interface as the code confused me. <br><br>Looking at it, I suspect it's not able to run that way anyway as a gui is waiting for an event nearly all the time and paused which means the sid wont play without repeated calls to the update function - unless i'm reading it incorrectly. <br><br></td></tr></table><br>
<a name="1185183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Xerra, yes, it does seem to need an update for each loop. Not a problem for a standard game loop structure I typically use, but I suspect for an event-driven interface you'd need a different solution.<br>Here's a little program I slapped together as a tester:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
'Two important imports:
Import bah.sid
Import bah.sidbass

Graphics(640, 480, 0)
'Important call to initialize audio channels and other stuff:
If Not TBass.Init(-1,44100,0,Null,Null) Then
	DebugLog "Can't initialize device : " + TBass.ErrorGetCode()
	End
End If

Global sid:TSID
sid = TSID.Load(RequestFile("Select a sid file:", "sid"))
sid.Play(0)


'Main loop:
Repeat
	Cls
	update()
	draw()
	Flip
Until KeyHit(KEY_ESCAPE) Or AppTerminate()
End


Function update()
	sid.update()
	'&lt;Update all game logic here&gt;
End Function


Function draw()
	DrawText("Press ESC to quit", 0, 0)
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1185434"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, that does work but it'll only play the first track of the loaded sid. I took apart Brucey's example in the module archive as that demonstrated how to have multiple tracks loaded in and playback any of the tunes within each one.<br><br>I just wish I'd looked a bit harder at it and realized that it wouldn't work within a gui interface in its current state :-)<br><br>It's not all bad, however. Always a good excuse to listen to some old classic Sid tunes when I'm tinkering with stuff like this. <br><br></td></tr></table><br>
<a name="1185480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you load a sid file, all the tracks are loaded as well. This new example below is updated to include the left/right keys to skip between tracks with the variable 'trackNr' instead of using play(0) which always plays only the 1st one.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict
'Two important imports:
Import bah.sid
Import bah.sidbass

Graphics(640, 480, 0)
'Important call to initialize audio channels and other stuff:
If Not TBass.Init(-1,44100,0,Null,Null) Then
	DebugLog "Can't initialize device : " + TBass.ErrorGetCode()
	End
End If

Global trackNr:Int = 0
Global sid:TSID
sid = TSID.Load(RequestFile("Select a sid file:", "sid"))
sid.Play(trackNr)

'Main loop:
Repeat
	Cls
	update()
	draw()
	Flip
Until KeyHit(KEY_ESCAPE) Or AppTerminate()
sid.Free()
End


Function update()
	sid.update()
	'&lt;Update all game logic here&gt;
	If KeyHit(KEY_RIGHT) And trackNr &lt; sid.TrackCount()
		trackNr:+1
		sid.Play(trackNr)
	ElseIf KeyHit(KEY_LEFT) And trackNr &gt; 0
		trackNr:-1
		sid.Play(trackNr)
	End If
End Function


Function draw()
	DrawText("Press ESC to quit", 0, 0)
	DrawText("&lt;- -&gt; Playing track " + trackNr, 0, 11)
	DrawText("Track: " + sid.SongName(), 0, 22)
End Function
</textarea> <br><br></td></tr></table><br>
<a name="1185701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  a gui is waiting for an event nearly all the time and paused <br></div><br>You can always run a timer, which ticks regularly, waking the GUI so you can call update or whatever. <br><br></td></tr></table><br>
<a name="1185928"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have no idea how to do that. Can you show a simple example if it's not too tricky? <br><br></td></tr></table><br>
<a name="1196202"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Schwang</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> While this works and is functional, I must say that as a bit of an audiophile, the quality of the SIDs played via my program sound vastly inferior to those played via Sidplay2/w, my favouritest SID player.<br><br>Brucey, I reckon you're the man for this. Supposedly, the audio quality has something to do with the bass.dll file, right?<br><br>Sidplay comes with its own set of DLLs which I assume you can't simply slot into a bmx program. Is there some way to do this? <br><br></td></tr></table><br>
<a name="1196205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> The problem with libsidplay2 is that it has a GPL license, which precludes me from doing anything interesting with it.<br><br>I don't have anything against GPL and its friends as I use a lot of GPL'd software myself. But as for providing modules, I try to stick to a minimum of LGPL, which makes things more useful for people in general (who may not want to release the source to their programs).<br><br>So yes, if libsidplay2 had a less restrictive license I would have gone with that instead. <br><br></td></tr></table><br>
<a name="1196245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Xerra</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> So we can't bribe you to tinker with it? Even if we have cookies? :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
