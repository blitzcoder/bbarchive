<!DOCTYPE html><html lang="en" ><head ><title >VRAM and loading images...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >VRAM and loading images...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >VRAM and loading images...</a><br><br>
<a name="632720"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ragtag</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If I'm understanding it correctly every image I load (i.e. run LoadImage) consumes a bit of VRAM ( width*heigh*4 = bytes of VRAM ), evne if it's not drawn on the screen.<br><br>Is it likely to cause trouble if I use big images, e.g. wider than 512 or 1024 pixels.  And does it matter if the image is square or not?<br><br>How do I control what's in VRAM and what is not?  (clear the TImage variable?)<br><br>And would it slow things down much to just load images when they are needed.<br><br> Ragnar <br><br></td></tr></table><br>
<a name="632751"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as square or not, I think it does matter. As I read it, if you load a 1000x200 picture, it will blitz will still treat it as a 1000x1000 picture. That's why, especially with animation stripes, it's important to use the whole square, not just make one long row of images after another. <br><br></td></tr></table><br>
<a name="632759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scott Shaver</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> From a few other posts<br><br><div class="quote"> <br>You have to remember that your images will be rounded up in size to the nearest power of two.<br><br>If you've got a 2600x2600-pixel image and are splitting it up in to 8x8=64 blocks, each pixel block is 325x325 in size. These blocks are rounded up in size to the next power of two - 512x512. In 32-bit graphics modes, each 512x512 texture takes up 1MB of VRAM but only 412k of that is tile data. If you run out of VRAM the texture data has to be shunted from system RAM to VRAM each cycle, which is very slow!<br><br>I reckon that if you split your image into blocks of a fixed size (say 64 or 128 pixels wide) you'll see a big increase in performance. <br><br> <br></div><br><br><div class="quote"> <br>So, I have some textures which are 256x128. Do you think <br>that I'm wasting half of my video memory on those? Is a <br>square image always better? <br>...<br>They're rounded to a power of 2, not a square power of 2. 256x128 will not need to be rounded at all, it's a perfect size.<br>...<br>Not always, no. Graphics cards that can only handle square textures are few, and far between, especially these days.<br> <br></div><br><br><div class="quote"> <br>The combined size in pixels of all your images multiplied by 4 should give you a rough estimate on how much memory is being used on a 32-bit display.<br> <br></div><br><br><a href="http://www.opengl.org/resources/tutorials/sig99/advanced99/notes/node50.html" target="_blank">http://www.opengl.org/resources/tutorials/sig99/advanced99/notes/node50.html</a> <br><br></td></tr></table><br>
<a name="632770"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't control whats in VRAM.<br><br>If you use DirectX then only the textures are in VRAM that are needed at the moment. Thats managed through DirectX.<br><br>If you use OpenGL, then you can't do anything about it. This needs the texture in VRAM as OpenGL does not offer its own management (you would need to write an own management).<br><br><br>But to tell the truth: If Mark would take the time to implement DXTC / S3TC, all this stupid VRAM problems would be solved ... The textures take up only 1/3 to 1/6 of their actual size in VRAM, especially with larger texture this is definitely a must have.<br>It was already missing in Blitz3D which is really an overkill as this technology is standard to graphic cards for 4-6 years now! <br><br></td></tr></table><br>
<a name="633060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ragtag</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info. Very helpful to know.<br><br>  Ragnar<br><br>------------------------------------------------------------------<br>Check out Alrea 51 Blackjack at <a href="http://www.ragtag.net/games" target="_blank">http://www.ragtag.net/games</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
