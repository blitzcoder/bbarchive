<!DOCTYPE html><html lang="en" ><head ><title >ANY way to hack your own ifdef directives?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >ANY way to hack your own ifdef directives?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >ANY way to hack your own ifdef directives?</a><br><br>
<a name="793809"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because, I could *really* use them for my behavior system. <br><br>Otherwise, I'll end up releasing two versions of the source code as doing if/else checks in the code where I *should* be using an ifdef directive will slow the code down considerably. It'd be easier to just release two different sets of source code or two different modules. <br><br></td></tr></table><br>
<a name="793820"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is a modified BMK with preprocessor support for ?define ?ifdef ?endif ...<br><br>Otherwise: Use a const and IF with that, that will be much faster than using variable IF checks (although not as good as it was in old blitz that removed the "jumped" block completely from compile) <br><br></td></tr></table><br>
<a name="793823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, looks like I'll just stick to maintaining two separate source code versions then, as the changes not only entail some IF checks, but also require the definition of some other fields that will take up unnecessary amounts of data when not desired. <br><br>I thought about just using ?debug but would like to offer the end users more variety than being forced to build a debug version to utilize variable tracking. (because it's conceivable they could want the variable tracking system to work on a release version, for a level editor or something.) <br><br></td></tr></table><br>
<a name="793839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You dont really need two seperate source codes entirly. <br>You just have two small loader/starter files<br><br><pre class=code>import stuffforthisbuild
include stufffirthisbuild1

go</pre><br><pre class=code>import stuffforthisbuild2
include stufffirthisbuild2

go</pre><br>OK so it means some work to ensure that the ?Ifdef bits are all in seperate files, but this would be a lot less work than maintaining two different sources would be <br><br></td></tr></table><br>
<a name="793898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I can kind of do that H&amp;K, but a few files the changes are so numerous that I really will need to keep two separate versions of them. It's going to be a bit of a pain. <br><br></td></tr></table><br>
<a name="793906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could always use GCC as a preprocessor.<br>Its not a perfect solution, but at least you dont have to maintain two separate versions (which would definitely be a pain). <br><br></td></tr></table><br>
<a name="793913"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I cannot agree with Grable more, wether you chosse a preLinker, or manualy include, definatly dont stick with two sources.<br><div class="quote"> but a few files the changes are so numerous that I really will need to keep two separate versions of them <br></div><br>I assume you mean that it would be a lot of work splitting the files. If that is what you mean then please take my advice and do split them.<br>At its simplest, dont include a file, but include one of two includes, that then includes different versions of the include lists of that file split up.<br><br>If you do deside to continue with two/more souces, please ensure its the <b>only possible</b> solution, because nearly anyother solution would be better in the long run, even if the ground work would seem to take longer. <br><br></td></tr></table><br>
<a name="793923"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is actually the problem with setting a const in a file that is included in ALL sources?<br><br>Which either sets or not sets a const?<br><br>Where is the actual difference to ifdef there?<br>Can't see it, perhaps you just think of all that stuff the wrong way round or too much in C++ terms instead of BM terms (bm is not C++ and has some major behavior differences) <br><br></td></tr></table><br>
<a name="793941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's really just a specific problem that affects my design for my Behavior system. It utilizes hash tables to store variables of any type, and with any name, but to properly view these variables and edit them during runtime via an editor or something, the system needs to track the type of the variable. This involves a change to the underlying hashtable and how it stores entries, and also changes a lot of function calls to include the type parameter, check the type parameter to verify it's valid, etc.<br><br>Basically, the system is going to take up a lot more memory and run slower when it's tracking the types of these essentially dynamic variable slots, and most games won't need that once the game is finished and all the testing is done, so there's no need for the code to execute, and there's no need for the extra tracking entries in the hash table, etc. So, basically, I plan to create two distinct versions (although all function calls will be identical, it's just some parameters will be ignored with the variable tracking off), and the programmer can then compile their code with the release module when they no longer need to track variable types or need the functionality of being able to see any/all variables and their values in an object at anytime (although that functionality will be quite handy when testing/debugging.)<br><br>It'll be clearer once I get to the point where I can release an early version of this system. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
