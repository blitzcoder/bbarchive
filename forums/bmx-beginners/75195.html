<!DOCTYPE html><html lang="en" ><head ><title >Case with a range</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Case with a range</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Case with a range</a><br><br>
<a name="840406"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LeeFbx</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there some way to select a range of values with "Case"<br>like Select<br>   case 20 through 80<br><br>I know I could use 20,21,22,.....80<br>but thats a lot of commas.<br><br>Thanks,<br>-Lee <br><br></td></tr></table><br>
<a name="840409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdsAdamJ</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
select true
    case a &lt; 20
        do stuff
    case a &gt;= 20 and a &lt;= 80
        do stuff
    case a &gt; 80
        do stuff
end select</textarea><br><br>Should do the trick! <br><br></td></tr></table><br>
<a name="840414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh how i wish for a ".." range specifier. too bad its already taken :( <br><br></td></tr></table><br>
<a name="840423"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It could be reused, as the two contexts of use are different. <br><br></td></tr></table><br>
<a name="840425"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hehe, then maybe mark could fix the comment trouble with extending lines while he was at it. <br><br></td></tr></table><br>
<a name="840427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>if a &lt; 20

elseif a &lt; 80

else

endif</pre><br><br>Much cleaner than aboves attempt of a select ... <br><br></td></tr></table><br>
<a name="840503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Much cleaner than aboves attempt of a select ... <br></div><br>But If...Then...EndIf is slower than Select...Case...(Default)...EndSelect and he is wanting to use the Select Method. <br><br></td></tr></table><br>
<a name="840510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought that Blitz just converted the select..case into the equivalent if..then sequence at compile anyway? <br><br></td></tr></table><br>
<a name="840519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> But If...Then...EndIf is slower than Select...Case...(Default)...EndSelect <br></div><br>What's your source for this statement? I would have supposed the same as Czar Flavius. <br><br></td></tr></table><br>
<a name="840521"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> To be fair in other languages such as C, select..case (well it's called switch..case) compiles to different code than an if statement. I guess he assumed the same for Blitz. <br><br></td></tr></table><br>
<a name="840582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I thought that Blitz just converted the select..case into the equivalent if..then sequence at compile anyway? <br></div><br>Oh. Well then nevermind. I could have sworn I heard somewhere on here that If...EndIf was slower than Select...EndSelect. I guess I'm wrong. <br><br></td></tr></table><br>
<a name="840654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> it at least does not generate a jump table for the case selection.<br>And due to above features I would guess it definitely goes down to IFs as "range" checks can definitely not be shortened out into a "single jump" <br><br></td></tr></table><br>
<a name="840898"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Emmett</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora stated:<br><div class="quote"> it at least does not generate a jump table for the case selection.<br>And due to above features I would guess it definitely goes down to IFs as "range" checks can definitely not be shortened out into a "single jump" <br></div><br>Would someone mind expanding on this information. I would really like to know more about "jump table" and "single jump" - what are you talking about.<br>So, is either (Select - End Select) or (If - End If) better or simply a matter of programmers likes. <br><br></td></tr></table><br>
<a name="840901"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >grable</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Would someone mind expanding on this information. I would really like to know more about "jump table" and "single jump" - what are you talking about.<br> <br></div><br>A jump table is a table of JMP (or goto if you will) instructions, going to the various parts of a Select statement.<br>So instead of comparing each Case with the current value, you can use indexing to find the correct spot.<br><br><div class="quote"> So, is either (Select - End Select) or (If - End If) better or simply a matter of programmers likes. <br></div><br>Yes, and no ;) it all depends on what assembler the compiler generates, but in this case it seems BlitzMax doesnt care.<br>They have different purposes in my view, feks large if-then-elseif blocks can be confusing to read, a select-case would probably fit better. <br><br></td></tr></table><br>
<a name="841036"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> The following is a C program fragment<br><br><pre class=code>switch (number)
{
 case 1: dosomething; break;
 case 2: dosomething; break;
 case 3: dosomething; break;
 case ......
 default: whatever;
}</pre><br><br>Switch is basically select renamed, and a different syntax because it's a different language of course.<br><br>The counterpart in Blitz is<br><pre class=code>Select number
Case 1 something
Case 2 something
Case 3 something
Case ....
Default somethingelse
End Select</pre><br><br>In Blitz the select..case is convered into the equivalent if..else chain. Ie<br><pre class=code>If number = 1 Then something ElseIf number = 2 Then something ... Else somethingelse EndIf</pre><br>So the difference is purely "cosmetic"<br><br>There are ifs and elses in C of course, but the switch..case compiles into DIFFERENT code than the equivalent if..else would do.<br><br>In an if-chain (if..elses in C, either in Blitz) the check has to start at the first check, then the second, then the third... all checks up to the one that is true are made. In a true switch..case the computer jumps *straight* to the number required, so the number of cases is irrelevant. But there are a few limitations. If I remember correctly, a switch..case can only check constant numbers, not variables or "complex" checks that an if can.<br><br>This means that cases which occur lower down in a select block will be very slightly slower to access in Blitz, but on any kind of modern computer the time is negligiable, unless you're making some kind of super number-cruncher program, so don't worry too much about it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
