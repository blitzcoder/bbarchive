<!DOCTYPE html><html lang="en" ><head ><title >How to detect if the window loses focus?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How to detect if the window loses focus?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >How to detect if the window loses focus?</a><br><br>
<a name="775373"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BenKo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi!<br><br>I'm coding a platforms game and when the window the game is running on loses focus, the framerate falls a lot and some of my physics functions stop working --making the game unplayable when focus returns. <br><br>So, I'd like to pause the game whenever focus is lost (alt+tab/minimizing window/etc), but I don't know how to detect when focus is lost/obtained.<br><br>Any suggestions? Thanks in advance :) <br><br></td></tr></table><br>
<a name="775375"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> AppSuspended() <br><br></td></tr></table><br>
<a name="775394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BenKo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> AppSuspended() returns always TRUE, regardless if I do ALT+TAB or minimize the window or whatever :( <br><br></td></tr></table><br>
<a name="775399"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could you please supply some code showing that behavior, BenKo?  For example, this works OK for me, showing "Not Suspended" when it has focus and "SUSPENDED" when another app does:<br><pre class=code>Graphics 320,200
Local txt$
Repeat
	If AppSuspended() Then txt = "SUSPENDED" Else txt = "Not Suspended"
	Cls
	DrawText txt, 10,10
	Flip
	Delay 1
Until KeyHit(KEY_ESCAPE) Or AppTerminate()</pre>Does it always show "SUSPENDED" for you? <br><br></td></tr></table><br>
<a name="775452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BenKo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, fixed now. Thanks for your replies. What happened was <br>that...<br><br><pre class=code>
If AppSuspended Then Print "Suspended"
</pre><br><br>...always is true. If I add the brackets, and type AppSuspended() instead, then it works as it should. Don't know why, though... <br><br></td></tr></table><br>
<a name="775459"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >*</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> because AppSuspended is treated as a variable where AppSuspended() is the function :). A created variable is always created with the value True so it always True. <br><br></td></tr></table><br>
<a name="775461"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BenKo</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> If AppSuspended (without brackets) is a variable... how does my program even compile? I work with SuperStrict to avoid this kind of stuff :\ <br><br></td></tr></table><br>
<a name="775464"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >WendellM</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Actually, unless initialized, integer variables are (auto-)created with value of false (0). But that's not what's happening here (and BenKo is correct that SuperStrict would prevent that).  It seems that using a function name without brackets always returns true:<br><pre class=code>If foo Then Print "foo true" Else Print "foo false"
If AppSuspended Then Print "appsuspended true" Else Print "appsuspended false"
If Sin Then Print "sin true" Else Print "sin false"
If AppTerminate Then Print "appterminate true" Else Print "appterminate false"</pre>Sticking a "Strict" or "SuperStrict" at the top will stop foo from being auto-created, and you can't do much else with functions without brackets (trying to print one will give an error). I guess(?) what's happening is the compiler is checking for the <i>existence</i> of the function in that If condition. <br><br></td></tr></table><br>
<a name="775568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah the function will have a memory address and thus will be non-zero. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
