<!DOCTYPE html><html lang="en" ><head ><title >Sneaky UDP Failure</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sneaky UDP Failure</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Sneaky UDP Failure</a><br><br>
<a name="782171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spacerat</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello Blitz community!<br>I am having some troubles concerning UDP connections. I have a Server, Client, and some extra functions (to actually run it download them all (addresses at bottom of post...)and change the txt's to bmx). <br>It would help if you test the files too so you can see what I mean (they are part of something bigger so you may have a bit of rubbish to filter through).<br><br>Basically, the TCP connection between server and client works fine, press characters in the client, they get sent to eh server then back to the client. HOWEVER, the UDP stream only seems to work from client to server, the either the server isn't sending back correctly, or the client isn't reading correctly. Either way, the client is receiving no UDP traffic.<br><br>The way it works at the moment is that the client binds the UDP port to the same port as the TCP port (it picks it's own port) then the server finds and connects to the UDP port the client is using, by checking the TCP port of the client.<br><br>I would appreciate any help you can give, even just a plain old example of how to use UDP and TCP together with a server and client.<br><br><a href="http://spacerat.meteornet.net/Server.txt" target="_blank">http://spacerat.meteornet.net/Server.txt</a><br><a href="http://spacerat.meteornet.net/Client.txt" target="_blank">http://spacerat.meteornet.net/Client.txt</a><br><a href="http://spacerat.meteornet.net/functions.txt" target="_blank">http://spacerat.meteornet.net/functions.txt</a> <br><br></td></tr></table><br>
<a name="782182"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That won't work.<br><br>Unless the client sent a message to the server first (which has portforwarding on that udp port) you will not be able to send the client anything as TCP and UDP are not handled as one by the NAT.<br><br>-&gt; client has to contact server first if server wants to answer and it has to be on the same protocol as long as the incomming udp port has no static forwarding (or triggered one basing on the tcp port) to the desired system. <br><br></td></tr></table><br>
<a name="782318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spacerat</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not great with the technical words involving TCP and UDP so bear with me.<br>Port forwarding and stuff like that is not so much of a problem at the moment, since I am either testing on a single machine with client and server open, or over a LAN.<br><br>"Unless the client sent a message to the server first"<br><br>The client is sending both TCP and UDP messages to the server. Perhaps I am not understanding you correctly or perhaps I didn't explain myself right. <br>The client connects a TCP socket to the server, and a UDP port to the server. The server accepts the TCP socket, then connects back to the client's UDP socket. Then the client starts sending stuff on TCP and UDP. The server picks them both up and sends TCP and UDP back. The problem lies in that the client only receives TCP from the server at this point, not UDP. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
