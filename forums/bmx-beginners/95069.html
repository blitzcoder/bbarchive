<!DOCTYPE html><html lang="en" ><head ><title >Simple spaceship AI ideas for beginner???</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Simple spaceship AI ideas for beginner???</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Simple spaceship AI ideas for beginner???</a><br><br>
<a name="1093519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> At the current moment I have 10 different spaceships spawn at a random x value (0,700) and random y value (0,100) and the spaceships move right and left depending on the player's position. The cpu's chase the player down. This won't be effective as it will make the game very hard very quickly; any ideas on how to have "cool" enemy ai? I was thinking the computer float around in some random direction but I don't know how that can work without a timer?? (right? you need a timer for that) <br><br></td></tr></table><br>
<a name="1093529"></a>

<a name="1093530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well you could have some that ignore the player but have some special ability like shooting in all directions at once.. or some drones that only move in a straight line or some enemies that zig zag toward or spiral around the player or even super smart enemies that anticipate bullets and dodge them<br><br>if you really wanna get into advanced stuff try some genetic algorithms and neural networks :D<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1093533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you know of any things that are simple to program? like moving in random directions and switching direction after 2 seconds? how would I implement that? do i have to use a timer and do rand direction (n,ne,e,se,s,sw,w,nw)?? <br><br></td></tr></table><br>
<a name="1093537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well Im not sure exactly what you mean.  I'm not sure what kind of game you are making exactly but generally you would use vectors like (1 , 1) and (-3.4 , 4.29) these would tell the ship how far to move in the x and y directions each frame.  Then you could use timers to make enemies switch directions etc etc... <br><br></td></tr></table><br>
<a name="1093538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you heard of a space shooter called invaderz? it was in the game programming for teens book for blitz basic written by maneeth seeth. I am thinking of putting a # of cpu's spaceships on the top half of the screen just floating about, no definite sense of direction. After a set period of time they would switch direction, like instead of floating nw they would float e for 2 sec (ex). is this beginner-able? <br><br></td></tr></table><br>
<a name="1093540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah definitely, I learned blitz basic from that book :D but im pretty sure it has the full source code available. maybe you could have a look at that if you wanted enemies similar to that? <br><br></td></tr></table><br>
<a name="1093541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I loaned the book to a friend and I don't know when I will get it back, I will ask however. <br><br></td></tr></table><br>
<a name="1093543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> For "random" AI, I say giving different personalities to different ufo's is the way to go.<br><br>Also read the game design of Pacman, this is what they did for each of the ghosts and it is still relevant.<br><a href="http://home.comcast.net/~jpittman2/pacman/pacmandossier.html#Chapter_3" target="_blank">http://home.comcast.net/~jpittman2/pacman/pacmandossier.html#Chapter_3</a><br><br>What I do is I use vectors, as mentioned above:<br>Say X, Y is the location of your ufo:<br>x = x + DirX *speed<br>y = y + DirY * speed<br><br>The value for DirX or DirY is 1 or -1 or even 0.<br>To randomize the motion, choose one of those numbers:<br>Int(Rnd()*2-1)<br>And then use a hold counter for say 0.5 to 2 seconds to hold movement in that direction.<br><br>(More technical: the diagonals (dirx= +/-1, diry= +/-1) will actually speed up using this method so either perform a check and decrease the speed or setup a lookup table... TMI perhaps)<br><br>There are many, many ways to design AI and enemy motion. <br><br></td></tr></table><br>
<a name="1093677"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am working on a way to set up a timer but I am having trouble. I am still trying though <br><br></td></tr></table><br>
<a name="1093715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You say you'd like something simple to use as AI.<br><br>In a game of this type I suggest to make the AI similar to this :-<br><br>Make the enemies go for the player but looking at a variable distance from the player  (either to the side or infront, behind, you decide and you can random this factor ), giving them a chance to move out of the way and give more time for a reaction. As the game progresses decrease the 'range' around the player that the aliens will target to make it more difficult. Also enemy speed of movement can be used as a factor.<br><br>Its simple to implement, allowing for controllable variances for different enemies and when done correctly it's very effective.<br><br>As already mentioned.... Pacman used a similar setup and look how successful that is :D<br><br>Cheers <br><br></td></tr></table><br>
<a name="1093718"></a>

<a name="1093719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a timer you can use something like :-<br><br>Record the current time using 'Global StartTime:int = Millisecs()'<br>Then in your 'main loop' use another variable to record the current time and check if the current time - the StartTime has gone passed a value that you'd like to use, remember that the 'Millisecs()' function counts in 1000s per second. So if you want the alien ships to change direction every second then you'd check if the current time variable minus the start time variable is greater than 1000, if so then run any code to change the direction then set the start time variable to the current time variable and start again.<br><br>A quick lowdown example<br><pre class=code>
SuperStrict

Global StartTime:Int = MilliSecs()

'MainLoop
While Not KeyDown( KEY_ESCAPE )
	Local CurrTime:Int = MilliSecs()
	
	If CurrTime - StartTime &gt; 1000
		Print "Swap direction"
		StartTime = CurrTime
	EndIf
Wend
End
</pre><br><br>This code will print 'Swap direction" every one second.<br><br>Best of luck with this.<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1093833"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> AI code<br><pre class=code>
'***********
'This function regulates and maintains AI
'***********
Function AI () '[3.f]

Local CurrTime:Int = MilliSecs()
Local FireTime:Int = MilliSecs() - 100

DrawText"FireTime" + FireTime,300,10
DrawText"Equa" + (FireTime - StartTime),300,20
	
	If CurrTime - StartTime &gt; 150
		'Print "Swap direction"
		For Local cpu:spaceship = EachIn cpuList
			cpu.move()
			StartTime = CurrTime
		Next 
	EndIf



If FireTime - StartTime &gt; 48
		'If KeyHit(SPACEBAR)
		
		'***********
		'For every spaceship
		'***********
		For Local cpu:spaceship = EachIn cpuList
			
			'***********
			'Create a new instance of a computer bullet (Cbullet) using the "bullettype" as it's type
			'***********
			Local Cbullet:bullettype = New bullettype
				
				'***********
				'The computer bullet will be created at:
				'	cpu.x + 17
				'   cpu.y + 27
				'  with it's frame beginning at 0
				'***********
				Cbullet.x = cpu.x + 17
				Cbullet.y = cpu.y + 27
				Cbullet.frame = 0
			
			'***********
			'Add it to the CbulletList
			'***********
			ListAddLast(CbulletList,Cbullet)
			
					 	
		Next 
		
EndIf

EndFunction 
</pre><br><br>Spaceship AI type<br><pre class=code>
Type spaceship
	Field x:Int,y:Int,frame:Int
	Field health:Int = 1, shield:Int
	
	Field xv:Int,yv:Int
		Method move ()'computer move
			xv = Rand(-2,2)
			yv = Rand(-2,2)
			
				x = x + xv * cpuspeed
				y = y + yv * cpuspeed
		EndMethod 
EndType 
</pre><br><br>Somewhat works but I am looking at understanding the timers more, and somehow making my AI not jittery <br><br></td></tr></table><br>
<a name="1093834"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it possible that I can do a + or minus operator?<br><br>like ie <br><br>x = x +/- xv * cpuspeed<br>y = y +/- yv * cpuspeed <br><br></td></tr></table><br>
<a name="1093835"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Nevermind about the + or minus operator, I fixed that part of my code. Another question, how can I randomize AI movement/firing? all of them update at the same time and I want to randomize this <br><br></td></tr></table><br>
<a name="1093852"></a>

<a name="1093853"></a>

<a name="1093860"></a>

<a name="1093972"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Col showed you a solution that would work good for the AI movement for each of the aliens as well as for shooting.<br><br>all you would have to do is to change the global variable StartTIme to a field field variable in the spaceship typ, the one thousand to a field variable that would hold a random minimum number to a max number. <br><br>something like this:<br><pre class=code>
field BulletStartTime:double
field shootWaitTime:double
</pre><br><br>then a method in the spaceship type:<br><pre class=code>
method shoot()
	local currentTIme:double = millisecs()
	If CurrentTime - shootStartTime &gt; shootWaitTime
		
               '[ shoot code goes here]
		
                shootStartTime = CurrentTime
                shootWaitTIme = rand(100,500)
	EndIf
end method
</pre><br><br>then when you create your aliens you would add this extra code:<br><pre class=code>
[...]
spaceship.shootStartTime = millisecs()
spaceship.shootWaitTime = rand(100,500) 
</pre><br><br>then when you call it it will fire on if the conditions are true:<br><pre class=code>
spaceship.shoot()
</pre><br><br>the example is just for shooting but the same principle applies for movement.<br><br>the biggest obstacle you are facing now is not think in terms of objects.  it's the object that does the shooting, it's the object that does the moving so treat accordingly.<br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font><br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1093892"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zacho</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am sorry, I am asking too  much and not doing the work myself... I actually fixed my extremely jittery movement code by moving the timer's around a bit.<br><br>Just  let me ask a question before I re-examine my code. A global timer using Millisecs () begins once the game begins correct? Once you call another variable to Millisecs () (say, in a function), it isn't the same time, why is that? Does the Millisecs () value depend on when it is called? <br><br></td></tr></table><br>
<a name="1093894"></a>

<a name="1093895"></a>

<a name="1093897"></a>

<a name="1093898"></a>

<a name="1093899"></a>

<a name="1093900"></a>

<a name="1093901"></a>

<a name="1093902"></a>

<a name="1093903"></a>

<a name="1093904"></a>

<a name="1093905"></a>

<a name="1093906"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya Zacho.<br><br>Relax... you're not asking too many questions at all. We're only too glad to help a fellow budding programmer and advise you in any way possible.<br><br>Inside your pc there is a timer ticking away every 1000th of a second. Using Millisecs() is just retrieving its current value. It ticks away whether you retrieve it or not. Once you get around getting the concept of storing its current value to give an initial time, then keep retrieving the current time again, test if the current time MINUS the start time is a certain value ( this 'certain value' is the wait time ), then it'll be easy for you. There's no need to worry what the actual value is, just compare a 'newer value' against an 'older value' to get a time difference in milliseconds.<br><br>My example was just a 'concept and logic' example, showing the logic of getting the current time and storing it, then checking the time again minus the value stored the first time we checked it to see how much time has passed, if the passed time is more than 1000 milliseconds which is 1 second, then do something. When you have 'done something' then store the current time again in the same variable. The process then continues in a loop.<br><br>You can use Millisecs() and store it as many times as you want, it doesn't matter. It doesnt affect this internal timer at all, remember all you are doing is just getting the value. The timer is still updating now while you are reading this.<br><br>The idea that Jesse is explaining above is...<br><br>You want the ships to move and fire at different times to each other, independently. This means that each ship will need its own timer, and the best most logical place to store the timers is in the 'Ship type' code as Jesse shows above. Your ship type would look something like this :<br><br><pre class=code>
Type spaceship
	Field x:Int,y:Int,frame:Int
	Field health:Int = 1, shield:Int
	
	''''''''''ADDED
	Field BulletStartTime:Double
	Field shootWaitTime:Double
	'''''''''''''''
	
	Field xv:Int,yv:Int
	
	Method move ()'computer move
		xv = Rand(-2,2)
		yv = Rand(-2,2)
			
			x = x + xv * cpuspeed
			y = y + yv * cpuspeed
	EndMethod
	
	''''''''''ADDED
	Method shoot()
		Local CurrTime:Double = MilliSecs()
		If CurrTime - BulletStartTime &gt; shootWaitTime
		
      	'[ shoot code goes here]
			shootStartTime = CurrentTime
         shootWaitTIme = Rand(100,500)
		EndIf
	End Method
	'''''''''''''''
EndType
</pre><br><br>Then in your main code, where you initialize and 'create' the aliens, you may have something along the lines of ( there are many many different ways to do this next part, its up to you how you do it in your code )<br><br><pre class=code>
Global NumOfAliens:Int = 10
Global AlienShips:spaceship[ NumOfAliens ]

For i:Int = 0 Until NumOfAliens
	AlienShips[ i ] = New spaceship
	
	AlienShips[ i ].BulletStartTime = MilliSecs()
	AlienShips[ i ].shootwaitTime = Rand( 100,500 )
Next
</pre><br><br>Then in your main game loop you can use<br><pre class=code>
For i:Int = 0 Until NumOfAliens
	AlienShips[ i ].shoot()
Next
</pre><br><br>This will call the 'shoot' Method for all of the spacehips in the AlienShip array, and because of the timer logic in that method, they will only shoot when 'CurrTime - BulletStartTime &gt; shootWaitTime'. Remember that shootWaitTime is a random number.<br><br>To get the ships to move randomly, you would use another timer using the similar logic, but applied to the movement code, again store these in the 'SpaceShip' type so each ship has a different movement, then the 'Move' method to check the current time againt the wait time before moving and/or changing direction. You can have as many 'timers' as you want to do as many different things.<br><br>You will probably be 'tweaking' the timers A LOT to get the correct feeling that you're looking for in the game  :D<br><br>I haven't tested the code above, but we're just trying to help you grasp the concept.<br><br>Have fun and chill out :D<br><br>[ edited for grammar ]<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1093984"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >.rIKmAN.</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> A little OT, but I just wanted to thank AdamRedwoods for that Pacman AI link, I'd never seen it before and thought it was really interesting, so thanks! :) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
