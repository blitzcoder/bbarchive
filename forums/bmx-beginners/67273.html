<!DOCTYPE html><html lang="en" ><head ><title >Level of Transparancy</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Level of Transparancy</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Level of Transparancy</a><br><br>
<a name="751156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> .jpg has no transparancy<br>.png has only 1-bit 9 (on / off) transparancy, right?<br>but TARGA .tga has 255 levels of opacity / transparancy<br><br>how can you control the level of tranparancy in an image? I mean can you import a .tga that has 127 as transparancy, since when saved as .png in paint shop pro and the like, its either on or off. nothing in the middle for shades etc? <br><br></td></tr></table><br>
<a name="751159"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wrong.<br><br>PNG as TGA have both full 8 Bit Alpha.<br>Main difference is that PNG has a working standard, TGA has too much optional stuff that tends to create problems.<br><br>To control the Alpha of a given pixel, you will need an app that allows this. In GIMP / Photoshop etc you normaly can not draw alpha like a normal color. But you can set the alpha on the layer blending. The only thing needed to have alpha in the end picture is that the background layer had alpha as background color and not some other.<br><br>But there are many tutorials on that for the different apps, how to use alpha on layers, alpha masks and the like :)<br><br>But to get alpha in BM you need to set blend to AlphaBlend before.<br><br>On / OFF alpha btw is called masking. This is controled through the masking color and MaskBlend. <br><br></td></tr></table><br>
<a name="751160"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Erm... I think you're confusing alpha and masking.<br><br>Try SetBlend ALPHABLEND, then SetAlpha 0.5 (any float between 0 and 1) before drawing images.<br><br><div class="quote"> In GIMP / Photoshop etc you normaly can not draw alpha like a normal color. <br></div>You can edit the alpha layer directly in Photoshop. <br><br></td></tr></table><br>
<a name="751245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> setblend maskblend<br>and <br>setalpha 1.0 <br>are the "default" values, yes? (I mean for un-changed stuff) <br><br></td></tr></table><br>
<a name="751252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> SetAlpha only works in ALPHABLEND mode. And yes, if you're using a MASKBLEND then obviously you won't be able to get soft transitions. <br><br></td></tr></table><br>
<a name="751264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> but that wasn't my question ;-) Maskblend is the default unless you change that setting, right? and alpha of 1.0 is default too unless changed; that was all I needed clarified :-) <br><br></td></tr></table><br>
<a name="751414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think in maskblend the default alpha is 0.5, not 1. ??? <br><br></td></tr></table><br>
<a name="751799"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Newbie</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> its 1.0 accoding to the tests I made ... <br><br></td></tr></table><br>
<a name="752365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ninjarat</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Default maskblend is 1.0.<br><br>Wheras with alphablend you can go like SetAlpha(0.25), and the image will be drawn at 0.25 opacity. <br><br></td></tr></table><br>
<a name="752452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matt Merkulov</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> This may help:<br><pre class=code>
images = LoadPixmapPNG("images.png")
xsize = PixmapWidth(images)
ysize = PixmapHeight(images)
images_alpha = LoadPixmapPNG("images_alpha.png")
new_images = CreatePixmap(xsize, ysize, PF_RGBA8888)
For y = 0 Until ysize
	For x = 0 Until xsize
		WritePixel new_images, x, y, (ReadPixel(images, x, y) &amp; $FFFFFF) | ((ReadPixel(images_alpha, x, y) &amp; $FF) Shl 24)
	Next
Next
SavePixmapPNG new_images, "new_images.png", 9
DebugLog "Done!"
</pre> <br><br></td></tr></table><br>
<a name="752574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here is a program I wrote up demonstrating the various blend modes and alpha settings.  It draws three overlapping circles, with the alpha channel decreasing from the center of the circle to the edge.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict
Graphics 800,600
Local RedOval:TImage = CreateImage(128,128,1,DYNAMICIMAGE)
Local BlueOval:TImage = CreateImage(128,128,1,DYNAMICIMAGE)
Local GreenOval:TImage = CreateImage(128,128,1,DYNAMICIMAGE)
Local Mode:Int = SOLIDBLEND
Local Alpha:Float = 1.0
Local PixMap:TPixmap
Local Color:Int = False
SetClsColor 0,0,0

'Create three circles with the alpha channel at 255 in the center and gradually
' decreasing to 0 at the edge of the circle
PixMap = LockImage(RedOval)
For Local x = -64 To 63
	For Local y = -64 To 63
		Local Distance:Float = Sqr(x*x+y*y)
		If Distance &lt; 64
			WritePixel(Pixmap,x+64,y+64,(Int(255-Distance*4)Shl 8 + 255)Shl 16)
		Else
			WritePixel(PixMap,x+64,y+64,0)
		End If
	Next
Next
UnlockImage(RedOval)

PixMap = LockImage(GreenOval)
For Local x = -64 To 63
	For Local y = -64 To 63
		Local Distance:Float = Sqr(x*x+y*y)
		If Distance &lt; 64
			WritePixel(Pixmap,x+64,y+64,(Int(255-Distance*4)Shl 16 + 255)Shl 8)
		Else
			WritePixel(PixMap,x+64,y+64,0)
		End If
	Next
Next
UnlockImage(GreenOval)

PixMap = LockImage(BlueOval)
For Local x = -64 To 63
	For Local y = -64 To 63
		Local Distance:Float = Sqr(x*x+y*y)
		If Distance &lt; 64
			WritePixel(Pixmap,x+64,y+64,(Int(255-Distance*4)Shl 24 + 255))
		Else
			WritePixel(PixMap,x+64,y+64,0)
		End If
	Next
Next
UnlockImage(BlueOval)
			
'Main loop
While Not KeyHit(KEY_ESCAPE)
	Cls
	SetBlend Mode
	SetAlpha Alpha
	
	'draw the three circles overlapping
	DrawImage RedOval,100,100
	DrawImage GreenOval,164,100
	DrawImage BlueOval,132,164
	
	SetBlend SOLIDBLEND
	SetAlpha 1.0
	Select Mode
		Case SOLIDBLEND
			DrawText "Mode: SOLIDBLEND",10,400
		Case MASKBLEND
			DrawText "Mode: MASKBLEND",10,400
		Case ALPHABLEND
			DrawText "Mode: ALPHABLEND",10,400
		Case LIGHTBLEND
			DrawText "Mode: LIGHTBLEND",10,400
		Case SHADEBLEND
			DrawText "Mode: SHADEBLEND",10,400
	End Select
	
	DrawText "Alpha: "+alpha,10,430
	
	DrawText "M: Change Blend Mode",10,500
	DrawText "B: Toggle Background Color",10,520
	DrawText "Up/Down Arrows: Increase/Decrease Alpha",10,540
	
	Flip
	'M: Change Blend Mode
	If KeyHit(KEY_M)
		Select mode
			Case SOLIDBLEND
				Mode = MASKBLEND
			Case MASKBLEND
				Mode = ALPHABLEND
			Case ALPHABLEND
				Mode = LIGHTBLEND
			Case LIGHTBLEND
				Mode = SHADEBLEND
			Case SHADEBLEND
				Mode = SOLIDBLEND
		End Select
	End If
	
	'B: Change ackground color
	If KeyHit(KEY_B)
		If Color
			Color = False
			SetClsColor 0,0,0
		Else
			Color = True
			SetClsColor 255,255,255
		End If
	End If
	
	'Up/Down: Change Alpha
	If KeyHit(KEY_UP) And Alpha &lt; 1.0 Then Alpha :+ .1
	If KeyHit(KEY_DOWN) And Alpha &gt; 0.0 Then Alpha :- .1
Wend
</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
