<!DOCTYPE html><html lang="en" ><head ><title >function returns two values</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >function returns two values</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >function returns two values</a><br><br>
<a name="1057139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> i need a sample code to show me how a function could return two values. For example x,y. (no globals)<br><br>using Type ?<br><br>Thanks ! <br><br></td></tr></table><br>
<a name="1057140"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Funny you should ask.  I was just reading up on the VAR (command? operator?)<br><br><a href="http://www.blitzbasic.com/bmdocs/command.php?name=Var&amp;ref=2d_a-z" target="_blank">http://www.blitzbasic.com/bmdocs/command.php?name=Var&amp;ref=2d_a-z</a><br><br>It's not actually returning 2 values as such, but passing the argument to the function by reference (it's memory location, not it's value) <br><br></td></tr></table><br>
<a name="1057141"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeke</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Function randomposition:Int[]()
	Local x:Int = Rand(255) 
	Local y:Int = Rand(255)
	Return [x,y]
End Function

Local pos:Int[] = randomposition()

Print "x=" + pos[0] 'x
Print "y=" + pos[1] 'y
</pre> <br><br></td></tr></table><br>
<a name="1057142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's fine Zeke (To be honest, I never knew you could return an array) but it will only work if the data types are the same won't it? <br><br></td></tr></table><br>
<a name="1057143"></a>

<a name="1057144"></a>

<a name="1057145"></a>

<a name="1057146"></a>

<a name="1057147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >hub</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> arrays seems more interesting than type : lot of code just for returns two values with type (type was my method) !<br><br><pre class=code>
Strict

Type TCoord

	Field X
	Field y

	Function Test : TCoord (a: Int)
	
		Local r:TCoord = New TCoord
	
		r.x = a
		r.y = a * 2
	
		Return r
	
	End Function

End Type


Local t:TCoord

t = TCoord.Test(10)

Notify t.x
Notify t.y
</pre><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1057149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could also try the 'by reference' approach.<br><pre class=code>Function MultReturnVals( vInt:Int Var, vFloat:Float Var, vString:String Var )
	vInt=Rand(0,100)
	vFloat=Rnd(0.5,1.5)
	vString="This is a string"
End Function</pre> <br><br></td></tr></table><br>
<a name="1057150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use this method:<br><pre class=code>Strict

Local a:Int = 1
Local b:String = "Hello"

cheeseMite(a,b)
Print a
Print b

Function cheeseMite(foo:Int Var, bar:String Var)
   foo:*10
   bar="Goodbye"
End Function</pre> <br><br></td></tr></table><br>
<a name="1057232"></a>

<a name="1057233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Instead of picking only one method, think carefully about what you need to return and pick the best method.<br><br>With the array method, you should store the return value in a local variable because it's inefficient to call the same function repeatedly for each index.<br><br>An array of Object can store different types, but you'd have to be rather crazy to go down that route.<br><br>Returning a type I would say is the best way. The type's fields can have meaningful names and the type's content layout is preset, so less chance of messing something up.<br><br>Using Var is also possible, but I'd exercise caution - it's usually expected that basic types sent to functions as parameters are not changed by this action. For something obvious, such as GetCoordinates(x, y, z), then it might be a good solution.<br><br>So to summarize, there are three ways, going with the same example of getting coordinates:<br><br>Return an array of three numbers.<br>Return a "Vector" type with three number fields.<br>Pass three number variables as Var parameters and change them.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1057286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John G</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> This may be extremely inelegant, but can't you simply use Globals inside a function? <br><br></td></tr></table><br>
<a name="1057391"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can, but having sets of globals for each function is difficult to maintain and prevents recursion and multithreading, so is a bad habit to get into. I'm sure at least one of the above methods should be good enough for somebody to use. <br><br></td></tr></table><br>
<a name="1057428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John G</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah yes, my suggestion didn't sound as intended.  I meant declare program-wide globals and use them inside the function -- or several functions.  No Return necessary.  (Erecting shield for rotten tomatoes.)  Cheers <br><br></td></tr></table><br>
<a name="1057954"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not having used blitzmax, but used plenty of blitz3d/blitzplus/blitzbasic:<br><br>Why not use a bank? Return a reference to a bank which you then peek into to get the values, then free the bank afterwards. <br><br></td></tr></table><br>
<a name="1058095"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because then you might as well just return an array or list of values, and it will even free itself afterwards. <br><br></td></tr></table><br>
<a name="1058147"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do by reference when it HAS to be the fastest... otherwise I like the array method because code is clean and it is still fast.<br><br><pre class=code>Function FromARGB:Int[]( argb:Int )
	Local array:Int[] = New Int[4]
	array[0] = (argb Shr 24) &amp; $FF
	array[1] = (argb Shr 16) &amp; $FF
	array[2] = (argb Shr 8) &amp; $FF
	array[3] = argb &amp; $FF
	Return array
End Function</pre><br><br>it's especially nice when you only sometimes need one value so you can do:<br>local alpha:int = FromARGB(color)[0]<br><br>in some other languages like perl you can do:<br>(alpha,red,green,blue) = FromARGB(color)<br><br>which is awesome.  I once asked Mark about that for bmx, he seemed to think it would be pretty cool but nothing did come of it. <br><br></td></tr></table><br>
<a name="1058149"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's not really very nice as you waste time calculating the other values and then wasting them, and you seem very interested in performance. It's more tedius to write, but more efficient to have a different function for each thing. <br><br></td></tr></table><br>
<a name="1058153"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not everything is about performance.  The functions extracts all 4 values and that it's main function. I'm not going write 4 different functions or place the bit operation in plain code when every cycle doesn't need to be counted like it would in a tight loop isn't.   The key to optimization is knowing when to do it and when not to care! <br><br></td></tr></table><br>
<a name="1058284"></a>

<a name="1058285"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> You mentioned for yourself that speed was important, now it isn't. It would take 20 seconds to make a function for each channel of colour? Then you can use whatever one you need, and you don't need to remember which element is what.<br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
