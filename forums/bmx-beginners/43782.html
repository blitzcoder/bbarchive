<!DOCTYPE html><html lang="en" ><head ><title >Clarification on how BMX uses modules</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Clarification on how BMX uses modules</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Clarification on how BMX uses modules</a><br><br>
<a name="488707"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> As far as I understand, on a standard BMX installation, you will automatically include every module in the exe, unless you specifically choose not to.<br><br>Is this correct?<br><br>The reason I ask is because it would seem better for the compiler to only add the libraries you actually use to the exe.<br><br>Andy <br><br></td></tr></table><br>
<a name="488721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's correct. Apparently you use the `Framework` command to define specific modules to use, and also `Import` can help you structure your application so that you only have to recompile the sourcecodes that change. <br><br></td></tr></table><br>
<a name="488748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't understand why the compiler doesn't add the specific modules either. <br>How do people keep track of which modules they have actually used? <br><br></td></tr></table><br>
<a name="488774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GameKing</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Also you can only have one Framework.<br><br>Framework Me<br>Import this<br>Import That<br>etc <br><br></td></tr></table><br>
<a name="488849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You would need to know which commands are within which modules, which isn't very easy to tell at the moment. <br><br></td></tr></table><br>
<a name="488878"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's really backwards that you would even need include directives in 2005.<br><br>But such is life I guess.<br><br>Andy <br><br></td></tr></table><br>
<a name="488893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Mark Tiffany</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the argument is that automating the process of deciding which modules to include is a non-trivial exercise that would take quite a lot of effort to implement.  By providing a manual mechanism to achieve this, BRL still allow you to achieve small EXE sizes, whilst allowing them time to focus on other things that most people would prefer, and that can help to generate further sales.  i.e. Full Win32 &amp; Linux releases, a 3d module, a GUI module, etc. <br><br></td></tr></table><br>
<a name="488907"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I seem to recall that Mark stated that this was left to the end user to prevent unexpected behaviour when dealing with variables, among others.<br><br>For example, if you allow the end user to specify a specific image to load and end up using something like: <b>LoadImage(myfile$)</b> in your code, there is no real way for the compiler to know up front if it needs to include the PNG loader, the JPG loader, BMP loader, or whatever other image formats you may have.<br><br>That said, in most programs (especially games) the programmer is typically in full control of which files get written or loaded by the program, so the above scenario shouldn't be too common I would think...<br><br>Even if it would be impossible for Blitz to give a 100% definite answer which modules would be needed, it would be extremely helpful if it were possible for it to generate a 'best guess' that can be finetuned by the programmer... Sure beats making it up from scratch each time.<br><br>(Of course this might be something that someone else could put together as an external tool as well? analyze a piece of code, analyze the mods, and try to add two and two together?) <br><br></td></tr></table><br>
<a name="490361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;For example, if you allow the end user to specify a <br>&gt;specific image to load and end up using something like: <br>&gt;LoadImage(myfile$) in your code, there is no real way for <br>&gt;the compiler to know up front if it needs to include the <br>&gt;PNG loader, the JPG loader, BMP loader, or whatever other <br>&gt;image formats you may have. <br><br>I assume that all 'loaders' would be in the same library.<br><br>It just seems so 'ancient' that the compiler is so 'dumb' that it can't figure out which libraries to include.<br><br>&gt;Even if it would be impossible for Blitz to give a 100% <br>&gt;definite answer which modules would be needed, it would be <br>&gt;extremely helpful if it were possible for it to generate <br>&gt;a 'best guess' that can be finetuned by the programmer... <br>&gt;Sure beats making it up from scratch each time. <br><br>If we assume that all commands dealing with loading different kinds of images is in the same library, then it doesn't seem that farfetched.<br><br>Andy <br><br></td></tr></table><br>
<a name="490486"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If we assume that all commands dealing with loading different kinds of images is in the same library, then it doesn't seem that farfetched.  <br></div><br><br>It's an incorrect assumption though -- the images are loaded through different modules:<br><br>- BRL.BMPLoader<br>- BRL.JPGLoader, <br>- BRL.PNGLoader<br>- BRL.TGALoader<br><br>The major advantage of this is that you can include only the libraries required for the image format(s) your program actually uses, cutting down on filesize again. <br><br></td></tr></table><br>
<a name="490558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Andy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> &gt;It's an incorrect assumption though -- the images are <br>&gt;loaded through different modules: <br><br>Ok!<br><br>&gt;The major advantage of this is that you can include only <br>&gt;the libraries required for the image format(s) your <br>&gt;program actually uses, cutting down on filesize again. <br><br>But still it would be nice if the user is given an option(Just a menu setting) to include all(standard) or just the max number of modules needed(including all image loaders). It would still not include all modules but would decrease the size of the exe.<br><br>Ok - I'll stop bitching about it!<br><br>Andy <br><br></td></tr></table><br>
<a name="490638"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Punksmurf</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> On this subject, what is the actual difference between FRAMEWORK and IMPORT..?<br><br>I know the following: <br>- If I don't use anything every module will be imported<br>- If I use FRAMEWORK the specified module will be imported (and all other modules this module and its dependencies IMPORT)<br>- If I use only IMPORT I can import modules which is not usefull because they all are already imported because I did not use FRAMEWORK<br><br>Won't it be more clear that if I use 'FRAMEWORK' as a statement to tell the compiler only to IMPORT the modules I wish to IMPORT? Of course you need an extra IMPORT command but it'd be much more logical to me.<br><br>If I'm wrong, please tell :) <br><br></td></tr></table><br>
<a name="490665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PowerPC603</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Import" imports a specific module (or other source-code file).<br><br>"Framework" tells the compiler NOT to import every module that exists and imports only the given module in the Framework statement (so you can say the Framework command does 2 things: turn automatic importing of every module OFF, and uses the import command to import the given module). <br><br></td></tr></table><br>
<a name="490678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Punksmurf</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I got it right then... doesn't really seem logical to me then, but not a problem whatsoever :) <br><br></td></tr></table><br>
<a name="490726"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you do...<br><pre class=code>
framework BRL.standardio
Print "Hello World!!!"
</pre><br>you get a 33kb exe.<br><pre class=code>
import BRL.standardio
print "Hello World!!!"
</pre><br>it's 761kb so it seems that Import is best used for 'additional' modules outside the BRL/PUB/custom frawework.. Is that right? <br><br></td></tr></table><br>
<a name="490736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Punksmurf</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> afaik, idd<br>that's why I think 'framework' should be a statement en not a function<br><br>but hey, who am I anyway ;) <br><br></td></tr></table><br>
<a name="490744"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do you know which modules you are using per program for using with Framework? <br><br></td></tr></table><br>
<a name="490759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> The only way I can think, and it's a poor way, is to check which module the commands come under in the docs or by checking the BRL.MOD and PUB.mod directories. <br><br></td></tr></table><br>
<a name="490760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Punksmurf</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> by opening all modules and see where they link to ...<br><br>a dependency-checker would be nice, but atm I'm not in for writing one ;) <br><br></td></tr></table><br>
<a name="490784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Clyde</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> In that case then an auto framework option would be very handy. Or at least in, one of those three projects / debug tabs , that would be an ideal place to have a listing to tell the programmer which modules have been loaded for that particular program. That I feel will be extremely handy and helpfull to everybody. As surely the "Build and run" (F5) dodar must know which ones have just been loaded / started. <br><br></td></tr></table><br>
<a name="490826"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> As surely the "Build and run" (F5) dodar must know which ones have just been loaded / started.  <br></div><br><br>Well... Not really, since It either included the ones you manually specified, or it included 'everything'.<br><br>but anyway, it should be pretty easy for the program to determine which modules are 'definitely' needed, and a couple which might 'possibly' be needed<br>(e.g. the various image file decoders, audio decoders, etc.)<br><br>It would be *great* if there were an option where it would show you the 'definite' modules, and give you the <i>option</i> to add the 'possible' modules where the program cannot determine for certain wether or not they might be necesary. (for instance, in the case where use defined files might get loaded, and you want to be able to handle multiple graphic formats. If you know for a fact that you only use PNG in your program, you can then choose to leave out the other decoders) <br><br></td></tr></table><br>
<a name="526635"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LeisureSuitLurie</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would it be possible to allow the reverse? Allow me to tell it to exclude modules I am sure I wont use? <br><br></td></tr></table><br>
<a name="526678"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is very helpful...<br><a href="/posts.php?topic=47141" target="_blank"> Framework Assistant </a> <br><br></td></tr></table><br>
<a name="526701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlitzSupport</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> The main point of Framework is to provide a single file that can then import a set of modules as required for a given purpose, eg. a 2D framework, a 3D framework, a console app framework, etc.<br><br>If you create a module that just imports what you need for a given purpose (eg. you might create a framework for 2D apps, one for console-based network apps, one for GUI apps with networking, etc), you can just call Framework to provide a particular set of modules for the type of program you're writing.<br><br>Import in conjunction with Framework just lets you add more modules to a particular app as required. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
