<!DOCTYPE html><html lang="en" ><head ><title >Making a controller emulator...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Making a controller emulator...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Making a controller emulator...</a><br><br>
<a name="1010702"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm wanting to make a controller emulator for my PC. I know some ultilities like joy2key have the ability to run in the background and map joystick presses to keyboard keys. This is especially useful for making any PC game compatable with the joystick.<br><br>It works like this<br>1 joystick button press detected<br>2 program emulates the keystroke<br>3 game detects and accepts the forced keystroke<br><br><u> I know there is code to emulate keystrokes with Blitzmax but my problem is how to get the program to run in an unwindowed mode and still accept joystick key presses and output keystrokes.</u> I just think it would be cool to code my own utility for this rather than using a premade one.<br><br>I'm using this for a Windows machine. <br><br></td></tr></table><br>
<a name="1010718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'd probably need to use this:<br><br><a href="http://msdn.microsoft.com/en-us/library/ms681956(VS.85).aspx" target="_blank">http://msdn.microsoft.com/en-us/library/ms681956(VS.85).aspx</a> <br><br></td></tr></table><br>
<a name="1010765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you Gabriel. I'm not how to incorporate this into my project. Can you offer any further help please? I assume I need to package the .dll with my code but how do I use the functions from the .dll in my own project? <br><br></td></tr></table><br>
<a name="1010821"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> User32.dll is a standard library on all Windows versions.<br><br>To use functions and such from system libraries, you simply need to define them in an extern block.<br>For example, AttachThreadInput would look something like this (may be incorrect, as I am not on Windows to test it):<br><pre class=code>Extern "Win32"
	Function AttachThreadInput:Int(idAttach:Short, idAttachTo:Short, fAttach:Int) = "AttachThreadInput@12"
End Extern</pre><br><br>Though, I don't know exactly what Gabriel is suggesting you do with that.. <br><br></td></tr></table><br>
<a name="1010875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, to the best of my knowledge, you can't normally get input from another process. Typically, to get input from another process you have to use AttachThreadInput. Maybe there are other ways, much simpler ways, but it's the only one I know of, so I suggested it.<br><br>I don't know anything about Joy2Key but I did a quick google when I read the question and the info I found seemed to suggest that Joy2Key uses something like this to inject the keyboard input into processes too. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
