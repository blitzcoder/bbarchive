<!DOCTYPE html><html lang="en" ><head ><title >Taking a screenshot - equivalent for SaveBuffer?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Taking a screenshot - equivalent for SaveBuffer?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Taking a screenshot - equivalent for SaveBuffer?</a><br><br>
<a name="475304"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koekelas</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm just wondering, I want to have the ability to take screenshots.<br><br>In Blitz2D you could say:<br><pre class=code>
SaveBuffer(FrontBuffer(), "screenshot.bmp")
</pre><br><br>But in BlitzMax???<br><br><br>Thanks, Nicolas. <br><br></td></tr></table><br>
<a name="475317"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koekelas</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there no one who has an idea? Maybe I make it more interesting if I also want to load the saved buffer :-). If I don't find a solution I'm forced to work for school and I can assure you, programming in BlitzMax is much more fun than working for school.<br><br><br>Thanks, Nicolas. <br><br></td></tr></table><br>
<a name="475319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RexRhino</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I managed to get a perfect screen shot by pressing "Print Screen". <br><br></td></tr></table><br>
<a name="475324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koekelas</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, and when you are on a Macintosh chose Services / Screen / Grab screen... but that's  not what I want.<br><br>What I want is an equivalent for SaveBuffer() and LoadBuffer().<br><br>It's a good attempt RexRhino but it's not it.<br><br><br>Thanks, Nicolas. <br><br></td></tr></table><br>
<a name="475325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't found a way to do it.<br>In addition, with no imagebuffers its not possible to say..<br>  savebuffer(imagebuffer(image),"file.bmp")<br>and save composite images without additional space. <br><br></td></tr></table><br>
<a name="475328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use glReadPixels to read the backbuffer. <br><br></td></tr></table><br>
<a name="475331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koekelas</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Antony, could you hive me an easy example how to do this? I don't have any knowledge of OpenGL.<br><br>Thanks in advance, Nicolas. <br><br></td></tr></table><br>
<a name="475334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try something like this,<br><br>ScreenShot:Tbank = CreateBank( GraphicsWidth()*GraphicsHeight()*3 )<br><br>glReadPixels 0,0,GraphicsWidth(),GraphicsHeight(),GL_RGB,GL_UNSIGNED_BYTE,bankBuf( Screenshot )<br><br>Now in the bank you have the screen,<br><br>byte 0 = red(0-255)<br>byte 1 = green<br>byte 2 = blue<br>etc. <br><br></td></tr></table><br>
<a name="475337"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Koekelas</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for your effort but this really looks quite Chinese to me :-). I could just copy/paste your code into my program, but then I don't even know what it does (I suppose it makes a screenshot since that's what I asked for).<br><br><br>Thanks, Nicolas. <br><br></td></tr></table><br>
<a name="475339"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dynaman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is no direct way of doing this.  I'm hoping that a saveimage or savepixmap command will be in one of the updates. <br><br></td></tr></table><br>
<a name="475351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> This might help as well:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=41965" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=41965</a> <br><br></td></tr></table><br>
<a name="475378"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> In order to save an image from BlitzMax you would need some commands that allow images or pixmaps to be saved. Currently in the default BlitzMax configuration there is no image saving ability, only loading.<br><br>However, I am sure if you check in other areas of the forums - perhaps in the module updates section - there was a thread about someone who has release a module which allows you to save an image in various format. This is probably what you need.<br><br>Hopefully they will add image saving to a future update to the official BlitzMax. <br><br></td></tr></table><br>
<a name="611973"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DannyD</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function take_screenshot()

	Local filename:String, padded:String
	Local num:Int = 0

	padded = num
	While padded.length &lt; 3 
		padded = "0"+padded
	Wend
	filename = "screen"+padded+".png"
	
	While FileType(filename) &lt;&gt; 0
		num:+1

		padded = num
		While padded.length &lt; 3 
			padded = "0"+padded
		Wend
		filename = "screen"+padded+".png"
	Wend

	Local img:tpixmap = GrabPixmap(0,0,GraphicsWidth(),GraphicsHeight())

	SavePixmapPNG(img, filename )
	
	Print "Screenshot saved as "+filename

EndFunction
</textarea><br><a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=1571" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=1571</a> <br><br></td></tr></table><br>
<a name="611977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd have hoped that after a year, he'd have figured it out :) <br><br></td></tr></table><br>
<a name="612739"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >djdee</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> ' grabimage.bmx<br><br>' draws a small graphic then uses grabimage to make an image<br><br>' as mask color and cls color both default to black a mask is <br>' created for the grabbed where any pixels unset on the backbuffer<br>' become transparent in the grabbed image<br><br>Graphics 640,480,32<br><br>Cls<br><br>DrawLine 0,0,32,32<br>DrawLine 32,0,0,32<br>DrawOval 0,0,32,32<br><br>Local image=CreateImage(32,32,1,DYNAMICIMAGE|MASKEDIMAGE)<br><br>GrabImage image,0,0<br><br>Cls<br>For Local i=1 To 100<br>	DrawImage image,Rnd(640),Rnd(480)<br>Next<br>Flip<br><br>WaitKey <br><br></td></tr></table><br>
<a name="612741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >djdee</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used to use grabimage and then saveimage... but it seems saveimage is not included in max2d module... but there must be some way to save that image... <br><br></td></tr></table><br>
<a name="612759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >taxlerendiosk</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try GrabPixmap, and then SavePixmapPNG. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
