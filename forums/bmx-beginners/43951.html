<!DOCTYPE html><html lang="en" ><head ><title >Why would you ever need to shift bits?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why would you ever need to shift bits?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Why would you ever need to shift bits?</a><br><br>
<a name="490306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoJo</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What's the reasoning behind it.<br><br>Does this cause arithmetic to be performed faster or what?<br>All I can see is that it multiplies numbers by 2 or divide by 2 at the binary level.<br><br>I don't understand why this is ever needed.<br><br>Can someone explain? <br><br></td></tr></table><br>
<a name="490315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some compilers will optimise an integer divide/multiply by 2 (and 4,8,16,32 etc) using a bitshift.  It's not really that big an optimise these days anyway.<br><br>One common use is to combine 8-bit red, green and blue values into one 24 bit RGB number (32 bit if you include alpha).  Splitting them up again is another use.<br><br>Another use is for fixed point maths - 8 bits of exponent and 24 bits of mantissa for example.<br><br>Another use: compressing data down for message sending in network applications. <br><br></td></tr></table><br>
<a name="490326"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MrCredo</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> (ARGB AND $FF000000) SHR 24<br><br>is different to<br><br>(ARGB AND $FF000000) / $1000000 <br><br></td></tr></table><br>
<a name="490363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Shifts are generally based on low-level instructions in the CPU which can very quickly move data left or right within a cpu register for various purposes. You can use it to divide and multiple by powers of two in a single instruction which is usually faster than a multiply or especially a divide which are historically very slow instructions. However, on modern hardware, powerpc, etc there is probably little to gain from that since multiply and divide are so much quicker than they used to be. But there are other uses, as mentioned above - to store more than one value in a single integer for example, to handle rgb color components, to perform quick divides and multiplies, etc.<br><br>Since there are a lot of aspects to most game engines that base sizes of things on powers of two (who knows why - it's easier), you can likely use shifting in a lot of places to divide an multiple for various purposes by those power-of-two values. E.g. tile size 32x32 is a power of 2, so doing tile x index shifted left 5 times gives you the number of pixels.<br><br>I use it to help with the storage of two short values in a single integer which happens to be retrievable and extractable faster than using two integers. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
