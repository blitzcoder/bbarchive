<!DOCTYPE html><html lang="en" ><head ><title >Create HTML Page</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Create HTML Page</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Create HTML Page</a><br><br>
<a name="644776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could someone explain how I construct an html page from a blitmax application?  I have read in the forums that the best way to print (using the GUI module) is to construct an html page and then create an htmlview and call the gadgetprint() function.  But I am not sure how to take an image, which is on part of my GUI canvas and construct an html page for it to print.  <br><br>Any help would be really appreciated.<br>Tim <br><br></td></tr></table><br>
<a name="644805"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I kinda thought maybe I need to use banks to do this.  Not too sure about how these work, so put together this snippet of code in my app as a stab in the dark.  It does create an html file in the right place, but puts a load of garbage in it.<br><br>Also if I try this with a blank html file then the htmlview is displayed, but no print dialog box (which sounds like the problem that Gellyware had on another post).<br><br>Obviously I am misunderstanding how this stuff works (nothing new there).  Could anyone throw some light on this for me please?<br><br><pre class=code>
Case MENU_PRINT

	Local bnkScreenPrint:TBank = CreateBank(intImageWidth * intImageHeight * 4)
	Local pxmScreenPrint:TPixmap = LockImage(imgPrintable)
	Local intPixel:Int
	Local intCounter:Int		
	For Local y:Int = 0 To intImageHeight - 1
		For Local x:Int = 0 To intImageWidth - 1
			intPixel = ReadPixel(pxmScreenPrint,x,y)
			PokeInt(bnkScreenPrint,IntCounter * 4,intPixel)
			intCounter:+1
		Next
	Next
	UnlockImage(imgPrintable)
	SaveBank(bnkScreenPrint,"Images\Screen.html" )
	Local gdthtmlview:TGadget = CreateHTMLView(0,0,ClientWidth(gdtwindow),ClientHeight(gdtwindow),gdtwindow,HTMLVIEW_NONAVIGATE)
	HtmlViewGo gdthtmlview,AppDir+"/images/Screen.html"
	GadgetPrint(gdthtmlview)
</pre> <br><br></td></tr></table><br>
<a name="644840"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> mmm...maybe I have misunderstand something.<br>Do you want to create a HTML page?<br>If Yes use the HTML syntax and then load the page with the GUI commands as you used.<br>The Image cannot be seen as it missed all the info for the html-engine to understand that it is an image...<br>try to use the pixmap method to save as a .png file (and as stated above - create a html-page to read it)<br>byez <br><br></td></tr></table><br>
<a name="644851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks degac - I think it was me not understanding :)  I was thinking I needed an actual .html file - but I think that is rubbish, I just need a png file that I use for my htmlview.<br><br>So - okay I can use SavePixmapPng and save my screen image as a png file.  Then I can call it using the CreatehtmlView and HtmlViewGo functions.  The Image Appears on the screen as expected...<br><br>...but the call to GadgetPrint doesn't seem to do anything at all - I was expecting a print dialog box to pop up.  Is there something else I am missing? <br><br></td></tr></table><br>
<a name="644951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qweeg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay got it working now.  I needed to check for the EVENT_GADGETDONE and call the gadgetprint funtion from there.  Strangely I did get 2 print dialogs popup - which is the same thing logged on the thread from Gellyware about this - but I just used a boolean to check and stop the second dialog from appearing.<br><br>Thanks for your help degac. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
