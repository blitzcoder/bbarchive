<!DOCTYPE html><html lang="en" ><head ><title >Non-tile based platform maps.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Non-tile based platform maps.</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Non-tile based platform maps.</a><br><br>
<a name="1144293"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >allranger</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was just working on my platform game and realized that some of the stuff I want to do will not work with tile based maps.  (Or I am having a brain block).<br><br>So I have my levels saved to XML files.  Here is a simple one I use to test:<br><br>&lt;?xml version="1.0"?&gt;<br>&lt;world&gt;<br>	&lt;information&gt;<br>		&lt;name&gt;Grassland&lt;/name&gt;<br>	&lt;/information&gt;<br>	<br>	&lt;section&gt;<br>		&lt;columns&gt;2&lt;/columns&gt;<br>		&lt;rows&gt;2&lt;/rows&gt;<br>		&lt;location x="1" y="1"&gt;<br>			&lt;tile&gt;0001&lt;/tile&gt;<br>		&lt;/location&gt;<br>		&lt;location x="1" y="2"&gt;<br>			&lt;tile&gt;0001&lt;/tile&gt;<br>		&lt;/location&gt;<br>		&lt;location x="2" y="1"&gt;<br>			&lt;tile&gt;0001&lt;/tile&gt;<br>		&lt;/location&gt;<br>		&lt;location x="2" y="2"&gt;<br>			&lt;tile&gt;0001&lt;/tile&gt;<br>		&lt;/location&gt;<br>	&lt;/section&gt;<br><br>&lt;/world&gt;<br><br>So in this example the map is 2 x 2.  The tiles are 32 x 32.<br><br>Now the problem I am having is that some of the stuff I am starting it add is limited by the tiles, (enemies, background stuff, etc.).  But I cannot figure out exactly how make my map non-tile based.  What I am thinking is that I can save the object with the pixel coordinates, then when I load the map, anything that has a correct coordinate will be displayed.<br><br>Everything is loaded into a type called "TGameObject" and it has and "X" and a "Y".  So I might be able to do some sort of query off that...<br><br>I don't know.  Is it possible? <br><br></td></tr></table><br>
<a name="1144309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not quite sure what you're asking but it seems like you need a way to find out where in the map a moving object is ... you basically take the objects X,Y coords and divide them by the tile width and height to find out which tile the object is over, and then use modulo to see the exact position within the tile? <br><br></td></tr></table><br>
<a name="1144356"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiebo</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need a way to find out if an object is near a map object... I am using quadtrees for that in my non-tile based map. Using quadtrees you can quickly find object within a certain area (screen, player hit box, camera, etc)<br><br>Maybe you can use quadtrees as well? Take a look here : <a href="http://code.google.com/p/noisycode/wiki/quadtree" target="_blank">http://code.google.com/p/noisycode/wiki/quadtree</a> <br><br></td></tr></table><br>
<a name="1144967"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >allranger</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are both kind of answering the question(s) I was asking.  My problem is that I have the correct vocabulary yet.  After doing some reading and experimenting let me try this again.<br><br>I currently have a tile based map.  (See 1st post for an example xml file I am using to store the level map).<br><br>I am loading the map file into an array.  I am creating the array based off the "columns" and "rows" part of the xml file.  This has worked find until now.<br><br>This is my problem.  Let's pretend I have a mario game and my tiles are bricks.  I can load the bricks in and display them fine.  But, how do I display non brick based objects that do not fit neatly into the array.  For example, clouds, trees, enemies, the player....<br><br>I only want to display objects on the screen that are currently "on camera."  That is easy for the "bricks."  I can pull the data out of the array.  However, I am getting stuck with the other stuff.  The enemies move around so they can't really go in an my array (well, they could but their movement isn't as "blocky" as my array).<br><br>So I guess my problem is with the array and not the tile based game.  Because really everything in the game is a tile I suppose.<br><br>So if I have a non-array option, it begs the question why am I using an array for the bricks anyway?<br><br>I was not aware of quadtrees.  This may be a workable option for me.<br><br>So I guess my question is more along the lines of how do you have a non-array based tile map?  If that makes sense. :-) <br><br></td></tr></table><br>
<a name="1145031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> maybe this can help you:<br><a href="http://higherorderfun.com/blog/2012/05/20/the-guide-to-implementing-2d-platformers/" target="_blank"> The Guide How to Implement 2d Platform Games</a> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
