<!DOCTYPE html><html lang="en" ><head ><title >Determine length of line between two points</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Determine length of line between two points</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Determine length of line between two points</a><br><br>
<a name="663647"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wish to determine the length of a line drawn between two points.<br><br>Is there a simpler method of doing this than sqrt((x2-x1)^2 + (y2-y1)^2) ? Also if someone knows of a math/trig cheat sheet that would be good for programming, for instance movement and collissions, I'd be very happy :) <br><br></td></tr></table><br>
<a name="663651"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is the mathematically correct way to do it.  <br><br>At times you can avoid the square root if you are comparing distances, and there are also equations which approximate distance but are less accurate at certain angles... <br><br>But to compute the actual real distance, that's the simplest it gets.  <br><br>Of course you can wrap that in a function so you don't have to type it out every time:<br><br>Function Dist(X1#, Y1#, X2#, Y2#)<br>Return sqrt((x2-x1)^2 + (y2-y1)^2) <br>End Function <br><br></td></tr></table><br>
<a name="663654"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks you kindly sswift :) <br><br></td></tr></table><br>
<a name="663682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Chris C</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> you may also be interested to know it also works in 3d <br>(I discovered this for myself about 20 years ago and thought I was so clever - ah bless, youth...)<br><br>d.x=p1.x-p2.x<br>d.y=p1.y-p2.y<br>d.z=p1.z-p2.z<br><br>d=sqr((d.x*d.x)+(d.y*d.y)+(d.z*d.z))<br><br>this site is worth looking at <a href="http://www.euclideanspace.com/maths/index.htm" target="_blank">http://www.euclideanspace.com/maths/index.htm</a> <br><br></td></tr></table><br>
<a name="663748"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> don't use ^2 as it is unbelievable slow. Instead use<br><br><pre class=code>Sqr( (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1) )</pre> <br><br></td></tr></table><br>
<a name="663755"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> At best don't take any distance at all (if you know they aren't that large) but use squared distances for test. SQR is the second slowest function present (only logarithm is slower) and should be avoided if not needed. <br><br></td></tr></table><br>
<a name="663765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Bmax is VERY quick at sqr so you'd need to do a LOT to make more than a couple of millisecs difference.<br>^ is a bit different but still would need quite a few calculations to make a difference.<br>I might have done these wrong though...<br><pre class=code>
Function multiply(x,y)
  Return (x*x)+(y*y)
End Function
Function square(x,y)
  Return (x^2)+(y^2)
End Function
Function sqrroot(x#,y#)
  Return Sqr(x*x)+(y*y)
End Function
tim1=MilliSecs()
For x = 1 To 8000
  multiply(x,2)
Next
tim2=MilliSecs()
For x = 1 To 8000
  square(x,2)
Next
tim3=MilliSecs()
For x = 1 To 8000
  sqrroot(x,2)
Next
tim4=MilliSecs()
Print (tim2-tim1)
Print (tim3-tim2)
Print (tim4-tim3)
</pre> <br><br></td></tr></table><br>
<a name="663769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> A couple of millisecs with a timeframe of 16ms for all calculation and drawing per frame is a huge difference.<br><br>For that reason I have a vector class I use normally, that calculates its length on creation or modification. That way it won't need to recalculate the sqr unless it was modified. <br><br></td></tr></table><br>
<a name="663774"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my machine a couple of ms to use sqr for 80000 calls per frame. <br><br></td></tr></table><br>
<a name="663780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> So that would be ~400 objects measuring the distances to each other ...<br>sounds like enough for freak usage :)<br><br>But still ... squared distance is enough for 2D games as the distances can't become that large that they would be a problem (if they are out of display, they aren't disabled) <br><br></td></tr></table><br>
<a name="663788"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's no big deal I was just responding to<br><div class="quote"> <br>SQR is the second slowest function present (only logarithm is slower) and should be avoided if not needed. <br> <br></div>. I agree if you don't need sqr then don't use it but it's not slow and there are ways to reduce the number of checks required. <br><br></td></tr></table><br>
<a name="663917"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 800,600

Local X1# = 100
Local Y1# = 100

Repeat

mx = MouseX()
my = MouseY()

SetColor 0,0,255
DrawLine(x1,y1,mx,my)
text$ = Dist(X1,Y1,mx,my)
SetColor 255,0,0
DrawText (text$,mx,my-16)


Flip
Cls
Until KeyDown(KEY_ESCAPE)

Function Dist(x1#, y1#, x2#, y2#)
	Return Sqr( (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1) )
End Function 



</textarea> <br><br></td></tr></table><br>
<a name="663919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't get a runtime error.  And Dist should be Dist# btw. <br><br></td></tr></table><br>
<a name="663922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> runtime error is my sig (I'm changing it as it is quite annoying)<br><br>integer for simplicity<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 800,600

Local X1# = 100
Local Y1# = 100

Repeat

mx = MouseX()
my = MouseY()

SetColor 0,0,255
DrawLine(x1,y1,mx,my)
text$ = Dist(X1,Y1,mx,my)
SetColor 255,0,0
DrawText (text$,mx,my-16)
text$ = Distint(X1,Y1,mx,my)
SetColor 0,255,0
DrawText (text$,mx,my+32)


Flip
Cls
Until KeyDown(KEY_ESCAPE)

Function Dist#(x1#, y1#, x2#, y2#)
	Return Sqr( (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1) )
End Function 

Function Distint(x1#, y1#, x2#, y2#)
	Return Sqr( (x2-x1)*(x2-x1) + (y2-y1)*(y2-y1) )
End Function 



</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
