<!DOCTYPE html><html lang="en" ><head ><title >?Win32_or_Linux</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >?Win32_or_Linux</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >?Win32_or_Linux</a><br><br>
<a name="766920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello!<br><br>Just a silly question: I'm currently writing BlitzMAX applications which shall run on all three supported platforms (Win32, MacOSX and Linux). As not every module is available for all platforms (e.g. Jasper, OGGSaver, MiniB3D) I have to use "compiler switches" within my code:<br><pre class=code>
?Win32
  ...
?MacOS
  ...
?Linux
  ...
?
</pre><br>My question is now: as I sometimes have larger code blocks which may run on *two* platforms of the three supported, is there any way to "combine" two branches - in a way similar to<br><pre class=code>
?Win32, Linux
  ...
?
</pre><br>or<br><pre class=code>
?not MacOS
  ...
?
</pre><br>Thanks in advance for your help! <br><br></td></tr></table><br>
<a name="766925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't there is I'm afraid.  I've had to copy code that's the same for another platform for each of the platform's that require it. <br><br></td></tr></table><br>
<a name="766927"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well,<br><br>I could use "import", of course, and stuff my code blocks into a separate file - such that only the "import" statement has to be copied.<br><br>But I want to avoid having to break my code into multiple files. <br><br></td></tr></table><br>
<a name="766941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is a bit of a pain, having to specify each one separately, especially if two of them are going to contain the same piece of code.<br><br>But that's what you have to do at the moment. <br><br></td></tr></table><br>
<a name="766961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> alternative: do the common code just without any ? and use a ?MacOS block to redo the stuff for MacOS<br><br>Alternative take the BMK sources and add a ?NotMacOS directive <br><br></td></tr></table><br>
<a name="767042"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> alternative: do the common code just without any ? and use a ?MacOS block to redo the stuff for MacOS <br></div><br>You can't do it like that.  If you don't specifically state what's for Windows and Linux, then it will get compiled along with any modifications you want to make for the Mac, when compiled on a Mac.  You would only do it the way you're suggesting if you want the code for Windows/Linux to also run on a Mac, just with a little something extra. <br><br></td></tr></table><br>
<a name="767051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Depending on what you want to do this is no problem.<br><br>As ?WinAndLinux clearly implies that it is API independent, I don't see a reason a independent block followed by a Mac block to modify some variables should not work. The content of type instances and variables is the only thing that would differ in this case, right? beside OSX api dependent stuff that would be held within the ?MacOS block <br><br></td></tr></table><br>
<a name="767074"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the best idea would be to split up your project into a main file and imported file or something like that and just do<br><br>?Win32<br>Import "file_win32_or_linux.bmx"<br>?Linux<br>Import "file_win32_or_linux.bmx"<br>?MacOS<br>Import "file_macos.bmx"<br>? <br><br></td></tr></table><br>
<a name="767210"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >computercoder</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could also call a given function that will do what you want for any specific OS if you don't want to split it up into files:<br><br>?Win32<br>    DoThisLinWin()<br>?Linux<br>    DoThisLinWin()<br>?MacOS<br>    DoThisMacOnly()<br>?<br><br>Function DoThisMacOnly()<br>.<br>.<br>.<br>End Function<br><br>Function DoThisLinWin()<br>.<br>.<br>.<br>End Function <br><br></td></tr></table><br>
<a name="767217"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for all the hints...<br><br>but since I have to define (platform-dependent) types and functions, many of the ideas do not apply.<br><br>Unfortunately, I'll have to split my code and "import" those sources only, which belong to a given platform.<br><br>Extending BlitzMax's functionality is not an option for me right now (I'm already busy implementing other BlitzMax modules) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
