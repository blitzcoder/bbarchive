<!DOCTYPE html><html lang="en" ><head ><title >Scrolling land and collision detection...Opinions?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Scrolling land and collision detection...Opinions?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Scrolling land and collision detection...Opinions?</a><br><br>
<a name="561715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hold on a sec... <br><br></td></tr></table><br>
<a name="561716"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> .... <br><br></td></tr></table><br>
<a name="561717"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> (Had to preview first)<br><br>Anyway...<br><br>My goal is to create terrain for an entity to "walk" across and collide with.  <br>If you were to do this, would you create a giant sprite out of the terrain(Like, 800x600) and use perPixel collision detection?<br>Or would it be quicker to have an invisible 800x600 binary mask that matches my terrain to determine passable and non-passable areas?<br><br>In Basic, with it's indexed colour, I could just draw the land to the screen and then when I wanted collision detection,<br>I just sampled the colour of the pixels around my movable character.  This won't work without indexed colour, huh.<br><br><br>___________________________________________<br>If you're curious to see what my last terrain generator looked like, here's a link:<br><br><a href="http://soldiers.250free.com/OldBASIC_MapRoutine.exe" target="_blank">http://soldiers.250free.com/OldBASIC_MapRoutine.exe</a><br><br>It was done entirely in Qbasic 4.5 five years ago with no libraries installed.  The game that used this generator and the source for it is long, long gone.<br><br>Looks good for using only under 150 (!) indexed colours and only ONE video layer, eh? <br><br></td></tr></table><br>
<a name="561721"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This won't work in realtime no mather what kind color.<br>But the pixel perfect collision does something like that <br><br></td></tr></table><br>
<a name="561722"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> This won't work in realtime no mather what kind color.<br>But the pixel perfect collision does something like that <br><br></td></tr></table><br>
<a name="561723"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> This won't work in realtime no mather what kind color.<br>But the pixel perfect collision does something like that <br><br></td></tr></table><br>
<a name="561785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would make my map from tiles, that way you can calculate which tile the player is standing on and only have to do your collision detect with that single tile rather than the whole screen.<br><br>For example, if the ground was something like this<br><br><img src="http://www.olpin.net/temp/ground.png"><br><br>and was made up from tiles, thus<br><br>http://www.olpin.net/temp/ground+grid.png<br><br>for collision purposes, you are only really testing against a few basic shapes: <br>http://www.olpin.net/temp/ground+solid.png<br><br>As you can see this only actually uses half a dozen different collision shapes.<br><img src="http://www.olpin.net/temp/tiles32.png"><br><br>I've drawn them for illustration purposes, but in application these are regular shapes so you could do the 'collision' with simple maths. Just figure out which tile your player's feet is on then calculate accordingly. <br><br>For example:  <br><br>45º slope up /,      y=x<br>45º slope down \,  y=32-x<br>first half of a 22.5º slope up, y=x/2<br>2nd half of a 22.5º slope up, y=(x/2)+16<br>etc.<br>Assumes a tile size of 32x32, and that x/y are pixel offsets within the tile. <br><br></td></tr></table><br>
<a name="561938"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Reckon the easiest way is to have an 800 by 600 image, and just use images collide. Should run plenty fast. Faster than that would be the binary mask you mention, but it will require more programming, and fastest of all would be riks method that only requires a few calculations. <br><br></td></tr></table><br>
<a name="561963"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> For something like this, Rik's solution is ideal.<br><br>In fact, just make your landscape out of the shapes Rik suggests, this would allow a huge landscape which takes up minimal memory.<br><br>Takes me back to the good old days of 8 bit programming...but I digress ;) <br><br></td></tr></table><br>
<a name="562071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >RiK</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah use my method, especially after I went to all the trouble of drawing those pics eh ;) <br><br></td></tr></table><br>
<a name="562142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow that terrain generator is awesome<br>I made a game similar to that for the One button competition.<br><a href="http://www.coorrae.com/artillery/artillery.zip" target="_blank">http://www.coorrae.com/artillery/artillery.zip</a><br>I just used ReadPixel for collisions. What you can do instead of having a binary mask for collision, is you can have the foreground be a seperate image from the background, and test if there is a pixel on the foreground's imagebuffer.<br>Using tiles would be ideal if the terrain weren't destructable or if you wanted a larger level though. <br><br></td></tr></table><br>
<a name="562163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like Riks method, and I use it every now and then.  But... for this particular game, like the last version of this game, there<br>will be destructible terrain via explosions and drills and other usable tools.  So PerPixel collision is essential.<br><br>I thought about it last night, and I actually like the idea of using a giant Matrix @ 800x600 for collision.<br>I then have complete control and very fast access.  Memory be damned, I have a Gig of ram.  (Blitz CAN theoretically <br>access that whole gig, right?) <br><br></td></tr></table><br>
<a name="562518"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why would you need a gig? Even a 32-bit image isn't going to be much more than a couple of megabyte of data. <br><br></td></tr></table><br>
<a name="562541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> When I said "Memory be damned, I have a Gig of ram"  I wasn't trying to say that one array would fill the whole thing.  <br>That would be crazy.  I was just saying that memory wasnt an issue for me.<br>And an 800x600 Integer (that's 32 bits, right?) array takes up 14 megs of memory. <br><br></td></tr></table><br>
<a name="562542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> You better would learn how to calculate ;-)<br><br>its 1'920'000 Bytes = ~2mb<br><br>(800 * 600 * 4 Bytes) <br><br></td></tr></table><br>
<a name="562839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are both right about the calculations, but why does  the program take up 14 megs when I run it then?<br><br>If you hit ctrl alt delete (in windows 98 or xp, etc) you can actually see how much memory is being used.  Mine says 13-14 megabytes.  I don't understand why. <br><br></td></tr></table><br>
<a name="563150"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >HopeDagger</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because Blitz uses more memory than just that data you allocated. BMax itself, plus the underlying OGL/D3D, and whatever else is humming beneath the hood. :P <br><br></td></tr></table><br>
<a name="563169"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, that's what I thought.<br><br>I'm still learning, I guess. <br><br></td></tr></table><br>
<a name="564749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >IPete2</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>Couldn't you simply have a type with heights in. This would be a look up table for where your character can stand.  This would be easy to implement, fast to look up, and minimise memory useage. This could almost be as big as you want too.<br><br>IPete2. <br><br></td></tr></table><br>
<a name="564855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dubious Drewski</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure what you mean by a "type with heights", sorry.  Is it similar to the matrix I had mentioned?<br><br>In other news: I, like always, am biting off more than I can chew with the design of this little game.  <br>I've never completed a game in my life, because I can't settle for just "getting it done".<br><br>I'm trying to create a dynamic animation system for my character where he actually walks over uneven terrain with bending knees and properly planted footsteps.<br>It's unbelievably hard.  We'll see how it goes.<br><br>I'm also implementing a fully-customizable weapons-design <br>system (for use while in-game)that would give you complete control over the behaviour of a shell and allow you <br>to make amazing shots and set clever traps for enemies.<br><br>It's very in-depth and complicated, so I'll likely never finish, but it's so much fun to dream about it and plan it on paper.<br><br>And these are the reasons I am a hobbyist programmer and not a proffessional one. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
