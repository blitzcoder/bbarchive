<!DOCTYPE html><html lang="en" ><head ><title >Need help working with timers...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Need help working with timers...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Need help working with timers...</a><br><br>
<a name="807504"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ranting at the same time so bare with me.<br><br>Reading through the documentation, I was looking for something that could control the number of updates per seconds and maybe even frames per second. I came across CreateTimer,... I'm not sure I understand the hertz concept yet...<br><br>The way I'm currently coding my game allows me to separate the general values/controls update of the game from the graphical updates.<br><br>So basicly I was thinking of running a CreateTimer( 30 ) to update my game 30 times per second and run a Flip 0; and let the graphics update themselves as fast as possible..<br><br>I'm trying to code that right now and I just wanted inputs on this. I grant ranting permission ;) <br><br></td></tr></table><br>
<a name="807508"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://www.blitzmax.com/codearcs/codearcs.php?code=1721" target="_blank">http://www.blitzmax.com/codearcs/codearcs.php?code=1721</a> <br><br></td></tr></table><br>
<a name="807560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Createtimer is a 'quick' way of setting a framerate. <br>The best way depends on the type of game you're running. You can try <a href="/codearcs.php?code=1910" target="_blank"> Frame Limiting </a>, <a href="/codearcs.php?code=2039" target="_blank"> fixed-rate logic </a> or <a href="/codearcs.php?code=1698" target="_blank"> Delta timing </a>.<br>However, there have been 100's of posts which contain more code and discussion on which is best in which situation. Use the search function using 'timing'. <br><br></td></tr></table><br>
<a name="807641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd be running real time game, like an RPG :P <br><br></td></tr></table><br>
<a name="807643"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could probably run any of them unless you have physics simulation in which case 'fixed-rate' is preferable.<br>Many people have been using Delta-time for years without any problems as well.Still... do those searches and you'll have the the information at your own fingertips. <br><br></td></tr></table><br>
<a name="807646"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I was looking for those topics you talked about after replying and somehow I came to the same conclusion.. delta seems good.<br><br>Although won't-I have problems with special effects? Forgot how its called something engine.. basicly it's an easy way to do explosions, smoke, fire.. ect. Since BM does not have that feature we have to make these effects by hand and I'm just wondering if delta will hinder that process?<br><br>BTW I wonder if there is such an engine already made for special effects, that'd save time :o <br>*goes look in the archives*<br><br>EDITED<br>Found the word, it's called a particle engine, although I found 2 in the archieves. They're only prototypes... And there's a very cool fire effect, it's just awesome! <br><br></td></tr></table><br>
<a name="807684"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Delta would be OK but fixed-rate is pretty good at keeping physics updated. This is debated at length in those posts you read.<br>There's <a href="/posts.php?topic=67966#784759" target="_blank"> Smash Particle Engine </a> and lots of source code from others if you use the search function. <br><br></td></tr></table><br>
<a name="807750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I like the sample for the fixed-rate, however, it's not as easy to use as Delta, looking at it, I'm not sure what needs to be included and what commands has to be in my loop?<br><br>I'd say its at least less code then Delta <br><br></td></tr></table><br>
<a name="807766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> gotta say though... i just tried delta and it isnt working... i tried to set the FPS to 30 yet with flip 0 I get 150FPS++ and with flip  i get 60... Whatever I put 1 fps to 150.. with the example.. i see no change either..<br><br>Something's wrong.. somewhere :x <br><br></td></tr></table><br>
<a name="807784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Apollonius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok ok... after trying to understand /slash/ rewrite Fixed Timing, I started understanding how it works. So I made my own version, it might be coded wrong, since I'm as skilled as a Monkey with a broom. I would like some input, I'm gonna try to make a function to simplify it even more.<br><br>..graphical updates are pushed to the maximum your comp can support so basicly it should be smooth...<br><br><pre class=code>
' Appollonius' Prototype testing based on fixed-rate
' I tried to make it as easy to understand as possible

Graphics 640,480

' REQUIRED
Global UPDATE_FREQUENCY:Int 	= 60
Global UPDATE_EVERY:Int			= 1000/UPDATE_FREQUENCY

Global UPDATE_MILLI:Int			= 0
Global LOOP_MILLI:Int			= 0
Global TOTAL_MILLI:Int			= 0 

' Circle Attributes
Global x:Int=0, y:Int=50, dir:String="right"

' Get milli since computer started
TOTAL_MILLI=MilliSecs()

Repeat
	' Calculate total milli minus current loop milli
	LOOP_MILLI=MilliSecs()-TOTAL_MILLI
	TOTAL_MILLI=MilliSecs()
	
	UPDATE_MILLI:+ LOOP_MILLI
	
	While UPDATE_MILLI &gt;= UPDATE_EVERY
		UpdateIT()
		UPDATE_MILLI:-UPDATE_EVERY
	Wend
	
	DrawIT()
	Flip 0; Cls
	
Until KeyHit(KEY_ESCAPE)
End

' Display a moving circle
Function UpdateIT()
	If x &lt; 0 	Then dir="right"
	If x &gt; 640	Then dir="left"
	
	If dir="right" Then x:+1
	If dir="left" Then x:-1
End Function

Function DrawIT()
	DrawOval x, y, 50, 50
	DrawText "Update Milli-Seconds = " + UPDATE_MILLI,5,5
	DrawText "In Loop Milli-Seconds = " + LOOP_MILLI,5,20
	DrawText "Total Milli-Seconds = " + TOTAL_MILLI,5,35
End Function
</pre> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
