<!DOCTYPE html><html lang="en" ><head ><title >Code design structure</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Code design structure</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Code design structure</a><br><br>
<a name="671547"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MarkSponge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is the best practice when designing your code.<br><br>I have wrote a little game where things drop from the top and you have to catch them at the bottom. I did not think about adding a game menu when I started writing.<br><br>How do you structure your code?<br><br>Most games I've seen written in Blitzmax just use while not keyhit(KEY_ESCAPE) around the whole code.<br><br>How would I incorporate a game menu with the ability to pause a game, start a new one and exit (using the exit button, not pressing escape).<br><br>Anyone know any tutorials on menu creation and code structure.<br><br>Thanks in advance.<br><br>Mark <br><br></td></tr></table><br>
<a name="671550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> My game framework has all that and more.  Click the link in my sig, run the demo, it might give you some ideas... I like to get all this in place BEFORE writing the game so the game is just good fun then as all the "boring" stuff is done.<br><br>Anyway, your mainloop shouldn't really be based around the escape key (mostly that's just demos, code samples or mini-games).  It should be something like While Loop=True Wend.  Then in the while loop you can set Loop to False when the user clicks exit or presses escape or whatever.  Pausing is easy, when P is pressed set a variable called Paused to True and make sure your logic code is contained in an If not Paused then ... End If  structure.  Menus take a bit more work... <br><br></td></tr></table><br>
<a name="671551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MarkSponge</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ha ha , I was just looking at your framework 2 secs ago.<br><br>I'll look into it further.....<br><br>Mark <br><br></td></tr></table><br>
<a name="671583"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool.  There's also plenty of people here who'll help you. <br><br></td></tr></table><br>
<a name="671585"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you know what kind of structure your game will have, and drawing it on paper helps, then you can probably divide it up into parts with separate types for each part. <br><br></td></tr></table><br>
<a name="671674"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> What is the best practice when designing your code. <br></div>There are two prevailent methodologies. upfront design (Waterfall) and itterative prototyping (Agile). Each have their streangths and weaknesses.<br><br><div class="quote"> How do you structure your code? <br></div>In such a way that it is readable and maintainable.<br><br><div class="quote"> Most games I've seen written in Blitzmax just use while not keyhit(KEY_ESCAPE) around the whole code. <br></div>Yup. This is what's known as the main loop.<br><br><div class="quote"> How would I incorporate a game menu with the ability to pause a game, start a new one and exit (using the exit button, not pressing escape). <br></div>You can do it procedurally with states and branching, or you can do it object orientedly with different objects representing what you want to do at any given time. <br><br></td></tr></table><br>
<a name="671679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kronholm</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've only made one game but my structure is about this:<br><br>Everything in classes, and in seperate files, included in the main file, or included in their parents file.<br><br>Main loop contains this:<br><br>Delta time update<br>States (different states of the game, e.g. singleplayer, multiplayer, menu, login etc.) I just use a global variable called state and check it with a switch statement, and execute various functions such as startgame(), initeditor() etc.<br>Mouse update and of course flip and cls. That's it. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
