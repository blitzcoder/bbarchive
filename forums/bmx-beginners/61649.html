<!DOCTYPE html><html lang="en" ><head ><title >network socket help</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >network socket help</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >network socket help</a><br><br>
<a name="689115"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br><br>I have a very basic network server and client using UDP socket's this works fine for testing im simply sending one byte of data from the client to the server so when the server obtains the data it shuts down.<br><br>now any ideas on the best way to compress/hold data to be sent to the server the same would be used when reciving data on the client side.<br><br>kev <br><br></td></tr></table><br>
<a name="689302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used UDP in BlitzPlus but now feel that TCP is more desirable in BlitzMax (I found it easier to identify the sender of packets without having to use recv_from).<br><br>I am starting to use sockets in BMAX as well. Compression of data only becomes usefull when your packets become either quite large and/or repetitive in their contents. Let the server manage every connection (in TCP) to other clients by checking each socket for readavail and reading up to a certain number of times per main loop (such as 20 or 1000, depending on the kind of server you're making). Simply define a packet structure and include some kind of data in the beginning of the packet as a header (such as the number of bytes in the rest of the packet and the "type" of packet) along with the rest of the data. <br><br></td></tr></table><br>
<a name="689448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Rck, Ive modifyed the server and client to use TCP now i do find the TCP sockets to be more usable however sending and reciving data is not possable yet still need to figure out why. CreateSocketStream() opens correctly but when sending data using the client the server always recives zero im still looking into this.<br><br>kev <br><br></td></tr></table><br>
<a name="689449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does <a href="/posts.php?topic=57847#643388" target="_blank"> this </a> help? <br><br></td></tr></table><br>
<a name="689458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks tonyg that does help loads.<br><br>kev <br><br></td></tr></table><br>
<a name="689576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Again<br><br>ok i now have a working TCP client and server, the client can connect/re-connect to the server and send its data. <br><br>now next question, i think that the client should be-able recive data from the server. is this normal to have 2 way data processing?<br><br>and finaly how could i find the millisec from data leaving the server and ariving at the client and vice-versa? is this even nesseray?<br><br>o' one more, what information would you recommend to keep track of client connection, for now i have ip-address and ports. im aware username and passwords could also be held and possabley validated before the connection is excepted.<br><br>kev <br><br></td></tr></table><br>
<a name="689838"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Yes it is 'normal' for clients to recieve data from the server, it all depends on your application.<br><br>Your query about timings : Not necessary (unless you really want it) but TCP is guaranteed to reassemble individual packets into the correct order before you get to pull them from the buffer. (I presume this is why you are asking).<br><br>Your query about users/passwords : This is a matter of you designing your own protocol above TCP. Essentially you should establish a protocol whereby the client is validated by the server, maybe something like this :-<br><br>a) client connects to server<br>b) server responds with a message to request you to log in<br>c) client sends login details (encypted)<br>d) server validates the login details and either accepts or rejects the client.<br><br>The above scenario will require you to implement some kind of state machine for the protocol to work properly. <br><br></td></tr></table><br>
<a name="689851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kev</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks brendane for clearing these issues up, i intend on wrapping this into a module and making it available to the community adding as much as possable along the way.<br><br>kev <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
