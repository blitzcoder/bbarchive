<!DOCTYPE html><html lang="en" ><head ><title >Saving settings/scores</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Saving settings/scores</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Saving settings/scores</a><br><br>
<a name="667857"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello again,<br><br>Ok I was wondering how hard it is to save/load data from a bmax games. Are there any spacific commands that I should learn to save and load game data? Also, I would like to save highscores, but I don't want the user to hack the the file and change them at will.<br><br>I know this is alot to cover in one thread but I know that people around here have been helpful. <br><br></td></tr></table><br>
<a name="667870"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Help -&gt; Modules -&gt; Filesystem &amp; Help -&gt; Modules -&gt; Streams. <br><br></td></tr></table><br>
<a name="667947"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In my game framework I used streams and wrote the names as byes, shifted to make them look weird, and also wrote the scores as integers so that you'd need to have a hex editor to alter them as they won't look like a string number you can edit in notepad. <br><br></td></tr></table><br>
<a name="668152"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm this suff is a bit to advanced for me now, I guess i should learn more about blitz as a whole before i plunge into this stuff.<br>Thank you sirs. <br><br></td></tr></table><br>
<a name="668183"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SpaceCowboy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's a simple example of saving 10 random scores in a way that can't be edited with notepad... just the scores though, not names (im a beginner too :P). There might be better ways, i dunno...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Graphics 320,240,0

Global score[10]


''''' create score file w/ random scores

file=WriteFile("scores.dat")

For r=0 To 9
	WriteInt file,Rand(9999999)
Next

CloseStream file


''''' load score file
file=ReadFile("scores.dat")

For r=0 To 9
	score[r]=ReadInt(file)
Next

CloseStream file

''''' display scores

While Not KeyHit(KEY_ESCAPE)
	Cls

	For r=0 To 9
		DrawText score[r],130,(r*20)+20
	Next
			
	Flip
Wend
</textarea><br><br>check out the scores.dat file it creates in notepad.. <br><br></td></tr></table><br>
<a name="668245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> THanks!! <br><br></td></tr></table><br>
<a name="668249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> if it resides on the users PC, there is little way to "deny" access. you can look into encrypting the contents of the file before saving it.  for now, judging by your previous  posts, this may not be somthing you want to tackle right now <br><br></td></tr></table><br>
<a name="668545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >René</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could use a SQLite database. You can name the database i.e. "file.dat" so that you do not see that this is database file by name.<br><br>One more step would be scrambling the data when writing into database. I.e. write an a for 0, b for 1, and so on...(you get the idea :-)<br><br>Last but not least you can save the whole database file in a password secured zip file. There are modules to read and write to zip files.<br><br>Here is a nice <a href="http://www.pyroplay.de/sqliter-tutorial-1.html" target="_blank">tutorial</a> about a hiscore list using SQLiter and a database. <br><br></td></tr></table><br>
<a name="682889"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for reviving this thread but, I'm having a Hell of a time making a system to save and read scores. Would anyone be willing to write me a good set of functions that sort,save and read a highscore file? I usually don't like to ask for entire code sections and functions. Really if somebody could edit nyarla's code to save names that would be great. I tried to "RTFM" still confused a bit. <br><br></td></tr></table><br>
<a name="682895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try this<br><pre class=code>
Strict

Local hiscore:Int[10]

Print "==============="
Print "Unsorted"
For Local i:Int=0 To hiscore.length-1
	hiscore[i]=Rnd(0,10000)
	Print "hiscore["+i+"]="+hiscore[i]
Next

hiscore.sort  
Print "==============="
Print "Sorted"
For Local i:Int=0 To hiscore.length-1
	Print "hiscore["+i+"]="+hiscore[i]
Next

'write hi-score
Local out:TStream=WriteStream("c:\Hiscore.dat")

For Local i:Int=0 To hiscore.length-1
	WriteInt(Out,hiscore[i])
Next

CloseStream(Out)


'Read hi-score
Local In:TStream=ReadStream("c:\Hiscore.dat")

For Local i:Int=0 To hiscore.length-1
	hiscore[i]=ReadInt(In)
Next

CloseStream(In)

Print "==============="
Print "Read from File"
For Local i:Int=0 To hiscore.length-1
	Print "hiscore["+i+"]="+hiscore[i]
Next
</pre> <br><br></td></tr></table><br>
<a name="683263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> That works well assari but how can i connect a string name to each score before adding it? <br><br></td></tr></table><br>
<a name="683360"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was afraid that you were going to ask that question.<br>Same concept as above but instead of using an array, we use a type and a list as follows:-<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Strict

Local HiScoreList:TList=CreateList()
Local MaxItems=10
Local h:THiScore 'HiScore Type, see definition below

Print "==============="
Print "Unsorted"

For Local i:Int=0 To MaxItems
	h:THiScore=New THiscore
	h.score=Rnd(0,10000)
	h.PlayerName="Bill Gates"
	ListAddLast HiScoreList,h
	Print "hiscore["+i+"]="+h.PlayerName+":"+h.Score
Next


HiScoreList.Sort(True,THiscore.MySort) 'Note that we defined the sort function below
Print "==============="
Print "Sorted"
Local i:Int=0
For Local h:THiScore=EachIn HiScoreList
	Print "hiscore["+i+"]="+h.PlayerName+":"+h.Score
	i :+ 1
Next

'write hi-score
Local out:TStream=WriteStream("c:\Hiscore.dat")

For Local h:THiScore=EachIn HiScoreList
	WriteInt(Out,Len(h.PlayerName))
	WriteString(Out,h.PlayerName)
	WriteInt(Out,h.Score)
Next

CloseStream(Out)

ClearList HiScoreList
'Read hi-score
Local In:TStream=ReadStream("c:\Hiscore.dat")

Local s:Int=0
While Not Eof(In)
	h:THiScore=New THiscore
	s=ReadInt(In)
	h.PlayerName=ReadString(In,s)
	h.Score=ReadInt(In)
	ListAddLast HiScoreList,h
Wend

CloseStream(In)

Print "==============="
Print "Read from File"
i:Int=0
For Local h:THiScore=EachIn HiScoreList
	Print "hiscore["+i+"]="+h.PlayerName+":"+h.Score
	i :+ 1
Next

'-----Define Type Here
Type THiscore

 Field PlayerName:String
 Field score:Int

'--Need to write our own sort function, sort by score not name
 Function MySort(m1:Object,m2:Object)
  If THiscore(m1).score &gt; THiscore(m2).score Then Return 1
  If THiscore(m1).score &gt; THiscore(m2).score Then Return -1
  Return 0
 End Function

EndType

</textarea> <br><br></td></tr></table><br>
<a name="683449"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ryan Burnside</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you so much I'll credit you if you like. <br><br></td></tr></table><br>
<a name="683451"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >assari</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll welcomed. It's not necessary to credit me unless you want to.<br><br>Good Luck with your program <br><br></td></tr></table><br>
<a name="778611"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >gameshastra</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> could you please explain me how could we store the images into several files and load it back to the screen all the images or a particular image from a file. <br><br></td></tr></table><br>
<a name="778612"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> You should really open your own topic rather than keep resurrecting other peoples year old posts *especially* when you don't seem to be asking a related question. Anyway, not sure what you mean by 'store the images into several files'. What images?<br>If you mean screenshots then check savepixmappng <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
