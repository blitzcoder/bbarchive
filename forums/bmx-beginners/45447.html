<!DOCTYPE html><html lang="en" ><head ><title >I'm tick at times - ptr confusion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >I'm tick at times - ptr confusion</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >I'm tick at times - ptr confusion</a><br><br>
<a name="505306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello all, I'm new to all this, but i'm intrigued by OO programming as an idea, so ive plumped for the blitzmax pc beta, and am on the whole having great fun learning about how it all works.<br><br>I work in the games industry for my job, but im an artist (stop booing please) and this is quite an adventure for me, and a rewarding one at that. <br><br>but..<br><br>i have a bunch of objects set up with methods etc. galore and my naff asteroids clone was coming along nicely, but my poorly designed interfaces etc. have made things begin to fray around the edges and go a bit* spaghetti-like.<br><br>* meaning very very.<br><br>I'm especially foxed about the Ptr command, and Varptr, and Var for that matter.<br><br>I think i understand that Var in a function argument definition means pass by reference rather than value.<br><br>I always get my head in a twist when trying to implement pointers to objects as fields in objects i have made.  Perhaps this is the wrong way to do it? Any advice happily accepted.<br><br>I'm going to get some OO theory books from the library and see if they can help, but any directly blitzmax compliant assistance with using pointers to reference instances of types would help my accumulating grey hairs massively.<br><br>(pesky long winded sentence)<br>to summarise: im stuck with how pointers work with objects in blitzmax.  Also any help with the most sensible principles designing interrelated objects which are to 'own' each other and stuff would be great.<br><br>cheers from a budding thickie! <br><br></td></tr></table><br>
<a name="505314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Welcome to the forums :)<br><br>Well, types are always passed by reference - a type variable is a pointer.  You don't have to do anything special to make the field in another type point to a type.  For example:<br><br><pre class=code>Type PointsAtAnother
 Field pointer:TheObject
End Type

Type TheObject
 Field Dat$
End Type

Local A:PointsAtAnother=New PointsAtAnother, B:TheObject=New TheObject

A.pointer=B
B.dat="hi!"
Print A.pointer.dat
B.dat="See, it works!"
Print A.pointer.dat</pre> <br><br></td></tr></table><br>
<a name="505320"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks for the info - custom types always passed by reference you say - eexcellent. :)<br><br>i was worried about some infinite recursive dependency of death happening if I wasn't careful. :)<br><br>something has just clicked actually, and i thank you for the help.<br><br>is there any problem with having 2 objects which reference each other in their fields?  apart from sounding like ropey design in the first place?<br><br>anyhoo - cheers muchly for the help.  rubbish asteroids clone coming up shortly :D <br><br></td></tr></table><br>
<a name="505334"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Welcome :)<br><br>There shouldn't be too much trouble with having objects reference each other.  The only problem I can see is with the automated memory management.  Because one object sustains the other, and the other sustains it, the only way to kill them is to set their pointers to 0.  So, if you lose references to both objects, they'll just sit there without being deleted.  Its not too much of a problem.  I believe the builtin TList type does this in a big long chain. each link has access to the previous and the next link, and when deleted it goes through all its links and nulls them out.  Check the Advanced Topics in the Language Reference. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
