<!DOCTYPE html><html lang="en" ><head ><title >Week Numbers</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Week Numbers</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Week Numbers</a><br><br>
<a name="668946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzer101</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought I better move this topic to a new thread, given it's gone off at a complete tangent.... :)<br><br><a href="/posts.php?topic=59764" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=59764</a><br><br>I'm happy to report that I have finally made <i>some</i> headway and I'm hoping that I'm finally on the right track to doing what I need. Will keep you posted - thanks for all the help and encouragement. :) <br><br></td></tr></table><br>
<a name="669969"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> . <br><br></td></tr></table><br>
<a name="669975"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> How to find week number:<br><br>This is extracted from contracted work so I can't give you the actual source but here's the deal:<br><br>1. Find out what day of week 4th of January is. This date is always in week 1 !<br>2. If 4Th of January is earlier in the week than Thursday we are still (January 1st) in week 52 or 53 of the previous year (Week starting on Monday)<br><br>If #2 is true:<br>3. If in the previous year the 1st of January were a Thursday, then 1st of January this year are week 53 ! (Else 52)<br>4. If in the previous year the 1st of January were a Wednesday and last year were a leapyear, then 1st of January this year are week 53 ! (Else 52)<br><br>I hope this makes sense to you, I have tested it on all years from 1772 (when Gregorian calendar was implemented in Norway) to 2099. (It should be good until 4099!) <br><br></td></tr></table><br>
<a name="669976"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> And this is my Leap-year function:<br><pre class=code>
'---------------------------------  Leapyear true or not
Function leapyear#(aar#) ' Use year (YYYY) as arguement here
Local tp
If Int(aar/4) = aar/4 Then
					tp=True
					If Int(aar/100) = aar/100 Then
										   tp=False
										   If Int(aar/400) = aar/400 Then tp=True
										   EndIf
					EndIf					
Return tp
End Function

</pre> <br><br></td></tr></table><br>
<a name="669977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> How to find weekday of a specific date:<br>(Also works between 1772 and 2099)<br><br><pre class=code>
'------------------------------- DOD (Day of date)
Function dod$(day,month,year) ' (DD,MM,YYYY)
Local d,a,m,y,tp$

a=14-month
a=a/12
y=year-a
m=month+(12*a)-2

d=(day+y+(y/4)-(y/100)+(y/400)+((31*m)/12)) Mod 7

Select d
 Case 0 tp$="Sunday "
 Case 1 tp$="Monday "
 Case 2 tp$="Tuesday"
 Case 3 tp$="Wednesday "
 Case 4 tp$="Thursday"
 Case 5 tp$="Friday "
 Case 6 tp$="Saturday " 
End Select

Return tp$			' Return day
End Function
</pre> <br><br></td></tr></table><br>
<a name="669999"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzer101</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> wedoe,<br><br><div class="quote"> 1. Find out what day of week 4th og January is. This date is always in week 1 !<br>2. If 4Th of January is earlier in the week than Thursday we are still in week 52 or 53 of the previous year (Week starting on Monday) <br></div><br><br>Damn I wish I was at home so I could check this against my code. :)<br>I'm pretty sure my code tells me how the 1st of January related to the first Thursday in Jan - which also has to be in week 1.<br><br><div class="quote"> If #2 is true:<br>3. If in the previous year the 1st of January were a Thursday, then 1st of January this year are week 53 ! (Else 52)<br>4. If in the previous year the 1st of January were a Wednesday and last year were a leapyear, then 1st of January this year are week 53 ! (Else 52) <br></div><br><br>Thanks for that - I'll see how this relates to my code when I get chance. I got as far as determining whether the 1st of Jan was in week 1, or week 52/53 but not as far as whether it was 52 or 53 - if that makes sense? Nice one though, you've given something extra to work with much appreciated. :)<br><br>Thanks for the other codes snippets, again appreciated. I already have functions for determining leapyear and day name. Your leapyear function works very similar to my own - I guess it would really. Thanks again. :) <br><br></td></tr></table><br>
<a name="670013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> I also have a snippet somewhere calculating Easter day of any Gregorian year, do you need it ? (Made in BB3D, I think, but should be easy to convert)<br><br>I need myself a function for moon-phases for Gregorian years but have not <br>managed to create anything viable yet, maybe you could help me with this one ? <br><br></td></tr></table><br>
<a name="670127"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> please include a "Days_until_Xmas()" function <br><br></td></tr></table><br>
<a name="670138"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzer101</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I also have a snippet somewhere calculating Easter day of any Gregorian year, do you need it ? (Made in BB3D, I think, but should be easy to convert)  <br></div><br><br>That maybe useful at some point, but I'll leave it for now - I'd like to get the week number thing finished of 1st. Just had a go at it and pretty much got the code to determine the length fof the previous year with the help of your posting - thanks very much. :)<br><br><div class="quote"> I need myself a function for moon-phases for Gregorian years but have not <br>managed to create anything viable yet, maybe you could help me with this one ?  <br></div><br><br>I have to say that means nothing to me TBH, perhaps again it's something I can look into once I've done what I intend to with this date thing first? <br><br></td></tr></table><br>
<a name="670139"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzer101</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> bradford6<br><br><div class="quote"> please include a "Days_until_Xmas()" function  <br></div><br><br>Take a look at another post I made relating to this...<br><br><a href="http://www.blitzbasic.com/Community/posts.php?topic=60038" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=60038</a><br><br>and in particular the <i><b>date.DayCount(DD, MM, YYYY)</b></i> command. You could do what you want with simply...<br><br>days_until_xmas% = date.DayCount(25,12,2006&gt;) -date.DayCount()<br><br>Is that what you were after? :) <br><br></td></tr></table><br>
<a name="670142"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was being silly... but cool!<br><br>could you add a "Days until bradford6's birthday" and have a reminder pop up on everyones PC?<br><br>:) <br><br></td></tr></table><br>
<a name="670164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I have to say that means nothing to me TBH, perhaps again it's something I can look into once I've done what I intend to with this date thing first? <br></div> That's OK, I thought maybe you had it covered since you work with calendars right now :o)<br>It's pretty much the only function I miss in my calendar functions folder...<br><br><div class="quote"> Just had a go at it and pretty much got the code to determine the length fof the previous year with the help of your posting - thanks very much. :) <br></div> Glad to help, that's what these forums are for :o) <br><br></td></tr></table><br>
<a name="670524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzer101</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> could you add a "Days until bradford6's birthday" and have a reminder pop up on everyones PC? <br></div><br><br>Not without knowing when your Birthday is no. ;-) <br><br></td></tr></table><br>
<a name="670540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Not without knowing when your Birthday is no. ;-)  <br></div><br>He is not even <a href="/posts.php?topic=58752" target="_blank">here</a>!, neither are you Blitzer 101 ! <br><br></td></tr></table><br>
<a name="670719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Blitzer101</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> He is not even here!, neither are you Blitzer 101 !  <br></div><br>Ah, but then I've not been a BM user for very long. ;-) <br><br></td></tr></table><br>
<a name="670756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >wedoe</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Never too late... <br><br></td></tr></table><br>
<a name="670802"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just posted on the age post. <br><br>August 20th, 1970<br><br>maybe a very intrusive pop-up that automagically links to a 'bradford6 wish list' on Newegg.com<br><br>I want to make it easy for folks to buy me fresh PC gear for my b'day <br><br>:) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
