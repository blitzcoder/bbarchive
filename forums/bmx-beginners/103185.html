<!DOCTYPE html><html lang="en" ><head ><title >Colours Splitting?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Colours Splitting?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Colours Splitting?</a><br><br>
<a name="1240208"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotshot2005</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have done Colours Splitting Bars(Just like Amiga Background) and what I would like to know is How do I get Rainbow colours on to the fonts? <br><br></td></tr></table><br>
<a name="1240213"></a>

<a name="1240214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Calibrator</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> AFAIK there is a fundamental difference in programming because of the different hardware involved (and not because BMax isn't able to):<br><br>On the Amiga the rainbow fonts were made by changing the contents of the color palette registers on the fly (while the electron beam flies back to the beginning of the next line - think cathode tube monitor!).<br>This means that the pixel data in the frame buffer is an index into a palette but not the color data itself (RGB shades). In the palette (color) register you then have values that define the color.<br>This was easily possible because the Amiga (like other computers of the time) used a palette-based graphics mode and had sophisticated custom chips, hardware interrupts, display lists etc. to control those registers.<br>The Amiga, to be specific, used a custom chip called "Copper" hence those multicolored bars were called "Copper Bars" and the color change was programmable as scanline interrupts were available. The Amiga was even able to change the graphics mode at a specific scanline with this, for instance.<br><br>Nowadays, with graphics processors way speedier than what was used in the Amiga and much more memory for the frame buffer etc. there are less necessary compromises. Nowadays you simply activate a resolution of 1920x1080 (for example) with 32-bit colors (=24 color bits + 8 alpha channel bits). Done.<br><br>The only problem is: When you want to change the colors you have to change the actual data in the frame buffer because this data doesn't point to a palette anymore (at least any mode with 16 or more bits per pixel) but *is* the actual color data.<br>This is especially true if you don't use a "custom" full-screen graphics mode but draw your graphics in a window on your desktop.<br>"Older" graphics modes with only 8 bits per pixel may still support palette registers but you still would need scanline interrupts and AFAIK those don't exist on PC and Mac graphic cards (modern or old).<br><br>The answer to your question therefore is:<br>You probably have to design custom multicolored fonts or create them on the fly (which would be a bit more difficult).<br><br>I have no demo code for that but I'm relatively sure that I have seen stuff like that here somewhere. Perhaps somebody more active here can point you to it? <br><br></td></tr></table><br>
<a name="1240228"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jkrankie</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can do it, but you'd need to write your own bitmap font routines as you'd need access to the vertex colour data you send to the GPU.<br><br>Basically, you'd create the vertices for the quad/triangles that you're going to apply your letter texture/textures too, and set the vertex colour to whatever you want. OpenGL (and presumably DirectX too) will automagically interpolate the colours between vertices, so you'd just need to work out which vertices need which colours to make your rainbow.<br><br>This would likely be neater using a fragment shader, where given a range of colours you could do all sorts of neat tricks (scroll the rainbow colours, or apply a sin wave to them or whatever) in the shader, removing the need to update the vertex colour buffer/values each frame on the CPU. I appreciate that this is somewhat difficult to do with Max2d though.<br><br>Alternatively, you may (may) be able to draw a rectangular texture over the text and use one of the OpenGL blend modes to only colour where the font textures are. Here's a useful tool to find out what glbendfunc can do. <a href="http://www.andersriggelsen.dk/glblendfunc.php" target="_blank">http://www.andersriggelsen.dk/glblendfunc.php</a><br>Try setting the blend equation to GL_MIN, and imagine the flamingo's are your font textures...<br><br>Changing the blend equation would require less work to add to max2d. i think, having not checked, you could add your own blend mode to work with the set blend function. Take a look at the Max2d source to see how ALPHABLEND and LIGHTBLEND are done. It may be as simple as adding an extra if statement with your own blendmode constant.<br> <br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="1240669"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you draw a negative font, where the pixels of the characters are full alpha and all others are black. Then you can draw the "copper" colors and then draw the font on top of that. Then the colors will show through the pixels of the characters. <br><br></td></tr></table><br>
<a name="1240670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If you draw a negative font, where the pixels of the characters are full alpha and all others are black. Then you can draw the "copper" colors and then draw the font on top of that. Then the colors will show through the pixels of the characters.  <br></div>That will only work if you have a black background. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
