<!DOCTYPE html><html lang="en" ><head ><title >Compiling on Mac</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Compiling on Mac</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Compiling on Mac</a><br><br>
<a name="1195171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Got access to a Mac and decided to see if what I was working on would look like.   I know zero about Mac's, so this is probably a simple thing.  When I try to compile I'm getting the following error:<br><br>Building untitled1<br>Compiling:untitled1.bmx<br>sh: as: command not found<br>Build Error: Failed to assemble /Users/username/Downloads/BlitzMax/tmp/.bmx/untitled1.bmx.gui.debug.macos.x86.s<br>Process complete<br><br>I'm not even sure if I've installed BM correctly, I just downloaded, and ran the file - I couldn't see how to unzip the files as you do in Windows.  Also remember reading some stuff about xcode - is this something I need? <br><br></td></tr></table><br>
<a name="1195179"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> es, you need to download and install xcode -- and after installing it, you need to go in there and install the command line tools as well.<br><br>Not sure if there are any specific version limitations/requirements, but if you search the forums you'll probably find the info... <br><br></td></tr></table><br>
<a name="1195180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks very much.  Downloading now, stand by for my silly questions when I still can't get it working :) <br><br></td></tr></table><br>
<a name="1195181"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, got it all working.  Still trying to find my way around these weird arse Mac's :)<br><br>It all compiles, doing a couple of funny things and getting the occasional weird flicker where I'm drawing some of my graphics - using SetAlpha for some objects, is this an issue?  works fine on the PC.<br><br>Other than that, it works pretty much the as intended - I can worry more about sorting out Mac issues when the game is finished.<br><br>One last question - where does the compiled code get placed?  I'm just running the code from a USB drive at the moment, and after compiling there are no new files on the drive that. <br><br></td></tr></table><br>
<a name="1195184"></a>

<a name="1195185"></a>

<a name="1195186"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >d-bug</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> An *.app file is a bundle including the compiled binary in the subfolder YourApp.app/Contents/MacOS/. (You can see it by using "Showing Package Contents" in Finder's context menu on your app). When the binary was compiled the one in the bundle is exchanged by the fresh one. The file date of your app should have changed but the file count on your drive keeps the same. <br><br></td></tr></table><br>
<a name="1195188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamStrange</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You also need to do a full module compile to get it to play nice with osx :) <br><br></td></tr></table><br>
<a name="1195202"></a>

<a name="1195279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  The file date of your app should have changed <br></div><br>Not always. Sometimes it stays the same, and only the contents of the bundle change. <br><br></td></tr></table><br>
<a name="1195264"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks guys, I think I got it sorted.  I was compiling it from the same directory that I had already compiled the PC version - so it either didn't like to overwrite the old file or it did so without changing the date on the file.<br><br>This was only a really early test just to see if I could get my program working on the Mac, unfortunately I don't have access to this Mac very often so I'd more than likely try to find a Mac user here to compile stuff in the future for me. <br><br></td></tr></table><br>
<a name="1195273"></a>

<a name="1195274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hoping I've got it right, perhaps a Mac person could test the download and tell me if the app runs:<br><br><a href="http://www.mediafire.com/download/0y888irwxxvb2ra/tmc_mac_beta_1.zip" target="_blank">http://www.mediafire.com/download/0y888irwxxvb2ra/tmc_mac_beta_1.zip</a><br><br>PC version is here too:<br><br><a href="http://www.mediafire.com/download/sgzaqr3wx40m3r7/tmc_pc_beta_1.zip" target="_blank">http://www.mediafire.com/download/sgzaqr3wx40m3r7/tmc_pc_beta_1.zip</a><br><br>I won't post full instructions.  Basically it's a little cricket sim I've been working on for years.  <br><br>Press S to start<br>Press Y/N to make batsman run when prompted (upper left of window)<br>Press ENTER to bowl a new ball<br>Press F1 for scoreboard<br><br>To exit, press ESC immediately after pr essing ENTER for a new ball.   This is a very early version, only really uploaded this to see if I could get the Mac version working while I had access to one.<br><br>Doesn't look as nice on the Mac - known issue - I've hard coded the location of the Arial font \windows\fonts - didn't know where they were kept on a mac and how exactly to do this, conditional compilation?<br><br>Mac users will notice ugly flashing and some text over writing on the right hand side of the screen where the batsman &amp; bowlers details are shown - this doesn't happen on the PC version - any ideas what I could be doing wrong Mac people? <br><br></td></tr></table><br>
<a name="1195280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The flicker is probably due to the way you are incorrectly using the buffer. It almost looks like you are drawing stuff before one flip, but not drawing the same stuff before the next flip?<br><br>Are you not doing something like :<br><pre class=code>
While looping

Handle events

Cls

Draw stuff

Flip

Wend
</pre><br><br>Where you are drawing *everything* on each iteration.<br>Your "Draw stuff" can obviously choose to draw different things based on some state.<br><br>If you want to save some space with your audio, you can convert them to .ogg format.<br>You may also want to put your images and stuff into a different folder than the executable, or even embed them in the app itself (using Incbin).<br>On Mac, it creates what is called an App Bundle, which is a folder, where you can also store all the application's resources (images, audio, etc).<br><br>You could embed the font too, perhaps, using Incbin. <br><br></td></tr></table><br>
<a name="1195281"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had a feeling it was something to do with the draw order Brucey - I'll look into a bit more - weird that it only happens on the Mac though.<br><br>I was going to ask about converting to .ogg too - I've got a decent audio editor which should allow me to convert easily - the main crowd sample was 34mb on it's own and is a 3min sample - I could probably just cut this sample down to a minute too.<br><br>And yes, the plan was to IncBin the graphics &amp; sound samples when I'm getting closer.<br><br>Thanks for downloading it, and glad it worked (i.e. I didn't stuff anything up too much). <br><br></td></tr></table><br>
<a name="1195314"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just thinking about the display issues with the Mac - I'm pretty sure I have the Flip's in the right places, but I will have to double check this.  Couple of things that come to mind which could possibly be Mac issues that I'm unaware of:<br><br>1.  I'm not using SetGraphicsDriver - Should I be?   I'm simply starting my program using Graphics 1350,710,0.   <br><br>2. I had issues with extremely slow performance when I was drawing everything, I solved this issue by using SetViewPort to only redraw the part of the screen that I was updating.  Are there issues with using this that I'm unaware of?<br><br>It's really only if there are issues with the above points regarding the Mac, as previously stated it works fine on the PC (using both a fairly high end graphics card and also a rather crappy onboard laptop graphics card) <br><br></td></tr></table><br>
<a name="1195318"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I'm not using SetGraphicsDriver - Should I be?  <br></div><br><br>Doesn't matter, on Mac you can only use OpenGL, and it will default to that.<br><br>(On windows it will default to DirectX unless you specify otherwise)<br><br><div class="quote"> I solved this issue by using SetViewPort to only redraw the part of the screen that I was updating. Are there issues with using this that I'm unaware of? <br></div><br><br>Possibly, in that:<br>1) There is no guarantee that the parts of the screen that you didn't redraw will be there after the flip, it depends on the video driver. The OpenGL standard says that you can't count on the picture remaining.<br><br>and more likely:<br>Depending on the video card and drivers you are using, the screen can use anywhere from 1 to 4 backbuffers... Meaning that when you draw &amp; flip, the next backbuffer that presents itself to you to draw on for the next flip *may* be the same, or it could contain the contents of the screen 2 flips ago.. or 3 flips, or 4 flips... Which could cause flickering since there are likely differences in areas of the screen that you are not currently focussing on.<br>(Esentially the video may continuously rewind itself a few frames, resulting in a stuttery appearance)<br><br>To ensure that a game works on *all* computers and doesn't run into those issues, you really should redraw the entire screen each frame.<br><br>Note that it's not a mac-only issue: one of my previous windows PC's cycled through three backbuffers, while my laptop used two, and another Pc used just one. Unfortunately your mileage may vary.<br><br>(Which is why ideally you should test your programs on multiple machines with different hardware, so hopefully those kind of issues pop up during testing and not after you release your game) <br><br></td></tr></table><br>
<a name="1195343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the info Xlsior, I was not aware of any of that info.  I'll hopefully get a chance to do some more today, so I will definitely have a look at getting rid of my SetViewPort code - I didn't really want to use it in the first place - it was more of a solution to some pretty sloppy coding.<br><br>I no longer have access to a Mac that I can compile on - any one on the forum willing to do a compile for me? <br><br></td></tr></table><br>
<a name="1195364"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> any one on the forum willing to do a compile for me? <br></div><br>I can do Mac builds and testing for you if you like? (contact details in my profile). <br><br></td></tr></table><br>
<a name="1195377"></a>

<a name="1195378"></a>

<a name="1195379"></a>

<a name="1195380"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Brucey, you're a champ :)  I'll get in contact when I'm ready.  Don't look at my code to closely, my inefficient/unstructured code will probably make someone of your skill physically ill.<br><br>I haven't looked any of the code regarding drawing/setviewport yet which might be causing the Mac issues, when I've done that I'll get in contact.<br><br>Took your advice on converting WAV to OGG and it shrank a 34mb to less than 4mb, so that will make things a lot smaller too. <br><br></td></tr></table><br>
<a name="1197530"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't touch a Mac for a few weeks now.<br><br>I'm at a public library where they have Mac's everywhere, just wondering if someone can tell me where to look to confirm if XCode &amp; Command Line Tools are installed?   I'm guessing these public machines won't allow me to install this stuff if it's not already on them - but being a University I'd be hoping that this stuff is already installed since I.T. students would possibly be using them to write code in some other language on them.<br><br>Do all programming languages on the Mac require XCode &amp; Command Line Tools to be installed? or is this something particular to only certain languages? <br><br></td></tr></table><br>
<a name="1197531"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> In finder:  Go -&gt; Applications   <br>xcode should be listed as an installed application there if it is on the machine.<br><br>To see if the command line tools are installed:<br>- open XCode<br>- go to the xcode pull-down menu at the top of the screen<br>- Preferences<br>- Go to the downloads tab<br>- Components<br>- See if command line tools are installed (you can install from there if they aren't) <br><br></td></tr></table><br>
<a name="1197533"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Arabia</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Mate. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
