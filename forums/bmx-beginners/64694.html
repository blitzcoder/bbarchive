<!DOCTYPE html><html lang="en" ><head ><title >Init 2D arry</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Init 2D arry</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Init 2D arry</a><br><br>
<a name="722270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, I've figured out how to init an array on declaration:<br><br>myarray[] = [1,2,3]<br><br>But what is the syntax for a 2D array please:<br><br>myarray[][] = and then what?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="722272"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> myarray[][] = [ [1, 2, 3], [4, 5, 6], [7, 8, 9] ] <br><br></td></tr></table><br>
<a name="722273"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks dude, I tried something like that but must have had it wrong! <br><br></td></tr></table><br>
<a name="722344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> that is an array of arrays, but it will work just fine, an actual 2D array cannot be auto-initialised.<br><br><a href="http://www.blitzwiki.org/index.php/Arrays" target="_blank">http://www.blitzwiki.org/index.php/Arrays</a> <br><br></td></tr></table><br>
<a name="722377"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the link.  So that's pretty weird then, I'm using an array of arrays not a 2D array and they can't be auto-initialised, weird! <br><br></td></tr></table><br>
<a name="722389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> does this work for you?<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global myArray:Int[][] = [[0,1,2,3],[9,10,11,12],[13,14,15,16]]

For Local x:Int = 0 To 2
	For Local y:Int = 0 To 3
		Print myArray[x][y]
	Next
Next

</textarea> <br><br></td></tr></table><br>
<a name="722438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Adam Novagen</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look, everyone, I've never used Blitz <i>Max</i>, so I could be totally wrong about this, but wouldn't the best way to initialize an array be to use something like:<br><pre class=code>Dim MyArray(100,100)</pre>Replacing the 100's with whatever number of elements you need? I mean, the only time I create an array in a variable is when I do it in a type field, like:<br><pre class=code>Type MyType
    Field ArrayField[100]
End Type</pre> <br><br></td></tr></table><br>
<a name="722448"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> but wouldn't the best way to initialize an array be to use something like <br></div><br><br>No, that would be one way to declare a 2D array in B2D or B3D.<br><br>To declare a 2D array in BMax you would do<br><br><pre class=code>
Global myArray:Int[100,100]
</pre><br><br>But that's not the same as initializing it, since you can't auto-initialize a multi-dimensional array. <br><br></td></tr></table><br>
<a name="722497"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> array of arrays needs to be initialized. a little more work but they are more flexible (can slice)<br><br><pre class=code>
' =======2D Array=======
Local array[10,10]

array[2,2] = 4
Print array[2,2]

array[5,5] = 25
Print array[5,5]

' ==========Array of Arrays===========
Local GRID[][]
Local GridWidth:Int = 10
Local GridDepth:Int = 15

Grid = Grid[..GridWidth]

For Local count:Int = 0 To GridWidth - 1
		GRID[count] = Grid[Count][..GridDepth]
Next
	
GRID = GRID[..GridWidth][..GridDepth]



GRID[2][2] = 4
Print GRID[2][2]

GRID[5][5] = 25
Print GRID[4][4]

</pre> <br><br></td></tr></table><br>
<a name="722682"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the end I did this:<br><br><pre class=code>
	Const GAP=20
	Field StarCoords%[][] = [[-GAP*2,0],[-25,GAP+4],[0,35],[25,GAP+4],[GAP*2,0]] 
</pre><br>and accessed with StarCoords[x][y]<br><br>Seemed fine. <br><br></td></tr></table><br>
<a name="800233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Hi, I've figured out how to init an array on declaration:<br><br>myarray[] = [1,2,3]<br> <br></div><br><br>Is this still supposed to work with the latest BlitzMax?<br>I could really use something like this, but when I try the above as-is it returns the error: <b>Expected Expression but encountered '='</b> <br><br></td></tr></table><br>
<a name="800236"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Global myarray[] = [1,2,3]</pre>Or Local or Field <br><br></td></tr></table><br>
<a name="800257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> you better don't use that.<br>While this init look nice, its several times slower than<br><br>myarray[] = new int[3]<br>myarray[0] = 1<br>..<br>..<br><br><br>Seems like above is some kind of pseudo slicing mechanism doing the dynamic initialisation. <br><br></td></tr></table><br>
<a name="803842"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> weird.  However, most of the time it's for relatively tiny Arrays and the first method is nice and readable. <br><br></td></tr></table><br>
<a name="803863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I used it with 3 elements (position vector and therefor called on each object creation 2-4 times) and it ate a fair amount of time ... (we are talking of a factor of 20+ here already with 3 elements)<br><br>But will have to retest, my test on this issue was quite some time ago, perhaps some internal changes happened to it that do remove the need to use per element init.<br><br>I agree that the "c style" is more readable. <br><br></td></tr></table><br>
<a name="803884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow that is a lot slower.  My arrays like that are only initialised once on game init so it's a non-issue. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
