<!DOCTYPE html><html lang="en" ><head ><title >Path problem</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Path problem</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Path problem</a><br><br>
<a name="694431"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiering</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having a hard time making a simple console program that will accept a file name on the command line. BlitzMax changes the directory to where the executable is located and the current directory is lost.<br><br>The best solution I've found so far to start with:<br><br>ChangeDir (LaunchDir)<br><br>But this doesn't always work across drives, for example, if my current directory on C: is something like "Documents and Settings\My Documents" and from D: I start my application with command line "C:FILE.TXT", it isn't found, I have to inlcude the full path "C:\documents and settings\my documents\FILE.TXT".<br><br>So is there a way to get the current directory on a different drive? Or can I prevent Blitz from changing the directory in the first place? <br><br></td></tr></table><br>
<a name="694438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Launchdir on its own should do it... shouldn't it?<br>P.S. Not sure what you mean by 'current directory'. <br><br></td></tr></table><br>
<a name="694443"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Current directors (called working directory) is the directory from which the app is executed. This is not always the same as in which the app itself is.<br><br>So you shouldn't change the dir at all if you want it to see the startdirectory as the current one.<br>But even then: C:File.TXT is no valid filename. Its just file.txt.<br>What you try there is some strange mixing of path as it is either just file.txt or c:/file.txt (or \, thats no dif) in which case the current dir is of no importance ... <br><br></td></tr></table><br>
<a name="694446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wiering</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This works fine in any other programming language, and if you often work with a DOS prompt, you rely on it to work (that saves you from typing all those long path names each time). Every drive has its own current directory.<br><br>For example, the command "notepad c:file.txt" uses file.txt in the current directory on C:, not C:\Windows or whereever your Notepad.exe is located.<br><br>To me, it seems wrong that Blitz changes the directory, it's something the programmer could choose to do. <br><br></td></tr></table><br>
<a name="694493"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, I get it. You mean like in 6.1 when if you typed in a:<br>it would go to the last directory that you Dir'ed in A, and not the the root of a.<br><br>That always anoyed me. Never got it right. Would do things like<br><br>Copy *.* A:<br><br>What that going to do? Move it to the root of A or to the last Dir of A?<br><br>Im glad BMAx doesnt work like that, it was a pain in the ass. If on the other hand you think that It should, just write the new system yourself. Honestly if you know what you want it to do, you can probably have it finished in half a day, easy.<br><br>Im slowly coming to the opinion that once you know what you are doing, you should (Time permitting), rewrite the mods to be just as you want them. <br><br></td></tr></table><br>
<a name="694582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you feel adventurous you could always comment out this line from blitz_app.c in the blitz.mod (function bbStartup() ) :-<br><br>chdir( app_dir );<br><br>and rebuild modules.<br><br>Not sure what impact this might have on gui apps but you always have access to the AppDir$ global. At least you would have a 'proper' console app. (ie. one which does not change the working directory). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
