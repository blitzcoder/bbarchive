<!DOCTYPE html><html lang="en" ><head ><title >RE:  Rotating square</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >RE:  Rotating square</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >RE:  Rotating square</a><br><br>
<a name="1114831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Joe90bigrat90</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok i have a square grid as a game board.<br>it has 25 squares on the tile.<br>so this one square is 5x5 squares wide.<br>Each of the 25 squares has a different picture on it.<br>Now ive created 4 images of the square. North, south east and west.<br>How would i go about doing the following.<br><br>I want to create a random number from 1-4 so it randomises teh big square in 1 of 4 directions (north south east and west).<br>As this big square has 25 little squares on it obviously as the big square rotates so do the 25 little squares.<br><br>I guess i need an array to store these but im not sure how to do it.<br><br>So i create a random number which puts the big square in a random direction from 1-4.  Whatever direction the big square is facing the little 25 squares on the big square must also rotate with the big square if that makes sense.<br><br>Could someone show me what i need to do or give me an example of code would be great.<br>Many thanks<br>Kind Regards<br>Joe <br><br></td></tr></table><br>
<a name="1114847"></a>

<a name="1114849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is going to be quite a bit of math involved in doing that and if you don't have too much knowledge or experience in using trig functions you are going to have a hard time trying to figure it out. this next formula is going to be the foundation for all of your objects rotation.<br>this function rotates a point(x,y)  around origin 0,0. the number of degrees is determined by stp <br><pre class=code>
Function rotatePoint(x:float Var, y:float Var,stp:float)
	Local tx:Float = x*Cos(stp) - y*Sin(stp) 
	Local ty:Float = y*Cos(stp) + x*Sin(stp) 
	x = tx
	y = ty  
End Function
</pre><br>it doesn't rotate relative to 0 degrees. It rotates relative to it's current angle so keep that in mind.<br>you need to be creative when using it. So it can be used to rotate a square and it's children(the smaller squares), you need to do it in three steps:<br><br>1)you need to rotate the big square(the parent) stp amount. [parentAnge = parentAngle+stp]<br><br>2) each of the positions of each child square position need to be rotated a stp amount(by using the child's square handle relative to the handle of the parent square and using the function above) **<br><br>3)finally rotate each child stp amount.  [childAngle = childAngle + stp]<br><br>based on that function, It doesn't matter what angle the object is in its current position, if you rotate a point 3 degrees,  the point will be rotated 3 degrees from its current position relative to origin(0,0).   <br><br>** if the  child is to be rotated around it's parent position then the parent position has to be subtracted from the child then the child position is to be rotated and finally the parent position added again to the child position.<br><br>I don't know how easy it is for you to understand the above but good luck with it. :)<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1114852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Joe90bigrat90</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> cool thankyou very much Jesse.<br>I will have a play around and see what happens.<br><br>Yeah its pretty complex isnt it. Hope i get the jist of it.<br><br>Cheers<br><br>Kind Regards<br><br>Joe<br><br>PS ill let you know if i have any problems!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
