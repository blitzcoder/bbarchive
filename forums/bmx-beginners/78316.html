<!DOCTYPE html><html lang="en" ><head ><title >missile hitting the shooter?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >missile hitting the shooter?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >missile hitting the shooter?</a><br><br>
<a name="878352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drakim</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a pretty basic problem here, and I'm wondering if there is any more effective and painless method of fixing it.<br><br>I have a problem of units shooting and hitting themselves, right when the missile is created.<br><br>This could easily be solved by storing who is the shooter in a field in the missle, and not have the missile collide with the shooter.<br><br>However,  I have a system with magnets and stuff where the shot can be flung back at you. Having the shooter not being able to shoot himself fails then.<br><br>A second possibility would be to have a delay on the missile until it starts colliding with objects. However, this caused other troubles. When I had a very slow and big missile, the delay wasn't enough, and the unit collided with his own missile anyway. I fixed this by making the delay longer. However, when the unit shot a missile really fast, enemies that are too close was also skipped due to the now longer delay.<br><br>So, what other tricks can one use to avoid this simple yet troublesome problem? <br><br></td></tr></table><br>
<a name="878353"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Don't let a missile hit it's owner until it has been affected by a magnet? <br><br></td></tr></table><br>
<a name="878359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Slightly generic answer since you haven't said if you're using 2D or 3D:<br><br>The easiest solution would be to think about how missiles work in the real world.  I.e. if you shoot a rocket launcher at your own head, its probably going to kill you.  The simplest answer is to create the missile slightly in front of the player, so that it never touches him (unless its been forced back at him by magnets or whatever).<br><br>Alternatively, when you detect a collision between missile and player, you could use Atan2() to determine whether the missile is moving towards or away from whatever its detected a collision with. <br><br></td></tr></table><br>
<a name="878361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> you could just ignore all collisions with the missile until it hasn't collided with it.  (if that makes sense) <br><br></td></tr></table><br>
<a name="878365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> you could just ignore all collisions with the missile until it hasn't collided with it. (if that makes sense)  <br></div>You mean, wait until there's been at least one non-collision before it actually acts on a collision?<br><br>Problem with that is if the enemy is right in front of you.  It could theoretically pass right through the enemy without registering a hit. <br><br></td></tr></table><br>
<a name="878383"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could have the missile store who fired it and have a flag ( eg LaunchingFlag ) which is initially set to true.<br>Then you can apply the following logic.<br><br>If the LaunchingFlag is true and it is not colliding with whoever fired it then set the flag to false.<br><br>If a collision is detected against whoever fired it and the LaunchingFlag is true then ignore the collision.<br><br>All other collisions are valid.<br><br>or something like that.<br><br>Cheers <br><br></td></tr></table><br>
<a name="878414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> In other words, the missile remembers who fired it, until it is no longer colliding with him, then it forgets and can hit.<br><br>The atan2 suggestion sounds clever. <br><br></td></tr></table><br>
<a name="878438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuietBloke</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> yeah.. sorry.. that's a much quicker way of putting it.. My brain went into waffle mode ! <br><br></td></tr></table><br>
<a name="878452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drakim</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, it's 2D.<br><br>I'll try the atan2 suggestion first. It creates the most realistic results. ^^<br><br>Thanks for all the suggestions though! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
