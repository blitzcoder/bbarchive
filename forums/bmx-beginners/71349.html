<!DOCTYPE html><html lang="en" ><head ><title >Select ...Case...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Select ...Case...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Select ...Case...</a><br><br>
<a name="797597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wish to know, in BlitzMax, if a Select Case using a Byte would compile using a jump table?<br><br>Thanks. <br><br></td></tr></table><br>
<a name="797604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> no<br><a href="http://www.blitzmax.com/Community/posts.php?topic=71252#796832" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=71252#796832</a> <br><br></td></tr></table><br>
<a name="797605"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yikes!!!  OMG, how adventurous should we be with BMAX???  Any substitutes anyone came up with?  I'm thinking about a pointer list or something in the likes.  Say a 256 INT table containing function pointers, or goto pointers or labels, and that we could just use that as our jump table.<br><br>Toughts? <br><br></td></tr></table><br>
<a name="797656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> goto: Not existant in strict. BM code without strict is inacceptable<br><br>You don't need to be adventurous. If you need insane speed, don't use GC managed language.<br>BM is by far fast enough, you don't need to worry for such stuff. If you do, you better write it in ASM and import the assembler file :) <br><br></td></tr></table><br>
<a name="797661"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> BM code without strict is inacceptable <br></div>No it isn't.  Its a preference. <br><br></td></tr></table><br>
<a name="797715"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Yikes!!! OMG, how adventurous should we be with BMAX??? Any substitutes anyone came up with? I'm thinking about a pointer list or something in the likes. Say a 256 INT table containing function pointers, or goto pointers or labels, and that we could just use that as our jump table <br></div>I see you didnt read the thread I posted, which was only 2 days old. <br><br></td></tr></table><br>
<a name="797730"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Gfk: No its inacceptable as the compiler and some inner workings are different if no Strict / SuperStrict is applied. (variable scope as the single problem you will realize first)<br><br>The only real reason for goto is to leave loops and for that reason BM has loop lables to jump out of any number of nested loops or continue them.<br><br>Above that, you can not do variable gotos anyway, so it won't help in this situation. <br><br></td></tr></table><br>
<a name="797734"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've read what you linked me to H&amp;K.<br><br>Dreamora<br><div class="quote"> You don't need to be adventurous. If you need insane speed, don't use GC managed language.<br>BM is by far fast enough, you don't need to worry for such stuff. If you do, you better write it in ASM and import the assembler file :) <br></div><br><br>Do you think it's acceptable to have, say 200 jumps to the next condition in hope of finding what corresponds (Select...Case) in your compiled BMX when you could actually have a single jump referenced by a jump table?  I'll have to  see if I can find something in BlitzMax that could do this.  Just a shame that the language has the Byte type, but no jump table to use it, in this case.<br><br>And no, I can't use assembler to do what I wish to do as it's an ANSI code interpreter. <br><br></td></tr></table><br>
<a name="797742"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> and why can't you? whats actually holding you back doing it?<br>as everything you write in something else will end earlier or later as an ASM its clearly doable in ASM :-)<br><br><br>But you could use something like this as well if you are able to put the "case" parts into functions:<br><br><pre class=code>
   
Strict

Graphics 800,600

Global funcTable()[256]


For Local i:Int = 0 To 255
	funcTable[i] = printAscii
Next

Global char:Int
While Not KeyHit(key_escape)
	Cls
	
	char = GetChar()
	funcTable[char]()
	
	DrawText "char: " + char, 0, 0
	Flip
Wend
char = 1
printAscii()

WaitKey()


Function printAscii()
	Print "Ascii: " + char
End Function</pre><br><br>this is just a simple example to show you what I mean <br><br></td></tr></table><br>
<a name="797743"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, well :)<br><br>Ah!  So you can do this funcTable[char]() in BlitzMax?<br><br>Interesting.  This would definately solve the problem if it does work.  I'll try it out right now.<br><br>Yep this does work.  Seems you found what most everyone's after with the jump table.<br><br>Thanks!  And this is another plus for BlitzMax that makes it a desirable language for me.  Good.<br><br>Oh, and I'm not saying I won't write small assembler code in BlitzMax to perform stuff like filling up a table, or creating textures, with MMX or SSE.  It's all possible in BlitzMax from what I heard, but definately not in Blitz3D. <br><br></td></tr></table><br>
<a name="797746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you can do function pointer (and arrays of them) in BM, something badly missing in Blitz3D, right ...<br><br>Although I normally use it for callbacks :-) <br><br></td></tr></table><br>
<a name="797758"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> @_33 It just shocked me that two of your proposed solutions where ones that thread had said you couldnt have, and that it said what the solutuon was, but you still waited till dream said it as well.<br>But hah, who cares, we all have solutions now <br><br></td></tr></table><br>
<a name="797760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry I was distracted. <br><br></td></tr></table><br>
<a name="797768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Dreamora, how come I can't do this? And do you have a solution then? Thanks!<br><pre class=code>
Global FuncPointer()
'
SetFunctionPointer(Test)
FuncPointer()
'
Function SetFunctionPointer(Func)
 FuncPointer = Func
End Function
'
Function Test()
 Print "It worked!"
End Function
</pre> <br><br></td></tr></table><br>
<a name="797775"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Looks like it should work. <br><br></td></tr></table><br>
<a name="797776"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> MGE Developer:<br><pre class=code>Global FuncPointer()
'
SetFunctionPointer(Test)
FuncPointer()
'
Function SetFunctionPointer(Func())
 FuncPointer = Func
End Function
'
Function Test()
 Print "It worked!"
End Function
</pre> <br><br></td></tr></table><br>
<a name="797778"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_33</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> haaa... Of course!  I feel good being a rookie in BlitzMax.  Lots of nice little surprises. <br><br></td></tr></table><br>
<a name="797783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey.. I've only had BMax for 2 weeks so far, lots of little things to learn!!! TomToad - uh...holy !@#$% you just solved a problem I've had for days!!! So this thread won't be too much off topic, I'm going to start another. Thanks!!! <br><br></td></tr></table><br>
<a name="797909"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Only to clarify that.<br><br>BM is a typesafe language.<br>So the input and output of a function must remain the same!<br><br>You can not assign func:int(int) to func(float) or anything the like. It is only compatible to a function with the same header, much like delegates. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
