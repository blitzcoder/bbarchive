<!DOCTYPE html><html lang="en" ><head ><title >Canvas Capture</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Canvas Capture</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Canvas Capture</a><br><br>
<a name="1185882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im trying to make a Video from Blitzmax Output Canvas.<br><br>Im using Xors3D.<br><br>Is it possible to capture the frames at a desired rate say 60fps somehow while Playing?<br><br>I dont care if it all become slow..<br>The purpose is to make a video file.<br><br>Cheers <br><br></td></tr></table><br>
<a name="1185902"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> GrabPixmap<br>SavePixmapPNG <br><br></td></tr></table><br>
<a name="1185911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wow that simple, hmm too simple haha :) need check. <br><br></td></tr></table><br>
<a name="1185989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> the question now is how do you turn this into a video from blitzmax code <br><br></td></tr></table><br>
<a name="1185991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Googled "PNG to video" and got this: <a href="http://stackoverflow.com/questions/618448/tool-to-glue-dozen-of-png-into-video" target="_blank">http://stackoverflow.com/questions/618448/tool-to-glue-dozen-of-png-into-video</a><br><br>Then you'd use the <b>Blitzmax\mod\pub.mod\freeprocess.mod\</b> module to call any of the command lines suggested in that thread (after properly installing the software the command line is calling, ofc). <br><br></td></tr></table><br>
<a name="1185995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok . This is new grounds for me.<br>Thanks kryzon <br><br></td></tr></table><br>
<a name="1185997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can find some threads on CreateProcess() around here with info on how to use it.<br>It allows you to run executable files with a command line (needed for using ffmpeg or other encoder like described in that thread); It's a very handy tool. <br><br></td></tr></table><br>
<a name="1185998"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just one more question kryzon.<br><br>when I capture the screen as png<br>I also Get the black background.<br><br>is there a way to get the png as transparent? <br><br></td></tr></table><br>
<a name="1186031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you create a backbuffer that includes an alpha buffer, ie when you set up your Graphics screen you ask for an alpha channel, and your graphics card supports 32-bit graphics with an alpha buffer, then you could put it into OpenGL mode and use glReadPixels() to grab all four channels from the backbuffer. However, blitz is already using that command when you do a GrabPixmap.<br><br>The thing here is, when you use alpha transparency on your sprites or whatever, the alpha data is in the source sprite data. The graphics card reads the sprite data and pulls out the alpha channel, then uses the value in the alpha channel to cross fade between the sprite colors and the background colors. But it does not DRAW the alpha channel into the backbuffer's alpha channel. So when you go to grab the full screen, even if it's 32-bit, it won't find any alpha pixel values. In order to get the alpha channel values from the sprite to be written to the backbuffer's alpha channel you will have to use OpenGL and manually set the blend modes such that the source alpha is written to the destination, and if you have overlapping images then you'll want to probably use a multiply blend mode that combines the sprite alpha with the destination alpha, such as DEST_ALPHA. It can be done, but it's not what Blitz is normally set up to do.<br><br>Another option is to manually draw sprites into a pixmap using your own alphablending algorithm and then make sure to also draw/combine the alpha values from the sprites into the pixmap's alpha channel. <br><br></td></tr></table><br>
<a name="1186039"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the elaborate Answer @ImaginaryHuman <br><br></td></tr></table><br>
<a name="1186048"></a>

<a name="1186055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Why do you want the PNGs with alpha? <br>Do you want to create a <a href="http://stackoverflow.com/questions/644684/turn-image-sequence-into-video-with-transparency" target="_blank">video with transparency</a>? <br><br></td></tr></table><br>
<a name="1186060"></a>

<a name="1186128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> hmm good question well.  i wanted to create an animated png <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
