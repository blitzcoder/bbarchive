<!DOCTYPE html><html lang="en" ><head ><title >mousemove() appears to be asynchronous</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >mousemove() appears to be asynchronous</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >mousemove() appears to be asynchronous</a><br><br>
<a name="548136"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TrickyRic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol, must look like i have some kind of mouse fetish with these threads huh?<br><br>anyway i didn't want to change the subject of my previous thread so instead i'll post a fresh one:<br><br>seems when i call movemouse() and then initiate the main loop where a condition checks the location of the mouse, the condition returns the co-ords prior to the movemouse being called! all i can assume here is that mouse movement is asynchronous to command execution. easy fix would be to whack a delay between these events, but i'm somewhat of a freak when it comes to making clean code, and delays always look messy to me...<br><br>please note i've already played around with pollsystem() to no avail!<br><br>system in question is gnu linux 2.6.11 running fedora 4 (flame fc all ye like, but personally i love it!), xorg 6.8.2, and the logitech mx1000 mouse. blitzmax build is 1.08.<br><br>script in question:<br><br>HideMouse()<br>MoveMouse half_width, half_height<br><br>While (GetChar() + MouseHit(1) + MouseHit(2) + MouseHit(3) + MouseZ() = 0) And MouseX() = half_width And MouseY() = half_height<br><br>ty. <br><br></td></tr></table><br>
<a name="548161"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TrickyRic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> erm...<br><br>i wrote the following test scripts, and both return accurate results! something iffy must be going on here...<br><br>DrawText MouseX(), 100, 10<br>MoveMouse(50, 50)<br>DrawText MouseX(), 100, 20<br>Flip<br>WaitKey()<br>End<br><br>MoveMouse(50, 50)<br>While MouseX() = 50<br>Wend<br>End <br><br></td></tr></table><br>
<a name="548164"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TrickyRic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ERMMMM,,,<br><br>added a few lines:<br><br>MoveMouse(half_width, half_height)<br><br>Print half_width<br>Print half_height<br>Print MouseX()<br>Print MouseY()<br><br>given half_width is 200, and half_height is 150, surely debug output should be:<br><br>200<br>150<br>200<br>150<br><br>right? well...<br><br>Building AuroraSaver<br>Compiling:AuroraSaver.bmx<br>flat assembler  version 1.52<br>3 passes, 4067 bytes.<br>Linking:AuroraSaver<br>Executing:AuroraSaver<br>200<br>150<br>0<br>0<br><br>Process complete<br><br>...any ideas? <br><br></td></tr></table><br>
<a name="548219"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bradford6</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> it works here...<br><br><pre class=code>
Graphics 800,600,32

Repeat
	DrawText MouseX(),10,10
	DrawText MouseY(),100,100
Flip;Cls
Until KeyDown(KEY_ESCAPE)


half_height= 100
half_width=333
MoveMouse(half_height, half_width)

Print half_height
Print half_width
Print MouseX()
Print MouseY()

</pre> <br><br></td></tr></table><br>
<a name="548289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ashmantle</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You probably have to move the mouse around a little for MouseX() and MouseY() to contain any values.. <br><br></td></tr></table><br>
<a name="548574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TrickyRic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> my mouse has an off switch (to save on battery charge) and in each test i've been switching it off to be sure no accidental movement goes on. in the individual tests shown above, such as:<br><br>DrawText MouseX(), 100, 10<br>MoveMouse(50, 50)<br>DrawText MouseX(), 100, 20<br>Flip<br>WaitKey()<br>End<br><br>...ouput is perfect. no complaints. but with the project in question, i can't seem to get mousex() or mousey() to return ANYTHING other than 0! this is confusing the hell out of me now! even mousez() works fine, so why not these?<br><br>maybe this is some kind of linux specific bug when using hidemouse() or something? i'll keep testing... <br><br></td></tr></table><br>
<a name="548576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TrickyRic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok, now i've stripped everything as far as i possibly can - only running code in this project is the following:<br><br>Local width = 400, height = 300, mode = 16<br>Global half_width = width / 2, half_height = height / 2<br>Graphics width, height, mode<br>MoveMouse(half_width, half_height)<br>While MouseX() = half_width And MouseY() = half_height<br>Wend<br>End<br><br>...and the project just ends immediately! <br><br></td></tr></table><br>
<a name="548920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TrickyRic</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> the followings all that appears to work reliable enough, but its still a little messy, and i don't see why such a delay would be needed!<br><br>MoveMouse(half_width, half_height)<br><br>While MouseX() = 0 Or MouseY() = 0<br>Wend<br><br>While (GetChar() + MouseHit(1) + MouseHit(2) + MouseHit(3) + MouseZ() = 0) And MouseX() = half_width And MouseY() = half_height <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
