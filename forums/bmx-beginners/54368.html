<!DOCTYPE html><html lang="en" ><head ><title >Help with TImage and TPixmap</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Help with TImage and TPixmap</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Help with TImage and TPixmap</a><br><br>
<a name="606709"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Storm8191</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello, I'm trying to test out a method to generate an image in realtime, but I can't get this to work at all.  My plan is to create an image, and then use LockImage and WritePixel to draw to the pixmap.  This is how things are supposed to be done, according to all the examples I've seen.  But it's not working, and I don't know why.<br><br><pre class=code>
Graphics 640, 480, 0
out:TImage = CreateImage:TImage(32, 32, 1, DYNAMICIMAGE)
in:TPixmap = LockImage:TPixmap(out)
	Print "Your pixmap has size "+ PixmapWidth(in) +", "+ PixmapHeight(in)
	For i:Int = 0 To 31
		WritePixel in,  i,  0, (255 Shl 24) Or 255
		WritePixel in,  i, 31, (255 Shl 24) Or 255
		WritePixel in,  0,  i, (255 Shl 24) Or 255
		WritePixel in, 31,  i, (255 Shl 24) Or 255
	Next
	Print "Color at [0,0] = "+ ReadPixel(in, 0, 0)
	Print "Color at [1,1] = "+ ReadPixel(in, 1, 1)
UnlockImage out
in = Null
FlushMem

DrawImage out, 0,0
Flip
Cls
Flush
</pre><br><br>For the image drawing, I've also tried DrawImageRect but it didn't help any.  Does anyone see why this doesn't work?  I'd really like to be able to build images when needed.<br><br>Thanks in advance. <br><br></td></tr></table><br>
<a name="606754"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Change Or to |, as the Or operator in Blitzmax is logical and results in either True or False. <br><br></td></tr></table><br>
<a name="606882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Storm8191</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Weee, it works.  Thanks, I was really starting to wonder if these pixmaps with images would work at all.<br><br>Now I just have to figure out what I'm going to do with them. :p <br><br></td></tr></table><br>
<a name="606884"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mudcat</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Now I just have to figure out what I'm going to do with them. :p"<br><br>You crack me up q:) <br><br></td></tr></table><br>
<a name="606886"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> In best case, you don't do anything in realtime or it will most likely became a very bad "waking up" <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
