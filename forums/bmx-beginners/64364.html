<!DOCTYPE html><html lang="en" ><head ><title >am I doing this right?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >am I doing this right?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >am I doing this right?</a><br><br>
<a name="718528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok I am making a 2d top down space game, where you ship is fixed at the center of the screen, and you fly around the game world.<br><br>presently, I have used <pre class=code>setorigin (graphicswidth()/2 - x , graphicsheight()/2 - y )</pre><br><br>where x and y are your ship's x and y. I have done this to keep your ship drawn in the center of the screen so it can move about the game world.<br><br>otherwise without that, the ship flies off the edge of the screen.<br><br>so what I want to know is, is this the correct way to have enabled flying / being in the gameworld? or will this cause me problems later on and do I need to make some sort of scrolling background engine thing.<br><br>i experimented originally with creating a viewport, and as the ship moved, moving the viewport whilst keeping the ship at the centre, so the viewport would basically be = to the current width.height of the screen and there fore your ship would never get clipped for flying off the side, because the viewport like a camera moves over the ship to keep it in view, or to keep drawing the area of the gameworld you are in.<br><br><br>also if setorigin is not supposed to be used in this way, what was it meant for?<br><br>was I clear in my explanation or do I need to try again <br><br></td></tr></table><br>
<a name="718560"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You're confused about what these commands are for.<br><br>SetOrigin changes where the X=0,Y=0 coordinate is. Usually it's the top left corner of the screen. What you COULD do is say, if the player wants to fly to the right, then you start subtracting values from the X coordinate of the origin, while at the same time adding values to the X coordinate of the player ship - but not to the enemy ships. Your enemy ships will start to scroll to the left and your player ship will stay where it is - so long as you move it to the right the same amount as you're moving the origin to the left. Same for vertical.<br><br>That IS one way of doing it. Presumably you are only drawing enemies that are within the visible part of the game world, though?<br><br>Another way is to leave the origin at 0,0 and have your own GameWorldOriginX,GameWorldOriginY coordinates that you use to move things around. You then can always draw the player in the middle of the screen and just rotate it, when the player flies to the right you still add to its X coordinate, but then you move your `game world window` to the right, so that you only see the visible portion centered on the ship.<br><br>You should not need to touch SetViewport and definitely should have nothing to do with your scrolling.<br><br>SetViewport is misleading, anyway. In OpenGL for example, the viewport is the `output window` for the entire defined `view` of the game world. The size of the view of the game world is set up separately as a projection, either orthographic or perspective. The coordinates from the game world are scaled to fit within the viewport, regardless of the viewport size, so the viewport is really just the `output size` of the game world view, and the view on the world is something entirely separate that Max2D doesn't give you access to. In Max the viewport is thought of more as a way to stencil certain areas of the screen without changing the size of the view of the game world, or the size of the overall game screen. If you look at the code it actually sets up a scissor stencil for the rectangle you specify, so you only see drawing to that area, it actually is more like the old Amiga version of viewports. Internally it's doing something quite different from what a viewport really is in OpenGL terms.<br><br>I think you'll find that most people do not use SetOrigin to scroll their game world, they more likely have their own origin and game world window offset based on the player coords, just like drawing a portion of a tilemap. <br><br></td></tr></table><br>
<a name="718595"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Cruis.In</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi angel daniel thanks for your response. you said<br><br><div class="quote"> What you COULD do is say, if the player wants to fly to the right, then you start subtracting values from the X coordinate of the origin <br></div><br><br>I originally posed this code <pre class=code>setorigin (graphicswidth()/2 - x , graphicsheight()/2 - y )</pre><br><br>am I right in saying that this code is doing what you said? as its doing a subtracting calculation with x changing as you move the ship.<br><br><div class="quote"> <br>Presumably you are only drawing enemies that are within the visible part of the game world, though?/quote]<br><br>Actually I have drawn some enemies like x= 2000, y = 2000 and fly to meet them.<br><br>I have my ship,x displayed and my ship,y so i can see when I am nearing the 2000,2000 and also to help navigate :)<br><br>and when I get there the enemy ship is there waiting. Did you expect it wouldn't work? As in you didn't believe what I was doing could work? Or were you just asking.<br><br>Isnt the part you suggested with the gameworldOriginX and Y the same as with your first suggestion; <br>subtracting a value from the x coordinate of the origin and adding to the x coord of the playership?<br><br><br>[quote]if the player wants to fly to the right, then you start subtracting values from the X coordinate of the origin, while at the same time adding values to the X coordinate of the player ship - but not to the enemy ships <br></div><br><br>Also correct me if I am wrong now but isn't the above paragraph quote actually what I am doing? because-<br><br>I am subtracting a value from the x coordinate and y coordinate of setorigin with the code <pre class=code>setorigin (graphicswidth()/2 -x )</pre> same for the Y coord of the setorigin.<br><br>AND i didnt mention before,  of course I am adding to the x and y value of the ship based on how the player moves. And the x and y in that above code is the ship.x and ship.y, and this also means that the value being taken away from the x and y origin is the same as that being added to the ship. so the ship remains in the middle. Just like you explained<br><br> so the origin only moves when you move as in input(up,down,left right keys), which is how it should be right?<br><br>what I have done to limit the game world or create the box that the game world now is, is multiply world_width = screen_width * 2000.<br> which is fairly big.<br><br><br>let me know if I am right, in that what you wrote to do , is what I am actually doing, just didnt add in the part about the ship.<br><br>also then if you want to set something back to normal like for drawing interface graphics, you would have to put a setorigin 0,0 command back in the loop in that area before drawing them otherwise the origin would be being calculated with the other setorigin call, and this would be un wanted. <br><br></td></tr></table><br>
<a name="718670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds right <br><br></td></tr></table><br>
<a name="718671"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sounds right <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
