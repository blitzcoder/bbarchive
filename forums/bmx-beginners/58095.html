<!DOCTYPE html><html lang="en" ><head ><title >Font Width?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Font Width?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Font Width?</a><br><br>
<a name="646256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably another no hoper, but is there any way to work out the width of a string when rendered in a certain font.  Easy enough for a fixed width font if the char width is known but what about non-fixed width fonts?<br><br>At the moment I can't actually load any other bloody fonts yet anyway, so does anyone know the charwidth of the default Max font and if it's fixed width or not?  Thanks. <br><br></td></tr></table><br>
<a name="646261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diablo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you mean like this:<br><br><pre class=code>Graphics 800, 600

Global test$ = "FTW, HeLlO WoRlD!!!"

While Not KeyDown(KEY_ESCAPE)

	Cls
	
	SetColor 0, 0, 175
	DrawRect 10, 10, TextWidth(test), GetImageFont().height() ' textheight(test)
	SetColor 255, 255, 255
	DrawText test, 10, 10
	
	
	Flip
	
Wend
</pre> <br><br></td></tr></table><br>
<a name="646263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> what a twat I am, I looked through the 2D help and just must have had a blindspot on that command.   Thanks.<br><br>btw why use GetImageFont.Height instead of TextHeight(test)?  Is it quicker? <br><br></td></tr></table><br>
<a name="646280"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This fails:<br><pre class=code>

	Local temp:TImageFont = New TImageFont
	temp = GetImageFont
</pre><br><br>with "unable to convert from TImageFont() to TImageFont" wtf! Is it trying to typecast?<br><br>Also If I put () on the end of GetImageFont I get "Types Int and Int() are unrelated" Big WTF is going on.  help. thanks. <br><br></td></tr></table><br>
<a name="646297"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >undomiel</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wouldn't you need to execute LoadImageFont first so that GetImageFont would have something to return? <br><br></td></tr></table><br>
<a name="646298"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> For a start you've assigned temp as a TImageFont and now are using it to hold the GetImageFont output.<br>Second GetImageFont is a function so you need GetImageFont()<br>In addition, you're creating a TImageFont without any parms. <br><br></td></tr></table><br>
<a name="646368"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Diablo</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> btw why use GetImageFont.Height instead of TextHeight(test)? Is it quicker? <br> <br></div><br>I dont know if its quicker (tho it may be, i havent done any tests, i'm sure some body will have done tho) it just that i dont think textheight works correctly(I havent tried it from version 1.16 upwards), i just put it there so you knew about it.<br><br><div class="quote"> Wouldn't you need to execute LoadImageFont first so that GetImageFont would have something to return?  <br></div><br>I dont think u'd need to, defualt font is set in the graphics call i think.<br><br>@Grey Alien<br>Only thing I can suggest is try this code:<br><pre class=code>Graphics 800, 600

Local temp:TImageFont = New TImageFont
temp = GetImageFont()

Print temp.height()</pre><br><br>which works for me. Make sure u call graphics(). As far as <div class="quote"> "Types Int and Int() are unrelated" <br></div> - You've got me there.<br><br><div class="quote"> In addition, you're creating a TImageFont without any parms. <br> <br></div> This shouldnt matter as i think he wants to ref the current image font.<br><br>If you want to load an image font, simply <b>LoadImageFont:TImageFont(url:Object,size,style=SMOOTHFONT)</b> I dont think it will auto look in the font dir so u will need to copy the font to your apps dir (or were ever you want fonts to be) and load it like any other media i.e. [path][filename]<br><br><pre class=code>myfont:TImageFont = LoadImageFont([path][filename], etc.)
if myfont then SetImageFont(myfont) else print "Could not load the font"</pre> <br><br></td></tr></table><br>
<a name="646400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks TonyG:<div class="quote"> For a start you've assigned temp as a TImageFont and now are using it to hold the GetImageFont output. <br></div> I know, that's what I wanted to do as originally just testing the output of GetImageFont was failing, but this was because I left the brackets off.  What I dislike about Max and PLus is sometimes you can leave the brackets off functions and other times not, I don't get when you can and can't.  It would be simpler if functions ALWAYS required brackets.<br><div class="quote"> Second GetImageFont is a function so you need GetImageFont() <br></div> When I tried this I got that Int error, but later when I tried it, it worked, I can't explain why!<br><div class="quote"> In addition, you're creating a TImageFont without any parms. <br></div> just cos I wanted a valid structure in place to assign the return value of GetImageFont to.  Originally I tried Local temp:TImageFont = GetImageFont but it was returning an error (turns out it need brackets, oh well).<br><div class="quote"> Wouldn't you need to execute LoadImageFont first so that GetImageFont would have something to return?  <br></div> From reading the docs, it implied there was already a default font loaded.<br><div class="quote"> i just put it there so you knew about it. <br></div> OK, thanks, different options is useful.<br>Ok thanks diablo, your first code snippet works.  Also the int error went away I, can't really explain why...  Your second code snippet works if I put "c:\Windows\Fonts" as the path, obviously this isn't so good as it may not be the same on all systems and I should include the font with the data, then it'll work on Macs.<br><br>I've got to write more mini test routines to check out how this language works properly.<br><br>Thanks everyone for the help. <br><br></td></tr></table><br>
<a name="646412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> sometimes you can leave the brackets off functions and other times not, I don't get when you can and can't. <br></div>You could just always have them you know. Anyway to answer your question, you can leave out the final parenthesis when you don't care about return values.<br><br><div class="quote"> just cos I wanted a valid structure in place to assign the return value of GetImageFont to. <br></div>GetImageFont returns a NEW TImageFont object anyway. <br><br></td></tr></table><br>
<a name="646532"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Anyway to answer your question, you can leave out the final parenthesis when you don't care about return values.<br> <br></div> Thanks, that explains my problems too. I'll just always use them.<br><div class="quote"> GetImageFont returns a NEW TImageFont object anyway. <br></div>yeah, I figured out I didn't need to create one to read the contents of the function into. I only went down that dumb road because I left the brackets off the function name, doh. <br><br></td></tr></table><br>
<a name="646934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> One heads up: be aware that the results of the height and width commands do NOT take the current scale into consideration.<br><br>If you do any scaling, you have to multiply or divide your results by whatever scale you're working in to get an accurate result in pixels. <br><br></td></tr></table><br>
<a name="647332"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> again, worth knowing thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
