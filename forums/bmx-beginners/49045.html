<!DOCTYPE html><html lang="en" ><head ><title >Creating a list in a type (OOP)</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Creating a list in a type (OOP)</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Creating a list in a type (OOP)</a><br><br>
<a name="545591"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have several types which I would like to keep track of using lists.  Since I'm trying to be modular and OOP, I'm trying to segregate the creation and maintenance of the list within the type and file.  However, unless I declare the list as a Global variable in the main program loop/file, I'm getting errors.  I'm trying to do something like the following:<br><pre class=code>
Type creature
     Field x#,y#
     Field name:String = Null

  Function Create(a#,b#,temp_name:string)
     temp_creature:creature = new creature
     temp_creature.x = a
     temp_creature.y = b
     temp_creature.name = temp_name
     If CreatureList = Null Then Global CreatureList:TList =  new TList
     ListAddLast(CreatureList, temp_creature)
     return temp_creature
  End Function
End Type
</pre><br>I get an error with this because the first time through the IF statement is trying to access something that doesn't exist.  I've also tried it with "If (not CreatureList)" too, but it still doesn't work.  Do I declare the Global list in the type as a field (but wouldn't that create a new list with each new creature)?  Any help would be appreciated! <br><br></td></tr></table><br>
<a name="545598"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Type alien
  Field x,y
  Global alienList:TList

  Function Create()
    If alienList=Null Then alienList=CreateList()
    a:alien=New alien
    alienList.AddLast(a)
    a.x=Rand(0,640)
    a.y=Rand(0,480)
    Return a
  End Function
End Type
</pre><br>Basically, have the global within the Type and check whether it's null or not when creating a new type. <br><br></td></tr></table><br>
<a name="545652"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >The r0nin</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
