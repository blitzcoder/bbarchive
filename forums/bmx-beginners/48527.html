<!DOCTYPE html><html lang="en" ><head ><title >Light source</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Light source</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Light source</a><br><br>
<a name="539536"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grovesy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi all,<br><br>I have read a bit about being able to use light sources in BMax in your games, I was just wondering how many light sources you can have before the games performance is noticably affected. And would like this to be running at a reasonable resolution ie (1024 x 768+)<br><br>Any thoughts! <br><br></td></tr></table><br>
<a name="539574"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ive Managed to Have 4000  64*64 Png Sprites Drawing to the screen in a mixture of Alpha/Light/Shade Modes <br>And Each one is Moving on the Screen and 88000 commands to update every loop and still running at 58 fps<br><br>Athlon 2500xp<br><br>Winxp Pro<br><br>1028 DDR Pc2700<br><br>128 mb Radeon 9800 pro<br><br>Note For some Reason its Better for me to use Manual Tiling Than TileImage <br><br>LightBending And ShadeBlending Large images could Slow it down a fair Bit<br><br>Not Sure How long it Takes To Swap Between Alpha/Light/Shade      <br>But Adding SetTransform on top of this will slow things but if you carefull with programming Shouldnt Be a Problem <br><br></td></tr></table><br>
<a name="539581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grovesy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for that Duckstab.<br><br>I would be interested to see a screenie of what u achieved!!<br><br>Regards <br><br></td></tr></table><br>
<a name="539586"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://files.photojerk.com/duckstab/Weaver2005-06-2811-51-00-00.JPG"><br><img src="http://files.photojerk.com/duckstab/anglewaves.jpg"><br><br>Just Some Messing About Getting used to commands And Blending <br><br></td></tr></table><br>
<a name="539593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SillyPutty</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is amazing ! <br><br></td></tr></table><br>
<a name="539600"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I Just Did a quick Test First Drawing 4000 Masked images<br><br>54 fps<br><br>Then a Test Drawing <br>1333 Alpha<br>1333 Light<br>1333 Shade<br><br>Still 54 Fps<br><br>Next test was as above but added the Settransform Command to each image<br><br>48 Fps <br><br></td></tr></table><br>
<a name="539602"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Stuart Morgan</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> They look wicked Duckstab[o]! :-) <br><br></td></tr></table><br>
<a name="539618"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grovesy</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im quite new to all this, but will this still be the same if u were lighting up other objects/ backgrounds, so you can have lighting effects in your platform game for example! <br><br></td></tr></table><br>
<a name="539621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes When i did the Test With Alpha/Light/Shade they were layed so they overlap <br><br>The Buffer is additive So Some Form of blending Happens With<br>The Four Blend Modes Mask/Alpha/Light/Shade but if it is SolidBlend Then it will overrite all underlying pixels <br><br></td></tr></table><br>
<a name="539625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> They are lots of examples in the Bmax Sample Which use Different Types of Light and Shade Blending Have a peek at<br><br>LightImage<br>FilmClip<br>RadialBlur<br>Shadowimage <br><br></td></tr></table><br>
<a name="539659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Wasn't the original question about light SOURCES, as in, real lights, not light mapping? <br><br></td></tr></table><br>
<a name="539670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> yep but unless he is going into opengl there isnt any option in bmax<br><br>plus if a level is stored in tile format can figure your position and light blend or shade blend the tiles in question<br><br><br>in a 2d game there is not any point in having real lightsource<br>as it would need the 3rd coord to work and for people learning from scratch it will be hard to duplicate<br><br>maybe when the 3d module is released the will be a better  way to mock 3d lighting on the 2d perspective or if a fast method of drawimagerect is created then it would posible now<br><br>sorry for any confusion Grovesy@ <br><br></td></tr></table><br>
<a name="539752"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I agree you would have to use direct OpenGL. You could simply, though, add a lightsource in front of the plane on which the 2D graphics are drawn, and it could move around like a spotlight. <br><br></td></tr></table><br>
<a name="539756"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> do you have any examples you could post would like a look<br>at getting to grips with that Opengl concept <br><br></td></tr></table><br>
<a name="539779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> What about using buffer masking to create a sense of light?<br>Render everything at full bright, masking out the areas where lights don't exist. I don't see why you would need a third dimension for that. <br><br></td></tr></table><br>
<a name="539806"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Only Problem is the perspective light Bmax is a single Plane no 3d depth<br><br>You Could Give every image a fake depth and calc its 3d distance from a fake light and setcolor to lighten/darken faces<br><br>But to do that you might as well draw everything to depth layers changing the color each time or drawing a lightblend/shadeblend inbetween each layer <br><br></td></tr></table><br>
<a name="539881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >altitudems</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I understand your point. But its 2d. You don't have to worry about depth layers. Think of the Zelda 3 Dungeons with Link's lantern. <br><br></td></tr></table><br>
<a name="539882"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the 2D shapes that you see on-screen are still technically in full 3D. I think you have to set up surface normals in order to use the lights in OpenGL. For 2D it should be easy, since all surfaces are facing straight forward down the Z axis. I haven't experimented with lights yet so I don't know all the commands you need.<br><br>I think you have to switch context to the matrix mode of the light or something. Then position it, and translate it to orient, or use some kind of `look at` function etc.<br><br>One way I've seen some people do lights is they have a sideways scrolling tilemap game but made of polygons, and they'll have a little bit of `overhang` or depth of the surroundings which is modelled by adding some extra polygons to give depth - ie extrude the scenery through the z axis, then lights are placed in amongst the scene so that they are blocked by solid walls etc.<br><br>The thing about light is this: There is a very intimate relationship between light and shadow. They are not really two separate things. Shadow is just the places where the light is less strong, and ideally when there is no light there is total shadow. If you then add a light, it will illuminate some of the scene and the parts it doesn't illuminate you can call shadows - they remain dark, but really they don't change or have any special treatment. If you start off with dark, things can only get lighter.<br><br>The problem in BlitzMax or other languages is people generate their graphics in full color as if already lit, then they have to figure out not only how to make them lighter but also how to make them darker, to implement the shadow system. You can't have light without a sense of shadow. If the scene started off dark and just got lighter that would make things a lot easier. But that'd mean your textures ordinarily have to have a high-dynamic range, which is a pretty recent feature on high-end gfx cards. If all your images could be represented with all their color variations within the range of $000000 to $010101 in RGB values, then adding light would be as simple as multiplying those values by the light amount. You'd automatically have shadows with no extra work. You could at least do that on most systems with a two-color image but not with lots of colors without making it floating-point data.<br><br>So most of our focus on `lighting` things is just as much on `darkening` things as well. It's pretty difficult to model the idea that without any light at all, there would be total darkness - total shadow. That's because light that we see in the world is reflected from bouncing off of objects. When we draw a texture or image we kind of build-in to it the quality that it has its own light, it is self-illuminating. All of our textures/images act as if they are already lit all the time. To model a system where you can only see something if it reflects some light which was transmitted from somewhere else, that's pretty complicated. I'm not quite sure how OpenGL would handle that, if it even has the ability to draw `dark` or `nighttime` scenes which can be then made a lot brighter. I guess that's what they need high-dynamic-range (lots of floating point accuracy) for.<br><br>For the rest of us..... wellll.... gotta get clever about it ;-)<br><br>I'm not too sure what OpenGL's `ambient` light adjustment does, whether that allows things to be naturally darkened. If things were being raytraced it'd be a different matter since things are only visible then if they reflect some light. The question is, how to make reflective images/textures in BlitzMax which have an inherant color quality (ie what frequencies they reflect) but no inherant level of illumination of their own.<br><br>I guess you could just have a normal pre-lit texture and then use something like ShadeBlend which multiplies by values from 0 to 1, to darken it. But again, as soon as you get into darkening, you get into having to code shadow routines. What you really need is a light source whose influence can be drawn on an existing scene, which can interact with the source texture of each surface to do a calculation on it and make it the appropriate brightness. But it has to happen at the time the light strikes. Maybe a shader or something?<br><br>Maybe we need a different way of representing images, not as pre-drawn pre-lit, but as `potential color` and reflectivity? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
