<!DOCTYPE html><html lang="en" ><head ><title >graphic buffers from BP+</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >graphic buffers from BP+</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >graphic buffers from BP+</a><br><br>
<a name="989925"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CloseToPerfect</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have finally upgraded from BP+ to MAX and now find myself relearning alot of concepts.  I have tried to search the forums as I am sure my question is on here somewhere from someone but there is just to much to look though.<br><br>Anyway,  In my BP+ programs I would create a buffer then set that buffer as my current buffer and do my cutting and modifing of the image on it.  I think what I want in MAX is pixmaps but I am not sure how to use them.<br><br>If some one can help me here are the specific steps if you can help me though it.<br><br>start,load an image from a png file.<br><br>create a new image buffer.<br><br>draw the image to the new buffer.<br><br>cut from the new buffer.<br><br>paste back to the new buffer.<br><br>grab the image from the buffer for regular use in the normal graphics mode.<br><br><br>I don't know if you can load directly to a pixmap or if you have to loadimage first then draw to a pixmap.<br><br>That's it for now,  <br>John <br><br></td></tr></table><br>
<a name="989932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> blitzMax has a lot of things that work better out of the box thank BPlus but pixmap do not. If you really learn how to use them they are a lot faster than the fastest raw writing to the The Bplus buffer. but you are either going to have to create your own functions or use some that are in the Code Archives. <br>I don't recommend for you to load the pixmap from the png instead load an image:<br><pre class=code>
image:TImage = loadImage("image.png")
</pre><br>you can read or write to the image through its pixmap. to extract its pixmap you can do thi:<br><pre class=code>
pixmap:tpixmap = lockImage(image)
</pre><br>you can read or write to the pixmap like this:<br><pre class=code>
pixelcolors:int = ReadPixel(pixmap,x,y)
</pre><br>(look in the help menu for pixel formats)<br>to write to a pixmap:<br><pre class=code>
writePixel(pixmap,x,y,pixelcolors)
</pre><br>when you are done writting to the pixmap don't forget to unlock the image:<br><pre class=code>
unlockImage(image)
</pre><br>when you draw the image it will contain the modifications:<br><pre class=code>
drawImage(image,x,y)
</pre><br>note: this is not the fastest way to access the data in an image but there are more advanced ways. look in the right hand side of the Max IDE and in the home tab:<br>moduleSource-&gt;brl.mod-&gt;pixmap.mod-&gt;pixmap.bmx<br>for the source code of the pixmap module. if you understand the code, you will be able to figure out how to work with them more efficiently.<br><br><br>you can also create an empty image with createImage and copy pixels from one image to another using the principle above. <br><br></td></tr></table><br>
<a name="989940"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CloseToPerfect</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> ok this seems simple enough.  If I understand there is no function to grab a smaller pixmap from a larger pixmap and redraw that back to the pixmap.  I simply have to make a function then to read a section and write it back using pixel function.<br><br>I guess a good way do do this would be to use PixmapWindow and ReadPixel from it and WritePixel back to the original pixmap?<br><br>Thanks,<br>John <br><br></td></tr></table><br>
<a name="989946"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeke</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes.<br>but you dont need to read/write pixels. just use copy/paste:<br><pre class=code>
Local pix:TPixmap = LoadPixmap("test.png") 'load source pixmap

Local newpix:TPixmap=pix.Window(50,50,100,100).Copy() 'create 'virtual window' AND copy pixels to new pixmap

'do stuff to newpix

pix.paste(newpix, 50, 50) 'paste newpix pixmap back to source pixmap
</pre> <br><br></td></tr></table><br>
<a name="989981"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> yes, I forgot about window and paste but they are in the pixmap module. <br><br></td></tr></table><br>
<a name="990018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CloseToPerfect</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> ah, i didn't see the paste command. Still getting the hang of the function index in the IDE.  Thanks for the help.  This seems to be working for me now. <br><br></td></tr></table><br>
<a name="990123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> You'll probably want to research "render to texture" sounds like that's what you might want to do. And that is not supported out of the box unfortunately. I think there is a routine floating around to do it though. <br><br></td></tr></table><br>
<a name="990224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=83140" target="_blank"><u>Images &amp; Pixmaps - simple explanation please</u></a> explains them quite well.<br>It confused the hell out of me until I understood that it was <i>sort of</i> a workaround to be able to use <a href="http://en.wikipedia.org/wiki/Gpu" target="_blank">GPU</a>s to speed up BlitzMax (that's why, right?!). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
