<!DOCTYPE html><html lang="en" ><head ><title >2DMax v.s. Blitz3D?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2DMax v.s. Blitz3D?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >2DMax v.s. Blitz3D?</a><br><br>
<a name="797832"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://mywebpage.netscape.com/Mindstorms1/particles_small.zip" target="_blank">http://mywebpage.netscape.com/Mindstorms1/particles_small.zip</a><br><br>The above program written in Blitz3D, is pushing around 9000 particles at frame rates of around 20fps on my system.<br><br>My little demo coded here:<br><a href="http://jgoware.com/mge/5000stars.zip" target="_blank">http://jgoware.com/mge/5000stars.zip</a><br><br>is pushing only 5000 particles at the same frame rate on my machine. <br><br>So..which is right?<br><br>a) The Blitz3D program is lying about how many particles are actually being rendered.<br><br>b) For doing 2D apps, 2DMax is ALOT slower than Blitz3d.<br><br>Any thoughts would be appreciated. <br><br></td></tr></table><br>
<a name="797843"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >klepto2</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried the different Graphicsdriver? (OGL/DX7 or the DX9 driver)<br><br>It would be good to display the particlecount in the 500stars app. and maybe the code or at least a dialog where the user could change the driver.<br><br>Results: Both fullscreen<br>B3D: 23 fps<br>BMax : constant 60 fps <br><br></td></tr></table><br>
<a name="797851"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BladeRunner</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same as Klepto here....<br>Bmax without sync about 75 FPS <br><br></td></tr></table><br>
<a name="797867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>So..which is right?<br><br>a) The Blitz3D program is lying about how many particles are actually being rendered.<br><br>b) For doing 2D apps, 2DMax is ALOT slower than Blitz3d.<br><br><br> <br></div><br>or <br>c) None of the above... possibly.<br>I don't think you can make any conclusion from 2 .exes.<br>How are you doing your particles?<br>Single-surface? Object pooling? Arrays? Lists? <br><br></td></tr></table><br>
<a name="797873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Have you tried the different Graphicsdriver? (OGL/DX7 or the DX9 driver)"<br><br>The 5000 stars one I coded is using the DX7 driver. Single surface, arrays and lists. Strange that the B3D demo is running around 23fps on those machines, where my BMax app is running at least twice as fast, meaning perhaps I could have bumped out another 5000 sprites on those machines to come close to equaling the performance of that B3D demo. hmm...<br><br>"It would be good to display the particlecount in the 500stars app."<br><br>My demo (5000 stars) always has a constant 5000 sprites on screen. When one goes out of bounds it restarts in the middle again, so no need to display the count.<br><br>Sp perhaps it's just on my machine the B3D app is getting much better performance, probably due to poor drivers. I dev on a low end on board intel box. ;) <br><br></td></tr></table><br>
<a name="797911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> No on B3D you could do single surface stuff.<br><br>The problem that is slowing Max2D down is the fact that every single quad does its own glbegin / glend and send a single quad.<br><br>Thats plain suicide for something that could and better would be done single surface ie all quads within a single glbegin / glend.<br><br>Alternative to that, you can use VBOs and a vertex shader to do it, but that needs more knowledge and quite an extension of the current max2d compared to single surface which actually would only need a few additions (addToBatch, removeFromBatch, renderBatch most likely) <br><br></td></tr></table><br>
<a name="797941"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Granted. However, it's still seems confusing that on my particular box B3D is out performing BMax by a long shot, but in the thread here, 2 have reported B3D actually seeming to run slower. I'm assuming when klepto said 23fps for B3D and 60 for BMax, he had around 9000 particles being displayed for the B3D version? It's all good though, I'm getting good enough render speed via Bmax. ;) <br><br></td></tr></table><br>
<a name="797970"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> B3D: 104<br>BMax: 224 <br><br></td></tr></table><br>
<a name="797993"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Big&amp;</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my work machine:<br><br>B3D: 57<br>Max: 71<br><br>(I get a huge difference between DirectX and OpenGL drivers on different machines with my own stuff. It all depends on what the card is capable of doing.) <br><br></td></tr></table><br>
<a name="798001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> The best speed so far I got with the inofficial DX9 drivers. If you are on ATI, they will most likely be best as well of if you just do not have a card capable of enough bandwidth pushing. <br><br></td></tr></table><br>
<a name="798019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Paul "Taiphoz"</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> in the max version your also scaling , rotating each or some of the stars as well. thats eating up cpu cycles. where in the b3d one your not.<br><br>To make a valid comparison you need both examples to be identically. <br><br></td></tr></table><br>
<a name="798171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> B3D: 71 FPS<br>Max: 131 FPS<br><br>Core 2 Duo E6600, ATI X1650XT <br><br></td></tr></table><br>
<a name="798178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> wow.. according to the data posted, it's actually fairly even since the B3D one is pumping out around 9500 particles and the Bmax version is pumping  out 5000. <br><br></td></tr></table><br>
<a name="798212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which is what I would expect. This is gfx intensive, so it's comes down to the speed of the graphics card/API. Do something with a lot more number crunching and you will see Max pull ahead. <br><br></td></tr></table><br>
<a name="798474"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  wow.. according to the data posted, it's actually fairly even since the B3D one is pumping out around 9500 particles and the Bmax version is pumping out 5000.  <br></div><br>... or one is well programmed and the other not?<br>I'm not trying to be disparaging but you're still comparing framerates on 2 .exes and using the results to make assumptions on the programming language. <br>How about posting your source with 'Can I improve on this?' <br><br></td></tr></table><br>
<a name="798877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dooz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> When do you think you'll have something for others to play with? <br><br></td></tr></table><br>
<a name="798951"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> @tonyg - Very true! Based on the replies, the rendering speed difference is not as extreme as I originally thought. My little engine is VERY generic, un optimized, etc, I'm sure that has ALOT to do with it as well.<br><br>@dooz - I'm a little over 3 weeks into coding MGE, I would say if I keep up at this pace, there could be a demo up within a week or 2. ;) <br><br></td></tr></table><br>
<a name="798959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are quite a few discussions on Particles and how best to do them. <br>It's possible to do a nice, simple one which works well<br>BUT the Garbage Collector is a factor. This wasn't so much an issue with B3D.<br>In addition, arrays are quicker than lists AND the way Bmax draws isn't fantastic for lots of texture swapping which is where the TAnim code will make a difference. <br>It could be argued that you shouldn't have to fanny around with all this.<br>However, as was necessary with B3D, there is always some way to optimise if the base commands needed to be improved. <br>Where Bmax wins, for me, is how much you can deviate from the normal command set. <br><br></td></tr></table><br>
<a name="798994"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> "It could be argued that you shouldn't have to fanny around with all this."<br><br>Agreed. At this point in my software "careeer" I'm done writing low level optimized code. I did enough 6502, 68000 assembly back in the day. ;) Thanks to BMax (and modern gpu/cpu) I (anyone!) can create a generic high level "multi use" engine that will serve probably all of my 2d needs for now and into the future. As long as my little engine can shift a few hundred sprites around at 30 or 60fps on most machines, I'm happy. ;)<br><br>"...is where the TAnim code will make a difference...."<br><br>One of the first things I did was implement a generic single surface type blit similar to the TAnim handling. On my dev box, my average fps increase was around 8fps. The speed wasn't the issue, it was the fact that I could put as many sprites on 1 texture, which was how I was used to doing it in VB6 with DX8. ;) <br><br></td></tr></table><br>
<a name="799078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> One of the first things I did was implement a generic single surface type blit similar to the TAnim handling. On my dev box, my average fps increase was around 8fps. The speed wasn't the issue, it was the fact that I could put as many sprites on 1 texture, which was how I was used to doing it in VB6 with DX8. ;) <br></div><br> why wouldn't you just use LoadAnimImage for that then?  (no speed up of course though)<br><br>something else... everybody is talking about single surface in respect to just the texture.  When we were all doing single surface in B3D we were really talking about a single mesh with detached tris.  I know that's where I got my biggest speed gains. <br><br></td></tr></table><br>
<a name="799125"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> re: Single Surface, for me simply means if I want 64 images of a sprite, I can place all of those on one texture instead of having 64 surfaces. Normal 2DMax handling would make 64 seprate images instead of drawing from the "single surface". That by itself is a pretty big optimization under DirectX, not so much under OpenGL I'm finding out. <br><br></td></tr></table><br>
<a name="799128"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmaz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> right I know that, but you mentioned it wasn't the speed that was the issue which implied it was the ease of use.  I just wasn't sure you were aware that you can put all your textures in one gfx and load them with LoadAnimImage.<br><br>wow, you'll really kicking butt on that engine of yours, not to mention the updates to the site...  where do you find the time? <br><br></td></tr></table><br>
<a name="799146"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> "I just wasn't sure you were aware that you can put all your textures in one gfx and load them with LoadAnimImage."<br><br>Yes, I was, and I was all pumped to use it until I read it internally makes individual surfaces from them. Kind of defeats the purpose? If you load a 512x512 texture using LoadAnimImage where each size is 32x32 BMax will create 256 surfaces internally! The excellent TAnim from (awesome) IndiePath solved this problem, but I ended up using something more generic for my needs.<br><br>"wow, you'll really kicking butt on that engine of yours, not to mention the updates to the site... where do you find the time?"<br><br>Thanks dmaz! Bmax has brought me back form the deasd as far as coding goes. Time? I'm self employed (re:broke) so I have all the time in the world! ;) lol... I have 2 projects I plan to work on during the development of MGE, from there we'll see where it leads. <br><br></td></tr></table><br>
<a name="799480"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> vortex_small.exe gets 12-14 fps at 9000 stars, 5000stars.exe gets 20-26 fps when left running for about 30-40 seconds <br><br></td></tr></table><br>
<a name="799545"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> MGE: even with TAnim it still defeats the point.<br>The only thing you defeat with that stuff is the texture switch as it does not rebind.<br><br>BM itself does no batch rendering. each draw command is a single quad sent to the GPU.<br>Unless you modify it on that end, you have no chance of really breaking something with image rebinds ... especially in pure 2d where the max size of images for 95% of the images is 128x128 or at worst 256x256<br><br>even an intel won't break with bandwidth problems due to that. <br><br></td></tr></table><br>
<a name="799550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Dremora. Texture state changes can make an impact, especially on older gpu's. On my older Intel, the frame rate increased enough that the optimization was worth it. But again, the main reason to use it was ease of use not the speed gain, which is fairly small I admit. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
