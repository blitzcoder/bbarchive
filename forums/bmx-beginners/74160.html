<!DOCTYPE html><html lang="en" ><head ><title >What happened to 'Data'?... =S</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >What happened to 'Data'?... =S</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >What happened to 'Data'?... =S</a><br><br>
<a name="828389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi guys, I'm new to the BlitzMax scene. I was using an old copy of BlitzBasic from a magazine, and recently bought BlitzMax =D. <br><br>I am busy making an asteroids style game and I really need a substitute for the 'data' command ( i think thats what it was called? ).<br><br>It's so I can make pre-written levels. How I would have done it in BB is create a data file like so:<br><br>.level1<br>Data 2<br>Data 1, 50, 50<br>Data 4, 45, 35<br><br>where '.level1' is the level, data 2 is how many objects there are in the list, 1 is the type of asteroid, 50 is the starting x position on the screen, etc..<br><br>Then in a function called say newlevel() i would have restored and read the values and ran a for loop for the amount of objects...<br><br>I hope you're still with me.. =P My question is how can I emulate this in Blitzmax? The only way I can think of is to read the values from a text file, but I'm unsure of how to do that? Or there may be a function in BMax that I'm not aware of?<br><br>Your help is much appreciated!<br><br>Cheers,<br>Sam <br><br></td></tr></table><br>
<a name="828392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> DefData and the like you mean? :) <br><br></td></tr></table><br>
<a name="828393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Look at 'Defdata' <br><br></td></tr></table><br>
<a name="828407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="/posts.php?topic=41179" target="_blank"><b><u>http://www.blitzbasic.com/Community/posts.php?topic=41179</u></b></a> <br><br></td></tr></table><br>
<a name="828412"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you very much! Just what I needed.  EDIT: fixed my problem, check out the code below and tell me if its the right way to do it? <br><br></td></tr></table><br>
<a name="828417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, so after some fiddling I got this to work (it draws '2' little squares at the specified 'x' and 'y' coords ) ---<br><br><br>Graphics 800, 600, 0;<br><br><br>Type block<br><br>	Field x, y;<br>	Global list:TList;<br>	<br>	<br>	Function createblock( x, y )<br>	<br>		If Not list  list = CreateList();<br>		b:block = New block<br>		list.addlast( b );<br>		<br>		b.x = x;<br>		b.y = y;<br>	<br>	End Function<br><br><br>End Type<br><br><br>RestoreData level1	<br>ReadData num;<br><br>	For x = 1 To num<br>		<br>		ReadData xpos;<br>		ReadData ypos;<br>		<br>		block.createblock( xpos, ypos );<br>	<br>	Next<br><br><br>				<br>While Not KeyHit(key_escape)<br><br>	Cls<br>		<br>		If block.list<br><br>			For b:block = EachIn block.list<br>				DrawRect( b.x,b.y,10,10 );<br>			Next<br>		<br>		End If<br>	<br>	Flip<br><br>Wend<br><br><br><br>#level1<br><br>DefData 2<br>DefData 50, 50<br>DefData 300, 400 <br><br></td></tr></table><br>
<a name="828422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, now I'm trying to implement this into my code and I've hit a snag...<br><br>Is there a way I can restore data by what level  you're on? for e.g<br><br>-------------------<br><br>level = 2<br><br>RestoreData lvl + level<br><br><br>#lvl1<br>DefData blah<br>DefData blah<br><br>#lvl2<br>DefData blah<br>DefData blah<br><br>-------------------<br><br>...or something to that effect? <br><br></td></tr></table><br>
<a name="828424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> No, restore are hardcoded links.<br><br>What you have to do is write different functions or a function which you give a string that is then selected and the appropritate restore is called.<br><br>In any way: I would not store it within the app unless its really about no data ... in any other case external files are much better and far simpler to handle dynamically. <br><br></td></tr></table><br>
<a name="828427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >big10p</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cant you bung all the data into an array, instead? <br><br></td></tr></table><br>
<a name="828428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've never been good with arrays big10p... <br><br>Thanks Dreamora. How the heck do I do it externally?<br><br>This is the last piece of the puzzle I need to figure out to get my game completed! <br><br></td></tr></table><br>
<a name="828506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> why don't you use rand to generate the locations? it will prevent it from becoming the same old game all of the time, you will only need to use it at the beggining of each level, and it will save you from writting a lot of unnecessary code/data. Defdata can be usefull I just don't think it is that effective in a case like this. Just my 2 cents. <br><br></td></tr></table><br>
<a name="828634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Make a text file perhaps with this format...<br><br><pre class=code>
4
1 50 20 3 60 70 2 90 80 2 10 30
2
1 10 50 4 60 80
</pre><br><br>The first number tells you the number of asteriods on the level. Then in the list you have the type of asteriod, and its x y. It's not very readable but it doesn't have to be.<br><br>In your game open create a level counter and asteriod counter variable. Now open the file.<br><br>The first number you encounter is the number of asteriods for the first level. So set the level counter to 1 (or 0?) and the asteriod counter to that number. The very next number you read store as the asteriod type, the next number its x and the next number its y. Then reduce the asteriod counter by 1. Loop through this until the the asteriod counter reaches 0. You've now saved the data for the first level.<br><br>Increment the level counter by 1 and set the asteriod counter to the new value. Keep going through the file until you read the end of file EOF. <br><br></td></tr></table><br>
<a name="828649"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >spraycanmansam</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Jesse<br>Thats how I had it, but sometimes it would spawn a small rock in level one and sometime a huge rock... and sometimes they'd spawn right on top of you/next to you, i didnt like that! I can see what you mean tho.<br><br>Thanks Czar. I'm going to have a good look at what you suggested. At the moment I've set it up to read the values from a separate file called level_data.bmx and use a function in my game called read_level() to store the positions at the start of the level. It works well and I'm not too fussed for this game, I just want to finally finish one! I will need to figure out how to use external files for my next games tho... Thanks All! <br><br></td></tr></table><br>
<a name="828686"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >sswift</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> He sacrificed himself to save Picard in Nemesis. <br><br></td></tr></table><br>
<a name="828880"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Alternatively you could use a special charector at the end of each list of asteriods (or just use the newline) so that you could add or remove asteriods without needing to update the count number. <br><br></td></tr></table><br>
<a name="828881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> this is what I did on mine to prevent asteroids from spawning just anywhere:<br><pre class=code>
'width = worldwidth
'height = worldheight
Global LeftMax# = width/4
Global RightMin# = LeftMax*3
Global TopMax# = height/4
Global BottomMin# = TopMax*3

Function getx#()
	Local px#
	Repeat 
		px=Rand(0,width)
	Until px &lt; LeftMax Or px &gt; RightMin
	Return px
End Function

Function gety#()
	Local py#
	Repeat
		py = Rand(0,Height)
	Until py&lt;TopMax Or py &gt;BottomMin
	Return py
EndFunction
</pre><br>I am shure different size rocks can also be managed in a similar way. <br><br></td></tr></table><br>
<a name="830499"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Snixx</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> sswift: dont go there... it DIDNT happen <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
