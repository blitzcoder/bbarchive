<!DOCTYPE html><html lang="en" ><head ><title >Improving Types in this Code</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Improving Types in this Code</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Improving Types in this Code</a><br><br>
<a name="540243"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>



Type Bronze
	Field Name$="Bronze"
	Field Atk#=50
	Field Str#=25
	Field Skl#=2
End Type

Type Silver
	Field Name$="Silver"
	Field Atk#=100
	Field Str#=66
	Field Skl#=5
End Type

Type Gold
	Field Name$="Gold"
	Field Atk#=255
	Field Str#=32
	Field Skl#=9
End Type

Type Sword
	Field Name$="Sword"
	Field Speed=5
	Field Modif=20
End Type

Type Dagger
	Field Name$="Dagger"
	Field Speed=2
	Field Modif=12
End Type

Type Hammer
	Field Name$="Hammer"
	Field Speed=1
	Field Modif=24
End Type

Type Fire
	Field Name$="Fire"
	Field Dama$="X2 to Ice"
End Type

Type Ice
	Field Name$="Ice"
	Field Dama$="X2 to Fire"
End Type

Type Water
	Field Name$="Air"
	Field Dama$="X2 to Earth"
End Type

Type Earth
	Field Name$="Earth"
	Field Dama$="X2 to Air"
End Type

Type Weapon1

	Field WClass:Bronze=New Bronze
	Field WType:Sword=New Sword
	Field WElem:Fire=New Fire
	
	Method Print_Weapon()
	Print Wclass.Name$+" "+WType.name$+" of "+WElem.Name$
	End Method
	
End Type

Type Weapon2

	Field WClass:Silver=New Silver
	Field WType:Dagger=New Dagger
	Field WElem:ice=New ice
	
	Method Print_Weapon()
	Print Wclass.Name$+" "+WType.name$+" of "+WElem.Name$
	End Method
	
End Type


A:Weapon1=New Weapon1
a.Print_Weapon()
B:Weapon2=New Weapon2
B.print_Weapon()

</pre><br><br>Are there anyways the you could Change The WClass to include different types withouts Having To have to code as in weapon1 and weapon2<br><br>for instance having the Wclass Field but adding a type later <br><br></td></tr></table><br>
<a name="540246"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >boomboommax</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats just not... cricket <br><br></td></tr></table><br>
<a name="540247"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I want my types to be more dynamic instead of linear<br>inheritance is nice would be better if you had a stacked option where same field are added together without having to create a method every time<br><br>@Thanks Cyanide :) <br><br></td></tr></table><br>
<a name="540249"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bot Builder</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Type WClass
	Field Name$
	Field Atk#, Str#, Skl#
End Type

Type WType
	Field Name$
	Field Speed
	Field Modif
End Type

Type WElement
	Field Name$
	Field DamageX2:WElement
End Type

'make an instance for each of your original types using these with global variables.</pre>I would probably do:<pre class=code>Type Weapon
	Field ClassName$, TypeName$, ElementName$
	Field Atk#, Str#, Skl#
	Field Speed, Modif
	Field DamageX2$
End Type</pre><br><br>Although, either method could work,  and either method could be good, however for different situations. <br><br></td></tr></table><br>
<a name="540252"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry but you just have not understood the concept of class and object.<br><br>You create a new class for which nothing but a new object is needed ...<br><br>gold etc is only a name and does not need its own class. just its own value in the type "material" or similar ... <br><br></td></tr></table><br>
<a name="540257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> perhaps create one (big) type for all weapons.. you should have all available fields for every weapon in there...<br>fields which aren't available to that weapon, will only point to null (or whatever you fancy)<br>it can also link to a damage type (element type?), or you can calculate this during runtime.. (which I think you'll have to do anyways)<br>ie. pseudo code:<br>function calc_damage(perhaps an optional type as parameter)<br><br>select element type<br>fire ; dmg = weapon_max + armor_type + extra_fire_dmg + some_random_value <br>earth; dmg = weapon_max + armor_type + extra_earth_dmg + some_random_value<br>... etc<br>endselect<br>... more stuff goes here.. :p<br>endfunction<br><br><br>something along those lines?!?<br><br>ps: I really don't know if any of this made any sense to you, because my mind started to drift abit there.. :p <br><br></td></tr></table><br>
<a name="540262"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
Type Weapon
   field Name:string
   field atk!,str!,skl!

   method fireWeapon()
        'A universal function to fire any weapon.
   end method

end Type

Type Bronze Extends Weapon

    method New()
       Name = "Bronze"
       str=20
       skl=30
       atk=20
    end method

   method FireWeapon()
        'but for special weapons you can circumvent the base fire weapon method
   end method

end Type

type sword extends weapon
 
   method new()
     name="blah."
     skl = 20 'etc
   end method
 
   method fireWeapon()
       super.fireWeapon()
       'or simply extend it by calling it using the super keyword.
   end method

end type

</pre><br><br><br>now you can share different weapons, as they are from the same base.<br><br>Temp:Weapon = New Bronze 'will compile fine.<br><br>You can then convert weapons to and from base/child classes to obtain their specific functions.<br><br>Temp:Weapon = new bronze<br>Brn:Bronze = Bronze( Temp )<br><br>'bronze is not a function above, but a cast. <br><br></td></tr></table><br>
<a name="540265"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The Types I posted are for a mock up of what i need<br><br>They Will All hold anything From 5 to 10 Fields of A collection of 40 <br><br>The original idea was to create one object that linked to 3 objects From a selection of 100+ <br><br>I was trying to create a method where you wouldnt have to<br>CaseSelect  and object could be added without any problems ie the concept of OO<br><br>The Weapon Types were going to be predifined collections of its lesser type and made private so nobody could access these <br><br>I know it looks like the types are to similar but im trying to get the basics working before I put in the Time<br><br>Think Diablo 2 Weapons <br>I want to be able to add/remove sockets add/remove abilities<br><br>I konw you can have lists that are contained within Types Which are themselves contained by list<br><br>these are the principals im using<br><br>which i would have said was very OO<br><br>thanks for you help peeps <br><br></td></tr></table><br>
<a name="540269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Btw Should Take into account that my programming Knowledge Is under 2 years<br><br>I have learnt everything I know by my self never had one lesson in programming unless you count Turtle* :)<br><br>Science/Maths  is me thing so I think in a logical way which isnt always the best <br><br></td></tr></table><br>
<a name="540277"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something like this maybe?<br><br><pre class=code>
Strict

Type WClass
	Field Name$
	Field Atk#, Str#, Skl#

	Function Create(_Name$,_Atk#,_Str#,_Skl#)
	 Local newclass:WClass = New WClass
	 newclass.Name$ = _Name$
	 newclass.Atk = _Atk
	 newclass.Str = _Str
	 newclass.Skl = _Skl
	 ListAddLast(WClassList,newclass)
	End Function

	Function Find:WClass(_Name$)
		For Local c:WClass = EachIn WClassList
			If c.Name$ = _Name$ Then Return c
		Next
		Return Null
	End Function

End Type

Type WType
	Field Name$
	Field Speed#, Modif#

	Function Create(_Name$,_Speed#,_Modif#)
	 Local newtype:WType = New WType
	 newtype.Name$ = _Name$
	 newtype.Speed = _Speed
	 newtype.Modif = _Modif
	 ListAddLast(WTypeList,newtype)
	End Function

	Function Find:WType(_Name$)
		For Local t:WType = EachIn WTypeList
			If t.Name$ = _Name$ Then Return t
		Next
		Return Null
	End Function

End Type

Type WElement
	Field Name$
	Field DamageX2$

	Function Create(_Name$,_DamageX2$)
	 Local newelement:WElement = New WElement
	 newelement.Name$ = _Name$
	 newelement.DamageX2 = _DamageX2
	 ListAddLast(WElementList,newelement)
	End Function

	Function Find:WElement(_Name$)
		For Local e:WElement = EachIn WElementList
			If e.Name$ = _Name$ Then Return e
		Next
		Return Null
	End Function

End Type


Type Weapon

 Field WeaponName$
 Field WeaponClass$
 Field WeaponType$
 Field WeaponElement$

 Function Create:Weapon(_Name$,_WClass$,_WType$,_WElement$)
  Local newweapon:Weapon = New Weapon
  newweapon.WeaponName$ = _Name$
  newweapon.WeaponClass$ = _WClass$
  newweapon.WeaponType$ = _WType$
  newweapon.WeaponElement$ = _WElement$
  Return newweapon
 End Function

 Method Print_Weapon()
  Print "Name:"+WeaponName
  Print "Weapon type:" + WeaponClass + " " + WeaponType 
  Print "Atk:" + WClass.Find(WeaponClass).Atk
  Print "Str:" + WClass.Find(WeaponClass).Str
  Print "Skl:" + WClass.Find(WeaponClass).Skl
  Print "Speed:" + WType.Find(WeaponType).Speed
  Print "Modif:" + WType.Find(WeaponType).Modif
  Print "Element:" + WeaponElement
 End Method

End Type

Global WClassList:TList = CreateList()
Global WTypeList:TList = CreateList()
Global WElementList:TList = CreateList()

'Create a list of weapon classes
WClass.Create("Wood",1,1,1)
WClass.Create("Bronz",50,25,2)
WClass.Create("Silver",100,66,5)
WClass.Create("Gold",255,32,9)

'Create a list of weapon types
WType.Create("Sword",5,20)
WType.Create("Dagger",2,12)
WType.Create("Hammer",1,24)

'Create a list of elements
WElement.Create("Fire","Water")
WElement.Create("Water","Fire")
WElement.Create("Wind","Earth")
WElement.Create("Earth","Wind")

'Create some weapons
Local Weapon1:Weapon = Weapon.Create("Blade of wrath","Wood","Sword","Fire")
Local Weapon2:Weapon = Weapon.Create("Hammer of might","Gold","Hammer","Earth")
Local Weapon3:Weapon = Weapon.Create("Watergod's dagger??","Silver","Dagger","Water")

Weapon1.Print_Weapon()
Print ""
Weapon2.Print_Weapon()
Print ""
Weapon3.Print_Weapon()


</pre> <br><br></td></tr></table><br>
<a name="540279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Duckstab[o]</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> thanks peeps <br><br>@sweenie that looks just like to sor t of thing me need :) <br><br></td></tr></table><br>
<a name="540282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> here is the OO way for solving your problem:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict
Type METAL
	Field _name:String
	Field _attack:Float
	Field _strength:Float
	Field _skill:Float
	
	Function create:METAL (name:String,atk:Float,str:Float,skl:Float)
		Local t:METAL		= New METAL
		t._name			= name
		t._attack		= atk
		t._strength		= str
		t._skill			= skl
		Return t
	End Function
End Type

Field WEAPON
	Field _name:String
	Field _speed:Int
	Field _modifier:Int
	Field _type:String
	
	Field _class:METAL
	Field _element:ELEMENT
	
	Function create:WEAPON (name:String,speed:Int,modifier:Int)
		Local t:WEAPON	= New WEAPON
		t._name			= name
		t._speed			= speed
		t._modifier		= modifier
		Return t
	End Function
	
	Method set_propertiers (class:METAL,element:ELEMENT)
		_class			= class
		_element			= element
	End Method
	
	Method print_weapon()
		Print _class.name + " " + _type + " of " + _element.name
	End Method
End Type

Type SWORD Extends WEAPON
	Method New ()
		_type		= "sword"
	End Method
End Type

Type DAGGER Extends WEAPON
	Method New ()
		_type		= "dagger"
	End Method
End Type

Type HAMMER Extends WEAPON
	Method New ()
		_type		= "hammer"
	End Method
End Type

Type ELEMENT
	Field _name:String
	Field _damage:String
	
	Function create:ELEMENT (name:String,damage:String)
		Local t:ELEMENT	= New ELEMENT
		t._name			= name
		t._damage		= damage
		Return t
	End Function
End Type

Local bronze:METAL			= METAL.create ("bronze",50,25,2)
Local fire:ELEMENT			= ELEMENT.create ("fire","X2 to Ice")
Local bronze_firesword:WEAPON 	= SWORD.create ("bronze firesword",5,20)
bronze_firesword.set_properties (bronze,fire)

Local silver:METAL			= METAL.create ("silver",100,66,5)
Local ice:ELEMENT				= ELEMENT.create ("ice","X2 to Fire")
Local silver_icedagger:WEAPON 	= DAGGER.create ("silver icedagger",5,20)
silver_icedagger.set_properties (silver,ice)

bronze_firesword.Print_Weapon()
silver_icedagger.print_Weapon()

</textarea> <br><br></td></tr></table><br>
<a name="540283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sweenie</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Doing it my way you can keep all class,type and element definitions in an external file which you read in at gamestart instead of hardcoding everything into the executable.<br>Makes it more easy to modify. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
