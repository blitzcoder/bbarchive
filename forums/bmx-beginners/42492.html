<!DOCTYPE html><html lang="en" ><head ><title >Delay setting up GL screen</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Delay setting up GL screen</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Delay setting up GL screen</a><br><br>
<a name="475919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> ***EDIT***: Source of problem found!<br><br>I have refresh rate overides set (NOT VSync!) in my NVidia control panel, I've always had this option set because some games boot and use 60hz and there's no way to change. <br><br>Turning that off, max seems to boot instantly every time now (well, 20 successive compiles I just done worked instantly)<br><br>Tom<br><br><br>---old post----<br>Hi,<br><br>When I compile, debug or release, there's about an 80% chance that I get a random delay just after the gl window is created, it goes all white and pauses for about 3-4 seconds.<br><br>It's starting to get annoying, anyone else have this problem?<br><br>Tom <br><br></td></tr></table><br>
<a name="475961"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not here, maybe it's the driver? <br><br></td></tr></table><br>
<a name="476007"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmoc</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Moving an app from w98 to w2k I noticed delays, a significant drop in performance and glitches. Updated driver and removal of some bg tasks improved things a bit but still not as good as on w98. <br><br></td></tr></table><br>
<a name="476278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Moving an app from w98 to w2k I noticed delays, a significant drop in performance and glitches <br></div><br><br>Are you talking otherwise identical hardware (especially video adapter make/model) as well?<br><br>If not it's really comparing apples and oranges.<br>OpenGL appears to be more hardware dependend than DirectX was, unfortunately... Since the majority of games uses DirectX, OpenGL hardware support seems to be more of an afterthought to some manufacturers. :-/ <br><br></td></tr></table><br>
<a name="476279"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> also, as far as a delay setting up the screen is concerned: what kind of refresh rates are you specifying?<br><br>In general, things are very fast on my 2800+ / Radeon 9600Pro. If I specify a unreasonably high refreshrate in the Graphics command though, I do see an extensive delay before anything start appearing on the screen.<br><br>e.g. Hertz=500 gives me a 20 second delay before anything appears. when things finally appear the stepsizes of sprites it does appear that the internal logics of a game operate at that speed. (Sprites can move 5 times as far in the same interval as when specifying 100Hz) <br><br></td></tr></table><br>
<a name="476352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dmoc</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> exact same hw, upgraded os <br><br></td></tr></table><br>
<a name="476367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> exact same hw, upgraded os <br></div><br><br>Well... Win2000 does have higher system requirements than Win98. It needs more resources for itself, leaving less for your applications.<br><br>You didn't specify your system specs, Unless you have a relatively new system (likely not since you were running Win98) you very well could see a slowdown simply because of that. <br><br></td></tr></table><br>
<a name="476472"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's more likely there is a problem with the refresh rate analysis BlitzMax does.<br><br>Tom, check your bios to make sure your video card IRQ is enabled and check your OpenGL driver config to make sure there is no override on the vertical blank. I'll do some testing this week to see if I can emulate the problem here. <br><br></td></tr></table><br>
<a name="476476"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >fredborg</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have the same thing, almost every time I compile something that uses the Graphics command. The window opens immediately (no content just the titlebar and borders with the underlying windows stuff still visible inside), but then it hangs for 1-2 seconds before the window is filled.<br><br>Windows 2000, with a GeForce4-Ti4200 <br><br></td></tr></table><br>
<a name="477626"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> IRQ is enabled in Bios<br>VSync is set to 'Application Controlled'<br><br>A friend's using the same NVidia drivers, but a different card, he hasn't noticed max displaying this anomaly. <br><br></td></tr></table><br>
<a name="477629"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> John Devoys just run my code over &amp; over, he gets no delays like I do.<br><br>His card is an FX5900, running 66.93 on XP<br>Mine's an FX5600, running 66.93 on Win2k SP4 <br><br></td></tr></table><br>
<a name="477644"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tom, what's the exact code that you're running?<br><br><div class="quote"> xlsior wrote:<br>e.g. Hertz=500 gives me a 20 second delay before anything appears. <br></div><br>That sounds a bit like the test that Graphics does to make sure the screen actually is running at the correct refresh rate.<br><br>From mod/brl.mod/glmax2d.mod/glmax2d.bmx in function DetectSync() (a function called by Graphics)<br><pre class=code>
For k=1 To graphics_hertz	'whatever!
		Local t=MilliSecs()
		bglSwapBuffers
</pre><br><br>Basically, if you set hertz to 500, then this function is going to try and swap the buffers 500 times. If the monitor can handle 500Hz (few, if any, can) then this routine will take 1 second. If the monitor refuses to leave 60Hz mode, the routine will take about 8.3 seconds. Not 20 seconds though. <br><br></td></tr></table><br>
<a name="477673"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> The delays were'nt that bad, more like 4-5 seconds, but the delay was definately at the gl window creation. The window would pop up then go white and everything stalled. <br><br></td></tr></table><br>
<a name="477679"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >teamonkey</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Does the same thing happen if you call bglCreateContext instead of Graphics? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
