<!DOCTYPE html><html lang="en" ><head ><title >Changing color of already plotted pixel</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Changing color of already plotted pixel</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Changing color of already plotted pixel</a><br><br>
<a name="851764"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lotonah</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi there!  Kinda stumped on something...I've already gotten my graphics plotted on screen, now I'm just wondering how I would change the color of one or more of the pixels.<br><br>This was relatively easy back on the Atari, using the COLOR and SETCOLOR commands (allowing you to define and re-define what the palette was for an individual color.<br><br>Any help would be great! <br><br></td></tr></table><br>
<a name="851765"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Plot it again in the new colour :-) <br><br></td></tr></table><br>
<a name="851766"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think you would use setcolor 125,255,255 etc but when I tested that it would change the color of all the plotted stuff on screen. <br><br></td></tr></table><br>
<a name="851768"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lotonah</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry, Brucey...too complicated to do that, considering I want to do the effect over and over, but not on the same color or the same pixel locations.  <br><br>I'm thinking it's sort of like changing the alpha channel, but instead of changing the alpha, I'd be changing the RGB values instead. <br><br></td></tr></table><br>
<a name="851769"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry if this won't help, just remebering what others have posted, have you tried PIXMAPS?<br><br>Maybe copy the screen to a PIXMAP and edit it there??? <br><br></td></tr></table><br>
<a name="851771"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >lotonah</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Amon,<br><br>The image is already in a pixmap...of course this is the first time I've used one, so I'm stupid at the moment.<br><br>Still don't know how to do it though.  Any thoughts, links, examples?<br><br>Thanks! <br><br></td></tr></table><br>
<a name="851773"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try looking up Readpixel and writepixel in the command reference.<br><br>I've seen people do some cool stuff with those commands. <br><br></td></tr></table><br>
<a name="851904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Bremer</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Blitzmax does not work with fixed palette, so you will have to run through all pixels, find the ones with the value you want to change and plot them again. Using the PixmapPixelPtr() command you can get a pointer to the pixmap and then manipulate the pixels directly, which is somewhat faster than using read/writepixels. <br><br></td></tr></table><br>
<a name="851959"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yah the graphics hardware these days is `true color` so instead of having an index color like say a palette of 256 colors which you can change and automatically update, you instead store the actual palette value in the pixel, so what you're looking at is like one giant palette. That means even if you have the same color on more than one pixel the pixels are not connected together in any way via the color, so changing the color on one pixel will only change that pixel. As Zawran said you have to manually go through all the pixels in the image, find those which have the color value you want, and then change them to what you want. <br><br></td></tr></table><br>
<a name="852196"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kochOn</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> With Blitsmax, you should do things like this:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Function SetPixelsColor(pixmap:TPixmap,r1,g1,b1,r2,g2,b2)
	Local p:Byte Ptr,i%,j%,w%,h%
	For j=0 Until PixmapHeight(pixmap)
		For i=0 Until PixmapWidth(pixmap)
			p=Pixmap.PixelPtr(i,j)
			If p[0]=r1 And p[1]=g1 And p[2]=b1 Then
				p[0]=r2
				p[1]=g2
				p[2]=b2
			EndIf
		Next
	Next
End Function

'--- Demo----------------------------------------------
'Use your own medias to replace mine ("Medias\ms.png") 
'Replace the "first r,g,b component" to match one
'color present in your media
'------------------------------------------------------
Graphics 640,480

Global image:TImage,pixmap:TPixmap,r1,g1,b1,r2,g2,b2
image=LoadImage("Medias\ms.png")

r1=255 '
g2=0   ' first r,g,b components 
b1=255 '
While Not KeyDown(KEY_ESCAPE)
	Cls
	If KeyHit(KEY_SPACE) Then
		pixmap=LockImage(image)
		r2=Rand(255)
		g2=Rand(255)
		b2=Rand(255)
		SetPixelsColor pixmap,r1,g1,b1,r2,g2,b2
		UnlockImage(image)
		r1=r2
		g1=g2
		b1=b2
	EndIf
	DrawImage image,100,100
	DrawText "Press SPACE to change pixels of "+r1+","+g1+","+b1+" color values",0,0
	Flip
Wend
</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
