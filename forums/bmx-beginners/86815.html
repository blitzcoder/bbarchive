<!DOCTYPE html><html lang="en" ><head ><title >Sections of code are unreached</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Sections of code are unreached</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Sections of code are unreached</a><br><br>
<a name="984184"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abelian_grape</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So because everyone here is just so awesome with the help I decided to post yet another problem my game in development seems to be having.  Here's the deal.<br><br>I have a penguin character which belongs to a Type called TCharacter.  I would like this penguin to fire some snowballs.  So my idea was, if the user presses the Left key and the F key simultaneously, make him fire a snowball in the left direction.  If the user presses the right key and the F key, make him fire a snowball in the right direction.  <br><br>So I made the snowball a type of its own, called a TObject.  One of the TObject's fields is "orientation" which I set when a snowball is created which is triggered by the simultaneous pressing of a directional key and the F key.  Then, whenever a snowball is created, add it to a list.  Then I have my snowball throwing method within the character type run through the list of snowballs, check their orienation, and draw them if they're still on screen. <br><br>The problem is that the penguin will only fire snowballs to the right, and they are being drawn.  I decided to check whether or not the code was actually making it to the "left" situation by telling it to DrawText("SNOWBALL FIRED LEFT") or DrawText("SNOWBALL FIRED RIGHT") depending on the situation, and I don't even get the text for the "snowball fired left."  I honestly have no idea why this will only work in the right direction.  Any ideas?<br><br>In the first code box I put in the code of interest.  The second code box is the complete running code.  Any and all help is greatly appreciated.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Type TCharacter
			Field x, y		'xy coordinates
			Field vx, vy	'velocity components
			Field hp		'hit points
			Field frame		'animation frame
			
			Method ThrowSnowballs(penguin:TCharacter, snowball:TObject)
			
				'If player hits F key and is facing right, create a new snowball, initialize it
				If KeyHit(KEY_F) And KeyDown(KEY_RIGHT) 
					snowball:TObject = New TObject
					snowball.x = penguin.x + 5
					snowball.y = penguin.y
					snowball.orientation = 1
					ListAddLast(snowballs, snowball)
				EndIf
				
				'If player hits F key and is facing left, create a new snowball, initialize it
				If KeyHit(KEY_F) And KeyDown(KEY_LEFT)
					snowball:TObject = New TObject
					snowball.x = penguin.x - 5
					snowball.y = penguin.y
					snowball.orientation = 0
					ListAddLast(snowballs, snowball)
				EndIf
				
				'For every snowball, move it left or right 20 pixels depending on which way the penguin was facing when shot.
				For snowball:TObject = EachIn snowballs
					
					'Increment frame of snowballs and reset if frame exceeds limit
					snowball.frame = snowball.frame + 1
					If snowball.frame &gt; 2
						snowball.frame = 0
					EndIf
		
					
					'If the player was facing right, orient the snowball and move it
					If snowball.orientation = 1
						SetColor(0,0,0)
						DrawText("SNOWBALL FIRED RIGHT", 0, 552)
						SetColor(255,255,255)
						snowball.x = snowball.x + 20
						
						'If snowball moves off screen , delete it.  Otherwise, draw it.
						If snowball.x &gt; 800
							ListRemove(snowballs, snowball)
						Else
							DrawImage(snowballImage, snowball.x, snowball.y, snowball.frame)
						EndIf
					EndIf
					
					'If the player was facing left, orient the snowball and move it
					If snowball.orientation = 0
						SetColor(0,0,0)
						DrawText("SNOWBALL FIRED LEFT", 0, 552)
						SetColor(255,255,255)
						snowball.x = snowball.x - 20
						
						'If snowball moves off screen , delete it.  Otherwise, draw it.
						If snowball.x &lt; 0 
							ListRemove(snowballs, snowball)
						Else
							DrawImage(snowballImage, snowball.x, snowball.y, snowball.frame)
						EndIf
					EndIf
				Next
			
			End Method

'Object Type
		Type TObject
			Field x,y
			Field frame
			Field orientation
		End Type</textarea><br><br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">


'Penguin Peril - By Daniel Allen
'Note about mechanics - player can never progress past the middle of the screen.  As such, the 
'player's coordinates never increase past 410.  As the player 'pushes' against the middle of the
'screen, the illusion of motion is given by scrolling in objects from right to left

'Initialize graphics mode
Graphics(800,600)

'Center image handle
AutoMidHandle True

'Seed the timer
SeedRnd(MilliSecs())










''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'IMAGES
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''


		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Character Images
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		
		'Penguin's animation
		Global penguinAnimation = LoadAnimImage("penguinanimation.bmp",58,58,0,25) 'each frame is 58 x 58, start at frame 0, 25 frames total
		
		'Turtle's animation
		Global turtleAnimation = LoadAnimImage("turtle.bmp",76,48,0,20) ' each frame is 76 x 48, start at frame 0, 10 frames total
		
		'Drill penguin's animation
		Global digAnimation = LoadAnimImage("dig.bmp",25,12,0,10) ' each frame is 25 x 12, start at frame 0, 10 frames total
		Global drillAnimation = LoadAnimImage("drill.bmp",30,30,0,12) ' each frame is 30 x 30, start at frame 0, 12 frames total
		Global drillAttackAnimation = LoadAnimImage("drillattack.bmp",45,45,0,14) ' each frame is 45 x 45, start at frame 0, 14 frames total
		
		'Walrus's animation
		Global walrusAnimation = LoadAnimImage("walrus.bmp",88,56,0,12) ' each frame is 88 x 56, start at frame 0, 12 frames total
		
		'Snowman's animation
		Global snowmanAnimation = LoadAnimImage("snowman.bmp",90,90,0,24) ' each frame is 90 x 90, start at frame 0, 24 frames total
		
		'Polar bear's animation
		Global polarBearAnimation = LoadAnimImage("polarbear.bmp",64,70,0,20) ' each frame is 64 x 70, start at frame 0, 20 frames total
				
		
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Background Images
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		
		'Clouds
		Global clouds = LoadImage("clouds.bmp")
		'Snowy Hills
		Global snowyHills = LoadImage("snowyhills.png")
		'Ground
		Global ground = LoadImage("ground.bmp")
		'Snowflakes
		Global snowflakeImage = LoadImage("snowflake1.png")
		
		
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Object Images
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		
		'Snowballs
		Global snowballImage = LoadAnimImage("snowball.bmp",64,32,0,3) ' each frame is 64 x 32, start at frame 0, 3 frames total
		'Trees
	      Global treeImage = LoadImage("tree.bmp") 'Image is 52 x 80 pixels, (26, 40) is the center  NOTE: (11, 63) -&gt; (39, 79) diagonal vertices for collision box
		'Rocks
		Global bigRockImage = LoadImage("bigrock.bmp")
		Global smallRockImage = LoadImage("smallrock.bmp")
		'Fireball
		Global fireballImage = LoadAnimImage("fireball.bmp",28,25,0,4) ' each frame is 28 x 25, start at frame 0, 4 frames total










''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'GLOBAL VARIABLES
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''


Global cloudScroll = 0
Global hillScroll = 0
Global groundScroll = 800 
Global snowflakes:TList = CreateList()
Global snowballs:TList = CreateList()
Global trees:TList = CreateList()
Global smallRocks:TList = CreateList()
Global bigRocks:TList = CreateList()
Global drillPenguins:TList = CreateList()
Global slide = 0
Global randNum
Global isDigging = 1
Global isDrilling = 0
Global isAttacking = 0












''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'TYPES
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''

		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Character Type
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		Type TCharacter
			Field x, y		'xy coordinates
			Field vx, vy	'velocity components
			Field hp		'hit points
			Field frame		'animation frame
			
			Method ThrowSnowballs(penguin:TCharacter, snowball:TObject)
			
				'If player hits F key and is facing right, create a new snowball, initialize it
				If KeyHit(KEY_F) And KeyDown(KEY_RIGHT) 
					snowball:TObject = New TObject
					snowball.x = penguin.x + 5
					snowball.y = penguin.y
					snowball.orientation = 1
					ListAddLast(snowballs, snowball)
				EndIf
				
				'If player hits F key and is facing left, create a new snowball, initialize it
				If KeyHit(KEY_F) And KeyDown(KEY_LEFT)
					snowball:TObject = New TObject
					snowball.x = penguin.x - 5
					snowball.y = penguin.y
					snowball.orientation = 0
					ListAddLast(snowballs, snowball)
				EndIf
				
				'For every snowball, move it left or right 20 pixels depending on which way the penguin was facing when shot.
				For snowball:TObject = EachIn snowballs
					
					'Increment frame of snowballs and reset if frame exceeds limit
					snowball.frame = snowball.frame + 1
					If snowball.frame &gt; 2
						snowball.frame = 0
					EndIf
		
					
					'If the player was facing right, orient the snowball and move it
					If snowball.orientation = 1
						SetColor(0,0,0)
						DrawText("SNOWBALL FIRED RIGHT", 0, 552)
						SetColor(255,255,255)
						snowball.x = snowball.x + 20
						
						'If snowball moves off screen , delete it.  Otherwise, draw it.
						If snowball.x &gt; 800
							ListRemove(snowballs, snowball)
						Else
							DrawImage(snowballImage, snowball.x, snowball.y, snowball.frame)
						EndIf
					EndIf
					
					'If the player was facing left, orient the snowball and move it
					If snowball.orientation = 0
						SetColor(0,0,0)
						DrawText("SNOWBALL FIRED LEFT", 0, 552)
						SetColor(255,255,255)
						snowball.x = snowball.x - 20
						
						'If snowball moves off screen , delete it.  Otherwise, draw it.
						If snowball.x &lt; 0 
							ListRemove(snowballs, snowball)
						Else
							DrawImage(snowballImage, snowball.x, snowball.y, snowball.frame)
						EndIf
					EndIf
				Next
			
			End Method

			
			'Check for collisions
			Method CheckCollisions(penguin:TCharacter, turtle:TEnemy, walrus:TEnemy, polarBear:TEnemy, snowman:TEnemy, drillPenguin:TEnemy, snowball:TObject, bigRock:TObject, smallRock:TObject, tree:TObject)
				
				
				'Check for penguin's collision with turtle and update penguin hit points
				If (penguin.x + 24) &gt;= (turtle.x - 28) And (penguin.y &lt; (turtle.y + 12)) And (penguin.y &gt; (turtle.y - 17)) And (penguin.x &lt; turtle.x)
					penguin.x = (turtle.x - 28) - 29
					penguin.hp :- 5
				ElseIf (penguin.x - 22) &lt;= (turtle.x + 36) And (penguin.y &lt; (turtle.y + 12)) And (penguin.y &gt; (turtle.y - 17)) And (penguin.x &gt; turtle.x)
					penguin.x = (turtle.x + 36) + 27
					penguin.hp :- 5
				ElseIf (penguin.y + 22) &gt;= (turtle.y - 17) And (penguin.x &gt; (turtle.x - 28)) And (penguin.x &lt; (turtle.x + 36)) And (penguin.y &lt; turtle.y)
					penguin.y = (turtle.y - 17) - 27
					penguin.hp :- 5
				ElseIf (penguin.y - 26) &lt;= (turtle.y + 12) And (penguin.x &gt; (turtle.x - 28)) And (penguin.x &lt; (turtle.x + 36)) And (penguin.y &gt; turtle.y)
					penguin.y = (turtle.y + 12) + 31
					penguin.hp :- 5
				EndIf
				
				'Check for penguin's collision with walrus
				If (penguin.x + 24) &gt;= (walrus.x - 33) And (penguin.y &lt; (walrus.y + 16)) And (penguin.y &gt; (walrus.y - 22)) And (penguin.x &lt; walrus.x)
					penguin.x = (walrus.x - 33) - 29
					penguin.hp :- 10
				ElseIf (penguin.x - 22) &lt;= (walrus.x + 31) And (penguin.y &lt; (walrus.y + 16)) And (penguin.y &gt; (walrus.y - 22)) And (penguin.x &gt; walrus.x)
					penguin.x = (walrus.x + 31) + 27
					penguin.hp :- 10
				ElseIf (penguin.y + 22) &gt;= (walrus.y - 22) And (penguin.x &gt; (walrus.x - 33)) And (penguin.x &lt; (walrus.x + 31)) And (penguin.y &lt; walrus.y)
					penguin.y = (walrus.y - 22) - 27
					penguin.hp :- 10
				ElseIf (penguin.y - 26) &lt;= (walrus.y + 16) And (penguin.x &gt; (walrus.x - 33)) And (penguin.x &lt; (walrus.x + 31)) And (penguin.y &gt; walrus.y)
					penguin.y = (walrus.y + 16) + 31
					penguin.hp :- 10
				EndIf
				
				'Check for penguin's collision with polar bear
				If (penguin.x + 24) &gt;= (polarBear.x - 28) And (penguin.y &lt; (polarBear.y + 26)) And (penguin.y &gt; (polarBear.y - 32)) And (penguin.x &lt; polarBear.x)
					penguin.x = (polarBear.x - 28) - 29
					penguin.hp :- 15
				ElseIf (penguin.x - 22) &lt;= (polarBear.x + 35) And (penguin.y &lt; (polarBear.y + 26)) And (penguin.y &gt; (polarBear.y - 32)) And (penguin.x &gt; polarBear.x)
					penguin.x = (polarBear.x + 35) + 27
					penguin.hp :- 15
				ElseIf (penguin.y + 22) &gt;= (polarBear.y - 32) And (penguin.x &gt; (polarBear.x - 28)) And (penguin.x &lt; (polarBear.x + 35)) And (penguin.y &lt; polarBear.y)
					penguin.y = (polarBear.y - 32) - 27
					penguin.hp :- 5
				ElseIf (penguin.y - 26) &lt;= (polarBear.y + 26) And (penguin.x &gt; (polarBear.x - 28)) And (penguin.x &lt; (polarBear.x + 35)) And (penguin.y &gt; polarBear.y)
					penguin.y = (polarBear.y + 26) + 31
					penguin.hp :- 5
				EndIf
				
				'Check for penguin's collision with snowman
				If (penguin.x + 24) &gt;= (snowman.x - 22) And (penguin.y &lt; (snowman.y + 28)) And (penguin.y &gt; (snowman.y - 35)) And (penguin.x &lt; snowman.x)
					penguin.x = (snowman.x - 22) - 29
					penguin.hp :- 5
				ElseIf (penguin.x - 22) &lt;= (snowman.x + 30) And (penguin.y &lt; (snowman.y + 28)) And (penguin.y &gt; (snowman.y - 35)) And (penguin.x &gt; snowman.x)
					penguin.x = (snowman.x + 30) + 27
					penguin.hp :- 5
				ElseIf (penguin.y + 22) &gt;= (snowman.y - 35) And (penguin.x &gt; (snowman.x - 22)) And (penguin.x &lt; (snowman.x + 30)) And (penguin.y &lt; snowman.y)
					penguin.y = (snowman.y - 35) - 27
					penguin.hp :- 5
				ElseIf (penguin.y - 26) &lt;= (snowman.y + 28) And (penguin.x &gt; (snowman.x - 22)) And (penguin.x &lt; (snowman.x + 30)) And (penguin.y &gt; snowman.y)
					penguin.y = (snowman.y + 28) + 31
					penguin.hp :- 5
				EndIf
				
				'Check for penguin's collision with driller penguin
				If (penguin.x + 24) &gt;= (drillPenguin.x - 25) And (penguin.y &lt; (drillPenguin.y + 11)) And (penguin.y &gt; (drillPenguin.y - 11)) And (penguin.x &lt; drillPenguin.x)
					penguin.x = (drillPenguin.x - 25) - 29
					penguin.hp :- 5
				ElseIf (penguin.x - 22) &lt;= (drillPenguin.x + 30) And (penguin.y &lt; (drillPenguin.y + 11)) And (penguin.y &gt; (drillPenguin.y - 11)) And (penguin.x &gt; drillPenguin.x)
					penguin.x = (drillPenguin.x + 11) + 27
					penguin.hp :- 5
				ElseIf (penguin.y + 22) &gt;= (drillPenguin.y - 11) And (penguin.x &gt; (drillPenguin.x - 25)) And (penguin.x &lt; (drillPenguin.x + 11)) And (penguin.y &lt; drillPenguin.y)
					penguin.y = (drillPenguin.y - 11) - 27
					penguin.hp :- 5
				ElseIf (penguin.y - 26) &lt;= (drillPenguin.y + 11) And (penguin.x &gt; (drillPenguin.x - 25)) And (penguin.x &lt; (drillPenguin.x + 11)) And (penguin.y &gt; drillPenguin.y)
					penguin.y = (drillPenguin.y + 11) + 31
					penguin.hp :- 5
				EndIf
				
				'Check for penguin's collision with tree
				If (penguin.x + 24) &gt; (tree.x - 12) And (penguin.y &lt; (tree.y + 36)) And (penguin.y &gt; (tree.y + 20)) And (penguin.x &lt; tree.x)
					penguin.x = (tree.x - 12) - 24
				ElseIf (penguin.x - 22) &lt; (tree.x + 12) And (penguin.y &lt; (tree.y + 36)) And (penguin.y &gt; (tree.y + 20)) And (penguin.x &gt; tree.x)
					penguin.x = (tree.x + 12) + 22
				ElseIf (penguin.y + 22) &gt; (tree.y + 20) And (penguin.x &gt; (tree.x - 12)) And (penguin.x &lt; (tree.x + 12)) And (penguin.y &lt; tree.y)
					penguin.y = (tree.y + 20) - 22
				ElseIf (penguin.y - 26) &lt; (tree.y + 36) And (penguin.x &gt; (tree.x - 12)) And (penguin.x &lt; (tree.x + 12)) And (penguin.y &gt; tree.y)
					penguin.y = (tree.y + 36) + 26
				EndIf
				
				'Check for penguin's collision with big rock
				If (penguin.x + 24) &gt; (bigRock.x - 15) And (penguin.y &lt; (bigRock.y + 15)) And (penguin.y &gt; (bigRock.y + 15)) And (penguin.x &lt; bigRock.x)
					penguin.x = (bigRock.x - 15) - 24
				ElseIf (penguin.x - 22) &lt; (bigRock.x + 15) And (penguin.y &lt; (bigRock.y + 15)) And (penguin.y &gt; (bigRock.y + 15)) And (penguin.x &gt; bigRock.x)
					penguin.x = (bigRock.x + 15) + 22
				ElseIf (penguin.y + 22) &gt; (bigRock.y + 15) And (penguin.x &gt; (bigRock.x - 15)) And (penguin.x &lt; (bigRock.x + 15)) And (penguin.y &lt; bigRock.y)
					penguin.y = (bigRock.y + 15) - 22
				ElseIf (penguin.y - 26) &lt; (bigRock.y + 15) And (penguin.x &gt; (bigRock.x - 15)) And (penguin.x &lt; (bigRock.x + 15)) And (penguin.y &gt; bigRock.y)
					penguin.y = (bigRock.y + 15) + 26
				EndIf
				
				'Check for penguin's collision with small rock
				If (penguin.x + 24) &gt; (smallRock.x - 8) And (penguin.y &lt; (smallRock.y + 8)) And (penguin.y &gt; (smallRock.y + 8)) And (penguin.x &lt; smallRock.x)
					penguin.x = (smallRock.x - 8) - 24
				ElseIf (penguin.x - 22) &lt; (smallRock.x + 8) And (penguin.y &lt; (smallRock.y + 8)) And (penguin.y &gt; (smallRock.y + 8)) And (penguin.x &gt; smallRock.x)
					penguin.x = (smallRock.x + 8) + 22
				ElseIf (penguin.y + 22) &gt; (smallRock.y + 8) And (penguin.x &gt; (smallRock.x - 8)) And (penguin.x &lt; (smallRock.x + 8)) And (penguin.y &lt; smallRock.y)
					penguin.y = (smallRock.y + 8) - 22
				ElseIf (penguin.y - 26) &lt; (smallRock.y + 8) And (penguin.x &gt; (smallRock.x - 8)) And (penguin.x &lt; (smallRock.x + 8)) And (penguin.y &gt; smallRock.y)
					penguin.y = (smallRock.y + 8) + 26
				EndIf

			End Method
			
			'Keep penguin in the foreground
			Method CheckForegroundCollision(penguin:TCharacter)
				
				If penguin.x &lt;= 48
					penguin.x = 48
				EndIf
				
				If penguin.y &gt;= 576
					penguin.y = 576
				ElseIf penguin.y &lt;= 260
					penguin.y = 260
				EndIf
			
			End Method

		End Type
			
		
		'Create the penguin
		penguin:TCharacter = New TCharacter
		
		'Initialize penguin
		penguin.x = 300
		penguin.y = 400
		penguin.vx = 10
		penguin.vy = 10
		penguin.hp = 50
		penguin.frame = 3
		
		
		
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Enemy Types
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		Type TEnemy Extends TCharacter

			Global enemies:TList = CreateList()
			
			Method NewEnemy()
				enemies.AddLast(Self)
			End Method
		
			'Move the enemies
			Method Move(penguin:TCharacter)
					
					'If penguin pushes against the middle barrier, scroll in enemy
					If penguin.x &gt; 400
						x :- 5
					EndIf
					
					'If enemy is within the radius of the penguin, 
					If Sqr((x - penguin.x)^2 + (y - penguin.y)^2) &lt; 100 And Sqr((x - penguin.x)^2 + (y - penguin.y)^2) &gt;= 55
				
						'Make enemy follow penguin
						If penguin.x &lt; x
							x :- vx
						ElseIf penguin.x &gt; x 
							x :+ vx
						EndIf
						
						If penguin.y &lt; y
							y :- vy
						ElseIf penguin.y &gt; y 
							y :+ vy
						EndIf
					
					EndIf
				
			End Method
			
			Method drillPenguinUpdate(drillPenguin:TEnemy)
				
				'If there is no penguin in the list, create a new one at random x,y coordinates
				If CountList(drillPenguins) = 0
					drillPenguin.x = Rand(0,800)
					drillPenguin.y = Rand(260, 576)
					ListAddLast(drillPenguins,drillPenguin)
				EndIf
				
				'If there is a penguin in the list and he is attacking, update his x coordinate
				If CountList(drillPenguins) = 1 And isAttacking = 1
					drillPenguin.x = drillPenguin.x - drillPenguin.vx
					drillPenguin.y = drillPenguin.y - Rand(-10, 10)
				EndIf
				
				'If the penguin moves off the screen, destroy him
				If drillPenguin.x &lt; 0
					ListRemove(drillPenguins, drillPenguin)
					isAttacking = 0
					isDigging = 1
					drillPenguin.frame = 0
				EndIf
				
				'If there is a penguin in the list and he is digging, draw him and update his frame
				If CountList(drillPenguins) = 1 And isDigging = 1
					DrawImage(digAnimation, drillPenguin.x, drillPenguin.y, drillPenguin.frame)
					drillPenguin.frame = drillPenguin.frame + 1
					If drillPenguin.frame &gt;= 9
						isDigging = 0
						isDrilling = 1
						drillPenguin.frame = 0
					EndIf
						
				ElseIf CountList(drillPenguins) = 1 And isDrilling = 1
					DrawImage(drillAnimation, drillPenguin.x, drillPenguin.y, drillPenguin.frame)
					drillPenguin.frame = drillPenguin.frame + 1
					If drillPenguin.frame &gt;= 11
						isDrilling = 0
						isAttacking = 1
						drillPenguin.frame = 0
					EndIf
			
				ElseIf CountList(drillPenguins) = 1 And isAttacking = 1
					DrawImage(drillAttackAnimation, drillPenguin.x, drillPenguin.y, drillPenguin.frame)
					drillPenguin.frame = drillPenguin.frame + 1
					If drillPenguin.frame &gt;= 13
						drillPenguin.frame = 3
					EndIf
				EndIf
			
			End Method
		
		End Type
			
			
			
	
		
		turtle:TEnemy = New TEnemy
		turtle.NewEnemy()	
		'Initialize the turtle
		turtle.x = 600
		turtle.y = 550
		turtle.vx = 1
		turtle.vy = 1
		turtle.hp = 10
		turtle.frame = 0
		
		
		
		
		
		'Create the drill penguin
		drillPenguin:TEnemy = New TEnemy
		drillPenguin.vx = 10
		drillPenguin.frame = 0
		drillPenguin.hp = 5
		
		
		
		
		walrus:TEnemy = New TEnemy
		walrus.NewEnemy()		
		'Initialize the Walrus
		walrus.x = 600
		walrus.y = 500
		walrus.vx = 2
		walrus.vy = 2
		walrus.hp = 20
		walrus.frame = 0
		
		
		
		
		
		snowman:TEnemy = New TEnemy
		snowman.NewEnemy()
		'Initialize the Snowman
		snowman.x = 200
		snowman.y = 400
		snowman.frame = 0
		snowman.hp = 50
		
		
		
		
		polarBear:TEnemy = New TEnemy
		polarBear.NewEnemy()
		'Initialize the polar bear
		polarBear.x = 600
		polarBear.y = 400
		polarBear.vx = 5
		polarBear.vy = 5
		polarBear.frame = 0
		polarBear.hp = 40





		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Object Types
		''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''


		'Snowflake Type
		Type TSnowflake
			Field x,y		'Snowflake's (x,y)-coordinates
		End Type
		
		'Create the snowflake
		snowflake:TSnowflake = New TSnowflake
		
		
		
		
		
		'Object Type
		Type TObject
			Field x,y
			Field frame
			Field orientation
		End Type
		
		'Create a snowball
		snowball:TObject = New TObject
		'Create a tree
		tree:TObject = New TObject
		'Create rocks
		bigRock:TObject = New TObject
		smallRock:TObject = New TObject
		
		
		
		
		
		
		
		
		
		
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'MAIN LOOP
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''




While Not KeyDown(KEY_ESCAPE)	'Press Esc to exit

Cls 						'Clear the screen


	'''''''''''''''''''''''''''''''''''''''''''''''''''''''	
	'Draw Images
	'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	
	'Draw the clouds
	TileImage(clouds, cloudScroll, 70)
	
	'Draw the ground
	DrawImage(ground, groundScroll, 430)
	
	'Draw the hills
	For i = 0 To 10
		DrawImage(snowyHills, (i*254 + hillScroll), 180)	
	Next
	
	'If penguin reaches half-way point on screen, stop penguin from progressing and speed up scrolls	
	If penguin.x &gt;= 401
		penguin.x = 400
		cloudScroll = cloudScroll - 3
		hillScroll = hillScroll - 6
		groundScroll = groundScroll - 8
		
		'Randomly generate a tree and set its position
		randNum = Rand(1, 20)
		If randNum = 5
			tree:TObject = New TObject
			tree.x = 825
			tree.y = Rand(260, 560)
			ListAddLast(trees, tree)
		EndIf
		
		'Scroll trees in 
		For tree:TObject = EachIn trees
			tree.x = tree.x - 8
		Next
		
		'Randomly generate a rock and set its position
		randNum = Rand(1, 30)
		If randNum = 5
			bigRock:TObject = New TObject
			bigRock.x = 825
			bigRock.y = Rand(260, 560)
			ListAddLast(bigRocks, bigRock)
		EndIf
		If randNum = 15
			smallRock:TObject = New TObject
			smallRock.x = 825
			smallRock.y = Rand(260, 560)
			ListAddLast(smallRocks, smallRock)
		EndIf
		
		'Scroll rocks in 
		For bigRock:TObject = EachIn bigRocks 
			bigRock.x = bigRock.x - 8
		Next
		
		For smallRock:TObject = EachIn smallRocks 
			smallRock.x = smallRock.x - 8
		Next

			
		If groundScroll &lt; 400
			groundScroll = 800
		EndIf		
		'endportal.x = endportal.x - 8
	EndIf
	
	
	'Draw the penguin
	DrawImage(penguinAnimation, penguin.x, penguin.y, penguin.frame)
	
	
	
	'Draw the enemies
	'DrawImage(turtleAnimation, turtle.x, turtle.y, turtle.frame)
	
	'DrawImage(walrusAnimation, walrus.x, walrus.y, walrus.frame)
	
	'DrawImage(snowmanAnimation, snowman.x, snowman.y, snowman.frame)
	
	'DrawImage(polarBearAnimation, polarBear.x, polarBear.y, polarBear.frame)
	
	
	
		
	
	
	'Draw the trees
	For tree:TObject = EachIn trees
			
		'If tree leaves screen, destroy it.  Otherwise, draw it.
		If tree.x &lt; -25
			ListRemove(trees, tree)
		Else
			DrawImage(treeImage, tree.x, tree.y)
		EndIf
	Next
	
	
	
	
	
	'Draw the rocks
	For bigRock:TObject = EachIn bigRocks
			
		'If rock leaves screen, destroy it.  Otherwise, draw it.
		If bigRock.x &lt; -25
			ListRemove(bigRocks, bigRock)
		Else
			DrawImage(bigRockImage, bigRock.x, bigRock.y)
		EndIf
	Next
	
	For smallRock:TObject = EachIn smallRocks
			
		'If rock leaves screen, destroy it.  Otherwise, draw it.
		If smallRock.x &lt; -25
			ListRemove(smallRocks, smallRock)
		Else
			DrawImage(smallRockImage, smallRock.x, smallRock.y)
		EndIf
	Next
	
	
	
	
	
	'Draw the snowflakes
	DrawSnowflakes(snowflakeImage, snowflake.x, snowflake.y)
	
	'If at least one snowflake gets deleted, create a new one and initialize it
	If CountList(snowflakes) &lt; 125
		snowflake:TSnowflake = New TSnowflake
		snowflake.x = Rand(0,800)
		snowflake.y = 0
		ListAddLast(snowflakes, snowflake)
	EndIf	

	
	
	
	
	'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	'Check Input and Update Penguin
	'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	
	penguin.x = UpdatePenguin_Walk_X(penguin.x, penguin.vx)			'Update penguin's x-coordinates based on walk
	penguin.y = UpdatePenguin_Walk_Y(penguin.y, penguin.vy)			'Update penguin's y-coordinates based on walk
	penguin.frame = UpdatePenguin_Frame(penguin.frame, penguin.y)		'Update penguin's frame
	penguin.x = UpdatePenguin_Slide_X(penguin.x, penguin.vx)			'Update penguin's x-coordinate based on slide				
	penguin.y = UpdatePenguin_Slide_Y(penguin.y, penguin.vy)			'Update penguin's y-coordinate based on slide
	penguin.CheckForegroundCollision(penguin:TCharacter)			'Keep the penguin within the bounds of the foreground
	penguin.ThrowSnowballs(penguin:TCharacter, snowball:TObject)		'Check to see if player throws snowballs and draw them
	
	
	
	
	'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	'Update Enemies
	'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	
			
			
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			'Turtle
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			turtle.Move(penguin:TCharacter)
			turtle.frame = UpdateTurtle_Frame(turtle.x, turtle.y, turtle.frame, penguin.x, penguin.y)
		
		


	

			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			'Driller Penguin
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			drillPenguin.drillPenguinUpdate(drillPenguin:TEnemy)
			
			
			
			
			
			
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			'Walrus
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			walrus.Move(penguin:TCharacter)
			walrus.frame = UpdateWalrus_Frame(walrus.x, walrus.y, walrus.frame, penguin.x, penguin.y)
			
			
			
			
			
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			'Snowman
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			
			
			
			
			
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			'Polar Bear
			'''''''''''''''''''''''''''''''''''''''''''''''''''''''
			polarBear.Move(penguin:TCharacter)
			polarBear.frame = UpdatePolarBear_Frame(polarBear.x, polarBear.y, polarBear.frame, penguin.x, penguin.y)
			
			
			
			
			
			
			
			
			
	'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	'Check Collisions
	'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	
	penguin.CheckCollisions(penguin:TCharacter, turtle:TEnemy, walrus:TEnemy, polarBear:TEnemy, snowman:TEnemy, drillPenguin:TEnemy, snowball:TObject, bigRock:TObject, smallRock:TObject, tree:TObject)

	
	

	

SetColor(0,0,0)
DrawText("X Coordinate: " + penguin.x, 0, 588)
DrawText("Y Coordinate: " + penguin.y, 0, 576)
DrawText("Penguin HP: " + penguin.hp, 0, 564)
SetColor(255,255,255)

'Wait 1/10 of a second
Delay 100

'Flip the buffers
Flip

Wend
'END OF MAIN LOOP










''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
'FUNCTIONS
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''




		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Object Updates
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		
		
		
				
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'DrawSnowflakes()
				'DRAWS RANDOM SNOWFLAKES
				'PARAMETERS: 
				'		snowflake's image 
				'		snowflake's x-coordinate
				'		snowflake's y-coordinate
				'RETURNS:
				'	   	N/A
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function DrawSnowflakes(snowflakeImage, x, y)
					For Local snowflake:TSnowflake = EachIn snowflakes
						x = Rand(0,800)
						y = y + 5		'Make snowflakes fall
							'If there's too many snowflakes, delete the extras
							If y &gt; 605
								ListRemove(snowflakes, snowflake)
							Else
								DrawImage(snowflakeImage, x, y)
							EndIf
					Next
				
				End Function
	













	
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Player Updates
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		
		
		
		
		
		
		
		
		
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdatePenguin_Walk_X()
				'CHECKS INPUT AND UPDATES PENGUIN'S X-COORDINATES
				'PARAMETERS: 
				'		penguin's x-coordinate 
				'		penguin's velocity's x-component
				'RETURNS:
				'		penguin's x-coordinate
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdatePenguin_Walk_X(x, vx)
					
					'If player presses left, move penguin left
					If KeyDown(KEY_LEFT) And x &lt;= 48
						x = 48		
					ElseIf KeyDown(KEY_LEFT) And Not slide
						x = x - vx
					
					'If player presses right, move penguin right	
					ElseIf KeyDown(KEY_RIGHT) And Not slide
						x = x + vx
					EndIf
					
				Return x
				
				End Function










				'''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdatePenguin_Walk_Y()
				'CHECKS INPUT AND UPDATES PENGUIN'S Y-COORDINATES
				'PARAMETERS: 
				'		penguin's y-coordinate 
				'		penguin's velocity's y-component
				'RETURNS:
				'		penguin's y-coordinate
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdatePenguin_Walk_Y(y, vy)
					
					'If player presses up, move penguin up
					If KeyDown(KEY_UP) And Not slide
						y = y - vy
						'Don't move too far up
						If y &lt;= 260
							y = 260
						EndIf
					
					'If player presses down, move penguin down
					ElseIf KeyDown(KEY_DOWN) And Not slide
						y = y + vy
						'Don't move too far down
						If y &gt;= 576
							y = 576
						EndIf
					EndIf		
				
				Return y
				
				End Function
		









				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdatePenguin_Slide_X()
				'TAKES IN PENGUIN'S X-COORDINATE AND CALCULATES NEW COORDINATES FOR A SLIDE
				'PARAMETERS: 
				'		penguin's x-coordinate 
				'		penguin's velocity's x-component
				'RETURNS:
				'		penguin's x-coordinate
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdatePenguin_Slide_X(x,vx)
				
					'If player holds down D key and presses left, right, up-left, up-right, down-left, down-right, slide the penguin
					If KeyDown(KEY_D)
						slide = 1
					Else
						slide = 0
					EndIf
					
					If KeyDown(KEY_LEFT) And slide
						x = x - vx
					
					ElseIf KeyDown(KEY_LEFT) And KeyDown(KEY_UP) And slide	
						x = x - vx
					
					ElseIf KeyDown(KEY_LEFT) And KeyDown(KEY_DOWN) And slide 
						x = x - vx
					
					ElseIf KeyDown(KEY_RIGHT) And slide 
						x = x + vx
					
					ElseIf KeyDown(KEY_RIGHT) And KeyDown(KEY_UP) And slide 
						x = x + vx
						
					ElseIf KeyDown(KEY_RIGHT) And KeyDown(KEY_DOWN) And slide 
						x = x + vx
					EndIf
				
				Return x
			
				End Function
			
		








				''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdatePenguin_Slide_Y()
				'TAKES IN PENGUIN'S Y-COORDINATE AND CALCULATES NEW COORDINATES FOR A SLIDE
				'PARAMETERS: 
				'		penguin's y-coordinate 
				'		penguin's velocity's y-component
				'RETURNS:
				'		penguin's y-coordinate
				''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdatePenguin_Slide_Y(y,vy)
					
					'If player holds down D key and presses up, down, up-left, up-right, down-left, down right, slide the penguin				
					If KeyDown(KEY_D)
						slide = 1
					Else 
						slide = 0
					EndIf
					
					If KeyDown(KEY_UP) And slide 
						y = y - vy
						'Don't move too far up
						If y &lt;= 260
							y = 260
						EndIf
					
					ElseIf KeyDown(KEY_UP) And KeyDown(KEY_LEFT) And slide
						y = y - vy
						'Don't move too far up
						If y &lt;= 260
							y = 260
						EndIf
					
					ElseIf KeyDown(KEY_UP) And KeyDown(KEY_RIGHT) And slide
						y = y - vy
						'Don't move too far up
						If y &lt;= 260
							y = 260
						EndIf
					
					ElseIf KeyDown(KEY_DOWN) And slide 
						y = y + vy
						'Don't move too far down
						If y &gt;= 576
							y = 576
						EndIf
						
					ElseIf KeyDown(KEY_DOWN) And KeyDown(KEY_RIGHT) And slide 
						y = y + vy
						'Don't move too far down
						If y &gt;= 576
							y = 576
						EndIf
					
					ElseIf KeyDown(KEY_DOWN) And KeyDown(KEY_LEFT) And slide
						y = y + vy
						'Don't move too far down
						If y &gt;= 576
							y = 576
						EndIf
					EndIf
					
				Return y
				
				End Function
				
				
				
				
				
				
				
				
				
				
				
				
				
				
	
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'Frame Updates
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''
		'''''''''''''''''''''''''''''''''''''''''''''''''''''''




				'''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdatePenguin_Frame()
				'CHECKS INPUT AND UPDATES PENGUIN'S FRAME
				'PARAMETERS: 
				'		penguin's frame
				'		penguin's y-coordinate 
				'RETURNS:
				'		penguin's frame
				''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdatePenguin_Frame(frame, y)
		
					'''''''''''''''''''''''''''''''''''''''''''''''''''''''
					'Frame Updates - Linear movement
					'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	
					'If player presses left, decrement frame number
					If KeyDown(KEY_LEFT) And Not slide
						frame = frame - 1
						If frame &gt;= 3
							frame = 2
						EndIf
						'If frame gets too low, reset frame
						If frame &lt; 0
							frame = 2
						EndIf
						
					'If player presses right, increment frame number	
					ElseIf KeyDown(KEY_RIGHT) And Not slide
						frame = frame + 1
						If frame &lt;= 3 Or frame &gt;= 7
							frame = 4
						EndIf
						'If frame gets too high, reset frame
						If frame &gt; 6
							frame = 4
						EndIf
					
					'If player presses up, change frame to walking away animation and increment frame number
					ElseIf KeyDown(KEY_UP) And Not slide
						frame = frame + 1
						If frame &lt;= 12 Or frame &gt;= 15
							frame = 13
						EndIf
						'If frame gets too high, reset frame
						If frame &gt; 14
							frame = 13
						EndIf
					
					'If player presses down, change frame to walking right and increment frame number
					ElseIf KeyDown(KEY_DOWN) And Not slide
						frame = frame + 1
						If frame &lt;= 3 Or frame &gt;= 7
							frame = 4
						EndIf
						'If frame gets too high, reset frame
						If frame &gt; 6
							frame = 4
						EndIf
		
						
					'''''''''''''''''''''''''''''''''''''''''''''''''''''''
					'Frame Updates - Idle
					'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	
	
					'If player is idle use default penguin image
					ElseIf Not KeyDown(KEY_UP) And Not KeyDown(KEY_DOWN) And Not KeyDown(KEY_RIGHT) And Not KeyDown(KEY_LEFT) And Not slide
						 frame = 3
					EndIf
			
			
					'''''''''''''''''''''''''''''''''''''''''''''''''''''''
					'Frame Updates - Sliding
					'''''''''''''''''''''''''''''''''''''''''''''''''''''''
	
					
					'If player holds down D, penguin can slide
					
					If KeyDown(KEY_D)
						frame = 22
					EndIf
					
					If KeyDown(KEY_D) And KeyDown(KEY_LEFT)
						frame = 23
					ElseIf KeyDown(KEY_D) And KeyDown(KEY_RIGHT)
						frame = 21
					ElseIf KeyDown(KEY_D) And KeyDown(KEY_UP)
						frame = 21
					ElseIf KeyDown(KEY_D) And KeyDown(KEY_DOWN)
						frame = 22
					ElseIf KeyDown(KEY_D) And KeyDown(KEY_UP) And KeyDown(KEY_LEFT)
						frame = 23
					ElseIf KeyDown(KEY_D) And KeyDown(KEY_DOWN) And KeyDown(KEY_LEFT)
						frame = 22
					ElseIf KeyDown(KEY_D) And KeyDown(KEY_UP) And KeyDown(KEY_RIGHT)
						frame = 21
					ElseIf KeyDown(KEY_D) And KeyDown(KEY_DOWN) And KeyDown(KEY_RIGHT)
						frame = 22
					ElseIf KeyDown(KEY_D) And Not KeyDown(KEY_DOWN) And Not KeyDown(KEY_UP) And Not KeyDown(KEY_LEFT) And Not KeyDown(KEY_RIGHT)
						frame = 22
					EndIf
	
		
		
				Return frame

				End Function
				
				
				
				
				
				
				
				
				
				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdateTurtle_Frame()
				'CHECKS PENGUIN'S POSITION AND ORIENTS THE TURTLE AS WELL AS ANIMATING THE TURTLE
				'PARAMETERS: 
				'		turtle's x-coordinate
				'		turtle's y-coordinate 
				'		turtle's animation frame
				'		penguin's x-coordinate
				'		penguin's y-coordinate
				'RETURNS:
				'		turtle's frame
				''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdateTurtle_Frame(turtle_x, turtle_y, turtle_frame, penguin_x, penguin_y)
				
					'If the penguin is outside a radius of the turtle, idle the turtle
					If Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &gt; 100 And turtle_x &gt; penguin_x
						turtle_frame = 0
					ElseIf Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &gt; 100 And turtle_x &lt; penguin_x
						turtle_frame = 19
					EndIf
					
					
					'If the penguin is inside the radius of the turtle, animate turtle according to orientation
					If Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &lt; 100 And Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &gt; 55 And turtle_x &gt;= penguin_x
						turtle_frame = turtle_frame + 1
						
						'If frame gets too high, reset it
						If turtle_frame &gt;= 3
							turtle_frame = 0
						EndIf
						
					ElseIf Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &lt; 100 And Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &gt; 55 And turtle_x &lt; penguin_x
						turtle_frame = turtle_frame - 1
						
						'If frame gets too low, reset it
						If turtle_frame &lt;= 16
							turtle_frame = 19
						EndIf
						
					EndIf
					
					
					'If penguin gets too close, make turtle attack
					'Orient the turtle
					If Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) = 55 And turtle_x &gt;= penguin_x
						turtle_frame = 5
					ElseIf Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) = 55 And turtle_x &lt; penguin_x
						turtle_frame = 14
					EndIf
					
					'Attack animation
					If Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &lt; 55 And turtle_x &gt;= penguin_x
						turtle_frame = turtle_frame + 1
						
						'If frame gets too high, reset it
						If turtle_frame &gt; 9
							turtle_frame = 5
						EndIf
						
					ElseIf Sqr((turtle_x - penguin_x)^2 + (turtle_y - penguin_y)^2) &lt; 55 And turtle_x &lt; penguin_x
						turtle_frame = turtle_frame - 1
						
						'If frame gets too low, reset it
						If turtle_frame &lt; 10
							turtle_frame = 14
						EndIf
						
					EndIf
					
					
					Return turtle_frame
					
				End Function
				
				
			







				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdateWalrus_Frame()
				'CHECKS PENGUIN'S POSITION AND ORIENTS THE WALRUS AS WELL AS ANIMATING THE WALRUS
				'PARAMETERS: 
				'		walrus's x-coordinate
				'		walrus's y-coordinate 
				'		walrus's animation frame
				'		penguin's x-coordinate
				'		penguin's y-coordinate
				'RETURNS:
				'		walrus's frame
				''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdateWalrus_Frame(walrus_x, walrus_y, walrus_frame, penguin_x, penguin_y)
				
					'If the penguin is outside a radius of the walrus, idle the walrus
					If Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 100 And penguin_x &lt; (walrus_x + 100) And penguin_x &gt; (walrus_x - 100) And penguin_y &gt; walrus_y
						walrus_frame = 0
					ElseIf Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 100 And penguin_x &lt; (walrus_x + 100) And penguin_x &gt; (walrus_x - 100) And penguin_y &lt; walrus_y
						walrus_frame = 9
					ElseIf Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 100 And walrus_x &gt; penguin_x And penguin_y &gt; (walrus_y - 100) And penguin_y &lt; (walrus_y + 100)
						walrus_frame = 3
					ElseIf Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 100 And walrus_x &lt; penguin_x And penguin_y &gt; (walrus_y - 100) And penguin_y &lt; (walrus_y + 100)
						walrus_frame = 6
					EndIf
					
					
					'If the penguin is inside the radius of the walrus, animate walrus according to orientation
					If Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &lt; 100 And Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 55 And penguin_x &lt; (walrus_x + 100) And penguin_x &gt; (walrus_x - 100) And penguin_y &gt; walrus_y
				
						walrus_frame = walrus_frame + 1
						
						'If frame gets too high, reset it
						If walrus_frame &gt;= 2
							walrus_frame = 0
						EndIf
						
					ElseIf Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &lt; 100 And Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 55 And penguin_x &lt; (walrus_x + 100) And penguin_x &gt; (walrus_x - 100) And penguin_y &lt; walrus_y
						
						walrus_frame = walrus_frame + 1
						
						'If frame gets too high, reset it
						If walrus_frame &gt;= 11
							walrus_frame = 9
						EndIf
						
					ElseIf Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &lt; 100 And Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 55 And walrus_x &gt; penguin_x And penguin_y &gt; (walrus_y - 100) And penguin_y &lt; (walrus_y + 100)
						
						walrus_frame = walrus_frame + 1
						
						'If frame gets too high, reset it
						If walrus_frame &gt;= 5
							walrus_frame = 3
						EndIf
						
					ElseIf Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &lt; 100 And Sqr((walrus_x - penguin_x)^2 + (walrus_y - penguin_y)^2) &gt; 55 And walrus_x &lt; penguin_x And penguin_y &gt; (walrus_y - 100) And penguin_y &lt; (walrus_y + 100)
						
						walrus_frame = walrus_frame + 1
						
						'If frame gets too high, reset it
						If walrus_frame &gt;= 8
							walrus_frame = 6
						EndIf
						
					EndIf
						
					
					Return walrus_frame
					
				End Function










				'''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				'UpdatePolarBear_Frame()
				'CHECKS PENGUIN'S POSITION AND ANIMATES THE POLAR BEAR
				'PARAMETERS: 
				'		polar bear's x-coordinate
				'		polar bear's y-coordinate 
				'		polar bear's animation frame
				'		penguin's x-coordinate
				'		penguin's y-coordinate
				'RETURNS:
				'		polar bear's frame
				''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''''
				Function UpdatePolarBear_Frame(polarBear_x, polarBear_y, polarBear_frame, penguin_x, penguin_y)
				
					
					'If the penguin is outside a radius of the polar bear, idle the polar bear
					If Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &gt; 100 And polarBear_x &gt; penguin_x
						polarBear_frame = 19
					ElseIf Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &gt; 100 And polarBear_x &lt; penguin_x
						polarBear_frame = 0
					EndIf
				
				
					'If the penguin is inside the radius of the polar bear, animate polar bear according to orientation
					If Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &lt; 100 And Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &gt; 55 And polarBear_x &gt;= penguin_x
						polarBear_frame = polarBear_frame - 1
						
						'If frame gets too low, reset it
						If polarBear_frame &lt;= 14
							polarBear_frame = 19
						EndIf
						
					ElseIf Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &lt; 100 And Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &gt; 55 And polarBear_x &lt; penguin_x
						polarBear_frame = polarBear_frame + 1
						
						'If frame gets too high, reset it
						If polarBear_frame &gt;= 5
							polarBear_frame = 0
						EndIf
						
					EndIf
					
					
					'If penguin gets too close, make polar bear attack
					'Orient the polar bear
					If Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) = 55 And polarBear_x &gt;= penguin_x
						polarBear_frame = 13
					ElseIf Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) = 55 And polarBear_x &lt; penguin_x
						polarBear_frame = 6
					EndIf
					
					'Attack animation
					If Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &lt; 55 And polarBear_x &gt;= penguin_x
						polarBear_frame = polarBear_frame - 1
						
						'If frame gets too low, reset it
						If polarBear_frame &lt;= 10
							polarBear_frame = 13
						EndIf
						
					ElseIf Sqr((polarBear_x - penguin_x)^2 + (polarBear_y - penguin_y)^2) &lt; 55 And polarBear_x &lt; penguin_x
						polarBear_frame = polarBear_frame + 1
						
						'If frame gets too high, reset it
						If polarBear_frame &gt;= 9
							polarBear_frame = 6
						EndIf
						
					EndIf
					
					
					Return polarBear_frame
				
				End Function




</textarea> <br><br></td></tr></table><br>
<a name="984187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >_Skully</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Try using Debuglog instead... the text might be there and gone so quick you don't even see it.  I dont have time right now to debug <br><br></td></tr></table><br>
<a name="984194"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> When you call KeyHit(Key_F) you are removing it form the queue.  So, when you call it the first time for the Right side check, it gets cleared, so it is returning false when you check for the left side.<br><br>Change that piece of code to this:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'If player hits F key and is facing right, create a new snowball, initialize it
Local keyf:Int=KeyHit(KEY_F)
If keyf And KeyDown(KEY_RIGHT) 
	snowball:TObject = New TObject
	snowball.x = penguin.x + 5
	snowball.y = penguin.y
	snowball.orientation = 1
	ListAddLast(snowballs, snowball)
EndIf
				
'If player hits F key and is facing left, create a new snowball, initialize it
If keyf And KeyDown(KEY_LEFT)
	snowball:TObject = New TObject
	snowball.x = penguin.x - 5
	snowball.y = penguin.y
	snowball.orientation = 0
	ListAddLast(snowballs, snowball)
EndIf
</textarea> <br><br></td></tr></table><br>
<a name="984197"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also use SuperStrict or at least Strict, it will help in the long run with your coding... <br><br></td></tr></table><br>
<a name="984199"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> your problem is with your logic. It lies in the way you are using the key_hit.<br>the key_hit checks for a key and clears the key after checking if the specified key was hit. That means that the first time it checks for the "F" key it comes out true then it clears the key from the buffer. By the time it reaches the second key_hit the "F" has already been cleared from the buffer and is why it never comes out true for the second "F" key test.<br>for the solution you can do something like this:<br><pre class=code>
if "F" was hit

   if left was pressed 
          shoot left
   endif
   if right was pressed 
         shoot right
   endif
endif
</pre> <br><br></td></tr></table><br>
<a name="984220"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >abelian_grape</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome, it worked!  Thank you all so much yet again :)  And therevills, I'll have to read up on the Strict/SuperStrict commands.  I have no idea what that is.  Just started programming in BASIC about 2 months ago. <br><br></td></tr></table><br>
<a name="984221"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Basically Strict/SuperStrict will force you to code "better".<br><br>With Strict, you must declare your variables before you use them, whereas SuperStrict you must define the type of variable as well.<br><br>For example, this code wont compile using Strict<br><pre class=code>
x = 5
</pre><br>You need to do this:<br><pre class=code>
Local x
x = 5
</pre><br>And in SuperStrict, you need to do this:<br><pre class=code>
Local x:Int
x = 5
</pre><br><br>So you know the scope and type of the variable, it makes debugging so much easier! <br><br></td></tr></table><br>
<a name="984227"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So you know the scope and type of the variable, it makes debugging so much easier!  <br></div><br><br>It also makes the program execution slightly faster, since you pre-determine the datatype of each variable and the compiler won't have to generalize / second guess as much. <br><br></td></tr></table><br>
<a name="986389"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >schilcote</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How much faster? Is there a noticeable difference if, say, I have to iterate through 1,000 type objects with a whole bunch of fields and have to perform some operation (like drawing to the screen) on them? <br><br></td></tr></table><br>
<a name="986409"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know by how much, but Strict mode is win-win, so use it recruit!<br><br>*expects sir:TPerson, yes sir:TPerson* <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
