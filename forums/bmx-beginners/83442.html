<!DOCTYPE html><html lang="en" ><head ><title >floating point innacuracy :(</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >floating point innacuracy :(</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >floating point innacuracy :(</a><br><br>
<a name="941424"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> alas I have reached a major problem in a program.  It is just for fun so it is not urgent though.  I am trying to do high accuracy physics simulation in real time 'no code necessary to solve my problem' and I use ! after every variable for the highest possible acuracy yet when I run it I still run into floating point inacuracy.  Is there a way to make variables more acurate than ! in bmax? <br><br></td></tr></table><br>
<a name="941427"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gabriel</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I find it improbable that you've run into pure floating point precision issues with 64 bit floats. Most physics engines seem to manage perfectly well with them. I guess you could always write your own fixed point system, but I suspect that won't be trivial.<br><br>It is possible, however, that you've run into an issue where a wrong calculation or even just the wrong order of operations might be massively exacerbating a tiny floating point imprecision. Simple things such as forgetting to normalize a quaternion or vector could certainly lead you to suspect that. It would probably really help if you could be more specific about what operations you're performing and how you're determining that there is a problem which floating point inaccuracy could be causing. <br><br></td></tr></table><br>
<a name="941439"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your best bet for very high accuracy is to make your own precision number system. <br><br></td></tr></table><br>
<a name="941440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> My mapm module is accurate to 2,147,483,647 digits, but since that would require the whole of 2gig of RAM to store a single number, it's unlikely many people would need accuracy to that depth.<br><br>How many decimal places do you really need your calculations accurate to? 4, 8, 12?<br>As Gabriel says, Doubles are generally good enough. <br><br></td></tr></table><br>
<a name="941498"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> 2147483647 is plenty of places!!! oh ok I will check out your module brucey but I know it is floating point inacuracy because I have so many equations in a row that use variables from previous equations etc and it does this 10 times a loop to be as accurate as possible for collisions.  I guess inacurate but stable physics is better than acurate and unstable physics.  I just wanted to know if there was higher precicion. <br><br></td></tr></table><br>
<a name="941510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Double precision should be plenty good enough.<br><br>If your calculations are unstable then there are two possibilities. You may be modeling a physically unstable system, in which case there is not much you can do. Or the system is stable but the calculation is not, in which case your algorithms need work. <br><br></td></tr></table><br>
<a name="941512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is possible to run into floating point accuracy, but then you may be doing something 'wrong' - at least in some sense of the word. Examples include: adding and subtracting numbers that differ by multiple orders of magnitude, multiplying exponentiated numbers vs. adding the exponents, etc. Series approximations and iterative techniques may often trump 'exact' formulas, when you are using floating point numbers. <br><br></td></tr></table><br>
<a name="941543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Nate the Great</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> @ Floyd - I dont think it is an unstable equation, it just makes 2 pixel jumps that get very annoying due to very small floating point inacuracy :( I have given up the equation though so the question no longer matters. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
