<!DOCTYPE html><html lang="en" ><head ><title >Strange error. Doesn't appear in release mode...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Strange error. Doesn't appear in release mode...</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Strange error. Doesn't appear in release mode...</a><br><br>
<a name="1254828"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>When I am compiling my game in release mode the game runs very well.<br>But when I try to compile it in debug mode I have a strange error with description:<br><br>Unhandled Exception:Assert failed.<br><br>Then when I go to the debug line it goes to the cue sound code (from the audio library of blitzmax)<br><br><pre class=code>
	Method Cue:TDirectSoundChannel( alloced_channel:TChannel=Null )
		Local t:TDirectSoundChannel=TDirectSoundChannel( alloced_channel )
		If t
			Assert t._static &lt;============= THE ERROR GOES HERE
		Else
			t=TDirectSoundChannel.Create( False )
		EndIf
		t.Cue Self
		Return t
	End Method
</pre><br><br><br>The bug is produced when I try to play a sound with channel.<br><br>For example I have one code bellow to describe what I do and produce this error.<br><br><pre class=code>
Produce the error in debug mode
PlaySound(Door_Opening1, Ch_Door_Opening1)
It doesn't produce any error in debug mode but you don't have 3D sounds and other channel playing.
PlaySound(Door_Opening1)
</pre><br><br>The wav files loaded and get assigned to a channel.<br><br><pre class=code>
Door_Opening1 = LoadSound("zip::Sounds.zip//Doormech1.wav")
Ch_Door_Opening1 = CueSound(Door_Opening1)
</pre><br><br>I load my wav and assign it to the channel. with CueSound command.<br>If I will play the sound without CueSound the error is not appearing.<br>I tried to allocate the channel to but I have the same error.<br><br><pre class=code>
Door_Opening1 = LoadSound("zip::Sounds.zip//Doormech1.wav")
Ch_Door_Opening1 = AllocChannel()
Ch_Door_Opening1 = CueSound(Door_Opening1)
</pre><br><br>Do you know why this error is appearing in debug mode and not in release and how to fix it?<br><br>Thank you very much... <br><br></td></tr></table><br>
<a name="1254831"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I tried to allocate the channel to but I have the same error. <br></div><br><div class="quote"> Door_Opening1 = LoadSound("zip::Sounds.zip//Doormech1.wav")<br>Ch_Door_Opening1 = AllocChannel()<br>Ch_Door_Opening1 = CueSound(Door_Opening1) <br></div><br>Pretty sure this code isn't doing what you think it's doing.  If you pre-allocate the channel then you pass that channel to CueSound, thus:<br><br><pre class=code>Ch_Door_Opening1 = AllocChannel()
CueSound(DoorOpening1, Ch_Door_Opening1)
</pre><br><br>The way you've done it, is to create a channel then immediately overwrite it with another that's returned from CueSound().<br><br>Hit a similar error myself a long time ago and found pre-allocation of the channel to be the work-around. <br><br></td></tr></table><br>
<a name="1254849"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I tried your way and a new error was appeared:<br><br>Unhandled Exception:Attempt to access field or method of Null object<br><br>It goes to audio.bmx at the code:<br><br><pre class=code>
Function CueSound:TChannel( sound:TSound,channel:TChannel=Null )
	Return sound.Cue( channel ) &lt;=== THE ERROR IS HERE
End Function
</pre><br><br>I tried to just rem the Assert t._static line in the post above and the game worked in debug mode. <br><br></td></tr></table><br>
<a name="1254850"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ch_Door_Opening1 is defined as a TChannel, right? <br><br></td></tr></table><br>
<a name="1254852"></a>

<a name="1254853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes<br><br>And is a global variable.<br><br><pre class=code>
Global Door_Opening1:TSound
Global Ch_Door_Opening1:TChannel
</pre> <br><br></td></tr></table><br>
<a name="1254855"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hm... actually, which variable is showing Null in the debugger?  The sound, or the channel?  (or both?) <br><br></td></tr></table><br>
<a name="1254867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> It hits the error in debugger to the channel<br><br><pre class=code>
Function CueSound:TChannel( sound:TSound,channel:TChannel=Null )
	Return sound.Cue( channel )
End Function
</pre><br><br>Unhandled Exception:Attempt to access field or method of Null object at the channel.<br>Is it a bug of the language? <br><br></td></tr></table><br>
<a name="1254868"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt it - I've never hit this problem in all my years of Blitzmax.<br><br>Are you using Linux, by any chance? <br><br></td></tr></table><br>
<a name="1254874"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Windows 7 <br><br></td></tr></table><br>
<a name="1254922"></a>

<a name="1255054"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Assert" is ignored in "Release mode", so that is why you only see it in Debug. The "problem" is the same in both cases.<br><br>Replace "assert" with a throw-variant and it will raise the exception in both cases.<br><br><br><div class="quote"> Unhandled Exception:Attempt to access field or method of Null object at the channel. <br></div><br><br>Seems not "channel" is null, but "sound", because above clearly states, that something wants to access a METHOD or FIELD of something which is null.<br><br>I assume that it failed to load the sound somehow.<br><br>Before you do the "CueSound" - could you do a<br><pre class=code>If not DoorOpening1 then print "DoorOpening1 is null"</pre><br>and check if that gets print before crashing?<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1254980"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I put the code you said and I added an end command to make the program ends.<br><br><pre class=code>
Global Door_Opening1:TSound
Global Ch_Door_Opening1:TChannel

Door_Opening1 = LoadSound("zip::Sounds.zip//Doormech1.wav")
If Not Door_Opening1 Then Print "DoorOpening1 is null" End

CueSound(Door_Opening1, Ch_Door_Opening1)
</pre><br><br>And the error continued and the program hit in other file and other line. <br>So I discovered the problem is with the channel.<br>So I added another one line.<br><br><pre class=code>
If Not Ch_Door_Opening1 Then Print "Ch_Door_Opening1 is null" End
</pre><br>And then the program ended with message "Ch_Door_Opening1 is null"<br><br>So the channel is Null not the sound.<br><br><pre class=code>
	Door_Opening1 = LoadSound("zip::Sounds.zip//Doormech1.wav")
	CueSound(Door_Opening1, Ch_Door_Opening1)
	If Not Door_Opening1 Then Print "Door_Opening1 is null" End
	If Not Ch_Door_Opening1 Then Print "Ch_Door_Opening1 is null" End
</pre><br><br><br>Only changing with<br><pre class=code>
Ch_Door_Opening1 = CueSound(Door_Opening1)
</pre><br>Instead of<br><pre class=code>
CueSound(Door_Opening1, Ch_Door_Opening1)
</pre><br><br>The first cuesound return the channel to Ch_Door_Opening1 <br>And the second one pass the channel Ch_Door_Opening1 as argument.<br>What is the difference between?<br><br>It Doesn't produce the "Unhandled Exception:Attempt to access field or method of Null object at the channel. "<br>But produce the other with the assert as before.<br>And when I remove the "Assert t._static" line. <br>The program works.<br><br>I think I will remove this "Assert t._static" thing and I will continue my game :) <br><br></td></tr></table><br>
<a name="1254990"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> A bit random, but you do have speakers/headphones plugged in?  I vaguely recall a problem with DirectSound from years back where Blitzmax would crap out if there wasn't - as if there was no soundcard present at all. <br><br></td></tr></table><br>
<a name="1254996"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have headphones to test the volume and pan.<br>And speakers to test the sounds in generic.<br>I discovered yet another bug in my door sounds and 3d effects.<br>I will post some demo when I will fix my sound errors. <br><br></td></tr></table><br>
<a name="1255053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have another problem about when I try to play 2 same sounds simultaneously I hear the sound distorted.<br>I will send you a demo. I try to play the same sound for my doors near and far , but when I am playing the same sound during other sound is playing I hear the sound distorted. <br><br></td></tr></table><br>
<a name="1255055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> You need to allocate individual channels for them.<br><br><br>I was wondered about your "if bla = null then print X end"... I thought it needs to get chained using ";" ("if bla = null then print X;end") but somehow this isnt true...<br><br><br>@your error.<br>You posted this previously:<br><div class="quote"> It hits the error in debugger to the channel<br><pre class=code>
Function CueSound:TChannel( sound:TSound,channel:TChannel=Null )
	Return sound.Cue( channel )
End Function
</pre><br> <br></div><br><br>Which is saying: "sound.cue(channel)" is raising the error about access to null-ed child elements. This would mean, that "sound" does not contain "cue()". In all other cases, the debugger would jump to the error within the "Cue" method.<br><br>In all cases your debugging pane on the right side will show variable names + content (or memory address) - if something is null, this is printed too.<br><br><br>Ok back to the problem ... FreeAudio does not have this assert in "cue" - it just creates the channel if you did not provide a valid/existing one. Your DX-one instead checks if the existing TChannel is in reality a "TDirectSoundChannel" one ... and then it checks if it got created with a static-flag.<br><br><br>Ok ... so guess what? that "_static" isnt used anywhere - it is used in the "openalaudio"-version to check for a leak, but within Blitzmax the DirectSoundAudio-version isnt using "_static" for anything useful.<br><br>If you want to get rid of the assert you might create your channel correspondingly:<br><br><pre class=code>
local myChannelOne:TChannel
?Win32
myChannelOne = TDirectSoundChannel(true)
?not Win32
myChannelOne = AllocChannel()
?
</pre><br><br>But ... I just checked "AllocChannel()" and it runs the "AllocChannel"-Method of the individual Audiodriver ...<br>... did you set the AudioDriver at all? And if YES... do you create all these channels AFTER the audio driver was set?<br><br><br>The channel you are using and which is "not null" but of the type "TDirectSoundChannel" should have a "_static" value of "true" to not alert the "assert".<br><br><br><br><br>Short: you could remove that _static portion without problems. A real "debugging"-pane-analysis by you might help which portion of a object was null.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255059"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello again,<br>I have to say I haven't set any audio driver and I thought this happens automatically or choose the windows drivers.<br>How to set audiodrivers?<br><br>I have one little demo about what I have created so far with your very precious help. :)<br><br><a href="https://app.box.com/s/otxb8lhiph3sb2h434vl" target="_blank">Download a demo , and see how my sounds hear</a><br><br>The code of the doors in my game:<br><br><pre class=code>
	For All_Doors = 1 To max_doors

		'If Party.direction = 1 Or Party.direction = 2 Then
			If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 And Doors[Party.Level, All_Doors].Orientation = 1 Then
			Doors[Party.Level, All_Doors].dist_x1 = Doors[Party.Level, All_Doors].x - Party.x
			Doors[Party.Level, All_Doors].dist_y1 = Doors[Party.Level, All_Doors].y - Party.y
			Doors[Party.Level, All_Doors].distance = Sqr((Doors[Party.Level, All_Doors].dist_x1 * Doors[Party.Level, All_Doors].dist_x1) + (Doors[Party.Level, All_Doors].dist_y1 * Doors[Party.Level, All_Doors].dist_y1))
			Doors[Party.Level, All_Doors].direction1 = ATan2(Doors[Party.Level, All_Doors].y - Party.y, Doors[Party.Level, All_Doors].x - Party.x)
			EndIf
		'EndIf
		'If Party.direction = 3 Or Party.direction = 4 Then
			If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 And Doors[Party.Level, All_Doors].Orientation = 2 Then
			Doors[Party.Level, All_Doors].dist_x2 = Doors[Party.Level, All_Doors].x - Party.x
			Doors[Party.Level, All_Doors].dist_y2 = Doors[Party.Level, All_Doors].y - Party.y
			Doors[Party.Level, All_Doors].distance = Sqr((Doors[Party.Level, All_Doors].dist_x2 * Doors[Party.Level, All_Doors].dist_x2) + (Doors[Party.Level, All_Doors].dist_y2 * Doors[Party.Level, All_Doors].dist_y2))
			Doors[Party.Level, All_Doors].direction2 = ATan2(Doors[Party.Level, All_Doors].y - Party.y, Doors[Party.Level, All_Doors].x - Party.x)
			EndIf
		'EndIf

		'if the distance is from 0 - 5 then hear far and near
		If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 And Doors[Party.Level, All_Doors].Orientation = 1 Then
			If Doors[Party.Level, All_Doors].distance &gt;= 0 And Doors[Party.Level, All_Doors].distance &lt;= 1.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 2 And Doors[Party.Level, All_Doors].distance &lt;= 2.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 3 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 4.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 5 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			End If
		EndIf
		
		'if the distance is from 0 - 5 then hear far and near
		'rem
		If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 And Doors[Party.Level, All_Doors].Orientation = 2 Then
			If Doors[Party.Level, All_Doors].distance &gt;= 0 And Doors[Party.Level, All_Doors].distance &lt;= 1.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			Ch_Door_Closing2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			Ch_Door_Closed2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 2 And Doors[Party.Level, All_Doors].distance &lt;= 2.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			Ch_Door_Closing2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			Ch_Door_Closed2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 3 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			Ch_Door_Closing2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			Ch_Door_Closed2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			Ch_Door_Closing2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			Ch_Door_Closed2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 4.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			Ch_Door_Closing2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			Ch_Door_Closed2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 5 Then
			Ch_Door_Opening2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			Ch_Door_Closing2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			Ch_Door_Closed2.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			End If
		EndIf
		'endrem
		
		'Door animation mechanism , delay the animation a little	
		If (Current_time &gt;= Doors[Party.Level, All_Doors].Door_Deadline_time) Then
			Current_time = MilliSecs()
			Doors[Party.Level, All_Doors].Door_Deadline_time = Current_time + 1
			Doors[Party.Level, All_Doors].Time_Delay = Doors[Party.Level, All_Doors].Time_Delay + 1
			
				'Synchronize the door animation speed according to the FPS
				If fps &lt;= 29 Then door_speed = 10
				If fps &gt;= 30 And fps &lt;= 39 Then door_speed = 15
				If fps &gt;= 40 And fps &lt;= 49 Then door_speed = 20
				If fps &gt;= 50 And fps &lt;= 59 Then door_speed = 25
				
				If fps &gt;= 60 And fps &lt;= 79 Then door_speed = 30
				If fps &gt;= 80 And fps &lt;= 99 Then door_speed = 35
				If fps &gt;= 100 And fps &lt;= 119 Then door_speed = 40
				If fps &gt;= 120 And fps &lt;= 139 Then door_speed = 45
				If fps &gt;= 140 Then door_speed = 50
				
				'Delay 65 millisecs
				If Doors[Party.Level, All_Doors].Time_Delay &gt;= door_speed Then
				Doors[Party.Level, All_Doors].Time_Delay = 0
				'Reset the delay timer
					If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 And Doors[Party.Level, All_Doors].Orientation = 1 Then

						'If the door is in opening state
						If Doors[Party.Level, All_Doors].State = 1 Then
							'Increase the animation frame
							If Doors[Party.Level, All_Doors].Frame = 1 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 2 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 3 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 4 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 5 Then
							Doors[Party.Level, All_Doors].State = 3 Return
							EndIf
					
						EndIf
								
						'If the door is in closing state
						If Doors[Party.Level, All_Doors].State = 2 Then
							'Decrease the animition frame
							If Doors[Party.Level, All_Doors].Frame = 1 Then
							Doors[Party.Level, All_Doors].State = 4
							'PlaySound(Door_Closed1, Ch_Door_Closed1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 2 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closed1, Ch_Door_Closed1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 3 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing1, Ch_Door_Closing1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 4 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing1, Ch_Door_Closing1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 5 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing1, Ch_Door_Closing1) Return
							EndIf
					
						EndIf
				
					EndIf
					If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 And Doors[Party.Level, All_Doors].Orientation = 2 Then

						'If the door is in opening state
						If Doors[Party.Level, All_Doors].State = 1 Then
							'Increase the animation frame
							If Doors[Party.Level, All_Doors].Frame = 1 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening2, Ch_Door_Opening2) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 2 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening2, Ch_Door_Opening2) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 3 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening2, Ch_Door_Opening2) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 4 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening2, Ch_Door_Opening2) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 5 Then
							Doors[Party.Level, All_Doors].State = 3 Return
							EndIf
					
						EndIf
								
						'If the door is in closing state
						If Doors[Party.Level, All_Doors].State = 2 Then
							'Decrease the animition frame
							If Doors[Party.Level, All_Doors].Frame = 1 Then
							Doors[Party.Level, All_Doors].State = 4
							'PlaySound(Door_Closed1, Ch_Door_Closed1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 2 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closed2, Ch_Door_Closed2) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 3 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing2, Ch_Door_Closing2) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 4 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing2, Ch_Door_Closing2) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 5 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing2, Ch_Door_Closing2) Return
							EndIf
					
						EndIf
				
					EndIf
					
				EndIf

				
		EndIf

	Next

		
EndFunction 
</pre> <br><br></td></tr></table><br>
<a name="1255071"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I do not understand how the "demo code" will help to narrow down the bug.<br><br><br>In all cases: I think there is some code which could get shortened a bit.<br>You do things for all cases, so there is no need to have it written each time.<br><br>Also pay attention to your "ifs" regarding the state:<br><i><br>if state = 1 then doSomething<br>if state = 2 then doSomethingElse<br></i><br>if you change "state" within "doSomething" you might trigger that "if state = 2" in the same cycle, so better<br><i><br>if ...<br>elseif ...<br></i><br>in such cases.<br><br><br>@FPS doorspeed adjustment<br>??? why don't you "delta" this thing? Just define eg. "0.5seconds for whole animation" and then subtract the delta from a "timer value" which got set to 0.5 on start. It reaches 0 and 0.5seconds there gone. The relative progress is then (1.0 - timeLeft/0.5)<br><br><br>I do not want to teach you how to write code, but just a suggestion to make things more pregnant (you could even shorten that whole "doors" thing by looping through them using <br><pre class=code>
			If Doors[Party.Level, All_Doors].distance &gt;= 0 And Doors[Party.Level, All_Doors].distance &lt;= 1.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 1)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 2 And Doors[Party.Level, All_Doors].distance &lt;= 2.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.7)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 3 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.4)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.2)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 4.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.09)
			End If
			If Doors[Party.Level, All_Doors].distance &gt;= 5 Then
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * 0.0)
			End If
</pre><br><br><br><pre class=code>
			local volumeMod:float = 1.0
			If Doors[Party.Level, All_Doors].distance &gt;= 0 And Doors[Party.Level, All_Doors].distance &lt;= 1.99 Then
				volumeMod = 1
			Else If Doors[Party.Level, All_Doors].distance &gt;= 2 And Doors[Party.Level, All_Doors].distance &lt;= 2.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
				volumeMod = 0.7
			Else If Doors[Party.Level, All_Doors].distance &gt;= 3 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
				volumeMod = 0.4
			Else If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
				volumeMod = 0.2
			Else If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 4.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then
				volumeMod = 0.09
			'I would prefer an "else" -&gt; in all other cases do a volume=0
			'Else
			Else If Doors[Party.Level, All_Doors].distance &gt;= 5 Then
				volumeMod = 0
			End If
			Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * volumeMod)
			Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * volumeMod)
			Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * volumeMod)
</pre><br><br><br><br>Please show the code creating/allocating the channels.<br><br><br>@Setaudiodriver<br>No you should not be needed to do so ... but I was not aware that you do not do that, so I assumed a potential flaw in your code (channel allocation before the audio driver is inited -&gt; another audio driver would create a channel then).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255097"></a>

<a name="1255098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> This delta timer I have have relation about frames per second.<br>If for some reason your computer lags in frames per second the I calibrate the<br>timers so animation speed will be the same if the frames per second drop or increase.<br><br>About the creating and allocating channels I don't do anything complex<br><br>I just use<br>Global variables for the channel and the sounds<br><pre class=code>
Global Door_Opening1:TSound
Global Ch_Door_Opening1:TChannel
Global Door_Opening2:TSound
Global Ch_Door_Opening2:TChannel
</pre><br><br>And then I load my sound from .wav file<br><pre class=code>
	Door_Opening1 = LoadSound("zip::Sounds.eob//Doormech1.wav")
	Ch_Door_Opening1 = CueSound(Door_Opening1)
	Door_Opening2 = LoadSound("zip::Sounds.eob//Doormech1.wav")
	Ch_Door_Opening2 = CueSound(Door_Opening1)
</pre><br><br>I made a little change in the code and I create to separated sounds for horizontal and vertical doors. In fact the sound is the same but this avoids to play the same channel when you will open 2 doors which are horizontal.<br>Did you saw the demo?<br><br>Then the I am checking if the player is far or near to the door to hear the sound launder or quiet by increasing or decreasing the sound volume.<br><br>OK the volumeMod was nice it shortened my code a lot.<br><br>About the state of the door is my complex mechanism to tell to engine that my door is opening or closing or closed or opened to reverse the animation or start animation or stop. <br><br></td></tr></table><br>
<a name="1255105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am on Linux, not on Windows so I wont run your app except in a VM (which I use for building .exe files).<br><br><br>@Globals<br><br>I just wanted to know... because you might do some untold things there.<br><br>There is nothing wrong with using the "convencience accessors" (cuesound, loadsound) instead of their "oop" ones (Ch_Door_Opening2 = Door_Opening1.cue()). The whole audio-cueing-thing leaves me puzzled everytime so you are not alone.<br><br><br>@State<br>Yepp, I use states for my "elevator" too. Just make sure you do not forget "cases" and create dead loops or situations the door hangs inbetween states.<br><br><br>@Sound<br>Maybe Skidracer is able to explain for what the assert is used in the sound core. Think he is more firm regarding this mod.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255121"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made a lots of changes and I improved the code a little.<br>Now the problem is , when you open the door1 you hear the sound.<br>When you are opening the door2 and if there is a door1 near you hear the sound. Of the door1<br>But if you open the door4 which is far from door1 or other doors the code calculates the distance more than 5 because door4 if far from the door1 or 2 and you don't hear nothing.<br>But the for next loop scans all doors and I should hear the sounds of the doors which are in distance &lt;=5 individually.<br><br>If I will not use soundvolume or volumeMod I can hear all the door sound equally but I will not have this near and far sound effect.<br><br>The new code is shorter than previously:<br>The sound distortions wasn't about channel allocations. Also I still work with the assert code removed.<br><br><pre class=code>
Function Door_Mechanics()

	
	For All_Doors = 1 To max_doors

		'Door animation mechanism , delay the animation a little	
		If (Current_time &gt;= Doors[Party.Level, All_Doors].Door_Deadline_time) Then
			Doors[Party.Level, All_Doors].Door_Deadline_time = Current_time + Doors[Party.Level, All_Doors].Time_Delay

					'If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 And Doors[Party.Level, All_Doors].Orientation = 1 Then

						'If the door is in opening state
						If Doors[Party.Level, All_Doors].State = 1 Then
							'Increase the animation frame
							If Doors[Party.Level, All_Doors].Frame = 1 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 2 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 3 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 4 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame + 1
							PlaySound(Door_Opening1, Ch_Door_Opening1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 5 Then
							Doors[Party.Level, All_Doors].State = 3 Return
							EndIf
					
						EndIf
								
						'If the door is in closing state
						If Doors[Party.Level, All_Doors].State = 2 Then
							'Decrease the animition frame
							If Doors[Party.Level, All_Doors].Frame = 1 Then
							Doors[Party.Level, All_Doors].State = 4
							'PlaySound(Door_Closed1, Ch_Door_Closed1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 2 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closed1, Ch_Door_Closed1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 3 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing1, Ch_Door_Closing1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 4 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing1, Ch_Door_Closing1) Return
							EndIf
							If Doors[Party.Level, All_Doors].Frame = 5 Then
							Doors[Party.Level, All_Doors].Frame = Doors[Party.Level, All_Doors].Frame - 1
							PlaySound(Door_Closing1, Ch_Door_Closing1) Return
							EndIf
					
						EndIf
				
					
		EndIf
	
		'Synchronize the door animation speed according to the FPS
		If fps &lt;= 29 Then Doors[Party.Level, All_Doors].Time_Delay = 100
		If fps &gt;= 30 And fps &lt;= 39 Then Doors[Party.Level, All_Doors].Time_Delay = 150
		If fps &gt;= 40 And fps &lt;= 49 Then Doors[Party.Level, All_Doors].Time_Delay = 200
		If fps &gt;= 50 And fps &lt;= 59 Then Doors[Party.Level, All_Doors].Time_Delay = 250
				
		If fps &gt;= 60 And fps &lt;= 79 Then Doors[Party.Level, All_Doors].Time_Delay = 300
		If fps &gt;= 80 And fps &lt;= 99 Then Doors[Party.Level, All_Doors].Time_Delay = 350
		If fps &gt;= 100 And fps &lt;= 119 Then Doors[Party.Level, All_Doors].Time_Delay = 400
		If fps &gt;= 120 And fps &lt;= 139 Then Doors[Party.Level, All_Doors].Time_Delay = 450
		If fps &gt;= 140 Then Doors[Party.Level, All_Doors].Time_Delay = 500

			If Doors[Party.Level, All_Doors].x &gt; 0 And Doors[Party.Level, All_Doors].y &gt; 0 Then
			Doors[Party.Level, All_Doors].dist_x1 = Doors[Party.Level, All_Doors].x - Party.x
			Doors[Party.Level, All_Doors].dist_y1 = Doors[Party.Level, All_Doors].y - Party.y
			Doors[Party.Level, All_Doors].distance = Sqr((Doors[Party.Level, All_Doors].dist_x1 * Doors[Party.Level, All_Doors].dist_x1) + (Doors[Party.Level, All_Doors].dist_y1 * Doors[Party.Level, All_Doors].dist_y1))
			Doors[Party.Level, All_Doors].direction1 = ATan2(Doors[Party.Level, All_Doors].y - Party.y, Doors[Party.Level, All_Doors].x - Party.x)


				Ch_Door_Opening1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * Doors[Party.Level, All_Doors].volumeMod)
				Ch_Door_Closing1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * Doors[Party.Level, All_Doors].volumeMod)
				Ch_Door_Closed1.SetVolume(Doors[Party.Level, All_Doors].Sound_Volume * Doors[Party.Level, All_Doors].volumeMod)
				If Doors[Party.Level, All_Doors].distance &gt;= 0 And Doors[Party.Level, All_Doors].distance &lt;= 1.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then Doors[Party.Level, All_Doors].volumeMod = 1 Continue
				If Doors[Party.Level, All_Doors].distance &gt;= 2 And Doors[Party.Level, All_Doors].distance &lt;= 2.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then Doors[Party.Level, All_Doors].volumeMod = 0.7 Continue
				If Doors[Party.Level, All_Doors].distance &gt;= 3 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then Doors[Party.Level, All_Doors].volumeMod = 0.4 Continue
				If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then Doors[Party.Level, All_Doors].volumeMod = 0.2 Continue
				If Doors[Party.Level, All_Doors].distance &gt;= 4 And Doors[Party.Level, All_Doors].distance &lt;= 4.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then Doors[Party.Level, All_Doors].volumeMod = 0.09 Continue
				If Doors[Party.Level, All_Doors].distance &gt;= 5 Then Doors[Party.Level, All_Doors].volumeMod = 0 Continue


			EndIf


	
	Next

EndFunction
</pre><br><br>Walk around and open some doors.<br><a href="https://app.box.com/s/otxb8lhiph3sb2h434vl" target="_blank">Click here for next update</a> <br><br></td></tr></table><br>
<a name="1255161"></a>

<a name="1255162"></a>

<a name="1255163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, I adjusted your code - and more important, placed some comments in it.<br><br>What I have done is: redone some of the logic to catch previously ignored pitfalls (values differing to your expectations). Often used "array accesses" were shortened using a local variable - exception is if they are used in an "if...elseif...elseif"-part because they then are only used once at the end (for the if-condition which fit).<br><br>I also stopped PlaySound to get called in all cases - because this leads to this effect:<br>- door 1 opens and plays a sound<br>- door 3 opens and starts a sound too - so the sound of door1 is stopped inbetween<br><br>The "new" approach just plays a sound if no other open sound (vice versa for close) is playing.<br><br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Function Door_Mechanics()
	For All_Doors = 1 To max_doors
		local door:TDoorObject = Doors[Party.Level, All_Doors]

		'RON: somehow you ended up with an not existing door?
		'     -&gt; skip it
		if not door then continue
		
		'Door animation mechanism , delay the animation a little	
		If (Current_time &gt;= door.Door_Deadline_time) Then
			door.Door_Deadline_time = Current_time + door.Time_Delay

			'RON: I removed "Return" because return means: "leave all
			'     other doors alone" - which might not be intended.
			'     To skip further "processing" of a door in that moment,
			'     use "Continue" as it moves on to the next element in
			'     the parental "for"-loop.
			'     As I rewrote that portion and volume handling could be
			'     done in all cases, I removed the whole necessarity of
			'     a continue/return.
			'     I also assumed that there are no more than "5" frames
			'     and therefore replaced the last "if" in state 1 with
			'     an else - which catches all frames except 1,2,3,4

			'If the door is in opening state
			If door.State = 1 Then
				'Increase the animation frame
				If door.Frame &gt;= 1 and door.Frame &lt;= 4 Then
					door.Frame :+ 1
					'RON: only start this sound if a previous one
					'     finished playing
					If not Ch_Door_Opening1 Or not Ch_Door_Opening1.Playing()
						Ch_Door_Opening1 = PlaySound(Door_Opening1)
					EndIf
				Else
					door.State = 3
				EndIf

			'If the door is in closing state
			'RON: doing this in an "else if" avoids to get run when
			'     you change door.state to "2" in the "state = 1"-block
			ElseIf door.State = 2 Then
				'Decrease the animition frame
				If door.Frame = 1 Then
					door.State = 4
					'PlaySound(Door_Closed1, Ch_Door_Closed1)
				ElseIf door.Frame &gt;= 2 and door.Frame &lt;=5 Then
					door.Frame :- 1
					'RON: only start this sound if a previous one
					'     finished playing
					If not Ch_Door_Closed1 Or not Ch_Door_Closed1.Playing()
						PlaySound(Door_Closed1, Ch_Door_Closed1)
					EndIf
				EndIf
			EndIf
		EndIf


		'skip doors with negative coordinates and continue to next door
		If door.x &lt; 0 Or door.y &lt; 0 Then continue

		door.dist_x1 = door.x - Party.x
		door.dist_y1 = door.y - Party.y
		door.distance = Sqr((door.dist_x1 * door.dist_x1) + (door.dist_y1 * door.dist_y1))
		door.direction1 = ATan2(door.y - Party.y, door.x - Party.x)

		'RON: you could skip the "if x Then" portion if you are sure
		'     that the channels exist in that moment!
		If Ch_Door_Opening1 Then Ch_Door_Opening1.SetVolume(door.Sound_Volume * door.volumeMod)
		If Ch_Door_Closing1 Then Ch_Door_Closing1.SetVolume(door.Sound_Volume * door.volumeMod)
		If Ch_Door_Closed1 Then Ch_Door_Closed1.SetVolume(door.Sound_Volume * door.volumeMod)

		'use a default of 0 for all cases (&lt;0 and &gt; 4.99)
		door.volumeMod = 0
		If door.distance &gt;= 0 and Stairs[Party.Level, All_Doors].transfering = 0
			if door.distance &lt;= 1.99
				door.volumeMod = 1
			ElseIf door.distance &lt;= 2.99
				door.volumeMod = 0.7
			ElseIf door.distance &lt;= 3.99
				door.volumeMod = 0.4
			'RON: this was never run &gt;4 AND &lt;3.99 is not possible
			'ElseIf door.distance &gt;= 4 And door.distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then door.volumeMod = 0.2 Continue
			ElseIf door.distance &lt;= 4.99 Then
				door.volumeMod = 0.09
			EndIf
		EndIf
	Next

	'RON:
	'Another loop just to adjust time_delay of the doors.
	'This keeps things "split" from each other ... and I am sure
	'things will not work as intended as soon as fps has "hickups".
	'This also keeps this code away from the previously faulty one
	For All_Doors = 1 To max_doors
		'RON:
		'in difference to your code I changed from multiple "if" to
		'"if ...elseif" so not every condition is checked
		
		'Synchronize the door animation speed according to the FPS
		If fps &lt;= 29
			Doors[Party.Level, All_Doors].Time_Delay = 100
		ElseIf fps &gt;= 30 And fps &lt;= 39
			Doors[Party.Level, All_Doors].Time_Delay = 150
		ElseIf fps &gt;= 40 And fps &lt;= 49
			Doors[Party.Level, All_Doors].Time_Delay = 200
		ElseIf fps &gt;= 50 And fps &lt;= 59
			Doors[Party.Level, All_Doors].Time_Delay = 250
		ElseIf fps &gt;= 60 And fps &lt;= 79
			Doors[Party.Level, All_Doors].Time_Delay = 300
		ElseIf fps &gt;= 80 And fps &lt;= 99
			Doors[Party.Level, All_Doors].Time_Delay = 350
		ElseIf fps &gt;= 100 And fps &lt;= 119
			Doors[Party.Level, All_Doors].Time_Delay = 400
		ElseIf fps &gt;= 120 And fps &lt;= 139
			Doors[Party.Level, All_Doors].Time_Delay = 450
		Else
			Doors[Party.Level, All_Doors].Time_Delay = 500
		EndIf
	Next
EndFunction
</textarea><br><br><br>I will post some kind of "ChannelPool" within the next minutes, so you should be able to play multiple sounds simultaneously. Just have to write one (so it will be a bit of untested and raw).<br><br>The pool shouldn't be needed at all, as it is some kind of "software mixing" and no hardware mixer (which then has a limit of eg. 16 channels). So in theory EACH of your doors could have its own channel ... and because this doors cannot be in open,close,closed-state at the same time, you wont need to play 3 sound files at once (for each door).<br><br>In my game each of the room-doors in the building has its own channel to play sounds.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255165"></a>

<a name="1255168"></a>

<a name="1255169"></a>

<a name="1255172"></a>

<a name="1255173"></a>

<a name="1255178"></a>

<a name="1255179"></a>

<a name="1255180"></a>

<a name="1255186"></a>

<a name="1255192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, here is a simple channel pool including an example.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Rem
	====================================================================
	class providing a simple channel pool
	====================================================================

	With this class it is easy to allocate channels or reuse existing
	ones in the case of a limitation regarding channel count.

	You are able to protect channels so they do not get returned for
	reuse (like background music channels).


	====================================================================
	If not otherwise stated, the following code is available under the
	following licence:

	LICENCE: zlib/libpng

	Copyright (C) 2015 Ronny Otto, digidea.de

	This software is provided 'as-is', without any express or
	implied warranty. In no event will the authors be held liable
	for any	damages arising from the use of this software.

	Permission is granted to anyone to use this software for any
	purpose, including commercial applications, and to alter it
	and redistribute it freely, subject to the following restrictions:

	1. The origin of this software must not be misrepresented; you
	   must not claim that you wrote the original software. If you use
	   this software in a product, an acknowledgment in the product
	   documentation would be appreciated but is not required.

	2. Altered source versions must be plainly marked as such, and
	   must not be misrepresented as being the original software.

	3. This notice may not be removed or altered from any source
	   distribution.
	====================================================================
EndRem
SuperStrict
Import brl.Audio
Import brl.Map


Type TChannelPool
	Global channels:TMap = CreateMap()
	'a list of keys for channels you cannot "overwrite" when exceeding
	'a limit
	Global protectedChannels:string[]
	'is there a limit of channels? As channels are "software mixed"
	'by the audio-module, there shouldn't be some
	Global channelLimit:int = -1
	Global channelCount:int = -1


	'returns the channel associated to the given key
	'If no channel exists yet, a new one is created/added automatically
	Function GetChannel:TChannel(key:string)
		key = key.toLower()
		local channel:TChannel = TChannel(channels.ValueForKey(key))
		if not channel then channel = AddChannel(key, AllocChannel())
		'if we do not have a channel now, we will surely have exceeded a
		'limit. In that case we return a random one to override it
		If not channel and GetChannelCount() &gt;= 1
			local channelKey:string = GetRandomChannelKey()
			If not channelKey
				Throw "TChannelPool: Limit exceeded. No existing and valid channel found to reuse."
			EndIf

			local channel:TChannel = TChannel(channels.ValueForKey(channelKey))
			If not channel
				Throw "TChannelPool: channelKey invalid."
			EndIf

			'remove the old channel, and add it back with the new
			'name - so from now on, the newly requested key is stored
			'instead of the old one
			RemoveChannel(channelKey)
			AddChannel(key, channel)
		EndIf

		return channel
	End Function


	'returns the channel of a random channel key
	Function GetRandomChannel:TChannel()
		return TChannel(channels.ValueForKey( GetRandomChannelKey() ))
	End Function

	
	'returns the key of a random channel
	'currently unused channels are preferred so it is not truly "random"
	Function GetRandomChannelKey:String()
		'if no protected channels are existent ... we just could
		'randomly access a channel
		If protectedChannels.length = 0
			local randNumber:int = Rnd(1, GetChannelCount())
			local randPosition:int = 0
			For local k:string = EachIn channels.Keys()
				randPosition :+ 1
				If randPosition &gt;= randNumber and not isProtectedChannel(k)
					return k
				EndIf
			Next
			return ""
		Else
			'create an array containing just "unprotected" channels
			'also store not playing channels in an extra array
			'because we prefer an currently unused channel
			local unprotectedChannelKeys:string[]
			local unprotectedUnusedChannelKeys:string[]
			local channel:TChannel
			For local k:string = EachIn channels.Keys()
				If isProtectedChannel(k) then Continue
				channel = TChannel(channels.ValueForKey(k))
				If not channel then continue

				unprotectedChannelKeys :+ [k]
				If not channel.Playing()
					unprotectedUnusedChannelKeys :+ [k]
				EndIf
			Next

			If not unprotectedChannelKeys
				Throw "TChannelPool.GetRandomChannelKey(): No unprotected and valid channel found to return."
			Else
				If unprotectedUnusedChannelKeys
					return unprotectedUnusedChannelKeys[ Rnd(0,unprotectedUnusedChannelKeys.length-1) ]
				Else
					return unprotectedChannelKeys[ Rnd(0,unprotectedChannelKeys.length-1) ]
				EndIf
			EndIf
		EndIf
		return ""
	End Function


	Function RemoveChannel:TChannel(key:string)
		key = key.toLower()
		local channel:TChannel = GetChannel(key)
		if not channel then return Null

		channels.Remove(key)
		'invalidate channel count
		channelCount = -1
		'remove a previously set protection?
		UnProtectChannel(key)

		return channel
	End Function


	Function HasChannel:Int(key:string)
		key = key.toLower()
		For local k:string = EachIn channels.Keys()
			if k = key then return True
		Next

		return False
	End Function


	'adds a channel - and overwrites potentially existing ones
	Function AddChannel:TChannel(key:string, channel:TChannel)
		'if there is a limit, skip adding a channel if limit is
		'exceeded
		If channelLimit &gt;= 0 and GetChannelCount() &gt; channelLimit
			return Null
		EndIf

		key = key.toLower()
		channels.insert(key, channel)

		'invalidate channelCount
		channelCount = -1

		'remove a previously set protection?
		'UnProtectChannel(key)
	End Function


	Function isProtectedChannel:Int(key:string)
		if not protectedChannels then return False
		key = key.ToLower()
		For local k:string = EachIn protectedChannels
			if k = key then return True
		Next
		return False
	End Function
	

	'mark a channel for protection so it cannot get overwritten
	'when the limits exceed
	Function ProtectChannel:int(key:string)
		'already protected?
		if isProtectedChannel(key) then return True

		key = key.ToLower()
		protectedChannels :+ [key]
	End Function


	Function UnProtectChannel:int(key:string)
		if not protectedChannels then return False
		
		key = key.ToLower()
		local newProtectedChannels:string[]

		For local k:string = EachIn protectedChannels
			if k &lt;&gt; key then newProtectedChannels :+ [k]
		Next

		protectedChannels = protectedChannels
	End Function


	Function GetChannelCount:int(forceRecount:int = False)
		'use cached var
		if not forceRecount and channelCount &gt;= 0 then return channelCount

		channelCount = 0
		For local channel:TChannel = EachIn channels.Values()
			channelCount :+1
		Next

		return channelCount
	End Function
End Type


'convenience accessors
Function GetPooledChannel:TChannel(key:string)
	return TChannelPool.GetChannel(key)
End Function

Function GetRandomPooledChannel:TChannel()
	return TChannelPool.GetRandomChannel()
End Function

Function AddPooledChannel:TChannel(key:string, channel:TChannel)
	return TChannelPool.AddChannel(key, channel)
End Function

Function RemovePooledChannel:TChannel(key:string)
	return TChannelPool.RemoveChannel(key)
End Function

Function PooledChannelExists:Int(key:string)
	return TChannelPool.HasChannel(key)
End Function

Function ProtectPooledChannel(key:string)
	TChannelPool.ProtectChannel(key)
End Function

Function UnProtectPooledChannel(key:string)
	TChannelPool.UnProtectChannel(key)
End Function



'Example
'instead of creating globals to store individual channels, we just
'place all of them in a pool/collection
Graphics 800, 600, 0


Global sound:TSound = LoadSound("sound1.ogg")
Global sound2:TSound = LoadSound("sound2.ogg")

Repeat
	'enable this to see how only one channel is used
	'TChannelPool.channelLimit = 1
	'enable this to see an error thrown when trying to use other
	'channels than "soundchannel1"
	'ProtectPooledChannel("soundchannel1")
	
	if KeyHit(KEY_1) then PlaySound(sound, GetPooledChannel("soundchannel1"))
	if KeyHit(KEY_2) then PlaySound(sound2, GetPooledChannel("soundchannel1"))

	if KeyHit(KEY_3) then PlaySound(sound, GetPooledChannel("soundchannel2"))
	if KeyHit(KEY_4) then PlaySound(sound2, GetPooledChannel("soundchannel3"))

	if KeyHit(KEY_Q) then GetPooledChannel("soundchannel1").Stop()
	if KeyHit(KEY_W) then GetPooledChannel("soundchannel1").Stop()
	if KeyHit(KEY_E) then GetPooledChannel("soundchannel2").Stop()
	if KeyHit(KEY_R) then GetPooledChannel("soundchannel3").Stop()

	Cls

	local channel1:string = "unused"
	local channel2:string = "unused"
	local channel3:string = "unused"
	if GetPooledChannel("soundchannel1").Playing() then channel1 = "USED"
	if GetPooledChannel("soundchannel2").Playing() then channel2 = "USED"
	if GetPooledChannel("soundchannel3").Playing() then channel3 = "USED"

	DrawText("[1] .. play sound 1 on "+channel1+" channel 1", 10, 10+0*15)
	DrawText("[2] .. play sound 2 on "+channel1+" channel 1", 10, 10+1*15)
	DrawText("[3] .. play sound 1 on "+channel2+" channel 2", 10, 10+3*15)
	DrawText("[4] .. play sound 2 on "+channel3+" channel 3", 10, 10+4*15)
	DrawText("[Q] .. stop sound 1 on channel 1", 350, 10+0*15)
	DrawText("[W] .. stop sound 2 on channel 1", 350, 10+1*15)
	DrawText("[E] .. stop sound 1 on channel 2", 350, 10+3*15)
	DrawText("[R] .. stop sound 2 on channel 3", 350, 10+4*15)

	Flip 0
Until KeyHit(KEY_ESCAPE) or AppTerminate()
</textarea><br><br>if you prefer colored code visit my frameworks page:<br>tchannelpool:<br><a href="https://github.com/GWRon/Dig/blob/master/base.sfx.channelpool.bmx" target="_blank">https://github.com/GWRon/Dig/blob/master/base.sfx.channelpool.bmx</a><br>sample:<br><a href="https://github.com/GWRon/Dig/blob/master/samples/channelpool/channelpool.bmx" target="_blank">https://github.com/GWRon/Dig/blob/master/samples/channelpool/channelpool.bmx</a><br><br>for your code this means, that you need some slight modifications (no check for already playing etc.).<br><br>I will post a modified version of the code soon.<br><br><br>EDIT: here we go, your code incorporating the channel pool and another adjustment (reordered volumeMod-calculation and volume-adjustment)<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Import "channelpool.bmx"

Function Door_Mechanics()
	For All_Doors = 1 To max_doors
		local door:TDoorObject = Doors[Party.Level, All_Doors]

		'RON: somehow you ended up with an not existing door?
		'     -&gt; skip it
		if not door then continue
		
		'Door animation mechanism , delay the animation a little	
		If (Current_time &gt;= door.Door_Deadline_time) Then
			door.Door_Deadline_time = Current_time + door.Time_Delay

			'RON: I removed "Return" because return means: "leave all
			'     other doors alone" - which might not be intended.
			'     To skip further "processing" of a door in that moment,
			'     use "Continue" as it moves on to the next element in
			'     the parental "for"-loop.
			'     As I rewrote that portion and volume handling could be
			'     done in all cases, I removed the whole necessarity of
			'     a continue/return.
			'     I also assumed that there are no more than "5" frames
			'     and therefore replaced the last "if" in state 1 with
			'     an else - which catches all frames except 1,2,3,4

			'If the door is in opening state
			If door.State = 1 Then
				'Increase the animation frame
				If door.Frame &gt;= 1 and door.Frame &lt;= 4 Then
					door.Frame :+ 1

					'RON: use "door" and "coordinates" to create a
					'     unique key -&gt; "door[1,52,23]" for a door on
					'     level 1 at x=52 and y=23
					'     (ATTENTION: use "door.level" if it exists)
					'
					'     This STOPS previously playing sounds on this
					'     channel!
					'     So if you want to allow a door to play Open-
					'     AND Close- sounds simultaneously, just add
					'     ".open" to the key, and it creates another
					'     channel: "door[1,52,23].open"
					PlaySound(Door_Opening1, GetPooledChannel("door["+Party.Level+","+door.x+","+door.y+"]")
				Else
					door.State = 3
				EndIf

			'If the door is in closing state
			'RON: doing this in an "else if" avoids to get run when
			'     you change door.state to "2" in the "state = 1"-block
			ElseIf door.State = 2 Then
				'Decrease the animition frame
				If door.Frame = 1 Then
					door.State = 4
					'RON: see "state=1" for comments about GetPooledChannel
					'PlaySound(Door_Closed1, GetPooledChannel("door["+Party.Level+","+door.x+","+door.y+"]")
				ElseIf door.Frame &gt;= 2 and door.Frame &lt;=5 Then
					door.Frame :- 1
					'RON: see "state=1" for comments about GetPooledChannel
					PlaySound(Door_Closed1, GetPooledChannel("door["+Party.Level+","+door.x+","+door.y+"]")
				EndIf
			EndIf
		EndIf


		'skip doors with negative coordinates and continue to next door
		If door.x &lt; 0 Or door.y &lt; 0 Then continue

		door.dist_x1 = door.x - Party.x
		door.dist_y1 = door.y - Party.y
		door.distance = Sqr((door.dist_x1 * door.dist_x1) + (door.dist_y1 * door.dist_y1))
		door.direction1 = ATan2(door.y - Party.y, door.x - Party.x)

		'RON: I switched "volumeMod"-calculation and "volume adjustment"
		'     so the volume is already using the current distance and
		'     does no longer wait for the next tick

		'use a default of 0 for all cases (&lt;0 and &gt; 4.99)
		door.volumeMod = 0
		If door.distance &gt;= 0 and Stairs[Party.Level, All_Doors].transfering = 0
			if door.distance &lt;= 1.99
				door.volumeMod = 1
			ElseIf door.distance &lt;= 2.99
				door.volumeMod = 0.7
			ElseIf door.distance &lt;= 3.99
				door.volumeMod = 0.4
			'RON: this was never run &gt;4 AND &lt;3.99 is not possible
			'ElseIf door.distance &gt;= 4 And door.distance &lt;= 3.99 And Stairs[Party.Level, All_Doors].transfering = 0 Then door.volumeMod = 0.2 Continue
			ElseIf door.distance &lt;= 4.99 Then
				door.volumeMod = 0.09
			EndIf
		EndIf

		'RON: That key-thing could be done at the top and reused in the
		'     playsound-part too!
		local channelKey:string = "door["+Party.Level+","+door.x+","+door.y+"]"
		If PooledChannelExists(channelKey)
			GetPooledChannel(channelKey).SetVolume(door.Sound_Volume * door.volumeMod)
		EndIf
	Next

	'RON:
	'Another loop just to adjust time_delay of the doors.
	'This keeps things "split" from each other ... and I am sure
	'things will not work as intended as soon as fps has "hickups".
	'This also keeps this code away from the previously faulty one
	For All_Doors = 1 To max_doors
		'RON:
		'in difference to your code I changed from multiple "if" to
		'"if ...elseif" so not every condition is checked
		
		'Synchronize the door animation speed according to the FPS
		If fps &lt;= 29
			Doors[Party.Level, All_Doors].Time_Delay = 100
		ElseIf fps &gt;= 30 And fps &lt;= 39
			Doors[Party.Level, All_Doors].Time_Delay = 150
		ElseIf fps &gt;= 40 And fps &lt;= 49
			Doors[Party.Level, All_Doors].Time_Delay = 200
		ElseIf fps &gt;= 50 And fps &lt;= 59
			Doors[Party.Level, All_Doors].Time_Delay = 250
		ElseIf fps &gt;= 60 And fps &lt;= 79
			Doors[Party.Level, All_Doors].Time_Delay = 300
		ElseIf fps &gt;= 80 And fps &lt;= 99
			Doors[Party.Level, All_Doors].Time_Delay = 350
		ElseIf fps &gt;= 100 And fps &lt;= 119
			Doors[Party.Level, All_Doors].Time_Delay = 400
		ElseIf fps &gt;= 120 And fps &lt;= 139
			Doors[Party.Level, All_Doors].Time_Delay = 450
		Else
			Doors[Party.Level, All_Doors].Time_Delay = 500
		EndIf
	Next
EndFunction
</textarea><br><br><br>EDIT2: I extended my TChannelPool to enable "protection" of certain channels (so the "random overwrite of existing channels with channelLimit enabled" wont return these channels -&gt; like "backgroundMusic"-channels). I also created some more convenience-accessors, although I do not like them for this short type names (they are useful to shorten code for the purpose of reclaiming a bit of overview in your code).<br><br>Also try to NOT create too long lines of code - most editors present you a vertical line (80 chars) which is a good length of a code line. This is more important if you share your code with others (smaller screens) or want compare DIFF-files (left and right side showing differences between files).<br>I know this is hard some times but maybe worth to give a try. It eases the path to detect mistakes because it allowes your eyes to focus on a smaller area of the screen (or allows for bigger font sizes :p).<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255229"></a>

<a name="1255230"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Your code looks nice , is little complex and I forgot to send you the type of those doors.<br><br><pre class=code>
Type My_doors

	Field x:Byte 'position X on the map
	Field y:Byte 'position Y on the map

	Field dist_x1:Int 'Distance calculation for horizontal doors
	Field dist_y1:Int
	Field dist_x2:Int 'Distance calculation for vertical doors
	Field dist_y2:Int
	Field distance:Int
	Field direction1:Int 'sound direction pan for each horizontal door
	Field direction2:Int 'sound direction pan for each vertical door
	
	
	Field Level:Byte 'Which level is the door on

	Field State:Byte '1 opening 2 closing 3 opened 4 closed
	Field Have_button:Byte 'have a button to open or close it
	Field Time_delay:Int 'animation speed
	Field Locked:String 'L= locked U= unlocked
	
	Field Frame:Byte 'sprite animation frame
	Field Locked_with_item:String 'the item or key to unlock the door
	Field Orientation:Byte '1= horizontal or 2= vertical
	Field Graphic:String 'the graphic of the door "01"=Door graphic1 "02"=Door graphic2 etc..
	Field Button_pressed:Byte 'The button was pressed then start the door mechanics
	Field Door_Deadline_time:Int
	
	Field Sound_Pan:Float
	Field Sound_Volume:Float
	Field volumeMod:Float
	Field volumeMod1:Float
	Field volumeMod2:Float
	
EndType

Global Doors:My_Doors[max_levels + 1, max_doors + 1]
For lvl = 1 To max_levels
	For All_Doors = 1 To max_doors
		Doors[lvl, All_Doors] = New My_doors
	Next
Next
</pre><br><br>Also I replaced all doors. with Doors[Party.Level, All_Doors].<br>Because I have my own ready made type.<br>I removed the <br>'local door:TDoorObject = Doors[Party.Level, All_Doors]<br>Because I am already have my types.<br>I have to change my code again.<br><br>I created a new file in my project and I copied the code above.<br>I remove some multiple Local k:String because the compiler have error with duplicate identifier and I put only once in the Function GetRandomChannelKey:String().<br><br>Also I removed some Local channel:TChannel and I put on top of the function GetRandomChannelKey:String() too , because the compiler complained about duplicate identifiers.<br><br>I need to change the code about the door states because you have changed a little.<br>The state=1 means the door is opening and plays the opening sound.<br>The state=2 means the door is closing and plays the closing sound another sound.<br>The state=3 means the door is opened and stops the animation<br>The state=4 means the door is closed and plays the shut door sound another one and stops the animation.<br><br>It seems the Channel Pool code did very nice work for a draft changing of my code , I will fix few error in states and some duplicated identifiers.<br>I hear the sound well now without distortions near and far to all doors.<br><br>Now I have and the soundpan commands to make the sound hear from the left or right speaker or both speakers if you are in front of the door or back.<br><br>I added and another one line<br>GetPooledChannel(channelKey).SetPan(Doors[Party.Level, All_Doors].Sound_Pan)<br>The GetPooledChannel command is very nice.<br><br>The code below is for sound pan. <br><pre class=code>
		'skip doors with negative and 0 coordinates and continue to next door
		If Doors[Party.Level, All_Doors].x &lt;= 0 Or Doors[Party.Level, All_Doors].y &lt;= 0 Then Continue

		Doors[Party.Level, All_Doors].dist_x1 = Doors[Party.Level, All_Doors].x - Party.x
		Doors[Party.Level, All_Doors].dist_y1 = Doors[Party.Level, All_Doors].y - Party.y
		Doors[Party.Level, All_Doors].distance = Sqr((Doors[Party.Level, All_Doors].dist_x1 * Doors[Party.Level, All_Doors].dist_x1) + (Doors[Party.Level, All_Doors].dist_y1 * Doors[Party.Level, All_Doors].dist_y1))
		Doors[Party.Level, All_Doors].direction = ATan2(Doors[Party.Level, All_Doors].y - Party.y, Doors[Party.Level, All_Doors].x - Party.x)

		'Pan the sound if the party is on specific direction
		If Doors[Party.Level, All_Doors].Orientation = 1
			'The party faces to the North
			If Party.direction = 1 Then
				'The door direction is in front or in back
				If Doors[Party.Level, All_Doors].direction = -90 Or Doors[Party.Level, All_Doors].direction = 90 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = 0 sound_panned = 1
				'The door direction is to the left or the right
				If Doors[Party.Level, All_Doors].direction &lt; - 90 Or Doors[Party.Level, All_Doors].direction &gt; 90 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = -1 sound_panned = 1
				'The door direction is to the right or the the left
				If Doors[Party.Level, All_Doors].direction &gt; - 90 Or Doors[Party.Level, All_Doors].direction &lt; 90 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = + 1 sound_panned = 1
			'The party faces to the South
			ElseIf Party.direction = 2 Then
				If Doors[Party.Level, All_Doors].direction = 90 Or Doors[Party.Level, All_Doors].direction = -90 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = 0 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &lt; 90 Or Doors[Party.Level, All_Doors].direction &lt; - 45 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = -1 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &gt; 90 Or Doors[Party.Level, All_Doors].direction &gt; - 45 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = + 1 sound_panned = 1
			'The party faces to the West
			ElseIf Party.direction = 3 Then
				If Doors[Party.Level, All_Doors].direction = 180 Or Doors[Party.Level, All_Doors].direction = 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = 0 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &gt; 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = -1 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &lt; 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = + 1 sound_panned = 1
			'The party faces to the East
			ElseIf Party.direction = 4 Then
				If Doors[Party.Level, All_Doors].direction = 180 Or Doors[Party.Level, All_Doors].direction = 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = 0 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &lt; 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = -1 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &gt; 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = + 1 sound_panned = 1
			EndIf
		End If
</pre><br>But this works for only for the first door.<br>What do I am making wrong?<br><br>You need to wear headsets to see the difference from the left and right speaker.<br>The updated demo is here.<br>I have disabled the party collision to travel though walls and step left , right and in front of each door to hear the effect (Only in door1).<br><br><a href="https://app.box.com/s/otxb8lhiph3sb2h434vl" target="_blank">Click here for updated demo</a><br> <br>I still don't understand when I put elseif. Suppose if there is not any if means else.<br><br>Supplementary:<br>You will open only the horizontal doors (North and South doors) not the vertical one , I haven't done it yet. .orientation is the 1=horizontal or 2=vertical doors<br>:) <br><br></td></tr></table><br>
<a name="1255287"></a>

<a name="1255288"></a>

<a name="1255289"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> First of all: there is NO need to remove the whole "door = Doors[...]" part just because I wrote a different type name behind "door:".<br><br>Just use<br><pre class=code>
local door:My_doors = Doors[Party.Level, All_Doors]
</pre><br>and there you go...<br><br><br>@else<br><pre class=code>
If 10 &lt; 5 then
  print "this if is skipped !"
ElseIf 10 &lt; 8
  print "this elseIf is skipped !"
ElseIf 10 &lt; 11
  print "this elseif is finally run"
Else
  print "in all other situations not catched by aboves if/elseif this is run"
EndIf
</pre><br><br>Your chain of "ifs" might ignore the "in all other cases" portion. You tend to use "return" to skip further processing of follow up "ifs". The "else if" makes such things needless.<br><br><br>@locals / double definitions<br>Yeah, I use "SuperStrict" as much as I can, which does not blame such things. Also my code wasnt test compiled (as I miss much your code to do this)... <br><br><br><br>So ... I modified your code -- and I am pretty sure that your "sound_panned = 0" is the source of your problem with only the first door getting a panning. Once the first door gets a panning, your "sound_panning" is set to "1". The next door then starts with "sound_panning=1" already and therefor would never pass the conditions in the if-clauses.<br><br>If you really need such a sound_panned (eg. to check afterwards if a panning took place) make sure, you reset that variable in the head of the for-loop.<br><br><br><pre class=code>
		'RON: replace "My_Doors" with whatever is the name of the door
		'     type
		local door:My_Doors = Doors[Party.Level, All_Doors]

		'skip doors with negative and 0 coordinates and continue to next door
		If door.x &lt;= 0 Or door.y &lt;= 0 Then Continue

		door.dist_x1 = Doors[Party.Level, All_Doors].x - Party.x
		door.dist_y1 = Doors[Party.Level, All_Doors].y - Party.y
		door.distance = Sqr((door.dist_x1 * door.dist_x1) + (door.dist_y1 * door.dist_y1))
		door.direction = ATan2(door.y - Party.y, door.x - Party.x)

		'RON: you checked for "sound_panned = 0" in ALL your following
		'     ifs ... so you can do that ONCE for all
		'     -&gt; just add it to the enclosing "if" ... but I do not know
		'        what is the source of "sound_panned" ? if you do not
		'        reset that for EACH door in the loop, only your first
		'        door will get a pan
		'        I assume you included that because your "ifs" are not
		'        catching all situations and therefore multiple adjustments
		'        are run for a single door.
		'If door.Orientation = 1 And sound_panned = 0 

		'Pan the sound if the party is on specific direction
		'If door.Orientation = 1
			'The party faces to the North
			If Party.direction = 1 Then
				'The door direction is in front or in back
				If door.direction = -90 Or door.direction = 90
					door.Sound_Pan = 0
				'The door direction is to the left or the right
				ElseIf door.direction &lt; - 90 Or door.direction &gt; 90
					door.Sound_Pan = -1
				'The door direction is to the right or the the left
				'RON: there is no need to check for directions: you only
				'     have front, back, left and right as options, and
				'     you already checked for "front/back/left"
				Else
					Then door.Sound_Pan = + 1
				EndIf
			'The party faces to the South
			ElseIf Party.direction = 2 Then
				'RON: Are you sure about that "-45" ? compared to
				'     "faces to the north" this should be similar, with
				'     left and right switched ?
				If door.direction = 90 Or door.direction = -90
					door.Sound_Pan = 0
				ElseIf door.direction &lt; 90 Or door.direction &lt; - 45
					door.Sound_Pan = -1
				ElseIf door.direction &gt; 90 Or door.direction &gt; - 45
					door.Sound_Pan = + 1
				EndIf
			'The party faces to the West
			ElseIf Party.direction = 3 Then
				If door.direction = 180 Or door.direction = 0
					door.Sound_Pan = 0
				ElseIf door.direction &gt; 0
					door.Sound_Pan = -1
				Else
					door.Sound_Pan = + 1
				EndIf
			'The party faces to the East
			ElseIf Party.direction = 4 Then
				If door.direction = 180 Or door.direction = 0
					door.Sound_Pan = 0
				ElseIf door.direction &lt; 0
					door.Sound_Pan = -1
				Else
					door.Sound_Pan = + 1
				EndIf
			EndIf
		End If
</pre><br><br>Also pay attention to the "south"-part, as it seems to contain a mistake (-45, 45 compared to "north" with -90, 90).<br><br><br><br>@ChannelPool<br>Glad it is of help ... but that also proofs that your code contained some flaws regarding the channels (and not the blitz-modules).<br><br><br>PS: I wondered a bit about your code format:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
				If Doors[Party.Level, All_Doors].direction = 180 Or Doors[Party.Level, All_Doors].direction = 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = 0 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &lt; 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = -1 sound_panned = 1
				ElseIf Doors[Party.Level, All_Doors].direction &gt; 0 And sound_panned = 0 Then Doors[Party.Level, All_Doors].Sound_Pan = + 1 sound_panned = 1
</textarea><br><br>My Blitzcompiler blames the first "elseif" there.<br>I used this test:<br><pre class=code>
If 1 &lt; 10 Then Print "Ok"
ElseIf 2 &lt; 10 Then Print "ok2"
Else Then Print "ok3"
</pre><br><br>I know you are able to use a single-line if "if x then do" but you cannot concatenate with "elseif" on a new line. For this you need to separate "condition" and action like I did in the code above and below.<br><br><pre class=code>
If 1 &lt; 10
  Print "Ok"
ElseIf 2 &lt; 10
  Print "ok2"
Else
  Print "ok3"
EndIf
</pre><br><br><br><br>PPS: If you post such "wide" code portions, use the {codebox} forumcode instead of the {code} variant - this enables scrollbars on both axis. This is nicer for people without fullhd-resolution.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255297"></a>

<a name="1255298"></a>

<a name="1255300"></a>

<a name="1255302"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> You are right , with the south direction code , <br>if the door direction if less than minus 45 means it will be less than 90 too and<br>when the door direction if greater than 90 it will be also greater then minus 45 so i removed the less than minus 45 and greater than -45 code :P<br><br>I will not used a single door object because I would like to see each time my whole array of my door type.<br>Also you use<br><br>local door:TDoorObject = Doors[Party.Level, All_Doors]<br><br>But my doors needs to be global and I am already have initialized my doors on my types in other source file.<br><br>Your code worked perfectly and now all of my doors have 3D sound and I can hear them near and far and in my left and right speakers.<br>You deserve a copy of my game when it finishes and your name in my credits. :)<br><br><br>I will try to use the same sound code for my monsters and other sound source for my game.<br><br>About the SuperStrict , I will not use it because it drops errors to other codes which I don't see any error.<br>Also SuperStrict not allows you the goto command. <br><br></td></tr></table><br>
<a name="1255303"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Goto ... there is no need to use it ... in no way.<br><br>SuperStrict errors: post the portion it errors out and I will try to solve it.<br><br><br>@single door objects<br>I do not create a "new" door or so ... I just create another reference to the object in the array.<br><br>So the only moment you need to access "Doors[level, all_doors]" is if you want to remove a door from the array (or "null" it there). I assume you have a misconception about globals and local variables referencing them.<br><br>Such references allow to save processing time. Eg. you could do a "GetPooledChannel(name)" each time - or just store the channel in a local variable for the time of the "loop".<br><br>Imagine "GetComplexCalculationResult()" needs 20 ms each time it is called. Now in your code you use that call instead of using a cached result. 20 times used sums up to 400ms, but with the cache you stay at 20ms for the one time calculation.<br><br>In this case the performance isn't the reason of my change, it is the shortening of code. Why? You are at a coder level in BlitzMax which still fights with some errors here and there. And a shorter line of code surely eases the process of detecting errors just by viewing it.<br><br><br>Another hint: your door-type could store some helping functions - eg. to return the distance to a given coordinate. Or to return the direction to another object by a given coordinate + viewing direction.<br><br>Why? This shortens the code of the function maintaining sounds, animation etc. . It separates functionality and makes it easier to reuse code for other things instead of copying code to here. Also it eases again the readability in more complex portions of your source code.<br><br>The earlier you begin teaching yourself the oop-way and benefits of BlitzMax (methods etc.) the more you will improve dev-speed-wise and maybe even enjoy the language a bit more.<br><br><br>Ok, enough "teaching lesson" for now ... post your SuperStrict-errors and we will see if I can be of help.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255342"></a>

<a name="1255343"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> This superstrict generated errors in places there were no errors.<br><br>For example:<br><br>Compile Error: Expression of type 'String Array' cannot be invoked<br><br>At code:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
If levels(Party.level, Party.x, Party.y - 1, 1) &lt;&gt; "00"
.
.
.
Endif
</textarea><br>I don't see any error there.<br>The array variable was:<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Global levels:String[99, 43, 43, 5]
</textarea><br><br>This is one example of lots of errors appeared from nowhere. <br><br></td></tr></table><br>
<a name="1255345"></a>

<a name="1255346"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> Because you try to run "levels" as a function/method ... just look a bit more closer and you see: you mixed "( )" and "[ ]".<br><br>If levels(....) is like calling "my array definition"().<br><br>Replace<br><pre class=code>If levels(Party.level, Party.x, Party.y - 1, 1) &lt;&gt; "00"</pre><br>with<br><pre class=code>If levels[Party.level, Party.x, Party.y - 1, 1] &lt;&gt; "00"</pre><br><br>and the error will be gone.<br><br>- I am really sure that the content of this "if ...endif" causes some bugs in the way you use it now - it is either NEVER run or EVERYTIME ... depending on how bcc compiles this ahem.. "stuff".<br><br><br>Up to the next error...<br><br><br>PS: for these short codes, {code} is still the better solution (as it does not have this min-height definition when displayed in the browser).<br><br>{codebox} is good for "long lines" to not break out of the posting "default width" (100%) and for codes with many lines.<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1255352"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#29">[#29]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ooop it seems I had a type with those brackets. Also I used {codebox} to post my question.<br>I will fix these brackets and I will tell you if there is any other error.<br>Why the compiler didn't warn me?<br><br>I fixed a lots of typo error with ( instead of [<br>I fixed a lots of missing or misspelling variables.<br><br>And it compiled with superstrict :P <br><br></td></tr></table><br>
<a name="1255354"></a>

<a name="1255385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Takis76</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#30">[#30]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have to do one small fix in sound when I am entering in stairs and changing level with the new code , the sound is not fading out.<br>If I will fix and this one , this version is free of bugs until the next one :P <br><br></td></tr></table><br>
<a name="1255358"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#31">[#31]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> <br>I fixed a lots of typo error with ( instead of [<br>I fixed a lots of missing or misspelling variables.<br> <br></div><br><br>that is why I prefer (Super)Strict ... misspelled variables can lead to really unsuspected behaviour.<br><br>Glad it works better and better.<br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
