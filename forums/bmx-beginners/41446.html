<!DOCTYPE html><html lang="en" ><head ><title >Offscreen drawing - superbitmaps and scrolling</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Offscreen drawing - superbitmaps and scrolling</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Offscreen drawing - superbitmaps and scrolling</a><br><br>
<a name="466083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I noticed that all objects drawn to the display in Max2D are clipped automatically. If I want to maintain a `superbitmap` larger than the display, and I want to be able to use Max2D to draw to it, how can I do that? Is it able? How would I go about drawing offscreen to a larger image? Would I have to go about rendering to it using some kind of custom routine accessing a locked image? Also, are images stored in regular ram or video ram and is there a limit on size etc?<br><br>On the same kind of topic, how would anyone who wants to create a scrolling tile-based engine go about rendering the tiles offscreen and have the display scroll? Is the only option to completely redraw the entire screen content every frame? How can scrolling be implemented? <br><br></td></tr></table><br>
<a name="466098"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >LarsG</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You normally only display the tiles that are going to be drawn onscreen (+1 in each direction)..<br>If you were to draw all the tiles on a map each frame, it would be very slow...<br><br>About the bitmap larger than the screen topic.. I don't know. <br><br></td></tr></table><br>
<a name="466131"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmmm, anyone else?<br><br>There's gotta be a way. <br><br></td></tr></table><br>
<a name="466154"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tom Cain</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't see a built-in way to copy rectangular regions between images/pixmaps, unless one is the back buffer. It may be that you have to write a custom routine to copy rectangular regions between pixmaps using ReadPixel and WritePixel. <br><br></td></tr></table><br>
<a name="466198"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well it's technically possible, but probably not incredibly efficient, and would likely look less than brilliant on all but the most advanced 3D hardware.<br><br>A more managable approach would be to split your superbitmap up into tiles, and yes, you would have to draw them all each frame.<br><br>The best (only?) way to modify an image, is writing directly to its pixmap. If you can find Simons bpaint example, there's a demo of how to do it safely there.<br><br>If memory serves, Images are stored primarilly in video RAM (when available) and pixmaps primarilly in 'regular' memory. Allthough don't quote me on that because it might not be factually accurate, because I can't remember where I read it , or whether I just made it up entirely.<br><br>A bit stressed out at the moment you see... <br><br></td></tr></table><br>
<a name="466237"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mikkel! Hey, this is Paul West of Mildred fame. How's it going?<br><br>The idea of splitting a superbitmap into tiles - ie individual images, is daunting because it would totally complicate processing of the bitmap - the superbitmap needs to be radically modified a lot and I'm sure changes would have to cross tile boundaries.<br><br>I'm sure there's a way to get it to work, maybe we need to come up with a `rectanglecopy` command. That would be perfect.<br><br>What's new with you these days Mikkel? <br><br></td></tr></table><br>
<a name="466325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> is daunting because it would totally complicate processing of the bitmap <br></div>Oh I agree completely. It's a bit like programming cool effects for the PC back when you had to worry about 64K segmented memory boundries.<br><br>Unfortunately I don't see any other way ATM.<br><br><div class="quote"> I'm sure there's a way to get it to work, maybe we need to come up with a `rectanglecopy` command. <br></div>It's hard to say. The way I understand Images working it's probably not very feasible. I'm gonna do a couple of tests in a couple of days, and post the results.<br><br><div class="quote"> What's new with you these days Mikkel?  <br></div>Back at Uni, trying to earn my degree. 2 Days until our semester project is due, we're not even half done (might be a slight exageration, but it sure feels like it), and I'm spending too much time on the Blitz forums (if you ask my project group that is)! :o&gt; <br><br></td></tr></table><br>
<a name="466340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hotcakes</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Heh heh.  They'd prolly be right tho ;] <br><br></td></tr></table><br>
<a name="466384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well you you know you gotta get your priorities right. BlitzMax first, uni second ;-) <br><br></td></tr></table><br>
<a name="466438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Richard Betson</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Would it be possible to create a bitmap/image larger then the current screen resolution using OpenGL (ie: OpenGL Context), then EndGraphics and return to regular BMAX mode? Or is this a limitation of OpenGL?<br><br>L8r, <br><br></td></tr></table><br>
<a name="466568"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Not sure why you'd want to do that?? I'm sure you can create images and pixmaps larger than the display ... although you're gunna need plenty of video memory to accomodate a large superbitmap. I need to use a superbitmap to maintain per-pixel state. But getting the OpenGL to display a portion of that image is the problem. Our imac has a whopping 64mb of video ram (which is perfect to use a bit superbitmap image - although 32-bit color takes up a lot of space) ... but the loly ibook only has 4mb (eek). <br><br></td></tr></table><br>
<a name="466597"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Heh heh. They'd prolly be right tho ;]  <br></div>I'm not saying they aren't. I'm saying that until they clock as many hours on the project, and get as good grades, they have no right to bitch! :o&gt;<br><br><div class="quote">  Well you you know you gotta get your priorities right. BlitzMax first, uni second ;-)  <br></div>Well as long as I can get away with it, yeah!<br><br><div class="quote"> But getting the OpenGL to display a portion of that image is the problem. <br></div>Yup. I'm still going to go with "break it up into smaller images". I'm guessing there's some sort of complexity/performance middle ground, and maybe you could dynamically rebuild some parts of the bitmap that get changed often.<br><br>I have a theory on how something like this could be implemented, and I'll give it a shot over the weekends'ish, and see what I can come up with.<br><br>Out of curiousity what do you need it for? If I could simulate something like Worms, would that be good enough for what you need it for? <br><br></td></tr></table><br>
<a name="466665"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> "Out of curiousity what do you need it for? If I could simulate something like Worms, would that be good enough for what you need it for? <br>"<br><br>You'd be about on the right track. ;-)<br><br>I came up with much the same conclusion as to the breaking it up into tiles and updating changes, last night :_) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
