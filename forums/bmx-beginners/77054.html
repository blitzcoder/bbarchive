<!DOCTYPE html><html lang="en" ><head ><title >Why is my program jerky?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Why is my program jerky?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Why is my program jerky?</a><br><br>
<a name="861991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have written a simple program - just to get something happening in BlitzMax. I was using the old Blitz basic, and I can't work out how to get more than one command on ths same line in BMax. I used to do x=0:y=0:xv=1:yv=1 for example, but now the ':' is not accepted. Also my program is very jerky, so I am sure I have not done something I should have. I would really appreciate some help. <br><br>Would someone please recommend a 2D image creator program to make sprites and levels (like the old Dpaint on the Amiga) and also a SIMPLE music creator program (bit like NoiseTracker on the Amiga). I used to have an Amiga, just in case you were in any doubt :)<br><br>Thank you - Rico (my program is listed below)<br><br>P.S. I use to do lots of If x&lt;0 Then x=10:xv=10:flag=True (all on one line) but its really wasting space doing an if, endif structure. How can I do this in BlitzMax?<br><br>--------------------------------------------------------------<br><pre class=code>' bounces a white box around the screen
Graphics 800,600,16

Cls

DrawRect 0,0,32,32

Local image=CreateImage(32,32)
GrabImage image,0,0
SetImageHandle image,0,0

xpos=0
ypos=0
xv=1
yv=1
Cls
While Not KeyDown(KEY_ESCAPE)

	'Update  Position
	xpos=xpos+xv
	ypos=ypos+yv
	If xpos&gt;768
	   xpos=768
	   xv=-xv
	EndIf
	If xpos&lt;0 
		 xpos=0
		xv=-xv
	EndIf
	If ypos&gt;568
	    ypos=568
	    yv=-yv
	EndIf
	If ypos&lt;0
	    ypos=0
	    yv=-yv
	EndIf
	
	
	DrawImage image,xpos,ypos

	Flip
	Cls
Wend</pre><br><br><i>Moderator Note: Please use [code ] / [codebox ] tags when posting code on the forums. <a href="/faq/faq_entry.php?id=2" >What are the forum codes?</a></i> <br><br></td></tr></table><br>
<a name="861995"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Use ; instead of :.<br><br>For graphics, Try Gimp (free) or Paintshop (not free).<br><br>For audio, FL Studio (not free). <br><br></td></tr></table><br>
<a name="861997"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rico - do yourself a favour and indent it. It makes it so much easier to maintain once it gets bigger.<br><br>Your code looks alright. Just check the graphics command to make sure you're not setting it to 16 frames per second. I can't remember the format. <br><br></td></tr></table><br>
<a name="862021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Do you need to disable anything to get smooth programs - e.g Virus checker etc. Or does Blitz automatically take over the system?<br><br>Rico <br><br></td></tr></table><br>
<a name="862038"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> you might want to investigate delta timing <br><br></td></tr></table><br>
<a name="862171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rico-<br><br>I do see a jerk every second or so. There is nothing wrong with your program as such.I have seen this exact same thing in both my own blitz games and ones written by others. Never used to get it on my CRT monitor and it seems to be something to do with LCDs. I use an LCD tv for my monitor. I never found a satisfactory solution and I would wager that delta timing wouldn't fix the problem. <br><br></td></tr></table><br>
<a name="862180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TomToad</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> What version of BlitzMAX are you using?  When I first got blitzMax, I noticed a bit of jerkiness for the first few seconds of  program execution.  It disappeared with an upgrade.<br>The latest stable version is 1.28 <br><br></td></tr></table><br>
<a name="862193"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Mine's the latest and it's not just in the first few seconds. <br><br></td></tr></table><br>
<a name="862212"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Rico - Your program is behaving normal for a loop that does no delta timing or frame averaging. Blitzmax behaves just like any other development language when it comes to jitters, etc, etc. <br><br>PC's are different nowdays and the mutlitasking they do is more "tasking" on the os more than ever. Years ago it was easy to get games running smoothly because end users didn't have a zillion im's, virus checkers, etc, etc, running in the background, and the os itself wasn't as demanding. <br><br>Even on today's best gaming pc, you will see jitters every now and then during the game. In 3d games it's less aparrent because your eyes are focused on the "scene" instead of a small 2d character.<br><br>What you can do....<br><br>a) Nothing, just code your game. Seriously, it's ok for slight jitters once in a while. 99% of the casual market is used to this now days.<br><br>b) Research delta timing.<br>c) Research frame based timing with tweening.<br>d) Research vsync, refresh rate, and how that affects your game frame rate.<br><br>Again, if you're just doing this for fun, stick with option A. But if you want to seriously explore PC game design then you should spend a few weeks researching B-D. This is a quirk among all pc games and is not language dependent. Good luck with your coding! <br><br></td></tr></table><br>
<a name="862233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I concur with MGE. <br><br></td></tr></table><br>
<a name="862615"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just changed 'Flip'  to 'Flip 1' and it works very smoothly.  Needed to wait for the vertical blank, I think it was flipping buffers too quickly before.<br>     I've got the latest version of Max (I just bought it!)<br><br>Thank you for everyones's help.  I'll definitely look into delta timing.  The LCD does definitely cause blurring on faster moving objects. I think they are improving, but are not as good as CRTs yet. If you want to play 2d games then CRTs offer the best quality<br><br>Thanks again - Buzz :) (feeling happy now!) <br><br></td></tr></table><br>
<a name="862625"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Htbaa</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Fast moving objects don't do too well on TFT with a slow(er) refresh rate. In my current 2D shoot 'm up everything goes very smoothly on my main computer, but a certain form of blur is in effect when playing on my 3 year old laptop.<br><br>It's not that big of a deal though, but you do see the difference. <br><br></td></tr></table><br>
<a name="898867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iamdaman13</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> setting backbuffer as active buffer made it smooth for me, otherwise it's jerky <br><br></td></tr></table><br>
<a name="898883"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote">  Setting backbuffer as active buffer made it smooth for me, otherwise it's jerky  <br></div> How do you *NOT* set the backbuffer as the active buffer in Bmax? <br><br></td></tr></table><br>
<a name="898887"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> "setting backbuffer as active buffer made it smooth for me, otherwise it's jerky"<br><br>Huh? <br><br></td></tr></table><br>
<a name="898926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> He's a B3D user, he just wandered down the wrong street... <br><br></td></tr></table><br>
<a name="898953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iamdaman13</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry. I did try the code in a bmax demo as well, but it was jerky compared to trying it in b3d. I thought bmax was supposed to handle 2d better than b3d. <br><br></td></tr></table><br>
<a name="899111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rico</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Phew - That was a long time ago I posted that!  My games going very nicely now - its smooth and everything! - and I can use forum codes now! :)<br>   iamdaman13 - did you try doing 'flip 1' instead of 'flip'? Thats what fixed it for me. It makes the flip happen on the next vertical blank.  Other than that, virus checkers and other processes can sometimes slow things down, so make sure nothing else is running in the background. <br><br></td></tr></table><br>
<a name="899604"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >iamdaman13</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks! Flip 1 worked for me in the bmax demo. I'm still trying to decide if I should get bmax for 2d games, as I've been making them with b3d so far. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
