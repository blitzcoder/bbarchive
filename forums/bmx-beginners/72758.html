<!DOCTYPE html><html lang="en" ><head ><title >undefined reference</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >undefined reference</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >undefined reference</a><br><br>
<a name="813192"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andre72</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I know there'd been a lot of discussions about but I'm not sure about what version of MinGW I've to get ...<br>My problem is that BM tells me an undefined reference "RegisterServiceCtrlHandlerA@8"<br>If I understand the discussions here right is because of my installed MinGW is not up to date.<br><br>So maybe somebody can point me the URL to a newer version to the MinGW archive I've to DL so it maybe working with ...<br><br>Thanks,<br><br>Andre <br><br></td></tr></table><br>
<a name="813211"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> you probably want <a href="/posts.php?topic=53442" target="_blank"> this one </a>. <br><br></td></tr></table><br>
<a name="813379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andre72</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey,<br><br>no, this one you recommend me last time as I couldn't compile your mods ;-)<br>Thanks again but I've installed it but it don't recognize RegisterServiceCtrlHandlerA@8 ...<br>Is there allready a newer one ? <br><br></td></tr></table><br>
<a name="813400"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If I understand the discussions here right is because of my installed MinGW is not up to date. <br></div>Nope its more likly that your MiniGW is too new<br><br>BMax doesnt use the newer ones.<br><br>Uninstal any you have, (make sure they are all gone), then install the 3.10 one, then add it to enviemental variables, then try building Mods.<br><br>DO NOT INSTAL A NEWER MINGW unless you know what you are doing, (which you and I dont)<br><br>(This may change by the end of the week, cos Mark may or maynot have changed Bmax to a newer MinGW) <br><br></td></tr></table><br>
<a name="813445"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >andre72</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've tried out now serveral version of MinGW (3.10, 3.8, 3.1) - I ever get this error while linking.<br>Maybe somebody else havo more luck and a solution for.<br>Here's the source I try to compile (is not finished yet but without compiling this there's no need to work with anymore):<br><br>SuperStrict<br><br>Import "-ladvapi32"<br><br>'API Constants<br>Const SERVICES_ACTIVE_DATABASE:String = "ServicesActive"<br>' Service Control<br>Const SERVICE_CONTROL_STOP:Int = $1<br>Const SERVICE_CONTROL_PAUSE:Int = $2<br>' Service State - for CurrentState<br>Const SERVICE_STOPPED:Int = $1<br>Const SERVICE_START_PENDING:Int = $2<br>Const SERVICE_STOP_PENDING:Int = $3<br>Const SERVICE_RUNNING:Int = $4<br>Const SERVICE_CONTINUE_PENDING:Int = $5<br>Const SERVICE_PAUSE_PENDING:Int = $6<br>Const SERVICE_PAUSED:Int = $7<br>Const SERVICE_ACCEPT_STOP:Int = $1<br>Const SERVICE_ACCEPT_PAUSE_CONTINUE:Int = $2<br>Const SERVICE_ACCEPT_SHUTDOWN:Int = $4<br>'Service Control Manager object specific access types<br>Const STANDARD_RIGHTS_REQUIRED:Int = $F0000<br>Const SC_MANAGER_CONNECT:Int = $1<br>Const SC_MANAGER_CREATE_SERVICE:Int = $2<br>Const SC_MANAGER_ENUMERATE_SERVICE:Int = $4<br>Const SC_MANAGER_LOCK:Int = $8<br>Const SC_MANAGER_QUERY_LOCK_STATUS:Int = $10<br>Const SC_MANAGER_MODIFY_BOOT_CONFIG:Int = $20<br>Const SC_MANAGER_ALL_ACCESS:Int = $F003F 'STANDARD_RIGHTS_REQUIRED | SC_MANAGER_CONNECT | SC_MANAGER_CREATE_SERVICE | SC_MANAGER_ENUMERATE_SERVICE | SC_MANAGER_LOCK or SC_MANAGER_QUERY_LOCK_STATUS | SC_MANAGER_MODIFY_BOOT_CONFIG<br>'Service object specific access types<br>Const SERVICE_QUERY_CONFIG:Int = $1<br>Const SERVICE_CHANGE_CONFIG:Int = $2<br>Const SERVICE_QUERY_STATUS:Int = $4<br>Const SERVICE_ENUMERATE_DEPENDENTS:Int = $8<br>Const SERVICE_START:Int = $10<br>Const SERVICE_STOP:Int = $20<br>Const SERVICE_PAUSE_CONTINUE:Int = $40<br>Const SERVICE_INTERROGATE:Int = $80<br>Const SERVICE_USER_DEFINED_CONTROL:Int = $100<br>Const SERVICE_ALL_ACCESS:Int = $1FF 'STANDARD_RIGHTS_REQUIRED | SERVICE_QUERY_CONFIG | SERVICE_CHANGE_CONFIG | SERVICE_QUERY_STATUS | SERVICE_ENUMERATE_DEPENDENTS | SERVICE_START | SERVICE_STOP | SERVICE_PAUSE_CONTINUE | SERVICE_INTERROGATE | SERVICE_USER_DEFINED_CONTROL<br>' Service Install - Types<br>Const SERVICE_WIN32_OWN_PROCESS:Int = $10<br>Const SERVICE_ERROR_NORMAL:Int = $1<br>Const SERVICE_AUTO_START:Int = $2<br>Const SERVICE_DEMAND_START:Int = $3<br>' Service Types<br>Const SERVICE_WIN32_SHARE_PROCESS:Int = $20<br>Const SERVICE_WIN32:Int = $30<br><br>Type SERVICE_STATUS<br>    Field dwServiceType:Int<br>    Field dwCurrentState:Int<br>    Field dwControlsAccepted:Int<br>    Field dwWin32ExitCode:Int<br>    Field dwServiceSpecificExitCode:Int<br>    Field dwCheckPoint:Int<br>    Field dwWaitHint:Int<br>End Type<br><br>Type SERVICE_TABLE_ENTRY<br>	Field lpServiceName:String<br>	Field lpServiceProc:Int<br>End Type<br><br>Extern "Win32"<br>	Function CloseServiceHandle:Int (hSCObject:Int) = "CloseServiceHandle@4"<br>	Function ControlService:Int (hService:Int, dwControl:Int, lpServiceStatus:Byte ptr) = "ControlService@12"<br>	Function OpenSCManager:Int (lpMachineName:Byte Ptr, lpDatabaseName:Byte Ptr, dwDesiredAccess:Int) = "OpenSCManagerA@12"<br>	Function OpenService:Int (hSCManager:Int, lpServiceName:Byte Ptr, dwDesiredAccess:Int) = "OpenServiceA@12"<br>	Function QueryServiceStatus (hService:Int, lpServiceStatus:Byte ptr) = "QueryServiceStatus@8"<br>	Function StartService:Int (hService:Int, dwNumServiceArgs:Int, lpServiceArgVectors:Int) = "StartServiceA@12"<br>	Function CreateService:Int (hSCManager:Int, lpServiceName:Byte ptr, lpDisplayName:Byte ptr, dwDesiredAccess:Int, dwServiceType:Int, dwStartType:Int, dwErrorControl:Int, lpBinaryPathName:Byte ptr, lpLoadOrderGroup:Byte ptr, lpdwTagID:Int, lpDependencies:Byte ptr, lp:Byte ptr, lpPassword:Byte ptr) = "CreateServiceA@52"<br>	Function StartServiceCtrlDispatcher:Int (lpServiceStartTable:Byte ptr) = "StartServiceCtrlDispatcherA@4"<br>	Function RegisterSeviceCtrlHandler:Int(lpServiceName:Byte ptr, lpHandlerProc:Byte ptr) = "RegisterSeviceCtrlHandlerA@8"<br>End Extern<br><br>Function ServiceCreate:Int(ServiceName:String) <br>	Local hSManager:Int = OpenSCManager(Null, SERVICES_ACTIVE_DATABASE, SC_MANAGER_ALL_ACCESS) <br>	Local res:Int<br>	If hSManager &lt;&gt; 0<br>		Local schService:Int = CreateService(hSManager, ServiceName, ServiceName, SERVICE_ALL_ACCESS, SERVICE_WIN32_OWN_PROCESS, SERVICE_DEMAND_START, SERVICE_ERROR_NORMAL, AppFile, Null, Null, Null, Null, Null) <br>		DebugLog(schService) <br>		If schService &lt;&gt; 0<br>			CloseServiceHandle schService<br>		Endif<br>		CloseServiceHandle hSManager<br>	EndIf<br>	Return res<br>End Function<br><br>ServiceCreate "TestService"<br>Local svc:SERVICE_TABLE_ENTRY New SERVICE_TABLE_ENTRY<br>svc.lpServiceName = "MyProc"<br>svc.lpServiceProc = SvcMain() <br><br>Function SvcMain (argc:Int = Null, argv:String = "") <br>	Local svcStatus:SERVICE_STATUS = New SERVICE_STATUS<br>	svcStatus.dwServiceType = SERVICE_WIN32<br>	svcstatus.dwCurrentState = SERVICE_START_PENDING<br>	svcstatus.dwControlsAccepted = $7<br>	svcstatus.dwServiceSpecificExitCode = 0<br>	svcstatus.dwCheckPoint = 0<br>	svcstatus.dwWin32ExitCode = 0<br>	svcstatus.dwWaitHint = 0<br>	Local svchandle:Int = RegisterSeviceCtrlHandler("TestService", svcCtrlHandler) <br>	DebugLog("svchandle: " + svchandle) <br>End Function<br><br>Function svcCtrlHandler(dwOpcode:Int = Null) <br>	<br>End Function <br><br></td></tr></table><br>
<a name="813668"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can install as many MingW as you want, it won't change.<br>What you need to do is replace the Windows API related .a Files in the blitzmax/lib folder.<br>Those are from a totally outdated mingw which only supported Win98, not XP.<br>The MingW you use can or still should be the one officially recommend by BRL. <br><br></td></tr></table><br>
<a name="813689"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BladeRunner</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> as said in the german blitzforum, he just had a typo: RegisterSeviceCtrlHandler<br><br>No Probs with minGW. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
