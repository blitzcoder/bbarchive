<!DOCTYPE html><html lang="en" ><head ><title >AllocChannel explanation needed</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >AllocChannel explanation needed</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >AllocChannel explanation needed</a><br><br>
<a name="955690"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could someone please explain the correct usage of this command?<br><br>Currently I am doing,<br><br>Sound:TSound=LoadSound("Sound.wav")<br>Channel01:TChannel=AllocChannel()<br>PlaySound(Sound,Channel01)<br><br>Is this the correct procedure?<br><br>How about if I stop this sound and want to play another sound through the same channel? I keep getting crashes so thats why I`m asking. Do I need to stop it\re-allocate it?<br><br>Thanks for any help,<br>Jason. <br><br></td></tr></table><br>
<a name="955694"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> You don't even have to allocate a channel first.  This will do the same thing:<br><pre class=code>Channel01:TChannel = PlaySound(sound)</pre><br><br>I've always found this very confusing, as PlaySound (and CueSound) has a tChannel parameter, but it also returns a tChannel object.  Never really understood why you'd need both.<br><br>Regarding the other thing, I generally do something like:<br><pre class=code>If channel.Playing()
	channel.Stop()
	channel = Null
EndIf
channel = PlaySound(newSound)</pre>Whether this is all necessary, I don't know.  I think I might have originally done it this way because channel.playing() didn't used to work right on paused channels.  Or something. <br><br></td></tr></table><br>
<a name="955695"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've always found this very confusing, as PlaySound (and CueSound) has a tChannel parameter, but it also returns a tChannel object. Never really understood why you'd need both. <br></div>Probably because it will create a channel (return) if one is not given (parameter). <br><br></td></tr></table><br>
<a name="955697"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Probably because it will create a channel (return) if one is not given (parameter). <br></div>...so why not just use channel:TChannel = PlaySound(sound) throughout?  Under what circumstances would you need to give it a channel parameter, and how would you benefit from doing so? <br><br></td></tr></table><br>
<a name="955705"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> ...so why not just use channel:TChannel = PlaySound(sound) throughout? Under what circumstances would you need to give it a channel parameter, and how would you benefit from doing so? <br></div>Instead of PlaySound allocating a new channel every time you call it, you could simply have one (or multiple, for different effect types) channel and keep reusing it. <br><br></td></tr></table><br>
<a name="955750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Instead of PlaySound allocating a new channel every time you call it, you could simply have one (or multiple, for different effect types) channel and keep reusing it. <br></div>Which is what I do so I like it the way it works now.<br><br>@QuickSilva: Yeah if you ever call StopChannel it destroys the channel but does not null the pointer (so you could end up using it again by accident and it will crash).  So after using StopChannel if you want to use the same channel variable again you need to do another AllocChannel.  Take a look at my framework. <br><br></td></tr></table><br>
<a name="955877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the explanations all. I`ll take a look at your FrameWork Grey Alien, should have looked there first in hindsight.<br><br>I just found the array of commands a tad confusing from reading the docs but it`s all clear now :)<br><br>Jason. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
