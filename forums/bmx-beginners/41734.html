<!DOCTYPE html><html lang="en" ><head ><title >'Extending' a type at runtime</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >'Extending' a type at runtime</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >'Extending' a type at runtime</a><br><br>
<a name="468529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eni</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> For lack of a better way to describe it, I'll use an example. My quick proof of concept game had two classes - TUnit and TUnitKind.<br><br>TUnitKind loads from an xml file at runtime certain stats of a unit kind (eg MaxHP, Name). It acts kind of like a super type for TUnit at runtime. TUnit would store the stats that are particular for each instance of that kind of unit (eg CurrentHp, Position) as well as a reference to a particular TUnitKind instance. Therefore TUnit is acting like a derived type created at runtime.<br><br>While this work, it's a little awkward.<br><br>If I was hard coding all my rules and stats into the engine (again, for lack of a better word) this would be trivial. When it comes to trying to do it at runtime, my experience runs a bit thin.<br><br>I was wondering if any of the experienced people here could suggest a better (cleaner, more efficient, simpler, whatever) way of achieving this behaviour.<br><br>Now I'm out of the proof on concept stage it's time to code the final reusable modules which will make up the final game (and hopefully form a part of different games I make). Clearly then I'd like to get it right. <br><br></td></tr></table><br>
<a name="468608"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xacto</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'd try a composition-based approach at compile time rather than trying to build an über generic runtime framework.  The problem with the direction you're going in is that it's primarily data based and you lose the nice sematic benefits of OOP.  Now, if your particular implementation won't win anything from polymorphism then the road you're on might be the right one.  However, from your description, I'd say there's a lot to be gained from a reified domain model.<br><br>Here's what I'd do:<br>1. Build a concrete, reified model for your first game.<br>2. After the game works, refactor any common classes and other functionality "up the tree".<br>3. Move the generic base classes into their own module.<br><br>And, finally, if you really want super composition:<br><br>4. Break reusable subclasses off into their own modules so you can quickly recompose them into new projects. For example:  You might break off an TDarkKnight subclass into its own module so you could reuse it in the future for another game.<br><br>Hope this helps. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
