<!DOCTYPE html><html lang="en" ><head ><title >Problem with Release</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Problem with Release</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Problem with Release</a><br><br>
<a name="493867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SSS</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi all.. i've a problem with the new way of deleting objects in v. 1.3... i know i should just let the object fall out of scope but here's my problem, when i used to call release it would likewize call the delete function of an object, however just setting a pointer to an object to be null does not call the delete function. And considering the object is pointed to by several other objects that only that object knows about i cant delete objects in anywhere near an elegant manner using this new system. How do you guys do it? <br><br></td></tr></table><br>
<a name="493894"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Shambler</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I would assume that FlushMem will only delete the object when the reference count to that object is zero.<br><br>Maybe you could consider changing your code so that you do not have other objects pointing to this object?<br><br>[edit] one possible way to do what you want would be to have a global variable e.g.<br><br>gObjectDelete%=the handle of the object you are deleting<br><br>In your update functions for the other objects, check this global variable and if any of the other objects are pointing to it then make them release and null their pointers to it.<br><br>Once you have iterated through all the other objects then null the object itself and then call FlushMem. <br><br></td></tr></table><br>
<a name="494075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've been experimenting with creating some simple data structures, and once I tried making a linked list structure similar to the one that came with BMX. Basically, every item in the linked list has two variable references to 2 other items. I have a main type, List, and the items are of a type, Link.<br><br>Say my instance of List has a variable reference of the first Link in the list which is the first in the chain of links. Now these other links are not referenced in any other way besides the two in each link referencing the previous and next links. Only the first link is connected to the rest of my program by one variable in my instance of List. Say I nullify this one variable in List, and so these links are now just floating in space. They are connected to eachother, but not to the rest of the program. Since I cant access these any more because I deleted the reference to the first one, will they all automatically get deleted, or since they are still interconnected but not referenced by any other variable they will still be there? <br><br></td></tr></table><br>
<a name="494123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Since I cant access these any more because I deleted the reference to the first one, will they all automatically get deleted, or since they are still interconnected but not referenced by any other variable they will still be there? <br></div>It would still be there. The main difference between the automatic garbage collector in BlitzMAX and the garbarge collector in Java or the .Net CLR is that the BlitzMAX garbage collector does not count root objects. Only references. Thus any cyclic, orphaned data structures will not get released. <br><br></td></tr></table><br>
<a name="494187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >rdodson41</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thats too bad. I wanted to just nullify the references to the head and be done with it, but I guess it's not that easy. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
