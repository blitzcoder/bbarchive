<!DOCTYPE html><html lang="en" ><head ><title >BlitzMax Hidden Buffer</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzMax Hidden Buffer</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >BlitzMax Hidden Buffer</a><br><br>
<a name="537735"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm sure this has been covered, but I can't find what I need so I thought I'd ask:<br><br>I need a 3rd buffer in BlitzMax (i.e. NOT the BackBuffer) to DrawImage to, after which I will draw this "3rd buffer" on to the backbuffer (with alpha transparency).  Hopefully this makes sense to someone! Can anyone point me to a tutorial/sample to help me with this?<br><br>Thanks all!! <br><br></td></tr></table><br>
<a name="537741"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Red</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uses Pixmap<br><br>It's a kind of textureBuffer <br><br></td></tr></table><br>
<a name="537757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> There is no 3rd Buffer.<br><br>You would need something like a GeForce4 (real not MX) and the use of PBuffers for other "hardware buffers" in OpenGL <br><br></td></tr></table><br>
<a name="538028"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You could perhaps draw to the backbuffer, copy the backbuffer to the accumulation buffer, draw your second image to the backbuffer then multiple back the accumulation buffer content?<br><br>What are you trying to do exactly? Some kind of parallax?<br><br>I wonder if drawing to the backbuffer's alpha channel would help with filtering in/out the second graphic. You could draw the first image, then draw alpha images to the backbuffer's alpha channel to show how much of subsequent images you want to show, then set the rendering/blend mode of OpenGL so that it multiplies by the alpha value, then draw all the second layer of images in that mode so they only draw in the intensities of the alpha buffer. <br><br></td></tr></table><br>
<a name="538130"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tachyon</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> AngelDaniel:<br><br>Yes, it's parallax trick that I've done before in Blitz3D so I know that it will work, but it will require me to draw to two seperate surfaces, then combine them onto the backbuffer.  I'm counting on BlitzMax's alpha transparency feature to impove the look of the effect.<br><br>Basically I need to know if I can have another hidden surface, other than the Backbuffer, that I can DrawImage to.<br><br>Ed From Jupiter:  can you point me to some good tutorials using Pixmaps?  BlitzMax docs are terrible and I have no idea what the difference between a Pixmap and an Image is. <br><br></td></tr></table><br>
<a name="538145"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I'm suggesting is that if you draw your foreground surface first with a custom blend mode, where the alpha channel doesn't affect what is being drawn but instead the alpha is actually draw TO the alpha of the backbuffer, then when you draw the background with another custom blend mode to multiply it by the backbuffer's alpha, it will only draw the pixels that were not occupied by the foreground, or only partially so. You should not need a third buffer at all. Look at the glBlendFunc() OpenGL call.<br><br>The difference between pixmaps and images is this: Pixmaps are handles by the CPU, Images are handled by the GPU (graphics processing unit). Pixmaps are slower because the GPU is usually much faster. Pixmaps are a custom Blitz-Max object to store image data, images (actually textures) are an OpenGL custom object for storing image data - handled by OpenGL via calls from BlitzMax. Images have to live in video ram (graphics memory) in order for OpenGL to be able to see it and do something with it. Pixmaps live in main system memory and in order to get them displayed by OpenGL they have to be transferred by the CPU from main memory, over the graphics bus, to the graphics card. DrawPixmap does that. So does the routine that creates or loads a new Image. Images are cached in graphics ram like data is cached in a CPU cache. It can only be modified directly by the GPU once it is there. It's fast but it can't easily be updated. You can make changes to pixmaps, draw to them and read from them, more easily than you can to an Image. To do it to an image you have to transfer it from graphics ram, over the bus, into main memory, then change it, then transfer it back again so that OpenGL can see it. This is changed somewhat in later versions of OpenGL. <br><br></td></tr></table><br>
<a name="538165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> you can render to the back buffer, copy it to the texture(copies include processing, so you can still mask the copy), do the 2nd image, repeat above, do 3rd, repeat, then use a screen sized quad to blend them in either multi-pass or multi-textured.(Multi-pass will be more compatible, faster on most cards) <br><br></td></tr></table><br>
<a name="538168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Grabbing the backbuffer into a texture is slow on a lot of cards, using the CPU. Even on my Geforce4MX it's slow. <br><br></td></tr></table><br>
<a name="538305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2005)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's extremely fast on my ultra-budget g5-6000 card though, which can't cost more than a score these days considering it only cost 60 brand new. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
