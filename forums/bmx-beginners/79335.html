<!DOCTYPE html><html lang="en" ><head ><title >Include or Import?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Include or Import?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Include or Import?</a><br><br>
<a name="890718"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could someone please explain the difference between the Import command and the Include command. Is Import just for Importing modules or can it be used to include other files too, in place of include?<br><br>I`m a little confused. Any help would be great.<br><br>Jason. <br><br></td></tr></table><br>
<a name="890724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Include works as if the files you are including were part of the same, very large file. That is, when you compile, it replaces the Include line with the contents of the file you are including.<br><br>Importing on the otherhand keeps the source separate at compile time, instead linking each compiled section together. This has benefits in that depending on which files you've made changes to, only the changes need to be re-compiled, and therefore speeding up the compile time significantly.<br>One issue with Importing is its inability to support cyclic imports, where A imports B imports A. You might find you need to do that if a Type in A referred to a Type in B, and vice versa. However, more often than not, a change to your code logic can get around that problem.<br><br>I use imports exclusively :-) <br><br></td></tr></table><br>
<a name="890732"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cheers that make much more sense now :)<br><br>Jason. <br><br></td></tr></table><br>
<a name="890823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MGE</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Brucey. So..... if you use import, it's up to you to compile ahead of time any changes because import does pre-compile. Right? <br><br></td></tr></table><br>
<a name="890953"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Macguffin</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anyone know how else Import is different from Include?  When I did a quick experiment with it this morning, I started getting compile errors in some outside code.  Things like duplicate local variables and missing type references... but this stuff didn't show up when it was an include.  I'm guessing that there's some sort of different set of compile time dependencies that are in play? <br><br></td></tr></table><br>
<a name="890958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Remember that include effectively replaces the Include line with the source from the included file. Therefore, all those files are basically really one big file. That means that any included files that depend on Types/Functions etc in other files don't really depend on the other files, since it is just one *big* file split into parts.<br><br>However, since Imported files are compiled separately, you cannot have file A importing B when you have B depending on code in type A. You will get compilation errors.<br><br>You can always create files for Globals if you need them. Say, call it C, which both A and B can import.<br><br>Using Import is all down to the design of your code. If you build it modularly then you won't have a problem. If however, everything depends on everything else, then you might find difficulty using Imports.<br>A good design can avoid that problem.<br><br>HTH <br><br></td></tr></table><br>
<a name="890978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So..... if you use import, it's up to you to compile ahead of time any changes because import does pre-compile. Right?  <br></div>No, the imported code will be recompiled by BMK if it has changed (source timestamp later than object timestamp*).<br><br>This is only relevant for normal code if 'QuickBuild' is enabled, otherwise the imported code will *always* be recompiled before being linked.<br><br><br>*This is determined differently if you're using the speed-up hack, I believe. <br><br></td></tr></table><br>
<a name="1130757"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have a big stegosaurus of code from a little project I began some years ago and I wanted to go through and refactor (if that is the right term) into import-able and ideally reusable) sections - something like one source file per type or suchlike.<br><br>I am thinking that this should work in principle, but may be in reality a sticky process - I tried it not long ago and found lots of errors popping up where I was doing stuff in the wrong places in the monolithc tract of code I have.  I decided to accept the malpractise as a tradeoff against actually making progress on my little project, but it is a real bugbear in the back of my mind and I'd like to attack it.<br><br>I am trying to glean as much as I can from the boards on this topic, and I'd love to see any other really useful threads if you guys have anything helpful to share with me.  :)<br><br>Many thanks!<br><br>cw <br><br></td></tr></table><br>
<a name="1130776"></a>

<a name="1130777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> When writing new code write with imports, they help keep you in line (you can't do recursive things that make things a nightmare to deal with because it just won't let you compile it... same reason to use at least strict mode if not superstrict...)<br><br>Relating to old code and transitioning do one segment at a time. When inevitably something blows up you will know the last thing you did that caused that to happen and that gives you a starting point to look at for solving it.<br><br>For using imports try to think from top down. What's the *most* generic thing (like an "thing" in your game, could be anything, but all "things" contain maybe a graphic and an x/y position and a method to draw the graphic at that position...), make that a type, stick that in a file. Now you want to make something more specific, like say a kind of object for static objects (trees, trash cans, just dumb stuff that sits in one place). Subclass your first type in a new file, import the previous file at the top, add whatever needs adding. Now you want to make smarted objects, maybe stuff that has a simple animation so it needs a new draw method and a frame counter. Subclass the last one, import that at the top. Repeat. You want one thing to always be an extension of something else so you can follow one single path back. That way when you get to more complex things, like say a guy which has a field for a "weapon", you just import the guy super class at the top for the guy, and import the weapon class as well since the guy will need to know about weapons to hold one...<br><br>The more you break things up the less the compiler has to do when you compile, and it becomes far easier to track down the root of your problems. What if a bunch of objects are being drawn upside down? they all share the same draw method... problem is probably in there. Additionally you have to do a LOT less scrolling to find things in your code, the time this wastes is amazing (you have to think about what you want, try to remember where that is, go look for it, finally found it? ok, why were you looking for it in the first place... oh right, to compare to the first thing you were looking at... crap where was that? scroll... OR tab 1 centered on code snippet 1, tab 2 centered on snippet 2 in another file, flip flip, done.)<br><br>This doesn't even touch on recycling things... subclassed generics are great for starting new projects. Just copy the files, import what you need to get started with, you have half functioning objects already, just add some logic and some graphics and you've got a game... I use "just" quite loosely there obviously...<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1130789"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> hey ima, thanks for the clarification, I will begin my odyssey this weekend and opst back with soe progress or if I hit any bumps!  :D <br><br></td></tr></table><br>
<a name="1131022"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, the first few things went quite ok, I was able to disconnect the types and import the requred bits to each one, and then they be imported into the main file - lovely!<br><br>Now I'm starting to get stuck as things get a bit more complex.<br><br>What I will do is carry on and pull out all the stuff I can, but for the tricky ones I may need some assistance.<br><br>I also am quite sure that my non-existing idea of code design has made a bit of a mess of some things - I'm having a hard time deciding where certain stuff should actually live.<br><br>examples - I have a bunch of globals in my game type for handing the viewport offset for relative positioning etc. and they are popping up in types which have a draw method which puts them into screen space.  <br>My first instinct is to pass in the offset as a function parameter, but I'm not sure if I should possibly put all that stuff in my misc namespace and import that into anything which needs it.<br><br>If anyone has good practise code examples for games I'd be more than slightly interested to have a look-see.  Its all very hobbyish for me and I'm keen to hae a tidy up and get more productive rather than just tinkering.<br><br>I'm quite happy with the syntax and other aspects - but it's this really meaty chunk of learning about wat the hell I am even tryig to do which is hard work!  :) <br><br></td></tr></table><br>
<a name="1131024"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> screen offsets are one of those sticky things where ease of use can override optimal code...<br><br>If it's possible then passing the offsets into applicable methods is generally optimal as then your code can be re-used in another program later, just change the offset as needed to make it work, yay. However passing offsets down through nested update routines can get REALLY tedious when you only need the value once at the very last step. re-thinking your code flow is usually too big of a headache at this point. The boogie man of the global comes in to play... Personally in cases like that I tend to attempt to at least sweep my globals into types... so I may have 1 global "display" type which contains things like offsets, screen rotations, display size, whatever else may be applicable. Still accessing a global (boo) but at least that display type can be adjusted in one place and re-used in other apps (modified as needed) etc. <br><br></td></tr></table><br>
<a name="1131025"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Those approaches sound similar to what I am doing, which is a relief.<br><br>I'm also thinking my base entity type is a bit heavy, but I think I will ignore that until I start a new project.  <br><br>I have to fix so much stuff - I have for some reason got a large collision check method in the entity type wil tons of checking and actually then doing the stuff.  I am moving the collision response and so on into each derived type, and abstracting the collision method in the base type.<br><br>I have no idea what I was thinking in the old days, or whether wat I am doing is actually better, but it feels more sensble to do collision that way.  :) <br><br></td></tr></table><br>
<a name="1131031"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >matibee</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> While keeping away from globals is a good thing, you can still use them (kind of) sensibly through manager types. (I'm crap at examples..)<br><br>So, for a bunch of values relating to the graphics system that I would like lots of sections of code to work with, stick them in one type (in one file)..<br><br><pre class=code>
Type TGraphicsUtils
  Global clearcolor:Int[] = [0,0,0]
  Global waveylinecolor:Int[] = [128,0,0]

  Function SetWaveyLineColor()
    SetColor waveylinecolor[0],waveylinecolor[1],waveylinecolor[2]
  end function 

  'etc
End Type
</pre><br><br>Now you can include that file in as many other files as you wish, giving each one access to its values and functions ie: TGraphicsUtils.SetWaveyLineColor().  If that gets too much of a mouthful, write a simple wrapper function and stick that in the TGraphicsUtils file..<br><br><pre class=code>
Function SetWaveyLineColor()
  TGraphicsUtils.SetWaveyLineColor()
end function 
</pre><br><br>Of course, you have to weigh up code maintenance with ease of use.<br><br>You'll probably benefit from some sort of read/write standard too so that code that accesses TGraphicsUtils knows its place.  Some people prefer to denote type fields as "not to be touched by outside code" by prefixing them with an underscore..<br><br><pre class=code>
Type a
  Global _b:Int
  Global name:String
</pre><br><br>Which would mean:<br><br><pre class=code>a._b = 2 ' bad do not write to this variable!</pre><br><pre class=code>a.name = "bob" ' allowed</pre><br><br>Mostly I prefer not to write directly to ANY fields and provide access methods instead..<br><pre class=code>
Function Setb( a:Int )
  _b = a
end function 
</pre><br><br>That way, I can always tell how to correctly interact with a type by its methods and functions.<br><br>So, stick your "globals" in sensible manager types and be very disciplined about how and when you set their values.  But letting other parts of your code get access to those values is (for the example above) as simple as:<br><br><pre class=code>
Include "GraphicsUtils.bmx"
</pre> <br><br></td></tr></table><br>
<a name="1131516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to chip back in - <br><br>It is going quite well, I am now at mosty no errors - the gnarliest bits of code logic have sorted themselves out and I am back at the point ot getting the functionality back - then it will be much easier to move forward!  <br><br>Thanks for all your help! <br><br></td></tr></table><br>
<a name="1131562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Walla</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's all up and running now, more or less, with the bonus of quite a bit of tidying up.<br><br>One thing I am contemplating is how to handle collisions now.  <br><br>I am thinking that each type of entity should have some kind of number assigned to them, and I can just pass the generic entity into the different subclasses' collision methods, so that they can do the appropriate behaviours.<br><br>hmm, maybe this is not the best way - if anyone has good ideas I'd be pleased to hear more info! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
