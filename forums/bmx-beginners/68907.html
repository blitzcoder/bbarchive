<!DOCTYPE html><html lang="en" ><head ><title >2D Beatemup Zordering? Think Final Fight</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >2D Beatemup Zordering? Think Final Fight</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >2D Beatemup Zordering? Think Final Fight</a><br><br>
<a name="770171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Amon</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Any example code or techniques to get the effect of zordering sprites, like in beatemups?<br><br>How would I code this to draw characters according to their positions?<br><br>My first idea was to use the y axis. I would store the y position in a field of a type and if the yposition was &gt; or &lt; the targets then do the relevent drawing.<br><br>Problem is it doesn't work or I'm doing something stupid. I'm definately leaning towards me doing something stupid.<br><br>Any help would be appreciated. <br><br>:) <br><br></td></tr></table><br>
<a name="770238"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> In light of no other responses : I would probably use a specific 'Z' field and sort the spritelist against it. <br><br></td></tr></table><br>
<a name="770245"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> My first idea was to use the y axis...it doesn't work <br></div><br>Are you setting the handle of each sprite to the bottom? <br><br></td></tr></table><br>
<a name="770256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> 1) Store all your sprite objects in a TList (or Array if you have a lot of them).<br>2) Make a compare() method in your sprite object that works on the Y coordinate.<br>3) Sort the TList before you draw it. <br><br></td></tr></table><br>
<a name="770257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I might have this wrong but, if you use the 'Y' coordinate, won't it behave badly if the character jumps (if they can jump in Amon's game). <br><br></td></tr></table><br>
<a name="770263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Sledge</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's a good point - he's going to need another field to keep track of the yoffset of the image from the ycoord base for jumping. May as well call that ycoord 'zPos' or something similar, because that's what it is. <br><br></td></tr></table><br>
<a name="770290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Matty</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> A way I do it, similar to the others is this:  <br>Separate your drawing from your logic first.<br><br>1. Create a single dimension array the height of the game world.<br><br>2. As part of your regular 'creature update' code get the 'y' value of the 'feet' of your sprite (remembering to allow for any offset due to jumping).<br><br>3.Use this y value as an index to the array mentioned above.  At that index create a bank, or resize if it already exists, and add the creature's handle into the bank (or some other identifier such as the image handle/frame to draw).<br><br>4. After finishing your logic update you will have a list which is presorted and holds each image frame or creature handle which you can pass to your draw routine.<br><br>5.In the draw routine run through the array from top to bottom, if a bank exists at each index run through all the creatures in that bank and draw them<br><br>6.I know this should go to the start but it makes more sense when explaining to put it here: reset and clear all banks at the start of your next logic update. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
