<!DOCTYPE html><html lang="en" ><head ><title >Include/Import headache</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Include/Import headache</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Include/Import headache</a><br><br>
<a name="469359"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This stuff is giving me a serious headache.<br>I have a multitude of code files which all reference types defined in other files. They all exist in the same directory.<br><br>In B3D it would suffice to have 1 file which Included them all, but it appears bmax works differently.<br>Whether I use Include or Import, the compiler keeps popping errors about unknown identifiers. (eg types it cant find, eventhough they have been explicitly included/Imported).<br><br>How on earth does this work?<br><br>Also, what exactly is the difference between Import and Include? <br><br></td></tr></table><br>
<a name="469392"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TeaVirus</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was running into this as well.  It seems that you can only access identifiers in imported code from the .bmx file that does the importing.  I needed to change my code around a bit to accomodate this but I found it ended up being a bit cleaner because of it.  I haven't tried doing it with include but it's suprising that it didn't work since I thought it was supposed to simply inline the included files. <br><br></td></tr></table><br>
<a name="469515"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AntonyWells</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you use the public keyword (just once, above not preceding) before defining your globals in imported(or imported files within imported files), you can access them in any other code that is being linked, including the main one.<br><br>At least It worked for me when I tried it..may not work in all cases. <br><br></td></tr></table><br>
<a name="469571"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> i dont use any global variables.. Just type definitions.<br>The problem is, if its true that a included file can only be referenced from the file where it is included, then I have to import files in other files, and cross import em again in yet other files.<br><br>This results in all sourcefiles being imported more than once. Sometimes even 5 or 6 times. This in turn will generate a compiler error, because it does not accept multiple type definitions. (the same type is afterall imported more than once). It's getting to a point where it's just getting silly..<br><br>Ive been at this for 4 hours trying to combine a simple library of types into one unified include file but it just wont work &gt;( <br><br></td></tr></table><br>
<a name="469572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> You will not get a multiple type definition with import. To keep things simple don't use any includes and whenever you get a type not found add an import to the top of the file giving the error referencing the file with the type definition. <br><br></td></tr></table><br>
<a name="469581"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> thats all well and nice, but there is no way around this.<br>Some of my types serve as base types for a lot of other types and therefor have to be included in a lot of files, including the main include where my program logic is located. This does result in a multiple typedefinition. (believe me, I tried it!)<br><br>[edit]<br>Ofcourse there is a way around this, but that would mean copying all my types and main program code into 1 single bmax file. But im sure one would agree this kindof defeats the whole modular design idea behind blitzmax..<br><br><br>Also, why doesnt the include command work the same way as in Blitz3D? Just copy the code into one big pile? That worked perfectly with b3d. I can't really see why one would want to change this.. <br><br></td></tr></table><br>
<a name="469593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Include should work just the way it did in B3D. If not, its a bug and needs fixing! Can you post some sample code in 'bug reports' that highlights the problem with Include and how it differs from B3Ds?<br><br>Import is different because it precompiles the imported file. However, Imports can not have 'cycles'. That means 2 bmx files can not import each other (directly or indirectly). However, I am not 100% sure that max is generating an error for this or silently ignoring it - will have a look. <br><br></td></tr></table><br>
<a name="469609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jim Teeuwen</td><td align="right"><font class=tiny>(Posted 2004)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you mark. Sorry for coming off so pissed, but having spent 4 hours trying to get this to work is a wee bit frustrating. Specially since I considered this a failry trivial process. so that in turn made me think I made a fundamental mistake somewhere. If you cant find it after 4 hours.... youll agree it's not a good mood setter.<br><br>Anyhoo, I'll post an example in the Bugforums. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
