<!DOCTYPE html><html lang="en" ><head ><title >What are Mipmaps?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >What are Mipmaps?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >What are Mipmaps?</a><br><br>
<a name="1136494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BLaBZ</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> What are mipmaps?<br><br>How do you use them?<br><br>Thanks <br><br></td></tr></table><br>
<a name="1136495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://en.wikipedia.org/wiki/Mipmap" target="_blank">http://en.wikipedia.org/wiki/Mipmap</a><br><br>Essentially mipmaps are pre-generated versions of an image at varying quality levels. The purpose is to speed drawing of things when scaled down (by drawing smaller ones rather than scaling the whole thing every time) or improve detail when scaled up (things get blurry when you scale up, but if you have a higher resolution version ready to go that has more detail problem solved).<br><br>I don't recall if bmax handles mipmaping internally or not. MiniB3D does for textures, where by when you load a texture it creates smaller versions of it for you, and feeds it all to OpenGL. OpenGL then has various levels it can reference, so if it doesn't need the full size texture it can work with a lower mipmap level version of it so it takes less time to process since there is less data to work through. <br><br></td></tr></table><br>
<a name="1136506"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I wouldn't describe them as quality levels. They are at different SIZES mainly, and a size is selected based on the angle of the triangle in 3D and its distance from the camera, so that there is less time spent fetching/caching texture pixels when the geometry is relatively far away or scaled down. It takes 1.33* as much memory to store but can be quite a bit faster than without. <br><br></td></tr></table><br>
<a name="1136525"></a>

<a name="1136526"></a>

<a name="1136527"></a>

<a name="1136528"></a>

<a name="1136529"></a>

<a name="1136530"></a>

<a name="1136531"></a>

<a name="1136532"></a>

<a name="1136533"></a>

<a name="1136534"></a>

<a name="1136535"></a>

<a name="1136536"></a>

<a name="1136537"></a>

<a name="1136542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't have evidence to back this up right now, but the cost of sampling should be the same regardless of the texture being close or distant from the camera.<br>Since everything is rasterized, when the texture's far away the rasterizer samples texels <b>with a bigger spread</b> as only a few pixels of the far-away texture make it to the screen, so no cost inflicted.<br><br>I strongly believe mip-mapping is implemented exclusively to reduce aliasing at regions that are farther away from the view.<br>If you use the same high-detail texture for everything you will see a lot of noise at distant regions (notice the background):<br><br><img src="http://i39.tinypic.com/2b14lz.jpg"><br><font class="tiny">Left side with mip-maps off, right side with them on (ignore the devil faces as their showcasing Magnifying filtering which never uses mip-mapping) - Image by MikhailV of Fastlibs.com</font><br><br>There's no point in keeping textures of the same size if they're blurred, so every mip-level is half smaller (128, 64, 32, 16, 8, 4, 2, 1 if you start with a 128² texture).<br><br>The way you use mip-levels is by uploading them to video memory at texture-creation time. You upload them with API calls.<br>You can generate each level yourself (as Max2D does it, downscaling the original bitmap for each mip level), or let the hardware do this (there's an API call to generate mip levels automagically, although it's been deprecated AFAIK); most developers choose to make them themselves as you can choose any method to downscale your bitmap and this can influence the quality of the generated images.<br><br>Creating and uploading mip-levels is half the work.<br><br>At <b>render-time</b> you need to set the each texture's Minifying filter to make use of them. In OpenGL, this is done with the <a href="http://msdn.microsoft.com/en-us/library/dd368641(v=vs.85).aspx" target="_blank">TexParameteri()</a> function with the appropriate parameters.<br>This is how MiniB3D does it when preparing textures for the entity about to be rendered:<br><pre class=code>
' mipmapping texture flag
If tex_flags&amp;8&lt;&gt;0 'If texture has flag '8'...
	glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_LINEAR)
	glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR_MIPMAP_LINEAR) '...turn on linear mipmap sampling.
Else
	glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MAG_FILTER,GL_LINEAR)
	glTexParameteri(GL_TEXTURE_2D,GL_TEXTURE_MIN_FILTER,GL_LINEAR) 'else turn it off.
EndIf
</pre><font class="tiny">Excerpt from MiniB3D's TMesh.BMX Update() function - by SimonH</font><br><br>BTW, MiniB3D uses the same method as Max2D for creating textures and mipmaps: it does so manually.<br><br>[/grain of salt]<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136558"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>You are right in that explanation :-  Except youre combining <b>texture filtering</b> with your explanation of mip-maps. Mip-maps are nothing more than the same texture down scaled in powers of 2 to be used in relation with the distance from the viewers point. The blurring action, therefore better image quality, is a result of texture filtering which is combined with mip-maps. Mip maps were invented to increase speed of rendering on the really old graphics cards. You usually find that mip-maps and texture filtering go hand in hand nowadays and one isn't used without the other.<br><br>Max2D creates the mip-map levels manually.<br><br>That image is also using texture filtering to achieve the blurred, smoother textures.<br><br>Just my 2 pennies worth to help understand that there is a difference between mip-maps and texture filtering. <br><br></td></tr></table><br>
<a name="1136559"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>You are right in that explanation :-  Except youre combining <b>texture filtering</b> with your explanation of mip-maps. Mip-maps are nothing more than the same texture down scaled in powers of 2 to be used in relation with the distance from the viewers point. The blurring action, therefore better image quality, is a result of texture filtering which is combined with mip-maps. Mip maps were invented to increase speed of rendering on the really old graphics cards. You usually find that mip-maps and texture filtering go hand in hand nowadays and one isn't used without the other.<br><br>Max2D creates the mip-map levels manually.<br><br>That image is also using texture filtering to achieve the blurred, smoother textures.<br><br>Just my 2 pennies worth to help understand that there is a difference between mip-maps and texture filtering.<br><br>EDIT:- <a href="http://gregs-blog.com/2008/01/17/opengl-texture-filter-parameters-explained/" target="_blank">Here's a respectable explanation of the various filter modes available</a> <br><br></td></tr></table><br>
<a name="1136607"></a>

<a name="1136608"></a>

<a name="1136609"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi col, I see what you mean.<br><br>• Nearest-neighbour filtering: jagged, aliased look no matter the distance.<br><br>• Linear filtering: smooth look.<br><br>• Linear filtering + Mip-Maps: smooth look just as before, BUT faster sampling of distant textures at the cost of more memory being used (sampling speed increase more noticeable on older graphic cards, but still present in modern ones).<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1136808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You got it.<br><br>There's usually several filtering options available nowadays too...<br><br>bilinear, trilinear, anisotropic just to name a few of the common 'built-in' ones. Also remember pretty much any 'filter effect' you can dream up is available when combined with shaders. <br><br></td></tr></table><br>
<a name="1137454"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Czar Flavius</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> How to use?<br><br>Call this before you load any images. I assume you want the usual masked and filtered flags too.<br><pre class=code>AutoImageFlags(MASKEDIMAGE | FILTEREDIMAGE | MIPMAPPEDIMAGE)</pre><br><br>What it does?<br><br>Filters images which are scaled DOWN, to make the smoother. Experiment with it on and off and see which you prefer. If you won't scale images down, it has no effect. You could apply mipmapped image only to the images you will scale down.<br><br>Mipmapping an image will double the amount of video memory it requires. A small game on a modern pc shouldn't have any problem with that. But if you have any large eg 1024x1024 background images, consider not mipmapping them. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
