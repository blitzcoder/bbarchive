<!DOCTYPE html><html lang="en" ><head ><title >Grid Array "Matching" Algo Needed!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Grid Array "Matching" Algo Needed!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Grid Array "Matching" Algo Needed!</a><br><br>
<a name="965777"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kRUZe</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <img src="http://bayimg.com/image/oabnhaacf.jpg"><br><br>As you can see from the image depicted I need to come up with an algo that will build a list of grid positions that need to be set to 0 in the Array[x,y]<br><br>I've already written the gravity drop function to shift the tiles for when the "3 or more" tiles are removed but can't get my head around the actual building of the list of tiles to remove, arrghh lol<br><br>Any help would be greatly appreciated. <br><br></td></tr></table><br>
<a name="965779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Edit: I mis-read your request.<br><br>The simplest algo is:<br>1. read each coloumns and count the tiles of the same colour without 'break'<br>2. same for the rows<br>3. for every 'read' you can put the matrix coordinates in a list<br>4. use the list of coordinates to <br>  4.1 start the dropping<br>  4.2 set to '0' the value of each cell<br>5. clear the list<br><br>And if I remember there should be an example in the source folder (birdie/games/tiledrop) that can resolve your problem. <br><br></td></tr></table><br>
<a name="965780"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another solution (maybe more targeted to your request - from your image it seems you need to remove ALL the cyan tiles 'connected' togheter...)<br><br>1. read each tiles and check if the closer (left,right,up,above...) is of the same type, so put it in the list <br><br></td></tr></table><br>
<a name="965781"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kRUZe</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This will clear ALL of the chosen colour (cyan) on the grid though won't it?<br><br>I wanted to leave the others on the grid (although there are none in the example) which are not connected to the swap (joined) tiles. <br><br></td></tr></table><br>
<a name="965783"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kRUZe</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I do need to remove all the tiles connected together, but I can't get my head around the recursion (if needed) or the loop to build the list.<br><br>Maybe I need to eat more Vitamin B efficient foods :) <br><br></td></tr></table><br>
<a name="965784"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> would you be able to adapt a flood fill routine to do it? <br><br></td></tr></table><br>
<a name="965785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kRUZe</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> A flood fill routine seems logical. And given the grid is small it won't be slow either hehe :) <br><br></td></tr></table><br>
<a name="965787"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kurator</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> look for recursive flood fill algorithm, instead of coloring fields, just remember the coordinates for deleting them later <br><br></td></tr></table><br>
<a name="965962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >kRUZe</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Finally got it sorted, for some strange reason I had already written a working routine but had messed up the recursive calls (don't ask me how probably brain implode). Anyway I finally got the code sorted and this is what I came up with based on some other code I found on this forum.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
'	.-------------------------------------.
'	|	Check Matches                 |
'	`-------------------------------------'
Function CHECK_Matches(gX,gY,match_tile)
	
	' Set the Tile or Return if FALSE
	start_tile = grid[gX,Gy]
	If start_tile &lt;&gt; match_tile
		Return
		Else
		grid[gX,gY]=0
	EndIf
	
	' Only check within the grid boundaries
	If gX&lt;(gridsize-1) Then CHECK_Matches(gX+1,gY,match_tile)
	If gX&gt;0 Then	CHECK_Matches(gX-1,gY,match_tile)
	If gY&lt;(gridsize-1) Then CHECK_Matches(gX,gY+1,match_tile)
	If gY&gt;0 Then	CHECK_Matches(gX,gY-1,match_tile)

End Function
</textarea> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
