<!DOCTYPE html><html lang="en" ><head ><title >HELP!!!!!!!!!!!!!!!!!!!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >HELP!!!!!!!!!!!!!!!!!!!</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >HELP!!!!!!!!!!!!!!!!!!!</a><br><br>
<a name="1296254"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Caton</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> file=ReadFile(filename$)<br>Length=ReadInt(file)<br>StringTest1$=ReadString(file,Length)<br>CloseFile(file)<br><br>I get a error ever time I use int to define Length of string <br><br></td></tr></table><br>
<a name="1296255"></a>

<a name="1296257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh dear. See <b><a href="/posts.php?topic=105844" target="_blank">here</a></b> and <b><a href="/posts.php?topic=105805" target="_blank">here</a></b> for more information. <br><br></td></tr></table><br>
<a name="1296256"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Could an moderator please moderate... (join the 3 threads ... or lock the "unused" ones).<br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1296258"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You've asked a few times now Caton. I guess you're not getting what you want. See if this helps:<pre class=code>Strict
Local fp:TStream,t$,f$="data.txt" ' f$ is name of file to read
fp=ReadStream(f$) ' you must assign a TSTREAM before reading a file
t$=LoadString(fp) ' read entire file into t$
Print Len(t$) ' print length of it
Print t$ ' print entire contents of it
CloseStream fp ' close your file stream when done
End ' exit</pre> <br><br></td></tr></table><br>
<a name="1296260"></a>

<a name="1296261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >markcw</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Firstly ReadInt returns 4 bytes from the stream as a Int value, what you probably want is StreamSize this gives you the filesize, then it works.<br><br><pre class=code>' caton.bmx

filename$="caton2.bmx"
file:TStream=ReadFile(filename$)
Length%=StreamSize(file)
StringTest1$=ReadString(file,Length)
DebugLog Length
DebugLog StringTest1
CloseFile(file)
</pre><br>Contents of text file.<br><pre class=code>
hello world
this is a test
</pre> <br><br></td></tr></table><br>
<a name="1296263"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> dw817, if you actually read his code, you'd have seen this:<br><pre class=code>
Length=ReadInt(file)
</pre><br>which implies that he has an Int followed by a string in the file. The int value signifies the length of the following text.<br>Presumably it is some kind of custom file format (see other of his previous posts also in the Blitz3D section).<br><br>ReadFile returns a TStream object.<br><br>Since he appears to ignore replies to the other posts, one expects the same outcome here. <br><br></td></tr></table><br>
<a name="1296265"></a>

<a name="1296266"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Brucey. I cut to what it appeared he wanted and skipped over the fact ReadInt was being used incorrectly. When I tutored in the past, I would do that with students sometimes and made greater headway than trying to explain what they did wrong.<br><br>If they brought it back up and there was no simple solution to use a different approach, then I would explain that command to them.<br><br>But yes, ReadInt will read 4-characters of the open file and convert it to a number, NOT the length of the file. It's essentially your CVS($) routine from BASIC, in this case read from a file and not a string variable.<br><br><a href="http://www.antonis.de/qbebooks/gwbasman/cvi.html" target="_blank">http://www.antonis.de/qbebooks/gwbasman/cvi.html</a><br><br>And yes, it is hoped something can be learned from a working solution. :) <br><br></td></tr></table><br>
<a name="1296268"></a>

<a name="1296270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> You can't really just make sweeping assumptions as to what you *think* someone wants to do.<br><br>I refer you to Floyd's post (#2) <b><a href="/posts.php?topic=105417" target="_blank">here</a></b>, in which he discusses Blitz3D's string storage, from which Caton appears to be trying to read from in BlitzMax...<br><br><br>At the end of the day, I'm pretty sure he's just having a laugh, as all these "help" posts appear to be subsequently ignored by the author. <br><br></td></tr></table><br>
<a name="1296278"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well you can't make sweeping assumptions about my sweeping assumptions either.  :)<br><br><img src="http://cache.reelz.com/assets/content/article/norman_bates.gif"><br><br>In fact, no-one is allowed that unique privilege, not unless they are from planet Corinia.<br><br><iframe width="560" height="345" src="http://www.youtube.com/embed/FWqimMpbTyU" frameborder="0" allowfullscreen></iframe><br><br>Knowledge is power ... it grows like a flooow-oowww-eerr ! <br><br></td></tr></table><br>
<a name="1296282"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I get a error ever time I use int to define Length of string <br></div><br>Why do you need to use an Int for defining length?<br>Use ReadLine and WriteLine, let BlitzMax handle string length itself.<br><br>By using those two functions you can read and write any string you want, regardless of size. The resulting file will be human-readable as well, which is a positive point. <br><br></td></tr></table><br>
<a name="1296283"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Why do you need to use an Int for defining length? <br></div><br>Probably because that's what Blitz3D does.<br><br>@dw817<br>I've never understood the point of posting images/videos as a reply to something, other than trying to be clever or cool, or in an attempt to distract - for whatever reason. <br><br></td></tr></table><br>
<a name="1296284"></a>

<a name="1296285"></a>

<a name="1296286"></a>

<a name="1296287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dw817</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Brucey, sometimes you just gotta let it out. And yes, here is another.<br><br><a href="https://s-media-cache-ak0.pinimg.com/564x/9a/db/24/9adb24017b4b7946059a8da54907b40f.jpg" target="_blank"><b>YOUR ARGUMENT IS INVALID</b></a><br><br>What am I listening to ? <a href="http://www.youtube.com/embed/W25ZBzA3s70?rel=0&amp;iv_load_policy=3&amp;theme=light&amp;VQ=HD720" target="_blank"><b>MUSIC</b></a>.<br><br>Don't worry, I'll post some new source soon. I'm still fighting the infernal gadgets from MAXGUI in my Carryall project. I think in the future I'll write my own GUI like S2 has.<br><br>Usually if I have a question about coding now, I Google it, and trace it back to BlitzBASIC.com. That's why I haven't asked any questions of late. <br><br></td></tr></table><br>
<a name="1296305"></a>

<a name="1296306"></a>

<a name="1296307"></a>

<a name="1296308"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still get sucked into trying to answer these questions even though I know it is futile. There's never enough information.<br><br>This thread starts with a code fragment and "I get a error...". What error? What was expected that didn't happen?<br>What value did Length=ReadInt(file) produce? Does it look reasonable?<br><br>And we can't try the code ourselves. It is using a file we don't have. My guess about the current problem is that the first four bytes are supposed to contain the length of a string to be read but actually do not. Without access to the file this is speculation. <br><br></td></tr></table><br>
<a name="1296365"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still processing the fact that ReadFile returns a TStream object and he's putting that value in an Int. <br><br></td></tr></table><br>
<a name="1296367"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2016)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> That is because it does not use "strict" (or "superstrict")<br><br>save as nonstrict.bmx<br><pre class=code>
Framework Brl.StandardIO
Import Brl.Stream
Import Brl.Reflection

local f = ReadStream("nonstrict.bmx")

local t:TTypeID = TTypeID.ForObject(f)
if t
	print t.name() 'prints "TCStream"
else
	print "unknown type"
endif
</pre><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
