<!DOCTYPE html><html lang="en" ><head ><title >How EOF works</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >How EOF works</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >How EOF works</a><br><br>
<a name="763492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi, just did some testing of when EOF gets set when reading files:<br><br><pre class=code>
Strict

Local file:TStream = ReadFile("test.txt")

Local l$ = ReadLine(file)
If Eof(file) Then Print "EOF!"

CloseStream(file)
</pre><br><br>If you run the above code and stick a single line of text in a text file (doesn't matter if you press Enter at the end of the line) then the code will report EOF (End of File).  This is DIFFERENT from languages like Delphi where EOF only get's set after you try to read another line and the read fails.<br><br>This makes quite a bit of difference when coding your filereading loops because after you read the last value, EOF is already set, you don't need to read another line to set it.  Be careful :-) <br><br></td></tr></table><br>
<a name="763495"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> EOF is true whenever the current position in a stream is equal to or larger then the size. Since these are both signed ints, you cannot use files larger than two gigabytes. <br><br></td></tr></table><br>
<a name="763496"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> From the comments in the code I would guess it works like this :<br><div class="quote"> <br>	Rem<br>	bbdoc: Get stream end of file status<br>	returns: True for end of file reached, otherwise False<br>	about:<br>	For seekable streams such as file streams, Eof generally returns True if the file<br>	position equals the file size. This means that no more bytes can be read from the<br>	stream. However, it may still be possible to write bytes, in which case the file will<br>	 'grow'.&lt;br&gt;<br>	&lt;br&gt;<br>	For communication type streams such as socket streams, Eof returns True if the stream<br>	has been shut down for some reason - either locally or by the remote host. In this case,<br>	no more bytes can be read from or written to the stream.<br>	End Rem<br>	Method Eof()<br>		Return Pos()=Size()<br>	End Method<br><br> <br></div> <br><br></td></tr></table><br>
<a name="763503"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah yes, the help file doesn't have that much detail. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
