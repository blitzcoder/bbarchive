<!DOCTYPE html><html lang="en" ><head ><title >Input() in Blitzmax?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Input() in Blitzmax?</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Input() in Blitzmax?</a><br><br>
<a name="1171379"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> How do I receive numerical input in Bmax? For example, B3d I could use  TotalLevels=Input(). <br><br></td></tr></table><br>
<a name="1171381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GaryV</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blitzbasic.co.nz/bmdocs/command_list_2d_cat.php?show=Input" target="_blank">http://blitzbasic.co.nz/bmdocs/command_list_2d_cat.php?show=Input</a> <br><br></td></tr></table><br>
<a name="1171384"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, but I need a promt for user input. Everything on that list seemed to return a keycode with no user promt. I want the actual value of the key, not the keycode. <br><br></td></tr></table><br>
<a name="1171385"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blitzbasic.co.nz/bmdocs/command.php?name=Input&amp;ref=2d_cat" target="_blank">http://blitzbasic.co.nz/bmdocs/command.php?name=Input&amp;ref=2d_cat</a> <br><br></td></tr></table><br>
<a name="1171386"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry,but I need intergers not strings. <br><br></td></tr></table><br>
<a name="1171388"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Int(str$) <br><br></td></tr></table><br>
<a name="1171392"></a>

<a name="1171395"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok. I got that. How do you get it to show up on graphic screen and not the console? This was so simple in B3d. I guess while we're on the topic, how would one go about this in Maxgui?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1171396"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> In MaxGUI? Well, add a text field and type stuff in there :-) <br><br></td></tr></table><br>
<a name="1171401"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "add a text field and type stuff in there" <br><br>lol. Well ya, but how do I get from there to an interger varaible? I want to be able to type in a number and assign it to an int variable. <br><br></td></tr></table><br>
<a name="1171402"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, you do what Jesse says, which is to cast your String to an Int.<br><br>I heartily suggest you visit the Tutorials section of the website and work your way through the stickied "The MaxGUI Beginner Tutorial Series".<br>It'll teach you a lot about how to use MaxGUI for stuff. <br><br></td></tr></table><br>
<a name="1171420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cast what string into an Int?  Everything is in gadgets/event gadget actions. How the hell do you get from gadgets or text gadgets etc. to say a string variable that i can even invoke Int?    <br><br>I have been going through the tuts, but all I can get out of it is keying some text into an textfield to display in labels and such. Thats nice and all to be able to display something I typed in, but I want to take input and assign it to a variable. Like typing the number 4 in, hit enter and assigning to an integer variable. No clue at this point how to do that in maxgui from what i've gathered so far from the tuts. Perhaps you can point me to the specific tut that will explain this for me? <br><br></td></tr></table><br>
<a name="1171421"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Tutorial 6 discusses TextFields.<br><br>Specifically, it shows that TextFieldText() will return a String of the contents of the TextField gadget.<br>Now that you know how to get a String from a TextField, it's simply a case of setting that string into a variable.<br><br>Unfortunately, tutorials don't show every possible use for some functionality or other, so you need to look at what it does show you, which in this case is enough to find out how to extract the String data, and then you sit and work out how to do the rest yourself. That's the fun part of programming ;-)<br><br>Some pseudo code…<br><pre class=code>
  on some action :
   numberVariable = Int(TextFieldText(gadget))
</pre> <br><br></td></tr></table><br>
<a name="1171422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, I don't mind figuring stuff out, but sometimes a simple code example cuts through the fog. Thank you. <br><br></td></tr></table><br>
<a name="1171537"></a>

<a name="1171539"></a>

<a name="1171540"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Henri</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello,<br><br>TextFieldText() has been superseded with GadgetText() . Here is a little sample...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
Strict

Import maxgui.drivers

AppTitle = "GUI test"

'Some temp variables
Local int_var:Int, width:Int, height:Int

'Main window
Local window:tgadget = CreateWindow("Sample",Null,Null,250,150,Null,WINDOW_TITLEBAR | WINDOW_CENTER)

'Get width and height
width = ClientWidth(window)
height = ClientHeight(window)

'Position our gadgets
Local textfield:tgadget = CreateTextField(width/2 - 60,height/2 - 40,120,30,window)
Local button_show:tgadget = CreateButton("Show",width/2 - 70,height/2 + 10,60,30,window)
Local button_reset:tgadget = CreateButton("Reset",width/2 + 10,height/2 + 10,60,30,window)

'Main loop
Repeat

	'Wait until something happens
	WaitEvent()
	
	Select EventID()
	Case EVENT_WINDOWCLOSE
		End
	Case EVENT_GADGETACTION
		Select EventSource()
		Case button_show
			'Get text and transform it to int
			int_var = Int(GadgetText(textfield))
			
			Notify "Contents of textfield stored in int variable is " + int_var
		
		Case button_reset
			'Reset textfield to zero
			SetGadgetText(textfield,"0")
			
		EndSelect
		
	EndSelect
	
Forever
</textarea><br><br><br>-Henri<br><br><font class="tiny">Last edited 2013</font><br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1171541"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Henri. Very helpful. I was wondering how i was going to reset the textfield to zero. I'm learning.  Cheers &amp; happy new year! <br><br></td></tr></table><br>
<a name="1171552"></a>

<a name="1171578"></a>

<a name="1171579"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> Another little helpful tip is that you can use SetGadgetFilter for textfields and textareas to allow or disallow certain characters.<br><br>For example you say you'd like integers only, so you would also restrict the characters in the actual textfield to numbers only.<br><br>Add this anywhere <u>outside</u> of the main loop.<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SetGadgetFilter(textfield,TextFieldNumeralsOnly)

Function TextFieldNumeralsOnly(Event:TEvent,Context:Object)
	If Event.Id = EVENT_KEYCHAR
		If Event.Data &gt;= Asc("0") And Event.Data &lt;= Asc("9") Return True ' Tell MaxGUI to allow numbers to be accepted.
	EndIf

	Return False ' Not really needed here but this will return 0 to MaxGUI so that no further processing will be handled.
EndFunction
</textarea><br><br>Edited due to not testing the code before posting. Added Asc(). :P<br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1174321"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey col, Just got around to trying your code and I can't get it to work. I keep getting a "Compile Error: Function can not return a value" <br><br></td></tr></table><br>
<a name="1174322"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Zeke</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>
SuperStrict

Graphics 800,600

Function gfxInput:String(prompt:String="",x:Int=-1,y:Int=-1,reset:Int=False)
	Global result$

	If prompt="" And x=-1 And y=-1 Then 
		Local r$=result$
		If reset=True result=""
		Return r
	EndIf
		
	DrawText prompt+result,x,y
	Local width:Int=TextWidth(prompt+result)+1
	If MilliSecs()/500 Mod 2=0 Then DrawLine x+width,y,x+width,y+TextHeight(prompt+result)
	
	Local char:Int=GetChar()
	If char
		Select char
			Case 13 'return
				Return result
			Case 8 'backspace
				If result.length&gt;0 Then result=result[..result.length-1]
			Default
				result:+Chr(char)
		End Select
	EndIf
	Return Null
End Function


While Not(KeyDown(KEY_ESCAPE) Or AppTerminate())
	Cls
		If gfxInput("Enter name:",100,100) Then Notify gfxInput(,,,True)
	Flip
Wend
</pre> <br><br></td></tr></table><br>
<a name="1174323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks, but not what i'm looking for at the moment. I would like to restrict characters to numbers in some of my textfield gadgets.  <br><br><br>On a side note though, I would like to know how to get a prompt on a graphic screen instead of the console. :) <br><br></td></tr></table><br>
<a name="1174325"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brucey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I would like to know how to get a prompt on a graphic screen instead of the console <br></div><br>You can write your own "graphics console" routine, like the example Zeke has given in his last post. <br><br></td></tr></table><br>
<a name="1174329"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Egad. All that to produce a simple prompt on a graphic screen? Is there a more newb friendly way? It would take me a while to unpack and understand Zeke's example. So simple in B3d.  variable=Input() ta-da! <br><br></td></tr></table><br>
<a name="1174331"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Midimaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also the INPUT on B3D is "out-of-date" and only displays the prompt on the screen, because the console is together with the graphic on the same window. But all console commands destroy your graphic content in this "solution". So a better graphic solution take care about not to use the console for user inputs.<br><br>What is the problem of writing the function as you need it?<br><br>Zeke's function is a substitution the INPUT(). So why not add it and use it without understanding? You also never thought about how INPUT() worked on B3D! <br><br></td></tr></table><br>
<a name="1174335"></a>

<a name="1174336"></a>

<a name="1174393"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hiya,<br><br>You must be using SuperStrict. I usually use Strict which defaults return values to Int.<br><br>Here's a working MaxGUI example using SuperStrict...<br><br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">
SuperStrict

Import MaxGUI.Drivers

Global Window:TGadget = CreateWindow("TextEdit test",0,0,400,200,,WINDOW_DEFAULT|WINDOW_CENTER)
Global TextField:TGadget = CreateTextField(130,10,230,30,Window)
CreateLabel("Numbers Only:",10,10,200,30,Window)
ActivateGadget(TextField)

SetGadgetFilter(Textfield,TextFieldNumeralsOnly)

Function TextFieldNumeralsOnly:Int(Event:TEvent,Context:Object)
	If Event.Id = EVENT_KEYCHAR
		If Event.Data &gt;= Asc("0") And Event.Data &lt;= Asc("9") Return True ' Tell MaxGUI to allow numbers to be accepted.
		If Event.Data = 13 Return True ' Accept return key
	EndIf

	Return False ' Not really needed here but this will return 0 to MaxGUI so that no further processing will be handled.
EndFunction

Repeat
	WaitEvent
	
	Select EventID()
		Case EVENT_WINDOWCLOSE
			End
	EndSelect
Until AppTerminate()
</textarea><br><br><font class="tiny">Last edited 2013</font> <br><br></td></tr></table><br>
<a name="1174394"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Galdy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah yes, That was it. Thanks Col.<br><br>  Midimaster, As you say, I can adapt the code without entirely understanding it yet,but since a function has to be created to accomplish what I need,it will be nicer to understand it more thoroughly.User input is my need so your point about the console is noted. Thanks. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
