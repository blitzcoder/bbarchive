<!DOCTYPE html><html lang="en" ><head ><title >Still havnt found a good use for TMap</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Still havnt found a good use for TMap</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >Still havnt found a good use for TMap</a><br><br>
<a name="1186155"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im aware of TMap functionality but yet I havnt found a use for it.<br><br>All I use is TList and Array.<br><br>Can someone point of a good use of TMap where TList is less useful<br>or cannot function at all? <br><br></td></tr></table><br>
<a name="1186156"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Lists and arrays just store elements. Maps store elements alongside a search key. If you needed to retrieve an element by matching against a particular key (e.g. find an object by name string), you would probably want to use a map.<br><br>In contrast, lists have no key at all, so all you can do is loop over every element; and arrays have indices instead of keys, which are very fast but implicitly controlled by the array structure. Maps allow you to use any object as a key, which is useful for non-continuous data or where the key has an actual connection to the object's value somehow. <br><br></td></tr></table><br>
<a name="1186166"></a>

<a name="1186167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm. A 'real world' example would be MaxGUI.<br><br>TGadgets are subclassed objects of the original OS objects. The original OS object is referenced by a unique integer handle value, and ( on Mac and Windows ) that integer value is used as the key while the instance of the associated BMax TGadget object is the element. When the OS wants to 'communicate' with the OS object ( for/caused by user interaction ) it will send the OS handle value to MaxGUI ( sometimes via callback ) which looks up the associated TGadget from the TMap ( using the OS handle as the key ) and pass the interaction data on to the BMax instance. <br><br></td></tr></table><br>
<a name="1186168"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> My locale class uses TMaps for returning a localised version of string from a given stringID.  And it's plenty fast enough to use on-the-fly.  Could not do that with a TList. <br><br></td></tr></table><br>
<a name="1186171"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I use TMaps for reading my configuration files (like ini files).  Just read the pair in the from the config file, then when I want to know the value of the option, I search by key.<br><br>somekey=somevalue<br>anotherkey=anothervalue<br><br>etc...<br><br>Then when I want to know what some key was equal to, I pull it from the TMap.  This way, I do not need to know ahead of time what values will be in the configuration file for storing into variables or anything and I do not have to care what order they are in the config file. <br><br></td></tr></table><br>
<a name="1186175"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> In other languages a TMap is sometimes called a Dictionary. And that is definitely one use for it. I once used them to store tiled levels that were huge but very sparse. The key would be built by adding the x and y position separated by an underscore, eg. "12_1058". It was an excellent low memory but high performance method for storing levels of this sort. <br><br></td></tr></table><br>
<a name="1186176"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Something you should know about TMap data is that they are stored and searched using a binary tree. This helps speed up access times. <br><br></td></tr></table><br>
<a name="1186178"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Kryzon</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> It was an excellent low memory but high performance method for storing levels of this sort. <br></div><br>Do you mean low performance? that is, the tradeoff of that method is using little memory, but being computationally more expensive. <br><br></td></tr></table><br>
<a name="1186185"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hardcoal</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> So what your saying if I Insert to a Map Same object to Key And Value<br><br>For Example:<br><br>MapInsert( map:TMap,DataCell,DataCell )<br><br><br>Type DataCell<br>   Field Name$="Test"<br><br>   Field SomeInfo...<br>End Type<br><br>And I Want to Get The DataCell using Its Name<br>I will Get It Faster then searching Tlist Objects List looking for the specific Name? <br><br></td></tr></table><br>
<a name="1186187"></a>

<a name="1186188"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >col</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> It depends on the number of items in the data collection. Imagine you have a TList with over 65000 elements. If the item you're looking for is at the end of the list then you'd be doing over 65000 iterations to get to your element. In a TMap, as mentioned above it uses a binary search algo, so the max number of search iterations would be 16 to get to your element. I think the actual processing of the TMap search is more expensive than using a TList, so if you have a relatively small number of items ( less than a couple of hundred ) then a TList is computationally faster, any more items then a TMap takes the lead for speed, but I stand to be corrected as to where that 'tipping point' is.<br><br>Remember, a TMap relies on you using a unique key to element relation, whereas a TList doesn't use keys at all. <br><br></td></tr></table><br>
<a name="1186191"></a>

<a name="1186201"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Beaker</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Kryzon - you could call it low performance, but it was much higher performance than using an array on a low memory device.  It was actually running on an old Windows CE phone many years ago.<br><br>Also, don't forget that if speed isn't an issue then a TMap might just be better fit, and be just fast enough. <br><br></td></tr></table><br>
<a name="1186203"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Isn't a TMap kind of a hash table thing.. so if you wanted to store like a database of lots of information or something it would give you quick access to finding elements based on keys? <br><br></td></tr></table><br>
<a name="1186296"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Azathoth</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Some languages have associative arrays implemented using hash tables  but TMap isn't. <br><br></td></tr></table><br>
<a name="1186307"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Isn't a TMap kind of a hash table thing.. so if you wanted to store like a database of lots of information or something it would give you quick access to finding elements based on keys? <br></div>Essentially, yes.<br><br>Mr Google tells me that <a href="http://en.wikipedia.org/wiki/Hash_table" target="_blank"><b><u>Hash Tables</u></b></a> have an average time complexity of <a href="http://www.perlmonks.org/?node_id=227909" target="_blank"><b><u>O(1)</u></b></a>, whilst <a href="http://en.wikipedia.org/wiki/Red%E2%80%93black_tree" target="_blank"><b><u>Balanced Binary Trees</u></b></a> have <a href="http://www.perlmonks.org/?node_id=227909" target="_blank"><b><u>O(Log n)</u></b></a>. <br><br></td></tr></table><br>
<a name="1186372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >nitti</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> You use different containers for different tasks. <br><br>so <br>you use an array when you want to retrieve your objects with an integer index. <br>you use a list if you want to iterate over all objets n it and do something with it.<br>and a dictionary (or TMap) is used to get elements by using a unique key. <br><br><br>the last two times I used a TMap I've used it for <br>-storing gamescenes, and naming them "intro", "settings", "main" etc.<br>-storing a super large 3d world in chunks (aka minecraft) the keys I used for the dictionary were strings that told me the location like "01_20_56" (x,y,z). <br>that way the memory requirements where a fraction of the cost compared to an initialized 3d array. <br><br></td></tr></table><br>
<a name="1186375"></a>

<a name="1186376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Mr Google tells me that Hash Tables have an average time complexity of O(1), whilst Balanced Binary Trees have O(Log n).  <br></div><br><br>Col already touched on this in post #10, but remember that time complexity is a mathematical abstract that has <a href="http://lambda-the-ultimate.org/node/4736" target="_blank">increasingly little to do with performance</a> of real-world systems. (Or rather it still has and always will have everything to do with it, but you have to be careful that what you intended to write ends up bearing some resemblance to what is being run.) <br><br></td></tr></table><br>
<a name="1186446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JaviCervera</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maps are extremely useful in many situations. Some of the things I used them for in BMax: Instead of generating my user interfaces in code, I used to write some XML files with the GUI description, just like this:<br><br><pre class=code>&lt;interface&gt;
	&lt;window key="win"&gt;
		&lt;title&gt;My Main Window&lt;/title&gt;
		&lt;coords x="0" y="0" width="640" height="480" /&gt;
		&lt;flag&gt;titlebar&lt;/flag&gt;
		&lt;flag&gt;resizable&lt;/flag&gt;
		&lt;flag&gt;clientcoords&lt;/flag&gt;
		&lt;flag&gt;center&lt;/flag&gt;
	&lt;/window&gt;
	&lt;canvas key="canvas" parent="win"&gt;
		&lt;coords x="0" y="0" width="640" height="480" /&gt;
	&lt;/canvas&gt;
&lt;/interface&gt;</pre><br><br>And then, I wrote a generic "LoadGUI" function that I can use on every project, which parses the XML, creates the correct gadgets, attached to their respective parents, and returns a TMap object which contains a set of key/value pairs with the handle to each gadget identified by the string on its "key" attribute on the XML file.<br><br>So basically, you call LoadGUI, and later you get the needed gadgets from the map and store them in variables or whatever you need.<br><br>This is just one example, but there are many many uses for maps. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
