<!DOCTYPE html><html lang="en" ><head ><title >some pointers</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >some pointers</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >some pointers</a><br><br>
<a name="691205"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cloned</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> can you give me some pointers to a newbie to BMAX, i just want some pointers on what things avoid in BMAX and what i should do to keep memory consumption down <br><br></td></tr></table><br>
<a name="691214"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://blitzbasic.com/Community/posts.php?topic=42519" target="_blank">http://blitzbasic.com/Community/posts.php?topic=42519</a> <br><br></td></tr></table><br>
<a name="691223"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, I'm a newbie as well - to programming (for the most part) and to BMAX.<br><br>Here's a lone pointer: Objects (any declared Type) are passed by reference to a function, while the standard variable types (int, float, etc) are not. <br><br>So if you want to directly modify parameters of a function that are of the standard types, you must include "var" after them so that they are treated as a reference.<br><br>E.G.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">

Function NormalParameter( param:int )
   param:+ 10
endfunction

Function ReferenceParameter( param:int var )
 param:+ 10
endfunction

local x:int = 5
NormalParameter( x )
Print x          'this prints '5'
ReferenceParameter( x )
Print x          'this prints '15...x itself was modified in the function
</textarea> <br><br></td></tr></table><br>
<a name="691225"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cloned</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> well i already knew that from programming in a different language <br><br></td></tr></table><br>
<a name="691234"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> In that case tell us EVERYTHING else you know and we'll see what's missing. <br><br></td></tr></table><br>
<a name="691286"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> So if you want to directly modify parameters of a function that are of the standard types, you must include "var" after them so that they are treated as a reference. <br></div> You could of course just pass the whole object, and then not worry either way. (Because the object is by refference it is still just a pointer being passed)<br><br>In fact (Broken record time), where ever possible the function/method should be called via the object, and not simply passed a param of the object <br><br></td></tr></table><br>
<a name="691305"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> "the function/method should be called via the object, and not simply passed a param of the object"<br><br>I have no idea what this means. <br><br></td></tr></table><br>
<a name="691309"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I *think*...<br><pre class=code>
Type TSum
	Field a:Int
	Function create:TSum(num:Int)
		mynew:TSum = New TSum
		mynew.a = num
		Return mynew
	End Function
 	Function double_a_func(myobject:TSUM)
		Return myobject.a * 2
	End Function
	Method double_a_method()
		Return a * 2
	End Method
End Type
mynew:TSum = TSum.create(5)
Print TSum.double_a_func(mynew)
Print mynew.double_a_method()   ' preferred.
</pre><br>Is that right? <br><br></td></tr></table><br>
<a name="691328"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I still have no idea what H&amp;K was getting at in response to the post above -  what SculptureOfSoul was saying is perfectly correct and has nothing to do with passing an object's own data as parameters into it's own methods. <br><br></td></tr></table><br>
<a name="691335"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Brendane: well, everytime you pass a parameter without var, a new variable is alocated and after the function, destroyed. So passing pointers (types or variables by reference) is quicker and reduces memory usage and data conversions. I think that is what H&amp;K was saing. <br><br></td></tr></table><br>
<a name="691351"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Passing base types (int, float, byte etc.)  into a function pushes their values onto the stack to be used by the function. There is nothing gained by using Var unless you want your function to modify the actual variable passed in.<br><br>'Objects' (user Types) are *always* passed by reference (that is to say, a pointer to the object is pushed onto the stack, no copy is made). Nothing new is created and the use of Var here is actually redundant.<br><br>Strings are handled differently it seems. If you pass a string into a function it always passes by reference, *HOWEVER*, unless you specify Var you cannot modify the string. <br><br></td></tr></table><br>
<a name="691361"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I ment was exactly what tonyg posted, so I didnt think to post a explination.<br><br>If I have a chose between<br><br>Function doit(Object.Field)<br>or<br>Object.doit<br><br>Then I would alway pick the second one.<br><br>Ie I wouldnt pass a Field, I would call the function from the object ;)<br><br>As a more sencible statement I was saying any function that is going to use data from "Only One Type of Object", should always be a function/Method of that Object.<br><br>(Sorry for not being clear, but TonyG didprint exactly what I ment, so I couldnt have been that unclear)<br>(Mind, as I always say "Stick it in an object", know matter what the question, TonyG might have just guessed what I ment)<br><br>I would recomend that everyone downloads the minib3d by simon. <a href="http://www.blitzbasic.com/Community/posts.php?topic=61515" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=61515</a><br>Even If you do not intend helping him, the way it shows the object layout against the Function layout is instructive. (And because it trying to do something we know, the code is easy to follow) <br><br></td></tr></table><br>
<a name="691494"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Defoc8</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> var1=var2=var3 - assigns the result of var2=var3 to var <br>                            ..that is  - whether or not theyre equal..<br>                            as opposed to assigning vars 1 and 2 the<br>                            same value as var3...this was pointed out<br>                            to me..after i made a post about assembly<br>                            output...my brain is still stuck in c/c++ mode.<br><br><br><br>var:+1 equates to  var=var+1<br>var:/2  equates to var=var/2  etc etc<br><br> print "hello"+..<br>         "world"<br><br> ".." this operator allows you split text lines up..the above<br>print statement spans two lines..perhaps i shouldnt call<br>it an operator, too late now :p ;)<br><br>type namespace<br> global var,var,var,var<br> function<br> function<br> function<br>endtype<br><br> - global functions/vars/consts are perhaps best stored within a type.<br>this allows you to treat them as if within a c++ namespace, - lessening the chances of clashes between<br>modules...<br><br>special methods new() and delete() can be added to your<br>type - allowing your objects to perform initialisation, and<br>cleanup ops - contructor/destructor.<br><br>there are loads of other things that might be useful to<br>know..those are the only ones that spring to mind at the<br>moment.. <br><br></td></tr></table><br>
<a name="691537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is Delete() currently called when an object gets destroyed?<br><br>And also, I remember reading that Delete was currently a reserved keyword. Is it wise to utilize delete() (assuming it is called) as a destructor...I'm worried that it's functionality will change in a future Bmax release. <br><br></td></tr></table><br>
<a name="691538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Probably a silly question but, since I'm away from a comp w/ Bmax at the moment and I'll probably forget to test this if I don't ask now...<br>Do exceptions work like they do in C++ where they continue to propagate upward until they are either caught or terminate the program...or do the thrown exceptions have a local scope? <br><br></td></tr></table><br>
<a name="691543"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >cloned</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> i thought delete() didn't exist BMAX like it did in BB<br><br>i made a sword fighting animation for a guy but i have no images to test it with(i worry a lot if my math is right or wrong)<br><br>also what functions would be best for calling images, i already perfer .PNG as my image format. i really need some info on the pixmap modules <br><br></td></tr></table><br>
<a name="691546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> LoadAnimImage is ideal for loading animated images, where LoadImage() is for single frame images. These both work on .png's.<br><br>Pixmaps are stored in system memory, and need to be transferred over to video memory before being drawn, and are therefore considerably slower than images (TImage objects). <br><br>The only time it is recommended to use a pixmap over an image is if you need to modify the image directly in some manner or another (i.e. plotting pixels over it, combining two images, doing some kind of custom pixel replacement, etc. ) <br><br></td></tr></table><br>
<a name="691548"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Delete() is a default method on objects (destructor) thats called when an object is collected after it went out of scope.<br>If you implement it, its called instead of the core object ones (:Object) and you can define the stuff that should happen when the specific object is cleaned. <br><br></td></tr></table><br>
<a name="691562"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >tonyg</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> To add to Dreamora's comment...<br>Don't mix up the 'delete' command/keyword with the delete() method. <br><br></td></tr></table><br>
<a name="691576"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >SculptureOfSoul</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for clarifying that tony!<br><br>Another question - is there any command that is similar to "inline" in C/C++? <br><br></td></tr></table><br>
<a name="691640"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Brendane</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> @SculptureOfSoul : Yes, exception work just like in C++, they propagate until a handler catches it. <br><br></td></tr></table><br>
<a name="691808"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Defoc8</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> ..as far as i know, no inline or macro support has been<br>added to bmax - this may well be an effort to avoid hard<br>to read/confusing code..well with macros anyway..<br>some form of code expansion would be nice though.. <br><br></td></tr></table><br>
<a name="691813"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> @Brendane: well, everytime you pass a parameter without var, a new variable is alocated and after the function, destroyed. So passing pointers (types or variables by reference) is quicker and reduces memory usage and data conversions. <br></div><br><br>Using var will in many situations keep the variable alive longer and force it to be stored in memory both effects possibly resulting in slower performance. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
