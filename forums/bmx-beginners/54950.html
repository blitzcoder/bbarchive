<!DOCTYPE html><html lang="en" ><head ><title >step -1</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >step -1</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=101" >BlitzMax Beginners Area</a>/<a href="#bottom" >step -1</a><br><br>
<a name="612047"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Perhaps it was mentioned already somewhere, but I spend hours figuring out why my code-intentions didn't happen, only to find out that it was my forloop that didn't do anything..<br><br>And why was that..?<br><br>Local t:Byte<br>For t=10 to 0 Step -1<br>Next<br><br>=problem!<br><br>Negative Steps only work with signed variables, not unsigned.., COME ON :D <br><br></td></tr></table><br>
<a name="612050"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Perturbatio</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmmm... a bug methinks<br><br>However, using an Int will be slightly quicker than using a byte anyway. <br><br></td></tr></table><br>
<a name="612053"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> well, I hope it's a bug, and not intended :P<br><br>btw, are ints always faster than shorts or bytes? <br><br></td></tr></table><br>
<a name="612057"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> but if BYTE are UNSIGNED how BlitzMax can handle a NEGATIVE step (-1). It's not a bug <br><br></td></tr></table><br>
<a name="612062"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >EOF</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> btw, are ints always faster than shorts or bytes? <br></div>From the BlitzWiki ..<br><br>"Integers are quicker than bytes. Since 32bit CPU's operate on 32bit integers there is an overhead in changing bytes to ints. You should therefore only use bytes when you have a very large array or are dealing with external functions which use bytes." <br><br></td></tr></table><br>
<a name="612064"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yepp, a negative step with a format that does not know what negative is can logically not work ... because the stepping would be<br><br>i + step ... but -1 isn't an existing step in byte thus the reaction you saw which is correct. <br><br></td></tr></table><br>
<a name="612088"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> hm.. I'm only taking first steps into bmax, so I'm perhaps not the right one to judge on things yet, but in other languages negative steps/deltas aren't linked to the variable-type.. so whether all this is good or bad is an interesting question. :P <br><br></td></tr></table><br>
<a name="612090"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> dont' worry - I'm a new to bmax too - it was a rare moment of mental lucidity - probably the only one in 2006! :) <br><br></td></tr></table><br>
<a name="612165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Dreamora</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> good or bad is always a subjective thing.<br>But it is for sure a secure way to prevent for local i:byte 10 to -10 step -1 constructions which would come up for quite sure, don't you thing? ;)<br>Most here even don't understand the difference between int and unsigned int or have the least knowledge of the maximum values etc of the data types <br><br></td></tr></table><br>
<a name="612167"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >CS_TBL</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> In that case i should just nicely wrap around to 255.<br>Those same ppl who don't understand those var differences prolly auto-use ints in non-strict mode.. so that 'protection' wouldn't really be necesarry.<br><br>I still think it's just plain weird that the Step is related to the var-type.., the compiler could at least give warnings for stupid things, like forloops that aren't ever executed, because of these kinda quircks. :D <br><br></td></tr></table><br>
<a name="612180"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ImaginaryHuman</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> also some people might be expecting that they are using the byte, that it is unsigned, that it cannot handle the negative numbers, and be okay with it. <br><br></td></tr></table><br>
<a name="612187"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Curtastic</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> so this shouldn't work?<br><pre class=code>
Local a:Byte
a=10
a=a+(-1)
Print a
</pre><br><br><br><br>just to complicate things:<br>this should execute once but it doesn't<br>oh and it adds -1 perfectly fine!<br><pre class=code>
Local t:Byte
For t=10 To 10 Step -1
Print t
Next
</pre> <br><br></td></tr></table><br>
<a name="613020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Damien Sturdy</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm with CS_TBL.<br><br>255-1=254.<br>0-1=255<br><br>255-1&lt;&gt;255!!! <br><br></td></tr></table><br>
<a name="613029"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >FlameDuck</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> 255-1&lt;&gt;255!!! <br></div>Sure it is.<pre class=code>255: %11111111
 -1: %11111111
---------------
 =   %11111111</pre>Unsigned Byte value for %11111111 = 255 = $FF <br><br></td></tr></table><br>
<a name="613477"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Warren</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Signed or unsigned, a byte should be able to walk backwards from 10 to 0. <br><br></td></tr></table><br>
<a name="613621"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Scienthsine</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> In ASM you've got a subtraction call that is for unsigned, and one that is for signed. You have to convert one of the two arguements for this to work, and then the result might not be what you expect. It's all in how that last bit it represented/treated. <br><br></td></tr></table><br>
<a name="613670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> Keep in mind that "Step -1" is not subtraction. It ADDS -1 to the loop variable.<br><br>There is no number -1 for a byte, so -1 is replaced by the equivalent 255. The original example becomes<pre class=code>Local t:Byte
For t=10 to 0 Step 255     ' used to be -1
Next</pre>and the loop is never entered.<br><br>You can also get bizarre results with ordinary integers by using an inappropriate step size.<pre class=code>Local n:Int

For n = 1 To 2000000000 Step 600000000
    Print n
Next</pre>Here the problem is that we step past the final value while wrapping around to negative numbers. The loop doesn't terminate until we land on a suitably large positive number. <br><br></td></tr></table><br>
<a name="613672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Regular K</td><td align="right"><font class=tiny>(Posted 2006)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> Integers are faster than bytes, Ive done some tests. But the differences are only so minor. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
