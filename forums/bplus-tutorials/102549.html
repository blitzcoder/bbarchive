<!DOCTYPE html><html lang="en" ><head ><title >Dynamic Variable References?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Dynamic Variable References?</h1><a href="forums.php" >BlitzPlus Forums</a>/<a href="topics.php?forum=81" >BlitzPlus Programming</a>/<a href="#bottom" >Dynamic Variable References?</a><br><br>
<a name="1226846"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eighsse</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm used to using a language in which you can "dereference" a variable (I think I'm using that term correctly) by enclosing it in %'s, almost anywhere you want, allowing for things such as this:<br><br>currentPlayer = 2<br><br>player%currentPlayer%Speed = player%currentPlayer%Speed + 10<br><br>In this code, "player%currentPlayer%Speed" of course resolves to "player2Speed".<br><br>I'm having trouble finding any way that this can be done with Blitz Plus.  Am I missing it, or is this not possible? <br><br></td></tr></table><br>
<a name="1226919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's typical of interpreted "scripting" languages. <br><br>In the style of your example, rather than manually building names like player1, player2, player3... you would use an array named player(). <br><br></td></tr></table><br>
<a name="1226991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yasha</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In such scripting languages, a variable isn't really the same thing as it is in a compiled language: in BlitzPlus it becomes just a machine-code slot with no name (or need for a name) at runtime, whereas in highly dynamic scripting languages it's really a wrapper around a hidden map or hash table. Code that <i>looks</i> the same as an `x = x + 1` is actually doing something like `setValueForKey("x", getValueForKey("x") + 1)`. Which is why you can build up variables just like strings - because they actually are just strings in such languages.<br><br>Since BlitzPlus doesn't have such a hidden layer, if you really need to construct slot names at runtime, you'll need to use a data structure and build the indices explicitly. As Floyd points out the simplest case is to use a built-in array. If that's too simple for the names you need to construct (perhaps you aren't actually indexing with numbers?), you could try a TMap ( <a href="http://www.blitzbasic.com/codearcs/codearcs.php?code=2574" target="_blank">http://www.blitzbasic.com/codearcs/codearcs.php?code=2574</a> ), which gives decently fast access on any arbitrary string.<br><br>In practice you would probably do much better to re-architect your code to not need the dynamic elements at all, though. Even though your original example puts the number in the middle and adds a "speed" modifier, this is something you can do well with static code too, if you investigate custom types (and put objects of your custom "player" type, containing a "speed" property, into an array). <br><br></td></tr></table><br>
<a name="1227073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >eighsse</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you both for your help; this makes sense.  And Yasha I think you are right, restructuring things is probably the best way to do it.  I'm just used to doing things a certain way because I've only used one language, and at first it feels like not being able to do things the same way will cause me to lose capabilities, but it's really probably just a matter of getting used to doing things a different way.  Thanks again :D <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
