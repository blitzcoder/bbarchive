<!DOCTYPE html><html lang="en" ><head ><title >Horrible bug</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Horrible bug</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=120" >Blitz3D SDK Programming</a>/<a href="#bottom" >Horrible bug</a><br><br>
<a name="785746"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> with this code (visual basic) :<br><pre class=code>
            SetBlitz3DHWND(Me.CANVAS3D.Handle.ToInt32())
            BeginBlitz3D()
            Graphics3D(800, 600)
            Cam = CreateCamera()
            'Cls()
            UpdateWorld()
            RenderWorld()
            CreateLight()
            Dim CUBE As Integer = CreateCube()
            MoveEntity(CUBE, 0, 0, -5)
            bbText(0, 0, "Blitz3D preview", 0, 0)
            Flip()
</pre><br>the Blitz3D SDK enters a sort of infinite loop that shows a huge amount of messagebox windows with the text: Graphics mode not set.<br>This internal loop happens when the host application calls the Graphics3D function (bbGraphics3D in the dll).<br><br>I'm using a compiled DLL version of the CSharp example (no source modified). And the CANVAS object is a regular picture box. so that means I can't use this dll from visual basic or C#. The funny thing is that it was working ok and decided not to work any more suddently (no code was changed so it seems to me like an acumulative bug, something can not be freed properly or something... weird...) <br><br></td></tr></table><br>
<a name="785750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Daz</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi Ziggy,<br><br>I am not 100% sure this is a bug.   I had the same problem when first testing  the SDK using C# and rendering to a panel control. <br><br>When using a timer control to trigger my screen update code.   I had the timer control set to enabled = true when the application started.   This meant it was trying to do a rendering command before the BeginBlitz3d function had completed. <br><br>This results in all those "Graphics mode not set" message boxes appearing.<br><br>So, try putting some kind of "delay"  between the first three lines ofyour code and the rest of your code.<br><br>Have a look at the code I posted in your other thread 'Any idea how to integrate with C# or VB.net GUI?' for an example. <br><br></td></tr></table><br>
<a name="785807"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ziggy</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes I've done it, and I've tested even commenting the SetBlitz3DHWND(Me.CANVAS3D.Handle.ToInt32()) sentence, but it fails anyway. Debugging the application, the 'loop' appears in the single sentence Graphics3D(800, 600) so it is not a loop in my application, it seems a internal loop in the engine. I've done deep tests debugging. There is no timer trying to do amything, just this piece of code. <br><br></td></tr></table><br>
<a name="785814"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Barnabius</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This may sound stupid but how about trying to use:<br><br>bbGraphics3D(800,600,0,2)<br><br>i.e. not to rely on SDK's defaults, which may be wrong for what you are trying to accomplish.<br><br>Barney <br><br></td></tr></table><br>
<a name="785895"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Eek, only mode 2 graphics is suppose to use a parent HWND, will check the source. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
