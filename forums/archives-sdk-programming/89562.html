<!DOCTYPE html><html lang="en" ><head ><title >V105 gives a pointer?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >V105 gives a pointer?</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=120" >Blitz3D SDK Programming</a>/<a href="#bottom" >V105 gives a pointer?</a><br><br>
<a name="1017250"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So i went ahead and externed bbsystemproperty from V105, and it appears to actually be spitting out a pointer now. I'm not sure if it is the correct pointer or not. <br><br>I tried running an Initex function from fastextension and it doesn't crash until i try to use one of the bbcommands in the sdk. I'm guessing it does grab the device but could it be because all the function names in the sdk lib begin with bb that is crashing it?<br><br>The only other possible cause i could think of is it requires me to pass a type to the init function, i'm not sure if the byte ptr of the type i send through is going to work the same as a blitz3d type. <br><br>this is more or less what i have so far. <br><br><pre class=code>
Import blitz3d.blitz3dsdk
Import fastext.fastext
bbBeginBlitz3D()
bbGraphics3D 800,600,0,2

Print "Device "+Int(bbSystemProperty("Direct3DDevice7"))
InitExt									' &lt;&lt;&lt;&lt; 	Обязательно инициализуем после Graphics3D
											' &lt;&lt;&lt;&lt;    Initialize library after Graphics3D Function



cam=bbCreateCamera()'&lt;----- crashes b3dsdk
</pre><br><br>this is the initialization function here<br><br><pre class=code>
Function InitExt ()
	If FE_InitExtFlag=0 Then
		FE_InitExtFlag = 1
		FE_PivotSys = bbCreatePivot()
		DeInitPostprocess()
		InitExt_ ( Int(bbSystemProperty("Direct3DDevice7")), bbBackBuffer(), GfxDriverCapsEx )
	EndIf
End Function
</pre><br><br>the type for GfxDriverCapsEx is<br><br><pre class=code>
Type GfxDriverCapsEx_Type

	Field BrushBlendsSrc
	Field BrushBlendsDest
	Field TextureCaps
	Field TextureBlends
	Field TextureMaxStages
	Field TextureMaxWidth
	Field TextureMaxHeight
	Field TextureMaxAspectRatio
	Field ClipplanesMax
	Field LightsMax
	Field Bump
	Field BumpLum
	Field AnisotropyMax
End Type

Global GfxDriverCapsEx:GfxDriverCapsEx_Type = New GfxDriverCapsEx_Type
</pre><br><br><br><br>perhaps this doesn't work in blitzmax? <br><br></td></tr></table><br>
<a name="1017407"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Leon Drake</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> im just curious what pointer bbsystemproperty is returning. i tried it with different fields so i know the command is working. But for some reason the pointer its giving me to the directx device is either not correct or something isn't working with the initialization part in the module. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
