<!DOCTYPE html><html lang="en" ><head ><title >Adding MochiMedia to Monkey Game</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Adding MochiMedia to Monkey Game</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=503" >Flash</a>/<a href="#bottom" >Adding MochiMedia to Monkey Game</a><br><br>
<a name="2005904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wagenheimer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Anybody here had any success on adding Mochimedia to a Monkey Game?<br><br>I'm trying to use Live Updates of Mochi on my game and it is really not working! The "Mochi Loading" shows, but the game does not works after this.<br><br><a href="https://www.mochimedia.com/developers/liveupdates.html" target="_blank">https://www.mochimedia.com/developers/liveupdates.html</a><br><br>Anybody here had any success with this? <br><br></td></tr></table><br>
<a name="2005922"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Wagenheimer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well... It is working now! Rabbit Jump is available for Free-Play here.<br><br><a href="http://www.wagenheimer.com/rabbitjump/" target="_blank">http://www.wagenheimer.com/rabbitjump/</a><br><br>The var _mochiads_game_id:String = "" should be added to public function MonkeyGame() <br><br></td></tr></table><br>
<a name="2005952"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Congratulations! <br>Do you mind writing a tutorial on how to achieve this? I'm sure many people would appreciate it! :) <br><br></td></tr></table><br>
<a name="2005962"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 for tutorial!<br><br>It will be a GREAT thing! <br><br></td></tr></table><br>
<a name="2006932"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JD0</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> If all you want to do is add live updates to a game then you just need to add the variable that Wagenheimer listed above, and pack it up on the Mochimedia website.<br><br>No need for a tutorial on that!<br><br>Did a few things with Mochimedia in a game I released awhile ago here that I created when first learning Monkey:<br><a href="http://www.mochimedia.com/games/balloon-popping-frenzy/" target="_blank">http://www.mochimedia.com/games/balloon-popping-frenzy/</a><br><br>With high scores, link tracking etc by Mochi.. any specific problems you guys are having with Mochi? <br><br></td></tr></table><br>
<a name="2006974"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Hima</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Highscores, ads and microtransaction would be awesome and highly appreciated! <br><br></td></tr></table><br>
<a name="2008974"></a>

<a name="2008977"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JD0</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well,  I haven't implemented microtransactions, but ads are fairly easy.  <br><br>Just use their encryption tool to package your game, and there you have it.  <br><br>You will need to make a wrapper as the constructors don't work (unless this is fixed in a recent Monkey update -- have not been using Flash w/Monkey for some time) to add those other features.  Just wrap up the functions you want to use in Actionscript.  It is extremely basic AS programming. <br><br></td></tr></table><br>
<a name="2010340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am trying to add mochi ads to my game.<br>I tried their encryption tool. It breaks the game. After I click Play Game, a box with "download the latest version of flash" shows up.<br><br>Do you guys have any idea how to implement it into the .as file? <br><br></td></tr></table><br>
<a name="2011319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >York</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hey a little quesion.<br><br>I also want to use the Preloader and I added the "_mochiads_game_id" to my public Monkey function. The preloader shows a pre ad and after building it works.<br><br>So far so good, but it was not approved by mochimedia, because <br><br><pre class=code>
The ad is scaled. Ad sizes should not be modified and should be shown in their original size. 
</pre><br><br>I am also using 320*480 as resolution. <br><br>How did you use the preloader with the ads? <br><br></td></tr></table><br>
<a name="2011191"></a>

<a name="2011390"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Aman</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> What is your test page? is it a webpage containing the swf file or is it the swf file itself? <br><br></td></tr></table><br>
<a name="2011403"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >York</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> So now it should be work with MochiMedia. My problem was the size of the swf file. <br><br></td></tr></table><br>
<a name="2019417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DerHase</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am done with my game now. But somehow I am to stupid to set the Mochi live update the add and the score. I can not figure out, in which files I should put which code. I would be happy if someone could explain it. <br><br></td></tr></table><br>
<a name="2022014"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JD0</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @york 320x480 is a very uncommon resolution for flash games, try 550x400 or 640x480.  You'll need to check with Mochi to do it.<br><br>@derhase I'll look for my implementation - it's hiding somewhere I haven't looked at in 8 months or so.  The thing is I did nearly all of it in ActionScript and the only part I just created a few methods in a Monkey module to start the ads, send the scores, show/hide the login. So I'm not sure how good it would be for people that don't understand how to work with ActionScript.<br><br>MochiMedia's got literally 50+ ActionScript examples right in the documentation when you download the API.<br><br>I just copied the same pattern of the modules that come with Monkey. <br><br></td></tr></table><br>
<a name="2022019"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JD0</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Added the code I used in the code forum at <a href="http://monkeycoder.co.nz/Community/posts.php?topic=2264" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=2264</a> to add mochi high scores, logins and stuff. <br><br></td></tr></table><br>
<a name="2022338"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm not sure how get the ads to work. I've downloaded the Mochi folder, put that into the same root as my game, but I'm not sure where I'm supposed to add the Pre-Game code. Is this something that can just be pasted into the SWF file or somewhere? If so, where do I put it? <br><br></td></tr></table><br>
<a name="2022341"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> The <a href="/posts.php?topic=2264" target="_blank">tutorial</a> says it goes in your project's flash build folder. <br><br></td></tr></table><br>
<a name="2022344"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#17">[#17]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think I've got everything sorted now except this final step. I've put the folder into the correct folder (I assume so at least, it just goes into the flash folder), but there's a one-line piece of code that needs to be added somewhere and I'm not sure which file to add it to, nor where to add it in the file.<br><br>This is what it says on the Mochi page.<br><br>Choose the type of ad you want to show and paste the following code into your .fla. We recommend creating an empty frame before your game for the pre-game style or in-between levels for the inter-level style. When the ad begins, it will call stop() and when the ad completes it will call play().<br><br>I assume .fla is the same as the .swf? The problem comes with the empty frame talk, because I think this is aimed at Actionscript users. It's just a single line of code, but I'm not sure what to do with it. I've tried adding it to the start of the .swf but nothing happened. I assume it goes in there somewhere but the contents of that file are all Greek to me. <br><br></td></tr></table><br>
<a name="2025048"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Psychosanity</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#18">[#18]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm having the same problem Aman is/was having, i can't get the Download the latest flash message to go away after the live update upload. <br><br>If Anyone can help me fix this, that would be phenomenal. I can't figure out the problem, and this mochi thing is very important to me <br><br></td></tr></table><br>
<a name="2025083"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#19">[#19]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm still in the same boat. Frankly, I can't get anything to work at all. I've followed the instructions several times, to the letter, but I don't get anything showing at all. I'm not sure if there's some extra step required in Monkey that I don't know about. I honestly know absolutely nothing about ActionScript etc, so I may be missing something really obvious.<br><br>It would be nice if somebody could talk us through the process, or if they just followed the instructions at Mochi and it worked first time, why I'm not seeing anything whatsoever?<br><br>Same as you, I'd really like to get Mochi working. I don't have any good games running at the mo, but I'm working on one and it'd be nice to generate a bit of revenue from it, even though I'm aware people don't earn much. <br><br></td></tr></table><br>
<a name="2025109"></a>

<a name="2025110"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NotSure</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#20">[#20]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just to use live updates is really easy. I never had a problem.<br><br>1.) create your game using monkey =&gt; target FLASH<br><br>2.) go into the monkey flash build foder and edit MonkeyGame.as as described on the bottom<br><br>3.) add a new game @ mochi, this will create a new game-id<br><br>4.) add this game-id to your MonkeyGame.as as described on the bottom and save it<br><br>5.) in monkey do a build and run again<br><br>6.) take the new MonkeyGame.swf and upload it using live updates ... done<br><br><br>where to add the id in MonkeyGame.as<br><br><pre class=code>
public class MonkeyGame extends Sprite{
	
		public var runner:Function;
		private var _mochiads_game_id:String = "your mochi game-id here";
		
		public function MonkeyGame(){
		
			game=this;
			addEventListener( Event.ADDED_TO_STAGE,onAddedToStage );
		}
</pre><br><br>Examples:<br><a href="http://kstadler.ch/se/flash.html" target="_blank">http://kstadler.ch/se/flash.html</a><br><br><a href="http://kstadler.ch/nd/flash.html" target="_blank">http://kstadler.ch/nd/flash.html</a> <br><br></td></tr></table><br>
<a name="2025111"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Psychosanity</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#21">[#21]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks Notsure, but already did those steps. The game breaks when uploaded into live updates and no longer plays. I'm not sure why, I am using diddy as well if that matters <br><br></td></tr></table><br>
<a name="2025113"></a>

<a name="2025114"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >siread</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#22">[#22]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> where to add the id in MonkeyGame.as <br></div><br><br>You don't even need to edit the .as file, you can just add the line in Main()...<br><br><pre class=code>
Function Main()
	Local _mochiads_game_id:String = "xxxxxxxxxxxxxxxx"
	
	maingame = New GameEngine
End
</pre> <br><br></td></tr></table><br>
<a name="2025165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#23">[#23]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think Siread's solution works. Something's happening with my game now, there's a loading bar but then I keep getting a 'Download the latest Flash Player' message, and no matter how many times I download and install it, it keeps doing the same thing and will go no further.<br><br>Still, this is probably an issue with Mochi or Flash or something and might resolve itself. At least I think my uploaded game might have the ads installed now, although it's hard to tell at the mo - I'll wait to see if they approve it.<br><br>The ads are now showing, so I think everything is looking fine, so thanks for the help guys. I'm still getting the flash message but it's probably something to do with my PC not realising that it's already updated. <br><br></td></tr></table><br>
<a name="2025152"></a>

<a name="2025233"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#24">[#24]</a></td></tr></table></td></tr><tr ><td class="posttext"> Still getting the same problem as above, and when other people try my link, they're also getting the same error. It's currently at <a href="http://www.soccerstar.org.uk/survivors/MonkeyGame.swf" target="_blank">http://www.soccerstar.org.uk/survivors/MonkeyGame.swf</a> - if you try it, you see the Mochi loading bar, then the install message described above. Anyone had this problem or have any idea how I can resolve it? <br><br></td></tr></table><br>
<a name="2025242"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#25">[#25]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is the same problem that Psycho and Aman had above I see. If Aman is reading this, did you ever get past that 'Download the Latest Flash Player' message? <br><br></td></tr></table><br>
<a name="2025319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Psychosanity</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#26">[#26]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, i had a friend fix the problem for me. It's now up and running on my website WITH live updates working.<br><br>The explanation he gave me was<br><br>"I just encapsulate into a new valid Flash 11.0 file the no freeloader version.<br>It look like Monkey don't export in 100% on the right format and FlashPlayer crash with the mochi live update."<br><br>So if that helps anyone else <br><br></td></tr></table><br>
<a name="2025324"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#27">[#27]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, well it's good that there's a solution, but I don't understand your explanation. How did he 'encapsulate into a new valid Flash 11.0 file'? Could you get him to give a more detailed explanation of how he did this, as I'm still having this problem. <br><br></td></tr></table><br>
<a name="2025374"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Farflame</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#28">[#28]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think the problem is that Monkey is attempting to compile to a version of Flash higher than 11.1, but the latest Flash download is only 11.1? How can I make Flash compile to 11.0? I've used Flex 4.0 but the same problem. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
