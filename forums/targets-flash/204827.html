<!DOCTYPE html><html lang="en" ><head ><title >v68+ keys quite buggy</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >v68+ keys quite buggy</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=503" >Flash</a>/<a href="#bottom" >v68+ keys quite buggy</a><br><br>
<a name="2052958"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <b>Update:</b> This was a bug affecting more than Flash and was solved - <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=4863" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=4863</a><br><br>I'm looking here to see if anyone else has been having the issues I've been experiencing since v68.<br><br>These include<br><br>- KeyHit acting like KeyDown after 2 updates pass<br>- I noticed reflection is acting extremely buggy, but this issue may be related to the keys and I just couldn't tell.<br><br>If I can get some confirmation that other people are having these issues, that'd be great. That way I can put up a bug report. If on the other hand, these issues aren't happening for you or other people. What version of Flex are you using?<br><br><b>Edit / Extra Notes:</b> I built the same program for both v66 and v68/69. v66 works correctly and v68/69 doesn't, so I don't believe this is a flash player issue. <br><br></td></tr></table><br>
<a name="2052881"></a>

<a name="2052720"></a>

<a name="2052413"></a>

<a name="2052421"></a>

<a name="2052412"></a>

<a name="2052411"></a>

<a name="2052410"></a>

<a name="2052409"></a>

<a name="2052417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Which Flex version to you use? Windows, Linux or OSX? <br><br></td></tr></table><br>
<a name="2052419"></a>

<a name="2052420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Adobe Flex 4.6, Windows and OSX.<br><br>Edit: I see that it's all the way up to 4.9 now. However, how much has changed in mojo that would cause such issues with the keys? <br><br></td></tr></table><br>
<a name="2052670"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AndroidAndy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> I doubt that it is the Flex framework version since trans/mojo don't use the Flex framework.  Trans/mojo deal only with AS3 output compiled to swf with the mxmlc compiler.  I would suggest using your favorite diff tool ( kdiff ) and compare the .as output on the v66 build with the output on v68/69, you will see the difference very easily and it might just lead you straight to the issue. <br><br></td></tr></table><br>
<a name="2052672"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> do you have sample code so we can test? <br><br></td></tr></table><br>
<a name="2052719"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Uh...well, here's a bare bones test.<br><br>v66: <a href="http://nrgs.org/files/flash/keyissue/v66/" target="_blank">http://nrgs.org/files/flash/keyissue/v66/</a><br>v69: <a href="http://nrgs.org/files/flash/keyissue/v69/" target="_blank">http://nrgs.org/files/flash/keyissue/v69/</a><br><br>If you click the space bar it will change the position. However, in v69, the keyhit acts like keydown after a few updates pass.<br><br><pre class=code>Import mojo

Function Main:Int()
	New Example()
	Return 0
End

Class Example Extends App
	Method OnCreate()
		SetUpdateRate(30)
	End
	
	Field x:Int, y:Int
	
	Method OnUpdate()
		If KeyHit(KEY_SPACE)
			x = MouseX()
			y = MouseY()
		End
	End
	
	Method OnRender()
		Cls()
		
		SetColor(255, 255, 255)
		DrawCircle(x, y, 5)
	End
End</pre> <br><br></td></tr></table><br>
<a name="2052723"></a>

<a name="2052724"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >slenkar</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Im using linux with firefox it doesnt happen for me,<br>i am using an older version of flash with firefox 11.2<br><br>Then I tested it on chrome in linux, with the latest flash 11.6 and it still didnt happen<br><br><br>I moved the mouse around the canvas and clicked about 30 times each test <br><br></td></tr></table><br>
<a name="2052750"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> The test was meant to show that KeyHit is registering while a key is being held down. So don't click a bunch of times. Hold down the space bar. In v69, after a few updates the KeyHit will start registering every update.<br><br><b>Edit</b><br>This has been tested on multiple machines with the same results.<br><br>Mac OS 10.7.5 @ Flash v11.6.602.171<br>Windows 7 (x64) @ Flash v11.6.602.167 (both a VM and real machine) <br><br></td></tr></table><br>
<a name="2052747"></a>

<a name="2052736"></a>

<a name="2052748"></a>

<a name="2052749"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can confirm that it happens on OSX 10.8.2 with Monkey V69 in Flash, HTML5 and GLFW too. I would say it is a bug. <br><br></td></tr></table><br>
<a name="2052751"></a>

<a name="2052753"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh? I'll test HTML5 and GLFW as well when my work system finishes updating (bad timing). I could have sworn the bug only effected flash. I remember building for those platforms and it not being buggy, but maybe I wasn't paying attention to this specific problem. <br><br></td></tr></table><br>
<a name="2052819"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >MikeHart</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> So are you opening a bug report? <br><br></td></tr></table><br>
<a name="2052823"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >dopeyrulz</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Haven't had a chance to fully test yet, but under glfw the keyhit appears to fail as you described. <br><br></td></tr></table><br>
<a name="2052918"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Goodlookinguy</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> @MikeHart<br><br>Yes, sorry. Lost my connection to the internet when I was going to make the post yesterday because my router is acting up.<br><br>Also, I can confirm that GLFW and HTML5 are buggy as well.<br><br><b>Update</b><br>This was fixed <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=4863" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=4863</a> <br><br></td></tr></table><br>
<a name="2052879"></a>

<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
