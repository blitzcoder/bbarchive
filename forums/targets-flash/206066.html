<!DOCTYPE html><html lang="en" ><head ><title >MochiMedia Ads</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MochiMedia Ads</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=503" >Flash</a>/<a href="#bottom" >MochiMedia Ads</a><br><br>
<a name="2069478"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Monking</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I had done a simple game and testing on MochiMedia Ads API to show pre-game Ad, but it won't work for me.<br><br>I found this forum:<br><a href="http://monkeycoder.co.nz/Community/posts.php?topic=735" target="_blank">http://monkeycoder.co.nz/Community/posts.php?topic=735</a><br><br>Unfortunately it is 1 year ago forum, the MochiMedia api did some changes? (I guess) as var _mochiads_game_id:String = "xxx"; is not included in api, it came with something like this:<br><br><pre class=code>import mochi.as3.*;
MochiAd.showPreGameAd({clip:root, id:"yourid", res:"800x600"});</pre><br>I included it inside MonkeyGame.as like this:<br><pre class=code>public function MonkeyGame(){
			MochiAd.showPreGameAd({clip:root, id:"yourid", res:"800x600"});
			game=this;

			addEventListener( Event.ADDED_TO_STAGE,onAddedToStage );
			
		}</pre><br>However, it show a light-blue page and nothing show out. :(<br>I need help !<br>Thanks for expert comments in advanced.<br><br>(I did add the trusted location for this file but it won't work either) <br><br></td></tr></table><br>
<a name="2069477"></a>

<a name="2069476"></a>

<a name="2069475"></a>

<a name="2069474"></a>

<a name="2069512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> For the pre game adds all you need is the game Id you get when you create a new game submission.<br>Add it to the game and recompile it. That is all. You don't even need the Mochi API. <br><br>I did it that way a few months ago after the new API came out  and It worked so I am assuming it still does. <br><br></td></tr></table><br>
<a name="2069482"></a>

<a name="2069483"></a>

<a name="2069481"></a>

<a name="2069492"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bazmonkey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you try opening the swf in the debug Flash player, it often gives a proper error message there (on top of the blue background). <br><br></td></tr></table><br>
<a name="2069525"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Monking</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Monkey Runtime Error : TypeError: Error #1034 <br><br></td></tr></table><br>
<a name="2069527"></a>

<a name="2069528"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bazmonkey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hmm, ok.  maybe its the 'root' clip?<br><br>This is my code (monkey 72b) :<br><a href="http://code.google.com/p/congo-monkey/source/browse/trunk/mochi/native/mochiwrapper.flash.as" target="_blank">http://code.google.com/p/congo-monkey/source/browse/trunk/mochi/native/mochiwrapper.flash.as</a><br><br>The code that monkey generates changed quite a bit from v69 to v72b, as mentioned in the comment. I will tidy it up some time, but it definitely works since I used it in the mochi summer dev contest. <br><br></td></tr></table><br>
<a name="2069526"></a>

<a name="2069529"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Monking</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi bazmonkey, thanks for your reply.<br>Actually, I did read the forum from <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=2264" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=2264</a><br><br>However, I have no idea how to include it,<br>I copy the codes and place it inside the following path:<br>1 - modules/mochi/mochi.monkey<br>2 - modules/mochi/native/mochiwrapper.as<br><br>What I did is change the "xxx" to my id, but it is nothing actually.<br>What is the coded needed to include such file ?<br><br>(Sorry I'm totally new to Monkey) <br><br></td></tr></table><br>
<a name="2069537"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bazmonkey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> The way modules/files are imported is quite flexible -- see main language docs under 'Modules'. Its similar to 'include' paths in other languages. You can either copy code to the main monkey modules folder, or use a local copy, so its up to you. <br><br>In your case 'Import mochi' should be enough, since it will search both paths for the file. Note, it also looks for mochi/mochi.monkey, so a folder can optionally be used. Modules can import other modules. Hence, I can import my entire module using just 'Import congo'.<br><br>My current way of doing mochi is:<br><br>Register a new game in the mochi dashboard to get the game id.<br><br>Add my id to the *generated* MonleyGame.as code, so it looks like this:<br><br><pre class=code>
public class MonkeyGame extends Sprite{
	public var _mochiads_game_id:String = "xxxxxxxxxxx"; [YOUR ID HERE]
	public function MonkeyGame()
		// … etc
</pre><br>(If you're new to monkey, editing the generated files might seem a bit strange, and it can be confusing if you later do a clean rebuild. But, for now I do it that way, since I know it works...)<br><br>I then call my MochiWrapper.ConnectToMochi( "xxxxxxxxxxx" ) early on, e.g. during an intro/splash screen. This just calls the mochi sdk MochiServices.connect. Might only be required for leaderboards, actually -- not sure.<br><br>Thats pretty much it. I then call up whatever ad units I need, e.g.<br>MochiWrapper.ShowInterLevelAd( "xxxxxxxxxxx", "550x550" )<br><br>Yes, I realise I put the id in every call which is ugly, I should just store it :-P <br>If any actionscript arguments are invalid, I tend to see that TypeError and blue screen. <br><br></td></tr></table><br>
<a name="2069536"></a>

<a name="2069535"></a>

<a name="2069534"></a>

<a name="2069533"></a>

<a name="2069532"></a>

<a name="2069538"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Monking</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> What I did with step by step:<br>1 - Copy 2 files from <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=2264" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=2264</a> and places inside modules (follow the path)<br><br>2 - Write Import mochi at my main game class file<br><br>3 - Compile it (Flash, Release)<br><br>4 - Go into gameName.build/flash/MonkeyGame.as<br><br>5 - Add this line public var _mochiads_game_id:String = "xxxxxxxxxxx"; [YOUR ID HERE] right after public var runner:Function;<br><br>6 - Compile the game again<br><br>7 - Open the game, my game shows up but not mochi load bar.. = = <br><br></td></tr></table><br>
<a name="2069553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bazmonkey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Seems ok.  Flash stuff is quite hard to test/debug, you're probably almost there.  I'd try to submit some scores, see if the score widget appears, and show an ad too -- see which bits are working. <br><br>The mochi dashboard (webpage) also tells you if your game has made a successful ad request.<br><br>Not sure what you mean by 'mochi load bar' -- remember that a lot of mochi games use the Live update preloader, or a separate preloader (as you've seen in the other thread). I think this is what Jesse is saying in his reply - sry if I confused you. <br><br>If doing MochiServices.connect you should briefly see a spinning icon in the corner. <br><br></td></tr></table><br>
<a name="2069551"></a>

<a name="2069552"></a>

<a name="2069541"></a>

<a name="2069542"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Monking</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh is that ?<br>Actually what I'm intend to do is simple, show the pre-game Mochi Ads.. <br><br></td></tr></table><br>
<a name="2069549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bazmonkey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Its up to you - if you upload via the Live update feature you will get their preloader and initial advert added automatically. You can customise the preloader a little via the dashboard. Still add your mochi id to MonkeyGame.as, but aside from that it requires no extra coding (their server returns you a modified swf).<br><br>Or, you can code your own preloader and use showPreGameAd yourself, and not use Live updates.<br><br>Ultimately, you'll probably want to get the scoreboard wrapper function working anyway, its pretty cool. And, you might want to show other ad types, or at specific times (interlevel ads, showcase ads, etc). Having just a single ad before your game is fairly limiting.<br><br>Theres actually a dashboard option to show an ad automatically after every score submit, but I find that a bit much to show every time. I quite like the new CPA/Showcase widgets (I added them to my wrapper). <br><br></td></tr></table><br>
<a name="2069548"></a>

<a name="2069546"></a>

<a name="2069547"></a>

<a name="2069545"></a>

<a name="2069544"></a>

<a name="2069543"></a>

<a name="2069550"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Monking</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, I get it now !<br>Thank you bazmonkey. You're such a kind person. Thanks ! <br><br></td></tr></table><br>
<a name="2069554"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >bazmonkey</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, Jesse actually answered correctly first time... ;)<br>(when you asked about the api wrapper calls, I assumed you wanted to use those!). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
