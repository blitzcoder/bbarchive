<!DOCTYPE html><html lang="en" ><head ><title >Music stops after 7 seconds</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Music stops after 7 seconds</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=503" >Flash</a>/<a href="#bottom" >Music stops after 7 seconds</a><br><br>
<a name="2036484"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I am loading a mp3.  I have tried PlaySound() and PlayMusic().<br><br>It doesn't matter.  After 7 seconds, the 48 second song stops.  If I set it to loop, it reloops every 7 seconds.  Anyone know what isgoing on? <br><br></td></tr></table><br>
<a name="2036487"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >mr_twister</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is it a VBR (variable bitrate) mp3? Because that happened to me once with a VBR song. I had to re-encode the MP3 with constant bitrate (CBR) and then it played just fine.<br><br>It looks like VBR makes difficult for programs to properly compute the length of the song. There are some utilities out there which "fix" VBR mp3s (like <a href="http://home.gna.org/vbrfix/" target="_blank">VBRFix</a>) but I've not tested if that helps with the Flash problem. Perhaps it does. <br><br></td></tr></table><br>
<a name="2036510"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> My file is 32kbps and 22011hz CBR :(<br><br>Any other suggestions? <br><br></td></tr></table><br>
<a name="2036512"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you tried the audiotext example in the bananas/mak folder to see if that works for you using flash? Also try updating the latest version of Monkey as Mark to see if that helps. <a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=3400" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=3400</a> <br><br></td></tr></table><br>
<a name="2036519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The update did not fix it.<br><br>Here is my find.  Using LAME mp3 codec I have a file 22050hz and 32 kbps<br><br>Using PlayMusic() the file will play 7 seconds then stops.<br><br>I then reencoded the file to 44100hz and 32 kbps.  This file will now play for 14 seconds then stops.<br><br>(side note) I wish things just worked without all the headache.  I first tried HTML5 only to find that different each web explorer uses different sound formats.  Therefore I can never expect my program to run correctly because I can't control what browser the user is opening the html5 in :(<br><br>Next I tried flash, and now I am having this problem. <br><br></td></tr></table><br>
<a name="2036524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >NoOdle</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> If you haven't already, take a look in your monkey directory, open the bananas folder and look in the mak folder. There should be an audiotest example. You can compare your mp3 with the one there, try matching the bitrate to see if that helps. In the code example it also shows you how to check what browser you are using and play the correct format.<br><br>Hopefully this should help. <br><br></td></tr></table><br>
<a name="2036539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> .<br>.<br>.<br><img src="http://img849.imageshack.us/img849/2593/flashmp3settings2.png"> <br><br></td></tr></table><br>
<a name="2036567"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Jesse,<br><br>My mp3 is 32 kbps, 22050 Hz and Mono.  No go.  Stops at 7 sec.  Again, for some reason, at 44100 Hz, the file plays for 14 sec.  Arrggg. <br><br></td></tr></table><br>
<a name="2036590"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Gerry Quinn</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> "(side note) I wish things just worked without all the headache. I first tried HTML5 only to find that different each web explorer uses different sound formats. Therefore I can never expect my program to run correctly because I can't control what browser the user is opening the html5 in :("<br><br>You can test for various browsers.  But indeed HTML5 is a bit of a pain.  Hopefully as it matures the different browses will lose their quirks. <br><br></td></tr></table><br>
<a name="2036659"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> So this is my find.  EVERYTHING has to do with the way the mp3 is encoded.  I spent an entire day downloading different versions of LAME mp3 encoder.  <br><br>Just using 3.99.5 (latest version) didn't work.  it still stops at 7 sec.<br>Using 3.87, same problem.  <br>Using LAME 32bits version 3.98.2 WORKS.  Same setting, but it just works.  I used winLAME to do it.  <br><br>I wish I could figure out why.  Is there a good mp3 analyzing software to really look under the hood od an mp3? <br><br></td></tr></table><br>
<a name="2038163"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ondesic</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> One thing has cut down on encoding errors.  I have taking my original mp3 and changed it to a wav first.  Then re-encoding it back.  This time it seems to run correctly for flash. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
