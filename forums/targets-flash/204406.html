<!DOCTYPE html><html lang="en" ><head ><title >Getting MochiAds working?</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Getting MochiAds working?</h1><a href="forums.php" >Monkey Targets Forums</a>/<a href="topics.php?forum=503" >Flash</a>/<a href="#bottom" >Getting MochiAds working?</a><br><br>
<a name="2047040"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> So I have a very simple game that's now pretty much finished, and I'd be interested in using Mochi to distribute it. The only problem is that I can't get Mochi with Live Updates to work. Specifically, I get the same problem that is discussed (without resolution) here:<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=735#25242" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=735#25242</a><br>That is, the ads are being correctly displayed, but I get the "Download the Latest Flash Player" message after I click the play button. Could anyone explain what causes this and how it can be fixed?<br>Thanks in advance! <br><br></td></tr></table><br>
<a name="2047055"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Are you on Windows or a mac?<br><br>If you are on Windows, make sure to download and install the 32bit version of the jave JDK and set the correct paths for it.<br><br>Mochi SDK is not compatible with the 64bit Version of Java, It will compile, make an fla file, will run by itself but will not execute once mochi ads is integrated.<br><br>if you are on a Mac and updated to the latest JDK. the latest JDK is 64 bit and you have to do some settings modification for it to compile for a 32 bit fla file. Let me know and I'll post some detailed explanation on how to do that. <br><br></td></tr></table><br>
<a name="2047052"></a>

<a name="2047053"></a>

<a name="2047054"></a>

<a name="2047051"></a>

<a name="2047049"></a>

<a name="2047050"></a>

<a name="2047060"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skid</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Unfortunately you may still be required to build your mochi release version using command line mxmlc command with extra arguments, from memory it was "-swf-version=13".<br><br>I think this is so mochi movie code and your app are baked from same version. <br><br></td></tr></table><br>
<a name="2047059"></a>

<a name="2047058"></a>

<a name="2047057"></a>

<a name="2047066"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the suggestions both, but I'm still getting the same problem. Let me just run through the things I've done in case something is wrong or I'm missing something:<br><br>1) I'm on windows and I've checked that config.winnt points to the x86 version of the JDK, which I think addresses Jesse's point above.<br>2) Is it sufficient to put -swf-version=13 inside the VMARGS variable inside flex_sdk_4.6\bin\mxmlc? If so, I have now done that... by the way, how does this affect the flash version I have to select when supplying the SWF to Mochi, as it only gives me a list from 10 to 11.5, if I recall?<br>3) I have placed Local _mochiads_game_id:String = "xxx" inside my Main:int() function, and placed MochiAPI_v3_9_5 inside my Main.build\flash folder, which I think is also sufficient after some research on the forums.<br>4) I recompile and supply the new SWF to Mochi, but then get the download the latest flash player error again when I open the SWF that Mochi returns.<br><br>Any other thoughts? <br><br></td></tr></table><br>
<a name="2047074"></a>

<a name="2047075"></a>

<a name="2047076"></a>

<a name="2047077"></a>

<a name="2047078"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I added it to the last line of the mxmlc like this :<br><div class="quote"> <br><br>java $VMARGS $D32 $SETUP_SH_VMARGS -jar "$FLEX_HOME/lib/mxmlc.jar" +flexlib="$FLEX_HOME/frameworks" "$@" -swf-version=13<br> <br></div><br><br>without quotes.<br><br>I also read somewhere that this also works with the latest update of the JDK 64-bit.<br><br>once you added the Mochi adds, make sure to do a reload to your page so that it picks up the current  fla file. <br><br></td></tr></table><br>
<a name="2047137"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oh, just realised why this might not be working; I should have emphasized that I'm on windows, and the script file is unix only, so appending -swf-version=13 does nothing for me because mxmlc.exe gets used instead. Do you happen to know what I should do to sort this out? <br><br></td></tr></table><br>
<a name="2047160"></a>

<a name="2047161"></a>

<a name="2047162"></a>

<a name="2047164"></a>

<a name="2047165"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> on the DOS prompt type :<br><div class="quote"> <br>java -d32<br> <br></div><br><br>if you get an error that means that you are still running the 64-bit version and you are going to need to change the Windows %path% to point to the 32-bit version. <br><br></td></tr></table><br>
<a name="2047319"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yes, you're right; I do indeed get an error.<br><br>Would it be sufficient to put e.g.<br><pre class=code>
java.home=C:/Program Files (x86)/Java/jdk1.7.0_10/
</pre><br>inside flex_sdk_4.6/bin/jvm.config instead of editing the Windows path?<br><br>Now possibly a stupid question; where do I need to specify -swf-version=13? Appending it to java.args in the same file throws an 'unrecognized option' error. <br><br></td></tr></table><br>
<a name="2047323"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Jesse</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> you won't need to do that for the windows version because there you either run the 32-bit version or the 64-bit version. <br><br></td></tr></table><br>
<a name="2047340"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Okay, I'm now definitely pointing to the 32-bit version in jvm.config, but I still get the "Update Flash Player" problem when uploading to Mochi. :(<br>Any other thoughts? <br><br></td></tr></table><br>
<a name="2047350"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >PoliteProgrammer</td><td align="right"><font class=tiny>(Posted 2013)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just stumbled upon a solution to this problem that was previously noted here:<br><a href="http://www.monkeycoder.co.nz/Community/posts.php?topic=2565#33912" target="_blank">http://www.monkeycoder.co.nz/Community/posts.php?topic=2565#33912</a><br>Using what I think is an older version of Flex, e.g.<br><a href="http://blogs.adobe.com/flex/files/2012/05/FlexLicense.swf?build=4.5.0.20967A&amp;pkgtype=2" target="_blank">http://blogs.adobe.com/flex/files/2012/05/FlexLicense.swf?build=4.5.0.20967A&amp;pkgtype=2</a><br>totally resolves this problem for me. I don't know why this works, but I'm noting it here in case anyone else ever experiences this issue. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
