<!DOCTYPE html><html lang="en" ><head ><title >Lion Bugs!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Lion Bugs!</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Lion Bugs!</a><br><br>
<a name="1124268"></a>

<a name="1124269"></a>

<a name="1124270"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Ok, I've spent the whole day hacking at this and I think I have the array and ogg bugs in Lion BlitzMax sorted.<br><br>The issues are caused by the new llvm C/C++ compilers in xcode 4.2.1, which do some things a bit differently, and seem to have a few bugs. If you only use modules built pre-4.2.1 the issues aren't there.<br><br>I've managed to fixed the issue with arrays, and (amazingly) I stumbled on a fix for ogg  in about 5 minutes - long live stack overflow!<br><br><a href="http://stackoverflow.com/questions/7721118/mac-osx-intel-llvm-assembler-bug-causes-vorbis-ogg-loader-to-crash" target="_blank">http://stackoverflow.com/questions/7721118/mac-osx-intel-llvm-assembler-bug-causes-vorbis-ogg-loader-to-crash</a><br><br>Anyway, update out tomorrow - I've had enough for today.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1124271"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I 2 love stack overflow. <br><br>Boo to LLVM for the bugs in their rocket ship compilers. <br><br></td></tr></table><br>
<a name="1124287"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I hope my game will compile in 1.46/Lion now. :D <br><br></td></tr></table><br>
<a name="1124342"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Qcat</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This has made my day! I have the next few days off work for some coding time: D<br><br>Thanks Mark <br><br></td></tr></table><br>
<a name="1124366"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thank you, I appreciate all the effort you had to make for Lion.  Seems like there was quite a few changes under the hood. <br><br></td></tr></table><br>
<a name="1124372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep thanks Mark, sounds like it was a big pain, but well worth doing. <br><br></td></tr></table><br>
<a name="1124375"></a>

<a name="1124376"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Ok V1.46 for MacIntel is now up.<br><br>This fixes the array and ogg issues, at least as I could reproduce them.<br><br>It's quite possible there will be more issues like this. I gave things a reasonably good thrashing, but of course there is far more code 'out there' that I can't test. If you do find something apparently Lion-related, please check if it also happens in V1.45. If it does, then it's probably not LLVM related, else it could be.<br><br>Note that this release still depends on the 10.6 SDK. I had a quick play with the new fullscreen stuff, but it's not gonna be an easy fix since apps still have to run on pre-10.6 OSs. Will return to this later, once LLVM are sorted.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1124438"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome, thanks Mark! <br><br></td></tr></table><br>
<a name="1124642"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't understand.<br>Is this only happening with 1.46 ? Cause with 1.44 everything seem's running correctly under Lion (I'm using ogg and arrays too).<br><br>I'm in the middle of a very important release. Some feedback would be awesome.<br><br>Also, the sound driver is a complete nightmare under Linux. OpenAL mute after 3 songs, Freeaudio doesn't work and I read that Pulse Audio (through working for me) is a problem on some system.<br><br>Can you do something about it please ? I'm stuck with Linux :( <br><br></td></tr></table><br>
<a name="1124661"></a>

<a name="1124662"></a>

<a name="1124663"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>It's an XCode 4.2.1 issue (I think). This is where the llvm based compilers seem to have changed significantly.<br><br>Also, it's related to the C/C++ compilers, so even if you've got XCode 4.2.1 installed you probably wont have any problems unless you rebuild modules or import some C code into your app.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1124686"></a>

<a name="1124687"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Armitage 1982</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for the information Mark.<br>I'm glad I sticked to 4.1 when I started to use BM on a Mac Os X Lion.<br><br>Audio seem's to be a rather complex area...<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1125084"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> awww.. :(<br><br>I'm still getting that annoying crash thing.  <br><br>Everything seems ok when compiling, but opening the game will do one of three things (seemingly at random)<br>1. Game opens, happy time.<br>2. Game ... ....  ....  waits about a minute with the mouse cursor spinning like crazy, hard drive going bananas for a bit, but then it opens.  happy time.  but annoying.<br>3. "[app name here] quit unexpectedly" with a gigantic error message.<br><br>At that point, you can close the app (if it even opened in the first place) attempt to reopen it, and get a completely different result entirely at random!<br>D'oh!!<br><br>Having just installed this fix, I naturally began to worry that it was actually my rubbishy rubbishy coding style to blame, so I went into the examples to give them a whirl, just incase..<br><br>Same thing.<br><br>:( doubly sad face :(<br><br>If it helps, the audio's been fine, as long as I ignore OpenAL (which has always been the case.)<br><br>Any tips/pointers? <br><br></td></tr></table><br>
<a name="1125177"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> Holiday Bonus now compiles and runs fine on my Lion system (Macbook Air with XCode 4.2).  It's quite a big project with custom modules so that's encouraging, although I'm using FreeAudio. <br><br></td></tr></table><br>
<a name="1125269"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; I went into the examples to give them a whirl, just incase..<br><br>If you can't even run the samples, it's likely to be something to do with your setup.<br><br>Can you even compile/run a simple 'Hello World'?<br><br>What do you mean by 'ignore OpenAL'?<br><br>Are you using XCode 4.2.1? <br><br></td></tr></table><br>
<a name="1125289"></a>

<a name="1125290"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello World is doing the same 3 random things listed above, so yeah, it's probably a setup thing.<br><br>Since getting the MacMini I've installed..<br>A) About 17gazillion versions of XCode for all the stupid iOS betas.<br>B) VLC, BlitzMax, Gimp(with XWindow wotsit) and Chrome<br>C) .. that's probably about it!<br>Haven't really been "using" the Mac, it's more of a fancy Compiler Box.<br><br>XCode wise i have both 4.2.1 installed from the AppStore, and the latest 4.3 version in here, too.  [edit : Can't appear to download 4.2.1 on it's own, so AppStore edition it be!]<br><br>I'm guessing then, it's either of two things.. (either that or either of 18,000!)<br><br>Either the AppStore install wasn't happy, or the thing's not happy having both the 4.2.1 AND the 4.3 installed.<br>Right?<br>Maybe?<br><br>*shrugs*<br><br>I'll mess about in the morning, and see what does/doesn't happen.<br><br>(Ignore OpenAL = My template is setup to auto-select anything other than OpenAL whenever it's on a Mac.  The Mac's always done that "stops after about 40-odd plays of audio" thing, in my experience.)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1125315"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ElectricBoogaloo</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> OK, it's playing happily now.  (So far.. I think!)<br>It was temperamental for a while, but something seems to have calmed it down a bit.<br><br>Here's what I did, in a somewhat approximate order.<br>1) Uninstalled every single XCode that's on here..<br>"sudo /Developer/Library/uninstall-devtools –mode=all"<br>That removed the main bit, then I deleted the Developer_old, and Developer_beta, and other bits and pieces.<br>This inexplicably managed to free up over 20Gb of HD space.  To be frank, that scared the bejesus out of me!<br><br>*Restart*<br><br>2) Install 4.2.1 from AppStore<br><br>*Restart*<br><br>Rebuild modules, test a compile, same issue.<br><br>3) Installed 4.3 from dev-site<br>Restart, rebuild, same.<br><br>4) At this point I kinda lapsed a bit, and basically threw in whatever I could find..<br>"sudo ln -s /usr/bin/gcc /usr/bin/gcc-4.2" and "sudo ln -s /usr/bin/g++ /usr/bin/g++-4.2" from a topic on here.  I didn't think that'd do it, since I didn't actually have a "Can't rebuild modules" issue.  But hey, worth a try, right?<br><br>I also switched the compiler to not "Build GUI App"..<br>Now I'm not 100,000% convinced that this is what's fixed it, on account of that's a really odd thing to have fixed it, but that IS the last thing I tried!<br><br>Compile : Worked..<br>Switched the "Build GUI App" back.. Still worked.<br>Odd, quirky, and I'm pretty sure it must've been something earlier on, but I was half asleep and kinda thwacking the thing at that point, in the hopes that something would magically work.<br><br>Seems to have magically worked..<br><br>I'm guessing it was those two sudo lines, though.<br><br>Just for good measure, I tested an old compile, and sure enough the new apps "just run" whereas the old compiled apps still do the 3-ways-to-break thing..  So it's definitely a case of Compiler break, as opposed to being something on the system breaking the app after-compile.<br><br>If it helps, at all, this is a compiled testy thing from before the inexplicable fix.<br><a href="http://socoder.net/uploads/1/CrashingLikeAPro.zip" target="_blank">Print "My Giraffe is Hiding"</a><br>I'm not sure you can figure anything out from that, but there it is anyway.<br>Be warned : If it does "Crash #2", it does take a while!<br><br>Now to leave it for a few hours, hope it still works later, and then retry iOS compiling and hope that's not all stuffed up, too!<br><br>Thanks, Mark! (for both the fixes, and the whole Blitz wonderland in the first place!) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
