<!DOCTYPE html><html lang="en" ><head ><title >Graphics Windows are non-centred on Mac</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Graphics Windows are non-centred on Mac</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Graphics Windows are non-centred on Mac</a><br><br>
<a name="820261"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> hi, if you run this:<br><br><pre class=code>
Strict
'Graphics 800,600,32 'full-screen
'EndGraphics
Graphics 800,600,0 'windowed

While Not KeyHit(key_escape)
Cls
Flip
Wend
</pre><br>You'll see that the graphics window is centred horizontally and place near the top of the desktop.  Fine.  I'm wondering if the is Mac OSX doing the centreing and not BMax because on Windows PCs the Graphics window is NOT centred. <br><br>BUT if you uncomment the Graphics 800,600,32 which starts the app in full-screen mode first and also uncomment End Graphics, you'll notice that the final graphics window is drawn in the bottom left of the desktop instead of being centred, weird.<br><br>The mini-code above is supposed to simulate having a game that starts in full-screen then the user switches to windowed mode.  They will expect the windowed mode to appear centred and not in a funny location.<br><br>I don't want to use MaxGUI for this so is there a fix/enhancement that can be applied to the code which creates a graphics window to centre it? Even a flag for centreing would be very useful as on PCs I have to "manually" centre it after it's created with an API call.  Perhaps there's a MacOSX equivalent? <br><br>Many thanks in advance for your help with this. <br><br></td></tr></table><br>
<a name="821968"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can't reproduce.<br><br>Here, the windowed mode window always appears 'up a bit' from center, which is what the Mac does when you call 'center' on a window. <br><br></td></tr></table><br>
<a name="821983"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Thanks for testing.  Mark, you did uncomment those two lines did you?  That's when the window is shown non-centred.<br><br>Can anyone else reproduce this on OSX 10.4? <br><br></td></tr></table><br>
<a name="821989"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> On Intel Leopard, if I attempt the full screen version above (ie uncomment graphics &amp; end graphics and comment the windowed graphics call) I get an unhandled exception: attempt to field or method of null object.<br><br>If I then comment out the end-graphics line, then no exception is raised and the fullscreen placement seems correct.<br><br>If I uncomment all lines then windowed version works ok. Window is slightly high vertically but centred horizontally. <br><br></td></tr></table><br>
<a name="821991"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi David.  Ah, you need to uncomment graphics (full screen) and end graphics and LEAVE the windowed graphics call in like this:<br><br><pre class=code>
Strict
Graphics 800,600,32 'full-screen
EndGraphics
Graphics 800,600,0 'windowed

While Not KeyHit(key_escape)
Cls
Flip
Wend
</pre><br>This is to simulate a user starting a game in full-screen mode and later on changing to windowed mode on an options page. (Which you can do in my framework and it exhibits the same behaviour).<br><br>The reason you got an unhandled exception is after EndGraphics there is NO current graphics object and then Cls (and Flip) will fail of course :-) <br><br></td></tr></table><br>
<a name="822001"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >DavidDC</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah I see. Guess who's never used max in fullscreen? : ) <br><br>Anyway, with all lines uncommented in Leopard the window is centred, slightly high.<br><br>-David <br><br></td></tr></table><br>
<a name="822070"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> How odd, as in 10.4 (on my Macbook Pro) it is NOT centred. <br><br></td></tr></table><br>
<a name="822075"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Yan</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> There isn't some windows management setting that you've enabled, is there?<br><br>I was having similar problems with centred windows in Linux,  until I realised I'd enabled intelligent window alignment in the desktop manager. <br><br></td></tr></table><br>
<a name="822081"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> I haven't changed any of the Mac settings as I'm such a Mac noob.  Basically a Blitz app that STARTS in windowed mode is centred near the top, but one that starts full screen then CHANGES to windowed mode is not centred... <br><br></td></tr></table><br>
<a name="822105"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JazzieB</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'll have to check to be sure, but I'm fairly certain that my games (when started in full-screen) end up in the top-left corner and not at the bottom!  Games started windowed are just high of centre. <br><br></td></tr></table><br>
<a name="822118"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Ok, I can get it to happen on 10.4 but not on 10.5.<br><br>Sticking a 'PollSystem' after EndGraphics appears to fix it - Looks like the OS thinks it's still in 800x600 mode when centering the new window. <br><br></td></tr></table><br>
<a name="822123"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> Great thanks Mark, will test this workaround ASAP!  I trust that PollSystem has no ill effects on 10.5.<br><br>[Edit]Yep it worked in 10.4, thanks. <br><br></td></tr></table><br>
<a name="822736"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >BlackSp1der</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> here's my fix. XD<br>Graphics 800,600,0<br>EndGraphics<br>Graphics 800,600,32<br>.<br>.<br>.<br>EndGraphics<br>Graphics 800,600,0 'centered <br><br></td></tr></table><br>
<a name="822779"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> haha :-)  But it will make a messy window appear for a fraction of second right at the start of a full-screen game. <br><br></td></tr></table><br>
<a name="828824"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grisu</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Same goes for the windows version. <br><br></td></tr></table><br>
<a name="839414"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >QuickSilva</td><td align="right"><font class=tiny>(Posted 2008)</font>&nbsp;<a href="#16">[#16]</a></td></tr></table></td></tr><tr ><td class="posttext"> It would be a nice addition to be able to create a centered window. Will this feature be added in a future version?<br><br>Jason. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
