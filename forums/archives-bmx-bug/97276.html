<!DOCTYPE html><html lang="en" ><head ><title >Blitz Max not working with new Lion/Xcode</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitz Max not working with new Lion/Xcode</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Blitz Max not working with new Lion/Xcode</a><br><br>
<a name="1128941"></a>

<a name="1128942"></a>

<a name="1128943"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Have you ever had a week where everything you tried to do failed? I'm having one of those. Anyway, I have a brand new version of Lion 10.7.3, not an upgrade, a brand new install of Xcode 4.3, again not an upgrade, and a brand new install of BlitzMax 1.46. When I attempt to build modules I get the following output -<br><pre class=code>Building Modules
Compiling:blitz_app.c
sh: gcc: command not found
Build Error: failed to compile /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c
Process complete</pre><br>What am I doing wrong?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1128956"></a>

<a name="1128957"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ok, apparently Xcode doesn't ship with gcc anymore. I had to run the Xcode app and from the menu select Preferences&gt;Downloads&gt;Components&gt;Command Line Tools&gt;Install. This removed the above error, but now I get the following errors when I build modules.<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Building Modules
Compiling:blitz_app.c
In file included from /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:2:
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:5:19: error: stdio.h: No such file or directory
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:6:20: error: stdlib.h: No such file or directory
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:7:20: error: string.h: No such file or directory
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:8:19: error: ctype.h: No such file or directory
In file included from /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:20,
                 from /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:2:
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:32:21: error: pthread.h: No such file or directory
In file included from /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz.h:20,
                 from /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:2:
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:33: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'bb_mutex_t'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:34: error: expected '=', ',', ';', 'asm' or '__attribute__' before '_bb_mutexattr'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:45:28: error: mach/semaphore.h: No such file or directory
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:46:23: error: mach/task.h: No such file or directory
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:47: error: expected '=', ',', ';', 'asm' or '__attribute__' before 'bb_sem_t'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:92: error: expected specifier-qualifier-list before 'pthread_t'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_thread.h:124: error: expected '=', ',', ';', 'asm' or '__attribute__' before '_bbLock'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: In function 'bbWriteStdout':
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:24: error: 'stdout' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:24: error: (Each undeclared identifier is reported only once
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:24: error: for each function it appears in.)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: In function 'bbWriteStderr':
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:31: error: 'stderr' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: In function 'bbReadStdin':
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:45: error: 'stdin' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:66:39: error: CoreServices/CoreServices.h: No such file or directory
In file included from /usr/llvm-gcc-4.2/bin/../lib/gcc/i686-apple-darwin11/4.2.1/include/limits.h:15,
                 from /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:68:
/Applications/Xcode.app/Contents/Developer/usr/llvm-gcc-4.2/lib/gcc/i686-apple-darwin11/4.2.1/include/limits.h:15:25: error: no include path in which to search for limits.h
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:69:20: error: unistd.h: No such file or directory
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: At top level:
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:72: error: expected '=', ',', ';', 'asm' or '__attribute__' before '_mainThread'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: In function 'startup':
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:75: error: '_mainThread' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: In function 'bbMilliSecs':
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:85: error: 'UnsignedWide' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:85: error: expected ';' before 'uw'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:86: error: 'uw' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: In function 'bbIsMainThread':
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:93: error: '_mainThread' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c: In function 'bbStartup':
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:296: error: 'CFURLRef' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:296: error: expected ';' before 'url'
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:297: error: 'PATH_MAX' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:311: error: 'url' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:312: error: 'true' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:312: error: 'UInt8' undeclared (first use in this function)
/Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c:312: error: expected expression before ')' token
Build Error: failed to compile /Applications/BlitzMax/mod/brl.mod/blitz.mod/blitz_app.c
Process complete</textarea><br>Surely BlitzMax has been tested on an out-of-the-box Lion/Xcode setup before?! What am I doing wrong?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1128978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've tested with fresh installs of BlitzMax v1.43, 1.44, 145, and 1.46 all with the same error. I'm guessing it has something to do with Lion/Xcode 4.3. If I try to build an app without building the modules I get -<br><pre class=code>Building fireworks
Compiling:fireworks.bmx
Linking:fireworks.debug
ld: library not found for -lcrt1.o
collect2: ld returned 1 exit status
Build Error: Failed to link /Applications/BlitzMax/samples/simonh/fireworks/fireworks.debug.app/Contents/MacOS/fireworks.debug
Process complete</pre> <br><br></td></tr></table><br>
<a name="1129013"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jkrankie</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <a href="http://tech.chickenandporn.com/2011/10/28/xcode-4-2-gcc-cannot-find-lcrt1-10-6-0-o/" target="_blank">http://tech.chickenandporn.com/2011/10/28/xcode-4-2-gcc-cannot-find-lcrt1-10-6-0-o/</a><br><br>Cheers<br>Charlie <br><br></td></tr></table><br>
<a name="1129020"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the end I installed Xcode 4.2.1 and everything worked first time. I've wasted too much time on this already so gonna leave it at that. <br><br></td></tr></table><br>
<a name="1130852"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> I believe the problem is as of 4.3 XCode now includes all the compiler tools internally. There is a seperate package to install the command line tools but this doesn't seem to connect up with the right SDK (I think blitzmax needs the 10.6 sdk which seems to be dropped in 4.3+). The command line tools say that you can use compiler commands included in Xcode itself from the command line in a round about way which presumably blitzmax should be updated for otherwise new mac users are going to be totally boned... I suspect this still doesn't resolve the possible SDK issue however... <br><br></td></tr></table><br>
<a name="1131021"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Here's how I got bmax working under lion, post Xcode 4.3 from <a href="/posts.php?topic=97374#1131020" target="_blank">my other thread on the subject</a> reposted here in the hopes it will be useful to someone in need.<br><br><div class="quote"> <br>I got it working. It's a bit of a cluster-explitive but here's the skinny:<br><br>Assuming you're running lion, need to use Xcode 4.3.1 (assuming you're doing iOS dev otherwise probably easier to just not use it for now...) and need to use BlitzMax (you're on the forum so that's a pretty safe assumption).<br><br>1) Install Xcode 4.3.1 from the app store. Run it, configure it, make sure it's working.<br>2) Go to Apple Developer Downloads and download Xcode 4.2.1 installer.<br>3) Install Xcode from the 4.2.1 installer disc.<br>4) Here's where it gets silly... that installer you just installed? that installed an app called "Xcode Installer" in your applications folder... Run THAT and it will actually install Xcode 4.2.1.<br>5) Run BlitzMax and ensure things are compiling (YAY! BlitzMax works)<br>6) Run Xcode 4.3.1, it may require you to install some iOS connection tools again because 4.2.1 overwrote them with older version. This is JUST iOS stuff, it won't break blitzmax.<br>7) Clean house. Remove Xcode 4.2.1 from your dock so you don't accidentally get it confused with 4.3.1. Delete the Xcode installer app from your applications folder (it's huge, why waste the space). Toss the Xcode installer-installer disc image.<br>9) Boggle at the concept of a disc image with an installer that installs an app thats an installer to install what the disc image should have installed.<br> <br></div> <br><br></td></tr></table><br>
<a name="1131362"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is fixed for me in BlitzMax v1.47 so you can bug bin this thread. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
