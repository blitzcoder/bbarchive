<!DOCTYPE html><html lang="en" ><head ><title >MaxGUI bug</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >MaxGUI bug</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=118" >MaxGUI Bug Reports</a>/<a href="#bottom" >MaxGUI bug</a><br><br>
<a name="1094444"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> <pre class=code>Import maxgui.drivers

Local sharedwindow:TGadget=CreateWindow("Shared context",0,0,400,300,Null,WINDOW_HIDDEN)
Local sharedcanvas:TGadget=CreateCanvas(0,0,sharedwindow.ClientWidth(),sharedwindow.ClientHeight(),sharedwindow)
SetGraphics CanvasGraphics(sharedcanvas)
End</pre><br><br>Output:<br><div class="quote"> Building untitled1<br>Compiling:untitled1.bmx<br>Linking:untitled1.debug<br>Executing:untitled1.debug<br>2011-07-01 15:55:58.780 untitled1.debug[59186:60b] invalid drawable<br><br>Process complete <br></div> <br><br></td></tr></table><br>
<a name="1094452"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >AdamRedwoods</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Maybe you already have tried this, but you do need to still define the Graphics driver.<br><pre class=code>
SetGraphicsDriver (GLMax2DDriver(),GRAPHICS_ALPHABUFFER|GRAPHICS_BACKBUFFER|GRAPHICS_ACCUMBUFFER)
</pre><br><br><br>Or you could just use GadgetPixmaps, and not bother with drawing to any canvases. <br><br></td></tr></table><br>
<a name="1094458"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> The correct behavior will be for CanvasGraphics to return null when canvas is not visible.<br><br>WIll look into it. <br><br></td></tr></table><br>
<a name="1094539"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >JoshK</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There are three changes you could make to MaxGUI that would help me and anyone using Leadwerks Engine and MaxGUI.<br><br>1. Create contexts on hidden canvases.  When creating the editor window, for example, I create a hidden window, build the GUI up, then show the window.<br><br>2.  When SetGraphics() is called, make the graphics driver always set the OpenGL context, instead of checking to see if the context is already the current one.  This is because other OpenGL contexts not controlled by BMX might be switched to, and this will make sure the context gets switched back.<br><br>3.  Don't initialize a graphics context until CanvasGraphics() is called the first time.  The user might want to create a canvas, and then let Leadwerks initialize the OpenGL context on it.  If an OpenGL context has already been created on the canvas, a new one cannot be initialized. <br><br></td></tr></table><br>
<a name="1261785"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Tricky</td><td align="right"><font class=tiny>(Posted 2015)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Sorry for bumping an old thread. (Yeah 3 years is long) I ended up here for googling the site because I had a similar problem and I was looking for a solution which I could not find here, but I could find one myself, and if anybody else searches the forum they can find my solution for this problem.<br><br>For me the trick was to make sure the CanvasGraphics() was not called until the very first time an "EVENT_GADGETPAINT" was generated. After that happened for the first time, it didn't matter any more if another EVENT_GADGETPAINT was generated or not as the system would do this anyway. At least it did for me.<br><br><div class="quote"> Or you could just use GadgetPixmaps, and not bother with drawing to any canvases.  <br></div><br>That would work indeed if I only wanted to put in a logo in my app or something, but I got this problem while setting up a new map editor for my next project and then GadgetPixmaps do not appear to be the solution, or are they? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
