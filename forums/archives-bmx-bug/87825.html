<!DOCTYPE html><html lang="en" ><head ><title >Blitzmax 1.35 - DX9 freezes</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Blitzmax 1.35 - DX9 freezes</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Blitzmax 1.35 - DX9 freezes</a><br><br>
<a name="996257"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I was just testing out <a href="/posts.php?topic=87270" target="_blank">this</a> in the new 1.35.<br><br>Here's the code again:<pre class=code>Graphics 800,600

While Not AppTerminate()
	PollEvent()
	If CurrentEvent.id = event_appresume
		DebugLog "appresume!"
	EndIf
	Cls
	DrawText MilliSecs(),10,10
	Flip True
Wend</pre><br><br>I haven't got it to crash yet, but, when I press CTRL+ALT+DEL, then return to desktop (by pressing ESC, cancel, Task Manager, whatever), the game window is frozen as if the render target has been lost although the code seems to still be executing. <br><br></td></tr></table><br>
<a name="996274"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >degac</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Cant' reproduce it.<br>It seems to work as expected: Debuglog "Appresume" everytime I 'click' on the window, ALT+TAB works, Exit/enter from/in Taskmanager is ok, show desktop is ok, moving/closing the bmax windows is ok. <br><br></td></tr></table><br>
<a name="996306"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've just tested on my laptop (Intel GMA965), and it works fine on that.<br><br>The problem specs are as follows:<br>Athlon64 X2 5000+, 2GB RAM, 512MB Nvidia 8500GT (latest drivers as of last week), Windows 7. <br><br></td></tr></table><br>
<a name="996417"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested on my rig and it freezes the "game", but if I minimise the "game" and maximise it again it resumes...<br><br>My rig:<br><br>i7 920, 6GB, 896MB Nvidia GeForce GTX 275, Windows 7 64bit. <br><br></td></tr></table><br>
<a name="996418"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Just tested on my rig and it freezes the "game", but if I minimise the "game" and maximise it again it resumes... <br></div>That's odd.  I didn't try that here - been a lil poorly today and I'm on my laptop now but I'll give it a go tomorrow.<br><br>Did you find that events were still firing as expected, just the screen stopped redrawing? <br><br></td></tr></table><br>
<a name="996419"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yep, the events still fired correctly.<br><br>Heres what I did at first (I didnt run it in debug mode):<br><br><a href="http://www.youtube.com/watch?v=w8yrFEKnLtw" target="_blank">http://www.youtube.com/watch?v=w8yrFEKnLtw</a><br><br>Just trying out camstudio and youtube for the first time.... CamStudio didnt record the Ctrl Alt Delete Screen (?).... <br><br></td></tr></table><br>
<a name="996420"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's pretty much it, yep.<br><br>I was looking over some testplans from Oberon Media I think a few days ago, and the ability to 'survive' CTRL+ALT+DEL is in there, so I guess most if not all the casual portals would check for it too.<br><br>Can anybody else test this - especially Nvidia users but really, anybody that's got two minutes to kill. <br><br></td></tr></table><br>
<a name="996422"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested it with all the available drivers:<br><br>DX7 - Crash DXERROR err=UNKNOWN:-2147467259 16389<br>DX9 - The Freeze we are talking about<br>OpenGL - No problems <br><br></td></tr></table><br>
<a name="996426"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> There's already a thread about the DX7 thing and it happens in XP, Vista and Windows 7, and on Nvidia and Intel hardware. <br><br></td></tr></table><br>
<a name="996428"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah I know, you've been raving about that one for a while now ;-)<br><br>Just thought I would add some more results.... <br><br></td></tr></table><br>
<a name="996572"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Ked</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested this. All drivers work as they should. Even the Dx7 one. :) <br><br></td></tr></table><br>
<a name="996725"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Grey Alien</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've seen DX7 crash on Win 7 too after Ctrl+Alt+Del (on Holiday Bonus) but it was intermittent - everyone's favourite type of bug.  Most of the time it seemed pretty good, so I was hoping that if any portals retest the game e.g. Oberon, it worked on their test! <br><br></td></tr></table><br>
<a name="996978"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> I've seen DX7 crash on Win 7 too after Ctrl+Alt+Del (on Holiday Bonus) but it was intermittent <br></div>The biggest worry was that it does it on XP [and Vista] too.<br><br>Anyhoo, DX9....<br><br>Haven't been well recently and only just got around to testing this some more.  I've just finished updating my game to work with 1.35 and everything works nicely, except for this.<br><br>After ctrl+alt+del, everything looks OK except the screen is not being redrawn any more.  I can hear the rollover sound effects on my GUI as I move the mouse around, so the program *is* still running.... it just doesn't draw the screen any more.<br><br>Minimising the window, then restoring it, puts things back to normal but I can't expect customers to know/do that.  They'll just think its crashed.<br><br>Even worse - if I CTRL+ALT+DEL from my game while its running full-screen, I end up with a view of the top left 800x600 corner of my desktop and I'm unable to get the game back by any means whatsoever.  The only way out is to kill the task manually, at which point the desktop returns to normal.<br><br>Please tell me this is an easy fix? <br><br></td></tr></table><br>
<a name="997363"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >therevills</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> Just tested on 1.35rc5.... looks good! :)<br><br>Go get it Gfk! <br><br></td></tr></table><br>
<a name="997372"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#15">[#15]</a></td></tr></table></td></tr><tr ><td class="posttext"> Works perfectly now!  Thanks for the fix!! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
