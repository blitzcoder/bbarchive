<!DOCTYPE html><html lang="en" ><head ><title >CreateGraphics() weirdness</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >CreateGraphics() weirdness</h1><a href="forums.php" >BlitzMax Forums</a>/<a href="topics.php?forum=102" >BlitzMax Programming</a>/<a href="#bottom" >CreateGraphics() weirdness</a><br><br>
<a name="1000759"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> In the following code, the second :TGraphics object will always be Null:<br><pre class=code>
Local win:TGraphics = CreateGraphics(1280,720,0,60,0)
Local full:TGraphics = CreateGraphics(1280,720,32,60,0) 'The second one will always be Null!

If win
	SetGraphics(win)
	Cls
	DrawText("windowed mode",0,0)
	Flip
	Delay(3000)
	CloseGraphics(win)
EndIf
If full
	SetGraphics(full)
	Cls
	DrawText("fullscreen mode",0,0)
	Flip
	Delay(3000)
EndIf
</pre><br>In the code above, win will work fine but full will fail. If you reverse the order of the first two lines then full will work and win will fail. Perhaps I'm not quite understanding what CreateGraphics does, but my understanding was that it didn't actually establish any graphics modes until you use it with SetGraphics().<br>And, yes, these modes are both available on my computer (they both work individually just fine).<br><br>Any ideas?<br><br>Russell<br>[EDIT: BTW, I had to use Delay(3000) because even when the gfx mode is established (the one that's not Null) the keyboard polling doesn't seem to work...]<br>[EDIT2: I'm using BMX 1.33 pentium 4 2.6GHz 1.5GB GForce 8400GS 512MB] <br><br></td></tr></table><br>
<a name="1000760"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>Fullscreen graphics are 'exclusive' - there can only be one and you can't create a windowed graphics if a fullscreen graphics already exists (and vice versa).<br><br>We tried getting this to work so that the display mode switch occured when you did the SetGraphics, but couldn't get it happening due to driver weirdness and other factors. <br><br></td></tr></table><br>
<a name="1000916"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, that's too bad. It would be nice to have various modes pre-prepared that you could switch between with SetGraphics(). So this begs the question, what is the intended purpose of CreateGraphics()/SetGraphics() then?<br><br>I know I've done this before, though I think I just used EndGraphics and issued another Graphics() with the new resolution.<br><br>Anyway, thanks for the reply, Mark.<br><br>Russell <br><br></td></tr></table><br>
<a name="1000920"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Russell</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> You know, I was sitting here thinking how not actually setting the graphics mode until SetGraphics() is encountered could be a problem and I can't think of one! I mean, the TGraphics object is just storing information about a <i>potential</i> future graphics mode. How could this cause problems? (I know that TGraphics also has other functionality, but they wouldn't be called in this case, would they?)<br><br>Just curious..<br><br>Keep up the good work!<br><br>Russell <br><br></td></tr></table><br>
<a name="1001018"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >plash</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> We tried getting this to work so that the display mode switch occured when you did the SetGraphics, but couldn't get it happening due to driver weirdness and other factors. <br></div>I bet it wouldn't be too hard to do with just OpenGL if you ditch the DirectX drivers ;) <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
