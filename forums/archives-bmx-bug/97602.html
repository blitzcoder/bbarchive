<!DOCTYPE html><html lang="en" ><head ><title >BlitzMax can't read Cyrillic.</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BlitzMax can't read Cyrillic.</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >BlitzMax can't read Cyrillic.</a><br><br>
<a name="1135050"></a>

<a name="1135051"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> If a file/folder has Cyrillic characters in it's path then BlitzMax doesn't appear to be able to read/write from/to it.<br><br>This wouldn't really be an issue except if the users windows username has Cyrillic characters in it then I'm not able to read/write any files/folders from %APPDATA%, 'my documents', etc.<br><br>Apparently there are a lot of gamers who have Cryllic characters in there names/usernames.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1135593"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Is there no official response on this? I have a lot of Russian/Eastern European customers which this issue affects. I guess I'll have to go with a workaround. <br><br></td></tr></table><br>
<a name="1135595"></a>

<a name="1135596"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I have just tested BlitzMax commands with a file and directory named<br><br>&amp;#1041;&amp;#1077;&amp;#1079;&amp;#1099;&amp;#1084;&amp;#1103;&amp;#1085;&amp;#1085;&amp;#1099;&amp;#1081;2<br><br>[edit] well bb.com is not so unicode friendly...<br><br>and found no problems under Windows.<br><br>What commands are you using to fetch these directory names?<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1135605"></a>

<a name="1135634"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also, are you using a recent version of Blitzmax?<br><br>Some of the earlier releases did NOT support unicode, but at some point in the past that supposedly got fixed.<br><br>(Note: according to versions.txt, it appears that a bunch of unicode fixes were part of the blitzmax 1.33, with some additional tweaks in 1.34)<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1135655"></a>

<a name="1135656"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> The file functions fail silently so no error is given, and even report success when they fail. I am using the latest version of BlitzMax.<br><br>First create a folder called "¬¡¬£¬¤¬¥¬Ø©ø". You can put it anywhere, I put it in the document folder.<br><b>EDIT</b> Hmm it seems the forum can't understand Cyrillic either. Just use character mapper to make a cyrillic folder.<br><br>Then run the following code<br><pre class=code>
Local test:String
RequestDir(test)

Print RealPath(test)
Print FileType(RealPath(test))

Local test2:String=test+"/test.txt"
Print CreateFile(test2)
</pre><br><br>Use the dir requester to select your new cyrillic folder. FileType says the folder exists, and CreateFile says the file was created, but looking in windows explorer shows nothing actually happened.<br><br>This isn't just a problem with Cyrillic, I've had it repoted with other non-standard characters too.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1135685"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> That code works fine on a cyrillic dir (after prepending "test=" to line 2). <br><br></td></tr></table><br>
<a name="1135701"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, yes sorry. I messed up the example code. I'll try and post something showing the problem I am having more accurately when I can get on my Windows machine. But my game does fail to create files when the players username has cyrillic in it. I can create a folder in %APPDATA% but then can't create files within that folder. Maybe I'm doing something that corrupts the cyrillic in between. Ill investigate further. <br><br></td></tr></table><br>
<a name="1135901"></a>

<a name="1135902"></a>

<a name="1135903"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Oops, double post.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="1135904"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Oddball</td><td align="right"><font class=tiny>(Posted 2012)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> It seems I was premature in blaming BlitzMax. My excuse is that I'm tired and stressed this week. The problem appears to stem from Brucey's libxml module. It converts the filename to a C string, which I think causes the problem.<br><br><pre class=code>Import bah.persistence

Type Bar
	Field foobar:Int
End Type

Local Foo:Bar=New Bar

Local test:String=RequestDir("test")

Print RealPath(test)
Print FileType(RealPath(test))

Local test2:String=test+"/foobar.xml"
New TPersist.SerializeToFile Foo,test2</pre><br><br>I'm going to go with a workaround. Thanks Simon for pointing me in the correct direction.<br><br><font class="tiny">Last edited 2012</font> <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
