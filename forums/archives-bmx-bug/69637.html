<!DOCTYPE html><html lang="en" ><head ><title >LINUX: Switching fullscreen/windowed error</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >LINUX: Switching fullscreen/windowed error</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >LINUX: Switching fullscreen/windowed error</a><br><br>
<a name="779224"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi<br>My game runs well on linux in fullscreen or windowed mode, but there is one problem. If I try to switch from Full to Window of vice versa it randomly crashes. Sometimes I can switch 5 times back and forth without a problem, sometimes it crashes after the first switch. Here's what it printed:<br><br>Building Runes of Avalon full<br>Compiling:Runes of Avalon full.bmx<br>flat assembler  version 1.64<br>6 passes, 0.5 seconds, 603879 bytes.<br>Linking:Runes of Avalon full<br>Executing:Runes of Avalon full<br>/usr/bin/ld: warning: libstdc++.so.6, needed by /usr/lib/libGLU.so, may conflict with libstdc++.so.5<br>appstub.linux signal handler 11*** glibc detected *** /home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full: free(): invalid pointer: 0x0a0ef798 ***<br>======= Backtrace: =========<br>/lib/tls/i686/cmov/libc.so.6[0xb7bca7cd]<br>/lib/tls/i686/cmov/libc.so.6(cfree+0x90)[0xb7bcde30]<br>/usr/lib/libX11.so.6(XFree+0x1d)[0xb7ebddbd]<br>/usr/lib/libGL.so.1(__glXFreeContext+0x64)[0xb7e421d4]<br>/usr/lib/libGL.so.1[0xb7e4231b]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8102d23]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8102dd2]<br>/lib/tls/i686/cmov/libc.so.6(exit+0xe9)[0xb7b8f9d9]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8105c37]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8105b17]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x819ec4e]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full(ftell+0x118)[0x804d2c0]<br>[0xffffe420]<br>/usr/lib/dri/r200_dri.so(driDestroyTextureObject+0x49)[0xb78308f9]<br>/usr/lib/dri/r200_dri.so[0xb78441eb]<br>/usr/lib/dri/r200_dri.so(_mesa_DeleteTextures+0x26b)[0xb78c3e4b]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8183f4e]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x810857e]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x81060e3]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x81061f6]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x810854d]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8195891]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x816fb2d]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x816f339]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x81966bf]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x81964b0]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x815d139]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8160368]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x815fb97]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x8131c4e]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x812ac9d]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x810a2fc]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x81095a9]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full[0x804d385]<br>/lib/tls/i686/cmov/libc.so.6(__libc_start_main+0xdc)[0xb7b78ebc]<br>/home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full(ftell+0x49)[0x804d1f1]<br>======= Memory map: ========<br>08048000-081bf000 r-xp 00000000 16:41 2771592    /home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full<br>081bf000-081e6000 rwxp 00177000 16:41 2771592    /home/roman/BlitzMax118_Linux/RunesOfAvalonLinux/Runes of Avalon full<br>081e6000-0c18d000 rwxp 081e6000 00:00 0          [heap]<br>a71ef000-aa48e000 rwxp a71ef000 00:00 0 <br>aa598000-aa699000 rwxp aa598000 00:00 0 <br>aa827000-aae2a000 rwxp aa827000 00:00 0 <br>ab02c000-ab42d000 rwxp ab02c000 00:00 0 <br>ab48f000-ab8db000 rwxp ab48f000 00:00 0 <br>ab988000-aba35000 rwxp ab988000 00:00 0 <br>abae2000-abb96000 rwxp abae2000 00:00 0 <br>abc4a000-abcf5000 rwxp abc4a000 00:00 0 <br>abda0000-abe07000 rwxp abda0000 00:00 0 <br>abe6f000-abef4000 rwxp abe6f000 00:00 0 <br>abf7a000-ac039000 rwxp abf7a000 00:00 0 <br>ac05e000-ac153000 rwxp ac05e000 00:00 0 <br>ac1ae000-ac203000 rwxp ac1ae000 00:00 0 <br>ac259000-ac32f000 rwxp ac259000 00:00 0 <br>ac405000-ac565000 rwxp ac405000 00:00 0 <br>ac5ab000-ac5ef000 rwxp ac5ab000 00:00 0 <br>ac5f5000-ac6c5000 rwxp ac5f5000 00:00 0 <br>ac6c6000-ac740000 rwxp ac6c6000 00:00 0 <br>ac7bb000-ac866000 rwxp ac7bb000 00:00 0 <br>ac868000-ac99b000 rwxp ac868000 00:00 0 <br>ac9aa000-acab0000 rwxp ac9aa000 00:00 0 <br>acb3b000-acd10000 rwxp acb3b000 00:00 0 <br>acd34000-acdc8000 rwxp acd34000 00:00 0 <br>ace5d000-ad1a5000 rwxp ace5d000 00:00 0 <br>ad1c8000-ad281000 rwxp ad1c8000 00:00 0 <br>ad33a000-ad5e7000 rwxp ad33a000 00:00 0 <br>ad5ed000-ad6e9000 rwxp ad5ed000 00:00 0 <br>ad6ea000-ad720000 rwxp ad6ea000 00:00 0 <br>ad720000-ad721000 ---p ad720000 00:00 0 <br>ad721000-adf21000 rwxp ad721000 00:00 0 <br>adf57000-ae358000 rwxp adf57000 00:00 0 <br>ae3bb000-ae758000 rwxp ae3bb000 00:00 0 <br>ae759000-ae8b9000 rwxp ae759000 00:00 0 <br>ae8b9000-ae8c0000 r-xp 00000000 16:41 2016794    /usr/lib/libXrender.so.1.3.0<br>ae8c0000-ae8c1000 rwxp 00006000 16:41 2016794    /usr/lib/libXrender.so.1.3.0<br>ae8c1000-ae8c9000 r-xp 00000000 16:41 2016764    /usr/lib/libXcursor.so.1.0.2<br>ae8c9000-ae8ca000 rwxp 00007000 16:41 2016764    /usr/lib/libXcursor.so.1.0.2<br>ae8d4000-aedf2000 rwxp ae8d4000 00:00 0 <br>aef00000-aef21000 rwxp aef00000 00:00 0 <br>aef21000-af000000 ---p aef21000 00:00 0 <br>af0c2000-af5a2000 rwxs e0302000 00:0d 16442      /dev/dri/card0<br>af5a2000-af7a2000 rwxs e0102000 00:0d 16442      /dev/dri/card0<br>af7a2000-af7b2000 r-xs e5000000 00:0d 16442      /dev/dri/card0<br>af7b2000-b77b2000 rwxs d0000000 00:0d 16442      /dev/dri/card0<br>b77b2000-b77d0000 r-xp 00000000 16:41 2016953    /usr/lib/libexpat.so.1.0.0<br>b77d0000-b77d2000 rwxp 0001d000 16:41 2016953    /usr/lib/libexpat.so.1.0.0<br>b77d2000-b7a12000 r-xp 00000000 16:41 2018106    /usr/lib/dri/r200_dri.so<br>b7a12000-b7a22000 rwxp 00240000 16:41 2018106    /usr/lib/dri/r200_dri.so<br>b7a22000-b7a49000 rwxp b7a22000 00:00 0 <br>b7a49000-b7a54000 r-xp 00000000 16:41 1212480    /lib/libgcc_s.so.1<br>b7a54000-b7a55000 rwxp 0000a000 16:41 1212480    /lib/libgcc_s.so.1<br>b7a55000-b7b34000 r-xp 00000000 16:41 2017448    /usr/lib/libstdc++.so.6.0.8<br>b7b34000-b7b37000 r-xp 000de000 16:41 2017448    /usr/lib/libstdc++.so.6.0.8<br>b7b37000-b7b39000 rwxp 000e1000 16:41 2017448    /usr/lib/libstdc++.so.6.0.8<br>b7b39000-b7b3f000 rwxp b7b39000 00:00 0 <br>b7b3f000-b7b47000 r-xp 00000000 16:41 2016917    /usr/lib/libdrm.so.2.3.0<br>b7b47000-b7b48000 rwxp 00008000 16:41 2016917    /usr/lib/libdrm.so.2.3.0<br>b7b48000-b7b49000 rwxp b7b48000 00:00 0 <br>b7b49000-b7b56000 r-xp 00000000 16:41 2016772    /usr/lib/libXext.so.6.4.0<br>b7b56000-b7b57000 rwxp 0000d000 16:41 2016772    /usr/lib/libXext.so.6.4.0<br>b7b57000-b7b5b000 r-xp 00000000 16:41 2016768    /usr/lib/libXdmcp.so.6.0.0<br>b7b5b000-b7b5c000 rwxp 00003000 16:41 2016768    /usr/lib/libXdmcp.so.6.0.0<br>b7b5c000-b7b5e000 r-xp 00000000 16:41 2016757    /usr/lib/libXau.so.6.0.0<br>b7b5e000-b7b5f000 rwxp 00001000 16:41 2016757    /usr/lib/libXau.so.6.0.0<br>b7b5f000-b7b61000 r-xp 00000000 16:41 1215722    /lib/tls/i686/cmov/libdl-2.5.so<br>b7b61000-b7b63000 rwxp 00001000 16:41 1215722    /lib/tls/i686/cmov/libdl-2.5.so<br>b7b63000-b7c9e000 r-xp 00000000 16:41 1215716    /lib/tls/i686/cmov/libc-2.5.so<br>b7c9e000-b7c9f000 r-xp 0013b000 16:41 1215716    /lib/tls/i686/cmov/libc-2.5.so<br>b7c9f000-b7ca1000 rwxp 0013c000 16:41 1215716    /lib/tls/i686/cmov/libc-2.5.so<br>b7ca1000-b7ca4000 rwxp b7ca1000 00:00 0 <br>b7ca4000-b7cb7000 r-xp 00000000 16:41 1215742    /lib/tls/i686/cmov/libpthread-2.5.so<br>b7cb7000-b7cb9000 rwxp 00013000 16:41 1215742    /lib/tls/i686/cmov/libpthread-2.5.so<br>b7cb9000-b7cbc000 rwxp b7cb9000 00:00 0 <br>b7cbc000-b7ce1000 r-xp 00000000 16:41 1215724    /lib/tls/i686/cmov/libm-2.5.so<br>b7ce1000-b7ce3000 rwxp 00024000 16:41 1215724    /lib/tls/i686/cmov/libm-2.5.so<br>b7ce3000-b7d93000 r-xp 00000000 16:41 2017446    /usr/lib/libstdc++.so.5.0.7<br>b7d93000-b7d98000 rwxp 000af000 16:41 2017446    /usr/lib/libstdc++.so.5.0.7<br>b7d98000-b7d9d000 rwxp b7d98000 00:00 0 <br>b7d9d000-b7da1000 r-xp 00000000 16:41 2016808    /usr/lib/libXxf86vm.so.1.0.0<br>b7da1000-b7da2000 rwxp 00003000 16:41 2016808    /usr/lib/libXxf86vm.so.1.0.0<br>b7da2000-b7e21000 r-xp 00000000 16:41 2016724    /usr/lib/libGLU.so.1.3.060502<br>b7e21000-b7e22000 rwxp 0007e000 16:41 2016724    /usr/lib/libGLU.so.1.3.060502<br>b7e22000-b7e7f000 r-xp 00000000 16:41 2016720    /usr/lib/libGL.so.1.2<br>b7e7f000-b7e81000 rwxp 0005d000 16:41 2016720    /usr/lib/libGL.so.1.2<br>b7e81000-b7e82000 rwxp b7e81000 00:00 0 <br>b7e82000-b7f6f000 r-xp 00000000 16:41 2016751    /usr/lib/libX11.so.6.2.0<br>b7f6f000-b7f73000 rwxp 000ed000 16:41 2016751    /usr/lib/libX11.so.6.2.0<br>b7f73000-b7f74000 rwxp b7f73000 00:00 0 <br>b7f76000-b7f7a000 r-xp 00000000 16:41 2016774    /usr/lib/libXfixes.so.3.1.0<br>b7f7a000-b7f7b000 rwxp 00003000 16:41 2016774    /usr/lib/libXfixes.so.3.1.0<br>b7f7b000-b7f7c000 r-xs e0101000 00:0d 16442      /dev/dri/card0<br>b7f7c000-b7f7e000 rwxs f8bf6000 00:0d 16442      /dev/dri/card0<br>b7f7e000-b7f7f000 rwxp b7f7e000 00:00 0 <br>b7f7f000-b7f98000 r-xp 00000000 16:41 1212437    /lib/ld-2.5.so<br>b7f98000-b7f9a000 rwxp 00019000 16:41 1212437    /lib/ld-2.5.so<br>bfceb000-bfd00000 rwxp bfceb000 00:00 0          [stack]<br>ffffe000-fffff000 r-xp 00000000 00:00 0          [vdso]<br>Aborted (core dumped)<br><br>Process complete <br><br></td></tr></table><br>
<a name="779381"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Can you post a small demo that causes the crash? <br><br></td></tr></table><br>
<a name="780711"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >anawiki</td><td align="right"><font class=tiny>(Posted 2007)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Well, it's not little demo... but it replicates the crash:<br><a href="http://www.anawiki.com/download/runes_of_avalon.php?os=linux" target="_blank">http://www.anawiki.com/download/runes_of_avalon.php?os=linux</a><br><br>(25MB)<br><br>The problem is really strange. When nagscreen popups and you click quit debugger shows error on "end" command (appstub 11 which means no graphics initialized).<br><br>best<br>Roman <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
