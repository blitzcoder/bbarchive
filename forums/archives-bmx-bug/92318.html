<!DOCTYPE html><html lang="en" ><head ><title >Inconsistent FPS</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Inconsistent FPS</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Inconsistent FPS</a><br><br>
<a name="1051516"></a>

<a name="1051517"></a>

<a name="1051518"></a>

<a name="1051519"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Angus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm developing on an eeePC901 running WinXP SP3 with the latest version of BlitzMax.<br><br>When I run this code:<br><br><pre class=code>SuperStrict

SetGraphicsDriver(GLMax2DDriver())

Graphics(640,480,32,60,GRAPHICS_BACKBUFFER)

Local sms:Int=MilliSecs()
Local fps:Float=0
Local frms:Int=0

Repeat
    
    frms:+1
    fps=Float(frms)/(Float(MilliSecs()-sms)/1000.0)
    GLDrawText("FPS:"+String(fps),10,10)
    Flip(-1)
    glClear(GL_COLOR_BUFFER_BIT)
    
Until KeyDown(KEY_ESCAPE)

EndGraphics
End</pre><br><br>I sometimes get 60fps and sometimes about 450fps, which is what I would expect (and indeed get) with Flip(0)<br><br>When I say Flip(1) I get similar results.  This seems even odder as I'm sure that the eeePC only supports a 60hz refresh rate.<br><br>My Graphics Properties Information thing tells me I have a Mobile Intel(R) 945 Express Chipset.<br><br>I'm using this machine out of necessity, but the game I'm writing should run nicely on the hardware anyway.  Is this chipset a known liability?  Or what's going on!?<br><br>My game code itself behaved similarly.  Though wierdly, and annoyingly, it seems to have settled into doing it wrong.<br><br>I know I should write delta time stuff but I really want that arcade smoothness and non-teariness.<br><br>I've run it dozens of times to convince myself that I'm not mad.<br><br><font class="tiny">Last edited 2010</font><br><br><font class="tiny">Last edited 2010</font><br><br><font class="tiny">Last edited 2010</font> <br><br></td></tr></table><br>
<a name="1051527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Angus</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Also!<br><br>I get the same effect using the Max2DDriver or the GLGraphicsDriver.<br><br>I'm using GLGraphicsDriver in my game and need to for some of my effects.  I don't need any of the Max2D commands.<br><br>Without setting the graphics driver, it goes to 60.  I take it it's running DX by default?  Would much rather use OpenGL obviously.<br><br>Owing to the wierd way I calculate my FPS, it only tends toward the true current framerate.  Using either GL driver it either tends down to 60 or up to 450ish.  Using the DX driver, it tends up to 60 from 0!  Is this relevant? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
