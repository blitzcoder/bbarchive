<!DOCTYPE html><html lang="en" ><head ><title >Null Strings Treated As Empty Strings</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Null Strings Treated As Empty Strings</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Null Strings Treated As Empty Strings</a><br><br>
<a name="951839"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> This probably isn't a proper bug so much as it's... I guess an inconsistency.<br><br>Basically:<pre class=code>If "" = Null Then
	Print "This"
EndIf

Local s:String = ""
If s = Null Then
	Print "should"
EndIf

If s = "" Then
	Print "not"
EndIf

s = Null
If s.Length = 0 Then
	Print "work"
EndIf
</pre><br>I noticed this sort of behavior was causing some code I started writing to explode with exceptions when it tests for Null strings being passed around.  This is mostly because I make a distinction between Null and an empty string.  An empty string doesn't have content, but it's an instance of a string.  Null is not an instance- or, in the case of BMax, it's a really special instance, but it's not a string and it doesn't have a class.  Apparently empty strings are special instances too, but an empty string shouldn't equate to Null, ever, as far as I'm concerned.<br><br>A brief example.  This doesn't compile:<br><pre class=code>If Null.Length = 0 Then
	Print "And this is why"
EndIf</pre><br>You know why?  Because Null isn't a string!<br><br>But this does.<br><pre class=code>If String(Null).Length = 0 Then
	Print "And this is why"
EndIf</pre><br>So apparently Null is a string, you just have to downcast it.<br><br>So, I'm  putting this up as a bug because this really should not work. <br><br></td></tr></table><br>
<a name="951860"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> That's how it works, and I think should work. A Null String is an empty String. Checking for length=0 is the same as checking =Null. Casting any non-string object to String gives you an empty String. <br><br></td></tr></table><br>
<a name="951863"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> I'm with Nilium on this one.  Null isn't anything.  Its not an empty string, its not zero.  Its Null. <br><br></td></tr></table><br>
<a name="951873"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >N</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> That's how it works, and I think should work. A Null String is an empty String. Checking for length=0 is the same as checking =Null. Casting any non-string object to String gives you an empty String.  <br></div>The way I see it is this: Null is nothing - it cannot be an accessible instance of something.  An empty string is an instance of a string with no contents - it might be empty, but it's still an instance.  It has instance variables and it has a buffer, albeit an empty buffer (and possibly NULL in that case, be that as it may, but it's not a Null string, it's just an empty string).<br><br>A variable can be null when it doesn't point to an instance of an object.  Null should be nothing, inaccessible - accessing it should produce an exception at a minimum, and probably take down your application at the worst.  Equating Null to an empty string strikes me as ambiguity that isn't needed and only makes it more difficult to determine the value of something. <br><br></td></tr></table><br>
<a name="951877"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Otus</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Yeah, well, here's what the docs say:<br><div class="quote"> Null returns 0, an empty string, an empty array, the null object or a pointer to 0 depending on context. <br></div> <br><br></td></tr></table><br>
<a name="958166"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hi,<br><br>&gt; Null returns 0, an empty string, an empty array, the null object or a pointer to 0 depending on context.<br><br>That about says it all...<br><br>In the case of strings especially, I don't like the idea of an exception causing 'nothing' string - this largely negates the usefulness of strings being immutable, 'value style' objects.<br><br>&gt; Null is nothing<br><br>Then what can you do with it? Can you assign it to anything? Compare it with anything? What is it's type?<br><br>The idea of 'nothing' makes a certain amount of sense in an interpreted language like, say, Lua, where variables may or may not exist (if they don't exist, then they can truly said to be 'nothing' or 'nil' in Lua speak - assigning 'nil' to a var in Lua effectively deletes it) but less in a compiled language where variables definitely do or do not exist. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
