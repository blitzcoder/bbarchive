<!DOCTYPE html><html lang="en" ><head ><title >Wrong precedence</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Wrong precedence</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Wrong precedence</a><br><br>
<a name="1119516"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >holzchopf.ch</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> The <a href="http://en.wikipedia.org/wiki/Order_of_operations" target="_blank">precedence (a.k.a order of operations)</a> is something we all learned and we are all very well used to. That's why we make use of it whenever it allows us to save some brackets.<br><br>But beware! BlitzMax seems to mess up something here.<br><br>Example:<br>Mathematically, these to terms are exactly the same:<br>-1*(-10)^2<br>-(-10)^2<br>We have (in both cases): ten, negative, which we square, which again we then have to multiply by minus one. The multiplication by -1 is (in both cases) the last operation that must be executed - also by, but not limited to, the definition found on wikipedia. So, without further calculations, it is possible to say that the result will be negative, since the preceding squaring turns pretty much everything into positive numbers.<br><br>Now look how BlitzMax follows those rules:<br><pre class=code>Print (-1*(-10)^2) +" "+ (-(-10)^2)</pre><br><br>As you can see, the negation, when using -(-10), is applied before squaring, which (to get to the point), just cost me some f***ing nerves. Seriously, I think this should be fixed. Mathematics is *very* often used in programming, so it would be really nice if you could at least rely on standards there.<br><br>Greetings and so <br><br></td></tr></table><br>
<a name="1119523"></a>

<a name="1119524"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> They Should give different results<br><br>(-(-10)) is a unary operation NOT a subtraction and a multiplication.<br>I was going to provide a link to this , BUT imagine my surprise that the page you posted to support your statement is exactly the same one I was going to post against it.<br><br>So please read your own link. notably the bit helpfully titled "Programming languages"<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119527"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In that Wikipedia article the Programming Languages section makes it clear that there really is no standard, as does the Gaps in the Standard section.<br><br>The BlitzMax precedence table is not part of the online manual so I can't link to it. It is in the Expressions section of the Language Reference. Here is a "link":<br><br>(YourBlitzMaxFolder)/docs/html/Language/Expressions/index.html<br><br>As someone with a mathematical education I think the BlitzMax precedence is  wrong in some cases and -x^2 should evaluate as -(x^2). It also gives And the same precedence as Or, when And should have higher precedence. So these are all wrong, meaning they differ from what I expect.<br><br>But BlitzMax is behaving correctly in that it follows its own documented rules. It was released in 2005 and the precedence table is not going to change now.<br><br>By the way, it also associates exponentiation incorrectly, evaluating a^b^c as (a^b)^c rather than a^(b^c). <br><br></td></tr></table><br>
<a name="1119529"></a>

<a name="1119535"></a>

<a name="1119536"></a>

<a name="1119537"></a>

<a name="1119538"></a>

<a name="1119540"></a>

<a name="1119541"></a>

<a name="1119542"></a>

<a name="1119543"></a>

<a name="1119544"></a>

<a name="1119545"></a>

<a name="1119546"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> @Floyd So -10^2 should be -100?<br><br>Well I agree with you, shame the OP is talking about (-(-10)^2).<br>(I agree in that written down I would expect that. Meaning when I see -10 superscript 2 I think of -(10^2), but when I see -10^2 I think of (-10)^2. Possible because my maths background is engineering?)<br><br>Hes talking about the unity operators in general, whereas you are talking about a specific common problem of expressing -ten squared as opposed to minus(10 squared). <br><br>Both his examples are -ten squared, he is saying that -1*(-x)^2 is the same as -(-x)^2 and is only using squared to show it isn't by sign<br><br><div class="quote"> Many programming languages use precedence levels that conform to the order commonly used in mathematics, though some, such as APL and Smalltalk, have no operator precedence rules (in APL evaluation is strictly right to left, in Smalltalk it's strictly left to right).<br>The logical bitwise operators in C (and all programming languages that borrowed precedence rules from C, for example, C++, Perl and PHP) have a precedence level that the creator of the C language considers to be unsatisfactory.[4] However, many programmers have become accustomed to this order. The relative precedence levels of operators found in many C-style languages are as follows: <br></div>I would say this isn't saying there is no standard, but that some languages don't use it<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119548"></a>

<a name="1119549"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >holzchopf.ch</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> Ah, thanks. I didn't think about the unary operator. Well, i somehow did, but I expected the unary operator only to apply to numerals, not to expressions like (-10). But yeah, of course, the BlitzMax documentation makes it clear and I see that BMax is following it's rules (which, I guess, it inherited from C).<br><br>By the way: Despite your mathematical education; in our school, the solution to -10^2 was considered to be -100. Always. No exceptions. Valid for all schools and courses I visited - but surprisingly some math teachers told us that there exist universities, where '-10' is considered as a value and therefore -10^2 results in 100. I never believed that. But by looking at your "mathematical education" statements I begin to believe for once, what those teachers told me. Maybe you are both mathematical educated, but simply not within the meaning of the same standard. Sounds plausible.<br><br>=edit=<br>shame on you, H&amp;K. My last paragraph doesn't make sense anymore since you edited your post =(<br><br><font class="tiny">Last edited 2011</font> <br><br></td></tr></table><br>
<a name="1119551"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> lol the last edit was 14Mins before your post ;) <br><br></td></tr></table><br>
<a name="1119553"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Floyd</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> My reading of this bug report was that something is wrong with the precedence of unary minus. But the example obscured the real problem.<br><pre class=code>Print (-1*(-10)^2) +" "+ (-(-10)^2)</pre>This compares -1*x^2 with -x^2 where x has the value -10.<br><br>BlitzMax precedence, highest to lowest, is unary minus then exponentiation then multiplication.<br><br>-1*x^2 is evaluated as (-1)*(x^2) which is -1 * 100 = -100<br><br>-x^2 is evaluated as (-x) ^ 2 which is (--10) ^ 2 = 100<br><br>If the relative precedence of unary minus and exponentiation is reversed they both yield -100, as I would expect.<br><br>This is the problem mentioned in the Gaps in the Standard part of the article. The C/C++ style table in the Programming Languages section is not enlightening because they use a function call for exponentiation rather than an operator. <br><br></td></tr></table><br>
<a name="1119557"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> If the relative precedence of unary minus and exponentiation is reversed they both yield -100, as I would expect. <br></div>But as Holz pointed out he was told at school that some Universities treat -10^2 the way you dont, so at the very least Bodmas sufferers from the same lack of standard that computer languages do.<br><br>The thing is we have both probably been programming long enough to know to bracket when in doubt.<br><br>Re. A^B^C Lol, unless we are working on rings rather than fields that's a very academic correction ;) <br><br></td></tr></table><br>
<a name="1119582"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >holzchopf.ch</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> Honestly, I first thought this "bug" - or let's call it behavior - was new, because I never realized that sort of operation doing not what I expected before. And I use gaussian functions very often. (Yeah, that's what I did, i tried to implement<br><img src="http://upload.wikimedia.org/wikipedia/en/math/8/c/3/8c3e77573f039f9b881e9fc910c47bef.png"><br><br>I went through most of my old codes to see what I did then. And the terms were always of the form<br><pre class=code>dx=c*(x-b)
y=a*Exp(-dx*dx)</pre><br>I guess that explains a lot... ;) <br><br></td></tr></table><br>
<a name="1119584"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >H&amp;K</td><td align="right"><font class=tiny>(Posted 2011)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> Re. A^B^C Lol, unless we are working on rings rather than fields that's a very academic correction ;)  <br></div>This post snippet by me is totally wrong I can see what he posted, but cut and pasted it thinking it said something else. Pardons to anyone whose time machine failed due to this. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
