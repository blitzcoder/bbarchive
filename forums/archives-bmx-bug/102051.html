<!DOCTYPE html><html lang="en" ><head ><title >the hertz parameter of the graphics command</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >the hertz parameter of the graphics command</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >the hertz parameter of the graphics command</a><br><br>
<a name="1215800"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> I don't know if it is considered a bug but on full screen mode this parameter has no influence about the fps (it is locked to 60).<br><br>on windword mode it works fine.<br><br>my os is windows 8.1.<br><br>I wonder if other users of blitz max has the same problem ? <br><br></td></tr></table><br>
<a name="1215821"></a>

<a name="1215822"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >marksibly</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> hertz is just a 'hint' - it used to be more useful back in the CRT days, but these days with LCDs pretty much everything is 60hz. <br><br></td></tr></table><br>
<a name="1215867"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you for replying.<br><br>it is true that a good game should set it's objects speed logically with code so on faster machines the graphic objects will make more movements steps but every step will be shorter distance on every second while on slower machines the graphic objects will make less movements steps but every step will be longer distance on every second.<br><br>it is true that on this pro approach the hertz parameter has no important <br>since we design the game for every possible hertz machine and not just for ours machine hertz.<br><br>still this hertz feature can be useful when it works fine on two cases:<br>1. testing.<br>    after you finish game you want to check it on faster machines and on <br>    slower machines to see how it works and this can be achieved with <br>    no need to leave your computer by changing the hertz parameter.<br>2. sometimes on simple games it is better approach to limit the hertz so   <br>    faster machines will not run the game too fast. <br><br></td></tr></table><br>
<a name="1215875"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >GfK</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hertz parameter is the monitor refresh rate. It is nothing to do with code execution speed and is no use whatsoever in either of the situations you're suggesting it's used for. <br><br></td></tr></table><br>
<a name="1215881"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> I thought like you until I ran the 'Refreshrate and Delta Time' example from the 'Beginners guide to BlitzMax' by wave  and also made some tests based on this example.<br><br>sorry but I think you wrong here.<br><br>it is true that the hertz parameter has the limitation of the native monitor refresh rate from above and it is true that the native monitor refresh rate is usually 60 on lcd and laptops screens but it is not true that the hertz parameter is the monitor refresh rate.<br><br>the hertz parameter when it works (for me it works only on windowed mode) sets the amount of steps the computer run every second on graphics mode or at simplify words it is the execution speed at graphics mode.<br><br>it is true that this parameter is only a hint because if yours hardware<br>is too week it may run on lower fps on  average (the fps is not always constant from many reasons) but from above  perspective this parameter when it works limit the maximum fps so a more powerful machine wont be able to run the game at fps that is higher then the parameter even it has the ability to do so. <br><br></td></tr></table><br>
<a name="1215890"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >xlsior</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#6">[#6]</a></td></tr></table></td></tr><tr ><td class="posttext"> <div class="quote"> the hertz parameter when it works (for me it works only on windowed mode) sets the amount of steps the computer run every second on graphics mode or at simplify words it is the execution speed at graphics mode. <br></div><br><br>Gfk is right: in full screen, it sets the monitor refresh rate, which is what that flag is supposed to do.<br><br>In windowed mode the overall screen refreshrate is controlled by the windows desktop and not your application, which is why it behaves differently there. <br><br></td></tr></table><br>
<a name="1215893"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#7">[#7]</a></td></tr></table></td></tr><tr ><td class="posttext"> sorry but I think you wrong here.<br><br>maybe if you play a little with the 'Refreshrate and Delta Time' example from the 'Beginners guide to BlitzMax' by wave as I did you understand <br>what I am talking about.<br><br>this example demonstrates very well how to save the logical speed of a game when the hertz(fps) is change because we change it manually through the graphics command hertz parameter or because the machine running the game is weaker then the developer machine and therefore perform on lower hertz(fps) but the reason is not really important here.<br><br>the only problem I faced with this example is that on my computer the actual fps displayed on screen is not moving from 60fps even if I change the hertz parameter.<br>the issue is solved when I move to windowed state. <br><br></td></tr></table><br>
<a name="1215910"></a>

<a name="1215911"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Derron</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#8">[#8]</a></td></tr></table></td></tr><tr ><td class="posttext"> Think yossi refers to this:<br><br>mod/brl.mod/graphics/graphics.bmx<br><pre class=code>
Rem
bbdoc: Flip current graphics object
about:
#Flip swap the front and back buffers of the current graphics objects.

If @sync is 0, then the flip occurs as soon as possible. If @sync is 1, then the flip occurs
on the next vertical blank.

If @sync is -1 and the current graphics object was created with the #Graphics command,
then flips will occur at the graphics object's refresh rate, unless the graphics object was 
created with a refresh rate of 0 in which case flip occurs immediately.

If @sync is -1 and the current graphics object was NOT created with the #Graphics command,
then the flip will occur on the next vertical blank.
End Rem
Function Graphics:TGraphics( width,height,depth=0,hertz=60,flags=0 )
...
</pre><br><br><br>See that it just depends on how you create your "local g:TGraphics".<br><br>I also remember to have seen this getting used in a sample somewhere (different TGraphics-Creation). And I also interpret this similar to yossi.<br><br>flip -1<br>-&gt; could be vsynced - or synced to a manual given refreshrate - which would limit the framerate too with the benefit of using less ressources.<br><br><br><br>bye<br>Ron <br><br></td></tr></table><br>
<a name="1215919"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#9">[#9]</a></td></tr></table></td></tr><tr ><td class="posttext"> thank you Ron but it is not what I meant.<br><br>anyway I find a solution:<br>before the game start i calculate the actual fps of the computer that run the game (i count the steps on graphics mode in one second).<br><br>if the actual fps is bigger then the normal (60) i use delay to slow the game to get normal feeling of 60.<br><br>if the actual fps is lower then the normal(60) i use a delta time technic <br>to make the graphic objects to move larger distance every step and by that i save on constant game speed (the game will run less smooth and with some leg feeling but still can be playable because the speed of the game is logically preserved). <br><br></td></tr></table><br>
<a name="1215926"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John G</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#10">[#10]</a></td></tr></table></td></tr><tr ><td class="posttext"> On my PC when full-screen resolution is set to 1366x768, the refresh is always about 75 fps -- not 60 fps as with all other resolutions. <br><br></td></tr></table><br>
<a name="1215966"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#11">[#11]</a></td></tr></table></td></tr><tr ><td class="posttext"> hello John G<br><br>when I talk about actual fps I talk about the general capability of a computer (the operational speed on graphic mode) and that is the only parameter I check to decide if I should delay the game or advance the moving distance of the objects on each step.<br><br>for that specific purpose I don't really care about the resolution.<br><br>on a case like you when the actual fps is 75 I will create delay on code  since I develop on 60 and for me it is the base mode (I want to prevent a situation when my game is running too fast on your computer).<br><br>it is important to preserve the same speed of the game on all computers that might run the game. <br><br></td></tr></table><br>
<a name="1216073"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >John G</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#12">[#12]</a></td></tr></table></td></tr><tr ><td class="posttext"> I've never gotten all these fps constraints/options figured out.  If the hardware vertical sync is 75 and you delay to 60, won't the screen jitter?  Thanks. <br><br></td></tr></table><br>
<a name="1216102"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#13">[#13]</a></td></tr></table></td></tr><tr ><td class="posttext"> no jitter.<br>on 60 you get a speed of 1/60 steps per second.<br>on 75 you get a speed of 1/75 steps per second.<br>so we get delay(1/60-1/75) after every step.<br>this is the performance distance for one step between 75 and 60.<br>if you put this delay after flip you get on 75 the same performance as 60. <br><br></td></tr></table><br>
<a name="1216120"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >yossi</td><td align="right"><font class=tiny>(Posted 2014)</font>&nbsp;<a href="#14">[#14]</a></td></tr></table></td></tr><tr ><td class="posttext"> I made a mistake on previous post.<br>the speed is on terms of time per step and not steps per second and by time I mean milliseconds so it should be delay(1/60*1000-1/75*1000). <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
