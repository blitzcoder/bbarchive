<!DOCTYPE html><html lang="en" ><head ><title >BMX 1.39 on Mac hangs!</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >BMX 1.39 on Mac hangs!</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >BMX 1.39 on Mac hangs!</a><br><br>
<a name="1023924"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello!<br><br>Just a first note: after installing BMX 1.39 (on a MacBook Pro running Mac OS X 10.5.8) and modifying a previously (i.e. under BMX 1.38) running MT application (by updating trylockmutex and removing my own workaround for the "glDeleteTextures" bug) this application simply "hangs" occuping both cores of the internal CPU.<br><br>I have not yet tried to isolate the problem (because I urgently need to finish my program) and went back to 1.38 - thus, it might even be my own problem! <br><br></td></tr></table><br>
<a name="1023934"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >ima747</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> I think it's likely to be a hold over from your workarounds, and probably specifically a result of trylockmutex working instead of just passing through like it used to. I've had no problems with MT since switching on 10.6.3 on my mini, haven't done any extensive testing but my workarounds were also fairly minor and my MT support fairly limited so there wasn't much that I needed to correct in my project.<br><br>Check that your locks are going in the right order... I had a similar problem previously where I was locking 2 mutexes out of order and it would cause a hang. I would lock mutex 1 then 2 on main thread, and a child would lock 2 then 1, so if they fired at a bad time main would block child (child waiting for 1) and child would block main (main waiting for 2). <br><br></td></tr></table><br>
<a name="1023955"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Rozek</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello!<br><br>I guess the major problem (perhaps the only one?) was that BMX 1.39 still does not contain the fix from <a href="http://www.blitzmax.com/Community/posts.php?topic=88462#1006351" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=88462#1006351</a> which allows to use the debugger from within MT programs - after applying that fix again, the program did not hang any longer!<br><br>Mark: is it possible to include the fix mentioned above? I guess, that other people would also like to use debuglog et al. from within MT programs! <br><br></td></tr></table><br>
<a name="1023982"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Who was John Galt?</td><td align="right"><font class=tiny>(Posted 2010)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> +1 for this fix! <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
