<!DOCTYPE html><html lang="en" ><head ><title >Small image distortion</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Small image distortion</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=105" >BlitzMax Bug Reports</a>/<a href="#bottom" >Small image distortion</a><br><br>
<a name="984792"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drackbolt</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> Hello there,<br>I've noticed three things about using small images (small as in, 5x5, 4x6 pixels, etc) in Blitzmax.  I need to use these little guys because my game is very much a retro design and I don't have enough screen real-estate to over-size them.  I use the D3D7Max2D framework (the problems with OpenGL are much worse).  I'm listing all three problems here because I'm guessing they're related.<br><br>The first is that some of these images will not display properly if they are in square dimensions.  An image at 4x6 might display fine, but one at 5x5 will cut off an entire column of pixels on the right.  This occurs on almost all video cards.<br><br>The second is that some video cards can't display small images properly at all.  This usually seems to happen with integrated video cards.  The images might have columns or rows shifted and generally are so mangled (sometimes as if they've been scaled badly) they can't be read.<br><br>The last problem is that some images on certain operating systems get shifted one pixel.  For instance, I use 10x10 bitmaps for numbers on moving counters, and on an XP computer it displays in the right place, but on a Window 7 computer it displays the images just out of place.  If I correct my code to fix one, the problem just happens in the other OS.<br><br>Any thoughts?  Is this just something to live with?  If no one else has seen these issues, I'll try to get some custom code worked up.  Unfortunately most of these sporadic and computer-dependent so it may be hard to replicate. <br><br></td></tr></table><br>
<a name="984811"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> It is caused by the way BlitzMax handles images internally.  When you load a 5x5 pic, BlitzMax loads it as a 8x8 (power of 2 sizes).  Then when it is drawn, it gets scaled.<br><br>See this thread:<br><br><a href="http://www.blitzmax.com/Community/posts.php?topic=85478#969578" target="_blank">http://www.blitzmax.com/Community/posts.php?topic=85478#969578</a><br><br>for when I noticed this a couple months ago. The DrawImageArea function solves the problem. <br><br></td></tr></table><br>
<a name="984815"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >Drackbolt</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> Awesome!  I didn't even know about DrawImageArea.  I'll try it out right away.  Although, since there must be a speed hit, I think I might just reformat all my images to account for the power-of-2 sizing you mentioned instead, and just leave blank space on the outsides.  Thanks a lot for the explanation. <br><br></td></tr></table><br>
<a name="984853"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >TaskMaster</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> There isn't really much of a speed hit for using this function, as it is doing almost the exact same thing the built in BlitzMax commands do. <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
