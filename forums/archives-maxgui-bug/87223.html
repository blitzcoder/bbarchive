<!DOCTYPE html><html lang="en" ><head ><title >Dual Monitors and GadgetWidth(Desktop())...</title><meta name='viewport' content='width=device-width, initial-scale=0.66'><meta name='description' content='language:basic, target:desktop, category:game development'><link rel="styleSheet" href="../skins/granite/style.css" type="text/css"><style type="text/css">div.bbcode {padding: 8px;background: #E5E5E5;color: #000000;border: 1px dashed #B4B4BE;}</style></head><body ><table width=100% cellspacing=0 cellpadding=0><tr ><td class="menubarleft"></td><td class="menubar"><table cellspacing="0" cellpadding="0"><tr ><td >&nbsp;</td><td class="menuitemleft"></td><td class="menuitem"><a href="/" class="menuitem">News</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/forums.php" class="menuitem">Forums</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/codearcs.php" class="menuitem">Code</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/logs.php" class="menuitem">Logs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/gallery.php" class="menuitem">Gallery</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/sdkspecs.php" class="menuitem">Specs</a></td><td class="menuitemright"></td><td class="menuitemleft"></td><td class="menuitem"><a href="/search.php" class="menuitem">Search</a></td><td class="menuitemright"></td></tr></table></td><td class="menubarright"></td></tr></table><div class="main"><h1 >Dual Monitors and GadgetWidth(Desktop())...</h1><a href="forums.php" >Archives Forums</a>/<a href="topics.php?forum=118" >MaxGUI Bug Reports</a>/<a href="#bottom" >Dual Monitors and GadgetWidth(Desktop())...</a><br><br>
<a name="988433"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#1">[#1]</a></td></tr></table></td></tr><tr ><td class="posttext"> MaxGui 1.34 does not calculate correctly the ClientWidth(Desktop()) or GadgetWidth(Desktop())... when using dual monitors.<br><br>Checkout this thread:<br><a href="http://www.blitzbasic.com/Community/posts.php?topic=87185" target="_blank">http://www.blitzbasic.com/Community/posts.php?topic=87185</a><br><br>Here the test code again from TheHand to do a quick test:<br><textarea class=codebox name="code" wrap=OFF readonly="true" rows="15" cols="80">Strict

Import MaxGui.Drivers

Local bpchold:Int=0
Local mywindow:TGadget=CreateWindow("Look below",200,200,370,500,Null,WINDOW_TITLEBAR | WINDOW_RESIZABLE)
Local texthold:TGadget=CreateTextArea(15,15,330,330,mywindow,TEXTAREA_WORDWRAP | TEXTAREA_READONLY)
SetGadgetText(texthold,("GadgetWidth() returns:~n"+GadgetWidth(Desktop())+"~nGadgetHeight() returns:~n"+GadgetHeight(Desktop())+"~n------------------------------~nDesktop().width returns:~n"+Desktop().width+"~nDesktop().height returns:~n"+Desktop().height+"~n------------------------------~nClientWidth(Desktop()) returns:~n"+ClientWidth(Desktop())+"~nClientHeight(Desktop()) returns:~n"+ClientHeight(Desktop())+"~n------------------------------~nGadgetX(mywindow) returns: "+GadgetX(mywindow)+"~nGadgetY(mywindow) returns: "+GadgetY(mywindow)+"~n~n------------------------------------------------------------~nPush the button below To check the resolution again.~n~n~nNumber of times button has been pressed: "+bpchold))
Local thebutton:TGadget=CreateButton("Poosh Bootun",135,400,100,50,mywindow,BUTTON_OK)
PollEvent()

While (WaitEvent()&lt;&gt;EVENT_WINDOWCLOSE)
If (CurrentEvent.id=EVENT_GADGETACTION And CurrentEvent.source=thebutton)
	bpchold:+1
	SetGadgetText(texthold,("GadgetWidth() returns:~n"+GadgetWidth(Desktop())+"~nGadgetHeight() returns:~n"+GadgetHeight(Desktop())+"~n------------------------------~nDesktop().width returns:~n"+Desktop().width+"~nDesktop().height returns:~n"+Desktop().height+"~n------------------------------~nClientWidth(Desktop()) returns:~n"+ClientWidth(Desktop())+"~nClientHeight(Desktop()) returns:~n"+ClientHeight(Desktop())+"~n------------------------------~nGadgetX(mywindow) returns: "+GadgetX(mywindow)+"~nGadgetY(mywindow) returns: "+GadgetY(mywindow)+"~n~n------------------------------------------------------------~nPush the button below To check the resolution again.~n~n~nNumber of times button has been pressed: "+bpchold))
EndIf
PollEvent()
Wend
</textarea> <br><br></td></tr></table><br>
<a name="988440"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >skidracer</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#2">[#2]</a></td></tr></table></td></tr><tr ><td class="posttext"> Enumerating of monitors is coming. <br><br>The current behavior is that the desktop gadget is equivalent to primary monitor.<br><br>Sorry to be dumb, but is this a bug or a request for change in behavior? I realize undocumented behavior is still a shortcoming of certain areas of MaxGUI. <br><br></td></tr></table><br>
<a name="988446"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#3">[#3]</a></td></tr></table></td></tr><tr ><td class="posttext"> In older versions the behavior was different thus i would call it a bug.<br>The ClientWidth(Desktop())/ClientHeight... was refering to the primary display only and the GadgetWidth(Desktop()) was returning the complete size. <br><br></td></tr></table><br>
<a name="988641"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >theHand</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#4">[#4]</a></td></tr></table></td></tr><tr ><td class="posttext"> This is a very low priority bug, however, as GadgetX() and GadgetY() do return the correct values (on Windows).<br>To all those reading [this on a Mac] with a multiple monitor setup, please test the code above on the second (or third, any after the primary) screen to check that it reports back the correct values (values greater than the dimensions of your current screen).<br>If it does, then this bug should go right above the nitpicky things in the list [of bugs], like the radius for curves of the "corners" of windows, and alpha transparency for windows (not the operating system Windows; lowercase meant to refer to windows across platforms). <br><br></td></tr></table><br>
<a name="988650"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td class="posthead"><table width=100% cellspacing=0 cellpadding=0><tr ><td >jsp</td><td align="right"><font class=tiny>(Posted 2009)</font>&nbsp;<a href="#5">[#5]</a></td></tr></table></td></tr><tr ><td class="posttext"> It's probably not the most important bug, but when you need the info for your initialization code it could be a problem. The GadgetX() and GadgetY() is only available afterwards and I am not sure if that is secure.<br><br>Enumerating of monitors will do the trick perfectly. Waiting for that new feature.<br>But as we are changing the old behavior what will be the new one?<br>When I could enumerate the monitors the client area could be the real area without taskbar and the gadget area the full size? <br><br></td></tr></table><br>
<a name="bottom"></a>
<table width=100% cellspacing=0 cellpadding=0><tr ><td align="right"><a href="http://monkeycoder.co.nz" target="_blank"><img src="/img/monkey2.svg" ></a> <a href="https://github.com/blitz-research" target="_blank"><img src="/img/github.svg" ></a> <a href="https://discord.gg/qJccbSp" target="_blank"><img src="/img/discord.svg" ></a></td></tr></table><br></div><br><table width="100%"><tr><td></body></html lang="en">
